!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("crypto")):"function"==typeof define&&define.amd?define(["crypto"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["jessibuca-multi"]=e(t.crypto$1)}(this,(function(t){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=s(t);const n=a;function o(){const t=["1amLmyN","285314AjvJFf","957tehRlH","27fiUsLv","2740495BuAApA","off","keys","892120oIMpyc","4BgKOtV","ctx","882897GZKvBs","158780iPWfld","push","811164amdPpY","once","1426740OIVeHe","length","apply","forEach"];return(o=function(){return t})()}function a(t,e){const s=o();return(a=function(t,e){return s[t-=350]})(t,e)}!function(t,e){const s=a,i=t();for(;;)try{if(278474===parseInt(s(355))/1*(parseInt(s(356))/2)+-parseInt(s(365))/3*(parseInt(s(363))/4)+-parseInt(s(359))/5+parseInt(s(368))/6+-parseInt(s(351))/7+parseInt(s(362))/8*(-parseInt(s(358))/9)+-parseInt(s(366))/10*(-parseInt(s(357))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(o);class h{on(t,e,s){const i=a,r=this.e||(this.e={});return(r[t]||(r[t]=[]))[i(367)]({fn:e,ctx:s}),this}[n(350)](t,e,s){const i=this;function r(){const n=a;i[n(360)](t,r);for(var o=arguments[n(352)],h=new Array(o),l=0;l<o;l++)h[l]=arguments[l];e[n(353)](s,h)}return r._=e,this.on(t,r,s)}emit(t){const e=n,s=((this.e||(this.e={}))[t]||[]).slice();for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(let t=0;t<s.length;t+=1)s[t].fn[e(353)](s[t][e(364)],r);return this}off(t,e){const s=n,i=this.e||(this.e={});if(!t)return Object[s(361)](i)[s(354)]((t=>{delete i[t]})),void delete this.e;const r=i[t],o=[];if(r&&e)for(let t=0,i=r[s(352)];t<i;t+=1)r[t].fn!==e&&r[t].fn._!==e&&o[s(367)](r[t]);return o[s(352)]?i[t]=o:delete i[t],this}}const l=_;!function(t,e){const s=_,i=t();for(;;)try{if(675055===-parseInt(s(406))/1*(parseInt(s(563))/2)+parseInt(s(681))/3+-parseInt(s(568))/4+parseInt(s(490))/5+parseInt(s(583))/6*(-parseInt(s(549))/7)+parseInt(s(413))/8*(parseInt(s(668))/9)+parseInt(s(772))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(k);const c={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7},d=["",l(532),l(502),l(774),l(535),l(562),l(780),"ts"],u={fetch:"fetch",hls:l(774),websocket:l(532),webrtc:l(535),webTransport:"webTransport",worker:l(435),aliyunRtc:l(780),mp4Vod:l(499),flvVod:l(814),file:l(773)},p={player:l(503),playerAudio:l(678),playbackTF:l(767),talk:l(428),playVod:l(844)},f={mp4:l(603),webm:l(819),flv:l(512),mov:l(584)},m={flv:l(512),m7s:"m7s",hls:"hls",webrtc:"webrtc",webTransport:l(562),nakedFlow:l(494),fmp4:l(690),mpeg4:l(427),aliyunRtc:"aliyunRtc",ts:"ts",g711:l(456),pcm:l(420),ps:"ps"},g={flv:l(438),m7s:l(425),hls:"HLS",fmp4:l(467),mpeg4:l(575),webrtc:l(574),webTransport:"WebTransport",nakedFlow:"裸流",aliyunRtc:"AliyunRtc",ts:"TS"},y={mse:"mse",wcs:l(893),offscreen:l(906),wasm:l(441),simd:l(886),simdFFmpeg:l(924),mt:"mt",webrtc:l(535),hls:l(774),aliyunRtc:l(780),browser:"browser"},A={canvas:l(700),video:l(806)},v={debug:l(477),warn:l(704)},b={click:l(677),mouseDownAndUp:l(602)},S={normal:l(466),simple:l(691)},w={normal:l(466),small:"small"},E={drop:l(835),accelerate:"accelerate"},T="JessibucaPro",I=l(680);function k(){const t=["playVodVideoSeekedByMse","loading","recordingTimestamp","性能面板激活","tsPacketSizeError","Decoder failure","none","decode","drop","NotAllowedError","focusNear","MediaSource解码使用canvas渲染失败","MEDIA_ERR_SRC_NOT_SUPPORTED","ended","webrtc-disconnected","performance","workerEnd","playVod","videoInfo","multiMousemove",'video/mp4; codecs="hvc1.1.6.L120.90"',"error","iframeIntervalTs","empty","1-1","videoSequenceHeader","fetchError","等待音频数据超时","mp4Error","isMulti","webrtc-closed","audioInfo","playbackPreRateChange","webcodecsAudioInitTimeout","remote-candidate","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAIAAABKoV4MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVRYhe3NIQEAMAgAsHNLAPp3JMAFDW4wW4FFVZ0l3X237qHX6/V6vV6v1+v1er1er9frP0RmLvYPXx0DlQ6vy9kAAAAASUVORK5CYII=","playback","subtitle-segments","playbackSeek","isM7sCrypto","currentPts","clickInitPlayer","flvScriptData","HEVC decoding is not supported","fetchSuccess","start","playbackStreamVideoFps","seeked","blob","请求失败","load-response-headers","MEDIA_ERR_NETWORK","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","delayTimeoutRetryEnd","videoTimeUpdate","物品识别激活","webcodecsAudioNoDataTimeout","online","Failed to send video packet for decoding","simd","playVodMseDecodeVideoError","Cannot call 'decode' on a closed codec","play","3-4","destroyEnd","fetchClose","wcs","active","videoSEISyncPts","Unsupported configuration","aiOcclusionDetectResult","isFmp4","half-hour","bufferByteLength","webgpu","load","playFailedAndPaused","Wasm","tsError","offscreen","data-channel","avc","ttfb","rtp","remove-buffer","closeEnd","kBps","playbackIsPause","webcodecs","0000000000","left","flv-script-data","widthOrHeightChangeReplayDelayTime","jbprovm","stop","playVodSeekEnd","playToRenderTimes","simdFFmpeg","webcodecsAudioDecodeError","inbound-rtp","TS流包大小异常","playVodSeek","Webgl 渲染失败","crashLog","five-min","alaw","multiDblSelected","g711a","streamAbps","right-down","apertureNear","FSimd","初始化解码worker超时","52283usVGEx","multiMouseover","togglePerformancePanel","mse","leftDown","av1","playIsNotPauseOrUrlIsNull","3429832zjomXl","videoCode","clearBuffer","MEDIA_ERR_DECODE","notConnect","点播MP4文件异常","startstreaming","pcm","base64","netBuf","webglContextLostError","NV12","M7S","首帧解码超时","mpeg4","talk","ptz","5min","4-1","#000","Unsupported audio format","white","worker","updateConfig","mp3","FLV","complete","initAudioCodec","wasm","播放超时重播失败","stream","videoWaiting","resetAudioDecode","playbackTime","mseWaitVideoCanplayTimeout",'video/mp4;codecs="hev1.4.10.L120.90"',"simdDecodeError","ws1006","image/webp","wiperOpen","playbackPause","qualitychange","MULAW","g711","widthOrHeightChange","audio packet","sourceopen","delayTimeout","webrtcIceCandidateError","sendWsMessage","multiDragenter","streamMessage","zoomNarrow","normal","FMP4","playAudio",'video/mp4;codecs="hev1.2.4.L120.90"',"audioSplitBuffer","buffering","flvDemuxBufferSizeTooLarge","initVideo","object","waiting","isNakedFlow","debug","recordCancel","playVodFps","no-audio-track","playbackShowPrecisionChange","mseSourceEndStreaming","tsPrivateData","流异常结束","jtt","removeLoadingBgImage","destroy","log","recording","5935335uGvVUH","mtStreamStats","isHls","videoElementPlayingFailedForWebrtc","nakedFlow","playVodPauseOrResume","playVodSeeking","buffereos","decoder-pro-hard-not-wasm.js","mp4Vod","webcodecsUnsupportedConfigurationError","video decoder initialization failed","fetch","player","mseSourceBufferBusy","H264(AVC)","networkDelayTimeout","人脸识别","download","message","isAliyunRtc","hlsError","flv","webglAlignmentError","downloadMemoryLog","updateForwardMaxRateDecodeIFrame","recordEnd","ghostWatermarkConfig","aliyunRtcError","connecting","mseWidthOrHeightChange","webrtcLowFps","right-up","fetchErrorWorker","mseAddSourceBufferError","aiObjectDetectorInfo","paused","mediaSourceBufferedIsZeroError","缓冲区已满","talkGetUserMediaTimeout","local-candidate","playbackTimeScroll","websocket","volume","webrtcChecking","webrtc","decoder-pro-hard.js","fullscreen","webrtcClosed","switch-url-success","关闭电子放大","遮挡物检查激活","停止录制","replayUseLastFrameShow","fogOpen","初始化音频解码器失败","init","isMpeg4","playbackRateChange","150269kylaVt","websocketStringMsg","webgl2","container","startInner","inView","multiMousedown","talkStreamError","decoderWorkerUncaughtError","webFullscreen","down","loadingTimeoutRetryEnd","pause","webTransport","38GqiOhb","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C(wasm%E5%86%85%E9%83%A8%E4%BC%9A%E6%9A%82%E5%81%9C%E8%A7%A3%E7%A0%81)%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","playType","rightUp","playVodFlvError","1740800hIbHxK","focus","decoder-pro.js","canplaythrough","wasmUseVideoRenderError","audioResumeState","Webrtc","MPEG4","delta","wasmError","initVideoCodec","I420","durationchange","resetVideoDecode","加载超时重播失败","72toFaNE","mov","sender","playbackStats","isWebrtcForSRS","点播解码器异常","decoder-pro-old.js","one-hour","videoSEI","MULAW(g711u)","certificate","webrtc-failed","playVodBufferedTime","不支持硬解码H265","talkStreamClose","aiImageDetectResult","playVodVideoSeekingByMse","aacSequenceHeader","global","mouseDownAndUp","mp4","streamError","wasmDecodeError","playVodTime","MEDIA_ERR_ABORTED","hls-manifest-loaded","AbortError","mediaSourceTsIsMaxDiff","media-source","webgl","电子放大","playVodTimeCache","aiFaceDetectorInfo","sendMessage","Decoding error","stats","simdH264DecodeVideoWidthIsTooLarge","jbprov","硬解码不支持G711a/u音频格式","tallWebsocketClosedByError","decoderWorkerInitError","timeout","videoFrame","memory access out of bounds","请求结束","websocketOpen","wasm解码失败","zooming",'video/mp4; codecs="avc1.64002A"',"/crypto/","worklet","isWebrtc","progress","multiMouseup","streamEnd","loadstart","webrtcConnected","playbackEnd","sei-in-time","点播FLV文件异常","oneHour","resize","outbound-rtp","heartTimeout","defaultStreamQuality","play() failed because the user didn't interact with the document first","right","tempStream","networkDelay","点播MP4文件格式异常","buffer","loadeddata","mediaSourceH265NotSupport","isWebrtcForOthers","fiStop","receiver","apertureFar","webrtcOnIceConnectionStateChange","recordBlob","#FFCC00","controlSize","mseSourceClose","tenMin","播放地址不能为空","audioDecode","9OdhtkT","videoRenderSupportScale","drawingRectInfo","demuxed-track","talkStreamStart","初始化解码器失败","webcodecsH265NotSupport","A key frame is required after configure() or flush()","mseSourceOpen","click","playerAudio","multiDrop","20251202","1867719Ovophk","csrc","simdDecodeDelayTimeout","candidate-pair","webrtcDisconnect","emptied","decoderWorkerInit","fogClose","The user aborted a request","fmp4","simple","zoomExpand","record","pauseAndNextPlayUseLastFrameShow","udp","不支持该分辨率的视频","timeUpdate","videoSmooth","webcodecsDecodeConfigureError","canvas","Decoder error","playbackForwardMaxRateDecodeIFrame","viewResizeChange","warn","websocketClose","blur","mseWorkerAddSourceBufferError","streamEndInner","H265(HEVC)",'video/mp4; codecs="hev1.1.6.L123.b0"',"mseSourceBufferError","close","recordStart","speed","idle","volumechange","load-start","sourceclose","beforeDestroy","ALAW(g711a)","load-retry","playbackEndInner","mseHandle","visibilityHiddenTimeout","talkGetUserMediaFail","10min","failedToAsynchronouslyPrepareWasm","fiveMin","webrtcStreamH265","video自动渲染失败","metadata-parsed","playVodPause","faceDetectActive","videoSyncAudio","mseSourceBufferFull","playbackJustTime","occlusionDetectActive","wasmWidthOrHeightChange","subtitle-playlist","websocketError","isFlv","opus","playbackTimestamp","networkState","transport","playVodMp4NotMoovError","webrtc-completed","退出全屏","isWebrtcForZLM","playVodEnded","playVodCanplay","offline","ten-min","ratechange","websocket1006Error","open","Invalid NAL unit size","script","webrtcCompleted","multiMouseout","stream-parsed","loadedmetadata","imageDetectActive","webrtc不支持H265","remote-outbound-rtp","talkFailedAndStop","playbackTF","fullscreenError","流异常","解码失败","endstreaming","1228670kYUMgk","file","hls","性能面板","halfHour","decoder-pro-audio.js","loadingTimeout","人脸识别激活","aliyunRtc","网络超时重播失败","flvBufferData",'video/mp4;codecs="hev1.1.6.L120.90"',"mediaSourceAudioG711NotSupport","talkStreamInactive","multiDragleave","playVodRateChange","sourceended","webrtc-connected","playing","flvMetaData","Simd","ceil","cruiseStart","mediaSourceDecoderConfigurationError","mseDecodeError","videoRectContentClick","playVodEndedAndReplay","metadata","video decode error","audioCode","mute","hevc","isTs","resetDecode","video","audioNalu","videoCodec","hls-level-loaded","webrtcOnConnectionStateChange","streamQualityChange","初始化worker失败","streamVbps","flvVod","playFailedError","websocketOpenTimeout","talkStreamMsg","initDecoderWorkerTimeout","webm","self","leftUp","MP3","timeupdate","playVodWaiting","remote-inbound-rtp","playbackPrecision"];return(k=function(){return t})()}function _(t,e){const s=k();return(_=function(t,e){return s[t-=403]})(t,e)}const C=36e5,D=l(632),R=l(620),L=l(920),P=1e4,x=l(862),M={nv12:1,i420:0},B=[l(579),l(424)],F={playIsNotPauseOrUrlIsNull:l(666),webglAlignmentError:l(929),webglContextLostError:"webgl 上下文丢失",mediaSourceH265NotSupport:l(596),mseSourceBufferFull:l(528),mediaSourceAppendBufferError:l(673),mseSourceBufferError:"解码失败",mseAddSourceBufferError:l(673),mseWorkerAddSourceBufferError:l(673),mediaSourceDecoderConfigurationError:l(673),mediaSourceTsIsMaxDiff:l(769),mseWidthOrHeightChange:l(769),mediaSourceAudioG711NotSupport:l(621),mediaSourceAudioInitTimeout:l(545),mediaSourceAudioNoDataTimeout:"等待音频数据超时",mediaSourceUseCanvasRenderPlayFailed:l(838),mediaSourceBufferedIsZeroError:"流异常",webcodecsH265NotSupport:"不支持硬解码H265",webcodecsUnsupportedConfigurationError:l(673),webcodecsDecodeConfigureError:l(673),webcodecsDecodeError:l(770),webcodecsAudioInitTimeout:l(545),webcodecsAudioNoDataTimeout:l(854),wcsWidthOrHeightChange:"解码失败",wasmDecodeError:l(770),simdDecodeError:l(770),simdDecodeDelayTimeout:l(426),wasmWidthOrHeightChange:l(769),wasmUseVideoRenderError:l(730),videoElementPlayingFailed:l(730),simdH264DecodeVideoWidthIsTooLarge:l(696),networkDelayTimeout:l(781),fetchError:l(876),streamEnd:l(627),websocket1006Error:l(484),websocketError:l(876),webrtcError:l(876),hlsError:"请求失败",decoderWorkerInitError:l(812),decoderWorkerWasmError:l(629),videoElementPlayingFailedForWebrtc:l(730),videoInfoError:"解析视频分辨率失败",webrtcStreamH265:l(764),delayTimeout:"播放超时重播失败",loadingTimeout:l(582),loadingTimeoutRetryEnd:l(582),delayTimeoutRetryEnd:l(442),flvDemuxBufferSizeTooLarge:"FLV待解封装buffer过大",audioChannelError:"音频通道错误",aliyunRtcError:l(876),mseWaitVideoCanplayTimeout:l(769),initDecoderWorkerTimeout:l(405),notSupportNewWasm:"wasm初始化异常",failedToAsynchronouslyPrepareWasm:"wasm初始化异常",playVodMp4Error:l(418),playVodMp4NotMoovError:l(652),playVodFlvError:l(642),playVodMseDecodeVideoError:l(588),mp4Error:l(652),tsPacketSizeError:l(927)},U={playType:p.player,videoBuffer:1e3,videoBufferDelay:1e3,networkDelay:1e4,isResize:!0,isFullResize:!1,isFlv:!1,isHls:!1,isFmp4:!1,isWebrtc:!1,isWebrtcForZLM:!1,isWebrtcForSRS:!1,webrtcForSRSBySDK:!1,webrtcForSRSByWhipWhep:!1,isWebrtcForOthers:!1,isNakedFlow:!1,isMpeg4:!1,isAliyunRtc:!1,isTs:!1,isPs:!1,debug:!1,debugLevel:v[l(477)],debugUuid:"",isMulti:!0,multiIndex:-1,hotKey:!1,loadingTimeout:10,heartTimeout:10,timeout:10,pageVisibilityHiddenTimeout:300,loadingTimeoutReplay:!0,heartTimeoutReplay:!0,loadingTimeoutReplayTimes:3,heartTimeoutReplayTimes:3,heartTimeoutReplayUseLastFrameShow:!0,replayUseLastFrameShow:!0,replayShowLoadingIcon:!1,supportDblclickFullscreen:!1,showBandwidth:!1,showPerformance:!1,mseCorrectTimeDuration:20,mseCorrectAudioTimeDuration:20,keepScreenOn:!0,isNotMute:!1,muted:!0,hasAudio:!0,hasVideo:!0,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,record:!1,ptz:!1,quality:!1,zoom:!1,close:!1,scale:!1,performance:!1,logSave:!1,aiFace:!1,aiObject:!1,aiOcclusion:!1,fullscreenFn:null,fullscreenExitFn:null,screenshotFn:null,playFn:null,pauseFn:null,recordFn:null,recordStopFn:null},extendOperateBtns:[],contextmenuBtns:[],watermarkConfig:{},controlAutoHide:!1,controlAutoHideDelayTime:5,hasControl:!1,controlSize:w[l(466)],loadingIcon:!0,initShowLoadingIconInner:!1,loadingIconStyle:{},loadingText:"",background:"",poster:"",backgroundLoadingShow:!0,loadingBackground:"",loadingBackgroundWidth:0,loadingBackgroundHeight:0,decoder:l(570),decoderOld:l(589),decoderAudio:l(777),decoderHard:l(536),decoderHardNotWasm:l(498),wasmMp4RecorderDecoder:"jessibuca-pro-mp4-recorder-decoder.js",decoderWASM:"",isDecoderUseCDN:!1,url:"",rotate:0,mirrorRotate:l(833),aspectRatio:"default",playbackConfig:{playList:[],fps:"",autoCalcFps:!0,showControl:!0,controlType:S.normal,duration:0,startTime:"",showRateBtn:!1,rateConfig:[],showPrecision:"",showPrecisionBtn:!0,isCacheBeforeDecodeForFpsRender:!1,uiUsePlaybackPause:!1,isPlaybackPauseClearCache:!0,isUseFpsRender:!1,isUseLocalCalculateTime:!1,localOneFrameTimestamp:40,supportWheel:!1,useWCS:!1,useMSE:!1,useSIMD:!0},qualityConfig:[],defaultStreamQuality:"",scaleConfig:["拉伸","缩放","正常"],forceNoOffscreen:!0,hiddenAutoPause:!1,protocol:c[l(502)],demuxType:m.flv,useWasm:!1,useOldWasm:!1,useMSE:!1,useWCS:!1,useSIMD:!0,isFFmpegSIMD:!1,useMThreading:!1,preferredHardDecode:!1,wcsUseVideoRender:!0,wcsUseWebgl2Render:!1,wasmUseVideoRender:!0,mseUseCanvasRender:!1,hlsUseCanvasRender:!1,webrtcUseCanvasRender:!1,useOffscreen:!1,useWebGPU:!1,useWebCanvas:!1,mseDecodeErrorReplay:!0,wcsDecodeErrorReplay:!0,wasmDecodeErrorReplay:!0,simdDecodeErrorReplay:!0,simdDecodeErrorReplayType:y[l(441)],autoWasm:!0,decoderErrorAutoWasm:!1,hardDecodingNotSupportAutoWasm:!0,webglAlignmentErrorReplay:!0,webglContextLostErrorReplay:!0,openWebglAlignment:!1,syncAudioAndVideo:!0,syncAudioAndVideoDiff:300,playbackDelayTime:1e3,playbackFps:25,playVodFps:25,playbackForwardMaxRateDecodeIFrame:4,calcPlaybackForwardMaxRateDecodeIFrame:!1,playbackCurrentTimeMove:!0,useVideoRender:!0,useCanvasRender:!1,videoRenderType:"",networkDelayTimeoutReplay:!1,recordType:f.mp4,checkFirstIFrame:!0,nakedFlowFps:25,audioEngine:null,isShowRecordingUI:!0,isShowZoomingUI:!0,useFaceDetector:!1,useObjectDetector:!1,useImageDetector:!1,useOcclusionDetector:!1,ptzPositionConfig:{},ptzShowType:"vertical",ptzClickType:b[l(677)],ptzStopEmitDelay:.3,ptzZoomShow:!1,ptzApertureShow:!1,ptzFocusShow:!1,ptzMoreArrowShow:!1,ptzCruiseShow:!1,ptzFogShow:!1,ptzWiperShow:!1,ptzSupportDraggable:!1,weiXinInAndroidAudioBufferSize:4800,isCryptoAudio:!1,isM7sCrypto:!1,isSm4Crypto:!1,isSm4CryptoH265V2:!1,isXorCrypto:!1,sm4CryptoKey:"",m7sCryptoKey:"",xorCryptoKey:"",cryptoKey:"",cryptoIV:"",cryptoKeyUrl:"",listenWindowResizeAuoResize:!0,orientationChangeResize:!1,useWebFullScreen:!1,ptsMaxDiff:3600,aiFaceDetectLevel:2,aiFaceDetectWidth:240,aiFaceDetectEmitBase64:!1,aiFaceDetectShowRect:!0,aiFaceDetectInterval:1e3,aiFaceDetectRectConfig:{},aiObjectDetectLevel:2,aiObjectDetectWidth:240,aiObjectDetectShowRect:!0,aiObjectDetectInterval:1e3,aiObjectDetectRectConfig:{},aiObjectDetectTarget:"",aiOcclusionDetectInterval:1e3,aiImageDetectDrop:!1,aiImageDetectActive:!1,videoRenderSupportScale:!0,mediaSourceTsIsMaxDiffReplay:!0,controlHtml:"",isH265:!1,isWebrtcH265:!1,supportLockScreenPlayAudio:!0,supportHls265:!0,hls264UseOldDemuxer:!1,hls265ForceFixLargeGap:!0,isEmitSEI:!1,pauseAndNextPlayUseLastFrameShow:!1,demuxUseWorker:!0,playFailedAndReplay:!0,showMessageConfig:{},videoElementPlayingFailedReplay:!0,mp4RecordUseWasm:!0,mseAutoCleanupSourceBuffer:!0,mseAutoCleanupMaxBackwardDuration:30,mseAutoCleanupMinBackwardDuration:10,widthOrHeightChangeReplay:!0,simdH264DecodeVideoWidthIsTooLargeReplay:!0,mediaSourceAudioG711NotSupportReplay:!0,mediaSourceAudioInitTimeoutReplay:!0,mediaSourceAudioNoDataTimeoutReplay:!0,mediaSourceUseCanvasRenderPlayFailedReplay:!0,mediaSourceUseCanvasRenderPlayFailedReplayType:A[l(806)],webcodecsAudioInitTimeoutReplay:!0,webcodecsAudioNoDataTimeoutReplay:!0,webcodecsAudioDecodeErrorReplay:!0,widthOrHeightChangeReplayDelayTime:0,ghostWatermarkConfig:{on:5,off:5,content:"",fontSize:12,color:l(434),opacity:.15,speed:.2},dynamicWatermarkConfig:{content:"",speed:.2,fontSize:12,color:l(434),opacity:.15},isDropSameTimestampGop:!1,mseDecodeAudio:!0,wcsDecodeAudio:!0,nakedFlowH265DemuxUseNew:!0,nakedFlowDemuxUseNew:!0,extendDomConfig:{html:"",showBeforePlay:!1,showAfterLoading:!0},disableContextmenu:!1,mseDecoderUseWorker:!0,openMemoryLog:!1,mainThreadFetchUseWorker:!0,playFailedAndPausedShowPlayBtn:!0,mseCorrectionTimestamp:!0,flvDemuxBufferSizeTooLargeReplay:!1,flvDemuxBufferSizeTooLargeEmitFailed:!1,flvDemuxBufferSizeMaxLarge:1048576,isCheckInView:!1,hiddenControl:!1,removeControl:!1,androidMobileFullscreenRotate:!0,recordWebMSupportSeek:!1,wasmPlayAudioUseVideoRender:!1,mseWaitVideoCanplayTimeout:6,mseWaitVideoCanplayAutoWasm:!0,zoomMaxScale:5,zoomSupportGestureInMobile:!1,zoomSupportGestureInMobileSpeed:.2,zoomSupportWheelInPc:!1,zoomSupportWheelInPcSpeed:.2,zoomCheckBorderRange:!1,drawingRectColor:"red",drawingRectLineWidth:1,drawingRectEndRemoveDom:!0,videoSEISyncPtsDiff:.2,initShowPlayBtn:!1,playbackCheckStreamEnd:!0,autoUseSystemFullScreen:!0,playVodConfig:{showRateBtn:!1,rateConfig:[],useWCS:!1,useMSE:!0,useSIMD:!0,startTime:null},playVodForwardMaxRateDecodeIFrame:8,playVodEndedAndAutoReplay:!1,playVodEndedAndShowPlayBtn:!0,playVodMaxGopDuration:20,hotKeyVolumeStep:.05,hotKeySeekStep:5,websocketOpenTimeout:8,i18n:{},screenshotUseHighQuality:!1,requestAnimationFrameMaxDiff:800,isUseFileProtocol:!1,correctionConfigurationProfileIndication:!0,correctionConfigurationVersion:!0,demuxFlvUseV2:!1,wasmSimdFirstFrameDecodeDelayTimeout:5,streamMaxChunkSize:32768,delayFrameChasingPolicy:E[l(835)],delayFrameAccelerateDecodeMaxNum:8,isEmitTsPrivateData:!1,intervalUseWorker:!0,emitVideoContentClickEvent:!1,checkWebrtcLowFps:!0,checkWebrtcLowFpsDuration:5,webrtcLowFps:3,playVodMp4UseSrc:!0},O={playType:U[l(565)],playbackForwardMaxRateDecodeIFrame:U[l(702)],isMulti:U[l(856)],isM7sCrypto:U[l(866)],supportHls265:U.supportHls265,pauseAndNextPlayUseLastFrameShow:U[l(694)],replayUseLastFrameShow:U[l(543)],widthOrHeightChangeReplayDelayTime:U[l(919)],controlSize:U[l(663)],multiIndex:U.multiIndex,isFlv:U[l(741)],isFmp4:U[l(898)],isMpeg4:U[l(547)],isNakedFlow:U[l(476)],isHls:U[l(492)],isWebrtc:U[l(634)],isWebrtcForZLM:U[l(749)],isWebrtcForSRS:U[l(587)],isWebrtcForOthers:U[l(656)],isAliyunRtc:U[l(510)],isTs:U[l(804)],ghostWatermarkConfig:U[l(517)],dynamicWatermarkConfig:U.dynamicWatermarkConfig,watermarkConfig:U.watermarkConfig,defaultStreamQuality:U[l(647)],videoRenderSupportScale:U[l(669)],timeout:U.timeout,loadingTimeout:U[l(778)],heartTimeout:U[l(646)],playVodMp4UseSrc:U.playVodMp4UseSrc,url:"",container:"",playbackConfig:{},playVodConfig:{},fullscreenWatermarkConfig:{},playbackForwardMaxRatePlayAudio:!1,playOptions:{},isLive:!0,playFailedUseLastFrameShow:!0,playFailedAndPausedShowMessage:!0,isUseNewFullscreenWatermark:!0,websocket1006ErrorReplay:!0,websocket1006ErrorReplayDelayTime:1,streamErrorReplay:!1,streamErrorReplayDelayTime:1,streamEndReplay:!1,streamEndReplayDelayTime:1,networkDisconnectReplay:!0,loadingTimeoutRetryEndShowPlayBtn:!0,playFailedAndPausedShowPlayBtn:!1,initDecoderWorkerTimeout:10,checkIsMeaningfulRetryTimes:5,isPlayFailedAndPausedSaveLastIframeInfo:!0,playVodDecodeErrorAndStepTime:1},N={init:"init",initVideo:l(473),render:"render",playAudio:l(468),initAudio:"initAudio",kBps:l(913),decode:l(834),audioCode:l(801),audioNalu:l(807),audioAACSequenceHeader:"audioAACSequenceHeader",videoCode:l(414),videoCodec:l(808),videoNalu:"videoNalu",videoPayload:"videoPayload",audioPayload:"audioPayload",wasmError:l(577),workerFetch:"workerFetch",iframeIntervalTs:l(849),isDropping:"isDropping",workerEnd:l(843),networkDelay:l(651),playbackStreamVideoFps:l(873),wasmWidthOrHeightChange:l(738),simdDecodeError:l(449),simdH264DecodeVideoWidthIsTooLarge:l(619),simdDecodeDelayTimeout:l(683),websocketOpen:l(628),websocketStringMsg:l(550),closeEnd:l(912),tempStream:l(650),videoSEI:"videoSEI",flvScriptData:l(869),aacSequenceHeader:l(600),videoSequenceHeader:l(852),flvBufferData:l(782),checkFirstIFrame:"checkFirstIFrame",mseHandle:l(723),mseFirstRenderTime:"mseFirstRenderTime",mseError:"mseError",notSupportNewWasm:"notSupportNewWasm",failedToAsynchronouslyPrepareWasm:l(727),mtStreamStats:l(491),tsError:l(905),tsPrivateData:l(483)};l(757);const j={audio:1,video:2},V={audio:8,video:9,scriptData:18},W={init:l(546),decode:l(834),audioDecode:l(667),videoDecode:"videoDecode",initAudioCodec:l(440),initVideoCodec:l(578),close:l(712),updateConfig:l(436),resetDecode:l(805),clearBuffer:l(415),resetAudioDecode:l(445),resetVideoDecode:l(581),fetchStream:"fetchStream",sendWsMessage:l(462),mseUpdateVideoTimestamp:"mseUpdateVideoTimestamp",playbackIsPause:l(914),playVodFps:l(479),updateForwardMaxRateDecodeIFrame:l(515)},G={fetch:l(502),destroy:l(487),destroyEnd:l(891),buffer:"buffer",fetchError:"fetchError",fetchErrorWorker:l(523),fetchClose:l(892),fetchSuccess:l(871),init:l(546),bufferByteLength:l(900)},z={fetch:l(502),sendMessage:l(616),destroy:l(487),destroyEnd:l(891),buffer:l(653),bufferByteLength:l(900),websocketError:"websocketError",websocketClose:l(705),websocketOpen:l(628),websocketStringMsg:l(550),init:l(546)},H={fullscreenInner:"fullscreen$2",fullscreen:l(537),fullScreenByStart:"fullScreenByStart",webFullscreen:"webFullscreen",decoderWorkerInit:l(687),play:l(889),playing:l(790),pause:l(561),mute:"mute",load:l(902),loading:"loading",zooming:l(630),drawingRect:"drawingRect",drawingRectInfo:l(670),videoInfo:l(845),timeUpdate:"timeUpdate",audioInfo:l(858),log:l(488),error:"error",kBps:l(913),timeout:l(624),delayTimeout:l(460),delayTimeoutRetryEnd:l(880),loadingTimeout:"loadingTimeout",loadingTimeoutRetryEnd:l(560),stats:l(618),performance:"performance",videoSmooth:l(698),faceDetectActive:l(733),objectDetectActive:"objectDetectActive",occlusionDetectActive:l(737),imageDetectActive:l(763),record:l(693),recording:l(489),recordingTimestamp:"recordingTimestamp",recordStart:"recordStart",recordEnd:"recordEnd",recordCreateError:"recordCreateError",recordBlob:"recordBlob",recordCancel:"recordCancel",buffer:l(653),videoFrame:l(625),videoSEI:l(591),videoSEISyncPts:"videoSEISyncPts",start:l(872),startInner:l(553),metadata:l(799),resize:l(644),volumechange:l(716),volume:"volume",destroy:"destroy",beforeDestroy:l(719),streamEnd:l(637),streamRate:"streamRate",streamAbps:l(935),streamVbps:l(813),streamDts:"streamDts",streamSuccess:"streamSuccess",streamMessage:l(464),streamError:l(604),streamStats:"streamStats",streamEndInner:l(708),mseSourceOpen:l(676),mseSourceClose:l(664),mseSourceended:"mseSourceended",mseSourceStartStreaming:"mseSourceStartStreaming",mseSourceEndStreaming:l(482),mseSourceBufferError:l(711),mseAddSourceBufferError:l(524),mseWorkerAddSourceBufferError:l(707),mseSourceBufferBusy:l(504),mseSourceBufferFull:l(735),videoWaiting:l(444),videoTimeUpdate:l(881),videoSyncAudio:l(734),playToRenderTimes:l(923),playbackTime:l(446),playbackTimestamp:"playbackTimestamp",playbackTimeScroll:l(531),playbackPrecision:l(826),playbackShowPrecisionChange:l(481),playbackJustTime:l(736),playbackStats:l(586),playbackSeek:l(865),playbackPause:l(453),playbackPauseOrResume:"playbackPauseOrResume",playbackRateChange:l(548),playbackPreRateChange:"playbackPreRateChange",playbackEndInner:l(722),playbackEnd:l(640),playbackEndedAndReplay:"playbackEndedAndReplay",playVodStats:"playVodStats",playVodPause:l(732),playVodPauseOrResume:"playVodPauseOrResume",playVodRateChange:"playVodRateChange",playVodTime:l(606),playVodBufferedTime:l(595),playVodTimeCache:l(614),playVodSeek:l(928),playVodSeeking:l(496),playVodSeekEnd:l(922),playVodVideoSeekingByMse:l(599),playVodVideoSeekedByMse:l(827),playVodCanplay:l(751),playVodWaiting:l(824),playVodEndedAndReplay:l(798),playVodEnded:l(750),ptz:l(429),streamQualityChange:"streamQualityChange",visibilityChange:"visibilityChange",netBuf:l(422),close:l(712),networkDelayTimeout:l(506),togglePerformancePanel:l(408),viewResizeChange:l(703),flvDemuxBufferSizeTooLarge:"flvDemuxBufferSizeTooLarge",talkGetUserMediaSuccess:"talkGetUserMediaSuccess",talkGetUserMediaFail:l(725),talkGetUserMediaTimeout:l(529),talkStreamStart:l(672),talkStreamOpen:"talkStreamOpen",talkStreamClose:l(597),talkStreamError:"talkStreamError",talkStreamInactive:l(785),talkStreamMsg:l(817),webrtcDisconnect:l(685),webrtcFailed:"webrtcFailed",webrtcClosed:l(538),webrtcChecking:l(534),webrtcConnected:l(639),webrtcCompleted:l(759),webrtcOnConnectionStateChange:l(810),webrtcOnIceConnectionStateChange:l(660),webrtcLowFps:l(521),crashLog:"crashLog",focus:l(569),blur:l(706),inView:"inView",visibilityHiddenTimeout:l(724),websocketOpen:l(628),websocketClose:"websocketClose",websocketError:l(740),websocketStringMsg:l(550),aiObjectDetectorInfo:l(525),aiFaceDetectorInfo:l(615),aiOcclusionDetectResult:l(897),aiImageDetectResult:l(598),playFailedAndPaused:l(903),audioResumeState:l(573),webrtcStreamH265:l(729),flvMetaData:l(791),talkFailedAndStop:l(766),removeLoadingBgImage:l(486),memoryLog:"memoryLog",downloadMemoryLog:l(514),pressureObserverCpu:"pressureObserverCpu",currentPts:l(867),online:l(884),offline:l(752),networkState:l(744),clickInitPlayer:"clickInitPlayer",audioSplitBuffer:l(470),tsPrivateData:l(483),videoRectContentClick:l(797),hls264UseOldDemuxer:"hls264UseOldDemuxer"},K={load:H[l(902)],timeUpdate:H[l(697)],videoInfo:H[l(845)],audioInfo:H[l(858)],error:H.error,kBps:H.kBps,start:H[l(872)],timeout:H[l(624)],loadingTimeout:H[l(778)],loadingTimeoutRetryEnd:H[l(560)],delayTimeout:H[l(460)],delayTimeoutRetryEnd:H.delayTimeoutRetryEnd,playFailedAndPaused:H[l(903)],fullscreen:H[l(537)],webFullscreen:H[l(558)],play:H[l(889)],pause:H[l(561)],mute:H[l(802)],stats:H.stats,performance:H[l(842)],recordStart:H[l(713)],recordEnd:H[l(516)],recordBlob:H[l(661)],recordCancel:H[l(478)],recordingTimestamp:H[l(829)],recordCreateError:H.recordCreateError,playToRenderTimes:H[l(923)],videoSmooth:H[l(698)],ptz:H[l(429)],streamQualityChange:H[l(811)],zooming:H[l(630)],crashLog:H.crashLog,focus:H.focus,blur:H[l(706)],visibilityHiddenTimeout:H[l(724)],visibilityChange:H.visibilityChange,websocketOpen:H[l(628)],websocketClose:H[l(705)],websocketStringMsg:H[l(550)],audioResumeState:H[l(573)],networkDelayTimeout:H[l(506)],webrtcOnConnectionStateChange:H.webrtcOnConnectionStateChange,webrtcOnIceConnectionStateChange:H[l(660)],videoSEI:H[l(591)],videoSEISyncPts:H[l(895)],streamEnd:H[l(637)],flvMetaData:H.flvMetaData,currentPts:H[l(867)],inView:H[l(554)],networkState:H[l(744)],volume:H[l(533)],clickInitPlayer:H[l(868)],tsPrivateData:H[l(483)],drawingRectInfo:H[l(670)],videoRectContentClick:H[l(797)],aiObjectDetectorInfo:H[l(525)],aiFaceDetectorInfo:H[l(615)],aiOcclusionDetectResult:H[l(897)],aiImageDetectResult:H[l(598)],playbackSeek:H[l(865)],playbackStats:H[l(586)],playbackTimestamp:H[l(743)],playbackPauseOrResume:H.playbackPauseOrResume,playbackPreRateChange:H[l(859)],playbackRateChange:H.playbackRateChange,playbackShowPrecisionChange:H[l(481)],playbackEnd:H.playbackEnd,playVodEnded:H[l(750)],playVodPauseOrResume:H[l(495)],playVodRateChange:H[l(787)],playVodTime:H[l(606)],playVodBufferedTime:H.playVodBufferedTime,playVodSeek:H[l(928)],playVodSeeking:H.playVodSeeking,playVodSeekEnd:H[l(922)]};l(597),l(556),l(785),l(529),l(766),l(817),l(902),l(858),l(913),l(872),l(624),l(778),l(560),l(460),l(880),l(889),l(561),l(802),l(618),l(923),l(930),l(628),l(705),l(573);const q={talkStreamError:H[l(556)],talkStreamClose:H.talkStreamClose},Q={playError:l(412),playFailedError:l(815),fetchError:l(853),fetchErrorWorker:l(523),websocketError:l(740),websocketOpenTimeout:l(816),webcodecsH265NotSupport:l(674),webcodecsDecodeError:"webcodecsDecodeError",webcodecsUnsupportedConfigurationError:l(500),webcodecsDecodeConfigureError:l(699),webcodecsAudioInitTimeout:l(860),webcodecsAudioNoDataTimeout:l(883),webcodecsAudioDecodeError:l(925),mediaSourceH265NotSupport:l(655),mediaSourceAudioG711NotSupport:l(784),mediaSourceAudioInitTimeout:"mediaSourceAudioInitTimeout",mediaSourceAudioNoDataTimeout:"mediaSourceAudioNoDataTimeout",mediaSourceDecoderConfigurationError:l(795),mediaSourceFull:H.mseSourceBufferFull,mseSourceBufferError:H.mseSourceBufferError,mseAddSourceBufferError:H[l(524)],mseWorkerAddSourceBufferError:H.mseWorkerAddSourceBufferError,mediaSourceAppendBufferError:"mediaSourceAppendBufferError",mediaSourceTsIsMaxDiff:l(610),mediaSourceUseCanvasRenderPlayFailed:"mediaSourceUseCanvasRenderPlayFailed",mediaSourceBufferedIsZeroError:l(527),wasmDecodeError:l(605),wasmUseVideoRenderError:l(572),simdH264DecodeVideoWidthIsTooLarge:l(619),simdDecodeError:l(449),simdDecodeDelayTimeout:l(683),hlsError:l(511),webrtcError:"webrtcError",webrtcClosed:H[l(538)],webrtcIceCandidateError:l(461),webglAlignmentError:l(513),wasmWidthOrHeightChange:l(738),mseWidthOrHeightChange:l(520),wcsWidthOrHeightChange:"wcsWidthOrHeightChange",widthOrHeightChange:l(457),tallWebsocketClosedByError:l(622),flvDemuxBufferSizeTooLarge:H[l(472)],audioChannelError:"audioChannelError",webglContextLostError:l(423),videoElementPlayingFailed:"videoElementPlayingFailed",videoElementPlayingFailedForWebrtc:l(493),decoderWorkerInitError:l(623),decoderWorkerWasmError:"decoderWorkerWasmError",decoderWorkerUncaughtError:l(557),videoInfoError:"videoInfoError",streamEnd:H[l(637)],websocket1006Error:l(755),delayTimeout:H.delayTimeout,loadingTimeout:H[l(778)],networkDelayTimeout:H[l(506)],fullscreenError:l(768),aliyunRtcError:l(518),mseWaitVideoCanplayTimeout:l(447),initDecoderWorkerTimeout:l(818),notSupportNewWasm:"notSupportNewWasm",failedToAsynchronouslyPrepareWasm:l(727),playVodMp4Error:"playVodMp4Error",playVodMp4NotMoovError:l(746),playVodMp4UseSrcError:"playVodMp4UseSrcError",playVodMp4UseSrcVideoError:"playVodMp4UseSrcVideoError",playVodFlvError:l(567),playVodMseDecodeVideoError:l(887),playVodCalcFpsError:"playVodCalcFpsError",mp4Error:l(855),tsPacketSizeError:l(831),...q},Y={notConnect:l(417),open:l(756),close:l(712),error:l(848)};l(471);const J={download:"download",base64:l(421),blob:l(875)},X={download:l(508),blob:l(875)},$={7:l(505),12:l(709),99:l(575)},Z={h264:7,h265:12,mpeg4:99},tt={h264:"H264(AVC)",h265:l(709)},et={PCM:1,AAC:10,ALAW:7,MULAW:8,MP3:2,OPUS:13,G711A:7,G711U:8,G722_1:12},st={AAC:"AAC",ALAW:l(720),MULAW:l(592),MP3:l(822)},it={10:"AAC",7:"ALAW",8:l(455),2:"MP3"},rt={sps:7,pps:8,iFrame:5,kUnspecified:0,kSliceNonIDR:1,kSliceDPA:2,kSliceDPB:3,kSliceDPC:4,kSliceIDR:5,kSliceSEI:6,kSliceSPS:7,kSlicePPS:8,kSliceAUD:9,kEndOfSequence:10,kEndOfStream:11,kFiller:12,kSPSExt:13,kReserved0:14},nt={pFrame:1,kSliceBLA_W_LP:16,kSliceBLA_W_RADL:17,kSliceBLA_N_LP:18,iFrame:19,kSliceIDR_W_RADL:19,nLp:20,kSliceIDR_N_LP:20,craNut:21,kSliceCRA_NUT:21,kSliceRSV_IRAP_VCL22:22,kSliceRSV_IRAP_VCL23:23,vps:32,kSliceVPS:32,sps:33,kSliceSPS:33,pps:34,kSlicePPS:34,kSliceAUD:35,sei:39,prefixSei:39,suffixSei:40},ot={full:0,auto:1,fullAuto:2},at={webcodecs:l(915),webgl:l(612),webgl2:l(551),webgpu:l(901),offscreen:"offscreen",mse:l(409),hls:l(774),webrtc:l(535),canvas:"canvas"},ht={key:"key",delta:l(576)},lt={avc:l(631),hvc:l(847),hev:l(710),hev2:l(783),hev3:l(469),hev4:'video/mp4;codecs="hev1.3.E.L120.90"',hev5:l(448)},ct={ended:l(840),open:"open",closed:"closed"};Math[l(793)](40);const dt={esc:27,arrowUp:38,arrowDown:40,arrowLeft:37,arrowRight:39},ut={oneHour:l(643),halfHour:l(776),tenMin:l(665),fiveMin:l(728)},pt={oneHour:l(590),halfHour:l(899),tenMin:l(753),fiveMin:l(931)};l(726),l(430);const ft=["oneHour","halfHour",l(665),l(728)],mt=["up",l(649),l(559),l(917),"left-up",l(522),"left-down",l(936)],gt={up:"up",right:l(649),down:l(559),left:l(917),leftUp:l(821),leftDown:l(410),rightUp:l(566),rightDown:"rightDown",stop:l(921),fiStop:l(657),zoomExpand:l(692),zoomNarrow:l(465),apertureFar:l(659),apertureNear:l(403),focusFar:"focusFar",focusNear:l(837),cruiseStart:l(794),cruiseStop:"cruiseStop",fogOpen:l(544),fogClose:l(688),wiperOpen:l(452),wiperClose:"wiperClose"},yt=(l(420),l(742),{png:"image/png",jpeg:"image/jpeg",webp:l(451)}),At={sourceClose:l(718),sourceOpen:l(459),sourceended:l(788),startstreaming:l(419),endstreaming:l(771),qualitychange:l(454)},vt={canplay:"canplay",waiting:l(475),timeUpdate:l(823),ratechange:l(754),stalled:"stalled",progress:l(635),loadedmetadata:l(762),error:l(848),canplaythrough:l(571),complete:l(439),durationchange:l(580),emptied:l(686),ended:"ended",loadeddata:l(654),loadstart:l(638),pause:"pause",play:l(889),playing:l(790),seeked:l(874),seeking:"seeking",suspend:"suspend",timeupdate:l(823),volumechange:l(716),readystatechange:"readystatechange"},bt={h264:l(908),h265:l(803),av1:l(411)},St={keyframeIsRequiredError:l(675),canNotDecodeClosedCodec:l(888),unsupportedConfiguration:l(896),decoderFailure:l(832),decodingError:l(617),decoderError:l(701),hevcDecodingIsNotSupported:l(870)},wt={abortError:l(689),abortError2:l(609),abort:l(609)},Et={loading:l(828),playing:l(790),paused:l(526),destroy:l(487)},Tt={sequenceHeader:0,nalu:1},It={keyFrame:1,interFrame:2};l(850),l(910),l(485),l(695);l(443),l(863),l(756),l(848),l(509);l(633);l(934),l(916),l(633);const kt={worklet:l(633),script:l(758),active:l(894)},_t={name:"",index:0,icon:"",iconHover:"",iconTitle:"",activeIcon:"",activeIconHover:"",activeIconTitle:"",click:null,activeClick:null},Ct={content:"",click:null,index:0},Dt={container:"",maxSplit:4,split:1,draggable:!1,showSelectedBorder:!0,supportDblclickContainerFullscreen:!1,supportMousemoveEvent:!1,style:{border:"#343434",borderSelect:l(662),background:l(432)}},Rt={multiFullscreen:"multiFullscreen",dblSelected:l(933),selected:"multiSelected",mouseover:l(407),mouseout:l(760),mouseup:l(636),mousedown:l(555),mousemove:l(846),dragstart:"multiDragstart",dragenter:l(463),dragleave:l(786),drop:l(679)},Lt={special1:"3-1",special2:l(431),special3:l(851),special4:l(890),special5:""};l(552);const Pt={keyFrame:1,interFrame:2};l(678),l(704),l(502),l(512);const xt={SUBTITLE_SEGMENTS:l(864),HLS_MANIFEST_LOADED:l(608),HLS_LEVEL_LOADED:l(809),DEMUXED_TRACK:l(671),FLV_SCRIPT_DATA:l(918),METADATA_PARSED:l(731),TTFB:l(909),LOAD_RETRY:l(721),LOAD_START:l(717),SPEED:l(714),LOAD_COMPLETE:"load-complete",LOAD_RESPONSE_HEADERS:l(877),SEI:"sei",SEI_IN_TIME:l(641),NO_AUDIO_TRACK:l(480),REMOVE_BUFFER:l(911),BUFFEREOS:l(497),SOURCEBUFFER_CREATED:"sourcebuffer-created",SWITCH_URL_FAILED:"switch-url-failed",SWITCH_URL_SUCCESS:l(539),SUBTITLE_PLAYLIST:l(739),STREAM_PARSED:l(761),ERROR:l(848)},Mt=[0,160,240,320,480,640],Bt=[0,160,240,320,480,640],Ft=["轻松","正常","较高","高"],Ut={idle:l(715),connecting:l(519),buffering:l(471),error:l(848),complete:"complete"},Ot={1:l(607),2:l(878),3:l(416),4:l(839)},Nt={videoDecoderInitializationFailed:l(501),audioDecoderError:l(458),notSupportAudioFormat:l(433),playFailedBecauseNotNotInteractWithTheDocumentFirst:l(648),videoDecodeError:l(800),videoNSOSStatusErrorDomainError:"Error Domain=NSOSStatusErrorDomain",failedToSendVideoPacketForDecoding:l(885)};l(836);const jt={memoryAccessOutOfBounds:l(626)},Vt={video:1,audio:2},Wt={PACKET_TYPE_SEQ_START:0,PACKET_TYPE_FRAMES:1,PACKET_TYPE_SEQ_END:2,PACKET_TYPE_FRAMESX:3,PACKET_TYPE_METADATA:4},Gt={FT_KEY:16,FT_INTER:32},zt={CandidatePair:l(684),Certificate:l(593),Codec:"codec",Csrc:l(682),DataCahnnel:l(907),InboundRtp:l(926),LocalCandidate:l(530),OutboundRtp:l(645),PeerConnection:"peer-connection",Receiver:l(658),RemoteCandidate:l(861),RemoteInboundRtp:l(825),RemoteOutboundRtp:l(765),Sender:l(585),Stream:"stream",Track:"track",Transport:l(745),MediaSource:l(611)},Ht=9e4,Kt=45e4,qt=9e4,Qt={ws1006:l(450),mseDecodeError:l(796),wcsDecodeError:"wcsDecodeError",streamError:l(604)},Yt={StartCodePS:442,StartCodeSYS:443,StartCodeMAP:444,StartCodeVideo:480,StartCodeAudio:448,PrivateStreamCode:445,MEPGProgramEndCode:441},Jt={h264:27,h265:36,aac:15,g711a:144,g711u:145,mp3:3},Xt={map:1048576,video:10485760,audio:1048576,skip:1048576},$t={ulaw:"ulaw",alaw:l(932),mp3:l(437),opus:l(742)},Zt=48e3;l(789),l(747),l(841),l(594),l(857);const te={created:"created",loading:l(828),playing:"playing"},ee=typeof window===l(474)&&window.window===window?window:typeof self===l(474)&&self[l(820)]===self?self:typeof global===l(474)&&global[l(601)]===global?global:void 0,se={error:l(848)},ie={play:"播放",pause:"暂停",audio:"",mute:"",screenshot:"截图",loading:"",fullscreen:"全屏",fullscreenExit:l(748),record:"录制",recordStop:l(542),narrow:"缩小",expand:"放大",ptz:"云台",ptzActive:"云台激活",zoom:l(613),zoomStop:l(540),close:"关闭",performance:l(775),performanceActive:l(830),face:l(507),faceActive:l(779),object:"物品识别",objectActive:l(882),occlusion:"遮挡物检查",occlusionActive:l(541),logSave:"保存日志"},re={wasm:l(904),simd:l(792),fSimd:l(404)},ne=l(879),oe=l(564);function ae(){const t=["error","1384374PMRrod","3069LMlwvf","724525qPuYDF","_opt","[✅✅✅][","3176prPkWm","18320137alDDdz","JbPro","396156ySBpQu","debug","log","[❌❌❌][","5013631VpVwzO","debugUuid","2qOOvHZ","debugLevel","185896njnOSp","20fUGJKJ","warn","length","10sVRSxW","[❗❗❗]["];return(ae=function(){return t})()}function he(t,e){const s=ae();return(he=function(t,e){return s[t-=293]})(t,e)}!function(t,e){const s=he,i=t();for(;;)try{if(373905===-parseInt(s(304))/1+-parseInt(s(293))/2*(parseInt(s(310))/3)+-parseInt(s(295))/4*(-parseInt(s(296))/5)+parseInt(s(302))/6+-parseInt(s(314))/7+-parseInt(s(307))/8*(parseInt(s(303))/9)+parseInt(s(299))/10*(parseInt(s(308))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ae);class le{constructor(t){const e=he;this.log=function(e){const s=he;if(t[s(305)][s(294)]==v[s(311)]){const o=t[s(305)].debugUuid?"["+t._opt[s(315)]+"]":"";for(var i=arguments[s(298)],r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];console[s(312)](s(309)+o+s(306)+e+"]",...r)}},this[e(297)]=function(s){const i=e;if(t[i(305)][i(294)]==v[i(311)]||t._opt[i(294)]==v[i(297)]){const e=t[i(305)][i(315)]?"["+t._opt[i(315)]+"]":"";for(var r=arguments[i(298)],n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.log(i(309)+e+i(300)+s+"]",...n)}},this[e(301)]=function(s){const i=e,r=t._opt[i(315)]?"["+t[i(305)].debugUuid+"]":"";for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];console[i(301)](i(309)+r+i(313)+s+"]",...o)}}}var ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function de(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function ue(t,e){return t(e={exports:{}},e.exports),e.exports}var pe=Object.freeze({__proto__:null,commonjsGlobal:ce,commonjsRequire:de,unwrapExports:function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t},createCommonjsModule:ue,getCjsExportFromNamespace:function(t){return t&&t.default||t}}),fe=ye;function me(){var t=["11668006uPAUSp","3609XLckgh","fullscreenerror","fullscreenchange","6250452gSXbyb","webkitCurrentFullScreenElement","msRequestFullscreen","change","isEnabled","8cdoKjZ","exitFullscreen","length","requestFullscreen","fullscreenElement","addEventListener","msFullscreenElement","msFullscreenEnabled","catch","3413515olkaRR","mozCancelFullScreen","undefined","mozFullScreenElement","webkitRequestFullscreen","object","mozfullscreenchange","2864UkdVUE","20KxNRel","isFullscreen","webkitFullscreenEnabled","request","536121BsHEKa","mozRequestFullScreen","then","2889956ZabSld","webkitfullscreenchange","webkitfullscreenerror","MSFullscreenChange","mozfullscreenerror","fullscreenEnabled","screenfull","webkitFullscreenElement","createCommonjsModule","exports","msExitFullscreen","off","bind","mozFullScreenEnabled","webkitRequestFullScreen","webkitCancelFullScreen","1353164xwvLaF","document","documentElement"];return(me=function(){return t})()}!function(t,e){for(var s=ye,i=t();;)try{if(926414===parseInt(s(506))/1+-parseInt(s(482))/2*(-parseInt(s(510))/3)+-parseInt(s(490))/4+-parseInt(s(527))/5+parseInt(s(513))/6+-parseInt(s(509))/7*(parseInt(s(518))/8)+-parseInt(s(487))/9*(parseInt(s(483))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(me);var ge=pe[fe(498)]((function(t){var e,s,i,r,n,o;e=ye,s=typeof window!==e(477)&&typeof window[e(507)]!==e(477)?window[e(507)]:{},i=e(480)!==e(477)&&t[e(499)],r=function(){for(var t,i=e,r=[[i(521),"exitFullscreen",i(522),i(495),i(512),i(511)],[i(479),"webkitExitFullscreen",i(497),i(485),i(491),i(492)],[i(504),i(505),i(514),i(505),i(491),i(492)],[i(488),i(476),i(478),i(503),i(481),i(494)],[i(515),i(500),i(524),i(525),i(493),"MSFullscreenError"]],n=0,o=r.length,a={};n<o;n++)if((t=r[n])&&t[1]in s){for(n=0;n<t[i(520)];n++)a[r[0][n]]=t[n];return a}return!1}(),n={change:r.fullscreenchange,error:r[e(511)]},o={request:function(t,e){return new Promise(function(i,n){var o=ye,a=function(){this[ye(501)]("change",a),i()}.bind(this);this.on(o(516),a);var h=(t=t||s[o(508)])[r[o(521)]](e);h instanceof Promise&&h[o(489)](a)[o(526)](n)}.bind(this))},exit:function(){return new Promise(function(t,e){var i=ye;if(this[i(484)]){var n=function(){var e=i;this[e(501)](e(516),n),t()}[i(502)](this);this.on(i(516),n);var o=s[r[i(519)]]();o instanceof Promise&&o[i(489)](n)[i(526)](e)}else t()}[e(502)](this))},toggle:function(t,s){var i=e;return this[i(484)]?this.exit():this[i(486)](t,s)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,i){var r=n[t];r&&s[e(523)](r,i,!1)},off:function(t,e){var i=n[t];i&&s.removeEventListener(i,e,!1)},raw:r},r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(s[r[e(522)]])}},element:{enumerable:!0,get:function(){return s[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(s[r.fullscreenEnabled])}}}),i?t[e(499)]=o:window[e(496)]=o):i?t.exports={isEnabled:!1}:window[e(496)]={isEnabled:!1}}));function ye(t,e){var s=me();return(ye=function(t,e){return s[t-=476]})(t,e)}ge[fe(517)];const Ae=ve;function ve(t,e){const s=be();return(ve=function(t,e){return s[t-=454]})(t,e)}function be(){const t=["_total_bytes","set","byteLength","_fillCurrentWord","readSEG","12755712ZZworI","16034kCuKWE","_buffer_index","1423392siQmfc","_buffer","1618398FCsysQ","_current_word_bits_left","_skipLeadingZero","_current_word","9893880SNySzZ","readUEG","min","5ztlBTZ","error","readBool","3952655TYWPAs","199UFofKr","buffer","subarray","_total_bits","ExpGolomb: _fillCurrentWord() but no bytes available","ExpGolomb: readBits() bits exceeded max 32bits!","readBits","destroy","4320112hPWIwU"];return(be=function(){return t})()}!function(t,e){const s=ve,i=t();for(;;)try{if(837066===-parseInt(s(480))/1*(parseInt(s(465))/2)+-parseInt(s(469))/3+parseInt(s(458))/4+parseInt(s(476))/5*(-parseInt(s(467))/6)+-parseInt(s(479))/7+parseInt(s(464))/8+parseInt(s(473))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(be);class Se{constructor(t){const e=ve;this[e(468)]=t,this._buffer_index=0,this[e(459)]=t[e(461)],this[e(483)]=8*t[e(461)],this[e(472)]=0,this._current_word_bits_left=0}[Ae(457)](){this[Ae(468)]=null}[Ae(462)](){const t=Ae;let e=this[t(459)]-this._buffer_index;if(e<=0)return void console[t(477)](t(454),this[t(459)],this[t(466)]);let s=Math[t(475)](4,e),i=new Uint8Array(4);i[t(460)](this[t(468)][t(482)](this[t(466)],this[t(466)]+s)),this[t(472)]=new DataView(i[t(481)]).getUint32(0,!1),this._buffer_index+=s,this[t(470)]=8*s}readBits(t){const e=Ae;if(t>32&&console.error(e(455)),t<=this[e(470)]){let s=this[e(472)]>>>32-t;return this[e(472)]<<=t,this[e(470)]-=t,s}let s=this._current_word_bits_left?this[e(472)]:0;s>>>=32-this._current_word_bits_left;let i=t-this[e(470)];this[e(462)]();let r=Math.min(i,this[e(470)]),n=this[e(472)]>>>32-r;return this._current_word<<=r,this[e(470)]-=r,s=s<<r|n,s}[Ae(478)](){return 1===this[Ae(456)](1)}readByte(){return this[Ae(456)](8)}[Ae(471)](){const t=Ae;let e;for(e=0;e<this[t(470)];e++)if(0!=(this[t(472)]&2147483648>>>e))return this[t(472)]<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this[t(471)]()}readUEG(){let t=this._skipLeadingZero();return this.readBits(t+1)-1}[Ae(463)](){let t=this[Ae(474)]();return 1&t?t+1>>>1:-1*(t>>>1)}}const we=Pe;!function(t,e){const s=Pe,i=t();for(;;)try{if(386490===-parseInt(s(435))/1*(-parseInt(s(477))/2)+-parseInt(s(490))/3+-parseInt(s(494))/4*(-parseInt(s(495))/5)+-parseInt(s(496))/6+parseInt(s(429))/7+parseInt(s(478))/8+parseInt(s(446))/9*(-parseInt(s(476))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xe);const Ee=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1],Te=Ee,Ie=Ee;function ke(t){let{profile:e,sampleRate:s,channel:i}=t;return new Uint8Array([175,0,e<<3|(14&s)>>1,(1&s)<<7|i<<3])}function _e(t){const e=Pe,s=new Uint8Array(t[e(469)]+2);return s.set([175,1],0),s[e(471)](t,2),s}function Ce(t){const e=Pe;return De(t)&&t[1]===Tt[e(460)]}function De(t){const e=Pe;return t[0]>>4===et[e(445)]}function Re(t,e){if(t===Pe(459)){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}function Le(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9e4;return 1024*e/t}function Pe(t,e){const s=xe();return(Pe=function(t,e){return s[t-=426]})(t,e)}function xe(){const t=["length","chan_config","set","firefox","userAgent","Flv: AAC invalid channel configuration","buffer","490svFeNN","1539708ZAlvzc","4933320nYqCWB","more than 2 numProgram Not Supported","iserro","readByte","toLowerCase","has_last_incomplete_data","readNextAACFrame","more than 2 numLayer Not Supported","more than 2 numSubFrames Not Supported","other_data_present","destroy","eof_flag_","902349VPYlvb","data_","indexOf","sample_rate","8UqpULg","586595lPWUTs","2338704oaRJHY","android","Invalid sampling index: ","sampling_index","push","Flv: AAC invalid sampling frequency index!","sampleRate: ","readBits","3218341vUyHxt","ext_object_type","aacEncoderConfigurationRecord","error","bufoff","subarray","1okuGPj","warn","readBool","channel: ","buflen","navigator","sbr","channel_config","Could not found ADTS syncword until payload end","log","AAC","184383zFhcPy","profile: ","slice","hasIncompleteData","getIncompleteData","object_type","sampling_frequency","byteLength","unshift","bufpos","mp4a.40.","data","sampling_freq_index","mp4a.40.2","sequenceHeader","frameLengthType = ","audio_object_type","read","getLATMValue","channels","current_syncword_offset_","findNextSyncwordOffset",". Only frameLengthType = 0 Supported"];return(xe=function(){return t})()}function Me(t,e){const s=Pe,i=t[s(469)];let r=0;for(;r+2<i&&(255!==t[r]||240!=(246&t[r+1]));)r++;if(r>=i)return;const n=r,o=[],a=(60&t[r+2])>>>2,h=Ee[a];if(!h)throw new Error(s(498)+a);const l=1+((192&t[r+2])>>>6),c=(1&t[r+2])<<2|(192&t[r+3])>>>6;let d,u,p=0;const f=Le(h);for(;r+7<i;)if(255===t[r]&&240==(246&t[r+1])){if(u=(3&t[r+3])<<11|t[r+4]<<3|(224&t[r+5])>>5,i-r<u)break;d=2*(1&~t[r+1]),o[s(500)]({pts:e+p*f,data:t[s(434)](r+7+d,r+u)}),p++,r+=u}else r++;return{skip:n,remaining:r>=i?void 0:t[s(434)](r),frames:o,samplingFrequencyIndex:a,sampleRate:h,objectType:l,channelCount:c,originCodec:s(456)+l}}const Be=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];function Fe(t){const e=Pe;let s=new Uint8Array(t),i=null,r=0,n=0,o=0,a=null;if(r=n=s[0]>>>3,o=(7&s[0])<<1|s[1]>>>7,o<0||o>=Be[e(469)])return void console.error(e(426));let h=Be[o],l=(120&s[1])>>>3;if(l<0||l>=8)return void console[e(444)](e(474));5===r&&(a=(7&s[1])<<1|s[2]>>>7,s[2]);let c=ee[e(440)][e(473)][e(482)]();return-1!==c[e(492)](e(472))?o>=6?(r=5,i=new Array(4),a=o-3):(r=2,i=new Array(2),a=o):-1!==c[e(492)](e(497))?(r=2,i=new Array(2),a=o):(r=5,a=o,i=new Array(4),o>=6?a=o-3:1===l&&(r=2,i=new Array(2),a=o)),i[0]=r<<3,i[0]|=(15&o)>>>1,i[1]=(15&o)<<7,i[1]|=(15&l)<<3,5===r&&(i[1]|=(15&a)>>>1,i[2]=(1&a)<<7,i[2]|=8,i[3]=0),{audioType:"aac",config:i,sampleRate:h,channelCount:l,objectType:r,codec:e(456)+r,originalCodec:"mp4a.40."+n}}class Ue{constructor(t){const e=Pe;this[e(475)]=t,this[e(439)]=t[e(469)],this[e(455)]=0,this[e(433)]=0,this[e(480)]=!1}[we(463)](t){const e=we;let s=0,i=0;for(;t;){if(t<0||this[e(455)]>=this[e(439)])return this[e(480)]=!0,0;this[e(480)]=!1,i=this[e(433)]+t>8?8-this[e(433)]:t,s<<=i,s+=this.buffer[this[e(455)]]>>8-this[e(433)]-i&255>>8-i,this[e(433)]+=i,t-=i,8==this.bufoff&&(this[e(455)]++,this[e(433)]=0)}return s}look(t){const e=we;let s=this[e(455)],i=this[e(433)],r=this[e(463)](t);return this[e(455)]=s,this[e(433)]=i,r}read_golomb(){const t=we;let e;for(e=0;0==this[t(463)](1)&&!this[t(480)];e++);return(1<<e)+this[t(463)](e)-1}}function Oe(t){const e=we;let s=t[e(463)](5);return 31===s&&(s=t[e(463)](6)+32),s}function Ne(t,e){const s=we;return e[s(499)]=t[s(463)](4),15==e[s(499)]?t[s(463)](24):je[e.sampling_index]}const je=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,0,0,0],Ve=[0,1,2,3,4,5,6,8];class We{constructor(t){const e=we;this[e(491)]=t,this[e(489)]=!1,this[e(466)]=this[e(467)](0),this[e(489)]&&console[e(432)](e(443))}findNextSyncwordOffset(t){const e=we;let s=t,i=this[e(491)];for(;;){if(s+7>=i[e(453)])return this[e(489)]=!0,i.byteLength;if(4095===(i[s+0]<<8|i[s+1])>>>4)return s;s++}}readNextAACFrame(){const t=we;let e=this[t(491)],s=null;for(;null==s&&!this[t(489)];){let i=this[t(466)],r=(8&e[i+1])>>>3,n=(6&e[i+1])>>>1,o=1&e[i+1],a=(192&e[i+2])>>>6,h=(60&e[i+2])>>>2,l=(1&e[i+2])<<2|(192&e[i+3])>>>6,c=(3&e[i+3])<<11|e[i+4]<<3|(224&e[i+5])>>>5;if(e[i+6],i+c>this[t(491)][t(453)]){this[t(489)]=!0,this[t(483)]=!0;break}let d=1===o?7:9,u=c-d;i+=d;let p=this[t(467)](i+u);if(this.current_syncword_offset_=p,0!==r&&1!==r||0!==n)continue;let f=e[t(434)](i,i+u);s={},s.audio_object_type=a+1,s[t(458)]=h,s[t(452)]=Te[h],s[t(442)]=l,s[t(457)]=f}return s}[we(449)](){return this[we(483)]}[we(450)](){const t=we;return this[t(483)]?this[t(491)][t(434)](this[t(466)]):null}}class Ge{constructor(t){const e=we;this[e(491)]=t,this[e(489)]=!1,this.current_syncword_offset_=this[e(467)](0),this[e(489)]&&console[e(432)](e(443))}findNextSyncwordOffset(t){const e=we;let s=t,i=this[e(491)];for(;;){if(s+1>=i[e(453)])return this[e(489)]=!0,i[e(453)];if(695===(i[s+0]<<3|i[s+1]>>>5))return s;s++}}[we(464)](t){const e=we;let s=t[e(428)](2),i=0;for(let r=0;r<=s;r++)i<<=8,i|=t[e(481)]();return i}[we(484)](t){const e=we;let s=this[e(491)],i=null;for(;null==i&&!this[e(489)];){let r=this[e(466)],n=(31&s[r+1])<<8|s[r+2];if(r+3+n>=this[e(491)][e(453)]){this[e(489)]=!0,this[e(483)]=!0;break}let o=new Se(s[e(434)](r+3,r+3+n)),a=null;if(o[e(437)]()){if(null==t){console[e(436)]("StreamMuxConfig Missing"),this[e(466)]=this[e(467)](r+3+n),o[e(488)]();continue}a=t}else{let t=o[e(437)]();if(t&&o[e(437)]()){console.error("audioMuxVersionA is Not Supported"),o[e(488)]();break}if(t&&this[e(464)](o),!o[e(437)]()){console[e(432)]("allStreamsSameTimeFraming zero is Not Supported"),o[e(488)]();break}if(0!==o[e(428)](6)){console.error(e(486)),o.destroy();break}if(0!==o[e(428)](4)){console[e(432)](e(479)),o[e(488)]();break}if(0!==o[e(428)](3)){console.error(e(485)),o[e(488)]();break}let s=t?this[e(464)](o):0,i=o.readBits(5);s-=5;let r=o[e(428)](4);s-=4;let n=o[e(428)](4);s-=4,o[e(428)](3),s-=3,s>0&&o[e(428)](s);let h=o[e(428)](3);if(0!==h){console[e(432)](e(461)+h+e(468)),o[e(488)]();break}o[e(481)]();let l=o[e(437)]();if(l)if(t)this[e(464)](o);else{let t=0;for(;;){t<<=8;let s=o[e(437)]();if(t+=o[e(481)](),!s)break}console[e(444)](t)}o[e(437)]()&&o[e(481)](),a={},a[e(462)]=i,a[e(458)]=r,a.sampling_frequency=Te[a[e(458)]],a[e(442)]=n,a[e(487)]=l}let h=0;for(;;){let t=o[e(481)]();if(h+=t,255!==t)break}let l=new Uint8Array(h);for(let t=0;t<h;t++)l[t]=o.readByte();i={},i[e(462)]=a[e(462)],i.sampling_freq_index=a.sampling_freq_index,i[e(452)]=Te[a[e(458)]],i[e(442)]=a[e(442)],i[e(487)]=a[e(487)],i.data=l,this[e(466)]=this[e(467)](r+3+n)}return i}hasIncompleteData(){return this[we(483)]}[we(450)](){const t=we;return this[t(483)]?this[t(491)][t(434)](this[t(466)]):null}}function ze(t){const e=Xe;let s=arguments[e(363)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[s]<<24>>>0)+(t[s+1]<<16)+(t[s+2]<<8)+(t[s+3]||0)}function He(t){const e=Xe,s=t[e(363)];let i=2,r=0;for(;null!==t[i]&&void 0!==t[i]&&1!==t[i];)i++;if(i++,r=i+2,r>=s)return[];const n=[];for(;r<s;)switch(t[r]){case 0:if(0!==t[r-1]){r+=2;break}if(0!==t[r-2]){r++;break}i!==r-2&&n[e(374)](t[e(376)](i,r-2));do{r++}while(1!==t[r]&&r<s);i=r+1,r=i+2;break;case 1:if(0!==t[r-1]||0!==t[r-2]){r+=3;break}i!==r-2&&n[e(374)](t[e(376)](i,r-2)),i=r+1,r=i+2;break;default:r+=3}return i<s&&n[e(374)](t[e(376)](i)),n}function Ke(t){const e=Xe;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(t[e(363)]<4)return[];const i=t.length,r=[];let n,o=0;for(;o+s<i;)if(n=ze(t,o),3===s&&(n>>>=8),o+=s,n){if(o+n>i)break;r.push(t.subarray(o,o+n)),o+=n}return r}function qe(t){const e=Xe,s=t.byteLength,i=[];let r=1;for(;r<s-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(i.push(r+2),r+=2):r++;if(!i[e(363)])return t;const n=s-i[e(363)],o=new Uint8Array(n);let a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i[e(359)]()),o[r]=t[a];return o}function Qe(){const t=["set","165kZRAwi","push","Error writing parameter set: buffer overflow","subarray","190GotWCN","197545hPqTMT","toString","1663606NRVNhY","shift","slice","123808ddoitl","data","length","byteLength","Error writing NALU from AVCC: buffer overflow","error","24rtEgtg","1306160QMlXQp","1771340uCVZtN","393808fxmLiA","36ITPuPD"];return(Qe=function(){return t})()}function Ye(t){const e=Xe;let s=arguments[e(363)]>1&&void 0!==arguments[1]&&arguments[1];const i=t.length;let r=s?2:1,n=0,o=0,a="";for(;255===t[r];)n+=255,r++;for(n+=t[r++];255===t[r];)o+=255,r++;if(o+=t[r++],5===n&&i>r+16)for(let s=0;s<16;s++)a+=t[r][e(379)](16).padStart(2,"0"),r++;return{payload:t[e(376)](r),type:n,size:o,uuid:a}}function Je(t){const e=Xe,s=t.byteLength,i=new Uint8Array(4);i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s;const r=new Uint8Array(s+4);return r.set(i,0),r[e(372)](t,4),r}function Xe(t,e){const s=Qe();return(Xe=function(t,e){return s[t-=358]})(t,e)}!function(t,e){const s=Xe,i=t();for(;;)try{if(181507===parseInt(s(361))/1+-parseInt(s(377))/2*(parseInt(s(373))/3)+parseInt(s(368))/4+parseInt(s(378))/5*(parseInt(s(367))/6)+parseInt(s(358))/7+parseInt(s(370))/8+-parseInt(s(371))/9*(parseInt(s(369))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Qe);const $e=_s;function Ze(){}function ts(t){const e=_s;let s=null;const i=["webgl","experimental-webgl","moz-webgl",e(300)];let r=0;for(;!s&&r<i[e(550)];){const n=i[r];try{let i={preserveDrawingBuffer:!0};s=t[e(254)](n,i)}catch(t){console[e(284)](t),s=null}(!s||"function"!=typeof s[e(322)])&&(s=null),++r}return s}function es(t){const e=_s;let s=null;return s=t[e(254)](e(388)),s}function ss(){const t=_s;let e=arguments[t(550)]>0&&void 0!==arguments[0]?arguments[0]:"";const s=e[t(458)](","),i=atob(s[1]),r=s[0][t(553)](t(521),"").replace(t(455),"");let n=i[t(550)],o=new Uint8Array(n);for(;n--;)o[n]=i[t(251)](n);return new File([o],t(512),{type:r})}function is(){return Date.now()}function rs(t,e,s){const i=_s;return Math[i(413)](Math[i(517)](t,Math[i(413)](e,s)),Math[i(517)](e,s))}function ns(t,e,s){const i=_s;if(t)return typeof e===i(532)&&Object[i(523)](e)[i(564)]((s=>{ns(t,s,e[s])})),t[i(542)][e]=s,t}function os(t,e){const s=_s;let i=!(arguments[s(550)]>2&&void 0!==arguments[2])||arguments[2];if(!t)return 0;const r=getComputedStyle(t,null)[s(275)](e);return i?parseFloat(r):r}function as(){const t=_s;return performance&&"function"==typeof performance.now?performance[t(288)]():Date[t(288)]()}function hs(t){let e=0,s=as();return i=>{if(!Ls(i))return;e+=i;const r=as(),n=r-s;n>=1e3&&(t(e/n*1e3),s=r,e=0)}}!function(t,e){const s=_s,i=t();for(;;)try{if(412487===-parseInt(s(272))/1*(parseInt(s(285))/2)+-parseInt(s(507))/3+-parseInt(s(352))/4*(parseInt(s(301))/5)+parseInt(s(293))/6+-parseInt(s(485))/7+parseInt(s(451))/8+parseInt(s(554))/9*(parseInt(s(360))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ai),(()=>{const t=_s;try{if(typeof WebAssembly===t(532)&&typeof WebAssembly[t(462)]===t(218)){const e=new(WebAssembly[t(256)])(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly[t(256)])return new(WebAssembly[t(401)])(e)instanceof WebAssembly[t(401)]}}catch(t){}})();const ls=$e(358),cs=$e(454),ds=$e(432);$e(267);const us='"delaytime"'===ls,ps=$e(516);function fs(){const t=$e;return/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator[t(313)][t(412)]())}function ms(){return!(fs()||/ipad|android(?!.*mobile)|tablet|kindle|silk/i.test(window[$e(307)].userAgent.toLowerCase()))}function gs(){const t=$e,e=window[t(307)][t(313)][t(412)]();return/android/i.test(e)}function ys(){const t=$e,e=window[t(307)][t(313)][t(412)]();return/firefox/i.test(e)}function As(){const t=$e,e=window.navigator[t(313)][t(412)]()||"",s={type:"",version:""},i={IE:window[t(226)]||t(226)in window,Chrome:e[t(464)](t(282))>-1&&e[t(464)](t(243))>-1,Firefox:e[t(464)](t(237))>-1,Opera:e.indexOf(t(449))>-1,Safari:e[t(464)]("safari")>-1&&-1==e[t(464)]("chrome"),Edge:e[t(464)]("edge")>-1||e.indexOf(t(490))>-1,QQBrowser:/qqbrowser/.test(e),WeixinBrowser:/MicroMessenger/i[t(330)](e)};for(let r in i)if(i[r]){let i="";if("IE"===r){const s=e[t(411)](/(msie\s|trident.*rv:)([\w.]+)/);s&&s[t(550)]>2&&(i=e[t(411)](/(msie\s|trident.*rv:)([\w.]+)/)[2])}else if(r===t(276)){for(let e in navigator[t(391)])"application/360softmgrplugin"===navigator[t(391)][e][t(496)]&&(r="360");const s=e[t(411)](/chrome\/([\d.]+)/);s&&s[t(550)]>1&&(i=s[1])}else if("Firefox"===r){const s=e[t(411)](/firefox\/([\d.]+)/);s&&s.length>1&&(i=s[1])}else if(r===t(373)){const s=e.match(/opera\/([\d.]+)/);s&&s[t(550)]>1&&(i=s[1])}else if(r===t(393)){const s=e[t(411)](/version\/([\d.]+)/);s&&s.length>1&&(i=s[1])}else if(r===t(515)){const s=e.match(/edge\/([\d.]+)/)||e[t(411)](/edg\/([\d.]+)/);s&&s[t(550)]>1&&(i=s[1])}else if(r===t(392)){const t=e.match(/qqbrowser\/([\d.]+)/);t&&t.length>1&&(i=t[1])}s[t(496)]=r,s.version=parseInt(i)}return s}function vs(){const t=$e,e=window[t(307)][t(313)][t(412)]();return e&&/iphone|ipad|ipod|ios/[t(330)](e)}function bs(){const t=$e,e=window.navigator[t(313)];return!e[t(411)](/Chrome/gi)&&!!e[t(411)](/Safari/gi)}function Ss(t,e,s){const i=$e;if(0===arguments[i(550)])return null;var r,n=e||i(418);if("object"==typeof t?r=t:(10===(""+t)[i(550)]&&(t=1e3*parseInt(t)),t=+t,r=new Date(t)),s){const t=r.getMilliseconds();t>0&&(r=new Date(r[i(259)]()+(1e3-t)))}var o={y:r[i(343)](),m:r.getMonth()+1,d:r.getDate(),h:r[i(404)](),i:r.getMinutes(),s:r[i(303)](),a:r[i(304)]()},a=n[i(553)](/{(y|m|d|h|i|s|a)+}/g,((t,e)=>{const s=i;var r=o[e];return"a"===e?["一","二","三","四","五","六","日"][r-1]:(t[s(550)]>0&&r<10&&(r="0"+r),r||0)}));return a}function ws(){return Es()}function Es(){const t=$e;let e=!1;return t(346)in ee&&typeof ee[t(346)]===t(218)&&(e=!0),e}function Ts(t){if(typeof t!==$e(216))return t;var e=Number(t);return isNaN(e)?t:e}function Is(){const t=$e;return t(440).replace(/[xy]/g,(function(e){const s=t;var i=16*Math.random()|0;return("x"==e?i:3&i|8)[s(270)](16)}))}function ks(t,e){let s,i,r=!1;return function n(){const o=_s;for(var a=arguments[o(550)],h=new Array(a),l=0;l<a;l++)h[l]=arguments[l];if(r)return s=h,void(i=this);r=!0,t[o(445)](this,h),setTimeout((()=>{r=!1,s&&(n.apply(i,s),s=null,i=null)}),e)}}function _s(t,e){const s=ai();return(_s=function(t,e){return s[t-=212]})(t,e)}function Cs(){return ge.isFullscreen}function Ds(t){return Cs()&&ge[$e(227)]===t}function Rs(t){const e=$e;if(null==t||""==t)return"0 Bytes";const s=new Array(e(469),"KB","MB","GB","TB","PB","EB","ZB","YB");let i=0;const r=parseFloat(t);i=Math[e(417)](Math.log(r)/Math.log(1024));var n=r/Math[e(248)](1024,i);return(n=n.toFixed(2))+s[i]}function Ls(t){const e=$e;return Object[e(332)][e(270)][e(484)](t)===e(383)}function Ps(){const t=$e;let e=!1;return t(395)in ee&&ee[t(395)]&&(ee[t(395)][t(476)](lt[t(361)])||ee[t(395)].isTypeSupported(lt[t(345)])||ee[t(395)][t(476)](lt.hev2)||ee[t(395)][t(476)](lt[t(215)])||ee[t(395)][t(476)](lt.hev4)||ee[t(395)][t(476)](lt[t(505)]))&&(e=!0),e}function xs(){const t=$e;let e=!1;return!("MediaSource"in ee)&&t(524)in ee&&ee[t(524)]&&(ee[t(524)][t(476)](lt[t(361)])||ee[t(524)][t(476)](lt[t(345)])||ee.ManagedMediaSource[t(476)](lt[t(425)])||ee[t(524)][t(476)](lt[t(215)])||ee.ManagedMediaSource[t(476)](lt[t(219)])||ee[t(524)].isTypeSupported(lt.hev5))&&(e=!0),e}function Ms(){const t=$e,e=As();return e[t(496)].toLowerCase()===t(282)&&e[t(543)]>=107}function Bs(){let t=!1;return $e(406)in window&&(t=!0),t}function Fs(){let t=!1;return"MediaStream"in window&&(t=!0),t}function Us(t,e){const s=$e;let i=window[s(236)].createObjectURL(e),r=window[s(491)][s(431)]("a");r.download=t,r[s(470)]=i;let n=window[s(491)][s(269)](s(563));n[s(311)](s(443),!0,!0),r.dispatchEvent(n),setTimeout((()=>{const t=s;window[t(236)][t(262)](i)}),vs()?1e3:0)}function Os(t){return null==t}function Ns(t){return!0===t||!1===t}function js(t){return!Os(t)}function Vs(t){const e=$e;let s={left:"",right:"",top:"",bottom:"",opacity:1,backgroundColor:"",image:{src:"",width:e(551),height:"60"},text:{content:"",fontSize:"14",color:e(522),width:"",height:""},rect:{color:e(242),lineWidth:2,width:"",height:"",fill:"",fillOpacity:.2},line:{x1:"",y1:"",x2:"",y2:"",color:"green",lineWidth:2},polygon:{color:e(242),lineWidth:2,list:[],fill:"",fillOpacity:.2},html:""};const i=Object[e(377)](s[e(479)],t[e(479)]||{}),r=Object[e(377)](s[e(489)],t[e(489)]||{}),n=Object[e(377)](s[e(528)],t[e(528)]||{}),o=Object.assign(s[e(446)],t.line||{});return s=Object[e(377)](s,t,{image:i,text:r,rect:n,line:o}),s}function Ws(t,e){const s=$e;let i={container:t||"",text:"",opacity:"",angle:"",color:"",fontSize:"",fontFamily:"",xSpace:"",ySpace:""};return i=Object[s(377)](i,e),{watermark_parent_node:i[s(474)],watermark_alpha:i.opacity,watermark_angle:i.angle,watermark_fontsize:i[s(305)],watermark_color:i.color,watermark_font:i[s(468)],watermark_txt:i[s(489)],watermark_x_space:i[s(310)],watermark_y_space:i[s(325)]}}function Gs(t,e,s){return new Promise(((i,r)=>{const n=_s;let o=Vs(e);if(!o[n(479)].src&&!o.text[n(426)])return i(t);let a=document[n(431)](n(394));a[n(370)]=e.width,a[n(292)]=e[n(292)];let h=a.getContext("2d");s&&(h[n(217)]=!0,h.imageSmoothingEnabled&&(h[n(277)]=n(497)));let l=0,c=0;Ls(o[n(447)])?l=o[n(447)]:Ls(o[n(514)])&&(l=a[n(370)]-o[n(514)]),Ls(o[n(365)])?c=o[n(365)]:Ls(o[n(214)])&&(c=a[n(292)]-o[n(214)]);const d=new Image;d[n(362)]=t,d[n(546)]=()=>{const t=n;if(h[t(258)](d,0,0),o[t(479)]&&o[t(479)][t(362)]){const s=new Image;s[t(362)]=o.image[t(362)],s[t(344)](t(397),t(315)),s[t(546)]=()=>{const r=t;l-=o[r(479)][r(370)],h[r(258)](s,l,c,o.image.width,o[r(479)][r(292)]),i(a[r(372)](e.format,e.quality))},s[t(407)]=t=>{r()}}else o[t(489)]&&o[t(489)][t(426)]&&(h.font=o.text[t(305)]+t(326),h[t(250)]=o[t(489)][t(422)],h.textAlign=t(514),h.fillText(o[t(489)][t(426)],l,c),i(a[t(372)](e[t(349)],e[t(329)])))},d.onerror=t=>{r(t)}}))}function zs(t){const e=$e;var s,i=0;if(0===t[e(550)])return i;for(s=0;s<t[e(550)];s++)i=(i<<5)-i+t.charCodeAt(s),i|=0;return i}function Hs(t,e,s){return new Promise(((i,r)=>{const n=_s;if(!e[n(228)])return i(t);let o=document[n(431)]("canvas");o[n(370)]=e[n(370)],o.height=e[n(292)];let a=o.getContext("2d");s&&(a[n(217)]=!0,a[n(217)]&&(a[n(277)]=n(497)));const h=new Image;h.src=t,h[n(546)]=()=>{const t=n;a[t(258)](h,0,0);const s=zs(e[t(228)]),r=a[t(498)](0,0,o[t(370)],o[t(292)]);(function(t,e){for(var s=t[$e(230)],i=0,r=0;r<32;r++){var n=e>>r&1,o=254&s[i]|n;s[i]=o,i+=4}})(r,s),a[t(337)](r,0,0),i(o[t(372)](e.format,e[t(329)]))},h[n(407)]=t=>{r(t)}}))}function Ks(t){const e=$e;var s;if(t>-1){var i=Math[e(417)](t/3600),r=Math[e(417)](t/60)%60,n=t%60;s=i<10?"0"+i+":":i+":",r<10&&(s+="0"),s+=r+":",(n=Math[e(502)](n))<10&&(s+="0"),s+=n.toFixed(0)}return s}function qs(t,e){return new VideoFrame(t,e)}function Qs(t,e){let s="";if(t>-1){const i=Math[$e(417)](t/60)%60;let r=t%60;r=Math.round(r),s=i<10?"0"+i+":":i+":",r<10&&(s+="0"),s+=r,!Os(e)&&(e<10&&(e="0"+e),s+=":"+e)}return s}function Ys(t){const e=$e;let s="";if(t>-1){const i=Math.floor(t/60/60)%60;let r=Math[e(417)](t/60)%60,n=t%60;r=Math[e(502)](r),s=i<10?"0"+i+":":i+":",r<10&&(s+="0"),s+=r+":",n<10&&(s+="0"),s+=n}return s}function Js(t,e){const s=$e,i=Math[s(417)](e/60)%60,r=Math[s(417)](e%60);return new Date(t)[s(331)](i,r,0,0)}function Xs(t,e){const s=$e,i=Math[s(417)](e/60/60)%60,r=Math[s(417)](e/60)%60,n=e%60;return new Date(t)[s(331)](i,r,n,0)}function $s(t){return(""+t)[$e(550)]}function Zs(t){const e=$e;return t&&0===Object[e(523)](t)[e(550)]}function ti(t){return!Zs(t)}function ei(t){return"string"==typeof t}const si=()=>{const t=$e,e=window[t(307)].userAgent;return/MicroMessenger/i[t(330)](e)},ii=()=>{const t=$e,e=window.navigator[t(313)];return/Chrome/i[t(330)](e)},ri=()=>si()&&gs(),ni=()=>(()=>{const t=$e;return!(void 0===window.dd||!window.dd||!window.dd[t(543)])||navigator.userAgent[t(412)]()[t(464)](t(221))>-1})()&&gs();function oi(t){const e=$e,s=t||window[e(526)];return s[e(246)]||s[e(481)]}function ai(){const t=["createObjectURL","appendChild","0 KB/s","useMSE","filter","webkit-3d","5RtfXgN","hostname","getSeconds","getDay","fontSize","pointer-events: none !important; display: block !important","navigator","connect","application/asx","xSpace","initEvent","vps","userAgent","getDate","Anonymous","useMThreading","kSliceBLA_W_LP","charAt","EB/s","scrollLeft","host","getParameter","clearRect","script","ySpace","px 宋体","isArray","block","quality","test","setHours","prototype","AudioData","touchmove","removeChild","application/vnd.apple.mpegurl","putImageData","restore","supported","h265","360EE","lineWidth","getFullYear","setAttribute","hev","VideoFrame","sequenceHeader","opacity","format","useOffscreen","MULAW","3117308OenwxK","visibility","fromCharCode","div","join","illegal icc",'"production"',"application/mozilla-npqihooquicklogin","150maDqqM","hvc","src","B/s","pps","top","useWCS","borderStyle","insertBefore","search","width","createBuffer","toDataURL","Opera","clientY","touchstart","pageY","assign","origin","wheel","Worker","readAsArrayBuffer","keyFrame","[object Number]","application/hwepass2001.installepass2001","playbackRate","NaN","atob","webgl2","location","dataset","mimeTypes","QQBrowser","Safari","canvas","MediaSource","px Arial","crossOrigin","touchend","open","application/javascript","Instance","canConstructInDedicatedWorker","setUint16","getHours","kSliceBLA_N_LP","MediaStreamTrackGenerator","onerror","scrollTop","mousedown","setUint32","match","toLowerCase","max","touches","RIFF","AAC","floor","{y}-{m}-{d} {h}:{i}:{s}","QihooBrowser","createBufferSource","stringify","color","isConfigSupported","webm","hev2","content","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","solid","webkitGetUserMedia","shadowRoot","createElement",'"7-1-2025"',"none","VideoEncoder is not supported","transferControlToOffscreen","requestVideoFrameCallback","toFixed","WAVE","VideoEncoder.isConfigSupported is not a function","xxxxxxxxxxxx4xxx","status","h264","click","showModalDialog","apply","line","left","sps","opera","PB/s","4616880VPaSKc","protocol","hev1.1.6.L120.90",'"2.1.9"',";base64","not compiled with thread support","getAttribute","split","memory","reduce","clientX","instantiate","set","indexOf","map","contain","experimental-webgl","fontFamily","Bytes","href","noteOn","hasAudio","download","container","true","isTypeSupported","repeat","readyState","image","VideoEncoder.isConfigSupported() result is not supported","srcElement","pathname","useSIMD","call","3010448VvLynT","push","documentElement","innerHTML","text","edg","document","slice","https:","failed to asynchronously prepare wasm","text/javascript","type","high","getImageData","addModule","win64","borderWidth","round","KB/s","img","hev5","children","1473039DgZtVj","rgba(0,0,0,0)","html","VideoDecoder","gpu","file","removeAttribute","right","Edge",'"2025-8-1"',"min","findLast","AudioDecoder","trim","data:","#000","keys","ManagedMediaSource","localhost","event","kSliceRSV_IRAP_VCL23","rect","PressureObserver","sampleRate","strokeStyle","object","isEnabled","substring","webgl","encTypeCode","endsWith","iFrame","font","result","random","style","version","application/vnd.chromium.remoting-viewer","close","onload","demuxUseWorker","msGetUserMedia","parse","length","100","objectFit","replace","1133730wOZfmr","strokeRect","message","isFFmpegSIMD","getUserMedia","-webkit-user-select","byteLength","numberOfFrames","-webkit-touch-callout","MouseEvents","forEach","createTextNode","body","-webkit-text-size-adjust","bottom","hev3","string","imageSmoothingEnabled","function","hev4","getElementById","dingtalk","audioWorklet","-o-user-select","undefined","useWasm","ActiveXObject","element","copyright","application/360softmgrplugin","data","port","craNut","pageX","user-select","mozGetUserMedia","URL","firefox","wow32","performance","buffer","video","green","safari","9999999","copyToChannel","target","WebGL2RenderingContext","pow","setInt8","fillStyle","charCodeAt","hidden","TB/s","getContext","ALAW","Module","GB/s","drawImage","getTime","ZB/s","log","revokeObjectURL","data-","validate","backgroundColor","fillText",'"development"',"mediaDevices","createEvent","toString","mousemove","340huvQvn","green yuv","paused","getPropertyValue","Chrome","imageSmoothingQuality","numberOfChannels","getMinutes","isView","setInt16","chrome","mseDecodeAudio","error","2084Cpileq","attachShadow","100%","now","save","avc1.","subarray","height","3066LehHjC","zIndex"];return(ai=function(){return t})()}function hi(){return ys()&&function(){const t=navigator[$e(313)].toLowerCase();return/macintosh|mac os x/i.test(t)}()}function li(t){return t&&"function"==typeof t}function ci(t){return t/2%4==0}function di(t){const e=$e;if(fs()){let s=0,i=0;if(t[e(414)]&&1===t[e(414)][e(550)]){let r=t.touches[0];s=r.clientX,i=r[e(374)]}return{posX:s,posY:i}}let s=0,i=0;const r=t||window[e(526)];return r[e(233)]||r[e(376)]?(s=r[e(233)],i=r[e(376)]):(r[e(461)]||r[e(374)])&&(s=t[e(461)]+document[e(487)][e(320)]+document[e(212)][e(320)],i=t[e(374)]+document[e(487)][e(408)]+document[e(212)][e(408)]),{posX:s,posY:i}}function ui(){const t=$e;let e=document[t(431)](t(241)),s=e.canPlayType(t(336));return e=null,s}function pi(t){const e=$e;let s=Ri(t[e(472)])&&(t[e(298)]||t[e(366)]&&!t[e(350)])&&Ri(t[e(547)]);return!!(Ri(s)&&t[e(298)]&&t[e(283)]&&Ri(t[e(547)]))||(!!(Ri(s)&&t.useWCS&&t.wcsDecodeAudio&&Ri(t[e(547)]))||s)}function fi(t){const e=$e;let s=null,i=31&t[0];return(i===rt[e(448)]||i===rt.pps)&&(s=tt[e(442)]),!s&&(i=(126&t[0])>>1,(i===nt[e(312)]||i===nt[e(448)]||i===nt[e(364)])&&(s=tt[e(340)])),s}function mi(t){const e=$e;const s=function(t){const e=_s;return t[e(520)]()[e(411)](/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1]}(t[e(270)]()),i=new Blob([s],{type:e(400)});return URL[e(295)](i)}function gi(t){return mi(t)}function yi(t){t[$e(545)]()}function Ai(t){t[$e(545)]()}function vi(){const t=$e;return window[t(389)][t(452)]===t(493)||window[t(389)][t(302)]===t(525)}function bi(t){const e=$e,s=Object[e(332)][e(270)];return function(t){switch(s[e(484)](t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:try{return t instanceof Error}catch(t){return!1}}}(t)?t[e(556)]:null==t?"":typeof t===e(532)?JSON.stringify(t,null,2):String(t)}function Si(t,e){const s=$e,i=e?t[s(299)]((t=>t.type===e)):t;if(i[s(550)]<2)return null;let r=[],n=[i[0]];for(let t=1;t<i[s(550)];t++){const e=i[t].ts-i[t-1].ts;e>0&&e<=150?n[s(486)](i[t]):(n[s(550)]>=10&&r[s(486)](n),n=[i[t]])}if(n[s(550)]>=10&&r[s(486)](n),0===r[s(550)])return null;const o=r[s(460)](((t,e)=>e[s(550)]>t[s(550)]?e:t));let a=0;for(let t=1;t<o[s(550)];t++)a+=o[t].ts-o[t-1].ts;const h=a/(o.length-1);return Math.round(1e3/h)}function wi(t){const e=$e;for(var s=(t+"="[e(477)]((4-t[e(550)]%4)%4))[e(553)](/\-/g,"+")[e(553)](/_/g,"/"),i=window[e(387)](s),r=new Uint8Array(i[e(550)]),n=0;n<i.length;++n)r[n]=i[e(251)](n);return r}function Ei(t){const e=$e,s=/(msie|trident)/i[e(330)](navigator.userAgent),i=document[e(431)]("a");let r=t;return s&&(i[e(344)]("href",r),r=i[e(470)]),i[e(344)](e(470),r),{origin:i[e(378)],href:i[e(470)],protocol:i[e(452)]?i[e(452)].replace(/:$/,""):"",host:i[e(321)],search:i[e(369)]?i[e(369)].replace(/^\?/,""):"",hash:i.hash?i.hash[e(553)](/^#/,""):"",hostname:i[e(302)],port:i[e(231)],pathname:"/"===i[e(482)].charAt(0)?i[e(482)]:"/"+i[e(482)]}}function Ti(){const t=$e;return"xxxx"[t(553)](/[xy]/g,(function(e){const s=t;var i=16*Math.random()|0;return("x"==e?i:3&i|8)[s(270)](16)}))}function Ii(t){const e=$e;let s="";if("object"==typeof t)try{s=JSON[e(421)](t),s=JSON[e(549)](s)}catch(e){s=t}else s=t;return s}function ki(){return Ii(O)}function _i(){return Ii(U)}function Ci(t){const e=$e;return t[0]>>4===It[e(382)]&&t[1]===Tt[e(347)]}function Di(t){return!0===t||t===$e(475)}function Ri(t){return!0!==t&&"true"!==t}function Li(t,e,s){const i=$e;t&&(t[i(390)]?t.dataset[e]=s:t.setAttribute(i(263)+e,s))}function Pi(t,e){const s=$e;return t?t[s(390)]?t[s(390)][e]:t[s(457)](s(263)+e):""}function xi(t,e){const s=$e;t&&(t[s(390)]?delete t[s(390)][e]:t[s(513)](s(263)+e))}function Mi(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()}))}function Bi(){const t=$e;return/iphone/i[t(330)](navigator[t(313)])}function Fi(){const t=$e;return window.performance&&window[t(239)][t(459)]?window.performance[t(459)]:null}function Ui(){const t=$e;try{var e=document[t(431)](t(394));return!(!window[t(247)]||!e[t(254)](t(388)))}catch(t){return!1}}function Oi(){let t=!1;return $e(436)in HTMLVideoElement.prototype&&(t=!0),t}function Ni(){const t=$e;let e=!1;return t(529)in ee&&"function"==typeof ee[t(529)]&&(e=!0),e}function ji(t){const e=$e,s=Math[e(413)](...t),i=Math[e(517)](...t);return t[e(299)]((t=>t!==s&&t!==i))}function Vi(t,e){const s=$e,i=Ke(t[s(492)](5));let r=!1;return i[s(564)]((t=>{const i=s,n=e?t[0]>>>1&63:31&t[0];(e&&(n===nt[i(317)]||n===nt.kSliceBLA_W_RADL||n===nt[i(405)]||n===nt[i(538)]||n===nt.nLp||i(232),n===nt[i(527)])||Ri(e)&&n===rt[i(538)])&&(r=!0)})),r}function Wi(){const t=$e;let e={down:t(409),move:t(271),up:"mouseup",click:t(443),wheel:t(379)};return fs()&&(e={down:t(375),move:t(334),up:t(398),click:"click"}),e}function Gi(t){const e=$e;return t&&!t[e(274)]&&!t.ended&&0!==t[e(385)]&&0!==t[e(478)]}function zi(t){const e=$e;let s=arguments[e(550)]>1&&void 0!==arguments[1]?arguments[1]:{},i=8,r=!1;return t&&t[e(370)]&&t.height&&(r=t[e(370)]>=1920||t[e(292)]>=1080,t[e(536)],e(340)),s[e(366)]?i=16:s[e(225)]&&(i=s[e(483)]?s[e(316)]?r?4:16:r?s[e(557)]?1:3:4:s.useMThreading?r?4:16:r?1:4),i}function Hi(){const t=$e;for(var e=arguments[t(550)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(299)](Boolean))[t(550)]<2)return s[0];const r=new Uint8Array(s[t(460)](((e,s)=>e+s[t(560)]),0));let n=0;return s[t(564)]((e=>{const s=t;r[s(463)](e,n),n+=e[s(560)]})),r}function Ki(){return Di(us)}function qi(){return Ri(us)}function Qi(){return is()>=Number("1753977600000")}const Yi=Ji;function Ji(t,e){const s=$i();return(Ji=function(t,e){return s[t-=240]})(t,e)}!function(t,e){const s=Ji,i=t();for(;;)try{if(418813===parseInt(s(256))/1+-parseInt(s(260))/2*(parseInt(s(240))/3)+parseInt(s(253))/4*(-parseInt(s(242))/5)+parseInt(s(250))/6*(-parseInt(s(248))/7)+parseInt(s(245))/8+parseInt(s(252))/9*(-parseInt(s(254))/10)+-parseInt(s(259))/11*(-parseInt(s(243))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}($i);class Xi{constructor(t){const e=Ji;this.destroys=[],this[e(258)]=this.proxy.bind(this),this[e(262)]=t}[Yi(261)](){const t=Yi;this[t(263)][t(257)]((t=>t())),this[t(263)]=[],this[t(262)].debugLog(t(247),t(261)),this[t(262)]=null}proxy(t,e,s){const i=Yi;let r=arguments[i(255)]>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return;if(Array[i(244)](e))return e[i(251)]((e=>this[i(258)](t,e,s,r)));t[i(249)](e,s,r);const n=()=>{li(t[i(241)])&&t.removeEventListener(e,s,r)};return this[i(263)][i(246)](n),n}}function $i(){const t=["11NaITXD","2booauj","destroy","master","destroys","567357BBklJG","removeEventListener","2989105wNNeXF","2829408VJpMeI","isArray","4870792rgXxIh","push","Events","59486zIeNzd","addEventListener","204DFFtyq","map","27sfATQO","4ZastwK","600700plnblX","length","830262axFWLS","forEach","proxy"];return($i=function(){return t})()}function Zi(t,e){const s=tr();return(Zi=function(t,e){return s[t-=281]})(t,e)}function tr(){const t=["224959vRoNIE","exit","2794yucLgP","request","fullscreen exit error","playbackTimestamp","debugError","54040saAshy","$container","keys","63tXfruV","push","videoSmooth","fullscreenError","playToRenderTimes","player event error","loaded","change","4931905RNPYJF","stats","emitError","toString","player events","currentPts","fullscreenInner","4YAcRsw","timeUpdate","flvMetaData","listen decoderWorkerInit and set loaded true","includes","events","play","debugWarn","fullscreen exit success","1580792cbWILh","78TbhFBu","fullscreen request error","forEach","fullscreen","debugLog","playVodStats","resize","off","audioInfo","935144cOzImB","add","videoInfo","playbackStats","classList","393387UoeRjI","player","then","fullscreen request success","2184024wgprqg","performance","emit","length","catch","useMSE","useWebFullScreen","_opt","webFullscreen"];return(tr=function(){return t})()}!function(t,e){const s=Zi,i=t();for(;;)try{if(722973===-parseInt(s(333))/1*(-parseInt(s(309))/2)+parseInt(s(337))/3+-parseInt(s(328))/4+-parseInt(s(302))/5+parseInt(s(319))/6*(parseInt(s(284))/7)+-parseInt(s(318))/8*(-parseInt(s(294))/9)+parseInt(s(291))/10*(-parseInt(s(286))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tr);function er(t,e){var s=sr();return(er=function(t,e){return s[t-=128]})(t,e)}function sr(){var t=["28907080CeiZqX","hypot","2433039CJcgZP","4VBUjpH","8RcRrai","max","sqrt","2215794xbbeEv","4792545JYbZSI","5tUtmTt","length","abs","1701060GHoZfH","5164271sxuhox","random","210933XVuIYo","undefined"];return(sr=function(){return t})()}var ir=er;!function(t,e){for(var s=er,i=t();;)try{if(443685===-parseInt(s(136))/1+-parseInt(s(133))/2+-parseInt(s(140))/3*(parseInt(s(141))/4)+parseInt(s(130))/5*(-parseInt(s(128))/6)+-parseInt(s(134))/7*(parseInt(s(142))/8)+parseInt(s(129))/9+parseInt(s(138))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sr);var rr=1e-6,nr=typeof Float32Array!==ir(137)?Float32Array:Array,or=Math[ir(135)];var ar=Math.PI/180;Math[ir(139)]||(Math[ir(139)]=function(){for(var t=ir,e=0,s=arguments[t(131)];s--;)e+=arguments[s]*arguments[s];return Math[t(144)](e)});var hr=Object.freeze({__proto__:null,EPSILON:rr,get ARRAY_TYPE(){return nr},RANDOM:or,setMatrixArrayType:function(t){nr=t},toRadian:function(t){return t*ar},equals:function(t,e){var s=ir;return Math[s(132)](t-e)<=rr*Math[s(143)](1,Math[s(132)](t),Math[s(132)](e))}});function lr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cr(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=e[8],u=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],A=e[15],v=s[0],b=s[1],S=s[2],w=s[3];return t[0]=v*i+b*a+S*d+w*m,t[1]=v*r+b*h+S*u+w*g,t[2]=v*n+b*l+S*p+w*y,t[3]=v*o+b*c+S*f+w*A,v=s[4],b=s[5],S=s[6],w=s[7],t[4]=v*i+b*a+S*d+w*m,t[5]=v*r+b*h+S*u+w*g,t[6]=v*n+b*l+S*p+w*y,t[7]=v*o+b*c+S*f+w*A,v=s[8],b=s[9],S=s[10],w=s[11],t[8]=v*i+b*a+S*d+w*m,t[9]=v*r+b*h+S*u+w*g,t[10]=v*n+b*l+S*p+w*y,t[11]=v*o+b*c+S*f+w*A,v=s[12],b=s[13],S=s[14],w=s[15],t[12]=v*i+b*a+S*d+w*m,t[13]=v*r+b*h+S*u+w*g,t[14]=v*n+b*l+S*p+w*y,t[15]=v*o+b*c+S*f+w*A,t}function dr(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3],a=i+i,h=r+r,l=n+n,c=i*a,d=i*h,u=i*l,p=r*h,f=r*l,m=n*l,g=o*a,y=o*h,A=o*l;return t[0]=1-(p+m),t[1]=d+A,t[2]=u-y,t[3]=0,t[4]=d-A,t[5]=1-(c+m),t[6]=f+g,t[7]=0,t[8]=u+y,t[9]=f-g,t[10]=1-(c+p),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}function ur(){var t=["sqrt","3616tVpihq","9497328KvPAwj","leftDegrees","max","rightDegrees","downDegrees","abs","ARRAY_TYPE","3365KXsQkJ","sin","11049849jRKJDn","hypot","1972440EAmJnP","EPSILON","tan","66dIRvaA","11019547agzjYh","9306IFcVfg","upDegrees","5038266xDxAOM","cos"];return(ur=function(){return t})()}function pr(t,e){var s=mr,i=e[0],r=e[1],n=e[2],o=e[4],a=e[5],h=e[6],l=e[8],c=e[9],d=e[10];return t[0]=Math.hypot(i,r,n),t[1]=Math[s(141)](o,a,h),t[2]=Math[s(141)](l,c,d),t}function fr(t,e,s,i,r){var n,o=1/Math.tan(e/2);return t[0]=o/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(n=1/(i-r),t[10]=(r+i)*n,t[14]=2*r*i*n):(t[10]=-1,t[14]=-2*i),t}function mr(t,e){var s=ur();return(mr=function(t,e){return s[t-=137]})(t,e)}!function(t,e){for(var s=mr,i=t();;)try{if(988113===-parseInt(s(142))/1+parseInt(s(147))/2*(-parseInt(s(145))/3)+-parseInt(s(152))/4*(-parseInt(s(138))/5)+parseInt(s(149))/6+parseInt(s(146))/7+-parseInt(s(153))/8+parseInt(s(140))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ur);var gr=fr;function yr(t,e,s,i,r,n,o){var a=1/(e-s),h=1/(i-r),l=1/(n-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+s)*a,t[13]=(r+i)*h,t[14]=(o+n)*l,t[15]=1,t}var Ar=yr;function vr(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}var br=cr,Sr=vr,wr=Object.freeze({__proto__:null,create:function(){var t=mr,e=new(hr[t(137)])(16);return hr[t(137)]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},clone:function(t){var e=new(hr[mr(137)])(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(t,e,s,i,r,n,o,a,h,l,c,d,u,p,f,m){var g=new(hr[mr(137)])(16);return g[0]=t,g[1]=e,g[2]=s,g[3]=i,g[4]=r,g[5]=n,g[6]=o,g[7]=a,g[8]=h,g[9]=l,g[10]=c,g[11]=d,g[12]=u,g[13]=p,g[14]=f,g[15]=m,g},set:function(t,e,s,i,r,n,o,a,h,l,c,d,u,p,f,m,g){return t[0]=e,t[1]=s,t[2]=i,t[3]=r,t[4]=n,t[5]=o,t[6]=a,t[7]=h,t[8]=l,t[9]=c,t[10]=d,t[11]=u,t[12]=p,t[13]=f,t[14]=m,t[15]=g,t},identity:lr,transpose:function(t,e){if(t===e){var s=e[1],i=e[2],r=e[3],n=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=s,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=n,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],A=s*a-i*o,v=s*h-r*o,b=s*l-n*o,S=i*h-r*a,w=i*l-n*a,E=r*l-n*h,T=c*m-d*f,I=c*g-u*f,k=c*y-p*f,_=d*g-u*m,C=d*y-p*m,D=u*y-p*g,R=A*D-v*C+b*_+S*k-w*I+E*T;return R?(R=1/R,t[0]=(a*D-h*C+l*_)*R,t[1]=(r*C-i*D-n*_)*R,t[2]=(m*E-g*w+y*S)*R,t[3]=(u*w-d*E-p*S)*R,t[4]=(h*k-o*D-l*I)*R,t[5]=(s*D-r*k+n*I)*R,t[6]=(g*b-f*E-y*v)*R,t[7]=(c*E-u*b+p*v)*R,t[8]=(o*C-a*k+l*T)*R,t[9]=(i*k-s*C-n*T)*R,t[10]=(f*w-m*b+y*A)*R,t[11]=(d*b-c*w-p*A)*R,t[12]=(a*I-o*_-h*T)*R,t[13]=(s*_-i*I+r*T)*R,t[14]=(m*v-f*S-g*A)*R,t[15]=(c*S-d*v+u*A)*R,t):null},adjoint:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15];return t[0]=a*(u*y-p*g)-d*(h*y-l*g)+m*(h*p-l*u),t[1]=-(i*(u*y-p*g)-d*(r*y-n*g)+m*(r*p-n*u)),t[2]=i*(h*y-l*g)-a*(r*y-n*g)+m*(r*l-n*h),t[3]=-(i*(h*p-l*u)-a*(r*p-n*u)+d*(r*l-n*h)),t[4]=-(o*(u*y-p*g)-c*(h*y-l*g)+f*(h*p-l*u)),t[5]=s*(u*y-p*g)-c*(r*y-n*g)+f*(r*p-n*u),t[6]=-(s*(h*y-l*g)-o*(r*y-n*g)+f*(r*l-n*h)),t[7]=s*(h*p-l*u)-o*(r*p-n*u)+c*(r*l-n*h),t[8]=o*(d*y-p*m)-c*(a*y-l*m)+f*(a*p-l*d),t[9]=-(s*(d*y-p*m)-c*(i*y-n*m)+f*(i*p-n*d)),t[10]=s*(a*y-l*m)-o*(i*y-n*m)+f*(i*l-n*a),t[11]=-(s*(a*p-l*d)-o*(i*p-n*d)+c*(i*l-n*a)),t[12]=-(o*(d*g-u*m)-c*(a*g-h*m)+f*(a*u-h*d)),t[13]=s*(d*g-u*m)-c*(i*g-r*m)+f*(i*u-r*d),t[14]=-(s*(a*g-h*m)-o*(i*g-r*m)+f*(i*h-r*a)),t[15]=s*(a*u-h*d)-o*(i*u-r*d)+c*(i*h-r*a),t},determinant:function(t){var e=t[0],s=t[1],i=t[2],r=t[3],n=t[4],o=t[5],a=t[6],h=t[7],l=t[8],c=t[9],d=t[10],u=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-s*n)*(d*g-u*m)-(e*a-i*n)*(c*g-u*f)+(e*h-r*n)*(c*m-d*f)+(s*a-i*o)*(l*g-u*p)-(s*h-r*o)*(l*m-d*p)+(i*h-r*a)*(l*f-c*p)},multiply:cr,translate:function(t,e,s){var i,r,n,o,a,h,l,c,d,u,p,f,m=s[0],g=s[1],y=s[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=e[8],u=e[9],p=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=h,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=p,t[11]=f,t[12]=i*m+a*g+d*y+e[12],t[13]=r*m+h*g+u*y+e[13],t[14]=n*m+l*g+p*y+e[14],t[15]=o*m+c*g+f*y+e[15]),t},scale:function(t,e,s){var i=s[0],r=s[1],n=s[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},rotate:function(t,e,s,i){var r,n,o,a,h,l,c,d,u,p,f,m,g,y,A,v,b,S,w,E,T,I,k,_,C=mr,D=i[0],R=i[1],L=i[2],P=Math[C(141)](D,R,L);return P<rr?null:(D*=P=1/P,R*=P,L*=P,r=Math[C(139)](s),o=1-(n=Math[C(150)](s)),a=e[0],h=e[1],l=e[2],c=e[3],d=e[4],u=e[5],p=e[6],f=e[7],m=e[8],g=e[9],y=e[10],A=e[11],v=D*D*o+n,b=R*D*o+L*r,S=L*D*o-R*r,w=D*R*o-L*r,E=R*R*o+n,T=L*R*o+D*r,I=D*L*o+R*r,k=R*L*o-D*r,_=L*L*o+n,t[0]=a*v+d*b+m*S,t[1]=h*v+u*b+g*S,t[2]=l*v+p*b+y*S,t[3]=c*v+f*b+A*S,t[4]=a*w+d*E+m*T,t[5]=h*w+u*E+g*T,t[6]=l*w+p*E+y*T,t[7]=c*w+f*E+A*T,t[8]=a*I+d*k+m*_,t[9]=h*I+u*k+g*_,t[10]=l*I+p*k+y*_,t[11]=c*I+f*k+A*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},rotateX:function(t,e,s){var i=mr,r=Math[i(139)](s),n=Math[i(150)](s),o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+c*r,t[5]=a*n+d*r,t[6]=h*n+u*r,t[7]=l*n+p*r,t[8]=c*n-o*r,t[9]=d*n-a*r,t[10]=u*n-h*r,t[11]=p*n-l*r,t},rotateY:function(t,e,s){var i=Math.sin(s),r=Math.cos(s),n=e[0],o=e[1],a=e[2],h=e[3],l=e[8],c=e[9],d=e[10],u=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*r-l*i,t[1]=o*r-c*i,t[2]=a*r-d*i,t[3]=h*r-u*i,t[8]=n*i+l*r,t[9]=o*i+c*r,t[10]=a*i+d*r,t[11]=h*i+u*r,t},rotateZ:function(t,e,s){var i=mr,r=Math[i(139)](s),n=Math[i(150)](s),o=e[0],a=e[1],h=e[2],l=e[3],c=e[4],d=e[5],u=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+c*r,t[1]=a*n+d*r,t[2]=h*n+u*r,t[3]=l*n+p*r,t[4]=c*n-o*r,t[5]=d*n-a*r,t[6]=u*n-h*r,t[7]=p*n-l*r,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,e,s){var i,r,n,o=mr,a=s[0],h=s[1],l=s[2],c=Math[o(141)](a,h,l);return c<hr[o(143)]?null:(a*=c=1/c,h*=c,l*=c,i=Math[o(139)](e),n=1-(r=Math[o(150)](e)),t[0]=a*a*n+r,t[1]=h*a*n+l*i,t[2]=l*a*n-h*i,t[3]=0,t[4]=a*h*n-l*i,t[5]=h*h*n+r,t[6]=l*h*n+a*i,t[7]=0,t[8]=a*l*n+h*i,t[9]=h*l*n-a*i,t[10]=l*l*n+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,e){var s=mr,i=Math[s(139)](e),r=Math[s(150)](e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,e){var s=mr,i=Math[s(139)](e),r=Math[s(150)](e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){var s=mr,i=Math[s(139)](e),r=Math[s(150)](e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:dr,fromQuat2:function(t,e){var s=new(hr[mr(137)])(3),i=-e[0],r=-e[1],n=-e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=i*i+r*r+n*n+o*o;return d>0?(s[0]=2*(a*o+c*i+h*n-l*r)/d,s[1]=2*(h*o+c*r+l*i-a*n)/d,s[2]=2*(l*o+c*n+a*r-h*i)/d):(s[0]=2*(a*o+c*i+h*n-l*r),s[1]=2*(h*o+c*r+l*i-a*n),s[2]=2*(l*o+c*n+a*r-h*i)),dr(t,e,s),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},getScaling:pr,getRotation:function(t,e){var s=mr,i=new(hr[s(137)])(3);pr(i,e);var r=1/i[0],n=1/i[1],o=1/i[2],a=e[0]*r,h=e[1]*n,l=e[2]*o,c=e[4]*r,d=e[5]*n,u=e[6]*o,p=e[8]*r,f=e[9]*n,m=e[10]*o,g=a+d+m,y=0;return g>0?(y=2*Math[s(151)](g+1),t[3]=.25*y,t[0]=(u-f)/y,t[1]=(p-l)/y,t[2]=(h-c)/y):a>d&&a>m?(y=2*Math[s(151)](1+a-d-m),t[3]=(u-f)/y,t[0]=.25*y,t[1]=(h+c)/y,t[2]=(p+l)/y):d>m?(y=2*Math[s(151)](1+d-a-m),t[3]=(p-l)/y,t[0]=(h+c)/y,t[1]=.25*y,t[2]=(u+f)/y):(y=2*Math[s(151)](1+m-a-d),t[3]=(h-c)/y,t[0]=(p+l)/y,t[1]=(u+f)/y,t[2]=.25*y),t},fromRotationTranslationScale:function(t,e,s,i){var r=e[0],n=e[1],o=e[2],a=e[3],h=r+r,l=n+n,c=o+o,d=r*h,u=r*l,p=r*c,f=n*l,m=n*c,g=o*c,y=a*h,A=a*l,v=a*c,b=i[0],S=i[1],w=i[2];return t[0]=(1-(f+g))*b,t[1]=(u+v)*b,t[2]=(p-A)*b,t[3]=0,t[4]=(u-v)*S,t[5]=(1-(d+g))*S,t[6]=(m+y)*S,t[7]=0,t[8]=(p+A)*w,t[9]=(m-y)*w,t[10]=(1-(d+f))*w,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,s,i,r){var n=e[0],o=e[1],a=e[2],h=e[3],l=n+n,c=o+o,d=a+a,u=n*l,p=n*c,f=n*d,m=o*c,g=o*d,y=a*d,A=h*l,v=h*c,b=h*d,S=i[0],w=i[1],E=i[2],T=r[0],I=r[1],k=r[2],_=(1-(m+y))*S,C=(p+b)*S,D=(f-v)*S,R=(p-b)*w,L=(1-(u+y))*w,P=(g+A)*w,x=(f+v)*E,M=(g-A)*E,B=(1-(u+m))*E;return t[0]=_,t[1]=C,t[2]=D,t[3]=0,t[4]=R,t[5]=L,t[6]=P,t[7]=0,t[8]=x,t[9]=M,t[10]=B,t[11]=0,t[12]=s[0]+T-(_*T+R*I+x*k),t[13]=s[1]+I-(C*T+L*I+M*k),t[14]=s[2]+k-(D*T+P*I+B*k),t[15]=1,t},fromQuat:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=s+s,a=i+i,h=r+r,l=s*o,c=i*o,d=i*a,u=r*o,p=r*a,f=r*h,m=n*o,g=n*a,y=n*h;return t[0]=1-d-f,t[1]=c+y,t[2]=u-g,t[3]=0,t[4]=c-y,t[5]=1-l-f,t[6]=p+m,t[7]=0,t[8]=u+g,t[9]=p-m,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,s,i,r,n,o){var a=1/(s-e),h=1/(r-i),l=1/(n-o);return t[0]=2*n*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*h,t[6]=0,t[7]=0,t[8]=(s+e)*a,t[9]=(r+i)*h,t[10]=(o+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n*2*l,t[15]=0,t},perspectiveNO:fr,perspective:gr,perspectiveZO:function(t,e,s,i,r){var n,o=1/Math[mr(144)](e/2);return t[0]=o/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(n=1/(i-r),t[10]=r*n,t[14]=r*i*n):(t[10]=-1,t[14]=-i),t},perspectiveFromFieldOfView:function(t,e,s,i){var r=mr,n=Math.tan(e[r(148)]*Math.PI/180),o=Math.tan(e[r(157)]*Math.PI/180),a=Math[r(144)](e[r(154)]*Math.PI/180),h=Math[r(144)](e[r(156)]*Math.PI/180),l=2/(a+h),c=2/(n+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-h)*l*.5,t[9]=(n-o)*c*.5,t[10]=i/(s-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*s/(s-i),t[15]=0,t},orthoNO:yr,ortho:Ar,orthoZO:function(t,e,s,i,r,n,o){var a=1/(e-s),h=1/(i-r),l=1/(n-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+s)*a,t[13]=(r+i)*h,t[14]=n*l,t[15]=1,t},lookAt:function(t,e,s,i){var r,n,o,a,h,l,c,d,u,p,f=mr,m=e[0],g=e[1],y=e[2],A=i[0],v=i[1],b=i[2],S=s[0],w=s[1],E=s[2];return Math[f(158)](m-S)<hr[f(143)]&&Math[f(158)](g-w)<hr[f(143)]&&Math[f(158)](y-E)<hr[f(143)]?lr(t):(c=m-S,d=g-w,u=y-E,r=v*(u*=p=1/Math.hypot(c,d,u))-b*(d*=p),n=b*(c*=p)-A*u,o=A*d-v*c,(p=Math[f(141)](r,n,o))?(r*=p=1/p,n*=p,o*=p):(r=0,n=0,o=0),a=d*o-u*n,h=u*r-c*o,l=c*n-d*r,(p=Math[f(141)](a,h,l))?(a*=p=1/p,h*=p,l*=p):(a=0,h=0,l=0),t[0]=r,t[1]=a,t[2]=c,t[3]=0,t[4]=n,t[5]=h,t[6]=d,t[7]=0,t[8]=o,t[9]=l,t[10]=u,t[11]=0,t[12]=-(r*m+n*g+o*y),t[13]=-(a*m+h*g+l*y),t[14]=-(c*m+d*g+u*y),t[15]=1,t)},targetTo:function(t,e,s,i){var r=mr,n=e[0],o=e[1],a=e[2],h=i[0],l=i[1],c=i[2],d=n-s[0],u=o-s[1],p=a-s[2],f=d*d+u*u+p*p;f>0&&(d*=f=1/Math[r(151)](f),u*=f,p*=f);var m=l*p-c*u,g=c*d-h*p,y=h*u-l*d;return(f=m*m+g*g+y*y)>0&&(m*=f=1/Math[r(151)](f),g*=f,y*=f),t[0]=m,t[1]=g,t[2]=y,t[3]=0,t[4]=u*y-p*g,t[5]=p*m-d*y,t[6]=d*g-u*m,t[7]=0,t[8]=d,t[9]=u,t[10]=p,t[11]=0,t[12]=n,t[13]=o,t[14]=a,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math[mr(141)](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t},subtract:vr,multiplyScalar:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t},multiplyScalarAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t[3]=e[3]+s[3]*i,t[4]=e[4]+s[4]*i,t[5]=e[5]+s[5]*i,t[6]=e[6]+s[6]*i,t[7]=e[7]+s[7]*i,t[8]=e[8]+s[8]*i,t[9]=e[9]+s[9]*i,t[10]=e[10]+s[10]*i,t[11]=e[11]+s[11]*i,t[12]=e[12]+s[12]*i,t[13]=e[13]+s[13]*i,t[14]=e[14]+s[14]*i,t[15]=e[15]+s[15]*i,t},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},equals:function(t,e){var s=mr,i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],h=t[5],l=t[6],c=t[7],d=t[8],u=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],A=t[15],v=e[0],b=e[1],S=e[2],w=e[3],E=e[4],T=e[5],I=e[6],k=e[7],_=e[8],C=e[9],D=e[10],R=e[11],L=e[12],P=e[13],x=e[14],M=e[15];return Math[s(158)](i-v)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](i),Math[s(158)](v))&&Math.abs(r-b)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](r),Math.abs(b))&&Math[s(158)](n-S)<=hr[s(143)]*Math.max(1,Math[s(158)](n),Math[s(158)](S))&&Math[s(158)](o-w)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](o),Math[s(158)](w))&&Math[s(158)](a-E)<=rr*Math[s(155)](1,Math.abs(a),Math.abs(E))&&Math.abs(h-T)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](h),Math[s(158)](T))&&Math[s(158)](l-I)<=hr[s(143)]*Math.max(1,Math[s(158)](l),Math[s(158)](I))&&Math[s(158)](c-k)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](c),Math.abs(k))&&Math.abs(d-_)<=rr*Math.max(1,Math.abs(d),Math.abs(_))&&Math[s(158)](u-C)<=hr[s(143)]*Math.max(1,Math[s(158)](u),Math[s(158)](C))&&Math[s(158)](p-D)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](p),Math[s(158)](D))&&Math[s(158)](f-R)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](f),Math.abs(R))&&Math[s(158)](m-L)<=rr*Math[s(155)](1,Math[s(158)](m),Math[s(158)](L))&&Math[s(158)](g-P)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](g),Math[s(158)](P))&&Math[s(158)](y-x)<=hr[s(143)]*Math[s(155)](1,Math[s(158)](y),Math[s(158)](x))&&Math.abs(A-M)<=rr*Math[s(155)](1,Math.abs(A),Math.abs(M))},mul:br,sub:Sr});function Er(){var t=new(hr[Ir(111)])(3);return nr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Tr(t){var e=Ir,s=t[0],i=t[1],r=t[2];return Math[e(113)](s,i,r)}function Ir(t,e){var s=Mr();return(Ir=function(t,e){return s[t-=102]})(t,e)}function kr(t,e,s){var i=new nr(3);return i[0]=t,i[1]=e,i[2]=s,i}function _r(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}function Cr(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}function Dr(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}function Rr(t,e){var s=Ir,i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math[s(113)](i,r,n)}function Lr(t,e){var s=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return s*s+i*i+r*r}function Pr(t){var e=t[0],s=t[1],i=t[2];return e*e+s*s+i*i}function xr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Mr(){var t=["length","99692omgocJ","min","392vhiSRn","max","RANDOM","cos","160360XETkJE","1085065TzfUHj","51LZfuVg","EPSILON","1474YGmKjt","ARRAY_TYPE","217804hMDsTw","hypot","round","sin","sqrt","881466MFAhbV","abs","ceil","acos","4945336LPVWvj","9ZQaPqJ","vec3(","floor","48264YEFgZC"];return(Mr=function(){return t})()}!function(t,e){for(var s=Ir,i=t();;)try{if(523737===-parseInt(s(117))/1+-parseInt(s(127))/2*(parseInt(s(108))/3)+parseInt(s(112))/4+parseInt(s(107))/5+parseInt(s(125))/6*(parseInt(s(102))/7)+parseInt(s(121))/8*(-parseInt(s(122))/9)+-parseInt(s(106))/10*(-parseInt(s(110))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mr);var Br,Fr=_r,Ur=Cr,Or=Dr,Nr=Rr,jr=Lr,Vr=Tr,Wr=Pr,Gr=(Br=Er(),function(t,e,s,i,r,n){var o,a,h=Ir;for(!e&&(e=3),!s&&(s=0),a=i?Math[h(128)](i*e+s,t[h(126)]):t[h(126)],o=s;o<a;o+=e)Br[0]=t[o],Br[1]=t[o+1],Br[2]=t[o+2],r(Br,Br,n),t[o]=Br[0],t[o+1]=Br[1],t[o+2]=Br[2];return t}),zr=Object.freeze({__proto__:null,create:Er,clone:function(t){var e=new(hr[Ir(111)])(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},length:Tr,fromValues:kr,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,s,i){return t[0]=e,t[1]=s,t[2]=i,t},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t},subtract:_r,multiply:Cr,divide:Dr,ceil:function(t,e){var s=Ir;return t[0]=Math[s(119)](e[0]),t[1]=Math[s(119)](e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){var s=Ir;return t[0]=Math[s(124)](e[0]),t[1]=Math.floor(e[1]),t[2]=Math[s(124)](e[2]),t},min:function(t,e,s){var i=Ir;return t[0]=Math[i(128)](e[0],s[0]),t[1]=Math[i(128)](e[1],s[1]),t[2]=Math.min(e[2],s[2]),t},max:function(t,e,s){var i=Ir;return t[0]=Math[i(103)](e[0],s[0]),t[1]=Math[i(103)](e[1],s[1]),t[2]=Math[i(103)](e[2],s[2]),t},round:function(t,e){var s=Ir;return t[0]=Math[s(114)](e[0]),t[1]=Math[s(114)](e[1]),t[2]=Math[s(114)](e[2]),t},scale:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t},scaleAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t},distance:Rr,squaredDistance:Lr,squaredLength:Pr,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:function(t,e){var s=Ir,i=e[0],r=e[1],n=e[2],o=i*i+r*r+n*n;return o>0&&(o=1/Math[s(116)](o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},dot:xr,cross:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[0],a=s[1],h=s[2];return t[0]=r*h-n*a,t[1]=n*o-i*h,t[2]=i*a-r*o,t},lerp:function(t,e,s,i){var r=e[0],n=e[1],o=e[2];return t[0]=r+i*(s[0]-r),t[1]=n+i*(s[1]-n),t[2]=o+i*(s[2]-o),t},hermite:function(t,e,s,i,r,n){var o=n*n,a=o*(2*n-3)+1,h=o*(n-2)+n,l=o*(n-1),c=o*(3-2*n);return t[0]=e[0]*a+s[0]*h+i[0]*l+r[0]*c,t[1]=e[1]*a+s[1]*h+i[1]*l+r[1]*c,t[2]=e[2]*a+s[2]*h+i[2]*l+r[2]*c,t},bezier:function(t,e,s,i,r,n){var o=1-n,a=o*o,h=n*n,l=a*o,c=3*n*a,d=3*h*o,u=h*n;return t[0]=e[0]*l+s[0]*c+i[0]*d+r[0]*u,t[1]=e[1]*l+s[1]*c+i[1]*d+r[1]*u,t[2]=e[2]*l+s[2]*c+i[2]*d+r[2]*u,t},random:function(t,e){var s=Ir;e=e||1;var i=2*or()*Math.PI,r=2*hr[s(104)]()-1,n=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*n,t[1]=Math[s(115)](i)*n,t[2]=r*e,t},transformMat4:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[3]*i+s[7]*r+s[11]*n+s[15];return o=o||1,t[0]=(s[0]*i+s[4]*r+s[8]*n+s[12])/o,t[1]=(s[1]*i+s[5]*r+s[9]*n+s[13])/o,t[2]=(s[2]*i+s[6]*r+s[10]*n+s[14])/o,t},transformMat3:function(t,e,s){var i=e[0],r=e[1],n=e[2];return t[0]=i*s[0]+r*s[3]+n*s[6],t[1]=i*s[1]+r*s[4]+n*s[7],t[2]=i*s[2]+r*s[5]+n*s[8],t},transformQuat:function(t,e,s){var i=s[0],r=s[1],n=s[2],o=s[3],a=e[0],h=e[1],l=e[2],c=r*l-n*h,d=n*a-i*l,u=i*h-r*a,p=r*u-n*d,f=n*c-i*u,m=i*d-r*c,g=2*o;return c*=g,d*=g,u*=g,p*=2,f*=2,m*=2,t[0]=a+c+p,t[1]=h+d+f,t[2]=l+u+m,t},rotateX:function(t,e,s,i){var r=Ir,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[0],o[1]=n[1]*Math[r(105)](i)-n[2]*Math[r(115)](i),o[2]=n[1]*Math.sin(i)+n[2]*Math[r(105)](i),t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},rotateY:function(t,e,s,i){var r=Ir,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[2]*Math[r(115)](i)+n[0]*Math[r(105)](i),o[1]=n[1],o[2]=n[2]*Math.cos(i)-n[0]*Math[r(115)](i),t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},rotateZ:function(t,e,s,i){var r=Ir,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[0]*Math[r(105)](i)-n[1]*Math[r(115)](i),o[1]=n[0]*Math[r(115)](i)+n[1]*Math[r(105)](i),o[2]=n[2],t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},angle:function(t,e){var s=Ir,i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],h=e[2],l=Math[s(116)](i*i+r*r+n*n)*Math[s(116)](o*o+a*a+h*h),c=l&&xr(t,e)/l;return Math[s(120)](Math[s(128)](Math.max(c,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t},str:function(t){return Ir(123)+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},equals:function(t,e){var s=Ir,i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],h=e[2];return Math[s(118)](i-o)<=rr*Math[s(103)](1,Math[s(118)](i),Math[s(118)](o))&&Math[s(118)](r-a)<=hr[s(109)]*Math[s(103)](1,Math[s(118)](r),Math[s(118)](a))&&Math[s(118)](n-h)<=hr[s(109)]*Math[s(103)](1,Math[s(118)](n),Math[s(118)](h))},sub:Fr,mul:Ur,div:Or,dist:Nr,sqrDist:jr,len:Vr,sqrLen:Wr,forEach:Gr});function Hr(){var t=["1033783UbuNYO","698730fNoxYf","ceil","vec4(","1914544wNeMOq","6idiCsu","sqrt","818170qlPDVi","EPSILON","671elQvcW","10617jzTYDh","8658328KlVFyl","hypot","abs","32KyNTMT","min","length","round","668BvcAxP","RANDOM","ARRAY_TYPE","max","600282gnAxqa","floor"];return(Hr=function(){return t})()}function Kr(){var t=Jr,e=new(hr[t(223)])(4);return hr[t(223)]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function qr(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}function Qr(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t[3]=e[3]*s[3],t}function Yr(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t[3]=e[3]/s[3],t}function Jr(t,e){var s=Hr();return(Jr=function(t,e){return s[t-=210]})(t,e)}function Xr(t,e){var s=Jr,i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return Math[s(215)](i,r,n,o)}function $r(t,e){var s=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],n=e[3]-t[3];return s*s+i*i+r*r+n*n}function Zr(t){var e=t[0],s=t[1],i=t[2],r=t[3];return Math.hypot(e,s,i,r)}function tn(t){var e=t[0],s=t[1],i=t[2],r=t[3];return e*e+s*s+i*i+r*r}!function(t,e){for(var s=Jr,i=t();;)try{if(726172===-parseInt(s(227))/1+parseInt(s(221))/2*(-parseInt(s(213))/3)+parseInt(s(217))/4*(-parseInt(s(228))/5)+-parseInt(s(232))/6*(parseInt(s(214))/7)+parseInt(s(231))/8+parseInt(s(225))/9+-parseInt(s(210))/10*(-parseInt(s(212))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Hr);var en,sn=qr,rn=Qr,nn=Yr,on=Xr,an=$r,hn=Zr,ln=tn,cn=(en=Kr(),function(t,e,s,i,r,n){var o,a,h=Jr;for(!e&&(e=4),!s&&(s=0),a=i?Math[h(218)](i*e+s,t[h(219)]):t[h(219)],o=s;o<a;o+=e)en[0]=t[o],en[1]=t[o+1],en[2]=t[o+2],en[3]=t[o+3],r(en,en,n),t[o]=en[0],t[o+1]=en[1],t[o+2]=en[2],t[o+3]=en[3];return t}),dn=Object.freeze({__proto__:null,create:Kr,clone:function(t){var e=new(hr[Jr(223)])(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,s,i){var r=new(hr[Jr(223)])(4);return r[0]=t,r[1]=e,r[2]=s,r[3]=i,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,s,i,r){return t[0]=e,t[1]=s,t[2]=i,t[3]=r,t},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t},subtract:qr,multiply:Qr,divide:Yr,ceil:function(t,e){var s=Jr;return t[0]=Math[s(229)](e[0]),t[1]=Math[s(229)](e[1]),t[2]=Math[s(229)](e[2]),t[3]=Math[s(229)](e[3]),t},floor:function(t,e){var s=Jr;return t[0]=Math[s(226)](e[0]),t[1]=Math[s(226)](e[1]),t[2]=Math.floor(e[2]),t[3]=Math[s(226)](e[3]),t},min:function(t,e,s){var i=Jr;return t[0]=Math.min(e[0],s[0]),t[1]=Math[i(218)](e[1],s[1]),t[2]=Math.min(e[2],s[2]),t[3]=Math[i(218)](e[3],s[3]),t},max:function(t,e,s){var i=Jr;return t[0]=Math[i(224)](e[0],s[0]),t[1]=Math[i(224)](e[1],s[1]),t[2]=Math[i(224)](e[2],s[2]),t[3]=Math[i(224)](e[3],s[3]),t},round:function(t,e){var s=Jr;return t[0]=Math[s(220)](e[0]),t[1]=Math.round(e[1]),t[2]=Math[s(220)](e[2]),t[3]=Math[s(220)](e[3]),t},scale:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t},scaleAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t[3]=e[3]+s[3]*i,t},distance:Xr,squaredDistance:$r,length:Zr,squaredLength:tn,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:function(t,e){var s=Jr,i=e[0],r=e[1],n=e[2],o=e[3],a=i*i+r*r+n*n+o*o;return a>0&&(a=1/Math[s(233)](a)),t[0]=i*a,t[1]=r*a,t[2]=n*a,t[3]=o*a,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},cross:function(t,e,s,i){var r=s[0]*i[1]-s[1]*i[0],n=s[0]*i[2]-s[2]*i[0],o=s[0]*i[3]-s[3]*i[0],a=s[1]*i[2]-s[2]*i[1],h=s[1]*i[3]-s[3]*i[1],l=s[2]*i[3]-s[3]*i[2],c=e[0],d=e[1],u=e[2],p=e[3];return t[0]=d*l-u*h+p*a,t[1]=-c*l+u*o-p*n,t[2]=c*h-d*o+p*r,t[3]=-c*a+d*n-u*r,t},lerp:function(t,e,s,i){var r=e[0],n=e[1],o=e[2],a=e[3];return t[0]=r+i*(s[0]-r),t[1]=n+i*(s[1]-n),t[2]=o+i*(s[2]-o),t[3]=a+i*(s[3]-a),t},random:function(t,e){var s,i,r,n,o,a,h=Jr;e=e||1;do{o=(s=2*or()-1)*s+(i=2*or()-1)*i}while(o>=1);do{a=(r=2*hr[h(222)]()-1)*r+(n=2*hr[h(222)]()-1)*n}while(a>=1);var l=Math.sqrt((1-o)/a);return t[0]=e*s,t[1]=e*i,t[2]=e*r*l,t[3]=e*n*l,t},transformMat4:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3];return t[0]=s[0]*i+s[4]*r+s[8]*n+s[12]*o,t[1]=s[1]*i+s[5]*r+s[9]*n+s[13]*o,t[2]=s[2]*i+s[6]*r+s[10]*n+s[14]*o,t[3]=s[3]*i+s[7]*r+s[11]*n+s[15]*o,t},transformQuat:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[0],a=s[1],h=s[2],l=s[3],c=l*i+a*n-h*r,d=l*r+h*i-o*n,u=l*n+o*r-a*i,p=-o*i-a*r-h*n;return t[0]=c*l+p*-o+d*-h-u*-a,t[1]=d*l+p*-a+u*-o-c*-h,t[2]=u*l+p*-h+c*-a-d*-o,t[3]=e[3],t},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},str:function(t){return Jr(230)+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},equals:function(t,e){var s=Jr,i=t[0],r=t[1],n=t[2],o=t[3],a=e[0],h=e[1],l=e[2],c=e[3];return Math[s(216)](i-a)<=hr[s(211)]*Math[s(224)](1,Math.abs(i),Math[s(216)](a))&&Math.abs(r-h)<=hr[s(211)]*Math[s(224)](1,Math[s(216)](r),Math[s(216)](h))&&Math[s(216)](n-l)<=hr[s(211)]*Math[s(224)](1,Math.abs(n),Math[s(216)](l))&&Math[s(216)](o-c)<=hr[s(211)]*Math[s(224)](1,Math[s(216)](o),Math.abs(c))},sub:sn,mul:rn,div:nn,dist:on,sqrDist:an,len:hn,sqrLen:ln,forEach:cn});function un(t,e){var s=pn();return(un=function(t,e){return s[t-=103]})(t,e)}function pn(){var t=["12990dAolRj","1523144rqgSBX","510390GRIBsI","2PtUTVI","27997BFFUBF","4473miJPUy","105126fhuMzV","478472FhjCGq","200487WWiHUL","5GjAWne"];return(pn=function(){return t})()}!function(t,e){for(var s=un,i=t();;)try{if(126345===-parseInt(s(110))/1*(parseInt(s(109))/2)+-parseInt(s(108))/3+-parseInt(s(103))/4*(parseInt(s(105))/5)+parseInt(s(112))/6+-parseInt(s(104))/7+-parseInt(s(107))/8+parseInt(s(111))/9*(parseInt(s(106))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pn);const fn=mn;function mn(t,e){const s=gn();return(mn=function(t,e){return s[t-=112]})(t,e)}function gn(){const t=["1277970RtgrqD","UNSIGNED_BYTE","destroy","FRAGMENT_SHADER","SRC_ALPHA","RGBA","positions","isInited","TEXTURE2","ARRAY_BUFFER","shaderSource","yTexture","961224yfTCdf","drawDom","getProgramInfoLog","_loadShader","deleteProgram","pixelStorei","6uGbRTQ","createProgram","vertexPosition","enableVertexAttribArray","_buffers","ytexture","_rgbatexture","302715IxmJAg","FLOAT","createShader","_vtexture","bindBuffer","enable","linkProgram","_initShaderProgram","_utexture","program","_ytexture","uViewMatrix","uniformLocations","TEXTURE_2D","COLOR_BUFFER_BIT","28046bXcyCD","attribLocations","_calRect","COMPILE_STATUS","deleteShader","getShaderInfoLog","texParameteri","20wvOFKk","DEPTH_BUFFER_BIT","uTexture","getAttribLocation","5cflhlc","attachShader","30WHXsPY","LINEAR","texPosition","vertexAttribPointer","rgbatexture","222102ULmJIg","activeTexture","STATIC_DRAW","bufferData","_drawScene","LUMINANCE","vTexture","2632pEHRrx","bindTexture","uniform1i","createTexture","getProgramParameter","aVertexPosition","\n            precision highp float;\n            varying highp vec2 vTexturePosition;\n            uniform int isyuv;\n            uniform sampler2D rgbaTexture;\n            uniform sampler2D yTexture;\n            uniform sampler2D uTexture;\n            uniform sampler2D vTexture;\n\n            const mat4 YUV2RGB = mat4( 1.1643828125, 0, 1.59602734375, -.87078515625,\n                                       1.1643828125, -.39176171875, -.81296875, .52959375,\n                                       1.1643828125, 2.017234375, 0, -1.081390625,\n                                       0, 0, 0, 1);\n\n\n            void main(void) {\n\n                if (isyuv>0) {\n\n                    highp float y = texture2D(yTexture,  vTexturePosition).r;\n                    highp float u = texture2D(uTexture,  vTexturePosition).r;\n                    highp float v = texture2D(vTexture,  vTexturePosition).r;\n                    gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;\n\n                } else {\n                    gl_FragColor =  texture2D(rgbaTexture, vTexturePosition);\n                }\n            }\n        ","utexture","uModelMatrix","TEXTURE0","1820753RGigPx","texSubImage2D","texturePosition","concat","createBuffer","isDomInited","slice","deleteTexture","texImage2D","_createTexture","clear","_initBuffers","TEXTURE_MIN_FILTER","render","getUniformLocation","compileShader","UNSIGNED_SHORT","_programInfo","_clear","deleteBuffer","TEXTURE1","aTexturePosition","log","isyuv","useProgram","CLAMP_TO_EDGE","uProjectionMatrix"];return(gn=function(){return t})()}!function(t,e){const s=mn,i=t();for(;;)try{if(160743===-parseInt(s(159))/1*(-parseInt(s(181))/2)+-parseInt(s(194))/3*(-parseInt(s(206))/4)+parseInt(s(192))/5*(parseInt(s(141))/6)+parseInt(s(166))/7+parseInt(s(153))/8+parseInt(s(199))/9+parseInt(s(188))/10*(-parseInt(s(114))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gn);class yn{constructor(t,e){const s=mn;this.gl=t,this[s(148)]=!1,this[s(119)]=!1,e&&this.gl[s(158)](this.gl.UNPACK_ALIGNMENT,1);const i=this._initShaderProgram();this._programInfo={program:i,attribLocations:{vertexPosition:t[s(191)](i,s(211)),texturePosition:t[s(191)](i,s(135))},uniformLocations:{projectionMatrix:t[s(128)](i,s(140)),modelMatrix:t[s(128)](i,s(112)),viewMatrix:t[s(128)](i,s(177)),rgbatexture:t.getUniformLocation(i,"rgbaTexture"),ytexture:t[s(128)](i,s(152)),utexture:t[s(128)](i,s(190)),vtexture:t[s(128)](i,s(205)),isyuv:t[s(128)](i,s(137))}},this._buffers=this[s(125)](),this[s(165)]=this._createTexture(),this._ytexture=this[s(123)](),this[s(174)]=this[s(123)](),this[s(169)]=this[s(123)]()}[fn(143)](){const t=fn;this.gl[t(157)](this._programInfo[t(175)]),this.gl[t(133)](this[t(163)].position),this.gl[t(133)](this._buffers.texPosition),this.gl[t(133)](this[t(163)].indices),this.gl[t(121)](this[t(165)]),this.gl.deleteTexture(this._ytexture),this.gl[t(121)](this[t(174)]),this.gl.deleteTexture(this[t(169)]),this._programInfo=null,this._buffers=null,this[t(165)]=null,this[t(176)]=null,this[t(174)]=null,this._vtexture=null,this.gl=null,this[t(148)]=!1,this[t(119)]=!1}[fn(173)](){const t=fn,e=t(212),s=this[t(156)](this.gl.VERTEX_SHADER,"\n            attribute vec4 aVertexPosition;\n            attribute vec2 aTexturePosition;\n            varying lowp vec2 vTexturePosition;\n            void main(void) {\n              gl_Position = aVertexPosition;\n              vTexturePosition = aTexturePosition;\n            }\n        "),i=this[t(156)](this.gl[t(144)],e),r=this.gl[t(160)]();return this.gl.attachShader(r,s),this.gl[t(193)](r,i),this.gl[t(172)](r),this.gl[t(210)](r,this.gl.LINK_STATUS)?r:(console[t(136)]("Unable to initialize the shader program: "+this.gl[t(155)](r)),null)}[fn(156)](t,e){const s=fn,i=this.gl,r=i[s(168)](t);return i[s(151)](r,e),i[s(129)](r),i.getShaderParameter(r,i[s(184)])?r:(console[s(136)]("An error occurred compiling the shaders: "+i[s(186)](r)),i[s(185)](r),null)}[fn(125)](){const t=fn,e=this.gl,s=e[t(118)]();e.bindBuffer(e[t(150)],s);const i=[-1,-1,1,-1,1,1,-1,1];e[t(202)](e.ARRAY_BUFFER,new Float32Array(i),e[t(201)]);var r=[];r=r[t(117)]([0,1],[1,1],[1,0],[0,0]);const n=e[t(118)]();e[t(170)](e[t(150)],n),e[t(202)](e.ARRAY_BUFFER,new Float32Array(r),e[t(201)]);const o=e[t(118)]();e[t(170)](e.ELEMENT_ARRAY_BUFFER,o);return e[t(202)](e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e[t(201)]),{positions:i,position:s,texPosition:n,indices:o}}[fn(123)](){const t=fn;let e=this.gl[t(209)]();return this.gl[t(207)](this.gl[t(179)],e),this.gl[t(187)](this.gl[t(179)],this.gl.TEXTURE_MAG_FILTER,this.gl[t(195)]),this.gl[t(187)](this.gl[t(179)],this.gl[t(126)],this.gl.LINEAR),this.gl[t(187)](this.gl[t(179)],this.gl.TEXTURE_WRAP_S,this.gl[t(139)]),this.gl[t(187)](this.gl[t(179)],this.gl.TEXTURE_WRAP_T,this.gl[t(139)]),e}[fn(203)](t,e,s){const i=fn;this.gl.viewport(0,0,t,e),this.gl[i(171)](this.gl.BLEND),this.gl.blendFunc(this.gl[i(145)],this.gl.ONE_MINUS_SRC_ALPHA),this.gl[i(170)](this.gl.ARRAY_BUFFER,this[i(163)].position),this.gl.bufferData(this.gl[i(150)],new Float32Array(this._buffers[i(147)]),this.gl.STATIC_DRAW),this.gl[i(197)](this[i(131)][i(182)][i(161)],2,this.gl[i(167)],!1,0,0),this.gl[i(162)](this._programInfo[i(182)].vertexPosition),this.gl[i(170)](this.gl[i(150)],this[i(163)][i(196)]),this.gl.vertexAttribPointer(this[i(131)][i(182)][i(116)],2,this.gl[i(167)],!1,0,0),this.gl.enableVertexAttribArray(this._programInfo[i(182)].texturePosition),this.gl[i(170)](this.gl.ELEMENT_ARRAY_BUFFER,this[i(163)].indices);s?(this.gl[i(200)](this.gl.TEXTURE0+3),this.gl[i(207)](this.gl[i(179)],this._ytexture),this.gl.activeTexture(this.gl.TEXTURE0+4),this.gl[i(207)](this.gl[i(179)],this[i(174)]),this.gl[i(200)](this.gl.TEXTURE0+5),this.gl[i(207)](this.gl[i(179)],this._vtexture)):(this.gl[i(200)](this.gl[i(113)]+2),this.gl.bindTexture(this.gl[i(179)],this[i(165)])),this.gl[i(138)](this[i(131)][i(175)]),this.gl[i(208)](this[i(131)][i(178)][i(198)],2),this.gl.uniform1i(this[i(131)].uniformLocations[i(164)],3),this.gl[i(208)](this[i(131)].uniformLocations[i(213)],4),this.gl.uniform1i(this._programInfo[i(178)].vtexture,5),this.gl[i(208)](this[i(131)][i(178)][i(137)],s?1:0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl[i(130)],0)}[fn(183)](t,e,s,i,r,n){let o=2*t/r-1,a=2*(n-e-i)/n-1,h=2*(t+s)/r-1,l=2*(n-e)/n-1;return[o,a,h,a,h,l,o,l]}[fn(132)](){const t=fn;this.gl.clearColor(0,0,0,1),this.gl.clearDepth(1),this.gl[t(124)](this.gl[t(180)]|this.gl[t(189)])}[fn(127)](t,e,s,i,r){const n=fn;if(!this.gl)return;const o=this.gl;this[n(132)](),this[n(148)]?(o.activeTexture(o[n(113)]),o[n(207)](o[n(179)],this[n(176)]),o[n(115)](o.TEXTURE_2D,0,0,0,t,e,o.LUMINANCE,o[n(142)],s),o[n(200)](o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,this[n(174)]),o[n(115)](o[n(179)],0,0,0,t/2,e/2,o[n(204)],o[n(142)],i),o[n(200)](o.TEXTURE2),o[n(207)](o.TEXTURE_2D,this[n(169)]),o[n(115)](o.TEXTURE_2D,0,0,0,t/2,e/2,o[n(204)],o[n(142)],r),this[n(163)][n(147)]=[-1,-1,1,-1,1,1,-1,1],this[n(203)](t,e,!0)):(this[n(148)]=!0,o[n(200)](o[n(113)]),o[n(207)](o[n(179)],this._ytexture),o[n(122)](o[n(179)],0,o[n(204)],t,e,0,o[n(204)],o[n(142)],s),o[n(200)](o[n(134)]),o.bindTexture(o[n(179)],this[n(174)]),o.texImage2D(o[n(179)],0,o[n(204)],t/2,e/2,0,o.LUMINANCE,o[n(142)],i),o[n(200)](o[n(149)]),o.bindTexture(o[n(179)],this[n(169)]),o[n(122)](o.TEXTURE_2D,0,o.LUMINANCE,t/2,e/2,0,o[n(204)],o[n(142)],r),this[n(163)][n(147)]=[-1,-1,1,-1,1,1,-1,1],this[n(203)](t,e,!0))}renderYUV(t,e,s){const i=fn;let r=s[i(120)](0,t*e),n=s[i(120)](t*e,t*e*5/4),o=s[i(120)](t*e*5/4,t*e*3/2);this[i(127)](t,e,r,n,o)}[fn(154)](t,e,s,i,r){const n=fn;if(!this.gl)return;const o=this.gl;o.activeTexture(o[n(113)]),o.bindTexture(o[n(179)],this[n(165)]),this[n(119)]?o[n(115)](o.TEXTURE_2D,0,0,0,o[n(146)],o[n(142)],r):(o.texImage2D(o[n(179)],0,o.RGBA,o.RGBA,o[n(142)],r),this[n(119)]=!0),this[n(163)][n(147)]=this[n(183)](s,i,r.width,r.height,t,e),this[n(203)](t,e,!1)}}const An=vn;function vn(t,e){const s=Sn();return(vn=function(t,e){return s[t-=216]})(t,e)}!function(t,e){const s=vn,i=t();for(;;)try{if(185890===parseInt(s(233))/1+parseInt(s(269))/2+parseInt(s(229))/3*(-parseInt(s(227))/4)+-parseInt(s(249))/5*(parseInt(s(265))/6)+parseInt(s(275))/7*(parseInt(s(282))/8)+-parseInt(s(259))/9+-parseInt(s(219))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Sn);const bn={YUV_I420:1,YUV_NV12:2,RGBA:3,DOM:4};function Sn(){const t=["146545mGAnmj","queue","matrixGroupInfo","UNIFORM","destroy","createBuffer","VERTEX","104INblhG","createShaderModule","then","main","setVertexBuffer","beginRenderPass","r8unorm","_initTextureGroupInfo","pixelTypeBuffer","lookAt","_initBuffer","renderYUV","gpu","ortho","end","\n                @group(1) @binding(0) var mySampler: sampler;\n                @group(1) @binding(1) var<uniform> pixelType: i32;\n                @group(1) @binding(2) var yTexture: texture_2d<f32>;\n                @group(1) @binding(3) var uTexture: texture_2d<f32>;\n                @group(1) @binding(4) var vTexture: texture_2d<f32>;\n                @group(1) @binding(5) var uvTexture: texture_2d<f32>;\n                @group(1) @binding(6) var rgbaTexture: texture_2d<f32>;\n\n                const YUV2RGB : mat4x4<f32> = mat4x4<f32>( 1.1643828125, 0, 1.59602734375, -.87078515625,\n                                                         1.1643828125, -.39176171875, -.81296875, .52959375,\n                                                         1.1643828125, 2.017234375, 0, -1.081390625,\n                                                         0, 0, 0, 1);\n\n                @fragment\n                fn main(\n                  @location(0) vTexturePosition: vec2<f32>\n                ) -> @location(0) vec4<f32> {\n                    if(pixelType == 1){\n                        var y : f32= textureSample(yTexture, mySampler, vTexturePosition).r;\n                        var u : f32 = textureSample(uTexture,  mySampler, vTexturePosition).r;\n                        var v : f32 = textureSample(vTexture, mySampler, vTexturePosition).r;\n\n                        return  vec4<f32>(y, u, v, 1.0)*YUV2RGB;\n                    } else if (pixelType == 2) {\n\n                        var y : f32= textureSample(yTexture, mySampler, vTexturePosition).r;\n                        var u : f32 = textureSample(uvTexture,  mySampler, vTexturePosition).r;\n                        var v : f32 = textureSample(uvTexture, mySampler, vTexturePosition).g;\n\n                        return  vec4<f32>(y, u, v, 1.0)*YUV2RGB;\n                    } else {\n\n                        return  textureSample(rgbaTexture, mySampler, vTexturePosition);\n                    }\n\n                }\n\n                ","triangle-list","rg8unorm","render","context","writeBuffer","\n\n                  @binding(0) @group(0) var<uniform> uModelMatrix : mat4x4<f32>;\n                  @binding(1) @group(0) var<uniform> uViewMatrix : mat4x4<f32>;\n                  @binding(2) @group(0) var<uniform> uProjectionMatrix : mat4x4<f32>;\n\n                  struct VertexOutput {\n                    @builtin(position) Position : vec4<f32>,\n                    @location(0) vTexturePosition : vec2<f32>,\n                  }\n\n                  @vertex\n                  fn main(\n                    @location(0) aVertexPosition : vec4<f32>,\n                    @location(1) aTexturePosition : vec2<f32>\n                  ) -> VertexOutput {\n                    var output : VertexOutput;\n                    var tmppos : vec4<f32> = uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;\n                    output.Position = vec4<f32>(tmppos.x, tmppos.y, (tmppos.z+1.)/2., tmppos.w);  // webgl z [-1, 1],  webgpu z [0, 1],  这里z做下调整 z-webgpu = (z-webgl+1)/2\n                    output.vTexturePosition = aTexturePosition;\n                    return output;\n                  }\n\n                ","uvTexture","create","94160nVODgM","catch","device","createSampler","less","INDEX","_initMatrixGroupInfo","displayHeight","140hjsNDD","hasInited","20883WPHcRv","pipeline","createView","copyExternalImageToTexture","271604HicdAl","RENDER_ATTACHMENT","byteLength","linear","getCurrentTexture","float32x2","_drawScene","COPY_DST","TEXTURE_BINDING","DOM","_initPipeline","clear","isDestroyed","setIndexBuffer","identity","YUV_NV12","27355YmJCBR","GPUBufferUsage","GPUTextureUsage","yTexture","setBindGroup","createBindGroup","submit","store","slice","depth24plus","1969083onvgRo","setPipeline","group","writeTexture","textureGroupInfo","format","30acFZll","group0","buffers","group1","282648BoNxcs","fromValues","depthTexture","createRenderPipelineAsync","YUV_I420","createTexture"];return(Sn=function(){return t})()}class wn{constructor(t){const e=vn;this[e(294)]=t,this.pipeline=null,this.matrixGroupInfo=null,this.depthTexture=null,this[e(263)]=null,this[e(228)]=!1,this[e(267)]=this[e(292)](),this.isDestroyed=!1,this[e(243)]()[e(284)]((t=>{const s=e;this.isDestroyed||(this.pipeline=t,this[s(277)]=this[s(225)](),this.matrixGroupInfo&&(this[s(228)]=!0))}))}[An(279)](){const t=An;this[t(245)]=!1,this.gpu&&(this.gpu[t(221)][t(279)](),this.gpu=null),this[t(228)]=!1,this[t(230)]=null,this[t(277)]=null,this[t(271)]=null,this.textureGroupInfo=null}[An(292)](){const t=An,e=this[t(294)].device,s=new Float32Array([-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=e[t(280)]({size:s.byteLength,usage:window.GPUBufferUsage[t(281)]|window[t(250)].COPY_DST});e[t(276)][t(302)](i,0,s);const r=new Float32Array([0,1,1,1,1,0,0,0]),n=e[t(280)]({size:r[t(235)],usage:window[t(250)][t(281)]|window[t(250)].COPY_DST});e[t(276)][t(302)](n,0,r);const o=new Uint16Array([0,1,2,0,2,3]),a=e[t(280)]({size:o[t(235)],usage:window[t(250)][t(224)]|window[t(250)][t(240)]});return e.queue[t(302)](a,0,o),{positionBuffer:i,texpositionBuffer:n,indexBuffer:a}}_initPipeline(){return new Promise(((t,e)=>{const s=vn,i=this.gpu[s(221)],r=this[s(294)][s(264)],n=s(216),o=s(297),a={layout:"auto",vertex:{module:i[s(283)]({code:n}),entryPoint:s(285),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:8,attributes:[{shaderLocation:1,offset:0,format:s(238)}]}]},primitive:{topology:s(298)},fragment:{module:i[s(283)]({code:o}),entryPoint:s(285),targets:[{format:r}]},depthStencil:{depthWriteEnabled:!0,depthCompare:s(223),format:"depth24plus"}};i[s(272)](a)[s(284)]((e=>{t(e)}))[s(220)]((t=>{e(t)}))}))}_initMatrixGroupInfo(){const t=An;if(!this[t(294)])return null;const e=this[t(294)][t(221)],s=this[t(230)],i=wr[t(218)]();wr[t(295)](i,-1,1,-1,1,.1,100);const r=wr[t(218)]();wr[t(247)](r);const n=wr[t(218)]();wr[t(291)](n,kr(0,0,0),zr[t(270)](0,0,-1),zr[t(270)](0,1,0));const o=e[t(280)]({size:64,usage:window[t(250)][t(278)]|window[t(250)][t(240)]});e[t(276)].writeBuffer(o,0,r);const a=e[t(280)]({size:64,usage:window[t(250)][t(278)]|window[t(250)][t(240)]});e.queue[t(302)](a,0,n);const h=e.createBuffer({size:64,usage:window.GPUBufferUsage[t(278)]|window[t(250)][t(240)]});e.queue[t(302)](h,0,i);return{modelMatrixBuffer:o,viewMatrixBuffer:a,projectMatrixBuffer:h,group:e[t(254)]({label:t(266),layout:s.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:o}},{binding:1,resource:{buffer:a}},{binding:2,resource:{buffer:h}}]})}}[An(289)](t,e){const s=An,i=this[s(294)][s(221)],r=this[s(230)],n=i[s(274)]({size:[t,e],format:"r8unorm",usage:window[s(251)][s(241)]|window[s(251)][s(240)]|window[s(251)][s(234)]}),o=i[s(274)]({size:[t/2,e/2],format:"r8unorm",usage:window.GPUTextureUsage[s(241)]|window[s(251)][s(240)]|window[s(251)][s(234)]}),a=i.createTexture({size:[t/2,e/2],format:s(288),usage:window[s(251)][s(241)]|window[s(251)][s(240)]|window[s(251)].RENDER_ATTACHMENT}),h=i.createTexture({size:[t/2,e/2],format:s(299),usage:window[s(251)][s(241)]|window[s(251)].COPY_DST|window[s(251)].RENDER_ATTACHMENT}),l=i.createTexture({size:[t,e],format:"rgba8unorm",usage:window[s(251)][s(241)]|window[s(251)].COPY_DST|window.GPUTextureUsage[s(234)]}),c=i[s(280)]({size:4,usage:window[s(250)][s(278)]|window[s(250)][s(240)]}),d=i[s(222)]({magFilter:"linear",minFilter:s(236)}),u=i[s(254)]({label:s(268),layout:r.getBindGroupLayout(1),entries:[{binding:0,resource:d},{binding:1,resource:{buffer:c}},{binding:2,resource:n.createView()},{binding:3,resource:o.createView()},{binding:4,resource:a[s(231)]()},{binding:5,resource:h[s(231)]()},{binding:6,resource:l[s(231)]()}]});return{yTexture:n,uTexture:o,vTexture:a,uvTexture:h,rgbaTexture:l,pixelTypeBuffer:c,group:u}}_drawScene(){const t=An,e=this.gpu.device,s=this.gpu[t(301)],i=e.createCommandEncoder(),r={colorAttachments:[{view:s[t(237)]().createView(),clearValue:{r:0,g:0,b:0,a:0},loadOp:t(244),storeOp:"store"}],depthStencilAttachment:{view:this[t(271)][t(231)](),depthClearValue:1,depthLoadOp:"clear",depthStoreOp:t(256)}},n=i[t(287)](r);n[t(260)](this[t(230)]),n[t(253)](0,this[t(277)][t(261)]),n.setBindGroup(1,this[t(263)][t(261)]),n.setVertexBuffer(0,this.buffers.positionBuffer),n[t(286)](1,this[t(267)].texpositionBuffer),n[t(246)](this[t(267)].indexBuffer,"uint16"),n.drawIndexed(6),n[t(296)](),e[t(276)][t(255)]([i.finish()])}[An(293)](t,e,s){const i=An;if(!this[i(294)])return;if(!this[i(228)])return;let r=s[i(257)](0,t*e),n=s[i(257)](t*e,t*e*5/4),o=s[i(257)](t*e*5/4,t*e*3/2);const a=this[i(294)][i(221)];!this[i(271)]&&(this[i(271)]=this[i(294)][i(221)][i(274)]({size:[t,e],format:i(258),usage:window[i(251)][i(234)]})),!this[i(263)]&&(this.textureGroupInfo=this[i(289)](t,e)),a.queue[i(302)](this[i(263)][i(290)],0,new Uint32Array([bn[i(273)]])),a[i(276)][i(262)]({texture:this[i(263)][i(252)]},r,{bytesPerRow:t,rowsPerImage:e},[t,e]),a[i(276)][i(262)]({texture:this[i(263)].uTexture},n,{bytesPerRow:t/2,rowsPerImage:e/2},[t/2,e/2]),a[i(276)].writeTexture({texture:this[i(263)].vTexture},o,{bytesPerRow:t/2,rowsPerImage:e/2},[t/2,e/2]),this._drawScene()}renderYUV_NV12(t,e,s){const i=An;if(!this[i(294)])return;if(!this[i(228)])return;const r=this[i(294)].device;!this[i(271)]&&(this[i(271)]=this[i(294)][i(221)][i(274)]({size:[t,e],format:i(258),usage:window[i(251)][i(234)]})),!this[i(263)]&&(this[i(263)]=this[i(289)](t,e));let n=s[i(257)](0,t*e),o=s[i(257)](t*e,t*e*3/2);r.queue[i(302)](this[i(263)][i(290)],0,new Uint32Array([bn[i(248)]])),r.queue.writeTexture({texture:this[i(263)][i(252)]},n,{bytesPerRow:t,rowsPerImage:e},[t,e]),r.queue[i(262)]({texture:this[i(263)][i(217)]},o,{bytesPerRow:t,rowsPerImage:e/2},[t/2,e/2]),this[i(239)]()}[An(300)](t){const e=An;if(!this[e(294)])return;if(!this[e(228)])return;const s=this[e(294)][e(221)],i=t.displayWidth,r=t[e(226)];!this[e(271)]&&(this.depthTexture=this.gpu[e(221)][e(274)]({size:[i,r],format:e(258),usage:window[e(251)].RENDER_ATTACHMENT})),!this.textureGroupInfo&&(this[e(263)]=this[e(289)](i,r)),s[e(276)][e(302)](this[e(263)][e(290)],0,new Uint32Array([bn[e(242)]])),s[e(276)][e(232)]({source:t},{texture:this[e(263)].rgbaTexture},[i,r]),this._drawScene()}[An(244)](){}}function En(t,e){const s=_n;return t.classList[s(279)](e)}function Tn(t,e){const s=_n;return t.classList[s(233)](e)}function In(t,e){const s=_n;return t.classList[s(265)](e)}function kn(t,e){const s=_n;return e instanceof Element?t[s(267)](e):t.insertAdjacentHTML(s(234),String(e)),t.lastElementChild||t.lastChild}function _n(t,e){const s=Dn();return(_n=function(t,e){return s[t-=230]})(t,e)}function Cn(t,e,s){const i=_n;return t&&t[i(254)]&&js(e)&&(t[i(254)][e]=s),t}function Dn(){const t=["nextSibling","length","querySelectorAll","2848937GkXmcN","insertBefore","scale(","getPropertyValue","3150696fdhbWG","setAttribute","createDocumentFragment","indexOf","remove","beforeend","firstChild","replace","removeChild","clientHeight","trim","createElement","div","forEach","beforebegin","map","top","left","8091256UWHZzf","data-balloon-pos","keys","5813810YesaAA","composedPath","innerHeight","693aSxClB","style","51940zaUeEu","aria-label","2684704gEEXDc","filter","parentNode","18hOCXpx","clientWidth","replaceChild","split","from","contains","querySelector","appendChild","max","2324zLNMrR","innerHTML","getBoundingClientRect","children","firstElementChild","match","1294rmmMeZ","afterbegin","height","getComputedStyle","add"];return(Dn=function(){return t})()}function Rn(t){const e=_n,s=t.getBoundingClientRect(),i=window[e(252)]||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement[e(261)],n=s[e(245)]<=i&&s[e(245)]+s[e(277)]>=0,o=s[e(246)]<=r&&s[e(246)]+s.width>=0;return n&&o}function Ln(t,e){const s=_n;return t[s(251)]&&t.composedPath()[s(232)](e)>-1}function Pn(t){const e=_n;let s=!1;return t&&(t[e(270)]="",t[e(259)]&&(t[e(259)][e(237)](t),s=!0)),s}function xn(t){const e=_n;let s=t[e(254)].transform[e(274)](/scale\([0-9., ]*\)/g),i=null;if(s&&s[0]){i=s[0][e(236)](e(285),"")[e(236)](")","")[e(263)](",")}return i&&(i=i[e(244)]((t=>parseFloat(t[e(239)]())))),i}function Mn(t){const e=_n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e(234),i=arguments[e(281)]>2?arguments[2]:void 0;const r=document[e(240)](e(241));r[e(270)]=t;const n=document[e(231)]();for(;r[e(235)];)n[e(267)](r[e(235)]);switch(s){case e(243):i[e(259)][e(284)](n,i);break;case e(276):i[e(284)](n,i[e(235)]);break;case e(234):i[e(267)](n);break;case"afterend":i[e(259)][e(284)](n,i[e(280)]);break;default:i[e(267)](n)}}!function(t,e){const s=_n,i=t();for(;;)try{if(910294===-parseInt(s(269))/1*(-parseInt(s(275))/2)+parseInt(s(287))/3+-parseInt(s(257))/4+-parseInt(s(250))/5+parseInt(s(260))/6*(-parseInt(s(283))/7)+parseInt(s(247))/8+parseInt(s(253))/9*(parseInt(s(255))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Dn);const Bn=Fn;function Fn(t,e){const s=Un();return(Fn=function(t,e){return s[t-=147]})(t,e)}function Un(){const t=["text","TAG_NAME","-webkit-text-size-adjust","dataContent","bottom","img","src","click","_removeDom","function","isFullResize","sort","visibility","videoRectContentClick","forEach","none","-moz-user-select","_opt","right","index","position","absolute","content","transform","-o-user-select","shadowRoot","position: absolute; top: 0; left: 0; width: 0; height: 0;display: none;","aspectRatio","rgba(0,0,0,0)","934421SAyfzg","open","rotate","isArray","_resizeDomRatio","destroy","$container","default","createTextNode","remove","-webkit-user-select","getVideoInfo","atan2","level","children","style","innerHTML","appendChild","removeEventListener","insertBefore","padding","bound","dataset","clipPath","attachShadow","37776NIfSEE"," rotateX(180deg)","pointer-events: none !important;display: block !important;","2fDQVtX","update","_updateDom","-webkit-tap-highlight-color","vertical","configList","5jKThHt","px 0","overflow","fontSize","9pamXND","_resizeDomForVideo","calc(100% - ","shadowRootDynamicDom","hidden","display","polygon","resize()","1298hJNWaT","setAttribute","shadowRootRealDom","contain","shadowRootInnerDomClick","isDynamic","100%","zIndex","list","color","backgroundColor","725583WqfqkD","24dOPCaY","scale","_resizeDomForCanvas","canvas","settingLine","block","-webkit-touch-callout"," rotate(","height","image","_initDom","user-select","calc(","fill","deg)","div","9068034HCCkFf","left","9050410PgvNqi","9999999","isResize","bind","handleShadowRootInnerDomClick","floor","addEventListener","rotate(","emit","SingleWatermark","html","sqrt","video","width","% - ","fillOpacity"," rotateY(180deg)","shadowRootInnerDom","length","getRenderType","top","position: absolute !important; width: 100% !important; height: 100% !important; top: 0 !important; left: 0 !important;","borderStyle","rect","borderColor","createElement","objectFit","0 0","push","player","polygon(","getShowVideoRect","map","line","2370921yNxgTc","px)","opacity","split","mirrorRotate","lineWidth","debugLog","6998052pZlxXG"];return(Un=function(){return t})()}!function(t,e){const s=Fn,i=t();for(;;)try{if(878158===-parseInt(s(166))/1+-parseInt(s(194))/2*(parseInt(s(223))/3)+parseInt(s(283))/4*(-parseInt(s(200))/5)+parseInt(s(240))/6+parseInt(s(276))/7*(parseInt(s(224))/8)+-parseInt(s(204))/9*(-parseInt(s(242))/10)+parseInt(s(212))/11*(parseInt(s(191))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Un);class On{constructor(t){const e=Fn;let s=arguments[e(260)]>1&&void 0!==arguments[1]?arguments[1]:{};this[e(271)]=t,this._opt=s,this[e(285)]=e(251),this[e(199)]=[],this[e(162)]=null,this[e(214)]=null,this[e(259)]=null,this.shadowRootDynamicDom=null,this[e(225)]=1,this.isDynamic=!1,this[e(187)]={shadowRootInnerDomClick:this[e(246)][e(245)](this)},this[e(234)](),s.emitClickEvent&&this.shadowRootInnerDom[e(248)](e(291),this[e(187)].shadowRootInnerDomClick,!1),this[e(271)].debugLog(this[e(285)],"int")}[Bn(171)](){const t=Bn;if(this[t(199)]=[],this[t(259)]&&this[t(154)].emitClickEvent&&this[t(259)][t(184)](t(291),this[t(187)][t(216)],!1),this[t(259)]=null,this[t(207)]=null,this[t(217)]=!1,this[t(225)]=1,this.shadowRoot){!Pn(this.shadowRootRealDom)&&this[t(214)][t(175)](),this[t(162)][t(182)]="",this[t(162)]=null,this.shadowRootRealDom=null}this.bound=null,this._opt=null,this[t(271)][t(282)](this[t(285)],t(171))}[Bn(246)](t){const e=Bn;t.stopPropagation(),t.preventDefault();const s=oi(t);if(s&&s[e(188)]){const t=s[e(188)][e(159)];t&&this.player[e(250)](H[e(150)],t)}}resize(){const t=Bn;this[t(271)].debugLog(this[t(285)],t(211)),this[t(271)][t(154)][t(164)]===t(173)||fs()?this[t(271)][t(261)]()===A[t(227)]?this[t(226)]():this[t(271)][t(261)]()===A[t(254)]&&this[t(205)]():this[t(170)]()}[Bn(234)](){const t=Bn,e=this[t(271)][t(172)];let s=null;const i=document.createElement(t(239));let r=t(193);this._opt.emitClickEvent&&(r=t(263)),i[t(213)](t(181),r),s=typeof i[t(190)]===t(293)?i.attachShadow({mode:t(167)}):i[t(162)]?i[t(162)]:i;const n=document.createElement(t(239));n[t(213)](t(181),t(163)),s.appendChild(n);const o=e[t(180)],a=Math[t(247)](Math.random()*(o[t(260)]-1))+1;o[a]?e[t(185)](i,o[a]):e.appendChild(i),this[t(259)]=n,this.shadowRootRealDom=i,this[t(162)]=s}[Bn(195)](t){const e=Bn;this[e(292)]();let s=[];Array[e(169)](t)?s=t:ti(t)&&s[e(270)](t);let i=s.map((t=>Vs(t)));this[e(199)]=i,this[e(196)]()}[Bn(205)](){const t=Bn,e=this[t(271)].getVideoInfo();if(!(e&&e[t(232)]>0&&e[t(255)]>0))return;let s=e[t(255)],i=e[t(232)];const r=this[t(271)]._opt,n=this[t(271)][t(273)]();let o=n[t(232)],a=n.width;const h=r[t(168)];let l=(a-s)/2,c=(o-i)/2;(270===h||90===h)&&(s=e.height,i=e[t(255)]);const d=a/s,u=o/i;let p=d>u?u:d;Ri(r[t(244)])&&d!==u&&(p=d+","+u),r[t(147)]&&(p=d>u?d:u);let f="scale("+p+")";"none"===r[t(280)]&&h&&(f+=t(231)+h+t(238)),r.mirrorRotate===t(179)?f+=t(258):r.mirrorRotate===t(198)&&(f+=t(192)),this[t(225)]=-1!==(""+p).indexOf(",")?d:p,this[t(259)].style[t(160)]=f,this.shadowRootInnerDom.style[t(241)]=l+"px",this[t(259)][t(181)][t(262)]=c+"px",this[t(259)][t(181)][t(255)]=e.width+"px",this[t(259)][t(181)][t(232)]=e[t(232)]+"px",this.shadowRootInnerDom[t(181)].display="block"}[Bn(226)](){const t=Bn,e=this[t(271)][t(177)]();if(!(e&&e[t(232)]>0&&e.width>0))return;const s=this[t(271)]._opt,i=this[t(271)][t(273)]();let r=i[t(255)],n=i.height,o=e[t(255)],a=e[t(232)];const h=s[t(168)];let l=(r-o)/2,c=(n-a)/2;(270===h||90===h)&&(o=e[t(232)],a=e[t(255)]);const d=r/o,u=n/a;let p=d>u?u:d;!s[t(244)]&&d!==u&&(p=d+","+u),s[t(147)]&&(p=d>u?d:u);let f="scale("+p+")";s[t(280)]===t(152)&&h&&(f+=t(231)+h+t(238)),s[t(280)]===t(179)?f+=" rotateY(180deg)":s[t(280)]===t(198)&&(f+=" rotateX(180deg)"),this[t(259)][t(181)].height=e[t(232)]+"px",this[t(259)][t(181)][t(255)]=e[t(255)]+"px",this[t(259)][t(181)][t(186)]="0",this[t(259)][t(181)].transform=f,this[t(259)][t(181)][t(241)]=l+"px",this.shadowRootInnerDom[t(181)].top=c+"px",this[t(259)][t(181)].display=t(229)}[Bn(170)](){const t=Bn,e=this[t(271)].getVideoInfo();if(!(e&&e.height>0&&e[t(255)]>0))return;const s=this[t(271)][t(154)][t(164)][t(279)](":")[t(274)](Number),i=this.player[t(273)]();let r=i.width,n=i.height,o=this[t(271)].getControlHeight();const a=e[t(255)]/e[t(232)],h=s[0]/s[1];if(a>h){const s=h*e.height/e[t(255)];this[t(259)][t(181)][t(255)]=100*s+"%",this[t(259)][t(181)][t(232)]=t(206)+o+t(277),this[t(259)][t(181)][t(186)]="0 "+(r-r*s)/2+"px"}else{const s=e[t(255)]/h/e.height;this[t(259)][t(181)][t(255)]=t(218),this[t(259)][t(181)][t(232)]=t(236)+100*s+t(256)+o+t(277),this[t(259)][t(181)][t(186)]=(n-n*s)/2+t(201)}this[t(259)][t(181)][t(209)]=t(229)}[Bn(196)](){const t=Bn;this[t(162)]&&this[t(199)][t(151)]((e=>{const s=t,i=document[s(267)](s(239));let r=null;if(e[s(233)]&&e[s(233)][s(290)]?(r=document[s(267)](s(289)),r.style[s(232)]=s(218),r[s(181)].width=s(218),r[s(181)][s(268)]=s(215),r.src=e[s(233)].src):e[s(284)]&&e[s(284)].content?r=document[s(174)](e[s(284)].content):e.rect&&e[s(265)][s(221)]&&e[s(265)].width||e[s(252)]?r=document.createElement(s(239)):(e[s(275)]&&e[s(275)].x1&&e.line.y1&&e[s(275)].x2&&e.line.y2||e[s(210)]&&e[s(210)][s(220)]&&e[s(210)][s(220)][s(260)]>=3)&&(r=document[s(267)](s(239))),r){if(i[s(183)](r),i.style[s(149)]="",i[s(181)][s(157)]=s(158),i[s(181)][s(209)]=s(229),i[s(181)]["-ms-user-select"]=s(152),i[s(181)][s(153)]="none",i[s(181)][s(176)]=s(152),i[s(181)][s(161)]=s(152),i[s(181)][s(235)]=s(152),i[s(181)][s(230)]=s(152),i.style[s(197)]=s(165),i[s(181)][s(286)]=s(152),i[s(181)]["-webkit-touch-callout"]=s(152),i[s(181)].opacity=e[s(278)],js(e.left)&&(Ls(e.left)?i[s(181)][s(241)]=e[s(241)]+"px":i.style.left=e[s(241)]),js(e.right)&&(Ls(e[s(155)])?i[s(181)].right=e[s(155)]+"px":i[s(181)][s(155)]=e[s(155)]),js(e.top)&&(Ls(e[s(262)])?i[s(181)][s(262)]=e.top+"px":i[s(181)][s(262)]=e.top),js(e.bottom)&&(Ls(e.bottom)?i.style[s(288)]=e[s(288)]+"px":i[s(181)][s(288)]=e[s(288)]),e[s(222)]&&(i[s(181)][s(222)]=e[s(222)]),i.style[s(202)]=s(208),i[s(181)][s(219)]=s(243),e[s(233)]&&e.image[s(290)])i[s(181)][s(255)]=e[s(233)][s(255)]+"px",i[s(181)][s(232)]=e.image[s(232)]+"px",e[s(287)]&&(i[s(188)].content=e.dataContent);else if(e[s(284)]&&e.text[s(159)])i[s(181)].fontSize=e[s(284)][s(203)]+"px",i[s(181)][s(221)]=e.text[s(221)],e[s(284)][s(255)]&&(i[s(181)][s(255)]=e[s(284)].width+"px"),e[s(284)][s(232)]&&(i[s(181)][s(232)]=e[s(284)][s(232)]+"px"),e[s(287)]&&(i.dataset[s(159)]=e[s(287)]);else if(e.rect&&e[s(265)][s(221)]&&e.rect[s(255)]){if(i[s(181)][s(255)]=e.rect[s(255)]+"px",i[s(181)].height=e[s(265)][s(232)]+"px",i[s(181)].borderWidth=e[s(265)][s(281)]+"px",i.style[s(264)]="solid",i.style[s(266)]=e[s(265)][s(221)],e[s(287)]&&(i[s(188)][s(159)]=e[s(287)]),e[s(265)][s(237)]){const t=document[s(267)](s(239));t[s(181)][s(157)]=s(158),t[s(181)][s(255)]="100%",t.style.height=s(218),t[s(181)].backgroundColor=e.rect[s(237)],e[s(265)].fillOpacity&&(t[s(181)][s(278)]=e[s(265)].fillOpacity),e[s(287)]&&(t[s(188)][s(159)]=e[s(287)]),i[s(183)](t)}}else if(e[s(252)])i.style[s(255)]=s(218),i.style[s(232)]=s(218),i[s(182)]=e[s(252)];else if(e[s(275)]&&e.line.x1&&e[s(275)].y1&&e[s(275)].x2&&e[s(275)].y2)this[s(228)](i,e[s(275)]);else if(e[s(210)]&&e[s(210)].list&&e[s(210)][s(220)][s(260)]>=3){i[s(181)].width="100%",i.style.height=s(218);let t=e[s(210)][s(220)];const r=e[s(210)][s(221)],n=e[s(210)].lineWidth;if(t=t[s(148)](((t,e)=>{const i=s;return(t[i(156)]||0)-(e[i(156)]||0)})),e[s(210)][s(237)]){const r=document[s(267)](s(239));r[s(181)].position=s(158),r[s(181)][s(255)]=s(218),r.style[s(232)]="100%";const n=s(272)+t[s(274)]((t=>t.x+"px "+t.y+"px")).join(", ")+")";r[s(181)][s(189)]=n,r[s(181)].backgroundColor=e[s(210)][s(237)],e[s(210)][s(257)]&&(r[s(181)][s(278)]=e[s(210)][s(257)]),i[s(183)](r)}t.forEach(((e,o)=>{const a=s,h=document[a(267)](a(239));if(o===t[a(260)]-1){const s=t[0],o={x1:e.x,y1:e.y,x2:s.x,y2:s.y,color:r,lineWidth:n};return this.settingLine(h,o),void i.appendChild(h)}const l=t[o+1],c={x1:e.x,y1:e.y,x2:l.x,y2:l.y,color:r,lineWidth:n};this[a(228)](h,c),i.appendChild(h)}))}this[s(217)]&&(this[s(207)]=i),this.shadowRootInnerDom[s(183)](i)}}))}[Bn(228)](t,e){const s=Bn,i=e.x1,r=e.y1,n=e.x2,o=e.y2;var a=Math[s(253)]((i-n)**2+(r-o)**2),h=180*Math[s(178)](o-r,n-i)/Math.PI;t[s(181)][s(222)]=e.color,t[s(181)][s(255)]=a+"px",t[s(181)][s(232)]=e[s(281)]+"px",t[s(181)][s(157)]=s(158),t[s(181)][s(262)]=r+"px",t[s(181)].left=i+"px",t[s(181)][s(160)]=s(249)+h+"deg)",t[s(181)].transformOrigin=s(269)}[Bn(175)](){this._removeDom()}[Bn(292)](){this.shadowRootInnerDom&&(this.shadowRootInnerDom.innerHTML="")}}const Nn=Vn;function jn(){const t=["getCanvasType","px)","% - ","encTypeCode","resetInit","updateVideoElementScaleByResize","doAddContentToWatermark","doAddAiContentToWatermark","aspectRatio","aiImageDetectDrop","6326xxhoMD","208782rIqWOt","addContentToCanvas","updateVideoInfo","update","210EsCAkb","updateInitVideoPosition","color","addAiContentToCanvas","initCanvasViewSize","initFps","ghostWatermark","updateVideoInfoByWebrtc","bufferList","prevTempContentListString","contentWatermark"," and drop","prevTempAiContentListString","none","aiOcclusionDetectResult","$videoElement","faceDetector","text","data","imageDetector","89sSNtDG","prevAiOcclusionDetectTime","objectDetector","5cXsWOC","getVideoInfo","canvas","747xcdZos","getStreamFps","player","pause","control","isVideoPlaying","10675962HONYJV","split","list","1923560XbAShl","screenshotByRect","occlusionDetector","push","aiContentWatermark","faceDetectActive","i420","setRate","height","emit","4367604ieegzD","detect","_resizeRatio","streamFps","bindMediaStream","line","destroy","getType","_isDestroyed","polygon","singleWatermark","padding","zoom","_opt","resize","screenshotByCurrentWatermark","tempAiContentList","objectFit","style","fill","getShowVideoRect","tempContentList","aiFaceDetectInterval","clearView","debugLog","yuv","62394ipbMBE","100%","TAG_NAME","stringify","type","needAiCheck","default","green","init","doRender() and ai image detect result type is ","54584OqWocH","left","lineWidth","setStreamFps","videoRenderSupportScale","aiOcclusionDetectInterval","video","dataContent","calc(100% - ","transform","dynamicWatermark","check","rect","objectDetectActive","fontSize","imageDetectActive","off","fillOpacity","prevAiObjectDetectTime","map","prevAiFaceDetectTime","_resizeRatio()","px 0","_resize","length","top","width","isPlaying","encType","#000","CommonVideo","videoInfo"];return(jn=function(){return t})()}function Vn(t,e){const s=jn();return(Vn=function(t,e){return s[t-=113]})(t,e)}!function(t,e){const s=Vn,i=t();for(;;)try{if(667313===-parseInt(s(138))/1*(-parseInt(s(113))/2)+-parseInt(s(189))/3+-parseInt(s(163))/4*(-parseInt(s(141))/5)+parseInt(s(118))/6*(parseInt(s(114))/7)+-parseInt(s(199))/8*(parseInt(s(144))/9)+-parseInt(s(153))/10+-parseInt(s(150))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jn);class Wn extends h{constructor(){const t=Vn;super(),this.TAG_NAME="",this[t(230)]={width:null,height:null,encType:null,encTypeCode:null},this[t(197)]=!1,this.prevAiFaceDetectTime=null,this[t(217)]=null,this[t(139)]=null,this[t(128)]=null,this[t(157)]=null,this[t(184)]=[],this[t(127)]="",this.tempAiContentList=[],this.prevTempAiContentListString="",this[t(126)]=[],this[t(166)]=0,this[t(171)]=!1}destroy(){const t=Vn;this[t(171)]=!0,this.resetInit(),this[t(230)]={width:null,height:null,encType:null,encTypeCode:null},this[t(128)]&&(this[t(128)][t(169)](),this[t(128)]=null),this.tempContentList=[],this[t(127)]="",this[t(157)]&&(this.aiContentWatermark[t(169)](),this[t(157)]=null),this[t(179)]=[],this.prevTempAiContentListString="",this.prevAiFaceDetectTime=null,this.prevAiObjectDetectTime=null,this.prevAiOcclusionDetectTime=null,this[t(166)]=0,this[t(215)]()}[Nn(235)](){this.init=!1}getHasInit(){return this[Nn(197)]}[Nn(116)](t){const e=Nn;js(t[e(234)])&&(this[e(230)].encType=$[t[e(234)]],this[e(230)].encTypeCode=t.encTypeCode),js(t[e(227)])&&(this.videoInfo[e(227)]=t[e(227)]),js(t[e(225)])&&(this[e(230)][e(225)]=t[e(225)]),js(t[e(161)])&&(this[e(230)][e(161)]=t[e(161)]),js(this[e(230)][e(227)])&&js(this.videoInfo[e(161)])&&js(this.videoInfo[e(225)])&&!this[e(197)]&&(this[e(146)][e(162)](H[e(230)],this[e(230)]),this[e(197)]=!0)}[Nn(125)](t){const e=Nn;this[e(116)](t),this[e(146)][e(162)](H[e(230)],this[e(230)])}[Nn(142)](){return this[Nn(230)]}[Nn(186)](){const t=Nn;this[t(184)]=[],this[t(127)]="",this.tempAiContentList=[],this.prevTempAiContentListString=""}[Nn(177)](){const t=Nn;this.player[t(187)](t(229),"resize()"),this[t(146)][t(176)].aspectRatio===t(195)||fs()?this[t(222)]():this._resizeRatio(),this.contentWatermark&&this.contentWatermark[t(177)](),this.aiContentWatermark&&this[t(157)][t(177)](),this.player[t(173)]&&this[t(146)][t(173)].resize(),this[t(146)][t(124)]&&this[t(146)][t(124)][t(177)](),this.player[t(209)]&&this[t(146)][t(209)][t(177)](),this[t(146)].zoom&&this[t(146)].zooming&&(this.player.zoom[t(119)](),this.player.zoom.updatePrevVideoElementStyleScale(),this.player[t(175)][t(236)]()),this[t(146)][t(148)]&&this[t(146)].control.resizeLoadingBackground()}[Nn(165)](){const t=Nn;this.player[t(187)](t(229),t(220));const e=this[t(146)][t(176)][t(239)][t(151)](":")[t(218)](Number),s=this.player[t(183)]();let i=s.width,r=s[t(161)],n=this.player.getControlHeight();const o=this[t(230)],a=o[t(225)]/o.height,h=e[0]/e[1];if(this[t(170)]()===A[t(143)]&&(this.$videoElement[t(181)][t(200)]="0",this[t(133)][t(181)][t(224)]="0",this[t(133)][t(181)][t(208)]=t(131)),this.getType()===A[t(205)]&&this[t(146)][t(176)][t(203)]&&(this[t(133)][t(181)][t(180)]="fill"),a>h){const e=h*o.height/o[t(225)];this[t(133)][t(181)][t(225)]=100*e+"%",this[t(133)][t(181)][t(161)]=t(207)+n+t(232),this[t(133)][t(181)][t(174)]="0 "+(i-i*e)/2+"px"}else{const e=o[t(225)]/h/o[t(161)];this[t(133)][t(181)][t(225)]=t(190),this[t(133)][t(181)].height="calc("+100*e+t(233)+n+t(232),this[t(133)].style[t(174)]=(r-r*e)/2+t(221)}}play(){}[Nn(147)](){}[Nn(160)](t){}getType(){return""}[Nn(231)](){return""}getCurrentTime(){return 0}[Nn(145)](){return this[Nn(166)]}isPlaying(){return!0}[Nn(149)](){return this[Nn(226)]()}getPlaybackQuality(){return null}[Nn(202)](t){const e=Nn;this.player[e(187)](e(229),e(202),t),this[e(166)]=t}[Nn(115)](){const t=Nn;let e=arguments[t(223)]>0&&void 0!==arguments[0]?arguments[0]:[];this[t(184)]=e,this[t(237)]()}[Nn(121)](){const t=Nn;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[t(179)]=e,this[t(238)]()}doAddContentToWatermark(){const t=Nn;if(this[t(184)][t(223)]>0){!this.contentWatermark&&(this[t(128)]=new On(this[t(146)],{emitClickEvent:this[t(146)][t(176)].emitVideoContentClickEvent}),this[t(128)][t(177)]());const e=JSON[t(192)](this[t(184)]);if(this[t(127)]&&this[t(127)]===e)return;const s=[];this[t(184)].forEach((e=>{const i=t;let r={left:e.x||0,top:e.y||0};"text"===e.type?(r[i(135)]={content:e.text,fontSize:e[i(213)]||"14",color:e[i(120)]||i(228)},r[i(206)]=e[i(206)]||""):e[i(193)]===i(211)?(r[i(211)]={width:e[i(225)],height:e[i(161)],color:e[i(120)]||"green",lineWidth:e[i(201)]||2,fill:e[i(182)]||"",fillOpacity:e[i(216)]||.2},r[i(206)]=e[i(206)]||""):"polygon"===e[i(193)]?r[i(172)]={list:e[i(152)],color:e[i(120)]||i(196),lineWidth:e[i(201)]||2,fill:e[i(182)],fillOpacity:e[i(216)]||.2}:e[i(193)]===i(168)&&(r[i(168)]={color:e[i(120)]||"green",lineWidth:e[i(201)]||2,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),s[i(156)](r)})),this.contentWatermark[t(117)](s),this[t(127)]=e}else this[t(128)]&&this[t(128)].remove(),this[t(127)]=""}[Nn(238)](){const t=Nn;if(this.tempAiContentList[t(223)]>0){!this[t(157)]&&(this[t(157)]=new On(this[t(146)]),this.aiContentWatermark.resize());const e=JSON[t(192)](this[t(179)]);if(this[t(130)]&&this.prevTempContentListString===e)return;const s=this[t(179)][t(218)]((e=>{const s=t;let i={left:e.x,top:e.y};return e.type===s(135)?i[s(135)]={content:e[s(135)],fontSize:e[s(213)],color:e.color}:"rect"===e[s(193)]&&(i[s(211)]={width:e[s(225)],height:e[s(161)],color:e[s(120)],lineWidth:e[s(201)]}),i}));this[t(157)][t(117)](s),this[t(130)]=e}else this[t(157)]&&this[t(157)].remove(),this.prevTempAiContentListString=""}getReadyStateInited(){return!0}[Nn(178)](){}[Nn(122)](){}[Nn(167)](){}getName(){return this[Nn(191)]}getBufferListLength(){const t=Nn;let e=0;return this[t(126)]&&(e=this.bufferList[t(223)]),e}[Nn(154)](t){return null}[Nn(123)](){}[Nn(194)](){const t=Nn;return this[t(146)].ai||this[t(146)].faceDetectActive||this.player[t(212)]||this[t(146)].occlusionDetectActive||this[t(146)].imageDetectActive}aiCheck(t){const e=Nn;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M[e(159)],i=t[e(188)],r=s;if(!this[e(194)]())return{yuv:i,format:B[r]};if(this[e(146)][e(158)]&&this.player.ai&&this[e(146)].ai[e(134)]){null===this.prevAiFaceDetectTime&&(this[e(219)]=is());const n=is();n-this[e(219)]>=this.player._opt[e(185)]&&(i=this[e(146)].ai[e(134)].detect({width:this[e(230)].width,height:this[e(230)].height,data:t[e(188)],ts:t.ts||0},s),r=M[e(159)],this[e(219)]=n)}if(this.player[e(212)]&&this.player.ai&&this.player.ai[e(140)]){null===this[e(217)]&&(this[e(217)]=is());const n=is();n-this[e(217)]>=this[e(146)][e(176)].aiObjectDetectInterval&&(i=this[e(146)].ai[e(140)][e(164)]({width:this[e(230)][e(225)],height:this[e(230)][e(161)],data:t[e(188)],ts:t.ts||0},s),r=M[e(159)],this.prevAiObjectDetectTime=n)}if(this[e(146)].occlusionDetectActive&&this[e(146)].ai&&this[e(146)].ai[e(155)]){null===this[e(139)]&&(this[e(139)]=is());const i=is();if(i-this.prevAiOcclusionDetectTime>=this.player[e(176)][e(204)]){const r=this[e(146)].ai[e(155)].check({width:this[e(230)][e(225)],height:this[e(230)][e(161)],data:t[e(188)]},s);this[e(139)]=i,r&&this[e(146)][e(162)](H[e(132)],{ts:t.ts||0})}}if(this[e(146)][e(214)]&&this[e(146)].ai&&this[e(146)].ai.imageDetector){const i=this.player.ai[e(137)][e(210)]({width:this[e(230)].width,height:this[e(230)][e(161)],data:t[e(188)]},s);if(i&&i[e(136)]&&(this[e(146)][e(162)](H.aiImageDetectResult,{type:i[e(193)],ts:t.ts||0}),this.player[e(176)][e(240)]))return void this[e(146)][e(187)](this[e(191)],e(198)+i[e(193)]+e(129))}return{yuv:i,format:B[r]}}}var Gn=Xn;!function(t,e){for(var s=Xn,i=t();;)try{if(958670===-parseInt(s(272))/1+-parseInt(s(273))/2*(parseInt(s(279))/3)+parseInt(s(227))/4+-parseInt(s(233))/5*(parseInt(s(244))/6)+parseInt(s(264))/7*(parseInt(s(275))/8)+-parseInt(s(230))/9+-parseInt(s(277))/10*(-parseInt(s(243))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Hn);var zn="object"==typeof window&&window[Gn(267)]===window?window:typeof self===Gn(245)&&self[Gn(289)]===self?self:typeof global===Gn(245)&&global[Gn(228)]===global?global:void 0;function Hn(){var t=["download","rel","HTMLElement","replace","createObjectURL","undefined","open","location","userAgent","test","responseType","origin","1435ykapsz","createEvent","_blank","window","type","error","data:attachment/file;","target","1906093dgFnjE","2WkEqEc","readAsDataURL","35880DzlZdI","msSaveOrOpenBlob","387810sdfWzz","navigator","2503887xWdKJp","webkitURL","body","MouseEvents","could not download file","onloadend","downloading...","status","autoBom","GET","self","7024220fXbwKu","global","innerText","10056069kMxKxN","send","result","523350aICnfE","initMouseEvent","URL","string","blob","onerror","noopener","safari","click","createElementNS","1023QpCmxq","84XJhZZU","object","revokeObjectURL","href","document","onload","HEAD","dispatchEvent"];return(Hn=function(){return t})()}function Kn(t,e,s){var i=Gn,r=new XMLHttpRequest;r.open(i(288),t),r[i(262)]=i(237),r[i(249)]=function(){Jn(r.response,e,s)},r[i(238)]=function(){var t=i;console[t(269)](t(283))},r[i(231)]()}function qn(t){var e=Gn,s=new XMLHttpRequest;s[e(258)](e(250),t,!1);try{s[e(231)]()}catch(t){}return s.status>=200&&s[e(286)]<=299}function Qn(t){var e=Gn;try{t.dispatchEvent(new MouseEvent(e(241)))}catch(i){var s=document[e(265)](e(282));s[e(234)](e(241),!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t[e(251)](s)}}var Yn=zn[Gn(278)]&&/Macintosh/[Gn(261)](navigator[Gn(260)])&&/AppleWebKit/[Gn(261)](navigator[Gn(260)])&&!/Safari/[Gn(261)](navigator[Gn(260)]),Jn=typeof window!==Gn(245)||window!==zn?function(){}:Gn(252)in HTMLAnchorElement.prototype&&!Yn?function(t,e,s){var i=Gn,r=zn[i(235)]||zn[i(280)],n=document[i(242)]("http://www.w3.org/1999/xhtml","a");e=e||t.name||i(252),n[i(252)]=e,n[i(253)]=i(239),"string"==typeof t?(n[i(247)]=t,n[i(263)]!==location[i(263)]?qn(n[i(247)])?Kn(t,e,s):Qn(n,n[i(271)]=i(266)):Qn(n)):(n[i(247)]=r[i(256)](t),setTimeout((function(){var t=i;r[t(246)](n[t(247)])}),4e4),setTimeout((function(){Qn(n)}),0))}:Gn(276)in navigator?function(t,e,s){var i,r,n,o=Gn;if(e=e||t.name||o(252),typeof t===o(236))if(qn(t))Kn(t,e,s);else{var a=document.createElement("a");a[o(247)]=t,a[o(271)]="_blank",setTimeout((function(){Qn(a)}))}else navigator[o(276)]((i=t,typeof(r=s)===(n=Gn)(257)?r={autoBom:!1}:typeof r!==n(245)&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r[n(287)]&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i[n(261)](i[n(268)])?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e)}:function(t,e,s,i){var r=Gn;if((i=i||open("",r(266)))&&(i[r(248)].title=i.document[r(281)][r(229)]=r(285)),typeof t===r(236))return Kn(t,e,s);var n="application/octet-stream"===t[r(268)],o=/constructor/i.test(zn[r(254)])||zn[r(240)],a=/CriOS\/[\d]+/[r(261)](navigator[r(260)]);if((a||n&&o||Yn)&&typeof FileReader!==r(257)){var h=new FileReader;h[r(284)]=function(){var t=r,e=h[t(232)];e=a?e:e[t(255)](/^data:[^;]*;/,t(270)),i?i[t(259)][t(247)]=e:location=e,i=null},h[r(274)](t)}else{var l=zn[r(235)]||zn[r(280)],c=l.createObjectURL(t);i?i[r(259)]=c:location[r(247)]=c,i=null,setTimeout((function(){l[r(246)](c)}),4e4)}};function Xn(t,e){var s=Hn();return(Xn=function(t,e){return s[t-=227]})(t,e)}const $n=to;function Zn(){const t=["getShaderParameter","868827MYytVD","getProgramParameter","uLineWidth","TEXTURE_MAG_FILTER","createBuffer","BLEND","linecolor","programInfo","CLAMP_TO_EDGE","STATIC_DRAW","UNSIGNED_SHORT","getShaderInfoLog","uniform3f","SRC_ALPHA","buffers","linewidth","ONE_MINUS_SRC_ALPHA","TEXTURE_2D","program","1ISJpsT","createProgram","useProgram","233690VEjYZH","indices","VERTEX_SHADER","compileShader","_initShaderProgram","deleteBuffer","ARRAY_BUFFER","linkProgram","getAttribLocation","TRIANGLES","2167408cYcUKv","blendFunc","resolution","attachShader","vertexAttribPointer","970565jKgJCQ","uLineColor","TEXTURE_WRAP_T","uniformLocations","\n            precision highp float;\n            uniform float uLineWidth;\n            uniform vec4 uRect;\n            uniform vec3 uLineColor;\n            uniform vec2 uResolution;\n\n\n            float inBox(vec2 st, vec4 rect){\n\n                vec2 bl = step(rect.xy,st);\n                float pct = bl.x * bl.y;\n\n                vec2 tr = step(st, rect.zw);\n                pct *= tr.x * tr.y;\n\n                return pct;\n            }\n\n            void main(void) {\n\n                vec2 cur = gl_FragCoord.xy/uResolution;\n\n                float xlinewidth  = uLineWidth/uResolution.x;\n                float ylinewidth  = uLineWidth/uResolution.y;\n\n                // vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);\n                // vec4 inRect  = uRect + vec4(xlinewidth/2., ylinewidth/2., -1.*xlinewidth/2., -1.*ylinewidth/2.);\n\n                vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);\n                vec4 inRect  = uRect;\n\n                float a = inBox(cur, outRect);\n                float b = inBox(cur, inRect);\n\n                gl_FragColor = mix(vec4(0., 0., 0., 0.), vec4(uLineColor.rgb, 1.0), a-b);\n\n            }\n            ","deleteProgram","_initBuffers","_drawScene","createShader","shaderProgram","vertexPosition","deleteShader","bindBuffer","_loadShader","log","drawBox","FRAGMENT_SHADER","2524669xCygNJ","enable","destroy","TEXTURE_WRAP_S","\n          attribute vec4 aVertexPosition;\n            void main(void) {\n              gl_Position = aVertexPosition;\n            }\n            ","10204272RGwtvF","uResolution","bindTexture","An error occurred compiling the shaders: ","_createTexture","COMPILE_STATUS","bufferData","6xELrBf","ELEMENT_ARRAY_BUFFER","uniform1f","drawElements","fromValues","aVertexPosition","enableVertexAttribArray","FLOAT","getUniformLocation","attribLocations","position","TEXTURE_MIN_FILTER","texParameteri","LINEAR","getProgramInfoLog","1183880KSvcTR"];return(Zn=function(){return t})()}function to(t,e){const s=Zn();return(to=function(t,e){return s[t-=134]})(t,e)}!function(t,e){const s=to,i=t();for(;;)try{if(197618===-parseInt(s(188))/1*(parseInt(s(191))/2)+-parseInt(s(169))/3+parseInt(s(167))/4+-parseInt(s(206))/5*(parseInt(s(152))/6)+-parseInt(s(140))/7+-parseInt(s(201))/8+parseInt(s(145))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Zn);$n(142),$n(195),$n(136),$n(149),$n(212),$n(213),$n(138);function eo(t,e){const s=io();return(eo=function(t,e){return s[t-=246]})(t,e)}function so(t){return new Promise(((e,s)=>{const i=eo;navigator.gpu?navigator[i(254)][i(259)]()[i(248)]((r=>{const n=i;r?r[n(258)]()[n(248)]((i=>{const o=n;if(i){const n=t[o(256)](o(246));if(n){const t=navigator[o(254)].getPreferredCanvasFormat();n.configure({device:i,format:t,alphaMode:o(266)}),e({adapter:r,device:i,context:n,format:t})}else s(o(260))}else s('WebGPU "device" request fail')})).catch((t=>{s(n(261))})):s(n(249))}))[i(252)]((t=>{s(i(255))})):s(i(257))}))}function io(){const t=["696VILEgb","catch","408002TBhSeY","gpu",'WebGPU "navigator.gpu.requestAdapter()" fail',"getContext","WebGPU not support!!","requestDevice","requestAdapter",'WebGPU "context" create fail','WebGPU "adapter.requestDevice()" fail',"17469HBydAy","138324iYydGa","172464spFuom","1715300XlnadO","opaque","190BxXVmk","10084vlAANW","webgpu","510420iIcTJA","then",'WebGPU "adapter" request fail is empty',"1XuPQMM"];return(io=function(){return t})()}!function(t,e){const s=eo,i=t();for(;;)try{if(109863===parseInt(s(250))/1*(-parseInt(s(263))/2)+-parseInt(s(247))/3+parseInt(s(268))/4*(parseInt(s(267))/5)+-parseInt(s(264))/6+-parseInt(s(253))/7+parseInt(s(251))/8*(parseInt(s(262))/9)+parseInt(s(265))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(io);const ro=oo;function no(){const t=["drawingBufferHeight","drawingBufferWidth","attachShader","useProgram","STATIC_DRAW","displayWidth","12UjbZHy","render","TEXTURE_2D","createProgram","program","vertexAttribPointer","texImage2D","getAttribLocation","createShader","texture","width","418461dvpXYk","COMPILE_STATUS","286755Qwvtvn","LINK_STATUS","deleteTexture","bindBuffer","viewport","9PkIuVu","destroy","deleteBuffer","TEXTURE_MAG_FILTER","getProgramInfoLog","height","shaderSource","compileShader","TEXTURE_MIN_FILTER","FLOAT","linkProgram","isInited","NEAREST","\n            attribute vec2 xy;\n            varying highp vec2 uv;\n            void main(void) {\n                gl_Position = vec4(xy, 0.0, 1.0);\n                // Map vertex coordinates (-1 to +1) to UV coordinates (0 to 1).\n                // UV coordinates are Y-flipped relative to vertex coordinates.\n                uv = vec2((1.0 + xy.x) / 2.0, (1.0 - xy.y) / 2.0);\n            }\n        ","COLOR_BUFFER_BIT","250qHyFEf","deleteShader","TRIANGLE_FAN","TEXTURE_WRAP_T","texSubImage2D","323092sesSWd","CLAMP_TO_EDGE","RGBA","canvas","1148344mbcygS","deleteProgram","enableVertexAttribArray","FRAGMENT_SHADER","vertexShader","getShaderInfoLog","242412UCunUD","createBuffer","bindTexture","clear","texParameteri","VERTEX_SHADER","drawArrays","ARRAY_BUFFER","getShaderParameter","134460vtWpOW","41932IEgmHP","buffer","8YihvYK","getProgramParameter"];return(no=function(){return t})()}function oo(t,e){const s=no();return(oo=function(t,e){return s[t-=117]})(t,e)}!function(t,e){const s=oo,i=t();for(;;)try{if(135010===-parseInt(s(158))/1+parseInt(s(148))/2+parseInt(s(121))/3+-parseInt(s(170))/4*(parseInt(s(167))/5)+-parseInt(s(178))/6*(-parseInt(s(123))/7)+-parseInt(s(152))/8*(-parseInt(s(128))/9)+-parseInt(s(143))/10*(parseInt(s(168))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(no);class ao{constructor(t,e){const s=oo;this[s(151)]=t,this.gl=e,this.isInited=!1;const i=s(141),r=e[s(118)](e[s(163)]);if(e.shaderSource(r,i),e[s(135)](r),!e[s(166)](r,e[s(122)]))throw e[s(157)](r);const n=e[s(118)](e[s(155)]);if(e[s(134)](n,"\n             varying highp vec2 uv;\n             uniform sampler2D texture;\n             void main(void) {\n                gl_FragColor = texture2D(texture, uv);\n             }\n        "),e[s(135)](n),!e[s(166)](n,e[s(122)]))throw e.getShaderInfoLog(n);const o=e[s(181)]();if(e[s(174)](o,r),e[s(174)](o,n),e[s(138)](o),!e[s(171)](o,e[s(124)]))throw e[s(132)](o);e[s(175)](o);const a=e[s(159)]();e[s(126)](e[s(165)],a),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),e[s(176)]);const h=e[s(117)](o,"xy");e[s(183)](h,2,e[s(137)],!1,0,0),e[s(154)](h);const l=e.createTexture();e[s(160)](e[s(180)],l),e[s(162)](e[s(180)],e[s(131)],e[s(140)]),e[s(162)](e[s(180)],e[s(136)],e[s(140)]),e[s(162)](e[s(180)],e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e[s(162)](e[s(180)],e[s(146)],e[s(149)]),this[s(182)]=o,this[s(169)]=a,this[s(156)]=r,this.fragmentShader=n,this[s(119)]=l}[ro(129)](){const t=ro;this.gl[t(153)](this[t(182)]),this.gl[t(130)](this[t(169)]),this.gl[t(125)](this[t(119)]),this.gl[t(144)](this[t(156)]),this.gl[t(144)](this.fragmentShader),this[t(182)]=null,this[t(169)]=null,this[t(156)]=null,this.fragmentShader=null,this.texture=null,this.gl=null,this.isInited=!1,this.canvas=null}[ro(179)](t){const e=ro;if(!this.canvas)return;this[e(151)][e(120)]=t[e(177)],this[e(151)][e(133)]=t.displayHeight;const s=this.gl;this[e(139)]?s[e(147)](s[e(180)],0,0,0,s.RGBA,s.UNSIGNED_BYTE,t):(s[e(184)](s[e(180)],0,s[e(150)],s[e(150)],s.UNSIGNED_BYTE,t),this[e(139)]=!0),s[e(127)](0,0,s[e(173)],s[e(172)]),s.clearColor(1,0,0,1),s[e(161)](s[e(142)]),s[e(164)](s[e(145)],0,4)}}const ho=lo;function lo(t,e){const s=co();return(lo=function(t,e){return s[t-=375]})(t,e)}function co(){const t=["1124580wFqTxr","mirrorRotate","1fZtncO","split","1775010jXXRqf","$screenshotCanvasElement","initCanvasViewSize","isDestroyedOrClosed","createWebGPUContext error is ","position","toDataURL","clearView","7268670lifgsl","download","54XjjzgJ","debugLog","pause","renderType","webglcontextrestored","webglContextLostError","block","screenshotCopyrightWatermark","isFullResize","png","webGPURender","screenshot","screenshotCanvasContext","webgl","getShowVideoRect","emitError","webglRender","blob","height","imageSmoothingEnabled","webgl2","getContextAttributes"," and next use context2d.draw render","webglcontextlost","_initCanvasRender","screenshotByRect","isResize","play","format","setStreamFps","webgpu","base64","_opt","$container","_initContextGl","contextGl","isWcsWebgl2","_resize","drawImage","screenshotByCurrentWatermark","_bindContextGlEvents","videoInfo","style","isWcsWebgpu","none","createContextGL() version ","top","getType"," rotateX(180deg)","then","push","_resize()","webGPURender init success","debugError","canvas"," rotate(","transform","getCanvasType","debugWarn","screenshotUseHighQuality","_initContextGl2() createContextGL2 error","left","81usFgcK","deg)","CommonCanvasLoader","8TilzLM","player","preventDefault","context2D","webglcontextlost error, getContextAttributes().stencil is false","bitmaprenderer","7072905GLPpsv","render","13ChrEeR","destroy","$videoElement","resize","proxyDestroyList","webglcontextlost error reset and getContextAttributes().stencil is true","events","forEach","initFps","level","width","_initContext2D","_isDestroyed","remove","undefined","appendChild","absolute","canvasVideo","1069182zNNBOt","imageSmoothingQuality","display","type","catch","5turgYM","_initContextGPU","111548SCgUTD","createContextGL success","_createScreenShotCanvas","scale(","webglcontextlost error","quality","filename","_initContextGl2","webglRectRender","createElement","screenshotWatermark","CommonCanvasLoader and _initContextGl createContextGL error","867229OloFbh","length","isWebglContextLost","high","webglcontextrestored ","clearRect"];return(co=function(){return t})()}!function(t,e){const s=lo,i=t();for(;;)try{if(765942===parseInt(s(495))/1*(parseInt(s(468))/2)+-parseInt(s(439))/3*(parseInt(s(475))/4)+parseInt(s(473))/5*(parseInt(s(375))/6)+-parseInt(s(448))/7*(-parseInt(s(442))/8)+-parseInt(s(377))/9*(parseInt(s(497))/10)+-parseInt(s(487))/11+parseInt(s(493))/12*(-parseInt(s(450))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(co);class uo extends Wn{constructor(t){const e=lo;super(),this[e(443)]=t;const s=document[e(484)]("canvas");s.style[e(502)]=e(466),s[e(419)][e(423)]=0,s[e(419)][e(438)]=0,s[e(419)][e(470)]=e(421),this[e(452)]=s,this[e(498)]=null,this[e(389)]=null,t[e(410)][e(465)](this[e(452)]),this[e(445)]=null,this.contextGl=null,this.webglRender=null,this[e(483)]=null,this[e(387)]=null,this.isWebglContextLost=!1,this[e(413)]=!1,this.isWcsWebgpu=!1,this[e(447)]=null,this.renderType=null,this[e(454)]=[],this[e(401)]()}[ho(451)](){const t=ho;if(super.destroy(),this[t(498)]&&(this[t(498)].height=0,this[t(498)][t(460)]=0,this.$screenshotCanvasElement=null),this.screenshotCanvasContext=null,this[t(454)][t(488)]>0&&(this[t(454)][t(457)]((t=>{t&&t()})),this.proxyDestroyList=[]),this[t(393)]&&(this[t(393)][t(451)](),this.webglRender=null),this.webglRectRender&&(this[t(483)][t(451)](),this[t(483)]=null),this[t(387)]&&(this[t(387)][t(451)](),this[t(387)]=null),this[t(447)]&&(this.bitmaprenderer=null),this[t(412)]&&(this[t(412)]=null),this[t(445)]&&this[t(452)]&&(this.context2D.clearRect(0,0,this[t(452)][t(460)],this[t(452)][t(395)]),this[t(445)]=null),this.renderType=null,this[t(489)]=!1,this[t(420)]=!1,this[t(413)]=!1,this[t(418)]=null,this[t(452)]){this.$videoElement[t(460)]=0,this.$videoElement[t(395)]=0;!Pn(this[t(452)])&&this[t(452)][t(463)](),this.$videoElement=null}this.init=!1}[ho(477)](){const t=ho,e=document[t(484)](t(431));this[t(498)]=e,this[t(389)]=e.getContext("2d"),this.player[t(409)][t(436)]&&(this[t(389)][t(396)]=!0,this[t(389)][t(396)]&&(this.screenshotCanvasContext[t(469)]=t(490)))}[ho(461)](){const t=ho;let e=arguments[t(488)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(445)]=this[t(452)].getContext("2d",e)}[ho(411)](){const t=ho;if(this.player[t(456)],this[t(412)]=ts(this[t(452)]),!this[t(412)])throw this[t(443)][t(430)](t(441),"_initContextGl() createContextGL error"),new Error(t(486));this[t(417)](),this[t(393)]=new yn(this.contextGl,this.player[t(409)].openWebglAlignment)}[ho(482)](){const t=ho;if(this[t(412)]=es(this.$videoElement),this[t(412)]){this[t(417)](2);try{this.webglRender=new ao(this[t(452)],this.contextGl)}catch(e){this[t(443)][t(430)](t(441),"create webgl2Render error is "+e+t(399)),this.contextGl=null,this[t(393)]=null,this[t(461)]()}}else this[t(443)][t(430)](t(441),t(437))}_bindContextGlEvents(){const t=ho;let e=arguments[t(488)]>0&&void 0!==arguments[0]?arguments[0]:1;const{proxy:s}=this[t(443)].events,i=s(this.$videoElement,t(400),(s=>{const i=t;s[i(444)](),this[i(443)][i(430)](i(467),i(479),s),this[i(489)]=!0,this.webglRender&&(this[i(443)][i(378)](i(441),"webglcontextlost error and destroy webglRender"),this[i(393)][i(451)](),this[i(393)]=null),this[i(483)]&&(this[i(443)][i(378)]("CommonCanvasLoader","webglcontextlost error and destroy webglRectRender"),this[i(483)][i(451)](),this[i(483)]=null),this[i(412)]=null,setTimeout((()=>{const t=i;if(this[t(443)][t(378)](t(441),t(422)+e),1===e?this.contextGl=ts(this[t(452)]):2===e&&(this[t(412)]=es(this[t(452)])),this[t(443)].debugLog("CommonCanvasLoader",t(476)),this[t(412)]&&this[t(412)][t(398)]){const s=this.contextGl[t(398)]();s&&s.stencil?(1===e?this[t(393)]=new yn(this[t(412)],this[t(443)][t(409)].openWebglAlignment):2===e&&(this[t(393)]=new ao(this[t(452)],this[t(412)])),this.isWebglContextLost=!1,this[t(443)].debugLog(t(441),t(455))):(this[t(443)][t(430)]("CommonCanvasLoader","webglcontextlost error, getContextAttributes().stencil is false"),this[t(443)][t(392)](Q[t(382)]))}else this[t(443)].debugError(t(441),t(446)),this[t(443)][t(392)](Q[t(382)])}),500)})),r=s(this[t(452)],t(381),(e=>{const s=t;e[s(444)](),this[s(443)][s(378)](s(441),s(491),e)}));this[t(454)][t(427)](i,r)}[ho(474)](){const t=ho;so(this[t(452)])[t(426)]((e=>{const s=t;this._isDestroyed||this.player[s(500)]()||(e?(this[s(387)]=new wn(e),this[s(443)].debugLog(s(441),s(429))):(this[s(443)][s(435)](s(441),"webGPURender init failed because context is null and next use webgl render"),this[s(380)]=at.webgl,this[s(411)]()))}))[t(472)]((e=>{const s=t;this[s(462)]||this[s(443)][s(500)]()||(this[s(443)].debugWarn(s(441),s(501)+e+" and next use webgl render"),this.renderType=at[s(390)],this._initContextGl())}))}[ho(499)](){const t=ho;this[t(452)][t(419)][t(470)]=t(383),this.$videoElement[t(460)]=this.videoInfo[t(460)],this[t(452)][t(395)]=this.videoInfo.height,this[t(453)]()}[ho(388)](t,e,s,i){const r=ho;t=t||is(),i=i||J[r(376)];let n=.92;!yt[e]&&J[e]&&(i=e,e="png",s=void 0),"string"==typeof s&&(i=s,s=void 0),typeof s!==r(464)&&(n=Number(s));const o=yt[e]||yt[r(386)],a=this[r(452)][r(503)](o,n);if(i===J[r(408)])return a;{const e=ss(a);if(i===J[r(394)])return e;if(i===J[r(376)]){const s=o[r(496)]("/")[1];Jn(e,t+"."+s)}}}[ho(485)](t){return new Promise(((e,s)=>{const i=lo;ei(t)&&(t={filename:t}),(t=t||{}).width=this[i(418)][i(460)],t.height=this.videoInfo[i(395)],t[i(481)]=t.filename||is(),t[i(405)]=t[i(405)]?yt[t.format]:yt[i(386)],t[i(480)]=Number(t[i(480)])||.92,t[i(471)]=t[i(471)]||J[i(376)];const r=this[i(452)][i(503)](t[i(405)],t.quality),n=this[i(443)][i(409)][i(436)];Gs(r,t,n)[i(426)]((s=>{const r=i;if(t[r(471)]===J[r(408)])e(s);else{const i=ss(s);if(t.type===J[r(394)])e(i);else if(t[r(471)]===J[r(376)]){e();const s=t[r(405)].split("/")[1];Jn(i,t[r(481)]+"."+s)}}}))[i(472)]((t=>{s(t)}))}))}[ho(384)](t){return new Promise(((e,s)=>{const i=lo;if(ei(t)){(t=(t={filename:t})||{}).width=this[i(418)][i(460)],t[i(395)]=this.videoInfo.height,t[i(481)]=t[i(481)]||is(),t[i(405)]=t[i(405)]?yt[t.format]:yt[i(386)],t[i(480)]=Number(t[i(480)])||.92,t.type=t[i(471)]||J[i(376)];const r=this[i(452)][i(503)](t[i(405)],t[i(480)]),n=this[i(443)][i(409)].screenshotUseHighQuality;Hs(r,t,n).then((s=>{const r=i;if(t[r(471)]===J[r(408)])e(s);else{const i=ss(s);if(t.type===J[r(394)])e(i);else if(t[r(471)]===J.download){e();const s=t[r(405)][r(496)]("/")[1];Jn(i,t[r(481)]+"."+s)}}}))[i(472)]((t=>{s(t)}))}}))}[ho(416)](t){}[ho(402)](t){const e=ho;!this[e(498)]&&this[e(477)]();const s=this.$videoElement;let i=this[e(498)];i.width=parseInt(t[e(460)],10),i[e(395)]=parseInt(t[e(395)],10),this.screenshotCanvasContext[e(415)](s,t.x,t.y,i.width,i[e(395)],0,0,i[e(460)],i[e(395)]);const r=yt.png,n=i[e(503)](r,.92);return this.screenshotCanvasContext[e(492)](0,0,i.width,i[e(395)]),i[e(460)]=0,i[e(395)]=0,n}[ho(449)](){}[ho(504)](){super[ho(504)]()}[ho(404)](){}[ho(379)](){}[ho(414)](){const t=ho;this[t(443)][t(378)](t(467),t(428));const e=this.player._opt,s=this[t(443)][t(391)]();let i=s[t(460)],r=s[t(395)],n=this[t(452)][t(460)],o=this[t(452)][t(395)];const a=e.rotate;let h=(i-n)/2,l=(r-o)/2;(270===a||90===a)&&(n=this[t(452)].height,o=this[t(452)].width);const c=i/n,d=r/o;let u=c>d?d:c;Ri(e[t(403)])&&c!==d&&(u=c+","+d),e[t(385)]&&(u=c>d?c:d);let p=t(478)+u+")";e[t(494)]===t(421)&&a&&(p+=t(432)+a+t(440)),e.mirrorRotate===t(459)?p+=" rotateY(180deg)":"vertical"===e[t(494)]&&(p+=t(425)),this[t(452)][t(419)].height=this.videoInfo[t(395)]+"px",this[t(452)].style[t(460)]=this.videoInfo[t(460)]+"px",this[t(452)][t(419)].padding="0",this.$videoElement[t(419)][t(433)]=p,this[t(452)][t(419)][t(438)]=h+"px",this[t(452)].style.top=l+"px"}[ho(458)](){}[ho(406)](t){}getStreamFps(){return 25}[ho(424)](){return A.canvas}[ho(434)](){const t=ho;let e=at.webgl;return this.renderType===at[t(407)]?e=at[t(407)]:this.renderType===at[t(431)]&&(e=at[t(431)]),this[t(413)]?e=at[t(397)]:this[t(420)]&&(e=at[t(407)]),e}}const po=mo;function fo(){const t=["startRender","currentTime","text","transferFromImageBitmap","getContext","webGPURender","7358504NLPHoZ","doAddAiContentToWatermark","COLOR_BUFFER_BIT","px Arial","_initContext2D","isWcsWebgpu","useWebGPU","useOffscreen","doRender webgpu render is not init","webgpu","player","7OnagtS","_bindOffscreen","allocationSize","40adokyf","TAG_NAME","aiCheck","font","fillStyle","webgl","nv12","context2D","debugLog","useMSE","tempContentList","_initWebglRenderForWCS","updateStats","isWcsWebgl2","contextGl","height","16593984nTFLWz","doRender","type","canvas","isOldHls","_initTempTextCanvas","mseUseCanvasRender"," and next use webgl render","width","useWebCanvas","renderType","destroy","length","webglRectRender","drawBox","mseDecoder","debugWarn","catch","doAddContentToCanvas","videoFrame","buffer","$videoElement","copyTo","output","top","isDestroyedOrClosed","tempTextCanvas","webglRender","  and error: ","drawImage","color","#008000","webrtc","toString","yuv","webcodecs","_initContextGl2","render","useCanvasRender","964071Lbqrpf","videoInfo","hls","createWebGPUContext error is ","_isDestroyed","doRender webgl render context is lost ","textBaseline","fillText","clearRect"," doRender() and webcodecs render needAiCheck error: ","rect","webGPURender init failed because context is null and next use webgl render","doRender webgpu render and error: ","1338720KPOZfZ","format","doRender() and webcodecs context is lost","doAddContentToWebGlCanvas","isWebglContextLost","yuvList","debugError","_initContextGl","i420","needAiCheck","5413424rkHlrl","isContextLost","init","$video","renderYUV","NV12","clearView","_opt","502558ZkAGLQ","webrtcUseCanvasRender","clear","useWCS","lineWidth","mse","CanvasVideoPlayer","1371798ocwRQC","offscreen","tempTextCanvasCtx","updateCurrentPts","bitmaprenderer","doRender() and webgl context is lost"];return(fo=function(){return t})()}function mo(t,e){const s=fo();return(mo=function(t,e){return s[t-=327]})(t,e)}!function(t,e){const s=mo,i=t();for(;;)try{if(966238===-parseInt(s(366))/1+parseInt(s(397))/2+parseInt(s(404))/3+parseInt(s(416))/4+-parseInt(s(430))/5*(parseInt(s(379))/6)+-parseInt(s(427))/7*(parseInt(s(389))/8)+parseInt(s(327))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fo);class go extends uo{constructor(t){const e=mo;super(t),this[e(431)]=e(403),this.yuvList=[],this[e(353)]=null,this[e(406)]=null,this[e(426)].debugLog(this[e(431)],e(391))}async[po(338)](){const t=po;this[t(384)]=[],this[t(353)]&&(this[t(406)].clearRect(0,0,this.tempTextCanvas.width,this[t(353)][t(445)]),this[t(353)].width=0,this[t(353)][t(445)]=0,this[t(353)]=null),super[t(338)](),this[t(426)][t(438)](this.TAG_NAME,t(338))}_initCanvasRender(){const t=po;this[t(426)][t(396)][t(400)]&&!this._supportOffscreen()?(this[t(337)]=at[t(362)],this[t(426)][t(396)].useWebGPU?so(this[t(348)]).then((e=>{const s=t;this[s(370)]||this[s(426)][s(352)]()||(e?(this[s(415)]=new wn(e),this[s(421)]=!0,this.player.debugLog(this[s(431)],"webGPURender init success")):(this.player[s(343)](this[s(431)],s(377)),this._initWebglRenderForWCS()))}))[t(344)]((()=>{const s=t;this._isDestroyed||this[s(426)][s(352)]()||(this.player[s(343)](this[s(431)],s(369)+e+s(334)),this[s(441)]())})):this[t(441)]()):this[t(426)]._opt[t(439)]&&this.player._opt[t(333)]?(this[t(337)]=at[t(402)],this[t(420)]()):this[t(426)][t(331)]()&&this[t(426)]._opt[t(365)]?(this[t(337)]=at[t(368)],this[t(420)]()):this.player.isWebrtcH264()&&this[t(426)]._opt[t(398)]?(this[t(337)]=at[t(359)],this._initContext2D()):this._supportOffscreen()?(this[t(337)]=at[t(405)],this[t(428)]()):this[t(426)][t(396)][t(422)]?(this.renderType=at[t(425)],this._initContextGPU()):this.player[t(396)][t(336)]?(this[t(337)]=at[t(330)],this._initContext2D()):(this[t(337)]=at[t(435)],this[t(386)]())}[po(441)](){const t=po;this[t(426)][t(396)].wcsUseWebgl2Render&&Ui()?(this[t(363)](),this[t(354)]&&(this[t(443)]=!0)):this[t(420)]()}_supportOffscreen(){const t=po;return function(t){const e=_s;return typeof t[e(435)]===e(218)}(this.$videoElement)&&this[t(426)]._opt[t(423)]}[po(428)](){const t=po;this[t(408)]=this[t(348)][t(414)](t(408))}render(t){const e=po;this[e(370)]||(this[e(384)].push(t),this[e(410)]())}startRender(){const t=po;for(;!(this[t(384)].length<=0);){const e=this[t(384)].shift();this[t(328)](e)}}[po(328)](t){const e=po;if(this[e(337)]!==at[e(402)]){const s={ts:t.ts||0,fps:!0};this.player[e(442)](s)}let s=t.ts||0;switch(this[e(337)]===at[e(402)]&&(s=parseInt(1e3*t.$video[e(411)],10)+(this.player[e(342)].firstRenderTime||0)),this.player[e(407)](s),this.doAddContentToWatermark(),this[e(417)](),this.renderType){case at.offscreen:this[e(408)][e(413)](t[e(347)]);break;case at[e(435)]:case at[e(425)]:case at[e(330)]:if(this[e(383)])return void this[e(426)][e(343)](this[e(431)],e(409));const s=this[e(432)]({yuv:t[e(350)],ts:t.ts||0});if(!s)return;const i=s.yuv;if(this[e(337)]===at[e(425)])try{if(!this[e(415)])return void this[e(426)][e(343)](this[e(431)],e(424));this[e(415)].renderYUV(this[e(348)].width,this[e(348)][e(445)],i)}catch(t){this.player[e(385)](this[e(431)],e(378)+t[e(360)]())}else if(this[e(337)]===at[e(435)])try{this[e(354)][e(393)](this.$videoElement[e(335)],this.$videoElement.height,i)}catch(t){this[e(426)].debugError(this[e(431)],e(371)+(this[e(444)]&&this[e(444)][e(390)]())+e(355)+t.toString())}else if(this[e(337)]===at.canvas){const r=qs(i,{format:s[e(380)],codedWidth:this[e(367)][e(335)],codedHeight:this[e(367)][e(445)],timestamp:1e3*t.ts});this[e(437)].drawImage(r,0,0,this[e(348)][e(335)],this[e(348)].height),yi(r)}break;case at[e(362)]:if(this[e(388)]()){const s=t[e(346)];let i=new Uint8Array(s[e(429)]());s[e(349)](i).then((()=>{const r=e,n=s[r(380)]==r(394)?M[r(436)]:M[r(387)],o=this[r(432)]({yuv:i,ts:t.ts||0},n);if(yi(s),o)try{const e=qs(o[r(361)],{format:o[r(380)],codedWidth:this[r(367)][r(335)],codedHeight:this[r(367)].height,timestamp:1e3*t.ts});this[r(415)]?(this[r(415)][r(364)](e),yi(e)):this[r(354)]?(this[r(354)].render(e),yi(e)):this.context2D?(this.context2D[r(356)](e,0,0,this[r(348)].width,this[r(348)][r(445)]),yi(e)):this.player[r(343)](this[r(431)],r(381))}catch(t){this[r(426)].debugWarn(this[r(431)],r(375)+t[r(360)]())}}))}else this[e(415)]?(this[e(415)][e(364)](t[e(346)]),yi(t[e(346)])):this[e(354)]?(this[e(354)][e(364)](t.videoFrame),yi(t[e(346)])):this[e(437)]?(this[e(437)].drawImage(t[e(346)],0,0,this[e(348)][e(335)],this[e(348)][e(445)]),yi(t[e(346)])):this.player[e(343)](this[e(431)],e(381));break;case at[e(402)]:this[e(437)].drawImage(t.$video,0,0,this[e(348)].width,this[e(348)].height);break;case at[e(368)]:this[e(437)][e(356)](t[e(392)],0,0,this[e(348)].width,this[e(348)][e(445)]);break;case at.webrtc:this[e(437)][e(356)](t[e(392)],0,0,this.$videoElement.width,this[e(348)][e(445)])}}[po(395)](){const t=po;switch(super[t(395)](),this[t(337)]){case at.offscreen:(function(t,e){const s=$e,i=document[s(431)](s(394));i[s(370)]=t,i[s(292)]=e;const r=window.createImageBitmap(i,0,0,t,e);return i[s(370)]=0,i[s(292)]=0,r})(this[t(348)][t(335)],this[t(348)].height).then((e=>{const s=t;this[s(408)][s(413)](e)}));break;case at.webgl:this[t(444)].clear(this[t(444)][t(418)]);break;case at[t(425)]:this[t(415)][t(399)]();break;case at[t(330)]:this[t(437)][t(374)](0,0,this[t(348)].width,this[t(348)][t(445)]);break;case at[t(362)]:this.webGPURender?this.webGPURender[t(399)]():this[t(444)]?this.contextGl[t(399)](this.contextGl[t(418)]):this[t(437)]&&this.context2D[t(374)](0,0,this[t(348)].width,this[t(348)][t(445)]);break;case at[t(402)]:this[t(437)][t(374)](0,0,this[t(348)].width,this.$videoElement.height);break;case at[t(368)]:this[t(437)].clearRect(0,0,this[t(348)].width,this[t(348)][t(445)]);break;case at[t(359)]:this.context2D[t(374)](0,0,this[t(348)][t(335)],this[t(348)][t(445)])}}[po(332)](){const t=po;this[t(353)]=document.createElement(t(330)),this[t(406)]=this.tempTextCanvas.getContext("2d"),this.tempTextCanvas[t(335)]=600,this[t(353)][t(445)]=20}[po(345)](){const t=po;this[t(440)][t(339)]>0&&this[t(437)]&&function(t){const e=$e;let{ctx:s,list:i}=t;s.save(),(i||[]).forEach((t=>{const e=_s;t[e(496)]===e(489)?(s.font=(t[e(305)]||12)+e(396),s[e(250)]=t.color||e(242),s.fillText(t[e(489)],t.x,t.y)):"rect"===t.type&&(s[e(531)]=t[e(422)]||e(242),s[e(342)]=t[e(342)]||2,s[e(555)](t.x,t.y,t.width,t.height))})),s[e(338)]()}({ctx:this[t(437)],list:this.tempContentList})}[po(382)](){const t=po;this[t(440)][t(339)]>0&&this[t(444)]&&this[t(340)]&&this[t(440)].forEach((e=>{const s=t,i=e.x,r=e.y;if(e[s(329)]===s(376)){const t=e.width,n=e[s(445)],o=function(t){const e=$e;return[parseInt(t[e(534)](1,3),16)/255,parseInt(t.substring(3,5),16)/255,parseInt(t[e(534)](5,7),16)/255,1]}(e[s(357)]||s(358)),a=e[s(401)]||4;if(!t||!n)return;this[s(340)][s(341)]({x:i,y:r,width:t,height:n,lineColor:o,lineWidth:a,canvasWidth:this[s(348)][s(335)],canvasHeight:this.$videoElement[s(445)]})}else if(e[s(329)]===s(412)){const t=e[s(412)]||"";if(!t)return;const n=e.fontSize||20,o=e[s(357)]||"#008000";!this[s(353)]&&this[s(332)](),this[s(406)][s(374)](0,0,this[s(353)][s(335)],this[s(353)][s(445)]),this[s(406)][s(433)]=n+s(419),this.tempTextCanvasCtx[s(434)]=o,this[s(406)][s(372)]=s(351),this[s(406)][s(373)](t,0,0),this[s(354)].drawDom(this.$videoElement[s(335)],this.$videoElement[s(445)],i,r,this[s(353)])}}))}}const yo=Ao;function Ao(t,e){const s=vo();return(Ao=function(t,e){return s[t-=208]})(t,e)}function vo(){const t=["ratechange and video is paused and sent isMSEPlaybackRateChangePause true","checkSourceBufferStore","isWebrtcH264","emit playVodWaiting","isCurrentTimeInBufferEnd"," to ","playVodMp4UseSrcVideoError","mediaStream","updateStats","high","getReadyStateInited","screenshot failed, video is not ready","isAliyunRtc","_replay(webrtc H264) then but not playing and retry play times is "," < 0 and check video is paused : ","isPlayUseMSE","h264",", height ","pause and isNow is ","isVideoPlaying","isMSECurrentMoreThanBufferedPause","_cancelVideoFrameCallback","x5-video-player-type","screenshotUseHighQuality","rate","buffered","use wcs render error","239032ELTcvQ","noposter","isSeeking","_startVideoFrameCallback","audioTrack","toDataURL","removeAttribute","webkitDroppedFrameCount","fill","getHasInit","playVodVideoSeekingByMse","videoBuffer","forEach","render() error, video is paused and readyState is ","_isNeedAddBackDropFilter","position","getContext","_times","_isDestroyed","geLoadedTime","screenshotByRect","videoHeight","  set playbackRate is ","_getPlaybackRate","videoWidth","currentTime","_delayEmitVodVideoWaitingInterval and player is destroyed or closed and return","videoFrameCallback","start","corruptedVideoFrames",",\n                            e.message is ","Video","then","deg)","_detectAndFixStuckPlayback","left","off","webkit-playsinline","Video Info: ","1179090qYpXnr","supportVideoFrameCallbackHandle","padding","length","name","_mseWorkerData","Mse Mine Type: ","level","awriter","clear","_createScreenShotCanvas","isPlayback","loadedmetadata and is isPlayVodMp4UseVideoSrc and update duration ","updateAudioInfo","createElement","handleUpdatePlaybackRate and delay buffer is ","indexOf","screenshotByCurrentWatermark","none","getTracks","_getVideoReadyState","rotate","error","_replay() and isPlaying is ","eventListenList","getDuration","allocationSize","clearCheckVideoCanplayTimeout","_play error and player is isDestroyedOrClosed and return","on error","_getVideoCurrentTime","videoStart","transform","remove","getPlaybackQuality","isOldHls","mseWaitVideoCanplayTimeout","render","message","_delayPlay","video.buffered is empty","code is ","videoRenderSupportScale","getVideoBufferTimeRange","checkVideoCanplayTimeout",", retry times is ","ended","emitError","videoInfo","_replay","getBufferMaxDelayTime","seeking","getWebrtcVideoCodec","_getBufferStore"," rotateX(180deg)","updateDuration","getVideoPlaybackQuality","TAG_NAME","base64","mp4Decoder","_resize()",",\n            e.message is "," and currentTime is ","removeSeekingTimestamp","_canScreenshot","disablePictureInPicture","canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play() error","videoElementPlayingFailed","mseDecoder","creationTime","useVideoPlayAudio","_removeProgressProxyDestroy","timeUpdate","playVodTimeCache","videoFrameCallback() and isDestroyedOrClosed and return","canplay and video is paused and try to play","fixMobileAutoFullscreen and isIOS ","setCurrentTime","getType","setRate","canplay and isPlayVodUseMSE and isEnded and return","toString","totalVideoFrames","videoCodec","cancelVideoFrameCallback","null","canplay and video is paused and isMSECurrentMoreThanBufferedPause is ","end","isPause","channels","floor"," and isAndroid ","png","_handleUpdatePlaybackRate","playVod"," = ","canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play() success","muted","_opt","output","imageSmoothingQuality","useMSE","checkVideoCanplayTimeout and video is not playing and buffer store is ","screenshot","isDestroyedOrClosed","requestVideoFrameCallback"," and timeout","doAddContentToWatermark","audio","debugWarn","isPlayVodUseMSE","getVideoCurrentTime","code","playVodCanplay","isPlayVod","canVideoTrackWritter","updateVideoInfoByWebrtc","videoBufferDelay","getLastBufferDelayEndTime","detectAndFixStuckPlaybackStartTime","$videoElement","isOldHlsUseVideoSrc","setPlayVodBufferedTime","visibilityChangePlayTimeout","init","notSupportAudioFormat"," < 0, and buffered is ","download","getMseMineType","videoFrame"," and return;","vwriter","emit","isPaused","_checkVodVideoWaiting and currentTime is ","destroy","_play","render() error, video is paused and replay error ","460535hHUtFa","canplayReceived","trackGenerator","use wcs code is ","blob","videoElementPlayingFailedForWebrtc"," and bufferedLength is ","push","format","wasmUseVideoRenderError","canplay and isPlayVodMp4UseVideoSrc and isEnded and return","isPlayer","_detectAndFixStuckPlayback() set detectAndFixStuckPlaybackStartTime is ","isMSEPlaybackRateChangePause","handleUpdatePlaybackRate and buffered is ","getDecodePlaybackRate","firstRenderTime","screenshotByRect failed, video is not ready and stats is ","yuv","updateCurrentPts","_checkVodVideoWaitingInterval","screenshotCanvasContext"," and message is ","srcObject","canplay","handleRender","$container"," and current time is ","handlePlayToRenderTimes","isPlaying","top","removeLoadingBgImage","clearPauseDelayTimeout","max","paused","canplay and video is paused and isMSEPlaybackRateChangePause is ","src","setAttribute","display","waiting and currentTime is ","isMseDecoderUseWorker","getCurrentTime","audioDecoderError","backdropFilter","appendChild","visibilityChange is true and lastTime is ","getLoadedPercent","filename","h5-page","isMSEVideoDecoderInitializationFailedNotSupportHevc","stringify","true","progressProxyDestroy","isRetryPlaying"," -> ","getVideoBufferRangeList","_detectAndFixStuckPlayback() and video is stuck and currentTime is "," is ","canplay and isPlayVodUseMSE and playVodInitSeekRemoveBackgroundLock is true and next remove loading background","player","progress","drawImage","droppedVideoFrames","isRetryPlayingTimes","checkSourceBufferDelay and video is paused and sent isMSECurrentMoreThanBufferedPause true"," and delay is ","getWriter","isMSEAudioDecoderError","mediaTime","aiCheck","fixChromeVideoFlashBug","fixMobileAutoFullscreen"," and update currentTime to "," and emit error to use canvas render","getVideoBufferDelayTime"," , delay buffer is more than ","_play error and\n            e.name is ","playVodInitSeekRemoveBackgroundLock",",\n                            e.toString() is ","loadedmetadata","audioTrackGenerator","clearVisibilityChangePlayTimeout","height",", emit error and use canvas render","video","style","play","_play error","getShowVideoRect"," ,videoReadyState is ","getVideoBufferLastTime"," rotateY(180deg)","651208mtnejO","decoderWorker","cover","webrtcH264 and check video change width ","canvas"," so set currentTime to ","catch","needAiCheck"," and current is ","imageSmoothingEnabled","bind","_cancelVideoFrameCallback() cancelVideoFrameCallback","pauseDelayTimeout","visibilityChange","canplay and isPlayVodMp4UseVideoSrc and playVodInitSeekRemoveBackgroundLock is true and next remove loading background"," so next try to play","screenshotByRect and toDataURL error","160026PfddZa","isMSENotSupportAudioFormat","replayTimeout","resize","playsinline","isEnded","poster","42098aqLjNb","renderedVideoFrames","vertical","i420","_clearDelayEmitVodVideoWaiting","seeked","stop","4fgcFoq","write","_checkVodVideoWaiting","boundVideoFrameCallback","isMseDecoderUseMain","_delayEmitVodVideoWaitingInterval","width","isPlayVodMp4UseVideoSrc","block","doAddAiContentToWatermark","updateVideoInfo","load","playVodWaiting","_delayEmitVodVideoWaiting","split","play and readyState: ","readyState is 0 and set _delayPlay to true and listen canplay event to play","bindMediaStream","playbackRate","debugError","screenshotWatermark","202956trABUK","_checkVodVideoWaiting and player is destroyed or closed and return","playVodMseDecodeVideoError","Error Code ","videoNSOSStatusErrorDomainError","debugLog","render error","isUseMSE"," and retry play","clearReplayTimeout","clearView","pause","encTypeCode","_play success","_removeProgressProxyDestroy()","screenshot failed, video is not ready and stats is ","clearRect","_resize","_clearCheckVodVideoWaiting","sampleRate","quality","initCanvasViewSize","writable","readyState","support requestVideoFrameCallback and use videoFrameCallback"," and isRetryPlaying is ","isRenderRetryPlayingTimes","copyTo","nv12","_play then but not playing and retry play and isRetryPlayingTimes is ","string","isRenderRetryPlaying","close","channelCount","_play error render() error, video is paused and replay error and\n                            e.name is ","mirrorRotate","type","absolute","6MNSuIB","playVodVideoSeekedByMse","checkVideoSourceBufferDelay ","$screenshotCanvasElement","playVodMp4UseSrcError"];return(vo=function(){return t})()}!function(t,e){const s=Ao,i=t();for(;;)try{if(105604===-parseInt(s(418))/1+parseInt(s(488))/2+parseInt(s(383))/3+-parseInt(s(397))/4*(-parseInt(s(274))/5)+parseInt(s(456))/6*(-parseInt(s(390))/7)+-parseInt(s(366))/8+parseInt(s(527))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vo);class bo extends Wn{constructor(t){const e=Ao;super(),this[e(333)]=t,this[e(584)]=e(519);const s=document[e(541)](e(358));s.muted=!0,s[e(592)]=!0,gs()&&(s[e(389)]=e(489)),s[e(359)][e(503)]=e(455),s[e(359)][e(304)]=0,s.style[e(523)]=0,s.style[e(312)]=e(545),this[e(566)]=!1,t.$container[e(318)](s),this[e(256)]=s,this[e(459)]=null,this[e(295)]=null,this[e(468)]=null,this.vwriter=null,this[e(535)]=null,this[e(276)]=null,this[e(354)]=null,this[e(344)](),this[e(345)](),this.eventListenList=[],this.isRenderRetryPlaying=!1,this[e(444)]=0,this[e(327)]=!1,this.isRetryPlayingTimes=0,this[e(275)]=!1,this[e(326)]=null,this[e(571)]=null,this[e(259)]=null,this[e(378)]=null,this.replayTimeout=null,this[e(255)]=null;const i=Oi();this[e(528)]=null,this[e(294)]=null,this[e(402)]=null,this[e(400)]=this[e(515)][e(376)](this);const{proxy:r}=this[e(333)].events,n=r(this[e(256)],vt[e(298)],(()=>{const t=e;if(!this._isDestroyed)if(this[t(333)][t(240)]())this[t(333)][t(423)](this[t(584)],"canplay and isDestroyedOrClosed,so return");else{if(this[t(333)][t(423)](this.TAG_NAME,"canplay"),this[t(333)].isPlayVodMp4UseVideoSrc())return this[t(333)][t(230)].isEnded()?void this[t(333)].debugLog(this[t(584)],t(284)):(this[t(333)].emit(H[t(249)]),void(this[t(333)].playVodInitSeekRemoveBackgroundLock&&(this[t(333)][t(351)]=!1,this[t(333)].debugLog(this[t(584)],t(380)),this[t(333)].emit(H.removeLoadingBgImage))));if(this.canplayReceived=!0,this[t(333)][t(246)]()){if(this.player[t(230)][t(388)]())return void this[t(333)][t(423)](this.TAG_NAME,t(216));this[t(394)](),this[t(436)](),this.player[t(268)](H[t(249)]),this[t(269)]()?(this.player.debugLog(this[t(584)],"canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play()"),this[t(256)]&&this[t(256)][t(360)]()[t(520)]((()=>{const e=t;this[e(333)][e(423)](this[e(584)],e(232)),this[e(333)][e(268)](H[e(305)]),this[e(491)]()})).catch((e=>{const s=t;this.player[s(423)](this[s(584)],s(593),e,e[s(217)]())}))):this.player[t(351)]&&(this[t(333)].playVodInitSeekRemoveBackgroundLock=!1,this[t(333)][t(423)](this[t(584)],t(332)),this[t(333)][t(268)](H[t(305)]))}else this[t(566)]?(this[t(554)](),this[t(272)]()):this.$videoElement[t(308)]&&(this[t(333)][t(287)]?(this[t(333)][t(423)](this[t(584)],t(309)+this.player[t(287)]+" so next try to play"),this[t(333)][t(287)]=!1,this._play()):this[t(333)][t(481)]?(this[t(333)][t(423)](this[t(584)],t(222)+this.player[t(481)]+t(381)),this.player[t(481)]=!1,this[t(272)]()):(this[t(333)][t(245)](this[t(584)],t(211)),this[t(272)]()))}})),o=r(this[e(256)],vt[e(360)],(()=>{const t=e;this[t(333)][t(423)](this[t(584)],t(360))})),a=r(this[e(256)],vt[e(429)],(()=>{const t=e;this[t(333)][t(423)](this[t(584)],t(429))})),h=r(this[e(256)],vt.waiting,(()=>{const t=e;this[t(506)]||(this[t(333)][t(240)]()?this[t(333)][t(423)](this[t(584)],"waiting and isDestroyedOrClosed,so return"):(this[t(333)][t(423)](this.TAG_NAME,t(313)+this[t(315)]()),this[t(333)].isPlayVodUseMSE()?Ri(this[t(333)][t(595)][t(465)]())&&(this[t(410)](),this[t(399)]()):this[t(333)][t(404)]()&&(this[t(333)][t(423)](this[t(584)],t(464)),this[t(333)].emit(H[t(409)]))))})),l=r(this.$videoElement,vt.loadedmetadata,(()=>{const t=e;if(this[t(333)].debugLog(this[t(584)],t(353)),this.player[t(404)]()){const e=this[t(256)].duration;e&&(this[t(333)][t(423)](this[t(584)],t(539)+e),this[t(333)][t(230)][t(582)](e));const s={encTypeCode:this[t(333)][t(586)][t(219)]};if(Ri(Oi())){const e=this[t(256)][t(512)],i=this[t(256)][t(509)];s[t(403)]=e,s[t(356)]=i,this.updateVideoInfo(s),this[t(439)]()}else this[t(407)](s);if(this[t(333)][t(244)]){const e={encTypeCode:this[t(333)][t(586)].audioCodec};this[t(333)][t(586)][t(492)].codec&&(e[t(225)]=this[t(333)][t(586)][t(492)][t(451)],e.sampleRate=this[t(333)][t(586)].audioTrack[t(437)]),this.player.audio[t(540)](e)}}})),c=r(this.$videoElement,vt[e(208)],(s=>{const r=e;if(!this._isDestroyed&&!this[r(333)][r(240)]()){if(Ri(i)){const e=parseInt(1e3*this[r(315)](),10);if(t.isWebrtcH264()||this[r(333)][r(562)]()||this[r(333)].isAliyunRtc()||this[r(333)][r(404)]())t[r(299)](),t[r(469)]({fps:!0,ts:e,dts:e}),this[r(333)].updateCurrentPts(e);else if(Di(this[r(333)][r(234)][r(237)])&&Ri(this.player[r(234)].mseUseCanvasRender))if(this[r(333)][r(595)]){let t=parseInt(1e3*this[r(315)](),10)+(this[r(333)][r(595)][r(290)]||0);this[r(333)][r(293)](t)}else if(this.player[r(234)].mseDecoderUseWorker){let t=parseInt(1e3*this.getCurrentTime(),10)+(this[r(333)]._mseWorkerData[r(290)]||0);this[r(333)][r(293)](t)}this[r(243)]()}this[r(333)][r(314)]()&&(this[r(333)][r(367)].updateVideoTimestamp(this[r(315)]()),this[r(229)]())}})),d=r(this.$videoElement,vt[e(549)],(t=>{const s=e;if(!this[s(256)][s(549)])return void this[s(333)][s(245)](this[s(584)],s(556),t);let i={};if(this[s(333)][s(425)]()&&(i=this[s(333)][s(264)]()),this[s(333)].debugError(this.TAG_NAME,s(421)+this[s(256)][s(549)].code+" "+Ot[this[s(256)].error[s(248)]]+"; Details: "+this[s(256)][s(549)][s(565)]+"; "+s(526)+JSON[s(324)](this[s(575)])+"; "+s(533)+i[s(358)]+"; "),this[s(333)][s(404)]())return 4===this[s(256)][s(549)][s(248)]?void this.player.emitError(Q[s(460)]):void this[s(333)][s(574)](Q[s(467)]);if(this[s(333)][s(425)]()){this.$videoElement[s(549)][s(248)];const t=this[s(256)][s(549)][s(565)];return-1!==t[s(543)](Nt.videoDecoderInitializationFailed)?this[s(333)][s(323)]=!0:-1!==t[s(543)](Nt[s(316)])?this[s(333)][s(341)]=!0:-1!==t[s(543)](Nt[s(261)])&&(this[s(333)][s(384)]=!0),void(this[s(333)][s(246)]()&&(-1!==t[s(543)](Nt.videoDecodeError)||-1!==t[s(543)](Nt[s(422)])||-1!==t[s(543)](Nt.failedToSendVideoPacketForDecoding))&&this[s(333)].emitError(Q[s(420)],t))}this.player.isHlsCanVideoPlay()})),u=r(this[e(256)],vt.stalled,(()=>{this[e(522)](!0)}));if(this[e(326)]=r(this[e(256)],vt[e(334)],(()=>{this[e(522)]()})),this[e(551)][e(281)](n,o,a,h,c,d,l,u),this[e(333)][e(425)]()){const t=r(this.$videoElement,vt.ratechange,(()=>{const t=e;this.player.debugLog(this[t(584)],"video playback Rate change",this.$videoElement&&this[t(256)][t(415)]),this[t(256)]&&this.$videoElement[t(308)]&&(this[t(333)][t(245)](this[t(584)],t(461)),this.player[t(287)]=!0)}));this.eventListenList[e(281)](t),Di(this[e(333)][e(285)]())&&this[e(333)].on(H[e(379)],(t=>{const s=e;t&&(this[s(259)]=setTimeout((()=>{const t=s;if(this.clearVisibilityChangePlayTimeout(),this[t(333)]&&this[t(333)][t(303)]()&&this[t(256)]){const e=this[t(364)]();if(e-this[t(256)][t(513)]>this[t(577)]()){const s=this.getLastBufferDelayEndTime(1);this[t(333)][t(423)](this[t(584)],t(319)+e+t(589)+this[t(256)][t(513)]+t(371)+s),this.$videoElement[t(513)]=s}}}),300))}))}if(this[e(333)].isPlayVodUseMSE()||this[e(333)][e(404)]()){const t=r(this[e(256)],vt[e(334)],(()=>{const t=e;this[t(333)].debugLog(this[t(584)],t(334)),this[t(333)][t(258)](1e3*this.geLoadedTime()),this.player[t(268)](H[t(209)],this[t(320)]())})),s=r(this[e(256)],vt[e(578)],(()=>{const t=e;this.player.debugLog(this[t(584)],t(578),this[t(256)][t(513)]),this[t(333)][t(246)]()&&this[t(333)][t(268)](H[t(498)],this[t(256)][t(513)])})),i=r(this.$videoElement,vt.seeked,(()=>{const t=e;this[t(333)].debugLog(this[t(584)],t(395),this[t(256)][t(513)]),this[t(333)][t(230)][t(490)]()&&this[t(333)][t(230)][t(590)](),this[t(333)][t(268)](H[t(457)],this[t(256)][t(513)])}));this.eventListenList[e(281)](t,s,i)}this[e(491)](),this[e(333)][e(423)](this.TAG_NAME,e(260))}async[yo(271)](){const t=yo;if(super.destroy(),this[t(554)](),this[t(427)](),this[t(355)](),this[t(306)](),this[t(482)](),this[t(598)](),this[t(551)][t(530)]&&(this.eventListenList.forEach((t=>{t()})),this[t(551)]=[]),this.isRenderRetryPlaying=!1,this[t(444)]=0,this[t(327)]=!1,this.isRetryPlayingTimes=0,this[t(275)]=!1,this[t(333)][t(234)][t(569)]&&this[t(502)]()){const e=this[t(333)][t(300)];e.style.backdropFilter=t(545),e[t(359)][t(559)]=t(545)}if(this[t(459)]&&(this[t(459)][t(356)]=0,this[t(459)][t(403)]=0,this[t(459)]=null),this.screenshotCanvasContext=null,this[t(256)]){this.$videoElement[t(429)]&&(this[t(256)].pause(),this[t(256)][t(233)]=!0),this[t(256)][t(513)]=0,this[t(256)].srcObject&&(this[t(256)][t(297)]=null,this[t(256)][t(494)]("srcObject")),this[t(256)][t(310)]&&(this[t(256)][t(310)]="",this[t(256)][t(494)](t(310)));try{this[t(256)][t(408)]()}catch(t){}!Pn(this[t(256)])&&this.$videoElement[t(560)](),this[t(256)]=null}if(this[t(276)]&&(this.trackGenerator[t(396)](),this[t(276)]=null),this[t(354)]&&(this[t(354)].stop(),this[t(354)]=null),this.vwriter){try{await this[t(267)][t(450)]()}catch(t){}this[t(267)]=null}if(this[t(535)]){try{await this.awriter[t(450)]()}catch(t){}this[t(535)]=null}this[t(566)]=!1,this.mediaStream&&(this[t(468)][t(546)]()[t(500)]((e=>e[t(396)]())),this[t(468)]=null),this.boundVideoFrameCallback=null,this[t(524)](),this[t(333)][t(423)](this[t(584)],"destroy")}[yo(537)](){const t=yo,e=document[t(541)](t(370));this[t(459)]=e,this.screenshotCanvasContext=e[t(504)]("2d"),this.player._opt[t(484)]&&(this[t(295)][t(375)]=!0,this[t(295)].imageSmoothingEnabled&&(this.screenshotCanvasContext[t(236)]=t(470)))}[yo(414)](){const t=yo;if(this[t(333)][t(251)]()&&Bs()&&Fs()&&!this[t(468)]){this.player[t(423)](this[t(584)],t(414)),this[t(276)]=new MediaStreamTrackGenerator({kind:"video"}),this.player[t(597)]()&&(this[t(354)]=new MediaStreamTrackGenerator({kind:"audio"}),this[t(535)]=this[t(354)][t(440)][t(340)]());const e=[this.trackGenerator];this.audioTrackGenerator&&e[t(281)](this[t(354)]),this[t(468)]=new MediaStream(e),this[t(256)][t(297)]=this[t(468)],this[t(267)]=this[t(276)].writable[t(340)]()}}videoFrameCallback(t){const e=yo;let s=arguments[e(530)]>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isDestroyed)return;if(this[e(333)][e(240)]())return void this[e(333)][e(423)](this[e(584)],e(210));this[e(333)][e(299)]();const i=parseInt(1e3*Math[e(307)](s[e(342)],this.getCurrentTime()),10)||0;if(this.player[e(401)]()){const t=i+(this[e(333)][e(595)]&&this.player[e(595)][e(290)]||0);this.player[e(285)]()?this[e(333)].updateStats({fps:!0,ts:t}):this[e(333)][e(538)]()?this[e(333)].playback[e(469)]({ts:t}):this[e(333)][e(250)]()&&this[e(333)][e(230)].updateStats({ts:t})}else if(this[e(333)][e(314)]()){!this[e(333)][e(505)][e(558)]&&(this[e(333)][e(505)][e(558)]=is(),this[e(333)][e(302)]());const t=i+(this[e(333)]._mseWorkerData[e(290)]||0);if(this[e(333)][e(469)]({fps:!0,dfps:!0,ts:t,mseTs:i}),Ri(this[e(497)]())&&s.width&&s.height){const t={width:s[e(403)],height:s[e(356)]};this[e(407)](t),this[e(439)]()}}if(this[e(333)].isWebrtcH264()||this[e(333)].isOldHls()||this.player[e(473)]()||this.player[e(404)]()){if(Ri(this[e(497)]())&&s[e(403)]&&s[e(356)]){const t={width:s[e(403)],height:s[e(356)]};this.videoInfo[e(430)]||(this[e(333)][e(463)]()?t.encTypeCode=this[e(333)][e(579)]():(this[e(333)][e(257)]()||this.player[e(473)]()||this[e(333)].isPlayVodMp4UseVideoSrc())&&(t[e(430)]=Z[e(477)])),this[e(407)](t),this[e(439)]()}if((this[e(333)][e(463)]()||this[e(333)][e(473)]())&&this[e(575)][e(403)]&&this[e(575)][e(356)]&&s.height&&s[e(403)]&&(this.videoInfo[e(403)]!==s[e(403)]||this[e(575)][e(356)]!==s.height)){this[e(333)][e(423)](this.TAG_NAME,e(369)+this.videoInfo[e(403)]+e(328)+s[e(403)]+e(478)+this[e(575)][e(356)]+e(328)+s.height);const t={width:s[e(403)],height:s.height};this[e(252)](t),this[e(386)]()}this[e(333)][e(469)]({fps:!0,ts:i,dts:i}),this[e(333)].updateCurrentPts(i),this.doAddContentToWatermark()}else if(Di(this[e(333)][e(234)][e(237)])&&Ri(this[e(333)][e(234)].mseUseCanvasRender)){if(this[e(333)][e(595)]){let t=i+(this.player[e(595)][e(290)]||0);this[e(333)][e(293)](t)}else if(this.player._opt.mseDecoderUseWorker){let t=i+(this.player[e(532)].firstRenderTime||0);this[e(333)].updateCurrentPts(t)}this[e(243)]()}this[e(528)]=this[e(256)][e(241)](this[e(400)])}[yo(344)](){const t=yo;if(this[t(333)][t(234)][t(569)]&&this[t(502)]()){const e=this[t(333)][t(300)];e[t(359)][t(317)]="blur(0px)",e[t(359)][t(559)]="translateZ(0)"}}[yo(345)](){const t=yo,e=vs(),s=gs();(e||s)&&(this[t(333)][t(423)](this.TAG_NAME,t(212)+e+t(227)+s),this[t(256)][t(311)](t(525),t(325)),this[t(256)].setAttribute(t(387),t(325)),this[t(256)].setAttribute(t(483),t(322)))}_detectAndFixStuckPlayback(t){const e=yo,s=this[e(256)],i=s[e(486)],r=s[e(441)];if(this.player[e(423)](this[e(584)],"_detectAndFixStuckPlayback() and isStalled is "+t+" ,canplayReceived is "+this.canplayReceived+e(363)+r+e(280)+i.length+" and startTime is "+(i.length>0?i[e(516)](0):e(221))+e(589)+s[e(513)]),t||Ri(this.canplayReceived)||r<2){if(i[e(530)]>0&&s[e(513)]<i[e(516)](0))this.player[e(245)](this[e(584)],e(330)+s[e(513)]+" ,seek to "+i.start(0)),s.currentTime=i.start(0),this[e(598)]();else if(this[e(333)][e(476)]()){null===this.detectAndFixStuckPlaybackStartTime&&(this[e(255)]=is(),this[e(333)][e(423)](this[e(584)],e(286)+this.detectAndFixStuckPlaybackStartTime));const t=is()-this[e(255)];t>=1e3*this[e(333)][e(234)].mseWaitVideoCanplayTimeout&&(this[e(333)][e(245)](this[e(584)],e(330)+s[e(513)]+" , diff is "+t+e(242)),this.player[e(268)](Q[e(563)],t))}}else this[e(598)]()}[yo(598)](){const t=yo;this[t(326)]&&(this[t(333)][t(423)](this[t(584)],t(432)),this.progressProxyDestroy(),this[t(326)]=null),this.detectAndFixStuckPlaybackStartTime=null}[yo(502)](){const t=yo,e=As()[t(454)].toLowerCase();return"chrome"===e||"edge"===e}[yo(269)](){const t=yo;let e=!0;return this.$videoElement&&(e=this[t(256)][t(308)]),e}[yo(224)](){return this.isPaused()}[yo(547)](){const t=yo;let e=0;return this[t(256)]&&(e=this.$videoElement[t(441)]),e}[yo(557)](){const t=yo;let e=0;return this.$videoElement&&(e=this[t(256)][t(513)]),e}[yo(360)](){const t=yo;if(this[t(256)]){const e=this[t(547)]();if(this[t(333)][t(423)](this[t(584)],t(412)+e),0===e)return this.player[t(423)](this[t(584)],t(413)),this[t(566)]=!0,void(null===this[t(571)]&&(this[t(571)]=setTimeout((()=>{const e=t;if(this[e(554)](),!this[e(506)]&&!this.player[e(240)]()&&Ri(this[e(303)]())){const t=this[e(580)]();this[e(333)][e(245)](this.TAG_NAME,e(238)+t+e(426)),this.$videoElement[e(513)]=t,this[e(576)]()}}),1e3)));this[t(272)]()}}_play(){const t=yo;this[t(256)]&&this.$videoElement[t(360)]()[t(520)]((()=>{const e=t;this[e(566)]=!1,this[e(333)][e(423)](this[e(584)],e(431)),this[e(303)]()?(this[e(333)][e(268)](H[e(305)]),this[e(491)](),this.isRetryPlayingTimes=0,this[e(327)]=!1):this[e(385)]=setTimeout((()=>{const t=e;this[t(427)](),this[t(576)]()}),100)}))[t(372)]((e=>{const s=t;this[s(506)]||(this[s(333)][s(240)]()?this[s(333)].debugLog(this[s(584)],s(555)):(this.player[s(423)](this[s(584)],s(350)+e[s(531)]+s(588)+e[s(565)]+",\n            e.toString() is "+e[s(217)]()),this[s(333)][s(416)](this[s(584)],s(361),e),this[s(327)]=!1,this[s(385)]=setTimeout((()=>{const t=s;this[t(427)](),this[t(576)]()}),100)))}))}[yo(576)](){const t=yo;if(!this[t(506)])if(!this[t(303)]()&&Ri(this[t(333)][t(240)]())&&Ri(this[t(327)])){if(this.isRetryPlaying=!0,this[t(337)]>=3){let e="";return void(this[t(333)][t(463)]()?(e=t(474)+this[t(337)]+" and emit error",this[t(333)].debugError(this[t(584)],e),this[t(333)][t(574)](Q[t(279)],e)):(e="_replay then but not playing and retry play times is "+this[t(337)]+t(347),this[t(333)][t(416)](this[t(584)],e),this.player[t(574)](Q[t(594)],e)))}this[t(333)][t(245)](this[t(584)],t(447)+this.isRetryPlayingTimes),this._play(),this[t(337)]++}else this.player[t(423)](this[t(584)],t(550)+this[t(303)]()+t(443)+this[t(327)]+" and isDestroyedOrClosed is "+this.player[t(240)]()+t(266))}[yo(429)](t){const e=yo;this[e(333)][e(423)](this[e(584)],e(479)+t),this[e(303)]()&&(t?(this[e(256)]&&this[e(256)].pause(),this[e(482)]()):this[e(378)]=setTimeout((()=>{const t=e;this.clearPauseDelayTimeout(),this.$videoElement&&this[t(256)].pause(),this._cancelVideoFrameCallback()}),100))}clearView(){const t=yo;super[t(428)](),this[t(256)]&&(this[t(256)][t(429)](),this[t(256)][t(513)]=0,this[t(256)][t(310)]&&(this[t(256)][t(310)]="",this[t(256)].removeAttribute(t(310))),this[t(256)].srcObject&&(this[t(256)][t(297)]=null,this.$videoElement[t(494)](t(297))))}[yo(239)](t,e,s,i){const r=yo;if(!this[r(591)]())return this.player[r(245)](this[r(584)],r(433)+this._getVideoReadyState()),null;t=t||is(),i=i||J.download;let n=.92;!yt[e]&&J[e]&&(i=e,e=r(228),s=void 0),typeof s===r(448)&&(i=s,s=void 0),void 0!==s&&(n=Number(s));const o=this[r(256)];!this[r(459)]&&this[r(537)]();let a=this[r(459)];a[r(403)]=o[r(512)],a.height=o[r(509)],this[r(295)][r(335)](o,0,0,a[r(403)],a[r(356)]);const h=yt[e]||yt[r(228)];let l=x;try{l=a[r(493)](h,n)}catch(t){this.player.debugLog(this[r(584)],"screenshot and toDataURL error",t[r(217)](),t)}if(this.screenshotCanvasContext[r(434)](0,0,a.width,a[r(356)]),a[r(403)]=0,a[r(356)]=0,i===J[r(585)])return l;{const e=ss(l);if(i===J[r(278)])return e;if(i===J[r(263)]){const s=h.split("/")[1];Jn(e,t+"."+s)}}}[yo(417)](t){return new Promise(((e,s)=>{const i=Ao;if(ei(t)&&(t={filename:t}),!this._canScreenshot())return this.player.debugWarn(this[i(584)],"screenshot failed, video is not ready"),s(i(472));const r=this[i(256)];(t=t||{})[i(403)]=r.videoWidth,t[i(356)]=r[i(509)],t[i(321)]=t[i(321)]||is(),t[i(282)]=t[i(282)]?yt[t[i(282)]]:yt[i(228)],t[i(438)]=Number(t.quality)||.92,t[i(454)]=t[i(454)]||J[i(263)],!this[i(459)]&&this[i(537)]();let n=this[i(459)];n.width=r[i(512)],n[i(356)]=r.videoHeight,this[i(295)][i(335)](r,0,0,n[i(403)],n.height);let o=x;try{o=n[i(493)](t[i(282)],t.quality)}catch(t){this.player.debugLog(this[i(584)],"screenshotWatermark and toDataURL error",t.toString(),t)}this[i(295)][i(434)](0,0,n.width,n[i(356)]),n[i(403)]=0,n.height=0;const a=this.player._opt[i(484)];Gs(o,t,a).then((s=>{const r=i;if(t[r(454)]===J[r(585)])e(s);else{const i=ss(s);if(t[r(454)]===J.blob)e(i);else if(t[r(454)]===J.download){e();const s=t[r(282)][r(411)]("/")[1];Jn(i,t[r(321)]+"."+s)}}}))[i(372)]((t=>{s(t)}))}))}screenshotCopyrightWatermark(t){return new Promise(((e,s)=>{const i=Ao;if(ei(t)&&(t={filename:t}),!this._canScreenshot())return this[i(333)][i(245)](this[i(584)],i(472)),s(i(472));const r=this.$videoElement;(t=t||{})[i(403)]=r[i(512)],t[i(356)]=r[i(509)],t.filename=t[i(321)]||is(),t[i(282)]=t[i(282)]?yt[t.format]:yt[i(228)],t.quality=Number(t[i(438)])||.92,t[i(454)]=t[i(454)]||J[i(263)],!this[i(459)]&&this._createScreenShotCanvas();let n=this[i(459)];n[i(403)]=r[i(512)],n[i(356)]=r[i(509)],this[i(295)][i(335)](r,0,0,n[i(403)],n[i(356)]);let o=x;try{o=n[i(493)](t[i(282)],t[i(438)])}catch(t){this[i(333)][i(423)](this[i(584)],"screenshotCopyrightWatermark and toDataURL error",t[i(217)](),t)}this[i(295)].clearRect(0,0,n.width,n[i(356)]),n.width=0,n.height=0;const a=this[i(333)][i(234)][i(484)];Hs(o,t,a)[i(520)]((s=>{const r=i;if(t[r(454)]===J[r(585)])e(s);else{const i=ss(s);if(t[r(454)]===J.blob)e(i);else if(t[r(454)]===J[r(263)]){e();const s=t[r(282)][r(411)]("/")[1];Jn(i,t[r(321)]+"."+s)}}}))[i(372)]((t=>{s(t)}))}))}[yo(544)](t){}[yo(508)](t){const e=yo;if(!this[e(591)]())return this[e(333)][e(245)](this[e(584)],e(291)+this[e(547)]()),null;const s=this.$videoElement;!this[e(459)]&&this[e(537)]();let i=this.$screenshotCanvasElement;i.width=parseInt(t[e(403)],10),i[e(356)]=parseInt(t[e(356)],10),this[e(295)].drawImage(s,t.x,t.y,i[e(403)],i.height,0,0,i[e(403)],i.height);const r=yt[e(228)];let n=x;try{n=i.toDataURL(r,.92)}catch(t){this[e(333)].debugLog(this.TAG_NAME,e(382),t[e(217)](),t)}return this.screenshotCanvasContext[e(434)](0,0,i[e(403)],i[e(356)]),i[e(403)]=0,i[e(356)]=0,n}initCanvasViewSize(){const t=yo;this[t(256)][t(359)][t(312)]=t(405),this.resize()}[yo(536)](){const t=yo,e=this[t(256)],s=e[t(486)],i=s[t(530)]?s[t(223)](s[t(530)]-1):0;e[t(513)]=i}[yo(564)](t){const e=yo;if(!this[e(506)])if(this[e(267)]){if(!this.$videoElement[e(297)]&&(this.$videoElement[e(297)]=this.mediaStream),this.isPaused()){const s=this[e(547)]();if(this.player.debugWarn(this[e(584)],e(501)+s),4===s&&Ri(this[e(449)])){if(this.isRenderRetryPlaying=!0,this[e(444)]>3){const i=e(501)+s+e(572)+this[e(444)]+e(357);return this[e(333)][e(416)](this[e(584)],i),this[e(333)][e(574)](Q[e(594)],i),void(t.videoFrame&&yi(t.videoFrame))}this[e(256)][e(360)]()[e(520)]((()=>{const t=e;this.isRenderRetryPlayingTimes=0,this.isRenderRetryPlaying=!1,this._startVideoFrameCallback(),this[t(333)][t(423)](this[t(584)],"render() video is paused and replay success")}))[e(372)]((t=>{const s=e;this[s(449)]=!1,this[s(444)]++,this[s(333)][s(423)](this[s(584)],s(452)+t[s(531)]+s(518)+t[s(565)]+s(352)+t.toString()),this.player[s(416)](this[s(584)],s(273),t)}))}}if(this[e(333)].updateStats({fps:!0,ts:t.ts||0}),t[e(265)])if(this[e(373)]()){const s=t[e(265)];let i=new Uint8Array(s[e(553)]());s[e(445)](i)[e(520)]((()=>{const r=e,n="NV12"==s[r(282)]?M[r(446)]:M[r(393)],o=this[r(343)]({yuv:i,ts:t.ts||0},n);if(yi(s),!o)return;const a=o[r(292)];try{const e=qs(a,{format:o.format,codedWidth:this[r(575)][r(403)],codedHeight:this.videoInfo.height,timestamp:1e3*t.ts});this[r(267)].write(e).then((()=>{yi(e)}))[r(372)]((t=>{}))}catch(t){this[r(333)][r(416)](this[r(584)],r(487),t),this[r(333)][r(574)](Q[r(283)],r(277)+t[r(248)]+r(296)+t[r(565)])}}))}else this.vwriter[e(398)](t[e(265)]).then((()=>{yi(t[e(265)])}))[e(372)]((t=>{}));else if(t[e(235)]){const s=this[e(343)]({yuv:t[e(235)],ts:t.ts||0});if(!s)return;const i=s[e(292)];try{const r=qs(i,{format:s[e(282)],codedWidth:this.videoInfo[e(403)],codedHeight:this[e(575)][e(356)],timestamp:1e3*t.ts});this[e(267)][e(398)](r)[e(520)]((()=>{yi(r)}))[e(372)]((t=>{}))}catch(t){this[e(333)][e(416)](this[e(584)],e(424),t),this[e(333)][e(574)](Q.wasmUseVideoRenderError,e(568)+t[e(248)]+e(296)+t[e(565)])}}this[e(333)][e(293)](t.ts||0),this[e(243)](),this[e(406)]()}else this[e(333)][e(245)](this.TAG_NAME,"render and this.vwriter is null")}[yo(435)](){const t=yo;this[t(333)][t(423)](this[t(584)],t(587));const e=this[t(333)][t(234)],s=e[t(548)],i=this[t(333)][t(362)]();let r=i[t(403)],n=i[t(356)];this.$videoElement[t(403)]=r,this[t(256)][t(356)]=n,this[t(256)][t(359)].width=r+"px",this[t(256)][t(359)][t(356)]=n+"px",(270===s||90===s)&&(this[t(256)].width=n,this[t(256)][t(356)]=r,this[t(256)][t(359)].width=n+"px",this[t(256)][t(359)].height=r+"px");let o=this[t(256)][t(403)],a=this[t(256)][t(356)],h=Math.floor((r-o)/2),l=Math[t(226)]((n-a)/2),c="contain";Ri(e.isResize)&&(c=t(496)),e.isFullResize&&(c=t(368));let d="";e[t(453)]===t(545)&&s&&(d+=" rotate("+s+t(521)),e[t(453)]===t(534)?d+=t(365):e[t(453)]===t(392)&&(d+=t(581)),this[t(333)][t(234)].videoRenderSupportScale&&(this.$videoElement[t(359)].objectFit=c),this[t(256)][t(359)].transform=d,this[t(256)][t(359)][t(529)]="0",this[t(256)][t(359)][t(523)]=h+"px",this[t(256)].style.top=l+"px"}[yo(214)](){return A[yo(358)]}[yo(315)](){const t=yo;return this[t(256)][t(513)]}[yo(303)](){const t=yo;return this.$videoElement&&Ri(this[t(256)][t(308)])&&Ri(this[t(256)][t(573)])&&0!==this.$videoElement[t(415)]&&0!==this[t(256)][t(441)]}[yo(480)](){return this[yo(303)]()}[yo(591)](){const t=yo;return this[t(256)]&&this[t(256)].readyState>=1}[yo(561)](){const t=yo;let e=null;if(this[t(256)]){if(li(this[t(256)][t(583)])){const s=this[t(256)][t(583)]();e={droppedVideoFrames:s[t(336)]||s[t(517)]||0,totalVideoFrames:s[t(218)]||0,creationTime:s[t(596)]||is()}}else e={droppedVideoFrames:this[t(256)][t(495)]||0,totalVideoFrames:this[t(256)].webkitDecodedFrameCount||0,creationTime:is()};e&&(e[t(391)]=e[t(218)]-e.droppedVideoFrames)}return e}[yo(215)](t){const e=yo;this[e(256)]&&(this[e(256)][e(415)]=t)}get[yo(485)](){let t=1;return this[yo(256)]&&(t=this.$videoElement.playbackRate),t}[yo(554)](){const t=yo;this[t(571)]&&(clearTimeout(this.checkVideoCanplayTimeout),this[t(571)]=null)}[yo(427)](){const t=yo;this.replayTimeout&&(clearTimeout(this[t(385)]),this[t(385)]=null)}[yo(355)](){const t=yo;this.visibilityChangePlayTimeout&&(clearTimeout(this[t(259)]),this[t(259)]=null)}[yo(306)](){const t=yo;this[t(378)]&&(clearTimeout(this[t(378)]),this[t(378)]=null)}[yo(482)](){const t=yo;this[t(528)]&&this[t(256)]&&(this[t(333)].debugLog(this[t(584)],t(377)),this[t(256)][t(220)](this[t(528)]),this[t(528)]=null)}[yo(491)](){const t=yo;Oi()?!this[t(528)]&&(this[t(333)][t(423)](this[t(584)],t(442)),this.supportVideoFrameCallbackHandle=this[t(256)].requestVideoFrameCallback(this.boundVideoFrameCallback)):this.player[t(245)](this[t(584)],"not support requestVideoFrameCallback and use timeupdate event to update stats")}[yo(580)](){const t=yo,e=this[t(256)];let s=0;return e[t(486)].length>0&&(s=e[t(486)][t(516)](0)),s}[yo(229)](){const t=yo,e=this.$videoElement,s=e[t(486)];s[t(530)]&&s[t(516)](0);const i=s[t(530)]?s[t(223)](s.length-1):0;let r=e[t(513)];const n=i-r,o=this[t(577)]();if(this[t(333)][t(469)]({mseVideoBufferDelayTime:n}),n>o){const s=this[t(254)](1);this[t(333)][t(423)](this[t(584)],"handleUpdatePlaybackRate and buffered is "+i+t(374)+r+t(349)+o+t(331)+n+" and new time is "+s),e[t(513)]=s,r=e[t(513)]}else if(n<0&&0===i)return this[t(333)][t(245)](this[t(584)],t(542)+i+" - current is "+r+t(231)+n+t(475)+e[t(308)]+" "),void this[t(333)][t(268)](Q.mediaSourceBufferedIsZeroError,t(567));if(r>1){const s=this._getPlaybackRate(i-r);e[t(415)]!==s&&(this[t(333)].debugLog(this[t(584)],t(288)+i+t(301)+r+t(339)+(i-r)+t(510)+s+" "),e[t(415)]=s)}}[yo(511)](t){const e=yo,s=this.$videoElement;let i=this[e(333)][e(234)].videoBufferDelay+this[e(333)][e(234)][e(499)];const r=Math.max(i,1e3),n=r/2;return t*=1e3,1===s[e(415)]?t>r?1.2:1:t<=n?1:s.playbackRate}[yo(247)](){const t=yo;let e=0;return this[t(256)]&&(e=this[t(256)].currentTime),e}[yo(364)](){const t=yo,e=this.$videoElement;let s=0;if(e){const i=e[t(486)];i[t(530)]&&i[t(516)](0);s=i.length?i[t(223)](i[t(530)]-1):0}return s}[yo(348)](){const t=yo,e=this.$videoElement;const s=this[t(364)]()-e.currentTime;return s>0?s:0}checkSourceBufferDelay(){const t=yo,e=this.$videoElement;let s=0,i=0;return e.buffered.length>0&&(i=e[t(486)][t(223)](e[t(486)].length-1),s=i-e[t(513)]),s<0&&(this.player[t(245)](this[t(584)],t(458)+s+t(262)+i+" ,currentTime is "+e[t(513)]+" , try to seek "+e[t(513)]+t(466)+i),e.currentTime=i,e[t(308)]&&(this[t(333)].debugWarn(this[t(584)],t(338)),this[t(333)][t(481)]=!0),s=0),s}[yo(462)](){const t=yo,e=this[t(256)];let s=0;return e.buffered[t(530)]>0&&(s=e.currentTime-e.buffered[t(516)](0)),s}[yo(570)](){const t=yo,e=this[t(256)];let s=null;if(e){const i=e[t(486)],r=i.length?i.start(0):0,n=i.length?i.end(i[t(530)]-1):0;s={start:r,end:n,diff:n-r}}return s}[yo(329)](){const t=yo,e=this[t(256)];let s=[];if(e){const i=e[t(486)];for(let e=0;e<i[t(530)];e++){let r=i[t(516)](e),n=i[t(223)](e);s[t(281)]({start:r,end:n})}}return s}[yo(289)](){const t=yo;let e=0;const s=this[t(256)];return s&&(e=s[t(415)]),e}[yo(577)](){const t=yo;let e=(this[t(333)][t(234)][t(499)]+this[t(333)]._opt[t(253)])/1e3;return Math[t(307)](5,e+3)}[yo(471)](){return this[yo(547)]()>=1}[yo(394)](){const t=yo;this[t(402)]&&(clearTimeout(this[t(402)]),this[t(402)]=null)}[yo(436)](){const t=yo;this[t(294)]&&(clearTimeout(this[t(294)]),this[t(294)]=null)}[yo(410)](){const t=yo;this._clearDelayEmitVodVideoWaiting(),this[t(402)]=setTimeout((()=>{const e=t;this[e(506)]||(this.player[e(240)]()?this[e(333)][e(423)](this[e(584)],e(514)):(this.player[e(423)](this[e(584)],"emit playVodWaiting"),this[e(333)][e(268)](H[e(409)])))}),100)}[yo(399)](){const t=yo;this[t(436)](),this[t(294)]=setTimeout((()=>{const e=t;this[e(506)]||(this[e(333)][e(240)]()?this[e(333)][e(423)](this[e(584)],e(419)):this.$videoElement&&(this.player.debugLog(this[e(584)],e(270)+this.$videoElement[e(513)]+e(346)+(this[e(256)][e(513)]+.1)),this[e(256)][e(513)]=this.$videoElement[e(513)]+.1))}),4e3)}[yo(213)](t){const e=yo;this[e(256)]&&(this[e(256)][e(513)]=t)}isEnded(){const t=yo;let e=!1;return this[t(256)]&&(e=this[t(256)][t(573)]),e}[yo(507)](){const t=yo;let e=0;return this[t(256)]&&this.$videoElement[t(486)][t(530)]>0&&(e=this[t(256)][t(486)][t(223)](this[t(256)][t(486)][t(530)]-1)),e}getDuration(){const t=yo;let e=0;return this.$videoElement&&(e=this[t(256)].duration),e}[yo(320)](){const t=yo;let e=0;if(this.$videoElement){const s=this[t(552)]();s&&(e=this.geLoadedTime()/s)}return e}[yo(254)](){const t=yo;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this[t(256)][t(513)];const i=this[t(329)]();if(0===i.length)return s;const r=i[i[t(530)]-1];return s=r[t(223)]-r[t(516)]<1?r.start:r[t(223)]-(e||1),s}}function So(){let t=null;const e=()=>{t&&(self.clearInterval(t),t=null)};self.onmessage=function(s){if("start"===s.data.event){const i=s.data.interval||16.6;e(),t=self.setInterval((()=>{self.postMessage({})}),i)}"stop"===s.data.event&&e()}}const wo=Eo;function Eo(t,e){const s=To();return(Eo=function(t,e){return s[t-=365]})(t,e)}function To(){const t=["49748xOKMLt","revokeObjectURL","timerByWorker","interval","timerByWorkerClearTimeout","handleFn","6157480kldsGu","1805PHWXzj","terminate","767279qlDtVw","30EEMChA","URL","7309632DgXwst","stop","postMessage","10294256aZNDOI","timerByWorkerUrl","3288DHCrfw","onmessage","11303712tLRWPV","_initIntervalWorker","destroy","start"];return(To=function(){return t})()}!function(t,e){const s=Eo,i=t();for(;;)try{if(666635===parseInt(s(384))/1+-parseInt(s(375))/2*(parseInt(s(385))/3)+-parseInt(s(369))/4*(parseInt(s(382))/5)+-parseInt(s(387))/6+-parseInt(s(381))/7+parseInt(s(367))/8+parseInt(s(371))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(To);class Io{constructor(){const t=Eo;this[t(377)]=null,this[t(368)]=null,this[t(379)]=null,this[t(380)]=null}[wo(373)](){const t=wo;this[t(377)]&&(this.timerByWorker[t(383)](),this.timerByWorker=null),this[t(379)]&&(clearTimeout(this[t(379)]),this[t(379)]=null),this[t(368)]&&(URL[t(376)](this[t(368)]),this[t(368)]=null),this.handleFn=null}[wo(378)](t,e){const s=wo;!this.timerByWorker&&this[s(372)](e),this.timerByWorker[s(366)]({event:s(374),interval:e}),this[s(380)]=t}[wo(365)](){const t=wo;this[t(377)]&&this[t(377)][t(366)]({event:t(365)}),this[t(380)]=Ze}[wo(372)](t){const e=wo,s=gi(So);this[e(377)]=new Worker(s),this[e(368)]=s,this[e(379)]=setTimeout((()=>{const t=e;window[t(386)][t(376)](this[t(368)]),this[t(368)]=null,this[t(379)]=null}),P),this[e(377)][e(370)]=t=>{const s=e;this[s(380)]&&this[s(380)]()}}}const ko=Co;function _o(){const t=["isContextLost","setFps min","playVod","tfTs","_doSync","_requestAnimationFramePrevTs","cancelRequestAnimationFrameRequest"," and playbackRate is ","interval","isUseFpsRender","updateStats","pushData","destroy","fps","bind","listenPlaybackPause","playInterval","isPlayback","I420","visibility","listenPlayVodPause","startRender$2","render$2","isCacheBeforeDecodeForFpsRender","handleRender","wcsUseWebgl2Render","628260UiViFq","debugLog","output","fps is","_initContext2D"," pre fps is ","webGPURender","2281032JlYATY","updateCurrentPts"," and use startRender() instead","TAG_NAME","debugWarn","initVideo","playbackDelayTime","now","startRender","_firstTimestamp","_sync","preSyncTimestamp"," and error: ","render animation frame duration is ","shift","_renderFps","playbackConfig","_requestAnimationFrameRequest","bufferList","delayTimeout","forEach"," and updatePreFps","ceil","$videoElement","ms more than ","buffer","_doRender"," >= 950ms and visibility is false","bufferSize","_isDestroyed","rate is"," and bufferList length is ","_initContextGl","rate","30VOhlmo","763398vythrh","playbackRate","playVodPause","_updateSync","videoFrame","setRate","initVideoDelay","buffer size is ","context2D","134qqTCsC","renderYUV","webglRender","clearView","useWebGPU","isWcsWebgl2","renderType","webgl","intervalUseWorker","doRender webgpu render is not init"," and buffer length is ","bufferListLength is","useWCS","_initCanvasRender","render","sync frame and diff is ","ms and fps is ","sync frame duration is ","isPlayVod","_initContextGl2","getCanvasType","sync and _opt.intervalUseWorker is true and use IntervalWorker","player","push","webgpu","ms and and page visibility is ","clearRect","58070IyVnFt","_stopSync","7OqYOiF","resume","isPlaybackOnlyDecodeIFrame"," and fragDuration is ","494121POpWnJ","preFps","_doPlay","playback","then","_startfpsTime","width","getStreamFps","drawImage"," -> ","playbackPause","setFps max","bound","toString","clear","1102995svGIXR","createImageBitmap","debugError","length","setStreamFps","intervalPlaybackLoopWorker","5034YkYTan","floor","setFps","pause","_initContextGPU","_startFpsTimestamp","pushData, isPlaybackOnlyDecodeIFrame only decode iframe and ts is ","_opt","contextGl","streamFps","reset","canvas","_doPlayEmpty","videoInfo","_hasCalcFps","height","setFps ","ms and diffFps is ","requestAnimationFrameMaxDiff"];return(_o=function(){return t})()}function Co(t,e){const s=_o();return(Co=function(t,e){return s[t-=464]})(t,e)}!function(t,e){const s=Co,i=t();for(;;)try{if(169027===-parseInt(s(578))/1*(parseInt(s(482))/2)+-parseInt(s(611))/3+parseInt(s(527))/4+-parseInt(s(605))/5+-parseInt(s(569))/6*(parseInt(s(607))/7)+parseInt(s(534))/8+-parseInt(s(476))/9*(-parseInt(s(568))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_o);class Do extends uo{constructor(t){const e=Co;super(t),this.TAG_NAME=t[e(596)]()?"CanvasVideoPlayVod":"CanvasVideoPlayback",this[e(552)]=[],this[e(517)]=null,this.fps=1,this.preFps=1,t.isPlayVod()&&(this[e(514)]=25,this[e(612)]=25),this[e(491)]=0,this[e(570)]=1,this[e(543)]=null,this[e(549)]=0,this[e(466)]=null,this[e(487)]=null,this[e(496)]=!1,this[e(551)]=null,this._requestAnimationFramePrevTs=null,this[e(545)]=null,this[e(481)]=null,this[e(473)]={listenPlaybackPause:this[e(516)][e(515)](this),listenPlayVodPause:this[e(521)][e(515)](this),_doSync:this._doSync[e(515)](this),startRender$2:this[e(522)][e(515)](this)},this[e(600)][e(518)]()?this[e(600)].on(H[e(471)],this[e(473)].listenPlaybackPause):this[e(600)][e(596)]()&&this.player.on(H[e(571)],this.bound[e(521)]),this[e(600)][e(528)](this[e(537)],"init")}async[ko(513)](){const t=ko;this[t(475)](),this[t(606)](),this[t(481)]&&(this[t(481)][t(513)](),this[t(481)]=null),this[t(507)](),this[t(492)](),super[t(513)](),this[t(473)]=null,this[t(600)][t(528)](this.TAG_NAME,"destroy")}reset(){const t=ko;this[t(543)]=null,this.playbackRate=1,this[t(514)]=1,this[t(612)]=1,this.streamFps=null,this._renderFps=0,this[t(466)]=null,this[t(487)]=null,this[t(496)]=!1}listenPlaybackPause(t){const e=ko;t?(this[e(485)](),this[e(600)].playback.isPlaybackPauseClearCache&&this[e(475)]()):this[e(608)]()}listenPlayVodPause(t){const e=ko;t?this[e(485)]():this[e(608)]()}[ko(591)](){const t=ko;this[t(600)][t(489)][t(590)]?(this[t(584)]=at.webcodecs,Ui()&&this[t(600)]._opt[t(526)]?(this[t(597)](),this[t(580)]&&(this[t(583)]=!0)):this[t(531)]()):this.player[t(489)][t(582)]?(this.renderType=at[t(602)],this[t(486)]()):this.player[t(489)].useWebCanvas?(this[t(584)]=at[t(493)],this._initContext2D()):(this[t(584)]=at[t(585)],this[t(566)]())}_sync(){const t=ko;this._stopSync();for(let e=0;e<this[t(570)];e++)this._doPlay();const e=Math.ceil(1e3/this[t(514)]);this[t(600)][t(528)](this[t(537)],t(595)+e+t(594)+this[t(514)]+t(508)+this[t(570)]),this.player[t(489)][t(586)]?(!this[t(481)]&&(this.player[t(528)](this[t(537)],t(599)),this[t(481)]=new Io),this[t(481)][t(509)](this[t(473)][t(505)],e)):this.playInterval=setInterval(this.bound._doSync,e)}_doSync(){const t=ko;let e=Date[t(541)]();!this.preSyncTimestamp&&(this[t(545)]=e);for(let e=0;e<this[t(570)];e++)this[t(613)]();let s=e-this.preSyncTimestamp;const i=Math[t(556)](1e3/this[t(514)]);let r=parseInt(s/i,10);if(r>1&&this[t(552)][t(479)]>0){this[t(600)][t(538)](this[t(537)],"sync frame duration is "+s+t(603)+this[t(600)][t(520)]+t(610)+i+t(499)+r+t(565)+this[t(552)][t(479)]);const e=Ri(this[t(600)][t(520)])&&s>=950;e&&this[t(600)][t(528)](this[t(537)],t(593)+s+t(561));for(let s=0;s<r;s++)for(let s=0;s<this[t(570)];s++)e?this[t(494)]():this[t(613)]()}this.preSyncTimestamp=e}[ko(613)](){const t=ko;if(this[t(552)].length>0){const e=this[t(552)][t(548)]();e&&e.buffer&&(this[t(560)](e[t(559)]),this.player[t(518)]()&&this[t(600)].playback[t(511)]({ts:e.ts,tfTs:e.tfTs}),this[t(600)][t(535)](e.ts),this[t(600)][t(525)]())}}[ko(494)](){const t=ko;if(this[t(552)][t(479)]>0){const e=this[t(552)][t(548)]();e&&e[t(559)]&&(this[t(600)][t(489)][t(590)]&&yi(e[t(559)]),this[t(600)][t(518)]()&&this[t(600)][t(464)].updateStats({ts:e.ts,tfTs:e.tfTs}),this[t(600)][t(535)](e.ts),this.player.handleRender())}}[ko(606)](){const t=ko;this[t(517)]&&(clearInterval(this[t(517)]),this.playInterval=null),this[t(481)]&&this[t(481)].stop(),this[t(545)]=null}_doRender(t){const e=ko;if(this[e(600)][e(489)][e(590)])if(this.webglRender)this.webglRender[e(592)](t),yi(t);else if(li(t[e(477)]))try{t[e(477)]()[e(465)]((s=>{const i=e;this.context2D[i(469)](s,0,0,this[i(557)][i(467)],this.$videoElement[i(497)]),yi(t)}))}catch(t){}else this.context2D[e(469)](t,0,0,this.$videoElement[e(467)],this.$videoElement[e(497)]),yi(t);else if(this[e(598)]()===at.webgl)try{this[e(580)][e(579)](this[e(557)][e(467)],this[e(557)].height,t)}catch(s){this.player.debugError(this.TAG_NAME,"doRender webgl render context is lost "+(this[e(490)]&&this[e(490)][e(501)]())+e(588)+t[e(479)]+e(546)+s[e(474)]())}else if(this.getCanvasType()===at[e(602)])try{if(!this[e(533)])return void this[e(600)][e(538)](this[e(537)],e(587));this.webGPURender.renderYUV(this.$videoElement[e(467)],this.$videoElement[e(497)],t)}catch(t){this[e(600)][e(478)](this[e(537)],"doRender webgpu render and error: "+t[e(474)]())}else if(this[e(598)]()===at[e(493)]){const s=qs(t,{format:e(519),codedWidth:this[e(495)][e(467)],codedHeight:this[e(495)].height,timestamp:0});this[e(577)][e(469)](s,0,0,this.$videoElement[e(467)],this.$videoElement[e(497)]),yi(s)}}get[ko(567)](){return this.playbackRate}get[ko(562)](){const t=ko;return this[t(552)][t(479)]}[ko(468)](){return this[ko(491)]}initFps(){const t=ko;this[t(496)]?this.player.debugLog(this[t(537)],"initFps, has calc fps"):this.player[t(518)]()?(this[t(612)]=rs(this.player.playback[t(514)],1,100),this.fps=this[t(612)]):this.player[t(596)]()&&(this[t(612)]=rs(this[t(600)][t(503)].fps,1,100),this[t(514)]=this[t(612)])}[ko(484)](t){const e=ko;t!==this[e(514)]&&(t>100&&this[e(600)][e(538)](this[e(537)],e(472),t),t<0&&this[e(600)][e(538)](this.TAG_NAME,e(502),t),this.fps=rs(t,1,100),this[e(600)][e(528)](this[e(537)],e(498)+this.preFps+e(470)+this.fps),this.player[e(518)]()&&this[e(600)][e(464)].isUseFpsRender&&this[e(544)](),this.preFps=this.fps)}[ko(480)](t){const e=ko;this.player[e(528)](this[e(537)],e(480),t),this[e(496)]=!0,this[e(491)]=t,this[e(484)](t)}setRate(t){const e=ko;t!==this.playbackRate&&(this[e(600)][e(528)](this[e(537)],e(574),t),this[e(570)]=t)}[ko(523)](t){const e=ko;if(this._isDestroyed)return;null===this._firstTimestamp&&(this[e(543)]=t.ts);const s={tfTs:t.ts-this[e(543)],ts:t.ts};t[e(573)]?s[e(559)]=t.videoFrame:s[e(559)]=t[e(529)],this[e(552)].push(s),this[e(542)]()}[ko(542)](){const t=ko;if(0===this.bufferList.length)return;let e=null;for(;0!==this[t(552)][t(479)];){const s=this[t(552)][t(548)]();this[t(560)](s[t(559)]),e=s}this[t(600)][t(518)]()?this[t(600)][t(464)][t(511)]({ts:e.ts,tfTs:e[t(504)]}):this[t(600)][t(596)]()&&this.player[t(503)][t(511)]({ts:e.ts,tfTs:e[t(504)]}),this[t(600)].updateCurrentPts(e.ts),this[t(600)][t(525)]()}startRender$2(){const t=ko;if(this[t(552)].length<=0)return void this[t(507)]();null===this[t(506)]&&(this._requestAnimationFramePrevTs=is());const e=is()-this[t(506)];if(e>=this[t(600)][t(489)][t(500)])return this.player[t(538)](this[t(537)],t(547)+e+t(558)+this[t(600)][t(489)].requestAnimationFrameMaxDiff+t(536)),this.startRender(),void this[t(507)]();const s=this[t(552)][t(548)]();this[t(560)](s.buffer),this[t(600)][t(518)]()?this[t(600)].playback[t(511)]({ts:s.ts,tfTs:s[t(504)]}):this[t(600)][t(596)]()&&this.player[t(503)][t(511)]({ts:s.ts,tfTs:s[t(504)]}),this[t(600)][t(535)](s.ts),this.player[t(525)](),this._requestAnimationFramePrevTs=is(),this[t(551)]=requestAnimationFrame(this[t(473)][t(522)])}[ko(507)](){const t=ko;this[t(551)]&&(cancelAnimationFrame(this._requestAnimationFrameRequest),this._requestAnimationFrameRequest=null),this[t(506)]=null}[ko(512)](t){const e=ko;if(this[e(563)])return;null===this[e(543)]&&(this[e(543)]=t.ts);const s={tfTs:t.ts-this._firstTimestamp,ts:t.ts};if(t[e(573)]?s[e(559)]=t[e(573)]:s[e(559)]=t[e(529)],this[e(600)][e(609)]())return this[e(600)][e(528)](this[e(537)],e(488),s.ts),this._doRender(s[e(559)]),this.player[e(535)](s.ts),this[e(600)][e(525)](),void(this[e(600)][e(518)]()&&this[e(600)].playback[e(511)]({ts:s.ts,tfTs:s.tfTs}));if(this[e(600)].isPlayback()){const t=this[e(600)][e(489)][e(550)][e(524)];if(!t&&this.bufferSize>this.fps*this[e(570)]*2&&(this[e(600)][e(538)](this.TAG_NAME,e(576)+this[e(562)]),this[e(613)]()),this.bufferList[e(601)](s),!this[e(496)]){const t=Si(this[e(552)]);null!==t&&t!==this[e(612)]&&(this[e(600)][e(528)](this[e(537)],"calc fps is "+t+e(532)+this[e(612)]+e(555)),this[e(480)](t))}if(!t){const t=this.bufferList.length,s=t/(this[e(514)]*this.playbackRate);s<=1?this[e(484)](this[e(612)]):(this[e(484)](this[e(514)]+Math[e(483)](s*this[e(570)])),this[e(600)][e(538)](this[e(537)],e(564),s,e(530),this.fps,e(589),t))}}}[ko(539)](){this[ko(572)]()}[ko(575)](){const t=ko,e=this[t(600)][t(489)][t(540)];e>0?this[t(553)]=setTimeout((()=>{this[t(539)]()}),e):this[t(539)]()}clearView(){const t=ko;super[t(581)](),this[t(490)]&&this[t(490)][t(475)](this[t(490)].COLOR_BUFFER_BIT),this.webGPURender&&this[t(533)][t(475)](),this[t(577)]&&this[t(577)][t(604)](0,0,this[t(557)][t(467)],this[t(557)][t(497)])}[ko(475)](){const t=ko;this[t(600)][t(489)][t(590)]&&this[t(552)][t(554)]((e=>{const s=t;e[s(559)]&&yi(e[s(559)])})),this[t(552)]=[]}[ko(572)](){const t=ko;this[t(600)][t(518)]()&&this[t(600)][t(464)][t(510)]&&this[t(544)]()}[ko(608)](){this[ko(572)]()}[ko(485)](){const t=ko;this[t(600)][t(518)]()&&this.player[t(464)][t(510)]&&this[t(606)]()}}var Ro=Lo;function Lo(t,e){var s=Po();return(Lo=function(t,e){return s[t-=146]})(t,e)}function Po(){var t=["371378UdYXUn","render$2","isPlayback","playback","294651WAsmru","destroy","player","pushData","142790iheDZI","6642430HLPvvl","123361OoRouH","597RiyanY","updateStats","VideoPlayback","72edlWBC","3530ZUYgPI","2341140IBCdQm","33oHdLwa","44aQsCiq","VideoPlayVod","TAG_NAME"];return(Po=function(){return t})()}!function(t,e){for(var s=Lo,i=t();;)try{if(288760===-parseInt(s(160))/1+-parseInt(s(154))/2*(parseInt(s(150))/3)+-parseInt(s(157))/4*(parseInt(s(147))/5)+-parseInt(s(155))/6+parseInt(s(149))/7+-parseInt(s(153))/8*(parseInt(s(164))/9)+parseInt(s(148))/10*(parseInt(s(156))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Po);class xo extends bo{constructor(t){var e=Lo;super(t),this[e(159)]=t[e(162)]()?e(152):e(158)}async[Ro(165)](){super[Ro(165)]()}[Ro(146)](t){this.render(t)}[Ro(161)](t){var e=Ro;this.render(t),this[e(166)][e(162)]()?this[e(166)][e(163)][e(151)]({ts:t.ts}):this[e(166)].isPlayVod()&&this[e(166)].playVod[e(151)]({ts:t.ts})}}const Mo=Bo;function Bo(t,e){const s=Fo();return(Bo=function(t,e){return s[t-=105]})(t,e)}function Fo(){const t=["20jljjnu","isAliyunRtc","270782ZsQoXD","22376JsmAjL","194796xXiDrm","732663yzMUFr","playType","wcsUseVideoRender","isWebrtcH265","99OCGxDm","_opt","playVodMp4UseSrc","getLoaderFactory","15159222sPEcre","supportHls265","759qadXOC","301EXbzZk","useMSE","mseUseCanvasRender","playVod","3PgRsZi","playbackTF","useOffscreen","useCanvasRender","isWebrtc","isHls","1267960mXdanY","30OtqKww","16476VtcYqV"];return(Fo=function(){return t})()}!function(t,e){const s=Bo,i=t();for(;;)try{if(637622===parseInt(s(117))/1*(-parseInt(s(128))/2)+-parseInt(s(112))/3*(-parseInt(s(125))/4)+-parseInt(s(123))/5*(parseInt(s(124))/6)+-parseInt(s(113))/7*(-parseInt(s(129))/8)+-parseInt(s(131))/9*(parseInt(s(126))/10)+parseInt(s(106))/11*(parseInt(s(130))/12)+parseInt(s(110))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Fo);class Uo{constructor(t){const e=Bo;return new(Uo[e(109)](t[e(107)]))(t)}static[Mo(109)](t){const e=Mo;return t[e(132)]===p.playVod&&t.isFmp4&&t[e(108)]?bo:t[e(114)]?t[e(115)]?go:bo:t[e(122)]&&Ri(t[e(111)])||t[e(121)]&&Ri(t[e(105)])?t[e(120)]?go:bo:t[e(127)]?bo:t.useWCS?t.playType===p[e(118)]?Do:t[e(132)]===p[e(116)]?!t[e(119)]&&t[e(133)]?xo:Do:!t[e(119)]&&t.wcsUseVideoRender?bo:go:t[e(132)]===p.playbackTF||t.playType===p[e(116)]?Do:t.wasmUseVideoRender?bo:go}}const Oo=No;function No(t,e){const s=Vo();return(No=function(t,e){return s[t-=320]})(t,e)}!function(t,e){const s=No,i=t();for(;;)try{if(628284===parseInt(s(338))/1*(parseInt(s(377))/2)+parseInt(s(342))/3+parseInt(s(334))/4+parseInt(s(328))/5+-parseInt(s(322))/6*(-parseInt(s(395))/7)+-parseInt(s(375))/8+-parseInt(s(365))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Vo);class jo extends h{constructor(t){const e=No;super(),this[e(358)]=[],this[e(370)]=!0,this[e(390)]=t,this[e(348)](),this[e(383)]=null,this.scriptNode=null,this[e(339)]=null,this[e(344)]=null,this.hasInitScriptNode=!1,this[e(371)]=null,this[e(385)]=new(window[e(349)]||window[e(374)])({sampleRate:Zt}),this[e(401)]=this[e(385)][e(353)](),this[e(401)].gain[e(400)]=0,this._prevVolume=null,this.playing=!1,this[e(391)]=!1,this.audioResumeStateTimeout=null,this.audioContextContextResumeLock=!1,this[e(350)]=!1,this._isDestroyed=!1}async[Oo(398)](){const t=Oo;return this._isDestroyed=!0,this.closeAudio(),await this[t(320)](),this[t(389)](),this[t(401)]&&(this[t(401)][t(396)](),this[t(401)]=null),this[t(378)]&&(this.scriptNode[t(396)](),this[t(378)].onaudioprocess=null,this.scriptNode=null),this[t(339)]&&(this[t(339)][t(396)](),this[t(339)][t(324)][t(325)]=null,this[t(339)]=null),this[t(371)]&&(this[t(371)].disconnect(),this[t(371)]=null),await this[t(366)](),this[t(391)]=!1,this[t(352)]=!1,this[t(348)](),this[t(387)]=null,this[t(359)]=!1,this[t(364)]=null,this[t(355)]=!1,this[t(350)]=!1,this[t(370)]=!1,this[t(368)](),!0}async[Oo(366)](){const t=Oo,e=this[t(385)];if(e){try{e[t(351)]!==t(340)&&await e[t(354)](),"closed"!==e[t(351)]&&await e.close(),e[t(331)]&&e[t(331)][t(396)](),this.audioContext=null}catch(e){this[t(390)][t(356)](this[t(373)],t(366),e[t(335)](),e)}return!0}}[Oo(320)](){return new Promise(((t,e)=>{const s=No;this.workletProcessorNode?(this[s(339)][s(324)][s(341)]({type:"destroy"}),this[s(344)]=setTimeout((()=>{const e=s;this[e(390)][e(356)](this[e(373)],e(329)),this[e(344)]&&(clearTimeout(this.workletWorkerCloseTimeout),this[e(344)]=null),t()}),10)):t()}))}resetInit(){const t=Oo;this.audioInfo={encTypeCode:"",encType:"",channels:"",sampleRate:"",depth:""},this[t(369)]=!1}[Oo(394)](){return this[Oo(387)]}[Oo(388)](t){const e=Oo;t[e(376)]&&(this.audioInfo.encTypeCode=t[e(376)],this[e(387)][e(402)]=it[t.encTypeCode]),t.channels&&(this[e(387)][e(362)]=t[e(362)]),t.sampleRate&&(this[e(387)][e(380)]=t[e(380)]),t[e(336)]&&(this[e(387)][e(336)]=t[e(336)]),this[e(387)].sampleRate&&this[e(387)][e(362)]&&this.audioInfo[e(402)]&&!this[e(369)]&&(this[e(390)].emit(H.audioInfo,this.audioInfo),this[e(369)]=!0)}get isPlaying(){return this[Oo(352)]}get isMute(){const t=Oo;return!this.audioContext||(0===this[t(401)][t(360)][t(400)]||this[t(347)]())}get[Oo(330)](){const t=Oo;return this[t(401)]?this[t(401)].gain[t(400)]:0}get[Oo(392)](){const t=Oo;return this[t(358)][t(382)]}get[Oo(332)](){const t=Oo;let e=null;return this[t(385)]&&(e=this[t(385)][t(351)]),e}[Oo(327)](){const t=Oo;return this[t(385)]&&this[t(385)][t(380)]||Zt}initScriptNode(){}initMobileScriptNode(){}initWorkletScriptNode(){}[Oo(321)](){return""}mute(t){const e=Oo;t?(this.setVolume(0),this[e(399)]()):this[e(333)](this[e(390)].lastVolume||.5)}[Oo(333)](t){const e=Oo;t=parseFloat(t).toFixed(2),isNaN(t)||(this[e(345)](!0),t=rs(t,0,1),null!==this[e(364)]&&this[e(364)]===t||(null===this[e(364)]?this[e(390)][e(346)](H[e(381)],0===t):0===this[e(364)]&&t>0?this.player.emit(H[e(381)],!1):this[e(364)]>0&&0===t&&this[e(390)].emit(H[e(381)],!0),this[e(401)]&&(this[e(401)].gain[e(400)]=t),this[e(390)][e(346)](H[e(397)],this.player.volume),this.player.emit(H[e(330)],this[e(390)].volume),this[e(364)]=t))}[Oo(326)](){const t=Oo;this.hasInitScriptNode&&(this.scriptNode&&this[t(378)][t(396)](this[t(401)]),this[t(339)]&&this.workletProcessorNode[t(396)](this[t(401)]),this[t(401)]&&(this[t(383)]?this[t(401)][t(396)](this[t(371)]):this[t(401)][t(396)](this[t(385)].destination))),this[t(399)]()}audioEnabled(t){const e=Oo;if(t&&this[e(347)]()){if(this[e(355)])return;this[e(355)]=!0,this[e(385)][e(357)]()[e(384)]((()=>{const t=e;this[t(390)].emit(H.audioResumeState,{state:this[t(332)],isRunning:this[t(363)]()})}))[e(379)]((()=>{this[e(355)]=!1})),this[e(372)]=setTimeout((()=>{const t=e;this[t(389)](),this[t(386)]||(this[t(355)]=!1,this.isStateSuspended()&&this[t(390)][t(346)](H[t(343)],{state:this[t(332)],isRunning:this[t(363)]()}))}),1e3)}}[Oo(363)](){const t=Oo;return this[t(332)]===t(361)}[Oo(347)](){return"suspended"===this[Oo(332)]}clearAudioResumeStateTimeout(){const t=Oo;this[t(372)]&&(clearTimeout(this[t(372)]),this[t(372)]=null)}[Oo(399)](){const t=Oo;this[t(390)].debugLog(this[t(373)],"clear bufferList"),this[t(358)]=[],this[t(323)]&&(this[t(390)].debugLog(this[t(373)],"rateProcessor clear"),this.rateProcessor.clear())}play(t,e){}pause(){this[Oo(352)]=!1}[Oo(357)](){this[Oo(352)]=!0}[Oo(367)](t){}[Oo(393)](){return 0}[Oo(337)](t,e){}}function Vo(){const t=["channels","isStateRunning","_prevVolume","8651115fuqYWn","_destroyAudioContext","setRate","off","init","bufferListLock","mediaStreamAudioDestinationNode","audioResumeStateTimeout","TAG_NAME","webkitAudioContext","6917320lEGdds","encTypeCode","2wCXInb","scriptNode","finally","sampleRate","mute","length","$audio","then","audioContext","_isDestroyed","audioInfo","updateAudioInfo","clearAudioResumeStateTimeout","player","hasAudio","bufferSize","getAudioBufferSize","getAudioInfo","14qSoMOi","disconnect","volumechange","destroy","clear","value","gainNode","encType","_destroyWorklet","getEngineType","2081298upOQkj","rateProcessor","port","onmessage","closeAudio","getAudioContextSampleRate","158005AUAqvb","send close and wait 10ms destroy directly","volume","destination","audioContextState","setVolume","2283568CIJAVX","toString","depth","_play","541083hAppuB","workletProcessorNode","suspended","postMessage","1850526nfGNkZ","audioResumeState","workletWorkerCloseTimeout","audioEnabled","emit","isStateSuspended","resetInit","AudioContext","audioPlayVodSeekingLock","state","playing","createGain","suspend","audioContextContextResumeLock","debugLog","resume","bufferList","hasInitScriptNode","gain","running"];return(Vo=function(){return t})()}const Wo=Zo;!function(t,e){const s=Zo,i=t();for(;;)try{if(890996===parseInt(s(254))/1+parseInt(s(156))/2+-parseInt(s(179))/3*(-parseInt(s(222))/4)+-parseInt(s(233))/5*(parseInt(s(182))/6)+parseInt(s(202))/7+parseInt(s(197))/8*(parseInt(s(227))/9)+parseInt(s(225))/10*(-parseInt(s(177))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ho);class Go{constructor(){const t=Zo;this[t(210)]=new Float32Array,this[t(164)]=0,this[t(199)]=0}[Wo(172)](){const t=Wo;this[t(187)](),this[t(210)]=null}get[Wo(173)](){return this[Wo(210)]}get[Wo(200)](){return this[Wo(164)]}get startIndex(){return 2*this[Wo(164)]}get[Wo(226)](){return this[Wo(199)]}get[Wo(195)](){const t=Wo;return 2*(this[t(164)]+this[t(199)])}[Wo(187)](){const t=Wo;this[t(203)](this[t(199)]),this[t(159)]()}[Wo(157)](t){this[Wo(199)]+=t}[Wo(160)](t,e){const s=Wo;let i=arguments[s(171)]>2&&void 0!==arguments[2]?arguments[2]:0;const r=2*(e=e||0);!(i>=0)&&(i=(t[s(171)]-r)/2);const n=2*i;this[s(217)](i+this[s(199)]);const o=this.endIndex;this[s(173)][s(158)](t.subarray(r,r+n),o),this[s(199)]+=i}[Wo(248)](t,e){const s=Wo;let i=arguments[s(171)]>2&&void 0!==arguments[2]?arguments[2]:0;e=e||0,!(i>=0)&&(i=t[s(226)]-e),this[s(160)](t[s(173)],t[s(200)]+e,i)}[Wo(203)](t){const e=Wo;(!(t>=0)||t>this[e(199)])&&(t=this[e(226)]),this._frameCount-=t,this._position+=t}receiveSamples(t){const e=Wo;let s=arguments[e(171)]>1&&void 0!==arguments[1]?arguments[1]:0;const i=2*s,r=this[e(216)];t[e(158)](this._vector.subarray(r,r+i)),this[e(203)](s)}[Wo(194)](t){const e=Wo;let s=arguments[e(171)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this[e(216)]+2*s,n=2*i;t[e(158)](this._vector[e(178)](r,r+n))}[Wo(217)](){const t=Wo;let e=arguments[t(171)]>0&&void 0!==arguments[0]?arguments[0]:0;const s=parseInt(2*e);if(this[t(210)][t(171)]<s){const e=new Float32Array(s);e[t(158)](this._vector.subarray(this.startIndex,this.endIndex)),this[t(210)]=e,this._position=0}else this[t(159)]()}[Wo(213)](){const t=Wo;let e=arguments[t(171)]>0&&void 0!==arguments[0]?arguments[0]:0;this[t(217)](this[t(199)]+e)}rewind(){const t=Wo;this[t(164)]>0&&(this._vector.set(this._vector[t(178)](this.startIndex,this.endIndex)),this[t(164)]=0)}}class zo{constructor(t){const e=Wo;t?(this[e(219)]=new Go,this[e(185)]=new Go):this[e(219)]=this[e(185)]=null}[Wo(172)](){const t=Wo;this[t(187)](),this[t(185)]&&(this[t(185)][t(172)](),this[t(185)]=null),this[t(219)]&&(this[t(219)].destroy(),this._inputBuffer=null)}get[Wo(245)](){return this._inputBuffer}set inputBuffer(t){this[Wo(219)]=t}get[Wo(229)](){return this[Wo(185)]}set[Wo(229)](t){this._outputBuffer=t}clear(){const t=Wo;this[t(219)][t(187)](),this[t(185)].clear()}}function Ho(){const t=["New position falls outside of history buffer","skipFract","fillInputBuffer","seekLength","handleSampleData","overlapLength","_sourcePosition","inputBuffer","exp","virtualPitch","putBuffer","transpose","clearMidBuffer","preCalculateCorrelationReferenceStereo","min","slopeCount","446024gepUiD","calculateEffectiveRateAndTempo","midBuffer","_bufferTime","inputChunkSize","sampleRate","rateChange","data","1771602FDUsHl","put","set","rewind","putSamples","process","stretch","midBufferDirty","_position","calculateSequenceParameters","_pipe","fillOutputBuffer","tempoChange","_tempo","transposer","length","destroy","vector","seekBestOverlapPosition","sourcePosition","tempo","253sFcMnW","subarray","9qDnyvN","calculateOverlapLength","prevSampleL","384xEvuyR","clone","_rate","_outputBuffer","sampleReq","clear","setParameters","seekBestOverlapPositionStereo","_quickSeek","prevSampleR","bufferTime","rate","extract","endIndex","pitch","633112CtHRzK","nominalSkip","_frameCount","position","_intermediateBuffer","5684224olWNQH","receive","virtualRate","outputBufferPosition","seekWindowLength","autoSeekSetting","outputChunkSize","overlapMs","_vector","seekWindowMs","autoSeqSetting","ensureAdditionalCapacity","receiveSamples","floor","startIndex","ensureCapacity","checkLimits","_inputBuffer","calculateCrossCorrelationStereo","overlap","1140884GlxgOi","virtualTempo","_sampleRate","1097210gQdBIc","frameCount","153hxOzfR","sequenceMs","outputBuffer","_defaultFrameLength","refMidBuffer","historyBufferSize","72680oOCXVp","pitchOctaves","MIN_VALUE","max","_sampleBuffer"];return(Ho=function(){return t})()}class Ko extends zo{constructor(t){const e=Wo;super(t),this.reset(),this[e(184)]=1}[Wo(172)](){super[Wo(172)]()}set[Wo(193)](t){this[Wo(184)]=t}reset(){const t=Wo;this[t(253)]=0,this.prevSampleL=0,this[t(191)]=0}clone(){const t=Wo,e=new Ko;return e[t(193)]=this[t(184)],e}[Wo(161)](){const t=Wo,e=this[t(219)][t(226)];this[t(185)].ensureAdditionalCapacity(e/this[t(184)]+1);const s=this[t(249)](e);this[t(219)].receive(),this[t(185)][t(157)](s)}[Wo(249)](){const t=Wo;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return 0;const s=this._inputBuffer[t(173)],i=this[t(219)][t(216)],r=this[t(185)].vector,n=this[t(185)][t(195)];let o=0,a=0;for(;this[t(253)]<1;)r[n+2*a]=(1-this.slopeCount)*this.prevSampleL+this[t(253)]*s[i],r[n+2*a+1]=(1-this[t(253)])*this[t(191)]+this[t(253)]*s[i+1],a+=1,this[t(253)]+=this._rate;if(this[t(253)]-=1,1!==e)t:for(;;){for(;this[t(253)]>1;)if(this[t(253)]-=1,o+=1,o>=e-1)break t;const h=i+2*o;r[n+2*a]=(1-this[t(253)])*s[h]+this[t(253)]*s[h+2],r[n+2*a+1]=(1-this[t(253)])*s[h+1]+this[t(253)]*s[h+3],a+=1,this[t(253)]+=this[t(184)]}return this[t(181)]=s[i+2*e-2],this[t(191)]=s[i+2*e-1],a}}const qo=function(){};class Qo{constructor(t,e){const s=Wo;let i=arguments[s(171)]>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[s(171)]>3&&void 0!==arguments[3]?arguments[3]:qo;this[s(166)]=e,this.callback=r,this.sourceSound=t,this[s(224)]=i[s(153)];const n=i[s(192)]||.1;this[s(151)]=Math[s(252)](Math.max(n,.05),.2),this[s(232)]=Math.floor(this[s(224)]*this[s(151)]),this._defaultFrameLength=1024,this[s(237)]=null,this._lastSampleSize=0,this._sourcePosition=0,this[s(205)]=0,this[s(164)]=0}destroy(){const t=Wo;this[t(187)](),this.sourceSound[t(172)](),this.sourceSound=null,this[t(244)]=0,this.outputBufferPosition=0,this._position=0}get pipe(){return this._pipe}get[Wo(245)](){const t=Wo;return this[t(166)][t(245)]}get outputBuffer(){const t=Wo;return this._pipe[t(229)]}get[Wo(200)](){return this[Wo(164)]}set position(t){const e=Wo;if(t>this[e(164)])throw new RangeError("New position may not be greater than current position");const s=this[e(205)]-(this[e(164)]-t);if(s<0)throw new RangeError(e(238));this[e(205)]=s,this[e(164)]=t}get[Wo(175)](){return this[Wo(244)]}set[Wo(175)](t){const e=Wo;this[e(187)](),this[e(244)]=t}onEnd(){this.callback()}[Wo(240)](){const t=Wo;let e=arguments[t(171)]>0&&void 0!==arguments[0]?arguments[0]:0;const s=new Float32Array(2*e),i=this.sourceSound[t(194)](s,e,this[t(244)]);this._sourcePosition+=i,this[t(245)].putSamples(s,0,i)}[Wo(167)](){const t=Wo;let e=arguments[t(171)]>0&&void 0!==arguments[0]?arguments[0]:0;const s=2*this[t(230)];for(;this[t(229)][t(226)]<e;){const e=s-this[t(245)][t(226)];if(this.fillInputBuffer(e),this[t(245)][t(226)]<s)break;this[t(166)].process()}}[Wo(194)](t){const e=Wo;let s=arguments[e(171)]>1&&void 0!==arguments[1]?arguments[1]:0;this.fillOutputBuffer(this[e(205)]+s);const i=Math[e(252)](s,this[e(229)][e(226)]-this[e(205)]);this[e(229)][e(194)](t,this[e(205)],i);const r=this[e(205)]+i;return this.outputBufferPosition=Math[e(252)](this[e(232)],r),this[e(229)][e(203)](Math[e(236)](r-this[e(232)],0)),this[e(164)]+=i,i}[Wo(242)](t){const e=Wo;this[e(194)](t[e(155)],this[e(230)])}[Wo(187)](){const t=Wo;this[t(166)][t(187)](),this.outputBufferPosition=0}}const Yo=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Jo=-10/1.5;class Xo extends zo{constructor(t,e){const s=Wo;super(t),this[s(190)]=!0,this[s(163)]=!1,this[s(150)]=null,this[s(231)]=null,this[s(243)]=0,this[s(212)]=!0,this[s(207)]=!0,this[s(169)]=1,this[s(188)](e,0,0,8)}[Wo(172)](){const t=Wo;this[t(187)](),super[t(172)]()}[Wo(187)](){const t=Wo;super[t(187)](),this[t(250)](),this[t(231)]=null}[Wo(250)](){const t=Wo;this[t(163)]&&(this[t(163)]=!1),this[t(150)]=null}[Wo(188)](t,e,s,i){const r=Wo;t>0&&(this.sampleRate=t),i>0&&(this[r(209)]=i),e>0?(this[r(228)]=e,this[r(212)]=!1):this.autoSeqSetting=!0,s>0?(this.seekWindowMs=s,this[r(207)]=!1):this.autoSeekSetting=!0,this[r(165)](),this[r(180)](this.overlapMs),this[r(176)]=this[r(169)]}set[Wo(176)](t){const e=Wo;let s;this._tempo=t,this.calculateSequenceParameters(),this[e(198)]=this[e(169)]*(this[e(206)]-this.overlapLength),this[e(239)]=0,s=Math.floor(this[e(198)]+.5),this[e(186)]=Math[e(236)](s+this[e(243)],this[e(206)])+this[e(241)]}get[Wo(176)](){return this[Wo(169)]}get[Wo(152)](){return this[Wo(186)]}get[Wo(208)](){const t=Wo;return this[t(243)]+Math[t(236)](0,this[t(206)]-2*this[t(243)])}calculateOverlapLength(){const t=Wo;let e,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=this[t(153)]*s/1e3,e=e<16?16:e,e-=e%8,this[t(243)]=e,this[t(231)]=new Float32Array(2*this[t(243)]),this[t(150)]=new Float32Array(2*this[t(243)])}checkLimits(t,e,s){return t<e?e:t>s?s:t}[Wo(165)](){const t=Wo;let e,s;this[t(212)]&&(e=150+-50*this[t(169)],e=this.checkLimits(e,50,125),this[t(228)]=Math[t(215)](e+.5)),this[t(207)]&&(s=28.333333333333332+Jo*this[t(169)],s=this[t(218)](s,15,25),this[t(211)]=Math[t(215)](s+.5)),this[t(206)]=Math[t(215)](this[t(153)]*this.sequenceMs/1e3),this[t(241)]=Math[t(215)](this.sampleRate*this[t(211)]/1e3)}set quickSeek(t){this[Wo(190)]=t}[Wo(183)](){const t=Wo,e=new Xo;return e.tempo=this[t(169)],e.setParameters(this[t(153)],this[t(228)],this[t(211)],this[t(209)]),e}[Wo(174)](){const t=Wo;return this[t(190)]?this.seekBestOverlapPositionStereoQuick():this[t(189)]()}seekBestOverlapPositionStereo(){const t=Wo;let e,s,i,r=0;for(this[t(251)](),e=0,s=Number[t(235)];r<this[t(241)];r+=1)i=this[t(220)](2*r,this.refMidBuffer),i>s&&(s=i,e=r);return e}seekBestOverlapPositionStereoQuick(){const t=Wo;let e,s,i,r,n,o=0;for(this[t(251)](),s=Number.MIN_VALUE,e=0,r=0,n=0;o<4;o+=1){let a=0;for(;Yo[o][a]&&(n=r+Yo[o][a],!(n>=this[t(241)]));)i=this[t(220)](2*n,this[t(231)]),i>s&&(s=i,e=n),a+=1;r=e}return e}[Wo(251)](){const t=Wo;let e,s,i=0;for(;i<this[t(243)];i+=1)s=i*(this[t(243)]-i),e=2*i,this[t(231)][e]=this[t(150)][e]*s,this[t(231)][e+1]=this.midBuffer[e+1]*s}[Wo(220)](t,e){const s=Wo,i=this[s(219)][s(173)];t+=this._inputBuffer[s(216)];let r=0,n=2;const o=2*this.overlapLength;let a;for(;n<o;n+=2)a=n+t,r+=i[a]*e[n]+i[a+1]*e[n+1];return r}[Wo(221)](t){this.overlapStereo(2*t)}overlapStereo(t){const e=Wo,s=this[e(219)][e(173)];t+=this[e(219)].startIndex;const i=this[e(185)][e(173)],r=this[e(185)][e(195)];let n,o,a=0;const h=1/this[e(243)];let l,c,d;for(;a<this[e(243)];a+=1)o=(this.overlapLength-a)*h,l=a*h,n=2*a,c=n+t,d=n+r,i[d+0]=s[c+0]*l+this[e(150)][n+0]*o,i[d+1]=s[c+1]*l+this[e(150)][n+1]*o}[Wo(161)](){const t=Wo;let e,s,i;if(null===this[t(150)]){if(this[t(219)][t(226)]<this.overlapLength)return;this[t(150)]=new Float32Array(2*this.overlapLength),this[t(219)][t(214)](this[t(150)],this[t(243)])}for(;this[t(219)][t(226)]>=this[t(186)];){e=this[t(174)](),this[t(185)].ensureAdditionalCapacity(this[t(243)]),this[t(221)](Math[t(215)](e)),this._outputBuffer.put(this[t(243)]),s=this[t(206)]-2*this[t(243)],s>0&&this[t(185)][t(248)](this[t(219)],e+this.overlapLength,s);const r=this[t(219)][t(216)]+2*(e+this[t(206)]-this[t(243)]);this.midBuffer.set(this[t(219)].vector[t(178)](r,r+2*this.overlapLength)),this[t(239)]+=this.nominalSkip,i=Math[t(215)](this[t(239)]),this.skipFract-=i,this[t(219)][t(203)](i)}}}const $o=function(t,e){return(t>e?t-e:e-t)>1e-10};function Zo(t,e){const s=Ho();return(Zo=function(t,e){return s[t-=150]})(t,e)}class ta{constructor(t){const e=Wo;this.transposer=new Ko(!1),this[e(162)]=new Xo(!1,t),this[e(219)]=new Go,this[e(201)]=new Go,this[e(185)]=new Go,this[e(184)]=0,this[e(169)]=0,this[e(247)]=1,this.virtualRate=1,this[e(223)]=1,this[e(255)]()}[Wo(172)](){const t=Wo;this.clear(),this[t(219)][t(172)](),this._intermediateBuffer[t(172)](),this[t(185)][t(172)](),this._inputBuffer=null,this[t(201)]=null,this._outputBuffer=null}clear(){const t=Wo;this[t(170)][t(187)](),this.stretch[t(187)]()}[Wo(183)](){const t=Wo,e=new ta;return e[t(193)]=this.rate,e[t(176)]=this[t(176)],e}get[Wo(193)](){return this[Wo(184)]}set rate(t){const e=Wo;this[e(204)]=t,this[e(255)]()}set[Wo(154)](t){this[Wo(184)]=1+.01*t}get[Wo(176)](){return this[Wo(169)]}set[Wo(176)](t){const e=Wo;this.virtualTempo=t,this[e(255)]()}set[Wo(168)](t){this[Wo(176)]=1+.01*t}set[Wo(196)](t){const e=Wo;this.virtualPitch=t,this[e(255)]()}set[Wo(234)](t){const e=Wo;this[e(196)]=Math[e(246)](.69314718056*t),this[e(255)]()}set pitchSemitones(t){this[Wo(234)]=t/12}get inputBuffer(){return this[Wo(219)]}get[Wo(229)](){return this[Wo(185)]}[Wo(255)](){const t=Wo,e=this._tempo,s=this[t(184)];this[t(169)]=this[t(223)]/this[t(247)],this[t(184)]=this.virtualRate*this[t(247)],$o(this._tempo,e)&&(this[t(162)][t(176)]=this[t(169)]),$o(this[t(184)],s)&&(this[t(170)][t(193)]=this[t(184)]),this[t(184)]>1?this._outputBuffer!=this[t(170)][t(229)]&&(this[t(162)][t(245)]=this[t(219)],this.stretch[t(229)]=this[t(201)],this[t(170)][t(245)]=this[t(201)],this[t(170)][t(229)]=this[t(185)]):this[t(185)]!=this.stretch[t(229)]&&(this[t(170)].inputBuffer=this._inputBuffer,this[t(170)][t(229)]=this._intermediateBuffer,this.stretch[t(245)]=this[t(201)],this.stretch[t(229)]=this[t(185)])}[Wo(161)](){const t=Wo;this[t(184)]>1?(this[t(162)][t(161)](),this[t(170)][t(161)]()):(this[t(170)].process(),this.stretch[t(161)]())}}const ea=sa;function sa(t,e){const s=ra();return(sa=function(t,e){return s[t-=382]})(t,e)}!function(t,e){const s=sa,i=t();for(;;)try{if(305338===-parseInt(s(395))/1+parseInt(s(383))/2+parseInt(s(393))/3+-parseInt(s(385))/4+-parseInt(s(408))/5+parseInt(s(398))/6*(-parseInt(s(387))/7)+parseInt(s(409))/8*(parseInt(s(400))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ra);class ia{constructor(t,e,s,i){const r=sa;this.player=t,this[r(402)]=r(390),this.audio=e,this[r(392)]=s,this[r(403)]=i}[ea(396)](){this[ea(388)]=null,this.channel=null}[ea(394)](t){const e=ea;let s=arguments[e(386)]>1&&void 0!==arguments[1]?arguments[1]:0;e(386);const i=this[e(391)][e(405)],r=s/this[e(403)];let n=0,o=null;if(!r||i[e(386)]<r)return this[e(384)][e(410)](this.TAG_NAME,e(382)+r+e(389)+s+e(404)+i[e(386)]+" and set bufferListLock to true "),this[e(391)][e(406)]=!0,0;try{for(let s=0;s<r;s++){const s=i[e(397)](),r=s[e(388)][0],a=2===this.channel?s[e(388)][1]:s[e(388)][0];for(let s=0;s<this[e(403)];s++){const e=2*(n+s);t[e]=r[s],t[e+1]=a[s]}n+=this[e(403)],null===o&&(o=s.ts)}}catch(t){return this.player[e(407)](this.TAG_NAME,e(399),t),0}return this.audio[e(401)]=o,n}}function ra(){const t=["debugWarn","1597500kcPVJY","289344cQhTdS","debugLog","extract and num is ","685786omwgkc","player","998204eoXdXT","length","16352qgyDiy","buffer"," and numFrames is ","Processor","audio","channel","1161927VNWBSq","extract","244317DuEaDk","destroy","shift","24WmDtPy","extract()","99eDwjDA","tempAudioTimestamp","TAG_NAME","bufferSize"," and bufferList length is ","bufferList","bufferListLock"];return(ra=function(){return t})()}const na=aa;function oa(){const t=["audio","312004tjUCNn","50QCrKxK","audioBufferSize","737610nABize","tempo","processor","rate","1544YGPNQy","14EdDFgt","3096970vbplBF","prevAudioTs","546345sYxVQS","sampleRate","getRate","soundTouch","floor","10199nOAaRE","663832fnPpJJ","extract","player","destroy","210153AGOkki","sampeRate","filter","provide","clear"];return(oa=function(){return t})()}function aa(t,e){const s=oa();return(aa=function(t,e){return s[t-=292]})(t,e)}!function(t,e){const s=aa,i=t();for(;;)try{if(461740===parseInt(s(294))/1+-parseInt(s(302))/2*(parseInt(s(315))/3)+parseInt(s(311))/4+parseInt(s(303))/5+-parseInt(s(297))/6+parseInt(s(310))/7*(parseInt(s(301))/8)+parseInt(s(305))/9*(-parseInt(s(295))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(oa);class ha{constructor(t,e,s){const i=aa;this[i(313)]=t,this[i(293)]=e,this[i(316)]=s[i(306)],this[i(296)]=s[i(296)],this[i(308)]=new ta(s[i(306)]),this[i(299)]=new ia(t,e,s.channels,s[i(296)]),this.soundTouch[i(298)]=1,this[i(308)][i(300)]=1,this[i(317)]=new Qo(this[i(299)],this[i(308)],{sampleRate:s[i(306)]}),this[i(304)]=null}[na(314)](){const t=na;this[t(304)]=null,this[t(299)]&&(this.processor[t(314)](),this[t(299)]=null),this[t(317)]&&(this[t(317)].destroy(),this.filter=null),this[t(308)]&&(this[t(308)].destroy(),this.soundTouch=null)}getRate(){const t=na;return this[t(308)][t(298)]}setRate(t){const e=na;(t=parseFloat(t))!==this[e(308)][e(298)]&&(this[e(308)][e(298)]=t)}[na(292)](){}[na(318)](t){const e=na;let s=new Float32Array(2*t),i=this[e(317)][e(312)](s,t),r=new Float32Array(i),n=new Float32Array(i);for(let t=0;t<i;t++)r[t]=s[2*t],n[t]=s[2*t+1];let o=this[e(293)].tempAudioTimestamp||0;return null!==this[e(304)]&&o===this[e(304)]&&(o=this[e(304)]+Math[e(309)](1e3*this[e(296)]/this[e(316)]*this[e(307)]())),this[e(304)]=o,{size:i,left:r,right:n,ts:this[e(293)].tempAudioTimestamp||0}}}function la(){class t extends AudioWorkletProcessor{constructor(){super(),this.audioBufferSize=1024,this.start=!1,this.channels=1,this.samplesArray=[],this.state=0,this.offset=0,this.port.onmessage=t=>{"init"===t.data.message?(this.audioBufferSize=t.data.audioBufferSize,this.start=t.data.start,this.channels=t.data.channels,this.state=0,this.offset=0,this.samplesArray=[]):"stop"===t.data.message?(this.start=!1,this.state=0,this.offset=0,this.samplesArray=[]):"data"===t.data.message?this.samplesArray.push(t.data.buffer):"zero"===t.data.message&&this.samplesArray.push({left:new Float32Array(this.audioBufferSize).fill(0),right:new Float32Array(this.audioBufferSize).fill(0)})}}process(t,e,s){const i=e[0][0],r=e[0][1];if(0===this.offset&&this.port.postMessage({message:"beep"}),0===this.state)this.state=1;else if(1===this.state&&this.samplesArray.length>=4)this.state=2;else if(2===this.state){const t=this.samplesArray[0];for(let e=0;e<i.length;e++)1===this.channels?i[e]=t.left[e+this.offset]:2===this.channels&&(i[e]=t.left[e+this.offset],r&&(r[e]=t.right[e+this.offset]))}else 1===this.channels?i.fill(0):2===this.channels&&(i.fill(0),r&&r.fill(0));return this.offset+=128,this.offset===this.audioBufferSize&&(this.offset=0,2===this.state&&this.samplesArray.shift(),0===this.samplesArray.length&&(this.state=0)),this.start}}registerProcessor("worklet-processor",t)}const ca=da;function da(t,e){const s=ua();return(da=function(t,e){return s[t-=194]})(t,e)}function ua(){const t=["bufferList size is "," set audioPlayVodSeekingLock to false","debugLog","removeChild","buffer list is : ","isPlaybackOnlyDecodeIFrame","assign","supportAudioWorklet","size","initWorkletScriptNode audioBufferSize is ","audioWorklet","getRenderCurrentPts","_audioElementPlay success and volume is ","scriptNode","getBufferListTimestamp","bind","audioPlayVodSeekingLock and latest ts is ","scriptNodeInterval","_bindAudioProxy","audioBufferSize","audioElementPlayTimeout","initScriptNode","buffer list lock and buffer list is ","click",", fill zero","isDestroyedOrClosed","$audio","bound","provide","ended","161JYSWaO","start","workletProcessorNode is null","handleScriptNodeCallback","interval","srcObject","1371789sMtwNH"," < 1000 and diff2 is ","44FPKhwN","initWorkletScriptNode error","interval script node and bufferList is ","gainNode","isAudioPlaying","left","isPlaying","_audioElementPlay error","style","addEventListener",",\n                 and bufferlist is ","calcPlaybackRateByBuffer","_getAudioElementReadyState"," and use old audioTimestamp","initIntervalScriptNode",",\n                    and video is ","worklet-processor","visibility","scriptStartTime","active","onaudioprocess","readyState","length","TAG_NAME","initWorkletScriptNode() player is destroyed","destination","mediaStreamAudioDestinationNode","bufferList length ","214486ETZgGJ","eventListenList","3112260oDNcHI","zero","engineType: ","fillScriptNodeOutputBuffer","initProcessor audioBufferSize is ","createMediaStreamDestination","play","isActiveEngineType","rateUpdateThreshold","isMute","sampleRate","currentTime"," and fill zero","isAudioPlayer","clearWorkletUrlTimeout","init","8872552nemMpH","openSyncAudioAndVideo","appendChild","initProcessScriptNode","events","tierDownToProcessScript","then","audioEngine","intervalUseWorker","audio","initWorkletScriptNode","engineType","audioTimestamp","setRate","supportLockScreenPlayAudio","pow","createScriptProcessor","play failed and retry play","hasAudio","stream","audioContext","fill"," is less than current time ","workletUrl","updatePlaybackRate ","workletProcessorNode","onmessage","duration","createBufferSource","postMessage","initProcessor","_audioElementPlay","bufferListLock"," less than diff :","pause","syncAudioAndVideoDiff",",and bufferItem.size is 0 , and current playbackRate is ","body","addModule"," > 1000 and diff2 is ","100887QyQKgP","_provide"," and set lock to false","parentNode","intervalLoopWorker","calcPlaybackRateBySync","initIntervalScriptNode audioBufferSize is "," > ","function","getBufferListDuration","createBuffer","latestAudioTimestamp","channels","116PectYj"," and\n                        current audio pts is ",", diff is ","right","bufferList","connect","videoBufferMax","lastRateUpdateTime"," and currentVideoTimestamp is ","getAudioBufferSizeByType","isPlayStream","audioSyncVideoOption more than diff :","3ABqfKq","abs","removeEventListener","$container","initProcessScriptNode audioBufferSize is ","getChannelData","sin","destroy","min","script","getAudioSyncVideoDiff","debugWarn","defaultPlaybackRate","hasInitScriptNode","rateProcessor","videoBufferDelay","getAutoAudioEngineType","forEach","getCurrentVideoAndAudio","port","floor","playing","updatePlaybackRate","oneBufferDuration","playbackRate","initWorkletScriptNode audioContext is null","play failed and add document click event listener","clear","_opt","canplay","9456040rijffh","audioElementPlay","catch","prevEmitAudioSyncVideoOptionLogTimestamp","weiXinInAndroidAudioBufferSize","isMoreThanMinBufferDuration","audioInfo"," and\n                        first Buffer Item ts is ","175902cpjBnU","readyState is 0 and set _delayPlay to true","getAudioBufferSize","audioPlayVodSeekingLock","video","-100%","set"," and duration is ","create audio element","_intervalScriptNode","reset","_delayPlay","bufferList lock and size is 0 and outputBufferLength is ",", and drop","max","_isDestroyed","player","toFixed","worklet","play success and remove document click event listener","revokeObjectURL"," and end","handleScriptNodeCallback() player is destroyed or closed"," and channel is ",", run clear() and return"];return(ua=function(){return t})()}!function(t,e){const s=da,i=t();for(;;)try{if(570671===parseInt(s(401))/1*(parseInt(s(318))/2)+-parseInt(s(376))/3*(parseInt(s(389))/4)+-parseInt(s(320))/5+-parseInt(s(227))/6*(parseInt(s(282))/7)+-parseInt(s(336))/8+-parseInt(s(288))/9+-parseInt(s(219))/10*(-parseInt(s(290))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ua);class pa extends jo{constructor(t){const e=da;super(t),this.TAG_NAME="AudioContext",this[e(237)](),this[e(203)]=null,this[e(269)]=null,this[e(347)]=this.getAutoAudioEngineType(),this[e(271)]=this[e(398)](),this[e(278)]=null,this.eventListenList=[],this.workletUrl=null,this[e(334)]=null,this[e(380)]=null,this.bound={_intervalScriptNode:this[e(236)][e(267)](this),_audioElementPlay:this._audioElementPlay[e(267)](this)},this[e(243)][e(217)][e(350)]&&vs()&&(this[e(316)]=this[e(356)][e(325)](),this[e(278)]=document.createElement(e(345)),Object[e(258)](this[e(278)][e(298)],{position:"absolute",left:e(232),top:e(232)}),t[e(404)]?t.$container.appendChild(this[e(278)]):document[e(373)][e(338)](this[e(278)]),this[e(272)]=null,this[e(270)](),this[e(243)][e(254)](this.TAG_NAME,e(235))),this[e(243)].debugLog(this[e(313)],e(335),e(322)+this[e(347)]+"，audioBufferSize: "+this[e(271)])}async destroy(){const t=da;return await super[t(196)](),this[t(272)]&&(clearTimeout(this[t(272)]),this.audioElementPlayTimeout=null),this[t(359)]&&(URL[t(247)](this[t(359)]),this[t(359)]=null),this[t(334)]&&(clearTimeout(this[t(334)]),this.clearWorkletUrlTimeout=null),this.scriptNodeInterval&&(clearInterval(this.scriptNodeInterval),this.scriptNodeInterval=null),this[t(380)]&&(this.intervalLoopWorker[t(196)](),this[t(380)]=null),this[t(319)][t(312)]&&(this.eventListenList[t(206)]((t=>{t()})),this[t(319)]=[]),this[t(278)]&&(this[t(278)][t(370)](),this[t(278)][t(287)]=null,this[t(278)][t(379)]&&this[t(278)][t(379)][t(255)](this[t(278)]),this[t(278)]=null),this[t(203)]&&(this[t(203)][t(196)](),this.rateProcessor=null),this.reset(),this.bound=null,this[t(243)][t(254)](this[t(313)],"destroy"),!0}[ca(237)](){const t=ca;this.defaultPlaybackRate=1,this[t(213)]=1,this[t(308)]=0,this[t(271)]=0,this[t(238)]=!1,this[t(347)]=kt.script,this[t(396)]=0,this[t(328)]=50,this[t(222)]=null}[ca(294)](){const t=ca;return this[t(278)]&&Ri(this.$audio.paused)&&Ri(this.$audio[t(281)])&&0!==this[t(278)][t(213)]&&0!==this[t(278)][t(311)]}[ca(270)](){const t=ca,{proxy:e}=this[t(243)][t(340)],s=e(this[t(278)],t(218),(()=>{const e=t;this[e(243)][e(254)](this[e(313)],e(218)),this[e(238)]&&this[e(367)]()}));this.eventListenList.push(s)}[ca(302)](){const t=ca;let e=0;return this[t(278)]&&(e=this[t(278)].readyState),e}[ca(220)](){const t=ca;if(this[t(278)]){const e=this._getAudioElementReadyState();if(this[t(243)][t(254)](this.TAG_NAME,"play and readyState: "+e),!(0!==e||si()&&vs()))return this.player[t(200)](this.TAG_NAME,t(228)),void(this[t(238)]=!0);this._audioElementPlay()}}[ca(367)](){const t=ca;this.$audio&&this[t(278)][t(326)]()[t(342)]((()=>{const e=t;this[e(238)]=!1,this.player.debugLog(this[e(313)],e(264),this.$audio.volume),this[e(272)]=setTimeout((()=>{const t=e;this.audioElementPlayTimeout=null,this[t(242)]||!this.isAudioPlaying()&&(this[t(243)][t(200)](this[t(313)],t(353)),this[t(367)]())}),100),this.isAudioPlaying()&&(this[e(243)][e(254)](this[e(313)],e(246)),document[e(403)]("click",this[e(279)][e(367)]))}))[t(221)]((e=>{const s=t;this.player.debugError(this.TAG_NAME,s(297),e),this[s(243)].debugLog(this[s(313)],s(215)),document[s(299)](s(275),this[s(279)][s(367)])}))}[ca(229)](){return this.audioBufferSize}get oneBufferDuration(){const t=ca;return this[t(271)]/this[t(356)][t(330)]*1e3}get[ca(327)](){return this[ca(347)]===kt.active}[ca(385)](){const t=ca;return this[t(393)][t(312)]*this[t(212)]}[ca(224)](){const t=ca;return this.getBufferListDuration()>=100*this[t(213)]}initProcessor(){const t=ca;this[t(243)][t(254)](this.TAG_NAME,t(324)+this[t(271)]+" and sampleRate is "+this[t(225)][t(330)]),this[t(203)]=new ha(this[t(243)],this,{channels:this[t(225)][t(388)],audioBufferSize:this[t(271)],sampleRate:this.audioContext[t(330)]})}[ca(205)](){const t=ca;let e=this[t(243)][t(217)][t(343)]||kt[t(198)];const s=()=>{const s=t;e=ri()?kt.script:(vs()&&this[s(243)][s(217)][s(350)]||vi()&&this[s(259)](),kt[s(198)])};return this[t(243)]._opt[t(343)]?this[t(243)][t(217)][t(343)]===kt[t(245)]&&vi()&&this.supportAudioWorklet()?e=kt[t(198)]:this[t(243)][t(217)][t(343)]===kt.active?e=kt.script:this.player[t(217)][t(343)]===kt[t(198)]?e=kt[t(198)]:s():s(),e}[ca(398)](){const t=ca,e=this.engineType,s=this[t(243)][t(217)][t(223)];return e===kt[t(245)]?1024:e===kt[t(309)]?s||4800:1024}[ca(259)](){const t=ca;return this.audioContext&&this[t(356)][t(262)]&&typeof this[t(356)][t(262)][t(374)]===t(384)}[ca(273)](){const t=ca;this[t(210)]=!0,this[t(243)][t(254)](this[t(313)],"initScriptNode"),this[t(202)]||(this[t(366)](),this[t(347)]===kt[t(245)]?this[t(346)]():this[t(347)]===kt[t(309)]?this[t(304)]():this[t(347)]===kt[t(198)]&&this.initProcessScriptNode(),this[t(220)]())}getEngineType(){return this[ca(347)]}isPlaybackRateSpeed(){const t=ca;return this[t(213)]>this[t(201)]}[ca(339)](){const t=ca;this.player[t(254)](this[t(313)],t(405)+this[t(271)]+t(250)+this[t(225)][t(388)]);const e=this[t(356)][t(352)](this[t(271)],0,this[t(225)].channels);e[t(310)]=t=>{const e=t.outputBuffer;this.handleScriptNodeCallback(e)},e[t(394)](this[t(293)]),this[t(265)]=e,this[t(278)]?(this[t(293)].connect(this.mediaStreamAudioDestinationNode),this.$audio[t(287)]=this[t(316)][t(355)]):this[t(293)][t(394)](this[t(356)][t(315)]),this[t(202)]=!0}initIntervalScriptNode(){const t=ca;this[t(243)][t(254)](this.TAG_NAME,t(382)+this[t(271)]+t(250)+this[t(225)][t(388)]),this[t(308)]=0;const e=1e3*this.audioBufferSize/this.audioContext[t(330)];this[t(243)]._opt[t(344)]?(!this.intervalLoopWorker&&(this[t(243)][t(254)](this.TAG_NAME,"initIntervalScriptNode and _opt.intervalUseWorker is true and create intervalLoopWorker"),this[t(380)]=new Io),this.intervalLoopWorker[t(286)](this[t(279)]._intervalScriptNode,e)):this.scriptNodeInterval=setInterval(this[t(279)][t(236)],e),this[t(278)]?(this[t(293)][t(394)](this[t(316)]),this[t(278)].srcObject=this[t(316)][t(355)]):this[t(293)][t(394)](this.audioContext[t(315)]),this.hasInitScriptNode=!0}[ca(236)](){const t=ca;if(0===this[t(393)].length||Ri(this.playing)||Ri(this.player[t(296)]())||this.isMute)return void(this[t(210)]&&Ri(this[t(329)])&&this[t(243)][t(254)](this.TAG_NAME,t(292)+this[t(393)][t(312)]+" or playing is "+this[t(210)]));const e=this.audioContext[t(364)](),s=this[t(356)][t(386)](this[t(225)][t(388)],this[t(271)],this[t(356)][t(330)]);this[t(285)](s,(()=>{const i=t;this[i(308)]<this[i(356)][i(331)]&&(this[i(243)][i(254)](this[i(313)],"script start time "+this[i(308)]+i(358)+this.audioContext.currentTime),this.scriptStartTime=this[i(356)].currentTime),e.buffer=s,e[i(394)](this[i(293)]),e[i(283)](this[i(308)]),this[i(308)]+=s[i(363)]}))}[ca(346)](){const t=ca;this[t(243)][t(254)](this[t(313)],t(261)+this[t(271)]+t(250)+this.audioInfo[t(388)]);let e=mi(la);this[t(359)]=e,this[t(356)][t(262)].addModule(e)[t(342)]((()=>{const e=t;if(this[e(242)])return;if(this.player.isDestroyedOrClosed())return void this[e(243)].debugLog(this.TAG_NAME,e(314));if(!this[e(356)])return void this[e(243)][e(200)](this.TAG_NAME,e(214));let s=[1];2===this[e(225)][e(388)]&&(s=[1,1]);try{this[e(361)]=new AudioWorkletNode(this[e(356)],e(306),{numberOfOutputs:this.audioInfo[e(388)],outputChannelCount:s})}catch(t){this.player.debugError(this[e(313)],e(291),t),this[e(361)]=null,this[e(341)]()}this[e(361)]&&(this[e(361)][e(394)](this[e(293)]),this[e(278)]?(this[e(293)][e(394)](this[e(316)]),this[e(278)][e(287)]=this[e(316)][e(355)]):this[e(293)][e(394)](this[e(356)][e(315)]),this[e(202)]=!0,this[e(361)][e(208)][e(365)]({message:e(335),audioBufferSize:this[e(271)],start:!0,channels:this[e(225)][e(388)]}),this[e(361)][e(208)][e(362)]=t=>{const s=e;this[s(361)]?this[s(356)]?this.handleScriptNodeCallback(this[s(361)],null,!0):this.workletProcessorNode.port[s(365)]({message:s(321)}):this.player.debugError(this.TAG_NAME,s(284))})})),this[t(334)]=setTimeout((()=>{const e=t;URL[e(247)](this[e(359)]),this[e(359)]=null,this[e(334)]=null}),P)}[ca(341)](){const t=ca;this.player[t(254)](this[t(313)],t(341)),this.engineType=kt[t(198)],this[t(271)]=this[t(398)](),this[t(339)](),this[t(220)]()}[ca(285)](t,e){const s=ca;let i=arguments[s(312)]>2&&void 0!==arguments[2]&&arguments[2];e=e||Ze;let r,n=t.length;i&&(r=t,n=this[s(271)]);const o=this[s(225)].channels;if(this._isDestroyed)return i?r[s(208)].postMessage({message:s(321)}):this[s(323)](t,o),void e();if(this[s(210)]&&this[s(243)][s(296)]()&&Ri(this[s(329)])&&Ri(this[s(368)])){if(this[s(243)]._opt,this.player[s(277)]())return this[s(243)].debugLog(this[s(313)],s(249)),i?r[s(208)][s(365)]({message:s(321)}):this[s(323)](t,o),void e();if(this[s(243)][s(337)]()&&Di(this[s(243)][s(307)])){const n=this[s(243)][s(199)]();if(n-this[s(243)][s(217)][s(371)]>2e3){const a=this.player[s(207)](),h=this[s(266)]();let l=!1;const c=is();return null===this[s(222)]&&(l=!0,this[s(222)]=c),(c-this.prevEmitAudioSyncVideoOptionLogTimestamp>=1e3||l)&&(this[s(243)].debugLog(this.TAG_NAME,s(400)+n+s(305)+a[s(231)]+" ,\n                    and audio is "+a[s(345)]+" , waiting and bufferList is "+this[s(393)][s(312)]+",\n                    and ts list is "+h.join(",")+s(332)),this[s(222)]=c),i?r[s(208)][s(365)]({message:s(321)}):this.fillScriptNodeOutputBuffer(t,o),void e()}this[s(381)]()}let a=this[s(377)](n);if(0===a[s(260)])return Ri(this[s(243)][s(257)]())&&this.player[s(254)](this[s(313)],s(252)+this[s(393)][s(312)]+" outputBufferLength is "+n+s(372)+this.playbackRate+", fill zero"),i?r[s(208)][s(365)]({message:"zero"}):this[s(323)](t,o),void e();if(a&&a.ts){let t=a.ts;if(this[s(230)]){const e=Math.abs(a.ts-this.player[s(348)]);let i=0,r=null;this[s(393)][s(312)]&&(r=this.bufferList[0].ts,i=Math[s(402)](r-a.ts)),e>1e3||i>1e3?(this[s(243)][s(254)](this[s(313)],"audioPlayVodSeekingLock and latest ts is "+a.ts+s(226)+r+s(390)+this[s(243)][s(348)]+" and\n                        current video pts is "+this[s(243)][s(263)]()+s(391)+e+s(375)+i+s(303)),t=this.player.audioTimestamp):(this.player[s(254)](this[s(313)],s(268)+a.ts+s(226)+r+" and\n                        current audio pts is "+this[s(243)].audioTimestamp+" and\n                        current video pts is "+this[s(243)][s(263)]()+s(391)+e+s(289)+i+s(253)),this[s(230)]=!1)}this[s(243)][s(348)]=t}i?r[s(208)].postMessage({message:"data",buffer:a}):this[s(323)](t,o,a),e()}else this[s(368)]&&this[s(210)]&&this[s(243)].isPlaying()&&Ri(this[s(329)])&&Ri(this[s(243)][s(257)]())&&Ri(this[s(243)].isPlayVodSeeking())&&this[s(243)].debugLog(this.TAG_NAME,s(239)+n+s(276)),i?r[s(208)].postMessage({message:s(321)}):this[s(323)](t,o),e()}[ca(323)](t,e,s){const i=ca;if(1===e){const e=t.getChannelData(0);s?0===s[i(260)]?e[i(357)](0):e[i(233)](s[i(295)]):e[i(357)](0)}else if(2===e){const e=t.getChannelData(0),r=t[i(194)](1);s?0===s[i(260)]?(e[i(357)](0),r[i(357)](0)):(e.set(s[i(295)]),r[i(233)](s[i(392)])):(e.fill(0),r[i(357)](0))}}[ca(326)](t,e){const s=ca;this.isMute||(this.hasInitScriptNode?(this[s(354)]=!0,this[s(243)][s(387)]=e,this.bufferList.push({buffer:t,ts:e}),this.bufferListLock&&this[s(385)]()>=150&&(this[s(243)][s(254)](this[s(313)],s(274)+this[s(393)][s(312)]+s(234)+this[s(385)]()+s(383)+150+s(378)),this[s(368)]=!1),Ri(this[s(243)][s(337)]())&&Di(this[s(243)][s(399)]())&&this[s(301)]()):this[s(243)].debugWarn(this[s(313)],"play has not init script node"))}[ca(381)](){const t=ca;if(this[t(329)])return;if(!this[t(210)])return;if(this[t(243)][t(399)]()){const e=2e3,s=Math[t(209)](e/this[t(212)]);if(this.bufferList[t(312)]>s)return this[t(243)][t(254)](this.TAG_NAME,t(317)+this[t(393)][t(312)]+" more than "+s+t(240)),void this[t(216)]()}const e=this.player.getAudioSyncVideoDiff();if(this[t(327)]){if(e<-this.player[t(217)][t(371)]){this[t(243)][t(254)](this[t(313)],"engine active , audioSyncVideoOption "+-this[t(243)]._opt[t(371)]+t(369)+e+t(300)+this[t(393)][t(312)]);const s=this[t(243)][t(263)]();for(;this[t(393)].length>0;){const e=this[t(393)][0],i=e.ts-s;if(i>-this.player[t(217)][t(371)]/2){this[t(243)][t(348)]=e.ts,this[t(243)].debugLog(this[t(313)],"engine active , audioSyncVideoOption\n                        item.ts is "+e.ts+t(397)+s+t(391)+i+" > -"+this[t(243)][t(217)][t(371)]/2+t(248));break}this[t(393)].shift(),this[t(243)][t(348)]=e.ts}}}else{let s=this[t(213)];if(e<-this[t(243)]._opt[t(371)]){const i=Math[t(402)](e),r=.1,n=.5*this[t(201)],o=this[t(243)][t(217)].syncAudioAndVideoDiff,a=1e3;let h=r+(n-r)*Math[t(197)](Math[t(241)]((i-o)/(a-o),0),1);s=parseFloat(this.defaultPlaybackRate+h)[t(244)](1)}else if(e>-this[t(243)][t(217)][t(371)]&&e<this[t(243)][t(217)].syncAudioAndVideoDiff){const i=this[t(243)][t(217)].syncAudioAndVideoDiff/2;if(e>-i&&e<i)s=this[t(201)];else{const i=e-0,r=this.player[t(217)][t(371)],n=.1*Math[t(195)](i/r*Math.PI/2);s=Number((this.defaultPlaybackRate-n)[t(244)](1)),Math[t(402)](this[t(213)]-s)<.1&&(s=this[t(213)])}}else if(e>this[t(243)][t(217)][t(371)]){const i=Math[t(402)](e),r=.1,n=.5*this[t(201)],o=this[t(243)]._opt[t(371)],a=1e3;let h=r+(n-r)*Math[t(197)](Math[t(241)]((i-o)/(a-o),0),1);s=parseFloat(this[t(201)]-h)[t(244)](1);const l=.5*this[t(201)];s=Math[t(241)](s,l)}this[t(211)](s)}}[ca(301)](){const t=ca;if(this[t(329)]||!this[t(210)])return;let e=this[t(213)],s=1e3,i=5e3;this[t(333)]&&(s=this[t(243)][t(217)][t(204)],i=this.player[t(217)][t(395)]);const r=Math[t(209)](s/this[t(212)]),n=Math[t(209)](i/this.oneBufferDuration);if(this[t(393)][t(312)]>n)return this[t(243)][t(254)](this[t(313)],t(256)+this[t(393)][t(312)]+" > "+n+t(251)),void this.clear();if(this[t(327)])return;const o=r/2,a=2*r,h=this[t(393)][t(312)];if(h>o){const s=(h-o)/(a-o),i=.1,r=.3,n=Math[t(197)](Math[t(241)](s,0),1),l=i+(r-i)*(1-Math[t(351)](1-n,2));e=Number((this[t(201)]+l).toFixed(1))}else if(e!==this[t(201)]){const s=.1*(h/o);e=Number((this.defaultPlaybackRate+s).toFixed(1)),Math[t(402)](e-this[t(201)])<.1&&(e=this[t(201)])}this[t(211)](e)}[ca(211)](t){const e=ca;if(this[e(203)]&&this[e(213)]!==t){const s=Date.now();if(s-this[e(396)]<this[e(328)])return;Math[e(402)](this.playbackRate-t)>=.2&&this[e(243)][e(254)](this[e(313)],e(360)+t),this.playbackRate=t,this.rateProcessor[e(349)](this[e(213)]),this[e(396)]=s}}_provide(t){const e=ca;return this[e(203)][e(280)](t)}[ca(266)](){return this[ca(393)].map((t=>t.ts))}}const fa=ga;function ma(){const t=["destination","777405YTWiBP","112706gaFGsm","disconnect","player","encType","mute","audioContext","encTypeCode","AudioContext","depth","audioEnabled","setRate","90wgubaU","hlsUseCanvasRender","_prevVolume","780964nAsdoy","initScriptNode","audioTimestamp","hlsDecoder","debugLog","getAudioBufferSize","12CEybox","aliyunRtcDecoder","destroy","3cqLkfb","sampleRate","close","3048793YpiPvx","debugWarn","isWasmPlayAudioUseVideoRender","TAG_NAME","$videoElement","webkitAudioContext","play","debugError","webrtcUseCanvasRender","resume","play audio error","off","volume","isMute","743576dBKWil","init","audioInfo","setVolume","getAudioInfo","$video","initScriptNodeDelay","emit","stringify","write","video","Audio","aliyunRtcRemoteStream","Video","channels","40NkpjLQ","24dlwNOt","audio","111834lyCPxr","volumechange","isOldHls","muted","_opt","22897VLMPup"];return(ma=function(){return t})()}function ga(t,e){const s=ma();return(ga=function(t,e){return s[t-=460]})(t,e)}!function(t,e){const s=ga,i=t();for(;;)try{if(271685===-parseInt(s(492))/1+parseInt(s(506))/2*(-parseInt(s(515))/3)+-parseInt(s(466))/4+-parseInt(s(491))/5*(-parseInt(s(512))/6)+-parseInt(s(489))/7*(parseInt(s(481))/8)+parseInt(s(484))/9*(parseInt(s(503))/10)+-parseInt(s(518))/11*(-parseInt(s(482))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ma);class ya extends h{constructor(t){const e=ga;super(),this[e(494)]=t,this[e(521)]="Audio",this[e(471)]=t[e(476)].$videoElement,this.player[e(486)]()&&this.player._opt[e(504)]&&(this[e(471)]=this[e(494)][e(509)][e(522)]),this[e(494)].isWebrtcH264()&&this[e(494)][e(488)][e(460)]&&(this[e(471)]=this[e(494)].webrtc[e(522)]),this.resetInit(),this[e(505)]=null,this[e(497)]=null,this[e(494)][e(520)]()&&(this[e(497)]=new(window[e(499)]||window[e(523)])({sampleRate:Zt})),this.player[e(510)]("Audio",e(467))}async[fa(514)](){const t=fa;return this.resetInit(),this.audioInfo=null,this[t(463)](),this[t(497)]&&(this[t(497)][t(490)]&&this.audioContext.destination[t(493)](),await this[t(497)][t(517)](),this[t(497)]=null),this[t(471)]=null,this[t(505)]=null,this.player[t(510)](t(477),"destroy"),!0}resetInit(){const t=fa;this[t(467)]=!1,this[t(468)]={encTypeCode:"",encType:"",channels:"",sampleRate:"",depth:""}}[fa(470)](){return this.audioInfo}updateAudioInfo(t){const e=fa;t.encTypeCode&&(this[e(468)][e(498)]=t.encTypeCode,this[e(468)][e(495)]=it[t[e(498)]]),t[e(495)]&&(this[e(468)][e(495)]=t[e(495)]),t[e(480)]&&(this.audioInfo[e(480)]=t[e(480)]),t[e(516)]&&(this[e(468)][e(516)]=t[e(516)]),t[e(500)]&&(this.audioInfo[e(500)]=t.depth),this[e(468)][e(516)]&&this[e(468)].channels&&this.audioInfo.encType&&!this[e(467)]&&(this[e(494)][e(510)](e(477),"audioInfo",JSON[e(474)](this[e(468)])),this[e(494)][e(473)](H[e(468)],this[e(468)]),this[e(467)]=!0)}get isPlaying(){return!0}get[fa(464)](){const t=fa;return Di(this[t(471)].muted)?0:this.$video[t(464)]}get[fa(465)](){const t=fa;return 0===this.$video[t(464)]||Di(this[t(471)][t(487)])}mute(t){this[fa(469)](t?0:this.player.lastVolume||.5)}[fa(469)](t){const e=fa;t=parseFloat(t),isNaN(t)||(this[e(471)][e(487)]&&(this[e(471)][e(487)]=!1),t=rs(t,0,1),vs()&&(this[e(471)][e(487)]=0===t),this.player.isAliyunRtc()&&this[e(494)][e(513)]&&this[e(494)][e(513)][e(478)]&&(this.player[e(513)][e(478)].muted=0===t),null!==this[e(505)]&&this._prevVolume===t||(null===this[e(505)]?this[e(494)][e(473)](H[e(496)],0===t):0===this._prevVolume&&t>0?this[e(494)][e(473)](H.mute,!1):this._prevVolume>0&&0===t&&this[e(494)][e(473)](H.mute,!0),this[e(471)][e(464)]=t,this[e(494)][e(473)](H[e(485)],this[e(494)].volume),this.player[e(473)](H[e(464)],this[e(494)][e(464)]),this._prevVolume=t))}clear(){}[fa(524)](t,e){const s=fa,i=this[s(494)].video.awriter;if(i)if(t.close)try{i[s(475)](t),Ai(t)}catch(t){this[s(494)][s(525)](s(479),s(462),t)}else try{this[s(494)][s(508)]=e;const r=function(t,e,s){const i=$e,r={...e,format:"f32-planar"};r[i(561)]=t[0][i(550)];const n=s[i(371)](r[i(278)],r.numberOfFrames,r[i(530)]);for(let e=0;e<t[i(550)];e++){var o=new Float32Array(t[e]);n[i(245)](o,e,0)}const a=new Float32Array(r.numberOfFrames*t.length);for(let e=0;e<t[i(550)];e++)a[i(463)](t[e],e*r[i(561)]);return r[i(230)]=a,new AudioData(r)}(t,{sampleRate:Zt,numberOfChannels:this[s(468)][s(480)],timestamp:1e3*e},this[s(497)]);i[s(475)](r),Ai(r)}catch(t){this.player[s(525)](s(479),s(462),t)}else this[s(494)][s(519)](s(477),"play and this.awriter is null")}pause(){}[fa(461)](){}getEngineType(){return fa(483)}isPlaybackRateSpeed(){return!1}[fa(502)](t){}[fa(507)](){}[fa(472)](){}[fa(501)](){this[fa(496)](!1)}[fa(511)](){return 2048}getAudioContextSampleRate(){const t=fa;return this[t(497)]&&this[t(497)][t(516)]||Zt}}function Aa(){const t=["pause",", and bufferList is ","50216naPhEC","isPlaybackPauseClearCache","defaultPlaybackRate","105zhojnc","10GewpyR","playbackPause","bind","slice","isPlayVod","listenPlayVodPause","destroy","bound","_opt","playVodSeekEnd","player","176614MqiPwU","isPlayback","949023xMzclP","init","listenSeekEnd","5ChNrLB","audioTimestamp","listenSeekEnd and clear bufferList"," and last time is ","TAG_NAME","initScriptNode","findIndex","listenPlaybackPause","AudioPlayVodLoader","1016376fucedi","playVodPause","listenSeekEnd and clear bufferList from index ","260244kLWJLu","setRate","bufferList","resume","audioPlayVodSeekingLock","listenSeekEnd and update audioTimestamp to","rateProcessor","debugLog","play","initScriptNodeDelay","playbackDelayTime","updatePlaybackRate","clear","48222pAXPqz","delayTimeout","8025246Xmnuqy"];return(Aa=function(){return t})()}const va=ba;function ba(t,e){const s=Aa();return(ba=function(t,e){return s[t-=303]})(t,e)}!function(t,e){const s=ba,i=t();for(;;)try{if(605258===-parseInt(s(352))/1+parseInt(s(322))/2+-parseInt(s(324))/3+parseInt(s(339))/4*(parseInt(s(327))/5)+-parseInt(s(336))/6+parseInt(s(310))/7*(parseInt(s(307))/8)+parseInt(s(304))/9*(parseInt(s(311))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Aa);class Sa extends pa{constructor(t){const e=ba;super(t),this[e(303)]=null,this[e(331)]=this.player[e(323)]()?"AudioPlaybackLoader":e(335),this[e(321)][e(323)]()?(this[e(318)][e(334)]=this[e(334)][e(313)](this),this[e(321)].on(H[e(312)],this[e(318)][e(334)])):this[e(321)][e(315)]()&&(this[e(318)][e(316)]=this.listenPlayVodPause[e(313)](this),this[e(318)][e(326)]=this[e(326)][e(313)](this),this[e(321)].on(H[e(337)],this[e(318)][e(316)]),this.player.on(H[e(320)],this[e(318)][e(326)])),this.player[e(346)](this[e(331)],e(325))}async[va(317)](){const t=va;return this[t(303)]&&(clearTimeout(this[t(303)]),this[t(303)]=null),await super[t(317)](),!0}listenPlaybackPause(t){const e=va;t?(this[e(305)](),this[e(321)][e(323)]()&&this[e(321)].playback[e(308)]&&this.clear()):this[e(342)]()}listenPlayVodPause(t){const e=va;t?this[e(305)]():this[e(342)]()}listenSeekEnd(t){const e=va;t*=1e3,this.player.debugLog(this[e(331)],e(344),t),this.player[e(328)]=t,this[e(343)]=!0;const s=this[e(341)][e(333)]((e=>e.ts>=t));s>-1?(this[e(321)].debugLog(this[e(331)],e(338)+s+e(306)+this.bufferList.length+e(330)+this.bufferList[s].ts),this[e(341)]=this[e(341)][e(314)](s)):(this.player[e(346)](this[e(331)],e(329)),this[e(351)]())}[va(348)](){const t=va,e=this.player[t(319)][t(349)];e>0?this[t(303)]=setTimeout((()=>{this[t(332)]()}),e):this[t(332)]()}[va(340)](t){const e=va;t!==this[e(309)]&&this[e(345)]&&(this.player[e(346)](this[e(331)],"setRate",t),this[e(309)]=t,this[e(350)](t))}[va(347)](t,e){super[va(347)](t,e)}}function wa(t,e){var s=Ta();return(wa=function(t,e){return s[t-=289]})(t,e)}var Ea=wa;function Ta(){var t=["resume","1617260HjwQQd","play","playing","953160lXtNPj","AudioPlayerLoader","5478147kJyjFH","player","pause","TAG_NAME","169691gTWtMX","clear","destroy","365952dcCgUc","4giumhT","1673058xPKUao","debugLog","2gSsGzr","748762PZnNUV"];return(Ta=function(){return t})()}!function(t,e){for(var s=wa,i=t();;)try{if(184792===-parseInt(s(304))/1*(parseInt(s(292))/2)+parseInt(s(307))/3+-parseInt(s(289))/4*(parseInt(s(295))/5)+-parseInt(s(290))/6+parseInt(s(293))/7+parseInt(s(298))/8+parseInt(s(300))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ta);class Ia extends pa{constructor(t){var e=wa;super(t),this[e(303)]=e(299),this.isAudioPlayer=!0,this.player.debugLog(this.TAG_NAME,"init")}async[Ea(306)](){var t=Ea;return await super[t(306)](),!0}[Ea(296)](t,e){Ri(this[Ea(297)])||super.play(t,e)}[Ea(302)](){var t=Ea;this[t(301)][t(291)](this[t(303)],t(302)),this[t(297)]=!1,this[t(305)]()}resume(){var t=Ea;this[t(301)][t(291)](this.TAG_NAME,t(294)),this[t(297)]=!0}}const ka=Ca;!function(t,e){const s=Ca,i=t();for(;;)try{if(670362===-parseInt(s(251))/1*(-parseInt(s(280))/2)+-parseInt(s(263))/3+parseInt(s(248))/4*(-parseInt(s(274))/5)+parseInt(s(234))/6*(-parseInt(s(258))/7)+parseInt(s(253))/8+parseInt(s(267))/9*(-parseInt(s(250))/10)+parseInt(s(265))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Da);class _a extends h{constructor(t){const e=Ca;super(),this.TAG_NAME=e(242),this[e(278)]=new Audio,this[e(240)]=t,this.resetInit(),this._prevVolume=null,this[e(256)]=[],this[e(239)]=this[e(266)][e(277)](this),this[e(262)](),this[e(240)][e(264)](this[e(244)],e(260))}async[ka(243)](){const t=ka;return this[t(245)](),this[t(257)](),this[t(256)][t(235)]&&(this[t(256)][t(249)]((t=>t())),this[t(256)]=[]),this[t(275)]=null,this[t(278)]&&(this[t(278)][t(276)](),this.$video[t(237)]=null,this[t(278)]=null),this[t(239)]=null,this[t(240)][t(264)](this[t(244)],t(243)),!0}[ka(262)](){const t=ka,{proxy:e}=this[t(240)][t(238)],s=e(this.$video,t(269),(e=>{const s=t,i=parseInt(e[s(230)],10);this[s(240)][s(233)]({ts:i}),this[s(240)].handleRender()}));this[t(256)][t(268)](s)}resetInit(){this[ka(260)]=!1}[ka(266)](){const t=ka;this.$video&&(this[t(278)].play(),document[t(254)]("click",this[t(239)]))}[ka(261)](t){const e=ka;this[e(278)][e(237)]=t,this[e(278)][e(259)]=1,this[e(278)][e(272)]().catch((t=>{const s=e;this[s(240)][s(241)](this[s(244)],"audio play error",t),document[s(232)](s(252),this._boundHandleClickPlay)}))}[ka(273)](){return ka(246)}get isPlaying(){return!0}get[ka(259)](){const t=ka;return Di(this.$video[t(231)])?0:this[t(278)][t(259)]}get[ka(255)](){const t=ka;return 0===this[t(278)].volume||Di(this[t(278)][t(231)])}[ka(236)](t){this.setVolume(t?0:this.player.lastVolume||.5)}[ka(271)](t){const e=ka;t=parseFloat(t),isNaN(t)||null===this[e(278)]||(this[e(278)].muted&&(this[e(278)][e(231)]=!1),t=rs(t,0,1),vs()&&(this[e(278)][e(231)]=0===t),null!==this[e(275)]&&this[e(275)]===t||(null===this._prevVolume?this[e(240)][e(247)](H[e(236)],0===t):0===this._prevVolume&&t>0?this[e(240)][e(247)](H[e(236)],!1):this[e(275)]>0&&0===t&&this[e(240)].emit(H.mute,!0),this[e(278)][e(259)]=t,this[e(240)][e(247)](H.volumechange,this[e(240)].volume),this[e(240)].emit(H[e(259)],this[e(240)][e(259)]),this._prevVolume=t))}pause(){}[ka(270)](){}[ka(279)](){this[ka(236)](!1)}}function Ca(t,e){const s=Da();return(Ca=function(t,e){return s[t-=230]})(t,e)}function Da(){const t=["_boundHandleClickPlay","player","debugWarn","AudioWebrtcPlayerLoader","destroy","TAG_NAME","resetInit","audio","emit","404mzBixN","forEach","1510qlkIdI","602687gqtbiw","click","9100464kGzWyY","removeEventListener","isMute","eventsDestroy","off","7ryDrsA","volume","init","bindStream","_initAudioEvents","1564266HBJvJG","debugLog","14422705SorVxu","_handleClickPlay","14589HXSnEP","push","timeupdate","resume","setVolume","play","getEngineType","64910rHKmoB","_prevVolume","pause","bind","$video","audioEnabled","2aMpWbd","timeStamp","muted","addEventListener","updateStats","1821978CRyVnS","length","mute","srcObject","events"];return(Da=function(){return t})()}function Ra(){const t=["wcsDecodeAudio","playType","46731TGpjOv","wasmPlayAudioUseVideoRender","useWasm","isWebrtc","8ZKqAOe","270pDNhud","1325695CywoVS","381014pUAKnY","useWCS","isWebrtcH265","supportHls265","146341MMVCnG","_opt","198252gLdNbb","isFmp4","useMSE","getLoaderFactory","16pFleoR","isHls","mseDecodeAudio","isAliyunRtc","playbackTF","playVodMp4UseSrc","playerAudio","58933lRSfmZ","281270OfqgPX"];return(Ra=function(){return t})()}const La=Pa;function Pa(t,e){const s=Ra();return(Pa=function(t,e){return s[t-=216]})(t,e)}!function(t,e){const s=Pa,i=t();for(;;)try{if(138054===-parseInt(s(217))/1+-parseInt(s(241))/2+-parseInt(s(234))/3*(parseInt(s(223))/4)+-parseInt(s(240))/5+-parseInt(s(219))/6+-parseInt(s(230))/7*(parseInt(s(238))/8)+-parseInt(s(239))/9*(-parseInt(s(231))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ra);class xa{constructor(t){const e=Pa;return new(xa[e(222)](t[e(218)]))(t)}static[La(222)](t){const e=La;return t[e(233)]===p.playVod&&t[e(220)]&&t[e(228)]?ya:t[e(233)]===p[e(227)]?t[e(221)]&&t[e(225)]||t[e(242)]&&t[e(232)]?ya:Sa:t[e(233)]===p.playVod?t[e(221)]&&t[e(225)]||t[e(242)]&&t.wcsDecodeAudio?ya:Sa:t[e(233)]===p[e(229)]?t[e(237)]?_a:Ia:t[e(224)]&&Ri(t[e(216)])||t[e(237)]&&Ri(t[e(243)])||t[e(221)]&&t[e(225)]||t[e(226)]||t.useWCS&&t[e(232)]||t[e(236)]&&t[e(235)]?ya:pa}}const Ma=Ba;function Ba(t,e){const s=Fa();return(Ba=function(t,e){return s[t-=451]})(t,e)}function Fa(){const t=["abortError2","writableStream.abort() and this.abortController.signal.aborted so return","streamStart","13618198oEQYoB","stopStreamRateInterval","player","_closeWritableStream","10rUGCQT","destroy","not support WritableStream and use getReader() to read stream","8606898OqJMKI","fetch","reader.read() and this.abortController.signal.aborted so return","string","streamEnd","kBps",'writableStream.write() and value is "',"abortError","fetch response status is ","streamRateInterval","FetchStream","11952XEumum","writableStream.write() and this.abortController.signal.aborted so return","writableStream","268562sBPRui","name","emit","abortController.abort() success","_isDestroyed","5089217PHhfgi","length","TAG_NAME","isDestroyedOrClosed","buffering","playing","catch","writableStream.write() and this._requestAbort is true so return","body","debugWarn","dispatch","use WritableStream() to read stream","abortController","assign","_status","isCheckStreamEnd","getStreamBufferByteLength","emitError","indexOf","fetchError","aborted","debugLog",'" string so return',"streamRate","signal","off","cancel","1948CYrOlR","startStreamRateInterval","headers","getReader","res.body.pipeTo() error","fetch done","AbortError","updateStreamEndInner","toFixed","reader.read() and this._requestAbort is true so return","441498nOEzXq","idle","abort","read","_requestAbort","4705raQscZ","debugError","27LMDMey","then","toString","status","locked","close"," and ok is ","complete","8zGcDPn"];return(Fa=function(){return t})()}!function(t,e){const s=Ba,i=t();for(;;)try{if(719700===-parseInt(s(529))/1+-parseInt(s(532))/2*(-parseInt(s(499))/3)+parseInt(s(482))/4*(parseInt(s(497))/5)+parseInt(s(492))/6+-parseInt(s(455))/7*(parseInt(s(507))/8)+parseInt(s(518))/9+-parseInt(s(515))/10*(parseInt(s(511))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Fa);class Ua extends h{constructor(t){const e=Ba;super(),this.player=t,this[e(457)]=e(528),this[e(460)]=!1,this[e(496)]=!1,this[e(469)]=Ut[e(493)],this[e(531)]=null,this[e(467)]=new AbortController,this[e(478)]=hs((s=>{const i=e;t.emit(H[i(523)],(s/1e3)[i(490)](2))})),this[e(527)]=null,this._isDestroyed=!1,t.debugLog(this[e(457)],"init")}async[Ma(516)](){const t=Ma;return this[t(454)]=!0,this[t(494)](),await this[t(514)](),this[t(480)](),this[t(469)]=Ut[t(493)],this[t(478)]=null,this.stopStreamRateInterval(),this[t(513)][t(476)](this[t(457)],t(516)),!0}[Ma(483)](){const t=Ma;this[t(512)](),this[t(527)]=setInterval((()=>{this[t(478)]&&this.streamRate(0)}),1e3)}[Ma(512)](){const t=Ma;this[t(527)]&&(clearInterval(this[t(527)]),this[t(527)]=null)}async[Ma(514)](){const t=Ma;if(this[t(531)])if(li(this.writableStream[t(504)])&&Ri(this.writableStream[t(503)]))try{await this[t(531)][t(504)](),this[t(531)]=null,this[t(513)][t(476)](this[t(457)],"close writableStream success")}catch(e){this[t(513)][t(476)](this[t(457)],"destroy and ignore writableStream.close()",e.toString())}else this[t(531)]=null}fetchStream(t){const e=Ma;let s=arguments[e(456)]>1&&void 0!==arguments[1]?arguments[1]:{};const{demux:i}=this[e(513)];this[e(513)]._times[e(510)]=is();const r=Object[e(468)]({signal:this[e(467)][e(479)]},{headers:s[e(484)]||{}});fetch(t,r)[e(500)]((t=>{const s=e;if(this._requestAbort)return this[s(469)]=Ut.idle,void t.body[s(481)]()[s(461)]((()=>{}));if(!this[s(454)]){if(!function(t){const e=$e;return t.ok&&t[e(441)]>=200&&t.status<=299}(t))return this.player[s(498)](this[s(457)],s(526)+t.status+s(505)+t.ok+" and emit error and next abort()"),this[s(494)](),void this.emit(Q[s(474)],s(526)+t[s(502)]+s(505)+t.ok);if(this[s(452)](H.streamSuccess),this.startStreamRateInterval(),typeof WritableStream!==$e(224))this[s(513)].debugLog(this.TAG_NAME,s(466)),this[s(531)]=new WritableStream({write:t=>{const e=s;if(!this._isDestroyed&&!this[e(513)][e(458)]()){if(this[e(467)]&&this[e(467)].signal&&this[e(467)][e(479)][e(475)])return this[e(513)][e(476)](this.TAG_NAME,e(530)),void(this[e(469)]=Ut[e(506)]);if(Di(this[e(496)]))return this[e(513)].debugLog(this[e(457)],e(462)),this._status=Ut[e(506)],void this[e(494)]();if(typeof t!==e(521))return this[e(469)]=Ut[e(459)],this.streamRate&&this[e(478)](8*t.byteLength),i[e(465)](t);this.player[e(464)](this[e(457)],e(524)+t+e(477))}},close:()=>{const t=s;this[t(454)]||(this._status=Ut.complete,this.player[t(470)]()?(i[t(504)](),this[t(513)].emit(H[t(522)],t(487))):this.player[t(489)]())},abort:t=>{const e=s;if(this[e(454)])return;if(this[e(467)]&&this[e(467)].signal&&this[e(467)][e(479)][e(475)])return this.player[e(476)](this[e(457)],e(509)),void(this[e(469)]=Ut[e(506)]);i.close();const r=t[e(501)]();-1===r[e(473)](wt[e(525)])&&-1===r[e(473)](wt.abortError2)&&t[e(451)]!==wt[e(494)]&&(this.abort(),this[e(513)][e(472)](Q[e(474)],t))}}),t[s(463)].pipeTo(this[s(531)])[s(461)]((t=>{const e=s;t[e(451)]!==e(488)&&this[e(513)][e(476)](this[e(457)],e(486),t.name,t[e(501)]())}));else{this[s(513)][s(476)](this[s(457)],s(517));const e=t[s(463)][s(485)](),r=()=>{const t=s;e[t(495)]()[t(500)]((e=>{const s=t;let{done:n,value:o}=e;if(!this[s(454)])return n?(this[s(469)]=Ut[s(506)],this[s(494)](),void(this[s(513)].isCheckStreamEnd()?(i[s(504)](),this[s(513)][s(452)](H.streamEnd,s(487))):this.player[s(489)]())):this.abortController&&this[s(467)][s(479)]&&this.abortController[s(479)][s(475)]?(this[s(513)][s(476)](this.TAG_NAME,s(520)),void(this[s(469)]=Ut[s(506)])):Di(this[s(496)])?(this.player[s(476)](this[s(457)],s(491)),this[s(469)]=Ut.complete,void this.abort()):void(typeof o!==s(521)?(this._status=Ut[s(459)],this.streamRate&&this[s(478)](8*o.byteLength),i[s(465)](o),r()):this[s(513)][s(464)](this.TAG_NAME,'reader.read() and value is "'+o+s(477)))}))[t(461)]((e=>{const s=t;if(this[s(467)]&&this.abortController.signal&&this[s(467)][s(479)][s(475)])return this[s(513)].debugLog(this[s(457)],"reader.read().catch() and this.abortController.signal.aborted so return"),void(this[s(469)]=Ut[s(506)]);i[s(504)]();const r=e[s(501)]();-1===r.indexOf(wt.abortError)&&-1===r[s(473)](wt[s(508)])&&e[s(451)]!==wt[s(494)]&&(this.abort(),this.player[s(472)](Q[s(474)],e))}))};r()}}})).catch((t=>{const s=e;this[s(467)]&&this[s(467)][s(479)]&&this[s(467)][s(479)][s(475)]||t.name!==s(488)&&(i[s(504)](),this[s(494)](),this[s(452)](Q[s(474)],t[s(501)]()))}))}[Ma(494)](){const t=Ma;if(this[t(496)]=!0,this[t(467)])try{this[t(467)].abort(),this[t(467)]=null,this[t(513)][t(476)](this[t(457)],t(453))}catch(e){this[t(467)]=null,this[t(513)][t(476)](this.TAG_NAME,"abortController.abort() error",e)}}getStreamType(){return u[Ma(519)]}[Ma(471)](){return 0}}function Oa(){function t(t){return!0===t||"true"===t}const e="The user aborted a request",s="AbortError",i="AbortError",r="fetch",n="destroy",o="destroyEnd",a="buffer",h="fetchError",l="fetchErrorWorker",c="fetchClose",d="fetchSuccess",u="init",p="bufferByteLength",f="idle",m="buffering",g="complete";let y=new class{constructor(){this.TAG_NAME="FetchWorker",this._requestAbort=!1,this._status=f,this.writableStream=null,this.isChrome=!1,this.abortController=new AbortController,this.debug=!1,this.debugLevel="warn",this.debugUuid=null,this.messageQueue=[],this.processInterval=null,this.prevEmitTimestamp=null,this.currentBuffer=null}destroy(){var t;this.abort(),this.writableStream&&("function"==typeof this.writableStream.close&&(!1===(t=this.writableStream.locked)||"false"===t)?this.writableStream.close().catch((t=>{})).finally((()=>{this.writableStream=null})):this.writableStream=null),this._status=f}fetchStream(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Object.assign({signal:this.abortController.signal},{headers:n.headers||{}});fetch(r,o).then((r=>{if(this._requestAbort)return this._status=f,void r.body.cancel();if(!function(t){return t.ok&&t.status>=200&&t.status<=299}(r))return this.abort(),void postMessage({cmd:h,message:`fetch response status is ${r.status} and ok is ${r.ok}`});const n=r.headers.get("content-length");if(postMessage({cmd:d,value:n}),"undefined"!=typeof WritableStream)this.debugLog(this.TAG_NAME,"use WritableStream() to read stream"),this.writableStream=new WritableStream({write:e=>this.abortController&&this.abortController.signal&&this.abortController.signal.aborted?(this.debugLog(this.TAG_NAME,"writableStream.write() and this.abortController.signal.aborted so return"),void(this._status=g)):t(this._requestAbort)?(this.debugLog(this.TAG_NAME,"writableStream.write() and this._requestAbort is true so return"),this._status=g,void this.abort()):void("string"!=typeof e?(this._status=m,this.messageQueue.push(e),this.processInterval||this._startMessageProcessor()):this.debugWarn(this.TAG_NAME,`writableStream.write() and value is "${e}" string so return`)),close:()=>{this._status=g,postMessage({cmd:c})},abort:t=>{if(this.abortController&&this.abortController.signal&&this.abortController.signal.aborted)return this.debugLog(this.TAG_NAME,"writableStream.abort() and this.abortController.signal.aborted so return"),void(this._status=g);const r=t.toString();-1===r.indexOf(e)&&-1===r.indexOf(s)&&t.name!==i&&(this.abort(),postMessage({cmd:l,message:t.toString()}))}}),r.body.pipeTo(this.writableStream).catch((t=>{"AbortError"!==t.name&&this.debugLog(this.TAG_NAME,"res.body.pipeTo() error",t.name,t.toString())}));else{const n=r.body.getReader(),o=()=>{n.read().then((e=>{let{done:s,value:i}=e;return s?(this._status=g,void postMessage({cmd:c})):this.abortController&&this.abortController.signal&&this.abortController.signal.aborted?(this.debugLog(this.TAG_NAME,"reader.read() and this.abortController.signal.aborted so return"),void(this._status=g)):t(this._requestAbort)?(this.debugLog(this.TAG_NAME,"reader.read() and this._requestAbort is true so return"),this._status=g,void this.abort()):void("string"!=typeof i?(this._status=m,this.messageQueue.push(i),this.processInterval||this._startMessageProcessor(),o()):this.debugWarn(this.TAG_NAME,`reader.read() and value is "${i}" string so return`))})).catch((t=>{if(this.abortController&&this.abortController.signal&&this.abortController.signal.aborted)return this.debugLog(this.TAG_NAME,"reader.read().catch() and this.abortController.signal.aborted so return"),void(this._status=g);const r=t.toString();-1===r.indexOf(e)&&-1===r.indexOf(s)&&t.name!==i&&(this.abort(),postMessage({cmd:l,message:t.toString()}))}))};o()}})).catch((t=>{this.abortController&&this.abortController.signal&&this.abortController.signal.aborted||"AbortError"!==t.name&&(this.abort(),postMessage({cmd:h,message:t.toString()}))}))}abort(){if(this._requestAbort=!0,this.abortController)try{this.abortController.abort(),this.abortController=null,this.debugLog(this.TAG_NAME,"abortController.abort() success")}catch(t){this.abortController=null,this.player.debugLog(this.TAG_NAME,"abortController.abort() error",t,t.toString())}}_startMessageProcessor(){this.processInterval||(this.processInterval=setInterval((()=>{this._processMessageQueue$2();const t=Date.now();null===this.prevEmitTimestamp&&(this.prevEmitTimestamp=t),t-this.prevEmitTimestamp>=1e3&&(this.prevEmitTimestamp=t,postMessage({cmd:p,value:this._getBufferLength()}))}),10))}_getBufferLength(){let t=0;for(let e=0;e<this.messageQueue.length;e++)t+=this.messageQueue[e].byteLength||0;return this.currentBuffer&&(t+=this.currentBuffer.byteLength||0),t}_processMessageQueue$2(){for(;this.messageQueue.length;){const t=this.messageQueue.shift(),e=new Uint8Array(t);postMessage({cmd:a,buffer:e},[e.buffer])}}debugLog(t){if(this.debug&&"debug"==this.debugLevel){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.debug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[❗❗❗][${t}]`,...s)}}debugError(t){const e=this.debugUuid?`[${this.debugUuid}]`:"";for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];console.error(`JbPro${e}[❌❌❌][${t}]`,...i)}};self.onmessage=e=>{const s=e.data;switch(s.cmd){case u:y.debug=t(s.debug),y.debugLevel=s.debugLevel,y.debugUuid=s.debugUuid;break;case r:y.isChrome=t(s.isChrome),y.fetchStream(s.url,JSON.parse(s.options));break;case n:y.destroy(),y=null,postMessage({cmd:o})}}}const Na=ja;function ja(t,e){const s=Va();return(ja=function(t,e){return s[t-=210]})(t,e)}function Va(){const t=["destroy","decoderWorkerCloseTimeout","5870eAbNOE","tempStreamBufferByteLength","2wufLsD","terminate","kBps","debugWarn","77uyXnDK","destroyResolve","send close but not response and destroy directly","emit","send destroy","streamRate","2668248YYgqPD","_isDestroyed","13136shgQIq","1973049HplKZx","216NSqHMG","FetchStreamWorker","551356tvMqyK","_destroy","player","init","1044440aMqJBY","workerClearTimeout","TAG_NAME","workerUrl","681408gkSYIG","fetchWorker","URL","_initFetchWorker","debugLog","onmessage"];return(Va=function(){return t})()}!function(t,e){const s=ja,i=t();for(;;)try{if(391107===parseInt(s(234))/1+-parseInt(s(218))/2*(parseInt(s(231))/3)+-parseInt(s(232))/4*(-parseInt(s(216))/5)+parseInt(s(228))/6+-parseInt(s(222))/7*(-parseInt(s(230))/8)+parseInt(s(242))/9+-parseInt(s(238))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Va);class Wa extends h{constructor(t){const e=ja;super(),this[e(240)]=e(233),this.player=t,this.playing=!1,this[e(243)]=null,this.workerClearTimeout=null,this.workerUrl=null,this[e(223)]=null,this[e(215)]=null,this[e(217)]=0,this.streamRate=hs((s=>{const i=e;t[i(225)](H[i(220)],(s/1e3).toFixed(2))})),this.streamRateInterval=null,this[e(211)](),this._isDestroyed=!1,t[e(212)](this.TAG_NAME,e(237))}destroy(){return new Promise(((t,e)=>{const s=ja;this.fetchWorker?(this[s(236)].debugLog(this[s(240)],s(226)),this.fetchWorker.postMessage({cmd:G[s(214)]}),this[s(223)]=t,this[s(215)]=setTimeout((()=>{const t=s;this[t(215)]=null,this[t(229)]||(this[t(236)][t(221)](this[t(240)],t(224)),this._destroy())}),2e3)):(this[s(235)](),setTimeout((()=>{t()}),0))}))}[Na(235)](){const t=Na;this.off(),this[t(215)]&&(clearTimeout(this[t(215)]),this[t(215)]=null),this[t(241)]&&(window[t(210)].revokeObjectURL(this.workerUrl),this[t(241)]=null),this[t(239)]&&(clearTimeout(this[t(239)]),this[t(239)]=null),this._stopStreamRateInterval(),this[t(227)]=null,this[t(243)]&&(this[t(243)][t(213)]=null,this[t(243)][t(219)](),this.fetchWorker=null),this[t(217)]=0,this[t(236)][t(212)](this[t(240)],t(214)),this._isDestroyed=!0,this[t(223)]&&(this.destroyResolve(),this[t(223)]=null)}[Na(211)](){let t=gi(Oa);const e=new Worker(t);this.workerUrl=t,this.workerClearTimeout=setTimeout((()=>{window.URL.revokeObjectURL(this.workerUrl),this.workerUrl=null,this.workerClearTimeout=null}),P),e.postMessage({cmd:G.init,debug:this.player._opt.debug,debugLevel:this.player._opt.debugLevel,debugUuid:this.player._opt.debugUuid}),e.onmessage=t=>{if(this._isDestroyed)return;const{demux:e}=this.player,s=t.data;switch(s.cmd){case G.buffer:if(this.player.isDestroyedOrClosed())return;this.streamRate&&this.streamRate(8*s.buffer.byteLength),e.dispatch(s.buffer);break;case G.fetchSuccess:this.emit(H.streamSuccess),this._startStreamRateInterval();break;case G.fetchClose:this.player.isCheckStreamEnd()?(e.close(),this.player.emit(H.streamEnd,"fetch done")):this.player.updateStreamEndInner();break;case G.fetchError:e.close(),this.emit(Q.fetchError,s.message);break;case G.fetchErrorWorker:e.close(),this.player.emitError(Q.fetchError,s.message);break;case G.bufferByteLength:this.tempStreamBufferByteLength=s.value;break;case G.destroyEnd:this._destroy()}},this.fetchWorker=e}_startStreamRateInterval(){this._stopStreamRateInterval(),this.streamRateInterval=setInterval((()=>{this.streamRate&&this.streamRate(0)}),1e3)}_stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}fetchStream(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.player._times.streamStart=is(),this.fetchWorker.postMessage({cmd:G.fetch,url:t,isChrome:ii(),options:JSON.stringify(e)})}getStreamType(){return u.fetch}getStreamBufferByteLength(){return this.tempStreamBufferByteLength}}const Ga=za;function za(t,e){const s=Ha();return(za=function(t,e){return s[t-=264]})(t,e)}function Ha(){const t=["_closeWebSocket() socket is null or socket status is ","_opt","player","socketStatus","socket error","websocketError","onopen","streamRate","1445016bGLACc","message","emitError","streamSuccess","websocket error","onmessage","byteLength","s and status is ","readyState","socket open","sendMessage","data","open","websocket send message error and  socket status is ","_isDestroyed","wsUrl","error","dispatch","socket close and status is error, emit error and return","websocket Open Timeout form ","TAG_NAME","socket close and code is ",", and reason is ","socket","159332DjQUdf","Client disconnecting","wsErrorMsg","socketDestroyFnList","kBps","_closeWebSocket","debugError","websocket","fetchStream","code",", and wasClean is ","socket error:","protocols","websocket handle message demux is null so return","isDestroyedOrClosed","websocketStringMsg","getStreamType","requestAbort","notConnect","1041096BqbcUe","_stopCheckWsOpenTimeout","3216423wISdHz","_startStreamRateInterval","_startCheckWsOpenTimeout","socket close abnormally and code is ","updateStreamEndInner","getStreamBufferByteLength","socket close and requestAbort is true, so return","streamEnd","code is ","streamStart","off","5051890GbciZV","length","toFixed","wasClean","init","_createWebSocket","send","close","isCheckStreamEnd","websocketClose","_handleMessage","checkWsOpenTimeout","reason","binaryType","81smsTFg","_stopStreamRateInterval","debugLog","websocketFirstMsg","emit","WebsocketStream","websocketOpenTimeout","875928fOvCKf","debugWarn","streamRateInterval","2673240WvmlOo","7xqBbfa"];return(Ha=function(){return t})()}!function(t,e){const s=za,i=t();for(;;)try{if(626806===parseInt(s(341))/1+-parseInt(s(304))/2+-parseInt(s(272))/3+-parseInt(s(270))/4+-parseInt(s(283))/5+-parseInt(s(317))/6*(-parseInt(s(308))/7)+-parseInt(s(307))/8*(-parseInt(s(297))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ha);class Ka extends h{constructor(t){const e=za;super(),this.player=t,this[e(337)]=e(302),this[e(340)]=null,this[e(312)]=Y[e(269)],this[e(332)]=null,this[e(268)]=!1,this.socketDestroyFnList=[],this[e(316)]=hs((s=>{const i=e;t[i(301)](H[i(345)],(s/1e3)[i(285)](2))})),this[e(306)]=null,this[e(294)]=null,this[e(343)]="",this._isDestroyed=!1,t[e(299)](this[e(337)],e(287))}async destroy(){const t=za;this._isDestroyed=!0,this._closeWebSocket(),this[t(298)](),this[t(271)](),this[t(332)]=null,this[t(343)]="",this[t(282)](),this.player[t(299)](this.TAG_NAME,"destroy")}[Ga(273)](){const t=Ga;this._stopStreamRateInterval(),this[t(306)]=setInterval((()=>{const e=t;this[e(316)]&&this[e(316)](0)}),1e3)}[Ga(298)](){const t=Ga;this[t(306)]&&(clearInterval(this[t(306)]),this.streamRateInterval=null)}[Ga(274)](){const t=Ga;this[t(271)](),this[t(294)]=setTimeout((()=>{const e=t;if(this[e(312)]===Y[e(269)]){const t=e(336)+this[e(311)][e(310)][e(303)]+e(324)+this[e(312)];this[e(311)][e(347)](this[e(337)],t),this.emit(Q[e(303)],t)}}),1e3*this[t(311)][t(310)][t(303)])}_stopCheckWsOpenTimeout(){const t=Ga;this[t(294)]&&(clearTimeout(this.checkWsOpenTimeout),this[t(294)]=null)}[Ga(288)](){const t=Ga;let e=arguments[t(284)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=this[t(311)],{events:{proxy:i},demux:r}=s,n=e[t(353)]||[];this.socket=new WebSocket(this[t(332)],n),this[t(340)][t(296)]="arraybuffer";const o=i(this[t(340)],t(329),(()=>{const s=t;this[s(331)]||(this.player.debugLog(this[s(337)],s(326)),this[s(271)](),this[s(312)]=Y[s(329)],this[s(301)](H[s(320)]),this[s(311)][s(301)](H.websocketOpen),this[s(273)](),e.websocketFirstMessage&&this[s(327)](e[s(300)]))})),a=i(this[t(340)],"message",(e=>{const s=t;this._isDestroyed||this[s(311)][s(265)]()||("string"!=typeof e.data?(this.streamRate&&this[s(316)](8*e[s(328)][s(323)]),this[s(293)](e[s(328)])):this[s(311)][s(301)](H[s(266)],e[s(328)]))})),h=i(this[t(340)],t(290),(e=>{const s=t;if(this._isDestroyed)return;if(this.player[s(265)]())return;if(this[s(311)].debugLog(this[s(337)],s(338)+e.code+s(339)+e[s(295)]+s(351)+e[s(286)]),Di(this[s(268)]))return this[s(268)]=!1,void this[s(311)][s(299)](this[s(337)],s(278));if(this[s(312)]===Y[s(333)]){const t=s(280)+e[s(350)]+s(339)+e[s(295)]+s(351)+e[s(286)]+", and msg is "+this[s(343)];return this[s(311)][s(319)](Q[s(314)],t),void this[s(311)][s(299)](this[s(337)],s(335))}let i=!1;1006===e[s(350)]&&(this[s(311)][s(347)](this[s(337)],s(275)+e[s(350)]),i=!0),this[s(312)]=Y.close,this[s(311)][s(291)]()||i?(r[s(290)](),this[s(311)][s(301)](H[s(292)],e[s(350)]),this[s(311)].emit(H[s(279)],e.code)):this.player[s(276)]()})),l=i(this[t(340)],"error",(e=>{const s=t;if(this[s(331)])return;if(this.player[s(265)]())return;if(Di(this[s(268)]))return this[s(268)]=!1,void this[s(311)].debugLog(this[s(337)],"socket error and requestAbort is true");this[s(311)].debugError(this[s(337)],s(313),e[s(318)]),this[s(312)]=Y[s(333)];const i=e[s(318)]||s(321);this[s(343)]=i,r[s(290)](),this[s(311)].debugLog(this[s(337)],s(352),i)}));this[t(344)].push(o,a,h,l)}[Ga(346)](){const t=Ga;!this[t(340)]||0!==this[t(340)][t(325)]&&1!==this[t(340)].readyState?this[t(340)]&&this[t(311)][t(299)](this[t(337)],t(309)+(this[t(340)]&&this.socket[t(325)])):(this[t(268)]=!0,this.socket.close(1e3,t(342))),this[t(344)].length&&(this[t(344)].forEach((t=>t())),this.socketDestroyFnList=[]),this[t(340)][t(315)]=null,this.socket[t(322)]=null,this[t(340)].onclose=null,this.socket.onerror=null,this[t(340)]=null,this[t(312)]=Y.notConnect,this[t(316)]=null}[Ga(293)](t){const e=Ga,{demux:s}=this[e(311)];s?s[e(334)](t):this[e(311)][e(305)](this[e(337)],e(264))}[Ga(349)](t,e){const s=Ga;this[s(311)]._times[s(281)]=is(),this.wsUrl=t,this[s(288)](e)}[Ga(327)](t){const e=Ga;this[e(340)]?this[e(312)]===Y[e(329)]?(this[e(311)][e(299)](this.TAG_NAME,"websocket send message is",t),this.socket[e(289)](t)):this[e(311)][e(347)](this[e(337)],e(330)+this[e(312)]):this[e(311)][e(347)](this[e(337)],"websocket send message socket is null")}[Ga(267)](){return u[Ga(348)]}[Ga(277)](){return 0}}function qa(){function t(t){return!0===t||"true"===t}const e="fetch",s="sendMessage",i="destroy",r="destroyEnd",n="buffer",o="websocketError",a="websocketClose",h="websocketOpen",l="websocketStringMsg",c="init",d="bufferByteLength";let u=new class{constructor(){this.TAG_NAME="WebsocketWorker",this.socket=null,this.wsUrl=null,this.requestAbort=!1,this.options={},this.debug=!1,this.debugLevel="warn",this.debugUuid=null,this.messageQueue=[],this.processInterval=null,this.MAX_CHUNK_SIZE=32768,this.currentBuffer=null,this.prevEmitTimestamp=null}destroy(){this._stopMessageProcessor(),!this.socket||0!==this.socket.readyState&&1!==this.socket.readyState||(this.requestAbort=!0,this.socket.close(1e3,"Client disconnecting")),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket=null}fetchStream(t,e){this.wsUrl=t,this.options=e||{},this._createWebSocket(e)}sendMessage(t){this.socket?1===this.socket.readyState?(this.debugLog(this.TAG_NAME,"send message",t),this.socket.send(t)):this.debugError(this.TAG_NAME,`send message error and  socket status is ${this.socket.readyState}`):this.debugError(this.TAG_NAME,"send message socket is null")}_createWebSocket(t){const e=t.protocols||[];this.socket=new WebSocket(this.wsUrl,e),this.socket.binaryType="arraybuffer",this.socket.onopen=this._handleWebsocketOpen.bind(this),this.socket.onclose=this._handleWebsocketClose.bind(this),this.socket.onerror=this._handleWebsocketError.bind(this),this.socket.onmessage=this._handleWebsocketMessage.bind(this)}_handleWebsocketOpen(){postMessage({cmd:h}),this.options&&this.options.websocketFirstMessage&&(this.debugLog(this.TAG_NAME,"send first message",this.options.websocketFirstMessage),this.sendMessage(this.options.websocketFirstMessage))}_handleWebsocketClose(e){if(t(this.requestAbort))return this.requestAbort=!1,void this.debugLog(this.TAG_NAME,"socket close and requestAbort is true, so return");postMessage({cmd:a,code:e.code,reason:e.reason,wasClean:e.wasClean})}_handleWebsocketError(e){t(this.requestAbort)?this.requestAbort=!1:postMessage({cmd:o,message:e.message})}_handleWebsocketMessage(t){this.messageQueue.push(t.data),this.processInterval||this._startMessageProcessor()}_startMessageProcessor(){this.processInterval||(this.processInterval=setInterval((()=>{this._processMessageQueue$2();const t=Date.now();null===this.prevEmitTimestamp&&(this.prevEmitTimestamp=t),t-this.prevEmitTimestamp>=1e3&&(this.prevEmitTimestamp=t,postMessage({cmd:d,value:this._getBufferLength()}))}),10))}_getBufferLength(){let t=0;for(let e=0;e<this.messageQueue.length;e++)t+=this.messageQueue[e].byteLength||0;return this.currentBuffer&&(t+=this.currentBuffer.byteLength||0),t}_stopMessageProcessor(){this.processInterval&&(clearInterval(this.processInterval),this.processInterval=null),this.messageQueue=[],this.currentBuffer=null,this.prevEmitTimestamp=null}_processMessageQueue(){try{let t=0;if(this.currentBuffer){if(!(this.currentBuffer.byteLength<=this.MAX_CHUNK_SIZE)){const t=this.currentBuffer.slice(0,this.MAX_CHUNK_SIZE);return this._handleMessage(t),void(this.currentBuffer=this.currentBuffer.slice(this.MAX_CHUNK_SIZE))}this._handleMessage(this.currentBuffer),t+=this.currentBuffer.byteLength,this.currentBuffer=null}for(;this.messageQueue.length>0&&t<this.MAX_CHUNK_SIZE;){const e=this.messageQueue[0];if("string"==typeof e){postMessage({cmd:l,value:e}),this.messageQueue.shift();continue}const s=this.MAX_CHUNK_SIZE-t;if(!(e.byteLength<=s)){if(0===t){const t=e.slice(0,this.MAX_CHUNK_SIZE);this._handleMessage(t),this.messageQueue[0]=e.slice(this.MAX_CHUNK_SIZE)}else this.currentBuffer=e,this.messageQueue.shift();break}this._handleMessage(e),t+=e.byteLength,this.messageQueue.shift()}}catch(t){this.debugError(this.TAG_NAME,"_processMessageQueue error:",t)}}_processMessageQueue$2(){for(;this.messageQueue.length;){const t=this.messageQueue.shift();"string"==typeof t?postMessage({cmd:l,value:t}):this._handleMessage(t)}}_handleMessage(t){const e=new Uint8Array(t);postMessage({cmd:n,buffer:e},[e.buffer])}debugLog(t){if(this.debug&&"debug"==this.debugLevel){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.debug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[❗❗❗][${t}]`,...s)}}debugError(t){const e=this.debugUuid?`[${this.debugUuid}]`:"";for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];console.error(`JbPro${e}[❌❌❌][${t}]`,...i)}};self.onmessage=n=>{const o=n.data;switch(o.cmd){case c:u.debug=t(o.debug),u.debugLevel=o.debugLevel,u.debugUuid=o.debugUuid,o.streamMaxChunkSize&&(u.MAX_CHUNK_SIZE=o.streamMaxChunkSize);break;case e:u.fetchStream(o.url,o.options);break;case i:u.destroy(),u=null,postMessage({cmd:r});break;case s:u.sendMessage(o.message)}}}const Qa=Ya;function Ya(t,e){const s=Ja();return(Ya=function(t,e){return s[t-=150]})(t,e)}function Ja(){const t=["onmessage","6815010qXCwmO","_isDestroyed","wsErrorMsg","revokeObjectURL","send destroy","2VciyBC","emit","_stopCheckWsOpenTimeout","debugLog","streamRate","4033851ReOfDA","7Mazmjh","_initWebsocketWorker","45494210ZZoWjG","decoderWorkerCloseTimeout","wsUrl","kBps","279lTqgGx","destroy","TAG_NAME","send close but not response and destroy directly","checkWsOpenTimeout","debugWarn","workerClearTimeout","destroyResolve","5576052eooMsR","_stopStreamRateInterval","player","_closeWebSocket","1052121qaAUpP","notConnect","websocketWorker","153616QVESTu","init","tempStreamBufferByteLength","4792340gXarrr","workerUrl","URL","off"];return(Ja=function(){return t})()}!function(t,e){const s=Ya,i=t();for(;;)try{if(742484===parseInt(s(156))/1+parseInt(s(172))/2*(parseInt(s(177))/3)+parseInt(s(162))/4+parseInt(s(167))/5+parseInt(s(152))/6*(parseInt(s(178))/7)+parseInt(s(159))/8*(-parseInt(s(184))/9)+-parseInt(s(180))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ja);class Xa extends h{constructor(t){const e=Ya;super(),this[e(154)]=t,this[e(186)]="WebsocketStreamWorker",this[e(182)]=null,this.socketStatus=Y[e(157)],this.websocketWorker=null,this[e(150)]=null,this[e(163)]=null,this.destroyResolve=null,this.decoderWorkerCloseTimeout=null,this[e(176)]=hs((s=>{const i=e;t[i(173)](H[i(183)],(s/1e3).toFixed(2))})),this.streamRateInterval=null,this[e(188)]=null,this[e(169)]="",this[e(161)]=0,this[e(179)](),this[e(168)]=!1,this[e(154)][e(175)](this.TAG_NAME,e(160))}destroy(){return new Promise(((t,e)=>{const s=Ya;this[s(158)]?(this[s(154)][s(175)](this[s(186)],s(171)),this[s(155)](),this[s(151)]=t,this[s(181)]=setTimeout((()=>{const t=s;this.decoderWorkerCloseTimeout=null,this[t(168)]||(this[t(154)][t(189)](this[t(186)],t(187)),this._destroy())}),2e3)):(this._destroy(),t())}))}_destroy(){const t=Ya;this[t(165)](),this[t(174)](),this[t(181)]&&(clearTimeout(this[t(181)]),this[t(181)]=null),this[t(163)]&&(window[t(164)][t(170)](this[t(163)]),this[t(163)]=null),this.workerClearTimeout&&(clearTimeout(this[t(150)]),this.workerClearTimeout=null),this[t(153)](),this.streamRate=null,this.websocketWorker&&(this[t(158)][t(166)]=null,this.websocketWorker.terminate(),this[t(158)]=null),this[t(182)]=null,this[t(169)]="",this[t(161)]=0,this[t(154)][t(175)](this[t(186)],t(185)),this[t(168)]=!0,this.destroyResolve&&(this[t(151)](),this[t(151)]=null)}[Qa(179)](){let t=gi(qa);const e=new Worker(t);this.workerUrl=t,this.workerClearTimeout=setTimeout((()=>{window.URL.revokeObjectURL(this.workerUrl),this.workerUrl=null,this.workerClearTimeout=null}),P),e.postMessage({cmd:z.init,debug:this.player._opt.debug,debugLevel:this.player._opt.debugLevel,debugUuid:this.player._opt.debugUuid,streamMaxChunkSize:this.player._opt.streamMaxChunkSize}),e.onmessage=t=>{if(this._isDestroyed)return;const{demux:e}=this.player,s=t.data;switch(s.cmd){case z.buffer:if(this.player.isDestroyedOrClosed())return;this.streamRate&&this.streamRate(8*s.buffer.byteLength),e.dispatch(s.buffer);break;case z.websocketOpen:this.player.debugLog(this.TAG_NAME,"socket open"),this._stopCheckWsOpenTimeout(),this.socketStatus=Y.open,this.emit(H.streamSuccess),this.player.emit(H.websocketOpen),this._startStreamRateInterval();break;case z.websocketClose:if(this.player.isDestroyedOrClosed())return;if(this.player.debugLog(this.TAG_NAME,`socket close and code is ${s.code}, and reason is ${s.reason}, and wasClean is ${s.wasClean}`),this.socketStatus===Y.error){const t=`code is ${s.code}, and reason is ${s.reason}, and wasClean is ${s.wasClean}, and msg is ${this.wsErrorMsg}`;return this.player.emitError(Q.websocketError,t),void this.player.debugLog(this.TAG_NAME,"socket close and status is error, emit error and return")}let t=!1;1006===s.code&&(this.player.debugError(this.TAG_NAME,`socket close abnormally and code is ${s.code}`),t=!0),this.socketStatus=Y.close,this.player.isCheckStreamEnd()||t?(e.close(),this.player.emit(H.websocketClose,s.code),this.player.emit(H.streamEnd,s.code)):this.player.updateStreamEndInner();break;case z.websocketError:if(this.player.isDestroyedOrClosed())return;this.player.debugError(this.TAG_NAME,"socket error",s.message),this.socketStatus=Y.error;const i=s.message||"websocket error";this.wsErrorMsg=i,e.close(),this.player.debugLog(this.TAG_NAME,"socket error:",i);break;case z.destroyEnd:this._destroy();break;case z.websocketStringMsg:this.player.emit(H.websocketStringMsg,s.value);break;case z.bufferByteLength:this.tempStreamBufferByteLength=s.value}},this.websocketWorker=e}_startStreamRateInterval(){this._stopStreamRateInterval(),this.streamRateInterval=setInterval((()=>{this.streamRate&&this.streamRate(0)}),1e3)}_stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}_startCheckWsOpenTimeout(){this._stopCheckWsOpenTimeout(),this.checkWsOpenTimeout=setTimeout((()=>{if(this.checkWsOpenTimeout=null,!this._isDestroyed&&this.socketStatus===Y.notConnect){const t=`websocket Open Timeout form ${this.player._opt.websocketOpenTimeout}s and status is ${this.socketStatus}`;this.player.debugError(this.TAG_NAME,t),this.emit(Q.websocketOpenTimeout,t)}}),1e3*this.player._opt.websocketOpenTimeout)}_stopCheckWsOpenTimeout(){this.checkWsOpenTimeout&&(clearTimeout(this.checkWsOpenTimeout),this.checkWsOpenTimeout=null)}_closeWebSocket(){this.websocketWorker&&this.websocketWorker.postMessage({cmd:z.destroy})}fetchStream(t,e){this.player._times.streamStart=is(),this.wsUrl=t,this.websocketWorker&&this.websocketWorker.postMessage({cmd:z.fetch,url:t,options:e})}sendMessage(t){this.websocketWorker&&this.websocketWorker.postMessage({cmd:z.sendMessage,message:t})}getStreamType(){return u.websocket}getStreamBufferByteLength(){return this.tempStreamBufferByteLength}}const $a=Za;function Za(t,e){const s=th();return(Za=function(t,e){return s[t-=431]})(t,e)}function th(){const t=["9SkIhtm","10749RkypXb","24711621CxEeNs","getStreamType","streamSuccess","2331845erTImU","492qyUZVR","3743288zjtyQm","destroy","catch","getStreamBufferByteLength","5557335EbyRiM","loadSource success","HlsStream","_times","fetchStream","player","streamStart","debugLog","5wswVzt","loadSource","14821670XzLnIv","then","12JaxvQU","619106fKdsRy"];return(th=function(){return t})()}!function(t,e){const s=Za,i=t();for(;;)try{if(895052===parseInt(s(440))/1*(parseInt(s(445))/2)+-parseInt(s(447))/3*(-parseInt(s(452))/4)+parseInt(s(451))/5*(parseInt(s(444))/6)+-parseInt(s(432))/7+-parseInt(s(453))/8+-parseInt(s(446))/9*(-parseInt(s(442))/10)+-parseInt(s(448))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(th);class eh extends h{constructor(t){const e=Za;super(),this[e(437)]=t,t[e(439)](e(434),"init")}async[$a(454)](){const t=$a;return this.off(),this[t(437)][t(439)](t(434),t(454)),!0}[$a(436)](t){const e=$a,{hlsDecoder:s,debug:i}=this[e(437)];this[e(437)][e(435)][e(438)]=is(),s[e(441)](t)[e(443)]((()=>{const t=e;this[t(437)].debugLog(t(434),t(433)),this.emit(H[t(450)])}))[e(455)]((t=>{this.emit(Q.hlsError,t)}))}[$a(449)](){return u.hls}[$a(431)](){return 0}}const sh=ih;function ih(t,e){const s=rh();return(ih=function(t,e){return s[t-=497]})(t,e)}function rh(){const t=["WebrtcStream","off","loadSource success","player","webrtc","origin","pathname","location","91eJwUhB","length","protocol","getStreamType","fetchStream","1742056sBLieF","5264305wuOBff","catch","/webrtc/play","11409guoJho","destroy","search","231423zSXCjG","3179979LxfPYl","debugLog","getStreamBufferByteLength","1440348lwCsQG","loadSource error","emit","streamStart",", and new url is: ","replace","1028WrhfdB","loadSource","279294zdMKuX","then","original url is ","webrctUrl"];return(rh=function(){return t})()}!function(t,e){const s=ih,i=t();for(;;)try{if(530192===-parseInt(s(506))/1+parseInt(s(510))/2+-parseInt(s(503))/3*(parseInt(s(516))/4)+parseInt(s(500))/5+-parseInt(s(518))/6*(parseInt(s(530))/7)+parseInt(s(499))/8+parseInt(s(507))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rh);class nh extends h{constructor(t){const e=ih;super(),this[e(525)]=t,this[e(521)]=null,t[e(508)](e(522),"init")}async[sh(504)](){const t=sh;return this[t(521)]=null,this[t(523)](),this[t(525)][t(508)]("WebrtcStream",t(504)),!0}[sh(498)](t){const e=sh;let s=arguments[e(531)]>1&&void 0!==arguments[1]?arguments[1]:{};const{webrtc:i,debug:r}=this.player;if(this[e(525)]._times[e(513)]=is(),this[e(521)]=t[e(515)]("webrtc:",window[e(529)][e(532)]),this[e(525)].isWebrtcForM7S()&&-1===this[e(521)].indexOf("/webrtc/play")){const s=new URL(this[e(521)]),i=e(502)+s[e(528)];this[e(521)]=s[e(527)]+i+s[e(505)],this[e(525)][e(508)]("WebrtcStream",e(520)+t+e(514)+this[e(521)])}i[e(517)](this.webrctUrl,s)[e(519)]((()=>{const t=e;this[t(525)][t(508)](t(522),t(524)),this[t(512)](H.streamSuccess)}))[e(501)]((t=>{const s=e;this[s(525)].debugError(s(522),s(511),t),this[s(512)](Q.webrtcError,t)}))}[sh(497)](){return u[sh(526)]}[sh(509)](){return 0}}const oh=hh;function ah(){const t=["WebTransportLoader","15778719EpoELT","replace","_createWebTransport","transport","TAG_NAME","streamEnd","ready","streamSuccess","streamStart","9667208CujqNC","wtUrl","20hUmRwd","player","byteLength","debugLog","820jalTXW","close","fetchStream","12tUJqsY","fetch done","string","streamRate","stopStreamRateInterval","then","_createWebTransport-ready","1967828AakpJL","7kktGlz","debugWarn","getStreamType","webTransport","readable","streamRateInterval","560747LXAlNO",'writableStream.write() and value is "',"90366TAmuGN","startStreamRateInterval","catch","abort","emit","4572147SEVKgE","pipeTo","dispatch","2173755nbFmYr","createBidirectionalStream","_isDestroyed"];return(ah=function(){return t})()}function hh(t,e){const s=ah();return(hh=function(t,e){return s[t-=185]})(t,e)}!function(t,e){const s=hh,i=t();for(;;)try{if(975678===-parseInt(s(223))/1*(-parseInt(s(200))/2)+-parseInt(s(205))/3+-parseInt(s(191))/4+parseInt(s(208))/5*(parseInt(s(230))/6)+-parseInt(s(192))/7*(parseInt(s(221))/8)+-parseInt(s(212))/9+-parseInt(s(227))/10*(-parseInt(s(198))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ah);class lh extends h{constructor(t){const e=hh;super(),this[e(224)]=t,this.transport=null,this[e(222)]=null,this[e(187)]=hs((s=>{t[e(204)](H.kBps,(s/1e3).toFixed(2))})),this[e(197)]=null,this._isDestroyed=!1,t.debugLog(e(211),"init")}async destroy(){const t=hh;return this._isDestroyed=!0,this[t(203)](),this.off(),this[t(224)][t(226)]("WebTransportLoader","destroy"),!0}[oh(201)](){const t=oh;this[t(188)](),this[t(197)]=setInterval((()=>{const e=t;this[e(187)]&&this[e(187)](0)}),1e3)}[oh(188)](){const t=oh;this.streamRateInterval&&(clearInterval(this[t(197)]),this[t(197)]=null)}[oh(214)](){const t=oh,e=this[t(224)],{demux:s}=e;try{this.transport=new WebTransport(this[t(222)]),this[t(215)][t(218)].then((()=>{const e=t;this[e(204)](H[e(219)]),this[e(201)](),this.transport[e(209)]()[e(189)]((t=>{const i=e;t[i(196)][i(206)](new WritableStream({write:t=>{const e=i;if(!this[e(210)]){if(typeof t!==e(186))return this[e(187)]&&this[e(187)](8*t[e(225)]),s[e(207)](t);this[e(224)][e(193)](this[e(216)],e(199)+t+'" string so return')}},close:()=>{const t=i;this[t(210)]||(s[t(228)](),this[t(224)].emit(H[t(217)],t(185)))},abort:t=>{const e=i;this[e(210)]||s[e(228)]()}}))}))}))[t(202)]((e=>{const s=t;this[s(224)][s(193)]("WebTransportLoader",s(190),e)}))}catch(e){this.player[t(193)](t(211),t(214),e)}}[oh(229)](t){const e=oh;this[e(224)]._times[e(220)]=is(),this[e(222)]=t[e(213)](/^wt:/,"https:"),this[e(214)]()}[oh(203)](){const t=oh;if(this.transport)try{this[t(215)].close(),this.transport=null}catch(e){this[t(215)]=null}}[oh(194)](){return u[oh(195)]}getStreamBufferByteLength(){return 0}}const ch=dh;function dh(t,e){const s=uh();return(dh=function(t,e){return s[t-=320]})(t,e)}function uh(){const t=["1808LXUypZ","71604splauB","decoderWorker","_opt","WorkerStream","76bPFFby","workerSendMessage","getStreamBufferByteLength","8825xiwbLi","player","sendMessage","fetchStream","debugLog","off","10048cAiaVd","7160174lSbLBo","getStreamType","38901120iCHNKQ","fetch","websocket","_times","workUrl","protocol","destroy","1396217mqmbvJ","11691rpvHDf","workerFetchStream","length","4197690BwqWWk","streamStart"];return(uh=function(){return t})()}!function(t,e){const s=dh,i=t();for(;;)try{if(880084===-parseInt(s(324))/1+-parseInt(s(335))/2*(parseInt(s(331))/3)+parseInt(s(330))/4*(-parseInt(s(338))/5)+parseInt(s(328))/6+parseInt(s(345))/7+parseInt(s(344))/8*(-parseInt(s(325))/9)+parseInt(s(347))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(uh);class ph extends h{constructor(t){const e=dh;super(),this[e(339)]=t,this[e(321)]=null,t[e(342)]("WorkerStream","init")}async[ch(323)](){const t=ch;return this[t(321)]=null,this[t(343)](),this[t(339)][t(342)](t(334),t(323)),!0}[ch(340)](t){const e=ch;this.player[e(332)][e(336)](t)}[ch(341)](t){const e=ch;let s=arguments[e(327)]>1&&void 0!==arguments[1]?arguments[1]:{};this[e(321)]=t,this.player[e(320)][e(329)]=is(),this[e(339)][e(332)][e(326)](t,s)}[ch(346)](){const t=ch,e=this[t(339)][t(333)][t(322)]===c[t(348)]?u[t(348)]:u[t(349)];return u.worker+" "+e}[ch(337)](){return 0}}const fh=gh;function mh(){const t=["_times","player","26097462kYDkAN","getStreamType","2310567Wcpxnj","init","emit","aliyunRtcError","debugLog","loadSource success","3283088LsVatW","AliyunRtcLoader","3368770fvPSuH","debugError","811945TdKJZu","aliyunRtc","6vpBEmy","loadSource error","catch","streamSuccess","then","702586Jewwfc","getStreamBufferByteLength","4699336eDYkGs","streamStart","7uyfuXy","TAG_NAME","off","destroy","loadSource"];return(mh=function(){return t})()}function gh(t,e){const s=mh();return(gh=function(t,e){return s[t-=380]})(t,e)}!function(t,e){const s=gh,i=t();for(;;)try{if(413066===parseInt(s(381))/1+-parseInt(s(388))/2+parseInt(s(401))/3+parseInt(s(407))/4+-parseInt(s(409))/5*(-parseInt(s(383))/6)+parseInt(s(392))/7*(parseInt(s(390))/8)+-parseInt(s(399))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mh);class yh extends h{constructor(t){const e=gh;super(),this.TAG_NAME=e(408),this[e(398)]=t,t.debugLog(this[e(393)],e(402))}async[fh(395)](){const t=fh;return this[t(394)](),this[t(398)][t(405)](this[t(393)],t(395)),!0}fetchStream(t){const e=fh,{aliyunRtcDecoder:s}=this[e(398)];this.player[e(397)][e(391)]=is(),s[e(396)](t)[e(387)]((()=>{const t=e;this[t(398)][t(405)](this[t(393)],t(406)),this[t(403)](H[t(386)])}))[e(385)]((t=>{const s=e;this[s(398)][s(380)](this[s(393)],s(384),t),this[s(403)](Q[s(404)],t)}))}[fh(400)](){return u[fh(382)]}[fh(389)](){return 0}}const Ah=bh;function vh(){const t=["playVodMp4Error","1489820Xwkmei","debugLog","132BjoyeJ","catch","1768IdZwUt","init","emitError","MP4StreamLoader","299958maKEGD","fetchStream","player","1039537eHfMWN","4260339hvuKll","streamSuccess","5yqRDgp","3417196rtMSMQ","loadSource success","_times","mp4Vod","210OwmCod","42786UlSHjA","then","destroy","140613IrTTdz","off","2KUDqrf","emit","TAG_NAME"];return(vh=function(){return t})()}function bh(t,e){const s=vh();return(bh=function(t,e){return s[t-=212]})(t,e)}!function(t,e){const s=bh,i=t();for(;;)try{if(794088===parseInt(s(216))/1*(-parseInt(s(230))/2)+parseInt(s(217))/3+parseInt(s(220))/4*(parseInt(s(219))/5)+parseInt(s(213))/6*(-parseInt(s(224))/7)+parseInt(s(238))/8*(parseInt(s(225))/9)+parseInt(s(234))/10+parseInt(s(228))/11*(-parseInt(s(236))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vh);class Sh extends h{constructor(t){const e=bh;super(),this[e(232)]=e(212),this.player=t,t[e(235)](this[e(232)],e(239))}[Ah(227)](){const t=Ah;this[t(229)](),this[t(215)][t(235)](this[t(232)],t(227))}[Ah(214)](t){const e=Ah,{mp4Decoder:s}=this.player;this[e(215)][e(222)].streamStart=is(),s.loadSource(t)[e(226)]((()=>{const t=e;this[t(215)].debugLog(this[t(232)],t(221)),this[t(231)](H[t(218)])}))[e(237)]((t=>{const s=e;this.player[s(240)](Q[s(233)],t)}))}getStreamType(){return u[Ah(223)]}getStreamBufferByteLength(){return 0}}function wh(t,e){var s=Th();return(wh=function(t,e){return s[t-=197]})(t,e)}var Eh=wh;function Th(){var t=["player","init","fetchStream","2154753tLcDtQ","destroy","5yzyCfB","10ZqKYJC","TAG_NAME","219896oefjnm","1170136pofPyZ","debugLog","77wgOHBi","72015BCNUwi","2mLIecN","1322064JieMRI","44NLInvM","419347cUeymG","2233578pUPLAv","EmptyLoader"];return(Th=function(){return t})()}!function(t,e){for(var s=wh,i=t();;)try{if(214527===-parseInt(s(213))/1*(-parseInt(s(210))/2)+-parseInt(s(209))/3+parseInt(s(206))/4+parseInt(s(202))/5*(-parseInt(s(214))/6)+parseInt(s(208))/7*(-parseInt(s(205))/8)+parseInt(s(200))/9*(-parseInt(s(203))/10)+parseInt(s(212))/11*(parseInt(s(211))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Th);class Ih{constructor(t){var e=wh;this[e(197)]=t,this[e(204)]=e(215),this.player.debugLog(this[e(204)],e(198))}[Eh(201)](){var t=Eh;this.player[t(207)](this[t(204)],"destroy")}[Eh(199)](){}getStreamBufferByteLength(){return 0}}const kh=_h;function _h(t,e){const s=Dh();return(_h=function(t,e){return s[t-=183]})(t,e)}!function(t,e){const s=_h,i=t();for(;;)try{if(948582===-parseInt(s(206))/1+parseInt(s(185))/2*(parseInt(s(197))/3)+-parseInt(s(195))/4*(parseInt(s(208))/5)+parseInt(s(200))/6+parseInt(s(209))/7+parseInt(s(202))/8*(parseInt(s(183))/9)+parseInt(s(188))/10*(-parseInt(s(198))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Dh);class Ch extends h{constructor(t){const e=_h;super(),this[e(204)]=e(193),this.player=t,t[e(196)](this[e(204)],e(201))}[kh(186)](){const t=kh;this[t(187)](),this[t(184)][t(196)](this[t(204)],t(186))}[kh(203)](t){const e=kh,{flvVodDecoder:s}=this[e(184)];this[e(184)][e(192)][e(189)]=is(),s[e(207)](t).then((()=>{const t=e;this[t(184)][t(196)](this.TAG_NAME,"loadSource success"),this[t(205)](H.streamSuccess)}))[e(191)]((t=>{const s=e;this[s(205)](Q[s(210)],t)}))}[kh(194)](){return u[kh(199)]}[kh(190)](){return 0}}function Dh(){const t=["getStreamType","2973748xQmqpT","debugLog","9AmYgkY","20677987zEQnuE","flvVod","10907352wCJMPq","init","801816aZgXcG","fetchStream","TAG_NAME","emit","1004980NuPhtR","loadSource","10isvYGM","12299504wLqyVy","playVodFlvError","54cDVGNw","player","762618eeehsR","destroy","off","10qLXVCX","streamStart","getStreamBufferByteLength","catch","_times","FlvVodStreamLoader"];return(Dh=function(){return t})()}const Rh=Ph;function Lh(){const t=["player","getLoaderFactory","773235PJopHa","13572684RIWUrm","12317000RYUxar","5733160wWDsSw","3987174HvHXPq","33UAdwCp","websocket","256738PnJuXN","playerAudio","7WNRZpf","playVod","webrtc","1746157BdwxyQ"];return(Lh=function(){return t})()}function Ph(t,e){const s=Lh();return(Ph=function(t,e){return s[t-=147]})(t,e)}!function(t,e){const s=Ph,i=t();for(;;)try{if(979761===parseInt(s(156))/1+parseInt(s(151))/2*(-parseInt(s(149))/3)+parseInt(s(147))/4+-parseInt(s(159))/5+-parseInt(s(148))/6*(parseInt(s(153))/7)+parseInt(s(161))/8+-parseInt(s(160))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lh);class xh{constructor(t){return new(xh[Ph(158)](t._opt))(t)}static[Rh(158)](t){const e=Rh,{protocol:s,useWasm:i,playType:r,useWCS:n,useMSE:o,demuxUseWorker:a,mainThreadFetchUseWorker:h,isFmp4:l,isFlv:d,isUseFileProtocol:u,useMThreading:f}=t;return Qi()?Ih:r===p[e(154)]&&l?Sh:r===p[e(154)]&&d?Ch:s===c.hls?eh:s===c[e(155)]?nh:s===c.webTransport?lh:s===c.aliyunRtc?yh:s===c.fetch?r===p[e(152)]?ph:r===p[e(157)]?i&&!pi(t)?u?Ua:ph:a?ph:h?Wa:Ua:n||o?a?ph:h?Wa:Ua:u?Ua:ph:s===c[e(150)]?r===p[e(152)]?ph:r===p[e(157)]?i&&!pi(t)?u?Ka:ph:a?ph:h?Xa:Ka:n||o?a?ph:h?Xa:Ka:u?Ka:ph:void 0}}var Mh=Fh;function Bh(){var t=["273610VSbsiN","code","ContentEncodings","Absolute timestamp according to the segment time base.","swap16","SignatureSlot","Buffer size must be a multiple of 32-bits","readUIntLE","metadatas","Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking.","BitDepth","[object Array]","FileName","convertEBMLDateToJSDate","swap32","utf16le","The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used.","readUIntBE",'" is invalid for option "size"',"Channels","DiscardPadding","ChapterProcess","The track identification for the given Chapter Codec.","PixelCropRight","_tag_stack","newListener","PrevFilename","TrickMasterTrackSegmentUID","stack","image/webp","Numbers of channels in the track.","audio","ChapterUID","15164220EWnTPM","FileUsedEndTime","^2.9.1","Element containing elements specific to Tracks/Chapters.","The number of video pixels to remove on the left of the image.","readBlock","kMaxLength","value","Contains a single seek entry to an EBML element.","Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)","A unique ID to identify the previous chained segment (128 bits).","^13.1.0","No schema entry found for ","Detected ","_stack","metadataloaded","length","sourceEnd out of bounds","The signature of the data (until a new.","INSPECT_MAX_BYTES","Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject.","Sampling Frequency","readFloatLE","__esModule","MaxBlockAdditionID","Contain positions for different tracks corresponding to the timestamp.","this metadata is not streaming webm file","ChannelPositions","pop","ChapterTrack","setMaxListeners",'"buffer" argument must be a Buffer instance',"The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5","CodecInfoURL","VideoPixelCropBottom","last2SimpleBlockVideoTrackTimecode","'offset' is out of bounds",'"size" argument must be a number',"removeAllListeners","https://github.com/legokichi/ts-ebml#readme","EditionEntry","EBMLMaxIDLength",'The "string" argument must be of type string. Received type number',"1017826GpMrVa",'"size" argument must not be negative','"list" argument must be an Array of Buffers',"tsc -w --noEmit -p ./","Indication to know if this is the default/original language to use for the given tag. (1 bit)","An escaped filename corresponding to the next segment.","Same value as in AVI (32 bits).","includes","How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio).","und","3HKmsTz","The minimum EBML version a parser has to support to read this file.","Similar to EncryptedBlock Structure)","VideoPixelHeight","cluster","buffer","CueReference","BlockMore","Invalid code point","SimpleBlock","Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here.","The data of the file.",'" is invalid for argument "value"',"This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced.","9d012a","writeIntLE","out of range index","LaceNumber","tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js","compare","DisplayHeight","CueTrackPositions","match","write"," ... ","TrackUID","isArray","type","Number of the Block in the specified Cluster.","Contains slices description.","readUInt16BE","hasOwnProperty","EditionFlagHidden","CueRefCodecState","npm run update; npm run mkdir; npm run build","firstVideoBlockRead","__proto__","Contains all information relative to a seek point in the segment.","CueRefCluster","SliceDelay","Attempt to write outside buffer bounds","string","^5.0.7","readInt16LE","^1.5.1","latin1","./EBMLEncoder","amd","A number to indicate the logical level of the target (see TargetType).","splice","nothing"," closing element before finding the start","VideoColourSpace","lastClusterTimecode","abs","Bits per sample, mostly used for PCM.","groupEnd","TagDefault","trace","SignatureElementList","floor","CueTrack","decode","SlowBuffer","./EBMLReader","ucs2","constructor","putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues","SeekHead","FlagLacing","or Array-like Object. Received type ","matroska/lib/schema","TagString","A unique ID to identify the Chapter.","prototype","DateUTC","^3.15.1","_buffer","> 0","writeDoubleLE","addListener","hasLoggingStarted","DisplayUnit","The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.","CueCodecState","ChapProcessTime","dataStart","nextInt16BE","CodecDelay","TrackPlane","AudioSamplingFreq","put","TrackMaxCache","int64-buffer","webp","This is the ID of the private key the data was signed with.","ClusterPosition","TrackFlagDefault","parent element is not master element","A unique ID to identify the edition. It's useful for tagging an edition.","unwrapExports","Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use.","_augment","utf8","SimpleTag","./lib/cli.js","The trackUID number of the track representing the plane.","both","defaultMaxListeners","A URL to find information about the codec used.","Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback.","SignaturePublicKey","currentTrack","TrackDuration","If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)","The Position of the Cluster containing the referenced Block.","Contains the list of all tracks whose Blocks need to be combined to create this virtual track","eng","cues","Contains all possible strings to use for the chapter display.","trackDefaultDuration","tslint -c ./tslint.json --project ./tsconfig.json --type-check","A string describing the encoding setting used.","byteLength","The languages corresponding to the string, in the bibliographic ISO-639-2 form.","EBMLMaxSizeLength","stop","encodeTag","utf-8","foo","2304228qcYujf","trackInfo",'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).',"TrackPlaneUID","ChapterLanguage","use_segment_info","binary","BlockDuration","../package.json","Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block).","push","Invalid hex string","nextBuffer",'"length" is outside of buffer bounds',"npm run clean   && tsc    -p .; npm run browserify","toLowerCase","VideoPixelCropRight","duration","SignedElement","reduce","The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid.","number","AudioPosition","Uint64LE","ChapLanguage","metadataSize","If encoding is specified then the first argument must be a string","0-1","killall -- node */tsc -w -p","concat","The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping","Decoder","DefaultDuration","The value of the Element.","tools","writeTag","Settings for several content encoding mechanisms like compression or encryption.","emit_segment_info","The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used.","TagName","readUInt32LE","readInt32LE","TrickMasterTrackUID","FileUsedStartTime","nextUInt8","discardable","object","logging","nextUIntV","^2.4.2","data","CueRefTime","$1 ","TrackTranslateTrackID","not 0","PixelWidth","Trying to access beyond buffer length","break","ChapterTranslateEditionUID"," octets float. failback to 0","warn","TrackAttachmentLink","FileData","isView","readIntLE","TrackTranslateCodec","trackCodecDelay","TrackEntry","utf-16le","The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString.","A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control).","FlagDefault","^1.2.3","warned","25550eyEpqI","OutputSamplingFrequency","https://github.com/legokichi/ts-ebml/issues","SliceFrameNumber","metadata","MuxingApp","chunks","commonjsGlobal","readSize","writeUInt8","cueInfos","firstAudioBlockRead","ChapterTimeEnd","cluster_ptr","./tools","CodecDownloadURL","Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback.","tsc; for file in `find lib -name 'example_*.js' -type f -printf '%f\\n'`; do browserify lib/$file -o test/$file; done","STATE_CONTENT","Unknown encoding: ","VP8 ","ChapterSegmentUID","float type bits must 4bytes or 8bytes","A human-friendly name for the attached file.","VideoPixelCropLeft","set","Received type ","Arguments must be Buffers","STATE_SIZE","val must be string, number or Buffer","The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry.","^1.1.1","alloc","unknown","A URL to download about the codec used.","Height of the encoded video frames in pixels.","TrackType","sizeStart","base64","GammaValue","once","AttachedFile","removeListener","elm","emit","A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment.","pow","VideoFlagInterlaced","ascii","Name","597950aCoINu","Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds).","byteOffset","Seek","TagBinary","728hhXfxS","The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES","TrickTrackFlag","readUInt8","A cryptographic signature of the contents.","The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues.","CueDuration","A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)","Hash algorithm used (1=SHA1-160, 2=MD5).","keys","no video, no audio track","npm run reset; npm update","git","segment","ChapterProcessPrivate","frames","_cursor","SilentTrackNumber","Timecode","The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used.",'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array',"A randomly generated unique ID to identify the current segment between many others (128 bits).","The version of EBML parser used to create the file.","STATE_TAG","call","rm -rf node_modules","isEncoding","63CqWzNV","EditionFlagDefault","ebml","The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed.","Int64LE","Real output sampling frequency in Hz (used for SBR techniques).","writeInt8","The (scaled) delay to apply to the element.","writeFloatLE","^2.11.0","fromCharCode","Table of horizontal angles for each successive channel, see appendix.","An ID corresponding to the codec, see the codec page for more info.","TrackFlagLacing","use_duration_every_simpleblock","lastClusterPosition","TagSimple","Width of the video frames to display. The default value is only valid when DisplayUnit is 0.","AlphaMode","ChapterProcessCodecID",'The value "',"CodecID","shift","ebml-block","join","Fixed-Size Lacing Error","Invalid string. Length must be a multiple of 4","sourceStart out of bounds","Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands.","The lower level element containing the (monolithic) Block structure.","TYPED_ARRAY_SUPPORT","writeUInt16BE","dataSize","TrackFlagEnabled","Contains the string to use as the chapter atom.","unknown tag type:",'"encoding" must be a valid string encoding',"<Buffer ","readUInt16LE","allocUnsafe","fromByteArray","encoding must be a string","ContentEncryption","CodecSettings","PrevUID","Use emitter.setMaxListeners() to increase limit.","matroska","Int64BE","function","byEbmlID","NextUID","Title","VideoPixelCropTop","setPrototypeOf","After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid.","Gamma Value.","FrameRate","`buffer` v5.x. Use `buffer` v4.x if you require old browser support.","BlockAdditionID","Sampling frequency in Hz.","The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry.","copy",'"value" argument must not be a number',"defineProperty","ChapProcessCodecID","SliceDuration","TrackName","TrackJoinUID",'Uncaught, unspecified "error" event. (',"BlockAdditions","default","CodecPrivate","webm","The (scaled) duration to apply to the element.","startTag","browserify lib/index.js --standalone EBML -o dist/EBML.js","equals","The track for which a position is given.","level","VideoFrameRate","toByteArray","_result","EBML structure is broken",'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.',"putRefinedMetaData","Position","TimecodeScale","informational","A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment.","clusterRelative","from","EventEmitter","An ID to identify the BlockAdditional level.","Out of range index","TrackTimecodeScale","Size of the previous Cluster, in octets. Can be useful for backward playing.","SilentTracks","readInt16BE","removeElement","1000000","slice","makeMetadataSeekable","timecodeScale","(node) warning: possible EventEmitter memory ","A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track.","CueTime","This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment.","tagId","readDoubleBE","^1.4.1","writeVint","PixelHeight","TrackOffset","Height of the video frames to display. The default value is only valid when DisplayUnit is 0.","writeIntBE","Timestamp scale numerator, see TimecodeScale.","context","Audio settings.","The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA","last2SimpleBlockAudioTrackTimecode","If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)","_buffers","Tracks","ChapterAtom","ChapProcessPrivate","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","ChapterPhysicalEquiv","The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background).","AudioOutputSamplingFreq","Contains miscellaneous general information and statistics on the file.","create","replace","encodeValueToBuffer","_maxListeners","mkdir lib dist 2>/dev/null","toJSON","01ffffffffffffff","MIME type of the file.","Duration",'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ',"ChapterStringUID","_total","writeDoubleBE","species","Contains the atom information to use as the chapter atom (apply to all tracks).","FlagInterlaced","7bit or more bigger uint not supported.","_state","base64-js","segmentOffset","Delay","The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame).","SamplingFrequency","Number of frames per second.  only.","NextFilename","valueOf","keyframe","VideoDisplayWidth",'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.',"Chapters","Void","SeekID","./lib/index.d.ts","writeInt32BE","cue","The codec can decode potentially damaged data (1 bit).","forEach","The trackUID number of a track whose blocks are used to create this virtual track.","UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks.","Duration of the segment (based on TimecodeScale).","Contain signature of some (coming) elements in the stream.","ieee754","ucs-2","DisplayWidth","The name of the Tag that is going to be stored.","timecode","poolSize","undefined","Informational","listener must be a function","parent","A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage.","Segment","DivX font extension","Specifies the language of the track in the Matroska languages form.","Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise.","SignatureElements","A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment.","name","error","toLocaleString","targetStart out of bounds","toString","Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data.","unable to refine metadata, stable size could not be found in ","TimecodeScaleDenominator","The maximum length of the IDs you'll find in this file (4 or less in Matroska).","readDoubleLE","isEnd","The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.","TrackMinCache","_events","456542nBFXLt","Attachments","TrackOperation","TrackTranslate","Similar to SimpleBlock Structure","npm install -g http-server;","TrackDefaultDecodedFieldDuration","A binary value that a track/codec can refer to when the attachment is needed.","ChapterProcessTime","EBMLVersion","CuePoint","Set if the track may contain blocks using lacing. (1 bit)","Contains all information about a segment edition.","BlockAddID","indexOf","createUIntBuffer","writeInt16LE","writeUInt32LE","Timestamp of the start of Chapter (not scaled).","FileDescription","SignatureHash",'The "target" argument must be one of type Buffer or Uint8Array. ',"TagLanguage","MODULE_NOT_FOUND","DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs).","metadata dataEnd has wrong number","charCodeAt","SliceBlockAddID","Buffer size must be a multiple of 16-bits","Private data only known to the codec.","SeekPosition","cue_info","A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption.","assign","VideoAspectRatio","Video settings.","FileMimeType","Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)","An attached file.","tagStart","lastIndexOf",'The "value" argument must not be of type number. Received type number',"createCommonjsModule","trackTypes","use_webp","ContentEncodingOrder","ChapProcess","substr","A top-level block of information with many tracks described.","dataEnd","readVint",'Muxing application or library ("libmatroska-0.4.3").',"listener","endTag","TrickTrackUID","^2.4.0","Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes.","Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to.","Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter).","nodeName","ebml decoder and encoder","tsc; for file in `find lib -name 'example_*.js' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done","FlagForced","ebmlID","DivX trick track extenstions","MinCache","sizeEnd","TrickTrackSegmentUID","inspect",'"offset" is outside of buffer bounds',"encode","An element ID whose data will be used to compute the signature.","writeUIntLE","A unique ID to identify the next chained segment (128 bits).","writeUIntBE","Buffer.write(string, encoding, offset[, length]) is no longer supported","Absolute timestamp of the cluster (based on TimecodeScale).","Cannot find module '","RIFF","min","group","TrackJoinBlocks","writeInt32LE","TagTargets",'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.',"12YFUQQV","fill","Buffer","readIntBE","EBML","If a flag is set (1) the edition should be used as the default one. (1 bit)","Multiple segments detected!","Set if the video is interlaced. (1 bit)","Index out of range","Signature","getTime","Unrepresentable length: ","ContentCompression","readContent","hex","invisible","ChapterTranslate","read","The version of DocType interpreter used to create the file.","ReferenceBlock","The number of video pixels to remove at the bottom of the image (for HDTV content).","toArray","VideoDisplayHeight","Info","The number of video pixels to remove at the top of the image.","TrackFlagForced","_schema","Contain the BlockAdditional and some parameters.","DocTypeVersion","WEBP","FileReferral","Tags","Timestamp of the referenced Block.","readTag","2.0.2","Date of the origin of timestamp (value 0), i.e. production date.","toBuffer","The position of the element in the segment in octets (0 = first level 1 element).","writeInt16BE","CRC-32","unshift","cannot read ","Audio","log","The EditionUID to play from the segment linked in ChapterSegmentUID.","PixelCropBottom","copyWithin","Argument must be a Buffer","Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment.","EncryptedBlock","ChapterDisplay","A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment.","'length' is out of bounds","CueRefNumber","CueClusterPosition","ReferenceVirtual","ReferenceOffset","SegmentUID","children","Set if the track is usable. (1 bit)","subarray","ContentSignature","Buffer size must be a multiple of 64-bits","apply","DocTypeReadVersion","legokichi duckscallion","Language","ClusterSilentTracks","_isBuffer","writeFloatBE","logGroup","ClusterPrevSize","./EBMLDecoder","ContentSigKeyID","ContentEncodingType","size: 0x","toPrimitive","TrackNumber","ChapterTimeStart","Cluster","map","DocType","offset","A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation.","The binary ID corresponding to the element name.","WebPBlockFilter","writeUInt32BE","TrackAudio","clusterPtrs","VideoStereoMode","split","commonjsRequire","ContentEncAlgo","n must be a positive number","_arr","argument should be a Buffer","Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc.","version","isBuffer","readFloatBE","unknownSize","ContentEncoding","Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track.","TrackCombinePlanes","First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.","Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment.","readUInt32BE","createIntBuffer","EBMLReadVersion","ChapterTranslateCodec","exports","^0.1.9","ChapterFlagEnabled","trim","ColourSpace","drop_default_duration","isarray","ChapterTrackNumber","ContentSigHashAlgo","Reader","ebml/lib/ebml/tools","Unrepresentable value: ","11cBgMem","Cues","listenerCount","Describes a track with all elements.","video","some","writeUInt16LE","List of tracks on which the chapter applies. If this element is not present, all tracks apply","PixelCropTop","offset is not uint","One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster.","The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)","TargetTypeValue","The number of video pixels to remove on the right of the image.","1-254","^1.1.0","VP8BitStreamToRiffWebPBuffer","Filename of the attached file.","getSchemaInfo","VideoPixelWidth","AspectRatioType","This browser lacks typed array (Uint8Array) support which is required by ","ebmlBlock","trackNumber","The first argument must be one of type string, Buffer, ArrayBuffer, Array, ","SeekPreRoll","Tag","allocUnsafeSlow","Contains elements that will be used to compute the signature.","Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed).","SignatureAlgo","readInt32BE","A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file.","^1.4.4"];return(Bh=function(){return t})()}function Fh(t,e){var s=Bh();return(Fh=function(t,e){return s[t-=408]})(t,e)}!function(t,e){for(var s=Fh,i=t();;)try{if(327883===parseInt(s(615))/1+parseInt(s(932))/2*(-parseInt(s(942))/3)+-parseInt(s(700))/4*(parseInt(s(1196))/5)+-parseInt(s(1072))/6+-parseInt(s(1146))/7*(parseInt(s(1201))/8)+parseInt(s(413))/9*(parseInt(s(856))/10)+parseInt(s(822))/11*(parseInt(s(889))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Bh);var Uh=pe[Mh(657)]((function(t,e){!function(e){var s=Fh;"object"===s(1118)&&s(1118)!==s(590)?t[s(810)]=e():"undefined"===s(461)&&(void 0)[s(989)]?(void 0)([],e):(typeof window!==s(590)?window:void 0!==pe[s(1153)]?pe[s(1153)]:"undefined"!=typeof self?self:this)[s(704)]=e()}((function(){return function t(e,s,i){var r=Fh;function n(r,a){var h=Fh;if(!s[r]){if(!e[r]){var l="function"==typeof pe[h(791)]&&pe[h(791)];if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error(h(692)+r+"'");throw c[h(857)]=h(638),c}var d=s[r]={exports:{}};e[r][0][h(410)](d[h(810)],(function(t){return n(e[r][1][t]||t)}),d,d[h(810)],t,e,s,i)}return s[r][h(810)]}for(var o=r(461)==typeof pe[r(791)]&&de,a=0;a<i[r(905)];a++)n(i[a]);return n}({1:[function(t,e,s){var i=Fh;Object[i(476)](s,i(912),{value:!0});var r,n,o,a=t("./tools"),h=t(i(1035)),l=t("./tools"),c=t(i(1013))[i(462)];n=r||(r={}),o=i,n[n.STATE_TAG=1]=o(409),n[n[o(1174)]=2]=o(1174),n[n.STATE_CONTENT=3]=o(1164);var d=function(){var t=i;function e(){var t=Fh;this[t(1019)]=new(a[t(702)])(0),this[t(880)]=[],this[t(560)]=r[t(409)],this[t(1217)]=0,this._total=0,this[t(726)]=c,this[t(494)]=[]}return e[t(1016)][t(1004)]=function(e){var s=t;this.readChunk(e);var i=this[s(494)];return this._result=[],i},e[t(1016)].readChunk=function(e){var s=t;for(this[s(1019)]=l.concat([this._buffer,new a.Buffer(e)]);this[s(1217)]<this[s(1019)].length&&(this[s(560)]!==r[s(409)]||this[s(733)]())&&(this._state!==r[s(1174)]||this.readSize())&&(this[s(560)]!==r[s(1164)]||this[s(713)]()););},e[t(1016)][t(840)]=function(e){var s=t;return this[s(726)][e]||{name:"unknown",level:-1,type:s(1179),description:s(1179)}},e[t(1016)][t(733)]=function(){var e=t;if(this._cursor>=this._buffer[e(905)])return!1;var s=a[e(665)](this[e(1019)],this._cursor);if(null==s)return!1;var i=this._buffer[e(513)](this._cursor,this._cursor+s.length).reduce((function(t,s,i,r){var n=e;return t+s*Math[n(1192)](16,2*(r[n(905)]-1-i))}),0),n=this[e(840)](i),o={EBML_ID:i[e(605)](16),schema:n,type:n[e(969)],name:n[e(601)],level:n[e(491)],tagStart:this[e(554)],tagEnd:this[e(554)]+s[e(905)],sizeStart:this[e(554)]+s[e(905)],sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this[e(880)][e(1082)](o),this._cursor+=s[e(905)],this[e(554)]+=s[e(905)],this[e(560)]=r[e(1174)],!0},e[t(1016)][t(1154)]=function(){var e=t;if(this[e(1217)]>=this[e(1019)][e(905)])return!1;var s=a[e(665)](this[e(1019)],this[e(1217)]);if(null==s)return!1;var i=this[e(880)][this[e(880)][e(905)]-1];return i[e(681)]=i[e(1183)]+s[e(905)],i.dataStart=i.sizeEnd,i[e(445)]=s[e(896)],-1===s[e(896)]?(i[e(664)]=-1,"m"===i[e(969)]&&(i[e(800)]=!0)):i[e(664)]=i.sizeEnd+s[e(896)],this[e(1217)]+=s[e(905)],this[e(554)]+=s[e(905)],this._state=r[e(1164)],!0},e[t(1016)].readContent=function(){var e=t,s=this[e(880)][this._tag_stack[e(905)]-1];if("m"===s[e(969)]){if(s[e(611)]=!1,this._result[e(1082)](s),this[e(560)]=r[e(409)],0===s[e(445)]){var i=Object.assign({},s,{isEnd:!0});this[e(494)][e(1082)](i),this[e(880)][e(917)]()}return!0}if(this[e(1019)][e(905)]<this[e(1217)]+s[e(445)])return!1;var n=this[e(1019)][e(513)](this._cursor,this[e(1217)]+s[e(445)]);switch(this[e(1019)]=this[e(1019)].slice(this._cursor+s[e(445)]),s[e(1122)]=n,s[e(969)]){case"u":s[e(896)]=n[e(873)](0,n[e(905)]);break;case"i":s.value=n[e(703)](0,n[e(905)]);break;case"f":s[e(896)]=4===s[e(445)]?n[e(799)](0):8===s.dataSize?n[e(521)](0):(console[e(1132)](e(741)+s.dataSize+e(1131)),0);break;case"s":s[e(896)]=n[e(605)]("ascii");break;case"8":s.value=n[e(605)]("utf8");break;case"b":s[e(896)]=n;break;case"d":s[e(896)]=a[e(869)](new(h[e(460)])(n).toNumber())}if(null===s[e(896)])throw new Error(e(448)+s[e(969)]);for(this[e(494)][e(1082)](s),this[e(554)]+=s[e(445)],this[e(560)]=r[e(409)],this[e(1217)]=0,this._tag_stack[e(917)]();this._tag_stack[e(905)]>0;){var o=this._tag_stack[this[e(880)][e(905)]-1];if(o.dataEnd<0)return this[e(880)][e(917)](),!0;if(this._total<o[e(664)])break;if("m"!==o.type)throw new Error(e(1040));i=Object[e(648)]({},o,{isEnd:!0});this[e(494)].push(i),this._tag_stack[e(917)]()}return!0},e}();s[i(483)]=d},{"./tools":5,"int64-buffer":15,"matroska/lib/schema":17}],2:[function(t,e,s){var i=Fh;Object[i(476)](s,"__esModule",{value:!0});var r=t("./tools"),n=t(i(1160)),o=t(i(1013)).byEbmlID,a=function(){var t=i;function e(){var t=Fh;this._schema=o,this[t(534)]=[],this[t(903)]=[]}return e[t(1016)][t(685)]=function(e){var s=t,i=this;return r[s(1101)](e.reduce((function(t,e){return t.concat(i.encodeChunk(e))}),[]))[s(947)]},e.prototype.encodeChunk=function(e){var s=t;return"m"===e[s(969)]?e.isEnd?this[s(668)](e):this[s(487)](e):this[s(1107)](e),this.flush()},e[t(1016)].flush=function(){var e=this[t(534)];return this._buffers=[],e},e[t(1016)][t(840)]=function(e){for(var s=t,i=Object[s(1210)](this._schema)[s(780)](Number),r=0;r<i[s(905)];r++){var o=i[r];if(this[s(726)][o][s(601)]===e)return new(n[s(702)])(o[s(605)](16),"hex")}return null},e[t(1016)][t(1107)]=function(e){var s=t,i=e[s(601)],n=this[s(840)](i),o=e[s(1122)];if(null==n)throw new Error(s(901)+i);var a=r[s(1069)](n,o);this[s(903)][s(905)]>0?this[s(903)][this._stack[s(905)]-1][s(758)].push({tagId:n,elm:e,children:[],data:a}):this[s(534)]=this._buffers.concat(a)},e[t(1016)].startTag=function(e){var s=t,i=e.name,o=this[s(840)](i);if(null==o)throw new Error("No schema entry found for "+i);if(e[s(800)]){var a=r[s(1069)](o,new(n[s(702)])(0),e.unknownSize);this[s(534)]=this[s(534)][s(1101)](a)}else{var h={tagId:o,elm:e,children:[],data:null};this[s(903)][s(905)]>0&&this[s(903)][this._stack.length-1][s(758)][s(1082)](h),this[s(903)].push(h)}},e[t(1016)].endTag=function(e){var s=t;e[s(601)];var i=this[s(903)][s(917)]();if(null==i)throw new Error(s(495));if(i[s(1189)][s(601)]!==e[s(601)])throw new Error(s(495));var n=i.children[s(1091)]((function(t,e){var i=s;if(null===e.data)throw new Error("EBML structure is broken");return t[i(1101)](e[i(1122)])}),[]),o=r[s(1101)](n);"m"===i[s(1189)].type?i[s(1122)]=r[s(1069)](i[s(520)],o,i[s(1189)][s(800)]):i[s(1122)]=r[s(1069)](i.tagId,o),this[s(903)][s(905)]<1&&(this[s(534)]=this._buffers.concat(i[s(1122)]))},e}();s[i(483)]=a},{"./tools":5,"matroska/lib/schema":17}],3:[function(t,e,s){var i,r,n=Fh,o=this&&this.__extends||(i=Fh,r=Object[i(466)]||{__proto__:[]}instanceof Array&&function(t,e){t[i(978)]=e}||function(t,e){var s=i;for(var r in e)e[s(973)](r)&&(t[r]=e[r])},function(t,e){var s=i;function n(){this[Fh(1008)]=t}r(t,e),t.prototype=null===e?Object[s(543)](e):(n.prototype=e[s(1016)],new n)});Object[n(476)](s,n(912),{value:!0});var a=t("events"),h=t("./tools"),l=function(t){var e=n;function s(){var e=Fh,s=t[e(410)](this)||this;return s[e(770)]="",s[e(1023)]=!1,s[e(904)]=!1,s[e(1152)]=[],s[e(884)]=[],s[e(562)]=0,s[e(924)]=[0,0],s[e(532)]=[0,0],s.lastClusterTimecode=0,s[e(428)]=0,s[e(515)]=1e6,s[e(1097)]=0,s[e(864)]=[],s[e(1060)]=[],s.firstVideoBlockRead=!1,s[e(1157)]=!1,s[e(1054)]={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},s[e(658)]=[],s[e(1062)]=[],s[e(1138)]=[],s.trackInfo={type:"nothing"},s.ended=!1,s[e(1119)]=!1,s[e(427)]=!1,s[e(659)]=!1,s[e(1077)]=!0,s[e(815)]=!0,s}return o(s,t),s[e(1016)][e(1068)]=function(){var t=e;for(this.ended=!0,this[t(1109)]();this[t(884)][t(905)];)this[t(884)][t(917)](),this.logging&&console.groupEnd();this[t(1119)]&&this.hasLoggingStarted&&this[t(770)]&&console[t(998)]()},s[e(1016)].emit_segment_info=function(){var t=e,s=this[t(1152)];if(this[t(1152)]=[],this[t(904)]){if(!this[t(1077)])return;var i=this.lastClusterTimecode,r=this[t(1089)],n=this[t(515)];this[t(1190)](t(946),{timecode:i,data:s}),this[t(1190)](t(1089),{timecodeScale:n,duration:r})}else{this[t(904)]=!0,this[t(864)]=s;var o=this[t(658)][t(629)](1),a=this[t(658)][t(629)](2);if(this[t(1073)]=o>=0&&a>=0?{type:t(1049),trackNumber:o}:o>=0?{type:t(826),trackNumber:o}:a>=0?{type:t(887),trackNumber:a}:{type:t(992)},!this[t(1077)])return;this[t(1190)](t(1150),{data:s,metadataSize:this[t(1097)]})}},s[e(1016)][e(717)]=function(t){var s=e,i=this,r=!1;if(!this.ended){if("m"===t[s(969)])if(t[s(611)])this[s(884)].pop();else{var n=this[s(884)][this[s(884)][s(905)]-1];if(null!=n&&n[s(491)]>=t[s(491)]){this[s(884)][s(917)](),this[s(1119)]&&console[s(998)](),n.dataEnd=t[s(664)],n[s(445)]=t[s(664)]-n[s(1028)],n[s(800)]=!1;var o=Object.assign({},n,{name:n.name,type:n[s(969)],isEnd:!0});this[s(1152)][s(1082)](o)}this[s(884)][s(1082)](t)}if("m"===t.type&&"Segment"==t[s(601)])0!=this.segmentOffset&&console[s(1132)](s(706)),this[s(562)]=t[s(1028)],this[s(1190)]("segment_offset",this.segmentOffset);else if("b"===t[s(969)]&&"SimpleBlock"===t[s(601)]){var a=h[s(844)](t.data),l=a.timecode,c=a[s(845)],d=a.frames;if(1===this[s(658)][c]){if(!this[s(977)]&&(this[s(977)]=!0,this.trackInfo[s(969)]===s(1049)||"video"===this[s(1073)].type)){var u=this[s(995)]+l;this[s(1060)][s(1082)]({CueTrack:c,CueClusterPosition:this[s(428)],CueTime:u}),this[s(1190)](s(646),{CueTrack:c,CueClusterPosition:this[s(428)],CueTime:this.lastClusterTimecode}),this[s(1190)](s(577),{CueTrack:c,CueClusterPosition:this[s(428)],CueTime:u})}this.last2SimpleBlockVideoTrackTimecode=[this[s(924)][1],l]}else if(2===this[s(658)][c]){if(!this[s(1157)]&&(this[s(1157)]=!0,this[s(1073)].type===s(887))){u=this.lastClusterTimecode+l;this.cues.push({CueTrack:c,CueClusterPosition:this[s(428)],CueTime:u}),this.emit(s(646),{CueTrack:c,CueClusterPosition:this[s(428)],CueTime:this[s(995)]}),this[s(1190)]("cue",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:u})}this[s(532)]=[this.last2SimpleBlockAudioTrackTimecode[1],l]}this[s(427)]&&this[s(1190)](s(1089),{timecodeScale:this[s(515)],duration:this[s(1089)]}),this.use_webp&&d[s(579)]((function(t){var e=s;if(t[e(513)](3,6)[e(605)](e(714))===e(956)){var r=h[e(838)](t),n=new Blob([r],{type:e(885)}),o=i[e(1089)];i.emit(e(1036),{currentTime:o,webp:n})}}))}else"m"===t.type&&t[s(601)]===s(779)&&!1===t[s(611)]?(this[s(977)]=!1,this[s(1157)]=!1,this[s(1109)](),this[s(1190)](s(1159),t[s(654)]),this[s(428)]=t[s(654)]):"u"===t[s(969)]&&t[s(601)]===s(1219)?this[s(995)]=t[s(896)]:"u"===t[s(969)]&&t[s(601)]===s(499)?this[s(515)]=t[s(896)]:"m"===t[s(969)]&&t[s(601)]===s(1139)?t.isEnd?(this[s(658)][this[s(1054)].TrackNumber]=this.currentTrack[s(1182)],this[s(1062)][this[s(1054)][s(777)]]=this[s(1054)][s(1104)],this[s(1138)][this[s(1054)][s(777)]]=this.currentTrack.CodecDelay):this.currentTrack={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===t.type&&t[s(601)]===s(1182)?this[s(1054)][s(1182)]=t[s(896)]:"u"===t[s(969)]&&t.name===s(777)?this[s(1054)][s(777)]=t[s(896)]:"u"===t.type&&t[s(601)]===s(1030)?this[s(1054)][s(1030)]=t[s(896)]:"u"===t[s(969)]&&t[s(601)]===s(1104)?this.drop_default_duration?(console[s(1132)]("DefaultDuration detected!, remove it"),r=!0):this.currentTrack[s(1104)]=t[s(896)]:t.name===s(1179)&&console[s(1132)](t);!this[s(904)]&&t[s(664)]>0&&(this.metadataSize=t[s(664)]),!r&&this[s(1152)].push(t),this.logging&&this[s(1033)](t)}},Object.defineProperty(s.prototype,e(1089),{get:function(){var t=e;if("nothing"===this.trackInfo[t(969)])return console[t(1132)](t(1211)),0;var s,i=0,r=0,n=0,o=this[t(1062)][this[t(1073)][t(845)]];typeof o===t(1093)?i=o:this[t(1073)][t(969)]===t(1049)?this.last2SimpleBlockAudioTrackTimecode[1]>this[t(924)][1]?(i=(this[t(532)][1]-this[t(532)][0])*this[t(515)],typeof(s=this[t(1138)][this[t(658)][t(629)](2)])===t(1093)&&(r=s),n=this.last2SimpleBlockAudioTrackTimecode[1]):(i=(this[t(924)][1]-this.last2SimpleBlockVideoTrackTimecode[0])*this[t(515)],typeof(s=this[t(1138)][this[t(658)][t(629)](1)])===t(1093)&&(r=s),n=this[t(924)][1]):this.trackInfo[t(969)]===t(826)?(i=(this[t(924)][1]-this[t(924)][0])*this[t(515)],typeof(s=this[t(1138)][this[t(1073)][t(845)]])===t(1093)&&(r=s),n=this[t(924)][1]):this[t(1073)][t(969)]===t(887)&&(i=(this.last2SimpleBlockAudioTrackTimecode[1]-this[t(532)][0])*this[t(515)],typeof(s=this[t(1138)][this[t(1073)][t(845)]])===t(1093)&&(r=s),n=this[t(532)][1]);var a=((this[t(995)]+n)*this.timecodeScale+i-r)/this[t(515)];return Math.floor(a)},enumerable:!0,configurable:!0}),s[e(1016)][e(1022)]=function(s,i){var r=e;return t.prototype[r(1022)][r(410)](this,s,i)},s[e(1016)][e(1033)]=function(t){var s=e;!this.hasLoggingStarted&&(this[s(1023)]=!0,this.logging&&this[s(770)]&&console.groupCollapsed(this[s(770)])),"m"===t[s(969)]?t[s(611)]?console[s(998)]():console[s(695)](t[s(601)]+":"+t[s(654)]):"b"===t.type?console.log(t.name,t.type):console[s(743)](t[s(601)],t.tagStart,t[s(969)],t[s(896)])},s}(a[n(504)]);s[n(483)]=l},{"./tools":5,events:13}],4:[function(t,e,s){var i=Fh;Object[i(476)](s,i(912),{value:!0});var r=t(i(772));s[i(1103)]=r[i(483)];var n=t(i(988));s.Encoder=n[i(483)];var o=t(i(1006));s[i(819)]=o[i(483)];var a=t(i(1160));s[i(1106)]=a;var h=t(i(1080))[i(797)];s[i(797)]=h},{"../package.json":18,"./EBMLDecoder":1,"./EBMLEncoder":2,"./EBMLReader":3,"./tools":5}],5:[function(t,e,s){var i=Fh;Object[i(476)](s,i(912),{value:!0});var r=t(i(1035)),n=t("./EBMLEncoder"),o=t("buffer/"),a=t(i(820)),h=t(i(436));function l(t){var e=i;return t[e(1091)]((function(t,i){var r=e;return"b"!==i[r(969)]||i[r(601)]!==r(951)?t:s[r(844)](i[r(1122)]).frames[r(827)]((function(t){var e=r;return t[e(513)](3,6)[e(605)](e(714))===e(956)}))?t[r(1101)](i):t}),[])}function c(t){var e=i,r=d(e(1166),t),n=y([new(s[e(702)])(e(729),e(1194)),r]);return d(e(693),n)}function d(t,e){var r=i,n=new(s[r(702)])(4);return n[r(632)](e[r(1065)],0),y([new(s[r(702)])(t[r(662)](0,4),r(1194)),n,e,new(s[r(702)])(e.byteLength%2==0?0:1)])}function u(t,e){for(var s=i,r=-1,n=0;n<e.length;n++){var o=e[n];if(o[s(601)]===t){if("m"!==o[s(969)])return void e[s(991)](n,1);if(o.isEnd){if(-1==r)throw new Error(s(902)+t+s(993));return void e[s(991)](r,n-r+1)}r=n}}}function p(t,e){for(var s=i,r=[],n=-1,o=0;o<e.length;o++){var a=e[o];if(a[s(601)]===t){if("m"!==a[s(969)]){r[s(1082)](e[o]);break}if(a[s(611)]){if(-1==n)throw new Error(s(902)+t+s(993));r=e[s(513)](n,o+1);break}n=o}}return r}function f(t){var e=i,s=new(n[e(483)]);return t.reduce((function(t,i){return t[e(1101)](s.encode([i]))}),[])[e(1091)]((function(t,e){return t+e.byteLength}),0)}function m(t,e,r){var n,o,a=i,h=r[a(1089)],l=r[a(788)],c=r.cues,d=t[a(513)](0);if(typeof h===a(1093)){var u=!1;d[a(579)]((function(t){var e=a;"f"===t[e(969)]&&t[e(601)]===e(551)&&(u=!0,t[e(1122)]=b(h,8))})),!u&&g(d,a(723),[{name:a(551),type:"f",data:b(h,8)}])}Array[a(968)](c)&&g(d,a(823),(n=e,o=[],c.forEach((function(t){var e=Fh,s=t[e(1003)],i=t[e(754)],r=t[e(518)];o[e(1082)]({name:"CuePoint",type:"m",isEnd:!1}),o[e(1082)]({name:e(518),type:"u",data:A(r)}),o[e(1082)]({name:e(963),type:"m",isEnd:!1}),o[e(1082)]({name:e(1003),type:"u",data:A(s)}),o[e(1082)]({name:e(754),type:"u",data:A(i+n)}),o.push({name:e(963),type:"m",isEnd:!0}),o[e(1082)]({name:e(625),type:"m",isEnd:!0})})),o));var p,f,m,y=[];return Array[a(968)](l)&&(console.warn("append cluster pointers to seekhead is deprecated. please use cues"),p=e,m=[],l[(f=i)(579)]((function(t){var e=f;m[e(1082)]({name:e(1199),type:"m",isEnd:!1}),m[e(1082)]({name:e(574),type:"b",data:new(s[e(702)])([31,67,182,117])}),m[e(1082)]({name:"SeekPosition",type:"u",data:A(t+p)}),m[e(1082)]({name:e(1199),type:"m",isEnd:!0})})),y=m),g(d,a(1010),y,!0),d}function g(t,e,s,r){var n=i;void 0===r&&(r=!1);for(var o=-1,a=0;a<t[n(905)];a++){var h=t[a];if("m"===h[n(969)]&&h[n(601)]===e&&!1===h[n(611)]){o=a;break}}o>=0?Array[n(1016)][n(991)][n(763)](t,[o+1,0][n(1101)](s)):r?[][n(1101)]([{name:e,type:"m",isEnd:!1}],s,[{name:e,type:"m",isEnd:!0}]).reverse()[n(579)]((function(e){t[n(740)](e)})):(t[n(1082)]({name:e,type:"m",isEnd:!1}),s[n(579)]((function(e){t.push(e)})),t.push({name:e,type:"m",isEnd:!0}))}function y(t){for(var e=i,r=0,n=0;r<t[e(905)];++r)n+=t[r][e(905)];var o=s[e(702)][e(452)](n),a=0;for(r=0;r<t[e(905)];++r){var h=t[r];h.copy(o,a),a+=h[e(905)]}return o}function A(t){for(var e=i,n=1;t>=Math[e(1192)](2,8*n);n++);if(n>=7)return console[e(1132)](e(559)),new r.Uint64BE(t)[e(736)]();var o=new(s[e(702)])(n);return o[e(689)](t,0,n),o}function v(t){for(var e=i,n=1;t>=Math.pow(2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Int64BE(t)[e(736)]();var o=new(s[e(702)])(n);return o[e(527)](t,0,n),o}function b(t,e){var r,n=i;if(void 0===e&&(e=8),8===e)return(r=new(s[n(702)])(8))[n(555)](t,0),r;if(4===e)return(r=new s.Buffer(4))[n(769)](t,0),r;throw new Error(n(1168))}s[i(702)]=o[i(702)],s[i(665)]=a[i(665)],s[i(523)]=a[i(523)],s.ebmlBlock=h,s[i(894)]=function(t){return s[i(844)](new s.Buffer(t))},s[i(1069)]=function(t,e,r){var n=i;return void 0===r&&(r=!1),y([t,r?new(s[n(702)])(n(549),n(714)):s.writeVint(e[n(905)]),e])},s.WebPFrameFilter=function(t){var e=i;return l(t)[e(1091)]((function(t,i){var r=e;return s[r(844)](i[r(1122)])[r(1216)].reduce((function(t,e){var s=r,i=c(e),n=new Blob([i],{type:s(885)});return t[s(1101)](n)}),t)}),[])},s[i(785)]=l,s[i(838)]=c,s.createRIFFChunk=d,s[i(514)]=function(t,e,r){var o=i,a=p(o(704),t),h=f(a)+12,l=t[t.length-1][o(664)]-h,c=p(o(723),t);u(o(551),c),c[o(991)](1,0,{name:o(551),type:"f",data:b(e,8)});for(var d=f(c),m=p(o(535),t),g=f(m),y=47,v=[],S=5+15*r[o(905)],w=[],E=-1,T=function(t){var e=o,i=y,n=i+d,a=n+g,c=a+S-l;if((v=[])[e(1082)]({name:e(1010),type:"m",isEnd:!1}),v[e(1082)]({name:e(1199),type:"m",isEnd:!1}),v.push({name:e(574),type:"b",data:new s.Buffer([21,73,169,102])}),v[e(1082)]({name:e(645),type:"u",data:A(i)}),v[e(1082)]({name:"Seek",type:"m",isEnd:!0}),v[e(1082)]({name:"Seek",type:"m",isEnd:!1}),v[e(1082)]({name:"SeekID",type:"b",data:new(s[e(702)])([22,84,174,107])}),v[e(1082)]({name:e(645),type:"u",data:A(n)}),v[e(1082)]({name:"Seek",type:"m",isEnd:!0}),v.push({name:e(1199),type:"m",isEnd:!1}),v.push({name:"SeekID",type:"b",data:new s.Buffer([28,83,187,107])}),v[e(1082)]({name:"SeekPosition",type:"u",data:A(a)}),v.push({name:e(1199),type:"m",isEnd:!0}),v[e(1082)]({name:e(1010),type:"m",isEnd:!0}),y=f(v),(w=[])[e(1082)]({name:e(823),type:"m",isEnd:!1}),r[e(579)]((function(t){var s=e,i=t[s(1003)],r=t[s(754)],n=t[s(518)];w[s(1082)]({name:s(625),type:"m",isEnd:!1}),w.push({name:s(518),type:"u",data:A(n)}),w[s(1082)]({name:s(963),type:"m",isEnd:!1}),w[s(1082)]({name:"CueTrack",type:"u",data:A(i)}),r-=h,r+=c,w[s(1082)]({name:"CueClusterPosition",type:"u",data:A(r)}),w[s(1082)]({name:"CueTrackPositions",type:"m",isEnd:!0}),w.push({name:s(625),type:"m",isEnd:!0})})),w[e(1082)]({name:e(823),type:"m",isEnd:!0}),S=f(w),E===c)return e(1129);if(E=c,9===t)throw new Error("Failed to converge to a stable metadata size")},I=0;I<10;I++){if("break"===T(I))break}var k=[][o(1101)][o(763)]([],[a,{name:o(595),type:"m",isEnd:!1,unknownSize:!0},v,c,m,w]);return(new(n[o(483)]))[o(685)](k)},s[i(511)]=u,s.extractElement=p,s[i(497)]=function(t,e){var r=i;Array[r(968)](e[r(1156)])&&!Array.isArray(e[r(1060)])&&(console.warn(r(1009)),e[r(1060)]=e[r(1156)]);for(var o=[],a=[],h=0;h<t.length;h++){var l=t[h];if("m"===l[r(969)]&&l[r(601)]===r(595)){if(o=t[r(513)](0,h),a=t[r(513)](h),l.unknownSize){a[r(435)]();break}throw new Error(r(915))}}if(!(a[a[r(905)]-1][r(664)]>0))throw new Error(r(640));var c=a[a[r(905)]-1][r(664)],d=o[o[r(905)]-1][r(664)],u=(new(n[r(483)]))[r(685)](o)[r(1065)]-d,p=c-a[0][r(654)];a[0].tagStart,a[0][r(654)];var f,g=new s.Buffer([24,83,128,103]),y=new(s[r(702)])(r(549),r(714)),A=g[r(1065)]+y.byteLength,v=p;for(f=1;f<20;f++){var b=m(a,u+(d+A+v-c),e),S=(new(n[r(483)]))[r(685)](b).byteLength;if(S===v)return(new(n[r(483)]))[r(685)]([][r(1101)](o,[{type:"m",name:r(595),isEnd:!1,unknownSize:!0}],b));v=S}throw new Error(r(607)+f+" iterations!")},s.concat=y,s[i(545)]=function(t){var e=i,n=new s.Buffer(0);if("m"===t[e(969)])return t;switch(t[e(969)]){case"u":n=A(t[e(896)]);break;case"i":n=v(t[e(896)]);break;case"f":n=b(t[e(896)]);break;case"s":n=new(s[e(702)])(t[e(896)],"ascii");break;case"8":n=new(s[e(702)])(t[e(896)],e(1045));break;case"b":n=t[e(896)];break;case"d":n=new(r[e(460)])(t[e(896)][e(710)]()[e(605)]())[e(736)]()}return Object[e(648)]({},t,{data:n})},s[i(630)]=A,s[i(807)]=v,s.createFloatBuffer=b,s.convertEBMLDateToJSDate=function(t){var e=i;return t instanceof Date?t:new Date(new Date("2001-01-01T00:00:00.000Z")[e(710)]()+Number(t)/1e3/1e3)}},{"./EBMLEncoder":2,"buffer/":8,"ebml-block":9,"ebml/lib/ebml/tools":12,"int64-buffer":15}],6:[function(t,e,s){var i=Fh;s[i(1065)]=function(t){var e=c(t),s=e[0],i=e[1];return 3*(s+i)/4-i},s[i(493)]=function(t){for(var e,s=i,r=c(t),a=r[0],h=r[1],l=new o((f=a,m=h,3*(f+m)/4-m)),d=0,u=h>0?a-4:a,p=0;p<u;p+=4)e=n[t[s(641)](p)]<<18|n[t[s(641)](p+1)]<<12|n[t[s(641)](p+2)]<<6|n[t[s(641)](p+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;var f,m;return 2===h&&(e=n[t[s(641)](p)]<<2|n[t[s(641)](p+1)]>>4,l[d++]=255&e),1===h&&(e=n[t.charCodeAt(p)]<<10|n[t[s(641)](p+1)]<<4|n[t.charCodeAt(p+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e),l},s[i(453)]=function(t){for(var e,s=i,n=t[s(905)],o=n%3,a=[],h=16383,l=0,c=n-o;l<c;l+=h)a[s(1082)](d(t,l,l+h>c?c:l+h));1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a[s(1082)](r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return a[s(437)]("")};for(var r=[],n=[],o=typeof Uint8Array!==i(590)?Uint8Array:Array,a=i(538),h=0,l=a[i(905)];h<l;++h)r[h]=a[h],n[a[i(641)](h)]=h;function c(t){var e=i,s=t.length;if(s%4>0)throw new Error(e(439));var r=t[e(629)]("=");return-1===r&&(r=s),[r,r===s?0:4-r%4]}function d(t,e,s){for(var n,o,a=i,h=[],l=e;l<s;l+=3)n=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),h.push(r[(o=n)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return h[a(437)]("")}n["-".charCodeAt(0)]=62,n["_"[i(641)](0)]=63},{}],7:[function(t,e,s){var i=Fh;(function(e){var i=Fh,r=t(i(561)),n=t("ieee754"),o=t(i(816));function a(){return l[i(443)]?2147483647:1073741823}function h(t,e){var s=i;if(a()<e)throw new RangeError("Invalid typed array length");return l[s(443)]?(t=new Uint8Array(e))[s(978)]=l.prototype:(null===t&&(t=new l(e)),t[s(905)]=e),t}function l(t,e,s){var r=i;if(!(l[r(443)]||this instanceof l))return new l(t,e,s);if(typeof t===r(1093)){if(typeof e===r(983))throw new Error(r(1098));return u(this,t)}return c(this,t,e,s)}function c(t,e,s,r){var n=i;if(typeof e===n(1093))throw new TypeError(n(475));return typeof ArrayBuffer!==n(590)&&e instanceof ArrayBuffer?function(t,e,s,r){var n=i;if(e.byteLength,s<0||e.byteLength<s)throw new RangeError(n(925));if(e[n(1065)]<s+(r||0))throw new RangeError(n(752));e=void 0===s&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,s):new Uint8Array(e,s,r);return l[n(443)]?(t=e)[n(978)]=l[n(1016)]:t=p(t,e),t}(t,e,s,r):typeof e===n(983)?function(t,e,s){var r=i;if(("string"!=typeof s||""===s)&&(s=r(1045)),!l[r(412)](s))throw new TypeError(r(449));var n=0|m(e,s),o=(t=h(t,n)).write(e,s);return o!==n&&(t=t[r(513)](0,o)),t}(t,e,s):function(t,e){var s=i;if(l[s(798)](e)){var r=0|f(e[s(905)]);return 0===(t=h(t,r)).length||e.copy(t,0,0,r),t}if(e){if(typeof ArrayBuffer!==s(590)&&e.buffer instanceof ArrayBuffer||s(905)in e)return"number"!=typeof e[s(905)]||(n=e[s(905)])!=n?h(t,0):p(t,e);if(e[s(969)]===s(702)&&o(e[s(1122)]))return p(t,e[s(1122)])}var n;throw new TypeError(s(804))}(t,e)}function d(t){var e=i;if("number"!=typeof t)throw new TypeError(e(926));if(t<0)throw new RangeError(e(933))}function u(t,e){if(d(e),t=h(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var s=0;s<e;++s)t[s]=0;return t}function p(t,e){var s=e.length<0?0:0|f(e.length);t=h(t,s);for(var i=0;i<s;i+=1)t[i]=255&e[i];return t}function f(t){var e=i;if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum "+e(775)+a()[e(605)](16)+" bytes");return 0|t}function m(t,e){var s=i;if(l[s(798)](t))return t[s(905)];if(typeof ArrayBuffer!==s(590)&&typeof ArrayBuffer[s(1135)]===s(461)&&(ArrayBuffer[s(1135)](t)||t instanceof ArrayBuffer))return t[s(1065)];"string"!=typeof t&&(t=""+t);var r=t[s(905)];if(0===r)return 0;for(var n=!1;;)switch(e){case s(1194):case s(987):case s(1078):return r;case"utf8":case"utf-8":case void 0:return N(t)[s(905)];case s(1007):case s(585):case s(871):case s(1140):return 2*r;case s(714):return r>>>1;case s(1184):return j(t)[s(905)];default:if(n)return N(t)[s(905)];e=(""+e)[s(1087)](),n=!0}}function g(t,e,s){var n,o,a,h,l=i,c=!1;if((void 0===e||e<0)&&(e=0),e>this[l(905)])return"";if((void 0===s||s>this[l(905)])&&(s=this[l(905)]),s<=0)return"";if((s>>>=0)<=(e>>>=0))return"";for(t||(t=l(1045));;)switch(t){case l(714):return _(this,e,s);case l(1045):case l(1070):return E(this,e,s);case l(1194):return I(this,e,s);case l(987):case l(1078):return k(this,e,s);case l(1184):return n=this,a=s,h=void 0,h=i,0===(o=e)&&a===n[h(905)]?r[h(453)](n):r[h(453)](n[h(513)](o,a));case"ucs2":case l(585):case l(871):case l(1140):return C(this,e,s);default:if(c)throw new TypeError(l(1165)+t);t=(t+"")[l(1087)](),c=!0}}function y(t,e,s){var i=t[e];t[e]=t[s],t[s]=i}function A(t,e,s,r,n){var o=i;if(0===t[o(905)])return-1;if(typeof s===o(983)?(r=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=n?0:t[o(905)]-1),s<0&&(s=t[o(905)]+s),s>=t.length){if(n)return-1;s=t[o(905)]-1}else if(s<0){if(!n)return-1;s=0}if(typeof e===o(983)&&(e=l[o(503)](e,r)),l[o(798)](e))return 0===e[o(905)]?-1:v(t,e,s,r,n);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype[o(629)]===o(461)?n?Uint8Array[o(1016)][o(629)][o(410)](t,e,s):Uint8Array.prototype[o(655)][o(410)](t,e,s):v(t,[e],s,r,n);throw new TypeError(o(1175))}function v(t,e,s,r,n){var o,a=i,h=1,l=t[a(905)],c=e.length;if(void 0!==r&&((r=String(r).toLowerCase())===a(1007)||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t[a(905)]<2||e[a(905)]<2)return-1;h=2,l/=2,c/=2,s/=2}function d(t,e){var s=a;return 1===h?t[e]:t[s(972)](e*h)}if(n){var u=-1;for(o=s;o<l;o++)if(d(t,o)===d(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*h}else-1!==u&&(o-=o-u),u=-1}else for(s+c>l&&(s=l-c),o=s;o>=0;o--){for(var p=!0,f=0;f<c;f++)if(d(t,o+f)!==d(e,f)){p=!1;break}if(p)return o}return-1}function b(t,e,s,r){var n=i;s=Number(s)||0;var o=t[n(905)]-s;r?(r=Number(r))>o&&(r=o):r=o;var a=e[n(905)];if(a%2!=0)throw new TypeError(n(1083));r>a/2&&(r=a/2);for(var h=0;h<r;++h){var l=parseInt(e[n(662)](2*h,2),16);if(isNaN(l))return h;t[s+h]=l}return h}function S(t,e,s,r){return V(function(t){for(var e=i,s=[],r=0;r<t.length;++r)s[e(1082)](255&t[e(641)](r));return s}(e),t,s,r)}function w(t,e,s,r){return V(function(t,e){for(var s,r,n,o=i,a=[],h=0;h<t.length&&!((e-=2)<0);++h)r=(s=t[o(641)](h))>>8,n=s%256,a[o(1082)](n),a[o(1082)](r);return a}(e,t.length-s),t,s,r)}function E(t,e,s){var r=i;s=Math[r(694)](t[r(905)],s);for(var n=[],o=e;o<s;){var a,h,l,c,d=t[o],u=null,p=d>239?4:d>223?3:d>191?2:1;if(o+p<=s)switch(p){case 1:d<128&&(u=d);break;case 2:128==(192&(a=t[o+1]))&&((c=(31&d)<<6|63&a)>127&&(u=c));break;case 3:a=t[o+1],h=t[o+2],128==(192&a)&&128==(192&h)&&((c=(15&d)<<12|(63&a)<<6|63&h)>2047&&(c<55296||c>57343)&&(u=c));break;case 4:a=t[o+1],h=t[o+2],l=t[o+3],128==(192&a)&&128==(192&h)&&128==(192&l)&&((c=(15&d)<<18|(63&a)<<12|(63&h)<<6|63&l)>65535&&c<1114112&&(u=c))}null===u?(u=65533,p=1):u>65535&&(u-=65536,n[r(1082)](u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=p}return function(t){var e=i,s=t.length;if(s<=T)return String[e(423)].apply(String,t);var r="",n=0;for(;n<s;)r+=String[e(423)].apply(String,t[e(513)](n,n+=T));return r}(n)}s[i(702)]=l,s.SlowBuffer=function(t){return+t!=t&&(t=0),l[i(1178)](+t)},s[i(908)]=50,l[i(443)]=void 0!==e[i(443)]?e[i(443)]:function(){var t=i;try{var e=new Uint8Array(1);return e[t(978)]={__proto__:Uint8Array[t(1016)],foo:function(){return 42}},42===e[t(1071)]()&&typeof e[t(760)]===t(461)&&0===e[t(760)](1,1)[t(1065)]}catch(t){return!1}}(),s[i(895)]=a(),l[i(589)]=8192,l[i(1044)]=function(t){var e=i;return t.__proto__=l[e(1016)],t},l[i(503)]=function(t,e,s){return c(null,t,e,s)},l.TYPED_ARRAY_SUPPORT&&(l.prototype[i(978)]=Uint8Array[i(1016)],l[i(978)]=Uint8Array,typeof Symbol!==i(590)&&Symbol.species&&l[Symbol[i(556)]]===l&&Object.defineProperty(l,Symbol[i(556)],{value:null,configurable:!0})),l[i(1178)]=function(t,e,s){return i=null,n=e,o=s,d(r=t),r<=0?h(i,r):void 0!==n?"string"==typeof o?h(i,r).fill(n,o):h(i,r).fill(n):h(i,r);var i,r,n,o},l[i(452)]=function(t){return u(null,t)},l[i(849)]=function(t){return u(null,t)},l[i(798)]=function(t){return!(null==t||!t[i(768)])},l[i(961)]=function(t,e){var s=i;if(!l.isBuffer(t)||!l[s(798)](e))throw new TypeError(s(1173));if(t===e)return 0;for(var r=t[s(905)],n=e[s(905)],o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},l[i(412)]=function(t){var e=i;switch(String(t)[e(1087)]()){case e(714):case"utf8":case e(1070):case e(1194):case e(987):case"binary":case"base64":case e(1007):case e(585):case e(871):case e(1140):return!0;default:return!1}},l.concat=function(t,e){var s,r=i;if(!o(t))throw new TypeError(r(934));if(0===t[r(905)])return l[r(1178)](0);if(void 0===e)for(e=0,s=0;s<t[r(905)];++s)e+=t[s][r(905)];var n=l[r(452)](e),a=0;for(s=0;s<t[r(905)];++s){var h=t[s];if(!l.isBuffer(h))throw new TypeError(r(934));h[r(474)](n,a),a+=h[r(905)]}return n},l[i(1065)]=m,l[i(1016)][i(768)]=!0,l[i(1016)].swap16=function(){var t=i,e=this.length;if(e%2!=0)throw new RangeError(t(643));for(var s=0;s<e;s+=2)y(this,s,s+1);return this},l[i(1016)][i(870)]=function(){var t=i,e=this[t(905)];if(e%4!=0)throw new RangeError(t(862));for(var s=0;s<e;s+=4)y(this,s,s+3),y(this,s+1,s+2);return this},l[i(1016)].swap64=function(){var t=i,e=this.length;if(e%8!=0)throw new RangeError(t(762));for(var s=0;s<e;s+=8)y(this,s,s+7),y(this,s+1,s+6),y(this,s+2,s+5),y(this,s+3,s+4);return this},l[i(1016)].toString=function(){var t=i,e=0|this[t(905)];return 0===e?"":0===arguments[t(905)]?E(this,0,e):g[t(763)](this,arguments)},l[i(1016)][i(489)]=function(t){var e=i;if(!l[e(798)](t))throw new TypeError("Argument must be a Buffer");return this===t||0===l[e(961)](this,t)},l[i(1016)][i(683)]=function(){var t=i,e="",r=s[t(908)];return this[t(905)]>0&&(e=this[t(605)](t(714),0,r)[t(964)](/.{2}/g).join(" "),this.length>r&&(e+=t(966))),t(450)+e+">"},l[i(1016)].compare=function(t,e,s,r,n){var o=i;if(!l[o(798)](t))throw new TypeError(o(747));if(void 0===e&&(e=0),void 0===s&&(s=t?t[o(905)]:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||s>t[o(905)]||r<0||n>this[o(905)])throw new RangeError(o(958));if(r>=n&&e>=s)return 0;if(r>=n)return-1;if(e>=s)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(r>>>=0),h=(s>>>=0)-(e>>>=0),c=Math[o(694)](a,h),d=this[o(513)](r,n),u=t[o(513)](e,s),p=0;p<c;++p)if(d[p]!==u[p]){a=d[p],h=u[p];break}return a<h?-1:h<a?1:0},l[i(1016)][i(939)]=function(t,e,s){return-1!==this[i(629)](t,e,s)},l[i(1016)][i(629)]=function(t,e,s){return A(this,t,e,s,!0)},l[i(1016)][i(655)]=function(t,e,s){return A(this,t,e,s,!1)},l[i(1016)][i(965)]=function(t,e,s,r){var n=i;if(void 0===e)r=n(1045),s=this.length,e=0;else if(void 0===s&&"string"==typeof e)r=e,s=this[n(905)],e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(s)?(s|=0,void 0===r&&(r=n(1045))):(r=s,s=void 0)}var o=this[n(905)]-e;if((void 0===s||s>o)&&(s=o),t[n(905)]>0&&(s<0||e<0)||e>this[n(905)])throw new RangeError(n(982));r||(r=n(1045));for(var a,h,l,c,d,u,p=!1;;)switch(r){case"hex":return b(this,t,e,s);case"utf8":case n(1070):return d=e,u=s,V(N(t,(c=this)[i(905)]-d),c,d,u);case n(1194):return S(this,t,e,s);case n(987):case n(1078):return S(this,t,e,s);case n(1184):return a=this,h=e,l=s,V(j(t),a,h,l);case n(1007):case"ucs-2":case n(871):case n(1140):return w(this,t,e,s);default:if(p)throw new TypeError(n(1165)+r);r=(""+r).toLowerCase(),p=!0}},l[i(1016)][i(548)]=function(){var t=i;return{type:"Buffer",data:Array[t(1016)][t(513)][t(410)](this._arr||this,0)}};var T=4096;function I(t,e,s){var r=i,n="";s=Math[r(694)](t[r(905)],s);for(var o=e;o<s;++o)n+=String.fromCharCode(127&t[o]);return n}function k(t,e,s){var r=i,n="";s=Math.min(t[r(905)],s);for(var o=e;o<s;++o)n+=String.fromCharCode(t[o]);return n}function _(t,e,s){var r=t[i(905)];(!e||e<0)&&(e=0),(!s||s<0||s>r)&&(s=r);for(var n="",o=e;o<s;++o)n+=O(t[o]);return n}function C(t,e,s){for(var r=i,n=t[r(513)](e,s),o="",a=0;a<n[r(905)];a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function D(t,e,s){var r=i;if(t%1!=0||t<0)throw new RangeError(r(831));if(t+e>s)throw new RangeError(r(1128))}function R(t,e,s,r,n,o){var a=i;if(!l[a(798)](t))throw new TypeError(a(920));if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(s+r>t[a(905)])throw new RangeError("Index out of range")}function L(t,e,s,r){var n=i;e<0&&(e=65535+e+1);for(var o=0,a=Math[n(694)](t[n(905)]-s,2);o<a;++o)t[s+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(t,e,s,r){var n=i;e<0&&(e=4294967295+e+1);for(var o=0,a=Math[n(694)](t[n(905)]-s,4);o<a;++o)t[s+o]=e>>>8*(r?o:3-o)&255}function x(t,e,s,r,n,o){var a=i;if(s+r>t.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError(a(708))}function M(t,e,s,r,o){var a=i;return!o&&x(t,0,s,4),n[a(965)](t,e,s,r,23,4),s+4}function B(t,e,s,r,o){var a=i;return!o&&x(t,0,s,8),n[a(965)](t,e,s,r,52,8),s+8}l[i(1016)][i(513)]=function(t,e){var s,r=i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l[r(443)])(s=this[r(760)](t,e))[r(978)]=l.prototype;else{var o=e-t;s=new l(o,void 0);for(var a=0;a<o;++a)s[a]=this[a+t]}return s},l[i(1016)][i(863)]=function(t,e,s){t|=0,e|=0,s||D(t,e,this[i(905)]);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},l[i(1016)].readUIntBE=function(t,e,s){t|=0,e|=0,!s&&D(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l[i(1016)][i(1204)]=function(t,e){return e||D(t,1,this[i(905)]),this[t]},l[i(1016)][i(451)]=function(t,e){return e||D(t,2,this[i(905)]),this[t]|this[t+1]<<8},l.prototype[i(972)]=function(t,e){return e||D(t,2,this[i(905)]),this[t]<<8|this[t+1]},l[i(1016)][i(1112)]=function(t,e){return e||D(t,4,this[i(905)]),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l[i(1016)].readUInt32BE=function(t,e){return e||D(t,4,this[i(905)]),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l[i(1016)].readIntLE=function(t,e,s){t|=0,e|=0,s||D(t,e,this.length);for(var i=this[t],r=1,n=0;++n<e&&(r*=256);)i+=this[t+n]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l[i(1016)].readIntBE=function(t,e,s){var r=i;t|=0,e|=0,s||D(t,e,this[r(905)]);for(var n=e,o=1,a=this[t+--n];n>0&&(o*=256);)a+=this[t+--n]*o;return a>=(o*=128)&&(a-=Math[r(1192)](2,8*e)),a},l[i(1016)].readInt8=function(t,e){return e||D(t,1,this[i(905)]),128&this[t]?-1*(255-this[t]+1):this[t]},l[i(1016)][i(985)]=function(t,e){e||D(t,2,this[i(905)]);var s=this[t]|this[t+1]<<8;return 32768&s?4294901760|s:s},l[i(1016)].readInt16BE=function(t,e){e||D(t,2,this[i(905)]);var s=this[t+1]|this[t]<<8;return 32768&s?4294901760|s:s},l[i(1016)][i(1113)]=function(t,e){return e||D(t,4,this[i(905)]),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l[i(1016)][i(853)]=function(t,e){return e||D(t,4,this[i(905)]),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l[i(1016)][i(911)]=function(t,e){var s=i;return e||D(t,4,this[s(905)]),n[s(717)](this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){var s=i;return e||D(t,4,this[s(905)]),n[s(717)](this,t,!1,23,4)},l.prototype[i(610)]=function(t,e){var s=i;return e||D(t,8,this[s(905)]),n[s(717)](this,t,!0,52,8)},l[i(1016)][i(521)]=function(t,e){var s=i;return e||D(t,8,this.length),n[s(717)](this,t,!1,52,8)},l[i(1016)][i(687)]=function(t,e,s,r){(t=+t,e|=0,s|=0,r)||R(this,t,e,s,Math[i(1192)](2,8*s)-1,0);var n=1,o=0;for(this[e]=255&t;++o<s&&(n*=256);)this[e+o]=t/n&255;return e+s},l.prototype[i(689)]=function(t,e,s,r){(t=+t,e|=0,s|=0,r)||R(this,t,e,s,Math[i(1192)](2,8*s)-1,0);var n=s-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+s},l[i(1016)][i(1155)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math[r(1002)](t)),this[e]=255&t,e+1},l.prototype[i(828)]=function(t,e,s){return t=+t,e|=0,s||R(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l[i(1016)].writeUInt16BE=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,65535,0),l[r(443)]?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l[i(1016)][i(632)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,4294967295,0),l[r(443)]?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l[i(1016)].writeUInt32BE=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,4294967295,0),l[r(443)]?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l[i(1016)][i(957)]=function(t,e,s,r){if(t=+t,e|=0,!r){var n=Math[i(1192)](2,8*s-1);R(this,t,e,s,n-1,-n)}var o=0,a=1,h=0;for(this[e]=255&t;++o<s&&(a*=256);)t<0&&0===h&&0!==this[e+o-1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},l.prototype.writeIntBE=function(t,e,s,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*s-1);R(this,t,e,s,r-1,-r)}var n=s-1,o=1,a=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===a&&0!==this[e+n+1]&&(a=1),this[e+n]=(t/o>>0)-a&255;return e+s},l[i(1016)][i(419)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,1,127,-128),l[r(443)]||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l[i(1016)][i(631)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,32767,-32768),l[r(443)]?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l[i(1016)].writeInt16BE=function(t,e,s){return t=+t,e|=0,s||R(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l[i(1016)].writeInt32LE=function(t,e,s){return t=+t,e|=0,s||R(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l[i(1016)][i(576)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l[r(443)]?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l[i(1016)][i(421)]=function(t,e,s){return M(this,t,e,!0,s)},l[i(1016)][i(769)]=function(t,e,s){return M(this,t,e,!1,s)},l[i(1016)][i(1021)]=function(t,e,s){return B(this,t,e,!0,s)},l.prototype.writeDoubleBE=function(t,e,s){return B(this,t,e,!1,s)},l[i(1016)].copy=function(t,e,s,r){var n=i;if(s||(s=0),r||0===r||(r=this[n(905)]),e>=t[n(905)]&&(e=t.length),e||(e=0),r>0&&r<s&&(r=s),r===s)return 0;if(0===t.length||0===this[n(905)])return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError(n(440));if(r<0)throw new RangeError(n(906));r>this.length&&(r=this[n(905)]),t[n(905)]-e<r-s&&(r=t[n(905)]-e+s);var o,a=r-s;if(this===t&&s<e&&e<r)for(o=a-1;o>=0;--o)t[o+e]=this[o+s];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+s];else Uint8Array[n(1016)][n(1171)][n(410)](t,this.subarray(s,s+a),e);return a},l[i(1016)].fill=function(t,e,s,r){var n,o=i;if("string"==typeof t){if(typeof e===o(983)?(r=e,e=0,s=this[o(905)]):typeof s===o(983)&&(r=s,s=this[o(905)]),1===t[o(905)]){var a=t[o(641)](0);a<256&&(t=a)}if(void 0!==r&&typeof r!==o(983))throw new TypeError("encoding must be a string");if(typeof r===o(983)&&!l[o(412)](r))throw new TypeError("Unknown encoding: "+r)}else typeof t===o(1093)&&(t&=255);if(e<0||this[o(905)]<e||this[o(905)]<s)throw new RangeError(o(506));if(s<=e)return this;if(e>>>=0,s=void 0===s?this[o(905)]:s>>>0,t||(t=0),typeof t===o(1093))for(n=e;n<s;++n)this[n]=t;else{var h=l[o(798)](t)?t:N(new l(t,r)[o(605)]()),c=h[o(905)];for(n=0;n<s-e;++n)this[n+e]=h[n%c]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(t){var e,s,r=i;if((t=(e=t,s=i,e[s(813)]?e[s(813)]():e[s(544)](/^\s+|\s+$/g,""))[r(544)](F,""))[r(905)]<2)return"";for(;t[r(905)]%4!=0;)t+="=";return t}function O(t){var e=i;return t<16?"0"+t.toString(16):t[e(605)](16)}function N(t,e){var s=i;e=e||1/0;for(var r,n=t[s(905)],o=null,a=[],h=0;h<n;++h){if((r=t[s(641)](h))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(h+1===n){(e-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&a[s(1082)](239,191,189);if(o=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a[s(1082)](r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a[s(1082)](r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(s(950));if((e-=4)<0)break;a[s(1082)](r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(t){return r[i(493)](U(t))}function V(t,e,s,r){for(var n=i,o=0;o<r&&!(o+s>=e[n(905)]||o>=t[n(905)]);++o)e[o+s]=t[o];return o}})[i(410)](this,typeof pe[i(1153)]!==i(590)?pe[i(1153)]:typeof self!==i(590)?self:typeof window!==i(590)?window:{})},{"base64-js":6,ieee754:14,isarray:16}],8:[function(t,e,s){var i=Fh,r=t(i(561)),n=t(i(584));s[i(702)]=h,s[i(1005)]=function(t){return+t!=t&&(t=0),h.alloc(+t)},s.INSPECT_MAX_BYTES=50;var o=2147483647;function a(t){var e=i;if(t>o)throw new RangeError(e(433)+t+'" is invalid for option "size"');var s=new Uint8Array(t);return s.__proto__=h[e(1016)],s}function h(t,e,s){var r=i;if(typeof t===r(1093)){if("string"==typeof e)throw new TypeError(r(931));return d(t)}return l(t,e,s)}function l(t,e,s){var r=i;if(typeof t===r(983))return function(t,e){var s=i;if((typeof e!==s(983)||""===e)&&(e=s(1045)),!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|f(t,e),n=a(r),o=n[s(965)](t,e);return o!==r&&(n=n[s(513)](0,o)),n}(t,e);if(ArrayBuffer[r(1135)](t))return u(t);if(null==t)throw TypeError(r(846)+r(1012)+typeof t);if(O(t,ArrayBuffer)||t&&O(t[r(947)],ArrayBuffer))return function(t,e,s){var r,n=i;if(e<0||t[n(1065)]<e)throw new RangeError(n(684));if(t.byteLength<e+(s||0))throw new RangeError(n(1085));r=void 0===e&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,e):new Uint8Array(t,e,s);return r[n(978)]=h[n(1016)],r}(t,e,s);if(typeof t===r(1093))throw new TypeError(r(656));var n=t.valueOf&&t[r(568)]();if(null!=n&&n!==t)return h[r(503)](n,e,s);var o=function(t){var e=i;if(h[e(798)](t)){var s=0|p(t[e(905)]),r=a(s);return 0===r[e(905)]||t[e(474)](r,0,0,s),r}if(void 0!==t[e(905)])return"number"!=typeof t[e(905)]||N(t.length)?a(0):u(t);if(t[e(969)]===e(702)&&Array[e(968)](t[e(1122)]))return u(t[e(1122)])}(t);if(o)return o;if(typeof Symbol!==r(590)&&null!=Symbol.toPrimitive&&typeof t[Symbol.toPrimitive]===r(461))return h[r(503)](t[Symbol[r(776)]](r(983)),e,s);throw new TypeError(r(846)+r(1012)+typeof t)}function c(t){var e=i;if(typeof t!==e(1093))throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError(e(433)+t+e(874))}function d(t){return c(t),a(t<0?0:0|p(t))}function u(t){for(var e=t.length<0?0:0|p(t.length),s=a(e),i=0;i<e;i+=1)s[i]=255&t[i];return s}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o[i(605)](16)+" bytes");return 0|t}function f(t,e){var s=i;if(h[s(798)](t))return t.length;if(ArrayBuffer[s(1135)](t)||O(t,ArrayBuffer))return t[s(1065)];if(typeof t!==s(983))throw new TypeError(s(552)+"Received type "+typeof t);var r=t[s(905)],n=arguments[s(905)]>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case s(1194):case s(987):case s(1078):return r;case s(1045):case s(1070):return B(t)[s(905)];case"ucs2":case s(585):case s(871):case s(1140):return 2*r;case s(714):return r>>>1;case s(1184):return F(t)[s(905)];default:if(o)return n?-1:B(t)[s(905)];e=(""+e).toLowerCase(),o=!0}}function m(t,e,s){var n,o,a,h,l=i,c=!1;if((void 0===e||e<0)&&(e=0),e>this[l(905)])return"";if((void 0===s||s>this[l(905)])&&(s=this[l(905)]),s<=0)return"";if((s>>>=0)<=(e>>>=0))return"";for(t||(t=l(1045));;)switch(t){case l(714):return k(this,e,s);case l(1045):case l(1070):return w(this,e,s);case"ascii":return T(this,e,s);case l(987):case l(1078):return I(this,e,s);case l(1184):return n=this,a=s,h=void 0,h=i,0===(o=e)&&a===n[h(905)]?r[h(453)](n):r[h(453)](n[h(513)](o,a));case l(1007):case l(585):case"utf16le":case l(1140):return _(this,e,s);default:if(c)throw new TypeError(l(1165)+t);t=(t+"")[l(1087)](),c=!0}}function g(t,e,s){var i=t[e];t[e]=t[s],t[s]=i}function y(t,e,s,r,n){var o=i;if(0===t.length)return-1;if(typeof s===o(983)?(r=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),N(s=+s)&&(s=n?0:t.length-1),s<0&&(s=t[o(905)]+s),s>=t[o(905)]){if(n)return-1;s=t[o(905)]-1}else if(s<0){if(!n)return-1;s=0}if(typeof e===o(983)&&(e=h[o(503)](e,r)),h[o(798)](e))return 0===e.length?-1:A(t,e,s,r,n);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array[o(1016)][o(629)]?n?Uint8Array[o(1016)][o(629)][o(410)](t,e,s):Uint8Array[o(1016)][o(655)][o(410)](t,e,s):A(t,[e],s,r,n);throw new TypeError(o(1175))}function A(t,e,s,r,n){var o,a=i,h=1,l=t[a(905)],c=e[a(905)];if(void 0!==r&&((r=String(r)[a(1087)]())===a(1007)||r===a(585)||"utf16le"===r||r===a(1140))){if(t.length<2||e[a(905)]<2)return-1;h=2,l/=2,c/=2,s/=2}function d(t,e){return 1===h?t[e]:t.readUInt16BE(e*h)}if(n){var u=-1;for(o=s;o<l;o++)if(d(t,o)===d(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*h}else-1!==u&&(o-=o-u),u=-1}else for(s+c>l&&(s=l-c),o=s;o>=0;o--){for(var p=!0,f=0;f<c;f++)if(d(t,o+f)!==d(e,f)){p=!1;break}if(p)return o}return-1}function v(t,e,s,r){var n=i;s=Number(s)||0;var o=t.length-s;r?(r=Number(r))>o&&(r=o):r=o;var a=e.length;r>a/2&&(r=a/2);for(var h=0;h<r;++h){var l=parseInt(e[n(662)](2*h,2),16);if(N(l))return h;t[s+h]=l}return h}function b(t,e,s,r){return U(function(t){for(var e=i,s=[],r=0;r<t.length;++r)s.push(255&t[e(641)](r));return s}(e),t,s,r)}function S(t,e,s,r){return U(function(t,e){for(var s,r,n,o=i,a=[],h=0;h<t[o(905)]&&!((e-=2)<0);++h)r=(s=t[o(641)](h))>>8,n=s%256,a[o(1082)](n),a.push(r);return a}(e,t.length-s),t,s,r)}function w(t,e,s){var r=i;s=Math[r(694)](t[r(905)],s);for(var n=[],o=e;o<s;){var a,h,l,c,d=t[o],u=null,p=d>239?4:d>223?3:d>191?2:1;if(o+p<=s)switch(p){case 1:d<128&&(u=d);break;case 2:128==(192&(a=t[o+1]))&&((c=(31&d)<<6|63&a)>127&&(u=c));break;case 3:a=t[o+1],h=t[o+2],128==(192&a)&&128==(192&h)&&((c=(15&d)<<12|(63&a)<<6|63&h)>2047&&(c<55296||c>57343)&&(u=c));break;case 4:a=t[o+1],h=t[o+2],l=t[o+3],128==(192&a)&&128==(192&h)&&128==(192&l)&&((c=(15&d)<<18|(63&a)<<12|(63&h)<<6|63&l)>65535&&c<1114112&&(u=c))}null===u?(u=65533,p=1):u>65535&&(u-=65536,n[r(1082)](u>>>10&1023|55296),u=56320|1023&u),n[r(1082)](u),o+=p}return function(t){var e=i,s=t[e(905)];if(s<=E)return String[e(423)][e(763)](String,t);var r="",n=0;for(;n<s;)r+=String[e(423)].apply(String,t[e(513)](n,n+=E));return r}(n)}s[i(895)]=o,h[i(443)]=function(){var t=i;try{var e=new Uint8Array(1);return e[t(978)]={__proto__:Uint8Array[t(1016)],foo:function(){return 42}},42===e[t(1071)]()}catch(t){return!1}}(),!h[i(443)]&&typeof console!==i(590)&&typeof console.error===i(461)&&console.error(i(843)+i(470)),Object[i(476)](h[i(1016)],i(593),{enumerable:!0,get:function(){var t=i;if(h[t(798)](this))return this[t(947)]}}),Object[i(476)](h[i(1016)],i(782),{enumerable:!0,get:function(){var t=i;if(h[t(798)](this))return this[t(1198)]}}),typeof Symbol!==i(590)&&null!=Symbol[i(556)]&&h[Symbol[i(556)]]===h&&Object[i(476)](h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h[i(503)]=function(t,e,s){return l(t,e,s)},h.prototype.__proto__=Uint8Array.prototype,h[i(978)]=Uint8Array,h[i(1178)]=function(t,e,s){return n=e,o=s,h=i,c(r=t),r<=0?a(r):void 0!==n?typeof o===h(983)?a(r)[h(701)](n,o):a(r)[h(701)](n):a(r);var r,n,o,h},h[i(452)]=function(t){return d(t)},h[i(849)]=function(t){return d(t)},h[i(798)]=function(t){var e=i;return null!=t&&!0===t[e(768)]&&t!==h[e(1016)]},h[i(961)]=function(t,e){var s=i;if(O(t,Uint8Array)&&(t=h[s(503)](t,t[s(782)],t[s(1065)])),O(e,Uint8Array)&&(e=h[s(503)](e,e.offset,e[s(1065)])),!h.isBuffer(t)||!h[s(798)](e))throw new TypeError(s(1221));if(t===e)return 0;for(var r=t[s(905)],n=e.length,o=0,a=Math[s(694)](r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){var e=i;switch(String(t)[e(1087)]()){case e(714):case"utf8":case e(1070):case"ascii":case e(987):case e(1078):case e(1184):case e(1007):case e(585):case e(871):case e(1140):return!0;default:return!1}},h[i(1101)]=function(t,e){var s,r=i;if(!Array[r(968)](t))throw new TypeError(r(934));if(0===t[r(905)])return h.alloc(0);if(void 0===e)for(e=0,s=0;s<t.length;++s)e+=t[s][r(905)];var n=h[r(452)](e),o=0;for(s=0;s<t.length;++s){var a=t[s];if(O(a,Uint8Array)&&(a=h[r(503)](a)),!h[r(798)](a))throw new TypeError('"list" argument must be an Array of Buffers');a[r(474)](n,o),o+=a[r(905)]}return n},h[i(1065)]=f,h[i(1016)][i(768)]=!0,h[i(1016)][i(860)]=function(){var t=i,e=this[t(905)];if(e%2!=0)throw new RangeError(t(643));for(var s=0;s<e;s+=2)g(this,s,s+1);return this},h.prototype[i(870)]=function(){var t=i,e=this[t(905)];if(e%4!=0)throw new RangeError(t(862));for(var s=0;s<e;s+=4)g(this,s,s+3),g(this,s+1,s+2);return this},h[i(1016)].swap64=function(){var t=i,e=this[t(905)];if(e%8!=0)throw new RangeError(t(762));for(var s=0;s<e;s+=8)g(this,s,s+7),g(this,s+1,s+6),g(this,s+2,s+5),g(this,s+3,s+4);return this},h[i(1016)][i(605)]=function(){var t=i,e=this[t(905)];return 0===e?"":0===arguments[t(905)]?w(this,0,e):m[t(763)](this,arguments)},h[i(1016)][i(603)]=h[i(1016)][i(605)],h[i(1016)][i(489)]=function(t){var e=i;if(!h[e(798)](t))throw new TypeError(e(747));return this===t||0===h.compare(this,t)},h[i(1016)][i(683)]=function(){var t=i,e="",r=s[t(908)];return e=this[t(605)](t(714),0,r)[t(544)](/(.{2})/g,t(1124)).trim(),this[t(905)]>r&&(e+=" ... "),t(450)+e+">"},h[i(1016)].compare=function(t,e,s,r,n){var o=i;if(O(t,Uint8Array)&&(t=h[o(503)](t,t[o(782)],t[o(1065)])),!h[o(798)](t))throw new TypeError(o(636)+o(1172)+typeof t);if(void 0===e&&(e=0),void 0===s&&(s=t?t[o(905)]:0),void 0===r&&(r=0),void 0===n&&(n=this[o(905)]),e<0||s>t.length||r<0||n>this[o(905)])throw new RangeError(o(958));if(r>=n&&e>=s)return 0;if(r>=n)return-1;if(e>=s)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(r>>>=0),l=(s>>>=0)-(e>>>=0),c=Math[o(694)](a,l),d=this.slice(r,n),u=t[o(513)](e,s),p=0;p<c;++p)if(d[p]!==u[p]){a=d[p],l=u[p];break}return a<l?-1:l<a?1:0},h[i(1016)][i(939)]=function(t,e,s){return-1!==this[i(629)](t,e,s)},h[i(1016)][i(629)]=function(t,e,s){return y(this,t,e,s,!0)},h[i(1016)][i(655)]=function(t,e,s){return y(this,t,e,s,!1)},h[i(1016)].write=function(t,e,s,r){var n=i;if(void 0===e)r=n(1045),s=this.length,e=0;else if(void 0===s&&typeof e===n(983))r=e,s=this.length,e=0;else{if(!isFinite(e))throw new Error(n(690));e>>>=0,isFinite(s)?(s>>>=0,void 0===r&&(r=n(1045))):(r=s,s=void 0)}var o=this[n(905)]-e;if((void 0===s||s>o)&&(s=o),t.length>0&&(s<0||e<0)||e>this[n(905)])throw new RangeError(n(982));r||(r=n(1045));for(var a,h,l,c,d,u,p=!1;;)switch(r){case"hex":return v(this,t,e,s);case n(1045):case n(1070):return d=e,u=s,U(B(t,(c=this)[i(905)]-d),c,d,u);case n(1194):return b(this,t,e,s);case n(987):case"binary":return b(this,t,e,s);case"base64":return a=this,h=e,l=s,U(F(t),a,h,l);case"ucs2":case n(585):case n(871):case n(1140):return S(this,t,e,s);default:if(p)throw new TypeError(n(1165)+r);r=(""+r)[n(1087)](),p=!0}},h[i(1016)].toJSON=function(){var t=i;return{type:"Buffer",data:Array[t(1016)][t(513)][t(410)](this[t(794)]||this,0)}};var E=4096;function T(t,e,s){var r=i,n="";s=Math[r(694)](t[r(905)],s);for(var o=e;o<s;++o)n+=String[r(423)](127&t[o]);return n}function I(t,e,s){var r=i,n="";s=Math.min(t[r(905)],s);for(var o=e;o<s;++o)n+=String[r(423)](t[o]);return n}function k(t,e,s){var r=t[i(905)];(!e||e<0)&&(e=0),(!s||s<0||s>r)&&(s=r);for(var n="",o=e;o<s;++o)n+=M(t[o]);return n}function _(t,e,s){for(var r=i,n=t.slice(e,s),o="",a=0;a<n[r(905)];a+=2)o+=String[r(423)](n[a]+256*n[a+1]);return o}function C(t,e,s){var r=i;if(t%1!=0||t<0)throw new RangeError(r(831));if(t+e>s)throw new RangeError(r(1128))}function D(t,e,s,r,n,o){var a=i;if(!h[a(798)](t))throw new TypeError(a(920));if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(s+r>t[a(905)])throw new RangeError(a(708))}function R(t,e,s,r,n,o){var a=i;if(s+r>t.length)throw new RangeError(a(708));if(s<0)throw new RangeError("Index out of range")}function L(t,e,s,i,r){return e=+e,s>>>=0,!r&&R(t,0,s,4),n.write(t,e,s,i,23,4),s+4}function P(t,e,s,r,o){var a=i;return e=+e,s>>>=0,!o&&R(t,0,s,8),n[a(965)](t,e,s,r,52,8),s+8}h[i(1016)][i(513)]=function(t,e){var s=i,r=this[s(905)];(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this[s(760)](t,e);return n[s(978)]=h[s(1016)],n},h[i(1016)].readUIntLE=function(t,e,s){t>>>=0,e>>>=0,s||C(t,e,this[i(905)]);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},h[i(1016)][i(873)]=function(t,e,s){t>>>=0,e>>>=0,!s&&C(t,e,this[i(905)]);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},h[i(1016)][i(1204)]=function(t,e){return t>>>=0,e||C(t,1,this[i(905)]),this[t]},h[i(1016)][i(451)]=function(t,e){return t>>>=0,e||C(t,2,this[i(905)]),this[t]|this[t+1]<<8},h[i(1016)].readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this[i(905)]),this[t]<<8|this[t+1]},h[i(1016)][i(1112)]=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h[i(1016)][i(806)]=function(t,e){return t>>>=0,e||C(t,4,this[i(905)]),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype[i(1136)]=function(t,e,s){t>>>=0,e>>>=0,s||C(t,e,this[i(905)]);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},h[i(1016)][i(703)]=function(t,e,s){var r=i;t>>>=0,e>>>=0,s||C(t,e,this[r(905)]);for(var n=e,o=1,a=this[t+--n];n>0&&(o*=256);)a+=this[t+--n]*o;return a>=(o*=128)&&(a-=Math[r(1192)](2,8*e)),a},h.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h[i(1016)][i(985)]=function(t,e){t>>>=0,e||C(t,2,this[i(905)]);var s=this[t]|this[t+1]<<8;return 32768&s?4294901760|s:s},h[i(1016)][i(510)]=function(t,e){t>>>=0,e||C(t,2,this.length);var s=this[t+1]|this[t]<<8;return 32768&s?4294901760|s:s},h.prototype[i(1113)]=function(t,e){return t>>>=0,e||C(t,4,this[i(905)]),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this[i(905)]),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h[i(1016)][i(911)]=function(t,e){var s=i;return t>>>=0,e||C(t,4,this[s(905)]),n[s(717)](this,t,!0,23,4)},h[i(1016)][i(799)]=function(t,e){var s=i;return t>>>=0,e||C(t,4,this.length),n[s(717)](this,t,!1,23,4)},h[i(1016)][i(610)]=function(t,e){var s=i;return t>>>=0,e||C(t,8,this[s(905)]),n[s(717)](this,t,!0,52,8)},h.prototype[i(521)]=function(t,e){var s=i;return t>>>=0,e||C(t,8,this[s(905)]),n[s(717)](this,t,!1,52,8)},h[i(1016)].writeUIntLE=function(t,e,s,r){(t=+t,e>>>=0,s>>>=0,r)||D(this,t,e,s,Math[i(1192)](2,8*s)-1,0);var n=1,o=0;for(this[e]=255&t;++o<s&&(n*=256);)this[e+o]=t/n&255;return e+s},h.prototype.writeUIntBE=function(t,e,s,r){(t=+t,e>>>=0,s>>>=0,r)||D(this,t,e,s,Math[i(1192)](2,8*s)-1,0);var n=s-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+s},h.prototype[i(1155)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype[i(828)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h[i(1016)][i(444)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h[i(1016)].writeUInt32LE=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h[i(1016)][i(786)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h[i(1016)][i(957)]=function(t,e,s,r){if(t=+t,e>>>=0,!r){var n=Math[i(1192)](2,8*s-1);D(this,t,e,s,n-1,-n)}var o=0,a=1,h=0;for(this[e]=255&t;++o<s&&(a*=256);)t<0&&0===h&&0!==this[e+o-1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},h.prototype.writeIntBE=function(t,e,s,r){if(t=+t,e>>>=0,!r){var n=Math[i(1192)](2,8*s-1);D(this,t,e,s,n-1,-n)}var o=s-1,a=1,h=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===h&&0!==this[e+o+1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},h.prototype[i(419)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h[i(1016)].writeInt16LE=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h[i(1016)][i(738)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h[i(1016)][i(697)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h[i(1016)][i(576)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h[i(1016)][i(421)]=function(t,e,s){return L(this,t,e,!0,s)},h[i(1016)][i(769)]=function(t,e,s){return L(this,t,e,!1,s)},h[i(1016)].writeDoubleLE=function(t,e,s){return P(this,t,e,!0,s)},h.prototype[i(555)]=function(t,e,s){return P(this,t,e,!1,s)},h[i(1016)][i(474)]=function(t,e,s,r){var n=i;if(!h[n(798)](t))throw new TypeError(n(795));if(s||(s=0),r||0===r||(r=this[n(905)]),e>=t[n(905)]&&(e=t[n(905)]),e||(e=0),r>0&&r<s&&(r=s),r===s)return 0;if(0===t[n(905)]||0===this[n(905)])return 0;if(e<0)throw new RangeError(n(604));if(s<0||s>=this[n(905)])throw new RangeError("Index out of range");if(r<0)throw new RangeError(n(906));r>this.length&&(r=this[n(905)]),t.length-e<r-s&&(r=t[n(905)]-e+s);var o=r-s;if(this===t&&typeof Uint8Array.prototype.copyWithin===n(461))this[n(746)](e,s,r);else if(this===t&&s<e&&e<r)for(var a=o-1;a>=0;--a)t[a+e]=this[a+s];else Uint8Array[n(1016)][n(1171)][n(410)](t,this[n(760)](s,r),e);return o},h[i(1016)][i(701)]=function(t,e,s,r){var n,o=i;if(typeof t===o(983)){if(typeof e===o(983)?(r=e,e=0,s=this.length):typeof s===o(983)&&(r=s,s=this.length),void 0!==r&&typeof r!==o(983))throw new TypeError(o(454));if(typeof r===o(983)&&!h.isEncoding(r))throw new TypeError(o(1165)+r);if(1===t[o(905)]){var a=t[o(641)](0);(r===o(1045)&&a<128||r===o(987))&&(t=a)}}else typeof t===o(1093)&&(t&=255);if(e<0||this[o(905)]<e||this.length<s)throw new RangeError(o(506));if(s<=e)return this;if(e>>>=0,s=void 0===s?this[o(905)]:s>>>0,t||(t=0),"number"==typeof t)for(n=e;n<s;++n)this[n]=t;else{var l=h[o(798)](t)?t:h[o(503)](t,r),c=l[o(905)];if(0===c)throw new TypeError(o(433)+t+o(954));for(n=0;n<s-e;++n)this[n+e]=l[n%c]}return this};var x=/[^+/0-9A-Za-z-_]/g;function M(t){var e=i;return t<16?"0"+t.toString(16):t[e(605)](16)}function B(t,e){var s=i;e=e||1/0;for(var r,n=t[s(905)],o=null,a=[],h=0;h<n;++h){if((r=t[s(641)](h))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a[s(1082)](239,191,189);continue}if(h+1===n){(e-=3)>-1&&a[s(1082)](239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a[s(1082)](239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&a[s(1082)](239,191,189);if(o=null,r<128){if((e-=1)<0)break;a[s(1082)](r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a[s(1082)](r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a[s(1082)](r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function F(t){return r[i(493)](function(t){var e=i;if((t=(t=t[e(790)]("=")[0])[e(813)]()[e(544)](x,""))[e(905)]<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,s,r){for(var n=i,o=0;o<r&&!(o+s>=e[n(905)]||o>=t[n(905)]);++o)e[o+s]=t[o];return o}function O(t,e){var s=i;return t instanceof e||null!=t&&null!=t[s(1008)]&&null!=t.constructor[s(601)]&&t[s(1008)][s(601)]===e.name}function N(t){return t!=t}},{"base64-js":6,ieee754:14}],9:[function(t,e,s){var i=Fh,r=t("./lib/buffer-reader");e[i(810)]=function(t){var e=i,s={},n=new r(t);s[e(845)]=n[e(1120)](),s[e(588)]=n.nextInt16BE();var o=n.nextUInt8();s[e(715)]=!!(8&o),s[e(569)]=!!(128&o),s[e(1117)]=!!(1&o);var a=(6&o)>>1;return s[e(1216)]=function(t,e){var s=i;if(!e)return[t[s(1084)]()];var r,n,o=[],a=t.nextUInt8()+1;if(2===e){if(t[s(905)]%a!=0)throw new Error(s(438));for(n=t[s(905)]/a,r=0;r<a;r++)o[s(1082)](t.nextBuffer(n));return o}var h=[];if(1===e)for(r=0;r<a-1;r++){var l;n=0;do{n+=l=t[s(1116)]()}while(255===l);h[s(1082)](n)}else if(3===e)for(n=t[s(1120)](),h[s(1082)](n),r=1;r<a-1;r++)n+=t.nextIntV(),h[s(1082)](n);for(r=0;r<a-1;r++)o[s(1082)](t[s(1084)](h[r]));return o.push(t[s(1084)]()),o}(n,a),s}},{"./lib/buffer-reader":10}],10:[function(t,e,s){var i=Fh,r=t("./vint");function n(t){var e=Fh;this[e(947)]=t,this[e(782)]=0}n[i(1016)][i(1029)]=function(){var t=i,e=this.buffer[t(510)](this[t(782)]);return this.offset+=2,e},n.prototype[i(1116)]=function(){var t=i,e=this.buffer[t(1204)](this[t(782)]);return this[t(782)]+=1,e},n[i(1016)][i(1120)]=function(){var t=i,e=r(this.buffer,this.offset);return this[t(782)]+=e[t(905)],e[t(896)]},n.prototype.nextIntV=function(){var t=i,e=r(this[t(947)],this[t(782)],!0);return this[t(782)]+=e[t(905)],e[t(896)]},n[i(1016)][i(1084)]=function(t){var e=i,s=t?this[e(947)][e(513)](this[e(782)],this[e(782)]+t):this[e(947)].slice(this.offset);return this[e(782)]+=t||this.length,s},Object[i(476)](n[i(1016)],i(905),{get:function(){var t=i;return this[t(947)][t(905)]-this[t(782)]}}),e[i(810)]=n},{"./vint":11}],11:[function(t,e,s){var i=Fh;e[i(810)]=function(t,e,s){var r=i;e=e||0;for(var n=1;n<=8&&!(t[e]>=Math[r(1192)](2,8-n));n++);if(n>8)throw new Error(r(711)+n+" "+t.toString(r(714),e,e+n));if(e+n>t[r(905)])return null;var o,a=t[e]&(1<<8-n)-1;for(o=1;o<n;o++){if(7===o&&a>=Math[r(1192)](2,45)&&t[e+7]>0)return{length:n,value:-1};a*=Math[r(1192)](2,8),a+=t[e+o]}return s&&(a-=Math[r(1192)](2,7*n-1)-1),{length:n,value:a}}},{}],12:[function(t,e,s){var i=Fh;(function(t){var s={readVint:function(t,e){var s=Fh;e=e||0;for(var i=1;i<=8&&!(t[e]>=Math[s(1192)](2,8-i));i++);if(i>8)throw new Error(s(711)+i+" "+t[s(605)](s(714),e,e+i));if(e+i>t[s(905)])return null;for(var r=t[e]&(1<<8-i)-1,n=1;n<i;n++){if(7===n&&r>=Math[s(1192)](2,45)&&t[e+7]>0)return{length:i,value:-1};r*=Math[s(1192)](2,8),r+=t[e+n]}return{length:i,value:r}},writeVint:function(e){var s=Fh;if(e<0||e>Math.pow(2,53))throw new Error(s(821)+e);for(var i=1;i<=8&&!(e<Math[s(1192)](2,7*i)-1);i++);for(var r=new t(i),n=1;n<=i;n++){var o=255&e;r[i-n]=o,e-=o,e/=Math[s(1192)](2,8)}return r[0]=r[0]|1<<8-i,r}};e[Fh(810)]=s})[i(410)](this,t(i(947))[i(702)])},{buffer:7}],13:[function(t,e,s){var i=Fh;function r(){var t=Fh;this[t(614)]=this[t(614)]||{},this._maxListeners=this[t(546)]||void 0}function n(t){return typeof t===i(461)}function o(t){return typeof t===i(1118)&&null!==t}function a(t){return void 0===t}e[i(810)]=r,r[i(504)]=r,r[i(1016)][i(614)]=void 0,r[i(1016)][i(546)]=void 0,r[i(1050)]=10,r[i(1016)][i(919)]=function(t){var e=i;if(typeof t!==i(1093)||t<0||isNaN(t))throw TypeError(e(793));return this[e(546)]=t,this},r[i(1016)][i(1190)]=function(t){var e,s,r,h,l,c,d=i;if(this._events||(this[d(614)]={}),t===d(602)&&(!this[d(614)][d(602)]||o(this._events[d(602)])&&!this[d(614)][d(602)][d(905)])){if((e=arguments[1])instanceof Error)throw e;var u=new Error(d(481)+e+")");throw u[d(529)]=e,u}if(a(s=this._events[t]))return!1;if(n(s))switch(arguments[d(905)]){case 1:s[d(410)](this);break;case 2:s[d(410)](this,arguments[1]);break;case 3:s[d(410)](this,arguments[1],arguments[2]);break;default:h=Array[d(1016)].slice[d(410)](arguments,1),s.apply(this,h)}else if(o(s))for(h=Array[d(1016)].slice.call(arguments,1),r=(c=s.slice()).length,l=0;l<r;l++)c[l][d(763)](this,h);return!0},r[i(1016)][i(1022)]=function(t,e){var s,h=i;if(!n(e))throw TypeError(h(592));return this[h(614)]||(this[h(614)]={}),this[h(614)][h(881)]&&this[h(1190)]("newListener",t,n(e.listener)?e[h(667)]:e),this._events[t]?o(this._events[t])?this[h(614)][t][h(1082)](e):this[h(614)][t]=[this[h(614)][t],e]:this[h(614)][t]=e,o(this[h(614)][t])&&!this[h(614)][t][h(1145)]&&((s=a(this[h(546)])?r[h(1050)]:this._maxListeners)&&s>0&&this._events[t][h(905)]>s&&(this[h(614)][t].warned=!0,console[h(602)](h(516)+"leak detected. %d listeners added. "+h(458),this._events[t].length),typeof console[h(1e3)]===h(461)&&console.trace())),this},r[i(1016)].on=r[i(1016)][i(1022)],r[i(1016)][i(1186)]=function(t,e){var s=i;if(!n(e))throw TypeError(s(592));var r=!1;function o(){var i=s;this.removeListener(t,o),!r&&(r=!0,e[i(763)](this,arguments))}return o[s(667)]=e,this.on(t,o),this},r.prototype[i(1188)]=function(t,e){var s,r,a,h,l=i;if(!n(e))throw TypeError(l(592));if(!this[l(614)]||!this[l(614)][t])return this;if(a=(s=this._events[t])[l(905)],r=-1,s===e||n(s[l(667)])&&s[l(667)]===e)delete this[l(614)][t],this[l(614)][l(1188)]&&this[l(1190)]("removeListener",t,e);else if(o(s)){for(h=a;h-- >0;)if(s[h]===e||s[h].listener&&s[h].listener===e){r=h;break}if(r<0)return this;1===s.length?(s[l(905)]=0,delete this._events[t]):s[l(991)](r,1),this[l(614)][l(1188)]&&this.emit("removeListener",t,e)}return this},r.prototype[i(927)]=function(t){var e,s,r=i;if(!this[r(614)])return this;if(!this._events[r(1188)])return 0===arguments[r(905)]?this[r(614)]={}:this[r(614)][t]&&delete this[r(614)][t],this;if(0===arguments[r(905)]){for(e in this._events)e!==r(1188)&&this[r(927)](e);return this[r(927)](r(1188)),this[r(614)]={},this}if(n(s=this._events[t]))this[r(1188)](t,s);else if(s)for(;s.length;)this.removeListener(t,s[s[r(905)]-1]);return delete this[r(614)][t],this},r.prototype.listeners=function(t){var e=i;return this._events&&this[e(614)][t]?n(this[e(614)][t])?[this[e(614)][t]]:this._events[t][e(513)]():[]},r.prototype[i(824)]=function(t){var e=i;if(this._events){var s=this[e(614)][t];if(n(s))return 1;if(s)return s.length}return 0},r.listenerCount=function(t,e){return t[i(824)](e)}},{}],14:[function(t,e,s){var i=Fh;s[i(717)]=function(t,e,s,r,n){var o,a,h=i,l=8*n-r-1,c=(1<<l)-1,d=c>>1,u=-7,p=s?n-1:0,f=s?-1:1,m=t[e+p];for(p+=f,o=m&(1<<-u)-1,m>>=-u,u+=l;u>0;o=256*o+t[e+p],p+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+t[e+p],p+=f,u-=8);if(0===o)o=1-d;else{if(o===c)return a?NaN:1/0*(m?-1:1);a+=Math[h(1192)](2,r),o-=d}return(m?-1:1)*a*Math[h(1192)](2,o-r)},s[i(965)]=function(t,e,s,r,n,o){var a,h,l,c=i,d=8*o-n-1,u=(1<<d)-1,p=u>>1,f=23===n?Math[c(1192)](2,-24)-Math[c(1192)](2,-77):0,m=r?0:o-1,g=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math[c(996)](e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math[c(1192)](2,-a))<1&&(a--,l*=2),(e+=a+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=u?(h=0,a=u):a+p>=1?(h=(e*l-1)*Math.pow(2,n),a+=p):(h=e*Math.pow(2,p-1)*Math[c(1192)](2,n),a=0));n>=8;t[s+m]=255&h,m+=g,h/=256,n-=8);for(a=a<<n|h,d+=n;d>0;t[s+m]=255&a,m+=g,a/=256,d-=8);t[s+m-g]|=128*y}},{}],15:[function(t,e,s){var i=Fh;(function(t){var e=Fh;!function(e){var s,i=Fh,r=i(590),n=r!==typeof t&&t,o=r!==typeof Uint8Array&&Uint8Array,a=r!==typeof ArrayBuffer&&ArrayBuffer,h=[0,0,0,0,0,0,0,0],l=Array.isArray||function(t){var e=i;return!!t&&"[object Array]"==Object[e(1016)][e(605)][e(410)](t)},c=4294967296;function d(t,l,d){var w=i,E=l?0:4,T=l?4:0,I=l?0:3,k=l?1:2,_=l?2:1,C=l?3:0,D=l?A:b,R=l?v:S,L=M[w(1016)],P="is"+t,x="_"+P;return L[w(947)]=void 0,L[w(782)]=0,L[x]=!0,L.toNumber=B,L[w(605)]=function(t){var e=w,s=this[e(947)],i=this[e(782)],r=U(s,i+E),n=U(s,i+T),o="",a=!d&&2147483648&r;a&&(r=~r,n=c-n),t=t||10;for(;;){var h=r%t*c+n;if(r=Math[e(1002)](r/t),n=Math[e(1002)](h/t),o=(h%t)[e(605)](t)+o,!r&&!n)break}return a&&(o="-"+o),o},L.toJSON=B,L[w(721)]=u,n&&(L[w(736)]=p),o&&(L.toArrayBuffer=f),M[P]=function(t){return!(!t||!t[x])},e[t]=M,M;function M(t,e,i,n){return this instanceof M?function(t,e,i,n,l){var d=w;o&&a&&(e instanceof a&&(e=new o(e)),n instanceof a&&(n=new o(n)));if(!(e||i||n||s))return void(t[d(947)]=y(h,0));if(!m(e,i)){l=i,n=e,i=0,e=new(s||Array)(8)}if(t[d(947)]=e,t[d(782)]=i|=0,r===typeof n)return;d(983)===typeof n?function(t,e,s,i){var r=w,n=0,o=s[r(905)],a=0,h=0;"-"===s[0]&&n++;var l=n;for(;n<o;){var d=parseInt(s[n++],i);if(!(d>=0))break;h=h*i+d,a=a*i+Math[r(1002)](h/c),h%=c}l&&(a=~a,h?h=c-h:a++),F(t,e+E,a),F(t,e+T,h)}(e,i,n,l||10):m(n,l)?g(e,i,n,l):d(1093)===typeof l?(F(e,i+E,n),F(e,i+T,l)):n>0?D(e,i,n):n<0?R(e,i,n):g(e,i,h,0)}(this,t,e,i,n):new M(t,e,i,n)}function B(){var t=this[w(947)],e=this.offset,s=U(t,e+E),i=U(t,e+T);return d||(s|=0),s?s*c+i:i}function F(t,e,s){t[e+C]=255&s,s>>=8,t[e+_]=255&s,s>>=8,t[e+k]=255&s,s>>=8,t[e+I]=255&s}function U(t,e){return 16777216*t[e+I]+(t[e+k]<<16)+(t[e+_]<<8)+t[e+C]}}function u(t){var e=i,r=this[e(947)],n=this[e(782)];return s=null,!1!==t&&0===n&&8===r[e(905)]&&l(r)?r:y(r,n)}function p(e){var r=i,o=this[r(947)],a=this[r(782)];if(s=n,!1!==e&&0===a&&8===o.length&&t[r(798)](o))return o;var h=new n(8);return g(h,0,o,a),h}function f(t){var e=i,r=this[e(947)],n=this[e(782)],h=r[e(947)];if(s=o,!1!==t&&0===n&&h instanceof a&&8===h.byteLength)return h;var l=new o(8);return g(l,0,r,n),l[e(947)]}function m(t,e){var s=i,r=t&&t[s(905)];return e|=0,r&&e+8<=r&&s(983)!==typeof t[e]}function g(t,e,s,i){e|=0,i|=0;for(var r=0;r<8;r++)t[e++]=255&s[i++]}function y(t,e){return Array.prototype.slice.call(t,e,e+8)}function A(t,e,s){for(var i=e+8;i>e;)t[--i]=255&s,s/=256}function v(t,e,s){var i=e+8;for(s++;i>e;)t[--i]=255&-s^255,s/=256}function b(t,e,s){for(var i=e+8;e<i;)t[e++]=255&s,s/=256}function S(t,e,s){var i=e+8;for(s++;e<i;)t[e++]=255&-s^255,s/=256}d("Uint64BE",!0,!0),d(i(460),!0,!1),d(i(1095),!1,!0),d(i(417),!1,!1)}(typeof s===e(1118)&&typeof s[e(674)]!==e(983)?s:this||{})})[i(410)](this,t(i(947)).Buffer)},{buffer:7}],16:[function(t,e,s){var i=Fh,r={}[i(605)];e.exports=Array[i(968)]||function(t){var e=i;return r[e(410)](t)==e(867)}},{}],17:[function(t,e,s){var i=Fh,r={128:{name:i(750),level:4,type:"m",multiple:!0,minver:1,webm:!0,description:i(1061)},131:{name:"TrackType",level:3,type:"u",mandatory:!0,minver:1,range:i(836),description:i(1142)},133:{name:"ChapString",cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:i(447)},134:{name:i(434),level:3,type:"s",mandatory:!0,minver:1,description:i(425)},136:{name:i(1143),cppname:i(1039),level:3,type:"u",mandatory:!0,minver:1,default:1,range:i(1099),description:"Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)"},137:{name:i(817),level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:i(1126),description:i(581)},145:{name:i(778),level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:i(633)},146:{name:i(1158),level:4,type:"u",minver:1,webm:!1,description:"Timestamp of the end of Chapter (timestamp excluded, not scaled)."},150:{name:i(1123),level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:i(732)},151:{name:i(980),level:5,type:"u",mandatory:!0,webm:!1,description:i(1057)},152:{name:"ChapterFlagHidden",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:i(1056)},16980:{name:"ContentCompAlgo",level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(1102)},16981:{name:"ContentCompSettings",level:6,type:"b",minver:1,webm:!1,description:i(802)},17026:{name:i(781),level:1,type:"s",mandatory:!0,default:i(459),minver:1,description:"A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files."},17029:{name:i(764),level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum DocType version an interpreter has to support to read this file."},17030:{name:i(624),level:1,type:"u",mandatory:!0,default:1,minver:1,description:i(408)},17031:{name:i(728),level:1,type:"u",mandatory:!0,default:1,minver:1,description:i(718)},17476:{name:"SegmentFamily",level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:"A randomly generated unique ID that all segments related to each other must use (128 bits)."},17505:{name:i(1017),level:2,type:"d",minver:1,description:i(735)},17540:{name:i(999),level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:i(936)},17541:{name:i(1200),level:4,type:"b",minver:1,webm:!1,description:i(1141)},17543:{name:i(1014),level:4,type:"8",minver:1,webm:!1,description:i(1105)},17545:{name:i(551),level:2,type:"f",minver:1,range:i(1020),description:i(582)},17816:{name:i(812),level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:"0-1",description:i(898)},18016:{name:i(651),level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:i(550)},18017:{name:i(1115),level:3,type:"u",divx:!0,description:i(596)},18018:{name:i(890),level:3,type:"u",divx:!0,description:i(596)},18037:{name:i(730),level:3,type:"b",webm:!1,description:i(622)},20529:{name:i(660),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(748)},20530:{name:"ContentEncodingScope",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(1126),description:i(1208)},20531:{name:i(774),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption"},20532:{name:i(712),level:5,type:"m",minver:1,webm:!1,description:i(865)},20533:{name:i(455),level:5,type:"m",minver:1,webm:!1,description:i(598)},21368:{name:"CueBlockNumber",level:4,type:"u",minver:1,default:1,range:i(1126),description:i(970)},22100:{name:i(553),level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:i(594)},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:'Writing application ("mkvmerge-0.3.3").'},22612:{name:i(509),cppname:i(767),level:2,type:"m",minver:1,webm:!1,description:"The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use."},25152:{name:i(801),level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Settings for one content encoding like compression or encryption."},25188:{name:i(866),cppname:"AudioBitDepth",level:4,type:"u",minver:1,range:i(1126),description:i(997)},25906:{name:i(1090),level:3,type:"b",multiple:!0,webm:!1,description:i(686)},26148:{name:i(618),level:3,type:"m",multiple:!0,minver:1,webm:!1,description:i(878)},26897:{name:"ChapProcessCommand",cppname:"ChapterProcessCommand",level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:i(1027),cppname:i(623),level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:i(673)},26916:{name:i(716),level:2,type:"m",multiple:!0,minver:1,webm:!1,description:"A tuple of corresponding ID used by chapter codecs to represent this segment."},26931:{name:"ChapProcessData",cppname:"ChapterProcessData",level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:i(441)},26948:{name:i(661),cppname:i(877),level:4,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26965:{name:i(477),cppname:i(432),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later."},29555:{name:i(848),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(892)},29572:{name:"SegmentFilename",level:2,type:"8",minver:1,webm:!1,description:"A filename corresponding to this segment."},29766:{name:"AttachmentLink",cppname:i(1133),level:3,type:"u",minver:1,webm:!1,range:i(1126),description:"The UID of an attachment that is used by this codec."},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:"A human-readable string specifying the codec."},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:i(519)},17530:{name:i(637),level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:i(941),description:"Specifies the language of the tag specified, in the Matroska languages form."},17827:{name:i(1111),level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:i(587)},26568:{name:i(1046),cppname:i(429),level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contains general information about the target."},25542:{name:"TagAttachmentUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(501)},25540:{name:"TagChapterUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(1191)},25545:{name:"TagEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(600)},25541:{name:"TagTrackUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(751)},25546:{name:"TargetType",cppname:"TagTargetType",level:4,type:"s",minver:1,webm:!1,strong:i(500),description:i(1074)},26826:{name:i(834),cppname:"TagTargetTypeValue",level:4,type:"u",minver:1,webm:!1,default:50,description:i(990)},25536:{name:"Targets",cppname:i(698),level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:i(731),level:1,type:"m",multiple:!0,minver:1,webm:!1,description:i(952)},17677:{name:i(537),cppname:i(1215),level:5,type:"b",minver:1,webm:!1,description:i(496)},17278:{name:"ChapCountry",cppname:"ChapterCountry",level:5,type:"s",multiple:!0,minver:1,webm:!1,description:"The countries corresponding to the string, same 2 octets as in Internet domains."},17276:{name:i(1096),cppname:i(1076),level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:i(1059),description:i(1066)},143:{name:i(918),level:4,type:"m",minver:1,webm:!1,description:i(829)},25539:{name:i(539),level:4,type:"u",minver:1,webm:!1,description:i(699)},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:i(1126),description:i(744)},28263:{name:i(1167),level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:"A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used."},29636:{name:i(888),level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:i(1126),description:i(1015)},182:{name:i(536),level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:i(557)},17885:{name:"EditionFlagOrdered",level:3,type:"u",minver:1,webm:!1,default:0,range:i(1099),description:"Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)"},17883:{name:i(414),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:i(1099),description:i(705)},17853:{name:i(974),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:"0-1",description:i(533)},17852:{name:"EditionUID",level:3,type:"u",minver:1,webm:!1,range:i(1126),description:i(1041)},17849:{name:i(929),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:i(627)},272869232:{name:i(572),level:1,type:"m",minver:1,webm:!0,description:i(783)},18094:{name:"FileUID",level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:i(1126),description:"Unique ID representing the file, as random as possible."},18012:{name:i(1134),level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:i(953)},18030:{name:i(868),level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:i(839)},18046:{name:i(634),level:3,type:"8",minver:1,webm:!1,description:i(1169)},24999:{name:i(1187),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(653)},423732329:{name:i(616),level:1,type:"m",minver:1,webm:!1,description:"Contain attached files."},235:{name:i(975),level:5,type:"u",webm:!1,default:0,description:i(473)},21343:{name:i(753),level:5,type:"u",webm:!1,default:1,range:i(1126),description:"Number of the referenced Block of Track X in the specified Cluster."},219:{name:i(948),level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:i(1026),level:4,type:"u",minver:2,webm:!1,default:0,description:i(1176)},178:{name:i(1207),level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:i(1206)},240:{name:"CueRelativePosition",level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:i(1025),position:i(502)},241:{name:i(754),level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:i(1214)},247:{name:i(1003),level:4,type:"u",mandatory:!0,minver:1,range:i(1126),description:i(490)},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(914)},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:i(859)},187:{name:"CuePoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(979)},475249515:{name:i(823),level:1,type:"m",minver:1,description:i(571)},18406:{name:i(818),level:6,type:"u",minver:1,webm:!1,default:0,description:i(921)},18405:{name:"ContentSigAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:i(531)},18404:{name:i(773),level:6,type:"b",minver:1,webm:!1,description:i(1037)},18403:{name:i(761),level:6,type:"b",minver:1,webm:!1,description:i(1205)},18402:{name:"ContentEncKeyID",level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:i(792),level:6,type:"u",minver:1,webm:!1,default:0,description:i(1202)},28032:{name:i(858),level:3,type:"m",minver:1,webm:!1,description:i(1108)},196:{name:i(883),level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},199:{name:i(1114),level:3,type:"u",divx:!0,description:"DivX trick track extenstions"},198:{name:i(1203),level:3,type:"u",divx:!0,default:0,description:i(679)},193:{name:i(682),level:3,type:"b",divx:!0,bytesize:16,description:i(679)},192:{name:i(669),level:3,type:"u",divx:!0,description:i(679)},237:{name:i(480),level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:i(1126),description:i(580)},233:{name:i(696),level:4,type:"m",minver:3,webm:!1,description:i(1058)},230:{name:"TrackPlaneType",level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:i(540)},229:{name:i(1075),level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:i(1126),description:i(1048)},228:{name:i(1031),level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:"Contains a video plane track that need to be combined to create this 3D track"},227:{name:i(803),level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:i(617),level:3,type:"m",minver:3,webm:!1,description:i(909)},32123:{name:i(916),cppname:i(1094),level:4,type:"b",webm:!1,description:i(424)},159:{name:i(875),cppname:"AudioChannels",level:4,type:"u",mandatory:!0,minver:1,default:1,range:i(1126),description:i(886)},30901:{name:i(1147),cppname:i(541),level:4,type:"f",minver:1,default:i(910),range:i(1020),description:i(418)},181:{name:i(565),cppname:i(1032),level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:i(1020),description:i(472)},225:{name:i(742),cppname:i(787),level:3,type:"m",minver:1,description:i(530)},2327523:{name:i(469),cppname:i(492),level:4,type:"f",range:i(1020),strong:i(591),description:i(566)},3126563:{name:i(1185),cppname:"VideoGamma",level:4,type:"f",webm:!1,range:"> 0",description:i(468)},3061028:{name:i(814),cppname:i(994),level:4,type:"b",minver:1,webm:!1,bytesize:4,description:i(938)},21683:{name:i(842),cppname:i(649),level:4,type:"u",minver:1,default:0,description:i(851)},21682:{name:i(1024),cppname:"VideoDisplayUnit",level:4,type:"u",minver:1,default:0,description:i(940)},21690:{name:i(962),cppname:i(722),level:4,type:"u",minver:1,default:i(524),range:i(1126),description:i(526)},21680:{name:i(586),cppname:i(570),level:4,type:"u",minver:1,default:i(1127),range:i(1126),description:i(430)},21725:{name:i(879),cppname:i(1088),level:4,type:"u",minver:1,default:0,description:i(835)},21708:{name:"PixelCropLeft",cppname:i(1170),level:4,type:"u",minver:1,default:0,description:i(893)},21691:{name:i(830),cppname:i(465),level:4,type:"u",minver:1,default:0,description:i(724)},21674:{name:i(745),cppname:i(923),level:4,type:"u",minver:1,default:0,description:i(720)},186:{name:i(524),cppname:i(945),level:4,type:"u",mandatory:!0,minver:1,range:i(1126),description:i(1181)},176:{name:"PixelWidth",cppname:i(841),level:4,type:"u",mandatory:!0,minver:1,range:i(1126),description:"Width of the encoded video frames in pixels."},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:i(431),cppname:"VideoAlphaMode",level:4,type:"u",minver:3,webm:!0,default:0,description:i(606)},21432:{name:"StereoMode",cppname:i(789),level:4,type:"u",minver:3,webm:!0,default:0,description:i(671)},154:{name:i(558),cppname:i(1193),level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:i(1099),description:i(707)},224:{name:"Video",cppname:"TrackVideo",level:3,type:"m",minver:1,description:i(650)},26277:{name:i(1125),level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:i(872)},26303:{name:i(1137),level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:"TrackTranslateEditionUID",level:4,type:"u",multiple:!0,minver:1,webm:!1,description:i(805)},22203:{name:i(847),level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:i(467)},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:"CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster."},28587:{name:"TrackOverlay",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:i(796)},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:i(578)},2536e3:{name:i(1161),level:3,type:"s",multiple:!0,webm:!1,description:i(1180)},3883072:{name:i(922),level:3,type:"s",multiple:!0,webm:!1,description:i(1051)},3839639:{name:i(456),level:3,type:"8",webm:!1,description:i(1064)},25506:{name:i(484),level:3,type:"b",minver:1,description:i(644)},2274716:{name:i(766),cppname:"TrackLanguage",level:3,type:"s",minver:1,default:"eng",description:i(597)},21358:{name:i(1195),cppname:i(479),level:3,type:"8",minver:1,description:"A human-readable track name."},21998:{name:i(913),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:i(525),level:3,type:"i",webm:!1,default:0,description:i(517)},2306383:{name:i(507),level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:i(639)},2313850:{name:"DefaultDecodedFieldDuration",cppname:i(621),level:3,type:"u",minver:4,range:i(1126),description:i(833)},2352003:{name:"DefaultDuration",cppname:"TrackDefaultDuration",level:3,type:"u",minver:1,range:i(1126),description:i(1081)},28152:{name:"MaxCache",cppname:i(1034),level:3,type:"u",minver:1,webm:!1,description:i(416)},28135:{name:i(680),cppname:i(613),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(1220)},156:{name:i(1011),cppname:i(426),level:3,type:"u",mandatory:!0,minver:1,default:1,range:i(1099),description:i(626)},21930:{name:i(677),cppname:i(725),level:3,type:"u",mandatory:!0,minver:1,default:0,range:"0-1",description:i(652)},185:{name:"FlagEnabled",cppname:i(446),level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:i(1099),description:i(759)},29637:{name:i(967),level:3,type:"u",mandatory:!0,minver:1,range:i(1126),description:i(854)},215:{name:i(777),level:3,type:"u",mandatory:!0,minver:1,range:"not 0",description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:"TrackEntry",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(825)},374648427:{name:i(535),level:1,type:"m",multiple:!0,minver:1,description:i(663)},175:{name:i(749),level:2,type:"b",multiple:!0,webm:!1,description:i(944)},202:{name:"ReferenceTimeCode",level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:i(679)},201:{name:i(756),level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:i(679)},200:{name:"ReferenceFrame",level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:i(679)},207:{name:i(478),level:5,type:"u",default:0,description:i(486)},206:{name:i(563),cppname:i(981),level:5,type:"u",default:0,description:i(420)},203:{name:i(471),cppname:i(642),level:5,type:"u",default:0,description:"The ID of the BlockAdditional element (0 is the main Block)."},205:{name:"FrameNumber",cppname:i(1149),level:5,type:"u",default:0,description:i(564)},204:{name:i(959),cppname:"SliceLaceNumber",level:5,type:"u",minver:1,default:0,divx:!1,description:"The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback."},232:{name:"TimeSlice",level:4,type:"m",multiple:!0,minver:1,divx:!1,description:i(1052)},142:{name:"Slices",level:3,type:"m",minver:1,divx:!1,description:i(971)},30114:{name:i(876),level:3,type:"i",minver:4,webm:!0,description:i(1162)},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:"The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry."},253:{name:i(755),level:3,type:"i",webm:!1,description:"Relative position of the data that should be in position of the virtual block."},251:{name:i(719),level:3,type:"i",multiple:!0,minver:1,description:i(672)},250:{name:"ReferencePriority",cppname:"FlagReferenced",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(955)},155:{name:i(1079),level:3,type:"u",minver:1,default:i(1055),description:'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.'},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:"Interpreted by the codec as it wishes (using the BlockAddID)."},238:{name:i(628),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(1126),description:i(505)},166:{name:i(949),level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(727)},30113:{name:i(482),level:3,type:"m",minver:1,webm:!1,description:"Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data."},162:{name:"BlockVirtual",level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:"Block",level:3,type:"b",mandatory:!0,minver:1,description:"Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)"},160:{name:"BlockGroup",level:2,type:"m",multiple:!0,minver:1,description:"Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock."},163:{name:i(951),level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:i(619)},171:{name:"PrevSize",cppname:i(771),level:2,type:"u",minver:1,description:i(508),position:"prevCluster"},167:{name:i(498),cppname:i(1038),level:2,type:"u",minver:1,webm:!1,description:i(612),position:i(1214)},22743:{name:i(1218),cppname:"ClusterSilentTrackNumber",level:3,type:"u",multiple:!0,minver:1,webm:!1,description:i(832)},231:{name:i(1219),cppname:"ClusterTimecode",level:2,type:"u",mandatory:!0,minver:1,description:i(691)},524531317:{name:i(779),level:1,type:"m",multiple:!0,minver:1,description:i(442)},19840:{name:i(1151),level:2,type:"8",mandatory:!0,minver:1,description:i(666)},31657:{name:i(464),level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:i(608),level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:i(528)},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:i(512),description:i(1197)},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:i(1110)},27071:{name:i(809),level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},27132:{name:i(1130),level:3,type:"u",multiple:!0,minver:1,webm:!1,description:"Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment."},4096955:{name:i(567),level:2,type:"8",minver:1,webm:!1,description:i(937)},4110627:{name:i(463),level:2,type:"b",minver:1,webm:!1,bytesize:16,description:i(688)},3965867:{name:i(882),level:2,type:"8",minver:1,webm:!1,description:"An escaped filename corresponding to the previous segment."},3979555:{name:i(457),level:2,type:"b",minver:1,webm:!1,bytesize:16,description:i(899)},29604:{name:i(757),level:2,type:"b",minver:1,webm:!1,range:i(1126),bytesize:16,description:i(1222)},357149030:{name:i(723),level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(542)},21420:{name:i(645),level:3,type:"u",mandatory:!0,minver:1,description:i(737),position:"segment"},21419:{name:"SeekID",level:3,type:"b",mandatory:!0,minver:1,description:i(784),type2:i(678)},19899:{name:i(1199),cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(897)},290298740:{name:"SeekHead",cppname:"SeekHeader",level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:i(1001),level:2,type:"m",multiple:!0,webm:!1,i:"Cluster|Block|BlockAdditional",description:i(647)},32347:{name:i(599),level:1,type:"m",webm:!1,description:i(850)},32437:{name:i(709),level:1,type:"b",webm:!1,description:i(907)},32421:{name:i(1053),level:1,type:"b",webm:!1,description:"The public key to use with the algorithm (in the case of a PKI-based signature)."},32410:{name:i(635),level:1,type:"u",webm:!1,description:i(1209)},32394:{name:i(852),level:1,type:"u",webm:!1,description:"Signature algorithm used (1=RSA, 2=elliptic)."},458458727:{name:i(861),level:-1,type:"m",multiple:!0,webm:!1,description:i(583)},191:{name:i(739),level:-1,type:"b",minver:1,webm:!1,description:"The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian",crc:!0},236:{name:i(573),level:-1,type:"b",minver:1,description:i(1043)},17139:{name:i(1067),level:1,type:"u",mandatory:!0,default:8,minver:1,description:i(1092)},17138:{name:i(930),level:1,type:"u",mandatory:!0,default:4,minver:1,description:i(609)},17143:{name:i(808),level:1,type:"u",mandatory:!0,default:1,minver:1,description:i(943)},440786851:{name:i(704),level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:"Set the EBML characteristics of the data to follow. Each EBML document has to start with this."}},n={},o={byEbmlID:r,byName:n};for(var a in r){n[r[a].name.replace("-","_")]=parseInt(a,10)}e.exports=o},{}],18:[function(t,e,s){var i=Fh;e.exports={name:"ts-ebml",version:i(734),description:i(675),scripts:{setup:i(620),init:i(976),update:i(1212),reset:i(411),mkdir:i(547),clean:"rm -rf lib/* dist/* test/*.js; mkdir -p dist",build:i(1086),start:"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js",stop:i(1100),browserify:i(488),watchify:"watchify lib/index.js --standalone EBML -o dist/EBMl.js -v",test:i(960),example:"tsc; browserify lib/example_seekable.js -o test/example_seekable.js",examples:i(1163),examples_bsd:i(676),check:i(935),lint:i(1063),doc:"typedoc --mode modules --out doc --disableOutputCheck"},repository:{type:i(1213),url:"git+https://github.com/legokichi/ts-ebml.git"},keywords:[i(415),i(485),"mkv","matrosika",i(1036)],author:i(765),license:"MIT",bugs:{url:i(1148)},homepage:i(928),dependencies:{buffer:i(984),commander:i(422),ebml:"^2.2.1","ebml-block":i(837),events:i(1177),"int64-buffer":i(811),matroska:"^2.2.3"},devDependencies:{"@types/commander":i(891),"@types/qunit":"^2.0.31",browserify:i(900),empower:i(1144),"espower-cli":i(837),"power-assert":i(855),"power-assert-formatter":i(522),"qunit-tap":i(986),qunitjs:i(670),tslint:i(1018),typedoc:"^0.5.3",typescript:i(1121),watchify:"^3.7.0"},bin:i(1047),main:"./lib/index.js",typings:i(575)}},{}]},{},[4])(4)}))})),Oh=pe[Mh(1042)](Uh),Nh=Wh;function jh(){var t=["offsetWidth","click","console","opera","onmessage","init","Bytes","gifBlob","stop","_controlledReadableStream","canvas resolutions","Initialized recorderType:","message","GifRecorder","audio/ogg","frames","showMousePointer","getImageData","video/vp8","timeslice","isElectron","sample-rate must be under range 22050 and 96000.","then","MultiStreamRecorder","getBlob","onaudioprocess","security","addEventListener","bitrate","onEncodingCallback","createMediaStreamSource","onstop","string","WEBP","documentElement","writeToDisk","getArrayOfBlobs","canvas","internalInterleavedLength","recordRTC","cues","readAsDataURL","destroy","audio/wav","Blob","disconnect","mozGetUserMedia","getUserMedia","getMixedStream","state","clearedRecordedData","navigator","5.6.2","display:none;opacity:0;color:transparent;","gifRecorder","text/javascript"," stream.","fullcanvas","window","audio","requestAnimationFrame","workerPath parameter is missing.","createCommonjsModule","renderer","readwrite","stringify","type","onload","get","ended","Unable to resume the recording. Recording state: ","Got image, but recorder is finished!","mozCaptureStream","OtherRecordingError","multi-streams-mixer","this.onmessage =  function (eee) {","muted","toLowerCase","GenericError","volume","forEach","tools","createGain",'Use "new RecordRTCPromisesHandler()"',"kind","floor","onVideoProcessStarted","makeMetadataSeekable","captureStream API are NOT available.","Cleared old recorded data.","getTracks","UnknownError","advertisement","match","initRecorder","getChannelData","getDataURL","0 Bytes","error","map","AudioContext","und","useWhammyRecorder","onsuccess","length","view","onloadedmetadata","keyframe","record","exports","onGifPreview","open","mediaType","closed","enqueue","sqrt","stream","29257200KVEyNW","disableLogs","body","timestamps","recording","bufferSize","1425132zQcell","recorderType","frameRate","onRender","toString","realtime","addTrack","audioBlob","netscape","-1000em","IllegalStreamModification","sampleRate","function","setDelay","timecode","getFromDisk","The UA cannot provide the codec or recording option that has been requested.","DiskStorage","Please make sure MediaStream is active.","blob","mimeType","Please pass either HTMLCanvasElement or CanvasRenderingContext2D.","MediaRecorder API seems unable to record mimeType:","electron","MediaStream","Recorder state changed:","play","started recording ","getState","offsetHeight","constructor","numberOfAudioChannels","screen","duration","Your stream has no audio tracks.","setInt16","transaction","3355275uNtYgq","AudioContextConstructor","audioContext","onRecordingStopped","Chrome","readAsArrayBuffer","bin","invalidstate","process","Storage","functionToLoop","className",";this.onmessage =  function (eee) {","pipeTo","A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.","captureStream","firefox","Resumed recording.","CanvasRecorder","Video","undefined","onGifRecordingStarted","initCallback","getTime","objectStore","inactive","Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.","keys","style","WhammyRecorder","URL","toPrecision","getInternalRecorder","name","onAudioProcessStarted","srcObject","lacing","byteLength","metadataSize","script","image","First parameter is required.","compile","OutOfMemory","indexOf","VP8","Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45","terminate","Neither URL nor webkitURL detected.","download","Whammy","height","appVersion","Please link: https://www.webrtc-experiment.com/EBML.js","audioDestination","_blank","buffer","Stopped recording ","discardable","chrome/","whammy","Fetch","ondataavailable","workerPath","resume","canRecordMimeType","V_VP8","nodeName","document","pauseRecording","reset","save","destroyed","toDataURL","onError","WebAssemblyRecorder","1403297NxjehR"," recorder.","recordingDuration","metadatas","requestData","Edge","substring","data","right","put","number","onStateChanged","read","blobs","RecordRTC","noWorker","setVersion","Blob encoder did not finish its job yet.","releaseStreams","stopRecording","getWebPImages","image/webp","clearRect","createElement","IndexedDB API are not available in this browser.","top","video/webm","value","call","CriOS","resetVideoStreams","webAssemblyPath","onplaying","476835SBwprx","push","dbName","version",'It seems that recorder is destroyed or "startRecording" is not invoked for ',"filter","Stop an active recorder.","onerror","setUint32","pause","24gZUzql","userAgent","previewStream","absolute","notsupported","startRecording","reverse","Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features","commonjsGlobal","Decoder","MediaStreamRecorder","audioSources","destination","RecordRTC is destroyed.","size","getContext","Pass a callback function over getDataURL.","all","target","substr","Desired sample-rate: ","chrome","Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js","leftchannel","desiredSampRate","manuallyStopped","useGainNode","frameInterval","video width/height","resumeRecording","Using recorderType:","webkitCaptureStream","random","startDrawingFrames","Recording finished!","MultiStreamsMixer","paused","join","active","versions","TrackNumber > 127 not supported","recordingDuration is required.","msSaveOrOpenBlob","checkForInactiveTracks","video","889280BdKGqJ","left","leftChannel","videoRecorder","getSeekableBlob","quality","cloneNode","ceil","location","MediaStream must have either audio or video tracks.","leftBuffers","addFrame","The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.","recordingLength","dataStoreName","mozSrcObject","Canvas recording is NOT supported in Firefox.","workerURL","(eee.data);}","arrayBuffer","RecordRTCPromisesHandler","callback is mandatory.","StereoAudioRecorder",'Recording state should be: "recording", however current state is: ',"onresume","href","https://www.webrtc-experiment.com/gif-recorder.js","rightchannel","zIndex","https://unpkg.com/webm-wasm@latest/dist/webm-worker.js","Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.","width","Empty blob.","Something went wrong. Maybe WebP format is not supported in the current browser.","addStream","createObjectStore","prototype","setQuality","log","10820532KlrVld","gainNode","MediaStream seems stopped.","RIFF","MediaRecorder security error","close","started","src","createJavaScriptNode","setUint16","onTimeStamp","Recording failed.","concat","Legal values for buffer-size are ","split","decode","now","gif","toFixed","slice","MediaRecorder Error","webkitGetUserMedia","revokeObjectURL","start","elementClass","appendStreams","videoBlob","fromCharCode","onstart","drawImage","replace",'First argument "MediaStream" is required.',"resumed","timeSlice","round","add","msSaveBlob","createMediaStreamDestination","file:","inputBuffer",") is not supported.","application/javascript","pow","charCodeAt","audioRecorder","image/gif","createObjectURL","READY","stopped","recordingCallback","amd","https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm","autoWriteToDisk","test","HTMLVideoElement","appendChild","ondataavailable: ","isTypeSupported","audio/webm","createScriptProcessor","warn","Store","dispatchEvent","autoplay","result","callback","clearRecordedData","webkitAudioContext","set","postMessage","Paused recording.","position","object","connect"];return(jh=function(){return t})()}!function(t,e){for(var s=Wh,i=t();;)try{if(951960===parseInt(s(360))/1+-parseInt(s(561))/2+parseInt(s(506))/3*(parseInt(s(516))/4)+parseInt(s(397))/5+parseInt(s(600))/6+parseInt(s(473))/7+-parseInt(s(354))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jh);var Vh=pe[Nh(299)]((function(t){var e=Nh;function s(t,e){var n=Wh;if(!t)throw"First parameter is required.";e=e||{type:n(560)},e=new i(t,e);var o=this;function a(s){var i=n;s&&(e[i(419)]=function(){var t=i;s(),s=e[t(419)]=null});var o=new r(t,e);(g=new o(t,e)).record(),u("recording"),!e[i(355)]&&console.log(i(248),g[i(390)][i(430)],"for output-type:",e[i(303)])}function h(t){var s=n;if(t=t||function(){},g){if(o[s(286)]===s(552))return o.resumeRecording(),void setTimeout((function(){h(t)}),1);o[s(286)]!==s(358)&&!e.disableLogs&&console[s(660)](s(584),o[s(286)]),!e[s(355)]&&console[s(599)](s(454)+e[s(303)]+s(293)),e[s(303)]!==s(617)?g.stop(i):(g[s(245)](),i()),u(s(648))}else m();function i(i){var r=s;if(g){Object[r(424)](g)[r(317)]((function(t){"function"!=typeof g[t]&&(o[t]=g[t])}));var n=g[r(379)];if(!n){if(!i)throw r(611);g[r(379)]=n=i}if(n&&!e.disableLogs&&console.log(n.type,"->",b(n[r(530)])),t){var a;try{a=p[r(646)](n)}catch(t){}typeof t.call===r(372)?t[r(501)](o,a):t(a)}e[r(652)]&&c((function(t){var s=r,i={};i[e.type+s(281)]=t,P.Store(i)}))}else"function"==typeof t[r(501)]?t[r(501)](o,""):t("")}}function l(t){postMessage((new FileReaderSync).readAsDataURL(t))}function c(t,s){var i=n;if(!t)throw i(532);var r=s?s[i(379)]:(g||{}).blob;if(!r)return!e[i(355)]&&console.warn(i(490)),void setTimeout((function(){c(t,s)}),1e3);if(typeof Worker===i(417)||navigator[i(283)]){var o=new FileReader;o.readAsDataURL(r),o[i(304)]=function(e){var s=i;t(e[s(534)][s(664)])}}else{var a=function(t){var e=i;try{var s=p[e(646)](new Blob([t[e(364)](),"this.onmessage =  function (eee) {"+t[e(430)]+"(eee.data);}"],{type:e(641)})),r=new Worker(s);return p[e(622)](s),r}catch(t){}}(l);a.onmessage=function(e){t(e[i(480)])},a.postMessage(r)}}function d(t){var e=n;t=t||0,o.state!==e(552)?o[e(286)]!==e(648)&&(t>=o.recordingDuration?h(o[e(400)]):(t+=1e3,setTimeout((function(){d(t)}),1e3))):setTimeout((function(){d(t)}),1e3)}function u(t){var e=n;o&&(o[e(286)]=t,typeof o[e(484)].call===e(372)?o[e(484)].call(o,t):o.onStateChanged(t))}var f=n(510)+e[n(303)]+n(474);function m(){var t=n;!0!==e.disableLogs&&console[t(660)](f)}var g,y={startRecording:function(s){var r=n;return!e[r(355)]&&console.log("RecordRTC version: ",o.version),s&&(e=new i(t,s)),!e[r(355)]&&console[r(599)](r(387)+e.type+r(293)),g?(g[r(666)](),g[r(345)](),u("recording"),o[r(475)]&&d(),o):(a((function(){o[r(475)]&&d()})),o)},stopRecording:h,pauseRecording:function(){var t=n;g?"recording"===o[t(286)]?(u("paused"),g.pause(),!e[t(355)]&&console[t(599)](t(670))):!e[t(355)]&&console[t(660)]("Unable to pause the recording. Recording state: ",o[t(286)]):m()},resumeRecording:function(){var t=n;g?"paused"===o[t(286)]?(u("recording"),g[t(461)](),!e[t(355)]&&console[t(599)](t(414))):!e[t(355)]&&console[t(660)](t(307),o[t(286)]):m()},initRecorder:a,setRecordingDuration:function(t,e){var s=n;if(typeof t===s(417))throw s(557);if(typeof t!==s(483))throw"recordingDuration must be a number.";return o[s(475)]=t,o[s(400)]=e||function(){},{onRecordingStopped:function(t){o.onRecordingStopped=t}}},clearRecordedData:function(){var t=n;g?(g[t(666)](),!e.disableLogs&&console[t(599)](t(326))):m()},getBlob:function(){if(g)return g.blob;m()},getDataURL:c,toURL:function(){var t=n;if(g)return p[t(646)](g[t(379)]);m()},getInternalRecorder:function(){return g},save:function(t){g?S(g[n(379)],t):m()},getFromDisk:function(t){var i=n;g?s.getFromDisk(e[i(303)],t):m()},setAdvertisementArray:function(t){var s=n;e[s(329)]=[];for(var i=t[s(341)],r=0;r<i;r++)e[s(329)].push({duration:r,image:t[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){var t=n;o[t(286)]===t(358)&&!e[t(355)]&&console[t(660)](t(512)),g&&typeof g[t(666)]===t(372)&&g[t(666)](),g=null,u(t(422)),o[t(379)]=null},onStateChanged:function(t){var s=n;!e.disableLogs&&console.log(s(385),t)},state:n(422),getState:function(){return o[n(286)]},destroy:function(){var t=n,s=e[t(355)];e={disableLogs:!0},o[t(467)](),u(t(469)),y=o=null,I.AudioContextConstructor&&(I[t(398)][t(605)](),I.AudioContextConstructor=null),e.disableLogs=s,!e[t(355)]&&console[t(599)](t(529))},version:n(289)};if(!this)return o=y,y;for(var A in y)this[A]=y[A];return o=this,y}function i(t,s){var i=e;return s[i(361)]||s.type||(s[i(296)]&&s[i(560)]?s[i(303)]=i(560):s[i(296)]&&!s[i(560)]&&(s.type="audio")),s[i(361)]&&!s.type&&(s[i(361)]===R||s[i(361)]===D||"function"!==i(417)&&s.recorderType===F?s.type="video":s[i(361)]===x?s[i(303)]=i(617):s.recorderType===C?s[i(303)]="audio":s.recorderType===_&&(E(t,i(296))[i(341)]&&E(t,i(560))[i(341)]?s.type=i(560):!E(t,"audio")[i(341)]&&E(t,i(560))[i(341)]?s.type="video":E(t,i(296))[i(341)]&&!E(t,i(560))[i(341)]&&(s[i(303)]="audio"))),"function"!==i(417)&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(!s.mimeType&&(s[i(380)]="video/webm"),!s[i(303)]&&(s[i(303)]=s[i(380)][i(614)]("/")[0]),s.bitsPerSecond),!s[i(303)]&&(s[i(380)]&&(s.type=s[i(380)].split("/")[0]),!s[i(303)]&&(s[i(303)]=i(296))),s}function r(t,s){var i,r=e;return(y||f||m)&&(i=C),"undefined"!=typeof MediaRecorder&&r(477)in MediaRecorder[r(597)]&&!y&&(i=_),"video"===s[r(303)]&&(y||m)&&(i=R,typeof ReadableStream!==r(417)&&(i=F)),"gif"===s[r(303)]&&(i=x),s.type===r(274)&&(i=D),k()&&i!==D&&i!==x&&typeof MediaRecorder!==r(417)&&"requestData"in MediaRecorder.prototype&&(E(t,r(560))[r(341)]||E(t,r(296))[r(341)])&&(s.type===r(296)?typeof MediaRecorder[r(657)]===r(372)&&MediaRecorder[r(657)]("audio/webm")&&(i=_):typeof MediaRecorder[r(657)]===r(372)&&MediaRecorder.isTypeSupported(r(499))&&(i=_)),t instanceof Array&&t[r(341)]&&(i=B),s[r(361)]&&(i=s[r(361)]),!s[r(355)]&&!!i&&!!i[r(430)]&&console[r(599)](r(546),i[r(430)]||i[r(390)].name),!i&&A&&(i=_),i}function n(t){var i=e;this[i(595)]=function(e){e&&(t=e)},this.mediaType={audio:!0,video:!0},this[i(521)]=function(){var e,r=i,n=this[r(349)],o=this[r(380)]||{audio:null,video:null,gif:null};if(typeof n[r(296)]!==r(372)&&k()&&!E(t,r(296))[r(341)]&&(n.audio=!1),typeof n[r(560)]!==r(372)&&k()&&!E(t,r(560))[r(341)]&&(n[r(560)]=!1),"function"!=typeof n[r(617)]&&k()&&!E(t,r(560))[r(341)]&&(n[r(617)]=!1),!n[r(296)]&&!n[r(560)]&&!n.gif)throw r(570);if(n[r(296)]&&(e=null,"function"==typeof n[r(296)]&&(e=n[r(296)]),this[r(644)]=new s(t,{type:"audio",bufferSize:this[r(359)],sampleRate:this.sampleRate,numberOfAudioChannels:this[r(391)]||2,disableLogs:this[r(355)],recorderType:e,mimeType:o[r(296)],timeSlice:this[r(633)],onTimeStamp:this[r(610)]}),!n.video&&this[r(644)][r(521)]()),n.video){e=null,typeof n[r(560)]===r(372)&&(e=n[r(560)]);var a=t;if(k()&&n[r(296)]&&"function"==typeof n[r(296)]){var h=E(t,r(560))[0];g?((a=new v)[r(366)](h),e&&e===R&&(e=_)):(a=new v)[r(366)](h)}this.videoRecorder=new s(a,{type:r(560),video:this[r(560)],canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this[r(355)],recorderType:e,mimeType:o[r(560)],timeSlice:this.timeSlice,onTimeStamp:this[r(610)],workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this[r(265)]}),!n.audio&&this[r(564)][r(521)]()}if(n[r(296)]&&n.video){var l=this,c=!0===k();(n[r(296)]instanceof C&&n[r(560)]||!0!==n[r(296)]&&!0!==n[r(560)]&&n[r(296)]!==n.video)&&(c=!1),!0===c?(l[r(644)]=null,l[r(564)][r(521)]()):l[r(564)][r(331)]((function(){var t=r;l[t(644)].initRecorder((function(){var e=t;l[e(564)][e(521)](),l[e(644)][e(521)]()}))}))}n.gif&&(e=null,typeof n[r(617)]===r(372)&&(e=n.gif),this.gifRecorder=new s(t,{type:r(617),frameRate:this[r(362)]||200,quality:this[r(566)]||10,disableLogs:this[r(355)],recorderType:e,mimeType:o.gif}),this[r(291)].startRecording())},this[i(492)]=function(t){var e=i;t=t||function(){},this.audioRecorder&&this[e(644)][e(492)]((function(s){t(s,e(296))})),this[e(564)]&&this[e(564)][e(492)]((function(s){t(s,e(560))})),this[e(291)]&&this[e(291)][e(492)]((function(s){t(s,e(617))}))},this.pauseRecording=function(){var t=i;this[t(644)]&&this.audioRecorder.pauseRecording(),this[t(564)]&&this.videoRecorder[t(466)](),this[t(291)]&&this[t(291)][t(466)]()},this.resumeRecording=function(){var t=i;this[t(644)]&&this.audioRecorder.resumeRecording(),this[t(564)]&&this[t(564)][t(545)](),this[t(291)]&&this[t(291)].resumeRecording()},this[i(261)]=function(t){var e=i,s={};return this[e(644)]&&(s[e(296)]=this[e(644)].getBlob()),this[e(564)]&&(s[e(560)]=this[e(564)][e(261)]()),this.gifRecorder&&(s.gif=this.gifRecorder[e(261)]()),t&&t(s),s},this[i(279)]=function(){var t=i;this[t(644)]&&(this[t(644)][t(279)](),this[t(644)]=null),this[t(564)]&&(this.videoRecorder[t(279)](),this[t(564)]=null),this[t(291)]&&(this[t(291)][t(279)](),this[t(291)]=null)},this.getDataURL=function(t){function e(t,e){var s=Wh;if("undefined"!=typeof Worker){var i=function(t){var e,s=Wh,i=p[s(646)](new Blob([t[s(364)](),s(312)+t[s(430)]+s(579)],{type:s(641)})),r=new Worker(i);if(typeof p!==s(417))e=p;else{if(typeof webkitURL===s(417))throw s(445);e=webkitURL}return e[s(622)](i),r}((function(t){var e=Wh;postMessage((new FileReaderSync)[e(278)](t))}));i.onmessage=function(t){e(t.data)},i[s(669)](t)}else{var r=new FileReader;r[s(278)](t),r.onload=function(t){var i=s;e(t[i(534)][i(664)])}}}this.getBlob((function(s){var i=Wh;s[i(296)]&&s[i(560)]?e(s.audio,(function(r){e(s[i(560)],(function(e){t({audio:r,video:e})}))})):s[i(296)]?e(s[i(296)],(function(e){t({audio:e})})):s.video&&e(s[i(560)],(function(e){t({video:e})}))}))},this[i(272)]=function(){var t=i;s[t(272)]({audio:this[t(644)],video:this[t(564)],gif:this[t(291)]})},this.save=function(t){var e=i;!!(t=t||{audio:!0,video:!0,gif:!0})[e(296)]&&this[e(644)]&&this.audioRecorder[e(468)](typeof t[e(296)]===e(269)?t.audio:""),!!t[e(560)]&&this[e(564)]&&this[e(564)][e(468)](typeof t[e(560)]===e(269)?t[e(560)]:""),t[e(617)]&&this[e(291)]&&this[e(291)].save("string"==typeof t[e(617)]?t.gif:"")}}s.version=e(289),e(672)!==e(417)&&(t[e(346)]=s),"undefined"===e(372)&&(void 0)[e(650)]&&(void 0)(e(487),[],(function(){return s})),s[e(375)]=function(t,s){var i=e;if(!s)throw i(582);console[i(599)]("Getting recorded "+(t===i(533)?i(486):t+" blob ")+" from disk!"),P[i(458)]((function(e,r){var n=i;t!==n(533)&&r===t+n(281)&&s&&s(e),t===n(533)&&s&&s(e,r[n(630)](n(281),""))}))},s[e(272)]=function(t){var s=e;console[s(599)]("Writing recorded blob(s) to disk!"),(t=t||{})[s(296)]&&t[s(560)]&&t[s(617)]?t[s(296)].getDataURL((function(e){var i=s;t.video[i(333)]((function(s){var r=i;t[r(617)].getDataURL((function(t){P[r(661)]({audioBlob:e,videoBlob:s,gifBlob:t})}))}))})):t.audio&&t[s(560)]?t[s(296)][s(333)]((function(e){var i=s;t.video[i(333)]((function(t){P.Store({audioBlob:e,videoBlob:t})}))})):t.audio&&t[s(617)]?t[s(296)][s(333)]((function(e){var i=s;t.gif[i(333)]((function(t){P[i(661)]({audioBlob:e,gifBlob:t})}))})):t[s(560)]&&t[s(617)]?t[s(560)].getDataURL((function(e){var i=s;t.gif[i(333)]((function(t){P[i(661)]({videoBlob:e,gifBlob:t})}))})):t[s(296)]?t[s(296)][s(333)]((function(t){P[s(661)]({audioBlob:t})})):t[s(560)]?t.video[s(333)]((function(t){P.Store({videoBlob:t})})):t.gif&&t[s(617)][s(333)]((function(t){P[s(661)]({gifBlob:t})}))},n.getFromDisk=s[e(375)],n[e(272)]=s[e(272)],"function"!==e(417)&&(s.MRecordRTC=n);var o,a,h=e(443);a=e,(o=void 0!==ce?ce:null)&&typeof window===a(417)&&typeof pe[a(524)]!==a(417)&&(pe[a(524)][a(288)]={userAgent:h,getUserMedia:function(){}},!pe[a(524)][a(676)]&&(ce[a(676)]={}),(typeof pe[a(524)][a(676)][a(599)]===a(417)||typeof pe[a(524)].console[a(335)]===a(417))&&(pe[a(524)][a(676)][a(335)]=ce[a(676)][a(599)]=pe[a(524)][a(676)][a(599)]||function(){console.log(arguments)}),typeof document===a(417)&&(o[a(465)]={documentElement:{appendChild:function(){return""}}},document[a(496)]=document[a(412)]=document[a(309)]=function(){var t={getContext:function(){return t},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return t},o[a(654)]=function(){}),"undefined"==typeof location&&(o[a(569)]={protocol:a(638),href:"",hash:""}),typeof screen===a(417)&&(o[a(392)]={width:0,height:0}),typeof p===a(417)&&(o[a(427)]={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),o[a(295)]=ce);var l=window[e(297)];if(void 0===l)if("undefined"!=typeof webkitRequestAnimationFrame)l=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame!==e(417))l=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame!==e(417))l=msRequestAnimationFrame;else if(typeof l===e(417)){var c=0;l=function(t,s){var i=e,r=(new Date)[i(420)](),n=Math.max(0,16-(r-c)),o=setTimeout((function(){t(r+n)}),n);return c=r+n,o}}var d=window.cancelAnimationFrame;typeof d===e(417)&&(typeof webkitCancelAnimationFrame!==e(417)?d=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame!==e(417)?d=mozCancelAnimationFrame:typeof msCancelAnimationFrame!==e(417)?d=msCancelAnimationFrame:typeof d===e(417)&&(d=function(t){clearTimeout(t)}));var u=window.AudioContext;typeof u===e(417)&&(typeof webkitAudioContext!==e(417)&&(u=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(u=mozAudioContext));var p=window[e(427)];typeof p===e(417)&&typeof webkitURL!==e(417)&&(p=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(typeof navigator.webkitGetUserMedia!==e(417)&&(navigator[e(284)]=navigator[e(621)]),void 0!==navigator.mozGetUserMedia&&(navigator[e(284)]=navigator[e(283)]));var f=!(-1===navigator[e(517)][e(441)](e(478))||!navigator[e(636)]&&!navigator[e(558)]),m=!!window[e(677)]||-1!==navigator[e(517)].indexOf("OPR/"),g=navigator[e(517)][e(314)]()[e(441)](e(413))>-1&&e(368)in window&&/ rv:/.test(navigator[e(517)]),y=!m&&!f&&!!navigator.webkitGetUserMedia||w()||-1!==navigator.userAgent[e(314)]()[e(441)](e(456)),A=/^((?!chrome|android).)*safari/i[e(653)](navigator[e(517)]);A&&!y&&-1!==navigator[e(517)].indexOf(e(502))&&(A=!1,y=!0);var v=window[e(384)];function b(t){var s=e,i=[s(680),"KB","MB","GB","TB"];if(0===t)return s(334);var r=parseInt(Math[s(322)](Math.log(t)/Math[s(599)](1e3)),10);return(t/Math[s(642)](1e3,r))[s(428)](3)+" "+i[r]}function S(t,s){var i=e;if(!t)throw"Blob object is required.";if(!t.type)try{t[i(303)]=i(499)}catch(t){}var r=(t.type||i(499))[i(614)]("/")[1];if(-1!==r.indexOf(";")&&(r=r.split(";")[0]),s&&-1!==s.indexOf(".")){var n=s[i(614)](".");s=n[0],r=n[1]}var o=(s||Math.round(9999999999*Math[i(548)]())+888888888)+"."+r;if(typeof navigator.msSaveOrOpenBlob!==i(417))return navigator[i(558)](t,o);if(typeof navigator[i(636)]!==i(417))return navigator[i(636)](t,o);var a=document[i(496)]("a");a[i(586)]=p[i(646)](t),a[i(446)]=o,a.style=i(290),(document[i(356)]||document.documentElement)[i(655)](a),"function"==typeof a[i(675)]?a[i(675)]():(a[i(534)]=i(452),a[i(662)](new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),p.revokeObjectURL(a[i(586)])}function w(){var t=e;return typeof window!==t(417)&&typeof window.process===t(672)&&window[t(405)][t(303)]===t(300)||(!(typeof process===t(417)||typeof process.versions!==t(672)||!process[t(555)][t(383)])||typeof navigator===t(672)&&typeof navigator[t(517)]===t(269)&&navigator[t(517)][t(441)]("Electron")>=0)}function E(t,s){var i=e;return t&&t[i(327)]?t[i(327)]()[i(511)]((function(t){var e=i;return t[e(321)]===(s||e(296))})):[]}function T(t,s){var i=e;i(432)in s?s.srcObject=t:"mozSrcObject"in s?s[i(576)]=t:s[i(432)]=t}typeof v===e(417)&&typeof webkitMediaStream!==e(417)&&(v=webkitMediaStream),typeof v!==e(417)&&typeof v[e(597)][e(245)]===e(417)&&(v[e(597)][e(245)]=function(){this.getTracks().forEach((function(t){t[Wh(245)]()}))}),"function"!==e(417)&&(s.invokeSaveAsDialog=S,s[e(327)]=E,s[e(565)]=function(t,s){var i=e;if("undefined"==typeof EBML)throw new Error(i(450));var r=new EBML.Reader,n=new(EBML[i(525)]),o=EBML[i(318)],a=new FileReader;a.onload=function(t){var e=i;n[e(615)](this.result)[e(317)]((function(t){r[e(485)](t)})),r.stop();var a=o[e(324)](r[e(476)],r[e(393)],r[e(277)]),h=this[e(664)][e(619)](r[e(435)]),l=new Blob([a,h],{type:"video/webm"});s(l)},a[i(402)](t)},s.bytesToSize=b,s[e(257)]=w);var I={};function k(){var t=e;if(g||A||f)return!0;navigator[t(449)];var s,i,r=navigator[t(517)],n=""+parseFloat(navigator[t(449)]),o=parseInt(navigator[t(449)],10);return(y||m)&&(s=r[t(441)](t(401)),n=r.substring(s+7)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n[t(441)](" "))&&(n=n[t(479)](0,i)),o=parseInt(""+n,10),isNaN(o)&&(n=""+parseFloat(navigator[t(449)]),o=parseInt(navigator[t(449)],10)),o>=49}function _(t,s){var i=e,r=this;if(typeof t===i(417))throw i(631);if(typeof MediaRecorder===i(417))throw i(423);if((s=s||{mimeType:"video/webm"})[i(303)]===i(296)){var n;if(E(t,"video")[i(341)]&&E(t,i(296))[i(341)])navigator[i(283)]?(n=new v)[i(366)](E(t,i(296))[0]):n=new v(E(t,i(296))),t=n;(!s[i(380)]||-1===s[i(380)].toString()[i(314)]().indexOf(i(296)))&&(s[i(380)]=i(y?658:251)),s[i(380)]&&s[i(380)].toString().toLowerCase()!==i(251)&&navigator[i(283)]&&(s[i(380)]=i(251))}var o,a=[];function h(){var t=i;r[t(357)][t(507)]((new Date)[t(420)]()),typeof s[t(610)]===t(372)&&s[t(610)](r.timestamps[r[t(357)][t(341)]-1],r[t(357)])}function l(t){var e=i;return o&&o[e(380)]?o.mimeType:t[e(380)]||e(499)}function c(){a=[],o=null,r[i(357)]=[]}this[i(273)]=function(){return a},this.record=function(){var e=i;r[e(379)]=null,r[e(666)](),r[e(357)]=[],d=[],a=[];var n=s;!s[e(355)]&&console[e(599)]("Passing following config over MediaRecorder API.",n),o&&(o=null),y&&!k()&&(n=e(255)),typeof MediaRecorder[e(657)]===e(372)&&n.mimeType&&!MediaRecorder[e(657)](n.mimeType)&&(!s[e(355)]&&console[e(660)](e(382),n.mimeType),n[e(380)]="audio"===s[e(303)]?"audio/webm":e(499));try{o=new MediaRecorder(t,n),s.mimeType=n[e(380)]}catch(e){o=new MediaRecorder(t)}n[e(380)]&&!MediaRecorder.isTypeSupported&&e(462)in o&&!1===o[e(462)](n[e(380)])&&!s[e(355)]&&console[e(660)]("MediaRecorder API seems unable to record mimeType:",n[e(380)]),o[e(459)]=function(t){var i=e;if(t[i(480)]&&d[i(507)](i(656)+b(t[i(480)][i(530)])),"number"!=typeof s[i(633)])!t.data||!t.data[i(530)]||t.data[i(530)]<100||r[i(379)]?r[i(649)]&&(r[i(649)](new Blob([],{type:l(n)})),r[i(649)]=null):(r.blob=s.getNativeBlob?t[i(480)]:new Blob([t[i(480)]],{type:l(n)}),r[i(649)]&&(r[i(649)](r[i(379)]),r[i(649)]=null));else if(t[i(480)]&&t[i(480)].size&&(a[i(507)](t[i(480)]),h(),typeof s.ondataavailable===i(372))){var o=s.getNativeBlob?t.data:new Blob([t[i(480)]],{type:l(n)});s[i(459)](o)}},o[e(628)]=function(){var t=e;d.push(t(606))},o.onpause=function(){d.push("paused")},o[e(585)]=function(){var t=e;d[t(507)](t(632))},o[e(268)]=function(){var t=e;d[t(507)](t(648))},o[e(513)]=function(t){var i=e;t&&(!t[i(430)]&&(t[i(430)]=i(328)),d[i(507)]("error: "+t),s.disableLogs||(-1!==t.name[i(364)]().toLowerCase()[i(441)](i(404))?console[i(335)]("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",t):-1!==t[i(430)][i(364)]().toLowerCase()[i(441)](i(520))?console[i(335)]("MIME type (",n[i(380)],i(640),t):-1!==t[i(430)][i(364)]().toLowerCase()[i(441)](i(263))?console[i(335)](i(604),t):t[i(430)]===i(440)?console.error(i(573),t):t[i(430)]===i(370)?console[i(335)](i(411),t):t[i(430)]===i(310)?console[i(335)](i(591),t):t.name===i(315)?console.error(i(376),t):console[i(335)](i(620),t)),function(t){var e=i;if(!r.manuallyStopped&&o&&o.state===e(422))return delete s[e(256)],void o[e(623)](6e5);setTimeout(void 0,1e3)}(),o[i(286)]!==i(422)&&o[i(286)]!==i(648)&&o[i(245)]())},typeof s[e(633)]===e(483)?(h(),o[e(623)](s.timeSlice)):o[e(623)](36e5),s.initCallback&&s.initCallback()},this[i(357)]=[],this[i(245)]=function(t){var e=i;t=t||function(){},r[e(541)]=!0,o&&(this.recordingCallback=t,"recording"===o.state&&o[e(245)](),typeof s[e(633)]===e(483)&&setTimeout((function(){var t=e;r.blob=new Blob(a,{type:l(s)}),r[t(649)](r[t(379)])}),100))},this[i(515)]=function(){var t=i;o&&o[t(286)]===t(358)&&o.pause()},this[i(461)]=function(){var t=i;o&&o.state===t(552)&&o[t(461)]()},this[i(666)]=function(){var t=i;o&&"recording"===o[t(286)]&&r[t(245)](c),c()},this.getInternalRecorder=function(){return o},this[i(379)]=null,this.getState=function(){var t=i;return o&&o.state||t(422)};var d=[];this.getAllStates=function(){return d},typeof s[i(559)]===i(417)&&(s[i(559)]=!1);r=this;(function e(){var n=i;if(o&&!1!==s[n(559)])return!1===function(){var e=i;if("active"in t){if(!t[e(554)])return!1}else if("ended"in t&&t[e(306)])return!1;return!0}()?(!s.disableLogs&&console[n(599)]("MediaStream seems stopped."),void r[n(245)]()):void setTimeout(e,1e3)})(),this[i(430)]=i(526),this[i(364)]=function(){return this[i(430)]}}function C(t,i){var r=e;if(!E(t,r(296)).length)throw r(394);var n,o=this,a=[],h=[],l=!1,c=0,d=2,u=(i=i||{})[r(540)];function f(){var e=r;if(!1===i[e(559)])return!0;if(e(554)in t){if(!t.active)return!1}else if(e(306)in t&&t.ended)return!1;return!0}function m(t,e){var s=r;function i(t,e){var s,i=Wh,r=t.numberOfAudioChannels,n=t[i(571)][i(619)](0),o=t.rightBuffers[i(619)](0),a=t[i(371)],h=t[i(275)],l=t.desiredSampRate;function c(t,e,s){var r,n,o=i,a=Math[o(634)](t[o(341)]*(e/s)),h=[],l=Number((t[o(341)]-1)/(a-1));h[0]=t[0];for(var c=1;c<a-1;c++){var d=c*l,u=Number(Math[o(322)](d))[o(618)](),p=Number(Math[o(568)](d))[o(618)](),f=d-u;h[c]=(r=t[u],n=t[p],r+(n-r)*f)}return h[a-1]=t[t[o(341)]-1],h}function d(t,e){for(var s=i,r=new Float64Array(e),n=0,o=t[s(341)],a=0;a<o;a++){var h=t[a];r[s(668)](h,n),n+=h[s(341)]}return r}function u(t,e,s){for(var r=i,n=s[r(341)],o=0;o<n;o++)t.setUint8(e+o,s[r(643)](o))}2===r&&(n=d(n,h),o=d(o,h),l&&(n=c(n,l,a),o=c(o,l,a))),1===r&&(n=d(n,h),l&&(n=c(n,l,a))),l&&(a=l),2===r&&(s=function(t,e){for(var s=i,r=t[s(341)]+e[s(341)],n=new Float64Array(r),o=0,a=0;a<r;)n[a++]=t[o],n[a++]=e[o],o++;return n}(n,o)),1===r&&(s=n);var p=s[i(341)],f=new ArrayBuffer(44+2*p),m=new DataView(f);u(m,0,i(603)),m[i(514)](4,36+2*p,!0),u(m,8,"WAVE"),u(m,12,"fmt "),m.setUint32(16,16,!0),m[i(609)](20,1,!0),m.setUint16(22,r,!0),m.setUint32(24,a,!0),m[i(514)](28,a*r*2,!0),m[i(609)](32,2*r,!0),m.setUint16(34,16,!0),u(m,36,"data"),m[i(514)](40,2*p,!0);for(var g=p,y=44,A=0;A<g;A++)m[i(395)](y,32767*s[A],!0),y+=2;if(e)return e({buffer:f,view:m});postMessage({buffer:f,view:m})}if(t[s(488)])i(t,(function(t){var i=s;e(t[i(453)],t[i(342)])}));else{var n,o,a,h,l=(n=i,o=r,a=p.createObjectURL(new Blob([n[o(364)](),o(409)+n[o(430)]+"(eee.data);}"],{type:o(641)})),(h=new Worker(a))[o(578)]=a,h);l.onmessage=function(t){var i=s;e(t[i(480)][i(453)],t[i(480)][i(342)]),p.revokeObjectURL(l[i(578)]),l.terminate()},l.postMessage(t)}}!0===i[r(563)]&&(d=1),1===i[r(391)]&&(d=1),(!d||d<1)&&(d=2),!i.disableLogs&&console[r(599)]("StereoAudioRecorder is set to record number of channels: "+d),typeof i[r(559)]===r(417)&&(i[r(559)]=!0),this[r(345)]=function(){var t=r;if(!1===f())throw"Please make sure MediaStream is active.";w(),I=S=!1,l=!0,void 0!==i[t(633)]&&_()},this[r(245)]=function(t){var e=r;t=t||function(){},l=!1,m({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:d,internalInterleavedLength:c,leftBuffers:a,rightBuffers:1===d?[]:h,noWorker:i[e(488)]},(function(s,i){var r=e;o[r(379)]=new Blob([i],{type:r(280)}),o[r(453)]=new ArrayBuffer(i[r(453)][r(434)]),o.view=i,o[r(371)]=u||b,o[r(359)]=v,o[r(341)]=c,I=!1,t&&t(o[r(379)])}))},typeof s.Storage===r(417)&&(s[r(406)]={AudioContextConstructor:null,AudioContext:window[r(337)]||window[r(667)]}),(!s[r(406)].AudioContextConstructor||s[r(406)][r(398)].state===r(350))&&(s[r(406)].AudioContextConstructor=new(s.Storage[r(337)]));var g=s[r(406)][r(398)],y=g.createMediaStreamSource(t),A=[0,256,512,1024,2048,4096,8192,16384],v=typeof i[r(359)]===r(417)?4096:i[r(359)];if(-1===A[r(441)](v)&&!i[r(355)]&&console[r(599)](r(613)+JSON[r(302)](A,null,"\t")),g[r(608)])n=g.createJavaScriptNode(v,d,d);else{if(!g[r(659)])throw"WebAudio API has no support on this browser.";n=g[r(659)](v,d,d)}y.connect(n),!i[r(359)]&&(v=n.bufferSize);var b=typeof i[r(371)]!==r(417)?i.sampleRate:g[r(371)]||44100;(b<22050||b>96e3)&&!i[r(355)]&&console[r(599)](r(258)),!i[r(355)]&&i[r(540)]&&console[r(599)](r(536)+i[r(540)]);var S=!1;function w(){var t=r;a=[],h=[],c=0,I=!1,l=!1,S=!1,g=null,o[t(539)]=a,o[t(588)]=h,o[t(391)]=d,o.desiredSampRate=u,o[t(371)]=b,o[t(574)]=c,k={left:[],right:[],recordingLength:0}}function T(){var t=r;n&&(n.onaudioprocess=null,n.disconnect(),n=null),y&&(y[t(282)](),y=null),w()}this[r(515)]=function(){S=!0},this[r(461)]=function(){var t=r;if(!1===f())throw t(378);if(!l)return!i[t(355)]&&console[t(599)]("Seems recording has been restarted."),void this.record();S=!1},this[r(666)]=function(){var t=r;i.checkForInactiveTracks=!1,l&&this[t(245)](T),T()},this.name=r(583),this[r(364)]=function(){return this[r(430)]};var I=!1;n[r(262)]=function(t){var e=r;if(!S)if(!1===f()&&(!i[e(355)]&&console.log(e(602)),n[e(282)](),l=!1),l){!I&&(I=!0,i.onAudioProcessStarted&&i[e(431)](),i[e(419)]&&i.initCallback());var s=t[e(639)].getChannelData(0),u=new Float32Array(s);if(a[e(507)](u),2===d){var p=t[e(639)][e(332)](1),m=new Float32Array(p);h.push(m)}c+=v,o[e(574)]=c,typeof i[e(633)]!==e(417)&&(k[e(574)]+=v,k[e(562)].push(u),2===d&&k[e(481)][e(507)](m))}else y&&(y[e(282)](),y=null)},g[r(637)]?n.connect(g[r(637)]()):n.connect(g.destination),this.leftchannel=a,this[r(588)]=h,this.numberOfAudioChannels=d,this[r(540)]=u,this.sampleRate=b,o[r(574)]=c;var k={left:[],right:[],recordingLength:0};function _(){var t=r;l&&typeof i[t(459)]===t(372)&&typeof i.timeSlice!==t(417)&&(k[t(562)][t(341)]?(m({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:d,internalInterleavedLength:k[t(574)],leftBuffers:k.left,rightBuffers:1===d?[]:k[t(481)]},(function(e,s){var r=t,n=new Blob([s],{type:r(280)});i[r(459)](n),setTimeout(_,i[r(633)])})),k={left:[],right:[],recordingLength:0}):setTimeout(_,i[t(633)]))}}function D(t,s){var i=e;if(typeof html2canvas===i(417))throw"Please link: https://www.webrtc-experiment.com/screenshot.js";!(s=s||{})[i(543)]&&(s[i(543)]=10);var r=!1;["captureStream","mozCaptureStream",i(547)][i(317)]((function(t){var e=i;t in document[e(496)](e(274))&&(r=!0)}));var n,o,a,h=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window[i(537)]),l=50,c=navigator[i(517)][i(330)](/Chrom(e|ium)\/([0-9]+)\./);if(h&&c&&c[2]&&(l=parseInt(c[2],10)),h&&l<52&&(r=!1),s.useWhammyRecorder&&(r=!1),r)if(!s[i(355)]&&console[i(599)]("Your browser supports both MediRecorder API and canvas.captureStream!"),t instanceof HTMLCanvasElement)n=t;else{if(!(t instanceof CanvasRenderingContext2D))throw i(381);n=t[i(274)]}else navigator[i(283)]&&!s[i(355)]&&console[i(335)](i(577));this[i(345)]=function(){var t=i;if(a=!0,r&&!s[t(339)]){var e;t(412)in n?e=n[t(412)](25):"mozCaptureStream"in n?e=n.mozCaptureStream(25):t(547)in n&&(e=n.webkitCaptureStream(25));try{var h=new v;h[t(366)](E(e,"video")[0]),e=h}catch(t){}if(!e)throw t(325);(o=new _(e,{mimeType:s.mimeType||t(499)}))[t(345)]()}else m[t(252)]=[],f=(new Date)[t(420)](),p();s[t(419)]&&s[t(419)]()},this.getWebPImages=function(e){var r=i;if(t[r(464)][r(314)]()===r(274)){var n=m[r(252)][r(341)];m.frames[r(317)]((function(t,e){var i=r,o=n-e;!s[i(355)]&&console[i(599)](o+"/"+n+" frames remaining"),s.onEncodingCallback&&s[i(266)](o,n);var a=t[i(437)][i(470)]("image/webp",1);m.frames[e][i(437)]=a})),!s.disableLogs&&console[r(599)]("Generating WebM"),e()}else e()},this.stop=function(t){var e=i;a=!1;var n=this;r&&o?o[e(245)](t):this[e(493)]((function(){var i=e;m[i(439)]((function(e){var r=i;!s[r(355)]&&console[r(599)](r(550)),n[r(379)]=e,n[r(379)][r(317)]&&(n[r(379)]=new Blob([],{type:r(499)})),t&&t(n.blob),m[r(252)]=[]}))}))};var d=!1;function u(){m.frames=[],a=!1,d=!1}function p(){var e,r,n,o=i;if(d)return f=(new Date)[o(420)](),setTimeout(p,500);if(t.nodeName[o(314)]()===o(274)){var h=(new Date)[o(420)]()-f;return f=(new Date)[o(420)](),m[o(252)].push({image:(e=i,r=document.createElement(e(274)),n=r.getContext("2d"),r[e(592)]=t.width,r[e(448)]=t[e(448)],n[e(629)](t,0,0),r),duration:h}),void(a&&setTimeout(p,s.frameInterval))}html2canvas(t,{grabMouse:typeof s.showMousePointer===o(417)||s[o(253)],onrendered:function(t){var e=o,i=(new Date)[e(420)]()-f;if(!i)return setTimeout(p,s.frameInterval);f=(new Date)[e(420)](),m.frames[e(507)]({image:t[e(470)](e(494),1),duration:i}),a&&setTimeout(p,s.frameInterval)}})}this[i(515)]=function(){d=!0,o instanceof _&&o[i(515)]()},this[i(461)]=function(){var t=i;d=!1,o instanceof _?o[t(461)]():!a&&this[t(345)]()},this[i(666)]=function(){a&&this.stop(u),u()},this.name=i(415),this.toString=function(){return this[i(430)]};var f=(new Date)[i(420)](),m=new(L[i(416)])(100)}function R(t,s){var i=e;function r(t){var e=i;t=typeof t!==e(417)?t:10;var s=(new Date)[e(420)]()-c;return s?a?(c=(new Date)[e(420)](),setTimeout(r,100)):(c=(new Date)[e(420)](),l.paused&&l[e(386)](),p[e(629)](l,0,0,u[e(592)],u[e(448)]),d[e(252)][e(507)]({duration:s,image:u[e(470)](e(494))}),void(!o&&setTimeout(r,t,t))):setTimeout(r,t,t)}function n(t,e,s,r,n){var o=i,a=document[o(496)](o(274));a.width=u.width,a[o(448)]=u[o(448)];var h,l,c,d,p=a[o(531)]("2d"),f=[],m=-1===e,g=e&&e>0&&e<=t[o(341)]?e:t[o(341)],y=0,A=0,v=0,b=Math[o(352)](Math[o(642)](255,2)+Math[o(642)](255,2)+Math[o(642)](255,2)),S=s&&s>=0&&s<=1?s:0,w=r&&r>=0&&r<=1?r:0,E=!1;c=-1,d=(h={length:g,functionToLoop:function(e,s){var i,r,n,a=o,h=function(){!E&&n-i<=n*w||(m&&(E=!0),f.push(t[s])),e()};if(E)h();else{var l=new Image;l[a(304)]=function(){var t=a;p.drawImage(l,0,0,u[t(592)],u[t(448)]);var e=p[t(254)](0,0,u[t(592)],u[t(448)]);i=0,r=e[t(480)][t(341)],n=e.data[t(341)]/4;for(var s=0;s<r;s+=4){var o={r:e[t(480)][s],g:e[t(480)][s+1],b:e[t(480)][s+2]};Math[t(352)](Math.pow(o.r-y,2)+Math[t(642)](o.g-A,2)+Math.pow(o.b-v,2))<=b*S&&i++}h()},l[a(607)]=t[s].image}},callback:function(){var e=o;(f=f.concat(t[e(619)](g))).length<=0&&f[e(507)](t[t[e(341)]-1]),n(f)}})[(l=i)(341)],function t(){var e=l;++c!==d?setTimeout((function(){h[e(407)](t,c)}),1):h[e(665)]()}()}!(s=s||{})[i(543)]&&(s[i(543)]=10),!s[i(355)]&&console.log("Using frames-interval:",s.frameInterval),this[i(345)]=function(){var e=i;!s[e(592)]&&(s[e(592)]=320),!s[e(448)]&&(s.height=240),!s.video&&(s[e(560)]={width:s[e(592)],height:s.height}),!s.canvas&&(s[e(274)]={width:s.width,height:s[e(448)]}),u[e(592)]=s[e(274)][e(592)]||320,u.height=s[e(274)][e(448)]||240,p=u[e(531)]("2d"),s.video&&s[e(560)]instanceof HTMLVideoElement?(l=s[e(560)][e(567)](),s.initCallback&&s.initCallback()):(l=document[e(496)](e(560)),T(t,l),l[e(343)]=function(){var t=e;s[t(419)]&&s[t(419)]()},l[e(592)]=s[e(560)][e(592)],l.height=s[e(560)].height),l[e(313)]=!0,l[e(386)](),c=(new Date)[e(420)](),d=new(L[e(416)]),!s[e(355)]&&(console[e(599)](e(247),u.width,"*",u[e(448)]),console[e(599)](e(544),l.width||u[e(592)],"*",l[e(448)]||u[e(448)])),r(s[e(543)])};var o=!1;this[i(245)]=function(t){t=t||function(){},o=!0;var e=this;setTimeout((function(){var i=Wh;n(d[i(252)],-1,null,null,(function(r){var n=i;d[n(252)]=r,s[n(329)]&&s[n(329)][n(341)]&&(d.frames=s[n(329)][n(612)](d[n(252)])),d[n(439)]((function(s){var i=n;e.blob=s,e[i(379)][i(317)]&&(e.blob=new Blob([],{type:i(499)})),t&&t(e[i(379)])}))}))}),10)};var a=!1;function h(){d.frames=[],o=!0,a=!1}this[i(515)]=function(){a=!0},this[i(461)]=function(){a=!1,o&&this[i(345)]()},this[i(666)]=function(){!o&&this[i(245)](h),h()},this[i(430)]=i(426),this[i(364)]=function(){return this[i(430)]};var l,c,d,u=document.createElement(i(274)),p=u[i(531)]("2d")}void 0!==u?I[e(337)]=u:typeof webkitAudioContext!==e(417)&&(I[e(337)]=webkitAudioContext),"function"!==e(417)&&(s[e(406)]=I),"function"!==e(417)&&(s[e(526)]=_),"function"!==e(417)&&(s[e(583)]=C),"function"!==e(417)&&(s[e(415)]=D),"function"!==e(417)&&(s.WhammyRecorder=R);var L=function(){var t=e;function s(t){var e=Wh;this.frames=[],this.duration=t||1,this[e(566)]=.8}function i(e){var s=t;function i(t,e,s){var i=Wh;return[{data:t,id:231}][i(612)](s.map((function(t){var s=i,r=function(t){var e=Wh,s=0;if(t[e(344)]&&(s|=128),t.invisible&&(s|=8),t[e(433)]&&(s|=t[e(433)]<<1),t[e(455)]&&(s|=1),t.trackNum>127)throw e(556);return[128|t.trackNum,t.timecode>>8,255&t[e(374)],s][e(336)]((function(t){return String[e(627)](t)}))[e(553)]("")+t.frame}({discardable:0,frame:t[s(480)][s(619)](4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math[s(634)](e)});return e+=t[s(393)],{data:r,id:163}})))}function r(t){for(var e=Wh,s=[];t>0;)s.push(255&t),t>>=8;return new Uint8Array(s[e(522)]())}function n(t){var e=Wh;return new Uint8Array(t[e(614)]("")[e(336)]((function(t){return t[e(643)](0)})))}function o(t){var e=Wh,s=[];t=(t.length%8?new Array(9-t[e(341)]%8)[e(553)]("0"):"")+t;for(var i=0;i<t[e(341)];i+=8)s[e(507)](parseInt(t[e(535)](i,8),2));return new Uint8Array(s)}function a(t){for(var e=Wh,s=[],i=0;i<t[e(341)];i++){var h=t[i][e(480)];typeof h===e(672)&&(h=a(h)),typeof h===e(483)&&(h=o(h[e(364)](2))),typeof h===e(269)&&(h=n(h));var l=h[e(530)]||h[e(434)]||h.length,c=Math[e(568)](Math.ceil(Math[e(599)](l)/Math.log(2))/8),d=l[e(364)](2),u=new Array(7*c+7+1-d[e(341)]).join("0")+d,p=new Array(c)[e(553)]("0")+"1"+u;s[e(507)](r(t[i].id)),s[e(507)](o(p)),s[e(507)](h)}return new Blob(s,{type:"video/webm"})}function h(t,e){var s=Wh;return parseInt(t[s(535)](e+4,4).split("").map((function(t){var e=s,i=t.charCodeAt(0)[e(364)](2);return new Array(8-i[e(341)]+1)[e(553)]("0")+i}))[s(553)](""),2)}function l(t){for(var e=Wh,s=0,i={};s<t[e(341)];){var r=t[e(535)](s,4),n=h(t,s),o=t[e(535)](s+4+4,n);s+=8+n,i[r]=i[r]||[],r===e(603)||"LIST"===r?i[r][e(507)](l(o)):i[r][e(507)](o)}return i}var c=new function(t){var e=Wh,s=function(t){var e=Wh;if(!t[0])return void postMessage({error:e(594)});for(var s=t[0][e(592)],i=t[0][e(448)],r=t[0][e(393)],n=1;n<t[e(341)];n++)r+=t[n][e(393)];return{duration:r,width:s,height:i}}(t);if(!s)return[];for(var r,n,o=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:e(457),id:22337},{data:(r=s.duration,n=Wh,[][n(619)][n(501)](new Uint8Array(new Float64Array([r])[n(453)]),0)[n(336)]((function(t){var e=n;return String[e(627)](t)})).reverse()[n(553)]("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:e(338),id:2274716},{data:e(463),id:134},{data:e(442),id:2459272},{data:1,id:131},{id:224,data:[{data:s.width,id:176},{data:s[e(448)],id:186}]}]}]}]}],h=0,l=0;h<t[e(341)];){var c=[],d=0;do{c.push(t[h]),d+=t[h][e(393)],h++}while(h<t[e(341)]&&d<3e4);var u={id:524531317,data:i(l,0,c)};o[1].data[e(507)](u),l+=d}return a(o)}(e[s(336)]((function(t){var e=s,i=function(t){for(var e=Wh,s=t[e(603)][0][e(270)][0],i=s[e(441)]("*"),r=0,n=[];r<4;r++)n[r]=s[e(643)](i+3+r);return{width:16383&(n[1]<<8|n[0]),height:16383&(n[3]<<8|n[2]),data:s,riff:t}}(l(atob(t[e(437)][e(619)](23))));return i[e(393)]=t.duration,i})));postMessage(c)}return s[t(597)][t(635)]=function(e,s){var i=t;if(i(274)in e&&(e=e[i(274)]),"toDataURL"in e&&(e=e.toDataURL(i(494),this[i(566)])),!/^data:image\/webp;base64,/gi[i(653)](e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this[i(252)][i(507)]({image:e,duration:s||this[i(393)]})},s[t(597)][t(439)]=function(e){var s,r,n,o,a=t,h=(s=i,n=p[(r=t)(646)](new Blob([s[r(364)](),r(312)+s[r(430)]+r(579)],{type:r(641)})),o=new Worker(n),p[r(622)](n),o);h[a(678)]=function(t){var s=a;t[s(480)][s(335)]?console.error(t[s(480)][s(335)]):e(t.data)},h[a(669)](this[a(252)])},{Video:s}}();s[e(447)]=L;var P={init:function(){var t=e,s=this;if(typeof indexedDB!==t(417)&&typeof indexedDB.open!==t(417)){var i,r=this[t(508)]||location.href[t(630)](/\/|:|#|%|\.|\[|\]/g,""),n=indexedDB[t(348)](r,1);n[t(513)]=s[t(471)],n.onsuccess=function(){var e=t;((i=n[e(664)])[e(513)]=s[e(471)],i[e(489)])?1!==i[e(509)]?i[e(489)](1)[e(340)]=function(){o(i),a()}:a():a()},n.onupgradeneeded=function(e){var s=t;o(e.target[s(664)])}}else console[t(335)](t(497));function o(e){e[t(596)](s.dataStoreName)}function a(){var e=t,r=i[e(396)]([s.dataStoreName],e(301));function n(t){var i=e;r[i(421)](s[i(575)])[i(305)](t).onsuccess=function(e){var r=i;s[r(665)]&&s[r(665)](e[r(534)][r(664)],t)}}s[e(626)]&&r[e(421)](s[e(575)])[e(482)](s[e(626)],e(626)),s[e(681)]&&r[e(421)](s[e(575)])[e(482)](s[e(681)],e(681)),s[e(367)]&&r[e(421)](s.dataStoreName).put(s[e(367)],e(367)),n("audioBlob"),n(e(626)),n("gifBlob")}},Fetch:function(t){var s=e;return this[s(665)]=t,this[s(679)](),this},Store:function(t){var s=e;return this[s(367)]=t[s(367)],this.videoBlob=t.videoBlob,this[s(681)]=t.gifBlob,this[s(679)](),this},onError:function(t){var s=e;console[s(335)](JSON[s(302)](t,null,"\t"))},dataStoreName:e(276),dbName:null};function x(t,s){var i=e;if(typeof GIFEncoder===i(417)){var r=document[i(496)](i(436));r[i(607)]=i(587),(document[i(356)]||document[i(271)]).appendChild(r)}s=s||{};var n=t instanceof CanvasRenderingContext2D||t instanceof HTMLCanvasElement;this[i(345)]=function(){var t=i;typeof GIFEncoder!==t(417)?c?(!n&&(!s[t(592)]&&(s.width=u[t(674)]||320),!s.height&&(s[t(448)]=u[t(389)]||240),!s[t(560)]&&(s[t(560)]={width:s[t(592)],height:s[t(448)]}),!s[t(274)]&&(s[t(274)]={width:s[t(592)],height:s.height}),a[t(592)]=s[t(274)][t(592)]||320,a[t(448)]=s.canvas[t(448)]||240,u[t(592)]=s[t(560)][t(592)]||320,u.height=s.video.height||240),(f=new GIFEncoder).setRepeat(0),f[t(373)](s.frameRate||200),f[t(598)](s[t(566)]||10),f.start(),"function"==typeof s[t(418)]&&s[t(418)](),Date[t(616)](),m=l((function e(i){var r=t;if(!0!==g[r(287)]){if(o)return setTimeout((function(){e(i)}),100);m=l(e),void 0===typeof p&&(p=i),i-p<90||(!n&&u[r(552)]&&u[r(386)](),!n&&h[r(629)](u,0,0,a[r(592)],a.height),s.onGifPreview&&s[r(347)](a[r(470)]("image/png")),f[r(572)](h),p=i)}})),s[t(419)]&&s[t(419)]()):setTimeout(g[t(345)],1e3):setTimeout(g.record,1e3)},this[i(245)]=function(t){var e=i;t=t||function(){},m&&d(m),Date[e(616)](),this[e(379)]=new Blob([new Uint8Array(f.stream().bin)],{type:e(645)}),t(this[e(379)]),f.stream()[e(403)]=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){var t;g.clearedRecordedData=!0,t=i,f&&(f[t(353)]().bin=[])},this[i(430)]=i(250),this.toString=function(){return this.name};var a=document.createElement("canvas"),h=a[i(531)]("2d");n&&(t instanceof CanvasRenderingContext2D?a=(h=t).canvas:t instanceof HTMLCanvasElement&&(h=t[i(531)]("2d"),a=t));var c=!0;if(!n){var u=document[i(496)]("video");u[i(313)]=!0,u[i(663)]=!0,u.playsInline=!0,c=!1,u.onloadedmetadata=function(){c=!0},T(t,u),u[i(386)]()}var p,f,m=null,g=this}function M(t,s){var i=e;typeof pe[i(524)]!==i(417)&&pe[i(524)],s=s||"multi-streams-mixer";var r=[],n=!1,o=document.createElement(i(274)),a=o[i(531)]("2d");o[i(425)].opacity=0,o[i(425)][i(671)]=i(519),o[i(425)][i(589)]=-1,o[i(425)][i(498)]=i(369),o[i(425)].left=i(369),o.className=s,(document[i(356)]||document[i(271)])[i(655)](o),this.disableLogs=!1,this[i(543)]=10,this[i(592)]=360,this.height=240,this[i(542)]=!0;var h=this,l=window[i(337)];typeof l===i(417)&&("undefined"!=typeof webkitAudioContext&&(l=webkitAudioContext),typeof mozAudioContext!==i(417)&&(l=mozAudioContext));var c=window.URL;void 0===c&&typeof webkitURL!==i(417)&&(c=webkitURL),typeof navigator!==i(417)&&typeof navigator[i(284)]===i(417)&&(typeof navigator[i(621)]!==i(417)&&(navigator[i(284)]=navigator[i(621)]),typeof navigator[i(283)]!==i(417)&&(navigator[i(284)]=navigator[i(283)]));var d=window[i(384)];void 0===d&&typeof webkitMediaStream!==i(417)&&(d=webkitMediaStream),typeof d!==i(417)&&typeof d[i(597)].stop===i(417)&&(d[i(597)][i(245)]=function(){var t=i;this[t(327)]()[t(317)]((function(e){e[t(245)]()}))});var u={};function p(){var t=i;if(!n){var e=r[t(341)],s=!1,a=[];if(r.forEach((function(e){var i=t;!e[i(353)]&&(e[i(353)]={}),e[i(353)][i(294)]?s=e:a[i(507)](e)})),s)o[t(592)]=s.stream[t(592)],o.height=s[t(353)][t(448)];else if(a[t(341)]){o[t(592)]=e>1?2*a[0][t(592)]:a[0].width;var l=1;(3===e||4===e)&&(l=2),(5===e||6===e)&&(l=3),(7===e||8===e)&&(l=4),(9===e||10===e)&&(l=5),o[t(448)]=a[0].height*l}else o[t(592)]=h[t(592)]||360,o[t(448)]=h[t(448)]||240;s&&s instanceof HTMLVideoElement&&f(s),a[t(317)]((function(t,e){f(t,e)})),setTimeout(p,h[t(543)])}}function f(t,e){var s=i;if(!n){var r=0,o=0,h=t[s(592)],l=t[s(448)];1===e&&(r=t[s(592)]),2===e&&(o=t.height),3===e&&(r=t[s(592)],o=t[s(448)]),4===e&&(o=2*t[s(448)]),5===e&&(r=t.width,o=2*t[s(448)]),6===e&&(o=3*t[s(448)]),7===e&&(r=t.width,o=3*t[s(448)]),typeof t[s(353)].left!==s(417)&&(r=t.stream[s(562)]),void 0!==t[s(353)][s(498)]&&(o=t[s(353)][s(498)]),typeof t[s(353)][s(592)]!==s(417)&&(h=t.stream[s(592)]),typeof t.stream.height!==s(417)&&(l=t[s(353)][s(448)]),a[s(629)](t,r,o,h,l),"function"==typeof t[s(353)][s(363)]&&t[s(353)][s(363)](a,r,o,h,l,e)}}function m(t){var e,r,n,o=i,a=document[o(496)](o(560));return e=t,n=i,"srcObject"in(r=a)?r.srcObject=e:n(576)in r?r[n(576)]=e:r.srcObject=e,a[o(408)]=s,a[o(313)]=!0,a[o(316)]=0,a.width=t.width||h[o(592)]||360,a[o(448)]=t.height||h[o(448)]||240,a[o(386)](),a}function g(e){var s=i;r=[],(e=e||t)[s(317)]((function(t){var e=s;if(t[e(327)]()[e(511)]((function(t){var s=e;return t[s(321)]===s(560)}))[e(341)]){var i=m(t);i[e(353)]=t,r[e(507)](i)}}))}typeof l!==i(417)?u[i(337)]=l:"undefined"!=typeof webkitAudioContext&&(u[i(337)]=webkitAudioContext),this[i(549)]=function(){p()},this[i(625)]=function(e){var s=i;if(!e)throw s(438);!(e instanceof Array)&&(e=[e]),e[s(317)]((function(e){var i=s,n=new d;if(e.getTracks()[i(511)]((function(t){var e=i;return t.kind===e(560)}))[i(341)]){var o=m(e);o[i(353)]=e,r.push(o),n[i(366)](e[i(327)]().filter((function(t){var e=i;return t[e(321)]===e(560)}))[0])}if(e.getTracks()[i(511)]((function(t){var e=i;return t[e(321)]===e(296)}))[i(341)]){var a=h[i(399)][i(267)](e);h[i(451)]=h[i(399)][i(637)](),a[i(673)](h[i(451)]),n[i(366)](h.audioDestination[i(353)][i(327)]()[i(511)]((function(t){return"audio"===t[i(321)]}))[0])}t[i(507)](n)}))},this.releaseStreams=function(){var t=i;r=[],n=!0,h[t(601)]&&(h[t(601)][t(282)](),h.gainNode=null),h[t(527)][t(341)]&&(h[t(527)][t(317)]((function(e){e[t(282)]()})),h.audioSources=[]),h[t(451)]&&(h.audioDestination.disconnect(),h[t(451)]=null),h[t(399)]&&h[t(399)].close(),h[t(399)]=null,a[t(495)](0,0,o[t(592)],o[t(448)]),o[t(353)]&&(o[t(353)][t(245)](),o[t(353)]=null)},this[i(503)]=function(t){t&&!(t instanceof Array)&&(t=[t]),g(t)},this[i(430)]="MultiStreamsMixer",this.toString=function(){return this[i(430)]},this[i(285)]=function(){var e=i;n=!1;var s=function(){var t,e=i;g(),e(412)in o?t=o.captureStream():"mozCaptureStream"in o?t=o.mozCaptureStream():!h[e(355)]&&console[e(335)](e(523));var s=new d;return t.getTracks()[e(511)]((function(t){var s=e;return t[s(321)]===s(560)}))[e(317)]((function(t){s[e(366)](t)})),o[e(353)]=s,s}(),r=function(){var e=i;!u[e(398)]&&(u[e(398)]=new u.AudioContext),h[e(399)]=u[e(398)],h[e(527)]=[],!0===h[e(542)]&&(h.gainNode=h[e(399)][e(319)](),h[e(601)].connect(h[e(399)][e(528)]),h[e(601)].gain[e(500)]=0);var s=0;if(t[e(317)]((function(t){var i=e;if(t[i(327)]()[i(511)]((function(t){var e=i;return t[e(321)]===e(296)}))[i(341)]){s++;var r=h.audioContext.createMediaStreamSource(t);!0===h[i(542)]&&r.connect(h[i(601)]),h.audioSources.push(r)}})),!s)return;return h.audioDestination=h.audioContext[e(637)](),h[e(527)][e(317)]((function(t){var s=e;t.connect(h[s(451)])})),h[e(451)][e(353)]}();return r&&r[e(327)]().filter((function(t){var s=e;return t[s(321)]===s(296)}))[e(317)]((function(t){s[e(366)](t)})),t[e(317)]((function(t){t[e(294)]})),s}}function B(t,s){var i=e;t=t||[];var r,n,o=this;!(s=s||{elementClass:i(311),mimeType:i(499),video:{width:360,height:240}}).frameInterval&&(s.frameInterval=10),!s[i(560)]&&(s[i(560)]={}),!s[i(560)][i(592)]&&(s[i(560)][i(592)]=360),!s[i(560)][i(448)]&&(s[i(560)][i(448)]=240),this.record=function(){var e,o=i;r=new M(t,s[o(624)]||o(311)),(e=[],t.forEach((function(t){var s=Wh;E(t,s(560))[s(317)]((function(t){e[s(507)](t)}))})),e).length&&(r[o(543)]=s[o(543)]||10,r[o(592)]=s[o(560)][o(592)]||360,r.height=s.video[o(448)]||240,r[o(549)]()),s.previewStream&&typeof s.previewStream===o(372)&&s[o(518)](r[o(285)]()),(n=new _(r.getMixedStream(),s))[o(345)]()},this[i(245)]=function(t){n&&n.stop((function(e){var s=Wh;o[s(379)]=e,t(e),o[s(666)]()}))},this[i(515)]=function(){n&&n.pause()},this[i(461)]=function(){n&&n[i(461)]()},this.clearRecordedData=function(){var t=i;n&&(n[t(666)](),n=null),r&&(r[t(491)](),r=null)},this.addStreams=function(e){var o=i;if(!e)throw o(438);!(e instanceof Array)&&(e=[e]),t[o(612)](e),n&&r&&(r.appendStreams(e),s[o(518)]&&typeof s.previewStream===o(372)&&s.previewStream(r[o(285)]()))},this[i(503)]=function(t){r&&(t&&!(t instanceof Array)&&(t=[t]),r[i(503)](t))},this.getMixer=function(){return r},this.name=i(260),this[i(364)]=function(){return this[i(430)]}}function F(t,s){var i,r,n,o=e;function a(e,l){var c=o;if(!s[c(460)]&&!l)return i=!1,void fetch(c(590))[c(259)]((function(t){var s=c;t[s(580)]()[s(259)]((function(t){a(e,t)}))}));if(!s[c(460)]&&l instanceof ArrayBuffer){var d=new Blob([l],{type:c(292)});s[c(460)]=p[c(646)](d)}!s[c(460)]&&console[c(335)](c(298)),(r=new Worker(s[c(460)]))[c(669)](s[c(504)]||c(651)),r.addEventListener("message",(function(e){var o=c;e[o(480)]===o(647)?(r[o(669)]({width:s[o(592)],height:s[o(448)],bitrate:s[o(265)]||1200,timebaseDen:s[o(362)]||30,realtime:s[o(365)]}),new ReadableStream({start:function(e){var r=Wh,n=document[r(496)]("canvas"),o=document[r(496)]("video"),a=!0;o[r(432)]=t,o[r(313)]=!0,o[r(448)]=s.height,o[r(592)]=s[r(592)],o[r(316)]=0,o[r(505)]=function(){var t=r;n[t(592)]=s[t(592)],n[t(448)]=s.height;var h=n[t(531)]("2d"),l=1e3/s[t(362)],c=setInterval((function(){var r=t;if(i&&(clearInterval(c),e.close()),a&&(a=!1,s[r(323)]&&s[r(323)]()),h[r(629)](o,0,0),"closed"!==e[r(246)][r(286)])try{e[r(351)](h.getImageData(0,0,s.width,s[r(448)]))}catch(t){}}),l)},o[r(386)]()}})[o(410)](new WritableStream({write:function(t){var e=o;i?console.error(e(308)):r[e(669)](t.data[e(453)],[t[e(480)][e(453)]])}}))):e[o(480)]&&!n&&h[o(507)](e.data)}))}(typeof ReadableStream===o(417)||typeof WritableStream===o(417))&&console[o(335)](o(538)),(s=s||{})[o(592)]=s.width||640,s[o(448)]=s[o(448)]||480,s[o(362)]=s[o(362)]||30,s[o(265)]=s[o(265)]||1200,s[o(365)]=s[o(365)]||!0,this[o(345)]=function(){var e=o;h=[],n=!1,this.blob=null,a(t),typeof s.initCallback===e(372)&&s[e(419)]()},this.pause=function(){n=!0},this[o(461)]=function(){n=!1};var h=[];this[o(245)]=function(t){i=!0;var e,s,n=this;e=function(){var e=Wh;n.blob=new Blob(h,{type:e(499)}),t(n[e(379)])},s=o,r?(r[s(264)](s(249),(function(t){var i=s;null===t[i(480)]&&(r[i(444)](),r=null,e&&e())})),r[s(669)](null)):e&&e()},this[o(430)]=o(472),this[o(364)]=function(){return this.name},this[o(666)]=function(){h=[],n=!1,this[o(379)]=null},this[o(379)]=null}"function"!==e(417)&&(s[e(377)]=P),"function"!==e(417)&&(s[e(250)]=x),"function"===e(417)&&e(672)!==e(417)&&(t[e(346)]=M),"function"!==e(417)&&(s[e(260)]=B),"function"!==e(417)&&(s[e(581)]=function(t,i){var r=e;if(!this)throw r(320);if(void 0===t)throw r(631);var n=this;n[r(276)]=new s(t,i),this[r(521)]=function(){return new Promise((function(t,e){var s=Wh;try{n[s(276)][s(521)](),t()}catch(t){e(t)}}))},this[r(492)]=function(){return new Promise((function(t,e){var s=Wh;try{n.recordRTC[s(492)]((function(i){var r=s;n.blob=n[r(276)][r(261)](),n[r(379)]&&n[r(379)][r(530)]?t(i):e(r(593),n[r(379)])}))}catch(t){e(t)}}))},this[r(466)]=function(){return new Promise((function(t,e){var s=Wh;try{n[s(276)][s(466)](),t()}catch(t){e(t)}}))},this[r(545)]=function(){return new Promise((function(t,e){var s=Wh;try{n[s(276)][s(545)](),t()}catch(t){e(t)}}))},this.getDataURL=function(t){return new Promise((function(t,e){var s=Wh;try{n[s(276)][s(333)]((function(e){t(e)}))}catch(t){e(t)}}))},this[r(261)]=function(){return new Promise((function(t,e){var s=Wh;try{t(n[s(276)][s(261)]())}catch(t){e(t)}}))},this[r(429)]=function(){return new Promise((function(t,e){var s=Wh;try{t(n[s(276)][s(429)]())}catch(t){e(t)}}))},this[r(467)]=function(){return new Promise((function(t,e){var s=Wh;try{t(n[s(276)][s(467)]())}catch(t){e(t)}}))},this.destroy=function(){return new Promise((function(t,e){var s=Wh;try{t(n[s(276)][s(279)]())}catch(t){e(t)}}))},this[r(388)]=function(){return new Promise((function(t,e){var s=Wh;try{t(n[s(276)][s(388)]())}catch(t){e(t)}}))},this.blob=null,this[r(509)]=r(289)}),"function"!==e(417)&&(s[e(472)]=F)}));function Wh(t,e){var s=jh();return(Wh=function(t,e){return s[t-=245]})(t,e)}const Gh=Hh;function zh(){const t=["55512vQGmCp","4053591XgCDTt","High422","_ebsp2rbsp","1498623GswByW","parseSPS","buffer","getChromaFormatString","readSEG","toString","4:2:2","length","150dLZbIm","Extended","Unknown","ceil","92098RAWFwn","readBits","destroy","Main","getProfileString","24YoDfxL","19914YnVyuo","getLevelString","348059HJpsmW","4:2:0","readByte","High10","4:4:4","1657120hJdstM","readBool","readUEG","High444","_skipScalingList","avc1."];return(zh=function(){return t})()}function Hh(t,e){const s=zh();return(Hh=function(t,e){return s[t-=254]})(t,e)}!function(t,e){const s=Hh,i=t();for(;;)try{if(240869===-parseInt(s(279))/1+parseInt(s(271))/2*(-parseInt(s(276))/3)+-parseInt(s(255))/4+-parseInt(s(267))/5*(-parseInt(s(277))/6)+parseInt(s(259))/7+parseInt(s(284))/8+parseInt(s(256))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zh);class Kh{static _ebsp2rbsp(t){const e=Hh;let s=t,i=s.byteLength,r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(261)],0,n)}static[Gh(260)](t){const e=Gh;let s=Kh[e(258)](t),i=new Se(s);i[e(281)]();let r=i[e(281)]();i[e(281)]();let n=i[e(281)]();i.readUEG();let o=Kh[e(275)](r),a=Kh.getLevelString(n),h=1,l=420,c=[0,420,422,444],d=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(h=i[e(286)](),3===h&&i[e(272)](1),h<=3&&(l=c[h]),d=i[e(286)]()+8,i[e(286)](),i[e(272)](1),i[e(285)]())){let t=3!==h?8:12;for(let s=0;s<t;s++)i.readBool()&&(s<6?Kh[e(288)](i,16):Kh[e(288)](i,64))}i[e(286)]();let u=i.readUEG();if(0===u)i.readUEG();else if(1===u){i[e(272)](1),i[e(263)](),i[e(263)]();let t=i[e(286)]();for(let s=0;s<t;s++)i[e(263)]()}let p=i.readUEG();i[e(272)](1);let f=i[e(286)](),m=i[e(286)](),g=i[e(272)](1);0===g&&i.readBits(1),i[e(272)](1);let y=0,A=0,v=0,b=0;i[e(285)]()&&(y=i[e(286)](),A=i.readUEG(),v=i[e(286)](),b=i[e(286)]());let S=1,w=1,E=0,T=!0,I=0,k=0;if(i.readBool()){if(i[e(285)]()){let t=i[e(281)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(S=s[t-1],w=r[t-1]):255===t&&(S=i.readByte()<<8|i.readByte(),w=i[e(281)]()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i[e(285)]()&&(i[e(272)](4),i.readBool()&&i.readBits(24)),i.readBool()&&(i[e(286)](),i[e(286)]()),i[e(285)]()){let t=i[e(272)](32),s=i[e(272)](32);T=i[e(285)](),I=s,k=2*t,E=I/k}}let _=1;(1!==S||1!==w)&&(_=S/w);let C=0,D=0;if(0===h)C=1,D=2-g;else{C=3===h?1:2,D=(1===h?2:1)*(2-g)}let R=16*(f+1),L=16*(m+1)*(2-g);R-=(y+A)*C,L-=(v+b)*D;let P=Math[e(270)](R*_);return i[e(273)](),i=null,{profile_string:o,level_string:a,bit_depth:d,ref_frames:p,chroma_format:l,chroma_format_string:Kh.getChromaFormatString(l),frame_rate:{fixed:T,fps:E,fps_den:k,fps_num:I},sar_ratio:{width:S,height:w},codec_size:{width:R,height:L},present_size:{width:P,height:L}}}static parseSPS$2(t){const e=Gh;let s=t.subarray(1,4),i=e(254);for(let t=0;t<3;t++){let r=s[t][e(264)](16);r[e(266)]<2&&(r="0"+r),i+=r}let r=Kh[e(258)](t),n=new Se(r);n.readByte();let o=n[e(281)]();n[e(281)]();let a=n[e(281)]();n[e(286)]();let h=Kh[e(275)](o),l=Kh[e(278)](a),c=1,d=420,u=[0,420,422,444],p=8,f=8;if((100===o||110===o||122===o||244===o||44===o||83===o||86===o||118===o||128===o||138===o||144===o)&&(c=n.readUEG(),3===c&&n[e(272)](1),c<=3&&(d=u[c]),p=n[e(286)]()+8,f=n.readUEG()+8,n.readBits(1),n[e(285)]())){let t=3!==c?8:12;for(let s=0;s<t;s++)n[e(285)]()&&(s<6?Kh[e(288)](n,16):Kh[e(288)](n,64))}n[e(286)]();let m=n[e(286)]();if(0===m)n.readUEG();else if(1===m){n[e(272)](1),n[e(263)](),n[e(263)]();let t=n.readUEG();for(let s=0;s<t;s++)n[e(263)]()}let g=n.readUEG();n[e(272)](1);let y=n[e(286)](),A=n[e(286)](),v=n[e(272)](1);0===v&&n[e(272)](1),n.readBits(1);let b=0,S=0,w=0,E=0;n[e(285)]()&&(b=n[e(286)](),S=n[e(286)](),w=n[e(286)](),E=n[e(286)]());let T=1,I=1,k=0,_=!0,C=0,D=0;if(n[e(285)]()){if(n[e(285)]()){let t=n[e(281)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(T=s[t-1],I=i[t-1]):255===t&&(T=n.readByte()<<8|n.readByte(),I=n[e(281)]()<<8|n[e(281)]())}if(n[e(285)]()&&n[e(285)](),n[e(285)]()&&(n[e(272)](4),n[e(285)]()&&n[e(272)](24)),n[e(285)]()&&(n[e(286)](),n[e(286)]()),n[e(285)]()){let t=n[e(272)](32),s=n.readBits(32);_=n[e(285)](),C=s,D=2*t,k=C/D}}let R=1;(1!==T||1!==I)&&(R=T/I);let L=0,P=0;if(0===c)L=1,P=2-v;else{L=3===c?1:2,P=(1===c?2:1)*(2-v)}let x=16*(y+1),M=16*(A+1)*(2-v);x-=(b+S)*L,M-=(w+E)*P;let B=Math[e(270)](x*R);return n[e(273)](),n=null,{codec_mimetype:i,profile_idc:o,level_idc:a,profile_string:h,level_string:l,chroma_format_idc:c,bit_depth:p,bit_depth_luma:p,bit_depth_chroma:f,ref_frames:g,chroma_format:d,chroma_format_string:Kh[e(262)](d),frame_rate:{fixed:_,fps:k,fps_den:D,fps_num:C},sar_ratio:{width:T,height:I},codec_size:{width:x,height:M},present_size:{width:B,height:M}}}static[Gh(288)](t,e){let s=8,i=8,r=0;for(let n=0;n<e;n++)0!==i&&(r=t.readSEG(),i=(s+r+256)%256),s=0===i?s:i}static[Gh(275)](t){const e=Gh;switch(t){case 66:return"Baseline";case 77:return e(274);case 88:return e(268);case 100:return"High";case 110:return e(282);case 122:return e(257);case 244:return e(287);default:return e(269)}}static[Gh(278)](t){return(t/10).toFixed(1)}static[Gh(262)](t){const e=Gh;switch(t){case 420:return e(280);case 422:return e(265);case 444:return e(283);default:return e(269)}}}const qh=Qh;function Qh(t,e){const s=Yh();return(Qh=function(t,e){return s[t-=273]})(t,e)}function Yh(){const t=["look","buflen","46916udPajp","279KhxaTd","6462459ZZRThc","buffer","7lARGUA","36802lfsLGv","3728XJkQyR","10oyhyFU","read","bufpos","iserro","405030phfdyz","bufoff","length","2737256pEbhGK","697914jnwqgR"];return(Yh=function(){return t})()}!function(t,e){const s=Qh,i=t();for(;;)try{if(188588===-parseInt(s(273))/1+-parseInt(s(278))/2+parseInt(s(274))/3*(-parseInt(s(279))/4)+parseInt(s(284))/5+-parseInt(s(288))/6+parseInt(s(277))/7*(-parseInt(s(287))/8)+parseInt(s(275))/9*(parseInt(s(280))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yh);qh(281),qh(289);function Jh(){const t=["readBits","42iGwqyl","ExpGolomb data params is required","getUint32","subarray","min","_word","7072865upsrfS","8940019qBwbHm","skipLZ","readEG","90bvStgw","set","readUEG","3BelhlX","No bytes available","readBool","_loadWord","310995XuAALs","_bytesAvailable","_bitsAvailable","4figsGp","floor","_data","2099236veZjpw","byteLength","readUByte","105381yLyUdw","1125136NnfKWp","Cannot read more than 32 bits","406578XqOpBD"];return(Jh=function(){return t})()}const Xh=$h;function $h(t,e){const s=Jh();return($h=function(t,e){return s[t-=440]})(t,e)}!function(t,e){const s=$h,i=t();for(;;)try{if(724488===-parseInt(s(468))/1*(parseInt(s(462))/2)+-parseInt(s(455))/3*(parseInt(s(465))/4)+parseInt(s(448))/5+parseInt(s(440))/6*(parseInt(s(442))/7)+parseInt(s(469))/8+parseInt(s(459))/9*(parseInt(s(452))/10)+-parseInt(s(449))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jh);Xh(441),Xh(454),Xh(451),Xh(457),Xh(467);const Zh=el;function tl(t){const e=el;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={};let r=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();const n=new DataView(t.buffer);let o=n.getUint8(0),a=n[e(318)](1);if(n[e(318)](2),n.getUint8(3),1!==o){if(!s[e(308)])return console.error(e(279)+o+", valid version is 1 and return"),{};{console.log(e(288)+o+e(294));let t=252&n[e(318)](0)|1;n[e(361)](0,t)}}if(0===a){if(!s[e(310)])return console[e(334)](e(323)),{};console[e(301)](e(321)),n[e(361)](1,66)}const h=1+(3&n.getUint8(4));if(3!==h&&4!==h)return{};let l=31&n[e(318)](5);if(0===l)return{};let c=6;for(let s=0;s<l;s++){let o=n[e(314)](c,!r);if(c+=2,0===o)continue;let a=new Uint8Array(t[e(330)],c,o);c+=o;let h=Kh[e(309)](a);if(0!==s)continue;i[e(291)]=a,i[e(313)]=1e3,i[e(324)]=h.codec_size[e(289)],i[e(344)]=h.codec_size[e(333)],i.presentWidth=h[e(274)][e(289)],i.presentHeight=h[e(274)][e(333)],i[e(317)]=h.profile_string,i[e(355)]=h.level_string,i[e(342)]=h[e(302)],i[e(357)]=h[e(329)],i.sarRatio=h[e(338)],i[e(292)]=h.frame_rate,(!1===h[e(319)][e(300)]||0===h.frame_rate[e(298)]||0===h.frame_rate[e(303)])&&(i[e(292)]={fixed:!0,fps:25,fps_num:25e3,fps_den:1e3});let l=i[e(292)][e(303)],d=i[e(292)][e(298)];i[e(343)]=i[e(313)]*(l/d);let u=a[e(365)](1,4),p=e(293);for(let t=0;t<3;t++){let s=u[t][e(339)](16);s[e(282)]<2&&(s="0"+s),p+=s}i.codec=p}let d=n[e(318)](c);if(0===d)return{};c++;for(let s=0;s<d;s++){let s=n[e(314)](c,!r);if(c+=2,0===s)continue;let o=new Uint8Array(t[e(330)],c,s);c+=s,i.pps=o}if(i.videoType=bt[e(351)],i.sps){const t=i[e(291)].byteLength,s=new Uint8Array([t>>>24&255,t>>>16&255,t>>>8&255,255&t]),r=new Uint8Array(t+4);r[e(350)](s,0),r[e(350)](i[e(291)],4),i[e(291)]=r}if(i[e(345)]){const t=i[e(345)][e(366)],s=new Uint8Array([t>>>24&255,t>>>16&255,t>>>8&255,255&t]),r=new Uint8Array(t+4);r[e(350)](s,0),r[e(350)](i[e(345)],4),i[e(345)]=r}return i}function el(t,e){const s=ll();return(el=function(t,e){return s[t-=272]})(t,e)}function sl(t){const e=el;let{sps:s,pps:i}=t,r=8+s[e(366)]+1+2+i[e(366)],n=!1;const o=Kh[e(312)](s);66!==s[3]&&77!==s[3]&&88!==s[3]&&(n=!0,r+=4);let a=new Uint8Array(r);a[0]=1,a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=255,a[5]=225;let h=s[e(366)];a[6]=h>>>8,a[7]=255&h;let l=8;a.set(s,8),l+=h,a[l]=1;let c=i.byteLength;a[l+1]=c>>>8,a[l+2]=255&c,a.set(i,l+3),l+=3+c,n&&(a[l]=252|o[e(327)],a[l+1]=248|o[e(369)]-8,a[l+2]=248|o.bit_depth_chroma-8,a[l+3]=0,l+=4);const d=[23,0,0,0,0],u=new Uint8Array(d[e(282)]+a[e(366)]);return u.set(d,0),u[e(350)](a,d[e(282)]),u}function il(t,e){const s=el;let i=[];i[0]=e?23:39,i[1]=1,i[2]=0,i[3]=0,i[4]=0;const r=new Uint8Array(i[s(282)]+t[s(366)]);return r.set(i,0),r[s(350)](t,i.length),r}function rl(t){return 31&t[0]}function nl(t){return t===rt[el(336)]}function ol(t){return!(e=t,e===rt.sps||e===rt.pps||nl(t));var e}function al(t){return t===rt[el(331)]}!function(t,e){const s=el,i=t();for(;;)try{if(445567===-parseInt(s(276))/1*(parseInt(s(340))/2)+-parseInt(s(341))/3*(parseInt(s(359))/4)+parseInt(s(315))/5*(parseInt(s(304))/6)+parseInt(s(299))/7*(-parseInt(s(347))/8)+parseInt(s(290))/9+-parseInt(s(362))/10*(parseInt(s(306))/11)+parseInt(s(364))/12*(parseInt(s(286))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ll);Zh(370),Zh(353),Zh(275);class hl{constructor(t){const e=Zh;this[e(278)]=t,this[e(316)]=!1,this[e(283)]=this.findNextStartCodeOffset(0),this.eofFlag&&console[e(334)](e(322))}[Zh(307)](t){const e=Zh;let s=t,i=this[e(278)];for(;;){if(s+3>=i.byteLength)return this[e(316)]=!0,i[e(366)];let t=i[s+0]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3],r=i[s+0]<<16|i[s+1]<<8|i[s+2];if(1===t||1===r)return s;s++}}[Zh(325)](){const t=Zh;let e=this.data,s=null;for(;null==s&&!this[t(316)];){let i=this[t(283)];i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3;let r=31&e[i],n=(128&e[i])>>>7,o=this[t(307)](i);this[t(283)]=o,r>=rt[t(356)]||0===n&&(s={type:r,data:e.subarray(i,o)})}return s}}function ll(){const t=["set","h264"," Strange AVCDecoderConfigurationRecord: SPS Count = ","readBits","readUEG","level","kReserved0","chromaFormat","nalu","248932ANiDWn","Invalid AVCDecoderConfigurationRecord: No SPS","setUint8","44420ENUgtc","Strange NaluLengthSizeMinusOne: ","37164XTMguG","subarray","byteLength","pos","skipScalingList","bit_depth_luma","readBit","type","read","skipBits","Invalid AVCDecoderConfigurationRecord: No PPS'","readBool","present_size","readUE","36742cDDBGJ","push","data","Invalid AVCDecoderConfigurationRecord, invalid version ","setUint32","bit","length","currentStartcodeOffset","Invalid AVCDecoderConfigurationRecord, lack of data!","codec_size","9958jGppoZ","codec","JbPro[xxx][✅✅✅][parseAVCDecoderConfigurationRecord] invalid version ","width","733446dmUqDB","sps","frameRate","avc1.",", correct to 1","readUByte","skipUEG","avcc","fps_num","5996123CYuYwc","fixed","log","bit_depth","fps_den","24yWWPpw","setInt16","1694pEvqeN","findNextStartCodeOffset","correctionConfigurationVersion","parseSPS","correctionConfigurationProfileIndication","Strange AVCDecoderConfigurationRecord: PPS Count = ","parseSPS$2","timescale","getUint16","535595mifnbu","eofFlag","profile","getUint8","frame_rate","nb_sps","JbPro[xxx][✅✅✅][parseAVCDecoderConfigurationRecord] AVC profile (0) detected, correct to Baseline Profile (66)","Could not find H264 startcode until payload end!","Invalid parseAVCDecoderConfigurationRecord, AVC profile (0) detected, and return","codecWidth","readNextNaluPayload","Error parsing slice header:","chroma_format_idc","ceil","chroma_format","buffer","iFrame","presentHeight","height","error","videoType","kSliceSEI","kSliceNonIDR","sar_ratio","toString","42DNGuoy","6DrBiBE","bitDepth","refSampleDuration","codecHeight","pps","profile_string","8SSgths","sliceType","read_golomb"];return(ll=function(){return t})()}class cl{constructor(t){const e=Zh;let s=t.data[e(366)];this.type=t[e(371)],this[e(278)]=new Uint8Array(4+s),new DataView(this.data[e(330)])[e(280)](0,s),this[e(278)].set(t[e(278)],4)}}const dl=ul;function ul(t,e){const s=pl();return(ul=function(t,e){return s[t-=486]})(t,e)}function pl(){const t=["length","4558428YQYVwc","5466088SxtQgw","6fSFHHT","17832600ZtiyLV","5pHTENu","m_data","4135419reYFsz","m_bits","GetBYTE","6792597lZlbGD","159439QJBfVv","GetBit","GetWord","1640067CvWDXc","GetUE","m_idx","m_len","m_byte","m_zeros","4liLDsI"];return(pl=function(){return t})()}!function(t,e){const s=ul,i=t();for(;;)try{if(498247===-parseInt(s(493))/1*(parseInt(s(506))/2)+parseInt(s(496))/3*(parseInt(s(502))/4)+parseInt(s(487))/5*(parseInt(s(504))/6)+-parseInt(s(492))/7+-parseInt(s(505))/8+-parseInt(s(489))/9+parseInt(s(486))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pl);class fl{constructor(t){const e=ul;this[e(498)]=null,this.m_data=t,this[e(499)]=t[e(503)],this[e(498)]=0,this.m_bits=0,this[e(500)]=0,this[e(501)]=0}[dl(491)](){const t=dl;if(this[t(498)]>=this[t(499)])return 0;let e=this[t(488)][this[t(498)]++];return 0==e?(this[t(501)]++,this[t(498)]<this[t(499)]&&2==this[t(501)]&&3==this[t(488)][this[t(498)]]&&(this[t(498)]++,this[t(501)]=0)):this[t(501)]=0,e}[dl(494)](){const t=dl;return 0==this[t(490)]&&(this[t(500)]=this.GetBYTE(),this[t(490)]=8),this[t(490)]--,this[t(500)]>>this[t(490)]&1}[dl(495)](t){const e=dl;let s=0;for(;t>0;)s<<=1,s|=this[e(494)](),t--;return s}[dl(497)](){const t=dl;let e=0;for(;this[t(498)]<this[t(499)]&&0==this[t(494)]();)e++;return this.GetWord(e)+((1<<e)-1)}GetSE(){let t=this.GetUE(),e=t+1>>1;return!(1&t)&&(e=-e),e}}function ml(){const t=["GetUE","1022664Aymady","11112584dWCYbh","SPSParser sps_max_sub_layers_minus1 > 6","SPSParser bit_depth_luma_minus8 != bit_depth_chroma_minus8","76VFQFdC","1161054sYMgmn","byteLength","10AhPvNw","783001AgnDJY","buffer","2824479AemDxh","_ebsp2rbsp","parseSPS","warn","GetWord","4875498OXchXf","162210FMKPtB"];return(ml=function(){return t})()}function gl(t,e){const s=ml();return(gl=function(t,e){return s[t-=105]})(t,e)}const yl=gl;!function(t,e){const s=gl,i=t();for(;;)try{if(698825===-parseInt(s(107))/1+parseInt(s(117))/2+parseInt(s(115))/3*(parseInt(s(121))/4)+parseInt(s(106))/5*(parseInt(s(122))/6)+parseInt(s(109))/7+-parseInt(s(118))/8+parseInt(s(114))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ml);class Al{static[yl(110)](t){const e=yl;let s=t,i=s[e(105)],r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(108)],0,n)}static[yl(111)](t){const e=yl;let s=Al[e(110)](t);const i=new fl(s);let r="",n="",o="",a="";i[e(113)](4);let h=i[e(113)](3);if(h>6)return console[e(112)](e(119)),!1;i[e(113)](1),i[e(113)](2),i.GetWord(1),r=i[e(113)](5),i[e(113)](32),i.GetWord(1),i[e(113)](1),i[e(113)](1),i[e(113)](1),i[e(113)](44),n=i[e(113)](8);let l=[],c=[];for(let t=0;t<h;t++)l[t]=i[e(113)](1),c[t]=i[e(113)](1);if(h>0)for(let t=h;t<8;t++)i[e(113)](2);for(let t=0;t<h;t++)l[t]&&(i[e(113)](2),i.GetWord(1),i[e(113)](5),i[e(113)](32),i[e(113)](1),i[e(113)](1),i.GetWord(1),i[e(113)](1),i[e(113)](44)),c[t]&&i[e(113)](8);let d=i[e(116)]();if(d>15)return console[e(112)]("SPSParser sps_seq_parameter_set_id > 15",d),!1;let u=i[e(116)]();return u>3?(console[e(112)]("SPSParser chroma_format_idc > 3",u),!1):(3==u&&i[e(113)](1),o=i.GetUE(),a=i[e(116)](),i[e(113)](1)&&(i[e(116)](),i[e(116)](),i[e(116)](),i.GetUE()),i[e(116)]()!=i[e(116)]()?(console[e(112)](e(120)),!1):{profile_string:r,level_string:n,bit_depth:"",ref_frames:"",chroma_format:"",chroma_format_string:"",frame_rate:{fixed:"",fps:"",fps_den:"",fps_num:""},sar_ratio:{width:"",height:""},codec_size:{width:o,height:a},present_size:{width:"",height:a}})}}!function(t,e){const s=wl,i=t();for(;;)try{if(170543===-parseInt(s(186))/1+-parseInt(s(184))/2*(parseInt(s(185))/3)+-parseInt(s(181))/4+parseInt(s(190))/5+parseInt(s(199))/6+-parseInt(s(196))/7*(-parseInt(s(183))/8)+parseInt(s(201))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Sl);const vl=t=>{const e=wl;let s=t,i=s[e(200)],r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(197)],0,n)},bl=t=>{const e=wl;switch(t){case 0:return"4:0:0";case 1:return e(191);case 2:return"4:2:2";case 3:return e(180);default:return e(194)}};function Sl(){const t=[".B0","destroy","306815usexPx","4:2:0","readByte","readBits","Unknown","push","329IuCDkf","buffer","readBool","1453602NIlZSg","byteLength","2513880ljfyFT","readUEG","toFixed","4:4:4","1160228XKhMCN","hvc1.","45680uESSTv","245468rWylCg","3XcwZAr","267986nNThet","readSEG"];return(Sl=function(){return t})()}function wl(t,e){const s=Sl();return(wl=function(t,e){return s[t-=179]})(t,e)}function El(){const t=["593595KhhKCv","_ebsp2rbsp","8298213jlpcib","parseSPS","buffer","Main","170yCfiik","MainSP","readBits","20vSsZSs","getChromaFormatString","9467904jlpJhX","143481cikriC","4:2:0","min","readBool","20832MRNwny","readUEG","parseVPS","6131461frLdIK","readSEG","readByte","push",".B0","getLevelString","4:0:0","Unknown","Main10","parsePPS","1140THLDVd","SCC","4:4:4","byteLength","791164opRUyi","1vinQXq"];return(El=function(){return t})()}const Tl=Il;function Il(t,e){const s=El();return(Il=function(t,e){return s[t-=480]})(t,e)}!function(t,e){const s=Il,i=t();for(;;)try{if(619990===-parseInt(s(505))/1*(parseInt(s(504))/2)+-parseInt(s(483))/3*(-parseInt(s(480))/4)+parseInt(s(500))/5*(-parseInt(s(487))/6)+parseInt(s(490))/7+-parseInt(s(482))/8+-parseInt(s(506))/9*(-parseInt(s(512))/10)+parseInt(s(508))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(El);class kl{static _ebsp2rbsp(t){const e=Il;let s=t,i=s[e(503)],r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(510)],0,n)}static[Tl(489)](t){const e=Tl;let s=kl[e(507)](t),i=new Se(s);return i[e(492)](),i[e(492)](),i[e(514)](4),i[e(514)](2),i.readBits(6),{num_temporal_layers:i[e(514)](3)+1,temporal_id_nested:i.readBool()}}static[Tl(509)](t){const e=Tl;let s=kl[e(507)](t),i=new Se(s);i[e(492)](),i[e(492)]();let r=0,n=0,o=0,a=0;i[e(514)](4);let h=i[e(514)](3);i[e(486)]();let l=i[e(514)](2),c=i[e(486)](),d=i[e(514)](5),u=i[e(492)](),p=i[e(492)](),f=i[e(492)](),m=i[e(492)](),g=i[e(492)](),y=i[e(492)](),A=i[e(492)](),v=i.readByte(),b=i[e(492)](),S=i.readByte(),w=i[e(492)](),E=[],T=[];for(let t=0;t<h;t++)E[e(493)](i.readBool()),T[e(493)](i[e(486)]());if(h>0)for(let t=h;t<8;t++)i[e(514)](2);for(let t=0;t<h;t++)E[t]&&(i[e(492)](),i[e(492)](),i.readByte(),i[e(492)](),i[e(492)](),i.readByte(),i[e(492)](),i[e(492)](),i[e(492)](),i[e(492)](),i[e(492)]()),T[t]&&i[e(492)]();i[e(488)]();let I=i[e(488)]();3==I&&i[e(514)](1);let k=i.readUEG(),_=i[e(488)]();i[e(486)]()&&(r+=i[e(488)](),n+=i[e(488)](),o+=i.readUEG(),a+=i[e(488)]());let C=i.readUEG(),D=i[e(488)](),R=i[e(488)]();for(let t=i[e(486)]()?0:h;t<=h;t++)i.readUEG(),i.readUEG(),i.readUEG();if(i[e(488)](),i[e(488)](),i[e(488)](),i[e(488)](),i.readUEG(),i[e(488)](),i[e(486)]()){if(i[e(486)]())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++){if(i[e(486)]()){let s=Math[e(485)](64,1<<4+(t<<1));t>1&&i[e(491)]();for(let t=0;t<s;t++)i.readSEG()}else i[e(488)]()}}i[e(486)](),i.readBool(),i[e(486)]()&&(i[e(492)](),i[e(488)](),i[e(488)](),i[e(486)]());let L=i[e(488)](),P=0;for(let t=0;t<L;t++){let s=!1;if(0!==t&&(s=i[e(486)]()),s){t===L&&i.readUEG(),i[e(486)](),i[e(488)]();let s=0;for(let t=0;t<=P;t++){let t=i[e(486)](),r=!1;!t&&(r=i.readBool()),(t||r)&&s++}P=s}else{let t=i[e(488)](),s=i[e(488)]();P=t+s;for(let s=0;s<t;s++)i[e(488)](),i[e(486)]();for(let t=0;t<s;t++)i.readUEG(),i[e(486)]()}}if(i[e(486)]()){let t=i[e(488)]();for(let s=0;s<t;s++){for(let t=0;t<R+4;t++)i[e(514)](1);i[e(514)](1)}}let x=!1,M=0,B=1,F=1,U=!1,O=1,N=1;if(i.readBool(),i[e(486)](),i[e(486)]()){if(i[e(486)]()){let t=i[e(492)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<=16?(B=s[t-1],F=r[t-1]):255===t&&(B=i[e(514)](16),F=i[e(514)](16))}if(i[e(486)]()&&i[e(486)](),i[e(486)]()){i[e(514)](3),i[e(486)](),i.readBool()&&(i[e(492)](),i[e(492)](),i.readByte())}if(i[e(486)]()&&(i.readUEG(),i[e(488)]()),i[e(486)](),i.readBool(),i[e(486)](),x=i[e(486)](),x&&(i[e(488)](),i.readUEG(),i.readUEG(),i[e(488)]()),i[e(486)]()){if(O=i[e(514)](32),N=i[e(514)](32),i[e(486)]()&&i[e(488)](),i[e(486)]()){let t=!1,s=!1,r=!1;t=i.readBool(),s=i[e(486)](),(t||s)&&(r=i[e(486)](),r&&(i[e(492)](),i[e(514)](5),i.readBool(),i[e(514)](5)),i[e(514)](4),i[e(514)](4),r&&i.readBits(4),i.readBits(5),i[e(514)](5),i[e(514)](5));for(let n=0;n<=h;n++){let n=i[e(486)]();U=n;let o=!0,a=1;!n&&(o=i[e(486)]());let h=!1;if(o?i[e(488)]():h=i.readBool(),!h&&(a=i.readUEG()+1),t){for(let t=0;t<a;t++)i.readUEG(),i[e(488)](),r&&(i[e(488)](),i.readUEG());i[e(486)]()}if(s){for(let t=0;t<a;t++)i[e(488)](),i.readUEG(),r&&(i[e(488)](),i[e(488)]());i.readBool()}}}}i[e(486)]()&&(i[e(486)](),i[e(486)](),i[e(486)](),M=i[e(488)](),i[e(488)](),i.readUEG(),i[e(488)](),i.readUEG())}i[e(486)]();let j="hvc1."+d+".1.L"+w+e(494),V=k-(r+n)*(1===I||2===I?2:1),W=_-(o+a)*(1===I?2:1),G=1;return 1!==B&&1!==F&&(G=B/F),i.destroy(),i=null,{codec_mimetype:j,profile_string:kl.getProfileString(d),level_string:kl.getLevelString(w),profile_idc:d,bit_depth:C+8,ref_frames:1,chroma_format:I,chroma_format_string:kl[e(481)](I),general_level_idc:w,general_profile_space:l,general_tier_flag:c,general_profile_idc:d,general_profile_compatibility_flags_1:u,general_profile_compatibility_flags_2:p,general_profile_compatibility_flags_3:f,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:y,general_constraint_indicator_flags_3:A,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:b,general_constraint_indicator_flags_6:S,min_spatial_segmentation_idc:M,constant_frame_rate:0,chroma_format_idc:I,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:D,frame_rate:{fixed:U,fps:N/O,fps_den:O,fps_num:N},sar_ratio:{width:B,height:F},codec_size:{width:V,height:W},present_size:{width:V*G,height:W}}}static[Tl(499)](t){const e=Tl;let s=kl[e(507)](t),i=new Se(s);i[e(492)](),i[e(492)](),i[e(488)](),i.readUEG(),i[e(486)](),i[e(486)](),i.readBits(3),i[e(486)](),i[e(486)](),i.readUEG(),i[e(488)](),i[e(491)](),i[e(486)](),i[e(486)](),i.readBool()&&i[e(488)](),i.readSEG(),i[e(491)](),i[e(486)](),i[e(486)](),i[e(486)](),i[e(486)]();let r=i.readBool(),n=i[e(486)](),o=1;return n&&r?o=0:n?o=3:r&&(o=2),{parallelismType:o}}static[Tl(481)](t){const e=Tl;switch(t){case 0:return e(496);case 1:return e(484);case 2:return"4:2:2";case 3:return e(502);default:return e(497)}}static getProfileString(t){const e=Tl;switch(t){case 1:return e(511);case 2:return e(498);case 3:return e(513);case 4:return"Rext";case 9:return e(501);default:return e(497)}}static[Tl(495)](t){return(t/30).toFixed(1)}}const _l=Ll;function Cl(){const t=["look","parseHEVCDecoderConfigurationRecord$2","push","general_frame_only_constraint_flag","sub_layer_profile_space","generalConstraintIndicatorFlags","sps","sei","setUint32","profile","140EKdBlY","slice","general_tier_flag","parseHEVCDecoderConfigurationRecord$3","fixed","length","sps_temporal_id_nesting_flag","chromaFormatIdc","Invalid HEVCDecoderConfigurationRecord, lack of data! ","codecWidth","assign","parseHEVCDecoderVPSAndSPSAndPPS and pps tag is ","profile_compatibility_flags","setUint8","sub_layer_tier_flag","lengthSizeMinusOne","eofFlag","general_profile_compatibility_flags_3","sar_ratio","sub_layer_level_present_flag",", valid version is 1 or 0","arrayBuffer.length ","width","bitDepthChromaMinus8","frameRate","bit_depth_chroma_minus8","presentWidth",", valid hevc profile is Main Profile (1), Main 10 Profile (2),Main Still Picture Profile (3)","readNextNaluPayload","general_interlaced_source_flag","sub_layer_profile_present_flag","352632eCfzTG","general_level_idc","set","log","buffer","max"," < 23","chroma_format_idc","2472498mmAkvE","type","getUint8","min_spatial_segmentation_idc","parallelismType","general_profile_space","JbPro[xxx][✅✅✅][parseHEVCDecoderConfigurationRecord] invalid HEVC profile ","89192MBKEgm","conf_win_top_offset","presentHeight","byteLength","num_temporal_layers","hvcc","pic_width_in_luma_samples","currentStartcodeOffset","general_constraint_indicator_flags_6","generalTierFlag","bit_depth","general_constraint_indicator_flags_5","general_profile_compatibility_flags_4","vps","parseHEVCDecoderVPSAndSPSAndPPS and sps tag is ","level","parseSPS","sub_layer_frame_only_constraint_flag","2CrpvCj","chroma_format","readBits","conf_win_left_offset","parseHEVCDecoderVPSAndSPSAndPPS and vpsTag is ","fps_num","bitDepthLumaMinus8","read","Could not find H265 startcode until payload end!","pps","readUEG","general_profile_compatibility_flags_2","sub_layer_interlaced_source_flag","conf_win_right_offset","codec_size","generalLevelIdc","codecHeight","configurationVersion","frame_rate","correctionConfigurationVersion","numTemporalLayers","sub_layer_profile_compatibility_flag","fps_den","chromaFormat","general_profile_compatibility_flags","general_progressive_source_flag","data","sps_max_sub_layers_minus1","refSampleDuration","separate_colour_plane_flag","getUint16",", correct to 1","level_string","conformance_window_flag",", correct to Main Profile (1)"," and naluLengthSize is ","pic_height_in_luma_samples","Invalid HEVCDecoderConfigurationRecord, Strange NaluLengthSizeMinusOne: ","4406787dONbBe","general_profile_idc","conf_win_bottom_offset","general_constraint_indicator_flags","height","level_idc","151937GydiKG","2220484weSGVh","from","general_constraint_indicator_flags_4","h265","constantFrameRate","bit_depth_luma_minus8","temporal_id_nested","generalProfileSpace","JbPro[xxx][✅✅✅][parseHEVCDecoderConfigurationRecord] invalid version ","present_size","generalProfileIdc","findNextStartCodeOffset","codec","sub_layer_level_idc","warn","sub_layer_profile_idc","constant_frame_rate","sarRatio","sub_layer_progressive_source_flag","error","sub_layer_non_packed_constraint_flag","277575UvItJU","subarray","profile_string","general_constraint_indicator_flags_1","hev1.1.6.L93.B0","psps","bitDepth","profile_space","read_golomb","readUByte"];return(Cl=function(){return t})()}function Dl(t){const e=Ll;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t;if(i[e(251)]<22)return console.error(e(254)+i[e(251)]+" < 22"),{};let r={codecWidth:0,codecHeight:0,videoType:bt[e(358)],timescale:1e3},n=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}(),o=new DataView(i[e(281)]),a=o[e(287)](0),h=31&o.getUint8(1);if(1!==a&&0!==a){if(!s[e(329)])return console.error("Invalid HEVCDecoderConfigurationRecord,invalid version "+a+e(266)),{};{console[e(280)](e(363)+a+e(341));let t=252&o.getUint8(0)|1;o[e(259)](0,t)}}if(0===h){if(!s.correctionConfigurationProfileIndication)return console[e(374)]("Invalid HEVCDecoderConfigurationRecord: invalid HEVC profile "+h+e(273)),{};{console[e(280)](e(291)+h+e(344));let t=224&o[e(287)](1)|1;o[e(259)](1,t)}}let l=1+(3&o[e(287)](21));if(3!==l&&4!==l)return console[e(374)](e(347)+(l-1)+e(345)+l+" ,"),{};let c=o[e(287)](22);for(let t=0,s=23;t<c;t++){let t=63&o.getUint8(s+0),a=o.getUint16(s+1,!n);s+=3;for(let h=0;h<a;h++){let a=o[e(340)](s+0,!n);if(0===h)if(33===t){s+=2;let t=new Uint8Array(i.buffer,s,a),n=kl[e(308)](t);r.codecWidth=n[e(324)][e(268)],r[e(326)]=n[e(324)][e(352)],r[e(272)]=n[e(364)].width,r[e(294)]=n.present_size.height,r[e(245)]=n[e(228)],r.level=n[e(342)],r[e(232)]=n.bit_depth,r.chromaFormat=n[e(311)],r[e(372)]=n[e(264)],r[e(270)]=n[e(328)],(!1===n[e(328)][e(250)]||0===n[e(328)][e(315)]||0===n[e(328)][e(332)])&&(r.frameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3});let o=r.frameRate[e(332)],h=r.frameRate.fps_num;r[e(338)]=r.timescale*(o/h),r[e(367)]=n.codec_mimetype,s+=a}else s+=2+a;else s+=2+a}}return r[e(297)]=new Uint8Array(i),r}function Rl(t){const e=Ll;let{vps:s,pps:i,sps:r}=t,n={configurationVersion:1};const o=(t=>{const e=wl;let s=vl(t),i=new Se(s);return i[e(192)](),i[e(192)](),i[e(193)](4),i[e(193)](2),i[e(193)](6),{num_temporal_layers:i[e(193)](3)+1,temporal_id_nested:i[e(198)]()}})(s),a=(t=>{const e=wl;let s=vl(t),i=new Se(s);i[e(192)](),i[e(192)]();let r=0,n=0,o=0,a=0;i[e(193)](4);let h=i[e(193)](3);i[e(198)]();let l=i[e(193)](2),c=i[e(198)](),d=i[e(193)](5),u=i[e(192)](),p=i.readByte(),f=i.readByte(),m=i.readByte(),g=i.readByte(),y=i.readByte(),A=i.readByte(),v=i[e(192)](),b=i[e(192)](),S=i[e(192)](),w=i[e(192)](),E=[],T=[];for(let t=0;t<h;t++)E.push(i[e(198)]()),T[e(195)](i[e(198)]());if(h>0)for(let t=h;t<8;t++)i.readBits(2);for(let t=0;t<h;t++)E[t]&&(i[e(192)](),i[e(192)](),i.readByte(),i.readByte(),i.readByte(),i.readByte(),i[e(192)](),i[e(192)](),i[e(192)](),i[e(192)](),i[e(192)]()),E[t]&&i[e(192)]();i.readUEG();let I=i[e(202)]();3==I&&i[e(193)](1);let k=i[e(202)](),_=i[e(202)]();i[e(198)]()&&(r+=i[e(202)](),n+=i[e(202)](),o+=i[e(202)](),a+=i[e(202)]());let C=i[e(202)](),D=i[e(202)](),R=i.readUEG();for(let t=i[e(198)]()?0:h;t<=h;t++)i.readUEG(),i[e(202)](),i.readUEG();if(i[e(202)](),i.readUEG(),i.readUEG(),i.readUEG(),i[e(202)](),i[e(202)](),i[e(198)]()&&i[e(198)]())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++)if(i.readBool()){let s=Math.min(64,1<<4+(t<<1));t>1&&i[e(187)]();for(let t=0;t<s;t++)i[e(187)]()}else i[e(202)]();i[e(198)](),i[e(198)](),i.readBool()&&(i[e(192)](),i.readUEG(),i[e(202)](),i[e(198)]());let L=i[e(202)](),P=0;for(let t=0;t<L;t++){let s=!1;if(0!==t&&(s=i[e(198)]()),s){t===L&&i[e(202)](),i[e(198)](),i[e(202)]();let s=0;for(let t=0;t<=P;t++){let t=i[e(198)](),r=!1;!t&&(r=i.readBool()),(t||r)&&s++}P=s}else{let t=i.readUEG(),s=i[e(202)]();P=t+s;for(let s=0;s<t;s++)i.readUEG(),i[e(198)]();for(let t=0;t<s;t++)i[e(202)](),i[e(198)]()}}if(i[e(198)]()){let t=i[e(202)]();for(let s=0;s<t;s++){for(let t=0;t<R+4;t++)i[e(193)](1);i[e(193)](1)}}let x=!1,M=0,B=1,F=1,U=!1,O=1,N=1;if(i[e(198)](),i[e(198)](),i[e(198)]()){if(i[e(198)]()){let t=i.readByte(),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(B=s[t-1],F=r[t-1]):255===t&&(B=i[e(193)](16),F=i[e(193)](16))}if(i.readBool()&&i.readBool(),i.readBool()&&(i[e(193)](3),i[e(198)](),i[e(198)]()&&(i[e(192)](),i[e(192)](),i[e(192)]())),i[e(198)]()&&(i.readUEG(),i[e(202)]()),i[e(198)](),i[e(198)](),i[e(198)](),x=i[e(198)](),x&&(r+=i[e(202)](),n+=i[e(202)](),o+=i[e(202)](),a+=i[e(202)]()),i[e(198)]()&&(O=i[e(193)](32),N=i[e(193)](32),i[e(198)]()&&(i[e(202)](),i[e(198)]()))){let t=!1,s=!1,r=!1;t=i[e(198)](),s=i.readBool(),(t||s)&&(r=i[e(198)](),r&&(i[e(192)](),i[e(193)](5),i[e(198)](),i[e(193)](5)),i[e(193)](4),i.readBits(4),r&&i[e(193)](4),i.readBits(5),i.readBits(5),i[e(193)](5));for(let n=0;n<=h;n++){let n=i[e(198)]();U=n;let o=!1,a=1;!n&&(o=i[e(198)]());let h=!1;if(o?i.readSEG():h=i[e(198)](),!h&&(cpbcnt=i[e(202)]()+1),t)for(let t=0;t<a;t++)i[e(202)](),i[e(202)](),r&&(i.readUEG(),i[e(202)]());if(s)for(let t=0;t<a;t++)i[e(202)](),i.readUEG(),r&&(i[e(202)](),i[e(202)]())}}i[e(198)]()&&(i[e(198)](),i.readBool(),i[e(198)](),M=i.readUEG(),i[e(202)](),i[e(202)](),i.readUEG(),i[e(202)]())}i.readBool();let j=e(182)+d+".1.L"+w+e(188),V=k,W=_,G=1;return 1!==B&&1!==F&&(G=B/F),i[e(189)](),i=null,{codec_mimetype:j,level_string:(z=w,(z/30)[wl(179)](1)),profile_idc:d,bit_depth:C+8,ref_frames:1,chroma_format:I,chroma_format_string:bl(I),general_level_idc:w,general_profile_space:l,general_tier_flag:c,general_profile_idc:d,general_profile_compatibility_flags_1:u,general_profile_compatibility_flags_2:p,general_profile_compatibility_flags_3:f,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:y,general_constraint_indicator_flags_3:A,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:b,general_constraint_indicator_flags_6:S,min_spatial_segmentation_idc:M,constant_frame_rate:0,chroma_format_idc:I,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:D,frame_rate:{fixed:U,fps:N/O,fps_den:O,fps_num:N},sar_ratio:{width:B,height:F},codec_size:{width:V,height:W},present_size:{width:V*G,height:W}};var z})(r),h=(t=>{const e=wl;let s=vl(t),i=new Se(s);i[e(192)](),i[e(192)](),i[e(202)](),i.readUEG(),i[e(198)](),i[e(198)](),i[e(193)](3),i[e(198)](),i[e(198)](),i.readUEG(),i[e(202)](),i[e(187)](),i.readBool(),i.readBool(),i[e(198)]()&&i[e(202)](),i.readSEG(),i[e(187)](),i[e(198)](),i[e(198)](),i[e(198)](),i.readBool();let r=i[e(198)](),n=i.readBool(),o=1;return n&&r?o=0:n?o=3:r&&(o=2),{parallelismType:o}})(i);n=Object[e(256)](n,o,a,h);let l=23+(5+s[e(295)])+(5+r[e(295)])+(5+i[e(295)]),c=new Uint8Array(l);c[0]=1,c[1]=(3&n.general_profile_space)<<6|(n[e(248)]?1:0)<<5|31&n[e(349)],c[2]=n.general_profile_compatibility_flags_1||0,c[3]=n[e(321)]||0,c[4]=n[e(263)]||0,c[5]=n[e(304)]||0,c[6]=n[e(229)]||0,c[7]=n.general_constraint_indicator_flags_2||0,c[8]=n.general_constraint_indicator_flags_3||0,c[9]=n[e(357)]||0,c[10]=n[e(303)]||0,c[11]=n[e(300)]||0,c[12]=60,c[13]=240|(3840&n[e(288)])>>8,c[14]=255&n.min_spatial_segmentation_idc,c[15]=252|3&n[e(289)],c[16]=252|3&n[e(284)],c[17]=248|7&n[e(360)],c[18]=248|7&n[e(271)],c[19]=0,c[20]=0,c[21]=(3&n[e(371)])<<6|(7&n[e(296)])<<3|(n[e(361)]?1:0)<<2|3,c[22]=3,c[23]=128|nt[e(305)],c[24]=0,c[25]=1,c[26]=(65280&s[e(295)])>>8,c[27]=(255&s[e(295)])>>0,c[e(279)](s,28),c[23+(5+s[e(295)])+0]=128|nt[e(242)],c[23+(5+s[e(295)])+1]=0,c[23+(5+s.byteLength)+2]=1,c[23+(5+s.byteLength)+3]=(65280&r[e(295)])>>8,c[23+(5+s[e(295)])+4]=(255&r[e(295)])>>0,c[e(279)](r,23+(5+s[e(295)])+5),c[23+(5+s[e(295)]+5+r.byteLength)+0]=128|nt.pps,c[23+(5+s[e(295)]+5+r[e(295)])+1]=0,c[23+(5+s[e(295)]+5+r[e(295)])+2]=1,c[23+(5+s.byteLength+5+r[e(295)])+3]=(65280&i.byteLength)>>8,c[23+(5+s[e(295)]+5+r[e(295)])+4]=(255&i[e(295)])>>0,c[e(279)](i,23+(5+s[e(295)]+5+r[e(295)])+5);const d=[28,0,0,0,0],u=new Uint8Array(d[e(251)]+c[e(295)]);return u[e(279)](d,0),u.set(c,d[e(251)]),u}function Ll(t,e){const s=Cl();return(Ll=function(t,e){return s[t-=227]})(t,e)}function Pl(t,e){const s=Ll;let i=[];i[0]=e?28:44,i[1]=1,i[2]=0,i[3]=0,i[4]=0;const r=new Uint8Array(i[s(251)]+t[s(295)]);return r.set(i,0),r[s(279)](t,i.length),r}function xl(t){return(126&t[0])>>1}function Ml(t){return!((e=t)>=32&&e<=40);var e}function Bl(t){return t>=16&&t<=21}!function(t,e){const s=Ll,i=t();for(;;)try{if(388579===-parseInt(s(354))/1*(-parseInt(s(310))/2)+-parseInt(s(277))/3+parseInt(s(355))/4+-parseInt(s(376))/5+-parseInt(s(285))/6+parseInt(s(246))/7*(-parseInt(s(292))/8)+parseInt(s(348))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cl);class Fl{constructor(t){const e=Ll;this[e(336)]=t,this[e(262)]=!1,this.currentStartcodeOffset=this[e(366)](0),this.eofFlag&&console[e(374)](e(318))}[_l(366)](t){const e=_l;let s=t,i=this[e(336)];for(;;){if(s+3>=i[e(295)])return this[e(262)]=!0,i[e(295)];let t=i[s+0]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3],r=i[s+0]<<16|i[s+1]<<8|i[s+2];if(1===t||1===r)return s;s++}}[_l(274)](){const t=_l;let e=this[t(336)],s=null;for(;null==s&&!this.eofFlag;){let i=this[t(299)];i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3;let r=e[i]>>1&63,n=(128&e[i])>>>7,o=this[t(366)](i);this.currentStartcodeOffset=o,0===n&&(s={type:r,data:e.subarray(i,o)})}return s}}class Ul{constructor(t){const e=_l;let s=t[e(336)][e(295)];this[e(286)]=t.type,this[e(336)]=new Uint8Array(4+s),new DataView(this.data[e(281)])[e(244)](0,s),this[e(336)][e(279)](t.data,4)}}const Ol=jl;function Nl(){const t=["handleAddNaluTrack","channelCount","stopRecordingInterval","sps","AAC","assign","metaInfo","1123002dCiFan","28ceEzmN","h265","originalCodec","fileName","setFileName","10fiHHbK","codecHeight","player","13016762FZRETQ","audioCodeId","startRecord","codecId","depth","recordingInterval","405ZQoswz","5194143pXrbnN","videoType","avcc","1499896zVyjOp","recordTime","extraData","getCorrectionConfiguration","audioMetaInfo","codec","_isDestroyed","timescale","pps","refSampleDuration","presentWidth","_recordingTimestamp","TAG_NAME","destroy","slice","h264","63498MrKiJt","initAudioMetaData","presentHeight","codecWidth","2590655XjlEjZ","sampleRate","isWasmMp4","vps","isH265","10IXNLqW","_reset","16704WJhaBn","_isRecording","config"];return(Nl=function(){return t})()}function jl(t,e){const s=Nl();return(jl=function(t,e){return s[t-=444]})(t,e)}!function(t,e){const s=jl,i=t();for(;;)try{if(404595===-parseInt(s(468))/1*(-parseInt(s(477))/2)+parseInt(s(448))/3*(-parseInt(s(479))/4)+-parseInt(s(472))/5+-parseInt(s(489))/6+-parseInt(s(490))/7*(-parseInt(s(452))/8)+parseInt(s(449))/9*(-parseInt(s(495))/10)+parseInt(s(498))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Nl);class Vl extends h{constructor(t){const e=jl;super(),this[e(464)]="recorderCommon",this[e(497)]=t,this[e(493)]="",this._isRecording=!1,this[e(463)]=0,this[e(447)]=null,this[e(485)]=null,this[e(460)]=null,this.vps=null,this[e(445)]=null,this[e(499)]=null,this.metaInfo={codecWidth:0,codecHeight:0,presentWidth:0,presentHeight:0,refSampleDuration:0,timescale:1e3,avcc:null,videoType:""},this[e(456)]={timescale:1e3,sampleRate:0,refSampleDuration:0,channelCount:0,codec:"",originalCodec:"",audioType:"",extraData:new Uint8Array(0)},this[e(458)]=!1}[Ol(465)](){const t=Ol;this[t(458)]=!0,this[t(478)](),this[t(485)]=null,this[t(460)]=null,this[t(475)]=null,this[t(445)]=null,this.audioCodeId=null,this[t(488)]=null,this[t(456)]=null}get isH264(){const t=Ol;return this.codecId===Z[t(467)]}get[Ol(476)](){const t=Ol;return this.codecId===Z[t(491)]}[Ol(494)](t){this.fileName=t}get isRecording(){return this._isRecording}get recording(){return this[Ol(480)]}get[Ol(453)](){return this[Ol(463)]}[Ol(444)](){}[Ol(482)](t,e,s,i){}handleAddAudioTrack(t,e){}handleAddTrack(t){}stopRecordAndSave(){}startRecordingInterval(){}[Ol(474)](){return!1}[Ol(484)](){const t=Ol;this[t(447)]&&(clearInterval(this.recordingInterval),this[t(447)]=null)}getToTalByteLength(){return 0}[Ol(478)](){const t=Ol;this[t(493)]="",this[t(480)]=!1,this[t(463)]=0,this.stopRecordingInterval()}initMetaData(t,e){const s=Ol;let i;const r=t.slice(5);this.codecId=e,this.metaInfo[s(451)]=r;const n=this.player[s(455)]();if(e===Z[s(467)])i=tl(r,n);else if(e===Z.h265){i=function(t){const e=Ll;let s=23;const i=t[s];if((63&i)!==nt[e(305)])return console[e(369)](e(314)+i),{};s+=2,s+=1;const r=t[s+1]|t[s]<<8;s+=2;const n=t[e(247)](s,s+r);s+=r;const o=t[s];if((63&o)!==nt[e(242)])return console[e(369)](e(306)+o),{};s+=2,s+=1;const a=t[s+1]|t[s]<<8;s+=2;const h=t[e(247)](s,s+a);s+=a;const l=t[s];if((63&l)!==nt[e(319)])return console.warn(e(257)+l),{};s+=2,s+=1;const c=t[s+1]|t[s]<<8;s+=2;const d=t[e(247)](s,s+c),u=new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,255&a]),p=new Uint8Array([c>>>24&255,c>>>16&255,c>>>8&255,255&c]),f=new Uint8Array([r>>>24&255,r>>>16&255,r>>>8&255,255&r]),m=new Uint8Array(a+4);m[e(279)](u,0),m[e(279)](h,4);const g=new Uint8Array(c+4);g[e(279)](p,0),g[e(279)](d,4);const y=new Uint8Array(r+4);return y[e(279)](f,0),y[e(279)](n,4),{sps:m,pps:g,vps:y}}(r);const t=Dl(r,n);i=Object[s(487)](i,t)}i&&(i[s(475)]&&(this[s(475)]=i[s(475)]),i[s(460)]&&(this[s(460)]=i.pps),i.sps&&(this[s(485)]=i[s(485)]),i[s(462)]&&(this[s(488)][s(462)]=i[s(462)]),i[s(470)]&&(this[s(488)][s(470)]=i[s(470)]),i[s(471)]&&(this.metaInfo.codecWidth=i.codecWidth),i[s(496)]&&(this.metaInfo[s(496)]=i.codecHeight),i[s(459)]&&(this.metaInfo[s(459)]=i.timescale),i[s(461)]&&(this[s(488)][s(461)]=i[s(461)]),i[s(450)]&&(this[s(488)].videoType=i[s(450)]))}[Ol(469)](t,e){const s=Ol;this[s(499)]=e;const i=t[0]>>1&1;let r=null;e===et[s(486)]?(r=function(t){const e=we;let s={},i=new Ue(t);return i.read(16),s[e(451)]=Oe(i),s[e(493)]=Ne(i,s),s[e(470)]=i[e(463)](4),s.chan_config<Ve[e(469)]&&(s.channels=Ve[s[e(470)]]),s[e(441)]=-1,s.ps=-1,(5==s.object_type||29==s[e(451)])&&(29==s.object_type&&(s.ps=1),s[e(430)]=5,s.sbr=1,s[e(493)]=Ne(i,s),s[e(451)]=Oe(i)),{...s,channelCount:s[e(465)],sampleRate:s.sample_rate}}(t),r&&(r[s(483)]&&(this[s(456)][s(483)]=r.channelCount),r[s(457)]&&(this[s(456)][s(457)]=r[s(457)]),r[s(492)]&&(this[s(456)][s(492)]=r[s(492)]),r[s(481)]&&(this[s(456)][s(481)]=r[s(481)]),r[s(473)]&&(this[s(456)][s(473)]=r[s(473)]),this[s(456)][s(473)]&&this.audioMetaInfo[s(459)]&&(this[s(456)][s(461)]=1024/this[s(456)][s(473)]*this.audioMetaInfo[s(459)])),this[s(456)][s(446)]=i?16:8,this[s(456)][s(454)]=t[s(466)](2)):this.audioMetaInfo.depth=0===i?8:16}initAudioAacExtraData(t){const e=Ol;this[e(456)][e(454)]=new Uint8Array(t)}}function Wl(t,e){const s=zl();return(Wl=function(t,e){return s[t-=251]})(t,e)}const Gl=Wl;function zl(){const t=["250026VOGGSX","10afgThG","recordWebMSupportSeek","emitError","videoFrameCallback","2140rrIJLX","stop","recorder is not ready","RecordRTCLoader","startRecord error and can not create stream","size","enabled","Reader","captureStream","getType","startCanvasRender error","_recordingTimestamp","_reset","canvasElement is null","supportVideoFrameCallbackHandle","setInterval","mediaStreamAudioDestinationNode","getTotalDuration","height","recordingInterval","stopRecordAndSave","read","bind","_stopCanvasRender","stop recording and totalDuration is ","useWCS","forEach","invokeSaveAsDialog","save","recordingTimestamp","init","stopRecording","cancelRecord","cues","start recording","_removeCanvasRender","_stopSupportVideoFrameCallback","totalByteLength","Decoder","recordCancel","debugError","isStateSuspended","canvasElementCtx","metadataSize","16voMaVM","recordBlob","makeMetadataSeekable","bound","blob","510459fYrHUv","mediaStream","986815xNzPKv","isAliyunRtc","player","getBlob","videoStream","download","onload","requestVideoFrameCallback","recorder","9308112qFXHPl","duration","setFileName","addTrack","241916oKMjbh","destroy","slice","canvasElement","recordCreateError","startRecord and video mediaStream","width","_startRecordingTimestamp","can not create stream","_isDestroyed","getAudioTracks","video/webm;codecs=h264","debugLog","getRenderType","133479YfjeqM","$videoElement","recordEnd","canvas","getContext","canvasRenderInterval","video","stopRecordingInterval","RecorderRTC","record timestamp :","emit","_initCanvasRender","getToTalByteLength","_startCanvasRender","2742852ZtblWA","isWebrtcH264","recordTime","clearRect","startRecord and use local canvas render video and captureStream","isOldHls","_isRecording","webm","use setInterval","result","_opt","startRecordingInterval","recordStart","stream","startRecording","drawImage","audio","recording","then","getSeekableBlob","ondataavailable","TAG_NAME","isDestroyedOrClosed","hasAudio"];return(zl=function(){return t})()}!function(t,e){const s=Wl,i=t();for(;;)try{if(614948===parseInt(s(337))/1*(-parseInt(s(269))/2)+parseInt(s(322))/3+-parseInt(s(317))/4*(parseInt(s(324))/5)+parseInt(s(268))/6+parseInt(s(365))/7+-parseInt(s(333))/8+-parseInt(s(351))/9*(-parseInt(s(273))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zl);class Hl extends Vl{constructor(t){const e=Wl;super(t),this[e(265)]=e(276),this[e(310)]=0,this._startRecordingTimestamp=null,this.canvasRenderInterval=null,this.supportVideoFrameCallbackHandle=null,this.canvasElement=null,this[e(315)]=null,this[e(320)]={videoFrameCallback:this[e(272)][e(295)](this)},t.debugLog("RecorderRTC",e(303))}[Gl(338)](){const t=Gl;super[t(338)](),this._reset(),this[t(320)]=null,this[t(326)][t(349)](t(359),"destroy")}_reset(){const t=Gl;super._reset(),this._stopCanvasRender(),this[t(309)](),this[t(308)](),this[t(310)]=0,this[t(344)]=null,this[t(332)]&&(this[t(332)].destroy(),this.recorder=null)}[Gl(263)](t){const e=Gl,s=new(Oh[e(280)]),i=new(Oh[e(311)]),r=Oh.tools,n=new FileReader;return new Promise(((o,a)=>{const h=e;n[h(330)]=function(t){const e=h;i.decode(this[e(253)])[e(299)]((function(t){s[e(294)](t)})),s[e(274)]();const n=r[e(319)](s.metadatas,s[e(334)],s[e(306)]),a=this[e(253)][e(339)](s[e(316)]),l=new Blob([n,a],{type:"video/webm"});o(l)},n.readAsArrayBuffer(t)}))}startRecord(){const t=Gl,e={type:t(357),mimeType:t(348),timeSlice:1e3,onTimeStamp:e=>{const s=t;this[s(326)]&&this[s(326)][s(349)](s(359),s(360)+e),null===this[s(344)]&&(this._startRecordingTimestamp=e),this[s(284)]=(e-this[s(344)])/1e3},ondataavailable:e=>{const s=t;this[s(310)]+=e[s(278)],this[s(326)]&&this[s(326)][s(349)](s(359),s(264),e[s(278)])},disableLogs:!this[t(326)][t(254)].debug};try{let s=null;if(this.player[t(350)]()===A.canvas)s=this[t(326)][t(357)].$videoElement[t(281)](25),this[t(326)][t(349)](this[t(265)],"startRecord and render type is canvas and use captureStream");else if(this.player.video[t(323)])s=this[t(326)][t(357)].mediaStream,this[t(326)][t(349)](this[t(265)],t(342));else{if(Ri(this[t(364)]()))return void this.player[t(271)](H[t(341)],t(283));this.player[t(370)]()||this[t(326)]._opt.useMSE?s=this[t(340)][t(281)](25):this[t(326)][t(254)][t(298)]?s=this[t(340)].captureStream(25):this[t(326)][t(366)]()?s=this.player.webrtc[t(328)]:this[t(326)][t(325)]()&&(s=this[t(340)].captureStream(25)),this[t(326)][t(349)](this.TAG_NAME,t(369))}if(!s)return this.player[t(313)]("RecorderRTC",t(277)),void this.player[t(271)](H[t(341)],t(345));if(this[t(326)][t(260)]&&this[t(326)][t(260)][t(289)]&&this[t(326)][t(260)][t(289)][t(257)]&&!this[t(326)].audio[t(314)]()&&this[t(326)][t(260)][t(267)]&&this[t(326)][t(254)][t(267)]){const e=this[t(326)][t(260)][t(289)].stream;if(e[t(347)]().length>0){const i=e[t(347)]()[0];i&&i[t(279)]&&s[t(336)](i)}}this[t(332)]=Vh(s,e)}catch(e){return this.player[t(313)]("RecorderRTC","startRecord error",e.toString(),e),void this.player.emitError(H[t(341)],e.toString())}this[t(332)]&&(this[t(371)]=!0,this[t(326)][t(361)](H[t(261)],!0),this[t(332)][t(258)](),this[t(326)][t(349)](t(359),t(307)),this[t(326)][t(361)](H[t(256)]),this[t(255)]())}[Gl(255)](){const t=Gl;this[t(358)](),this[t(292)]=window[t(288)]((()=>{const e=t;this[e(326)][e(361)](H[e(302)],this[e(284)])}),1e3)}[Gl(293)](){const t=Gl;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X[t(329)],s=arguments.length>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;(!this[n(332)]||!this[n(371)])&&r(n(275)),s&&this[n(335)](s),this[n(332)][n(304)]((()=>{const t=n;this[t(326)].debugLog(t(359),t(297)+this.getTotalDuration()+"s");const s=(this.fileName||is())+"."+f[t(251)];if(this[t(326)][t(254)][t(270)]){const r=this[t(332)][t(327)]();this[t(263)](r)[t(262)]((r=>{const n=t;e===X[n(321)]?(i(r),this[n(326)][n(361)](H[n(318)],r)):(i(),Vh[n(300)](r,s)),this[n(326)][n(361)](H[n(353)]),this[n(285)](),this[n(326)][n(361)](H.recording,!1)}))}else{if(e===X[t(321)]){const e=this[t(332)].getBlob();i(e),this[t(326)][t(361)](H[t(318)],e)}else i(),this[t(332)][t(301)](s);this[t(326)].emit(H[t(353)]),this[t(285)](),this.player[t(361)](H[t(261)],!1)}}))}))}[Gl(305)](){return new Promise(((t,e)=>{const s=Wl;if(this[s(326)].debugLog(this[s(265)],"cancel recording"),!this[s(332)]||!this._isRecording)return t();this[s(332)][s(304)]((()=>{const e=s;this[e(285)](),this[e(326)][e(361)](H.recording,!1),this.player[e(361)](H[e(312)]),t()}))}))}[Gl(363)](){return this.totalByteLength}[Gl(290)](){return this[Gl(367)]}[Gl(282)](){return f.webm}initMetaData(){}_startCanvasRender(){const t=Gl;return this[t(362)](),this[t(340)]?(Oi()?(this[t(326)][t(349)](this[t(265)],"use video frame callback"),this[t(287)]=this[t(326)].video.$videoElement[t(331)](this[t(320)][t(272)])):(this.player[t(349)](this[t(265)],t(252)),this[t(296)](),this[t(356)]=setInterval((()=>{const e=t;this[e(315)]&&this[e(315)].drawImage(this[e(326)][e(357)][e(352)],0,0,this[e(340)][e(343)],this[e(340)].height)}),40)),!0):(this[t(326)][t(313)](this.TAG_NAME,t(286)),!1)}_initCanvasRender(){const t=Gl,e=this[t(326)].getVideoInfo();!this[t(340)]&&e&&(this.canvasElement=document.createElement(t(354)),this[t(315)]=this[t(340)][t(355)]("2d"),e[t(343)]&&e[t(291)]&&(this.canvasElement.width=e[t(343)],this[t(340)].height=e[t(291)]))}[Gl(308)](){const t=Gl;this[t(315)]&&(this.canvasElementCtx[t(368)](0,0,this[t(340)][t(343)],this[t(340)][t(291)]),this[t(315)]=null),this.canvasElement&&(this[t(340)].width=0,this[t(340)][t(291)]=0,this.canvasElement=null)}[Gl(296)](){const t=Gl;this[t(356)]&&(clearInterval(this[t(356)]),this[t(356)]=null)}[Gl(309)](){const t=Gl;this[t(287)]&&this[t(326)][t(357)].$videoElement&&(this[t(326)][t(357)][t(352)].cancelVideoFrameCallback(this.supportVideoFrameCallbackHandle),this[t(287)]=null)}[Gl(272)](){const t=Gl;this[t(346)]||(this[t(326)][t(266)]()?this[t(326)][t(349)](this.TAG_NAME,"videoFrameCallback() player is destroyed"):(this[t(315)]&&this[t(315)][t(259)](this[t(326)][t(357)][t(352)],0,0,this.canvasElement[t(343)],this[t(340)][t(291)]),this[t(287)]=this.player[t(357)][t(352)].requestVideoFrameCallback(this[t(320)].videoFrameCallback)))}}const Kl=ql;function ql(t,e){const s=Yl();return(ql=function(t,e){return s[t-=477]})(t,e)}!function(t,e){const s=ql,i=t();for(;;)try{if(707969===parseInt(s(484))/1*(parseInt(s(548))/2)+parseInt(s(529))/3+parseInt(s(580))/4+-parseInt(s(574))/5+parseInt(s(519))/6*(parseInt(s(551))/7)+parseInt(s(563))/8*(-parseInt(s(570))/9)+-parseInt(s(478))/10*(parseInt(s(492))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yl);class Ql{static[Kl(521)](){const t=Kl;Ql.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],free:[],edts:[],elst:[],stss:[]};for(let e in Ql[t(522)])Ql[t(522)][t(498)](e)&&(Ql[t(522)][e]=[e.charCodeAt(0),e[t(567)](1),e.charCodeAt(2),e[t(567)](3)]);let e=Ql[t(530)]={};e[t(577)]=new Uint8Array([105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,97,118,99,49,109,112,52,49,0,0,0,0]),e[t(505)]=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(487)]=e.STCO=e.STTS,e[t(509)]=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e[t(520)]=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e[t(549)]=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e[t(496)]=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e[t(500)]=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static[Kl(576)](t){const e=Kl;let s=8,i=null,r=Array.prototype[e(543)][e(483)](arguments,1),n=r.length;for(let t=0;t<n;t++)s+=r[t].byteLength;i=new Uint8Array(s),i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i[e(582)](t,4);let o=8;for(let t=0;t<n;t++)i[e(582)](r[t],o),o+=r[t].byteLength;return i}static[Kl(550)](t,e,s){const i=Kl;let r=Ql[i(576)](Ql.types[i(523)],Ql.constants[i(577)]),n=Ql[i(576)](Ql[i(522)][i(517)]),o=8,a=new Uint8Array;s+o>=Math[i(581)](2,32)-1?(o=16,a=new Uint8Array(s+o),a.set(new Uint8Array([0,0,0,1]),0),a[i(582)](Ql[i(522)][i(507)],4),a[i(582)](new Uint8Array([s+8>>>56&255,s+8>>>48&255,s+8>>>40&255,s+8>>>32&255,s+8>>>24&255,s+8>>>16&255,s+8>>>8&255,s+8&255]),8)):(a=new Uint8Array(s+o),a[0]=s+8>>>24&255,a[1]=s+8>>>16&255,a[2]=s+8>>>8&255,a[3]=s+8&255,a.set(Ql.types[i(507)],4));for(let t=0;t<e[i(535)];t++){let s=e[t];s[i(538)]=s[i(540)]*s.sequenceNumber;for(let t=0;t<s[i(552)];t++){let e=s.samples[t];e[i(485)]=r[i(578)]+n[i(578)]+o;let h=e[i(569)];a[i(582)](h,o),o+=h.byteLength}}let h=Ql[i(573)](t,e),l=new Uint8Array(r[i(578)]+h[i(578)]+a[i(578)]+n[i(578)]);return l[i(582)](r,0),l[i(582)](n,r.byteLength),l[i(582)](a,r[i(578)]+n.byteLength),l[i(582)](h,r[i(578)]+a.byteLength+n.byteLength),l}static moov(t,e){const s=Kl;let i=t.timescale,r=t[s(538)],n=e.length,o=Ql[s(501)](i,r),a=new Uint8Array;for(let t=0;t<n;t++){let i=Ql[s(512)](e[t]),r=new Uint8Array(i[s(578)]+a.byteLength);r.set(a,0),r[s(582)](i,a[s(578)]),a=new Uint8Array(r[s(578)]),a[s(582)](r,0)}return Ql[s(576)](Ql[s(522)].moov,o,a)}static mvhd(t,e){const s=Kl;return Ql[s(576)](Ql[s(522)][s(501)],new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3]))}static[Kl(512)](t){const e=Kl;return Ql.box(Ql[e(522)][e(512)],Ql[e(541)](t),Ql[e(555)](t))}static[Kl(541)](t){const e=Kl;let s=t.id,i=t.duration,r=t[e(480)],n=t[e(515)];return t.type===e(502)?Ql[e(576)](Ql[e(522)].tkhd,new Uint8Array([0,0,0,15,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,n>>>8&255,255&n,0,0])):t[e(579)]===e(493)?Ql[e(576)](Ql[e(522)][e(541)],new Uint8Array([0,0,0,15,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0])):void 0}static[Kl(525)](t,e){const s=Kl;return Ql[s(576)](Ql[s(522)][s(525)],Ql.elst(t,e))}static[Kl(558)](t,e){const s=Kl;let i=0;for(let r=0;r<e;r++)t[r][s(579)]===s(502)&&(i+=t[r][s(538)]);let r=t[e][s(538)];return 0===i&&(i=t[e][s(540)]),Ql[s(576)](Ql[s(522)][s(558)],new Uint8Array([0,0,0,0,0,0,0,2,i>>>24&255,i>>>16&255,i>>>8&255,255&i,255,255,255,255,0,1,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,1,0,0]))}static[Kl(555)](t){const e=Kl;return Ql[e(576)](Ql[e(522)][e(555)],Ql[e(510)](t),Ql[e(526)](t),Ql.minf(t))}static[Kl(510)](t){const e=Kl;let s=t[e(575)]/t[e(540)],i=s*t[e(538)]/t[e(575)];return Ql[e(576)](Ql.types[e(510)],new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static[Kl(526)](t){const e=Kl;let s=null;return s=t.type===e(493)?Ql.constants[e(549)]:Ql[e(530)][e(520)],Ql[e(576)](Ql.types[e(526)],s)}static[Kl(514)](t){const e=Kl;let s=null;return s=t[e(579)]===e(493)?Ql[e(576)](Ql[e(522)][e(495)],Ql[e(530)][e(500)]):Ql[e(576)](Ql[e(522)][e(553)],Ql[e(530)].VMHD),Ql.box(Ql.types[e(514)],s,Ql.dinf(),Ql[e(482)](t))}static[Kl(518)](){const t=Kl;return Ql[t(576)](Ql[t(522)].dinf,Ql.box(Ql[t(522)][t(481)],Ql[t(530)].DREF))}static[Kl(482)](t){const e=Kl;let s=t[e(554)],i=[{No:1,num:0,sampleDelte:1,chunkNo:1,duration:s[0].duration}],r=[s[0][e(538)]],n=s[e(535)];for(let t=0;t<n;t++)for(let n=0;n<i.length;n++)s[t].duration===i[n][e(538)]?i[n][e(547)]++:r[e(528)](s[t][e(538)])<0&&(r[e(562)](s[t][e(538)]),i.push({No:2,num:0,sampleDelte:1,chunkNo:t+1,duration:s[t].duration}));return Ql[e(576)](Ql[e(522)][e(482)],Ql[e(527)](t),Ql.stts(i),Ql.stss(s),Ql[e(556)](i),Ql[e(479)](s),Ql.stco(i,s))}static[Kl(488)](t){const e=Kl;let s=t.length,i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i[e(578)],n=new Uint8Array(r+8*s);n[e(582)](i,0);for(let i=0;i<s;i++)n.set(new Uint8Array([t[i][e(547)]>>>24&255,t[i][e(547)]>>>16&255,t[i][e(547)]>>>8&255,255&t[i][e(547)],t[i][e(545)]>>>24&255,t[i].sampleDelte>>>16&255,t[i][e(545)]>>>8&255,255&t[i][e(545)]]),r),r+=8;return Ql[e(576)](Ql.types.stts,n)}static[Kl(536)](t){const e=Kl;let s=[],i=t[e(535)];for(let r=0;r<i;r++)!0===t[r][e(513)]&&s[e(562)](r+1);let r=s[e(535)],n=new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r]),o=n[e(578)],a=new Uint8Array(o+4*r);a[e(582)](n,0);for(let t=0;t<r;t++)a[e(582)](new Uint8Array([s[t]>>>24&255,s[t]>>>16&255,s[t]>>>8&255,255&s[t]]),o),o+=4;return Ql[e(576)](Ql[e(522)][e(536)],a)}static stsc(t){const e=Kl;let s=t[e(535)],i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i.byteLength,n=new Uint8Array(r+12*s);n[e(582)](i,0);for(let i=0;i<s;i++){let s=t[i][e(542)],o=t[i][e(547)],a=t[i][e(545)];n[e(582)](new Uint8Array([s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a]),r),r+=12}return Ql[e(576)](Ql[e(522)][e(556)],n)}static[Kl(479)](t){const e=Kl;let s=t.length,i=new Uint8Array([0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i[e(578)],n=new Uint8Array(r+4*s);n.set(i,0);for(let i=0;i<s;i++){let s=t[i][e(569)][e(578)];n[e(582)](new Uint8Array([s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r),r+=4}return Ql[e(576)](Ql[e(522)][e(479)],n)}static stco(t,e){const s=Kl;let i=e[0][s(485)];return Ql[s(576)](Ql[s(522)][s(497)],new Uint8Array([0,0,0,0,0,0,0,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i]))}static stsd(t){const e=Kl;return t[e(579)]===e(493)?t[e(544)]===e(511)?Ql[e(576)](Ql[e(522)][e(527)],Ql[e(530)].STSD_PREFIX,Ql.mp3(t)):Ql.box(Ql[e(522)].stsd,Ql.constants[e(505)],Ql[e(565)](t)):t[e(546)]===e(568)?Ql.box(Ql.types[e(527)],Ql[e(530)][e(505)],Ql.avc1(t)):Ql[e(576)](Ql[e(522)][e(527)],Ql[e(530)][e(505)],Ql[e(537)](t))}static mp3(t){const e=Kl;let s=t[e(494)],i=t[e(531)],r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return Ql[e(576)](Ql[e(522)][e(560)],r)}static mp4a(t){const e=Kl;let s=t[e(494)],i=t[e(531)],r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return Ql[e(576)](Ql[e(522)][e(565)],r,Ql.esds(t))}static[Kl(557)](t){const e=Kl;let s=t[e(477)]||[],i=s[e(535)],r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5][e(533)]([i])[e(533)](s)[e(533)]([6,1,2]));return Ql[e(576)](Ql[e(522)][e(557)],r)}static[Kl(572)](t){const e=Kl;let s=t[e(516)],i=t[e(504)],r=t.codecHeight,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return Ql[e(576)](Ql[e(522)][e(572)],n,Ql[e(576)](Ql[e(522)].avcC,s))}static[Kl(537)](t){const e=Kl;let s=t.avcc;const i=t[e(504)],r=t[e(571)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return Ql.box(Ql[e(522)][e(537)],n,Ql[e(576)](Ql[e(522)][e(539)],s))}static[Kl(486)](t){const e=Kl;return Ql[e(576)](Ql[e(522)][e(486)],Ql[e(499)](t))}static[Kl(499)](t){const e=Kl;let s=t.id,i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return Ql.box(Ql[e(522)][e(499)],i)}static moof(t,e){const s=Kl;return Ql[s(576)](Ql[s(522)][s(532)],Ql[s(524)](t[s(552)]),Ql[s(491)](t,e))}static[Kl(524)](t){const e=Kl;let s=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return Ql.box(Ql[e(522)][e(524)],s)}static[Kl(491)](t,e){const s=Kl;let i=t.id,r=Ql[s(576)](Ql[s(522)][s(508)],new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),n=Ql.box(Ql.types[s(561)],new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),o=Ql[s(559)](t),a=Ql[s(489)](t,o[s(578)]+16+16+8+16+8+8);return Ql[s(576)](Ql[s(522)][s(491)],r,n,a,o)}static sdtp(t){const e=Kl;let s=t[e(554)]||[],i=s[e(535)],r=new Uint8Array(4+i);for(let t=0;t<i;t++){let i=s[t][e(490)];r[t+4]=i.isLeading<<6|i[e(566)]<<4|i[e(506)]<<2|i[e(534)]}return Ql[e(576)](Ql[e(522)][e(559)],r)}static[Kl(489)](t,e){const s=Kl;let i=t[s(554)]||[],r=i[s(535)],n=12+16*r,o=new Uint8Array(n);e+=8+n,o[s(582)]([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);for(let t=0;t<r;t++){let e=i[t][s(538)],r=i[t].size,n=i[t][s(490)],a=i[t][s(583)];o[s(582)]([e>>>24&255,e>>>16&255,e>>>8&255,255&e,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n[s(564)]<<2|n[s(566)],n[s(506)]<<6|n[s(534)]<<4|n[s(503)],0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*t)}return Ql.box(Ql.types[s(489)],o)}static mdat(t){return Ql[Kl(576)](Ql.types.mdat,t)}}function Yl(){const t=["timescale","box","FTYP","byteLength","type","2744308vlNLYM","pow","set","cts","config","183930Lnqlfj","stsz","presentWidth","dref","stbl","call","347833cyuDcb","chunkOffset","mvex","STSC","stts","trun","flags","traf","33NLNYnD","audio","channelCount","smhd","DREF","stco","hasOwnProperty","trex","SMHD","mvhd","video","isNonSync","codecWidth","STSD_PREFIX","isDependedOn","mdat","tfhd","STSZ","mdhd","mp3","trak","isKeyframe","minf","presentHeight","avcc","free","dinf","1098khHMOw","HDLR_VIDEO","init","types","ftyp","mfhd","edts","hdlr","stsd","indexOf","1362240lNKEzY","constants","sampleRate","moof","concat","hasRedundancy","length","stss","hvc1","duration","hvcC","refSampleDuration","tkhd","chunkNo","slice","codec","sampleDelte","videoType","num","2KsBUQe","HDLR_AUDIO","generateInitSegment","45115HrbJSi","sequenceNumber","vmhd","samples","mdia","stsc","esds","elst","sdtp",".mp3","tfdt","push","718664JXOSIN","isLeading","mp4a","dependsOn","charCodeAt","avc","data","99DAeqmQ","codecHeight","avc1","moov","4580570EeZpwt"];return(Yl=function(){return t})()}Ql.init();const Jl=$l;function Xl(){const t=["4517181lFIlvY","audio","_isRecording","_startRecordingInterval","set","duration","recordStart","6567468KfkmDw","totalAudioDuration","_handleAddFmp4Track","_formatFmp4Track","handleAddAudioTrack","recording","stop recording fail, this.bufferList.length is 0 ","metaInfo","recordCancel","debugError","pts","isKeyframe","9098CHqAej","dts","stop recording and totalDuration is ","audioMetaInfo","destroy","stopRecordAndSave","start recording","setFileName","TAG_NAME","recordBlob","_handleAddFmp4Track, is h264 and this.sps or this.pps is null ","samples","startRecord","audioBufferList","totalAudioByteLength","video","isH264","3070225rIJXng","originalDts","pps","351ClpCCO","sequenceNumber","size","player","bufferList","blob","totalDuration","isH265","setInterval","_reset","31398YWFbYF","cancelRecord","cancel recording","generateInitSegment","cacheTrack","_formatAudioFmp4Track","getType","sps","data","handleAddNaluTrack","debugLog","assign","push","byteLength","recorderMP4","recordEnd","isRecording","1673CuuXEB","audioSequenceNumber","mp4","recordingInterval","init","cts","length","_getBufferTs","46JdcQtm","application/octet-stream","download","audioCacheTrack","getTotalDuration","_handleAddFmp4AudioTrack","vps","emit","stop recording fail, isRecording is false ","getToTalByteLength","_handleAddFmp4Track, is h265 and this.sps or this.pps or this.vps is null ","5288tKlYKv","stopRecordingInterval","totalByteLength","12250390fDHMzJ"];return(Xl=function(){return t})()}function $l(t,e){const s=Xl();return($l=function(t,e){return s[t-=135]})(t,e)}!function(t,e){const s=$l,i=t();for(;;)try{if(959570===-parseInt(s(182))/1*(-parseInt(s(216))/2)+-parseInt(s(197))/3+parseInt(s(204))/4+parseInt(s(144))/5+-parseInt(s(157))/6*(parseInt(s(174))/7)+parseInt(s(193))/8*(parseInt(s(147))/9)+parseInt(s(196))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xl);class Zl extends Vl{constructor(t){const e=$l;super(t),this.TAG_NAME=e(171),this._reset(),t.debugLog(this[e(135)],e(178))}[Jl(220)](){const t=Jl;super[t(220)](),this[t(156)](),this[t(150)][t(167)](this[t(135)],t(220))}_reset(){const t=Jl;super[t(156)](),this[t(153)]=0,this[t(205)]=0,this.totalByteLength=0,this.totalAudioByteLength=0,this[t(151)]=[],this[t(140)]=[],this[t(161)]={},this[t(185)]={},this[t(148)]=0,this[t(175)]=0}[Jl(139)](){const t=Jl;this[t(199)]=!0,this[t(150)][t(189)](H[t(209)],!0),this.player[t(167)](this[t(135)],t(222)),this[t(150)][t(189)](H[t(203)]),this[t(200)]()}[Jl(200)](){const t=Jl;this[t(194)](),this[t(177)]=window[t(155)]((()=>{const e=t;this.player[e(189)](H.recordingTimestamp,this[e(186)]())}),1e3)}[Jl(207)](t,e,s,i){const r=Jl;return{id:1,sequenceNumber:++this.sequenceNumber,size:t[r(170)],dts:s,cts:i,isKeyframe:e,data:t,duration:0,flags:{isLeading:0,dependsOn:e?2:1,isDependedOn:e?1:0,hasRedundancy:0,isNonSync:e?0:1}}}[Jl(162)](t,e){const s=Jl;return{id:2,sequenceNumber:++this[s(175)],size:t[s(170)],dts:e,pts:e,cts:0,data:new Uint8Array(t),duration:0,originalDts:e,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}}[Jl(166)](t,e,s,i){const r=Jl;this.cacheTrack.id&&s>=this[r(161)][r(217)]?(this.cacheTrack[r(202)]=s-this.cacheTrack[r(217)],this[r(206)](this[r(161)])):this.cacheTrack={},this[r(161)]=this[r(207)](t,e,s,i)}[Jl(208)](t,e){}[Jl(206)](t){const e=Jl;if(!this[e(173)])return void this[e(150)][e(213)](this.TAG_NAME,"_handleAddFmp4Track, isRecording is false ");if((null===this[e(164)]||null===this.pps)&&this.isH264)return void this.player.debugError(this[e(135)],e(137));if((null===this[e(164)]||null===this[e(146)]||null===this.vps)&&this.isH265)return void this.player[e(213)](this[e(135)],e(192));const s=Object[e(168)]({},t);s[e(214)]=s.dts+s.cts;const i=s[e(165)];if(s[e(215)])if(this[e(143)]){const t=new Uint8Array(this[e(164)].byteLength+this[e(146)].byteLength);t[e(201)](this.sps,0),t[e(201)](this[e(146)],this.sps[e(170)]);const r=new Uint8Array(t[e(170)]+i[e(170)]);r[e(201)](t,0),r[e(201)](i,t.byteLength),s[e(165)]=r}else if(this[e(154)]){const t=new Uint8Array(this.sps[e(170)]+this.pps.byteLength+this[e(188)][e(170)]);t[e(201)](this[e(188)],0),t[e(201)](this[e(164)],this[e(188)][e(170)]),t[e(201)](this[e(146)],this[e(188)][e(170)]+this[e(164)].byteLength);const r=new Uint8Array(t.byteLength+i[e(170)]);r.set(t,0),r[e(201)](i,t[e(170)]),s.data=r}s[e(149)]=s[e(165)][e(170)],this[e(153)]+=s.duration,this.totalByteLength+=s[e(165)][e(170)],s[e(202)]=0,s.originalDts=s[e(217)],delete s.id,delete s.sequenceNumber,this.bufferList.push(s)}[Jl(187)](t){const e=Jl,s=Object[e(168)]({},t);s[e(214)]=s[e(217)]+s[e(179)],s[e(149)]=s[e(165)][e(170)],this[e(205)]+=s[e(202)],this[e(141)]+=s[e(165)].byteLength,s.duration=0,s[e(145)]=s[e(217)],delete s.id,delete s[e(148)],this[e(140)][e(169)](s)}[Jl(186)](){return this[Jl(153)]/1e3}[Jl(163)](){return f[Jl(176)]}[Jl(191)](){return this[Jl(195)]+this.totalAudioByteLength}[Jl(221)](){const t=Jl;let e=arguments[t(180)]>0&&void 0!==arguments[0]?arguments[0]:X[t(184)],s=arguments[t(180)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;if(!this.isRecording)return this.player[n(213)](this[n(135)],"stop recording fail, isRecording is false "),r(n(190));if(0===this.bufferList[n(180)])return this.player[n(213)](this[n(135)],n(210)),r(n(210));s&&this[n(223)](s);const o={id:1,type:n(142),sps:this.sps,pps:this[n(146)],samples:this.bufferList,sequenceNumber:this.bufferList[n(180)],length:0,addSampleNum:1,duration:0,...this[n(211)]},a={id:2,type:n(198),sequenceNumber:this[n(140)][n(180)],samples:this[n(140)],...this[n(219)]},h=[o];a[n(138)][n(180)]>0&&h.push(a);const l=Ql[n(160)]({timescale:1e3,duration:this[n(153)]},h,this.totalByteLength+this.totalAudioByteLength);this[n(150)][n(167)](this.TAG_NAME,n(218)+this.getTotalDuration()+"s");const c=new Blob([l],{type:n(183)});if(e===X[n(152)])i(c),this[n(150)].emit(H[n(136)],c);else{i();Us((this.fileName||is())+"."+f.mp4,c)}this[n(150)][n(189)](H[n(172)]),this[n(156)](),this.player[n(189)](H.recording,!1)}))}[Jl(158)](){return new Promise(((t,e)=>{const s=$l;if(this.player[s(167)](this[s(135)],s(159)),!this[s(173)])return t();this[s(156)](),this[s(150)][s(189)](H[s(209)],!1),this[s(150)][s(189)](H[s(212)]),t()}))}[Jl(181)](t){}}function tc(){const t=sc;for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];const r=s[0][t(453)];return s[t(452)](((e,s)=>{const i=t,n=new r((0|e[i(459)])+(0|s.byteLength));return n[i(450)](e,0),n[i(450)](s,0|e[i(459)]),n}),new r)}function ec(t){const e=sc,s=t[0][e(453)];return t[e(452)](((t,i)=>{const r=e,n=new s((0|t[r(459)])+(0|i.byteLength));return n.set(t,0),n[r(450)](i,0|t[r(459)]),n}),new s)}function sc(t,e){const s=nc();return(sc=function(t,e){return s[t-=440]})(t,e)}function ic(t){const e=sc;if((t=t[e(454)](/\s/g,""))[e(456)]%2!=0)return console[e(441)](e(449),t[e(456)]),null;const s=new Uint8Array(t[e(456)]/2);for(let i=0;i<t[e(456)];i+=2){const r=parseInt(t[e(457)](i,2),16);s[i/2]=r}return s}function rc(t,e){return 255&t[e]}function nc(){const t=["reduce","constructor","replace","toString","length","substr","1643508VRtRdk","byteLength","1171416aYGPkh","error","1360392OEhcIi","2YlUpAL","8TsPvFG","439547ZTAYgw","63cqJCQg","18641280XNmiUR","3110095fYZJVq","hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ","set","1524929vvQPTd"];return(nc=function(){return t})()}function oc(t,e){return 255&t[e]|t[e+1]<<8&65280}!function(t,e){const s=sc,i=t();for(;;)try{if(695997===-parseInt(s(445))/1*(parseInt(s(443))/2)+-parseInt(s(442))/3+parseInt(s(444))/4*(-parseInt(s(448))/5)+-parseInt(s(458))/6+parseInt(s(451))/7+parseInt(s(440))/8*(parseInt(s(446))/9)+parseInt(s(447))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nc);const ac=lc;function hc(){const t=["stop recording fail, this.bufferList.length is 0 ","28780680oKcFAM","addVideoSequenceHeader","1099792JjTURi","FlvRecorderLoader","recording","setInterval","currentTime","timestamp","addAudio","addAACSequenceHeader","hasVideo","push","prevTimestamp","emit","videoSequenceHeader","scriptData","aacSequenceHeader","2703102ZnMMoN","recordingInterval","header","init","stop recording fail, isRecording is false ","payload","recordCancel","hasAudio","application/octet-stream","getType","video","length","_setStartTime is ","_reset","concat","6223835vTMhNV","TAG_NAME","_setStartTime","flvMetaData","_init","stopRecordingInterval","debugError","totalByteLength","byteLength","setFileName","83769xbxClZ","stopRecordAndSave","recordStart","getTotalDuration","_getBufferTs","startRecordingInterval","destroy","_createBufferItem","player","3080300VsDqGh","114WnTyBC","bufferList","_createFlvTag","startTime","isRecording","type","blob","set","subarray","recordEnd","_createFlvPacket","953824UdNzqI","totalDuration","startRecord","cancel recording","audio","debugLog","cancelRecord","_isRecording"];return(hc=function(){return t})()}function lc(t,e){const s=hc();return(lc=function(t,e){return s[t-=100]})(t,e)}!function(t,e){const s=lc,i=t();for(;;)try{if(667622===parseInt(s(139))/1+parseInt(s(128))/2+parseInt(s(154))/3+parseInt(s(116))/4+parseInt(s(169))/5+-parseInt(s(117))/6*(parseInt(s(107))/7)+-parseInt(s(137))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(hc);class cc extends Vl{constructor(t){const e=lc;super(t),this.TAG_NAME=e(140),this[e(115)]=t,this[e(101)](),this[e(115)].debugLog(this[e(170)],e(157))}[ac(113)](){const t=ac;super[t(113)](),this._init(),this.player[t(133)](this[t(170)],t(113))}_init(){const t=ac;this[t(161)]=!1,this[t(147)]=!1,this[t(120)]=null,this[t(143)]=0,this[t(149)]=0,this[t(104)]=0,this[t(129)]=0,this[t(100)]=null,this[t(153)]=null,this[t(151)]=null,this.bufferList=[]}[ac(167)](){super[ac(167)](),this._init()}[ac(130)](){const t=ac;this._isRecording=!0,this[t(115)].emit(H[t(141)],!0),this.player[t(133)](this[t(170)],"start recording"),this[t(115)][t(150)](H[t(109)]),this[t(112)]()}[ac(112)](){const t=ac;this[t(102)](),this[t(155)]=window[t(142)]((()=>{const e=t;this[e(115)][e(150)](H.recordingTimestamp,this[e(110)]())}),1e3)}addMetaData(t){this.flvMetaData=t}[ac(146)](t){this[ac(153)]=t}[ac(138)](t){this[ac(151)]=t}addVideo(t,e){const s=ac;this[s(171)](e);const i=this[s(111)](e);this.hasVideo=!0,this[s(114)](t,V[s(164)],i)}[ac(145)](t,e){const s=ac;this[s(171)](e);const i=this[s(111)](e);this[s(161)]=!0,this[s(114)](t,V[s(132)],i)}_setStartTime(t){const e=ac;null===this[e(120)]&&this[e(135)]&&(this[e(120)]=t,this[e(115)].debugLog(this[e(170)],e(166)+t))}[ac(111)](t){const e=ac;t>this.currentTime&&(this[e(143)]=t);let s=0;return this[e(120)]&&t>=this.startTime&&(s=t-this[e(120)]),s>this[e(149)]?this[e(149)]=s:s=this.prevTimestamp,s}[ac(114)](t,e,s){const i=ac,r=this[i(127)](t,e,s),n=this[i(119)](r);this[i(104)]+=n[i(105)],this.bufferList[i(148)](n)}_createFlvTag(t){const e=ac;let s=11+t[e(156)].length,i=new Uint8Array(s+4),r=new DataView(i.buffer);return i[0]=t[e(156)][e(122)],i[1]=t.header[e(165)]>>16&255,i[2]=t.header[e(165)]>>8&255,i[3]=255&t[e(156)][e(165)],i[4]=t[e(156)][e(144)]>>16&255,i[5]=t[e(156)].timestamp>>8&255,i[6]=255&t.header[e(144)],i[7]=t.header[e(144)]>>24&255,i[8]=0,i[9]=0,i[10]=0,r.setUint32(s,s),i[e(124)](t[e(159)][e(125)](0,t[e(156)][e(165)]),11),i}_createFlvPacket(){const t=ac;let e=arguments[t(165)]>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments[t(165)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[t(165)]>2&&void 0!==arguments[2]?arguments[2]:0;return{header:{length:e?e[t(165)]:0,timestamp:i,type:s},payload:e}}[ac(108)](){const t=ac;let e=arguments[t(165)]>0&&void 0!==arguments[0]?arguments[0]:X.download,s=arguments[t(165)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;if(!this[n(121)])return this[n(115)].debugError(this[n(170)],n(158)),r(n(158));if(0===this[n(118)].length)return this.player[n(103)](this[n(170)],n(136)),r(n(136));s&&this[n(106)](s);const o=new Uint8Array([70,76,86,1,0,0,0,0,9,0,0,0,0]);this[n(147)]&&(o[4]|=1),this[n(161)]&&(o[4]|=4);let a=[o];if(this.flvMetaData){const t=this[n(127)](this[n(100)],V[n(152)]),e=this[n(119)](t);a[n(148)](e)}if(this[n(151)]){const t=this[n(127)](this[n(151)],V[n(164)]),e=this[n(119)](t);a[n(148)](e)}if(this[n(153)]){const t=this[n(127)](this[n(153)],V[n(132)]),e=this._createFlvTag(t);a[n(148)](e)}const h=ec(a[n(168)](this[n(118)]));this[n(115)][n(133)](this[n(170)],"stop recording and totalDuration is "+this[n(110)]()+"s");const l=new Blob([h],{type:n(162)});if(e===X[n(123)])i(l),this.player[n(150)](H.recordBlob,l);else{i();Us((this.fileName||is())+"."+f.flv,l)}this[n(115)][n(150)](H[n(126)]),this._reset(),this[n(115)].emit(H[n(141)],!1)}))}[ac(134)](){return new Promise(((t,e)=>{const s=lc;if(this.player[s(133)](this[s(170)],s(131)),!this.isRecording)return t();this[s(167)](),this[s(115)].emit(H.recording,!1),this[s(115)][s(150)](H[s(160)]),t()}))}[ac(110)](){const t=ac;let e=0;return null!==this[t(120)]&&null!==this.currentTime&&(e=this[t(143)]-this[t(120)]),Math.round(e/1e3)}[ac(163)](){return f.flv}getToTalByteLength(){return this.totalByteLength}}const dc=uc;function uc(t,e){const s=fc();return(uc=function(t,e){return s[t-=197]})(t,e)}!function(t,e){const s=uc,i=t();for(;;)try{if(916420===parseInt(s(202))/1+parseInt(s(200))/2*(parseInt(s(223))/3)+-parseInt(s(225))/4*(parseInt(s(212))/5)+-parseInt(s(214))/6*(-parseInt(s(215))/7)+parseInt(s(201))/8*(parseInt(s(210))/9)+-parseInt(s(218))/10+-parseInt(s(228))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fc);const pc={init:0,findFirstStartCode:1,findSecondStartCode:2};function fc(){const t=["reset","init","236grYVom","1207800BMBzOv","168513GiWtuD","Init","length","off","player","state","parsedOffset","secondStartCodeOffset","99cDpLtP","data","45gJeOqM","stats","25866HCUmzx","1393QCmwxT","fisrtStartCodeOffset","dispatch","5720650MPesMZ","Mp3Demux","emit","tempBuffer","slice","16011NipsBP","destroy","542612BNgRAQ","isDestroyed","set","6682841SsOsay","TAG_NAME","findFirstStartCode"];return(fc=function(){return t})()}class mc extends h{constructor(t){const e=uc;super(),this[e(206)]=t,this[e(229)]=e(219),this[e(226)]=!1,this[e(198)](),this[e(221)]=new Uint8Array(0),this[e(206)].debugLog(this.TAG_NAME,e(199))}[dc(224)](){const t=dc;this[t(226)]=!0,this[t(205)](),this.reset(),this[t(206)].debugLog(this.TAG_NAME,t(224))}[dc(198)](){const t=dc;this[t(213)]=pc[t(199)],this[t(221)]=null,this[t(208)]=0,this.versionLayer=0}[dc(217)](t,e){const s=dc;let i=new Uint8Array(this[s(221)][s(204)]+t.length);for(i[s(227)](this[s(221)],0),i[s(227)](t,this[s(221)][s(204)]),this[s(221)]=i;!this[s(226)];){if(this.state==pc[s(203)]){let t=!1;for(;this[s(221)][s(204)]-this[s(208)]>=2&&!this[s(226)];)if(255==this[s(221)][this[s(208)]]){if(!(!1&this.tempBuffer[this.parsedOffset+1])){this.versionLayer=this.tempBuffer[this[s(208)]+1],this[s(207)]=pc.findFirstStartCode,this[s(216)]=this[s(208)],this.parsedOffset+=2,t=!0;break}this[s(208)]++}else this.parsedOffset++;if(t)continue;break}if(this[s(207)]==pc[s(197)]){let t=!1;for(;this.tempBuffer.length-this[s(208)]>=2&&!this[s(226)];)if(255==this[s(221)][this[s(208)]]){if(this.tempBuffer[this[s(208)]+1]==this.versionLayer){this[s(207)]=pc.findSecondStartCode,this.secondStartCodeOffset=this[s(208)],this.parsedOffset+=2,t=!0;break}this[s(208)]++}else this[s(208)]++;if(t)continue;break}if(this[s(207)]==pc.findSecondStartCode){let t=this.tempBuffer[s(222)](this.fisrtStartCodeOffset,this[s(209)]);this[s(220)](s(211),t,e),this[s(221)]=this[s(221)][s(222)](this[s(209)]),this.fisrtStartCodeOffset=0,this[s(208)]=2,this[s(207)]=pc[s(197)]}}}}const gc=Ac;function yc(){const t=["mp3Demuxer","isWasmMp4","recordStart","handleAddAudioTrack","recordTime","recording","_reset","length","recordCreateError","cts","JessibucaProMp4Recorder","audioCacheTrack","stopRecordAndSave","12994540MLrGWC","TAG_NAME","round","finally","byteLength","recorderWasmMP4","dts","stop recording fail, recording time is 0 ","debug","mp4","_prevHandleAddNaluTrack","_isRecording","wasmMp4RecorderDecoder","blob","wasmMp4Recorder","metaInfo","getToTalByteLength","_handleAddAudioTrack","totalByteLength","stopRecord error","start recording","forEach","push","getType","audio","10854GuKKHV","width","9631552aLsmbC","channels","startRecord","cancelRecord","startRecord error","init","codecId","catch","hasVideo","getTotalDuration","60oXesaE","sampleRate","audioCodeId","setInterval","recordBlob","pendingVideoFrames","totalAudioByteLength","duration","cancel recording","_recordingTimestamp","debugLog","getAudioInfo","video","wasmMp4RecorderStarted","depth","then","setFileName","isIFrame","debugError","destroy","dispatch","174hXpfLj","hasAudio","audioMetaInfo","9710ILmdDk","5582924JsiHUH","recordingTimestamp","stop recording fail, isRecording is false ","totalAudioDuration","startRecordingInterval","payload","fileName","data","stopRecordingInterval","pendingAudioFrames","sendVideoFrame","98444jZdHva","recordingInterval","1448JTvAAz","isRecording","recordEnd","emit","toString","stopRecord","avcc","encTypeCode","player","_prevHandleAddAudioTrack","debugLevel","cacheTrack","_opt","204055FqwzmZ"];return(yc=function(){return t})()}function Ac(t,e){const s=yc();return(Ac=function(t,e){return s[t-=480]})(t,e)}!function(t,e){const s=Ac,i=t();for(;;)try{if(773878===parseInt(s(550))/1+parseInt(s(535))/2*(-parseInt(s(499))/3)+-parseInt(s(524))/4+-parseInt(s(523))/5*(-parseInt(s(520))/6)+parseInt(s(489))/7+-parseInt(s(537))/8*(-parseInt(s(487))/9)+parseInt(s(564))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yc);class vc extends Vl{constructor(t){const e=Ac;super(t),this.TAG_NAME=e(569),this[e(557)](),this.wasmMp4Recorder=null,this.mp3Demuxer=null,this[e(512)]=!1,this.pendingAudioFrames=[],this.pendingVideoFrames=[],t[e(509)](this[e(565)],e(494))}[gc(518)](){const t=gc;super.destroy(),this[t(551)]&&(this[t(551)].destroy(),this.mp3Demuxer=null),this[t(557)](),this[t(545)][t(509)](this[t(565)],t(518))}[gc(557)](){const t=gc;super[t(557)](),this[t(548)]={},this[t(562)]={},this[t(527)]=0,this[t(480)]=0,this[t(505)]=0,this[t(521)]=!1,this[t(497)]=!1}[gc(485)](){return f[gc(573)]}[gc(552)](){return!0}[gc(498)](){return this[gc(508)]/1e3}[gc(580)](){const t=gc;return this[t(480)]+this[t(505)]}[gc(491)](){const t=gc,e=this[t(545)],s=this[t(545)][t(510)](),i=this[t(545)].getVideoInfo(),r={};if(this[t(495)]){const e={type:this[t(495)],width:i[t(488)],height:i.height,extraData:this[t(579)][t(543)]};r[t(511)]=e,this[t(497)]=!0}if(s[t(544)]){const e={type:s[t(544)],sampleRate:s[t(500)],channels:s[t(490)],extraData:this[t(522)].extraData,depth:s[t(513)]};this[t(501)]=s.encTypeCode,r[t(486)]=e,this[t(521)]=!0}this[t(578)]=new(window[t(561)])({debug:e[t(549)][t(572)],debugLevel:e._opt[t(547)],debugUuid:e[t(549)].debugUuid,decoder:e[t(549)][t(576)],name:T,buildTime:I}),this[t(578)].on("recordingTimestamp",(e=>{const s=t;this[s(508)]=Math[s(566)](e/1e3)})),this._isRecording=!0,this[t(578)][t(491)](r)[t(514)]((()=>{const e=t;this.player[e(540)](H[e(556)],!0),this[e(512)]=!0,this[e(545)].debugLog(this.TAG_NAME,e(482)),this[e(545)].emit(H[e(553)]),this[e(528)]()}))[t(496)]((e=>{const s=t;this[s(575)]=!1,this[s(545)].debugError(this[s(565)],s(493),e[s(541)](),e),this[s(545)].emitError(H[s(559)],e[s(541)]())}))}[gc(528)](){const t=gc;this[t(532)](),this[t(536)]=window[t(502)]((()=>{const e=t;this[e(545)][e(540)](H[e(525)],this[e(555)])}),1e3)}[gc(563)](){const t=gc;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.download,s=arguments[t(558)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;return this[n(538)]?0===this[n(508)]?(this[n(545)][n(517)](this[n(565)],n(571)),r(n(571))):(s&&this[n(515)](s),void this.wasmMp4Recorder.stopRecord()[n(514)]((t=>{const s=n;if(this[s(545)][s(509)](this[s(565)],"stop recording and totalDuration is "+this[s(498)]()+"s"),e===X[s(577)])i(t),this.player[s(540)](H[s(503)],t);else{i();Us((this[s(530)]||is())+"."+f[s(573)],t)}}))[n(496)]((t=>{const e=n;this.player[e(517)](this[e(565)],"stopRecord error",t),r(t)}))[n(567)]((()=>{const t=n;this[t(545)][t(540)](H[t(539)]),this._reset(),this.player[t(540)](H[t(556)],!1)}))):(this[n(545)][n(517)](this.TAG_NAME,n(526)),r("stop recording fail, isRecording is false "))}))}[gc(492)](){return new Promise(((t,e)=>{const s=Ac;if(this[s(545)].debugLog(this[s(565)],s(507)),!this.isRecording||0===this[s(508)])return t();this[s(578)][s(542)]()[s(514)]((e=>{t()})).catch((t=>{const i=s;this[i(545)][i(517)](this[i(565)],i(481),t),e(t)}))[s(567)]((()=>{const t=s;this[t(557)](),this.player.emit(H[t(556)],!1),this[t(545)][t(540)](H.recordCancel)}))}))}[gc(554)](t,e){const s=gc;Ri(this.hasAudio)||(this[s(512)]?(this[s(533)][s(558)]>0&&(this[s(533)][s(483)]((t=>{const e=s;this._prevHandleAddAudioTrack(t[e(529)],t[e(570)])})),this.pendingAudioFrames=[]),this[s(546)](t,e)):this[s(533)][s(484)]({payload:t,dts:e}))}[gc(546)](t,e){const s=gc;this[s(501)]===et.MP3?(!this[s(551)]&&(this[s(551)]=new mc(this.player),this.mp3Demuxer.on(s(531),((t,e)=>{this[s(581)](t,e)}))),this[s(551)][s(519)](t,e)):this[s(581)](t,e)}[gc(581)](t,e){const s=gc;this[s(562)].id&&e>=this[s(562)][s(570)]?(this[s(562)][s(506)]=e-this.audioCacheTrack[s(570)],this.totalAudioDuration+=this[s(562)][s(506)],this.totalAudioByteLength+=this[s(562)][s(529)][s(568)],this.wasmMp4Recorder.sendAudioFrame(this[s(562)].payload,this.audioCacheTrack[s(570)])):this[s(562)]={},this[s(562)]={id:2,payload:t,dts:e}}handleAddNaluTrack(t,e,s,i){const r=gc;Ri(this[r(497)])||(this.wasmMp4RecorderStarted?(this[r(504)][r(558)]>0&&(this[r(504)][r(483)]((t=>{const e=r;this[e(574)](t.payload,t[e(516)],t[e(570)],t[e(560)])})),this[r(504)]=[]),this[r(574)](t,e,s,i)):this[r(504)].push({payload:t,isIFrame:e,dts:s,cts:i}))}_prevHandleAddNaluTrack(t,e,s,i){const r=gc;this[r(548)].id&&s>=this.cacheTrack[r(570)]?(this[r(548)][r(506)]=s-this[r(548)][r(570)],this[r(480)]+=this[r(548)][r(529)][r(568)],this.wasmMp4Recorder[r(534)](this[r(548)][r(529)],this[r(548)][r(516)],this[r(548)].dts,this[r(548)][r(560)])):this[r(548)]={},this[r(548)]={id:1,payload:t,isIFrame:e,dts:s,cts:i}}}function bc(){const t=["1216266kqaHhN","6311039HPHGQx","4018076rIlsQj","getLoaderFactory","isWebrtcH264","81VuXCnY","useWasm","5022470jfGQWZ","useWCS","flv","666506oXAvGg","19065288ttGTZU","620860HTVAow","_opt","isOldHls","2bQDKse","JessibucaProMp4Recorder","8qvNmRd","6gVqubB","recordType","isAliyunRtc"];return(bc=function(){return t})()}const Sc=wc;function wc(t,e){const s=bc();return(wc=function(t,e){return s[t-=157]})(t,e)}!function(t,e){const s=wc,i=t();for(;;)try{if(533916===-parseInt(s(165))/1*(-parseInt(s(170))/2)+-parseInt(s(176))/3+-parseInt(s(157))/4+-parseInt(s(162))/5*(-parseInt(s(173))/6)+parseInt(s(177))/7*(-parseInt(s(172))/8)+-parseInt(s(160))/9*(parseInt(s(167))/10)+parseInt(s(166))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bc);class Ec{constructor(t){const e=wc;return new(Ec[e(158)](t,t[e(168)]))(t)}static[Sc(158)](t,e){const s=Sc;if(t[s(169)]()||t[s(159)]()||t[s(175)]())return Hl;if(e[s(174)]===f.mp4){if(e[s(161)]||e.useMSE||e[s(163)])return window[s(171)]&&e.mp4RecordUseWasm?vc:Zl}else if(e[s(174)]===f[s(164)])return cc;return Hl}}function Tc(t,e){const s=Ic();return(Tc=function(t,e){return s[t-=424]})(t,e)}function Ic(){const t=["fromCharCode","902oHiSEp","3155592XBwHEf","108312hCiNHK","6NgqokA","20456696PFFZfh","333WBlLKc","15214HxIJbC","7iArbdJ","142wMKhgo","11068crjdvl","push","length","60yUJXUC","2090169sKwsaB","3025355bIoDCD"];return(Ic=function(){return t})()}function kc(t,e,s){let i=t;if(e+s<i.length){for(;s--;)if(128!=(192&i[++e]))return!1;return!0}return!1}function _c(t){const e=Tc;let s=[],i=t,r=0,n=t[e(424)];for(;r<n;)if(i[r]<128)s.push(String[e(428)](i[r])),++r;else{if(i[r]<192);else if(i[r]<224){if(kc(i,r,1)){let t=(31&i[r])<<6|63&i[r+1];if(t>=128){s[e(439)](String[e(428)](65535&t)),r+=2;continue}}}else if(i[r]<240){if(kc(i,r,2)){let t=(15&i[r])<<12|(63&i[r+1])<<6|63&i[r+2];if(t>=2048&&55296!=(63488&t)){s[e(439)](String[e(428)](65535&t)),r+=3;continue}}}else if(i[r]<248&&kc(i,r,3)){let t=(7&i[r])<<18|(63&i[r+1])<<12|(63&i[r+2])<<6|63&i[r+3];if(t>65536&&t<1114112){t-=65536,s[e(439)](String[e(428)](t>>>10|55296)),s[e(439)](String[e(428)](1023&t|56320)),r+=4;continue}}s[e(439)](String[e(428)](65533)),++r}return s.join("")}!function(t,e){const s=Tc,i=t();for(;;)try{if(947797===parseInt(s(435))/1*(parseInt(s(437))/2)+parseInt(s(434))/3*(parseInt(s(438))/4)+-parseInt(s(427))/5*(parseInt(s(432))/6)+parseInt(s(436))/7*(-parseInt(s(430))/8)+-parseInt(s(426))/9*(-parseInt(s(425))/10)+parseInt(s(429))/11*(parseInt(s(431))/12)+-parseInt(s(433))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ic);const Cc=Rc;function Dc(){const t=["warn","getFloat64","getUint8","16LZNtQz","6597712HwITRV","7149085RNOvQm","parseLongString","name","7452flZhOj","parseString","parseVariable","10fEcBDw","812126jLafVB","data","23147937ChYvnf","1013095zsHIpv","parseObject","234348psKMXg","push","932veZnwL","toString","parseValue","size","value","getUint32","getUint16","Unsupported AMF value type ","objectEnd","AMF","setInt16","parseDate","error"];return(Dc=function(){return t})()}function Rc(t,e){const s=Dc();return(Rc=function(t,e){return s[t-=234]})(t,e)}!function(t,e){const s=Rc,i=t();for(;;)try{if(892059===-parseInt(s(236))/1+parseInt(s(240))/2*(-parseInt(s(261))/3)+parseInt(s(257))/4+-parseInt(s(258))/5+parseInt(s(238))/6+-parseInt(s(265))/7*(-parseInt(s(256))/8)+parseInt(s(235))/9*(parseInt(s(264))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Dc);let Lc=function(){const t=Rc;let e=new ArrayBuffer(2);return new DataView(e)[t(250)](0,256,!0),256===new Int16Array(e)[0]}();class Pc{static parseScriptData(t,e,s){const i=Rc;let r={};try{let n=Pc[i(242)](t,e,s),o=Pc[i(242)](t,e+n[i(243)],s-n[i(243)]);r[n[i(234)]]=o[i(234)]}catch(t){console[i(252)](i(249),t[i(241)]())}return r}static[Cc(237)](t,e,s){const i=Cc;let r=Pc[i(262)](t,e,s),n=Pc[i(242)](t,e+r.size,s-r.size),o=n[i(248)];return{data:{name:r.data,value:n[i(234)]},size:r[i(243)]+n[i(243)],objectEnd:o}}static[Cc(263)](t,e,s){return Pc[Cc(237)](t,e,s)}static[Cc(262)](t,e,s){const i=Cc;let r,n=new DataView(t,e,s)[i(246)](0,!Lc);return r=n>0?_c(new Uint8Array(t,e+2,n)):"",{data:r,size:2+n}}static[Cc(259)](t,e,s){let i,r=new DataView(t,e,s).getUint32(0,!Lc);return i=r>0?_c(new Uint8Array(t,e+4,r)):"",{data:i,size:4+r}}static[Cc(251)](t,e,s){const i=Cc;let r=new DataView(t,e,s),n=r[i(254)](0,!Lc);return n+=60*r.getInt16(8,!Lc)*1e3,{data:new Date(n),size:10}}static[Cc(242)](t,e,s){const i=Cc;let r,n=new DataView(t,e,s),o=1,a=n[i(255)](0),h=!1;try{switch(a){case 0:r=n[i(254)](1,!Lc),o+=8;break;case 1:r=!!n[i(255)](1),o+=1;break;case 2:{let n=Pc[i(262)](t,e+1,s-1);r=n[i(234)],o+=n[i(243)];break}case 3:{r={};let a=0;for(9==(16777215&n[i(245)](s-4,!Lc))&&(a=3);o<s-4;){let n=Pc[i(237)](t,e+o,s-o-a);if(n.objectEnd)break;r[n[i(234)].name]=n[i(234)][i(244)],o+=n[i(243)]}if(o<=s-3){9===(16777215&n.getUint32(o-1,!Lc))&&(o+=3)}break}case 8:{r={},o+=4;let a=0;for(9==(16777215&n[i(245)](s-4,!Lc))&&(a=3);o<s-8;){let n=Pc[i(263)](t,e+o,s-o-a);if(n.objectEnd)break;r[n[i(234)][i(260)]]=n.data[i(244)],o+=n.size}if(o<=s-3){9===(16777215&n[i(245)](o-1,!Lc))&&(o+=3)}break}case 9:r=void 0,o=1,h=!0;break;case 10:{r=[];let a=n[i(245)](1,!Lc);o+=4;for(let n=0;n<a;n++){let n=Pc[i(242)](t,e+o,s-o);r[i(239)](n[i(234)]),o+=n[i(243)]}break}case 11:{let n=Pc[i(251)](t,e+1,s-1);r=n[i(234)],o+=n[i(243)];break}case 12:{let n=Pc[i(262)](t,e+1,s-1);r=n.data,o+=n[i(243)];break}default:o=s,console[i(253)](i(249),i(247)+a)}}catch(t){console[i(252)](i(249),t[i(241)]())}return{data:r,size:o,objectEnd:h}}}function xc(t){const e=Mc;return Pc.parseScriptData(t[e(181)],t[e(182)],t.byteLength)}function Mc(t,e){const s=Bc();return(Mc=function(t,e){return s[t-=181]})(t,e)}function Bc(){const t=["42ctPiJa","38424cGSmzW","27qNTlCi","409770bsjdsh","1913800kspsns","G711A","1890rLuIab","G711U","9573GbkGiz","9112JLvnpz","buffer","byteOffset","OPUS","3896JtTiIk","902BAUoRC","17260XcCaPR","28PrmGpu"];return(Bc=function(){return t})()}!function(t,e){const s=Mc,i=t();for(;;)try{if(110063===-parseInt(s(190))/1*(-parseInt(s(197))/2)+parseInt(s(196))/3*(-parseInt(s(187))/4)+parseInt(s(186))/5*(parseInt(s(188))/6)+parseInt(s(194))/7*(-parseInt(s(184))/8)+parseInt(s(191))/9+-parseInt(s(192))/10+-parseInt(s(185))/11*(-parseInt(s(189))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Bc);const Fc=Uc;function Uc(t,e){const s=Oc();return(Uc=function(t,e){return s[t-=500]})(t,e)}function Oc(){const t=["load","clearWorkBuffer","isPlayer","_decodeAudio","useMSE","simdH264DecodeVideoWidthIsTooLarge","decoderAudio","terminate","onMetaData","isVideoInited","decoderWorker","videoDecode","workerSendMessage","payload","onerror and decoder url is ","playType","isIFrame","useSIMD","decodeAudio","playVod"," or height ","isDropSameTimestampGop","videoBufferDelay","playbackPause",",sampleRate:","debugError","tsPrivateData","setStreamFps","getCanvasRenderType","correctionConfigurationVersion","mseAutoCleanupMinBackwardDuration","isPs","openWebglAlignment","autoCalcFps","onmessage and workerFetch response fetch error but stream is null","_isDestroyed","decoderWorkerWasmError","_destroy","isDecoderUseCDN","networkDelay","indexOf","cmd","audioAACSequenceHeader","websocketError","_initDecoderWorker","isUseFpsRender","initAudio","62991feFCKt","decoderCheckFirstIFrame","playback","code","closeEnd","webcodecsDecoder","isWasmMp4","pushTempStream","streamEnd","20DoqqGV","audioDecode","audioNalu","debugLog","videoStart","application/javascript","fetchErrorWorker","initVideoDelay","updateConfig","addVideo","channels","width:","isPlayVod","playVodFps","nakedFlowDemuxUseNew","3dTiAqb","handleRender","isEmitTsPrivateData","type","isCryptoAudio","cryptoKey","8shFMps","updateWorkConfig","isRecordTypeFlv","decode","useWCS","delay","streamStats","webglAlignmentError","isSm4Crypto","sampleRate","videoBuffer","removeSeekingTimestamp","audioCode","tsError","isSm4CryptoH265V2","_decodeAudioNoDelay","checkFirstIFrame","decoderWorkerInitError","isPlaybackOnlyDecodeIFrame","recording","mseFirstRenderTime","_times","59975GSjiIH","tempStream","isNakedFlow","21nJtbfi","recordType","mp4","$videoElement","addVideoSequenceHeader","onerror and ignore filename: ","mseCorrectAudioTimeDuration","initScriptNode","streamEndInner","isCacheBeforeDecodeForFpsRender","videoSEI","data","emitTsPrivateData","URL","playbackConfig","msg","isUseHls265","audioChannelError","websocketOpenTimeout","revokeObjectURL","memoryAccessOutOfBounds","cts","isTs","simdDecodeError","onmessage","buffer","stringify","location","increaseLocalTimestamp","delayFrameChasingPolicy","render$2","onmessage and workerFetch response stream success but stream is null","mseDecoderUseWorker","mseError","size","createObjectURL","decodeStart","isDestroyedOrClosed","streamDts","nakedFlowFps","onmessage:","flvScriptData","updatePlaybackIsPause","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","audio","decoderWorkerUncaughtError","visibility","updateForwardMaxRateDecodeIFrame","networkDelayTimeout","send close but not response and destroy directly","message","audioPayload","abs",'importScripts("',"playAudio","cryptoIV","notSupportNewWasm","decoderWorkerInit","onmessage and workerFetch response websocketOpenTimeout but stream is null","fps","streamAbps","destroy","isDestroying","updateVideoInfo","mseUpdateVideoTimestamp","78899epdWBJ","_decodeVideo","getAudioBufferSize","videoCode","209zHwvmD","isXorCrypto","fetchError","decodeVideo","simdDecodeDelayTimeout","hasVideo","isFlv","onmessageerror","workerUrl","mseAutoCleanupMaxBackwardDuration","pushData","reload","updateStats","isMseDecoderUseWorker","visibilityChange","sendWsMessage","getHasInit","decoderUrl","destroyResolve","webgl2","postMessage","wcsDecodeAudio","video","isDestroyed","failedToAsynchronouslyPrepareWasm","_initWork","_opt","mseDecoder","debugWarn","player","TAG_NAME","playbackForwardMaxRateDecodeIFrame","webgl","onmessage and workerFetch response stream end but player is null","workerClearTimeout","_clearCloseTimeout","decoderWorkerCloseTimeout","emitVideoSei","isFmp4","initFps","recorder","filename: ","videoIframeIntervalTs","close","protocol","srcObject","_decodeVideoNoDelay","has loaded but decoderWorker is null and destroy directly","correctionConfigurationProfileIndication","isUseLocalCalculateTime","initAudioAacExtraData","demuxStart","hasAudio","363644XKGLxp","449802bBenBn","handleAddNaluTrack","websocketOpen","onerror","handleAddAudioTrack","codecId","decoderOld","toFixed","isCheckStreamEnd","audio channel is ","playVodPause","play","useWasm","decoder-pro-audio.wasm","render","has loaded and post message to destroy","emit","initVideo","mseHandle",".wasm","mseDecodeAudio","videoCodec","init","isMpeg4","updateAudioInfo","value","kBps","video width ","websocketStringMsg","stream","187932ajvjsd","isPlayback",",message: ","2122610fqlKSB","decoderHard","protocols","useOffscreen","workerEnd","websocketClose","websocket","nakedFlowH265DemuxUseNew","decoderHardNotWasm","initMetaData","useMThreading","filename","length","wasmSimdFirstFrameDecodeDelayTimeout","useOldWasm","playbackIsPause","destroyLock","iframeIntervalTs","isRecording","wasm://","streamRate","streamSuccess","has not loaded and destroy directly","max","demuxUseWorker","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","isMseVideoStateInited","emitError","playbackTF"];return(Oc=function(){return t})()}!function(t,e){const s=Uc,i=t();for(;;)try{if(140302===parseInt(s(755))/1+parseInt(s(525))/2*(-parseInt(s(659))/3)+-parseInt(s(644))/4*(parseInt(s(687))/5)+-parseInt(s(526))/6*(-parseInt(s(690))/7)+parseInt(s(665))/8*(-parseInt(s(635))/9)+-parseInt(s(559))/10+-parseInt(s(759))/11*(-parseInt(s(556))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Oc);class Nc{constructor(t){const e=Uc;this.player=t,this.TAG_NAME=e(598),this[e(777)]=null,this.workerClearTimeout=null,this[e(767)]=null;let s=t[e(785)].decoder;if(this[e(508)]=null,this[e(623)]=!1,this[e(575)]=!1,Ri(this.player[e(785)][e(538)])?s=this[e(501)][e(785)][e(583)]?this.player._opt[e(546)]||this[e(501)][e(785)][e(780)]||Ri(this.player[e(785)].hasAudio)?t[e(785)][e(567)]:t[e(785)][e(560)]:t[e(785)][e(594)]:this[e(501)][e(785)][e(573)]&&(s=t[e(785)][e(532)]),this[e(776)]=s,0===s[e(628)]("http")&&this.player[e(785)][e(626)]){const t=new Blob([e(743)+s+'")'],{type:e(649)});s=window[e(703)][e(725)](t),this[e(767)]=s,this.workerClearTimeout=setTimeout((()=>{const t=e;window.URL[t(709)](this[t(767)]),this.workerUrl=null,this[t(506)]=null}),P)}this[e(598)]=new Worker(s),this[e(632)](),this._listenPlaybackEvents(),t[e(647)](e(598),"init and decoder url is "+this[e(776)]),t.on(H[e(773)],(()=>{const s=e;this[s(666)]({key:s(736),value:t[s(736)]})}))}[Fc(751)](){return new Promise(((t,e)=>{const s=Uc;if(this[s(575)]=!0,this[s(501)].loaded)if(this[s(501)][s(647)](s(598),s(541)),this[s(598)]){const e={};this[s(501)][s(772)]()&&(e[s(597)]=this[s(501)][s(585)]()),this[s(598)][s(779)]({cmd:W[s(515)],options:e}),this[s(777)]=t,this._clearCloseTimeout(),this[s(508)]=setTimeout((()=>{const t=s;this.decoderWorkerCloseTimeout=null,this[t(623)]||(this[t(501)][t(500)]("decoderWorker",t(739)),this[t(625)]())}),2e3)}else this.player[s(500)](s(598),s(519)),this._destroy(),setTimeout((()=>{t()}),0);else this.player[s(647)](s(598),s(581)),this._destroy(),setTimeout((()=>{t()}),0)}))}[Fc(752)](){return this.destroyLock}[Fc(782)](){return this._isDestroyed}[Fc(625)](){const t=Fc;this[t(507)](),this[t(767)]&&(window[t(703)][t(709)](this[t(767)]),this[t(767)]=null),this[t(506)]&&(clearTimeout(this[t(506)]),this[t(506)]=null),this[t(598)]&&(this[t(598)][t(529)]=null,this[t(598)][t(766)]=null,this[t(598)].onmessage=null,this[t(598)][t(595)](),this[t(598)]=null),this[t(501)][t(647)]("decoderWorker",t(751)),this[t(777)]&&(this[t(777)](),this[t(777)]=null),this[t(575)]=!1,this[t(623)]=!0}_listenPlaybackEvents(){const t=Fc;this[t(501)][t(733)]()&&(this[t(501)][t(647)](this[t(502)],"listenPlaybackEvents"),this[t(501)].on(H[t(611)],(e=>{this[t(732)](e)})))}[Fc(632)](){const t=Fc;this[t(501)],this[t(598)].onerror=e=>{const s=t,i=e[s(570)]||"",r=e[s(740)]||"",n=i&&(-1!==i[s(628)](s(545))||-1!==i.indexOf(s(578))),o=i&&-1!==i[s(628)](s(539)),a=-1!==r[s(628)]("Uncaught ");n&&o&&-1!==r[s(628)](jt[s(710)])?this[s(501)][s(647)](s(598),s(695)+i+s(558)+r,e):(this.player.debugError(s(598),s(602)+this[s(776)]+", and filename: "+i+s(558)+r,e),n?this[s(501)][s(586)](Q[s(624)],s(513)+i+s(558)+r):a?this[s(501)][s(586)](Q[s(735)],s(513)+i+s(558)+r):this[s(501)][s(586)](Q[s(682)],s(513)+i+s(558)+r))},this.decoderWorker[t(766)]=e=>{const s=t;this[s(501)][s(613)](s(598),s(766),e)},this[t(598)][t(714)]=e=>{const s=t,i=e[s(701)];if(!this[s(623)])switch(i[s(629)]){case N[s(548)]:this[s(501)].debugLog("decoderWorker",s(730),N[s(548)]),this[s(598)]&&this[s(784)](),this[s(501)][s(542)](H[s(747)]),this[s(501)].emit(H[s(588)]);break;case N[s(758)]:this[s(501)][s(647)](s(598),s(730),N.videoCode,i.code),!this[s(501)][s(686)][s(726)]&&(this.player[s(686)][s(726)]=is()),this[s(501)][s(781)][s(753)]({encTypeCode:i[s(638)]});break;case N[s(547)]:this.player.debugLog("decoderWorker",s(730),N[s(547)],i[s(531)]),this[s(501)][s(512)]&&this[s(501)].recorder[s(568)](i[s(715)],i[s(531)]),this[s(501)][s(781)][s(753)]({encTypeCode:i[s(531)]});break;case N[s(677)]:this.player[s(647)](s(598),s(730),N[s(677)],i.code),this[s(501)][s(734)]&&this[s(501)][s(734)][s(550)]({encTypeCode:i[s(638)]});break;case N[s(630)]:this[s(501)][s(647)]("decoderWorker",s(730),N[s(630)]),this[s(501)].recorder&&this[s(501)][s(512)][s(522)](i.buffer);break;case N[s(543)]:if(this[s(501)].debugLog(s(598),s(730),N[s(543)],s(655)+i.w+",height:"+i.h),Os(i.w)||Os(i.h))return void this[s(501)][s(586)](Q.videoInfoError,s(553)+i.w+s(608)+i.h+" is empty");if(this.player[s(781)].bindMediaStream(),this[s(501)][s(781)][s(753)]({width:i.w,height:i.h}),!(this[s(501)][s(785)].openWebglAlignment||ci(i.w)||this[s(501)].getCanvasRenderType()!==at[s(504)]&&this[s(501)][s(616)]()!==at[s(778)]))return void this[s(501)][s(586)](Q[s(672)]);this[s(501)][s(781)].initCanvasViewSize(),this.player[s(557)]()?(this[s(501)][s(781)][s(511)](),this.player[s(781)][s(651)]()):this.player[s(656)]();break;case N.initAudio:if(this.player.debugLog(s(598),s(730),N[s(634)],"channels:"+i[s(654)]+s(612)+i[s(674)]),i[s(654)]>2)return void this.player[s(586)](Q[s(707)],s(535)+i[s(654)]+", max is 2");this.player.audio&&(this[s(501)][s(734)][s(550)](i),(this.player[s(785)].playType===p[s(501)]||this[s(501)][s(785)].playType===p.playbackTF||this[s(501)][s(656)]())&&this[s(501)][s(734)][s(697)]());break;case N[s(540)]:if(this[s(501)][s(727)]())return;if(!this[s(501)][s(781)])return void this[s(501)][s(500)](s(598),"onmessage render but video is null");if(this.player[s(590)]()){if(Ri(this[s(501)][s(781)][s(775)]()))return void this[s(501)][s(500)](s(598),"onmessage render but video has not init");this.player[s(781)][s(540)](i),this[s(501)][s(660)](),this[s(501)][s(771)]({dfps:!0,buf:i[s(670)]}),!this[s(501)][s(686)][s(648)]&&(this.player[s(686)].videoStart=is(),this[s(501)].handlePlayToRenderTimes())}else if(this[s(501)][s(557)]())this[s(501)].updateStats({dfps:!0}),Ri(this.player[s(611)])?(this[s(501)][s(637)][s(521)]&&this[s(501)][s(637)][s(718)](),this.player[s(637)][s(633)]?this[s(501)].video[s(769)](i):this[s(501)][s(781)].render$2(i)):this[s(501)].playback[s(584)]()&&this.player[s(637)][s(633)]&&this.player[s(781)].pushData(i);else if(this.player[s(656)]())if(this[s(501)][s(607)].isSeeking()){const t=this.player[s(607)].seekingTimestamp;Math[s(742)](i.ts-t)<500&&(this[s(501)][s(607)][s(676)](),this.player[s(771)]({dfps:!0}),this.player.video[s(720)](i))}else this.player[s(771)]({dfps:!0}),this.player[s(781)][s(720)](i);break;case N.videoNalu:this[s(501)][s(512)]&&this[s(501)].recorder[s(577)]&&this.player._opt[s(691)]===f[s(692)]&&this[s(501)][s(512)][s(527)](i.buffer,i[s(604)],i.ts,i[s(711)]);break;case N[s(646)]:this.player.recorder&&this.player.recorder[s(577)]&&this[s(501)]._opt[s(691)]===f[s(692)]&&this[s(501)].recorder.isWasmMp4()&&this[s(501)][s(512)][s(530)](i.buffer,i.ts);break;case N.videoPayload:const{webcodecsDecoder:t,mseDecoder:e}=this[s(501)];if(this[s(501)][s(771)]({buf:i[s(670)]}),this.player[s(785)][s(669)]&&!this[s(501)][s(785)][s(562)]){const e=new Uint8Array(i[s(601)]);t.decodeVideo(e,i.ts,i.isIFrame,i[s(711)])}else if(this[s(501)]._opt[s(592)]){const t=new Uint8Array(i.payload);e[s(762)](t,i.ts,i[s(604)],i[s(711)])}break;case N[s(741)]:if(this[s(501)][s(785)].useMSE){const t=new Uint8Array(i[s(601)]);this[s(501)][s(786)][s(606)](t,i.ts,i[s(711)])}else if(this[s(501)][s(785)].useWCS&&!this[s(501)]._opt[s(562)]){const t=new Uint8Array(i.payload);this[s(501)][s(640)].decodeAudio(t,i.ts,i.cts)}break;case N[s(744)]:if(this.player[s(727)]())return;if(!this[s(501)][s(734)])return void this.player[s(500)](s(598),"onmessage playAudio but audio is null");if(!this[s(501)][s(785)][s(764)])return void this.player[s(660)]();this[s(501)][s(785)][s(603)]===p[s(501)]?this.player[s(734)][s(537)](i[s(715)],i.ts):this[s(501)][s(785)][s(603)]===p[s(587)]?Ri(this[s(501)].playbackPause)?this[s(501)][s(734)][s(537)](i[s(715)],i.ts):this[s(501)][s(637)][s(584)]()&&this[s(501)].playback[s(633)]&&this[s(501)].audio.play(i[s(715)],i.ts):this[s(501)][s(656)]()&&Ri(this[s(501)][s(536)])&&this[s(501)].audio[s(537)](i.buffer,i.ts);break;case N.workerFetch:if(i.type===H[s(580)])this[s(501)][s(555)]?this[s(501)][s(555)][s(542)](H.streamSuccess):this.player.debugWarn("decoderWorker",s(721));else if(i[s(662)]===H[s(579)])this[s(501)].emit(H[s(552)],(i[s(551)]/1e3)[s(533)](2));else if(i[s(662)]===H[s(643)])this[s(501)]?(i[s(551)]===u[s(565)]&&this[s(501)][s(542)](H[s(564)],i[s(705)]),this[s(501)].emit(H[s(643)],i[s(705)])):this[s(501)].debugWarn(s(598),s(505));else if(i[s(662)]===H[s(698)])this[s(501)].updateStreamEndInner();else if(i.type===Q[s(631)])this[s(501)][s(586)](Q[s(631)],i[s(551)]);else if(i[s(662)]===Q.websocketOpenTimeout)this[s(501)]&&this[s(501)].stream?this[s(501)][s(555)][s(542)](Q[s(708)],i[s(705)]):this.player[s(500)](s(598),s(748));else if(i[s(662)]===Q[s(761)])this[s(501)]&&this.player[s(555)]?this.player[s(555)][s(542)](Q[s(761)],i[s(551)]):this[s(501)][s(500)]("decoderWorker",s(622));else if(i[s(662)]===Q[s(650)])this[s(501)][s(586)](Q[s(761)],i[s(551)]);else if(i[s(662)]===H[s(750)])this[s(501)].updateStats({abps:i[s(551)]});else if(i[s(662)]===H.streamVbps)!this[s(501)][s(686)][s(523)]&&(this[s(501)]._times[s(523)]=is()),this[s(501)].updateStats({vbps:i[s(551)]});else if(i[s(662)]===H[s(728)])this.player[s(771)]({dts:i[s(551)]});else if(i[s(662)]===H.netBuf)this.player.updateStats({netBuf:i.value});else if(i[s(662)]===H[s(738)])this.player.emit(H.networkDelayTimeout,i[s(551)]);else if(i[s(662)]===H[s(671)]){const t=JSON.parse(i[s(551)]);this[s(501)][s(771)]({workerStats:t})}else i[s(662)]===H[s(528)]&&this[s(501)][s(542)](H.websocketOpen);break;case N[s(576)]:this[s(501)]&&(this.player[s(514)]=i.value);break;case N.isDropping:this[s(501)]&&this.player[s(771)]({isDropping:!0});break;case N[s(681)]:this.player[s(636)]();break;case N.playbackStreamVideoFps:this[s(501)]&&this[s(501)][s(781)]&&this.player[s(781)][s(615)](i[s(551)]);break;case N[s(593)]:this[s(501)][s(586)](Q[s(593)],i.value);break;case N.wasmWidthOrHeightChange:this[s(501)].emitError(Q.wasmWidthOrHeightChange,i[s(551)]);break;case N[s(713)]:this.player[s(586)](Q[s(713)]);break;case N[s(763)]:this[s(501)].emitError(Q.simdDecodeDelayTimeout);break;case N[s(563)]:this.player.debugLog(s(598),s(730),N[s(563)]),qi()&&(this[s(501)][s(751)](),console.error(decodeURIComponent(oe)),alert(decodeURIComponent(ne)),window[s(717)][s(770)]());break;case N[s(639)]:this[s(501)][s(647)]("decoderWorker","onmessage:",N[s(639)]),this._destroy();break;case N[s(688)]:this[s(501)]&&this[s(501)][s(642)](i[s(715)]);break;case N[s(700)]:if(this.player){const t=new Uint8Array(i[s(715)]),e=Ye(qe(t),i.isHevc);this[s(501)][s(509)]({ts:i.ts,data:e[s(601)],type:e[s(662)],uuid:e.uuid,size:e[s(724)],originData:t})}break;case N[s(614)]:this.player&&this.player[s(702)](new Uint8Array(i[s(715)]));break;case N[s(731)]:if(this.player){if(this[s(501)][s(667)]()){const t=new Uint8Array(i[s(715)]);this[s(501)][s(512)].addMetaData(t)}const t=xc(new Uint8Array(i[s(715)]));t&&t[s(596)]&&this.player.updateMetaData(t[s(596)])}break;case N.aacSequenceHeader:if(this[s(501)]&&this[s(501)][s(667)]()){const t=new Uint8Array(i[s(715)]);this[s(501)][s(512)].addAACSequenceHeader(t,i.ts)}break;case N.videoSequenceHeader:if(this[s(501)]&&this.player[s(667)]()){const t=new Uint8Array(i[s(715)]);this.player[s(512)][s(694)](t,i.ts)}break;case N.flvBufferData:if(this[s(501)]&&this[s(501)][s(667)]()&&this.player[s(684)]){const t=new Uint8Array(i[s(715)]);i[s(662)]===j[s(781)]?this[s(501)][s(512)][s(653)](t,i.ts):i[s(662)]===j[s(734)]&&this.player[s(512)].addAudio(t,i.ts)}break;case N[s(544)]:this[s(501)]&&(this[s(501)][s(647)](s(598),"onmessage:",N[s(544)]),this.player[s(781)][s(693)][s(517)]=i[s(544)]);break;case N.mseFirstRenderTime:this[s(501)]&&(this[s(501)][s(647)](s(598),s(730),N[s(685)],i.value),this[s(501)]._mseWorkerData.firstRenderTime=Number(i[s(551)]));break;case N[s(723)]:this[s(501)]&&(this.player[s(647)]("decoderWorker",s(730),N.mseError,i[s(551)],i[s(705)]),this[s(501)][s(586)](i[s(551)],i[s(705)]));break;case N[s(746)]:this[s(501)]&&(this[s(501)][s(647)](this.TAG_NAME,s(730),N[s(746)]),this[s(501)][s(586)](Q[s(746)]));break;case N.failedToAsynchronouslyPrepareWasm:this[s(501)]&&(this[s(501)][s(647)](this[s(502)],s(730),N[s(783)]),this.player[s(586)](Q.failedToAsynchronouslyPrepareWasm));break;case N.websocketStringMsg:this[s(501)]&&this[s(501)][s(542)](H[s(554)],i[s(551)]);break;case N[s(678)]:this.player&&(this[s(501)].debugLog(this[s(502)],s(730),N.tsError,i[s(551)],i[s(705)]),this[s(501)][s(586)](i[s(551)],i[s(705)]));break;default:this[s(501)][i[s(629)]]&&this[s(501)][i[s(629)]](i)}}}[Fc(784)](){const t=Fc,e={debug:this.player._opt.debug,debugLevel:this.player[t(785)].debugLevel,debugUuid:this[t(501)]._opt.debugUuid,useOffscreen:this[t(501)]._opt[t(562)],useWCS:this[t(501)][t(785)][t(669)],useMSE:this[t(501)]._opt[t(592)],useWasm:this[t(501)][t(785)].useWasm,videoBuffer:this[t(501)][t(785)][t(675)],videoBufferDelay:this.player[t(785)][t(610)],openWebglAlignment:this[t(501)]._opt[t(620)],playType:this[t(501)][t(785)][t(603)],hasAudio:this[t(501)][t(785)][t(524)],hasVideo:this[t(501)]._opt.hasVideo,playbackRate:1,playVodRate:1,playbackFps:this[t(501)][t(785)][t(704)][t(749)],playbackAutoCalcFps:this[t(501)][t(785)][t(704)][t(621)],playbackForwardMaxRateDecodeIFrame:this.player._opt[t(503)],calcPlaybackForwardMaxRateDecodeIFrame:this[t(501)][t(785)].calcPlaybackForwardMaxRateDecodeIFrame,playbackIsCacheBeforeDecodeForFpsRender:this.player[t(785)][t(704)][t(699)],sampleRate:this[t(501)][t(734)]&&this.player[t(734)].getAudioContextSampleRate()||Zt,audioBufferSize:this[t(501)][t(734)]&&this[t(501)][t(734)][t(757)]()||1024,networkDelay:this.player[t(785)][t(627)],visibility:this[t(501)][t(736)],useSIMD:this[t(501)]._opt[t(605)],useMThreading:this[t(501)]._opt[t(569)],isFFmpegSIMD:this[t(501)]._opt.isFFmpegSIMD,recordType:this[t(501)]._opt[t(691)],checkFirstIFrame:this[t(501)][t(785)][t(681)],isM7sCrypto:this[t(501)][t(785)].isM7sCrypto,isXorCrypto:this[t(501)][t(785)][t(760)],isSm4Crypto:this[t(501)]._opt[t(673)],isSm4CryptoH265V2:this[t(501)][t(785)][t(679)],sm4CryptoKey:this[t(501)]._opt.sm4CryptoKey,isCryptoAudio:this[t(501)][t(785)][t(663)],isFlv:this.player._opt[t(765)],isFmp4:this[t(501)][t(785)][t(510)],isMpeg4:this[t(501)]._opt[t(549)],isTs:this[t(501)]._opt[t(712)],isPs:this[t(501)][t(785)][t(619)],isNakedFlow:this[t(501)][t(785)].isNakedFlow,isHls265:this[t(501)][t(706)](),isEmitSEI:this.player[t(785)].isEmitSEI,isRecordTypeFlv:this[t(501)][t(667)](),isWasmMp4:this.player[t(512)]&&this[t(501)][t(512)][t(641)]()||!1,isChrome:ii(),isFirefox:ys(),supportMSEDecodeHevc:Ps(),isDropSameTimestampGop:this[t(501)][t(785)][t(609)],mseDecodeAudio:this.player[t(785)][t(546)],wcsDecodeAudio:this.player[t(785)][t(780)],nakedFlowH265DemuxUseNew:this[t(501)][t(785)][t(566)],mseDecoderUseWorker:this[t(501)][t(785)][t(722)],mseAutoCleanupMinBackwardDuration:this.player[t(785)][t(618)],mseAutoCleanupMaxBackwardDuration:this[t(501)]._opt[t(768)],mseCorrectTimeDuration:this[t(501)][t(785)].mseCorrectTimeDuration,mseCorrectAudioTimeDuration:this[t(501)][t(785)][t(696)],nakedFlowDemuxUseNew:this.player[t(785)][t(658)],nakedFlowFps:this.player._opt[t(729)],checkStreamEnd:this[t(501)][t(534)](),websocketOpenTimeout:this.player._opt[t(708)],correctionConfigurationProfileIndication:this.player[t(785)][t(520)],correctionConfigurationVersion:this[t(501)][t(785)][t(617)],demuxFlvUseV2:this[t(501)][t(785)].demuxFlvUseV2,wasmSimdFirstFrameDecodeDelayTimeout:this[t(501)]._opt[t(572)],delayFrameChasingPolicy:this[t(501)][t(785)][t(719)],delayFrameAccelerateDecodeMaxNum:this[t(501)][t(785)].delayFrameAccelerateDecodeMaxNum,isEmitTsPrivateData:this[t(501)][t(785)][t(661)]};this[t(598)][t(779)]({cmd:W.init,opt:JSON[t(716)](e)}),this.player[t(785)].cryptoKey&&this[t(501)][t(785)][t(664)].byteLength>0&&this[t(501)][t(785)][t(745)]&&this[t(501)][t(785)][t(745)].byteLength>0&&(this[t(666)]({key:"cryptoKey",value:this[t(501)][t(785)][t(664)]}),this[t(666)]({key:t(745),value:this[t(501)]._opt[t(745)]}))}decodeVideo(t,e,s){const i=Fc;this[i(501)][i(590)]()?this[i(518)](t,e,s):this[i(501)].isPlayback()?this[i(501)][i(683)]()?s&&this[i(518)](t,e,s):this[i(518)](t,e,s):this[i(501)][i(656)]()&&this._decodeVideoNoDelay(t,e,s)}[Fc(756)](t,e,s){const i=Fc,r={type:j[i(781)],ts:Math[i(582)](e,0),isIFrame:s};this.decoderWorker[i(779)]({cmd:W.decode,buffer:t,options:r},[t.buffer])}_decodeVideoNoDelay(t,e,s){const i=Fc;this.player[i(771)]({p2dfps:!0}),this.decoderWorker[i(779)]({cmd:W[i(599)],buffer:t,ts:Math[i(582)](e,0),isIFrame:s},[t[i(715)]])}[Fc(606)](t,e){const s=Fc;this[s(501)].isPlayer()?this[s(680)](t,e):this.player.isPlayback()?this[s(501)][s(683)]()||this[s(680)](t,e):this[s(501)].isPlayVod()&&this[s(680)](t,e)}[Fc(591)](t,e){const s=Fc,i={type:j[s(734)],ts:Math[s(582)](e,0)};this[s(598)][s(779)]({cmd:W[s(668)],buffer:t,options:i},[t[s(715)]])}_decodeAudioNoDelay(t,e){const s=Fc;this[s(598)].postMessage({cmd:W[s(645)],buffer:t,ts:Math[s(582)](e,0)},[t[s(715)]])}[Fc(666)](t){const e=Fc;this[e(598)]&&this[e(598)][e(779)]({cmd:W[e(652)],key:t.key,value:t.value})}workerFetchStream(t){const e=Fc;let s=arguments[e(571)]>1&&void 0!==arguments[1]?arguments[1]:{};const{_opt:i}=this[e(501)];let r=[];s[e(561)]&&(r=s.protocols,delete s.protocols);const n={protocol:i[e(516)],isFlv:i[e(765)],isFmp4:i.isFmp4,isMpeg4:i.isMpeg4,isNakedFlow:i[e(689)],isTs:i[e(712)],isPs:i[e(619)],options:s};this[e(598)][e(779)]({cmd:W.fetchStream,url:t,protocols:r,opt:JSON[e(716)](n)})}clearWorkBuffer(){const t=Fc;let e=arguments[t(571)]>0&&void 0!==arguments[0]&&arguments[0];this[t(598)][t(779)]({cmd:W.clearBuffer,needClear:e})}[Fc(600)](t){const e=Fc;this[e(598)][e(779)]({cmd:W[e(774)],message:t})}updateVideoTimestamp(t){const e=Fc;this.decoderWorker.postMessage({cmd:W[e(754)],message:t})}updatePlaybackIsPause(t){const e=Fc;this[e(598)][e(779)]({cmd:W[e(574)],isPause:t})}updatePlayVodFps(t){const e=Fc;this[e(598)][e(779)]({cmd:W[e(657)],fps:t})}[Fc(636)](){this[Fc(589)]()}[Fc(737)](t){const e=Fc;this.decoderWorker[e(779)]({cmd:W.updateForwardMaxRateDecodeIFrame,rate:t})}[Fc(507)](){const t=Fc;this[t(508)]&&(clearTimeout(this.decoderWorkerCloseTimeout),this[t(508)]=null)}}const jc=Vc;function Vc(t,e){const s=Wc();return(Vc=function(t,e){return s[t-=424]})(t,e)}function Wc(){const t=["_times","52491xKNWFE","audioNalu","videoStart","videoInfoError","handlePlayToRenderTimes","decodeStart",",message: ","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","streamDts"," has loaded,init and decoder is ","seekingTimestamp"," and decoder is not loaded next load it","channels","load decoder error ","playback","indexOf","terminate","_handleSimdDecodeDelayTimeout","_initDemuxWorker","webgl","render$2","isDestroying","http","initAudioAacExtraData","onmessage and workerFetch response stream end but player is null","demuxWorker","decodeAudio","reload","MtDecoderWorker","initVideo","websocketOpenTimeout","154358NwlijQ","isEmitTsPrivateData","increaseLocalTimestamp","getHasInit","_handleNotSupportNewWasm","stream","size","decoder","updateVideoInfo","_handleAudioCode","addAudio","12uAZTwy","cryptoKey","value","visibilityChange","isSm4Crypto","updateVideoTimestamp","byteLength","14rlOZfj","decoder-pro-f-simd-mt.js","isCacheBeforeDecodeForFpsRender"," and decoder is not loaded","updateWorkConfig","videoSequenceHeader","decoderMtWorker","741945azcUsM","init and window decoder name is ","decoderWorkerInit","checkInterval","playType","type","delay","videoBufferDelay","send close but not response and destroy directly","_handleRender","isDestroyedOrClosed","isPlaybackOnlyDecodeIFrame","decoderWorkerCloseTimeout","647128EBmOsC","updateAudioInfo","_clearCloseTimeout","_stopCheckDecoder",", and filename: ","correctionConfigurationProfileIndication","videoIframeIntervalTs","getElementById","_newDecoderWorker","streamSuccess","audio channel is ","websocketStringMsg","delayFrameChasingPolicy","aacSequenceHeader","websocketError","18EHPnBZ","TAG_NAME","isHevc","loadScript init , has not load decoder and next start interval check","isDecoderUseCDN","wasm","sampleRate","_handleSimdH264DecodeVideoWidthIsTooLarge","_handleInit","MtDecoderWorker MtDemuxWorker","checkFirstIFrame","initFps","onmessage render but video is null","fetchError","onmessage and workerFetch response fetch error but stream is null","onmessage:","_destroy","visibility","autoCalcFps","demuxWorkerUrl","_handleInitVideo","filename: ","_startCheckDecoder","videoCode","wasmWidthOrHeightChange","audioCode","videoBuffer","updatePlayVodFps","notSupportNewWasm",",height:","hasVideo","decoderScriptId","onerror and decoder url is ","stream by protocol is ","useWCS","debugError","fSimd","delayFrameAccelerateDecodeMaxNum","width:","_handlePlayAudio","_initWork","video"," and mtType is ","protocols","_handleSimdDecodeError","init and decoder is ","videoNalu","isRecordTypeFlv","_isDestroyed","playbackConfig","cmd","flvBufferData","emitError","kBps","calcPlaybackForwardMaxRateDecodeIFrame","player","Uncaught ","isPlayer","init","isTs","networkDelay","isMpeg4","cts","decoderCheckFirstIFrame","decoderWorkerUncaughtError","recorder","decoderWorkerInitError","isFFmpegSIMD","audioPayload","initAudio","closeEnd","stringify","updateStats","toString","webgl2","has loaded and post message to destroy","codecId","useMSE","message","has loaded but decoderWorker is null and destroy directly","destroy","_opt","key","_initDecoderWorker","getAudioBufferSize","decodeVideo","_handleVideoCodec","render","onmessage","play","nakedFlowFps","playVodPause","debugLevel","pushData","isPlayback","fetchErrorWorker","iframeIntervalTs","updatePlaybackIsPause","workerEnd","isWasmMp4","_handleInitAudio","_handleAudioAACSequenceHeader",'importScripts("',"recording","_listenPlaybackEvents","_decodeVideoNoDelay","workerFetch",", max is ","isPlayVod","sm4CryptoKey","p2dfps","isSeeking","isDropping","initVideoDelay","decoderScript init ,has not load decoder and next start interval check","mtStreamStats","decoderUrl","netBuf","playbackPause","isDropSameTimestampGop","networkDelayTimeout","bound","updateForwardMaxRateDecodeIFrame","isFlv","tsError","workerClearTimeout","simdDecodeError","windiwDecoderName","_handleDecoderInit","streamEnd","isNakedFlow","decoder-pro-simd-mt.js","onerror","channels:","onMetaData","1157008twxouR","simdH264DecodeVideoWidthIsTooLarge","pushTempStream","emit","load","flvScriptData","destroyLock","handleRender","TAG_NAME_DEMUX"," or height ","URL","close","getStreamByProtocol","streamStats","isIFrame","initMetaData","streamVbps",",sampleRate:","initScriptNode","websocket","bind","error","destroyResolve","websocketClose","isXorCrypto","_handleMtStreamStats","playVod","wcsDecodeAudio","buffer","getAudioContextSampleRate","_tempMtStreamStats","playing","isUseHls265","location","isUseFpsRender","parse","postMessage","websocketOpen","clearWorkBuffer","length","playbackTF","tempStream","videoSEI","mseAutoCleanupMinBackwardDuration","_handleVideoCode","demuxFlvUseV2","webglAlignmentError","application/javascript","useOffscreen","payload","playbackIsPause","1656040dSjFSC","isUseLocalCalculateTime","hasAudio","addMetaData","isSm4CryptoH265V2","openWebglAlignment","createObjectURL","isEmitSEI","_decodeAudioNoDelay","msg","audioAACSequenceHeader","mseCorrectAudioTimeDuration","_handleWorkerEnd","videoCodec","_handleWasmWidthOrHeightChange","workerFetchStream","onmessage and workerFetch response websocketOpenTimeout but stream is null","isFmp4","useWasm","getCanvasRenderType","onmessageerror","toFixed","workerUrl","onmessage playAudio but audio is null","audio","useMThreading","clearBuffer","cryptoIV","mtDecoderWorkerInit","mp4","code","isPs","init demux worker and decoder url is ","isDestroyed","mseAutoCleanupMaxBackwardDuration","recordType","updateMetaData","isCheckStreamEnd","debug","debugWarn","bindMediaStream","isM7sCrypto","nakedFlowH265DemuxUseNew","730156voWSiq","script ","streamAbps","isRecording","simdDecodeDelayTimeout","mtDemuxerWorkerInit","isStreamByProtocol","debugLog","mseDecoderUseWorker","filename"];return(Wc=function(){return t})()}!function(t,e){const s=Vc,i=t();for(;;)try{if(201063===-parseInt(s(675))/1+parseInt(s(693))/2*(-parseInt(s(644))/3)+parseInt(s(713))/4+parseInt(s(700))/5*(parseInt(s(686))/6)+-parseInt(s(633))/7+parseInt(s(539))/8*(parseInt(s(728))/9)+-parseInt(s(590))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wc);class Gc{constructor(t){const e=Vc;this[e(459)]=t,this[e(729)]=e(672),this.TAG_NAME_DEMUX=e(737),this[e(699)]=null,this.demuxWorker=null,this.workerUrl=null,this[e(747)]=t[e(485)].decoderHardNotWasm,this.workerClearTimeout=null,this[e(703)]=null,this[e(452)]=!1,this[e(618)]=!1,this[e(638)]=!1,this._tempMtStreamStats=null,this[e(712)]=null,this[e(545)]=!1;let s=t[e(485)][e(682)],i=re[e(733)];s[e(659)](e(694))>-1?i=re[e(440)]:s[e(659)](e(535))>-1&&(i=re.simd);const r="JessibucaProMt"+i+"Decoder";if(this.windiwDecoderName=r,this[e(435)]=r+"Id",this[e(525)]={_handleDecoderInit:this._handleDecoderInit[e(559)](this),_handleVideoCode:this._handleVideoCode[e(559)](this),_handleVideoCodec:this[e(490)].bind(this),_handleAudioCode:this[e(684)][e(559)](this),_handleAudioAACSequenceHeader:this[e(505)][e(559)](this),_handleInitVideo:this[e(424)][e(559)](this),_handleInitAudio:this[e(504)][e(559)](this),_handleRender:this[e(709)][e(559)](this),_handlePlayAudio:this._handlePlayAudio[e(559)](this),_handleSimdH264DecodeVideoWidthIsTooLarge:this[e(735)][e(559)](this),_handleWasmWidthOrHeightChange:this._handleWasmWidthOrHeightChange[e(559)](this),_handleSimdDecodeError:this[e(448)][e(559)](this),_handleWorkerEnd:this._handleWorkerEnd[e(559)](this),_handleNotSupportNewWasm:this._handleNotSupportNewWasm[e(559)](this),_handleMtStreamStats:this[e(564)][e(559)](this),_handleSimdDecodeDelayTimeout:this[e(661)].bind(this)},this[e(459)][e(640)](this.TAG_NAME,"init and decoder window name is "+r+" and decoderScriptId is "+this.decoderScriptId),r in window)this._newDecoderWorker(),this[e(459)][e(640)](this.TAG_NAME,e(449)+s+e(446)+i+" and decoder is loaded");else{document[e(720)](this[e(435)])?(this.player[e(640)](this.TAG_NAME,e(634)+this.decoderScriptId+e(653)+s+" and mtType is "+i+e(696)),r in window?this[e(721)]():(this.player[e(640)](this.TAG_NAME,e(518)),this._startCheckDecoder())):(this[e(459)][e(640)](this.TAG_NAME,e(449)+s+e(446)+i+e(655)),(n=s,o=this.decoderScriptId,new Promise(((t,e)=>{const s=_s,i=document.createElement(s(324));if(i.type=s(495),i.src=n,i[s(546)]=t,i[s(407)]=e,o){i.id=o;const t=document[s(220)](o);t&&document[s(212)].removeChild(t)}document.body.appendChild(i)}))).then((()=>{const t=e;r in window?this._newDecoderWorker():(this.player[t(640)](this[t(729)],t(731)),this[t(426)]())})).catch((t=>{const s=e;this.player[s(439)](this[s(729)],s(657)+t,t),this[s(459)][s(456)](Q[s(470)],t[s(477)]())})))}var n,o;this[e(508)]()}[jc(484)](){return new Promise(((t,e)=>{const s=Vc;if(this[s(545)]=!0,this[s(459)].loaded)if(this[s(459)][s(640)](this[s(729)],s(479)),this[s(669)]){const e={};this[s(669)][s(575)]({cmd:W[s(550)],options:e}),this[s(561)]=t,this[s(715)](),this[s(712)]=setTimeout((()=>{const t=s;this.decoderWorkerCloseTimeout=null,this[t(452)]||(this[t(459)][t(629)](this[t(729)],t(708)),this[t(744)]())}),2e3)}else this[s(459)][s(629)](this.TAG_NAME,s(483)),this[s(744)](),setTimeout((()=>{t()}),0);else this[s(459)][s(640)](this.TAG_NAME,"has not loaded and destroy directly"),this[s(744)](),setTimeout((()=>{t()}),0)}))}[jc(744)](){const t=jc;this[t(716)](),this[t(612)]&&(window[t(549)].revokeObjectURL(this[t(612)]),this[t(612)]=null),this.workerClearTimeout&&(clearTimeout(this[t(529)]),this[t(529)]=null),this[t(699)]&&(this[t(699)][t(484)](),this[t(699)]=null),this[t(669)]&&(this.demuxWorker.onerror=null,this[t(669)][t(610)]=null,this[t(669)].onmessage=null,this[t(669)][t(660)](),this[t(669)]=null),this[t(531)]=null,this[t(435)]=null,this._tempMtStreamStats=null,this[t(525)]=null,this[t(459)][t(640)](this[t(729)],"destroyed"),this[t(561)]&&(this[t(561)](),this[t(561)]=null),this.destroyLock=!1,this[t(452)]=!0}[jc(715)](){const t=jc;this[t(712)]&&(clearTimeout(this[t(712)]),this[t(712)]=null)}[jc(721)](){const t=jc;this[t(699)]=new window[this.windiwDecoderName](this[t(459)],{sampleRate:this[t(459)][t(614)]&&this[t(459)][t(614)][t(568)]()||Zt,audioBufferSize:this[t(459)][t(614)]&&this[t(459)][t(614)][t(488)]()||1024}),this[t(487)](),this[t(459)][t(639)]()?(this[t(459)][t(640)](this[t(729)],t(437)+this[t(459)][t(551)]()+", not init demux worker"),this[t(638)]=!0):this[t(662)]()}[jc(426)](){this.checkInterval=setInterval((()=>{const t=Vc;this[t(531)]in window&&(this.player[t(640)](this[t(729)],t(701)+this[t(531)]+" and decoder is loaded"),this[t(716)](),this._newDecoderWorker())}),200)}[jc(716)](){const t=jc;this[t(703)]&&(clearInterval(this[t(703)]),this[t(703)]=null)}[jc(665)](){return!1}[jc(623)](){return this._isDestroyed}[jc(508)](){const t=jc;this[t(459)].isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender()&&(this[t(459)].debugLog(this[t(729)],"listenPlaybackEvents"),this[t(459)].on(H[t(522)],(e=>{this[t(501)](e)})))}_initDecoderWorker(){const t=jc;this[t(699)].on(N[t(462)],this[t(525)][t(532)]),this.decoderMtWorker.on(N[t(427)],this[t(525)][t(583)]),this[t(699)].on(N[t(603)],this.bound._handleVideoCodec),this.decoderMtWorker.on(N[t(429)],this[t(525)][t(684)]),this[t(699)].on(N[t(600)],this[t(525)][t(505)]),this[t(699)].on(N[t(673)],this.bound[t(424)]),this.decoderMtWorker.on(N[t(473)],this[t(525)][t(504)]),this[t(699)].on(N.render,this[t(525)][t(709)]),this[t(699)].on(N.playAudio,this[t(525)]._handlePlayAudio),this[t(699)].on(N[t(540)],this[t(525)][t(735)]),this[t(699)].on(N[t(428)],this[t(525)]._handleWasmWidthOrHeightChange),this.decoderMtWorker.on(N[t(530)],this[t(525)]._handleSimdDecodeError),this[t(699)].on(N[t(502)],this.bound[t(602)]),this[t(699)].on(N.notSupportNewWasm,this[t(525)][t(679)]),this.decoderMtWorker.on(N[t(519)],this[t(525)]._handleMtStreamStats),this[t(699)].on(N[t(637)],this[t(525)]._handleSimdDecodeDelayTimeout)}_initDemuxWorker(){const t=jc;let e=this.demuxWorkerUrl;if(0===e.indexOf(t(666))&&this[t(459)][t(485)][t(732)]){const s=new Blob([t(506)+e+'")'],{type:t(586)});e=window[t(549)][t(596)](s),this[t(612)]=e,this[t(529)]=setTimeout((()=>{const e=t;window[e(549)].revokeObjectURL(this[e(612)]),this[e(612)]=null,this[e(529)]=null}),P)}this[t(669)]=new Worker(e),this.player[t(640)](this.TAG_NAME,t(622)+this[t(747)]),this[t(459)].on(H[t(689)],(()=>{const e=t;this.updateWorkConfig({key:e(745),value:this[e(459)][e(745)]})})),this[t(669)][t(536)]=e=>{const s=t,i=e[s(642)]||"",r=e[s(482)]||"",n=-1!==r[s(659)](s(460));this[s(459)][s(439)](this[s(547)],s(436)+this[s(520)]+s(717)+i+s(650)+r,e),n?this[s(459)][s(456)](Q[s(468)],s(425)+i+s(650)+r):this.player.emitError(Q[s(470)],"filename: "+i+",message: "+r)},this.demuxWorker[t(610)]=e=>{const s=t;this[s(459)].debugError(this[s(547)],s(610),e)},this[t(669)][t(492)]=e=>{const s=t,i=e.data;if(!this._isDestroyed)switch(i[s(454)]){case N.init:this[s(459)].debugLog(this[s(547)],s(743),N[s(462)]),this[s(669)]&&this[s(444)](),this[s(638)]=!0,this[s(736)]();break;case N[s(450)]:this[s(459)][s(469)]&&this[s(459)][s(469)][s(636)]&&this.player[s(485)][s(625)]===f[s(619)]&&this.player[s(469)].handleAddNaluTrack(i.buffer,i[s(553)],i.ts,i[s(466)]);break;case N[s(645)]:this[s(459)][s(469)]&&this[s(459)][s(469)].isRecording&&this.player[s(485)][s(625)]===f[s(619)]&&this.player[s(469)][s(503)]()&&this[s(459)][s(469)].handleAddAudioTrack(i[s(567)],i.ts);break;case N.videoPayload:this[s(459)][s(476)]({buf:i[s(706)]}),this[s(489)](new Uint8Array(i[s(588)]),i.ts,i.isIFrame,i[s(466)]);break;case N[s(472)]:this[s(670)](new Uint8Array(i[s(588)]),i.ts);break;case N[s(510)]:if(i[s(705)]===H[s(722)])this[s(459)][s(680)]?this[s(459)].stream[s(542)](H[s(722)]):this[s(459)].debugWarn(this[s(547)],"onmessage and workerFetch response stream success but stream is null");else if(i[s(705)]===H.streamRate)this.player[s(542)](H[s(457)],(i[s(688)]/1e3)[s(611)](2));else if(i[s(705)]===H[s(533)])this.player?(i[s(688)]===u[s(558)]&&this[s(459)][s(542)](H[s(562)],i[s(599)]),this[s(459)].emit(H[s(533)],i[s(599)])):this[s(459)][s(629)](this[s(547)],s(668));else if(i.type===H.streamEndInner)this[s(459)].updateStreamEndInner();else if(i[s(705)]===Q[s(727)])this[s(459)][s(456)](Q[s(727)],i[s(688)]);else if(i[s(705)]===Q[s(674)])this[s(459)]&&this[s(459)][s(680)]?this.player[s(680)][s(542)](Q[s(674)],i[s(599)]):this[s(459)].debugWarn(this[s(547)],s(606));else if(i[s(705)]===Q[s(741)])this.player&&this[s(459)].stream?this[s(459)][s(680)][s(542)](Q[s(741)],i[s(688)]):this[s(459)].debugWarn(this[s(547)],s(742));else if(i[s(705)]===Q[s(499)])this[s(459)][s(456)](Q[s(741)],i.value);else if(i.type===H[s(635)])this[s(459)][s(476)]({abps:i[s(688)]});else if(i[s(705)]===H[s(555)])!this.player[s(643)].demuxStart&&(this[s(459)][s(643)].demuxStart=is()),this[s(459)].updateStats({vbps:i[s(688)]});else if(i[s(705)]===H[s(652)])this[s(459)].updateStats({dts:i[s(688)]});else if(i[s(705)]===H[s(521)])this[s(459)][s(476)]({netBuf:i.value});else if(i[s(705)]===H[s(524)])this[s(459)].emit(H[s(524)],i.value);else if(i[s(705)]===H[s(552)]){let t=JSON[s(574)](i[s(688)]);this[s(569)]&&(t[s(514)]=null,t=Object.assign(t,this[s(569)])),this[s(459)][s(476)]({workerStats:t})}else i[s(705)]===H[s(576)]&&this[s(459)].emit(H[s(576)]);break;case N[s(500)]:this[s(459)]&&(this.player[s(719)]=i[s(688)]);break;case N[s(516)]:this[s(459)]&&this[s(459)][s(476)]({isDropping:!0});break;case N[s(738)]:this[s(459)][s(467)]();break;case N.playbackStreamVideoFps:this.player&&this.player[s(445)]&&this[s(459)].video.setStreamFps(i[s(688)]);break;case N.workerEnd:this[s(459)][s(640)](this[s(547)],s(743),N[s(502)]),qi()&&(this[s(459)][s(484)](),console[s(560)](decodeURIComponent(oe)),alert(decodeURIComponent(ne)),window[s(572)][s(671)]());break;case N.closeEnd:this.player[s(640)](this[s(547)],"onmessage:",N[s(474)]),this[s(744)]();break;case N[s(580)]:this[s(459)]&&this[s(459)][s(541)](i[s(567)]);break;case N[s(581)]:if(this[s(459)]){const t=new Uint8Array(i[s(567)]),e=Ye(qe(t),i[s(730)]);this[s(459)].emitVideoSei({ts:i.ts,data:e.payload,type:e[s(705)],uuid:e.uuid,size:e[s(681)],originData:t})}break;case N.tsPrivateData:this[s(459)]&&this[s(459)].emitTsPrivateData(new Uint8Array(i.buffer));break;case N[s(544)]:if(this[s(459)]){if(this[s(459)].isRecordTypeFlv()){const t=new Uint8Array(i[s(567)]);this.player.recorder[s(593)](t)}const t=xc(new Uint8Array(i.buffer));t&&t[s(538)]&&this[s(459)][s(626)](t[s(538)])}break;case N[s(726)]:if(this[s(459)]&&this.player[s(451)]()){const t=new Uint8Array(i.buffer);this[s(459)].recorder.addAACSequenceHeader(t,i.ts)}break;case N[s(698)]:if(this[s(459)]&&this.player[s(451)]()){const t=new Uint8Array(i[s(567)]);this[s(459)][s(469)].addVideoSequenceHeader(t,i.ts)}break;case N[s(455)]:if(this[s(459)]&&this[s(459)].isRecordTypeFlv()&&this[s(459)][s(507)]){const t=new Uint8Array(i.buffer);i[s(705)]===j.video?this[s(459)][s(469)].addVideo(t,i.ts):i[s(705)]===j[s(614)]&&this[s(459)][s(469)][s(685)](t,i.ts)}break;case N.websocketStringMsg:this.player&&this[s(459)][s(542)](H[s(724)],i[s(688)]);break;case N.tsError:this[s(459)]&&(this[s(459)][s(640)](this.TAG_NAME_DEMUX,s(743),N[s(528)],i[s(688)],i[s(599)]),this.player[s(456)](i[s(688)],i[s(599)]));break;default:this.player[i[s(454)]]&&this.player[i.cmd](i)}}}[jc(489)](t,e,s){const i=jc;i(578),this[i(459)].isPlayer()?this[i(509)](t,e,s):this[i(459)][i(498)]()?this.player[i(711)]()?s&&this[i(509)](t,e,s):this[i(509)](t,e,s):this[i(459)][i(512)]()&&this[i(509)](t,e,s)}[jc(509)](t,e,s){const i=jc;this[i(459)][i(476)]({p2dfps:!0}),this[i(699)][i(489)](t,e,s)}[jc(670)](t,e){const s=jc;this[s(459)][s(461)]()?this._decodeAudioNoDelay(t,e):this.player[s(498)]()?this[s(459)].isPlaybackOnlyDecodeIFrame()||this._decodeAudioNoDelay(t,e):this[s(459)][s(512)]()&&this[s(598)](t,e)}[jc(598)](t,e){this.decoderMtWorker.decodeAudio(t,e)}clearWorkBuffer(){const t=jc;Di(this[t(459)]._opt[t(738)])&&this[t(699)][t(616)]()}[jc(691)](){}[jc(431)](){}[jc(467)](){this[jc(577)]()}[jc(526)](){}[jc(736)](){const t=jc;this[t(618)]&&this[t(638)]&&(this[t(459)][t(542)](H[t(702)]),this[t(459)].emit(H[t(543)]))}[jc(532)](){const t=jc;this[t(452)]||(this[t(459)][t(640)](this[t(729)],"onmessage:",N[t(462)]),this[t(618)]=!0,this[t(736)]())}_handleVideoCode(t){const e=jc;this._isDestroyed||(this[e(459)][e(640)](this[e(729)],e(743),N[e(427)],t.code),!this.player[e(643)][e(649)]&&(this[e(459)][e(643)][e(649)]=is()),this[e(459)][e(445)][e(683)]({encTypeCode:t[e(620)]}))}[jc(490)](t){const e=jc;this[e(452)]||(this[e(459)][e(640)](this[e(729)],e(743),N.videoCodec,t.codecId),this.player[e(469)]&&this[e(459)][e(469)][e(554)](t[e(567)],t[e(480)]),this[e(459)][e(445)][e(683)]({encTypeCode:t[e(480)]}))}_handleAudioCode(t){const e=jc;this._isDestroyed||(this.player[e(640)](this.TAG_NAME,"onmessage:",N[e(429)],t[e(620)]),this[e(459)][e(614)]&&this[e(459)][e(614)][e(714)]({encTypeCode:t.code}))}[jc(505)](t){const e=jc;this[e(452)]||(this[e(459)].debugLog(this[e(729)],"onmessage:",N[e(600)]),this.player.recorder&&this.player[e(469)][e(667)](t[e(567)]))}[jc(424)](t){const e=jc;this[e(452)]||(this[e(459)][e(640)](this[e(729)],e(743),N[e(673)],e(442)+t.w+e(433)+t.h),Os(t.w)||Os(t.h)?this[e(459)][e(456)](Q[e(647)],"video width "+t.w+e(548)+t.h+" is empty"):(this[e(459)][e(445)][e(630)](),this[e(459)][e(445)][e(683)]({width:t.w,height:t.h}),this.player[e(485)][e(595)]||ci(t.w)||this.player[e(609)]()!==at[e(663)]&&this[e(459)][e(609)]()!==at[e(478)]?(this[e(459)][e(445)].initCanvasViewSize(),this[e(459)][e(498)]()?(this.player.video[e(739)](),this[e(459)][e(445)][e(517)]()):this[e(459)].isPlayVod()&&(this.player[e(445)][e(739)](),this.player.video.initVideoDelay())):this[e(459)][e(456)](Q[e(585)])))}[jc(504)](t){const e=jc;this._isDestroyed||(this[e(459)][e(640)](this[e(729)],"onmessage:",N[e(473)],e(537)+t[e(656)]+e(556)+t[e(734)]),t[e(656)]>2?this[e(459)].emitError(Q.audioChannelError,e(723)+t[e(656)]+e(511)+2):this.player[e(614)]&&(this[e(459)][e(614)].updateAudioInfo(t),(this[e(459)][e(485)].playType===p[e(459)]||this.player[e(485)][e(704)]===p[e(579)]||this[e(459)][e(512)]())&&this[e(459)][e(614)][e(557)]()))}[jc(709)](t){const e=jc;if(!this._isDestroyed&&!this[e(459)][e(710)]())if(this[e(459)].video){if(this[e(459)][e(461)]()){if(Ri(this.player.video[e(678)]()))return void this[e(459)][e(629)](this[e(729)],"onmessage render but video has not init");this.player[e(445)][e(491)](t),this[e(459)][e(546)](),this.player.updateStats({dfps:!0}),!this.player[e(643)][e(646)]&&(this[e(459)][e(643)][e(646)]=is(),this.player[e(648)]())}else if(this[e(459)][e(498)]())this[e(459)][e(476)]({dfps:!0}),Ri(this[e(459)][e(522)])?(this[e(459)][e(658)][e(591)]&&this.player.playback[e(677)](),this[e(459)].playback[e(573)]?this[e(459)].video[e(497)](t):this[e(459)][e(445)][e(664)](t)):this[e(459)][e(658)][e(651)]()&&this.player[e(658)][e(573)]&&this[e(459)].video.pushData(t);else if(this[e(459)][e(512)]())if(this[e(459)][e(565)][e(515)]()){const s=this[e(459)].playVod[e(654)];Math.abs(t.ts-s)<500&&(this[e(459)][e(565)].removeSeekingTimestamp(),this.player[e(476)]({dfps:!0}),this.player[e(445)][e(664)](t))}else this[e(459)][e(476)]({dfps:!0}),this[e(459)][e(445)][e(664)](t)}else this[e(459)][e(629)](this.TAG_NAME,e(740))}[jc(443)](t){const e=jc;if(!this[e(452)]&&!this[e(459)][e(710)]())if(this[e(459)][e(614)]){if(this.player[e(570)]&&this[e(459)][e(614)]||!this[e(459)][e(445)])if(!this[e(459)]._opt[e(434)]&&this[e(459)].handleRender(),this[e(459)][e(485)].playType===p[e(459)])this.player[e(614)][e(493)](t[e(567)],t.ts);else if(this[e(459)]._opt[e(704)]===p.playbackTF)Ri(this[e(459)][e(522)])?this.player[e(614)][e(493)](t[e(567)],t.ts):this[e(459)].playback[e(651)]()&&this[e(459)].playback.isUseFpsRender&&this[e(459)][e(614)].play(t[e(567)],t.ts);else if(this[e(459)][e(512)]()&&Ri(this[e(459)][e(495)])){if(this.player[e(565)].isSeeking())return;this.player.audio.play(t[e(567)],t.ts)}}else this[e(459)][e(629)](this[e(729)],e(613))}[jc(735)](t){const e=jc;this._isDestroyed||this[e(459)].emitError(Q.simdH264DecodeVideoWidthIsTooLarge,t)}[jc(604)](t){const e=jc;this[e(452)]||this.player[e(456)](Q[e(428)],t)}[jc(448)](){const t=jc;this._isDestroyed||this[t(459)][t(456)](Q[t(530)])}_handleWorkerEnd(){const t=jc;this[t(452)]||(this[t(459)].debugLog(this[t(729)],t(743),N.workerEnd),qi()&&(this[t(459)][t(484)](),console.error(decodeURIComponent(oe)),alert(decodeURIComponent(ne)),window[t(572)][t(671)]()))}[jc(679)](t){const e=jc;this._isDestroyed||(this.player[e(640)](this[e(729)],e(743),N[e(432)]),this[e(459)].emitError(Q[e(432)]))}[jc(564)](t){const e=jc;this._isDestroyed||(this[e(569)]=t)}[jc(661)](){const t=jc;this._isDestroyed||this.player.emitError(Q[t(637)])}[jc(444)](){const t=jc,e={debug:this[t(459)]._opt[t(628)],debugLevel:this[t(459)][t(485)][t(496)],debugUuid:this[t(459)][t(485)].debugUuid,useOffscreen:this[t(459)][t(485)][t(587)],useWasm:this[t(459)][t(485)][t(608)],useWCS:this[t(459)][t(485)][t(438)],useMSE:this[t(459)][t(485)][t(481)],videoBuffer:this[t(459)][t(485)][t(430)],videoBufferDelay:this[t(459)][t(485)][t(707)],openWebglAlignment:this[t(459)][t(485)][t(595)],playType:this[t(459)][t(485)][t(704)],hasAudio:this[t(459)][t(485)][t(592)],hasVideo:this[t(459)][t(485)].hasVideo,playbackRate:1,playVodRate:1,playbackFps:this[t(459)][t(485)].playbackConfig.fps,playbackAutoCalcFps:this[t(459)][t(485)][t(453)][t(746)],playbackForwardMaxRateDecodeIFrame:this[t(459)][t(485)].playbackForwardMaxRateDecodeIFrame,calcPlaybackForwardMaxRateDecodeIFrame:this[t(459)][t(485)][t(458)],playbackIsCacheBeforeDecodeForFpsRender:this[t(459)][t(485)][t(453)][t(695)],sampleRate:this[t(459)][t(614)]&&this[t(459)].audio[t(568)]()||Zt,audioBufferSize:this[t(459)].audio&&this[t(459)][t(614)][t(488)]()||1024,networkDelay:this[t(459)][t(485)][t(464)],visibility:this[t(459)][t(745)],useSIMD:this[t(459)][t(485)].useSIMD,useMThreading:this.player[t(485)][t(615)],isFFmpegSIMD:this[t(459)][t(485)][t(471)],recordType:this.player[t(485)][t(625)],checkFirstIFrame:this[t(459)][t(485)][t(738)],isM7sCrypto:this.player[t(485)][t(631)],isXorCrypto:this[t(459)][t(485)][t(563)],isSm4Crypto:this[t(459)][t(485)][t(690)],isSm4CryptoH265V2:this.player[t(485)][t(594)],sm4CryptoKey:this[t(459)][t(485)][t(513)],isCryptoAudio:this[t(459)][t(485)].isCryptoAudio,isFlv:this[t(459)]._opt.isFlv,isFmp4:this[t(459)][t(485)][t(607)],isMpeg4:this[t(459)][t(485)][t(465)],isTs:this[t(459)]._opt[t(463)],isPs:this[t(459)][t(485)][t(621)],isNakedFlow:this[t(459)]._opt[t(534)],isHls265:this[t(459)][t(571)](),isEmitSEI:this[t(459)][t(485)][t(597)],isRecordTypeFlv:this.player[t(451)](),isWasmMp4:this[t(459)][t(469)]&&this.player[t(469)][t(503)]()||!1,isChrome:ii(),isFirefox:ys(),supportMSEDecodeHevc:Ps(),isDropSameTimestampGop:this[t(459)][t(485)][t(523)],mseDecodeAudio:this[t(459)][t(485)].mseDecodeAudio,wcsDecodeAudio:this[t(459)][t(485)][t(566)],nakedFlowH265DemuxUseNew:this.player[t(485)][t(632)],mseDecoderUseWorker:this[t(459)][t(485)][t(641)],mseAutoCleanupMinBackwardDuration:this[t(459)][t(485)][t(582)],mseAutoCleanupMaxBackwardDuration:this.player._opt[t(624)],mseCorrectTimeDuration:this[t(459)][t(485)].mseCorrectTimeDuration,mseCorrectAudioTimeDuration:this[t(459)][t(485)][t(601)],nakedFlowDemuxUseNew:this.player[t(485)].nakedFlowDemuxUseNew,nakedFlowFps:this.player[t(485)][t(494)],checkStreamEnd:this[t(459)][t(627)](),websocketOpenTimeout:this[t(459)]._opt.websocketOpenTimeout,correctionConfigurationProfileIndication:this[t(459)][t(485)][t(718)],correctionConfigurationLevelIndication:this.player[t(485)].correctionConfigurationLevelIndication,demuxFlvUseV2:this[t(459)][t(485)][t(584)],wasmSimdFirstFrameDecodeDelayTimeout:this[t(459)][t(485)].wasmSimdFirstFrameDecodeDelayTimeout,delayFrameChasingPolicy:this[t(459)][t(485)][t(725)],delayFrameAccelerateDecodeMaxNum:this[t(459)][t(485)][t(441)],isEmitTsPrivateData:this[t(459)][t(485)][t(676)]};this[t(669)][t(575)]({cmd:W.init,opt:JSON[t(475)](e)}),this[t(459)][t(485)].cryptoKey&&this[t(459)][t(485)][t(687)].byteLength>0&&this[t(459)]._opt.cryptoIV&&this[t(459)][t(485)].cryptoIV[t(692)]>0&&(this[t(697)]({key:"cryptoKey",value:this[t(459)][t(485)][t(687)]}),this[t(697)]({key:"cryptoIV",value:this[t(459)][t(485)][t(617)]}))}updateWorkConfig(t){const e=jc;this[e(669)]&&this[e(669)][e(575)]({cmd:W.updateConfig,key:t[e(486)],value:t.value})}workerSendMessage(t){const e=jc;this[e(669)][e(575)]({cmd:W.sendWsMessage,message:t})}[jc(605)](t){const e=jc;let s=arguments[e(578)]>1&&void 0!==arguments[1]?arguments[1]:{};const{_opt:i}=this[e(459)];let r=[];s[e(447)]&&(r=s[e(447)],delete s[e(447)]);const n={protocol:i.protocol,isFlv:i[e(527)],isFmp4:i.isFmp4,isMpeg4:i[e(465)],isNakedFlow:i[e(534)],isTs:i.isTs,isPs:i.isPs,options:s};this[e(669)].postMessage({cmd:W.fetchStream,url:t,protocols:r,opt:JSON[e(475)](n)})}[jc(501)](t){const e=jc;this[e(669)][e(575)]({cmd:W[e(589)],isPause:t})}}var zc=Hc;function Hc(t,e){var s=Kc();return(Hc=function(t,e){return s[t-=301]})(t,e)}function Kc(){var t=["replace","split","Content-Type","application/json, text/javascript","responseText","protocol","2WzHjhu","callback","test","text/plain","username","object","ajaxSetup","beforeSend","contentType","reject","success","parse","concat","headers","document","context","3872932tskYHp","function","mimeType","type","firstChild","resolve","promise","X-Requested-With","ifModified","40148JDXTJh","parentNode","html","jsonpCallback","accepts","getResponseHeader","GET","json","clearAttributes","head","length","scriptCharset","$1_=","timeout","18PXrnXU","parseerror","jsonp","1613660SaHPzo","insertBefore","1800811fdZPVg","indexOf","getElementsByTagName","onerror","hasOwnProperty","processData","url","[object Array]","setTimeout","data","7976312xxqdqW","name","open","clearTimeout","setRequestHeader","complete","xhrFields","application/x-www-form-urlencoded; charset=UTF-8","%20","cache","toLowerCase","POST","join","toString","call","onreadystatechange","1317333uefWqp","charset","Accept","status","getTime","get","location","Last-Modified","etag","slice","href","45QTEwvJ","script","If-Modified-Since","removeChild","text/html","abort","async","src","XMLHttpRequest","content-type","xml","application/xml, text/xml","exec","crossDomain","toUpperCase","xhr","responseXML","push","getAllResponseHeaders","error","overrideMimeType","25BINlJC","64012564wwdXXl","If-None-Match"];return(Kc=function(){return t})()}!function(t,e){for(var s=Hc,i=t();;)try{if(943742===-parseInt(s(324))/1+-parseInt(s(391))/2*(-parseInt(s(350))/3)+parseInt(s(305))/4*(-parseInt(s(382))/5)+-parseInt(s(319))/6*(parseInt(s(407))/7)+-parseInt(s(334))/8+-parseInt(s(361))/9*(parseInt(s(322))/10)+parseInt(s(383))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Kc);var qc,Qc=zc(388),Yc=zc(365),Jc=/^(?:text|application)\/xml/i,Xc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$c=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Zc=/^\s*$/,td={},ed={},sd="",id={type:"GET",beforeSend:rd,success:rd,error:rd,complete:rd,context:null,xhr:function(){return new(window[zc(369)])},accepts:{json:Qc,xml:zc(372),html:Yc,text:zc(394),"*":"*/"[zc(403)]("*")},crossDomain:!1,timeout:0,username:null,password:null,processData:!0,promise:rd,contentType:zc(341)};function rd(){}var nd=function(t,e){var s=zc;typeof t===s(396)&&(e=t,t=void 0);var i=pd({},e=e||{});for(var r in id)void 0===i[r]&&(i[r]=id[r]);try{var n={},o=new Promise((function(t,e){var i=s;n[i(301)]=t,n[i(400)]=e}));o[s(301)]=n.resolve,o[s(400)]=n[s(400)],i[s(302)]=o}catch(t){i[s(302)]={resolve:rd,reject:rd}}var a=$c[s(373)](window[s(356)][s(360)][s(344)]())||[];i[s(330)]=((t||i[s(330)]||window[s(356)][s(360)])+"")[s(385)](/#.*$/,"")[s(385)](/^\/\//,a[1]+"//");var h=i[s(330)];!i.crossDomain&&(i[s(374)]=/^([\w-]+:)?\/\/([^\/]+)/.test(i[s(330)])&&RegExp.$2!==window[s(356)][s(360)]);var l=i.dataType;if(l===s(321)){if(!/=\?/[s(393)](i[s(330)])){var c=(i.jsonp||s(392))+"=?";i.url=cd(i[s(330)],c)}return function(t){var e,s=zc,i=t[s(308)]||"jsonp"+gd(),r=window[s(405)].createElement(s(362)),n={abort:function(){i in window&&(window[i]=null)}},o=window.document[s(326)](s(314))[0]||window[s(405)].documentElement;function a(i){var r=s;window[r(337)](e),n[r(366)](),hd(i[r(410)],n,i[r(410)],t),h()}function h(){var t=s;r[t(313)]?r[t(313)]():r.onload=r[t(349)]=r.onerror=null,r[t(306)]&&r[t(306)][t(364)](r),r=null,delete window[i]}return r[s(327)]=function(t){a(t)},window[i]=function(i){window[s(337)](e),od(i,n,t),h()},dd(t),r.src=t[s(330)].replace(/=\?/,"="+i),r[s(368)]=cd(r[s(368)],"_="+(new Date)[s(354)]()),r[s(367)]=!0,t[s(316)]&&(r[s(351)]=t[s(316)]),o[s(323)](r,o[s(411)]),t[s(318)]>0&&(e=window[s(332)]((function(){var e=s;n[e(366)](),hd("timeout",n,e(318),t),h()}),t.timeout)),t[s(302)].abort=function(){n.abort()},t[s(302)][s(376)]=n,t[s(302)]}(i)}dd(i);var d=i[s(309)][l]||i[s(309)]["*"],u={};/^([\w-]+:)\/\//[s(393)](i[s(330)])?RegExp.$1:window[s(356)][s(390)];var p,f=id[s(376)]();!i[s(374)]&&!u[s(303)]&&(u[s(303)]="XMLHttpRequest"),i.ifModified&&(td[h]&&(u[s(363)]=td[h]),ed[h]&&(u[s(384)]=ed[h])),d&&(u[s(352)]=d,d[s(325)](",")>-1&&(d=d[s(386)](",",2)[0]),f[s(381)]&&f[s(381)](d));var m=!/^(?:GET|HEAD)$/[s(393)](i.type[s(375)]());if((i.data&&m&&!1!==i[s(399)]||e[s(399)])&&(u[s(387)]=i[s(399)]),!1===i[s(343)]&&!m){var g=/([?&])_=[^&]*/;i[s(330)]=g[s(393)](h)?h[s(385)](g,s(317)+gd()):h+(/\?/[s(393)](h)?"&":"?")+"_="+gd()}i[s(404)]=pd(u,i.headers||{}),f.onreadystatechange=function(){var t,e,r=s;if(4===f.readyState){clearTimeout(p);var n,o=!1;if(f[r(353)]>=200&&f[r(353)]<300||304===f[r(353)]){if(sd=f[r(379)](),i[r(304)]){var a=ld(r(357));a&&(td[h]=a),(a=ld(r(358)))&&(ed[h]=a)}l=l||(t=f[r(310)](r(370)),e=zc,t&&(t===Yc?e(307):t===Qc?e(312):Jc[e(393)](t)&&e(371))||"text"),n=f[r(389)];try{"xml"===l?n=f[r(377)]:"json"===l&&(n=Zc[r(393)](n)?null:JSON[r(402)](n))}catch(t){o=t}o?hd(o,r(320),f,i):od(n,f,i)}else hd(null,r(380),f,i)}};var y=!(s(367)in i)||i.async;if(f[s(336)](i[s(410)],i[s(330)],y,i[s(395)],i.password),i[s(340)])for(var A in i[s(340)])f[A]=i[s(340)][A];for(var A in i[s(409)]&&f[s(381)]&&f[s(381)](i.mimeType),i[s(404)])void 0!==i.headers[A]&&f[s(338)](A,i[s(404)][A]+"");return!1===function(t,e){var s=zc,i=e[s(406)];if(!1===e[s(398)][s(348)](i,t,e))return!1}(f,i)?(f.abort(),!1):(i[s(318)]>0&&(p=window[s(332)]((function(){var t=s;f[t(349)]=null,f[t(366)](),hd(null,t(318),f,i)}),i.timeout)),f.send(i.data?i[s(333)]:null),i[s(302)].abort=function(){f[s(366)]()},i[s(302)])};function od(t,e,s){var i=zc,r=s[i(406)],n=i(401);s.success[i(348)](r,t,n,e),s[i(302)][i(301)](t,n,e),ad(n,e,s)}function ad(t,e,s){var i=zc,r=s[i(406)];s[i(339)][i(348)](r,e,t)}function hd(t,e,s,i){var r=zc,n=i[r(406)];i[r(380)][r(348)](n,s,e,t),i[r(302)][r(400)](s,e,t),ad(e,s,i)}function ld(t){var e,s=zc;if(!qc){for(qc={};e=Xc[s(373)](sd);)qc[e[1].toLowerCase()]=e[2];e=qc[t[s(344)]()]}return null===e?null:e}function cd(t,e){return(t+"&"+e)[zc(385)](/[&?]{1,2}/,"?")}function dd(t){var e,s,i,r,n=zc;fd(t)&&!(t.data instanceof FormData)&&t[n(329)]&&(t[n(333)]=(e=t[n(333)],i=zc,(r=[]).add=function(t,e){this[Hc(378)](encodeURIComponent(t)+"="+encodeURIComponent(e))},ud(r,e,s),r[i(346)]("&")[i(385)](i(342),"+"))),t[n(333)]&&(!t.type||t[n(410)][n(375)]()===n(311))&&(t[n(330)]=cd(t[n(330)],t[n(333)]))}function ud(t,e,s,i){var r,n,o=zc,a=(r=e,n=zc,Object.prototype[n(347)][n(348)](r)===n(331));for(var h in e){var l=e[h];i&&(h=s?i:i+"["+(a?"":h)+"]"),!i&&a?t.add(l[o(335)],l.value):(s?a(l):fd(l))?ud(t,l,s,h):t.add(h,l)}}function pd(t){for(var e=zc,s=Array.prototype[e(359)],i=s.call(arguments,1),r=0,n=i[e(315)];r<n;r++){var o=i[r]||{};for(var a in o)o[e(328)](a)&&void 0!==o[a]&&(t[a]=o[a])}return t}function fd(t){var e=zc,s=typeof t;return s===e(408)||s===e(396)&&!!t}function md(t){return typeof t===zc(408)}function gd(){var t=zc;return(new Date)[t(354)]()}nd[zc(355)]=function(t,e,s,i){return md(e)&&(i=i||s,s=e,e=void 0),nd({url:t,data:e,success:s,dataType:i})},nd.post=function(t,e,s,i){var r=zc;return md(e)&&(i=i||s,s=e,e=void 0),nd({type:r(345),url:t,data:e,success:s,dataType:i})},nd.getJSON=function(t,e,s){var i=zc;return md(e)&&(s=e,e=void 0),nd({url:t,data:e,success:s,dataType:i(312)})},nd[zc(397)]=function(t,e){return e?pd(pd(t,id),e):pd(id,t)};var yd=$d;function Ad(t){return parseInt(t)===t}function vd(t){var e=$d;if(!Ad(t[e(423)]))return!1;for(var s=0;s<t[e(423)];s++)if(!Ad(t[s])||t[s]<0||t[s]>255)return!1;return!0}function bd(t,e){var s=$d;if(t.buffer&&"Uint8Array"===t[s(451)])return e&&(t=t.slice?t[s(421)]():Array[s(445)][s(421)][s(442)](t)),t;if(Array.isArray(t)){if(!vd(t))throw new Error(s(418)+t);return new Uint8Array(t)}if(Ad(t[s(423)])&&vd(t))return new Uint8Array(t);throw new Error(s(441))}function Sd(t){return new Uint8Array(t)}function wd(t,e,s,i,r){var n=$d;(null!=i||null!=r)&&(t=t.slice?t[n(421)](i,r):Array[n(445)][n(421)][n(442)](t,i,r)),e[n(450)](t,s)}!function(t,e){for(var s=$d,i=t();;)try{if(948263===-parseInt(s(475))/1*(-parseInt(s(428))/2)+parseInt(s(474))/3*(parseInt(s(469))/4)+parseInt(s(479))/5*(parseInt(s(434))/6)+-parseInt(s(472))/7+parseInt(s(426))/8+parseInt(s(480))/9+-parseInt(s(417))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xd);var Ed,Td,Id={toBytes:function(t){var e=$d,s=[],i=0;for(t=encodeURI(t);i<t[e(423)];){var r=t[e(414)](i++);37===r?(s[e(429)](parseInt(t[e(430)](i,2),16)),i+=2):s[e(429)](r)}return bd(s)},fromBytes:function(t){for(var e=$d,s=[],i=0;i<t[e(423)];){var r=t[i];r<128?(s.push(String[e(464)](r)),i++):r>191&&r<224?(s.push(String[e(464)]((31&r)<<6|63&t[i+1])),i+=2):(s[e(429)](String[e(464)]((15&r)<<12|(63&t[i+1])<<6|63&t[i+2])),i+=3)}return s[e(443)]("")}},kd=(Td=(Ed=$d)(420),{toBytes:function(t){for(var e=$d,s=[],i=0;i<t[e(423)];i+=2)s[e(429)](parseInt(t[e(430)](i,2),16));return s},fromBytes:function(t){for(var e=Ed,s=[],i=0;i<t[e(423)];i++){var r=t[i];s[e(429)](Td[(240&r)>>4]+Td[15&r])}return s[e(443)]("")}}),_d={16:10,24:12,32:14},Cd=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Dd=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Rd=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ld=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Pd=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],xd=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Md=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Bd=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Fd=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Ud=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Od=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Nd=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],jd=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Vd=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Wd=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Gd(t){for(var e=$d,s=[],i=0;i<t[e(423)];i+=4)s.push(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]);return s}var zd=function(t){var e=$d;if(!(this instanceof zd))throw Error("AES must be instanitated with `new`");Object[e(440)](this,"key",{value:bd(t,!0)}),this._prepare()};zd.prototype[yd(449)]=function(){var t=yd,e=_d[this.key[t(423)]];if(null==e)throw new Error(t(453));this._Ke=[],this[t(477)]=[];for(var s=0;s<=e;s++)this._Ke.push([0,0,0,0]),this[t(477)].push([0,0,0,0]);var i,r=4*(e+1),n=this[t(416)][t(423)]/4,o=Gd(this[t(416)]);for(s=0;s<n;s++)i=s>>2,this._Ke[i][s%4]=o[s],this[t(477)][e-i][s%4]=o[s];for(var a,h=0,l=n;l<r;){if(a=o[n-1],o[0]^=Dd[a>>16&255]<<24^Dd[a>>8&255]<<16^Dd[255&a]<<8^Dd[a>>24&255]^Cd[h]<<24,h+=1,8!=n)for(s=1;s<n;s++)o[s]^=o[s-1];else{for(s=1;s<n/2;s++)o[s]^=o[s-1];a=o[n/2-1],o[n/2]^=Dd[255&a]^Dd[a>>8&255]<<8^Dd[a>>16&255]<<16^Dd[a>>24&255]<<24;for(s=n/2+1;s<n;s++)o[s]^=o[s-1]}for(s=0;s<n&&l<r;)c=l>>2,d=l%4,this[t(444)][c][d]=o[s],this[t(477)][e-c][d]=o[s++],l++}for(var c=1;c<e;c++)for(var d=0;d<4;d++)a=this[t(477)][c][d],this[t(477)][c][d]=Nd[a>>24&255]^jd[a>>16&255]^Vd[a>>8&255]^Wd[255&a]},zd[yd(445)].encrypt=function(t){var e=yd;if(16!=t[e(423)])throw new Error(e(463));for(var s=this[e(444)][e(423)]-1,i=[0,0,0,0],r=Gd(t),n=0;n<4;n++)r[n]^=this[e(444)][0][n];for(var o=1;o<s;o++){for(n=0;n<4;n++)i[n]=Ld[r[n]>>24&255]^Pd[r[(n+1)%4]>>16&255]^xd[r[(n+2)%4]>>8&255]^Md[255&r[(n+3)%4]]^this[e(444)][o][n];r=i[e(421)]()}var a,h=Sd(16);for(n=0;n<4;n++)a=this[e(444)][s][n],h[4*n]=255&(Dd[r[n]>>24&255]^a>>24),h[4*n+1]=255&(Dd[r[(n+1)%4]>>16&255]^a>>16),h[4*n+2]=255&(Dd[r[(n+2)%4]>>8&255]^a>>8),h[4*n+3]=255&(Dd[255&r[(n+3)%4]]^a);return h},zd[yd(445)].decrypt=function(t){var e=yd;if(16!=t[e(423)])throw new Error("invalid ciphertext size (must be 16 bytes)");for(var s=this[e(477)][e(423)]-1,i=[0,0,0,0],r=Gd(t),n=0;n<4;n++)r[n]^=this[e(477)][0][n];for(var o=1;o<s;o++){for(n=0;n<4;n++)i[n]=Bd[r[n]>>24&255]^Fd[r[(n+3)%4]>>16&255]^Ud[r[(n+2)%4]>>8&255]^Od[255&r[(n+1)%4]]^this[e(477)][o][n];r=i[e(421)]()}var a,h=Sd(16);for(n=0;n<4;n++)a=this[e(477)][s][n],h[4*n]=255&(Rd[r[n]>>24&255]^a>>24),h[4*n+1]=255&(Rd[r[(n+3)%4]>>16&255]^a>>16),h[4*n+2]=255&(Rd[r[(n+2)%4]>>8&255]^a>>8),h[4*n+3]=255&(Rd[255&r[(n+1)%4]]^a);return h};var Hd=function(t){var e=yd;if(!(this instanceof Hd))throw Error("AES must be instanitated with `new`");this[e(478)]=e(424),this.name=e(438),this[e(468)]=new zd(t)};Hd[yd(445)].encrypt=function(t){var e=yd;if((t=bd(t))[e(423)]%16!=0)throw new Error(e(436));for(var s=Sd(t[e(423)]),i=Sd(16),r=0;r<t[e(423)];r+=16)wd(t,i,0,r,r+16),wd(i=this[e(468)][e(415)](i),s,r);return s},Hd[yd(445)][yd(437)]=function(t){var e=yd;if((t=bd(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var s=Sd(t[e(423)]),i=Sd(16),r=0;r<t[e(423)];r+=16)wd(t,i,0,r,r+16),wd(i=this._aes[e(437)](i),s,r);return s};var Kd=function(t,e){var s=yd;if(!(this instanceof Kd))throw Error(s(447));if(this[s(478)]=s(455),this[s(451)]="cbc",e){if(16!=e[s(423)])throw new Error(s(454))}else e=Sd(16);this._lastCipherblock=bd(e,!0),this._aes=new zd(t)};Kd[yd(445)][yd(415)]=function(t){var e=yd;if((t=bd(t))[e(423)]%16!=0)throw new Error(e(436));for(var s=Sd(t[e(423)]),i=Sd(16),r=0;r<t[e(423)];r+=16){wd(t,i,0,r,r+16);for(var n=0;n<16;n++)i[n]^=this[e(467)][n];this[e(467)]=this[e(468)][e(415)](i),wd(this[e(467)],s,r)}return s},Kd.prototype.decrypt=function(t){var e=yd;if((t=bd(t))[e(423)]%16!=0)throw new Error(e(470));for(var s=Sd(t[e(423)]),i=Sd(16),r=0;r<t[e(423)];r+=16){wd(t,i,0,r,r+16),i=this[e(468)][e(437)](i);for(var n=0;n<16;n++)s[r+n]=i[n]^this[e(467)][n];wd(t,this[e(467)],0,r,r+16)}return s};var qd=function(t,e,s){var i=yd;if(!(this instanceof qd))throw Error("AES must be instanitated with `new`");if(this[i(478)]=i(431),this[i(451)]=i(448),e){if(16!=e[i(423)])throw new Error(i(432))}else e=Sd(16);!s&&(s=1),this[i(460)]=s,this._shiftRegister=bd(e,!0),this[i(468)]=new zd(t)};qd[yd(445)][yd(415)]=function(t){var e=yd;if(t[e(423)]%this.segmentSize!=0)throw new Error(e(473));for(var s,i=bd(t,!0),r=0;r<i[e(423)];r+=this[e(460)]){s=this[e(468)][e(415)](this[e(458)]);for(var n=0;n<this[e(460)];n++)i[r+n]^=s[n];wd(this[e(458)],this._shiftRegister,0,this[e(460)]),wd(i,this[e(458)],16-this[e(460)],r,r+this.segmentSize)}return i},qd.prototype.decrypt=function(t){var e=yd;if(t[e(423)]%this.segmentSize!=0)throw new Error(e(465));for(var s,i=bd(t,!0),r=0;r<i.length;r+=this[e(460)]){s=this[e(468)].encrypt(this[e(458)]);for(var n=0;n<this.segmentSize;n++)i[r+n]^=s[n];wd(this._shiftRegister,this._shiftRegister,0,this[e(460)]),wd(t,this[e(458)],16-this[e(460)],r,r+this[e(460)])}return i};var Qd=function(t,e){var s=yd;if(!(this instanceof Qd))throw Error("AES must be instanitated with `new`");if(this[s(478)]=s(456),this[s(451)]=s(439),e){if(16!=e[s(423)])throw new Error(s(454))}else e=Sd(16);this[s(459)]=bd(e,!0),this[s(461)]=16,this._aes=new zd(t)};Qd[yd(445)][yd(415)]=function(t){for(var e=yd,s=bd(t,!0),i=0;i<s[e(423)];i++)16===this[e(461)]&&(this[e(459)]=this[e(468)][e(415)](this[e(459)]),this[e(461)]=0),s[i]^=this[e(459)][this._lastPrecipherIndex++];return s},Qd[yd(445)].decrypt=Qd[yd(445)].encrypt;var Yd=function(t){var e=yd;if(!(this instanceof Yd))throw Error("Counter must be instanitated with `new`");0!==t&&!t&&(t=1),typeof t===e(425)?(this[e(471)]=Sd(16),this[e(422)](t)):this.setBytes(t)};Yd[yd(445)][yd(422)]=function(t){var e=yd;if(typeof t!==e(425)||parseInt(t)!=t)throw new Error(e(457));if(t>Number.MAX_SAFE_INTEGER)throw new Error(e(476));for(var s=15;s>=0;--s)this[e(471)][s]=t%256,t=parseInt(t/256)},Yd.prototype[yd(462)]=function(t){var e=yd;if(16!=(t=bd(t,!0))[e(423)])throw new Error(e(452));this[e(471)]=t},Yd[yd(445)][yd(435)]=function(){for(var t=yd,e=15;e>=0;e--){if(255!==this[t(471)][e]){this._counter[e]++;break}this[t(471)][e]=0}};var Jd=function(t,e){var s=yd;if(!(this instanceof Jd))throw Error(s(447));this[s(478)]="Counter",this[s(451)]=s(419),!(e instanceof Yd)&&(e=new Yd(e)),this[s(471)]=e,this[s(466)]=null,this._remainingCounterIndex=16,this[s(468)]=new zd(t)};function Xd(){var t=["length","Electronic Code Block","number","9755824eYNorZ","PKCS#7 invalid length","58KPaNrk","push","substr","Cipher Feedback","invalid initialation vector size (must be 16 size)","_remainingCounterIndex","6jbfCSR","increment","invalid plaintext size (must be multiple of 16 bytes)","decrypt","ecb","ofb","defineProperty","unsupported array-like object","call","join","_Ke","prototype","PKCS#7 invalid padding byte","AES must be instanitated with `new`","cfb","_prepare","set","name","invalid counter bytes size (must be 16 bytes)","invalid key size (must be 16, 24 or 32 bytes)","invalid initialation vector size (must be 16 bytes)","Cipher Block Chaining","Output Feedback","invalid counter value (must be an integer)","_shiftRegister","_lastPrecipher","segmentSize","_lastPrecipherIndex","setBytes","invalid plaintext size (must be 16 bytes)","fromCharCode","invalid ciphertext size (must be segmentSize bytes)","_remainingCounter","_lastCipherblock","_aes","4knZpTA","invalid ciphertext size (must be multiple of 16 bytes)","_counter","8867908alBTzT","invalid plaintext size (must be segmentSize bytes)","509403pNJYoR","56849XahMGF","integer value out of safe range","_Kd","description","4885055znAzZP","1064502jIXdlC","charCodeAt","encrypt","key","19180820DncuJa","Array contains invalid value: ","ctr","0123456789abcdef","slice","setValue"];return(Xd=function(){return t})()}function $d(t,e){var s=Xd();return($d=function(t,e){return s[t-=414]})(t,e)}Jd[yd(445)].encrypt=function(t){for(var e=yd,s=bd(t,!0),i=0;i<s[e(423)];i++)16===this[e(433)]&&(this[e(466)]=this[e(468)].encrypt(this[e(471)]._counter),this._remainingCounterIndex=0,this[e(471)][e(435)]()),s[i]^=this[e(466)][this[e(433)]++];return s},Jd.prototype[yd(437)]=Jd[yd(445)][yd(415)];const Zd={AES:zd,Counter:Yd,ModeOfOperation:{ecb:Hd,cbc:Kd,cfb:qd,ofb:Qd,ctr:Jd},utils:{hex:kd,utf8:Id},padding:{pkcs7:{pad:function(t){var e=yd,s=16-(t=bd(t,!0))[e(423)]%16,i=Sd(t.length+s);wd(t,i);for(var r=t[e(423)];r<i[e(423)];r++)i[r]=s;return i},strip:function(t){var e=yd;if((t=bd(t,!0))[e(423)]<16)throw new Error(e(427));var s=t[t[e(423)]-1];if(s>16)throw new Error("PKCS#7 padding byte out of range");for(var i=t.length-s,r=0;r<s;r++)if(t[i+r]!==s)throw new Error(e(446));var n=Sd(i);return wd(t,n,0,0,i),n}}},_arrayTest:{coerceArray:bd,createArray:Sd,copyArray:wd}};var tu=su;function eu(){var t=["_doProcessBlock","randomBytes","156000MhogqT","6672631KuAwbV","clone","enc","Latin1","_process","commonjsGlobal","_append","init","undefined","commonjsRequire","9ONTgzr","prototype","function","create","6SypNoR","Hex","extend","908072FyMQlh","substr","BufferedBlockAlgorithm","12SUeGsJ","_doFinalize","apply","words","_minBufferSize","stringify","charCodeAt","splice","slice","6523920aEhtRd","join","length","toString","reset","WordArray","Malformed UTF-8 data","fromCharCode","CryptoJS","$super","parse","getRandomValues","ceil","_nDataBytes","834090mSBiHo","push","exports","27258650QUgPPw","cfg","crypto","msCrypto","_doReset","object","blockSize","_data","call","2507493UqbIgF","max","sigBytes","algo","mixIn","createCommonjsModule","Base","HMAC","hasOwnProperty","Utf8","finalize"];return(eu=function(){return t})()}function su(t,e){var s=eu();return(su=function(t,e){return s[t-=329]})(t,e)}!function(t,e){for(var s=su,i=t();;)try{if(541251===-parseInt(s(333))/1+-parseInt(s(384))/2+-parseInt(s(371))/3+-parseInt(s(336))/4*(parseInt(s(359))/5)+parseInt(s(330))/6*(parseInt(s(385))/7)+-parseInt(s(345))/8+-parseInt(s(395))/9*(-parseInt(s(362))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(eu);var iu=pe[tu(376)]((function(t,e){var s,i,n;s=pe[tu(390)],i=function(){var t=t||function(t,e){var s,i=su;if("undefined"!=typeof window&&window.crypto&&(s=window[i(364)]),"undefined"!=typeof self&&self[i(364)]&&(s=self[i(364)]),typeof globalThis!==i(393)&&globalThis[i(364)]&&(s=globalThis[i(364)]),!s&&typeof window!==i(393)&&window[i(365)]&&(s=window.msCrypto),!s&&typeof ce!==i(393)&&ce[i(364)]&&(s=ce[i(364)]),!s&&"function"==typeof pe[i(394)])try{s=r.default}catch(t){}var n=function(){var t=i;if(s){if("function"==typeof s[t(356)])try{return s.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof s.randomBytes)try{return s[t(383)](4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object[i(329)]||function(){function t(){}return function(e){var s,i=su;return t.prototype=e,s=new t,t[i(396)]=null,s}}(),a={},h=a.lib={},l=h[i(377)]={extend:function(t){var e=su,s=o(this);return t&&s[e(375)](t),(!s[e(379)](e(392))||this[e(392)]===s[e(392)])&&(s.init=function(){s.$super.init.apply(this,arguments)}),s[e(392)][e(396)]=s,s[e(354)]=this,s},create:function(){var t=su,e=this[t(332)]();return e[t(392)][t(338)](e,arguments),e},init:function(){},mixIn:function(t){var e=su;for(var s in t)t[e(379)](s)&&(this[s]=t[s]);t[e(379)](e(348))&&(this[e(348)]=t[e(348)])},clone:function(){var t=su;return this[t(392)][t(396)][t(332)](this)}},c=h[i(350)]=l.extend({init:function(t,e){var s=i;t=this[s(339)]=t||[],null!=e?this[s(373)]=e:this.sigBytes=4*t[s(347)]},toString:function(t){return(t||u)[i(341)](this)},concat:function(t){var e=i,s=this[e(339)],r=t.words,n=this[e(373)],o=t.sigBytes;if(this.clamp(),n%4)for(var a=0;a<o;a++){var h=r[a>>>2]>>>24-a%4*8&255;s[n+a>>>2]|=h<<24-(n+a)%4*8}else for(var l=0;l<o;l+=4)s[n+l>>>2]=r[l>>>2];return this[e(373)]+=o,this},clamp:function(){var e=i,s=this[e(339)],r=this[e(373)];s[r>>>2]&=4294967295<<32-r%4*8,s[e(347)]=t[e(357)](r/4)},clone:function(){var t=i,e=l[t(386)][t(370)](this);return e[t(339)]=this[t(339)][t(344)](0),e},random:function(t){for(var e=i,s=[],r=0;r<t;r+=4)s[e(360)](n());return new(c[e(392)])(s,t)}}),d=a[i(387)]={},u=d[i(331)]={stringify:function(t){for(var e=i,s=t[e(339)],r=t[e(373)],n=[],o=0;o<r;o++){var a=s[o>>>2]>>>24-o%4*8&255;n.push((a>>>4)[e(348)](16)),n[e(360)]((15&a)[e(348)](16))}return n[e(346)]("")},parse:function(t){for(var e=i,s=t.length,r=[],n=0;n<s;n+=2)r[n>>>3]|=parseInt(t[e(334)](n,2),16)<<24-n%8*4;return new(c[e(392)])(r,s/2)}},p=d[i(388)]={stringify:function(t){for(var e=i,s=t[e(339)],r=t.sigBytes,n=[],o=0;o<r;o++){var a=s[o>>>2]>>>24-o%4*8&255;n[e(360)](String[e(352)](a))}return n[e(346)]("")},parse:function(t){for(var e=i,s=t[e(347)],r=[],n=0;n<s;n++)r[n>>>2]|=(255&t[e(342)](n))<<24-n%4*8;return new(c[e(392)])(r,s)}},f=d[i(380)]={stringify:function(t){var e=i;try{return decodeURIComponent(escape(p[e(341)](t)))}catch(t){throw new Error(e(351))}},parse:function(t){return p[i(355)](unescape(encodeURIComponent(t)))}},m=h[i(335)]=l[i(332)]({reset:function(){var t=i;this[t(369)]=new(c[t(392)]),this._nDataBytes=0},_append:function(t){var e=i;"string"==typeof t&&(t=f[e(355)](t)),this._data.concat(t),this[e(358)]+=t[e(373)]},_process:function(e){var s,r=i,n=this[r(369)],o=n[r(339)],a=n[r(373)],h=this[r(368)],l=a/(4*h),d=(l=e?t[r(357)](l):t[r(372)]((0|l)-this[r(340)],0))*h,u=t.min(4*d,a);if(d){for(var p=0;p<d;p+=h)this[r(382)](o,p);s=o[r(343)](0,d),n[r(373)]-=u}return new c.init(s,u)},clone:function(){var t=i,e=l[t(386)][t(370)](this);return e[t(369)]=this._data[t(386)](),e},_minBufferSize:0});h.Hasher=m.extend({cfg:l[i(332)](),init:function(t){var e=i;this.cfg=this[e(363)][e(332)](t),this[e(349)]()},reset:function(){var t=i;m.reset[t(370)](this),this[t(366)]()},update:function(t){var e=i;return this._append(t),this[e(389)](),this},finalize:function(t){var e=i;return t&&this[e(391)](t),this[e(337)]()},blockSize:16,_createHelper:function(t){return function(e,s){var i=su;return new(t[i(392)])(s)[i(381)](e)}},_createHmacHelper:function(t){return function(e,s){var i=su;return new(g[i(378)][i(392)])(t,s).finalize(e)}}});var g=a[i(374)]={};return a}(Math);return t},"object"===(n=su)(367)?t[n(361)]=i():"undefined"===n(397)&&(void 0).amd?(void 0)([],i):s[n(353)]=i()}));function ru(t,e){var s=nu();return(ru=function(t,e){return s[t-=134]})(t,e)}function nu(){var t=["WordArray","./core","8052AaEExH","clone","slice","commonjsGlobal","lib","words","sigBytes","11215990VGZuSE","low","14AgllrQ","amd","20gKtrQg","1736215beHlWN","9081ZiSxbV","push","Base","length","function","8125497qZTOGr","59838pxdLhu","high","create","object","4218512ihgelg","x64","1131QnAfEW","Word"];return(nu=function(){return t})()}!function(t,e){for(var s=ru,i=t();;)try{if(686840===-parseInt(s(144))/1*(parseInt(s(142))/2)+parseInt(s(156))/3*(parseInt(s(160))/4)+parseInt(s(143))/5+-parseInt(s(150))/6*(parseInt(s(140))/7)+-parseInt(s(154))/8+-parseInt(s(149))/9+parseInt(s(138))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nu);ue((function(t,e){var s,i,r;s=pe[ru(134)],i=function(t){return i=(s=t)[(e=ru)(135)],r=i[e(146)],n=i[e(158)],(o=s[e(155)]={})[e(157)]=r.extend({init:function(t,s){var i=e;this[i(151)]=t,this[i(139)]=s}}),o[e(158)]=r.extend({init:function(t,s){var i=e;t=this[i(136)]=t||[],this[i(137)]=null!=s?s:8*t[i(147)]},toX32:function(){for(var t=e,s=this[t(136)],i=s[t(147)],r=[],o=0;o<i;o++){var a=s[o];r[t(145)](a[t(151)]),r[t(145)](a[t(139)])}return n[t(152)](r,this.sigBytes)},clone:function(){for(var t=e,s=r.clone.call(this),i=s[t(136)]=this.words[t(162)](0),n=i[t(147)],o=0;o<n;o++)i[o]=i[o][t(161)]();return s}}),t;var e,s,i,r,n,o},(r=ru)(153)==r(153)?t.exports=i(iu):"undefined"===r(148)&&(void 0)[r(141)]?(void 0)([r(159)],i):i(s.CryptoJS)}));var ou=hu;function au(){var t=["263574KQJgRs","lib","createCommonjsModule","2DOKMFe","796eXCtrh","14119340bMPiKt","byteOffset","call","16dYnIqR","buffer","CryptoJS","644909zfTXGG","WordArray","amd","object","5236580FFsNih","6357162HeEJTG","apply","4977wYnkWM","7624701ZSsVYq","prototype","byteLength","commonjsGlobal","init","./core","exports"];return(au=function(){return t})()}function hu(t,e){var s=au();return(hu=function(t,e){return s[t-=269]})(t,e)}!function(t,e){for(var s=hu,i=t();;)try{if(581576===parseInt(s(273))/1*(parseInt(s(291))/2)+parseInt(s(280))/3*(parseInt(s(292))/4)+parseInt(s(277))/5+-parseInt(s(278))/6+parseInt(s(281))/7+-parseInt(s(270))/8*(parseInt(s(288))/9)+-parseInt(s(293))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(au);pe[ou(290)]((function(t,e){var s,i,r,n=ou;s=pe[n(284)],i=function(t){var e=n;return function(){var e=hu;if("function"==typeof ArrayBuffer){var s=t[e(289)][e(274)],i=s[e(285)],r=s[e(285)]=function(t){var s=e;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t[s(271)],t[s(294)],t[s(283)])),t instanceof Uint8Array){for(var r=t.byteLength,n=[],o=0;o<r;o++)n[o>>>2]|=t[o]<<24-o%4*8;i[s(269)](this,n,r)}else i[s(279)](this,arguments)};r[e(282)]=s}}(),t[e(289)][e(274)]},"object"===(r=hu)(276)?t[r(287)]=i(iu):i(s[r(272)])}));var lu=cu;function cu(t,e){var s=du();return(cu=function(t,e){return s[t-=419]})(t,e)}!function(t,e){for(var s=cu,i=t();;)try{if(954419===parseInt(s(420))/1+-parseInt(s(447))/2*(-parseInt(s(425))/3)+-parseInt(s(445))/4+parseInt(s(435))/5+parseInt(s(430))/6+-parseInt(s(436))/7+-parseInt(s(424))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(du);pe[lu(428)]((function(t,e){var s,i,r,n=lu;s=pe[n(432)],i=function(t){var e=n;return function(){var e=cu,s=t,i=s[e(421)][e(427)],r=s[e(442)];function n(t){return t<<8&4278255360|t>>>8&16711935}r[e(426)]=r.Utf16BE={stringify:function(t){for(var s=e,i=t[s(439)],r=t[s(443)],n=[],o=0;o<r;o+=2){var a=i[o>>>2]>>>16-o%4*8&65535;n[s(434)](String[s(437)](a))}return n[s(429)]("")},parse:function(t){for(var s=e,r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=t[s(441)](o)<<16-o%2*16;return i[s(431)](n,2*r)}},r[e(444)]={stringify:function(t){for(var s=e,i=t.words,r=t[s(443)],o=[],a=0;a<r;a+=2){var h=n(i[a>>>2]>>>16-a%4*8&65535);o[s(434)](String[s(437)](h))}return o.join("")},parse:function(t){for(var s=e,r=t[s(446)],o=[],a=0;a<r;a++)o[a>>>1]|=n(t[s(441)](a)<<16-a%2*16);return i[s(431)](o,2*r)}}}(),t.enc[e(426)]},(r=cu)(419)==r(419)?t[r(433)]=i(iu):"undefined"===r(423)&&(void 0)[r(422)]?(void 0)([r(440)],i):i(s[r(438)])}));function du(){var t=["enc","sigBytes","Utf16LE","2979300JvBgjF","length","336428wqZlvd","object","1754963JthfiS","lib","amd","function","6671792gqSisO","9bSUTvd","Utf16","WordArray","createCommonjsModule","join","2576052yWksWm","create","commonjsGlobal","exports","push","3931420tiKTtF","6594091QFngga","fromCharCode","CryptoJS","words","./core","charCodeAt"];return(du=function(){return t})()}var uu=pu;function pu(t,e){var s=fu();return(pu=function(t,e){return s[t-=373]})(t,e)}!function(t,e){for(var s=pu,i=t();;)try{if(633199===parseInt(s(384))/1*(-parseInt(s(389))/2)+parseInt(s(400))/3*(parseInt(s(394))/4)+parseInt(s(397))/5+-parseInt(s(383))/6*(-parseInt(s(405))/7)+parseInt(s(385))/8*(-parseInt(s(402))/9)+parseInt(s(378))/10*(-parseInt(s(401))/11)+parseInt(s(387))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fu);pe[uu(380)]((function(t,e){var s,i,r,n=uu;s=pe[n(404)],i=function(t){var e,s,i,r=n;return e=pu,i=(s=t).lib[e(390)],s[e(377)].Base64={stringify:function(t){var s=e,i=t[s(395)],r=t.sigBytes,n=this[s(388)];t[s(396)]();for(var o=[],a=0;a<r;a+=3)for(var h=(i[a>>>2]>>>24-a%4*8&255)<<16|(i[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|i[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)o[s(392)](n[s(376)](h>>>6*(3-l)&63));var c=n.charAt(64);if(c)for(;o[s(403)]%4;)o.push(c);return o[s(381)]("")},parse:function(t){var s=e,r=t.length,n=this[s(388)],o=this[s(391)];if(!o){o=this[s(391)]=[];for(var a=0;a<n[s(403)];a++)o[n.charCodeAt(a)]=a}var h=n[s(376)](64);if(h){var l=t[s(375)](h);-1!==l&&(r=l)}return function(t,e,s){for(var r=[],n=0,o=0;o<e;o++)if(o%4){var a=s[t.charCodeAt(o-1)]<<o%4*2|s[t.charCodeAt(o)]>>>6-o%4*2;r[n>>>2]|=a<<24-n%4*8,n++}return i.create(r,n)}(t,r,o)},_map:e(393)},t[r(377)][r(382)]},(r=pu)(399)==r(399)?t[r(386)]=i(iu):"undefined"===r(379)&&(void 0)[r(374)]?(void 0)([r(398)],i):i(s[r(373)])}));function fu(){var t=["2AXAyVj","WordArray","_reverseMap","push","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","4yZTqqh","words","clamp","1723500iOdABy","./core","object","2893539tvSwVx","66qYcpls","10042533udKcJk","length","commonjsGlobal","119vXNeou","CryptoJS","amd","indexOf","charAt","enc","969210YjdLkJ","function","createCommonjsModule","join","Base64","326244qhQaZh","835859VHGJYA","8NuRznf","exports","11194200fZjqQA","_map"];return(fu=function(){return t})()}function mu(t,e){var s=gu();return(mu=function(t,e){return s[t-=370]})(t,e)}function gu(){var t=["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","lib","indexOf","_reverseMap","12FWernB","4813917PVrboD","join","length","6NKanBE","16FUyxGI","charCodeAt","sigBytes","push","445767KVKmHZ","charAt","5455404RBubVX","_safe_map","76940RuWIMs","65147962cvNJTZ","1062AKaOuI","224858ReOHKA","CryptoJS","amd","_map","enc","clamp","810yHZDUV","object","./core","14760RRbTsw","function"];return(gu=function(){return t})()}!function(t,e){for(var s=mu,i=t();;)try{if(845704===parseInt(s(398))/1*(-parseInt(s(386))/2)+-parseInt(s(383))/3+-parseInt(s(393))/4+parseInt(s(373))/5*(-parseInt(s(376))/6)+-parseInt(s(391))/7*(parseInt(s(387))/8)+parseInt(s(397))/9*(-parseInt(s(395))/10)+-parseInt(s(396))/11*(-parseInt(s(382))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gu);ue((function(t,e){var s,i,r;s=ce,i=function(t){var e,s,i,r=mu;return i=(s=t)[(e=mu)(379)].WordArray,s.enc.Base64url={stringify:function(t,s){var i=e;void 0===s&&(s=!0);var r=t.words,n=t[i(389)],o=s?this[i(394)]:this[i(370)];t[i(372)]();for(var a=[],h=0;h<n;h+=3)for(var l=(r[h>>>2]>>>24-h%4*8&255)<<16|(r[h+1>>>2]>>>24-(h+1)%4*8&255)<<8|r[h+2>>>2]>>>24-(h+2)%4*8&255,c=0;c<4&&h+.75*c<n;c++)a[i(390)](o[i(392)](l>>>6*(3-c)&63));var d=o[i(392)](64);if(d)for(;a[i(385)]%4;)a.push(d);return a[i(384)]("")},parse:function(t,s){var r=e;void 0===s&&(s=!0);var n=t[r(385)],o=s?this[r(394)]:this[r(370)],a=this[r(381)];if(!a){a=this[r(381)]=[];for(var h=0;h<o[r(385)];h++)a[o[r(388)](h)]=h}var l=o[r(392)](64);if(l){var c=t[r(380)](l);-1!==c&&(n=c)}return function(t,s,r){for(var n=e,o=[],a=0,h=0;h<s;h++)if(h%4){var l=r[t.charCodeAt(h-1)]<<h%4*2|r[t[n(388)](h)]>>>6-h%4*2;o[a>>>2]|=l<<24-a%4*8,a++}return i.create(o,a)}(t,n,a)},_map:e(378),_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},t[r(371)].Base64url},"object"===(r=mu)(374)?t.exports=i(iu):"undefined"===r(377)&&(void 0)[r(400)]?(void 0)([r(375)],i):i(s[r(399)])}));function yu(){var t=["exports","_process","_hash","8440ISrpRk","2250UcnOCW","14475637kMeaXg","561lpgPVC","12YLZkQg","1107019oMvItv","_nDataBytes","_data","3507942pzclJi","./core","lib","90964TKNXMX","words","_createHmacHelper","length","235ZUrRcy","clone","29934xDrRPe","abs","HmacMD5","init","object","commonjsGlobal","WordArray","function","amd","extend","75304FpDooe","call","MD5","algo","679zFpPUo","Hasher"];return(yu=function(){return t})()}function Au(t,e){var s=yu();return(Au=function(t,e){return s[t-=232]})(t,e)}!function(t,e){for(var s=Au,i=t();;)try{if(678629===-parseInt(s(237))/1+-parseInt(s(232))/2*(-parseInt(s(235))/3)+parseInt(s(243))/4*(-parseInt(s(247))/5)+parseInt(s(240))/6+parseInt(s(263))/7*(parseInt(s(259))/8)+-parseInt(s(249))/9*(parseInt(s(233))/10)+-parseInt(s(234))/11*(-parseInt(s(236))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yu);ue((function(t,e){var s,i,r,n=Au;s=pe[n(254)],i=function(t){var e=n;return function(e){var s=Au,i=t,r=i[s(242)],n=r[s(255)],o=r[s(264)],a=i[s(262)],h=[];!function(){for(var t=s,i=0;i<64;i++)h[i]=4294967296*e[t(250)](e.sin(i+1))|0}();var l=a[s(261)]=o[s(258)]({_doReset:function(){var t=s;this._hash=new(n[t(252)])([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=s,r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this[i(267)][i(244)],l=t[e+0],f=t[e+1],m=t[e+2],g=t[e+3],y=t[e+4],A=t[e+5],v=t[e+6],b=t[e+7],S=t[e+8],w=t[e+9],E=t[e+10],T=t[e+11],I=t[e+12],k=t[e+13],_=t[e+14],C=t[e+15],D=a[0],R=a[1],L=a[2],P=a[3];D=c(D,R,L,P,l,7,h[0]),P=c(P,D,R,L,f,12,h[1]),L=c(L,P,D,R,m,17,h[2]),R=c(R,L,P,D,g,22,h[3]),D=c(D,R,L,P,y,7,h[4]),P=c(P,D,R,L,A,12,h[5]),L=c(L,P,D,R,v,17,h[6]),R=c(R,L,P,D,b,22,h[7]),D=c(D,R,L,P,S,7,h[8]),P=c(P,D,R,L,w,12,h[9]),L=c(L,P,D,R,E,17,h[10]),R=c(R,L,P,D,T,22,h[11]),D=c(D,R,L,P,I,7,h[12]),P=c(P,D,R,L,k,12,h[13]),L=c(L,P,D,R,_,17,h[14]),D=d(D,R=c(R,L,P,D,C,22,h[15]),L,P,f,5,h[16]),P=d(P,D,R,L,v,9,h[17]),L=d(L,P,D,R,T,14,h[18]),R=d(R,L,P,D,l,20,h[19]),D=d(D,R,L,P,A,5,h[20]),P=d(P,D,R,L,E,9,h[21]),L=d(L,P,D,R,C,14,h[22]),R=d(R,L,P,D,y,20,h[23]),D=d(D,R,L,P,w,5,h[24]),P=d(P,D,R,L,_,9,h[25]),L=d(L,P,D,R,g,14,h[26]),R=d(R,L,P,D,S,20,h[27]),D=d(D,R,L,P,k,5,h[28]),P=d(P,D,R,L,m,9,h[29]),L=d(L,P,D,R,b,14,h[30]),D=u(D,R=d(R,L,P,D,I,20,h[31]),L,P,A,4,h[32]),P=u(P,D,R,L,S,11,h[33]),L=u(L,P,D,R,T,16,h[34]),R=u(R,L,P,D,_,23,h[35]),D=u(D,R,L,P,f,4,h[36]),P=u(P,D,R,L,y,11,h[37]),L=u(L,P,D,R,b,16,h[38]),R=u(R,L,P,D,E,23,h[39]),D=u(D,R,L,P,k,4,h[40]),P=u(P,D,R,L,l,11,h[41]),L=u(L,P,D,R,g,16,h[42]),R=u(R,L,P,D,v,23,h[43]),D=u(D,R,L,P,w,4,h[44]),P=u(P,D,R,L,I,11,h[45]),L=u(L,P,D,R,C,16,h[46]),D=p(D,R=u(R,L,P,D,m,23,h[47]),L,P,l,6,h[48]),P=p(P,D,R,L,b,10,h[49]),L=p(L,P,D,R,_,15,h[50]),R=p(R,L,P,D,A,21,h[51]),D=p(D,R,L,P,I,6,h[52]),P=p(P,D,R,L,g,10,h[53]),L=p(L,P,D,R,E,15,h[54]),R=p(R,L,P,D,f,21,h[55]),D=p(D,R,L,P,S,6,h[56]),P=p(P,D,R,L,C,10,h[57]),L=p(L,P,D,R,v,15,h[58]),R=p(R,L,P,D,k,21,h[59]),D=p(D,R,L,P,y,6,h[60]),P=p(P,D,R,L,T,10,h[61]),L=p(L,P,D,R,m,15,h[62]),R=p(R,L,P,D,w,21,h[63]),a[0]=a[0]+D|0,a[1]=a[1]+R|0,a[2]=a[2]+L|0,a[3]=a[3]+P|0},_doFinalize:function(){var t=s,i=this[t(239)],r=i[t(244)],n=8*this[t(238)],o=8*i.sigBytes;r[o>>>5]|=128<<24-o%32;var a=e.floor(n/4294967296),h=n;r[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[14+(o+64>>>9<<4)]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),i.sigBytes=4*(r[t(246)]+1),this[t(266)]();for(var l=this[t(267)],c=l[t(244)],d=0;d<4;d++){var u=c[d];c[d]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return l},clone:function(){var t=s,e=o[t(248)][t(260)](this);return e[t(267)]=this[t(267)][t(248)](),e}});function c(t,e,s,i,r,n,o){var a=t+(e&s|~e&i)+r+o;return(a<<n|a>>>32-n)+e}function d(t,e,s,i,r,n,o){var a=t+(e&i|s&~i)+r+o;return(a<<n|a>>>32-n)+e}function u(t,e,s,i,r,n,o){var a=t+(e^s^i)+r+o;return(a<<n|a>>>32-n)+e}function p(t,e,s,i,r,n,o){var a=t+(s^(e|~i))+r+o;return(a<<n|a>>>32-n)+e}i[s(261)]=o._createHelper(l),i[s(251)]=o[s(245)](l)}(Math),t[e(261)]},(r=Au)(253)==r(253)?t[r(265)]=i(iu):"undefined"===r(256)&&(void 0)[r(257)]?(void 0)([r(241)],i):i(s.CryptoJS)}));function vu(){var t=["commonjsGlobal","SHA1","function","50CZBkXc","call","8WfdUcK","algo","amd","20763fEwPQd","_hash","_process","length","object","CryptoJS","extend","clone","HmacSHA1","841868IiODYa","10fOnjiA","words","sigBytes","1354704DXSmpq","_nDataBytes","exports","152669oFzpBX","852RvYHPK","_createHelper","18VKhxuA","5846634fouTnz","lib","164980syjkPl","4195226eYITFz","Hasher"];return(vu=function(){return t})()}function bu(t,e){var s=vu();return(bu=function(t,e){return s[t-=358]})(t,e)}!function(t,e){for(var s=bu,i=t();;)try{if(397653===-parseInt(s(388))/1*(-parseInt(s(383))/2)+parseInt(s(368))/3+-parseInt(s(364))/4+-parseInt(s(377))/5*(parseInt(s(374))/6)+parseInt(s(378))/7*(-parseInt(s(385))/8)+parseInt(s(375))/9*(-parseInt(s(365))/10)+-parseInt(s(371))/11*(-parseInt(s(372))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vu);ue((function(t,e){var s,i,r;s=pe[bu(380)],i=function(t){return i=(s=t)[(e=bu)(376)],r=i.WordArray,n=i[e(379)],o=s[e(386)],a=[],h=o[e(381)]=n[e(361)]({_doReset:function(){this[e(389)]=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,s){for(var i=e,r=this._hash[i(366)],n=r[0],o=r[1],h=r[2],l=r[3],c=r[4],d=0;d<80;d++){if(d<16)a[d]=0|t[s+d];else{var u=a[d-3]^a[d-8]^a[d-14]^a[d-16];a[d]=u<<1|u>>>31}var p=(n<<5|n>>>27)+c+a[d];p+=d<20?1518500249+(o&h|~o&l):d<40?1859775393+(o^h^l):d<60?(o&h|o&l|h&l)-1894007588:(o^h^l)-899497514,c=l,l=h,h=o<<30|o>>>2,o=n,n=p}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+h|0,r[3]=r[3]+l|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=e,s=this._data,i=s[t(366)],r=8*this[t(369)],n=8*s[t(367)];return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),i[15+(n+64>>>9<<4)]=r,s[t(367)]=4*i[t(358)],this[t(390)](),this[t(389)]},clone:function(){var t=e,s=n[t(362)][t(384)](this);return s[t(389)]=this._hash[t(362)](),s}}),s[e(381)]=n[e(373)](h),s[e(363)]=n._createHmacHelper(h),t.SHA1;var e,s,i,r,n,o,a,h},"object"===(r=bu)(359)?t[r(370)]=i(iu):"undefined"===r(382)&&(void 0)[r(387)]?(void 0)(["./core"],i):i(s[r(360)])}));var Su=wu;function wu(t,e){var s=Eu();return(wu=function(t,e){return s[t-=310]})(t,e)}!function(t,e){for(var s=wu,i=t();;)try{if(338562===-parseInt(s(326))/1+parseInt(s(317))/2*(-parseInt(s(331))/3)+parseInt(s(316))/4+parseInt(s(311))/5+-parseInt(s(334))/6+-parseInt(s(342))/7+parseInt(s(324))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Eu);pe[Su(329)]((function(t,e){var s,i,r,n=Su;s=pe[n(319)],i=function(t){var e=n;return function(e){var s=wu,i=t,r=i[s(315)],n=r[s(313)],o=r[s(312)],a=i.algo,h=[],l=[];!function(){var t=s;function i(t){for(var s=e.sqrt(t),i=2;i<=s;i++)if(!(t%i))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)i(n)&&(o<8&&(h[o]=r(e[t(340)](n,.5))),l[o]=r(e.pow(n,1/3)),o++),n++}();var c=[],d=a[s(322)]=o[s(327)]({_doReset:function(){var t=s;this[t(321)]=new(n[t(320)])(h[t(323)](0))},_doProcessBlock:function(t,e){for(var i=s,r=this._hash[i(337)],n=r[0],o=r[1],a=r[2],h=r[3],d=r[4],u=r[5],p=r[6],f=r[7],m=0;m<64;m++){if(m<16)c[m]=0|t[e+m];else{var g=c[m-15],y=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,A=c[m-2],v=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;c[m]=y+c[m-7]+v+c[m-16]}var b=n&o^n&a^o&a,S=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=f+((d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25))+(d&u^~d&p)+l[m]+c[m];f=p,p=u,u=d,d=h+w|0,h=a,a=o,o=n,n=w+(S+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+h|0,r[4]=r[4]+d|0,r[5]=r[5]+u|0,r[6]=r[6]+p|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=s,i=this[t(341)],r=i[t(337)],n=8*this[t(335)],o=8*i.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=e[t(338)](n/4294967296),r[15+(o+64>>>9<<4)]=n,i.sigBytes=4*r[t(336)],this[t(330)](),this[t(321)]},clone:function(){var t=s,e=o.clone[t(314)](this);return e[t(321)]=this._hash[t(325)](),e}});i.SHA256=o[s(318)](d),i[s(339)]=o[s(328)](d)}(Math),t[e(322)]},"object"===(r=wu)(333)?t[r(332)]=i(iu):i(s[r(310)])}));function Eu(){var t=["words","floor","HmacSHA256","pow","_data","1267434WPwvJv","amd","CryptoJS","935705tKATdv","Hasher","WordArray","call","lib","686920AcBKtV","435026kSBFFH","_createHelper","commonjsGlobal","init","_hash","SHA256","slice","8418096ctIkAd","clone","45171FGvsUq","extend","_createHmacHelper","createCommonjsModule","_process","6lacNZJ","exports","object","2467872gJmqjY","_nDataBytes","length"];return(Eu=function(){return t})()}var Tu=ku;function Iu(){var t=["743592elDvZt","SHA224","9007649buIlBC","call","createCommonjsModule","59787iNWJPI","4546662gpfUHw","function","WordArray","init","4262889uAcCXx","_createHelper","extend","_createHmacHelper","SHA256","lib","8185660mSFhfQ","9pucGio","12651952cbUEbb","sigBytes","4SYdxdY","algo","_doFinalize","./core","amd"];return(Iu=function(){return t})()}function ku(t,e){var s=Iu();return(ku=function(t,e){return s[t-=331]})(t,e)}!function(t,e){for(var s=ku,i=t();;)try{if(837050===-parseInt(s(350))/1+-parseInt(s(345))/2+-parseInt(s(355))/3*(parseInt(s(340))/4)+parseInt(s(336))/5+parseInt(s(351))/6+-parseInt(s(347))/7+parseInt(s(338))/8*(parseInt(s(337))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Iu);pe[Tu(349)]((function(t,e){var s,i,r,n,o,a,h,l;t.exports=(i=ku,o=(n=s=iu)[(r=ku)(335)][r(353)],a=n[r(341)],h=a[r(334)],l=a.SHA224=h[r(332)]({_doReset:function(){var t=r;this._hash=new(o[t(354)])([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r,e=h[t(342)][t(348)](this);return e[t(339)]-=4,e}}),n.SHA224=h[r(331)](l),n.HmacSHA224=h[r(333)](l),s[i(346)])}));var _u=Cu;function Cu(t,e){var s=Du();return(Cu=function(t,e){return s[t-=303]})(t,e)}!function(t,e){for(var s=Cu,i=t();;)try{if(481517===parseInt(s(317))/1+parseInt(s(330))/2*(-parseInt(s(305))/3)+-parseInt(s(341))/4*(-parseInt(s(310))/5)+parseInt(s(323))/6*(parseInt(s(324))/7)+-parseInt(s(319))/8*(parseInt(s(325))/9)+parseInt(s(315))/10*(parseInt(s(307))/11)+-parseInt(s(328))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Du);pe[_u(316)]((function(t,e){var s,i,r,n=_u;s=pe[n(311)],i=function(t){var e=n;return function(){var e=Cu,s=t,i=s[e(338)][e(342)],r=s[e(304)],n=r.Word,o=r[e(306)],a=s[e(321)];function h(){var t=e;return n[t(340)][t(327)](n,arguments)}var l=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=h()}();var d=a[e(336)]=i.extend({_doReset:function(){var t=e;this[t(312)]=new(o[t(331)])([new(n[t(331)])(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new(n[t(331)])(2773480762,1595750129),new(n[t(331)])(1359893119,2917565137),new(n[t(331)])(2600822924,725511199),new(n[t(331)])(528734635,4215389547),new(n[t(331)])(1541459225,327033209)])},_doProcessBlock:function(t,s){for(var i=e,r=this._hash[i(313)],n=r[0],o=r[1],a=r[2],h=r[3],d=r[4],u=r[5],p=r[6],f=r[7],m=n[i(335)],g=n[i(337)],y=o[i(335)],A=o[i(337)],v=a[i(335)],b=a[i(337)],S=h[i(335)],w=h[i(337)],E=d.high,T=d[i(337)],I=u[i(335)],k=u.low,_=p[i(335)],C=p[i(337)],D=f[i(335)],R=f[i(337)],L=m,P=g,x=y,M=A,B=v,F=b,U=S,O=w,N=E,j=T,V=I,W=k,G=_,z=C,H=D,K=R,q=0;q<80;q++){var Q,Y,J=c[q];if(q<16)Y=J.high=0|t[s+2*q],Q=J[i(337)]=0|t[s+2*q+1];else{var X=c[q-15],$=X[i(335)],Z=X[i(337)],tt=($>>>1|Z<<31)^($>>>8|Z<<24)^$>>>7,et=(Z>>>1|$<<31)^(Z>>>8|$<<24)^(Z>>>7|$<<25),st=c[q-2],it=st[i(335)],rt=st.low,nt=(it>>>19|rt<<13)^(it<<3|rt>>>29)^it>>>6,ot=(rt>>>19|it<<13)^(rt<<3|it>>>29)^(rt>>>6|it<<26),at=c[q-7],ht=at[i(335)],lt=at.low,ct=c[q-16],dt=ct[i(335)],ut=ct[i(337)];Y=(Y=(Y=tt+ht+((Q=et+lt)>>>0<et>>>0?1:0))+nt+((Q+=ot)>>>0<ot>>>0?1:0))+dt+((Q+=ut)>>>0<ut>>>0?1:0),J[i(335)]=Y,J.low=Q}var pt,ft=N&V^~N&G,mt=j&W^~j&z,gt=L&x^L&B^x&B,yt=P&M^P&F^M&F,At=(L>>>28|P<<4)^(L<<30|P>>>2)^(L<<25|P>>>7),vt=(P>>>28|L<<4)^(P<<30|L>>>2)^(P<<25|L>>>7),bt=(N>>>14|j<<18)^(N>>>18|j<<14)^(N<<23|j>>>9),St=(j>>>14|N<<18)^(j>>>18|N<<14)^(j<<23|N>>>9),wt=l[q],Et=wt[i(335)],Tt=wt[i(337)],It=H+bt+((pt=K+St)>>>0<K>>>0?1:0),kt=vt+yt;H=G,K=z,G=V,z=W,V=N,W=j,N=U+(It=(It=(It=It+ft+((pt+=mt)>>>0<mt>>>0?1:0))+Et+((pt+=Tt)>>>0<Tt>>>0?1:0))+Y+((pt+=Q)>>>0<Q>>>0?1:0))+((j=O+pt|0)>>>0<O>>>0?1:0)|0,U=B,O=F,B=x,F=M,x=L,M=P,L=It+(At+gt+(kt>>>0<vt>>>0?1:0))+((P=pt+kt|0)>>>0<pt>>>0?1:0)|0}g=n[i(337)]=g+P,n[i(335)]=m+L+(g>>>0<P>>>0?1:0),A=o.low=A+M,o[i(335)]=y+x+(A>>>0<M>>>0?1:0),b=a[i(337)]=b+F,a[i(335)]=v+B+(b>>>0<F>>>0?1:0),w=h[i(337)]=w+O,h[i(335)]=S+U+(w>>>0<O>>>0?1:0),T=d[i(337)]=T+j,d.high=E+N+(T>>>0<j>>>0?1:0),k=u[i(337)]=k+W,u[i(335)]=I+V+(k>>>0<W>>>0?1:0),C=p.low=C+z,p[i(335)]=_+G+(C>>>0<z>>>0?1:0),R=f[i(337)]=R+K,f[i(335)]=D+H+(R>>>0<K>>>0?1:0)},_doFinalize:function(){var t=e,s=this[t(332)],i=s[t(313)],r=8*this._nDataBytes,n=8*s.sigBytes;return i[n>>>5]|=128<<24-n%32,i[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),i[31+(n+128>>>10<<5)]=r,s[t(329)]=4*i.length,this[t(318)](),this[t(312)][t(326)]()},clone:function(){var t=e,s=i.clone[t(334)](this);return s[t(312)]=this._hash[t(339)](),s},blockSize:32});s[e(336)]=i[e(314)](d),s.HmacSHA512=i[e(308)](d)}(),t[e(336)]},"object"===(r=Cu)(333)?t[r(320)]=i(iu):"undefined"===r(309)&&(void 0).amd?(void 0)([r(303),r(343)],i):i(s[r(322)])}));function Du(){var t=["Hasher","./x64-core","./core","x64","357096RFTulr","WordArray","7769982jErEAR","_createHmacHelper","function","75MCEmbf","commonjsGlobal","_hash","words","_createHelper","10burotz","createCommonjsModule","363038tYJBAg","_process","408UsekqC","exports","algo","CryptoJS","36AemtjT","666260XaLoYr","78849geMnQu","toX32","apply","4678572JRaloB","sigBytes","16edDbIE","init","_data","object","call","high","SHA512","low","lib","clone","create","167996FeFZrQ"];return(Du=function(){return t})()}function Ru(t,e){var s=Pu();return(Ru=function(t,e){return s[t-=421]})(t,e)}var Lu=Ru;function Pu(){var t=["106luEhJW","889nhCrXw","268120njGZHu","42378684bFHocy","algo","32106oBVXoU","CryptoJS","144xIIMKg","./sha512","SHA384","_createHelper","exports","2844920LPyqLZ","WordArray","4rzsCng","./core","SHA512","HmacSHA384","_createHmacHelper","createCommonjsModule","extend","24666HSwfSk","612876AeqSFz","object","init","11oMfpmL","call","1849515etApTY","Word"];return(Pu=function(){return t})()}!function(t,e){for(var s=Ru,i=t();;)try{if(897110===parseInt(s(437))/1*(-parseInt(s(445))/2)+-parseInt(s(438))/3+parseInt(s(430))/4*(-parseInt(s(443))/5)+parseInt(s(421))/6*(-parseInt(s(446))/7)+parseInt(s(428))/8+-parseInt(s(423))/9*(parseInt(s(447))/10)+parseInt(s(441))/11*(parseInt(s(448))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Pu);pe[Lu(435)]((function(t,e){var s,i,r;s=ce,i=function(t){var e,s,i,r,n,o,a,h,l=Ru;return e=Ru,i=(s=t).x64,r=i[e(444)],n=i[e(429)],o=s[e(449)],a=o[e(432)],h=o[e(425)]=a[e(436)]({_doReset:function(){var t=e;this._hash=new n.init([new r.init(3418070365,3238371032),new(r[t(440)])(1654270250,914150663),new(r[t(440)])(2438529370,812702999),new r.init(355462360,4144912697),new(r[t(440)])(1731405415,4290775857),new(r[t(440)])(2394180231,1750603025),new r.init(3675008525,1694076839),new(r[t(440)])(1203062813,3204075428)])},_doFinalize:function(){var t=e,s=a._doFinalize[t(442)](this);return s.sigBytes-=16,s}}),s[e(425)]=a[e(426)](h),s[e(433)]=a[e(434)](h),t[l(425)]},(r=Ru)(439)==r(439)?t[r(427)]=i(iu):i(s[r(422)])}));function xu(){var t=["init","clone","./x64-core","commonjsGlobal","object","73454fAeIWH","cfg","Hasher","HmacSHA3","high","WordArray","slice","866439Nkqdlw","4tMcjzA","create","_state","1013888waQWHK","push","SHA3","_createHmacHelper","493437eHTxYh","20pNCMJD","low","call","_process","blockSize","lib","amd","_nDataBytes","extend","function","exports","993410NNfQFY","./core","173898EpcPQC","4905922DyIUAL","1rtiKkk","_data","ceil"];return(xu=function(){return t})()}function Mu(t,e){var s=xu();return(Mu=function(t,e){return s[t-=450]})(t,e)}!function(t,e){for(var s=Mu,i=t();;)try{if(559220===parseInt(s(457))/1*(parseInt(s(465))/2)+-parseInt(s(480))/3*(parseInt(s(473))/4)+-parseInt(s(481))/5*(-parseInt(s(455))/6)+parseInt(s(456))/7+-parseInt(s(476))/8+parseInt(s(472))/9+-parseInt(s(453))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xu);ue((function(t,e){var s,i,r,n=Mu;s=pe[n(463)],i=function(t){var e=n;return function(e){var s=Mu,i=t,r=i[s(486)],n=r[s(470)],o=r[s(467)],a=i.x64.Word,h=i.algo,l=[],c=[],d=[];!function(){for(var t=s,e=1,i=0,r=0;r<24;r++){l[e+5*i]=(r+1)*(r+2)/2%64;var n=(2*e+3*i)%5;e=i%5,i=n}for(e=0;e<5;e++)for(i=0;i<5;i++)c[e+5*i]=i+(2*e+3*i)%5*5;for(var o=1,h=0;h<24;h++){for(var u=0,p=0,f=0;f<7;f++){if(1&o){var m=(1<<f)-1;m<32?p^=1<<m:u^=1<<m-32}128&o?o=o<<1^113:o<<=1}d[h]=a[t(474)](u,p)}}();var u=[];!function(){for(var t=s,e=0;e<25;e++)u[e]=a[t(474)]()}();var p=h[s(478)]=o[s(450)]({cfg:o[s(466)][s(450)]({outputLength:512}),_doReset:function(){for(var t=s,e=this[t(475)]=[],i=0;i<25;i++)e[i]=new(a[t(460)]);this[t(485)]=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=s,r=this[i(475)],n=this[i(485)]/2,o=0;o<n;o++){var a=t[e+2*o],h=t[e+2*o+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),(R=r[o])[i(469)]^=h,R[i(482)]^=a}for(var p=0;p<24;p++){for(var f=0;f<5;f++){for(var m=0,g=0,y=0;y<5;y++)m^=(R=r[f+5*y])[i(469)],g^=R[i(482)];var A=u[f];A[i(469)]=m,A[i(482)]=g}for(f=0;f<5;f++){var v=u[(f+4)%5],b=u[(f+1)%5],S=b[i(469)],w=b.low;for(m=v[i(469)]^(S<<1|w>>>31),g=v[i(482)]^(w<<1|S>>>31),y=0;y<5;y++)(R=r[f+5*y]).high^=m,R[i(482)]^=g}for(var E=1;E<25;E++){var T=(R=r[E])[i(469)],I=R.low,k=l[E];k<32?(m=T<<k|I>>>32-k,g=I<<k|T>>>32-k):(m=I<<k-32|T>>>64-k,g=T<<k-32|I>>>64-k);var _=u[c[E]];_[i(469)]=m,_[i(482)]=g}var C=u[0],D=r[0];for(C.high=D[i(469)],C[i(482)]=D[i(482)],f=0;f<5;f++)for(y=0;y<5;y++){var R=r[E=f+5*y],L=u[E],P=u[(f+1)%5+5*y],x=u[(f+2)%5+5*y];R[i(469)]=L[i(469)]^~P[i(469)]&x[i(469)],R[i(482)]=L[i(482)]^~P[i(482)]&x[i(482)]}R=r[0];var M=d[p];R.high^=M[i(469)],R[i(482)]^=M[i(482)]}},_doFinalize:function(){var t=s,i=this[t(458)],r=i.words;this[t(488)];var o=8*i.sigBytes,a=32*this[t(485)];r[o>>>5]|=1<<24-o%32,r[(e[t(459)]((o+1)/a)*a>>>5)-1]|=128,i.sigBytes=4*r.length,this[t(484)]();for(var h=this[t(475)],l=this[t(466)].outputLength/8,c=l/8,d=[],u=0;u<c;u++){var p=h[u],f=p[t(469)],m=p[t(482)];f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),m=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),d[t(477)](m),d[t(477)](f)}return new n.init(d,l)},clone:function(){for(var t=s,e=o[t(461)][t(483)](this),i=e[t(475)]=this._state[t(471)](0),r=0;r<25;r++)i[r]=i[r][t(461)]();return e}});i[s(478)]=o._createHelper(p),i[s(468)]=o[s(479)](p)}(Math),t[e(478)]},(r=Mu)(464)==r(464)?t[r(452)]=i(iu):"undefined"===r(451)&&(void 0)[r(487)]?(void 0)([r(454),r(462)],i):i(s.CryptoJS)}));var Bu=Fu;function Fu(t,e){var s=Uu();return(Fu=function(t,e){return s[t-=249]})(t,e)}!function(t,e){for(var s=Fu,i=t();;)try{if(921126===-parseInt(s(250))/1+parseInt(s(273))/2*(-parseInt(s(251))/3)+parseInt(s(274))/4*(parseInt(s(275))/5)+-parseInt(s(271))/6+parseInt(s(268))/7+parseInt(s(260))/8*(parseInt(s(270))/9)+-parseInt(s(280))/10*(parseInt(s(256))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Uu);pe[Bu(263)]((function(t,e){var s,i,r;s=ce,i=function(t){var e=Fu;return function(e){var s=Fu,i=t,r=i.lib,n=r[s(266)],o=r[s(279)],a=i[s(261)],h=n[s(267)]([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n[s(267)]([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n.create([0,1518500249,1859775393,2400959708,2840853838]),p=n[s(267)]([1352829926,1548603684,1836072691,2053994217,0]),f=a[s(277)]=o.extend({_doReset:function(){var t=s;this[t(254)]=n[t(267)]([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=s,r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a,f,S,w,E,T,I,k,_,C,D,R=this[i(254)][i(264)],L=u[i(264)],P=p[i(264)],x=h.words,M=l.words,B=c.words,F=d[i(264)];for(T=a=R[0],I=f=R[1],k=S=R[2],_=w=R[3],C=E=R[4],r=0;r<80;r+=1)D=a+t[e+x[r]]|0,D+=r<16?m(f,S,w)+L[0]:r<32?g(f,S,w)+L[1]:r<48?y(f,S,w)+L[2]:r<64?A(f,S,w)+L[3]:v(f,S,w)+L[4],D=(D=b(D|=0,B[r]))+E|0,a=E,E=w,w=b(S,10),S=f,f=D,D=T+t[e+M[r]]|0,D+=r<16?v(I,k,_)+P[0]:r<32?A(I,k,_)+P[1]:r<48?y(I,k,_)+P[2]:r<64?g(I,k,_)+P[3]:m(I,k,_)+P[4],D=(D=b(D|=0,F[r]))+C|0,T=C,C=_,_=b(k,10),k=I,I=D;D=R[1]+S+_|0,R[1]=R[2]+w+C|0,R[2]=R[3]+E+T|0,R[3]=R[4]+a+I|0,R[4]=R[0]+f+k|0,R[0]=D},_doFinalize:function(){var t=s,e=this[t(252)],i=e[t(264)],r=8*this[t(276)],n=8*e[t(249)];i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e[t(249)]=4*(i[t(269)]+1),this[t(258)]();for(var o=this._hash,a=o[t(264)],h=0;h<5;h++){var l=a[h];a[h]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=s,e=o.clone[t(257)](this);return e._hash=this[t(254)][t(259)](),e}});function m(t,e,s){return t^e^s}function g(t,e,s){return t&e|~t&s}function y(t,e,s){return(t|~e)^s}function A(t,e,s){return t&s|e&~s}function v(t,e,s){return t^(e|~s)}function b(t,e){return t<<e|t>>>32-e}i[s(277)]=o[s(272)](f),i[s(253)]=o[s(281)](f)}(),t[e(277)]},"object"===(r=Fu)(262)?t.exports=i(iu):"undefined"===r(278)&&(void 0)[r(255)]?(void 0)([r(265)],i):i(s.CryptoJS)}));function Uu(){var t=["3gkfblo","_data","HmacRIPEMD160","_hash","amd","113289FZwvJc","call","_process","clone","11919440eqEIXD","algo","object","createCommonjsModule","words","./core","WordArray","create","6115284dkXNEU","length","9LoObym","5384670eHMipi","_createHelper","1459412opPHAg","148baJngB","144865mIDUMs","_nDataBytes","RIPEMD160","function","Hasher","850iCwjyR","_createHmacHelper","sigBytes","11851fkLiHs"];return(Uu=function(){return t})()}var Ou=Nu;!function(t,e){for(var s=Nu,i=t();;)try{if(696520===-parseInt(s(239))/1*(parseInt(s(262))/2)+parseInt(s(235))/3+-parseInt(s(252))/4*(-parseInt(s(238))/5)+parseInt(s(246))/6*(-parseInt(s(250))/7)+-parseInt(s(230))/8*(-parseInt(s(255))/9)+parseInt(s(225))/10*(parseInt(s(248))/11)+-parseInt(s(256))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ju);pe[Ou(247)]((function(t,e){var s,i,r;s=pe[Ou(261)],i=function(t){var e,s,i,r;i=(s=t)[(e=Nu)(260)][e(234)],r=s[e(231)][e(251)],s[e(236)][e(257)]=i[e(244)]({init:function(t,s){var i=e;t=this._hasher=new(t[i(243)]),"string"==typeof s&&(s=r[i(242)](s));var n=t[i(241)],o=4*n;s[i(249)]>o&&(s=t[i(259)](s)),s[i(226)]();for(var a=this._oKey=s[i(258)](),h=this._iKey=s[i(258)](),l=a[i(254)],c=h.words,d=0;d<n;d++)l[d]^=1549556828,c[d]^=909522486;a.sigBytes=h[i(249)]=o,this[i(232)]()},reset:function(){var t=e,s=this[t(263)];s[t(232)](),s.update(this._iKey)},update:function(t){var s=e;return this[s(263)][s(237)](t),this},finalize:function(t){var s=e,i=this._hasher,r=i[s(259)](t);return i.reset(),i[s(259)](this[s(228)][s(258)]()[s(240)](r))}})},"object"===(r=Nu)(233)?t[r(245)]=i(iu):"undefined"===r(253)&&(void 0)[r(229)]?(void 0)(["./core"],i):i(s[r(227)])}));function Nu(t,e){var s=ju();return(Nu=function(t,e){return s[t-=225]})(t,e)}function ju(){var t=["6621776UalUTD","enc","reset","object","Base","1910037ZbyIIp","algo","update","6514955kdduJf","68792OSptdq","concat","blockSize","parse","init","extend","exports","712722MXjvFN","createCommonjsModule","231wXpOJc","sigBytes","35jkPGRe","Utf8","4BEJuCg","function","words","9NTsbAd","6312192njCWYo","HMAC","clone","finalize","lib","commonjsGlobal","32CZjcAW","_hasher","71310drTImf","clamp","CryptoJS","_oKey","amd"];return(ju=function(){return t})()}var Vu=Wu;function Wu(t,e){var s=Gu();return(Wu=function(t,e){return s[t-=108]})(t,e)}!function(t,e){for(var s=Wu,i=t();;)try{if(815559===parseInt(s(122))/1+parseInt(s(125))/2*(-parseInt(s(136))/3)+-parseInt(s(121))/4*(-parseInt(s(135))/5)+-parseInt(s(142))/6*(-parseInt(s(139))/7)+parseInt(s(109))/8+-parseInt(s(118))/9*(parseInt(s(140))/10)+-parseInt(s(108))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Gu);pe[Vu(129)]((function(t,e){var s,i,r,n=Vu;s=pe[n(145)],i=function(t){var e,s,i,r,o,a,h,l,c,d=n;return i=(s=t)[(e=Wu)(131)],r=i[e(112)],o=i.WordArray,a=s[e(134)],h=a[e(126)],l=a[e(138)],c=a[e(137)]=r[e(128)]({cfg:r[e(128)]({keySize:4,hasher:h,iterations:25e4}),init:function(t){this[e(120)]=this.cfg.extend(t)},compute:function(t,s){for(var i=e,r=this[i(120)],n=l[i(110)](r[i(123)],t),a=o[i(110)](),h=o[i(110)]([1]),c=a[i(124)],d=h[i(124)],u=r[i(144)],p=r[i(141)];c.length<u;){var f=n[i(119)](s).finalize(h);n[i(127)]();for(var m=f[i(124)],g=m[i(132)],y=f,A=1;A<p;A++){y=n[i(111)](y),n.reset();for(var v=y[i(124)],b=0;b<g;b++)m[b]^=v[b]}a[i(116)](f),d[0]++}return a[i(115)]=4*u,a}}),s[e(137)]=function(t,s,i){var r=e;return c[r(110)](i)[r(113)](t,s)},t[d(137)]},(r=Wu)(146)==r(146)?t.exports=i(iu):"undefined"===r(117)&&(void 0)[r(114)]?(void 0)(["./core",r(133),r(130)],i):i(s[r(143)])}));function Gu(){var t=["12RulRSM","1502520XefWqL","hasher","words","2142MYwtKf","SHA256","reset","extend","createCommonjsModule","./hmac","lib","length","./sha256","algo","2194190rMpirJ","2547xKZwPu","PBKDF2","HMAC","3159499CpKbyG","14778740wcveLL","iterations","6rWTmWk","CryptoJS","keySize","commonjsGlobal","object","5274929sJpRig","3294880nSICIu","create","finalize","Base","compute","amd","sigBytes","concat","function","9LfPnUe","update","cfg"];return(Gu=function(){return t})()}var zu=Hu;function Hu(t,e){var s=Ku();return(Hu=function(t,e){return s[t-=233]})(t,e)}function Ku(){var t=["createCommonjsModule","finalize","hasher","4836786gPPFCW","1177857oGQkuk","commonjsGlobal","compute","object","688158ydDbDt","./hmac","WordArray","concat","words","1329688QQKpty","EvpKDF","./sha1","iterations","length","104tvZhKv","extend","cfg","345677hBYCJO","./core","exports","keySize","algo","8067040TGiyUg","update","function","CryptoJS","6039579JQyfBT","create","2rkTnOu"];return(Ku=function(){return t})()}!function(t,e){for(var s=Hu,i=t();;)try{if(938844===-parseInt(s(263))/1*(parseInt(s(241))/2)+parseInt(s(245))/3+parseInt(s(255))/4+-parseInt(s(235))/5+parseInt(s(250))/6+-parseInt(s(239))/7+parseInt(s(260))/8*(parseInt(s(246))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ku);pe[zu(242)]((function(t,e){var s,i,r,n=zu;s=pe[n(247)],i=function(t){var e,s,i,r,o,a,h,l,c=n;return e=Hu,i=(s=t).lib,r=i.Base,o=i[e(252)],a=s[e(234)],h=a.MD5,l=a.EvpKDF=r[e(261)]({cfg:r[e(261)]({keySize:4,hasher:h,iterations:1}),init:function(t){var s=e;this[s(262)]=this.cfg[s(261)](t)},compute:function(t,s){for(var i,r=e,n=this[r(262)],a=n[r(244)][r(240)](),h=o[r(240)](),l=h[r(254)],c=n[r(233)],d=n[r(258)];l[r(259)]<c;){i&&a[r(236)](i),i=a[r(236)](t)[r(243)](s),a.reset();for(var u=1;u<d;u++)i=a[r(243)](i),a.reset();h[r(253)](i)}return h.sigBytes=4*c,h}}),s.EvpKDF=function(t,s,i){var r=e;return l[r(240)](i)[r(248)](t,s)},t[c(256)]},"object"===(r=Hu)(249)?t[r(265)]=i(iu):"undefined"===r(237)&&(void 0).amd?(void 0)([r(264),r(257),r(251)],i):i(s[r(238)])}));var qu=Yu;function Qu(){var t=["words","padding","kdf","extend","create","8YSlqWH","CBC","unpad","decrypt","OpenSSL","compute","parse","execute","387441WkEbfm","_iv","./evpkdf","mixIn","_xformMode","54TUjZyJ","ciphertext","131380bdNDkb","_process","flush","__creator","2824880lUSTer","algo","_cipher","salt","2766168zpHJJZ","SerializableCipher","mode","exports","call","cfg","PasswordBasedCipher","7223880wgnxSe","splice","stringify","_ENC_XFORM_MODE","_data","createCommonjsModule","createEncryptor","12838882fnTmvk","init","reset","concat","ivSize","format","67794gDruIo","string","_prevBlock","key","_parse","object","encryptBlock","processBlock","_doFinalize","_DEC_XFORM_MODE","EvpKDF","enc","function","commonjsGlobal","amd","_mode","toString","BufferedBlockAlgorithm","BlockCipher","Utf8","lib","hasher","slice","createDecryptor","_append","encrypt","Base","Decryptor","sigBytes","StreamCipher","formatter","blockSize","finalize","keySize","Cipher"];return(Qu=function(){return t})()}!function(t,e){for(var s=Yu,i=t();;)try{if(939297===-parseInt(s(200))/1+-parseInt(s(198))/2*(-parseInt(s(228))/3)+-parseInt(s(208))/4+parseInt(s(204))/5+-parseInt(s(215))/6+parseInt(s(222))/7+-parseInt(s(185))/8*(parseInt(s(193))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Qu);pe[qu(220)]((function(t,e){var s,i,r,n=qu;s=pe[n(158)],i=function(t){var e=n;t[e(165)][e(179)]||function(s){var i=e,r=t,n=r[i(165)],o=n[i(171)],a=n.WordArray,h=n[i(162)],l=r[i(156)];l[i(164)];var c=l.Base64,d=r[i(205)][i(155)],u=n[i(179)]=h[i(183)]({cfg:o[i(183)](),createEncryptor:function(t,e){var s=i;return this[s(184)](this[s(218)],t,e)},createDecryptor:function(t,e){var s=i;return this.create(this[s(154)],t,e)},init:function(t,e,s){var r=i;this[r(213)]=this[r(213)][r(183)](s),this._xformMode=t,this._key=e,this.reset()},reset:function(){var t=i;h[t(224)][t(212)](this),this._doReset()},process:function(t){return this[i(169)](t),this._process()},finalize:function(t){var e=i;return t&&this[e(169)](t),this[e(153)]()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return typeof t==Yu(229)?S:v}return function(e){return{encrypt:function(s,i,r){var n=Yu;return t(i)[n(170)](e,s,i,r)},decrypt:function(s,i,r){var n=Yu;return t(i)[n(188)](e,s,i,r)}}}}()});n[i(174)]=u[i(183)]({_doFinalize:function(){var t=i;return this._process(!!t(202))},blockSize:1});var p=r[i(210)]={},f=n.BlockCipherMode=o[i(183)]({createEncryptor:function(t,e){var s=i;return this.Encryptor[s(184)](t,e)},createDecryptor:function(t,e){var s=i;return this[s(172)][s(184)](t,e)},init:function(t,e){var s=i;this[s(206)]=t,this[s(194)]=e}}),m=p[i(186)]=function(){var t=i,e=f[t(183)]();function s(t,e,s){var i,r=this._iv;r?(i=r,this._iv=void 0):i=this._prevBlock;for(var n=0;n<s;n++)t[e+n]^=i[n]}return e.Encryptor=e.extend({processBlock:function(e,i){var r=t,n=this[r(206)],o=n[r(176)];s[r(212)](this,e,i,o),n[r(234)](e,i),this._prevBlock=e.slice(i,i+o)}}),e[t(172)]=e[t(183)]({processBlock:function(e,i){var r=t,n=this[r(206)],o=n[r(176)],a=e[r(167)](i,i+o);n.decryptBlock(e,i),s[r(212)](this,e,i,o),this[r(230)]=a}}),e}(),g=(r.pad={}).Pkcs7={pad:function(t,e){for(var s=i,r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,h=[],l=0;l<n;l+=4)h.push(o);var c=a[s(184)](h,n);t[s(225)](c)},unpad:function(t){var e=i,s=255&t.words[t[e(173)]-1>>>2];t[e(173)]-=s}};n[i(163)]=u[i(183)]({cfg:u[i(213)][i(183)]({mode:m,padding:g}),reset:function(){var t,e=i;u[e(224)][e(212)](this);var s=this[e(213)],r=s.iv,n=s[e(210)];this[e(197)]==this._ENC_XFORM_MODE?t=n[e(221)]:(t=n[e(168)],this._minBufferSize=1),this._mode&&this._mode.__creator==t?this[e(160)][e(223)](this,r&&r[e(180)]):(this[e(160)]=t.call(n,this,r&&r.words),this[e(160)][e(203)]=t)},_doProcessBlock:function(t,e){var s=i;this[s(160)][s(152)](t,e)},_doFinalize:function(){var t,e=i,s=this.cfg[e(181)];return this[e(197)]==this[e(218)]?(s.pad(this[e(219)],this[e(176)]),t=this[e(201)](!!e(202))):(t=this[e(201)](!!e(202)),s[e(187)](t)),t},blockSize:4});var y=n.CipherParams=o.extend({init:function(t){this[i(196)](t)},toString:function(t){var e=i;return(t||this[e(175)])[e(217)](this)}}),A=(r[i(227)]={})[i(189)]={stringify:function(t){var e=i,s=t[e(199)],r=t[e(207)];return(r?a[e(184)]([1398893684,1701076831])[e(225)](r)[e(225)](s):s)[e(161)](c)},parse:function(t){var e,s=i,r=c[s(191)](t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=a.create(n[s(167)](2,4)),n[s(216)](0,4),r.sigBytes-=16),y[s(184)]({ciphertext:r,salt:e})}},v=n[i(209)]=o.extend({cfg:o.extend({format:A}),encrypt:function(t,e,s,r){var n=i;r=this[n(213)][n(183)](r);var o=t.createEncryptor(s,r),a=o[n(177)](e),h=o.cfg;return y[n(184)]({ciphertext:a,key:s,iv:h.iv,algorithm:t,mode:h.mode,padding:h.padding,blockSize:t[n(176)],formatter:r.format})},decrypt:function(t,e,s,r){var n=i;return r=this[n(213)].extend(r),e=this[n(232)](e,r[n(227)]),t[n(168)](s,r)[n(177)](e[n(199)])},_parse:function(t,e){return typeof t==i(229)?e.parse(t,this):t}}),b=(r.kdf={})[i(189)]={execute:function(t,e,s,r,n){var o=i;if(!r&&(r=a.random(8)),n)h=d.create({keySize:e+s,hasher:n})[o(190)](t,r);else var h=d[o(184)]({keySize:e+s}).compute(t,r);var l=a.create(h[o(180)][o(167)](e),4*s);return h.sigBytes=4*e,y[o(184)]({key:h,iv:l,salt:r})}},S=n[i(214)]=v[i(183)]({cfg:v[i(213)][i(183)]({kdf:b}),encrypt:function(t,e,s,r){var n=i,o=(r=this[n(213)][n(183)](r))[n(182)][n(192)](s,t[n(178)],t[n(226)],r.salt,r[n(166)]);r.iv=o.iv;var a=v.encrypt[n(212)](this,t,e,o[n(231)],r);return a[n(196)](o),a},decrypt:function(t,e,s,r){var n=i;r=this[n(213)][n(183)](r),e=this[n(232)](e,r.format);var o=r[n(182)][n(192)](s,t[n(178)],t[n(226)],e[n(207)],r[n(166)]);return r.iv=o.iv,v[n(188)][n(212)](this,t,e,o[n(231)],r)}})}()},"object"===(r=Yu)(233)?t[r(211)]=i(iu):"undefined"===r(157)&&(void 0)[r(159)]?(void 0)(["./core",r(195)],i):i(s.CryptoJS)}));function Yu(t,e){var s=Qu();return(Yu=function(t,e){return s[t-=152]})(t,e)}var Ju=Xu;function Xu(t,e){var s=$u();return(Xu=function(t,e){return s[t-=314]})(t,e)}function $u(){var t=["752360Bfherd","lib","200eovnRh","79182FBDwRQ","call","_iv","_prevBlock","slice","_cipher","3992nTccud","./core","BlockCipherMode","mode","164988VNkfpy","encryptBlock","./cipher-core","Encryptor","createCommonjsModule","exports","120sySTQe","3822288iGKtBP","extend","2546622rwATnI","CFB","9485qlQedl","function","commonjsGlobal","object","743766DdsEBn","blockSize"];return($u=function(){return t})()}!function(t,e){for(var s=Xu,i=t();;)try{if(479952===parseInt(s(334))/1+-parseInt(s(332))/2+-parseInt(s(326))/3+parseInt(s(324))/4+parseInt(s(323))/5*(-parseInt(s(337))/6)+parseInt(s(328))/7*(parseInt(s(343))/8)+-parseInt(s(317))/9*(parseInt(s(336))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}($u);pe[Ju(321)]((function(t,e){var s,i,r,n=Ju;s=pe[n(330)],i=function(t){var e=n;return t[e(316)][e(327)]=function(){var s=e,i=t[s(335)][s(315)][s(325)]();function r(t,e,i,r){var n,o=s,a=this[o(339)];a?(n=a.slice(0),this[o(339)]=void 0):n=this._prevBlock,r[o(318)](n,0);for(var h=0;h<i;h++)t[e+h]^=n[h]}return i[s(320)]=i[s(325)]({processBlock:function(t,e){var i=s,n=this[i(342)],o=n.blockSize;r[i(338)](this,t,e,o,n),this[i(340)]=t[i(341)](e,e+o)}}),i.Decryptor=i[s(325)]({processBlock:function(t,e){var i=s,n=this[i(342)],o=n[i(333)],a=t.slice(e,e+o);r[i(338)](this,t,e,o,n),this[i(340)]=a}}),i}(),t.mode.CFB},"object"===(r=Xu)(331)?t[r(322)]=i(iu):"undefined"===r(329)&&(void 0).amd?(void 0)([r(314),r(319)],i):i(s.CryptoJS)}));var Zu=ep;function tp(){var t=["80McdYgb","11872iJoEBd","2307573SmSpQY","416035ojRxkT","extend","4GFQgJU","blockSize","1370301ssiNAN","amd","_iv","object","7360140LwVfgS","CryptoJS","BlockCipherMode","exports","./core","_cipher","3002156jCCHVI","lib","Encryptor","_counter","function","Decryptor","mode","CTR","1360308uClKeV","./cipher-core","4382neCVrL","slice","encryptBlock","createCommonjsModule"];return(tp=function(){return t})()}function ep(t,e){var s=tp();return(ep=function(t,e){return s[t-=181]})(t,e)}!function(t,e){for(var s=ep,i=t();;)try{if(762037===parseInt(s(199))/1+parseInt(s(197))/2*(parseInt(s(186))/3)+parseInt(s(209))/4+parseInt(s(195))/5+-parseInt(s(203))/6+-parseInt(s(188))/7*(-parseInt(s(193))/8)+parseInt(s(194))/9*(-parseInt(s(192))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tp);pe[Zu(191)]((function(t,e){var s,i,r;s=ce,i=function(t){var e,s,i,r=ep;return t[r(184)][r(185)]=(s=t[(e=r)(210)][e(205)][e(196)](),i=s[e(211)]=s[e(196)]({processBlock:function(t,s){var i=e,r=this[i(208)],n=r[i(198)],o=this[i(201)],a=this[i(181)];o&&(a=this._counter=o.slice(0),this[i(201)]=void 0);var h=a[i(189)](0);r[i(190)](h,0),a[n-1]=a[n-1]+1|0;for(var l=0;l<n;l++)t[s+l]^=h[l]}}),s[e(183)]=i,s),t[r(184)][r(185)]},(r=ep)(202)==r(202)?t[r(206)]=i(iu):"undefined"===r(182)&&(void 0)[r(200)]?(void 0)([r(207),r(187)],i):i(s[r(204)])}));function sp(t,e){var s=ip();return(sp=function(t,e){return s[t-=215]})(t,e)}!function(t,e){for(var s=sp,i=t();;)try{if(617970===parseInt(s(215))/1*(parseInt(s(227))/2)+parseInt(s(218))/3*(parseInt(s(228))/4)+parseInt(s(230))/5+parseInt(s(242))/6*(parseInt(s(222))/7)+parseInt(s(237))/8+parseInt(s(224))/9+parseInt(s(216))/10*(-parseInt(s(238))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ip);ue((function(t,e){var s,i,r,n=sp;s=pe[n(217)],i=function(t){var e=n;return t[e(225)][e(220)]=function(){var s=e,i=t[s(229)].BlockCipherMode[s(243)]();function r(t){if(255==(t>>24&255)){var e=t>>16&255,s=t>>8&255,i=255&t;255===e?(e=0,255===s?(s=0,255===i?i=0:++i):++s):++e,t=0,t+=e<<16,t+=s<<8,t+=i}else t+=1<<24;return t}var n=i[s(221)]=i[s(243)]({processBlock:function(t,e){var i,n=s,o=this[n(234)],a=o[n(232)],h=this[n(239)],l=this[n(226)];h&&(l=this[n(226)]=h[n(241)](0),this[n(239)]=void 0),0===((i=l)[0]=r(i[0]))&&(i[1]=r(i[1]));var c=l[n(241)](0);o.encryptBlock(c,0);for(var d=0;d<a;d++)t[e+d]^=c[d]}});return i[s(236)]=n,i}(),t.mode[e(220)]},(r=sp)(219)==r(219)?t[r(233)]=i(iu):"undefined"===r(223)&&(void 0)[r(235)]?(void 0)([r(231),r(240)],i):i(s.CryptoJS)}));function ip(){var t=["object","CTRGladman","Encryptor","3213ULWRqP","function","9849906tHNroy","mode","_counter","439514hKZYeC","27868mZyTMv","lib","2741850tllBzD","./core","blockSize","exports","_cipher","amd","Decryptor","4336352gjqJJe","11eDzpZU","_iv","./cipher-core","slice","4986yNoKNe","extend","1GUihmp","30528730vtNZrl","commonjsGlobal","381jjddBW"];return(ip=function(){return t})()}!function(t,e){for(var s=rp,i=t();;)try{if(924474===parseInt(s(315))/1*(-parseInt(s(330))/2)+-parseInt(s(324))/3+parseInt(s(322))/4*(-parseInt(s(309))/5)+parseInt(s(317))/6+parseInt(s(332))/7*(parseInt(s(325))/8)+parseInt(s(313))/9*(parseInt(s(320))/10)+parseInt(s(331))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(np);ue((function(t,e){var s,i,r,n=rp;s=pe[n(319)],i=function(t){var e,s,i,r=n;return t.mode[r(306)]=(s=t[(e=r)(323)].BlockCipherMode[e(307)](),i=s[e(305)]=s[e(307)]({processBlock:function(t,s){var i=e,r=this._cipher,n=r[i(308)],o=this[i(316)],a=this._keystream;o&&(a=this[i(327)]=o[i(310)](0),this[i(316)]=void 0),r[i(312)](a,0);for(var h=0;h<n;h++)t[s+h]^=a[h]}}),s[e(311)]=i,s),t[r(321)].OFB},"object"===(r=rp)(328)?t[r(318)]=i(iu):"undefined"===r(326)&&(void 0)[r(329)]?(void 0)([r(314),"./cipher-core"],i):i(s.CryptoJS)}));function rp(t,e){var s=np();return(rp=function(t,e){return s[t-=305]})(t,e)}function np(){var t=["7820922fAKnzG","exports","commonjsGlobal","325490YqiCMm","mode","32MrHqEw","lib","153042EhCHAj","1099736KwUiyq","function","_keystream","object","amd","2675720skjkFR","17075685onkepy","28LamaKX","Encryptor","OFB","extend","blockSize","723400bZCBpi","slice","Decryptor","encryptBlock","18OkFiKL","./core","1mQxqQY","_iv"];return(np=function(){return t})()}function op(t,e){var s=ap();return(op=function(t,e){return s[t-=340]})(t,e)}function ap(){var t=["object","1027TfvqFN","316128cLcEUu","4009832zYppQI","5195DpyVGG","3548277rEVXpi","7TqyNUH","./core","3096ESyYpT","encryptBlock","decryptBlock","CryptoJS","6237210MFixAl","extend","2018smBTiU","commonjsGlobal","BlockCipherMode","_cipher","2877984CgXOsU","ECB","amd","mode","function"];return(ap=function(){return t})()}!function(t,e){for(var s=op,i=t();;)try{if(597494===-parseInt(s(354))/1*(-parseInt(s(344))/2)+-parseInt(s(355))/3+parseInt(s(348))/4+-parseInt(s(357))/5*(parseInt(s(361))/6)+-parseInt(s(359))/7*(-parseInt(s(356))/8)+-parseInt(s(358))/9+-parseInt(s(342))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ap);ue((function(t,e){var s,i,r,n=op;s=pe[n(345)],i=function(t){var e,s,i=n;return t.mode[i(349)]=(e=i,(s=t.lib[e(346)][e(343)]()).Encryptor=s[e(343)]({processBlock:function(t,s){var i=e;this._cipher[i(362)](t,s)}}),s.Decryptor=s.extend({processBlock:function(t,s){var i=e;this[i(347)][i(340)](t,s)}}),s),t[i(351)][i(349)]},(r=op)(353)==r(353)?t.exports=i(iu):"undefined"===r(352)&&(void 0)[r(350)]?(void 0)([r(360),"./cipher-core"],i):i(s[r(341)])}));function hp(){var t=["exports","amd","543367wfgKii","sigBytes","730qNdtkr","./cipher-core","882xXopcG","function","24SSibBD","./core","Ansix923","8419950gMKaQy","clamp","words","1251313mTfhlT","commonjsGlobal","AnsiX923","1473520DRgPsg","8251728QMFYcW","3943660kgHDhK","pad"];return(hp=function(){return t})()}!function(t,e){for(var s=lp,i=t();;)try{if(659654===-parseInt(s(425))/1+-parseInt(s(406))/2*(parseInt(s(408))/3)+parseInt(s(421))/4+-parseInt(s(419))/5+-parseInt(s(410))/6*(-parseInt(s(416))/7)+-parseInt(s(420))/8+parseInt(s(413))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(hp);ue((function(t,e){var s,i,r=lp;pe[r(417)],t[lp(423)]=((s=iu)[(i=r)(422)][i(418)]={pad:function(t,e){var s=i,r=t[s(405)],n=4*e,o=n-r%n,a=r+o-1;t[s(414)](),t[s(415)][a>>>2]|=o<<24-a%4*8,t[s(405)]+=o},unpad:function(t){var e=255&t[i(415)][t.sigBytes-1>>>2];t.sigBytes-=e}},s[i(422)][i(412)])}));function lp(t,e){var s=hp();return(lp=function(t,e){return s[t-=405]})(t,e)}var cp=up;function dp(){var t=["words","concat","21qoZHJE","WordArray","1682528snFZGZ","function","lib","703375PWTESz","1467714RxslaD","995545pAcpLH","commonjsGlobal","Iso10126","pad","3879600LVcMWG","sigBytes","create","./core","4HnebQu","CryptoJS","createCommonjsModule","object","random","879831sIdKHh","8880885IsUZrx","amd"];return(dp=function(){return t})()}!function(t,e){for(var s=up,i=t();;)try{if(521365===-parseInt(s(488))/1+-parseInt(s(508))/2+parseInt(s(501))/3*(parseInt(s(496))/4)+-parseInt(s(486))/5+parseInt(s(487))/6*(parseInt(s(506))/7)+parseInt(s(492))/8+parseInt(s(502))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dp);pe[cp(498)]((function(t,e){var s,i,r,n=cp;s=pe[n(489)],i=function(t){var e=n;return t[e(491)][e(490)]={pad:function(s,i){var r=e,n=4*i,o=n-s[r(493)]%n;s[r(505)](t[r(510)][r(507)][r(500)](o-1))[r(505)](t[r(510)].WordArray[r(494)]([o<<24],1))},unpad:function(t){var s=e,i=255&t[s(504)][t[s(493)]-1>>>2];t[s(493)]-=i}},t[e(491)][e(490)]},(r=up)(499)==r(499)?t.exports=i(iu):"undefined"===r(509)&&(void 0)[r(503)]?(void 0)([r(495),"./cipher-core"],i):i(s[r(497)])}));function up(t,e){var s=dp();return(up=function(t,e){return s[t-=486]})(t,e)}var pp=fp;function fp(t,e){var s=mp();return(fp=function(t,e){return s[t-=156]})(t,e)}!function(t,e){for(var s=fp,i=t();;)try{if(527090===-parseInt(s(157))/1+parseInt(s(175))/2*(-parseInt(s(171))/3)+-parseInt(s(161))/4*(-parseInt(s(177))/5)+parseInt(s(160))/6+-parseInt(s(159))/7+parseInt(s(172))/8*(-parseInt(s(169))/9)+parseInt(s(173))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mp);pe[pp(178)]((function(t,e){var s,i,r,n=pp;s=pe[n(158)],i=function(t){var e=n;return t.pad.Iso97971={pad:function(e,s){var i=fp;e[i(164)](t.lib.WordArray[i(156)]([2147483648],1)),t[i(176)][i(167)].pad(e,s)},unpad:function(e){var s=fp;t[s(176)][s(167)][s(165)](e),e.sigBytes--}},t[e(176)][e(174)]},(r=fp)(163)==r(163)?t[r(162)]=i(iu):"undefined"===r(170)&&(void 0)[r(166)]?(void 0)(["./core","./cipher-core"],i):i(s[r(168)])}));function mp(){var t=["4002084ykdpah","368TnyvJf","exports","object","concat","unpad","amd","ZeroPadding","CryptoJS","6326730NdllDG","function","9mCTJiA","8TvhvCV","12337890NtZgaP","Iso97971","167428hoYFKD","pad","31865kTwHfF","createCommonjsModule","create","653035lnMlRO","commonjsGlobal","2470174UfOuVn"];return(mp=function(){return t})()}var gp=yp;function yp(t,e){var s=Ap();return(yp=function(t,e){return s[t-=489]})(t,e)}function Ap(){var t=["1489386efQzto","1220JaWCnr","1228rFwfqI","commonjsGlobal","object","amd","words","sigBytes","./core","createCommonjsModule","733leyByf","function","pad","2994677WcSIKC","770958pcBEqe","5541nDyLXI","257840IhFDbs","exports","ZeroPadding","281295tjgsyy","CryptoJS"];return(Ap=function(){return t})()}!function(t,e){for(var s=yp,i=t();;)try{if(290026===parseInt(s(499))/1*(-parseInt(s(491))/2)+parseInt(s(504))/3*(parseInt(s(490))/4)+-parseInt(s(508))/5+-parseInt(s(489))/6+parseInt(s(502))/7+-parseInt(s(505))/8+parseInt(s(503))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ap);pe[gp(498)]((function(t,e){var s,i,r,n=gp;s=pe[n(492)],i=function(t){var e=n;return t[e(501)][e(507)]={pad:function(t,s){var i=e,r=4*s;t.clamp(),t[i(496)]+=r-(t[i(496)]%r||r)},unpad:function(t){var s=e,i=t[s(495)],r=t[s(496)]-1;for(r=t[s(496)]-1;r>=0;r--)if(i[r>>>2]>>>24-r%4*8&255){t[s(496)]=r+1;break}}},t[e(501)][e(507)]},"object"===(r=yp)(493)?t[r(506)]=i(iu):"undefined"===r(500)&&(void 0)[r(494)]?(void 0)([r(497),"./cipher-core"],i):i(s[r(509)])}));function vp(){var t=["NoPadding","862EFGWgq","13433330cgzheA","4749boYQWT","351bsBHQE","./cipher-core","207840ZUtLRu","pad","function","750794nJZjMf","./core","object","228280KACFzq","CryptoJS","102QbpwdM","amd","4994195xDKKXA","16387TyhbvP"];return(vp=function(){return t})()}function bp(t,e){var s=vp();return(bp=function(t,e){return s[t-=335]})(t,e)}!function(t,e){for(var s=bp,i=t();;)try{if(676859===parseInt(s(337))/1+parseInt(s(347))/2*(parseInt(s(349))/3)+parseInt(s(352))/4+-parseInt(s(344))/5+parseInt(s(342))/6*(-parseInt(s(345))/7)+parseInt(s(340))/8*(-parseInt(s(350))/9)+parseInt(s(348))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vp);ue((function(t,e){var s,i,r;s=ce,i=function(t){var e=bp;return t.pad.NoPadding={pad:function(){},unpad:function(){}},t[e(335)][e(346)]},"object"===(r=bp)(339)?t.exports=i(iu):"undefined"===r(336)&&(void 0)[r(343)]?(void 0)([r(338),r(351)],i):i(s[r(341)])}));function Sp(){var t=["22WzTrBs","toString","819GizsBq","13BjfTBB","3044430rXiMcF","8tZiucq","35080KLlGvB","143920XXdclD","amd","4229196kRHtqP","function","ciphertext","parse","CipherParams","enc","commonjsGlobal","lib","./cipher-core","object","Hex","172781eNCXKa","./core","create","91452foLkiW","5669292uZLjhm","385lMpYie","format"];return(Sp=function(){return t})()}function wp(t,e){var s=Sp();return(wp=function(t,e){return s[t-=268]})(t,e)}!function(t,e){for(var s=wp,i=t();;)try{if(637976===parseInt(s(281))/1*(parseInt(s(285))/2)+-parseInt(s(282))/3+-parseInt(s(287))/4+-parseInt(s(276))/5*(-parseInt(s(274))/6)+-parseInt(s(271))/7*(parseInt(s(283))/8)+parseInt(s(280))/9*(-parseInt(s(284))/10)+parseInt(s(278))/11*(parseInt(s(275))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Sp);ue((function(t,e){var s,i,r,n=wp;s=pe[n(293)],i=function(t){var e,s,i,r,o=n;return i=(s=t)[(e=wp)(294)][e(291)],r=s[e(292)][e(270)],s[e(277)][e(270)]={stringify:function(t){var s=e;return t[s(289)][s(279)](r)},parse:function(t){var s=e,n=r[s(290)](t);return i[s(273)]({ciphertext:n})}},t[o(277)][o(270)]},"object"===(r=wp)(269)?t.exports=i(iu):"undefined"===r(288)&&(void 0)[r(286)]?(void 0)([r(272),r(268)],i):i(s.CryptoJS)}));var Ep=Tp;function Tp(t,e){var s=Ip();return(Tp=function(t,e){return s[t-=366]})(t,e)}!function(t,e){for(var s=Tp,i=t();;)try{if(572012===-parseInt(s(371))/1+-parseInt(s(387))/2+-parseInt(s(394))/3*(-parseInt(s(380))/4)+-parseInt(s(368))/5+parseInt(s(366))/6+-parseInt(s(391))/7+parseInt(s(379))/8*(parseInt(s(378))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ip);pe[Ep(382)]((function(t,e){var s,i,r;s=ce,i=function(t){var e=Tp;return function(){var e=Tp,s=t,i=s[e(385)][e(367)],r=s.algo,n=[],o=[],a=[],h=[],l=[],c=[],d=[],u=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var s=0,i=0;for(e=0;e<256;e++){var r=i^i<<1^i<<2^i<<3^i<<4;r=r>>>8^255&r^99,n[s]=r,o[r]=s;var m=t[s],g=t[m],y=t[g],A=257*t[r]^16843008*r;a[s]=A<<24|A>>>8,h[s]=A<<16|A>>>16,l[s]=A<<8|A>>>24,c[s]=A,A=16843009*y^65537*g^257*m^16843008*s,d[r]=A<<24|A>>>8,u[r]=A<<16|A>>>16,p[r]=A<<8|A>>>24,f[r]=A,s?(s=m^t[t[t[y^m]]],i^=t[t[i]]):s=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=i[e(383)]({_doReset:function(){var t=e;if(!this[t(370)]||this[t(372)]!==this._key){for(var s=this[t(372)]=this[t(377)],i=s[t(388)],r=s.sigBytes/4,o=4*((this._nRounds=r+6)+1),a=this[t(375)]=[],h=0;h<o;h++)h<r?a[h]=i[h]:(g=a[h-1],h%r?r>6&&h%r==4&&(g=n[g>>>24]<<24|n[g>>>16&255]<<16|n[g>>>8&255]<<8|n[255&g]):(g=n[(g=g<<8|g>>>24)>>>24]<<24|n[g>>>16&255]<<16|n[g>>>8&255]<<8|n[255&g],g^=m[h/r|0]<<24),a[h]=a[h-r]^g);for(var l=this[t(373)]=[],c=0;c<o;c++){if(h=o-c,c%4)var g=a[h];else g=a[h-4];l[c]=c<4||h<=4?g:d[n[g>>>24]]^u[n[g>>>16&255]]^p[n[g>>>8&255]]^f[n[255&g]]}}},encryptBlock:function(t,s){var i=e;this[i(390)](t,s,this[i(375)],a,h,l,c,n)},decryptBlock:function(t,s){var i=e,r=t[s+1];t[s+1]=t[s+3],t[s+3]=r,this[i(390)](t,s,this[i(373)],d,u,p,f,o),r=t[s+1],t[s+1]=t[s+3],t[s+3]=r},_doCryptBlock:function(t,s,i,r,n,o,a,h){for(var l=this[e(370)],c=t[s]^i[0],d=t[s+1]^i[1],u=t[s+2]^i[2],p=t[s+3]^i[3],f=4,m=1;m<l;m++){var g=r[c>>>24]^n[d>>>16&255]^o[u>>>8&255]^a[255&p]^i[f++],y=r[d>>>24]^n[u>>>16&255]^o[p>>>8&255]^a[255&c]^i[f++],A=r[u>>>24]^n[p>>>16&255]^o[c>>>8&255]^a[255&d]^i[f++],v=r[p>>>24]^n[c>>>16&255]^o[d>>>8&255]^a[255&u]^i[f++];c=g,d=y,u=A,p=v}g=(h[c>>>24]<<24|h[d>>>16&255]<<16|h[u>>>8&255]<<8|h[255&p])^i[f++],y=(h[d>>>24]<<24|h[u>>>16&255]<<16|h[p>>>8&255]<<8|h[255&c])^i[f++],A=(h[u>>>24]<<24|h[p>>>16&255]<<16|h[c>>>8&255]<<8|h[255&d])^i[f++],v=(h[p>>>24]<<24|h[c>>>16&255]<<16|h[d>>>8&255]<<8|h[255&u])^i[f++],t[s]=g,t[s+1]=y,t[s+2]=A,t[s+3]=v},keySize:8});s.AES=i._createHelper(g)}(),t[e(374)]},(r=Tp)(393)==r(393)?t[r(386)]=i(iu):i(s[r(381)])}));function Ip(){var t=["8192cbgNjb","4196qHigOm","CryptoJS","createCommonjsModule","extend","./md5","lib","exports","1614486moHMaY","words","amd","_doCryptBlock","658336bOzPDq","./core","object","570uCnbWM","./cipher-core","3339210MUenbh","BlockCipher","4245815RPtUhX","./enc-base64","_nRounds","468067GkRwmC","_keyPriorReset","_invKeySchedule","AES","_keySchedule","./evpkdf","_key","17883WbRtHJ"];return(Ip=function(){return t})()}var kp=_p;function _p(t,e){var s=Cp();return(_p=function(t,e){return s[t-=497]})(t,e)}function Cp(){var t=["./cipher-core","730526IIuUtA","createEncryptor","1730luwTDB","_subKeys","_rBlock","exports","TripleDES","amd","_des1","DES","717105xzdDYC","WordArray","_des2","2qZInDz","./md5","_invSubKeys","lib","./core","_createHelper","length","7076313EgCfLV","commonjsGlobal","words","_lBlock","algo","88DUHrIs","_doCryptBlock","./enc-base64","object","extend","439885PYOiRO","4031610pOAhmG","_key","call","create","createCommonjsModule","Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.","encryptBlock","380751dVRUli","27049NZLFsW","decryptBlock","_des3","function","slice","4ubNFYr"];return(Cp=function(){return t})()}!function(t,e){for(var s=_p,i=t();;)try{if(447122===parseInt(s(503))/1*(parseInt(s(516))/2)+-parseInt(s(513))/3*(-parseInt(s(501))/4)+-parseInt(s(533))/5+-parseInt(s(534))/6+parseInt(s(541))/7*(parseInt(s(528))/8)+-parseInt(s(523))/9+parseInt(s(505))/10*(parseInt(s(542))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cp);pe[kp(538)]((function(t,e){var s,i,r,n=kp;s=pe[n(524)],i=function(t){var e=n;return function(){var e=_p,s=t,i=s[e(519)],r=i[e(514)],n=i.BlockCipher,o=s[e(527)],a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o[e(512)]=n[e(532)]({_doReset:function(){for(var t=e,s=this._key[t(525)],i=[],r=0;r<56;r++){var n=a[r]-1;i[r]=s[n>>>5]>>>31-n%32&1}for(var o=this[t(506)]=[],c=0;c<16;c++){var d=o[c]=[],u=l[c];for(r=0;r<24;r++)d[r/6|0]|=i[(h[r]-1+u)%28]<<31-r%6,d[4+(r/6|0)]|=i[28+(h[r+24]-1+u)%28]<<31-r%6;for(d[0]=d[0]<<1|d[0]>>>31,r=1;r<7;r++)d[r]=d[r]>>>4*(r-1)+3;d[7]=d[7]<<5|d[7]>>>27}var p=this[t(518)]=[];for(r=0;r<16;r++)p[r]=o[15-r]},encryptBlock:function(t,s){var i=e;this[i(529)](t,s,this[i(506)])},decryptBlock:function(t,s){var i=e;this[i(529)](t,s,this[i(518)])},_doCryptBlock:function(t,s,i){var r=e;this[r(526)]=t[s],this[r(507)]=t[s+1],p[r(536)](this,4,252645135),p[r(536)](this,16,65535),f.call(this,2,858993459),f[r(536)](this,8,16711935),p[r(536)](this,1,1431655765);for(var n=0;n<16;n++){for(var o=i[n],a=this[r(526)],h=this._rBlock,l=0,u=0;u<8;u++)l|=c[u][((h^o[u])&d[u])>>>0];this[r(526)]=h,this[r(507)]=a^l}var m=this[r(526)];this[r(526)]=this[r(507)],this[r(507)]=m,p[r(536)](this,1,1431655765),f[r(536)](this,8,16711935),f.call(this,2,858993459),p[r(536)](this,16,65535),p[r(536)](this,4,252645135),t[s]=this[r(526)],t[s+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(t,s){var i=e,r=(this[i(526)]>>>t^this[i(507)])&s;this[i(507)]^=r,this._lBlock^=r<<t}function f(t,s){var i=e,r=(this[i(507)]>>>t^this[i(526)])&s;this[i(526)]^=r,this[i(507)]^=r<<t}s.DES=n[e(521)](u);var m=o[e(509)]=n[e(532)]({_doReset:function(){var t=e,s=this[t(535)][t(525)];if(2!==s[t(522)]&&4!==s[t(522)]&&s[t(522)]<6)throw new Error(t(539));var i=s[t(500)](0,2),n=s.length<4?s[t(500)](0,2):s[t(500)](2,4),o=s[t(522)]<6?s.slice(0,2):s.slice(4,6);this[t(511)]=u.createEncryptor(r[t(537)](i)),this[t(515)]=u[t(504)](r.create(n)),this._des3=u[t(504)](r[t(537)](o))},encryptBlock:function(t,s){var i=e;this._des1[i(540)](t,s),this._des2.decryptBlock(t,s),this[i(498)].encryptBlock(t,s)},decryptBlock:function(t,s){var i=e;this._des3[i(497)](t,s),this._des2[i(540)](t,s),this[i(511)][i(497)](t,s)},keySize:6,ivSize:2,blockSize:2});s.TripleDES=n[e(521)](m)}(),t[e(509)]},(r=_p)(531)==r(531)?t[r(508)]=i(iu):"undefined"===r(499)&&(void 0)[r(510)]?(void 0)([r(520),r(530),r(517),"./evpkdf",r(502)],i):i(s.CryptoJS)}));var Dp=Rp;function Rp(t,e){var s=Lp();return(Rp=function(t,e){return s[t-=389]})(t,e)}function Lp(){var t=["10VxRBRL","96pJYxnv","call","222929gMDjGO","RC4Drop","words","sigBytes","function","drop","StreamCipher","66512IWqUbM","5762184CcigMs","3129400SXkCOg","4IdsBzV","commonjsGlobal","CryptoJS","./cipher-core","4162752LVfrey","exports","createCommonjsModule","lib","./enc-base64","764rTOYBS","object","./md5","_createHelper","cfg","_doReset","63JVhHXQ","RC4","./core","./evpkdf","extend","1521684ifWWTn"];return(Lp=function(){return t})()}!function(t,e){for(var s=Rp,i=t();;)try{if(483065===-parseInt(s(414))/1*(-parseInt(s(405))/2)+-parseInt(s(420))/3*(-parseInt(s(402))/4)+-parseInt(s(404))/5+parseInt(s(393))/6*(-parseInt(s(395))/7)+parseInt(s(403))/8+parseInt(s(391))/9*(parseInt(s(392))/10)+parseInt(s(409))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lp);pe[Dp(411)]((function(t,e){var s,i,r,n=Dp;s=pe[n(406)],i=function(t){var e=n;return function(){var e=Rp,s=t,i=s[e(412)][e(401)],r=s.algo,n=r[e(421)]=i[e(390)]({_doReset:function(){for(var t=e,s=this._key,i=s[t(397)],r=s[t(398)],n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var a=0;o<256;o++){var h=o%r,l=i[h>>>2]>>>24-h%4*8&255;a=(a+n[o]+l)%256;var c=n[o];n[o]=n[a],n[a]=c}this._i=this._j=0},_doProcessBlock:function(t,s){var i=e;t[s]^=o[i(394)](this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,s=this._j,i=0,r=0;r<4;r++){s=(s+t[e=(e+1)%256])%256;var n=t[e];t[e]=t[s],t[s]=n,i|=t[(t[e]+t[s])%256]<<24-8*r}return this._i=e,this._j=s,i}s[e(421)]=i[e(417)](n);var a=r.RC4Drop=n.extend({cfg:n[e(418)][e(390)]({drop:192}),_doReset:function(){var t=e;n[t(419)][t(394)](this);for(var s=this[t(418)][t(400)];s>0;s--)o[t(394)](this)}});s[e(396)]=i[e(417)](a)}(),t[e(421)]},"object"===(r=Rp)(415)?t[r(410)]=i(iu):"undefined"===r(399)&&(void 0).amd?(void 0)([r(422),r(413),r(416),r(389),r(408)],i):i(s[r(407)])}));var Pp=Mp;function xp(){var t=["StreamCipher","./md5","cfg","CryptoJS","call","algo","615518oXNeaz","356952GJWKMR","4jmIryR","exports","words","Rabbit","1869525KXxtza","3730050wxtezF","function","commonjsGlobal","createCommonjsModule","./enc-base64","extend","./cipher-core","3308300eugrIf","4128275oHRnIN","./core","_key","object","./evpkdf","_createHelper","12976117gpVOWu","8YmhRol","lib"];return(xp=function(){return t})()}function Mp(t,e){var s=xp();return(Mp=function(t,e){return s[t-=105]})(t,e)}!function(t,e){for(var s=Mp,i=t();;)try{if(930338===parseInt(s(132))/1+-parseInt(s(116))/2+parseInt(s(133))/3+-parseInt(s(134))/4*(-parseInt(s(117))/5)+-parseInt(s(109))/6+parseInt(s(123))/7+-parseInt(s(124))/8*(parseInt(s(108))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xp);pe[Pp(112)]((function(t,e){var s,i,r,n=Pp;s=pe[n(111)],i=function(t){var e=n;return function(){var e=Mp,s=t,i=s[e(125)][e(126)],r=s[e(131)],n=[],o=[],a=[],h=r[e(107)]=i[e(114)]({_doReset:function(){for(var t=e,s=this[t(119)].words,i=this[t(128)].iv,r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8);var n=this._X=[s[0],s[3]<<16|s[2]>>>16,s[1],s[0]<<16|s[3]>>>16,s[2],s[1]<<16|s[0]>>>16,s[3],s[2]<<16|s[1]>>>16],o=this._C=[s[2]<<16|s[2]>>>16,4294901760&s[0]|65535&s[1],s[3]<<16|s[3]>>>16,4294901760&s[1]|65535&s[2],s[0]<<16|s[0]>>>16,4294901760&s[2]|65535&s[3],s[1]<<16|s[1]>>>16,4294901760&s[3]|65535&s[0]];for(this._b=0,r=0;r<4;r++)l[t(130)](this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(i){var a=i[t(106)],h=a[0],c=a[1],d=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=d>>>16|4294901760&u,f=u<<16|65535&d;for(o[0]^=d,o[1]^=p,o[2]^=u,o[3]^=f,o[4]^=d,o[5]^=p,o[6]^=u,o[7]^=f,r=0;r<4;r++)l[t(130)](this)}},_doProcessBlock:function(t,s){var i=e,r=this._X;l[i(130)](this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[s+o]^=n[o]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,s=0;s<8;s++)o[s]=e[s];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,s=0;s<8;s++){var i=t[s]+e[s],r=65535&i,n=i>>>16,h=((r*r>>>17)+r*n>>>15)+n*n,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[s]=h^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}s[e(107)]=i[e(122)](h)}(),t[e(107)]},(r=Mp)(120)==r(120)?t[r(105)]=i(iu):"undefined"===r(110)&&(void 0).amd?(void 0)([r(118),r(113),r(127),r(121),r(115)],i):i(s[r(129)])}));function Bp(t,e){var s=Up();return(Bp=function(t,e){return s[t-=396]})(t,e)}var Fp=Bp;function Up(){var t=["lib","_createHelper","words","amd","3470931pmSoPj","140YfjYKj","extend","./evpkdf","82328ZRMAuM","RabbitLegacy","./cipher-core","call","4xVqnXA","271777wSgUkb","cfg","exports","505984Dlifmf","34275wubjkO","_key","StreamCipher","function","502113CDNNmk","createCommonjsModule","CryptoJS","object","./enc-base64","965160nvNfKT"];return(Up=function(){return t})()}!function(t,e){for(var s=Bp,i=t();;)try{if(136462===-parseInt(s(419))/1+parseInt(s(422))/2+parseInt(s(400))/3*(parseInt(s(418))/4)+parseInt(s(396))/5+parseInt(s(405))/6+parseInt(s(411))/7*(parseInt(s(414))/8)+-parseInt(s(410))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Up);pe[Fp(401)]((function(t,e){var s,i,r;s=ce,i=function(t){var e=Bp;return function(){var e=Bp,s=t,i=s[e(406)][e(398)],r=s.algo,n=[],o=[],a=[],h=r[e(415)]=i[e(412)]({_doReset:function(){var t=e,s=this[t(397)][t(408)],i=this[t(420)].iv,r=this._X=[s[0],s[3]<<16|s[2]>>>16,s[1],s[0]<<16|s[3]>>>16,s[2],s[1]<<16|s[0]>>>16,s[3],s[2]<<16|s[1]>>>16],n=this._C=[s[2]<<16|s[2]>>>16,4294901760&s[0]|65535&s[1],s[3]<<16|s[3]>>>16,4294901760&s[1]|65535&s[2],s[0]<<16|s[0]>>>16,4294901760&s[2]|65535&s[3],s[1]<<16|s[1]>>>16,4294901760&s[3]|65535&s[0]];this._b=0;for(var o=0;o<4;o++)l[t(417)](this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(i){var a=i[t(408)],h=a[0],c=a[1],d=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=d>>>16|4294901760&u,f=u<<16|65535&d;for(n[0]^=d,n[1]^=p,n[2]^=u,n[3]^=f,n[4]^=d,n[5]^=p,n[6]^=u,n[7]^=f,o=0;o<4;o++)l[t(417)](this)}},_doProcessBlock:function(t,s){var i=e,r=this._X;l[i(417)](this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[s+o]^=n[o]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,s=0;s<8;s++)o[s]=e[s];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,s=0;s<8;s++){var i=t[s]+e[s],r=65535&i,n=i>>>16,h=((r*r>>>17)+r*n>>>15)+n*n,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[s]=h^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}s[e(415)]=i[e(407)](h)}(),t[e(415)]},(r=Bp)(403)==r(403)?t[r(421)]=i(iu):"undefined"===r(399)&&(void 0)[r(409)]?(void 0)(["./core",r(404),"./md5",r(413),r(416)],i):i(s[r(402)])}));function Op(t,e){const s=jp();return(Op=function(t,e){return s[t-=450]})(t,e)}const Np=Op;!function(t,e){const s=Op,i=t();for(;;)try{if(487914===-parseInt(s(459))/1+-parseInt(s(460))/2*(parseInt(s(462))/3)+parseInt(s(467))/4*(parseInt(s(473))/5)+parseInt(s(457))/6+parseInt(s(466))/7*(parseInt(s(479))/8)+parseInt(s(475))/9*(-parseInt(s(463))/10)+parseInt(s(456))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jp);pe[Np(474)]((function(t,e){!function(e,s,i){const r=Op;"object"===r(461)?t[r(453)]=s(iu):s(e.CryptoJS)}(ce,(function(t){const e=Op;return function(){const e=Op;var s=t,i=s[e(477)][e(470)],r=s[e(476)];const n=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function l(t,s){const i=e;let r=s>>24&255,n=s>>16&255,o=s>>8&255,a=255&s,h=t[i(454)][0][r]+t[i(454)][1][n];return h^=t.sbox[2][o],h+=t[i(454)][3][a],h}function c(t,s,i){const r=e;let o,a=s,h=i;for(let e=0;e<n;++e)a^=t[r(465)][e],h=l(t,a)^h,o=a,a=h,h=o;return o=a,a=h,h=o,h^=t.pbox[16],a^=t[r(465)][17],{left:a,right:h}}var d=r[e(455)]=i[e(458)]({_doReset:function(){const t=e;if(this[t(478)]!==this[t(472)]){var s=this._keyPriorReset=this._key,i=s[t(452)],r=s.sigBytes/4;!function(t,s,i){const r=e;for(let e=0;e<4;e++){t.sbox[e]=[];for(let s=0;s<256;s++)t[r(454)][e][s]=a[e][s]}let n=0;for(let e=0;e<18;e++)t[r(465)][e]=o[e]^s[n],n++,n>=i&&(n=0);let h=0,l=0,d=0;for(let e=0;e<18;e+=2)d=c(t,h,l),h=d.left,l=d[r(450)],t[r(465)][e]=h,t.pbox[e+1]=l;for(let e=0;e<4;e++)for(let s=0;s<256;s+=2)d=c(t,h,l),h=d.left,l=d[r(450)],t.sbox[e][s]=h,t[r(454)][e][s+1]=l}(h,i,r)}},encryptBlock:function(t,s){const i=e;var r=c(h,t[s],t[s+1]);t[s]=r[i(464)],t[s+1]=r[i(450)]},decryptBlock:function(t,s){const i=e;var r=function(t,s,i){const r=e;let n,o=s,a=i;for(let e=17;e>1;--e)o^=t[r(465)][e],a=l(t,o)^a,n=o,o=a,a=n;return n=o,o=a,a=n,a^=t[r(465)][1],o^=t[r(465)][0],{left:o,right:a}}(h,t[s],t[s+1]);t[s]=r[i(464)],t[s+1]=r[i(450)]},blockSize:2,keySize:4,ivSize:2});s.Blowfish=i._createHelper(d)}(),t[e(455)]}))}));function jp(){const t=["4443798bZKuuZ","extend","791092SySIwQ","662002VthdlU","object","3IWuxRm","30jDHpTT","left","pbox","21XnrMdY","4qZHjPh","./evpkdf","./core","BlockCipher","amd","_key","2372765zAMuiU","createCommonjsModule","548523IHXTba","algo","lib","_keyPriorReset","737560uRwhUW","right","./enc-base64","words","exports","sbox","Blowfish","3311847ghhMnD"];return(jp=function(){return t})()}var Vp=Wp;function Wp(t,e){var s=Gp();return(Wp=function(t,e){return s[t-=176]})(t,e)}function Gp(){var t=["232685vdKfsB","CryptoJS","function","./blowfish","./pad-ansix923","./mode-ecb","amd","./sha256","./sha3","153153DwSWzL","./core","./rc4","createCommonjsModule","./rabbit","32WTnNtT","2754060KExQhQ","./pad-zeropadding","./md5","./sha224","object","./rabbit-legacy","./tripledes","./enc-utf16","./ripemd160","./enc-base64url","./pad-nopadding","138544xgVxrA","./pad-iso97971","./cipher-core","./hmac","./pbkdf2","./mode-cfb","516GLkzbS","./x64-core","./enc-base64","1147456gEQtZj","4434PJPLNp","2274BGZFDE","exports","744422ajwRGp","./sha512","./mode-ctr-gladman"];return(Gp=function(){return t})()}!function(t,e){for(var s=Wp,i=t();;)try{if(980135===parseInt(s(208))/1+parseInt(s(205))/2*(parseInt(s(206))/3)+-parseInt(s(183))/4*(-parseInt(s(211))/5)+-parseInt(s(201))/6*(parseInt(s(195))/7)+parseInt(s(204))/8+parseInt(s(178))/9+-parseInt(s(184))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Gp);var zp=pe[Vp(181)]((function(t,e){var s,i,r;s=ce,i=function(t){return t},"object"===(r=Wp)(188)?t[r(207)]=iu:"undefined"===r(213)&&(void 0)[r(217)]?(void 0)([r(179),r(202),"./lib-typedarrays",r(191),r(203),r(193),r(186),"./sha1",r(176),r(187),r(209),"./sha384",r(177),r(192),r(198),r(199),"./evpkdf",r(197),r(200),"./mode-ctr",r(210),"./mode-ofb",r(216),r(215),"./pad-iso10126",r(196),r(185),r(194),"./format-hex","./aes",r(190),r(180),r(182),r(189),r(214)],i):s[r(212)]=s[r(212)]}));function Hp(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function Kp(t,e){const s=qp();return(Kp=function(t,e){return s[t-=167]})(t,e)}function qp(){const t=["includes","3OOPRFS","712580egfNdN","length","get","4911624ywZhtE","toString","catch","14ZEYNRk","decrypt","3414066wmDEPa","1208880yEOGIb","8477420hfVonf","set","518272zuqryW","Counter","ModeOfOperation","5nAfKTB","2921052lNyixV","ctr","slice","byteLength"];return(qp=function(){return t})()}function Qp(t){const e=Kp,s=[];for(let i=0;i<t[e(175)];i+=1)s[i>>>2]|=t[i]<<24-i%4*8;return zp.lib.WordArray.create(s,t[e(175)])}!function(t,e){const s=Kp,i=t();for(;;)try{if(369998===parseInt(s(186))/1+-parseInt(s(174))/2+-parseInt(s(173))/3*(-parseInt(s(168))/4)+parseInt(s(167))/5*(parseInt(s(182))/6)+parseInt(s(180))/7*(parseInt(s(183))/8)+-parseInt(s(177))/9+-parseInt(s(184))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(qp),function(t,e){const s=sf,i=t();for(;;)try{if(683148===-parseInt(s(345))/1+parseInt(s(319))/2+-parseInt(s(330))/3*(parseInt(s(337))/4)+parseInt(s(324))/5*(parseInt(s(344))/6)+-parseInt(s(336))/7+parseInt(s(332))/8*(-parseInt(s(340))/9)+-parseInt(s(326))/10*(-parseInt(s(323))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cf);const Yp=16,Jp=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],Xp=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function $p(t){const e=sf,s=[];for(let i=0,r=t[e(322)];i<r;i+=2)s[e(327)](parseInt(t[e(328)](i,2),16));return s}function Zp(t){const e=sf;return t[e(335)]((t=>{const s=e;return 1===(t=t[s(347)](16))[s(322)]?"0"+t:t}))[e(325)]("")}function tf(t){const e=sf,s=[];for(let i=0,r=t.length;i<r;i++){const r=t.codePointAt(i);if(r<=127)s[e(327)](r);else if(r<=2047)s[e(327)](192|r>>>6),s[e(327)](128|63&r);else if(r<=55295||r>=57344&&r<=65535)s[e(327)](224|r>>>12),s[e(327)](128|r>>>6&63),s.push(128|63&r);else{if(!(r>=65536&&r<=1114111))throw s[e(327)](r),new Error(e(348));i++,s[e(327)](240|r>>>18&28),s[e(327)](128|r>>>12&63),s.push(128|r>>>6&63),s.push(128|63&r)}}return s}function ef(t){const e=sf,s=[];for(let i=0,r=t[e(322)];i<r;i++)t[i]>=240&&t[i]<=247?(s[e(327)](String[e(321)](((7&t[i])<<18)+((63&t[i+1])<<12)+((63&t[i+2])<<6)+(63&t[i+3]))),i+=3):t[i]>=224&&t[i]<=239?(s[e(327)](String[e(321)](((15&t[i])<<12)+((63&t[i+1])<<6)+(63&t[i+2]))),i+=2):t[i]>=192&&t[i]<=223?(s[e(327)](String[e(321)](((31&t[i])<<6)+(63&t[i+1]))),i++):s.push(String.fromCodePoint(t[i]));return s.join("")}function sf(t,e){const s=cf();return(sf=function(t,e){return s[t-=317]})(t,e)}function rf(t,e){const s=31&e;return t<<s|t>>>32-s}function nf(t){return(255&Jp[t>>>24&255])<<24|(255&Jp[t>>>16&255])<<16|(255&Jp[t>>>8&255])<<8|255&Jp[255&t]}function of(t){return t^rf(t,2)^rf(t,10)^rf(t,18)^rf(t,24)}function af(t){return t^rf(t,13)^rf(t,23)}function hf(t,e,s){const i=new Array(4),r=new Array(4);for(let e=0;e<4;e++)r[0]=255&t[4*e],r[1]=255&t[4*e+1],r[2]=255&t[4*e+2],r[3]=255&t[4*e+3],i[e]=r[0]<<24|r[1]<<16|r[2]<<8|r[3];for(let t,e=0;e<32;e+=4)t=i[1]^i[2]^i[3]^s[e+0],i[0]^=of(nf(t)),t=i[2]^i[3]^i[0]^s[e+1],i[1]^=of(nf(t)),t=i[3]^i[0]^i[1]^s[e+2],i[2]^=of(nf(t)),t=i[0]^i[1]^i[2]^s[e+3],i[3]^=of(nf(t));for(let t=0;t<16;t+=4)e[t]=i[3-t/4]>>>24&255,e[t+1]=i[3-t/4]>>>16&255,e[t+2]=i[3-t/4]>>>8&255,e[t+3]=255&i[3-t/4]}function lf(t,e,s){const i=new Array(4),r=new Array(4);for(let e=0;e<4;e++)r[0]=255&t[0+4*e],r[1]=255&t[1+4*e],r[2]=255&t[2+4*e],r[3]=255&t[3+4*e],i[e]=r[0]<<24|r[1]<<16|r[2]<<8|r[3];i[0]^=2746333894,i[1]^=1453994832,i[2]^=1736282519,i[3]^=2993693404;for(let t,s=0;s<32;s+=4)t=i[1]^i[2]^i[3]^Xp[s+0],e[s+0]=i[0]^=af(nf(t)),t=i[2]^i[3]^i[0]^Xp[s+1],e[s+1]=i[1]^=af(nf(t)),t=i[3]^i[0]^i[1]^Xp[s+2],e[s+2]=i[2]^=af(nf(t)),t=i[0]^i[1]^i[2]^Xp[s+3],e[s+3]=i[3]^=af(nf(t));if(0===s)for(let t,s=0;s<16;s++)t=e[s],e[s]=e[31-s],e[31-s]=t}function cf(){const t=["683985tjKDGu","slice","8QoZbOl","set","pkcs#7","map","7595791wLeiGJ","16vCzYJz","pkcs#5","includes","6804729yXmluX","splice","cbc","error","78OnYNvJ","1221497Hbzqyr","arrayBuffer.length","toString","input is not supported","array","none","string","466102Hfabed","key is invalid","fromCodePoint","length","55bgqOAv","191255IRROoV","join","7855010ilJlKC","push","substr","byteLength"];return(cf=function(){return t})()}function df(t,e,s){const i=sf;let{padding:r=i(334),mode:n,iv:o=[],output:a=i(318)}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n===i(342)&&(typeof o===i(318)&&(o=$p(o)),16!==o[i(322)]))throw new Error("iv is invalid");if(typeof e===i(318)&&(e=$p(e)),16!==e[i(322)])throw new Error(i(320));if(t=typeof t===i(318)?0!==s?tf(t):$p(t):[...t],(r===i(338)||r===i(334))&&0!==s){const e=Yp-t.length%Yp;for(let s=0;s<e;s++)t[i(327)](e)}const h=new Array(32);lf(e,h,s);const l=[];let c=o,d=t.length,u=0;for(;d>=Yp;){const e=t[i(331)](u,u+16),r=new Array(16);if(n===i(342))for(let t=0;t<Yp;t++)0!==s&&(e[t]^=c[t]);hf(e,r,h);for(let t=0;t<Yp;t++)"cbc"===n&&0===s&&(r[t]^=c[t]),l[u+t]=r[t];n===i(342)&&(c=0!==s?r:e),d-=Yp,u+=Yp}if((r===i(338)||"pkcs#7"===r)&&0===s){const t=l[i(322)],e=l[t-1];for(let s=1;s<=e;s++)if(l[t-s]!==e)throw new Error("padding is invalid");l[i(341)](t-e,e)}return a!==i(349)?0!==s?Zp(l):ef(l):l}function uf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function pf(t,e){const s=gf();return(pf=function(t,e){return s[t-=451]})(t,e)}function ff(t,e,s){const i=pf;for(let r=2;r<t[i(456)];++r){const n=r-2,o=e[n%e.length],a=s[n%s[i(456)]];t[r]=t[r]^o^a}return t}function mf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function gf(){const t=["6pUEowi","1349445YiwjNp","3014188kiwVXg","37557mNbtjK","239164HmDEKU","set","length","792eAPEgY","445724OUSvhD","includes","slice","1286320gNrdvm","byteLength","3iCBUNG","601930xThdsX"];return(gf=function(){return t})()}function yf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}!function(t,e){const s=pf,i=t();for(;;)try{if(407734===-parseInt(s(458))/1+-parseInt(s(454))/2*(-parseInt(s(463))/3)+parseInt(s(452))/4+parseInt(s(451))/5*(parseInt(s(465))/6)+parseInt(s(461))/7+parseInt(s(457))/8*(-parseInt(s(453))/9)+-parseInt(s(464))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gf),function(t,e){for(var s=Cf,i=t();;)try{if(858464===parseInt(s(495))/1+parseInt(s(481))/2*(parseInt(s(489))/3)+parseInt(s(490))/4*(-parseInt(s(486))/5)+-parseInt(s(478))/6*(parseInt(s(488))/7)+-parseInt(s(483))/8*(parseInt(s(482))/9)+-parseInt(s(491))/10+parseInt(s(496))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Rf);const Af=new Array(214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72),vf=new Array(2746333894,1453994832,1736282519,2993693404),bf=new Array(462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257);function Sf(t,e,s,i,r){var n=Cf,o=r;o=e+r>t[n(484)]&&i+r<=s[n(484)]?t.length-e:i+r>s[n(484)]&&e+r<=t.length?s[n(484)]-i:e+r<=t[n(484)]&&i+r<=s.length?r:s[n(484)]<t[n(484)]?s.length-i:t.length-i;for(var a=0;a<o;a++)s[a+i]=t[a+e]}function wf(t){return new Array(t>>24&255,t>>16&255,t>>8&255,255&t)}function Ef(t,e){var s=Cf;return e+3<t.length?t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]:e+2<t[s(484)]?t[e+1]<<16|t[e+2]<<8|t[e+3]:e+1<t.length?t[e]<<8|t[e+1]:t[e]}function Tf(t){var e=new Array(36),s=function(t){for(var e=Math.ceil(t.length/4),s=new Array(e),i=0;i<t.length;i++)t[i]=255&t[i];for(i=0;i<s.length;i++)s[i]=Ef(t,4*i);return s}(t);e[0]=s[0]^vf[0],e[1]=s[1]^vf[1],e[2]=s[2]^vf[2],e[3]=s[3]^vf[3];for(var i=new Array(32),r=0;r<32;r++)e[r+4]=e[r]^If(e[r+1]^e[r+2]^e[r+3]^bf[r]),i[r]=e[r+4];return i}function If(t){var e=new Array(4),s=wf(t);e[0]=Af[255&s[0]],e[1]=Af[255&s[1]],e[2]=Af[255&s[2]],e[3]=Af[255&s[3]];var i=Ef(e,0);return i^(i<<13|i>>>19)^(i<<23|i>>>9)}function kf(t,e){var s=new Array(36);s[0]=Ef(e,0),s[1]=Ef(e,4),s[2]=Ef(e,8),s[3]=Ef(e,12);for(var i=0;i<32;i++)s[i+4]=s[i]^_f(s[i+1]^s[i+2]^s[i+3]^t[i]);var r=new Array(4);for(i=35;i>=32;i--)r[35-i]=s[i];return function(t){for(var e=Cf,s=new Array(4*t.length),i=0;i<t[e(484)];i++)Sf(wf(t[i]),0,s,4*i,4);return s}(r)}function _f(t){var e=wf(t),s=new Array(4);s[0]=Af[255&e[0]],s[1]=Af[255&e[1]],s[2]=Af[255&e[2]],s[3]=Af[255&e[3]];var i=Ef(s,0);return i^(i<<2|i>>>30)^(i<<10|i>>>22)^(i<<18|i>>>14)^(i<<24|i>>>8)}function Cf(t,e){var s=Rf();return(Cf=function(t,e){return s[t-=477]})(t,e)}function Df(t,e,s){var i=Cf;if(null==t||null==t||t.length%16!=0)return console[i(479)](i(485)),null;if(null==s||null==s||s[i(484)]<=0)return console[i(479)](i(480)),null;if(null==e||null==e||e.length%16!=0)return console[i(479)](i(477)),null;for(var r=Tf(t),n=Math[i(492)](s.length/16),o=new Array(s[i(484)]),a=e[i(494)](),h=0;h<n;h++){a=kf(r,a);var l=new Array(16),c=16*h,d=Math[i(487)](c+16,s[i(484)]);Sf(s,c,l,0,d-c);for(var u=0;u<d-c;u++)o[c+u]=l[u]^a[u]}return o}function Rf(){var t=["sm4 key is error!","540045osghHK","min","2044BdZDhh","33dFvDFt","24SZnoqy","14427660XojysV","ceil","set","slice","185708uGIiRd","43661409meurOK","data is error!","iv is error!","27276ClaiuA","log","cipher is error!","107528ZqQKoY","45KVGJlW","751384AqHBmq","length"];return(Rf=function(){return t})()}const Lf=Pf;function Pf(t,e){const s=Mf();return(Pf=function(t,e){return s[t-=437]})(t,e)}!function(t,e){const s=Pf,i=t();for(;;)try{if(607964===parseInt(s(727))/1+parseInt(s(516))/2+-parseInt(s(738))/3+-parseInt(s(466))/4+parseInt(s(442))/5*(-parseInt(s(601))/6)+-parseInt(s(645))/7*(-parseInt(s(688))/8)+parseInt(s(720))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mf);class xf extends h{constructor(t){const e=Pf;super(),this[e(605)]="CommonDemux",this[e(444)]=t,this._reset(),this[e(650)]=null,this[e(455)]=null,this[e(462)]=null,this[e(575)]={_interval:this[e(652)][e(693)](this),_playbackCacheLoop:this[e(609)][e(693)](this),handlePlaybackPause:this[e(555)].bind(this)},this.initInterval(),this[e(674)](),this[e(641)]=!1}[Lf(563)](){const t=Lf;this._isDestroyed=!0,this[t(598)](),this[t(455)]&&(this[t(455)][t(563)](),this.intervalPlaybackLoopWorker=null),this[t(462)]&&(this[t(462)][t(563)](),this.intervalPlayerLoopWorker=null),this[t(719)](),this.off(),this[t(575)]=null}_reset(){const t=Lf;this[t(682)]=[],this[t(495)]=25,this[t(506)]=[],this[t(638)]=[],this[t(525)]=null,this[t(681)]=null,this[t(619)]=null,this.firstTimestamp=null,this[t(491)]=null,this[t(543)]=null,this[t(583)]=null,this[t(737)]=null,this.preLoopTimestamp=null,this.preIframeTs=null,this[t(475)]=null,this[t(512)]=0,this[t(522)]=0,this[t(634)]=null,this[t(480)]=null,this[t(705)]=!1,this.delay=-1,this[t(724)]=-1,this[t(518)]=!1,this[t(647)]=!1,this[t(546)]=null,this[t(488)]=null}[Lf(674)](){const t=Lf;this[t(444)].isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender()&&this[t(444)].isStreamTypeNotWorker()&&(this[t(444)].debugLog(this.TAG_NAME,"listenPlaybackEvents"),this[t(444)].on(H[t(557)],this[t(575)][t(555)]))}[Lf(602)](){const t=Lf;return this.dropping||this[t(647)]}[Lf(484)](t,e){const s=Lf;if(!t||!this[s(444)][s(547)]())return-1;if(e===j[s(594)])return this[s(630)];if(this[s(737)]&&this[s(737)]>t)return this[s(737)]-t>1e3&&this[s(444)].debugWarn(this[s(605)],s(731)+this[s(737)]+s(539)+t+s(534)+(this[s(737)]-t)+"ms and return "+this[s(630)]),this[s(737)]=t,this.delay;if(this[s(511)]){if(t){const e=Date[s(722)]()-this[s(491)],i=t-this[s(511)];e>=i?(this[s(705)]=!1,this[s(630)]=e-i):(this[s(705)]=!0,this[s(630)]=i-e)}}else this[s(511)]=t,this[s(491)]=Date[s(722)](),this[s(630)]=-1;return this[s(737)]=t,this.delay}[Lf(468)](t,e){const s=Lf;if(!t||!this[s(444)][s(547)]())return-1;if(e===j[s(594)])return this[s(724)];if(this[s(737)]&&this[s(737)]-t>1e3)return this[s(444)][s(640)](this[s(605)],s(698)+this[s(737)]+" > timestamp is "+t+" more than "+(this[s(737)]-t)+s(497)),-1;if(this[s(511)]){let e=-1;if(t){const i=Date[s(722)]()-this[s(491)],r=t-this[s(511)];e=i>=r?i-r:r-i}return e}return-1}[Lf(479)](){const t=Lf;this[t(511)]=null,this[t(491)]=null,this[t(630)]=-1,this[t(518)]=!1}[Lf(695)](){const t=Lf;this[t(479)](),this[t(737)]=null}[Lf(454)](){const t=Lf;this[t(444)].isPlayVodMp4()?this.player.debugLog(this[t(605)],t(485)):this[t(444)].isUseHls265()?this[t(444)][t(613)](this[t(605)],"initInterval() and is hls and support hls265 so return"):-1===this[t(444)][t(510)]()[t(537)](u.worker)?this.player[t(644)]()?this[t(444)][t(613)](this.TAG_NAME,t(701)):(this[t(444)].debugLog(this[t(605)],t(530)),this[t(456)](),this.player[t(710)].intervalUseWorker?(!this[t(462)]&&(this[t(444)][t(613)](this.TAG_NAME,t(438)),this[t(462)]=new Io),this.intervalPlayerLoopWorker[t(707)](this[t(575)][t(652)],20)):this[t(650)]=setInterval(this[t(575)][t(652)],20)):this.player[t(613)](this.TAG_NAME,"initInterval() and is worker stream so return")}[Lf(652)](){const t=Lf;if(this[t(641)])return;let e=Date[t(722)]();!this[t(595)]&&(this[t(595)]=e);const s=e-this[t(595)];this[t(622)](s),s>100&&this.player[t(640)](this[t(605)],t(571)+s),this[t(456)](),this[t(595)]=e}[Lf(598)](){const t=Lf;this[t(650)]&&(clearInterval(this.stopId),this.stopId=null),this[t(455)]&&this[t(455)].stop(),this.intervalPlayerLoopWorker&&this[t(462)].stop(),this.prevPlaybackCacheLoopTimestamp=null}[Lf(661)](){this[Lf(447)]()}[Lf(622)](t){const e=Lf;this[e(506)][e(570)]>5&&this[e(506)][e(742)](),this.historyIntervalDiffTimeList[e(578)](t)}[Lf(697)](){const t=Lf;if(this[t(506)][t(570)]<5)return!1;for(let e=0;e<this[t(506)][t(570)];e++)if(this[t(506)][e]<900)return!1;return!0}initPlaybackCacheLoop(){const t=Lf;this[t(598)]();for(let e=0;e<this[t(444)][t(529)]();e++)this[t(678)]();const e=Math[t(577)](1e3/this[t(525)]);this[t(444)].debugLog(this[t(605)],t(508)+e+t(635)+this.playbackStreamFps),this[t(444)][t(710)][t(639)]?(!this.intervalPlaybackLoopWorker&&(this[t(444)][t(613)](this[t(605)],t(662)),this[t(455)]=new Io),this.intervalPlaybackLoopWorker[t(707)](this[t(575)][t(609)],e)):this[t(650)]=setInterval(this[t(575)][t(609)],e)}[Lf(609)](){const t=Lf,e=is();!this[t(480)]&&(this[t(480)]=e);const s=Math[t(577)](1e3/this[t(525)]);for(let e=0;e<this[t(444)].getPlaybackRate();e++)this.doPlaybackCacheLoop();let i=e-this[t(480)],r=parseInt(i/s);if(r>1&&this[t(682)][t(570)]>0){this.player[t(640)](this[t(605)],"playbackCacheLoop visibility is "+this.player[t(692)]+" and sync frame duration is "+i+t(642)+s+t(589)+r+", and bufferList length is "+this[t(682)][t(570)]);for(let e=0;e<r;e++)for(let e=0;e<this[t(444)].getPlaybackRate();e++)this[t(678)]()}this[t(480)]=e}doPlaybackCacheLoop(){const t=Lf;let e=null;if(this.bufferList[t(570)])if(e=this[t(682)][t(742)](),e[t(461)]===j.video){this[t(444)][t(649)]()?e.isIFrame&&this._doDecoderDecode(e):this._doDecoderDecode(e);let s=this.bufferList[0];for(;s&&s[t(461)]===j.audio;)this[t(682)].shift(),this.player.isPlaybackOnlyDecodeIFrame()||this[t(628)](s),s=this[t(682)][0]}else if(e.type===j.audio){this[t(444)][t(649)]()||this._doDecoderDecode(e);let s=this[t(682)][0];for(;s;){if(e=this.bufferList[t(742)](),e[t(461)]===j[t(626)]){this[t(444)].isPlaybackOnlyDecodeIFrame()?e[t(504)]&&this[t(628)](e):this[t(628)](e),s=null;break}e[t(461)]===j[t(594)]&&(this._doDecoderDecode(e),s=this[t(682)][0])}}}[Lf(456)](){const t=Lf;let e;const s=this[t(444)][t(710)][t(732)],i=this.getMaxDelayTs(),r=this[t(444)][t(710)][t(615)]===p.player;if(this[t(682)][t(570)]){if(this[t(647)])return void this[t(444)][t(640)](this[t(605)],t(553)+this[t(682)][t(570)]);if(this.dropping){for(e=this[t(682)][t(742)](),this[t(444)][t(640)](this[t(605)],t(743)+e.ts+t(499)+e[t(461)]+t(533)+e[t(504)]+", delay is "+this[t(630)]+t(501)+this[t(682)][t(570)]);!e[t(504)]&&this[t(682)][t(570)];)e=this[t(682)][t(742)]();const s=this[t(468)](e.ts,e[t(461)]);e.isIFrame&&s<=this[t(471)]()&&(this.player[t(613)](this[t(605)],t(675)+this.delay),this[t(518)]=!1,this[t(628)](e),this[t(437)](e))}else if(this[t(444)][t(667)]()||this.player[t(636)]()||0===s||this[t(444)].isPlayVod())for(;this[t(682)][t(570)];)e=this[t(682)][t(742)](),this[t(628)](e);else if(e=this[t(682)][0],-1===this[t(484)](e.ts,e.type))this[t(444)][t(613)](this.TAG_NAME,t(646)+e.ts+t(603)+e[t(461)]+" and bufferList length is "+this.bufferList[t(570)]),this[t(682)][t(742)](),this._doDecoderDecode(e),this[t(437)](e);else if(this[t(630)]>i&&r)this[t(487)]()?(this[t(444)].debugWarn(this[t(605)],t(458)+this.delay+t(509)+i+" and has iFrame,buffer length is "+this[t(682)][t(570)]+t(632)),this[t(695)](),this.dropping=!0,this[t(444)][t(677)]({isDropping:!0})):(this[t(682)][t(742)](),this[t(628)](e),this[t(437)](e));else for(;this[t(682)][t(570)]&&(e=this.bufferList[0],this[t(484)](e.ts,e[t(461)])>s);)this[t(682)].shift(),this._doDecoderDecode(e),e[t(461)]===j[t(626)]&&this[t(437)](e)}else-1!==this[t(630)]&&this.player.debugLog(this.TAG_NAME,t(689)),this[t(695)]()}_doDecode(t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0;const o=this[r(444)];let a={ts:s,cts:n,type:e,isIFrame:!1};this[r(444)][r(610)]()?(e===j[r(626)]&&o[r(710)][r(615)]===p.player&&this[r(517)](s),o[r(710)][r(582)]&&!o[r(710)][r(656)]||o._opt[r(702)]?(e===j[r(626)]&&(a[r(504)]=i),this.pushBuffer(t,a)):(e===j[r(626)]&&(a.isIFrame=i),this[r(659)](t,a))):this.player[r(667)]()?(e===j[r(626)]&&(a[r(504)]=i),this[r(444)].isPlaybackCacheBeforeDecodeForFpsRender()?this[r(659)](t,a):this.player[r(649)]()?e===j[r(626)]&&i&&this[r(659)](t,a):1===this.player[r(529)]()?this.pushBuffer(t,a):this[r(659)](t,a,!1)):this.player[r(564)]()&&(e===j[r(626)]&&(a[r(504)]=i),this.pushBuffer(t,a))}[Lf(614)](t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments[r(570)]>5&&void 0!==arguments[5]?arguments[5]:r(663);if(this._isDestroyed)return;if(this.player[r(481)]())return void this[r(444)][r(613)](this.TAG_NAME,r(566));let a=!1;if(e===j[r(594)]&&Ce(t)&&(this.player[r(613)](this[r(605)],o+r(611)+s+r(607)),a=!0,this[r(444)][r(700)]())){const e=new Uint8Array(t);this[r(444)][r(685)].addAACSequenceHeader(e,s)}let h=!1;if(e===j[r(626)]&&i&&Ci(t)&&(this.player[r(613)](this[r(605)],o+r(463)+s+r(694)),h=!0,this[r(444)].isRecordTypeFlv())){const e=new Uint8Array(t);this[r(444)][r(685)][r(733)](e,s)}this[r(444)].recording&&Ri(h)&&Ri(a)&&this[r(726)](t,e,s,i,n),this[r(444)][r(710)][r(467)]&&e===j[r(626)]&&this.findSei(t,s),e===j[r(626)]?this.player[r(564)]()&&Ri(this[r(444)][r(680)]())&&this[r(444)].playVod&&this.player[r(686)][r(549)]()?i&&this[r(628)]({ts:s,cts:n,payload:t,type:j[r(626)],isIFrame:i}):this[r(628)]({ts:s,cts:n,payload:t,type:j[r(626)],isIFrame:i}):e===j[r(594)]&&(this[r(444)].isPlayVod()&&Ri(this.player[r(680)]())&&this.player[r(686)]&&this.player[r(686)].isRateMoreThanMaxRate()||this[r(628)]({ts:s,payload:t,type:j.audio}))}[Lf(699)](t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(542)](t,e,s,i,n)}[Lf(572)](t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(542)](t,e,s,i,n)}_doDecodeByPs(t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(542)](t,e,s,i,n)}[Lf(473)](t,e,s,i){const r=Lf;let n=arguments[r(570)]>4&&void 0!==arguments[4]?arguments[4]:0;this._doDecodeByHls(t,e,s,i,n,r(664))}_decodeNext(t){const e=Lf;if(t.ts,0===this[e(682)][e(570)])return;let s=this[e(682)][0];const i=t[e(461)]===j[e(626)]&&Ci(t.payload);if(t[e(461)]===j[e(594)]&&s[e(461)]===j[e(626)]||i)return this[e(682)][e(742)](),void this._doDecoderDecode(s);if(t[e(461)]===j[e(626)])for(;s&&s.type===j[e(594)];)this[e(682)].shift(),this[e(628)](s),s=this.bufferList[0]}[Lf(628)](t){const e=Lf,s=this[e(444)],{webcodecsDecoder:i,mseDecoder:r}=s;this[e(444)][e(610)]()&&this.player[e(677)]({buf:this.delay}),t[e(461)]===j.audio?s[e(710)][e(721)]&&(s[e(710)][e(702)]&&s._opt.mseDecodeAudio?r.decodeAudio(t[e(725)],t.ts):s[e(710)][e(582)]&&s._opt[e(713)]?i[e(580)](t[e(725)],t.ts):s[e(443)]&&s[e(443)][e(580)](t[e(725)],t.ts)):t[e(461)]===j[e(626)]&&(s[e(710)].useWCS&&!s[e(710)][e(656)]?i.decodeVideo(t.payload,t.ts,t[e(504)],t[e(714)]):s[e(710)][e(702)]?r.decodeVideo(t[e(725)],t.ts,t[e(504)],t.cts):s[e(443)]&&s.decoderWorker[e(474)](t[e(725)],t.ts,t[e(504)]))}pushBuffer(t,e){const s=Lf;let i=!(arguments[s(570)]>2&&void 0!==arguments[2])||arguments[2];if(this[s(641)])return;const r=this[s(444)][s(610)](),n=this[s(696)]();if(e[s(461)]===j.audio&&Ce(t)){if(this[s(444)][s(613)](this[s(605)],s(544)+e.ts+", isAacCodecPacket is true"),this[s(444)].isRecordTypeFlv()){const i=new Uint8Array(t);this[s(444)][s(685)].addAACSequenceHeader(i,e.ts)}this[s(628)]({ts:e.ts,payload:t,type:j[s(594)]})}else if(e.type===j.video&&e.isIFrame&&Ci(t)){if(this[s(444)][s(613)](this[s(605)],s(490)+e.ts+s(694)),this.player[s(700)]()){const i=new Uint8Array(t);this[s(444)][s(685)].addVideoSequenceHeader(i,e.ts)}this[s(628)]({ts:e.ts,payload:t,type:j[s(626)],isIFrame:e[s(504)],cts:e[s(714)]})}else{if(this[s(444)].recording&&this[s(726)](t,e[s(461)],e.ts,e[s(504)],e[s(714)]),this[s(444)][s(710)][s(467)]&&e[s(461)]===j[s(626)]&&this[s(477)](t,e.ts),r&&(e.type===j[s(626)]&&(null!==this[s(475)]&&this[s(475)]>=e.ts&&(this[s(444)].debugWarn(this[s(605)],"pushBuffer() video and isIFrame is "+e.isIFrame+" and\n                    ts is "+e.ts+s(502)+this.preTimestamp+" and\n                    payloadBufferSize is "+t[s(654)]+s(676)+this[s(522)]),this[s(475)]-e.ts>C&&(this[s(444)][s(640)](this[s(605)],s(482)+e.ts+s(606)+this[s(475)]+s(505)+(this[s(475)]-e.ts)+s(534)+C+s(559)),this[s(695)]())),this[s(475)]>0&&(this.preTimestampDuration=e.ts-this[s(475)]),this[s(522)]=t[s(654)],this[s(475)]=e.ts),this[s(444)].isDemuxDecodeFirstIIframeInit())){let t=this.getDelayNotUpdateDelay(e.ts,e.type);this.pushLatestDelay=t,this.delay>0&&t>n&&this[s(630)]<n&&this.hasIframeInBufferList()&&!1===this.isPushDropping&&(this[s(444)].debugWarn(this[s(605)],"pushLatestDelay is "+t+s(440)+n+s(526)+this[s(682)].length+s(527)+this.delay+s(600)),this[s(498)]()),this.isHistoryIntervalDiffTimeAllLarge()&&Ri(this[s(444)][s(692)])&&(this[s(444)]._opt[s(702)]?this[s(487)]()&&!1===this.isPushDropping&&(this[s(444)][s(640)](this.TAG_NAME,"useMSE, page visibility is false and\n                                history interval diff is "+this.historyIntervalDiffTimeList[s(655)](",")+s(469)+this[s(682)][s(570)]+s(514)+this[s(630)]+s(600)),this.dropBuffer$2()):this[s(487)]()&&!1===this[s(647)]&&(this[s(444)][s(640)](this[s(605)],s(552)+this.historyIntervalDiffTimeList[s(655)](",")+s(469)+this[s(682)][s(570)]+s(514)+this[s(630)]+s(600)),this[s(498)]()))}i?e[s(461)]===j[s(594)]?this[s(682)].push({ts:e.ts,payload:t,type:j[s(594)]}):e[s(461)]===j.video&&this[s(682)][s(578)]({ts:e.ts,cts:e[s(714)],payload:t,type:j.video,isIFrame:e[s(504)]}):e[s(461)]===j[s(626)]?this[s(628)]({ts:e.ts,cts:e[s(714)],payload:t,type:j.video,isIFrame:e.isIFrame}):e[s(461)]===j[s(594)]&&this._doDecoderDecode({ts:e.ts,payload:t,type:j[s(594)]}),this[s(703)]()}}[Lf(703)](){const t=Lf;if(this[t(444)][t(644)]()&&Os(this[t(619)])){let e=Si(this[t(682)],j.video);if(e>0){const s=this[t(560)](this[t(682)]);this[t(444)][t(613)](this.TAG_NAME,t(524)+e+t(668)+s[t(570)]+t(599)+JSON.stringify(s)),e<15&&this.player.debugWarn(this.TAG_NAME,t(629)+e+t(716)),this[t(619)]=e,this[t(444)][t(626)]&&this.player[t(626)][t(651)](this[t(619)]),this.playbackStreamFps=e,this.initPlaybackCacheLoop()}else{const e=100;if(this[t(682)].length>=e){const s=this[t(560)](this.bufferList);this[t(444)].debugWarn(this[t(605)],t(671)+this.bufferList[t(570)]+" more than "+e+t(623)+s[t(570)]+t(460)+JSON.stringify(s)+t(735)),this.playbackStreamVideoFps=25,this[t(444)][t(626)]&&this[t(444)][t(626)].setStreamFps(this[t(619)]),this[t(525)]=this[t(619)],this[t(447)]()}}}}[Lf(498)](){const t=Lf;if(this[t(682)][t(570)]>0){let e=this[t(682)][t(637)]((e=>{const s=t;return Di(e[s(504)])&&e[s(461)]===j[s(626)]}));if(this[t(633)]())for(let s=0;s<this[t(682)][t(570)];s++){const i=this[t(682)][s],r=this.getDelayNotUpdateDelay(i.ts,i[t(461)]);if(r>=this[t(471)]()){this[t(444)][t(613)](this.TAG_NAME,t(515)+s+t(449)+r+t(604)+this[t(471)]()),e=s;break}}if(e>=0){this[t(647)]=!0,this[t(444)].updateStats({isDropping:!0});const s=this[t(682)][t(570)];if(this.player[t(710)][t(452)]===E[t(573)]&&e<=this[t(540)]()){this[t(444)].debugLog(this[t(605)],"dropBuffer$2() _opt.delayFrameChasingPolicy is accelerate and iframe index "+e+t(612)+this[t(540)]()+t(690));this[t(682)][t(708)](0,e-1).forEach((e=>{this[t(628)](e)}))}this.bufferList=this[t(682)].slice(e);const i=this[t(682)][t(742)]();this[t(695)](),this[t(484)](i.ts,i[t(461)]),this[t(628)](i),this.isPushDropping=!1,this.player[t(613)](this[t(605)],t(624)+e+t(711)+s+t(717)+this[t(682)][t(570)]+t(483)+this.delay+" ")}else this[t(647)]=!1}0===this.bufferList[t(570)]&&(this[t(647)]=!1)}clearBuffer(){const t=Lf;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.player[t(613)](this[t(605)],t(541)+this[t(682)][t(570)]+t(586)+e+t(631)+this[t(444)][t(710)][t(476)]),e&&(this[t(682)]=[]),this[t(444)][t(610)]()&&(this[t(695)](),Di(this[t(444)]._opt[t(476)])&&(this[t(518)]=!0,this.player[t(677)]({isDropping:!0}))),this[t(444)][t(739)]()}calcNetworkDelay(t){const e=Lf;if(!(this[e(444)].isDemuxDecodeFirstIIframeInit()&&t>0))return;null===this[e(543)]?(this[e(543)]=t,this[e(583)]=is()):t<this.bufferStartDts&&(this[e(444)].debugWarn(this[e(605)],e(523)+t+e(683)+this[e(543)]),this[e(543)]=t,this[e(583)]=is());let s=t-this[e(543)],i=is()-this[e(583)],r=i>s?i-s:0;if(r>this[e(444)]._opt[e(684)]&&this.player[e(710)][e(615)]===p[e(444)]){let n=!1;const o=is();null===this[e(634)]&&(n=!0,this.prevEmitNetworkDelayTimestamp=o),(o-this.prevEmitNetworkDelayTimestamp>=1e3||n)&&(this[e(444)][e(640)](this[e(605)],e(643)+t+e(535)+this.bufferStartDts+e(457)+s+e(627)+i+e(592)+r+e(723)+this.player[e(710)][e(684)]),this[e(444)][e(531)](H[e(585)],r),this[e(634)]=o)}this[e(444)][e(677)]({netBuf:r})}[Lf(658)](t){const e=Lf;if(null===this[e(653)])this.preIframeTs=t;else if(this[e(653)]<t){const s=t-this.preIframeTs;this[e(444)]&&(this[e(444)][e(672)]=s),this[e(653)]=t}}[Lf(715)](t){}[Lf(471)](){const t=Lf;return this[t(444)]._opt.videoBuffer+this.player[t(710)].videoBufferDelay/2}[Lf(696)](){const t=Lf;return this.player[t(710)][t(732)]+this[t(444)][t(710)][t(494)]}[Lf(550)](){return this.pushLatestDelay}[Lf(492)](){const t=Lf;let e=0;return this[t(682)][t(597)]((s=>{const i=t;s.type===j[i(626)]&&(e+=1)})),e}getAudioBufferLength(){const t=Lf;let e=0;return this[t(682)].forEach((s=>{const i=t;s.type===j[i(594)]&&(e+=1)})),e}[Lf(487)](){const t=Lf;return this[t(682)][t(528)]((e=>{const s=t;return e.type===j[s(626)]&&e[s(504)]}))}[Lf(633)](){const t=Lf,e=this[t(492)]();let s=0;return this[t(682)][t(597)]((e=>{const i=t;e[i(461)]===j[i(626)]&&e[i(504)]&&(s+=1)})),e===s}getInputByteLength(){return 0}[Lf(581)](){return this[Lf(705)]}[Lf(556)](){}[Lf(441)](){}[Lf(477)](t,e){const s=Lf;let i=arguments[s(570)]>2&&void 0!==arguments[2]&&arguments[2],r=4;js(this[s(546)])&&(r=this.nalUnitSize);const n=Ke(t[s(708)](5),r);if(Ri(i)){const t=this[s(444)][s(588)]();t&&t[s(548)]&&(i=t[s(548)]===tt[s(596)])}n[s(597)]((t=>{const r=s,n=i?t[0]>>>1&63:31&t[0],o=i&&(n===nt[r(470)]||n===nt.prefixSei),a=Ri(i)&&n===rt[r(536)];if(o||a){const s=Ye(qe(t),i);this[r(444)].emitVideoSei({ts:e,data:s[r(725)],originData:t,type:s.type,uuid:s.uuid,size:s[r(687)]})}}))}handleRecording(t,e,s,i,r){const n=Lf;if(this[n(444)][n(700)]()){const i=new Uint8Array(t);e===j[n(626)]?this.player[n(685)].addVideo(i,s):e===j[n(594)]&&this[n(444)][n(685)][n(521)](i,s)}else if(this[n(444)][n(478)]()){const o=new Uint8Array(t);if(this[n(444)][n(685)][n(532)]()){if(e===j[n(626)])this.player[n(685)][n(538)](o[n(708)](5),i,s,r);else if(e===j[n(594)]){const e=new Uint8Array(t);this.player[n(685)][n(666)](De(e)?e[n(708)](2):e[n(708)](1),s)}}else e===j[n(626)]&&this.player.recorder[n(538)](o[n(708)](5),i,s,r)}}[Lf(679)](t){const e=Lf,s=15&t[0];this[e(444)][e(626)][e(451)]({encTypeCode:s});const i=s===Z[e(596)];this[e(546)]=function(t,e){const s=Xe;let i=null;return e?t[s(363)]>=28&&(i=1+(3&t[26])):t[s(363)]>=12&&(i=1+(3&t[9])),i}(t,i),this[e(444)][e(613)](this[e(605)],"demux() isVideoSequenceHeader is true and isHevc is "+i+e(565)+this[e(546)])}[Lf(519)](t,e){const s=Lf;let i=this.player,r=t;if(i[s(710)][s(520)])if(i._opt.cryptoKey&&i[s(710)][s(507)][s(654)]>0&&i[s(710)][s(709)]&&i[s(710)][s(709)].byteLength>0){const e=this.player[s(626)][s(588)]();e[s(706)]?r=function(t,e,s){const i=Kp;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=new Uint8Array(e),s=new Uint8Array(s);const n=t.byteLength;let o=5;for(;o<n;){let a=Hp(t.slice(o,o+4));if(a>n)break;let h=t[o+4],l=!1;if(r?(h=h>>>1&63,l=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][i(172)](h)):(h&=31,l=1===h||5===h),l){const r=t[i(170)](o+4+2,o+4+a);let n=new(Zd[i(188)][i(169)])(e,new(Zd[i(187)])(s));const h=n[i(181)](r);n=null,t[i(185)](h,o+4+2)}o=o+4+a}return t}(t,i[s(710)].cryptoKey,i[s(710)][s(709)],e[s(706)]===Z[s(596)]):i[s(640)](this[s(605)],s(558)+e[s(706)])}else i[s(728)](this[s(605)],"isM7sCrypto cryptoKey.length is "+(i[s(710)][s(507)]&&i[s(710)][s(507)][s(654)])+s(608)+(i[s(710)].cryptoIV&&i[s(710)][s(709)].byteLength)+s(660));else if(i[s(710)][s(445)])if(i._opt[s(621)]){const e=this.player.video.getVideoInfo()[s(706)]===Z[s(596)],n=this[s(444)][s(710)][s(669)];r=i[s(710)][s(507)]&&i[s(710)][s(507)].byteLength>0&&i[s(710)][s(709)]&&i[s(710)].cryptoIV[s(654)]>0?function(t,e,s){var i=Cf;let r=arguments[i(484)]>3&&void 0!==arguments[3]&&arguments[3],n=arguments[i(484)]>4&&void 0!==arguments[4]&&arguments[4];e=new Uint8Array(e),s=new Uint8Array(s);const o=t.byteLength;let a=5;for(;a<o;){let h=yf(t.slice(a,a+4));if(h>o)break;let l=t[a+4],c=!1,d=2;if(r?(n&&(d=3),l=l>>>1&63,c=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21].includes(l)):(l&=31,c=1===l||5===l),c){const r=Df(e,s,t.slice(a+4+d,a+4+h));t[i(493)](r,a+4+d)}a=a+4+h}return t}(t,i[s(710)][s(507)],i[s(710)][s(709)],e,n):function(t,e){const s=sf;let i=arguments[s(322)]>2&&void 0!==arguments[2]&&arguments[2],r=arguments[s(322)]>3&&void 0!==arguments[3]&&arguments[3];const n=t[s(329)];let o=new Uint8Array(t[s(331)](0,5)),a=5;for(;a<n;){const h=t[s(331)](a,a+4);let l=uf(h);if(l>n){const e=new Uint8Array(o[s(322)]+t[s(322)]-a);e[s(333)](o,0),e[s(333)](t[s(331)](a),o[s(322)]),o=e;break}let c=t[a+4],d=!1,u=2;if(i?(r&&(u=3),c=c>>>1&63,d=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21].includes(c)):(c&=31,d=1===c||5===c),d){const i=df(t[s(331)](a+4+u,a+4+l),e,0,{padding:s(317),output:s(349)});let r=i[i.length-1];if(r>0&&r<16){let t=!0;for(let e=1;e<=r;e++)if(i[i[s(322)]-e]!==r){t=!1;break}t&&i.splice(i[s(322)]-r,r)}const n=new Uint8Array(u);n[s(333)](t[s(331)](a+4,a+4+u),0);const h=Je(tc(n,new Uint8Array(i))),c=new Uint8Array(o[s(322)]+h[s(322)]);c[s(333)](o,0),c[s(333)](h,o.length),o=c}else{const e=t.slice(a+4,a+4+l),i=new Uint8Array(o.length+4+e[s(322)]);i[s(333)](o,0),i.set(h,o[s(322)]),i[s(333)](e,o[s(322)]+4),o=i}a=a+4+l}return o}(t,i[s(710)][s(621)],e,n)}else!i[s(710)][s(621)]&&i[s(728)](this[s(605)],s(446));else if(i._opt[s(673)])if(i[s(710)].cryptoKey&&i._opt.cryptoKey[s(654)]>0&&i[s(710)][s(709)]&&i._opt.cryptoIV[s(654)]>0){const e=this[s(444)][s(626)][s(588)]();r=function(t,e,s){const i=pf;let r=arguments[i(456)]>3&&void 0!==arguments[3]&&arguments[3];const n=t[i(462)];let o=5;for(;o<n;){let a=mf(t.slice(o,o+4));if(a>n)break;let h=t[o+4],l=!1;if(r?(h=h>>>1&63,l=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][i(459)](h)):(h&=31,l=1===h||5===h),l){const r=ff(t[i(460)](o+4,o+4+a),e,s);t[i(455)](r,o+4)}o=o+4+a}return t}(t,i[s(710)][s(507)],i[s(710)][s(709)],e[s(706)]===Z[s(596)])}else i[s(728)](this[s(605)],"isXorCrypto opt.xorCryptoKey is null");return r}cryptoPayloadAudio(t){const e=Lf;let s=this[e(444)];if(Ri(s[e(710)].isCryptoAudio))return t;let i=t;if(s[e(710)][e(520)])if(s[e(710)][e(507)]&&s[e(710)][e(507)].byteLength>0&&s[e(710)].cryptoIV&&s[e(710)][e(709)].byteLength>0){t[0]>>4===et[e(576)]&&(i=function(t,e,s){const i=Kp;if(t[i(171)]<=30)return t;const r=t[i(170)](32);let n=new(Zd.ModeOfOperation[i(169)])(e,new(Zd[i(187)])(s));const o=n[i(181)](r);return n=null,t[i(185)](o,32),t}(t,s._opt[e(507)],s[e(710)][e(709)]))}else s.debugError(this[e(605)],e(593)+(s[e(710)][e(507)]&&s[e(710)][e(507)][e(654)])+e(608)+(s[e(710)].cryptoIV&&s[e(710)][e(709)][e(654)])+e(660));else if(s[e(710)][e(673)])if(s._opt[e(507)]&&s._opt.cryptoKey[e(654)]>0&&s[e(710)][e(709)]&&s._opt.cryptoIV[e(654)]>0){t[0]>>4===et.AAC&&(i=function(t,e,s){const i=pf;if(t.byteLength<=30)return t;const r=ff(t.slice(30),e,s);return t[i(455)](r,30),t}(t,s[e(710)][e(507)],s[e(710)].cryptoIV))}else s[e(728)](this[e(605)],e(439)+(s[e(710)][e(507)]&&s[e(710)][e(507)].byteLength)+" or cryptoIV.length is "+(s._opt[e(709)]&&s[e(710)][e(709)].byteLength)+e(660));return i}[Lf(465)](t,e){const s=Lf,i=t[0],r=48&i,n=15&i,o=t.slice(1,5),a=new ArrayBuffer(4),h=new Uint32Array(a),l="a"==String[s(486)](o[0]);if(n===Wt[s(665)]){if(r===Gt[s(567)]){const e=t.slice(5);if(l)this.player[s(728)](this[s(605)],s(712));else{const t=new Uint8Array(5+e.length);t.set([28,0,0,0,0],0),t[s(741)](e,5),this[s(679)](t),this[s(444)][s(613)](this.TAG_NAME,"demux() isVideoSequenceHeader(enhancedH265) is true and nalUnitSize is "+this.nalUnitSize),this[s(542)](t,j[s(626)],0,!0,0)}}}else if(n===Wt[s(591)]){let i=t,n=0;const o=r===Gt[s(567)];if(o&&this[s(658)](e),l)this[s(444)][s(728)](this.TAG_NAME,s(712));else{h[0]=t[4],h[1]=t[3],h[2]=t[2],h[3]=0,n=h[0];i=Pl(t.slice(8),o),i=this[s(519)](i,o),this[s(542)](i,j.video,e,o,n)}}else if(n===Wt[s(657)]){const i=r===Gt[s(567)],n=t.slice(5);i&&this[s(658)](e);let o=Pl(n,i);o=this[s(519)](o,i),this[s(542)](o,j[s(626)],e,i,0)}else this[s(444)].debugLog(this[s(605)],s(616)+n+s(718))}[Lf(569)](t){return 128==(128&t)}[Lf(555)](t){const e=Lf;Di(t)?this[e(598)]():this[e(661)]()}[Lf(472)](t){const e=Lf,s=t[e(500)]((t=>{const s=e;return{ts:t.dts||t[s(691)],type:t.type}}));this[e(638)]=this[e(638)][e(448)](s);let i=Si(this._tempSampleTsList,j[e(626)]);if(i){const t=this[e(560)](this[e(638)]);let s="";s=t[e(570)]>100?JSON[e(545)](t[e(708)](0,100))+"...":JSON.stringify(t),this[e(444)][e(613)](this[e(605)],e(574)+i+e(450)+this._basefps+e(623)+t.length+e(599)+s),i<15&&this[e(444)][e(640)](this[e(605)],e(574)+i+e(551)),this[e(495)]=i,this._tempSampleTsList=[],this[e(670)](e(730),{baseFps:this[e(495)]})}else{this.player[e(613)](this[e(605)],e(513)+this[e(638)][e(570)]);const t=100;if(this[e(638)][e(570)]>=t){const s=this.getBufferListVideoTsList(this[e(638)]);return this[e(444)][e(640)](this[e(605)],e(493)+t+e(668)+s.length+e(599)+JSON[e(545)](s)+e(620)+this[e(495)]),this._tempSampleTsList=[],this[e(670)](e(730),{baseFps:this[e(495)]}),!0}if(this[e(638)][e(570)]>t/2){const s=this[e(560)](this._tempSampleTsList);this[e(444)][e(640)](this[e(605)],e(493)+t/2+e(668)+s[e(570)]+e(599)+JSON[e(545)](s)+e(584))}}return null!==i}[Lf(670)](){}[Lf(579)](){return!this[Lf(444)].isUseMSE()}[Lf(587)](){const t=Lf;return this.bufferList[t(570)]}[Lf(736)](){const t=Lf;let e={video:0,audio:0};return this[t(682)][t(597)]((s=>{const i=t;s[i(461)]===j[i(626)]?e[i(626)]+=1:s[i(461)]===j.audio&&(e[i(594)]+=1)})),e}getVideoBufferDuration(){const t=Lf,e=this.bufferList[t(740)]((e=>{const s=t;return e.type===j[s(626)]})),s=function(t,e){const s=$e;if(li(t[s(518)]))return t[s(518)](e);for(let i=t[s(550)]-1;i>=0;i--)if(e(t[i],i,t))return t[i]}(this[t(682)],(e=>{const s=t;return e[s(461)]===j[s(626)]}));return e&&s?parseInt(s.ts-e.ts,10):0}[Lf(503)](){const t=Lf;let e=0;return this[t(682)][t(597)]((s=>{const i=t;s.type===j[i(626)]&&(e+=1)})),e}[Lf(459)](){const t=Lf;let e=0;return this[t(682)][t(597)]((s=>{const i=t;s[i(461)]===j[i(594)]&&(e+=1)})),e}[Lf(562)](){return 0}[Lf(568)](t){const e=Lf;let s=arguments[e(570)]>1&&void 0!==arguments[1]?arguments[1]:5;const i=t[e(648)]||[];let r=!1;for(let t=0;t<i[e(570)]-1;t++){const n=i[t],o=i[t+1];n[e(489)]=n[e(729)],o[e(489)]=o[e(729)],n[e(729)]>=o.dts&&(r=!0,o[e(729)]=n.dts+s)}if(r){const t=i[e(500)]((t=>{const s=e;return t.oldDts===t[s(729)]?s(618)+t[s(729)]:s(464)+t[s(489)]+s(625)+t[s(729)]}));this[e(444)].debugLog(this.TAG_NAME,e(734)+t[e(655)](","))}}[Lf(540)](){const t=Lf;if(this.calcDelayFrameAccelerateDecodeMaxNum)return this[t(488)];const e=this[t(444)][t(588)]();if(e&&e[t(496)]&&e[t(617)]){const s=this[t(444)][t(710)];return this.calcDelayFrameAccelerateDecodeMaxNum=function(t){let e=arguments[$e(550)]>1&&void 0!==arguments[1]?arguments[1]:{};return zi(t,e)}(e,{useWCS:s[t(582)],useWasm:s.useWasm,useSIMD:s[t(590)],isFFmpegSIMD:s[t(453)],useMThreading:s[t(561)]}),this[t(488)]}return this.player[t(710)][t(704)]}getBufferListVideoTsList(){const t=Lf;return(arguments[t(570)]>0&&void 0!==arguments[0]?arguments[0]:[])[t(554)]((e=>{const s=t;return e[s(461)]===j[s(626)]})).map((t=>parseInt(t.ts,10)))}}function Mf(){const t=["intervalPlaybackLoopWorker","_loop",", vs start is ","_loop delay is ","getAudioBufferListLength",",and ts list is ","type","intervalPlayerLoopWorker"," pushBuffer video ts is ","old dts ","_decodeEnhancedH265Video","752072DPFxdU","isEmitSEI","getDelayNotUpdateDelay","  and\n                                bufferList is ","suffixSei","getNotDroppingDelayTs","_calcDecodeFps","_doDecodeByMp4","decodeVideo","preTimestamp","checkFirstIFrame","findSei","isRecordTypeMp4","resetDelay","prevPlaybackCacheLoopTimestamp","isDestroyedOrClosed","pushBuffer() video\n                    ts is "," and new delay is ","getDelay","initInterval() and is vod mp4 so return","fromCharCode","hasIframeInBufferList","calcDelayFrameAccelerateDecodeMaxNum","oldDts","pushBuffer() video ts is ","startTimestamp","getVideoBufferLength","_calcDecodeFps()  _tempSampleTsList is more than ","videoBufferDelay","_basefps","width","ms and return -1","dropBuffer$2",", data.type is ","map"," ,buffer list is "," less than (or equal) preTs is ","getVideoBufferListLength","isIFrame",",\n                    diff is ","historyIntervalDiffTimeList","cryptoKey","initPlaybackCacheLoop() and fragDuration is "," > maxDelayTs ","getStreamType","firstTimestamp","preTimestampDuration","_calcDecodeFps()  streamVideoFps is null and sample list length is ",",\n                                delay is ","dropBuffer$2() isAllIframeInBufferList() is true, and index is ","444636lqqbWm","calcNetworkDelay","dropping","cryptoPayload","isM7sCrypto","addAudio","prevPayloadBufferSize","calcNetworkDelay dts is ","calcPlaybackStreamFps()  video fps is ","playbackStreamFps",", bufferList is ",", delay is ","some","getPlaybackRate","setInterval()","emit","isWasmMp4",", data.isIFrame is "," more than ",",start dts is ","kSliceSEI","indexOf","handleAddNaluTrack"," > timestamp is ","getDelayFrameAccelerateDecodeMaxNum","clearBuffer,buffer length is ","_doDecode","bufferStartDts","pushBuffer() audio ts is ","stringify","nalUnitSize","isDemuxDecodeFirstIIframeInit","encType","isRateMoreThanMaxRate","getPushLatestDelay"," < 15，maybe play slowly","useWCS, page visibility is false and\n                                history interval diff is ","_loop isPushDropping is true and bufferList length is ","filter","handlePlaybackPause","close","playbackPause","videoInfo.encTypeCode is ","\n                    and resetAllDelay()","getBufferListVideoTsList","useMThreading","geVodLoadedTime","destroy","isPlayVod"," and nalUnitSize is ","_doDecodeByHls() player is destroyed or closed","FT_KEY","correctSamplePts","_isEnhancedH265Header","length","loop demux diff time is ","_doDecodeByTs","accelerate","_calcDecodeFps()  video fps is ","bound","AAC","ceil","push","_isUseWorker","decodeAudio","getIsStreamTsMoreThanLocal","useWCS","bufferStartLocalTs",", and waiting calc","networkDelayTimeout",", need clear is ","getBufferListLength","getVideoInfo","ms and diffFps is ","useSIMD","PACKET_TYPE_FRAMES"," ,delay is ","isM7sCrypto cryptoKey.length is ","audio","preLoopTimestamp","h265","forEach","clearStopInterval",", and ts list is "," and dropBuffer$2()","6qkWMaV","isDropping"," type is "," and notDroppingDelayTs is ","TAG_NAME",", preTimestamp is ",", isAacCodecPacket is true"," or cryptoIV.length is ","_playbackCacheLoop","isPlayer"," pushBuffer audio ts is "," less than ","debugLog","_doDecodeByHls","playType","demux() isEnhancedH265Header is true and packetEx is ","height","dts is ","playbackStreamVideoFps",", clear and use base fps update ","sm4CryptoKey","updateHistoryIntervalDiffTimeList",",ts List length is ","dropBuffer$2() iFrameIndex is "," -> new dts ","video",",local diff is ","_doDecoderDecode","calcPlaybackStreamFps, calc streamVideoFps is ","delay"," and _opt.checkFirstIFrame is "," and set dropping is true","isAllIframeInBufferList","prevEmitNetworkDelayTimestamp",", playbackStreamFps is ","isPlayUseMSE","findIndex","_tempSampleTsList","intervalUseWorker","debugWarn","_isDestroyed","ms and fragDuration is ","delay is more than networkDelay and now dts ","isPlaybackCacheBeforeDecodeForFpsRender","7hQVgVZ","delay is -1 and ts is ","isPushDropping","samples","isPlaybackOnlyDecodeIFrame","stopId","setStreamFps","_interval","preIframeTs","byteLength","join","useOffscreen","PACKET_TYPE_FRAMESX","calcIframeIntervalTimestamp","pushBuffer"," null","startPlaybackLoopInterval","initPlaybackCacheLoop and _opt.intervalUseWorker is true and use IntervalWorker","hls","mp4","PACKET_TYPE_SEQ_START","handleAddAudioTrack","isPlayback",", ts List length is ","isSm4CryptoH265V2","_postMessageToLoopWorker","calcPlaybackStreamFps, bufferListLength  is ","videoIframeIntervalTs","isXorCrypto","listenPlaybackEvents","_loop data isIFrame is true and delay is "," and prevPayloadBufferSize is ","updateStats","doPlaybackCacheLoop","updateNalUnitSize","isPlayVodUseMSE","playbackStreamAudioFps","bufferList"," and bufferStartDts is ","networkDelay","recorder","playVod","size","3674936VadOuO","loop() bufferList is empty and reset delay to -1"," so decode all frame previous","pts","visibility","bind",", isVideoSequenceHeader is true","resetAllDelay","getMaxDelayTs","isHistoryIntervalDiffTimeAllLarge","getDelayNotUpdateDelay() and preDelayTimestamp is ","_doDecodeByFmp4","isRecordTypeFlv","initInterval() and playback and playbackIsCacheBeforeDecodeForFpsRender is true so return","useMSE","calcPlaybackStreamFps","delayFrameAccelerateDecodeMaxNum","isStreamTsMoreThanLocal","encTypeCode","interval","slice","cryptoIV","_opt",",and old bufferList length is ","isAV1 is true, not support and can contact author wx:bosswancheng","wcsDecodeAudio","cts","calcBufferFps"," < 15, maybe play slowly"," ,and new bufferList length is "," and ignore","_reset","730818fiZbKK","hasAudio","now",", _opt.networkDelay is ","pushLatestDelay","payload","handleRecording","1109216uCjLyk","debugError","dts","updateBaseFps","getDelay() and preDelayTimestamp is ","videoBuffer","addVideoSequenceHeader","correctSamplePts dts and list is ",", and set streamFps is 25","getBufferLength","preDelayTimestamp","1430184oGGflO","decoderCheckFirstIFrame","find","set","shift","_loop is dropping and data.ts is ","_decodeNext","initInterval and _opt.intervalUseWorker is true and use IntervalWorker","isXorCrypto cryptoKey.length is "," > ","reset","2996965jmitZW","decoderWorker","player","isSm4Crypto","isSm4Crypto opt.sm4CryptoKey is null","initPlaybackCacheLoop","concat"," and tempDelay is ",", old base fps is ","updateVideoInfo","delayFrameChasingPolicy","isFFmpegSIMD","initInterval"];return(Mf=function(){return t})()}const Bf=Ff;function Ff(t,e){const s=Wf();return(Ff=function(t,e){return s[t-=454]})(t,e)}!function(t,e){const s=Ff,i=t();for(;;)try{if(948360===parseInt(s(495))/1*(parseInt(s(499))/2)+parseInt(s(458))/3*(parseInt(s(487))/4)+parseInt(s(481))/5*(-parseInt(s(469))/6)+parseInt(s(460))/7*(parseInt(s(479))/8)+parseInt(s(465))/9*(-parseInt(s(454))/10)+parseInt(s(462))/11*(-parseInt(s(484))/12)+parseInt(s(489))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wf);var Uf=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){const o=Ff;function a(t){try{l(i.next(t))}catch(t){n(t)}}function h(t){const e=Ff;try{l(i[e(463)](t))}catch(t){n(t)}}function l(t){const e=Ff;var i;t[e(494)]?r(t[e(466)]):(i=t[e(466)],i instanceof s?i:new s((function(t){t(i)})))[e(483)](a,h)}l((i=i.apply(t,e||[]))[o(467)]())}))};const Of=Symbol(32),Nf=Symbol(16),jf=Symbol(8);class Vf{constructor(t){const e=Bf;this.g=t,this.consumed=0,t&&(this[e(497)]=t[e(467)]().value)}[Bf(473)](t){const e=Bf;this.g=t,this.demand(t[e(467)]().value,!0)}[Bf(491)](){const t=Bf;this.buffer&&this[t(472)]&&(this[t(455)][t(480)](0,this[t(472)]),this[t(455)]=this[t(455)][t(490)](0,this[t(455)][t(459)]-this[t(472)]),this[t(472)]=0)}[Bf(456)](t,e){const s=Bf;return e&&this[s(491)](),this[s(497)]=t,this[s(457)]()}[Bf(478)](t){return Uf(this,void 0,void 0,(function*(){const e=Ff;return this[e(482)]&&(yield this[e(482)]),this.lastReadPromise=new Promise(((s,i)=>{const r=e;var n;this.reject=i,this[r(474)]=t=>{const e=r;delete this[e(482)],delete this[e(474)],delete this[e(497)],s(t)};this.demand(t,!0)||null===(n=this.pull)||void 0===n||n.call(this,t)}))}))}[Bf(468)](){return this.read(Of)}[Bf(496)](){return this.read(Nf)}readU8(){return this[Bf(478)](jf)}close(){const t=Bf;var e;this.g&&this.g[t(464)](),this.buffer&&this[t(455)][t(490)](0,0),null===(e=this.reject)||void 0===e||e[t(486)](this,new Error(t(470))),delete this[t(482)]}flush(){const t=Bf;if(!this[t(455)]||!this.need)return;let e=null;const s=this.buffer[t(490)](this[t(472)]);let i=0;const r=e=>s[t(459)]<(i=e);if(typeof this.need===t(498)){if(r(this.need))return;e=s[t(490)](0,i)}else if(this[t(497)]===Of){if(r(4))return;e=s[0]<<24|s[1]<<16|s[2]<<8|s[3]}else if(this.need===Nf){if(r(2))return;e=s[0]<<8|s[1]}else if(this[t(497)]===jf){if(r(1))return;e=s[0]}else if(t(455)in this[t(497)]){if("byteOffset"in this[t(497)]){if(r(this[t(497)][t(493)]-this[t(497)].byteOffset))return;new Uint8Array(this[t(497)][t(455)],this[t(497)].byteOffset)[t(476)](s[t(490)](0,i)),e=this[t(497)]}else if(this.g)return void this.g[t(463)](new Error(t(485)))}else{if(r(this.need[t(493)]))return;new Uint8Array(this.need)[t(476)](s[t(490)](0,i)),e=this.need}return this[t(472)]+=i,this.g?this[t(456)](this.g[t(467)](e)[t(466)],!0):this[t(474)]&&this[t(474)](e),e}[Bf(471)](t){const e=Bf;if(t instanceof Uint8Array?this.malloc(t[e(459)]).set(t):e(455)in t?this[e(500)](t[e(493)])[e(476)](new Uint8Array(t[e(455)],t[e(488)],t.byteLength)):this[e(500)](t[e(493)])[e(476)](new Uint8Array(t)),!this.g&&!this.resolve)return new Promise((t=>this[e(461)]=t));this[e(457)]()}[Bf(475)](t){const e=Bf;this[e(500)](4).set([t>>24&255,t>>16&255,t>>8&255,255&t]),this[e(457)]()}writeU16(t){const e=Bf;this.malloc(2)[e(476)]([t>>8&255,255&t]),this.flush()}writeU8(t){const e=Bf;this[e(500)](1)[0]=t,this[e(457)]()}[Bf(500)](t){const e=Bf;if(this.buffer){const s=this[e(455)][e(459)],i=s+t;if(i<=this[e(455)][e(455)].byteLength-this[e(455)].byteOffset)this[e(455)]=new Uint8Array(this[e(455)][e(455)],this[e(455)][e(488)],i);else{const t=new Uint8Array(i);t.set(this.buffer),this[e(455)]=t}return this.buffer.subarray(s,i)}return this[e(455)]=new Uint8Array(t),this[e(455)]}}function Wf(){const t=["536988BslNju","Unsupported type","call","264gTisWy","byteOffset","28126215fYmetN","subarray","consume","__awaiter","byteLength","done","50035gLpxQe","readU16","need","number","8UzFOub","malloc","2242020ZLuAYv","buffer","demand","flush","3741bkRQfQ","length","7wVzyQR","pull","275wNWika","throw","return","27eSylTL","value","next","readU32","1054830cbbudl","EOF","write","consumed","setG","resolve","writeU32","set","U16","read","5162432QfmWdb","copyWithin","10wEsIXe","lastReadPromise","then"];return(Wf=function(){return t})()}Vf.U32=Of,Vf[Bf(477)]=Nf,Vf.U8=jf;const Gf=Hf;function zf(){const t=["20oKSKcZ","FlvDemux","4NnSfyD"," less than 6 and ignore","h264","1908732fqjeiS","buffer","debugLog","_decodeEnhancedH265Video","updateMetaData","18860928XKKZdJ","cryptoPayload","dispatch() this.input is null","187IGxokq"," and ignore","737994IKlcHU","demux() isIFrame is false and unit type is IDR and update to true","cryptoPayloadAudio","keyFrame","hasAudio","input","onMetaData","11340ARobyg","video","byteLength","demux","close","1328cCcSye","54TgNowl","slice","init","updateNalUnitSize","length","hasVideo","debugWarn","destroy","TAG_NAME","calcIframeIntervalTimestamp","player","_doDecode","isRecordTypeFlv","write","scriptData","8809oKfQjQ","1498314RsoFog","nalUnitSize","13230huOXgY","_opt","demuxStart"];return(zf=function(){return t})()}function Hf(t,e){const s=zf();return(Hf=function(t,e){return s[t-=477]})(t,e)}!function(t,e){const s=Hf,i=t();for(;;)try{if(256460===parseInt(s(494))/1*(-parseInt(s(479))/2)+-parseInt(s(495))/3*(parseInt(s(502))/4)+parseInt(s(500))/5*(-parseInt(s(515))/6)+-parseInt(s(505))/7+parseInt(s(478))/8*(parseInt(s(522))/9)+-parseInt(s(497))/10*(parseInt(s(513))/11)+parseInt(s(510))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zf);class Kf extends xf{constructor(t){const e=Hf;super(t),this[e(487)]=e(501),this[e(520)]=new Vf(this[e(525)]()),t.debugLog(this.TAG_NAME,e(481))}[Gf(486)](){const t=Gf;super[t(486)](),this[t(520)]&&(this.input[t(477)](),this[t(520)]=null),this[t(489)].debugLog(this.TAG_NAME,t(486))}dispatch(t){const e=Gf;this[e(520)]?this[e(520)][e(492)](t):this[e(489)][e(485)](this[e(487)],e(512))}*demux(){const t=Gf;yield 9;const e=new ArrayBuffer(4),s=new Uint8Array(e),i=new Uint32Array(e),r=this[t(489)];for(;;){if(!this.input)return;s[3]=0;const e=yield 15,n=e[4];s[0]=e[7],s[1]=e[6],s[2]=e[5];const o=i[0];s[0]=e[10],s[1]=e[9],s[2]=e[8],s[3]=e[11];let a=i[0];const h=(yield o)[t(480)]();if(!r)return;switch(n){case V.audio:if(r[t(498)][t(519)]&&(r.updateStats({abps:h[t(524)]}),h[t(524)]>0)){let e=this[t(517)](h);this[t(490)](e,j.audio,a)}break;case V[t(523)]:if(r[t(498)][t(484)]&&h[t(483)]>=6){let e=a;r.updateStats({vbps:8*h[t(524)],dts:e}),!r._times[t(499)]&&(r._times[t(499)]=is());const s=h[0];if(this._isEnhancedH265Header(s))this[t(508)](h,e);else{const e=15&s;let r=(s>>4&15)===Pt[t(518)];const n=e===Z.h265,o=e===Z[t(504)];if(Ri(n||o))return void this.player[t(485)](this[t(487)],"demux() codecId is "+e+t(514));Ri(r)&&Di(Vi(h,n))&&(this[t(489)][t(507)](this.TAG_NAME,t(516)),r=!0),r&&(this[t(488)](a),null===this[t(496)]&&Ci(h)&&this[t(482)](h)),i[0]=h[4],i[1]=h[3],i[2]=h[2],i[3]=0;let l=i[0],c=this[t(511)](h,r);this[t(490)](c,j.video,a,r,l)}}else h[t(483)]<6&&r[t(485)](this[t(487)],"payload.length is "+h[t(483)]+t(503));break;case V[t(493)]:if(this.player[t(491)]()){const e=new Uint8Array(h);this[t(489)].recorder.addMetaData(e)}const e=xc(h);e&&e[t(521)]&&r[t(509)](e.onMetaData);break;default:r[t(507)](this[t(487)],"demux() type is "+n)}}}[Gf(477)](){const t=Gf;this.input&&(this[t(520)][t(477)](),this[t(520)]=null)}getInputByteLength(){const t=Gf;let e=0;return this.input&&this.input[t(506)]&&(e=this[t(520)][t(506)][t(524)]),e}}const qf=Qf;function Qf(t,e){const s=Yf();return(Qf=function(t,e){return s[t-=486]})(t,e)}function Yf(){const t=["addMetaData","nalUnitSize","debugLog","cryptoPayload","debugWarn","_doDecode","set","dispatchFlvData","10Wbyxdn","demuxStart","calcIframeIntervalTimestamp","TAG_NAME","destroy","updateNalUnitSize","demux","input","7TPgKeW","audio","demux() type is ","303540yzYmki","updateMetaData","_times","keyFrame","6QeoEZX","next","cryptoPayloadAudio","close","demux() codecId is ","player","11Qapmmf","value","10860486rJzItU","init","22836430VybZDY","length","dispatch","updateStats","hasAudio"," less than 6 and ignore","_decodeEnhancedH265Video","1490672tqNgCO","onMetaData","15648318wBhkUE","slice","byteLength","flvStreamBuffer","recorder","8482515vMjrRK","h264","6391568HifUYF","scriptData","demux() isIFrame is false and unit type is IDR and update to true","payload.length is ","hasVideo","_opt","video","flvDemux"];return(Yf=function(){return t})()}!function(t,e){const s=Qf,i=t();for(;;)try{if(912791===parseInt(s(514))/1*(parseInt(s(503))/2)+-parseInt(s(518))/3*(parseInt(s(535))/4)+parseInt(s(542))/5+-parseInt(s(526))/6+parseInt(s(511))/7*(parseInt(s(487))/8)+parseInt(s(537))/9+-parseInt(s(528))/10*(parseInt(s(524))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yf);class Jf extends xf{constructor(t){const e=Qf;super(t),this[e(506)]="FlvDemuxV2",this[e(510)]=this[e(509)](),this[e(540)]=null,this[e(494)]=this[e(502)](this.input),t[e(497)](this.TAG_NAME,e(527))}destroy(){const t=Qf;super[t(507)](),this[t(521)](),this[t(510)]=null,this[t(494)]=null,this.player[t(497)](this[t(506)],"destroy")}[qf(502)](t){let e=t.next();return s=>{const i=Qf;let r=new Uint8Array(s);if(this[i(540)]){let t=new Uint8Array(this.flvStreamBuffer[i(529)]+r[i(529)]);t[i(501)](this[i(540)]),t[i(501)](r,this[i(540)][i(529)]),r=t,this[i(540)]=null}for(;r.length>=e[i(525)];){let s=r[i(538)](e[i(525)]);e=t[i(519)](r[i(538)](0,e[i(525)])),r=s}r.length>0&&(this[i(540)]=r)}}[qf(530)](t){const e=qf;this[e(494)]?this[e(494)](t):this[e(523)][e(499)](this[e(506)],"dispatch() this.flvDemux is null")}*[qf(509)](){const t=qf;yield 9;const e=new ArrayBuffer(4),s=new Uint8Array(e),i=new Uint32Array(e),r=this[t(523)];for(;;){if(!this[t(494)])return;s[3]=0;const e=yield 15,n=e[4];s[0]=e[7],s[1]=e[6],s[2]=e[5];const o=i[0];s[0]=e[10],s[1]=e[9],s[2]=e[8],s[3]=e[11];let a=i[0];const h=(yield o)[t(538)]();if(!r)return;switch(n){case V[t(512)]:if(r[t(492)][t(532)]&&(r[t(531)]({abps:h[t(539)]}),h[t(539)]>0)){let e=this[t(520)](h);this[t(500)](e,j[t(512)],a)}break;case V[t(493)]:if(r[t(492)][t(491)]&&h[t(529)]>=6){let e=a;r[t(531)]({vbps:8*h[t(539)],dts:e}),!r._times[t(504)]&&(r[t(516)][t(504)]=is());const s=h[0];if(this._isEnhancedH265Header(s))this[t(534)](h,e);else{const e=15&s;let r=(s>>4&15)===Pt[t(517)];const n=e===Z.h265,o=e===Z[t(486)];if(Ri(n||o))return void this[t(523)].debugWarn(this.TAG_NAME,t(522)+e+" and ignore");Ri(r)&&Di(Vi(h,n))&&(this.player.debugLog(this[t(506)],t(489)),r=!0),r&&(this[t(505)](a),null===this[t(496)]&&Ci(h)&&this[t(508)](h)),i[0]=h[4],i[1]=h[3],i[2]=h[2],i[3]=0;let l=i[0],c=this[t(498)](h,r);this[t(500)](c,j[t(493)],a,r,l)}}else h[t(529)]<6&&r[t(499)](this[t(506)],t(490)+h[t(529)]+t(533));break;case V[t(488)]:if(this[t(523)].isRecordTypeFlv()){const e=new Uint8Array(h);this[t(523)][t(541)][t(495)](e)}const e=xc(h);e&&e[t(536)]&&r[t(515)](e[t(536)]);break;default:r.debugLog(this.TAG_NAME,t(513)+n)}}}close(){this.flvStreamBuffer&&(this.flvStreamBuffer=null)}getInputByteLength(){const t=qf;let e=0;return this[t(540)]&&(e=this[t(540)][t(539)]),e}}function Xf(){const t=["_decodeEnhancedH265Video","_isEnhancedH265Header","and return","9495fPJwxm","780707grkcZH","287TfxUdo","6600QoGlMu","_doDecode","2716832Zlgxmb","player","byteLength","12498TVpjCz","getUint32","4473230mVxFan","demuxStart","TAG_NAME","379866ERiKvv","_times","calcIframeIntervalTimestamp","init","hasAudio","hasVideo","dv byteLength is","audio","updateStats","dispatch","cryptoPayload","getUint8","destroy","8zAIPDI","video","cryptoPayloadAudio","2206100viGvUP","debugLog","11IiCdZG","debugWarn","_opt"];return(Xf=function(){return t})()}function $f(t,e){const s=Xf();return($f=function(t,e){return s[t-=403]})(t,e)}!function(t,e){const s=$f,i=t();for(;;)try{if(472224===-parseInt(s(418))/1+parseInt(s(406))/2*(parseInt(s(430))/3)+parseInt(s(422))/4+-parseInt(s(409))/5+parseInt(s(425))/6*(parseInt(s(419))/7)+parseInt(s(420))/8*(parseInt(s(417))/9)+-parseInt(s(427))/10*(parseInt(s(411))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xf);class Zf extends xf{constructor(t){const e=$f;super(t),this.TAG_NAME="M7sDemux",t[e(410)](this[e(429)],e(433))}destroy(){const t=$f;super[t(405)](),this[t(423)][t(410)](this[t(429)],t(405))}dispatch(t){const e=$f;var s;(s=t)&&ArrayBuffer[$e(280)](s)&&(t=t.buffer);const i=this[e(423)],r=new DataView(t),n=r[e(404)](0),o=r[e(426)](1,!1),a=new ArrayBuffer(4),h=new Uint32Array(a);switch(n){case j[e(437)]:if(i[e(413)][e(434)]){const s=new Uint8Array(t,5);if(i[e(438)]({abps:s[e(424)]}),s.byteLength>0){const t=this[e(408)](s);this[e(421)](t,n,o)}}break;case j[e(407)]:if(i._opt[e(435)])if(!i[e(431)].demuxStart&&(i[e(431)][e(428)]=is()),r[e(424)]>=11){const s=new Uint8Array(t,5);let a=o;i[e(438)]({vbps:8*s[e(424)],dts:a});const l=s[0];if(this[e(415)](l))this[e(414)](s,o);else{const t=r.getUint8(5)>>4==1;t&&this[e(432)](o),h[0]=s[4],h[1]=s[3],h[2]=s[2],h[3]=0;let i=h[0],a=this[e(403)](s,t);this[e(421)](a,n,o,t,i)}}else this.player[e(412)](this[e(429)],e(439),e(436),r.byteLength,e(416))}}}var tm=em;function em(t,e){var s=sm();return(em=function(t,e){return s[t-=234]})(t,e)}function sm(){var t=["3468SnAwvz","501LgSfus","player","445572geHvPX","TAG_NAME","130GuMnQy","debugLog","4279760rOGWpR","61634xwNHkM","10JjztDQ","17708Ubzcma","5230RRySzv","14CPireW","13uNYUTp","7976205JjPRQm","destroy","init","4673174sCbABk"];return(sm=function(){return t})()}!function(t,e){for(var s=em,i=t();;)try{if(959385===parseInt(s(235))/1*(parseInt(s(248))/2)+-parseInt(s(241))/3*(parseInt(s(250))/4)+parseInt(s(251))/5*(-parseInt(s(240))/6)+parseInt(s(234))/7*(parseInt(s(247))/8)+parseInt(s(236))/9+-parseInt(s(249))/10*(parseInt(s(239))/11)+parseInt(s(243))/12*(parseInt(s(245))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sm);class im extends Kf{constructor(t){var e=em;super(t),this.TAG_NAME="WebTransportDemux",t[e(246)](this[e(244)],e(238))}[tm(237)](){var t=tm;super[t(237)](),this[t(242)].debugLog(this[t(244)],t(237))}}function rm(){const t=["28CTQUxE","skipBits","getBits","byteLength","bitLength","5106275jOasdm","readUInt","readUShort","readBoolean","104430xoYAbW","6861448SjALsi","length","2610072qXHWug","5456852pklUFp","999148BslFhO","skipUEG","bitsAvailable","readEG","readUByte","data","readUEG","index","readBits","skipLZ","756DNhWSz","21LtausK","135194zJfRvK"];return(rm=function(){return t})()}const nm=om;function om(t,e){const s=rm();return(om=function(t,e){return s[t-=129]})(t,e)}!function(t,e){const s=om,i=t();for(;;)try{if(907986===-parseInt(s(141))/1+-parseInt(s(153))/2*(parseInt(s(152))/3)+parseInt(s(140))/4+parseInt(s(132))/5+parseInt(s(139))/6*(-parseInt(s(154))/7)+parseInt(s(137))/8+parseInt(s(151))/9*(parseInt(s(136))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rm);class am{constructor(t){const e=om;this[e(146)]=t,this[e(148)]=0,this[e(131)]=8*t[e(130)]}get[nm(143)](){const t=nm;return this[t(131)]-this[t(148)]}[nm(155)](t){const e=nm;if(this.bitsAvailable<t)return!1;this[e(148)]+=t}[nm(149)](t){const e=nm;let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this[e(129)](t,this[e(148)],s)}getBits(t,e){const s=nm;let i=!(arguments[s(138)]>2&&void 0!==arguments[2])||arguments[2];if(this[s(143)]<t)return 0;const r=e%8,n=this.data[e/8|0]&255>>>r,o=8-r;if(o>=t)return i&&(this.index+=t),n>>o-t;{i&&(this[s(148)]+=o);const r=t-o;return n<<r|this.getBits(r,e+o,i)}}[nm(150)](){const t=nm;let e;for(e=0;e<this[t(131)]-this[t(148)];++e)if(0!==this[t(129)](1,this[t(148)]+e,!1))return this[t(148)]+=e,e;return e}[nm(142)](){const t=nm;this[t(155)](1+this[t(150)]())}skipEG(){const t=nm;this.skipBits(1+this[t(150)]())}readUEG(){const t=nm,e=this[t(150)]();return this[t(149)](e+1)-1}[nm(144)](){const t=this[nm(147)]();return 1&t?1+t>>>1:-1*(t>>>1)}[nm(135)](){return 1===this[nm(149)](1)}[nm(145)](){let t=arguments[nm(138)]>0&&void 0!==arguments[0]?arguments[0]:1;return this.readBits(8*t)}[nm(134)](){return this.readBits(16)}[nm(133)](){return this[nm(149)](32)}}const hm=cm;function lm(){const t=["handleVideoH264Nalu","getNaluAudioDts","54OGNsEh","error","handleAudioAACNalu","_doDecode","kSliceSEI","extractH264PPS","extractNALu$3","addNaluToBuffer","destroy","iFrame","handleVideoFrames streamVideoType is null","AAC","_opt","3773AmwTjb","dispatch naluArray.length === 0","1342140EvRakk","calcIframeIntervalTimestamp","units","reset","2956TEItkO","handleVideoH265NaluList isSendSeqHeader is false","player","payload","createObjectURL","localDts","h264","pps","audio","readUEG","pendingUnits","audioBufferSize","extractNALu$2","h265 naluList.length === 0","byteLength","2726730ujyrvu","readBits","tempNaluBufferList","nakedFlowH265DemuxUseNew","handleVideoH265Frames","nakedFlowFps","2683975RQducQ","readUByte","extractNALu","lastBuf","URL","488460BDjJsP","_preDoDecode","handleVideoH264Nalu is avc seq head nalType is ",".h264","handleVideoH264Frames","demuxStart","isSendSeqHeader","handleVideoNalu","localAudioDts","handleVideoH264NaluList","h265","uuid","handleAudioG711UNalu","reduce","streamVideoType","_times","TAG_NAME","isSendAACSeqHeader","updateStats","video","handleVideoH264NaluList isSendSeqHeader is false","downloadNakedFlowFile","kSliceIDR","getNaluDts","NakedFlowDemux","kSliceNonIDR","parseVideo264Header","handleAudioMp3Nalu","set","getAudioContextSampleRate","streamAudioType","naluList.length === 0","handleVideoFrames","href","1048IucwbC","init","isIFrame","extractH264SEI","vcl","dispatch","nakedFlowDemuxUseNew","771jzHpir","1279952imfBfd","handleAudioG711ANalu","type","extractH265SEI","vps","now","forEach","sps","length","slice","handleVideoH265Nalu","prefixSei","download","handleAddNaluStartCode","handleVideoH265NaluList","ALAW","push","handleNALu","debugLog","parseVideo265Header","subarray","downloadTempNalu","debugWarn","emitVideoSei","isfms","isEmitSEI","size"];return(lm=function(){return t})()}function cm(t,e){const s=lm();return(cm=function(t,e){return s[t-=159]})(t,e)}!function(t,e){const s=cm,i=t();for(;;)try{if(268697===-parseInt(s(240))/1+-parseInt(s(214))/2*(parseInt(s(165))/3)+parseInt(s(166))/4+parseInt(s(235))/5+-parseInt(s(229))/6+-parseInt(s(208))/7*(parseInt(s(274))/8)+parseInt(s(195))/9*(parseInt(s(210))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(lm);class dm extends xf{constructor(t){const e=cm;super(t),this[e(256)]=e(264),this.player=t,this.reset(),this.tempNaluBufferList=new Uint8Array(0),t[e(184)](this.TAG_NAME,e(159))}[hm(203)](){const t=hm;super.destroy(),this.reset(),this[t(216)][t(184)](this[t(256)],"destroy")}[hm(213)](){const t=hm;this[t(238)]=null,this[t(170)]=null,this[t(173)]=null,this[t(221)]=null,this[t(254)]=null,this[t(270)]=null,this[t(231)]=null,this[t(224)]={},this[t(219)]=0,this[t(248)]=0,this[t(246)]=!1,this.isSendAACSeqHeader=!1}[hm(163)](t){const e=hm;this.player;const s=new Uint8Array(t);if(this[e(216)][e(207)][e(164)]){const t=this[e(201)](s);if(0===t[e(174)])return void this[e(216)].debugLog(this[e(256)],e(209));this[e(272)](t)}else this[e(226)](s)}[hm(202)](t){const e=hm,s=t[e(228)]+this[e(231)][e(228)],i=new Uint8Array(s);i[e(268)](this[e(231)],0),i[e(268)](t,this[e(231)][e(228)]),this[e(231)]=i}[hm(261)](){const t=hm,e=new Blob([this[t(231)]]);try{const s=document.createElement("a");s.href=window[t(239)][t(218)](e),s[t(178)]=Date[t(171)]()+t(243),s.click(),window[t(239)].revokeObjectURL(s[t(273)])}catch(e){console[t(196)](t(187),e)}}[hm(263)](){const t=hm,e=this[t(216)]._opt[t(234)];return this[t(219)]=this[t(219)]+parseInt(1e3/e,10),this[t(219)]}[hm(194)](){const t=hm,e=this[t(216)][t(222)][t(269)](),s=this[t(216)][t(222)][t(225)];return this.localDts+parseInt(s/e*1e3)}[hm(237)](t){const e=hm;let s,i,r=0,n=t[e(228)],o=0,a=[];for(;r<n;)switch(s=t[r++],o){case 0:0===s&&(o=1);break;case 1:o=0===s?2:0;break;case 2:case 3:0===s?o=3:1===s&&r<n?(t[r],i&&a[e(182)](t[e(186)](i,r-o-1)),i=r,o=0):o=0}return i&&a[e(182)](t[e(186)](i,n)),a}extractNALu$2(t){const e=hm;let s=null;if(!t||t[e(228)]<1)return;this[e(238)]?(s=new Uint8Array(t[e(228)]+this[e(238)].length),s[e(268)](this[e(238)]),s.set(new Uint8Array(t),this[e(238)][e(174)])):s=new Uint8Array(t);let i=0,r=-1,n=-2;const o=new Array;for(let t=0;t<s[e(174)];t+=2){const i=s[t],a=s[t+1];0==r&&0==i&&0==a?o[e(182)](t-1):1==a&&0==i&&0==r&&0==n&&o.push(t-2),n=i,r=a}if(o[e(174)]>1)for(let t=0;t<o[e(174)]-1;++t){const r=s[e(186)](o[t],o[t+1]+1);this[e(183)](r),i=o[t+1]}else i=o[0];if(0!=i&&i<s.length)this[e(238)]=s[e(186)](i);else{!this[e(238)]&&(this[e(238)]=s);const i=new Uint8Array(this.lastBuf[e(174)]+t[e(228)]);i[e(268)](this[e(238)]),i.set(new Uint8Array(t),this[e(238)][e(174)]),this.lastBuf=i}}extractNALu$3(t){const e=hm;let s,i,r=0,n=t[e(228)],o=0,a=[],h=new Uint8Array(t);if(this[e(238)]){const t=new Uint8Array(h[e(228)]+this[e(238)].byteLength);t.set(this[e(238)]),t[e(268)](h,this[e(238)][e(228)]),h=t,n=h[e(228)],this.lastBuf=null}for(;r<n;)switch(s=h[r++],o){case 0:0===s&&(o=1);break;case 1:o=0===s?2:0;break;case 2:case 3:0===s?o=3:1===s&&r<n?(i!=r-o-1&&a[e(182)](h[e(186)](i,r-o-1)),i=r,o=0):o=0}return i<n&&(this[e(238)]=h[e(186)](i,n)),a}[hm(183)](t){const e=hm;t[e(228)]<4||(t=t[e(175)](4),this[e(247)](t))}handleVideoNalu(t){const e=hm,s=new Uint8Array(t);if(!this[e(254)]&&(this[e(254)]=fi(s)),this[e(254)]===tt[e(220)]){const t=this[e(179)](s),i=this[e(237)](t);if(0===i[e(174)])return void this[e(216)].debugWarn(this[e(256)],e(247),e(271));const r=[];if(i[e(172)]((t=>{const s=e,i=rl(t);i===rt.pps||i===rt[s(173)]?this.handleVideoH264Nalu(t):ol(i)&&r.push(t)})),1===r[e(174)])this[e(193)](r[0]);else{if(function(t){const e=el;if(0===t[e(282)])return!1;const s=rl(t[0]);for(let i=1;i<t[e(282)];i++)if(s!==rl(t[i]))return!1;return!0}(r)){const t=rl(r[0]),s=al(t);this[e(249)](r,s,t)}else r.forEach((t=>{this[e(193)](t)}))}}else if(this.streamVideoType===tt.h265)if(this[e(216)][e(207)][e(232)]){const t=this[e(179)](s),i=this[e(237)](t);if(0===i[e(174)])return void this[e(216)][e(188)](this[e(256)],e(247),e(227));const r=[];if(i[e(172)]((t=>{const s=e,i=xl(t);i===nt[s(221)]||i===nt.sps||i===nt[s(170)]?this[s(176)](t):Ml(i)&&r.push(t)})),1===r[e(174)])this[e(176)](r[0]);else{if(function(t){const e=Ll;if(0===t[e(251)])return!1;const s=xl(t[0]);for(let i=1;i<t[e(251)];i++)if(s!==xl(t[i]))return!1;return!0}(r)){const t=xl(r[0]),s=Bl(t);this[e(180)](r,s,t)}else r[e(172)]((t=>{this.handleVideoH265Nalu(t)}))}}else{xl(s)===nt[e(221)]?this.extractH265PPS(s):this.handleVideoH265Nalu(s)}else this[e(216)].debugWarn(this[e(256)]," this.streamVideoType is null")}[hm(200)](t){const e=hm,s=this[e(179)](t);this.extractNALu(s).forEach((t=>{const s=e;nl(rl(t))?this[s(161)](t):this[s(193)](t)}))}extractH265PPS(t){const e=hm,s=this[e(179)](t);this.extractNALu(s)[e(172)]((t=>{const s=e,i=xl(t);i===nt[Ll(243)]?this[s(169)](t):this[s(176)](t)}))}[hm(161)](t){const e=hm,s=this[e(179)](t);this[e(237)](s)[e(172)]((t=>{this.handleVideoH264Nalu(t)}))}[hm(169)](t){const e=hm,s=this[e(179)](t);this[e(237)](s)[e(172)]((t=>{this[e(176)](t)}))}[hm(179)](t){const e=hm,s=[0,0,0,1],i=new Uint8Array(t[e(174)]+s[e(174)]);return i[e(268)](s),i.set(t,s[e(174)]),i}[hm(197)](t){const e=hm;if(!t||t[e(228)]<1)return;!this[e(270)]&&(this[e(270)]=st[e(206)]);let s=new Uint8Array(t);const i=s[e(175)](0,7);if(s=s.slice(7),!this[e(257)]){const t=(192&i[2])>>6,s=(60&i[2])>>2,r=(1&i[2])<<2|(192&i[3])>>6,n=new Uint8Array([175,0,t<<3|(14&s)>>1,(1&s)<<7|r<<3]);this.isSendAACSeqHeader=!0,this[e(198)](n,j[e(222)],0,!1,0)}const r=this.getNaluAudioDts(),n=new Uint8Array(s[e(174)]+2);n[e(268)]([175,1],0),n[e(268)](s,2),this[e(198)](n,j.audio,r,!1,0)}[hm(167)](t){const e=hm;if(!t||t[e(228)]<1)return;!this.streamAudioType&&(this[e(270)]=st[e(181)]);let s=new Uint8Array(t);const i=this[e(194)](),r=new Uint8Array(s.length+1);r[e(268)]([114],0),r.set(s,1),this._doDecode(r,j.audio,i,!1,0)}[hm(252)](t){const e=hm;if(!t||t[e(228)]<1)return;!this[e(270)]&&(this[e(270)]=st.MULAW);let s=new Uint8Array(t);const i=this[e(194)](),r=new Uint8Array(s[e(174)]+1);r[e(268)]([130],0),r[e(268)](s,1),this[e(198)](r,j[e(222)],i,!1,0)}[hm(267)](t){const e=hm;if(!t||t[e(228)]<1)return;!this[e(270)]&&(this[e(270)]=st.MP3);let s=new Uint8Array(t);const i=this.getNaluAudioDts(),r=new Uint8Array(s.length+1);r[e(268)]([32],0),r[e(268)](s,1),this[e(198)](r,j[e(222)],i,!1,0)}[hm(193)](t){const e=hm,s=rl(t);switch(s){case rt[e(173)]:this[e(173)]=t;break;case rt.pps:this[e(221)]=t}if(this[e(246)]){if(this[e(173)]&&this.pps){const t=sl({sps:this.sps,pps:this[e(221)]}),s=this[e(219)];this[e(198)](t,j[e(259)],s,!0,0),this[e(173)]=null,this[e(221)]=null}if(ol(s)){!this[e(216)][e(255)].demuxStart&&(this.player._times[e(245)]=is());const i=al(s),r=this[e(263)](),n=function(t,e){const s=el;let i=[];i[0]=e?23:39,i[1]=1,i[2]=0,i[3]=0,i[4]=0,i[5]=t[s(366)]>>24&255,i[6]=t[s(366)]>>16&255,i[7]=t.byteLength>>8&255,i[8]=255&t.byteLength;const r=new Uint8Array(i[s(282)]+t[s(366)]);return r[s(350)](i,0),r[s(350)](t,i[s(282)]),r}(t,i);this[e(241)](n,j[e(259)],r,i,0)}else this.player.debugWarn(this[e(256)],e(242)+s)}else if(this[e(173)]&&this[e(221)]){this.isSendSeqHeader=!0;const t=sl({sps:this.sps,pps:this[e(221)]});this._doDecode(t,j[e(259)],0,!0,0),this[e(173)]=null,this.pps=null}}[hm(249)](t,e,s){const i=hm;if(this[i(246)]){!this[i(216)]._times[i(245)]&&(this[i(216)][i(255)][i(245)]=is());const s=this[i(263)](),r=il(t[i(253)](((t,e)=>{const s=i,r=Je(t),n=Je(e),o=new Uint8Array(r[s(228)]+n.byteLength);return o[s(268)](r,0),o[s(268)](n,r.byteLength),o})),e);this[i(241)](r,j[i(259)],s,e,0)}else this.player[i(188)](this.TAG_NAME,i(260))}[hm(176)](t){const e=hm,s=xl(t);switch(s){case nt[e(170)]:this[e(170)]=t;break;case nt[e(173)]:this[e(173)]=t;break;case nt[e(221)]:this[e(221)]=t}if(this[e(246)]){if(this[e(170)]&&this.sps&&this.pps){const t=Rl({vps:this[e(170)],sps:this[e(173)],pps:this[e(221)]}),s=this[e(219)];this._doDecode(t,j.video,s,!0,0),this[e(170)]=null,this[e(173)]=null,this[e(221)]=null}if(Ml(s)){!this.player[e(255)][e(245)]&&(this[e(216)][e(255)][e(245)]=is());const i=Bl(s),r=this[e(263)](),n=function(t,e){const s=Ll;let i=[];i[0]=e?28:44,i[1]=1,i[2]=0,i[3]=0,i[4]=0,i[5]=t[s(295)]>>24&255,i[6]=t[s(295)]>>16&255,i[7]=t[s(295)]>>8&255,i[8]=255&t[s(295)];const r=new Uint8Array(i.length+t[s(295)]);return r[s(279)](i,0),r.set(t,i.length),r}(t,i);this[e(241)](n,j[e(259)],r,i,0)}}else if(this[e(170)]&&this[e(173)]&&this[e(221)]){this[e(246)]=!0;const t=Rl({vps:this.vps,sps:this[e(173)],pps:this[e(221)]});this[e(198)](t,j.video,0,!0,0),this[e(170)]=null,this[e(173)]=null,this[e(221)]=null}}handleVideoH265NaluList(t,e,s){const i=hm;if(this[i(246)]){!this[i(216)][i(255)].demuxStart&&(this[i(216)]._times[i(245)]=is());const s=this.getNaluDts(),r=Pl(t[i(253)](((t,e)=>{const s=i,r=Je(t),n=Je(e),o=new Uint8Array(r[s(228)]+n[s(228)]);return o[s(268)](r,0),o[s(268)](n,r[s(228)]),o})),e);this._preDoDecode(r,j[i(259)],s,e,0)}else this[i(216)][i(188)](this[i(256)],i(215))}[hm(241)](t,e,s,i,r){const n=hm;this[n(216)][n(258)]({vbps:8*t[n(228)],dts:s}),i&&this[n(211)](s),this[n(198)](t,j[n(259)],s,i,r)}getInputByteLength(){const t=hm;let e=0;return this.lastBuf&&(e=this.lastBuf[t(228)]),e}[hm(272)](t){const e=hm;if(!this.streamVideoType)for(let s of t)if(this[e(254)]=fi(s),this[e(254)])break;this[e(254)]?this[e(254)]===tt[e(220)]?this[e(244)](t):this.streamVideoType===tt[e(250)]&&this[e(233)](t):this[e(216)][e(188)](this[e(256)],e(205))}[hm(244)](t){const e=hm;let s=[],i=[],r=!1,n=!1;this[e(224)].units&&(s=this[e(224)].units,n=this[e(224)][e(162)],r=this[e(224)].iFrame,this.pendingUnits={});let o={};for(let a of t){if(a.byteLength<4)continue;const t=rl(a);let h=!1,l=t===rt.kSliceIDR;(t===rt[e(265)]||t===rt[e(262)])&&(o=this[e(266)](a),h=!0),s.length&&n&&(o[e(190)]||!h)&&(i[e(182)]({units:s,isIFrame:r}),s=[],r=!1,n=!1),s.push(a),r=r||l,n=n||h}s[e(174)]&&(this[e(224)]={units:s,vcl:n,iFrame:r}),i[e(172)]((t=>{const s=e,i=t[s(212)],r=t[s(160)];let n=null,o=null;if(i.forEach((t=>{const e=s,i=31&t[0];switch(i){case rt.pps:this[e(221)]=t;break;case rt[e(173)]:this.sps=t;break;case rt[e(199)]:o=t}if(ol(i)){const s=Je(t);if(n){const t=new Uint8Array(n[e(228)]+s[e(228)]);t[e(268)](n,0),t.set(s,n[e(228)]),n=t}else n=s}})),!this[s(246)]&&this[s(173)]&&this[s(221)]){this[s(246)]=!0;const t=sl({sps:this[s(173)],pps:this[s(221)]});this._doDecode(t,j[s(259)],0,!0,0),this[s(173)]=null,this[s(221)]=null}if(this[s(246)]){if(this[s(173)]&&this[s(221)]){const t=sl({sps:this[s(173)],pps:this.pps}),e=this[s(219)];this[s(198)](t,j[s(259)],e,!0,0),this[s(173)]=null,this.pps=null}if(n){!this[s(216)][s(255)][s(245)]&&(this.player._times[s(245)]=is());const t=this[s(263)](),e=il(n,r);if(this[s(216)][s(207)][s(191)]&&o){const e=Ye(qe(o),!1);this.player.emitVideoSei({ts:t,type:e[s(168)],data:e[s(217)],originData:o,uuid:e[s(251)],size:e[s(192)]})}this._preDoDecode(e,j[s(259)],t,r,0)}}}))}[hm(233)](t){const e=hm;let s=[],i=[],r=!1,n=!1;this.pendingUnits.units&&(s=this[e(224)].units,n=this[e(224)].vcl,r=this[e(224)][e(204)],this[e(224)]={});let o={};for(let a of t){if(a.byteLength<4)continue;const t=xl(a);let h=!1,l=Bl(t);Ml(t)&&(o=this[e(185)](a),h=!0),s[e(174)]&&n&&(o.isfms||!h)&&(i[e(182)]({units:s,isIFrame:r}),s=[],r=!1,n=!1),s.push(a),r=r||l,n=n||h}s[e(174)]&&(this[e(224)]={units:s,vcl:n,iFrame:r}),i[e(172)]((t=>{const s=e,i=t[s(212)],r=t[s(160)];let n=null,o=null;if(i[s(172)]((t=>{const e=s,i=t[0]>>>1&63;switch(i){case nt[e(221)]:this[e(221)]=t;break;case nt[e(173)]:this[e(173)]=t;break;case nt[e(170)]:this[e(170)]=t;break;case nt.suffixSei:case nt[e(177)]:o=t}if(Ml(i)){const s=Je(t);if(n){const t=new Uint8Array(n[e(228)]+s[e(228)]);t[e(268)](n,0),t[e(268)](s,n[e(228)]),n=t}else n=s}})),!this[s(246)]&&this.sps&&this[s(221)]&&this.vps){this[s(246)]=!0;const t=Rl({sps:this[s(173)],pps:this.pps,vps:this[s(170)]});this[s(198)](t,j.video,0,!0,0),this.sps=null,this[s(221)]=null,this[s(170)]=null}if(this[s(246)]){if(this[s(173)]&&this[s(221)]&&this.vps){const t=Rl({sps:this[s(173)],pps:this.pps,vps:this[s(170)]}),e=this.localDts;this[s(198)](t,j[s(259)],e,!0,0),this.sps=null,this[s(221)]=null,this[s(170)]=null}if(n){!this[s(216)][s(255)][s(245)]&&(this[s(216)][s(255)][s(245)]=is());const t=this.getNaluDts(),e=Pl(n,r);if(this.player._opt[s(191)]&&o){const e=Ye(qe(o),!0);this[s(216)][s(189)]({ts:t,type:e[s(168)],data:e[s(217)],originData:o,uuid:e[s(251)],size:e[s(192)]})}this[s(241)](e,j.video,t,r,0)}}}))}handleVideoH265Frames_1(t){const e=hm;t[e(172)]((t=>{this[e(247)](t)}))}[hm(266)](t){const e=hm,s=new am(t);s.readUByte();return{isfms:0===s[e(223)](),sType:s[e(223)]()}}[hm(185)](t){const e=hm,s=new am(t);return s[e(236)](),{nalType:s[e(230)](6),isfms:0===s[e(230)](1),sType:s[e(230)](3)}}}function um(t,e){var s=fm();return(um=function(t,e){return s[t-=345]})(t,e)}var pm=um;function fm(){var t=["EmptyDemux","debugLog","1884354kIJTKJ","78858IfnVqB","14ZibcEl","1VygBjv","236772RoFmSj","1771726wDHJFh","TAG_NAME","550dmLVPW","player","init","destroy","35LHAjIS","372714FrbBBP","4678824HhSimS","1350735oOXeyV"];return(fm=function(){return t})()}!function(t,e){for(var s=um,i=t();;)try{if(364712===-parseInt(s(359))/1*(-parseInt(s(351))/2)+parseInt(s(353))/3+-parseInt(s(360))/4*(-parseInt(s(350))/5)+parseInt(s(356))/6*(-parseInt(s(358))/7)+parseInt(s(352))/8+-parseInt(s(357))/9*(parseInt(s(346))/10)+-parseInt(s(361))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fm);class mm extends xf{constructor(t){var e=um;super(t),this[e(347)]=t,this.TAG_NAME=e(354),t[e(355)](this[e(345)],e(348))}[pm(349)](){var t=pm;super.destroy(),this[t(347)][t(355)](this[t(345)],t(349))}}var gm=Am;!function(t,e){for(var s=Am,i=t();;)try{if(755075===parseInt(s(1400))/1+-parseInt(s(798))/2*(parseInt(s(376))/3)+-parseInt(s(771))/4*(parseInt(s(622))/5)+-parseInt(s(809))/6*(parseInt(s(768))/7)+parseInt(s(705))/8*(parseInt(s(883))/9)+parseInt(s(1072))/10+-parseInt(s(805))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vm);var ym=ue((function(t,e){var s,r,n=Am,o=(s=new Date,r=4,{setLogLevel:function(t){var e=Am;r=t==this[e(1269)]?1:t==this.info?2:t==this[e(292)]?3:(this.error,4)},debug:function(t,e){var i=Am;void 0===console.debug&&(console[i(1269)]=console[i(1111)]),1>=r&&console[i(1269)]("["+o[i(1329)](new Date-s,1e3)+"]","["+t+"]",e)},log:function(t,e){this.debug(t.msg)},info:function(t,e){var i=Am;2>=r&&console.info("["+o[i(1329)](new Date-s,1e3)+"]","["+t+"]",e)},warn:function(t,e){var i=Am;3>=r&&console[i(292)]("["+o[i(1329)](new Date-s,1e3)+"]","["+t+"]",e)},error:function(t,e){4>=r&&console[Am(241)]("["+o.getDurationString(new Date-s,1e3)+"]","["+t+"]",e)}});o[n(1329)]=function(t,e){var s,i=n;function r(t,e){for(var s=Am,i=(""+t)[s(587)](".");i[0][s(468)]<e;)i[0]="0"+i[0];return i[s(1247)](".")}t<0?(s=!0,t=-t):s=!1;var o=t/(e||1),a=Math[i(841)](o/3600);o-=3600*a;var h=Math[i(841)](o/60),l=1e3*(o-=60*h);return l-=1e3*(o=Math[i(841)](o)),l=Math[i(841)](l),(s?"-":"")+a+":"+r(h,2)+":"+r(o,2)+"."+r(l,3)},o[n(533)]=function(t){var e=n,s=t[e(468)];if(s>0){for(var i="",r=0;r<s;r++)r>0&&(i+=","),i+="["+o[e(1329)](t[e(251)](r))+","+o[e(1329)](t[e(1140)](r))+"]";return i}return e(1020)},"undefined"!==n(1238)&&(e[n(611)]=o);var a=function(t){var e=n;if(!(t instanceof ArrayBuffer))throw e(945);this[e(284)]=t,this[e(674)]=new DataView(t),this.position=0};a[n(500)][n(482)]=function(){return this[n(1390)]},a[n(500)][n(856)]=function(){return this[n(284)].byteLength},a[n(500)][n(235)]=function(){var t=n;return this.buffer[t(1149)]},a[n(500)][n(900)]=function(t){var e=n,s=Math[e(775)](0,Math.min(this[e(284)].byteLength,t));return this[e(1390)]=isNaN(s)||!isFinite(s)?0:s,!0},a[n(500)][n(1104)]=function(){var t=n;return this[t(482)]()>=this[t(856)]()},a[n(500)].readAnyInt=function(t,e){var s=n,i=0;if(this[s(1390)]+t<=this[s(284)].byteLength){switch(t){case 1:i=e?this[s(674)][s(1115)](this.position):this[s(674)][s(808)](this[s(1390)]);break;case 2:i=e?this[s(674)][s(1070)](this[s(1390)]):this[s(674)][s(703)](this[s(1390)]);break;case 3:if(e)throw s(457);i=this[s(674)][s(808)](this[s(1390)])<<16,i|=this.dataview.getUint8(this[s(1390)]+1)<<8,i|=this[s(674)].getUint8(this.position+2);break;case 4:i=e?this.dataview[s(401)](this[s(1390)]):this[s(674)][s(904)](this[s(1390)]);break;case 8:if(e)throw"No method for reading signed 64 bits values";i=this[s(674)].getUint32(this[s(1390)])<<32,i|=this[s(674)][s(904)](this[s(1390)]+4);break;default:throw"readInt method not implemented for size: "+t}return this[s(1390)]+=t,i}throw s(1266)},a[n(500)].readUint8=function(){return this[n(892)](1,!1)},a[n(500)].readUint16=function(){return this[n(892)](2,!1)},a[n(500)].readUint24=function(){return this[n(892)](3,!1)},a[n(500)][n(909)]=function(){return this[n(892)](4,!1)},a[n(500)][n(197)]=function(){return this[n(892)](8,!1)},a.prototype.readString=function(t){var e=n;if(this[e(1390)]+t<=this[e(284)][e(1149)]){for(var s="",i=0;i<t;i++)s+=String[e(782)](this[e(963)]());return s}throw e(1266)},a.prototype[n(625)]=function(){for(var t=n,e=[];;){var s=this[t(963)]();if(0===s)break;e.push(s)}return String[t(782)][t(1215)](null,e)},a[n(500)][n(833)]=function(){return this[n(892)](1,!0)},a[n(500)].readInt16=function(){return this[n(892)](2,!0)},a.prototype[n(1345)]=function(){return this.readAnyInt(4,!0)},a[n(500)].readInt64=function(){return this[n(892)](8,!1)},a[n(500)][n(458)]=function(t){for(var e=n,s=new Uint8Array(t),i=0;i<t;i++)s[i]=this[e(963)]();return s},a[n(500)].readInt16Array=function(t){for(var e=n,s=new Int16Array(t),i=0;i<t;i++)s[i]=this[e(746)]();return s},a[n(500)][n(859)]=function(t){for(var e=n,s=new Int16Array(t),i=0;i<t;i++)s[i]=this[e(212)]();return s},a[n(500)][n(316)]=function(t){for(var e=n,s=new Uint32Array(t),i=0;i<t;i++)s[i]=this[e(909)]();return s},a[n(500)][n(1347)]=function(t){for(var e=new Int32Array(t),s=0;s<t;s++)e[s]=this.readInt32();return e},e[n(1207)]=a;var h=function(t,e,s){var i=n;this[i(1331)]=e||0,t instanceof ArrayBuffer?this[i(284)]=t:typeof t==i(1238)?(this[i(1302)]=t,e&&(this[i(1331)]+=e)):this[i(284)]=new ArrayBuffer(t||0),this[i(1390)]=0,this[i(1168)]=null==s?h.LITTLE_ENDIAN:s};h.prototype={},h.prototype[n(482)]=function(){return this[n(1390)]},h.prototype[n(509)]=function(t){var e=n;if(this[e(249)]){var s=this[e(1331)]+this.position+t,i=this[e(1078)][e(1149)];if(s<=i)s>this[e(938)]&&(this._byteLength=s);else{for(i<1&&(i=1);s>i;)i*=2;var r=new ArrayBuffer(i),o=new Uint8Array(this._buffer);new Uint8Array(r,0,o[e(468)])[e(1227)](o),this.buffer=r,this[e(938)]=s}}},h.prototype[n(1036)]=function(){var t=n;if(this[t(938)]!=this[t(1078)].byteLength){var e=new ArrayBuffer(this._byteLength),s=new Uint8Array(e),i=new Uint8Array(this._buffer,0,s[t(468)]);s[t(1227)](i),this[t(284)]=e}},h.BIG_ENDIAN=!1,h.LITTLE_ENDIAN=!0,h.prototype[n(938)]=0,Object[n(553)](h[n(500)],n(1149),{get:function(){var t=n;return this._byteLength-this[t(1331)]}}),Object[n(553)](h.prototype,"buffer",{get:function(){var t=n;return this[t(1036)](),this[t(1078)]},set:function(t){var e=n;this._buffer=t,this._dataView=new DataView(this._buffer,this[e(1331)]),this._byteLength=this[e(1078)][e(1149)]}}),Object[n(553)](h[n(500)],n(1391),{get:function(){return this[n(1331)]},set:function(t){var e=n;this[e(1331)]=t,this[e(1022)]=new DataView(this[e(1078)],this._byteOffset),this[e(938)]=this[e(1078)][e(1149)]}}),Object[n(553)](h.prototype,n(1302),{get:function(){return this[n(1022)]},set:function(t){var e=n;this[e(1331)]=t[e(1391)],this[e(1078)]=t.buffer,this[e(1022)]=new DataView(this._buffer,this._byteOffset),this[e(938)]=this._byteOffset+t[e(1149)]}}),h[n(500)][n(900)]=function(t){var e=n,s=Math[e(775)](0,Math[e(702)](this[e(1149)],t));this.position=isNaN(s)||!isFinite(s)?0:s},h[n(500)][n(1214)]=function(){return this[n(1390)]>=this._byteLength},h[n(500)][n(1151)]=function(t){var e=n;this._realloc(1*t);var s=new Uint8Array(this._buffer,this[e(1391)]+this[e(1390)],t);return this.position+=1*t,s},h[n(500)][n(1347)]=function(t,e){var s=n;t=null==t?this.byteLength-this[s(1390)]/4:t;var i=new Int32Array(t);return h.memcpy(i[s(284)],0,this[s(284)],this[s(1391)]+this[s(1390)],t*i[s(1016)]),h.arrayToNative(i,null==e?this[s(1168)]:e),this.position+=i[s(1149)],i},h[n(500)][n(404)]=function(t,e){var s=n;t=null==t?this.byteLength-this.position/2:t;var i=new Int16Array(t);return h[s(1015)](i.buffer,0,this[s(284)],this.byteOffset+this[s(1390)],t*i[s(1016)]),h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=i[s(1149)],i},h.prototype[n(223)]=function(t){var e=n;t=null==t?this[e(1149)]-this[e(1390)]:t;var s=new Int8Array(t);return h[e(1015)](s[e(284)],0,this[e(284)],this.byteOffset+this[e(1390)],t*s[e(1016)]),this[e(1390)]+=s[e(1149)],s},h.prototype[n(316)]=function(t,e){var s=n;t=null==t?this[s(1149)]-this[s(1390)]/4:t;var i=new Uint32Array(t);return h[s(1015)](i[s(284)],0,this[s(284)],this[s(1391)]+this.position,t*i[s(1016)]),h[s(1063)](i,null==e?this.endianness:e),this[s(1390)]+=i[s(1149)],i},h[n(500)][n(859)]=function(t,e){var s=n;t=null==t?this[s(1149)]-this[s(1390)]/2:t;var i=new Uint16Array(t);return h[s(1015)](i[s(284)],0,this[s(284)],this.byteOffset+this[s(1390)],t*i[s(1016)]),h[s(1063)](i,null==e?this.endianness:e),this[s(1390)]+=i[s(1149)],i},h[n(500)][n(458)]=function(t){var e=n;t=null==t?this.byteLength-this[e(1390)]:t;var s=new Uint8Array(t);return h[e(1015)](s[e(284)],0,this.buffer,this[e(1391)]+this[e(1390)],t*s.BYTES_PER_ELEMENT),this[e(1390)]+=s[e(1149)],s},h.prototype[n(977)]=function(t,e){var s=n;t=null==t?this.byteLength-this.position/8:t;var i=new Float64Array(t);return h[s(1015)](i[s(284)],0,this.buffer,this.byteOffset+this[s(1390)],t*i[s(1016)]),h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=i.byteLength,i},h[n(500)].readFloat32Array=function(t,e){var s=n;t=null==t?this[s(1149)]-this[s(1390)]/4:t;var i=new Float32Array(t);return h.memcpy(i[s(284)],0,this[s(284)],this[s(1391)]+this[s(1390)],t*i[s(1016)]),h.arrayToNative(i,null==e?this.endianness:e),this[s(1390)]+=i[s(1149)],i},h[n(500)][n(1345)]=function(t){var e=n,s=this[e(1022)][e(401)](this[e(1390)],null==t?this[e(1168)]:t);return this[e(1390)]+=4,s},h[n(500)][n(746)]=function(t){var e=n,s=this[e(1022)][e(1070)](this[e(1390)],null==t?this[e(1168)]:t);return this[e(1390)]+=2,s},h.prototype.readInt8=function(){var t=n,e=this._dataView[t(1115)](this[t(1390)]);return this[t(1390)]+=1,e},h[n(500)].readUint32=function(t){var e=n,s=this._dataView[e(904)](this[e(1390)],null==t?this[e(1168)]:t);return this.position+=4,s},h[n(500)][n(212)]=function(t){var e=n,s=this[e(1022)][e(703)](this[e(1390)],null==t?this[e(1168)]:t);return this[e(1390)]+=2,s},h[n(500)].readUint8=function(){var t=n,e=this[t(1022)][t(808)](this[t(1390)]);return this.position+=1,e},h.prototype[n(416)]=function(t){var e=n,s=this._dataView[e(1232)](this[e(1390)],null==t?this[e(1168)]:t);return this[e(1390)]+=4,s},h.prototype[n(526)]=function(t){var e=n,s=this[e(1022)][e(394)](this[e(1390)],null==t?this[e(1168)]:t);return this.position+=8,s},h[n(1168)]=new Int8Array(new Int16Array([1])[n(284)])[0]>0,h.memcpy=function(t,e,s,i,r){var o=n,a=new Uint8Array(t,e,r),h=new Uint8Array(s,i,r);a[o(1227)](h)},h[n(1063)]=function(t,e){var s=n;return e==this[s(1168)]?t:this[s(481)](t)},h.nativeToEndian=function(t,e){var s=n;return this.endianness==e?t:this[s(481)](t)},h[n(481)]=function(t){for(var e=n,s=new Uint8Array(t[e(284)],t[e(1391)],t.byteLength),i=0;i<t[e(1149)];i+=t[e(1016)])for(var r=i+t[e(1016)]-1,o=i;r>o;r--,o++){var a=s[o];s[o]=s[r],s[r]=a}return t},h[n(500)][n(940)]=0,String[n(1264)]=function(t){for(var e=n,s=[],i=0;i<t.length;i++)s[i]=t[i];return String[e(782)][e(1215)](null,s)},h[n(500)][n(863)]=function(t,e){var s=n;return null==e||e==s(941)?String[s(1264)][s(1215)](null,[this.mapUint8Array(null==t?this.byteLength-this[s(1390)]:t)]):new TextDecoder(e)[s(993)](this[s(1151)](t))},h.prototype[n(625)]=function(t){var e=n,s=this.byteLength-this[e(1390)],i=new Uint8Array(this[e(1078)],this[e(1331)]+this[e(1390)]),r=s;null!=t&&(r=Math[e(702)](t,s));for(var o=0;o<r&&0!==i[o];o++);var a=String[e(1264)][e(1215)](null,[this[e(1151)](o)]);return null!=t?this[e(1390)]+=r-o:o!=s&&(this[e(1390)]+=1),a};var l=Math[n(1051)](2,32);h[n(500)][n(1094)]=function(){var t=n;return this[t(1345)]()*l+this[t(909)]()},h[n(500)].readUint64=function(){return this.readUint32()*l+this.readUint32()},h[n(500)][n(1094)]=function(){return this[n(909)]()*l+this.readUint32()},h[n(500)][n(948)]=function(){var t=n;return(this[t(963)]()<<16)+(this[t(963)]()<<8)+this.readUint8()},n(1238)!==n(240)&&(e[n(732)]=h),h[n(500)][n(887)]=function(t){var e=n,s=new Blob([this[e(284)]]);if(!window[e(277)]||!URL.createObjectURL)throw e(627);var i=window.URL.createObjectURL(s),r=document.createElement("a");document[e(314)][e(727)](r),r.setAttribute(e(1319),i),r[e(604)](e(451),t),r[e(604)]("target","_self"),r.click(),window[e(277)][e(548)](i)},h[n(500)]._dynamicSize=!0,Object[n(553)](h[n(500)],n(231),{get:function(){return this[n(249)]},set:function(t){var e=n;!t&&this[e(1036)](),this[e(249)]=t}}),h[n(500)][n(1013)]=function(t){var e=n,s=new ArrayBuffer(this[e(938)]-t),i=new Uint8Array(s),r=new Uint8Array(this._buffer,t,i[e(468)]);i.set(r),this[e(284)]=s,this[e(1390)]-=t},h[n(500)][n(704)]=function(t,e){var s=n;if(this._realloc(4*t.length),t instanceof Int32Array&&this[s(1391)]+this[s(1390)]%t[s(1016)]===0)h[s(1015)](this[s(1078)],this[s(1391)]+this[s(1390)],t[s(284)],0,t[s(1149)]),this[s(731)](t[s(468)],e);else for(var i=0;i<t[s(468)];i++)this[s(267)](t[i],e)},h[n(500)].writeInt16Array=function(t,e){var s=n;if(this[s(509)](2*t[s(468)]),t instanceof Int16Array&&this[s(1391)]+this[s(1390)]%t[s(1016)]===0)h[s(1015)](this._buffer,this[s(1391)]+this.position,t[s(284)],0,t.byteLength),this.mapInt16Array(t[s(468)],e);else for(var i=0;i<t[s(468)];i++)this[s(1395)](t[i],e)},h[n(500)][n(672)]=function(t){var e=n;if(this[e(509)](1*t[e(468)]),t instanceof Int8Array&&this[e(1391)]+this[e(1390)]%t[e(1016)]===0)h[e(1015)](this._buffer,this[e(1391)]+this[e(1390)],t[e(284)],0,t[e(1149)]),this[e(843)](t.length);else for(var s=0;s<t[e(468)];s++)this[e(332)](t[s])},h[n(500)][n(1155)]=function(t,e){var s=n;if(this[s(509)](4*t[s(468)]),t instanceof Uint32Array&&this[s(1391)]+this[s(1390)]%t[s(1016)]===0)h[s(1015)](this._buffer,this[s(1391)]+this[s(1390)],t[s(284)],0,t[s(1149)]),this.mapUint32Array(t[s(468)],e);else for(var i=0;i<t[s(468)];i++)this[s(965)](t[i],e)},h[n(500)].writeUint16Array=function(t,e){var s=n;if(this[s(509)](2*t[s(468)]),t instanceof Uint16Array&&this[s(1391)]+this.position%t[s(1016)]===0)h.memcpy(this._buffer,this[s(1391)]+this[s(1390)],t[s(284)],0,t[s(1149)]),this[s(312)](t[s(468)],e);else for(var i=0;i<t.length;i++)this[s(327)](t[i],e)},h[n(500)].writeUint8Array=function(t){var e=n;if(this._realloc(1*t[e(468)]),t instanceof Uint8Array&&this[e(1391)]+this[e(1390)]%t.BYTES_PER_ELEMENT===0)h[e(1015)](this[e(1078)],this[e(1391)]+this.position,t[e(284)],0,t[e(1149)]),this[e(1151)](t.length);else for(var s=0;s<t.length;s++)this[e(643)](t[s])},h.prototype[n(373)]=function(t,e){var s=n;if(this[s(509)](8*t[s(468)]),t instanceof Float64Array&&this[s(1391)]+this[s(1390)]%t.BYTES_PER_ELEMENT===0)h.memcpy(this[s(1078)],this[s(1391)]+this.position,t[s(284)],0,t.byteLength),this[s(1352)](t.length,e);else for(var i=0;i<t[s(468)];i++)this[s(1035)](t[i],e)},h[n(500)][n(1074)]=function(t,e){var s=n;if(this._realloc(4*t.length),t instanceof Float32Array&&this[s(1391)]+this.position%t[s(1016)]===0)h.memcpy(this._buffer,this[s(1391)]+this.position,t[s(284)],0,t.byteLength),this[s(711)](t[s(468)],e);else for(var i=0;i<t[s(468)];i++)this[s(328)](t[i],e)},h.prototype[n(267)]=function(t,e){var s=n;this[s(509)](4),this[s(1022)].setInt32(this.position,t,null==e?this[s(1168)]:e),this[s(1390)]+=4},h[n(500)][n(1395)]=function(t,e){var s=n;this._realloc(2),this._dataView[s(320)](this.position,t,null==e?this[s(1168)]:e),this[s(1390)]+=2},h[n(500)][n(332)]=function(t){var e=n;this._realloc(1),this._dataView.setInt8(this.position,t),this[e(1390)]+=1},h[n(500)][n(965)]=function(t,e){var s=n;this[s(509)](4),this._dataView.setUint32(this[s(1390)],t,null==e?this[s(1168)]:e),this[s(1390)]+=4},h[n(500)][n(327)]=function(t,e){var s=n;this[s(509)](2),this[s(1022)][s(1235)](this.position,t,null==e?this[s(1168)]:e),this[s(1390)]+=2},h.prototype.writeUint8=function(t){var e=n;this[e(509)](1),this[e(1022)][e(1164)](this[e(1390)],t),this[e(1390)]+=1},h[n(500)][n(328)]=function(t,e){var s=n;this[s(509)](4),this._dataView.setFloat32(this[s(1390)],t,null==e?this[s(1168)]:e),this[s(1390)]+=4},h.prototype[n(1035)]=function(t,e){var s=n;this[s(509)](8),this._dataView[s(558)](this[s(1390)],t,null==e?this[s(1168)]:e),this.position+=8},h.prototype[n(974)]=function(t,e,s){var i=n;null==s&&(s=t.length);for(var r=0;r<t[i(468)]&&r<s;r++)this[i(327)](t[i(456)](r),e);for(;r<s;r++)this[i(327)](0)},h[n(500)][n(1354)]=function(t,e,s){var i=n,r=0;if(null==e||"ASCII"==e)if(null!=s){var o=Math[i(702)](t.length,s);for(r=0;r<o;r++)this[i(643)](t[i(456)](r));for(;r<s;r++)this[i(643)](0)}else for(r=0;r<t[i(468)];r++)this[i(643)](t[i(456)](r));else this[i(1248)](new TextEncoder(e)[i(825)](t[i(861)](0,s)))},h[n(500)].writeCString=function(t,e){var s=n,i=0;if(null!=e){var r=Math.min(t.length,e);for(i=0;i<r;i++)this[s(643)](t[s(456)](i));for(;i<e;i++)this[s(643)](0)}else{for(i=0;i<t[s(468)];i++)this[s(643)](t.charCodeAt(i));this[s(643)](0)}},h[n(500)][n(1075)]=function(t,e){for(var s=n,i=0;i<t[s(468)];i+=2){var r=t[i+1];this[s(1068)](r,e[t[i]],e)}},h[n(500)][n(1068)]=function(t,e,s){var i,r=n;if("function"==typeof t)return t(this,e);if(typeof t==r(1238)&&!(t instanceof Array))return t[r(1227)](this,e,s);var o=null,a=r(941),l=this[r(1390)];switch(typeof t==r(600)&&/:/[r(1144)](t)&&(i=t.split(":"),t=i[0],o=parseInt(i[1])),"string"==typeof t&&/,/[r(1144)](t)&&(i=t[r(587)](","),t=i[0],a=parseInt(i[1])),t){case"uint8":this[r(643)](e);break;case"int8":this[r(332)](e);break;case r(1254):this[r(327)](e,this.endianness);break;case"int16":this[r(1395)](e,this.endianness);break;case"uint32":this[r(965)](e,this[r(1168)]);break;case r(761):this[r(267)](e,this[r(1168)]);break;case r(1001):this[r(328)](e,this[r(1168)]);break;case r(1255):this[r(1035)](e,this[r(1168)]);break;case"uint16be":this.writeUint16(e,h[r(1348)]);break;case r(986):this[r(1395)](e,h.BIG_ENDIAN);break;case"uint32be":this[r(965)](e,h[r(1348)]);break;case r(1281):this[r(267)](e,h[r(1348)]);break;case"float32be":this[r(328)](e,h[r(1348)]);break;case r(418):this[r(1035)](e,h[r(1348)]);break;case r(1080):this[r(327)](e,h[r(435)]);break;case"int16le":this[r(1395)](e,h[r(435)]);break;case r(654):this[r(965)](e,h[r(435)]);break;case r(973):this[r(267)](e,h[r(435)]);break;case r(699):this.writeFloat32(e,h[r(435)]);break;case"float64le":this.writeFloat64(e,h[r(435)]);break;case r(1315):this[r(233)](e,o);break;case r(600):this[r(1354)](e,a,o);break;case"u16string":this.writeUCS2String(e,this[r(1168)],o);break;case r(637):this[r(974)](e,h[r(435)],o);break;case r(650):this[r(974)](e,h[r(1348)],o);break;default:if(3==t[r(468)]){for(var c=t[1],d=0;d<e.length;d++)this.writeType(c,e[d]);break}this[r(1075)](t,e)}null!=o&&(this[r(1390)]=l,this[r(509)](o),this[r(1390)]=l+o)},h[n(500)][n(367)]=function(t){var e=n,s=Math[e(841)](t/l);this[e(965)](s),this[e(965)](4294967295&t)},h[n(500)][n(189)]=function(t){var e=n;this[e(643)]((16711680&t)>>16),this[e(643)]((65280&t)>>8),this[e(643)](255&t)},h[n(500)][n(536)]=function(t,e){var s=n,i=this[s(1390)];this.seek(t),this[s(965)](e),this[s(900)](i)},h[n(500)][n(731)]=function(t,e){var s=n;this._realloc(4*t);var i=new Int32Array(this[s(1078)],this[s(1391)]+this.position,t);return h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=4*t,i},h[n(500)][n(1318)]=function(t,e){var s=n;this[s(509)](2*t);var i=new Int16Array(this[s(1078)],this[s(1391)]+this.position,t);return h[s(1063)](i,null==e?this.endianness:e),this[s(1390)]+=2*t,i},h[n(500)].mapInt8Array=function(t){var e=n;this[e(509)](1*t);var s=new Int8Array(this[e(1078)],this[e(1391)]+this[e(1390)],t);return this[e(1390)]+=1*t,s},h[n(500)][n(962)]=function(t,e){var s=n;this[s(509)](4*t);var i=new Uint32Array(this[s(1078)],this[s(1391)]+this.position,t);return h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=4*t,i},h[n(500)][n(312)]=function(t,e){var s=n;this[s(509)](2*t);var i=new Uint16Array(this[s(1078)],this[s(1391)]+this.position,t);return h.arrayToNative(i,null==e?this.endianness:e),this[s(1390)]+=2*t,i},h[n(500)][n(1352)]=function(t,e){var s=n;this._realloc(8*t);var i=new Float64Array(this[s(1078)],this.byteOffset+this[s(1390)],t);return h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=8*t,i},h.prototype[n(711)]=function(t,e){var s=n;this._realloc(4*t);var i=new Float32Array(this[s(1078)],this.byteOffset+this[s(1390)],t);return h[s(1063)](i,null==e?this[s(1168)]:e),this[s(1390)]+=4*t,i};var c=function(t){var e=n;this[e(229)]=[],this[e(1044)]=-1,t&&(this.insertBuffer(t),this.bufferIndex=0)};(c.prototype=new h(new ArrayBuffer,0,h.BIG_ENDIAN)).initialized=function(){var t,e=n;return this.bufferIndex>-1||(this.buffers[e(468)]>0?0===(t=this[e(229)][0])[e(952)]?(this[e(284)]=t,this[e(1044)]=0,o[e(1269)](e(950),"Stream ready for parsing"),!0):(this[e(1314)](),!1):(this[e(1314)](),!1))},ArrayBuffer.concat=function(t,e){var s=n;o[s(1269)]("ArrayBuffer","Trying to create a new buffer of size: "+(t[s(1149)]+e[s(1149)]));var i=new Uint8Array(t[s(1149)]+e[s(1149)]);return i[s(1227)](new Uint8Array(t),0),i.set(new Uint8Array(e),t[s(1149)]),i.buffer},c.prototype[n(265)]=function(t,e,s){var i,r=n;return(i=new Uint8Array(s))[r(1227)](new Uint8Array(t,e,s)),i.buffer[r(952)]=t[r(952)]+e,i[r(284)][r(1073)]=0,i.buffer},c[n(500)][n(554)]=function(t){for(var e=n,s=!0,i=0;i<this.buffers[e(468)];i++){var r=this[e(229)][i];if(t.fileStart<=r[e(952)]){if(t[e(952)]===r[e(952)]){if(t[e(1149)]>r[e(1149)]){this[e(229)][e(978)](i,1),i--;continue}}else t[e(952)]+t.byteLength<=r[e(952)]||(t=this[e(265)](t,0,r[e(952)]-t[e(952)])),o.debug(e(950),"Appending new buffer (fileStart: "+t.fileStart+e(583)+t[e(1149)]+")"),this[e(229)][e(978)](i,0,t),0===i&&(this[e(284)]=t);s=!1;break}if(t[e(952)]<r[e(952)]+r[e(1149)]){var a=r[e(952)]+r[e(1149)]-t.fileStart,h=t.byteLength-a;if(!(h>0)){s=!1;break}t=this[e(265)](t,a,h)}}s&&(o[e(1269)]("MultiBufferStream",e(1023)+t.fileStart+e(583)+t.byteLength+")"),this[e(229)][e(1067)](t),0===i&&(this[e(284)]=t))},c.prototype.logBufferLevel=function(t){var e,s,i,r,a,h=n,l=[],c="";for(i=0,r=0,e=0;e<this[h(229)][h(468)];e++)s=this[h(229)][e],0===e?(a={},l[h(1067)](a),a.start=s.fileStart,a[h(1140)]=s.fileStart+s[h(1149)],c+="["+a.start+"-"):a[h(1140)]===s.fileStart?a[h(1140)]=s[h(952)]+s[h(1149)]:((a={})[h(251)]=s.fileStart,c+=l[l.length-1].end-1+h(665)+a[h(251)]+"-",a[h(1140)]=s[h(952)]+s[h(1149)],l[h(1067)](a)),i+=s.usedBytes,r+=s.byteLength;l[h(468)]>0&&(c+=a[h(1140)]-1+"]");var d=t?o[h(876)]:o.debug;0===this.buffers[h(468)]?d(h(950),h(384)):d(h(950),""+this[h(229)][h(468)]+h(866)+i+"/"+r+h(678)+c)},c[n(500)][n(630)]=function(){var t,e,s=n;for(t=0;t<this[s(229)][s(468)];t++)(e=this[s(229)][t])[s(1073)]===e.byteLength&&(o[s(1269)](s(950),s(1241)+t),this.buffers[s(978)](t,1),t--)},c[n(500)][n(679)]=function(){var t,e=n;if(this.bufferIndex+1<this[e(229)][e(468)]){if((t=this[e(229)][this[e(1044)]+1])[e(952)]===this[e(284)].fileStart+this[e(284)][e(1149)]){var s=this[e(284)][e(1149)],i=this[e(284)].usedBytes,r=this[e(284)][e(952)];return this[e(229)][this[e(1044)]]=ArrayBuffer[e(286)](this.buffer,t),this[e(284)]=this[e(229)][this[e(1044)]],this[e(229)][e(978)](this[e(1044)]+1,1),this[e(284)][e(1073)]=i,this[e(284)][e(952)]=r,o[e(1269)](e(864),e(615)+s+"->"+this[e(284)][e(1149)]+")"),!0}return!1}return!1},c[n(500)].findPosition=function(t,e,s){var i,r=n,a=null,h=-1;for(i=!0===t?0:this[r(1044)];i<this[r(229)][r(468)]&&(a=this[r(229)][i]).fileStart<=e;)h=i,s&&(a[r(952)]+a.byteLength<=e?a[r(1073)]=a.byteLength:a[r(1073)]=e-a.fileStart,this.logBufferLevel()),i++;return-1!==h?(a=this.buffers[h])[r(952)]+a[r(1149)]>=e?(o[r(1269)]("MultiBufferStream",r(527)+h),h):-1:-1},c[n(500)][n(1361)]=function(t){var e,s,i,r=n,o=void 0!==t?t:this[r(1044)];if(s=this.buffers[o],this.buffers[r(468)]>o+1)for(e=o+1;e<this[r(229)].length&&(i=this[r(229)][e])[r(952)]===s.fileStart+s[r(1149)];e++)s=i;return s[r(952)]+s.byteLength},c[n(500)][n(1095)]=function(t){var e=n,s=this[e(342)](!0,t,!1);return-1!==s?this[e(1361)](s):t},c[n(500)][n(779)]=function(t){var e=n;this[e(284)][e(1073)]+=t,this[e(1314)]()},c[n(500)][n(258)]=function(){var t=n;this[t(284)][t(1073)]=this[t(284)].byteLength,this[t(1314)]()},c[n(500)][n(900)]=function(t,e,s){var i,r=n;return-1!==(i=this[r(342)](e,t,s))?(this[r(284)]=this[r(229)][i],this[r(1044)]=i,this.position=t-this[r(284)].fileStart,o[r(1269)](r(950),r(1026)+this.position),!0):(o[r(1269)](r(950),r(1086)+t+r(1284)),!1)},c[n(500)][n(482)]=function(){var t=n;if(-1===this[t(1044)]||null===this[t(229)][this[t(1044)]])throw"Error accessing position in the MultiBufferStream";return this[t(229)][this[t(1044)]][t(952)]+this.position},c[n(500)][n(235)]=function(){return this[n(1149)]},c[n(500)].getEndPosition=function(){var t=n;if(-1===this[t(1044)]||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this[t(229)][this[t(1044)]][t(952)]+this[t(1149)]},c[n(500)][n(356)]=function(){this[n(229)]=[],this.bufferIndex=-1},"object"!==n(240)&&(e[n(950)]=c);var d=function(){var t=n,e=[];e[3]="ES_Descriptor",e[4]=t(1239),e[5]=t(885),e[6]=t(875),this.getDescriptorName=function(t){return e[t]};var s=this,i={};return this.parseOneDescriptor=function(s){var r,n,a,h=t,l=0;for(r=s.readUint8(),a=s.readUint8();128&a;)l=(127&a)<<7,a=s[h(963)]();return l+=127&a,o[h(1269)](h(434),h(433)+(e[r]||h(988)+r)+h(1366)+l+" at position "+s[h(482)]()),(n=e[r]?new i[e[r]](l):new i.Descriptor(l))[h(557)](s),n},i[t(362)]=function(e,s){var i=t;this[i(673)]=e,this[i(297)]=s,this[i(1102)]=[]},i[t(362)][t(500)][t(557)]=function(e){var s=t;this.data=e[s(458)](this[s(297)])},i[t(362)][t(500)][t(1054)]=function(e){for(var s=t,i=0;i<this[s(1102)][s(468)];i++)if(this.descs[i][s(673)]==e)return this[s(1102)][i];return null},i[t(362)][t(500)].parseRemainingDescriptors=function(e){for(var i=t,r=e.position;e.position<r+this[i(297)];){var n=s[i(556)](e);this[i(1102)][i(1067)](n)}},i.ES_Descriptor=function(e){var s=t;i[s(362)][s(176)](this,3,e)},i[t(1136)][t(500)]=new(i[t(362)]),i[t(1136)][t(500)][t(557)]=function(e){var s=t;if(this[s(208)]=e.readUint16(),this.flags=e.readUint8(),this[s(297)]-=3,128&this[s(566)]?(this[s(317)]=e[s(212)](),this.size-=2):this[s(317)]=0,64&this[s(566)]){var i=e[s(963)]();this[s(277)]=e.readString(i),this[s(297)]-=i+1}else this[s(277)]="";32&this.flags?(this[s(560)]=e.readUint16(),this[s(297)]-=2):this[s(560)]=0,this[s(1305)](e)},i.ES_Descriptor.prototype.getOTI=function(e){var s=t,i=this[s(1054)](4);return i?i[s(573)]:0},i[t(1136)][t(500)].getAudioConfig=function(e){var s=t,i=this.findDescriptor(4);if(!i)return null;var r=i[s(1054)](5);if(r&&r[s(1125)]){var n=(248&r[s(1125)][0])>>3;return 31===n&&r.data[s(468)]>=2&&(n=32+((7&r[s(1125)][0])<<3)+((224&r[s(1125)][1])>>5)),n}return null},i[t(1239)]=function(e){var s=t;i[s(362)][s(176)](this,4,e)},i[t(1239)][t(500)]=new(i[t(362)]),i[t(1239)][t(500)].parse=function(e){var s=t;this[s(573)]=e[s(963)](),this[s(1388)]=e[s(963)](),this[s(489)]=0!=(this[s(1388)]>>1&1),this.streamType=this[s(1388)]>>>2,this.bufferSize=e[s(948)](),this[s(348)]=e.readUint32(),this[s(429)]=e[s(909)](),this[s(297)]-=13,this[s(1305)](e)},i[t(885)]=function(e){var s=t;i[s(362)][s(176)](this,5,e)},i[t(885)][t(500)]=new(i[t(362)]),i.SLConfigDescriptor=function(e){var s=t;i.Descriptor[s(176)](this,6,e)},i[t(875)][t(500)]=new i.Descriptor,this};"undefined"!==n(1238)&&(e[n(434)]=d);var u={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[n(577),n(783),"free",n(565),n(1157),n(1004)],FULL_BOXES:[n(1307),"nmhd",n(1034),n(1327),n(289),n(1219),n(490)],CONTAINER_BOXES:[[n(359),[n(224),"pssh"]],["trak"],[n(1161)],["mdia"],[n(247)],[n(1083)],["stbl",["sgpd",n(580)]],["mvex",[n(695)]],[n(1030),[n(378)]],[n(378),["trun",n(282),n(580)]],["vttc"],["tref"],[n(1245)],[n(467),[n(315)]],[n(1157)],[n(499)],["hinf"],[n(1004)],[n(791)],[n(1201)],[n(1093)],[n(363)],["trgr"],["udta",[n(1082)]],[n(603),[n(853)]],[n(352)],[n(1401)],[n(891)],[n(897),["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){var t=n;u[t(522)][t(500)]=new(u[t(1105)]),u[t(838)][t(500)]=new(u[t(1105)]),u.SampleEntry[t(500)]=new(u[t(1105)]),u.TrackGroupTypeBox[t(500)]=new(u[t(522)]),u.BASIC_BOXES[t(1156)]((function(e){u[t(958)](e)})),u[t(1226)][t(1156)]((function(t){u.createFullBoxCtor(t)})),u[t(1179)][t(1156)]((function(e){u[t(1181)](e[0],null,e[1])}))},Box:function(t,e,s){var i=n;this.type=t,this[i(297)]=e,this[i(334)]=s},FullBox:function(t,e,s){var i=n;u.Box[i(176)](this,t,e,s),this[i(566)]=0,this[i(877)]=0},ContainerBox:function(t,e,s){var i=n;u[i(1105)][i(176)](this,t,e,s),this[i(682)]=[]},SampleEntry:function(t,e,s,i){var r=n;u.ContainerBox.call(this,t,e),this[r(1182)]=s,this[r(251)]=i},SampleGroupEntry:function(t){this.grouping_type=t},TrackGroupTypeBox:function(t,e){var s=n;u[s(522)][s(176)](this,t,e)},createBoxCtor:function(t,e){var s=n;u[s(1343)].push(t),u[t+s(1105)]=function(e){var i=s;u[i(1105)][i(176)](this,t,e)},u[t+s(1105)].prototype=new(u[s(1105)]),e&&(u[t+s(1105)].prototype[s(557)]=e)},createFullBoxCtor:function(t,e){var s=n;u[t+"Box"]=function(e){u[Am(522)].call(this,t,e)},u[t+s(1105)][s(500)]=new(u[s(522)]),u[t+s(1105)][s(500)].parse=function(t){var i=s;this[i(852)](t),e&&e[i(176)](this,t)}},addSubBoxArrays:function(t){var e=n;if(t){this.subBoxNames=t;for(var s=t[e(468)],i=0;i<s;i++)this[t[i]+"s"]=[]}},createContainerBoxCtor:function(t,e,s){var i=n;u[t+i(1105)]=function(e){var r=i;u.ContainerBox[r(176)](this,t,e),u.addSubBoxArrays[r(176)](this,s)},u[t+i(1105)][i(500)]=new(u[i(838)]),e&&(u[t+i(1105)][i(500)][i(557)]=e)},createMediaSampleEntryCtor:function(t,e,s){var i=n;u[i(313)][t]=[],u[t+"SampleEntry"]=function(t,e){var r=i;u[r(907)].call(this,t,e),u[r(209)][r(176)](this,s)},u[t+"SampleEntry"][i(500)]=new u.SampleEntry,e&&(u[t+i(907)][i(500)].parse=e)},createSampleEntryCtor:function(t,e,s,i){var r=n;u[r(313)][t][r(1067)](e),u[e+r(907)]=function(s){var n=r;u[t+n(907)].call(this,e,s),u[n(209)][n(176)](this,i)},u[e+r(907)][r(500)]=new(u[t+r(907)]),s&&(u[e+r(907)][r(500)][r(557)]=s)},createEncryptedSampleEntryCtor:function(t,e,s){var i=n;u[i(819)][i(176)](this,t,e,s,[i(1201)])},createSampleGroupCtor:function(t,e){var s=n;u[t+s(360)]=function(e){var i=s;u.SampleGroupEntry[i(176)](this,t,e)},u[t+s(360)][s(500)]=new u.SampleGroupEntry,e&&(u[t+s(360)][s(500)].parse=e)},createTrackGroupCtor:function(t,e){var s=n;u[t+s(868)]=function(e){u[s(868)].call(this,t,e)},u[t+s(868)][s(500)]=new u.TrackGroupTypeBox,e&&(u[t+"TrackGroupTypeBox"][s(500)][s(557)]=e)},createUUIDBox:function(t,e,s,i){var r=n;u.UUIDs.push(t),u[r(802)][t]=function(i){var n=r;e?u[n(522)].call(this,n(334),i,t):s?u.ContainerBox.call(this,n(334),i,t):u[n(1105)][n(176)](this,n(334),i,t)},u[r(802)][t].prototype=e?new(u[r(522)]):s?new(u[r(838)]):new(u[r(1105)]),i&&(e?u.UUIDBoxes[t][r(500)].parse=function(t){var e=r;this[e(852)](t),i&&i[e(176)](this,t)}:u.UUIDBoxes[t].prototype[r(557)]=i)}};function p(t,e){this.x=t,this.y=e}function f(t,e){var s=n;this[s(790)]=t,this[s(1316)]=e}u[n(1384)](),u[n(924)]=1,u[n(1143)]=2,u.TKHD_FLAG_IN_PREVIEW=4,u[n(651)]=1,u[n(741)]=2,u[n(1032)]=8,u.TFHD_FLAG_SAMPLE_SIZE=16,u[n(606)]=32,u[n(1177)]=65536,u.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,u[n(1253)]=1,u[n(453)]=4,u.TRUN_FLAGS_DURATION=256,u[n(371)]=512,u[n(1052)]=1024,u.TRUN_FLAGS_CTS_OFFSET=2048,u.Box.prototype[n(905)]=function(t){var e=n;return this.addBox(new(u[t+e(1105)]))},u[n(1105)][n(500)][n(589)]=function(t){var e=n;return this[e(682)][e(1067)](t),this[t[e(563)]+"s"]?this[t[e(563)]+"s"][e(1067)](t):this[t[e(563)]]=t,t},u[n(1105)][n(500)][n(1227)]=function(t,e){return this[t]=e,this},u[n(1105)].prototype.addEntry=function(t,e){var s=n,i=e||s(305);return!this[i]&&(this[i]=[]),this[i][s(1067)](t),this},n(1238)!==n(240)&&(e.BoxParser=u),u.parseUUID=function(t){return u[n(211)](t)},u[n(211)]=function(t){for(var e=n,s="",i=0;i<16;i++){var r=t[e(963)]()[e(259)](16);s+=1===r[e(468)]?"0"+r:r}return s},u[n(1334)]=function(t,e,s){var i,r,a,h=n,l=t.getPosition(),c=0;if(t[h(856)]()-l<8)return o.debug(h(1127),"Not enough data in stream to parse the type and size of the box"),{code:u[h(198)]};if(s&&s<8)return o[h(1269)](h(1127),h(238)),{code:u[h(198)]};var d=t[h(909)](),p=t[h(863)](4);if(o.debug("BoxParser","Found box of type '"+p+h(946)+d+h(1406)+l),c=8,p==h(334)){if(t[h(856)]()-t[h(482)]()<16||s-c<16)return t.seek(l),o[h(1269)](h(1127),h(747)),{code:u[h(198)]};a=u[h(1011)](t),c+=16}if(1==d){if(t[h(856)]()-t[h(482)]()<8||s&&s-c<8)return t[h(900)](l),{code:u.ERR_NOT_ENOUGH_DATA};d=t.readUint64(),c+=8}else if(0===d)if(s)d=s;else if(p!==h(577))return i=new(u[h(1105)])(p,d),{code:u.OK,box:i,size:i[h(297)]};return 0!==d&&d<c||0!==d&&s&&d>s?{code:u[h(198)],type:p,size:d,hdr_size:c,start:l}:0!==d&&l+d>t[h(856)]()?(t[h(900)](l),{code:u.ERR_NOT_ENOUGH_DATA,type:p,size:d,hdr_size:c,start:l}):e?{code:u.OK,type:p,size:d,hdr_size:c,start:l}:(u[p+h(1105)]?i=new(u[p+h(1105)])(d):"uuid"!==p?(i=new(u[h(1105)])(p,d)).has_unparsed_data=!0:u[h(802)][a]?i=new u.UUIDBoxes[a](d):((i=new(u[h(1105)])(p,d)).uuid=a,i[h(377)]=!0),i[h(1182)]=c,i[h(251)]=l,i[h(1043)]===u[h(1105)].prototype[h(1043)]&&i[h(563)]!==h(577)&&i[h(301)](t),i[h(557)](t),((r=t[h(482)]()-(i[h(251)]+i[h(297)]))<0||r>0&&0!==i.size)&&t[h(900)](i[h(251)]+i[h(297)]),{code:u.OK,box:i,size:i[h(297)]})},u[n(1105)][n(500)][n(557)]=function(t){var e=n;this.type!=e(577)?this[e(1125)]=t.readUint8Array(this[e(297)]-this.hdr_size):0===this[e(297)]?t.seek(t[e(856)]()):t[e(900)](this[e(251)]+this[e(297)])},u[n(1105)][n(500)][n(301)]=function(t){var e=n;this.data=t[e(458)](this[e(297)]-this[e(1182)]),t[e(1390)]-=this.size-this[e(1182)]},u[n(522)].prototype[n(301)]=function(t){var e=n;this[e(852)](t),this[e(1125)]=t[e(458)](this[e(297)]-this.hdr_size),this[e(1182)]-=4,t[e(1390)]-=this.size-this.hdr_size},u.FullBox.prototype[n(852)]=function(t){var e=n;this.version=t[e(963)](),this[e(566)]=t.readUint24(),this[e(1182)]+=4},u[n(522)][n(500)][n(557)]=function(t){var e=n;this[e(852)](t),this[e(1125)]=t[e(458)](this[e(297)]-this[e(1182)])},u[n(838)][n(500)][n(557)]=function(t){for(var e,s,i=n;t[i(482)]()<this.start+this[i(297)];){if((e=u[i(1334)](t,!1,this[i(297)]-(t.getPosition()-this[i(251)]))).code!==u.OK)return;if(s=e[i(1300)],this[i(682)][i(1067)](s),this[i(1306)]&&-1!=this.subBoxNames[i(281)](s.type))this[this.subBoxNames[this.subBoxNames[i(281)](s[i(563)])]+"s"][i(1067)](s);else{var r=s[i(563)]!==i(334)?s.type:s[i(334)];this[r]||(this[r]=s)}}},u.Box[n(500)][n(690)]=function(t){var e=n;this.language=t.readUint16();var s=[];s[0]=this.language>>10&31,s[1]=this[e(1205)]>>5&31,s[2]=31&this[e(1205)],this.languageString=String[e(782)](s[0]+96,s[1]+96,s[2]+96)},u.SAMPLE_ENTRY_TYPE_VISUAL=n(454),u.SAMPLE_ENTRY_TYPE_AUDIO=n(194),u.SAMPLE_ENTRY_TYPE_HINT=n(806),u[n(998)]=n(793),u[n(916)]=n(592),u.SAMPLE_ENTRY_TYPE_SYSTEM=n(219),u[n(1159)]=n(1150),u[n(907)][n(500)][n(642)]=function(t){var e=n;t[e(458)](6),this.data_reference_index=t[e(212)](),this[e(1182)]+=8},u[n(907)][n(500)][n(557)]=function(t){var e=n;this.parseHeader(t),this[e(1125)]=t[e(458)](this[e(297)]-this[e(1182)])},u[n(907)][n(500)][n(301)]=function(t){var e=n;this[e(642)](t),this[e(1125)]=t.readUint8Array(this.size-this[e(1182)]),this[e(1182)]-=8,t[e(1390)]-=this.size-this[e(1182)]},u[n(907)][n(500)][n(1186)]=function(t){var e=n;u[e(838)][e(500)].parse.call(this,t)},u[n(792)](u.SAMPLE_ENTRY_TYPE_HINT),u.createMediaSampleEntryCtor(u[n(998)]),u.createMediaSampleEntryCtor(u[n(916)]),u.createMediaSampleEntryCtor(u[n(1165)]),u[n(792)](u.SAMPLE_ENTRY_TYPE_TEXT),u[n(792)](u.SAMPLE_ENTRY_TYPE_VISUAL,(function(t){var e,s=n;this.parseHeader(t),t.readUint16(),t[s(212)](),t[s(316)](3),this[s(762)]=t[s(212)](),this.height=t.readUint16(),this[s(593)]=t[s(909)](),this[s(275)]=t[s(909)](),t.readUint32(),this[s(487)]=t[s(212)](),e=Math[s(702)](31,t[s(963)]()),this[s(302)]=t[s(863)](e),e<31&&t[s(863)](31-e),this[s(624)]=t.readUint16(),t.readUint16(),this[s(1186)](t)})),u.createMediaSampleEntryCtor(u[n(836)],(function(t){var e=n;this[e(642)](t),t.readUint32Array(2),this[e(295)]=t[e(212)](),this[e(842)]=t[e(212)](),t[e(212)](),t[e(212)](),this[e(262)]=t[e(909)]()/65536,this[e(1186)](t)})),u[n(819)](u[n(676)],n(227)),u[n(819)](u[n(676)],n(1393)),u[n(819)](u[n(676)],n(1138)),u[n(819)](u[n(676)],n(432)),u[n(819)](u[n(676)],"av01"),u[n(819)](u[n(676)],"dav1"),u[n(819)](u[n(676)],"hvc1"),u[n(819)](u.SAMPLE_ENTRY_TYPE_VISUAL,n(1346)),u.createSampleEntryCtor(u[n(676)],n(820)),u[n(819)](u[n(676)],n(636)),u[n(819)](u[n(676)],n(599)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_VISUAL,n(614)),u[n(819)](u[n(676)],n(1243)),u[n(819)](u[n(676)],n(724)),u[n(819)](u[n(676)],n(1246)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),u.createSampleEntryCtor(u[n(676)],n(667)),u[n(819)](u[n(676)],n(519)),u[n(819)](u[n(676)],n(1220)),u.createSampleEntryCtor(u[n(676)],n(666)),u[n(819)](u.SAMPLE_ENTRY_TYPE_VISUAL,n(1296)),u[n(819)](u.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),u[n(819)](u.SAMPLE_ENTRY_TYPE_VISUAL,n(1077)),u[n(819)](u[n(836)],"mp4a"),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_AUDIO,n(308)),u[n(819)](u.SAMPLE_ENTRY_TYPE_AUDIO,n(738)),u[n(819)](u[n(836)],n(657)),u[n(819)](u[n(836)],n(1323)),u[n(819)](u[n(836)],n(1042)),u[n(819)](u[n(836)],n(641)),u.createSampleEntryCtor(u[n(836)],n(1050)),u[n(819)](u[n(836)],"mhm2"),u[n(243)](u[n(676)],"encv"),u.createEncryptedSampleEntryCtor(u[n(836)],"enca"),u[n(243)](u[n(916)],n(1141)),u.createEncryptedSampleEntryCtor(u[n(1165)],n(980)),u[n(243)](u.SAMPLE_ENTRY_TYPE_TEXT,n(544)),u[n(243)](u.SAMPLE_ENTRY_TYPE_METADATA,n(739)),u[n(958)](n(1399),(function(t){var e=n,s=16*(1+(1&(1&t[e(963)]())));this[e(465)]=[];for(var i=0;i<3;i++)16==s?this.layer_size[i]=t[e(212)]():this[e(465)][i]=t[e(909)]()})),u[n(958)](n(581),(function(t){this[n(602)]=t.readUint8()})),u[n(375)](n(1202),(function(t){var e=n;this[e(1221)]=t[e(625)]();var s=this[e(297)]-this[e(1182)]-(this[e(1221)][e(468)]+1);this[e(203)]=t.readUint8Array(s)})),u[n(958)](n(951),(function(t){var e=n,s=t[e(963)]();if(!(s>>7&!1)&&(this[e(877)]=127&s,1===this[e(877)]&&(s=t[e(963)](),this[e(653)]=s>>5&7,this.seq_level_idx_0=31&s,s=t[e(963)](),this[e(357)]=s>>7&1,this[e(567)]=s>>6&1,this[e(906)]=s>>5&1,this.monochrome=s>>4&1,this.chroma_subsampling_x=s>>3&1,this[e(713)]=s>>2&1,this.chroma_sample_position=3&s,s=t[e(963)](),this.reserved_1=s>>5&7,0===this[e(310)]))){if(this[e(985)]=s>>4&1,1===this[e(985)])this.initial_presentation_delay_minus_one=15&s;else if(this.reserved_2=15&s,0!==this.reserved_2)return;var i=this[e(297)]-this[e(1182)]-4;this.configOBUs=t[e(458)](i)}})),u[n(958)]("avcC",(function(t){var e,s,i=n;for(this[i(460)]=t[i(963)](),this[i(1081)]=t[i(963)](),this[i(387)]=t[i(963)](),this.AVCLevelIndication=t.readUint8(),this.lengthSizeMinusOne=3&t[i(963)](),this.nb_SPS_nalus=31&t[i(963)](),s=this.size-this[i(1182)]-6,this.SPS=[],e=0;e<this[i(594)];e++)this[i(710)][e]={},this.SPS[e][i(468)]=t[i(212)](),this[i(710)][e].nalu=t[i(458)](this.SPS[e][i(468)]),s-=2+this.SPS[e][i(468)];for(this[i(206)]=t.readUint8(),s--,this[i(1087)]=[],e=0;e<this[i(206)];e++)this[i(1087)][e]={},this[i(1087)][e].length=t[i(212)](),this[i(1087)][e][i(846)]=t[i(458)](this[i(1087)][e][i(468)]),s-=2+this[i(1087)][e][i(468)];s>0&&(this[i(1010)]=t[i(458)](s))})),u[n(958)](n(953),(function(t){var e=n;this.bufferSizeDB=t[e(909)](),this[e(348)]=t.readUint32(),this[e(429)]=t[e(909)]()})),u[n(375)](n(776),(function(t){var e=n,s=t.readUint8();this[e(609)]=128==(128&s),this[e(1195)]=64==(64&s),this[e(694)]=(63&s)>>2,t[e(948)]()})),u[n(958)]("cdef",(function(t){var e,s=n;for(this[s(295)]=t[s(212)](),this[s(1372)]=[],this[s(737)]=[],this[s(288)]=[],e=0;e<this[s(295)];e++)this.channel_indexes[s(1067)](t[s(212)]()),this.channel_types.push(t[s(212)]()),this[s(288)][s(1067)](t[s(212)]())})),u[n(958)](n(1146),(function(t){var e=n;this[e(777)]=t[e(909)](),this[e(1268)]=t.readUint32(),this[e(1028)]=t[e(909)](),this.cleanApertureHeightD=t[e(909)](),this[e(1057)]=t[e(909)](),this[e(192)]=t[e(909)](),this[e(596)]=t.readUint32(),this[e(1178)]=t[e(909)]()})),u.createBoxCtor(n(382),(function(t){var e=n;this[e(957)]=t[e(212)](),this.max_pic_average_light_level=t.readUint16()})),u.createFullBoxCtor(n(899),(function(t){var e=n;1&this.flags&&(this.pos_x=t[e(1345)]()),2&this[e(566)]&&(this[e(1263)]=t.readInt32()),4&this[e(566)]&&(this[e(547)]=t.readInt32()),8&this[e(566)]&&(0==this[e(877)]?16&this[e(566)]?(this[e(344)]=t[e(1345)](),this[e(1340)]=t[e(1345)](),this[e(1358)]=t.readInt32()):(this[e(344)]=t[e(746)](),this[e(1340)]=t.readInt16(),this[e(1358)]=t.readInt16()):this.version),32&this[e(566)]&&(this.id=t[e(909)]())})),u[n(375)](n(903),(function(t){var e=n;this[e(824)]=t[e(1345)](),this[e(972)]=t[e(1345)](),this[e(217)]=t[e(1345)](),1&this[e(566)]&&(this[e(754)]=t[e(1345)](),this[e(639)]=t[e(1345)]())})),u[n(958)](n(774),(function(t){var e=n;for(this[e(1339)]=t.readUint32(),this.component_types=[],this[e(1276)]=[],i=0;i<this[e(1339)];i++){var s=t[e(212)]();this[e(257)][e(1067)](s),s>=32768&&this.component_type_urls[e(1067)](t.readCString())}})),u.createFullBoxCtor("co64",(function(t){var e,s,i=n;if(e=t[i(909)](),this.chunk_offsets=[],0===this[i(877)])for(s=0;s<e;s++)this.chunk_offsets.push(t[i(197)]())})),u[n(375)](n(884),(function(t){var e=n;this.maxCLL=t[e(212)](),this.maxFALL=t.readUint16()})),u[n(958)](n(981),(function(t){var e=n;if(this[e(204)]=t.readString(4),this[e(204)]===e(1131)){this[e(631)]=t[e(212)](),this.transfer_characteristics=t.readUint16(),this[e(1106)]=t[e(212)]();var s=t.readUint8();this[e(871)]=s>>7}else(this.colour_type===e(1053)||this.colour_type===e(505))&&(this[e(199)]=t[e(458)](this.size-4))})),u[n(375)]("cprt",(function(t){var e=n;this[e(690)](t),this[e(491)]=t.readCString()})),u.createFullBoxCtor(n(380),(function(t){var e=n;0===this[e(877)]&&(this[e(1108)]=t[e(1345)](),this[e(764)]=t[e(1345)](),this[e(784)]=t[e(1345)](),this[e(517)]=t[e(1345)](),this[e(331)]=t[e(1345)]())})),u[n(375)](n(1110),(function(t){var e,s,i=n;if(e=t[i(909)](),this[i(718)]=[],this[i(324)]=[],0===this[i(877)])for(s=0;s<e;s++){this[i(718)][i(1067)](t[i(909)]());var r=t[i(1345)]();this.sample_offsets[i(1067)](r)}else if(1==this[i(877)])for(s=0;s<e;s++)this[i(718)][i(1067)](t.readUint32()),this[i(324)][i(1067)](t[i(1345)]())})),u[n(958)](n(728),(function(t){var e=n,s=t[e(963)](),i=t[e(963)](),r=t.readUint8();this[e(1365)]=s>>6,this[e(878)]=s>>1&31,this[e(601)]=(1&s)<<2|i>>6&3,this.acmod=i>>3&7,this[e(253)]=i>>2&1,this[e(542)]=3&i|r>>5&7})),u[n(958)](n(1398),(function(t){var e=n,s=t.readUint16();this[e(358)]=s>>3,this[e(255)]=7&s,this[e(402)]=[];for(var i=0;i<this.num_ind_sub+1;i++){var r={};this.ind_subs[e(1067)](r);var o=t[e(963)](),a=t[e(963)](),h=t.readUint8();r.fscod=o>>6,r[e(878)]=o>>1&31,r[e(601)]=(1&o)<<4|a>>4&15,r.acmod=a>>1&7,r.lfeon=1&a,r.num_dep_sub=h>>1&15,r[e(1262)]>0&&(r[e(303)]=(1&h)<<8|t.readUint8())}})),u.createFullBoxCtor(n(323),(function(t){var e=n,s=[],i=[e(813),e(929),e(999),e(720),"VORBIS_COMMENT",e(309),"PICTURE",e(751)];for(this.parseFullHeader(t);;){var r=t[e(963)](),o=Math[e(702)](127&r,i[e(468)]-1);if(o?t[e(458)](t[e(948)]()):(t[e(458)](13),this[e(262)]=t[e(909)]()>>12,t[e(458)](20)),s[e(1067)](i[o]),128&r)break}this.numMetadataBlocks=s[e(468)]+" ("+s[e(1247)](", ")+")"})),u[n(958)](n(1330),(function(t){var e=n;this[e(187)]=t[e(197)]()})),u[n(958)](n(1297),(function(t){var e=n;this[e(714)]=t[e(909)]()})),u[n(958)]("dmed",(function(t){this[n(187)]=t.readUint64()})),u[n(958)](n(586),(function(t){var e=n;if(this[e(427)]=t.readUint8(),this.OutputChannelCount=t.readUint8(),this[e(742)]=t.readUint16(),this.InputSampleRate=t[e(909)](),this[e(546)]=t[e(746)](),this.ChannelMappingFamily=t[e(963)](),0!==this[e(285)]){this[e(1389)]=t.readUint8(),this[e(1237)]=t.readUint8(),this.ChannelMapping=[];for(var s=0;s<this[e(447)];s++)this.ChannelMapping[s]=t.readUint8()}})),u[n(375)](n(1285),(function(t){var e,s,i=n;this.entries=[];for(var r=t.readUint32(),o=0;o<r;o++){if((e=u[i(1334)](t,!1,this[i(297)]-(t[i(482)]()-this[i(251)])))[i(709)]!==u.OK)return;s=e[i(1300)],this[i(305)][i(1067)](s)}})),u[n(958)](n(531),(function(t){var e=n;this[e(187)]=t[e(197)]()})),u[n(375)](n(817),(function(t){var e=n;this[e(880)]=t[e(863)](this[e(297)]-this[e(1182)])})),u.createFullBoxCtor(n(763),(function(t){var e=n;this.entries=[];for(var s=t[e(909)](),i=0;i<s;i++){var r={};this[e(305)][e(1067)](r),1===this[e(877)]?(r.segment_duration=t[e(197)](),r[e(177)]=t[e(1094)]()):(r[e(1031)]=t[e(909)](),r.media_time=t[e(1345)]()),r[e(681)]=t[e(746)](),r[e(1180)]=t[e(746)]()}})),u[n(375)](n(632),(function(t){var e=n;1==this[e(877)]?(this[e(818)]=t.readUint32(),this.presentation_time=t[e(197)](),this.event_duration=t[e(909)](),this.id=t[e(909)](),this.scheme_id_uri=t.readCString(),this[e(1173)]=t.readCString()):(this[e(539)]=t[e(625)](),this[e(1173)]=t[e(625)](),this[e(818)]=t[e(909)](),this[e(270)]=t[e(909)](),this.event_duration=t.readUint32(),this.id=t[e(909)]());var s=this.size-this.hdr_size-(16+(this[e(539)].length+1)+(this.value[e(468)]+1));1==this[e(877)]&&(s-=4),this.message_data=t.readUint8Array(s)})),u[n(874)]=function(t,e){var s=n;u[t+"Box"]=function(e){var s=Am;u[s(522)][s(176)](this,t,e)},u[t+s(1105)][s(500)]=new(u[s(522)]),u[t+"Box"][s(500)].parse=function(t){var r=s;if(this[r(852)](t),e)e.call(this,t);else for(this[r(663)]=t.readUint32(),this[r(1174)]=t[r(909)](),this[r(494)]=[],i=0;i<this.num_entities_in_group;i++){var n=t[r(909)]();this[r(494)][r(1067)](n)}}},u.createEntityToGroupCtor(n(364)),u[n(874)](n(797)),u.createEntityToGroupCtor(n(729)),u[n(874)](n(226)),u[n(874)]("brst"),u[n(874)](n(228)),u[n(874)](n(635)),u[n(874)]("favc"),u.createEntityToGroupCtor(n(848)),u[n(874)](n(521)),u[n(874)]("pano"),u[n(874)](n(1324)),u.createEntityToGroupCtor("ster"),u[n(874)]("tsyn"),u[n(874)](n(1257)),u.createEntityToGroupCtor(n(1310)),u.createFullBoxCtor(n(823),(function(t){var e=n,s=t[e(458)](this.size-this.hdr_size);if("function"!==e(240)){var i=new d;this.esd=i.parseOneDescriptor(new h(s[e(284)],0,h[e(1348)]))}})),u[n(958)](n(1076),(function(t){var e=n;this[e(1064)]=t[e(963)](),this[e(541)]=t[e(963)]()})),u[n(958)](n(222),(function(t){var e=n;this[e(979)]=t[e(863)](4)})),u[n(958)](n(745),(function(t){var e=n,s=this[e(297)]-this[e(1182)];this[e(767)]=t.readString(4),this[e(399)]=t[e(909)](),s-=8,this[e(329)]=[];for(var i=0;s>=4;)this[e(329)][i]=t[e(863)](4),s-=4,i++})),u[n(375)]("hdlr",(function(t){var e=n;0===this.version&&(t.readUint32(),this[e(734)]=t.readString(4),t[e(316)](3),this[e(1009)]=t[e(863)](this[e(297)]-this[e(1182)]-20),"\0"===this[e(1009)][this[e(1009)].length-1]&&(this[e(1009)]=this[e(1009)][e(837)](0,-1)))})),u[n(958)](n(1216),(function(t){var e,s,i,r,o=n;this[o(460)]=t[o(963)](),r=t[o(963)](),this[o(260)]=r>>6,this[o(644)]=(32&r)>>5,this.general_profile_idc=31&r,this[o(646)]=t[o(909)](),this[o(400)]=t.readUint8Array(6),this.general_level_idc=t[o(963)](),this.min_spatial_segmentation_idc=4095&t.readUint16(),this[o(755)]=3&t.readUint8(),this.chroma_format_idc=3&t[o(963)](),this[o(1370)]=7&t[o(963)](),this[o(1084)]=7&t[o(963)](),this[o(1198)]=t[o(212)](),r=t[o(963)](),this.constantFrameRate=r>>6,this.numTemporalLayers=(13&r)>>3,this[o(420)]=(4&r)>>2,this[o(1383)]=3&r,this[o(634)]=[];var a=t.readUint8();for(e=0;e<a;e++){var h=[];this[o(634)].push(h),r=t[o(963)](),h[o(1301)]=(128&r)>>7,h[o(1350)]=63&r;var l=t[o(212)]();for(s=0;s<l;s++){var c={};h[o(1067)](c),i=t.readUint16(),c[o(1125)]=t[o(458)](i)}}})),u[n(375)]("iinf",(function(t){var e,s=n;0===this[s(877)]?this[s(244)]=t[s(212)]():this[s(244)]=t[s(909)](),this[s(1312)]=[];for(var i=0;i<this[s(244)];i++){if((e=u[s(1334)](t,!1,this[s(297)]-(t[s(482)]()-this.start)))[s(709)]!==u.OK)return;e[s(1300)][s(563)],s(261),this[s(1312)][i]=e[s(1300)]}})),u[n(375)](n(898),(function(t){var e,s=n;e=t[s(963)](),this.offset_size=e>>4&15,this[s(623)]=15&e,e=t.readUint8(),this[s(425)]=e>>4&15,1===this[s(877)]||2===this[s(877)]?this[s(830)]=15&e:this.index_size=0,this[s(266)]=[];var i=0;if(this.version<2)i=t[s(212)]();else{if(2!==this.version)throw s(333);i=t.readUint32()}for(var r=0;r<i;r++){var o={};if(this.items.push(o),this.version<2)o.item_ID=t.readUint16();else{if(2!==this[s(877)])throw"version of iloc box not supported";o[s(537)]=t[s(909)]()}switch(1===this[s(877)]||2===this[s(877)]?o.construction_method=15&t[s(212)]():o[s(299)]=0,o[s(1183)]=t[s(212)](),this.base_offset_size){case 0:o[s(995)]=0;break;case 4:o[s(995)]=t.readUint32();break;case 8:o[s(995)]=t[s(197)]();break;default:throw"Error reading base offset size"}var a=t[s(212)]();o.extents=[];for(var h=0;h<a;h++){var l={};if(o[s(1380)].push(l),1===this[s(877)]||2===this[s(877)])switch(this[s(830)]){case 0:l[s(188)]=0;break;case 4:l[s(188)]=t[s(909)]();break;case 8:l[s(188)]=t[s(197)]();break;default:throw"Error reading extent index"}switch(this[s(801)]){case 0:l.extent_offset=0;break;case 4:l[s(374)]=t[s(909)]();break;case 8:l[s(374)]=t.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:l[s(545)]=0;break;case 4:l[s(545)]=t[s(909)]();break;case 8:l[s(545)]=t[s(197)]();break;default:throw s(613)}}}})),u[n(958)](n(807),(function(t){var e=n,s=t[e(963)]();this[e(736)]=s>>7,this.axis=1&s})),u[n(375)](n(261),(function(t){var e=n;if((0===this[e(877)]||1===this.version)&&(this[e(537)]=t[e(212)](),this[e(659)]=t[e(212)](),this.item_name=t.readCString(),this.content_type=t[e(625)](),this[e(1055)]=t[e(625)]()),1===this[e(877)])return this[e(311)]=t[e(863)](4),void t.seek(this[e(251)]+this[e(297)]);this[e(877)]>=2&&(2===this[e(877)]?this.item_ID=t[e(212)]():3===this[e(877)]&&(this[e(537)]=t[e(909)]()),this.item_protection_index=t[e(212)](),this[e(1153)]=t[e(863)](4),this.item_name=t.readCString(),this[e(1153)]===e(410)?(this[e(1242)]=t[e(625)](),this[e(1055)]=t[e(625)]()):this[e(1153)]===e(1292)&&(this[e(437)]=t[e(625)]()))})),u.createFullBoxCtor(n(853),(function(t){var e,s,i=n;for(entry_count=t.readUint32(),this[i(441)]=[],e=0;e<entry_count;e++){var r={};this.associations[i(1067)](r),this[i(877)]<1?r.id=t[i(212)]():r.id=t[i(909)]();var o=t[i(963)]();for(r[i(706)]=[],s=0;s<o;s++){var a=t[i(963)](),h={};r[i(706)][i(1067)](h),h[i(661)]=(128&a)>>7==1,1&this[i(566)]?h[i(530)]=(127&a)<<8|t[i(963)]():h.property_index=127&a}}})),u[n(375)](n(1245),(function(t){var e,s,i=n;for(this.references=[];t[i(482)]()<this[i(251)]+this[i(297)];){if((e=u[i(1334)](t,!0,this.size-(t.getPosition()-this[i(251)])))[i(709)]!==u.OK)return;(s=0===this[i(877)]?new(u[i(901)])(e[i(563)],e[i(297)],e[i(1182)],e[i(251)]):new(u[i(799)])(e[i(563)],e[i(297)],e[i(1182)],e[i(251)]))[i(1043)]===u[i(1105)].prototype.write&&s[i(563)]!==i(577)&&s[i(301)](t),s[i(557)](t),this.references[i(1067)](s)}})),u.createBoxCtor(n(1018),(function(t){var e=n;this[e(291)]=3&t[e(963)]()})),u[n(375)](n(781),(function(t){var e=n;this[e(1386)]=t[e(909)](),this[e(744)]=t.readUint32()})),u[n(375)]("kind",(function(t){var e=n;this.schemeURI=t[e(625)](),this[e(1173)]=t[e(625)]()})),u[n(375)](n(349),(function(t){var e=n,s=t[e(963)]();this[e(920)]=[];for(var i=0;i<s;i++){var r={};this.levels[i]=r,r[e(1274)]=t[e(909)]();var o=t[e(963)]();switch(r[e(207)]=o>>7,r[e(844)]=127&o,r[e(844)]){case 0:r.grouping_type=t[e(863)](4);break;case 1:r.grouping_type=t[e(863)](4),r.grouping_type_parameter=t.readUint32();break;case 2:case 3:break;case 4:r[e(448)]=t.readUint32()}}})),u[n(958)](n(812),(function(t){var e=n;this.layer_id=t[e(212)]()})),u.createBoxCtor(n(1252),(function(t){var e=n;this.period=t[e(909)](),this[e(1375)]=t[e(909)]()})),p[n(500)].toString=function(){return"("+this.x+","+this.y+")"},u[n(958)](n(484),(function(t){var e=n;this[e(1223)]=[],this[e(1223)][0]=new p(t[e(212)](),t[e(212)]()),this[e(1223)][1]=new p(t.readUint16(),t[e(212)]()),this.display_primaries[2]=new p(t[e(212)](),t.readUint16()),this[e(687)]=new p(t[e(212)](),t[e(212)]()),this[e(655)]=t[e(909)](),this[e(915)]=t[e(909)]()})),u[n(375)](n(273),(function(t){var e=n;1==this[e(877)]?(this[e(1308)]=t[e(197)](),this[e(1260)]=t[e(197)](),this[e(818)]=t[e(909)](),this[e(1097)]=t[e(197)]()):(this.creation_time=t[e(909)](),this.modification_time=t[e(909)](),this[e(818)]=t[e(909)](),this[e(1097)]=t[e(909)]()),this[e(690)](t),t[e(212)]()})),u[n(375)](n(850),(function(t){var e=n;1&this[e(566)]&&(this[e(877)]=1),1==this[e(877)]?this.fragment_duration=t[e(197)]():this[e(1033)]=t[e(909)]()})),u[n(375)](n(1374),(function(t){var e=n;this.boxes=[],u[e(838)][e(500)][e(557)].call(this,t)})),u.createFullBoxCtor(n(1397),(function(t){var e=n;this[e(971)]=t[e(909)]()})),u[n(375)](n(1293),(function(t){var e=n;this._size=t[e(909)]()})),u[n(375)](n(1213),(function(t){var e=n;this[e(446)]=t[e(963)]()})),u[n(375)](n(918),(function(t){var e=n;1==this[e(877)]?(this[e(1308)]=t[e(197)](),this[e(1260)]=t[e(197)](),this[e(818)]=t[e(909)](),this[e(1097)]=t[e(197)]()):(this[e(1308)]=t[e(909)](),this.modification_time=t[e(909)](),this[e(818)]=t.readUint32(),this[e(1097)]=t[e(909)]()),this[e(1210)]=t[e(909)](),this.volume=t.readUint16()>>8,t[e(212)](),t[e(316)](2),this[e(276)]=t[e(316)](9),t[e(316)](6),this[e(575)]=t.readUint32()})),u[n(958)](n(1320),(function(t){var e=n;this[e(1145)]=t[e(909)]()})),u[n(958)](n(612),(function(t){var e=n;this[e(1145)]=t[e(197)]()})),u[n(375)](n(186),(function(t){var e=n,s=t[e(909)]();this.padbits=[];for(var i=0;i<Math[e(841)]((s+1)/2);i++)this[e(1256)]=t[e(963)]()})),u[n(958)](n(480),(function(t){var e=n;this.hSpacing=t[e(909)](),this[e(723)]=t[e(909)]()})),u[n(958)](n(684),(function(t){var e=n;this[e(1047)]=t[e(863)](this[e(297)]-this.hdr_size)})),u.createBoxCtor(n(512),(function(t){var e=n;this[e(319)]=t[e(909)]();var s=t[e(963)]();this.rtpmap_string=t[e(863)](s)})),u[n(375)](n(426),(function(t){var e=n,s=(this[e(297)]-this[e(1182)])/8;this[e(1210)]=[],this[e(722)]=[];for(var i=0;i<s;i++)this[e(1210)][i]=t[e(909)](),this.initial_delay[i]=t[e(909)]()})),u[n(375)]("pitm",(function(t){var e=n;0===this[e(877)]?this[e(670)]=t[e(212)]():this[e(670)]=t.readUint32()})),u[n(375)](n(1193),(function(t){var e,s=n;for(this[s(582)]=t[s(963)](),this[s(675)]=[],e=0;e<this[s(582)];e++)this[s(675)][e]=t[s(963)]()})),u[n(958)]("pmax",(function(t){this[n(1375)]=t.readUint32()})),u[n(375)]("prdi",(function(t){var e=n;if(this[e(478)]=t[e(212)](),this[e(839)]=[],2&this[e(566)])for(var s=0;s<this[e(478)];s++)this[e(839)][s]=t.readUint16()})),u[n(375)](n(698),(function(t){var e=n;this[e(221)]=t[e(909)](),this[e(390)]=t[e(197)](),0===this[e(877)]?this.media_time=t.readUint32():this.media_time=t[e(197)]()})),u[n(375)](n(1367),(function(t){var e=n;if(this[e(1048)]=u.parseHex16(t),this[e(877)]>0){var s=t.readUint32();this[e(595)]=[];for(var i=0;i<s;i++)this[e(595)][i]=u[e(211)](t)}var r=t.readUint32();r>0&&(this[e(1125)]=t[e(458)](r))})),u[n(375)](n(1244),(function(t){var e=n;this[e(762)]=t[e(909)](),this[e(930)]=t.readUint32()})),u[n(375)](n(293),(function(t){var e=n;this[e(762)]=t[e(909)](),this.height=t[e(909)]()})),u[n(375)](n(505),(function(t){var e=n;this[e(762)]=t.readUint32(),this[e(930)]=t[e(909)]()})),u.createContainerBoxCtor(n(943),null,[n(1244),"prof","enof"]),u.createBoxCtor(n(338),(function(t){var e=n;this[e(685)]=t.readString(4),this.sdptext=t[e(863)](this[e(297)]-this.hdr_size-4)})),u[n(375)](n(1277),(function(t){var e=n;1&this[e(566)]&&(this.aux_info_type=t[e(909)](),this.aux_info_type_parameter=t[e(909)]());var s=t[e(909)]();this[e(1169)]=[];for(var i=0;i<s;i++)0===this[e(877)]?this.offset[i]=t[e(909)]():this[e(1169)][i]=t[e(197)]()})),u[n(375)]("saiz",(function(t){var e=n;1&this[e(566)]&&(this.aux_info_type=t[e(909)](),this[e(1147)]=t[e(909)]()),this[e(1029)]=t[e(963)]();var s=t.readUint32();if(this[e(795)]=[],0===this.default_sample_info_size)for(var i=0;i<s;i++)this.sample_info_size[i]=t[e(963)]()})),u[n(819)](u[n(998)],"mett",(function(t){var e=n;this[e(642)](t),this[e(1055)]=t[e(625)](),this[e(183)]=t[e(625)](),this[e(1186)](t)})),u[n(819)](u[n(998)],"metx",(function(t){var e=n;this[e(642)](t),this[e(1055)]=t[e(625)](),this[e(423)]=t[e(625)](),this.schema_location=t[e(625)](),this[e(1186)](t)})),u[n(819)](u[n(916)],"sbtt",(function(t){var e=n;this[e(642)](t),this[e(1055)]=t.readCString(),this[e(183)]=t[e(625)](),this[e(1186)](t)})),u[n(819)](u[n(916)],n(882),(function(t){var e=n;this.parseHeader(t),this[e(423)]=t.readCString(),this[e(638)]=t[e(625)](),this[e(1191)]=t[e(625)](),this[e(1186)](t)})),u[n(819)](u[n(916)],"stxt",(function(t){var e=n;this[e(642)](t),this.content_encoding=t[e(625)](),this[e(183)]=t.readCString(),this[e(1186)](t)})),u.createSampleEntryCtor(u[n(916)],"tx3g",(function(t){var e=n;this[e(642)](t),this[e(1217)]=t.readUint32(),this[e(726)]=t.readInt8(),this[e(648)]=t[e(833)](),this[e(421)]=t[e(458)](4),this[e(1148)]=t[e(404)](4),this.style_record=t[e(458)](12),this[e(1186)](t)})),u.createSampleEntryCtor(u[n(998)],"wvtt",(function(t){var e=n;this[e(642)](t),this[e(1186)](t)})),u[n(412)](n(571),(function(t){var e,s=n,i=t[s(212)]();for(this[s(749)]=t.readUint16(),this[s(179)]=[],e=0;e<i;e++)this[s(179)][e]=t.readUint32();var r=this[s(1353)]-4-4*i;for(this[s(590)]=[],this[s(1058)]=[],e=0;e<r/4;e++)this[s(590)][e]=t[s(212)](),this.num_total_samples[e]=t[s(212)]()})),u[n(412)](n(370),(function(t){var e=n;this[e(914)]=t[e(963)](),this[e(518)]=t[e(963)](),this[e(230)]=t.readUint16(),this[e(1198)]=t[e(212)]()})),u[n(412)](n(492),(function(t){var e=n;this[e(616)]=t[e(212)](),this.layerNumber=t[e(963)]();var s=t[e(963)]();this.durationFlag=s>>7,this[e(1275)]=s>>6&1,this[e(1172)]&&(this[e(1097)]=t[e(909)]()),this[e(1275)]&&(this[e(518)]=t[e(963)](),this[e(230)]=t[e(212)](),this[e(1198)]=t.readUint16()),this[e(552)]=[];for(var i=t[e(963)](),r=0;r<i;r++){var o={};this[e(552)][e(1067)](o),o[e(392)]=t[e(963)](),o.layerNumber=t[e(963)](),o.subSequenceIdentifier=t[e(212)]()}})),u.createSampleGroupCtor("dtrt",(function(t){})),u[n(412)](n(1379),(function(t){})),u[n(412)](n(787),(function(t){var e=n;this[e(975)]=t[e(746)]()})),u[n(412)]("rap ",(function(t){var e=n,s=t[e(963)]();this[e(1089)]=s>>7,this.num_leading_samples=127&s})),u[n(412)]("rash",(function(t){var e=n;if(this.operation_point_count=t[e(212)](),this[e(1353)]!==2+(1===this.operation_point_count?2:6*this[e(896)])+9)this.data=t.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this[e(757)]=t[e(212)]();else{this[e(757)]=[],this.available_bitrate=[];for(var s=0;s<this[e(896)];s++)this[e(475)][s]=t[e(909)](),this[e(757)][s]=t[e(212)]()}this[e(942)]=t.readUint32(),this[e(669)]=t[e(909)](),this[e(1065)]=t[e(963)]()}})),u[n(412)](n(407),(function(t){var e=n;this[e(975)]=t[e(746)]()})),u[n(360)][n(500)][n(557)]=function(t){var e=n;this[e(1125)]=t[e(458)](this[e(1353)])},u[n(412)](n(178),(function(t){})),u[n(412)]("scnm",(function(t){})),u[n(412)](n(1222),(function(t){var e=n;this[e(736)]=t[e(963)]();var s=t[e(963)]();this[e(1038)]=s>>4,this.skip_byte_block=15&s,this[e(990)]=t[e(963)](),this[e(279)]=t.readUint8(),this.KID=u.parseHex16(t),this[e(525)]=0,this[e(700)]=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this[e(525)]=t[e(963)](),this.constant_IV=t[e(458)](this[e(525)]))})),u.createSampleGroupCtor(n(181),(function(t){})),u.createSampleGroupCtor(n(733),(function(t){var e=n,s=t[e(963)]();this[e(619)]=63&s})),u.createSampleGroupCtor(n(610),(function(t){var e=n,s=t.readUint8();this[e(182)]=s>>7})),u[n(412)](n(414),(function(t){})),u[n(412)](n(298),(function(t){})),u[n(412)](n(1037),(function(t){})),u[n(375)](n(580),(function(t){var e=n;this[e(1282)]=t[e(863)](4),1===this[e(877)]?this.grouping_type_parameter=t[e(909)]():this[e(772)]=0,this[e(305)]=[];for(var s=t.readUint32(),i=0;i<s;i++){var r={};this[e(305)][e(1067)](r),r[e(1369)]=t[e(1345)](),r.group_description_index=t[e(1345)]()}})),f[n(500)][n(259)]=function(){var t=n;return t(1349)+this[t(790)]+t(1325)+this[t(1316)]+"]"},u[n(375)](n(395),(function(t){var e,s=n;for(this[s(1339)]=t[s(212)](),this[s(185)]=[],e=0;e<this[s(1339)];e++)this[s(185)][s(1067)](t.readUint16());var i=t[s(963)]();for(this[s(1122)]=128==(128&i),this[s(1139)]=t[s(909)](),this[s(1088)]=t[s(909)](),this.num_bad_pixels=t[s(909)](),this[s(693)]=[],this.bad_columns=[],this.bad_pixels=[],e=0;e<this[s(1139)];e++)this[s(693)].push(t.readUint32());for(e=0;e<this[s(1088)];e++)this[s(1133)][s(1067)](t[s(909)]());for(e=0;e<this[s(538)];e++){var r=t[s(909)](),o=t[s(909)]();this.bad_pixels[s(1067)](new f(r,o))}})),u[n(375)](n(1100),(function(t){var e=n;this[e(196)]=t[e(863)](4),this[e(271)]=t[e(909)](),1&this[e(566)]&&(this[e(215)]=t[e(863)](this[e(297)]-this.hdr_size-8))})),u[n(958)](n(1041),(function(t){var e=n;this[e(688)]=t[e(863)](this.size-this.hdr_size)})),u[n(375)]("sdtp",(function(t){var e,s=n,i=this[s(297)]-this[s(1182)];this[s(816)]=[],this.sample_depends_on=[],this[s(1267)]=[],this[s(829)]=[];for(var r=0;r<i;r++)e=t[s(963)](),this[s(816)][r]=e>>6,this[s(236)][r]=e>>4&3,this[s(1267)][r]=e>>2&3,this[s(829)][r]=3&e})),u.createFullBoxCtor(n(598)),u[n(375)](n(282),(function(t){var e=n;this.grouping_type=t.readString(4),o[e(1269)](e(1127),e(391)+this[e(1282)]),1===this[e(877)]?this.default_length=t[e(909)]():this.default_length=0,this[e(877)]>=2&&(this.default_group_description_index=t.readUint32()),this[e(305)]=[];for(var s=t[e(909)](),i=0;i<s;i++){var r;r=u[this.grouping_type+e(360)]?new(u[this.grouping_type+e(360)])(this.grouping_type):new(u[e(360)])(this[e(1282)]),this[e(305)][e(1067)](r),1===this.version&&0===this[e(1187)]?r[e(1353)]=t.readUint32():r[e(1353)]=this[e(1187)],r[e(1043)]===u[e(360)][e(500)][e(1043)]&&(r[e(1125)]=t[e(458)](r[e(1353)]),t[e(1390)]-=r[e(1353)]),r[e(557)](t)}})),u.createFullBoxCtor(n(252),(function(t){var e=n;this.reference_ID=t[e(909)](),this.timescale=t[e(909)](),0===this[e(877)]?(this.earliest_presentation_time=t[e(909)](),this[e(1286)]=t[e(909)]()):(this[e(1184)]=t[e(197)](),this[e(1286)]=t[e(197)]()),t[e(212)](),this[e(1197)]=[];for(var s=t.readUint16(),i=0;i<s;i++){var r={};this[e(1197)][e(1067)](r);var o=t[e(909)]();r.reference_type=o>>31&1,r[e(1381)]=2147483647&o,r.subsegment_duration=t.readUint32(),o=t[e(909)](),r[e(890)]=o>>31&1,r[e(1099)]=o>>28&7,r[e(452)]=268435455&o}})),u[n(901)]=function(t,e,s,i){var r=n;u[r(1105)][r(176)](this,t,e),this[r(1182)]=s,this[r(251)]=i},u[n(901)][n(500)]=new u.Box,u[n(901)].prototype.parse=function(t){var e=n;this.from_item_ID=t.readUint16();var s=t[e(212)]();this.references=[];for(var i=0;i<s;i++)this[e(1197)][i]={},this.references[i][e(671)]=t[e(212)]()},u.SingleItemTypeReferenceBoxLarge=function(t,e,s,i){var r=n;u.Box[r(176)](this,t,e),this.hdr_size=s,this[r(251)]=i},u[n(799)][n(500)]=new u.Box,u[n(799)].prototype[n(557)]=function(t){var e=n;this[e(1229)]=t[e(909)]();var s=t[e(212)]();this[e(1197)]=[];for(var i=0;i<s;i++)this[e(1197)][i]={},this[e(1197)][i][e(671)]=t.readUint32()},u.createFullBoxCtor("SmDm",(function(t){var e=n;this.primaryRChromaticity_x=t[e(212)](),this[e(789)]=t[e(212)](),this[e(889)]=t[e(212)](),this[e(1167)]=t[e(212)](),this[e(649)]=t.readUint16(),this[e(430)]=t[e(212)](),this[e(283)]=t[e(212)](),this[e(511)]=t[e(212)](),this[e(1303)]=t[e(909)](),this[e(770)]=t[e(909)]()})),u[n(375)](n(351),(function(t){var e=n;this.balance=t[e(212)](),t[e(212)]()})),u[n(375)](n(440),(function(t){var e=n;this[e(524)]=[];for(var s=t[e(909)](),i=0;i<s;i++){var r={};this[e(524)][e(1067)](r),r[e(1289)]=[];for(var o=t[e(909)](),a=0;a<o;a++){var h={};r[e(1289)][e(1067)](h),h[e(1338)]=t[e(963)](),h[e(1196)]=t.readUint24()}}})),u.createFullBoxCtor(n(318),(function(t){var e,s=n;if(e=t[s(909)](),this[s(350)]=[],0===this[s(877)])for(var i=0;i<e;i++)this[s(350)][s(1067)](t.readUint32())})),u[n(375)]("stdp",(function(t){var e=n,s=(this[e(297)]-this[e(1182)])/2;this[e(1129)]=[];for(var i=0;i<s;i++)this[e(1129)][i]=t.readUint16()})),u.createFullBoxCtor(n(508)),u[n(375)](n(551),(function(t){var e=n;this.switch_group=t[e(212)](),this[e(752)]=t[e(212)](),this[e(448)]=t[e(909)]();var s=(this[e(297)]-this[e(1182)]-8)/4;this[e(987)]=[];for(var i=0;i<s;i++)this[e(987)][i]=t[e(909)]()})),u[n(375)](n(828),(function(t){var e,s,i=n;if(e=t[i(909)](),this[i(245)]=[],this[i(462)]=[],this[i(692)]=[],0===this[i(877)])for(s=0;s<e;s++)this[i(245)][i(1067)](t[i(909)]()),this[i(462)].push(t[i(909)]()),this[i(692)].push(t[i(909)]())})),u[n(375)]("stsd",(function(t){var e,s,i,r,o=n;for(this[o(305)]=[],i=t[o(909)](),e=1;e<=i;e++){if((s=u.parseOneBox(t,!0,this[o(297)]-(t[o(482)]()-this[o(251)])))[o(709)]!==u.OK)return;u[s[o(563)]+o(907)]?((r=new(u[s[o(563)]+o(907)])(s[o(297)]))[o(1182)]=s[o(1182)],r[o(251)]=s[o(251)]):r=new(u[o(907)])(s[o(563)],s[o(297)],s[o(1182)],s[o(251)]),r[o(1043)]===u[o(907)][o(500)][o(1043)]&&r[o(301)](t),r[o(557)](t),this[o(305)][o(1067)](r)}})),u[n(375)](n(997),(function(t){var e=n;this[e(1282)]=t[e(909)]();var s=t.readUint16();this[e(691)]=[];for(var i=0;i<s;i++)this[e(691)][i]=t[e(909)]()})),u[n(375)](n(725),(function(t){var e,s,i=n;if(e=t[i(909)](),this[i(218)]=[],this.sync_sample_numbers=[],0===this.version)for(s=0;s<e;s++)this[i(218)].push(t[i(909)]()),this[i(621)][i(1067)](t[i(909)]())})),u[n(375)]("stss",(function(t){var e,s,i=n;if(s=t[i(909)](),0===this[i(877)])for(this.sample_numbers=[],e=0;e<s;e++)this.sample_numbers[i(1067)](t.readUint32())})),u[n(375)]("stsz",(function(t){var e,s=n;if(this.sample_sizes=[],0===this.version)for(this[s(1279)]=t[s(909)](),this[s(1369)]=t.readUint32(),e=0;e<this.sample_count;e++)0===this[s(1279)]?this.sample_sizes[s(1067)](t[s(909)]()):this[s(847)][e]=this.sample_size})),u[n(375)](n(419),(function(t){var e,s,i,r=n;if(e=t.readUint32(),this[r(718)]=[],this[r(1039)]=[],0===this[r(877)])for(s=0;s<e;s++)this[r(718)].push(t[r(909)]()),(i=t[r(1345)]())<0&&(i=1),this.sample_deltas[r(1067)](i)})),u[n(375)](n(970),(function(t){var e=n,s=t[e(909)]();this[e(851)]=3&s,this[e(325)]=t[e(909)]();var i,r,o=t[e(909)]();for(this[e(658)]=t.readString(o),this[e(682)]=[];t[e(482)]()<this[e(251)]+this.size;){if((i=u[e(1334)](t,!1,this[e(297)]-(t.getPosition()-this[e(251)]))).code!==u.OK)return;r=i.box,this[e(682)].push(r),this[r[e(563)]]=r}})),u.createBoxCtor(n(1351),(function(t){var e=n;u[e(278)][e(500)][e(557)][e(176)](this,t)})),u[n(375)]("stz2",(function(t){var e,s,i=n;if(this[i(847)]=[],0===this[i(877)])if(this[i(736)]=t[i(948)](),this.field_size=t[i(963)](),s=t[i(909)](),4===this[i(1014)])for(e=0;e<s;e+=2){var r=t[i(963)]();this.sample_sizes[e]=r>>4&15,this.sample_sizes[e+1]=15&r}else if(8===this[i(1014)])for(e=0;e<s;e++)this[i(847)][e]=t.readUint8();else if(16===this[i(1014)])for(e=0;e<s;e++)this[i(847)][e]=t.readUint16()})),u.createFullBoxCtor(n(954),(function(t){var e,s,i,r,o=n;for(i=t[o(909)](),this.entries=[],e=0;e<i;e++){var a={};if(this.entries[e]=a,a[o(886)]=t[o(909)](),a.subsamples=[],(r=t.readUint16())>0)for(s=0;s<r;s++){var h={};a[o(911)][o(1067)](h),1==this[o(877)]?h[o(297)]=t[o(909)]():h[o(297)]=t[o(212)](),h[o(1129)]=t[o(963)](),h[o(735)]=t[o(963)](),h[o(1234)]=t[o(909)]()}}})),u[n(375)](n(498),(function(t){var e=n;if(t[e(963)](),0===this[e(877)])t[e(963)]();else{var s=t[e(963)]();this[e(753)]=s>>4&15,this[e(1003)]=15&s}this[e(1356)]=t.readUint8(),this[e(765)]=t.readUint8(),this[e(1364)]=u[e(211)](t),1===this[e(1356)]&&0===this[e(765)]&&(this[e(1392)]=t[e(963)](),this[e(908)]=t.readUint8Array(this[e(1392)]))})),u[n(375)](n(464),(function(t){var e=n;1==this[e(877)]?this[e(1337)]=t[e(197)]():this[e(1337)]=t[e(909)]()})),u[n(375)](n(409),(function(t){var e=n,s=0;this[e(760)]=t.readUint32(),this.size-this[e(1182)]>s&&this[e(566)]&u.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=t[e(197)](),s+=8):this[e(306)]=0,this.size-this[e(1182)]>s&&this[e(566)]&u[e(741)]?(this.default_sample_description_index=t[e(909)](),s+=4):this.default_sample_description_index=0,this.size-this[e(1182)]>s&&this[e(566)]&u.TFHD_FLAG_SAMPLE_DUR?(this[e(514)]=t[e(909)](),s+=4):this.default_sample_duration=0,this[e(297)]-this[e(1182)]>s&&this[e(566)]&u[e(912)]?(this.default_sample_size=t[e(909)](),s+=4):this[e(1294)]=0,this[e(297)]-this[e(1182)]>s&&this[e(566)]&u[e(606)]?(this.default_sample_flags=t.readUint32(),s+=4):this[e(947)]=0})),u[n(375)](n(315),(function(t){var e=n;this[e(1274)]=t[e(909)](),t[e(948)]();var s=t[e(963)]();this[e(949)]=s>>4&3,this.length_size_of_trun_num=s>>2&3,this[e(470)]=3&s,this[e(305)]=[];for(var i=t[e(909)](),r=0;r<i;r++)1===this[e(877)]?(this[e(714)]=t[e(197)](),this.moof_offset=t.readUint64()):(this[e(714)]=t[e(909)](),this[e(504)]=t[e(909)]()),this.traf_number=t["readUint"+8*(this[e(949)]+1)](),this.trun_number=t["readUint"+8*(this[e(1160)]+1)](),this.sample_number=t[e(479)+8*(this[e(470)]+1)]()})),u[n(375)](n(1126),(function(t){var e=n;1==this.version?(this[e(1308)]=t[e(197)](),this.modification_time=t[e(197)](),this[e(760)]=t[e(909)](),t[e(909)](),this.duration=t[e(197)]()):(this.creation_time=t[e(909)](),this[e(1260)]=t[e(909)](),this[e(760)]=t[e(909)](),t[e(909)](),this[e(1097)]=t.readUint32()),t[e(316)](2),this[e(1069)]=t.readInt16(),this[e(752)]=t[e(746)](),this[e(796)]=t[e(746)]()>>8,t.readUint16(),this[e(276)]=t[e(1347)](9),this[e(762)]=t[e(909)](),this.height=t.readUint32()})),u[n(958)](n(1231),(function(t){var e=n;this[e(714)]=t[e(909)]()})),u[n(958)](n(652),(function(t){var e=n;this[e(714)]=t[e(909)]()})),u[n(958)](n(1309),(function(t){var e=n;this.bytessent=t[e(909)]()})),u[n(958)](n(857),(function(t){var e=n;this.bytessent=t[e(909)]()})),u[n(958)](n(1224),(function(t){this[n(187)]=t.readUint64()})),u.TrackGroupTypeBox[n(500)][n(557)]=function(t){var e=n;this[e(852)](t),this[e(701)]=t[e(909)]()},u[n(369)](n(881)),u.TrackReferenceTypeBox=function(t,e,s,i){var r=n;u[r(1105)][r(176)](this,t,e),this[r(1182)]=s,this[r(251)]=i},u[n(932)].prototype=new(u[n(1105)]),u[n(932)][n(500)].parse=function(t){var e=n;this[e(664)]=t[e(316)]((this[e(297)]-this[e(1182)])/4)},u.trefBox[n(500)][n(557)]=function(t){for(var e,s,i=n;t[i(482)]()<this.start+this.size;){if((e=u.parseOneBox(t,!0,this[i(297)]-(t[i(482)]()-this[i(251)])))[i(709)]!==u.OK)return;(s=new(u[i(932)])(e.type,e.size,e[i(1182)],e[i(251)]))[i(1043)]===u[i(1105)][i(500)][i(1043)]&&"mdat"!==s[i(563)]&&s.parseDataAndRewind(t),s[i(557)](t),this[i(682)].push(s)}},u[n(375)]("trep",(function(t){var e=n;for(this[e(1274)]=t.readUint32(),this[e(682)]=[];t[e(482)]()<this[e(251)]+this.size;){if(ret=u[e(1334)](t,!1,this[e(297)]-(t[e(482)]()-this[e(251)])),ret.code!==u.OK)return;box=ret.box,this[e(682)][e(1067)](box)}})),u[n(375)]("trex",(function(t){var e=n;this[e(760)]=t[e(909)](),this.default_sample_description_index=t[e(909)](),this[e(514)]=t[e(909)](),this[e(1294)]=t[e(909)](),this[e(947)]=t[e(909)]()})),u[n(958)](n(506),(function(t){var e=n;this[e(187)]=t[e(197)]()})),u[n(375)](n(415),(function(t){var e=n,s=0;if(this[e(1369)]=t.readUint32(),s+=4,this[e(297)]-this[e(1182)]>s&&this[e(566)]&u[e(1253)]?(this[e(1e3)]=t[e(1345)](),s+=4):this[e(1e3)]=0,this[e(297)]-this[e(1182)]>s&&this[e(566)]&u.TRUN_FLAGS_FIRST_FLAG?(this[e(1085)]=t[e(909)](),s+=4):this[e(1085)]=0,this[e(1333)]=[],this[e(1279)]=[],this.sample_flags=[],this[e(1368)]=[],this[e(297)]-this[e(1182)]>s)for(var i=0;i<this[e(1369)];i++)this[e(566)]&u[e(242)]&&(this[e(1333)][i]=t[e(909)]()),this.flags&u[e(371)]&&(this.sample_size[i]=t[e(909)]()),this[e(566)]&u[e(1052)]&&(this.sample_flags[i]=t.readUint32()),this[e(566)]&u[e(347)]&&(0===this[e(877)]?this[e(1368)][i]=t.readUint32():this[e(1368)][i]=t[e(1345)]())})),u[n(375)](n(444),(function(t){var e=n;this[e(608)]=t[e(909)]();var s=(this[e(297)]-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<s;i++)this[e(987)][i]=t.readUint32()})),u[n(375)]("txtC",(function(t){var e=n;this.config=t[e(625)]()})),u[n(958)](n(473),(function(t){var e=n,s=(this[e(297)]-this[e(1182)])/4;this[e(329)]=[];for(var i=0;i<s;i++)this[e(329)][i]=t[e(863)](4)})),u.createFullBoxCtor("udes",(function(t){var e=n;this.lang=t[e(625)](),this[e(1009)]=t[e(625)](),this.description=t.readCString(),this[e(811)]=t[e(625)]()})),u.createFullBoxCtor(n(935),(function(t){var e,s=n;if(this[s(992)]=t.readUint32(),1==this[s(877)]);else if(0==this[s(877)]){for(this[s(1339)]=t[s(909)](),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this[s(496)]=[],e=0;e<this[s(1339)];e++)this[s(185)][s(1067)](t[s(212)]()),this[s(1163)][s(1067)](t.readUint8()),this[s(1342)][s(1067)](t[s(963)]()),this[s(496)].push(t.readUint8());this[s(339)]=t[s(963)](),this[s(250)]=t[s(963)](),this.block_size=t[s(963)]();var i=t[s(963)]();this.component_little_endian=i>>7&1,this.block_pad_lsb=i>>6&1,this[s(585)]=i>>5&1,this[s(803)]=i>>4&1,this[s(422)]=i>>3&1,this.pixel_size=t[s(909)](),this.row_align_size=t.readUint32(),this[s(497)]=t.readUint32(),this[s(466)]=t.readUint32(),this[s(804)]=t[s(909)]()}})),u[n(375)](n(740),(function(t){var e=n;1!==this[e(566)]&&(this[e(1212)]=t[e(625)]())})),u.createFullBoxCtor(n(543),(function(t){var e=n;this.name=t.readCString(),this.size-this[e(1182)]-this[e(1009)][e(468)]-1>0&&(this.location=t[e(625)]())})),u[n(232)](n(1112),!0,!1,(function(t){var e=n;this[e(1092)]=t.readString(this[e(297)]-this[e(1182)])[e(1259)](/&/g,e(495))[e(1259)](/</g,e(568))[e(1259)](/>/g,"&gt;")[e(1259)](/"/g,e(680)).replace(/'/g,e(854))})),u[n(232)](n(477),!0,!1,(function(t){var e=n;this.system_id=u[e(211)](t);var s=t[e(909)]();s>0&&(this[e(1125)]=t[e(458)](s))})),u[n(232)](n(1049),!0,!1),u[n(232)]("8974dbce7be74c5184f97148f9882554",!0,!1,(function(t){var e=n;this[e(428)]=t[e(948)](),this[e(343)]=t[e(963)](),this.default_KID=u.parseHex16(t)})),u[n(232)](n(180),!0,!1,(function(t){var e=n;this.fragment_count=t[e(963)](),this[e(305)]=[];for(var s=0;s<this[e(1378)];s++){var i={},r=0,o=0;1===this.version?(r=t[e(197)](),o=t[e(197)]()):(r=t[e(909)](),o=t[e(909)]()),i.absolute_time=r,i[e(716)]=o,this.entries[e(1067)](i)}})),u[n(232)]("6d1d9b0542d544e680e2141daff757b2",!0,!1,(function(t){var e=n;1===this.version?(this[e(1189)]=t[e(197)](),this.duration=t.readUint64()):(this[e(1189)]=t[e(909)](),this[e(1097)]=t[e(909)]())})),u[n(375)](n(1137),(function(t){var e=n;this.graphicsmode=t[e(212)](),this[e(1373)]=t[e(859)](3)})),u[n(375)](n(214),(function(t){var e,s=n;1===this[s(877)]?(this.profile=t[s(963)](),this[s(1338)]=t[s(963)](),e=t[s(963)](),this[s(1326)]=e>>4,this[s(1096)]=e>>1&7,this[s(559)]=1&e,this.colourPrimaries=t.readUint8(),this[s(1332)]=t.readUint8(),this[s(520)]=t.readUint8(),this[s(966)]=t[s(212)](),this[s(397)]=t[s(458)](this[s(966)])):(this[s(992)]=t[s(963)](),this[s(1338)]=t.readUint8(),e=t[s(963)](),this.bitDepth=e>>4&15,this[s(696)]=15&e,e=t[s(963)](),this[s(1096)]=e>>4&15,this[s(1228)]=e>>1&7,this[s(559)]=1&e,this[s(966)]=t[s(212)](),this[s(397)]=t[s(458)](this[s(966)]))})),u[n(958)]("vttC",(function(t){var e=n;this[e(1047)]=t.readString(this[e(297)]-this[e(1182)])})),u[n(375)](n(472),(function(t){var e,s,i=n,r={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(t){this[Am(191)]=t.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(t){var e=Am;this[e(191)]=t[e(212)](),this[e(550)]=16},extract_bits:function(t){var e=Am,s=this.held_bits>>this[e(550)]-t&(1<<t)-1;return this.num_held_bits-=t,s}};if(r[i(707)](t),r.extract_bits(5),this[i(1383)]=r[i(366)](2),this[i(396)]=r.extract_bits(1),this[i(396)]){if(r[i(254)](t),this[i(927)]=r[i(366)](9),this[i(1271)]=r.extract_bits(3),this[i(832)]=r.extract_bits(2),this[i(1119)]=r.extract_bits(2),r[i(707)](t),this.bit_depth_minus8=r[i(366)](3),r[i(366)](5),r[i(254)](t),r[i(366)](2),this[i(1328)]=r.extract_bits(6),this[i(488)]=r.extract_bits(7),this[i(644)]=r.extract_bits(1),this[i(424)]=t.readUint8(),r[i(707)](t),this[i(766)]=r[i(366)](1),this[i(1132)]=r[i(366)](1),this[i(1291)]=new Uint8Array(this[i(1328)]),this.num_bytes_constraint_info){for(e=0;e<this[i(1328)]-1;e++){var o=r[i(366)](6);r.stream_read_1_bytes(t);var a=r[i(366)](2);this[i(1291)][e]=o<<2|a}this[i(1291)][this[i(1328)]-1]=r[i(366)](6)}else r[i(366)](6);if(this[i(1271)]>1){for(r[i(707)](t),this.ptl_sublayer_present_mask=0,s=this.num_sublayers-2;s>=0;--s){var h=r[i(366)](1);this.ptl_sublayer_present_mask|=h<<s}for(s=this[i(1271)];s<=8&&this[i(1271)]>1;++s)r.extract_bits(1);for(this[i(893)]=[],s=this[i(1271)]-2;s>=0;--s)this[i(683)]&1<<s&&(this[i(893)][s]=t[i(963)]())}if(this.ptl_num_sub_profiles=t[i(963)](),this[i(821)]=[],this[i(549)])for(e=0;e<this.ptl_num_sub_profiles;e++)this.general_sub_profile_idc[i(1067)](t[i(909)]());this[i(960)]=t[i(212)](),this[i(1056)]=t[i(212)](),this[i(717)]=t[i(212)]()}this[i(634)]=[];var l=t[i(963)]();for(e=0;e<l;e++){var c=[];this[i(634)][i(1067)](c),r[i(707)](t),c[i(1301)]=r[i(366)](1),r.extract_bits(2),c[i(1350)]=r[i(366)](5);var d=1;for(13!=c[i(1350)]&&12!=c[i(1350)]&&(d=t[i(212)]()),s=0;s<d;s++){var u=t[i(212)]();c[i(1067)]({data:t[i(458)](u),length:u})}}})),u[n(375)](n(933),(function(t){var e=strm.readUint8();this.lengthSizeMinusOne=3&e})),u.SampleEntry.prototype[n(814)]=function(){return!1},u.SampleEntry[n(500)][n(411)]=function(){return!1},u.SampleEntry[n(500)][n(1344)]=function(){return!1},u[n(907)][n(500)].isMetadata=function(){return!1},u[n(907)][n(500)][n(1404)]=function(){return!1},u[n(907)][n(500)][n(888)]=function(){var t=n;return this[t(563)][t(1259)](".","")},u[n(907)][n(500)][n(961)]=function(){return""},u.SampleEntry[n(500)].getHeight=function(){return""},u[n(907)][n(500)][n(834)]=function(){return""},u[n(907)][n(500)][n(346)]=function(){return""},u.SampleEntry[n(500)][n(1194)]=function(){return""},u[n(1355)].prototype[n(814)]=function(){return!0},u[n(1355)][n(500)][n(961)]=function(){return this[n(762)]},u.VisualSampleEntry[n(500)].getHeight=function(){return this[n(930)]},u[n(633)][n(500)].isAudio=function(){return!0},u[n(633)][n(500)][n(834)]=function(){return this[n(295)]},u[n(633)][n(500)].getSampleRate=function(){return this.samplerate},u[n(633)][n(500)][n(1194)]=function(){return this.samplesize},u[n(290)][n(500)][n(1344)]=function(){return!0},u[n(1118)][n(500)][n(756)]=function(){return!0},u.decimalToHex=function(t,e){var s=n,i=Number(t)[s(259)](16);for(e=null==e?e=2:e;i[s(468)]<e;)i="0"+i;return i},u[n(873)][n(500)][n(888)]=u[n(662)].prototype.getCodec=u[n(355)][n(500)].getCodec=u[n(321)].prototype[n(888)]=function(){var t=n,e=u[t(907)].prototype[t(888)][t(176)](this);return this[t(216)]?e+"."+u[t(201)](this[t(216)][t(1081)])+u[t(201)](this.avcC.profile_compatibility)+u.decimalToHex(this.avcC[t(743)]):e},u[n(381)][n(500)].getCodec=u[n(831)][n(500)][n(888)]=function(){var t,e=n,s=u.SampleEntry[e(500)][e(888)][e(176)](this);if(this.hvcC){switch(s+=".",this[e(1216)][e(260)]){case 0:s+="";break;case 1:s+="A";break;case 2:s+="B";break;case 3:s+="C"}s+=this.hvcC[e(488)],s+=".";var i=this.hvcC[e(646)],r=0;for(t=0;t<32&&(r|=1&i,31!=t);t++)r<<=1,i>>=1;s+=u[e(201)](r,0),s+=".",0===this.hvcC[e(644)]?s+="L":s+="H",s+=this[e(1216)][e(424)];var o=!1,a="";for(t=5;t>=0;t--)(this[e(1216)][e(400)][t]||o)&&(a="."+u[e(201)](this[e(1216)][e(400)][t],0)+a,o=!0);s+=a}return s},u.vvc1SampleEntry[n(500)][n(888)]=u[n(1175)].prototype[n(888)]=function(){var t,e=n,s=u[e(907)][e(500)][e(888)][e(176)](this);if(this.vvcC){s+="."+this[e(472)][e(488)],this[e(472)][e(644)]?s+=".H":s+=".L",s+=this.vvcC.general_level_idc;var i="";if(this[e(472)][e(1291)]){var r,o=[],a=0;for(a|=this[e(472)][e(910)]<<7,a|=this[e(472)][e(1211)]<<6,t=0;t<this.vvcC[e(1291)][e(468)];++t)a|=this[e(472)][e(1291)][t]>>2&63,o[e(1067)](a),a&&(r=t),a=this[e(472)][e(1291)][t]>>2&3;if(void 0===r)i=e(967);else{i=".C";var h="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",l=0,c=0;for(t=0;t<=r;++t)for(l=l<<8|o[t],c+=8;c>=5;){i+=h[l>>c-5&31],l&=(1<<(c-=5))-1}c&&(i+=h[31&(l<<=5-c)])}}s+=i}return s},u[n(304)].prototype.getCodec=function(){var t=n,e=u.SampleEntry[t(500)][t(888)][t(176)](this);if(this.esds&&this.esds.esd){var s=this.esds[t(1295)][t(572)](),i=this[t(823)][t(1295)][t(1002)]();return e+"."+u[t(201)](s)+(i?"."+i:"")}return e},u[n(902)][n(500)][n(888)]=function(){var t=n,e=u[t(907)][t(500)][t(888)][t(176)](this);return this.mime_format?e+"."+this[t(183)]:e},u[n(1192)][n(500)][n(888)]=u[n(640)].prototype[n(888)]=function(){var t=n,e=u[t(907)][t(500)].getCodec[t(176)](this),s=this[t(214)].level;0==s&&(s="00");var i=this.vpcC[t(1326)];return 8==i&&(i="08"),e+".0"+this.vpcC.profile+"."+s+"."+i},u[n(389)][n(500)][n(888)]=function(){var t,e=n,s=u[e(907)][e(500)][e(888)][e(176)](this),i=this[e(951)][e(769)];return i<10&&(i="0"+i),2===this[e(951)][e(653)]&&1===this[e(951)][e(567)]?t=1===this[e(951)][e(906)]?"12":"10":this[e(951)].seq_profile<=2&&(t=1===this[e(951)][e(567)]?"10":"08"),s+"."+this.av1C[e(653)]+"."+i+(this[e(951)][e(357)]?"H":"M")+"."+t},u[n(1105)].prototype[n(922)]=function(t,e){var s=n;this[s(297)]+=8,this[s(297)]>l&&(this[s(297)]+=8),this.type===s(334)&&(this[s(297)]+=16),o[s(1269)]("BoxWriter","Writing box "+this[s(563)]+s(535)+this.size+s(1406)+t.getPosition()+(e||"")),this[s(297)]>l?t.writeUint32(1):(this.sizePosition=t[s(482)](),t.writeUint32(this.size)),t.writeString(this.type,null,4),this[s(563)]===s(334)&&t.writeUint8Array(this[s(334)]),this[s(297)]>l&&t[s(367)](this[s(297)])},u[n(522)][n(500)][n(922)]=function(t){var e=n;this.size+=4,u[e(1105)].prototype.writeHeader[e(176)](this,t,e(1062)+this[e(877)]+e(280)+this.flags),t[e(643)](this[e(877)]),t[e(189)](this[e(566)])},u.Box[n(500)][n(1043)]=function(t){var e=n;this[e(563)]===e(577)?this[e(1125)]&&(this.size=this[e(1125)][e(468)],this[e(922)](t),t[e(1248)](this.data)):(this[e(297)]=this[e(1125)]?this.data[e(468)]:0,this.writeHeader(t),this.data&&t[e(1248)](this[e(1125)]))},u[n(838)][n(500)][n(1043)]=function(t){var e=n;this[e(297)]=0,this[e(922)](t);for(var s=0;s<this.boxes[e(468)];s++)this[e(682)][s]&&(this.boxes[s][e(1043)](t),this[e(297)]+=this[e(682)][s][e(297)]);o[e(1269)](e(172),e(1154)+this[e(563)]+e(1199)+this[e(297)]),t[e(536)](this.sizePosition,this.size)},u.TrackReferenceTypeBox[n(500)][n(1043)]=function(t){var e=n;this[e(297)]=4*this[e(664)].length,this.writeHeader(t),t[e(1155)](this.track_ids)},u.avcCBox[n(500)][n(1043)]=function(t){var e,s=n;for(this[s(297)]=7,e=0;e<this[s(710)].length;e++)this[s(297)]+=2+this[s(710)][e].length;for(e=0;e<this[s(1087)][s(468)];e++)this[s(297)]+=2+this.PPS[e][s(468)];for(this[s(1010)]&&(this[s(297)]+=this[s(1010)][s(468)]),this[s(922)](t),t.writeUint8(this[s(460)]),t.writeUint8(this.AVCProfileIndication),t[s(643)](this[s(387)]),t.writeUint8(this[s(743)]),t[s(643)](this.lengthSizeMinusOne+252),t.writeUint8(this[s(710)][s(468)]+224),e=0;e<this[s(710)].length;e++)t[s(327)](this[s(710)][e].length),t[s(1248)](this[s(710)][e][s(846)]);for(t[s(643)](this[s(1087)][s(468)]),e=0;e<this.PPS[s(468)];e++)t[s(327)](this[s(1087)][e].length),t[s(1248)](this.PPS[e][s(846)]);this[s(1010)]&&t[s(1248)](this[s(1010)])},u[n(1124)][n(500)][n(1043)]=function(t){var e,s=n;for(this[s(877)]=0,this.flags=0,this[s(297)]=4+8*this[s(350)][s(468)],this[s(922)](t),t[s(965)](this[s(350)][s(468)]),e=0;e<this.chunk_offsets[s(468)];e++)t[s(367)](this[s(350)][e])},u[n(1101)][n(500)].write=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this.size=20,this[e(922)](t),t[e(267)](this[e(1108)]),t[e(267)](this[e(764)]),t.writeInt32(this[e(784)]),t[e(267)](this[e(517)]),t[e(267)](this[e(331)])},u.cttsBox.prototype.write=function(t){var e,s=n;for(this[s(877)]=0,this.flags=0,this[s(297)]=4+8*this.sample_counts[s(468)],this[s(922)](t),t[s(965)](this[s(718)][s(468)]),e=0;e<this[s(718)][s(468)];e++)t[s(965)](this[s(718)][e]),1===this[s(877)]?t[s(267)](this[s(324)][e]):t[s(965)](this[s(324)][e])},u[n(483)].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=4,this[e(922)](t),t[e(965)](this[e(305)].length);for(var s=0;s<this[e(305)].length;s++)this.entries[s][e(1043)](t),this[e(297)]+=this[e(305)][s][e(297)];o[e(1269)](e(172),e(1154)+this[e(563)]+" with new size "+this[e(297)]),t[e(536)](this[e(1204)],this[e(297)])},u.elngBox[n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this.flags=0,this[e(297)]=this[e(880)][e(468)],this.writeHeader(t),t[e(1354)](this[e(880)])},u.elstBox[n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this.flags=0,this[e(297)]=4+12*this[e(305)].length,this[e(922)](t),t[e(965)](this[e(305)][e(468)]);for(var s=0;s<this.entries.length;s++){var i=this[e(305)][s];t[e(965)](i.segment_duration),t[e(267)](i[e(177)]),t[e(1395)](i[e(681)]),t.writeInt16(i[e(1180)])}},u[n(1272)].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=16+this[e(220)][e(468)]+(this[e(539)][e(468)]+1)+(this[e(1173)][e(468)]+1),this[e(922)](t),t.writeCString(this.scheme_id_uri),t[e(233)](this.value),t[e(965)](this[e(818)]),t[e(965)](this.presentation_time_delta),t.writeUint32(this[e(341)]),t[e(965)](this.id),t[e(1248)](this[e(220)])},u[n(278)][n(500)][n(1043)]=function(t){var e=n;this.size=8+4*this[e(329)][e(468)],this.writeHeader(t),t.writeString(this.major_brand,null,4),t.writeUint32(this[e(399)]);for(var s=0;s<this.compatible_brands[e(468)];s++)t.writeString(this[e(329)][s],null,4)},u.hdlrBox[n(500)][n(1043)]=function(t){var e=n;this.size=20+this[e(1009)][e(468)]+1,this[e(877)]=0,this[e(566)]=0,this[e(922)](t),t[e(965)](0),t[e(1354)](this[e(734)],null,4),t.writeUint32(0),t[e(965)](0),t[e(965)](0),t[e(233)](this[e(1009)])},u.hvcCBox.prototype[n(1043)]=function(t){var e,s,i=n;for(this[i(297)]=23,e=0;e<this[i(634)][i(468)];e++)for(this.size+=3,s=0;s<this.nalu_arrays[e].length;s++)this.size+=2+this.nalu_arrays[e][s][i(1125)][i(468)];for(this[i(922)](t),t[i(643)](this[i(460)]),t[i(643)](this.general_profile_space<<6+this[i(644)]<<5+this[i(488)]),t[i(965)](this[i(646)]),t[i(1248)](this[i(400)]),t[i(643)](this[i(424)]),t.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),t[i(643)](this[i(755)]+252),t.writeUint8(this.chroma_format_idc+252),t[i(643)](this[i(1370)]+248),t[i(643)](this.bit_depth_chroma_minus8+248),t[i(327)](this[i(1198)]),t[i(643)]((this[i(1236)]<<6)+(this.numTemporalLayers<<3)+(this[i(420)]<<2)+this[i(1383)]),t.writeUint8(this.nalu_arrays[i(468)]),e=0;e<this[i(634)][i(468)];e++)for(t[i(643)]((this.nalu_arrays[e][i(1301)]<<7)+this[i(634)][e][i(1350)]),t[i(327)](this.nalu_arrays[e][i(468)]),s=0;s<this[i(634)][e][i(468)];s++)t.writeUint16(this.nalu_arrays[e][s][i(1125)][i(468)]),t.writeUint8Array(this[i(634)][e][s][i(1125)])},u.kindBox.prototype[n(1043)]=function(t){var e=n;this.version=0,this[e(566)]=0,this[e(297)]=this[e(1170)][e(468)]+1+(this[e(1173)].length+1),this[e(922)](t),t[e(233)](this.schemeURI),t[e(233)](this[e(1173)])},u[n(750)].prototype[n(1043)]=function(t){var e=n;this[e(297)]=20,this[e(566)]=0,this[e(877)]=0,this[e(922)](t),t.writeUint32(this[e(1308)]),t[e(965)](this.modification_time),t[e(965)](this[e(818)]),t[e(965)](this[e(1097)]),t[e(327)](this[e(1205)]),t.writeUint16(0)},u[n(862)].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this.size=4,this[e(922)](t),t[e(965)](this.fragment_duration)},u[n(578)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=4,this.writeHeader(t),t[e(965)](this[e(971)])},u[n(476)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=96,this[e(922)](t),t.writeUint32(this[e(1308)]),t.writeUint32(this[e(1260)]),t.writeUint32(this[e(818)]),t[e(965)](this[e(1097)]),t[e(965)](this[e(1210)]),t.writeUint16(this.volume<<8),t[e(327)](0),t.writeUint32(0),t.writeUint32(0),t[e(1155)](this[e(276)]),t[e(965)](0),t.writeUint32(0),t[e(965)](0),t[e(965)](0),t[e(965)](0),t[e(965)](0),t.writeUint32(this[e(575)])},u[n(907)][n(500)][n(922)]=function(t){var e=n;this.size=8,u[e(1105)][e(500)].writeHeader[e(176)](this,t),t.writeUint8(0),t[e(643)](0),t[e(643)](0),t[e(643)](0),t[e(643)](0),t[e(643)](0),t.writeUint16(this[e(1183)])},u[n(907)][n(500)][n(485)]=function(t){for(var e=n,s=0;s<this.boxes[e(468)];s++)this[e(682)][s][e(1043)](t),this[e(297)]+=this[e(682)][s].size;o.debug("BoxWriter",e(1154)+this[e(563)]+e(1199)+this[e(297)]),t[e(536)](this[e(1204)],this[e(297)])},u[n(907)][n(500)][n(1043)]=function(t){var e=n;this[e(922)](t),t[e(1248)](this[e(1125)]),this[e(297)]+=this[e(1125)][e(468)],o[e(1269)](e(172),e(1154)+this[e(563)]+e(1199)+this[e(297)]),t[e(536)](this[e(1204)],this[e(297)])},u[n(1355)][n(500)].write=function(t){var e=n;this[e(922)](t),this[e(297)]+=70,t[e(327)](0),t[e(327)](0),t.writeUint32(0),t[e(965)](0),t.writeUint32(0),t[e(327)](this.width),t[e(327)](this[e(930)]),t[e(965)](this[e(593)]),t[e(965)](this[e(275)]),t[e(965)](0),t[e(327)](this.frame_count),t.writeUint8(Math.min(31,this[e(302)][e(468)])),t[e(1354)](this.compressorname,null,31),t.writeUint16(this[e(624)]),t[e(1395)](-1),this[e(485)](t)},u[n(633)][n(500)][n(1043)]=function(t){var e=n;this.writeHeader(t),this[e(297)]+=20,t[e(965)](0),t[e(965)](0),t[e(327)](this[e(295)]),t[e(327)](this[e(842)]),t[e(327)](0),t[e(327)](0),t.writeUint32(this.samplerate<<16),this.writeFooter(t)},u.stppSampleEntry.prototype[n(1043)]=function(t){var e=n;this[e(922)](t),this[e(297)]+=this[e(423)][e(468)]+1+this[e(638)][e(468)]+1+this.auxiliary_mime_types.length+1,t[e(233)](this[e(423)]),t[e(233)](this.schema_location),t[e(233)](this[e(1191)]),this[e(485)](t)},u[n(360)].prototype[n(1043)]=function(t){var e=n;t[e(1248)](this[e(1125)])},u[n(913)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=1,this[e(566)]=0,this[e(297)]=12+8*this[e(305)][e(468)],this[e(922)](t),t[e(1354)](this[e(1282)],null,4),t[e(965)](this[e(772)]),t[e(965)](this.entries.length);for(var s=0;s<this[e(305)].length;s++){var i=this[e(305)][s];t.writeInt32(i[e(1369)]),t[e(267)](i[e(691)])}},u.sgpdBox[n(500)][n(1043)]=function(t){var e,s,i=n;for(this.flags=0,this.size=12,e=0;e<this[i(305)][i(468)];e++)s=this[i(305)][e],1===this[i(877)]&&(0===this[i(1187)]&&(this[i(297)]+=4),this[i(297)]+=s[i(1125)][i(468)]);for(this.writeHeader(t),t[i(1354)](this.grouping_type,null,4),1===this[i(877)]&&t[i(965)](this[i(1187)]),this[i(877)]>=2&&t[i(965)](this.default_sample_description_index),t[i(965)](this[i(305)][i(468)]),e=0;e<this.entries.length;e++)s=this[i(305)][e],1===this.version&&0===this.default_length&&t[i(965)](s[i(1353)]),s[i(1043)](t)},u[n(895)].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=20+12*this[e(1197)][e(468)],this[e(922)](t),t[e(965)](this.reference_ID),t[e(965)](this[e(818)]),t.writeUint32(this[e(1184)]),t[e(965)](this[e(1286)]),t[e(327)](0),t.writeUint16(this[e(1197)][e(468)]);for(var s=0;s<this[e(1197)][e(468)];s++){var i=this[e(1197)][s];t[e(965)](i[e(939)]<<31|i[e(1381)]),t[e(965)](i[e(955)]),t[e(965)](i[e(890)]<<31|i.SAP_type<<28|i[e(452)])}},u.smhdBox.prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=1,this[e(297)]=4,this[e(922)](t),t.writeUint16(this.balance),t.writeUint16(0)},u.stcoBox[n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=4+4*this.chunk_offsets[e(468)],this[e(922)](t),t.writeUint32(this.chunk_offsets.length),t[e(1155)](this.chunk_offsets)},u.stscBox[n(500)].write=function(t){var e,s=n;for(this.version=0,this[s(566)]=0,this[s(297)]=4+12*this[s(245)].length,this.writeHeader(t),t.writeUint32(this[s(245)][s(468)]),e=0;e<this[s(245)][s(468)];e++)t.writeUint32(this.first_chunk[e]),t[s(965)](this[s(462)][e]),t[s(965)](this[s(692)][e])},u[n(438)][n(500)].write=function(t){var e,s=n;for(this[s(877)]=0,this[s(566)]=0,this[s(297)]=0,this[s(922)](t),t.writeUint32(this[s(305)][s(468)]),this[s(297)]+=4,e=0;e<this.entries[s(468)];e++)this[s(305)][e].write(t),this[s(297)]+=this[s(305)][e][s(297)];o.debug(s(172),"Adjusting box "+this[s(563)]+" with new size "+this[s(297)]),t[s(536)](this[s(1204)],this[s(297)])},u[n(1091)][n(500)].write=function(t){var e,s=n;for(this.version=0,this[s(566)]=0,this[s(297)]=4+8*this[s(218)][s(468)],this[s(922)](t),t.writeUint32(this.shadowed_sample_numbers.length),e=0;e<this[s(218)][s(468)];e++)t.writeUint32(this[s(218)][e]),t[s(965)](this.sync_sample_numbers[e])},u[n(175)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this.flags=0,this[e(297)]=4+4*this.sample_numbers[e(468)],this[e(922)](t),t[e(965)](this.sample_numbers.length),t[e(1155)](this.sample_numbers)},u.stszBox[n(500)][n(1043)]=function(t){var e,s=n,i=!0;if(this[s(877)]=0,this[s(566)]=0,this[s(847)][s(468)]>0)for(e=0;e+1<this[s(847)].length;){if(this[s(847)][e+1]!==this[s(847)][0]){i=!1;break}e++}else i=!1;this[s(297)]=8,!i&&(this[s(297)]+=4*this[s(847)].length),this[s(922)](t),i?t[s(965)](this.sample_sizes[0]):t[s(965)](0),t[s(965)](this[s(847)][s(468)]),!i&&t.writeUint32Array(this[s(847)])},u[n(403)][n(500)][n(1043)]=function(t){var e,s=n;for(this[s(877)]=0,this.flags=0,this[s(297)]=4+8*this.sample_counts[s(468)],this[s(922)](t),t[s(965)](this.sample_counts.length),e=0;e<this[s(718)][s(468)];e++)t.writeUint32(this.sample_counts[e]),t[s(965)](this[s(1039)][e])},u[n(385)].prototype[n(1043)]=function(t){var e=n,s=Math[e(1051)](2,32)-1;this[e(877)]=this[e(1337)]>s?1:0,this[e(566)]=0,this[e(297)]=4,1===this[e(877)]&&(this[e(297)]+=4),this.writeHeader(t),1===this[e(877)]?t.writeUint64(this[e(1337)]):t[e(965)](this[e(1337)])},u[n(474)].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(297)]=4,this.flags&u[e(651)]&&(this.size+=8),this[e(566)]&u.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this[e(566)]&u.TFHD_FLAG_SAMPLE_DUR&&(this[e(297)]+=4),this[e(566)]&u[e(912)]&&(this.size+=4),this[e(566)]&u[e(606)]&&(this[e(297)]+=4),this[e(922)](t),t[e(965)](this[e(760)]),this[e(566)]&u[e(651)]&&t[e(367)](this[e(306)]),this[e(566)]&u[e(741)]&&t[e(965)](this.default_sample_description_index),this[e(566)]&u[e(1032)]&&t.writeUint32(this[e(514)]),this[e(566)]&u.TFHD_FLAG_SAMPLE_SIZE&&t[e(965)](this.default_sample_size),this[e(566)]&u[e(606)]&&t[e(965)](this.default_sample_flags)},u[n(1299)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this.size=80,this[e(922)](t),t[e(965)](this[e(1308)]),t[e(965)](this.modification_time),t.writeUint32(this[e(760)]),t.writeUint32(0),t.writeUint32(this.duration),t.writeUint32(0),t[e(965)](0),t[e(1395)](this[e(1069)]),t.writeInt16(this[e(752)]),t[e(1395)](this[e(796)]<<8),t[e(327)](0),t[e(704)](this[e(276)]),t.writeUint32(this[e(762)]),t.writeUint32(this.height)},u.trexBox[n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=20,this[e(922)](t),t.writeUint32(this.track_id),t.writeUint32(this[e(1019)]),t[e(965)](this[e(514)]),t[e(965)](this[e(1294)]),t[e(965)](this.default_sample_flags)},u[n(1402)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(297)]=4,this.flags&u.TRUN_FLAGS_DATA_OFFSET&&(this[e(297)]+=4),this[e(566)]&u[e(453)]&&(this[e(297)]+=4),this.flags&u[e(242)]&&(this.size+=4*this.sample_duration[e(468)]),this[e(566)]&u.TRUN_FLAGS_SIZE&&(this[e(297)]+=4*this[e(1279)][e(468)]),this[e(566)]&u.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags[e(468)]),this.flags&u[e(347)]&&(this.size+=4*this[e(1368)][e(468)]),this.writeHeader(t),t[e(965)](this[e(1369)]),this[e(566)]&u[e(1253)]&&(this[e(588)]=t[e(482)](),t.writeInt32(this[e(1e3)])),this[e(566)]&u[e(453)]&&t.writeUint32(this[e(1085)]);for(var s=0;s<this[e(1369)];s++)this.flags&u[e(242)]&&t[e(965)](this.sample_duration[s]),this[e(566)]&u[e(371)]&&t[e(965)](this[e(1279)][s]),this[e(566)]&u.TRUN_FLAGS_FLAGS&&t[e(965)](this[e(715)][s]),this[e(566)]&u.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?t[e(965)](this[e(1368)][s]):t[e(267)](this[e(1368)][s]))},u["url Box"].prototype[n(1043)]=function(t){var e=n;this[e(877)]=0,this.location?(this.flags=0,this[e(297)]=this[e(1212)][e(468)]+1):(this[e(566)]=1,this[e(297)]=0),this[e(922)](t),this[e(1212)]&&t[e(233)](this.location)},u[n(1017)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this[e(566)]=0,this[e(297)]=this[e(1009)].length+1+(this[e(1212)]?this[e(1212)][e(468)]+1:0),this.writeHeader(t),t[e(233)](this[e(1009)]),this[e(1212)]&&t[e(233)](this[e(1212)])},u[n(225)][n(500)][n(1043)]=function(t){var e=n;this[e(877)]=0,this.flags=1,this[e(297)]=8,this[e(922)](t),t.writeUint16(this[e(353)]),t.writeUint16Array(this[e(1373)])},u[n(561)][n(500)][n(1090)]=function(t){var e,s,i,r=n;for(i=0,e=0;e<this[r(718)].length;e++)for(s=0;s<this.sample_counts[e];s++)t[i].pts=t[i][r(1360)]+this.sample_offsets[e],i++},u.sttsBox[n(500)][n(1090)]=function(t){var e,s,i,r=n;for(i=0,e=0;e<this[r(718)][r(468)];e++)for(s=0;s<this[r(718)][e];s++)0===i?t[i][r(1360)]=0:t[i].dts=t[i-1].dts+this[r(1039)][e],i++},u[n(785)][n(500)][n(1090)]=function(t){var e,s=n;for(e=0;e<this[s(350)][s(468)];e++)t[e][s(1169)]=this.chunk_offsets[e]},u[n(503)][n(500)][n(1090)]=function(t){var e,s,i,r,o,a=n;for(r=0,o=0,e=0;e<this[a(245)][a(468)];e++)for(s=0;s<(e+1<this.first_chunk[a(468)]?this[a(245)][e+1]:1/0);s++)for(o++,i=0;i<this[a(462)][e];i++){if(!t[r])return;t[r][a(268)]=this[a(692)][e],t[r][a(1162)]=o,r++}},u[n(200)][n(500)][n(1090)]=function(t){var e,s=n;for(e=0;e<this[s(847)][s(468)];e++)t[e].size=this[s(847)][e]},u.DIFF_BOXES_PROP_NAMES=[n(682),n(305),n(1197),n(911),"items",n(1312),n(1380),n(441),n(524),n(1289),"seekLists","seekPoints",n(1295),n(920)],u[n(1185)]=[n(329),n(276),n(1373),n(718),n(718),n(1039),n(245),n(462),"sample_sizes",n(350),"sample_offsets",n(692),n(1333)],u[n(1233)]=function(t,e){var s,i=n;if(t&&!e)return!1;for(s in t)if(!(u[i(579)][i(281)](s)>-1||t[s]instanceof u[i(1105)]||e[s]instanceof u[i(1105)]||typeof t[s]===i(240)||typeof e[s]===i(240)||"function"==typeof t[s]||typeof e[s]===i(1313)||t[i(1306)]&&t[i(1306)][i(281)](s[i(837)](0,4))>-1||e.subBoxNames&&e[i(1306)].indexOf(s[i(837)](0,4))>-1||s===i(1125)||s===i(251)||"size"===s||s===i(1308)||s===i(1260)||u.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(s)>-1||t[s]===e[s]))return!1;return!0},u[n(1117)]=function(t,e){var s=n;if(!u[s(1233)](t,e))return!1;for(var i=0;i<u.DIFF_BOXES_PROP_NAMES[s(468)];i++){var r=u[s(579)][i];if(t[r]&&e[r]&&!u[s(1117)](t[r],e[r]))return!1}return!0};var m=function(){};m[n(500)].parseSample=function(t){var e,s,i=n,r=new a(t[i(284)]);for(e=[];!r[i(1104)]();)(s=u.parseOneBox(r,!1)).code===u.OK&&"vttc"===s[i(1300)][i(563)]&&e.push(s[i(1300)]);return e},m.prototype[n(1341)]=function(t,e,s){var i=n;function r(t,e,s){var i=Am;return s=s||"0",(t+="")[i(468)]>=e?t:new Array(e-t[i(468)]+1).join(s)+t}function o(t){var e=Am,s=Math[e(841)](t/3600),i=Math[e(841)]((t-3600*s)/60),n=Math[e(841)](t-3600*s-60*i),o=Math[e(841)](1e3*(t-3600*s-60*i-n));return r(s,2)+":"+r(i,2)+":"+r(n,2)+"."+r(o,3)}for(var a=this[i(1250)](s),h="",l=0;l<a[i(468)];l++){var c=a[l];h+=o(t)+i(686)+o(e)+"\r\n",h+=c[i(684)].text}return h};var g=function(){};g[n(500)][n(1250)]=function(t){var e,s=n,i={};i.resources=[];var r=new a(t[s(1125)][s(284)]);if(t[s(911)]&&0!==t.subsamples[s(468)]){if(i.documentString=r[s(863)](t[s(911)][0][s(297)]),t.subsamples[s(468)]>1)for(e=1;e<t[s(911)][s(468)];e++)i[s(1230)][e]=r[s(458)](t[s(911)][e][s(297)])}else i.documentString=r[s(863)](t[s(1125)][s(468)]);return typeof DOMParser!==s(240)&&(i[s(193)]=(new DOMParser)[s(239)](i.documentString,s(1071))),i};var y=function(){};y[n(500)][n(1250)]=function(t){var e=n;return new a(t[e(1125)][e(284)]).readString(t[e(1125)][e(468)])},y.prototype[n(969)]=function(t){var e=n,s=new a(t[e(284)]);return s.readUint32(),s[e(625)]()},e[n(445)]=g,e[n(1176)]=y;var A=function(t){var e=n;this[e(1287)]=t||new c,this[e(682)]=[],this[e(1251)]=[],this[e(964)]=[],this[e(205)]=!1,this[e(1407)]=!1,this[e(516)]=null,this.moovStartSent=!1,this.onReady=null,this[e(628)]=!1,this.onSegment=null,this[e(1357)]=null,this.onError=null,this.sampleListBuilt=!1,this[e(555)]=[],this[e(569)]=[],this[e(213)]=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this[e(256)]=null,this[e(439)]=!1};A.prototype.destroy=function(){var t=n;this.stream&&(this[t(1287)][t(356)](),this.stream=null),this[t(682)]=[],this[t(1251)]=[],this[t(964)]=[],this[t(205)]=!1,this.moovStartFound=!1,this.onMoovStart=null,this[t(354)]=!1,this.onReady=null,this[t(628)]=!1,this[t(296)]=null,this[t(1357)]=null,this[t(330)]=null,this.sampleListBuilt=!1,this[t(555)]=[],this.extractedTracks=[],this[t(213)]=!1,this[t(493)]=!1,this[t(248)]=0,this[t(925)]=!1,this[t(256)]=null,this[t(439)]=!1,this[t(359)]=null,this.ftyp=null,this[t(266)]=[],this[t(1158)]=[]},A.prototype[n(1249)]=function(t,e,s){var i=n,r=this[i(931)](t);if(r){var o={};this.fragmentedTracks.push(o),o.id=t,o[i(190)]=e,o[i(224)]=r,r.nextSample=0,o[i(184)]=null,o[i(529)]=1e3,o[i(463)]=!0,s&&(s[i(712)]&&(o.nb_samples=s[i(712)]),s[i(463)]&&(o.rapAlignement=s[i(463)]))}},A.prototype[n(486)]=function(t){for(var e=n,s=-1,i=0;i<this[e(555)][e(468)];i++){this.fragmentedTracks[i].id==t&&(s=i)}s>-1&&this.fragmentedTracks[e(978)](s,1)},A[n(500)].setExtractionOptions=function(t,e,s){var i=n,r=this.getTrackById(t);if(r){var o={};this[i(569)][i(1067)](o),o.id=t,o[i(190)]=e,o[i(224)]=r,r[i(584)]=0,o[i(529)]=1e3,o[i(748)]=[],s&&s[i(712)]&&(o[i(529)]=s[i(712)])}},A[n(500)].unsetExtractionOptions=function(t){for(var e=n,s=-1,i=0;i<this.extractedTracks[e(468)];i++){this.extractedTracks[i].id==t&&(s=i)}s>-1&&this[e(569)][e(978)](s,1)},A[n(500)].parse=function(){var t,e,s=n;if(!this[s(449)]||this.restoreParsePosition())for(;;){if(this[s(605)]&&this.hasIncompleteMdat()){if(this[s(1200)]())continue;return}if(this[s(1098)]&&this[s(1098)](),(t=u[s(1334)](this[s(1287)],false)).code===u[s(198)]){if(this[s(1240)]){if(this.processIncompleteBox(t))continue;return}return}var i;switch(i="uuid"!==(e=t[s(1300)]).type?e[s(563)]:e[s(334)],this[s(682)].push(e),i){case s(577):this.mdats.push(e);break;case"moof":this[s(964)][s(1067)](e);break;case s(359):this[s(1407)]=!0,0===this[s(1251)][s(468)]&&(this.isProgressive=!0);default:this[i],this[i]=e}this[s(1142)]&&this.updateUsedBytes(e,t)}},A[n(500)][n(294)]=function(t){var e=n;if(null==t)throw e(234);if(void 0===t[e(952)])throw e(697);return 0===t[e(1149)]?(this.stream[e(1314)](),!1):(t[e(1073)]=0,this[e(1287)].insertBuffer(t),this[e(1287)][e(1314)](),!!this[e(1287)][e(562)]())},A.prototype[n(471)]=function(t,e){var s,i=n;if(this.checkBuffer(t))return this[i(557)](),this[i(1407)]&&!this[i(354)]&&(this[i(354)]=!0,this[i(516)]&&this[i(516)]()),this[i(359)]?(!this[i(1040)]&&(this[i(507)](),this[i(1040)]=!0),this[i(1025)](),this[i(1135)]&&!this[i(628)]&&(this[i(628)]=!0,this[i(1135)](this[i(570)]())),this[i(860)](e),this[i(1405)]?(s=this[i(1405)],this.nextSeekPosition=void 0):s=this[i(827)],this[i(1287)][i(1095)]&&(s=this[i(1287)][i(1095)](s))):s=this[i(827)]?this.nextParsePosition:0,this[i(252)]&&this.onSidx&&!this[i(439)]&&(this[i(256)](this[i(252)]),this[i(439)]=!0),this[i(1374)]&&(this[i(1322)]&&!this.itemListBuilt&&(this.flattenItemInfo(),this[i(925)]=!0),this[i(872)]&&this[i(872)](this[i(867)])),this.stream[i(630)]&&(this[i(1287)][i(1314)](),this[i(1287)].cleanBuffers(),this[i(1287)][i(1314)](!0)),s},A[n(500)].getInfo=function(){var t,e,s,i,r,o,a=n,h={},l=new Date(a(934))[a(307)]();if(this[a(359)])for(h.hasMoov=!0,h[a(1097)]=this[a(359)][a(918)][a(1097)],h[a(818)]=this[a(359)][a(918)][a(818)],h[a(322)]=null!=this.moov[a(822)],h[a(322)]&&this.moov[a(822)].mehd&&(h[a(1033)]=this[a(359)].mvex[a(850)][a(1033)]),h[a(205)]=this[a(205)],h.hasIOD=null!=this[a(359)][a(1034)],h.brands=[],h[a(1046)][a(1067)](this[a(745)][a(767)]),h[a(1046)]=h.brands.concat(this[a(745)][a(329)]),h[a(1311)]=new Date(l+1e3*this[a(359)].mvhd[a(1308)]),h[a(459)]=new Date(l+1e3*this[a(359)][a(918)][a(1260)]),h[a(287)]=[],h.audioTracks=[],h.videoTracks=[],h.subtitleTracks=[],h[a(1152)]=[],h[a(393)]=[],h[a(1120)]=[],t=0;t<this.moov.traks[a(468)];t++){if(o=(s=this.moov[a(591)][t])[a(617)][a(247)][a(983)][a(629)][a(305)][0],i={},h[a(287)].push(i),i.id=s.tkhd.track_id,i.name=s[a(617)][a(786)].name,i[a(1197)]=[],s[a(845)])for(e=0;e<s[a(845)].boxes[a(468)];e++)r={},i[a(1197)][a(1067)](r),r[a(563)]=s[a(845)][a(682)][e][a(563)],r[a(664)]=s.tref[a(682)][e][a(664)];s.edts&&(i[a(540)]=s[a(1161)][a(763)][a(305)]),i[a(1311)]=new Date(l+1e3*s.tkhd.creation_time),i[a(459)]=new Date(l+1e3*s[a(1126)].modification_time),i[a(335)]=s[a(1126)][a(1097)],i[a(1258)]=h[a(818)],i.layer=s[a(1126)][a(1069)],i[a(752)]=s[a(1126)].alternate_group,i[a(796)]=s[a(1126)][a(796)],i.matrix=s[a(1126)].matrix,i[a(383)]=s[a(1126)][a(762)]/65536,i[a(855)]=s.tkhd[a(930)]/65536,i[a(818)]=s[a(617)][a(273)][a(818)],i.cts_shift=s[a(617)][a(247)][a(983)][a(380)],i[a(1097)]=s.mdia[a(273)][a(1097)],i[a(677)]=s[a(677)],i.codec=o[a(888)](),i.kind=s[a(1107)]&&s[a(1107)][a(1321)][a(468)]?s[a(1107)][a(1321)][0]:{schemeURI:"",value:""},i[a(1205)]=s[a(617)][a(817)]?s[a(617)][a(817)].extended_language:s.mdia[a(273)][a(937)],i.nb_samples=s[a(748)][a(468)],i[a(297)]=s[a(959)],i[a(417)]=8*i.size*i[a(818)]/i[a(677)],o[a(411)]()?(i.type="audio",h[a(858)][a(1067)](i),i.audio={},i.audio[a(1005)]=o.getSampleRate(),i.audio[a(295)]=o[a(834)](),i[a(443)][a(1279)]=o.getSampleSize()):o.isVideo()?(i[a(563)]="video",h[a(991)].push(i),i[a(1396)]={},i[a(1396)][a(762)]=o[a(961)](),i[a(1396)].height=o[a(1128)]()):o[a(1344)]()?(i[a(563)]=a(928),h[a(1008)][a(1067)](i)):o[a(1404)]()?(i[a(563)]=a(274),h[a(393)][a(1067)](i)):o[a(756)]()?(i[a(563)]=a(274),h[a(1152)][a(1067)](i)):(i[a(563)]=a(274),h[a(1120)][a(1067)](i))}else h[a(469)]=!1;if(h[a(410)]="",h[a(469)]&&h[a(287)]){for(h.videoTracks&&h.videoTracks[a(468)]>0?h[a(410)]+=a(431):h.audioTracks&&h.audioTracks.length>0?h.mime+=a(879):h[a(410)]+=a(386),t=0;t<h[a(287)][a(468)];t++)0!==t&&(h[a(410)]+=","),h[a(410)]+=h.tracks[t][a(994)];h.mime+='"; profiles="',h[a(410)]+=this[a(745)][a(329)][a(1247)](),h[a(410)]+='"'}return h},A.prototype[n(368)]=function(t){var e=n;t&&(this[e(1405)]?this[e(1405)]=Math[e(702)](t[e(1169)]+t.alreadyRead,this[e(1405)]):this[e(1405)]=t[e(1169)]+t[e(668)])},A[n(500)].processSamples=function(t){var e,s,i=n;if(this[i(493)]){if(this[i(213)]&&null!==this[i(296)])for(e=0;e<this[i(555)].length;e++){var r=this[i(555)][e];for(s=r.trak;s.nextSample<s[i(748)][i(468)]&&this.sampleProcessingStarted;){o[i(1269)](i(864),"Creating media fragment on track #"+r.id+i(501)+s[i(584)]);var a=this[i(647)](r.id,s.nextSample,r[i(184)]);if(!a)break;if(r[i(184)]=a,s[i(584)]++,(s[i(584)]%r[i(529)]==0||t||s[i(584)]>=s[i(748)].length)&&(this.onSegment&&this[i(296)](r.id,r[i(190)],r[i(184)][i(284)],s[i(584)],t||s.nextSample>=s.samples.length),r[i(184)]=null,r!==this.fragmentedTracks[e]))break}}if(null!==this[i(1357)])for(e=0;e<this.extractedTracks[i(468)];e++){var h=this.extractedTracks[e];for(s=h[i(224)];s[i(584)]<s[i(748)].length&&this.sampleProcessingStarted;){o[i(1269)]("ISOFile",i(1336)+h.id+" sample #"+s[i(584)]);var l=this[i(1188)](s,s[i(584)]);if(!l){this.setNextSeekPositionFromSample(s[i(748)][s[i(584)]]);break}if(s[i(584)]++,h[i(748)][i(1067)](l),(s[i(584)]%h.nb_samples==0||s[i(584)]>=s[i(748)][i(468)])&&(o[i(1269)](i(864),i(173)+h.id+" for sample "+s.nextSample),this[i(1357)]&&this[i(1357)](h.id,h.user,h[i(748)]),h[i(748)]=[],h!==this[i(569)][e]))break}}}},A[n(500)][n(1114)]=function(t){var e=this[n(597)](t,!0);return e.length?e[0]:null},A.prototype[n(597)]=function(t,e){var s=n,i=[];return A[s(835)][s(176)](this,t,i,e),i},A[n(835)]=function(t,e,s){var i=n;for(var r in this[i(563)]&&this[i(563)]==t&&e[i(1067)](this),this[i(682)]){if(e[i(468)]&&s)return;A[i(835)][i(176)](this.boxes[r],t,e,s)}},A[n(500)][n(1079)]=function(t){var e=n,s=this[e(931)](t);return s?s[e(748)]:void 0},A.prototype[n(773)]=function(t,e){var s=n,i=this.getTrackById(t);return this[s(1188)](i,e)},A.prototype[n(645)]=function(t,e,s){var i=n,r=this.getTrackById(t);r[i(759)]||(r[i(759)]=0);for(var o=r[i(759)];o<e;o++)this[i(1061)](r,o);r[i(759)]=e,s&&(this[i(682)]=[],this[i(1251)]=[],this[i(964)]=[],this[i(1166)]=0)},A[n(500)].removeUsedSamples=function(t){var e=n,s=this.getTrackById(t);const i=s[e(748)],r=i[i[e(468)]-1];r.data=null,r.description=null,r.alreadyRead=0,s[e(748)]=[],s[e(748)][e(1067)](r),s[e(584)]=s[e(748)].length,this.boxes=[],this[e(1251)]=[],this[e(964)]=[],this.lastMoofIndex=0},A[n(500)].start=function(){var t=n;this.sampleProcessingStarted=!0,this[t(860)](!1)},A[n(500)][n(174)]=function(){this[n(493)]=!1},A[n(500)][n(1363)]=function(){var t=n;this[t(1025)](),this[t(860)](!0),this[t(1287)][t(630)](),this[t(1287)].logBufferLevel(!0)},A[n(500)][n(1045)]=function(t,e,s){var i,r,o,a=n,h=0,l=0;if(0===s[a(748)][a(468)])return{offset:0,time:0};for(i=0;i<s[a(748)].length;i++){if(r=s[a(748)][i],0===i)l=0,o=r[a(818)];else if(r.cts>t*r[a(818)]){l=i-1;break}e&&r[a(656)]&&(h=i)}for(e&&(l=h),t=s[a(748)][l][a(1209)],s[a(584)]=l;s[a(748)][l].alreadyRead===s[a(748)][l][a(297)]&&s[a(748)][l+1];)l++;return{offset:s[a(748)][l].offset+s[a(748)][l][a(668)],time:t/o}},A.prototype[n(1134)]=function(t){var e,s=n;return t.samples?((e=t[s(748)][t[s(748)][s(468)]-1]).cts+e[s(1097)])/e[s(818)]:1/0},A[n(500)].seek=function(t,e){var s,i,r,o=n,a=this.moov,h={offset:1/0,time:1/0};if(this[o(359)]){for(r=0;r<a[o(591)].length;r++)s=a.traks[r],t>this.getTrackDuration(s)||((i=this.seekTrack(t,e,s))[o(1169)]<h[o(1169)]&&(h[o(1169)]=i.offset),i.time<h[o(714)]&&(h[o(714)]=i[o(714)]));return h[o(1169)]===1/0?h={offset:this.nextParsePosition,time:0}:h[o(1169)]=this[o(1287)].getEndFilePositionAfter(h[o(1169)]),h}throw o(1123)},A.prototype.equal=function(t){for(var e=n,s=0;s<this[e(682)].length&&s<t[e(682)].length;){var i=this[e(682)][s],r=t[e(682)][s];if(!u[e(1117)](i,r))return!1;s++}return!0},"undefined"!==n(1238)&&(e[n(864)]=A),A[n(500)][n(576)]=0,A[n(500)][n(1021)]=null,A[n(500)].nextParsePosition=0,A[n(500)][n(515)]=!1,A[n(500)][n(1240)]=function(t){var e,s=n;return"mdat"===t[s(563)]?(e=new(u[t.type+s(1105)])(t[s(297)]),this[s(1021)]=e,this[s(682)][s(1067)](e),this[s(1251)][s(1067)](e),e.start=t[s(251)],e[s(1182)]=t[s(1182)],this.stream[s(779)](e.hdr_size),this[s(576)]=e[s(251)]+e[s(297)],this[s(1287)][s(900)](e[s(251)]+e[s(297)],!1,this[s(515)])?(this[s(1021)]=null,!0):(this[s(1407)]?this.nextParsePosition=this[s(1287)].findEndContiguousBuf():this[s(827)]=e[s(251)]+e.size,!1)):(t[s(563)]===s(359)&&(this[s(1407)]=!0,0===this.mdats[s(468)]&&(this.isProgressive=!0)),!!this[s(1287)][s(679)]&&this[s(1287)].mergeNextBuffer()?(this[s(827)]=this[s(1287)][s(856)](),!0):(t[s(563)]?this[s(1407)]?this.nextParsePosition=this[s(1287)].getEndPosition():this[s(827)]=this[s(1287)][s(482)]()+t.size:this[s(827)]=this[s(1287)].getEndPosition(),!1))},A.prototype[n(605)]=function(){return null!==this[n(1021)]},A[n(500)][n(1200)]=function(){var t,e=n;return t=this[e(1021)],this[e(1287)][e(900)](t[e(251)]+t[e(297)],!1,this[e(515)])?(o[e(1269)](e(864),"Found 'mdat' end in buffered data"),this[e(1021)]=null,!0):(this[e(827)]=this[e(1287)][e(1361)](),!1)},A.prototype[n(449)]=function(){var t=n;return this[t(1287)][t(900)](this[t(576)],!0,this.discardMdatData)},A[n(500)].saveParsePosition=function(){var t=n;this[t(576)]=this[t(1287)][t(482)]()},A[n(500)][n(1142)]=function(t,e){var s=n;this.stream[s(779)]&&("mdat"===t[s(563)]?(this[s(1287)][s(779)](t[s(1182)]),this.discardMdatData&&this.stream[s(779)](t.size-t[s(1182)])):this[s(1287)][s(779)](t[s(297)]))},A[n(500)][n(905)]=u[n(1105)][n(500)].add,A.prototype[n(589)]=u[n(1105)][n(500)][n(589)],A.prototype.init=function(t){var e=n,s=t||{};this[e(905)](e(745))[e(1227)](e(767),s.brands&&s[e(1046)][0]||e(336))[e(1227)](e(399),0).set(e(329),s[e(1046)]||[e(336)]);var i=this[e(905)](e(359));return i[e(905)](e(918)).set(e(818),s.timescale||600)[e(1227)]("rate",s[e(1210)]||65536)[e(1227)](e(1308),0)[e(1227)](e(1260),0)[e(1227)](e(1097),s[e(1097)]||0)[e(1227)](e(796),s[e(762)]?0:256)[e(1227)]("matrix",[65536,0,0,0,65536,0,0,0,1073741824])[e(1227)](e(575),1),i.add(e(822)),this},A.prototype[n(510)]=function(t){var e=n;!this[e(359)]&&this[e(1109)](t);var s=t||{};s[e(762)]=s.width||320,s[e(930)]=s[e(930)]||320,s.id=s.id||this.moov[e(918)][e(575)],s[e(563)]=s[e(563)]||"avc1";var i=this.moov[e(905)](e(224));this[e(359)].mvhd[e(575)]=s.id+1,i[e(905)]("tkhd")[e(1227)](e(566),u[e(924)]|u[e(1143)]|u[e(758)])[e(1227)](e(1308),0)[e(1227)]("modification_time",0).set(e(760),s.id)[e(1227)](e(1097),s[e(1097)]||0).set(e(1069),s[e(1069)]||0)[e(1227)](e(752),0).set("volume",1)[e(1227)](e(276),[0,0,0,0,0,0,0,0,0]).set(e(762),s[e(762)]<<16)[e(1227)]("height",s[e(930)]<<16);var r=i.add(e(617));r[e(905)]("mdhd")[e(1227)]("creation_time",0)[e(1227)]("modification_time",0)[e(1227)]("timescale",s.timescale||1)[e(1227)](e(1097),s[e(398)]||0)[e(1227)](e(1205),s[e(1205)]||"und"),r[e(905)]("hdlr")[e(1227)]("handler",s[e(786)]||e(1359))[e(1227)](e(1009),s[e(1009)]||e(1403)),r[e(905)](e(817))[e(1227)](e(880),s[e(1205)]||e(1298));var o=r.add(e(247));if(void 0!==u[s[e(563)]+e(907)]){var h=new(u[s[e(563)]+e(907)]);h[e(1183)]=1;var l="";for(var c in u[e(313)])for(var d=u.sampleEntryCodes[c],p=0;p<d[e(468)];p++)if(d.indexOf(s.type)>-1){l=c;break}switch(l){case e(454):if(o.add("vmhd").set(e(353),0)[e(1227)](e(1373),[0,0,0]),h[e(1227)](e(762),s.width)[e(1227)](e(930),s[e(930)])[e(1227)](e(593),72<<16)[e(1227)](e(275),72<<16)[e(1227)](e(487),1)[e(1227)](e(302),s[e(563)]+" Compressor")[e(1227)](e(624),24),s[e(1060)]){var f=new(u[e(810)]);f[e(557)](new a(s[e(1060)])),h[e(589)](f)}else if(s.hevcDecoderConfigRecord){var m=new(u[e(1206)]);m[e(557)](new a(s.hevcDecoderConfigRecord)),h.addBox(m)}break;case e(194):o.add(e(351))[e(1227)]("balance",s[e(337)]||0),h[e(1227)](e(295),s[e(295)]||2)[e(1227)](e(842),s[e(842)]||16)[e(1227)](e(262),s[e(262)]||65536);break;case e(806):o[e(905)]("hmhd");break;case e(592):if(o[e(905)]("sthd"),s[e(563)]===e(882))h[e(1227)](e(423),s[e(423)]||"nonamespace")[e(1227)](e(638),s[e(638)]||"")[e(1227)](e(1191),s.auxiliary_mime_types||"");break;case e(793):case e(219):o[e(905)](e(1066));break;default:o.add(e(1066))}s[e(1218)]&&h[e(589)](s[e(1218)]),s[e(826)]&&s[e(826)][e(1156)]((function(t){h[e(589)](t)})),o[e(905)](e(1083))[e(905)](e(1285))[e(919)]((new(u[e(1382)]))[e(1227)](e(566),1));var g=o[e(905)](e(983));return g.add(e(629))[e(919)](h),g[e(905)](e(419))[e(1227)]("sample_counts",[])[e(1227)](e(1039),[]),g[e(905)](e(828))[e(1227)](e(245),[])[e(1227)](e(462),[])[e(1227)](e(692),[]),g.add(e(318))[e(1227)](e(350),[]),g[e(905)](e(513))[e(1227)]("sample_sizes",[]),this.moov[e(822)].add(e(695)).set(e(760),s.id).set(e(1019),s[e(1019)]||1)[e(1227)](e(514),s[e(514)]||0).set("default_sample_size",s[e(1294)]||0).set("default_sample_flags",s[e(947)]||0),this[e(1007)](i),s.id}},u[n(1105)][n(500)][n(1190)]=function(t){var e=n,s=t||new h;s.endianness=h[e(1348)],this[e(1043)](s)},A[n(500)][n(269)]=function(t,e,s){var i=n,r=s||{},o={},a=this[i(931)](t);if(null!==a){o[i(719)]=a.samples.length,o.track_id=a[i(1126)][i(760)],o[i(818)]=a[i(617)][i(273)][i(818)],o[i(268)]=r.sample_description_index?r[i(692)]-1:0,o[i(1218)]=a[i(617)][i(247)][i(983)].stsd.entries[o[i(268)]],o[i(1125)]=e,o[i(297)]=e[i(1149)],o[i(668)]=o[i(297)],o.duration=r[i(1097)]||1,o[i(1209)]=r[i(1209)]||0,o[i(1360)]=r[i(1360)]||0,o.is_sync=r[i(656)]||!1,o[i(816)]=r[i(816)]||0,o.depends_on=r.depends_on||0,o[i(976)]=r[i(976)]||0,o[i(607)]=r[i(607)]||0,o[i(1385)]=r[i(1385)]||0,o.offset=0,o[i(911)]=r.subsamples,a[i(748)][i(1067)](o),a[i(959)]+=o.size,a[i(677)]+=o.duration,void 0===a.first_dts&&(a[i(1376)]=r[i(1360)]),this[i(860)]();var h=this[i(195)](o);return this.addBox(h),h.computeSize(),h.trafs[0][i(1288)][0][i(1e3)]=h[i(297)]+8,this[i(905)](i(577))[i(1125)]=new Uint8Array(e),o}},A[n(500)][n(195)]=function(t){var e=n,s=0;s=t.is_sync?1<<25:65536;var i=new(u[e(923)]);i[e(905)](e(1397))[e(1227)](e(971),this[e(248)]),this[e(248)]++;var r=i[e(905)](e(378)),o=this[e(931)](t[e(760)]);return r[e(905)](e(409)).set(e(760),t.track_id)[e(1227)]("flags",u[e(1317)]),r[e(905)](e(464)).set("baseMediaDecodeTime",t.dts-(o[e(1376)]||0)),r[e(905)]("trun")[e(1227)](e(566),u[e(1253)]|u.TRUN_FLAGS_DURATION|u.TRUN_FLAGS_SIZE|u.TRUN_FLAGS_FLAGS|u[e(347)])[e(1227)]("data_offset",0)[e(1227)]("first_sample_flags",0)[e(1227)](e(1369),1)[e(1227)]("sample_duration",[t.duration])[e(1227)](e(1279),[t[e(297)]]).set(e(715),[s])[e(1227)]("sample_composition_time_offset",[t[e(1209)]-t[e(1360)]]),i},A[n(500)][n(1166)]=0,A[n(500)][n(1278)]=0,A[n(500)].resetTables=function(){var t,e,s,i,r,o,a=n;for(this[a(532)]=this.moov.mvhd[a(1097)],this[a(359)][a(918)][a(1097)]=0,t=0;t<this[a(359)][a(591)][a(468)];t++){(e=this[a(359)][a(591)][t]).tkhd[a(1097)]=0,e[a(617)][a(273)].duration=0,(e[a(617)][a(247)][a(983)][a(318)]||e[a(617)][a(247)][a(983)][a(996)]).chunk_offsets=[],(s=e.mdia[a(247)][a(983)].stsc)[a(245)]=[],s[a(462)]=[],s.sample_description_index=[],(e[a(617)][a(247)][a(983)][a(513)]||e[a(617)][a(247)][a(983)][a(1387)])[a(847)]=[],(i=e[a(617)][a(247)][a(983)][a(419)]).sample_counts=[],i.sample_deltas=[],(r=e[a(617)][a(247)][a(983)][a(1110)])&&(r[a(718)]=[],r[a(324)]=[]),o=e[a(617)][a(247)].stbl[a(528)];var h=e[a(617)][a(247)].stbl[a(682)].indexOf(o);-1!=h&&(e[a(617)][a(247)][a(983)].boxes[h]=null)}},A[n(246)]=function(t,e,s,i,r){var o,a,h,l,c=n;function d(t,e,s){var i=Am;this[i(1282)]=t,this[i(772)]=e,this[i(580)]=s,this[i(1270)]=-1,this.entry_index=-1}for(e&&(e.sample_groups_info=[]),!t[c(926)]&&(t.sample_groups_info=[]),a=0;a<s[c(468)];a++){for(l=s[a][c(1282)]+"/"+s[a][c(772)],h=new d(s[a].grouping_type,s[a][c(772)],s[a]),e&&(e[c(926)][l]=h),!t[c(926)][l]&&(t[c(926)][l]=h),o=0;o<i.length;o++)i[o].grouping_type===s[a][c(1282)]&&(h[c(1218)]=i[o],h[c(1218)][c(1171)]=!0);if(r)for(o=0;o<r.length;o++)r[o][c(1282)]===s[a][c(1282)]&&(h[c(689)]=r[o],h[c(689)][c(1171)]=!0,h.is_fragment=!0)}if(e){if(r)for(a=0;a<r[c(468)];a++)!r[a][c(1171)]&&r[a][c(877)]>=2&&(l=r[a][c(1282)]+"/0",(h=new d(r[a][c(1282)],0)).is_fragment=!0,!e[c(926)][l]&&(e[c(926)][l]=h))}else for(a=0;a<i[c(468)];a++)!i[a].used&&i[a][c(877)]>=2&&(l=i[a].grouping_type+"/0",h=new d(i[a][c(1282)],0),!t[c(926)][l]&&(t[c(926)][l]=h))},A[n(917)]=function(t,e,s,i){var r,o,a=n;for(r in e[a(944)]=[],i){var h;if(e[a(944)][r]={},e[a(944)][r][a(1282)]=i[r].grouping_type,e[a(944)][r][a(772)]=i[r][a(772)],s>=i[r][a(1270)]&&(i[r][a(1270)]<0&&(i[r][a(1270)]=0),i[r].entry_index++,i[r].entry_index<=i[r].sbgp[a(305)][a(468)]-1&&(i[r][a(1270)]+=i[r][a(580)].entries[i[r][a(202)]][a(1369)])),i[r][a(202)]<=i[r][a(580)][a(305)][a(468)]-1?e[a(944)][r][a(691)]=i[r][a(580)][a(305)][i[r][a(202)]][a(691)]:e[a(944)][r].group_description_index=-1,0!==e[a(944)][r][a(691)])h=i[r].fragment_description?i[r][a(689)]:i[r].description,e.sample_groups[r].group_description_index>0?(o=e[a(944)][r].group_description_index>65535?(e[a(944)][r][a(691)]>>16)-1:e[a(944)][r].group_description_index-1,h&&o>=0&&(e[a(944)][r][a(1218)]=h.entries[o])):h&&h[a(877)]>=2&&h.default_group_description_index>0&&(e[a(944)][r][a(1218)]=h[a(305)][h[a(1121)]-1])}},A[n(1377)]=function(t,e,s){var i=n;e&&(t?(e[i(816)]=t[i(816)][s],e[i(372)]=t.sample_depends_on[s],e[i(976)]=t[i(1267)][s],e[i(607)]=t[i(829)][s]):(e[i(816)]=0,e[i(372)]=0,e[i(976)]=0,e[i(607)]=0))},A[n(500)][n(507)]=function(){var t,e,s=n;for(t=0;t<this[s(359)][s(591)].length;t++)e=this[s(359)][s(591)][t],this[s(1007)](e)},A.prototype[n(1007)]=function(t){var e,s,i,r,o,a,h,l,c,d,u,p,f,m,g,y,v,b,S,w,E,T,I,k,_=n;if(t[_(748)]=[],t[_(677)]=0,t.samples_size=0,s=t.mdia[_(247)].stbl[_(318)]||t[_(617)][_(247)][_(983)].co64,i=t[_(617)][_(247)][_(983)][_(828)],r=t.mdia[_(247)][_(983)][_(513)]||t[_(617)].minf.stbl[_(1387)],o=t.mdia[_(247)].stbl.stts,a=t[_(617)].minf[_(983)][_(1110)],h=t.mdia[_(247)][_(983)].stss,l=t[_(617)].minf[_(983)][_(629)],c=t.mdia[_(247)][_(983)].subs,p=t[_(617)][_(247)][_(983)][_(340)],d=t.mdia[_(247)][_(983)].sbgps,u=t.mdia[_(247)].stbl[_(326)],b=-1,S=-1,w=-1,E=-1,T=0,I=0,k=0,A[_(246)](t,null,d,u),typeof r!==_(240)){for(e=0;e<r[_(847)][_(468)];e++){var C={};C[_(719)]=e,C[_(760)]=t.tkhd[_(760)],C[_(818)]=t[_(617)][_(273)].timescale,C[_(668)]=0,t[_(748)][e]=C,C.size=r[_(847)][e],t[_(959)]+=C[_(297)],0===e?(m=1,f=0,C[_(1162)]=m,C[_(1103)]=f,v=i[_(462)][f],y=0,g=f+1<i[_(245)][_(468)]?i[_(245)][f+1]-1:1/0):e<v?(C[_(1162)]=m,C[_(1103)]=f):(m++,C[_(1162)]=m,y=0,m<=g||(g=++f+1<i.first_chunk[_(468)]?i[_(245)][f+1]-1:1/0),C.chunk_run_index=f,v+=i.samples_per_chunk[f]),C[_(268)]=i[_(692)][C[_(1103)]]-1,C[_(1218)]=l.entries[C[_(268)]],C[_(1169)]=s[_(350)][C.chunk_index-1]+y,y+=C[_(297)],e>b&&(S++,b<0&&(b=0),b+=o[_(718)][S]),e>0?(t[_(748)][e-1][_(1097)]=o[_(1039)][S],t[_(677)]+=t[_(748)][e-1][_(1097)],C.dts=t[_(748)][e-1].dts+t.samples[e-1][_(1097)]):C.dts=0,a?(e>=w&&(E++,w<0&&(w=0),w+=a[_(718)][E]),C[_(1209)]=t.samples[e][_(1360)]+a[_(324)][E]):C[_(1209)]=C[_(1360)],h?(e==h[_(618)][T]-1?(C[_(656)]=!0,T++):(C[_(656)]=!1,C[_(1385)]=0),c&&c[_(305)][I].sample_delta+k==e+1&&(C[_(911)]=c.entries[I][_(911)],k+=c[_(305)][I][_(886)],I++)):C.is_sync=!0,A[_(1377)](t[_(617)][_(247)][_(983)][_(379)],C,C[_(719)]),C[_(1385)]=p?p[_(1129)][e]:0,c&&c[_(305)][I].sample_delta+k==e&&(C[_(911)]=c[_(305)][I][_(911)],k+=c[_(305)][I][_(886)]),(d[_(468)]>0||u[_(468)]>0)&&A[_(917)](t,C,e,t[_(926)])}e>0&&(t[_(748)][e-1][_(1097)]=Math[_(775)](t[_(617)][_(273)][_(1097)]-t[_(748)][e-1][_(1360)],0),t[_(677)]+=t.samples[e-1].duration)}},A[n(500)][n(1025)]=function(){var t,e,s,i,r,o,a,h,l,c,d,p,f,m,g,y=n;if(void 0!==this[y(359)])for(;this.lastMoofIndex<this[y(964)][y(468)];)if(l=this[y(964)][this[y(1166)]],this[y(1166)]++,l[y(563)]==y(1030))for(c=l,t=0;t<c[y(413)][y(468)];t++){for(d=c[y(413)][t],p=this[y(931)](d.tfhd[y(760)]),f=this[y(502)](d[y(409)][y(760)]),i=d.tfhd[y(566)]&u[y(741)]?d.tfhd.default_sample_description_index:f?f.default_sample_description_index:1,r=d[y(409)][y(566)]&u[y(1032)]?d[y(409)][y(514)]:f?f[y(514)]:0,o=d[y(409)].flags&u[y(912)]?d[y(409)][y(1294)]:f?f[y(1294)]:0,a=d.tfhd[y(566)]&u[y(606)]?d[y(409)].default_sample_flags:f?f[y(947)]:0,d.sample_number=0,d[y(730)][y(468)]>0&&A[y(246)](p,d,d[y(730)],p[y(617)][y(247)][y(983)][y(326)],d[y(326)]),e=0;e<d[y(1288)][y(468)];e++){var v=d[y(1288)][e];for(s=0;s<v[y(1369)];s++){(m={}).moof_number=this[y(1166)],m[y(1027)]=d[y(1371)],d[y(1371)]++,m[y(719)]=p[y(748)].length,d[y(436)]=p[y(748)].length,p[y(748)][y(1067)](m),m[y(760)]=p.tkhd.track_id,m[y(818)]=p[y(617)][y(273)][y(818)],m.description_index=i-1,m[y(1218)]=p[y(617)][y(247)][y(983)][y(629)][y(305)][m[y(268)]],m.size=o,v[y(566)]&u[y(371)]&&(m.size=v[y(1279)][s]),p[y(959)]+=m[y(297)],m[y(1097)]=r,v[y(566)]&u[y(242)]&&(m[y(1097)]=v[y(1333)][s]),p.samples_duration+=m[y(1097)],p[y(388)]||s>0?m.dts=p[y(748)][p[y(748)][y(468)]-2][y(1360)]+p[y(748)][p.samples[y(468)]-2].duration:(d.tfdt?m[y(1360)]=d[y(464)][y(1337)]:m[y(1360)]=0,p[y(388)]=!0),m[y(1209)]=m[y(1360)],v.flags&u.TRUN_FLAGS_CTS_OFFSET&&(m[y(1209)]=m[y(1360)]+v.sample_composition_time_offset[s]),g=a,v[y(566)]&u[y(1052)]?g=v[y(715)][s]:0===s&&v[y(566)]&u[y(453)]&&(g=v[y(1085)]),m.is_sync=!(g>>16&1),m[y(816)]=g>>26&3,m[y(372)]=g>>24&3,m.is_depended_on=g>>22&3,m[y(607)]=g>>20&3,m.degradation_priority=65535&g;var b=!!(d.tfhd[y(566)]&u[y(651)]),S=!!(d[y(409)][y(566)]&u.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),w=!!(v[y(566)]&u[y(1253)]),E=0;E=b?d[y(409)][y(306)]:S||0===e?c[y(251)]:h,0===e&&0===s?w?m.offset=E+v.data_offset:m[y(1169)]=E:m[y(1169)]=h,h=m[y(1169)]+m[y(297)],(d.sbgps[y(468)]>0||d.sgpds[y(468)]>0||p[y(617)][y(247)][y(983)][y(730)][y(468)]>0||p[y(617)][y(247)].stbl[y(326)][y(468)]>0)&&A.setSampleGroupProperties(p,m,m.number_in_traf,d.sample_groups_info)}}if(d[y(954)]){p[y(721)]=!0;var T=d.first_sample_index;for(e=0;e<d[y(954)][y(305)][y(468)];e++)T+=d[y(954)][y(305)][e][y(886)],(m=p[y(748)][T-1])[y(911)]=d[y(954)][y(305)][e][y(911)]}}},A[n(500)][n(1188)]=function(t,e){var s,i=n,r=t[i(748)][e];if(!this[i(359)])return null;if(r[i(1125)]){if(r[i(668)]==r[i(297)])return r}else r[i(1125)]=new Uint8Array(r[i(297)]),r.alreadyRead=0,this.samplesDataSize+=r.size,o[i(1269)]("ISOFile","Allocating sample #"+e+i(461)+t[i(1126)][i(760)]+i(210)+r[i(297)]+i(361)+this.samplesDataSize+")");for(;;){var a=this.stream[i(342)](!0,r[i(1169)]+r[i(668)],!1);if(!(a>-1))return null;var l=(s=this[i(1287)][i(229)][a]).byteLength-(r[i(1169)]+r[i(668)]-s[i(952)]);if(r[i(297)]-r.alreadyRead<=l)return o.debug(i(864),"Getting sample #"+e+" data (alreadyRead: "+r[i(668)]+i(1290)+(r.offset+r[i(668)]-s.fileStart)+i(1208)+(r.size-r[i(668)])+" full size: "+r[i(297)]+")"),h[i(1015)](r[i(1125)][i(284)],r[i(668)],s,r[i(1169)]+r[i(668)]-s.fileStart,r[i(297)]-r[i(668)]),s[i(1073)]+=r.size-r[i(668)],this[i(1287)].logBufferLevel(),r[i(668)]=r.size,r;if(0===l)return null;o[i(1269)]("ISOFile","Getting sample #"+e+i(365)+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-s[i(952)])+i(1208)+l+i(870)+r[i(297)]+")"),h.memcpy(r[i(1125)].buffer,r.alreadyRead,s,r[i(1169)]+r[i(668)]-s.fileStart,l),r[i(668)]+=l,s[i(1073)]+=l,this[i(1287)][i(1314)]()}},A[n(500)][n(1061)]=function(t,e){var s=n,i=t[s(748)][e];return i.data?(this[s(1278)]-=i[s(297)],i[s(1125)]=null,i[s(1218)]=null,delete i.degradation_priority,delete i[s(372)],delete i[s(268)],delete i[s(607)],delete i[s(976)],delete i[s(816)],delete i[s(656)],delete i[s(936)],delete i[s(1027)],delete i[s(818)],delete i[s(1209)],delete i[s(1360)],delete i.offset,delete i.size,delete i[s(760)],delete i.duration,i[s(668)]=0,i[s(297)]):0},A[n(500)][n(849)]=function(){return this[n(1278)]},A[n(500)][n(984)]=function(){var t=n;const e=this[t(1287)][t(229)]||[];let s=0;return e[t(1156)]((t=>{const e=t.byteLength;s+=e})),s},A.prototype[n(564)]=function(){var t,e=n,s="";for(t=0;t<this[e(359)][e(591)][e(468)];t++){t>0&&(s+=","),s+=this.moov[e(591)][t][e(617)].minf.stbl[e(629)][e(305)][0][e(888)]()}return s},A.prototype[n(502)]=function(t){var e,s=n;if(!this[s(359)]||!this[s(359)][s(822)])return null;for(e=0;e<this[s(359)][s(822)].trexs[s(468)];e++){var i=this[s(359)][s(822)][s(1203)][e];if(i.track_id==t)return i}return null},A[n(500)][n(931)]=function(t){var e=n;if(void 0===this[e(359)])return null;for(var s=0;s<this[e(359)].traks[e(468)];s++){var i=this[e(359)][e(591)][s];if(i.tkhd[e(760)]==t)return i}return null},A[n(500)][n(266)]=[],A[n(500)][n(1158)]=[],A[n(500)][n(800)]=0,A[n(500)].flattenItemInfo=function(){var t,e,s,i=n,r=this.items,o=this[i(1158)],a=this.meta;if(null!=a&&void 0!==a[i(786)]&&void 0!==a[i(815)]){for(t=0;t<a[i(815)][i(1312)][i(468)];t++)(s={}).id=a[i(815)][i(1312)][t].item_ID,r[s.id]=s,s[i(1225)]=[],s[i(1009)]=a.iinf[i(1312)][t][i(534)],a.iinf[i(1312)][t][i(405)]>0&&(s[i(300)]=a[i(1219)][i(956)][a[i(815)][i(1312)][t].protection_index-1]),a[i(815)].item_infos[t][i(1153)]?s.type=a[i(815)].item_infos[t][i(1153)]:s[i(563)]=i(410),s[i(1242)]=a[i(815)][i(1312)][t].content_type,s[i(1055)]=a[i(815)][i(1312)][t][i(1055)];if(a[i(1401)])for(t=0;t<a[i(1401)][i(682)].length;t++)entity_group={},entity_group.id=a[i(1401)][i(682)][t].group_id,entity_group[i(494)]=a.grpl.boxes[t][i(494)],entity_group.type=a.grpl[i(682)][t][i(563)],o[entity_group.id]=entity_group;if(a[i(898)])for(t=0;t<a[i(898)][i(266)].length;t++){var h=a[i(898)][i(266)][t];for(s=r[h[i(537)]],0!==h.data_reference_index&&(s.source=a[i(1083)].boxes[h.data_reference_index-1]),h.construction_method,s[i(1380)]=[],s.size=0,e=0;e<h[i(1380)][i(468)];e++)s[i(1380)][e]={},s[i(1380)][e][i(1169)]=h.extents[e][i(374)]+h[i(995)],s[i(1380)][e][i(468)]=h[i(1380)][e][i(545)],s.extents[e][i(668)]=0,s[i(297)]+=s[i(1380)][e][i(468)]}if(a[i(263)]&&(r[a.pitm[i(670)]][i(1273)]=!0),a[i(1245)])for(t=0;t<a[i(1245)][i(1197)][i(468)];t++){var l=a[i(1245)][i(1197)][t];for(e=0;e<l[i(1197)][i(468)];e++)r[l[i(1229)]][i(1225)][i(1067)]({type:l[i(563)],id:l[i(1197)][e]})}if(a.iprp)for(var c=0;c<a[i(603)][i(660)].length;c++){var d=a.iprp[i(660)][c];for(t=0;t<d[i(441)][i(468)];t++){var u=d[i(441)][t];if(!(s=r[u.id])&&(s=o[u.id]),s)for(void 0===s.properties&&(s.properties={},s[i(1116)][i(682)]=[]),e=0;e<u[i(706)][i(468)];e++){var p=u[i(706)][e];if(p.property_index>0&&p[i(530)]-1<a[i(603)][i(352)][i(682)][i(468)]){var f=a[i(603)].ipco[i(682)][p[i(530)]-1];s[i(1116)][f[i(563)]]=f,s.properties[i(682)][i(1067)](f)}}}}}},A[n(500)][n(574)]=function(t){var e,s,i=n;if(!this[i(1374)])return null;if(!(s=this[i(266)][t])[i(1125)]&&s[i(297)])s[i(1125)]=new Uint8Array(s[i(297)]),s[i(668)]=0,this[i(800)]+=s[i(297)],o[i(1269)](i(864),i(1280)+t+i(210)+s[i(297)]+i(361)+this[i(800)]+")");else if(s[i(668)]===s[i(297)])return s;for(var r=0;r<s[i(1380)][i(468)];r++){var a=s[i(1380)][r];if(a.alreadyRead!==a[i(468)]){var l=this.stream.findPosition(!0,a.offset+a[i(668)],!1);if(!(l>-1))return null;var c=(e=this[i(1287)][i(229)][l])[i(1149)]-(a[i(1169)]+a[i(668)]-e[i(952)]);if(!(a[i(468)]-a[i(668)]<=c))return o[i(1269)](i(864),"Getting item #"+t+i(345)+r+" partial data (alreadyRead: "+a[i(668)]+i(1290)+(a[i(1169)]+a.alreadyRead-e[i(952)])+" read size: "+c+" full extent size: "+a[i(468)]+i(442)+s[i(297)]+")"),h[i(1015)](s.data[i(284)],s.alreadyRead,e,a.offset+a[i(668)]-e.fileStart,c),a[i(668)]+=c,s[i(668)]+=c,e[i(1073)]+=c,this.stream[i(1314)](),null;o[i(1269)](i(864),i(778)+t+i(345)+r+i(1006)+a[i(668)]+i(1290)+(a.offset+a[i(668)]-e[i(952)])+i(1208)+(a.length-a[i(668)])+i(780)+a.length+i(442)+s[i(297)]+")"),h[i(1015)](s[i(1125)][i(284)],s[i(668)],e,a[i(1169)]+a[i(668)]-e.fileStart,a[i(468)]-a[i(668)]),e[i(1073)]+=a.length-a.alreadyRead,this[i(1287)].logBufferLevel(),s[i(668)]+=a.length-a[i(668)],a[i(668)]=a[i(468)]}}return s[i(668)]===s.size?s:null},A[n(500)].releaseItem=function(t){var e=n,s=this[e(266)][t];if(s[e(1125)]){this[e(800)]-=s[e(297)],s.data=null,s[e(668)]=0;for(var i=0;i<s[e(1380)].length;i++){s[e(1380)][i].alreadyRead=0}return s[e(297)]}return 0},A[n(500)].processItems=function(t){var e=n;for(var s in this[e(266)]){var i=this[e(266)][s];this.getItem(i.id),t&&!i[e(989)]&&(t(i),i[e(989)]=!0,i[e(1125)]=null)}},A[n(500)][n(1012)]=function(t){var e=n;for(var s in this[e(266)]){var i=this[e(266)][s];if(i[e(1009)]===t)return i.id}return-1},A[n(500)].getMetaHandler=function(){var t=n;return this.meta?this[t(1374)][t(786)][t(734)]:null},A[n(500)][n(1394)]=function(){var t=n;return this[t(1374)]&&this[t(1374)][t(263)]?this.getItem(this.meta[t(263)][t(670)]):null},A.prototype[n(450)]=function(t){var e=n,s=t||{},i=null;if(null==(i=s[e(523)]?this[e(574)](s[e(523)]):this[e(1394)]()))return null;var r=new A;r[e(515)]=!1;var o={type:i.type,description_boxes:i[e(1116)][e(682)]};i.properties[e(781)]&&(o[e(762)]=i[e(1116)][e(781)][e(1386)],o[e(930)]=i[e(1116)][e(781)].image_height);var a=r[e(510)](o);return a?(r[e(269)](a,i.data),r):null},A[n(500)][n(1043)]=function(t){for(var e=n,s=0;s<this[e(682)].length;s++)this[e(682)][s].write(t)},A[n(500)][n(647)]=function(t,e,s){var i=n,r=this[i(931)](t),a=this[i(1188)](r,e);if(null==a)return this[i(368)](r[i(748)][e]),null;var l=s||new h;l[i(1168)]=h[i(1348)];var c=this.createSingleSampleMoof(a);c.write(l),c[i(413)][0][i(1288)][0][i(1e3)]=c[i(297)]+8,o[i(1269)](i(1265),"Adjusting data_offset with new value "+c[i(413)][0].truns[0][i(1e3)]),l[i(536)](c[i(413)][0][i(1288)][0].data_offset_position,c[i(413)][0][i(1288)][0][i(1e3)]);var d=new(u[i(1304)]);return d[i(1125)]=a.data,d[i(1043)](l),l},A[n(626)]=function(t,e,s,i){var r,a=n;o[a(1269)](a(864),a(1261));var l=new h;l[a(1168)]=h[a(1348)],t[a(1043)](l);var c=e[a(905)]("mvex");for(s&&c[a(905)]("mehd")[a(1227)]("fragment_duration",s),r=0;r<e[a(591)][a(468)];r++)c.add(a(695))[a(1227)](a(760),e[a(591)][r][a(1126)].track_id).set(a(1019),1).set(a(514),i)[a(1227)](a(1294),0)[a(1227)](a(947),65536);return e[a(1043)](l),l.buffer},A[n(500)][n(887)]=function(t){var e=n,s=new h;s.endianness=h.BIG_ENDIAN,this.write(s),s[e(887)](t)},A[n(500)].getBuffer=function(){var t=n,e=new h;return e[t(1168)]=h[t(1348)],this.write(e),e[t(284)]},A.prototype[n(408)]=function(){var t,e,s,i,r=n;for(this[r(296)],!this[r(213)]&&(this.isFragmentationInitialized=!0,this[r(248)]=0,this[r(794)]()),e=[],t=0;t<this[r(555)][r(468)];t++){var o=new u.moovBox;o[r(918)]=this.moov[r(918)],o[r(682)].push(o[r(918)]),s=this[r(931)](this.fragmentedTracks[t].id),o.boxes[r(1067)](s),o[r(591)].push(s),(i={}).id=s.tkhd[r(760)],i[r(190)]=this[r(555)][t][r(190)],i[r(284)]=A[r(626)](this[r(745)],o,this[r(359)].mvex&&this[r(359)][r(822)][r(850)]?this[r(359)][r(822)].mehd.fragment_duration:void 0,this[r(359)][r(591)][t].samples[r(468)]>0?this.moov.traks[t][r(748)][0].duration:0),e[r(1067)](i)}return e},A[n(500)][n(968)]=function(){var t=n,e={};return e[t(359)]=this[t(359)],this[t(359)]&&this[t(359)].traks&&this.moov.traks[t(468)]>1&&(e[t(1113)]=this.moov.traks[0][t(748)][t(468)],e[t(1362)]=this[t(359)].traks[1][t(748)][t(468)]),e},u.Box[n(500)][n(1283)]=function(t){var e=n;this[e(297)]+=8,this[e(297)]>l&&(this[e(297)]+=8),this.type===e(334)&&(this[e(297)]+=16),t[e(1111)](t[e(982)]+e(865)+this[e(297)]),t[e(1111)](t[e(982)]+"type:"+this[e(563)])},u[n(522)][n(500)][n(1283)]=function(t){var e=n;this[e(297)]+=4,u[e(1105)].prototype[e(1283)][e(176)](this,t),t[e(1111)](t.indent+e(264)+this[e(877)]),t[e(1111)](t[e(982)]+e(1335)+this[e(566)])},u.Box.prototype[n(1024)]=function(t){this[n(1283)](t)},u.ContainerBox[n(500)][n(1024)]=function(t){var e=n;this[e(1283)](t);for(var s=0;s<this[e(682)].length;s++)if(this[e(682)][s]){var i=t[e(982)];t[e(982)]+=" ",this.boxes[s][e(1024)](t),t[e(982)]=i}},A[n(500)].print=function(t){var e=n;t[e(982)]="";for(var s=0;s<this[e(682)][e(468)];s++)this[e(682)][s]&&this.boxes[s][e(1024)](t)},u[n(476)][n(500)][n(1024)]=function(t){var e=n;u.FullBox[e(500)][e(1283)].call(this,t),t[e(1111)](t.indent+e(869)+this[e(1308)]),t[e(1111)](t.indent+e(788)+this.modification_time),t[e(1111)](t[e(982)]+e(237)+this.timescale),t[e(1111)](t[e(982)]+e(620)+this[e(1097)]),t[e(1111)](t[e(982)]+e(406)+this[e(1210)]),t[e(1111)](t.indent+"volume: "+(this[e(796)]>>8)),t[e(1111)](t[e(982)]+e(921)+this[e(276)][e(1247)](", ")),t.log(t[e(982)]+e(455)+this[e(575)])},u[n(1299)][n(500)][n(1024)]=function(t){var e=n;u[e(522)].prototype[e(1283)][e(176)](this,t),t.log(t[e(982)]+e(869)+this[e(1308)]),t[e(1111)](t[e(982)]+e(788)+this.modification_time),t.log(t[e(982)]+e(1130)+this[e(760)]),t[e(1111)](t[e(982)]+e(620)+this[e(1097)]),t[e(1111)](t[e(982)]+e(1059)+(this.volume>>8)),t.log(t[e(982)]+e(921)+this[e(276)].join(", ")),t[e(1111)](t[e(982)]+"layer: "+this[e(1069)]),t[e(1111)](t[e(982)]+e(708)+this[e(752)]),t.log(t[e(982)]+e(894)+this.width),t[e(1111)](t[e(982)]+e(272)+this[e(930)])};var v={};v[n(840)]=function(t,e){var s=void 0===t||t,i=new A(e);return i.discardMdatData=!s,i},n(1238)!==n(240)&&(e[n(840)]=v[n(840)])}));function Am(t,e){var s=vm();return(Am=function(t,e){return s[t-=172]})(t,e)}function vm(){var t=["getPerformanceInfo","parseConfig","stvi","sequence_number","principal_point_x","int32le","writeUCS2String","roll_distance","is_depended_on","readFloat64Array","splice","data_format","encs","colr","indent","stbl","getStreamBufferSize","initial_presentation_delay_present","int16be","attribute_list","Descriptor ","sent","isProtected","videoTracks","profile","decode","codec","base_offset","co64","stsg","SAMPLE_ENTRY_TYPE_METADATA","APPLICATION","data_offset","float32","getAudioConfig","default_skip_byte_block","strk","sample_rate"," data (alreadyRead: ","buildTrakSampleLists","subtitleTracks","name","ext","parseUUID","hasItem","shift","field_size","memcpy","BYTES_PER_ELEMENT","urn Box","irot","default_sample_description_index","(empty)","parsingMdat","_dataView","Appending new buffer (fileStart: ","print","updateSampleLists","Repositioning parser at buffer position: ","number_in_traf","cleanApertureHeightN","default_sample_info_size","moof","segment_duration","TFHD_FLAG_SAMPLE_DUR","fragment_duration","iods","writeFloat64","_trimAlloc","vipr","crypt_byte_block","sample_deltas","sampleListBuilt","sdp ","mha1","write","bufferIndex","seekTrack","brands","text","system_id","a2394f525a9b4f14a2446c427c648df4","mhm1","pow","TRUN_FLAGS_FLAGS","rICC","findDescriptor","content_encoding","max_picture_height","horizOffN","num_total_samples","volume: ","avcDecoderConfigRecord","releaseSample"," v=","arrayToNative","fieldCount","discard_priority","nmhd","push","writeType","layer","getInt16","application/xml","14271520nCgIeQ","usedBytes","writeFloat32Array","writeStruct","fiel","uncv","_buffer","getTrackSamplesInfo","uint16le","AVCProfileIndication","kind","dinf","bit_depth_chroma_minus8","first_sample_flags","Position ","PPS","num_bad_cols","num_leading_samples_known","unpack","stshBox","LiveServerManifest","rinf","readInt64","getEndFilePositionAfter","chromaSubsampling","duration","saveParsePosition","SAP_type","schm","cslgBox","descs","chunk_run_index","isEos","Box","matrix_coefficients","udta","compositionToDTSShift","init","ctts","log","a5d40b30e81411ddba2f0800200c9a66","moovAudioNum","getBox","getInt8","properties","boxEqual","MetadataSampleEntry","chroma_format_idc","otherTracks","default_group_description_index","correction_applied","Cannot seek: moov not received!","co64Box","data","tkhd","BoxParser","getHeight","priority","track_id: ","nclx","ptl_multilayer_enabled_flag","bad_columns","getTrackDuration","onReady","ES_Descriptor","vmhd","avc3","num_bad_rows","end","encu","updateUsedBytes","TKHD_FLAG_IN_MOVIE","test","packetssent","clap","aux_info_type_parameter","box_record","byteLength","Text","mapUint8Array","metadataTracks","item_type","Adjusting box ","writeUint32Array","forEach","meco","entity_groups","SAMPLE_ENTRY_TYPE_TEXT","length_size_of_trun_num","edts","chunk_index","component_bit_depth_minus_one","setUint8","SAMPLE_ENTRY_TYPE_SYSTEM","lastMoofIndex","primaryGChromaticity_y","endianness","offset","schemeURI","used","durationFlag","value","num_entities_in_group","vvi1SampleEntry","Textin4Parser","TFHD_FLAG_DUR_EMPTY","vertOffD","CONTAINER_BOXES","media_rate_fraction","createContainerBoxCtor","hdr_size","data_reference_index","earliest_presentation_time","DIFF_PRIMITIVE_ARRAY_PROP_NAMES","parseFooter","default_length","getSample","absolute_time","computeSize","auxiliary_mime_types","vp08SampleEntry","pixi","getSampleSize","intra_pred_used","range_size","references","avgFrameRate"," with new size ","processIncompleteMdat","sinf","auxC","trexs","sizePosition","language","hvcCBox","MP4BoxStream"," read size: ","cts","rate","ptl_multilayer_enabled","location","mskC","isEof","apply","hvcC","displayFlags","description","ipro","avs3","aux_type","seig","display_primaries","tpyl","ref_to","FULL_BOXES","set","transferFunction","from_item_ID","resources","tmax","getFloat32","boxEqualFields","codec_specific_parameters","setUint16","constantFrameRate","CoupledCount","object","DecoderConfigDescriptor","processIncompleteBox","Removing buffer #","content_type","vvc1","clef","iref","vvs1","join","writeUint8Array","setSegmentOptions","parseSample","mdats","maxr","TRUN_FLAGS_DATA_OFFSET","uint16","float64","padbits","wbbr","movie_timescale","replace","modification_time","Generating initialization segment","num_dep_sub","pos_y","fromCharCodeUint8","MP4Box","Not enough bytes in buffer","sample_is_depended_on","cleanApertureWidthD","debug","last_sample_in_run","num_sublayers","emsgBox","primary","track_ID","avgRateFlag","component_type_urls","saio","samplesDataSize","sample_size","Allocating item #","int32be","grouping_type","printHeader"," not found in buffered data","dref","first_offset","stream","truns","ranges"," offset: ","general_constraint_info","uri ","mfro","default_sample_size","esd","mjp2","dmax","fr-FR","tkhdBox","box","completeness","dataView","luminanceMax","mdatBox","parseRemainingDescriptors","subBoxNames","hmhd","creation_time","totl","prgr","created","item_infos","function","logBufferLevel","cstring","bad_pixel_column","TFHD_FLAG_DEFAULT_BASE_IS_MOOF","mapInt16Array","href","npck","kinds","flattenItemInfo","Opus","slid",", column: ","bitDepth","xml ","num_bytes_constraint_info","getDurationString","dimm","_byteOffset","transferCharacteristics","sample_duration","parseOneBox","flags:","Exporting on track #","baseMediaDecodeTime","level","component_count","quat_y","getText","component_format","boxCodes","isSubtitle","readInt32","hev1","readInt32Array","BIG_ENDIAN","[row: ","nalu_type","styp","mapFloat64Array","description_length","writeString","VisualSampleEntry","default_isProtected","onSamples","quat_z","vide","dts","findEndContiguousBuf","moovVideoNum","flush","default_KID","fscod",", size ","pssh","sample_composition_time_offset","sample_count","bit_depth_luma_minus8","sample_number","channel_indexes","opcolor","meta","bytes","first_dts","process_sdtp","fragment_count","mvif","extents","referenced_size","url Box","lengthSizeMinusOne","initialize","degradation_priority","image_width","stz2","streamType","StreamCount","position","byteOffset","default_constant_IV_size","avc2","getPrimaryItem","writeInt16","video","mfhd","dec3","a1lx","903760vgSClq","grpl","trunBox","Track created with MP4Box.js","isHint","nextSeekPosition"," at position ","moovStartFound","BoxWriter","Sending samples on track #","stop","stssBox","call","media_time","scif","sample_offset","d4807ef2ca3946958e5426cb9e46a79f","stsa","level_independently_decodable","mime_format","segmentStream","component_index","padb","bytessent","extent_index","writeUint24","user","held_bits","horizOffD","document","Audio","createSingleSampleMoof","scheme_type","readUint64","ERR_NOT_ENOUGH_DATA","ICC_profile","stszBox","decimalToHex","entry_index","aux_subtype","colour_type","isProgressive","nb_PPS_nalus","padding_flag","ES_ID","addSubBoxArrays"," of size ","parseHex16","readUint16","isFragmentationInitialized","vpcC","scheme_uri","avcC","principal_point_y","shadowed_sample_numbers","System","message_data","ref_track_id","frma","readInt8Array","trak","vmhdBox","altr","avc1","dobr","buffers","avgBitRate","dynamicSize","createUUIDBox","writeCString","Buffer must be defined and non empty","getLength","sample_depends_on","timescale: ","Not enough bytes left in the parent box to parse a new box","parseFromString","undefined","error","TRUN_FLAGS_DURATION","createEncryptedSampleEntryCtor","entry_count","first_chunk","initSampleGroups","minf","nextMoofNumber","_dynamicSize","interleave_type","start","sidx","lfeon","stream_read_2_bytes","num_ind_sub","onSidx","component_types","setAllUsedBytes","toString","general_profile_space","infe","samplerate","pitm","version:","reduceBuffer","items","writeInt32","description_index","addSample","presentation_time_delta","scheme_version","height: ","mdhd","metadata","vertresolution","matrix","URL","ftypBox","Per_Sample_IV_Size"," f=","indexOf","sgpd","whitePointChromaticity_x","buffer","ChannelMappingFamily","concat","tracks","channel_associations","bxml","SubtitleSampleEntry","angle","warn","enof","checkBuffer","channel_count","onSegment","size","tscl","construction_method","protection","parseDataAndRewind","compressorname","chan_loc","mp4aSampleEntry","entries","base_data_offset","getTime","ac-3","CUESHEET","reserved_1","extension_type","mapUint16Array","sampleEntryCodes","body","tfra","readUint32Array","dependsOn_ES_ID","stco","payloadID","setInt16","avc4SampleEntry","isFragmented","dfLa","sample_offsets","stereo_scheme","sgpds","writeUint16","writeFloat32","compatible_brands","onError","compositionEndTime","writeInt8","version of iloc box not supported","uuid","movie_duration","iso4","balance","rtp ","sampling_type","stdp","event_duration","findPosition","default_IV_size","quat_x"," extent #","getSampleRate","TRUN_FLAGS_CTS_OFFSET","maxBitrate","leva","chunk_offsets","smhd","ipco","graphicsmode","moovStartSent","avc3SampleEntry","destroy","seq_tier_0","data_rate","moov","SampleGroupEntry"," (total: ","Descriptor","schi","aebr"," partial data (alreadyRead: ","extract_bits","writeUint64","setNextSeekPositionFromSample","createTrackGroupCtor","avll","TRUN_FLAGS_SIZE","depends_on","writeFloat64Array","extent_offset","createFullBoxCtor","3xvEpYQ","has_unparsed_data","traf","sdtp","cslg","hev1SampleEntry","clli","track_width","No more buffer in memory","tfdtBox",'application/mp4; codecs="',"profile_compatibility","first_traf_merged","av01SampleEntry","ntp_timestamp","Found Sample Groups of type ","subSeqDirectionFlag","hintTracks","getFloat64","sbpm","ptl_present_flag","codecIntializationData","media_duration","minor_version","general_constraint_indicator","getInt32","ind_subs","sttsBox","readInt16Array","protection_index","rate: ","roll","initializeSegmentation","tfhd","mime","isAudio","createSampleGroupCtor","trafs","tsas","trun","readFloat32","bitrate","float64be","stts","temporalIdNested","bg_color_rgba","pad_unknown","namespace","general_level_idc","base_offset_size","pdin","Version","default_AlgorithmID","avgBitrate","primaryBChromaticity_y",'video/mp4; codecs="',"avc4","Found ","MPEG4DescriptorParser","LITTLE_ENDIAN","first_sample_index","item_uri_type","stsdBox","sidxSent","ssix","associations"," full item size: ","audio","tsel","XMLSubtitlein4Parser","bits_per_pixel","OutputChannelCount","sub_track_id","restoreParsePosition","itemToFragmentedTrackFile","download","SAP_delta_time","TRUN_FLAGS_FIRST_FLAG","Visual","next_track_id: ","charCodeAt","No method for reading signed 24 bits values","readUint8Array","modified","configurationVersion"," on track #","samples_per_chunk","rapAlignement","tfdt","layer_size","num_tile_cols_minus_one","mfra","length","hasMoov","length_size_of_sample_num","appendBuffer","vvcC","tyco","tfhdBox","available_bitrate","mvhdBox","d08a4f1810f34a82b6c832d8aba183d3","step_count","readUint","pasp","flipArrayEndianness","getPosition","drefBox","mdcv","writeFooter","unsetSegmentOptions","frame_count","general_profile_idc","upStream","mere","notice","avss","sampleProcessingStarted","entity_ids","&amp;","component_align_size","tile_align_size","tenc","hnti","prototype"," for sample ","getTrexById","stscBox","moof_offset","prof","trpy","buildSampleLists","sthd","_realloc","addTrack","whitePointChromaticity_y","payt","stsz","default_sample_duration","discardMdatData","onMoovStart","compositionStartTime","accurateStatisticsFlag","vp09","matrixCoefficients","iaug","FullBox","itemId","subsegments","constant_IV_size","readFloat64","Found position in existing buffer #","stss","nb_samples","property_index","drep","initial_duration","printRanges","item_name"," of size: ","adjustUint32","item_ID","num_bad_pixels","scheme_id_uri","edits","fieldOrdering","bit_rate_code","urn ","enct","extent_length","OutputGain","pos_z","revokeObjectURL","ptl_num_sub_profiles","num_held_bits","stri","dependency","defineProperty","insertBuffer","fragmentedTracks","parseOneDescriptor","parse","setFloat64","videoFullRangeFlag","OCR_ES_ID","cttsBox","initialized","type","getCodecs","skip","flags","high_bitdepth","&lt;","extractedTracks","getInfo","alst","getOTI","oti","getItem","next_track_id","lastBoxStartPosition","mdat","mfhdBox","DIFF_BOXES_PROP_NAMES","sbgp","a1op","num_channels"," - Length: ","nextSample","block_little_endian","dOps","split","data_offset_position","addBox","num_output_samples","traks","Subtitle","horizresolution","nb_SPS_nalus","kid","vertOffN","getBoxes","senc","dvh1","string","bsmod","op_index","iprp","setAttribute","hasIncompleteMdat","TFHD_FLAG_SAMPLE_FLAGS","has_redundancy","switch_group","all_ref_pics_intra","tele","Log","nump","Error reading extent index","dvhe","Concatenating buffer for box parsing (length: ","subSequenceIdentifier","mdia","sample_numbers","NAL_unit_type","duration: ","sync_sample_numbers","95cPwLDV","length_size","depth","readCString","writeInitializationSegment","DataStream.save: Can't create object URL.","readySent","stsd","cleanBuffers","colour_primaries","emsg","AudioSampleEntry","nalu_arrays","eqiv","lhe1","u16stringle","schema_location","skew_factor","vp09SampleEntry","mha2","parseHeader","writeUint8","general_tier_flag","releaseUsedSamples","general_profile_compatibility","createFragment","vertical_justification","primaryBChromaticity_x","u16stringbe","TFHD_FLAG_BASE_DATA_OFFSET","tmin","seq_profile","uint32le","max_display_mastering_luminance","is_sync","ec-3","stereo_indication_type","item_protection_index","ipmas","essential","avc2SampleEntry","group_id","track_ids","], [","j2ki","vp08","alreadyRead","minimum_bitrate","item_id","to_item_ID","writeInt8Array","tag","dataview","bits_per_channels","SAMPLE_ENTRY_TYPE_VISUAL","samples_duration"," bytes), continuous ranges: ","mergeNextBuffer","&quot;","media_rate_integer","boxes","ptl_sublayer_present_mask","payl","descriptionformat"," --\x3e ","white_point","sdptext","fragment_description","parseLanguage","group_description_index","sample_description_index","bad_rows","max_ref_per_pic","trex","colorSpace","Buffer must have a fileStart property","prft","float32le","constant_IV","track_group_id","min","getUint16","writeInt32Array","32CiFbGJ","props","stream_read_1_bytes","alternate_group: ","code","SPS","mapFloat32Array","nbSamples","chroma_subsampling_y","time","sample_flags","absolute_duration","avg_frame_rate","sample_counts","number","SEEKTABLE","has_fragment_subsamples","initial_delay","vSpacing","vvi1","stsh","horizontal_justification","appendChild","dac3","albc","sbgps","mapInt32Array","DataStream","sync","handler","discardable","reserved","channel_types","ac-4","encm","url ","TFHD_FLAG_SAMPLE_DESC","PreSkip","AVCLevelIndication","image_height","ftyp","readInt16","Not enough bytes left in the parent box to parse a UUID box","samples","first_output_sample","mdhdBox","RESERVED","alternate_group","default_crypt_byte_block","focal_length_y","parallelismType","isMetadata","target_rate_share","TKHD_FLAG_IN_PREVIEW","lastValidSample","track_id","int32","width","elst","leastDecodeToDisplayDelta","default_Per_Sample_IV_Size","ptl_frame_only_constraint_flag","major_brand","7qxSHpn","seq_level_idx_0","luminanceMin","56692mGBnVt","grouping_type_parameter","getTrackSample","cmpd","max","ccst","cleanApertureWidthN","Getting item #","addUsedBytes"," full extent size: ","ispe","fromCharCode","idat","greatestDecodeToDisplayDelta","stcoBox","hdlr","prol","modification_time: ","primaryRChromaticity_y","bad_pixel_row","strd","createMediaSampleEntryCtor","Metadata","resetTables","sample_info_size","volume","afbr","274252XAwaUW","SingleItemTypeReferenceBoxLarge","itemsDataSize","offset_size","UUIDBoxes","block_reversed","num_tile_rows_minus_one","23273272wJqlCl","Hint","imir","getUint8","2093640VaECxT","avcCBox","tags","lsel","STREAMINFO","isVideo","iinf","is_leading","elng","timescale","createSampleEntryCtor","hvt1","general_sub_profile_idc","mvex","esds","focal_length_x","encode","description_boxes","nextParsePosition","stsc","sample_has_redundancy","index_size","hvc1SampleEntry","constant_frame_rate","readInt8","getChannelCount","_sweep","SAMPLE_ENTRY_TYPE_AUDIO","slice","ContainerBox","item_count","createFile","floor","samplesize","mapInt8Array","assignment_type","tref","nalu","sample_sizes","fobr","getAllocatedSampleDataSize","mehd","single_view_allowed","parseFullHeader","ipma","&#039;","track_height","getEndPosition","tpay","audioTracks","readUint16Array","processSamples","substring","mehdBox","readString","ISOFile","size:"," stored buffer(s) (","onItem","TrackGroupTypeBox","creation_time: "," full size: ","full_range_flag","processItems","avc1SampleEntry","createEntityToGroupCtor","SLConfigDescriptor","info","version","bsid",'audio/mp4; codecs="',"extended_language","msrc","stpp","2914353KQhmkO","CoLL","DecoderSpecificInfo","sample_delta","save","getCodec","primaryGChromaticity_x","starts_with_SAP","j2kH","readAnyInt","sublayer_level_idc","width: ","sidxBox","operation_point_count","etyp","iloc","cmex","seek","SingleItemTypeReferenceBox","stxtSampleEntry","cmin","getUint32","add","twelve_bit","SampleEntry","default_constant_IV","readUint32","ptl_frame_only_constraint","subsamples","TFHD_FLAG_SAMPLE_SIZE","sbgpBox","layerNumber","min_display_mastering_luminance","SAMPLE_ENTRY_TYPE_SUBTITLE","setSampleGroupProperties","mvhd","addEntry","levels","matrix: ","writeHeader","moofBox","TKHD_FLAG_ENABLED","itemListBuilt","sample_groups_info","ols_idx","subtitles","PADDING","height","getTrackById","TrackReferenceTypeBox","vvnC","1904-01-01T00:00:00Z","uncC","moof_number","languageString","_byteLength","reference_type","failurePosition","ASCII","maximum_bitrate","tapt","sample_groups","Needs an array buffer","' and size ","default_sample_flags","readUint24","length_size_of_traf_num","MultiBufferStream","av1C","fileStart","btrt","subs","subsegment_duration","protections","max_content_light_level","createBoxCtor","samples_size","max_picture_width","getWidth","mapUint32Array","readUint8","moofs","writeUint32","codecIntializationDataSize",".CA"];return(vm=function(){return t})()}ym.Log,ym[gm(1207)],ym.DataStream,ym.MultiBufferStream,ym[gm(434)],ym.BoxParser,ym[gm(445)],ym[gm(1176)],ym.ISOFile,ym[gm(840)];const bm=wm;function Sm(t){return t[wm(292)](((t,e)=>256*t+e))}function wm(t,e){const s=Em();return(wm=function(t,e){return s[t-=270]})(t,e)}function Em(){const t=["3705885iYkUMh","memory","reduce","debugWarn","10QOuIFZ","147870GgHaGD","function","Module","2647418TdsGXu","TransportDescrambler","7744814ezkxDC","reverse","catch","Instance","3941238fmjnVz","destroy","98QUcvqa","byteLength","instance","instantiate","parse","map","not support wasm","init error","43048GrhIAq","transport","exports","player","20rmurcx","object","then","stack overflow","slice","init","wasm not supported","length","1ISRAEU","every","TAG_NAME","2019231WKDaBD"];return(Em=function(){return t})()}function Tm(t){const e=wm,s=[101,103,119,99],i=t.length-28,r=t.slice(i,i+s.length);return s[e(287)](((t,e)=>t===r[e]))}!function(t,e){const s=wm,i=t();for(;;)try{if(901162===parseInt(s(286))/1*(parseInt(s(298))/2)+parseInt(s(290))/3+-parseInt(s(278))/4*(parseInt(s(295))/5)+-parseInt(s(304))/6+-parseInt(s(306))/7*(-parseInt(s(274))/8)+-parseInt(s(289))/9*(parseInt(s(294))/10)+-parseInt(s(300))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Em);bm(305),bm(275);function Im(){const t=["call","9502066YLlQOd","7618512xaYdnB","1253518AFyLyt","6567840NxWMzG","24IxrNzK","forEach","length","MULAW","613200WZHQdy","set","prototype","531366VuHGcn","17839592NFAHCo","slice"];return(Im=function(){return t})()}function km(t,e){const s=Im();return(km=function(t,e){return s[t-=132]})(t,e)}function _m(t){const e=km,s=new Uint8Array(t[e(135)]+1);return s[e(138)]([114],0),s[e(138)](t,1),s}function Cm(t){const e=km,s=new Uint8Array(t[e(135)]+1);return s.set([130],0),s[e(138)](t,1),s}!function(t,e){const s=km,i=t();for(;;)try{if(832981===-parseInt(s(146))/1+-parseInt(s(137))/2+parseInt(s(140))/3*(-parseInt(s(133))/4)+parseInt(s(132))/5+parseInt(s(145))/6+-parseInt(s(144))/7+parseInt(s(141))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Im);var Dm=Pm;!function(t,e){for(var s=Pm,i=t();;)try{if(715249===parseInt(s(403))/1*(parseInt(s(411))/2)+parseInt(s(405))/3+parseInt(s(410))/4*(parseInt(s(398))/5)+parseInt(s(407))/6+-parseInt(s(408))/7*(parseInt(s(406))/8)+-parseInt(s(397))/9*(-parseInt(s(414))/10)+parseInt(s(413))/11*(-parseInt(s(400))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xm);var Rm=pe[Dm(404)]((function(t){var e=Dm;t.exports=function(t,e,s){return e in t?Object[Pm(399)](t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t},t[e(401)][e(409)]=!0,t[e(401)][e(402)]=t[e(401)]})),Lm=pe[Dm(412)](Rm);function Pm(t,e){var s=xm();return(Pm=function(t,e){return s[t-=397]})(t,e)}function xm(){var t=["createCommonjsModule","394467jouTIK","64IqMLaf","1446342HrvZNI","1104754sFlctp","__esModule","4TstIpQ","568vvDXOQ","unwrapExports","46013VnkaUz","10kZxkeM","4740615KRIZjr","3987755SVYPjm","defineProperty","2364tHbAfX","exports","default","3891taGrkM"];return(xm=function(){return t})()}function Mm(t,e){const s=Gm();return(Mm=function(t,e){return s[t-=160]})(t,e)}!function(t,e){const s=Mm,i=t();for(;;)try{if(462642===parseInt(s(160))/1*(-parseInt(s(171))/2)+parseInt(s(161))/3*(-parseInt(s(163))/4)+parseInt(s(169))/5+parseInt(s(178))/6*(parseInt(s(173))/7)+parseInt(s(167))/8+parseInt(s(168))/9+parseInt(s(170))/10*(-parseInt(s(174))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Gm);const Bm=[44100,48e3,32e3,0],Fm=[22050,24e3,16e3,0],Um=[11025,12e3,8e3,0],Om=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],Nm=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],jm=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1];function Vm(t){const e=Mm;if(t.length<4)return void console[e(162)](e(165));let s=new Uint8Array(t[e(176)]),i=null;if(255!==s[0])return void console[e(162)]("Invalid MP3 packet, first byte != 0xFF ");let r=s[1]>>>3&3,n=(6&s[1])>>1,o=(240&s[2])>>>4,a=(12&s[2])>>>2,h=3!==(s[3]>>>6&3)?2:1,l=0,c=0,d=e(164);switch(r){case 0:l=Um[a];break;case 2:l=Fm[a];break;case 3:l=Bm[a]}switch(n){case 1:o<jm.length&&(c=jm[o]);break;case 2:o<Nm[e(175)]&&(c=Nm[o]);break;case 3:o<Om[e(175)]&&(c=Om[o])}return i={bitRate:c,sampleRate:l,channelCount:h,codec:d,originalCodec:d,audioType:e(164)},i}function Wm(t){const e=Mm,s=new Uint8Array(t.length+1);return s[e(177)]([32],0),s[e(177)](t,1),s}function Gm(){const t=["4USKeEW","mp3","Invalid MP3 packet, header missing!","data","6879872YdvJhQ","3688272WDMKwb","449865qnDePC","40PfsdSw","387520IlQIgk","channel_count","52997NSvKNT","2685122bDgCBb","length","buffer","set","396JyVant","object_type","2cUKDBJ","98643kWDCmU","error"];return(Gm=function(){return t})()}const zm=Km;function Hm(){const t=["stsd","alaw","getStreamBufferSize","AAC","seqHeader","removeUsedSamples","debugLog","hasAudio","164148ebiVFo","isG711","audioTrackType","mp4a.40.","MULAW","length","reset","mp4a","103360hNqWtf","mdia","SoundHandler","isG711A","destroy","onError","DataStream","write","byteLength","tracks","data","avcC","duration","onReady","revokeObjectURL","channel_count","mp4Box onError","2060031JVVWVe","10458216aTjTWd","includes","getSeqHeader","appendBuffer","downloadFmp4File","_opt","dispatch","invalid codec","setExtractionOptions","mp3","player","MP3","videoTracks","offset","onSamples","Fmp4Demux","onSamples() trackId error",'video/mp4; codecs="avc1.640028,mp4a.40.2"',"find","createObjectURL","minf","debugError","hvcC","indexOf","flush","start","cryptoPayload","1416718fVImKh","TAG_NAME","_listenMp4Box","isAAC","isG711U",".fmp4","codec","aacADTSHeader","onReady and audioTrack is","5917572mKXRMH","updateStats","videoTrackId","getInputByteLength","config","video","mp4Box","replace","4jACIeR","cts","audio","bind","isMP3","is_sync","createElement","24kWqwui","_doDecodeByFmp4","stop","isHevc","BIG_ENDIAN","cryptoPayloadAudio","ALAW","getTrackById","ulaw","timescale","debugWarn","buffer","stbl","name","tempFmp4List","1547868HVPsqI","audioTrackId"];return(Hm=function(){return t})()}function Km(t,e){const s=Hm();return(Km=function(t,e){return s[t-=421]})(t,e)}!function(t,e){const s=Km,i=t();for(;;)try{if(652768===parseInt(s(429))/1+parseInt(s(482))/2+-parseInt(s(454))/3*(parseInt(s(499))/4)+-parseInt(s(437))/5+parseInt(s(491))/6+-parseInt(s(521))/7*(-parseInt(s(506))/8)+-parseInt(s(455))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Hm);class qm extends xf{constructor(t){const e=Km;super(t),this.TAG_NAME=e(470),this.player=t,this[e(497)]=ym.createFile(),this[e(435)](),this[e(484)](),t.debugLog(this[e(483)],"init")}[zm(441)](){const t=zm;this.mp4Box&&(this[t(497)][t(508)](),this.mp4Box[t(479)](),this[t(497)].destroy(),this[t(497)].onReady=null,this[t(497)][t(442)]=null,this.mp4Box[t(469)]=null,this.mp4Box=null),this.reset(),this[t(431)]=null,this[t(465)][t(427)](this.TAG_NAME,t(441))}reset(){const t=zm;this[t(520)]=[],this.offset=0,this[t(493)]=null,this[t(522)]=null,this[t(509)]=!1,this[t(431)]=null}_listenMp4Box(){const t=zm;this[t(497)][t(450)]=this[t(450)][t(502)](this),this[t(497)][t(442)]=this.onError[t(502)](this),this[t(497)][t(469)]=this[t(469)][t(502)](this)}onReady(t){const e=zm;this[e(465)][e(427)](this[e(483)],e(450));const s=t[e(467)][0];let i=t.audioTracks[0];if(s){this.videoTrackId=s.id;const t=this[e(457)](s);t&&(this.player[e(427)](this[e(483)],e(425)),this[e(507)](t,j.video,0,!0,0)),this[e(497)][e(463)](s.id)}if(!i&&(i=(t[e(446)]||[])[e(473)]((t=>{const s=e;return t[s(519)]===s(439)}))),i&&this[e(465)]._opt[e(428)]){this.audioTrackId=i.id;const t=i[e(501)]||{},s=i[e(488)]||"";let r="";if(s.includes(e(464))?r=et[e(466)]:s[e(456)](e(436))?r=et[e(424)]:s[e(456)](e(514))?r=et[e(433)]:r[e(456)](e(422))&&(r=et[e(512)]),r&&i.id){if(this[e(431)]=r,this[e(465)][e(427)](this[e(483)],e(490),it[r]),this[e(497)][e(463)](i.id),this[e(485)]()){const s=Ie[e(478)](t.sample_rate),r=i[e(488)][e(498)](e(432),""),n={profile:parseInt(r,10),sampleRate:s,channel:t[e(452)]},o=ke(n);this[e(465)].debugLog(this.TAG_NAME,e(489),o,e(495),n),this[e(507)](o,j[e(501)],0,!1,0)}}else this[e(465)].debugWarn(this[e(483)],e(462),s)}this.mp4Box[e(480)]()}[zm(442)](t){const e=zm;this[e(465)][e(476)](this[e(483)],e(453),t)}[zm(469)](t,e,s){const i=zm;if(t===this.videoTrackId){for(const t of s){const e=t[i(447)],s=t[i(504)],r=1e3*t[i(500)]/t[i(515)];t.duration,t[i(515)],this.player[i(492)]({vbps:8*e[i(445)],dts:r}),s&&this.calcIframeIntervalTimestamp(r);let n=null;n=this[i(509)]?Pl(e,s):il(e,s);let o=this[i(481)](n,s);this[i(507)](o,j[i(496)],r,s,0)}this.mp4Box[i(426)](t)}else if(t===this[i(522)]){if(this.player[i(460)][i(428)]){for(const t of s){const e=t[i(447)];this[i(465)].updateStats({abps:e.byteLength});const s=1e3*t[i(500)]/t.timescale;t[i(449)],t.timescale;let r=null;this[i(485)]()?r=_e(e):this.isG711A()?r=_m(e):this[i(486)]()?r=Cm(e):this[i(503)]()&&(r=Wm(e));const n=this[i(511)](r);this[i(507)](n,j[i(501)],s,!1,0)}this[i(497)].removeUsedSamples(t)}}else this.player[i(516)](this.TAG_NAME,i(471),t)}[zm(457)](t){const e=zm,s=this[e(497)][e(513)](t.id);for(const t of s[e(438)][e(475)][e(518)][e(421)].entries)if(t[e(448)]||t[e(477)]){const s=new(ym[e(443)])(void 0,0,ym[e(443)][e(510)]);let i=[];t.avcC?(t.avcC[e(444)](s),i=[23,0,0,0,0]):(this[e(509)]=!0,t[e(477)][e(444)](s),i=[28,0,0,0,0]);const r=new Uint8Array(s.buffer,8),n=new Uint8Array(i[e(434)]+r.length);return n.set(i,0),n.set(r,i[e(434)]),n}return null}[zm(461)](t){const e=zm;let s=new Uint8Array(t);s[e(517)].fileStart=this[e(468)],this[e(468)]+=s[e(445)],this[e(497)][e(458)](s[e(517)])}[zm(459)](){const t=zm,e=new Blob(this.tempFmp4List,{type:t(472)}),s=URL[t(474)](e),i=document[t(505)]("a");i.href=s,i.download=is()+t(487),i.click(),URL[t(451)](s)}[zm(494)](){const t=zm;let e=0;return this.mp4Box&&(e=this[t(497)][t(423)]()),e}[zm(485)](){return this[zm(431)]===et.AAC}[zm(503)](){return this[zm(431)]===et.MP3}[zm(430)](){const t=zm;return this[t(431)]===et.MULAW||this[t(431)]===et[t(512)]}[zm(440)](){const t=zm;return this[t(431)]===et[t(512)]}[zm(486)](){const t=zm;return this.audioTrackType===et[t(433)]}}var Qm=Ym;function Ym(t,e){var s=Jm();return(Ym=function(t,e){return s[t-=265]})(t,e)}function Jm(){var t=["Mpeg4Demux","player","12wWOMqy","TAG_NAME","debugLog","destroy","137868lRsUTb","279317QUYjBm","699592deVDbB","15GXytST","11382130fotFso","LOG_NAME","4RLaydF","1746292dfBrRh","12uQMbJs","3999233UjaTYJ","9FxfjjC","20910263Zctiux"];return(Jm=function(){return t})()}!function(t,e){for(var s=Ym,i=t();;)try{if(879419===parseInt(s(265))/1+parseInt(s(270))/2*(parseInt(s(282))/3)+parseInt(s(271))/4*(-parseInt(s(267))/5)+parseInt(s(272))/6*(parseInt(s(273))/7)+-parseInt(s(266))/8*(parseInt(s(274))/9)+-parseInt(s(268))/10+parseInt(s(275))/11*(parseInt(s(278))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jm);class Xm extends xf{constructor(t){var e=Ym;super(t),this[e(277)]=t,this[e(279)]=e(276),this[e(277)][e(280)](this[e(269)],"init")}[Qm(281)](){var t=Qm;super.destroy(),this[t(277)][t(280)](this[t(269)],t(281))}}function $m(t,e){var s=tg();return($m=function(t,e){return s[t-=306]})(t,e)}function Zm(){for(var t=$m,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(313)](Boolean))[t(318)]<2)return s[0];const r=new Uint8Array(s.reduce(((t,e)=>t+e.byteLength),0));let n=0;return s[t(311)]((e=>{var s=t;r[s(314)](e,n),n+=e[s(320)]})),r}function tg(){var t=["1KFCfWZ","2551572OqEygY","281980BCgdVx","171LvuNrx","forEach","2893496JEKKpT","filter","set","72534PPySLK","673152xPJjMy","469190voXoXk","length","51290bFxLbd","byteLength","7VfmniE"];return(tg=function(){return t})()}!function(t,e){for(var s=$m,i=t();;)try{if(352288===-parseInt(s(307))/1*(-parseInt(s(309))/2)+-parseInt(s(315))/3+parseInt(s(316))/4+-parseInt(s(317))/5+parseInt(s(308))/6+parseInt(s(306))/7*(-parseInt(s(312))/8)+-parseInt(s(310))/9*(-parseInt(s(319))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tg);const eg=lg;!function(t,e){const s=lg,i=t();for(;;)try{if(703240===parseInt(s(145))/1+-parseInt(s(146))/2*(parseInt(s(109))/3)+parseInt(s(149))/4+parseInt(s(136))/5+parseInt(s(132))/6+-parseInt(s(158))/7+-parseInt(s(120))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ig);const sg={kMPEG1Audio:3,kMPEG2Audio:4,kPrivateData:5,kPESPrivateData:6,kADTSAAC:15,kLOASAAC:17,kAC3:129,kEAC3:135,kMetadata:21,kSCTE35:134,kH264:27,kH265:36,G711A:144,G711U:145,G722:146,G723:147,G729:153,OPUS:156};function ig(){const t=["hasKeyframesIndex","chromaFormat","times","audio_object_type","isComplete","original_codec_mimetype","7128414QpaBVE","codec_mimetype","hasAudio","pid","4463885MasiXs","random_access_indicator","audioSampleRate","sarNum","mimeType","videoCodec","sampling_index","expected_length","data","821274JNQvKb","634yzCwaE","stream_type","total_length","5449144aaJvpY","_search","keyframesIndex","height","sarDen","indexOf","sampling_rate","android","hasVideo","8299011tsEwAb","nearest_pts","refFrames","level","toLowerCase","channel_count","1857nyYpTI","audioChannelCount","profile","fps","sampling_freq_index","width","dts","audioCodec","floor","channel_config","config","17434960KCDjWa","getNearestKeyframe","slices","duration","videoDataRate","segmentCount"];return(ig=function(){return t})()}class rg{constructor(){const t=lg;this[t(122)]=[],this[t(148)]=0,this[t(143)]=0,this[t(137)]=0}}class ng{constructor(){const t=lg;this.pid=null,this[t(144)]=null,this[t(147)]=null,this[t(137)]=null}}class og{constructor(){const t=lg;this[t(135)]=null,this.stream_id=null,this.len=null,this.data=null,this.pts=null,this[t(159)]=null,this[t(115)]=null}}const ag=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];class hg{constructor(){const t=lg;this[t(140)]=null,this[t(123)]=null,this[t(134)]=null,this[t(157)]=null,this[t(116)]=null,this[t(141)]=null,this.audioDataRate=null,this[t(124)]=null,this[t(138)]=null,this.audioChannelCount=null,this.width=null,this[t(152)]=null,this.fps=null,this[t(111)]=null,this[t(161)]=null,this[t(160)]=null,this[t(127)]=null,this.sarNum=null,this[t(153)]=null,this.metadata=null,this.segments=null,this[t(125)]=null,this.hasKeyframesIndex=null,this[t(151)]=null}[eg(130)](){const t=eg;let e=!1===this[t(134)]||!0===this[t(134)]&&null!=this[t(116)]&&null!=this[t(138)]&&null!=this[t(110)],s=!1===this[t(157)]||!0===this[t(157)]&&null!=this.videoCodec&&null!=this[t(114)]&&null!=this.height&&null!=this[t(112)]&&null!=this[t(111)]&&null!=this[t(161)]&&null!=this[t(160)]&&null!=this[t(127)]&&null!=this[t(139)]&&null!=this[t(153)];return null!=this.mimeType&&e&&s}isSeekable(){return!0===this[eg(126)]}[eg(121)](t){const e=eg;if(null==this[e(151)])return null;let s=this[e(151)],i=this[e(150)](s[e(128)],t);return{index:i,milliseconds:s.times[i],fileposition:s.filepositions[i]}}[eg(150)](t,e){const s=eg;let i=0,r=t.length-1,n=0,o=0,a=r;for(e<t[0]&&(i=0,o=a+1);o<=a;){if(n=o+Math[s(117)]((a-o)/2),n===r||e>=t[n]&&e<t[n+1]){i=n;break}t[n]<e?o=n+1:a=n-1}return i}}function lg(t,e){const s=ig();return(lg=function(t,e){return s[t-=108]})(t,e)}class cg{constructor(t){const e=eg;let s=null,i=t[e(129)],r=t[e(129)],n=t[e(113)],o=t[e(118)],a=0,h=navigator.userAgent[e(162)]();-1!==h.indexOf("firefox")?n>=6?(r=5,s=new Array(4),a=n-3):(r=2,s=new Array(2),a=n):-1!==h[e(154)](e(156))?(r=2,s=new Array(2),a=n):(r=5,a=n,s=new Array(4),n>=6?a=n-3:1===o&&(r=2,s=new Array(2),a=n)),s[0]=r<<3,s[0]|=(15&n)>>>1,s[1]=(15&n)<<7,s[1]|=(15&o)<<3,5===r&&(s[1]|=(15&a)>>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),this[e(119)]=s,this[e(155)]=ag[n],this[e(142)]=n,this[e(108)]=o,this.object_type=r,this.original_object_type=i,this[e(133)]="mp4a.40."+r,this[e(131)]="mp4a.40."+i}}const dg=ug;function ug(t,e){const s=fg();return(ug=function(t,e){return s[t-=127]})(t,e)}!function(t,e){const s=ug,i=t();for(;;)try{if(391621===-parseInt(s(140))/1*(parseInt(s(259))/2)+parseInt(s(266))/3+-parseInt(s(354))/4+parseInt(s(273))/5+parseInt(s(269))/6+parseInt(s(174))/7+-parseInt(s(389))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fg);class pg extends xf{constructor(t){const e=ug;super(t),this[e(180)]=t,this[e(293)]=e(129),this.reset(),this.section_slice_queues_={},this[e(177)]={},this[e(410)]={},this.media_info_=new hg,this[e(270)]={version_number:0,network_pid:0,program_map_pid:{}},this[e(191)]={vps:null,sps:null,pps:null,details:null},this.audio_metadata_={codec:null,audio_object_type:null,sampling_freq_index:null,sampling_frequency:null,channel_config:null},this[e(412)]={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this[e(384)]={type:e(288),id:2,sequenceNumber:0,samples:[],length:0},this.player[e(127)](this[e(293)],e(172))}[dg(262)](){const t=dg;this.reset(),super[t(262)](),this.player[t(127)](this.TAG_NAME,t(262))}[dg(187)](){const t=dg;this[t(290)]=!0,this[t(156)]=0,this[t(390)]=0,this[t(264)]=null,this[t(398)]=null,this[t(383)]=null,this[t(209)]=90,this[t(279)]=0,this[t(270)]=null,this.current_program_=null,this.current_pmt_pid_=-1,this[t(177)]=null,this[t(410)]=null,this[t(167)]=null,this[t(191)]=null,this[t(181)]=null,this[t(239)]=null,this.last_pcr_base_=NaN,this[t(280)]=0,this[t(164)]=void 0,this.aac_last_incomplete_data_=null,this[t(328)]=!1,this[t(374)]=!1,this[t(236)]=!1,this[t(184)]=!1,this[t(202)]=!1,this[t(364)]=!1,this[t(401)]=null,this.video_track_=null,this[t(384)]=null,this._remainingPacketData=null}[dg(418)](t){const e=dg;let s=new Uint8Array(t),i=-1,r=188;if(s[e(161)]<=3*r)return{needMoreData:!0};for(;-1===i;){let t=Math[e(313)](1e3,s[e(161)]-3*r);for(let e=0;e<t;){if(71===s[e]&&71===s[e+r]&&71===s[e+2*r]){i=e;break}e++}if(-1===i)if(188===r)r=192;else{if(192!==r)break;r=204}}return-1===i?{match:!1}:(192===r&&i>=4&&(i-=4),{match:!0,consumed:0,ts_packet_size:r,sync_offset:i})}[dg(423)](){return{program_number:0,version_number:0,pcr_pid:0,pid_stream_type:{},common_pids:{h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0,g711a:void 0,g711u:void 0},pes_private_data_pids:{},timed_id3_pids:{},synchronous_klv_pids:{},asynchronous_klv_pids:{},scte_35_pids:{},smpte2038_pids:{}}}[dg(394)](){const t=dg;return 188===this[t(156)]||192===this[t(156)]||204===this[t(156)]}[dg(340)](t){const e=dg;let s=new Uint8Array(t);this[e(338)]&&(s=Zm(this[e(338)],s),this[e(338)]=null);let i=s[e(165)];const r=this[e(347)](i);r?this[e(338)]=s[e(217)](r):s[e(395)]<this[e(156)]&&(this[e(338)]=s)}[dg(347)](t){const e=dg;let s=0;if(this[e(290)]){this[e(290)]=!1;const i=this[e(418)](t);i[e(225)]&&(this[e(156)]=i[e(302)],this.syncOffset=i[e(214)]),s=this[e(390)],this[e(180)].debugLog(this.TAG_NAME,"isFirstDispatch and tsPacketSize = "+this.tsPacketSize+", syncOffset = "+this[e(390)]),Ri(this[e(394)]())&&this[e(180)][e(427)](Q[e(331)],this[e(156)])}if(!Ri(this._isTsPacketSizeValid())){for(;s+this[e(156)]<=t[e(161)];){192===this.tsPacketSize&&(s+=4);const i=new Uint8Array(t,s,188);let r=i[0];if(71!==r){this.player[e(372)](this[e(293)],e(251)+r+e(315));break}let n=(64&i[1])>>>6;i[1];let o=(31&i[1])<<8|i[2],a=(48&i[3])>>>4,h=15&i[3],l=!(!this[e(264)]||this.pmt_.pcr_pid!==o),c={},d=4;if(2==a||3==a){let t=i[4];if(t>0&&(l||3==a)){c[e(155)]=(128&i[5])>>>7,c.random_access_indicator=(64&i[5])>>>6,c.elementary_stream_priority_indicator=(32&i[5])>>>5;let t=(16&i[5])>>>4;if(t){let t=300*this[e(350)](i)+((1&i[10])<<8|i[11]);this.last_pcr_=t}if(this[e(180)][e(367)][e(210)]){if(1===(2&i[5])>>>1){let s=6;t&&(s+=6),(8&i[5])>>>3&&(s+=6),(4&i[5])>>>2&&(s+=1);let r=i[s],n=i[e(217)](s+1,s+1+r);this.player[e(141)](n)}}}if(2==a||5+t===188){s+=188,204===this.tsPacketSize&&(s+=16);continue}d=5+t}if(1==a||3==a)if(0===o||o===this[e(143)]||null!=this[e(264)]&&this[e(264)][e(234)][o]===sg[e(352)]){let i=188-d;this[e(159)](t,s+d,i,{pid:o,payload_unit_start_indicator:n,continuity_conunter:h,random_access_indicator:c[e(337)]})}else if(null!=this[e(264)]&&null!=this[e(264)][e(234)][o]){let i=188-d,r=this[e(264)][e(234)][o];(o===this[e(264)].common_pids[e(142)]||o===this.pmt_[e(304)][e(160)]||o===this[e(264)][e(304)][e(130)]||o===this.pmt_.common_pids.loas_aac||o===this[e(264)][e(304)][e(248)]||o===this[e(264)][e(304)][e(245)]||o===this[e(264)][e(304)][e(320)]||o===this[e(264)][e(304)][e(231)]||o===this[e(264)].common_pids.g711a||o===this[e(264)].common_pids[e(391)]||!0===this[e(264)].pes_private_data_pids[o]||!0===this[e(264)].timed_id3_pids[o]||!0===this[e(264)][e(134)][o]||!0===this[e(264)][e(244)][o])&&this[e(321)](t,s+d,i,{pid:o,stream_type:r,payload_unit_start_indicator:n,continuity_conunter:h,random_access_indicator:c[e(337)]})}s+=188,204===this[e(156)]&&(s+=16)}return this[e(289)](),s}}[dg(159)](t,e,s,i){const r=dg;let n=new Uint8Array(t,e,s),o=this[r(167)][i[r(303)]];if(i[r(425)]){let a=n[0];if(null!=o&&0!==o.total_length){let n=new Uint8Array(t,e+1,Math.min(s,a));o[r(404)].push(n),o[r(326)]+=n[r(161)],o.total_length===o[r(255)]?this[r(296)](o,i):this.clearSlices(o,i)}for(let h=1+a;h<n[r(161)];){if(255===n[h+0])break;let a=(15&n[h+1])<<8|n[h+2];this[r(167)][i[r(303)]]=new rg,o=this.section_slice_queues_[i[r(303)]],o[r(255)]=a+3,o[r(337)]=i[r(337)];let l=new Uint8Array(t,e+h,Math[r(313)](s-h,o[r(255)]-o[r(326)]));o[r(404)][r(238)](l),o[r(326)]+=l[r(161)],o.total_length===o[r(255)]?this[r(296)](o,i):o[r(326)]>=o[r(255)]&&this[r(422)](o,i),h+=l[r(161)]}}else if(null!=o&&0!==o[r(326)]){let n=new Uint8Array(t,e,Math[r(313)](s,o.expected_length-o[r(326)]));o[r(404)][r(238)](n),o[r(326)]+=n[r(161)],o.total_length===o[r(255)]?this.emitSectionSlices(o,i):o[r(326)]>=o.expected_length&&this[r(422)](o,i)}}[dg(321)](t,e,s,i){const r=dg;let n=new Uint8Array(t,e,s),o=n[0]<<16|n[1]<<8|n[2];n[3];let a=n[4]<<8|n[5];if(i[r(425)]){if(1!==o)return void this.player[r(372)](this[r(293)],r(357)+o);let t=this[r(410)][i[r(303)]];t&&(0===t.expected_length||t[r(255)]===t.total_length?this[r(396)](t,i):this[r(422)](t,i)),this[r(410)][i[r(303)]]=new rg,this.pes_slice_queues_[i.pid].random_access_indicator=i[r(337)]}if(null==this[r(410)][i[r(303)]])return;let h=this[r(410)][i.pid];h.slices[r(238)](n),i.payload_unit_start_indicator&&(h[r(255)]=0===a?0:a+6),h[r(326)]+=n[r(161)],h[r(255)]>0&&h.expected_length===h[r(326)]?this.emitPESSlices(h,i):h.expected_length>0&&h[r(255)]<h[r(326)]&&this[r(422)](h,i)}emitSectionSlices(t,e){const s=dg;let i=new Uint8Array(t[s(326)]);for(let e=0,r=0;e<t[s(404)][s(395)];e++){let n=t[s(404)][e];i.set(n,r),r+=n[s(161)]}t[s(404)]=[],t.expected_length=-1,t[s(326)]=0;let r={};r[s(303)]=e[s(303)],r[s(145)]=i,r[s(318)]=t[s(318)],r[s(337)]=t[s(337)],this[s(243)](r)}[dg(396)](t,e){const s=dg;let i=new Uint8Array(t.total_length);for(let e=0,r=0;e<t[s(404)][s(395)];e++){let n=t[s(404)][e];i[s(349)](n,r),r+=n[s(161)]}t[s(404)]=[],t[s(255)]=-1,t[s(326)]=0;let r=new ng;r.pid=e.pid,r[s(145)]=i,r[s(294)]=e[s(294)],r.random_access_indicator=t.random_access_indicator,this.parsePES(r)}clearSlices(t){const e=dg;t[e(404)]=[],t[e(255)]=-1,t[e(326)]=0}[dg(243)](t){const e=dg;let s=t[e(145)],i=t[e(303)];0===i?this[e(221)](s):i===this[e(143)]?this[e(298)](s):null!=this[e(264)]&&this[e(264)][e(295)][i]&&this[e(258)](s)}[dg(402)](t){const e=dg;let s=t[e(145)],i=s[0]<<16|s[1]<<8|s[2],r=s[3],n=s[4]<<8|s[5];if(1===i){if(188!==r&&190!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r){s[6];let i,o,a=(192&s[7])>>>6,h=s[8];(2===a||3===a)&&(i=this[e(385)](s,9),o=3===a?this._getTimestamp(s,14):i);let l,c=9+h;if(0!==n){if(n<3+h)return void this.player.debugWarn(this[e(293)],e(195));l=n-3-h}else l=s.byteLength-c;let d=s.subarray(c,c+l);switch(t.stream_type){case sg[e(339)]:case sg[e(345)]:this.parseMP3Payload(d,i);break;case sg.kPESPrivateData:this[e(264)][e(304)][e(320)]===t[e(303)]?this[e(223)](d,i):this[e(264)].common_pids[e(248)]===t[e(303)]?this[e(137)](d,i):this[e(264)].common_pids.eac3===t[e(303)]?this[e(190)](d,i):this.pmt_[e(244)][t[e(303)]]?this[e(285)](d,t[e(303)],r):this[e(264)][e(355)][t[e(303)]]?this[e(324)](d,i,o,t[e(303)],r):this[e(246)](d,i,o,t[e(303)],r);break;case sg[e(254)]:this[e(330)](d,i);break;case sg.kLOASAAC:this[e(348)](d,i);break;case sg[e(336)]:this[e(137)](d,i);break;case sg.kEAC3:this[e(190)](d,i);break;case sg[e(310)]:this.pmt_[e(257)][t.pid]?this[e(171)](d,i,o,t[e(303)],r):this[e(264)][e(134)][t[e(303)]]&&this[e(335)](d,i,o,t.pid,r);break;case sg[e(194)]:this[e(199)](d,i,o,t[e(337)]);break;case sg[e(207)]:this[e(169)](d,i,o,t[e(337)]);break;case sg[e(388)]:this[e(178)](d,i,!0);break;case sg.G711U:this[e(178)](d,i,!1);break;default:this[e(180)][e(372)](this[e(293)],e(220)+t[e(294)]+e(228)+t.pid)}}else if((188===r||191===r||240===r||241===r||255===r||242===r||248===r)&&t[e(294)]===sg.kPESPrivateData){let i,o=6;i=0!==n?n:s.byteLength-o;let a=s[e(217)](o,o+i);this[e(246)](a,void 0,void 0,t[e(303)],r)}}else this[e(180)][e(263)](this[e(293)],e(226)+i)}[dg(221)](t){const e=dg;let s=t[0];if(0!==s)return void Log.e(this[e(133)],e(291)+s+e(176));let i=(15&t[1])<<8|t[2];t[3],t[4];let r=(62&t[5])>>>1,n=1&t[5],o=t[6];t[7];let a=null;if(1===n&&0===o)a={version_number:0,network_pid:0,program_pmt_pid:{}},a.version_number=r;else if(a=this[e(270)],null==a)return;let h=i-5-4,l=-1,c=-1;for(let s=8;s<8+h;s+=4){let i=t[s]<<8|t[s+1],r=(31&t[s+2])<<8|t[s+3];0===i?a[e(308)]=r:(a.program_pmt_pid[i]=r,-1===l&&(l=i),-1===c&&(c=r))}1===n&&0===o&&(null==this[e(270)]&&this[e(180)][e(127)](this.TAG_NAME,e(376)+JSON[e(419)](a)),this[e(270)]=a,this[e(271)]=l,this[e(143)]=c)}parsePMT(t){const e=dg;let s=t[0];if(2!==s)return void this[e(180)].debugError(this[e(293)],e(356)+s+e(272));let i,r=(15&t[1])<<8|t[2],n=t[3]<<8|t[4],o=(62&t[5])>>>1,a=1&t[5],h=t[6];if(t[7],1===a&&0===h)i=this[e(423)](),i[e(252)]=n,i[e(375)]=o,this.program_pmt_map_[n]=i;else if(i=this[e(177)][n],null==i)return;i[e(150)]=(31&t[8])<<8|t[9];let l=(15&t[10])<<8|t[11],c=12+l,d=r-9-l-4;for(let s=c;s<c+d;){let r=t[s],n=(31&t[s+1])<<8|t[s+2],o=(15&t[s+3])<<8|t[s+4];i[e(234)][n]=r;let a=i[e(304)][e(142)]||i[e(304)][e(160)],h=i[e(304)][e(130)]||i.common_pids[e(138)]||i[e(304)][e(248)]||i[e(304)][e(245)]||i[e(304)][e(320)]||i[e(304)][e(231)]||i[e(304)][e(307)]||i[e(304)][e(391)];if(r!==sg.kH264||a)if(r!==sg[e(207)]||a)if(r!==sg.kADTSAAC||h)if(r!==sg.kLOASAAC||h)if(r!==sg[e(336)]||h)if(r!==sg[e(206)]||h)if(r!==sg.kMPEG1Audio&&r!==sg[e(345)]||h)if(r!==sg.G711A||h)if(r!==sg[e(406)]||h)if(r===sg[e(188)]){if(i[e(132)][n]=!0,o>0){for(let r=s+5;r<s+5+o;){let s=t[r+0],o=t[r+1];if(5===s){let s=String[e(346)](...Array.from(t[e(217)](r+2,r+2+o)));s===e(200)?i[e(355)][n]=!0:"Opus"===s?i.common_pids[e(320)]=n:s===e(314)&&(i[e(244)][n]=!0)}else if(127===s&&n===i.common_pids[e(320)]){let s=null;if(128===t[r+2]&&(s=t[r+3]),null==s){Log.e(this.TAG,"Not Supported Opus channel count.");continue}const i={codec:e(320),channel_count:0==(15&s)?2:15&s,channel_config_code:s,sample_rate:48e3},n={codec:e(320),meta:i};0==this.audio_init_segment_dispatched_?(this[e(181)]=i,this[e(426)](n)):this.detectAudioMetadataChange(n)&&(this[e(277)](),this[e(426)](n))}r+=2+o}let a=t.subarray(s+5,s+5+o);this.dispatchPESPrivateDataDescriptor(n,r,a)}}else if(r===sg[e(310)]){if(o>0)for(let r=s+5;r<s+5+o;){let s=t[r+0],o=t[r+1];if(38===s){let s=t[r+2]<<8|t[r+3]<<0,o=null;65535===s&&(o=String[e(346)](...Array[e(332)](t[e(217)](r+4,r+4+4))));let a=null;if(255===t[r+4+(65535===s?4:0)]){let i=4+(65535===s?4:0)+1;a=String[e(346)](...Array[e(332)](t.subarray(r+i,r+i+4)))}"ID3 "===o&&a===e(369)?i.timed_id3_pids[n]=!0:"KLVA"===a&&(i[e(134)][n]=!0)}r+=2+o}}else r===sg[e(352)]&&(i[e(295)][n]=!0);else i[e(304)][e(391)]=n;else i[e(304)][e(307)]=n;else i[e(304)].mp3=n;else i[e(304)][e(245)]=n;else i[e(304)].ac3=n;else i[e(304)][e(138)]=n;else i[e(304)][e(130)]=n;else i[e(304)][e(160)]=n;else i[e(304)][e(142)]=n;s+=5+o}n===this[e(271)]&&(null==this[e(264)]&&this[e(180)][e(127)](this[e(293)],"Parsed first PMT: "+JSON[e(419)](i)),this[e(264)]=i,(i[e(304)][e(142)]||i[e(304)][e(160)])&&(this.has_video_=!0),(i[e(304)].adts_aac||i.common_pids.loas_aac||i.common_pids[e(248)]||i[e(304)][e(320)]||i[e(304)][e(231)]||i.common_pids.g711a||i[e(304)][e(391)])&&(this[e(374)]=!0))}parseSCTE35(t){}[dg(199)](t,e,s,i){const r=dg;let n=new hl(t),o=null,a=null,h=[],l=0,c=!1;for(;null!=(o=n.readNextNaluPayload());){let t=new cl(o);if(t[r(292)]===rt[r(139)]){let e=Kh[r(306)](o[r(145)]);this[r(236)]?!0===this.detectVideoMetadataChange(t,e)&&(this[r(180)][r(127)](this.TAG_NAME,r(428)),this.video_metadata_changed_=!0,this[r(191)]={vps:void 0,sps:t,pps:void 0,details:e}):(this[r(191)][r(183)]=t,this[r(191)][r(409)]=e)}else t.type===rt[r(168)]?(!this.video_init_segment_dispatched_||this[r(202)])&&(this.video_metadata_[r(215)]=t,this[r(191)][r(183)]&&this[r(191)][r(215)]&&(this[r(202)]&&this.dispatchVideoMediaSegment(),this[r(197)]())):(t[r(292)]===rt.kSliceIDR||t[r(292)]===rt.kSliceNonIDR&&1===i)&&(c=!0);this.video_init_segment_dispatched_&&(h[r(238)](t),l+=t[r(145)][r(161)])}let d=Math[r(311)](e/this[r(209)]),u=Math[r(311)](s/this[r(209)]);if(h.length){let t=this.video_track_;for(let t=0;t<h[r(395)];t++){let e=h[t];if(null==a)a=e[r(145)];else{let t=new Uint8Array(a.byteLength+e.data[r(161)]);t[r(349)](a,0),t.set(e[r(145)],a.byteLength),a=t}}let e={length:l,isIFrame:c,dts:u,pts:d,cts:d-u,payload:a,type:j[r(196)],isHevc:!1};t.samples[r(238)](e),t.length=a.byteLength}}[dg(169)](t,e,s,i){const r=dg;let n=new Fl(t),o=null,a=null,h=[],l=0,c=!1;for(;null!=(o=n[r(186)]());){let t=new Ul(o);if(t.type===nt[r(283)]){if(!this[r(236)]){let e=kl[r(408)](o[r(145)]);this.video_metadata_.vps=t,this[r(191)].details={...this[r(191)][r(409)],...e}}}else if(t[r(292)]===nt.kSliceSPS){let e=kl[r(224)](o[r(145)]);this[r(236)]?!0===this.detectVideoMetadataChange(t,e)&&(this[r(180)].debugLog(this.TAG_NAME,r(360)),this[r(202)]=!0,this[r(191)]={vps:void 0,sps:t,pps:void 0,details:e}):(this[r(191)].sps=t,this[r(191)].details={...this[r(191)][r(409)],...e})}else if(t.type===nt.kSlicePPS){if(!this[r(236)]||this[r(202)]){let e=kl.parsePPS(o.data);this[r(191)].pps=t,this.video_metadata_[r(409)]={...this.video_metadata_[r(409)],...e},this[r(191)][r(250)]&&this.video_metadata_[r(183)]&&this[r(191)][r(215)]&&(this[r(202)]&&this[r(151)](),this[r(197)]())}}else(t[r(292)]===nt.kSliceIDR_W_RADL||t.type===nt[r(316)]||t[r(292)]===nt.kSliceCRA_NUT)&&(c=!0);this.video_init_segment_dispatched_&&(h[r(238)](t),l+=t[r(145)].byteLength)}let d=Math[r(311)](e/this.timescale_),u=Math[r(311)](s/this.timescale_);if(h.length){let t=this[r(412)];for(let t=0;t<h.length;t++){let e=h[t];if(null==a)a=e[r(145)];else{let t=new Uint8Array(a[r(161)]+e.data[r(161)]);t[r(349)](a,0),t.set(e[r(145)],a.byteLength),a=t}}let e={type:j[r(196)],length:l,isIFrame:c,dts:u,pts:d,cts:d-u,payload:a,isHevc:!0};t[r(377)][r(238)](e),t.length=a[r(161)]}}detectVideoMetadataChange(t,e){const s=dg;if(e[s(163)]!==this[s(191)].details.codec_mimetype)return this.player[s(127)](this[s(293)],s(329)+(this[s(191)][s(409)][s(163)]+s(205)+e[s(163)])),!0;if(e[s(361)].width!==this[s(191)].details[s(361)][s(204)]||e.codec_size.height!==this[s(191)][s(409)][s(361)][s(281)]){let t=this[s(191)][s(409)].codec_size,i=e[s(361)];return this[s(180)][s(127)](this[s(293)],s(208)+(t[s(204)]+"x")+t[s(281)]+s(205)+i[s(204)]+"x"+i.height),!0}return e[s(342)][s(204)]!==this[s(191)][s(409)][s(342)][s(204)]&&(this.player[s(127)](this[s(293)],s(147)+(this[s(191)][s(409)][s(342)][s(204)]+s(205)+e[s(342)].width)),!0)}[dg(265)](){const t=dg;return this.has_video_&&this.has_audio_?this[t(236)]&&this.audio_init_segment_dispatched_:this[t(328)]&&!this[t(374)]?this[t(236)]:!(this.has_video_||!this[t(374)])&&this.audio_init_segment_dispatched_}[dg(197)](){const t=dg;let e=this[t(191)].details,s={};s[t(292)]=t(196),s.id=this[t(412)].id,s.timescale=1e3,s.duration=this.duration_,s[t(182)]=e[t(361)][t(204)],s[t(230)]=e[t(361)].height,s.presentWidth=e[t(342)].width,s.presentHeight=e[t(342)][t(281)],s.profile=e[t(392)],s[t(222)]=e[t(227)],s[t(267)]=e[t(249)],s[t(275)]=e[t(353)],s[t(370)]=e[t(393)],s[t(397)]=e.frame_rate;let i=s[t(397)][t(131)],r=s[t(397)][t(297)];s[t(216)]=i/r*1e3,s.codec=e[t(163)];let n=!1;if(this.video_metadata_[t(250)]){n=!0;let e=this[t(191)][t(250)][t(145)][t(217)](4),i=this[t(191)].sps[t(145)].subarray(4),r=this[t(191)][t(215)][t(145)][t(217)](4);s[t(371)]=Rl({vps:e,sps:i,pps:r}),0==this.video_init_segment_dispatched_&&this[t(180)].debugLog(this.TAG_NAME,t(351)+s[t(175)]),s[t(371)]&&this[t(379)](s[t(371)],j[t(196)],0,!0,0)}else{let e=this[t(191)][t(183)][t(145)][t(217)](4),i=this.video_metadata_.pps[t(145)][t(217)](4);s[t(276)]=sl({sps:e,pps:i}),0==this.video_init_segment_dispatched_&&this.player.debugLog(this.TAG_NAME,t(152)+s[t(175)]),s[t(276)]&&this[t(379)](s.avcc,j.video,0,!0,0)}this[t(236)]=!0,this[t(202)]=!1;let o=this.media_info_;o.hasVideo=!0,o.width=s[t(182)],o[t(281)]=s.codecHeight,o.fps=s.frameRate.fps,o[t(368)]=s.profile,o[t(222)]=s[t(222)],o.refFrames=e[t(416)],o.chromaFormat=e[t(179)],o[t(242)]=s[t(370)][t(204)],o.sarDen=s.sarRatio[t(281)],o[t(149)]=s[t(175)],o[t(261)]&&o.audioCodec?o[t(312)]=t(229)+o.videoCodec+","+o[t(322)]+'"':o[t(312)]='video/mp2t; codecs="'+o.videoCodec+'"',this[t(180)][t(196)][t(333)]({width:s.codecWidth,height:s[t(230)],encTypeCode:n?Z[t(160)]:Z[t(142)]})}[dg(151)](){const t=dg;this.isInitSegmentDispatched()&&this.video_track_[t(395)]&&this[t(212)]()}dispatchAudioMediaSegment(){const t=dg;this.isInitSegmentDispatched()&&this[t(384)][t(395)]&&this[t(212)]()}dispatchAudioVideoMediaSegment(){const t=dg;this[t(265)]()&&(this[t(384)][t(395)]||this[t(412)].length)&&this[t(212)]()}[dg(330)](t,e){const s=dg;if(this[s(328)]&&!this[s(236)])return;if(this[s(299)]){let e=new Uint8Array(t.byteLength+this.aac_last_incomplete_data_[s(161)]);e.set(this[s(299)],0),e[s(349)](t,this[s(299)].byteLength),t=e}let i,r;if(null!=e&&(r=e/this[s(209)]),this[s(181)].codec===s(154)){if(null==e&&null!=this[s(164)])i=1024/this.audio_metadata_.sampling_frequency*1e3,r=this[s(164)]+i;else if(null==e)return void this.player[s(372)](this[s(293)],s(153));if(this.aac_last_incomplete_data_&&this[s(164)]){i=1024/this.audio_metadata_[s(256)]*1e3;let t=this[s(164)]+i;Math[s(232)](t-r)>1&&(this[s(180)][s(372)](this[s(293)],s(260)+(s(373)+t+"ms, PES pts: ")+r+"ms"),r=t)}}let n,o=new We(t),a=null,h=r;for(;null!=(a=o.readNextAACFrame());){i=1024/a.sampling_frequency*1e3;const t={codec:s(154),data:a};0==this[s(184)]?(this[s(181)]={codec:s(154),audio_object_type:a[s(300)],sampling_freq_index:a[s(365)],sampling_frequency:a[s(256)],channel_config:a[s(282)]},this[s(426)](t)):this[s(414)](t)&&(this[s(277)](),this[s(426)](t)),n=h;let e=Math[s(311)](h);const r=new Uint8Array(a.data[s(395)]+2);r[s(349)]([175,1],0),r.set(a.data,2);let o={payload:r,length:r[s(161)],pts:e,dts:e,type:j[s(288)]};this.audio_track_[s(377)][s(238)](o),this[s(384)][s(395)]+=r[s(161)],h+=i}o[s(268)]()&&(this.aac_last_incomplete_data_=o[s(201)]()),n&&(this[s(164)]=n)}parseLOASAACPayload(t,e){const s=dg;if(this[s(328)]&&!this[s(236)])return;if(this[s(299)]){let e=new Uint8Array(t[s(161)]+this[s(299)][s(161)]);e.set(this.aac_last_incomplete_data_,0),e[s(349)](t,this[s(299)][s(161)]),t=e}let i,r;if(null!=e&&(r=e/this[s(209)]),this[s(181)][s(175)]===s(154)){if(null==e&&null!=this[s(164)])i=1024/this[s(181)].sampling_frequency*1e3,r=this[s(164)]+i;else if(null==e)return void this.player[s(372)](this[s(293)],s(153));if(this.aac_last_incomplete_data_&&this[s(164)]){i=1024/this[s(181)][s(256)]*1e3;let t=this.audio_last_sample_pts_+i;Math[s(232)](t-r)>1&&(this[s(180)][s(372)](this[s(133)],s(260)+(s(373)+t+"ms, PES pts: ")+r+"ms"),r=t)}}let n,o=new Ge(t),a=null,h=r;for(;null!=(a=o.readNextAACFrame(Os(this[s(401)])?void 0:this[s(401)]));){this[s(401)]=a,i=1024/a[s(256)]*1e3;const t={codec:"aac",data:a};0==this.audio_init_segment_dispatched_?(this[s(181)]={codec:s(154),audio_object_type:a[s(300)],sampling_freq_index:a.sampling_freq_index,sampling_frequency:a[s(256)],channel_config:a.channel_config},this[s(426)](t)):this[s(414)](t)&&(this[s(277)](),this[s(426)](t)),n=h;let e=Math.floor(h);const r=new Uint8Array(a[s(145)][s(395)]+2);r[s(349)]([175,1],0),r[s(349)](a[s(145)],2);let o={payload:r,length:r.byteLength,pts:e,dts:e,type:j[s(288)]};this[s(384)][s(377)][s(238)](o),this[s(384)][s(395)]+=r[s(161)],h+=i}o[s(268)]()&&(this[s(299)]=o.getIncompleteData()),n&&(this.audio_last_sample_pts_=n)}[dg(137)](t,e){}parseEAC3Payload(t,e){}[dg(223)](t,e){}[dg(424)](t,e){const s=dg;if(this[s(328)]&&!this[s(236)])return;let i=[44100,48e3,32e3,0],r=[22050,24e3,16e3,0],n=[11025,12e3,8e3,0],o=t[1]>>>3&3,a=(6&t[1])>>1,h=(t[2],(12&t[2])>>>2),l=3!==(t[3]>>>6&3)?2:1,c=0,d=34;switch(s(231),o){case 0:c=n[h];break;case 2:c=r[h];break;case 3:c=i[h]}switch(a){case 1:d=34;break;case 2:d=33,s(395);break;case 3:d=32,s(395)}const u={};u[s(413)]=d,u[s(400)]=c,u[s(344)]=l,u.data=t;const p={codec:s(231),data:u};0==this[s(184)]?(this.audio_metadata_={codec:s(231),object_type:d,sample_rate:c,channel_count:l},this[s(426)](p)):this[s(414)](p)&&(this[s(277)](),this[s(426)](p));const f=new Uint8Array(t.length+1);f[s(349)]([32],0),f[s(349)](t,1);let m={payload:f,length:f[s(161)],pts:e/this[s(209)],dts:e/this[s(209)],type:j[s(288)]};this[s(384)].samples[s(238)](m),this.audio_track_[s(395)]+=f[s(161)]}[dg(178)](t,e,s){const i=dg;if(this[i(328)]&&!this[i(236)])return;const r={};r[i(400)]=8e3,r[i(344)]=1;const n={codec:s?i(307):"g711u"};0==this[i(184)]?(this[i(181)]={codec:n[i(175)],sample_rate:r[i(400)],channel_count:r[i(344)]},this[i(426)](n)):this[i(414)](n)&&(this[i(277)](),this[i(426)](n));const o=new Uint8Array(t[i(395)]+1),a=s?[114]:[130];o[i(349)](a,0),o[i(349)](t,1);let h={payload:o,length:o[i(161)],pts:Math.floor(e/this[i(209)]),dts:Math[i(311)](e/this[i(209)]),type:j[i(288)]};this[i(384)][i(377)][i(238)](h),this[i(384)][i(395)]+=o[i(161)]}[dg(414)](t){const e=dg;if(t[e(175)]!==this[e(181)][e(175)])return this[e(180)][e(127)](this[e(293)],e(144)+(this.audio_metadata_.codec+e(205)+t[e(175)])),!0;if(t.codec===e(154)&&this[e(181)][e(175)]===e(154)){const s=t[e(145)];if(s[e(300)]!==this[e(181)][e(300)])return this[e(180)].debugLog(this[e(293)],e(305)+(this[e(181)].audio_object_type+e(205)+s[e(300)])),!0;if(s.sampling_freq_index!==this[e(181)][e(365)])return this[e(180)][e(127)](this[e(293)],e(241)+(this[e(181)][e(365)]+e(205)+s[e(365)])),!0;if(s[e(282)]!==this[e(181)][e(282)])return this[e(180)][e(127)](this.TAG_NAME,e(233)+(this[e(181)][e(282)]+e(205)+s[e(282)])),!0}else if("ac-3"===t.codec&&this.audio_metadata_[e(175)]===e(362)){const s=t[e(145)];if(s[e(256)]!==this[e(181)][e(256)])return this[e(180)].debugLog(this[e(293)],e(170)+(this[e(181)][e(256)]+e(205)+s[e(256)])),!0;if(s.bit_stream_identification!==this[e(181)].bit_stream_identification)return this[e(180)][e(127)](this[e(293)],e(274)+(this[e(181)][e(198)]+" to ")+s[e(198)]),!0;if(s[e(219)]!==this[e(181)][e(219)])return this[e(180)].debugLog(this[e(293)],e(341)+(this[e(181)].bit_stream_mode+e(205)+s[e(219)])),!0;if(s[e(325)]!==this[e(181)][e(325)])return this[e(180)].debugLog(this[e(293)],e(148)+(this.audio_metadata_.channel_mode+e(205)+s.channel_mode)),!0;if(s.low_frequency_effects_channel_on!==this[e(181)][e(403)])return this[e(180)][e(127)](this.TAG_NAME,e(162)+(this[e(181)].low_frequency_effects_channel_on+e(205)+s[e(403)])),!0}else if(t[e(175)]===e(320)&&this[e(181)][e(175)]===e(320)){const s=t[e(309)];if(s[e(400)]!==this[e(181)][e(400)])return this[e(180)][e(127)](this.TAG_NAME,e(211)+(this[e(181)].sample_rate+e(205)+s[e(400)])),!0;if(s[e(344)]!==this.audio_metadata_[e(344)])return this.player[e(127)](this.TAG_NAME,"Opus: Channel count changed from "+(this[e(181)].channel_count+e(205)+s[e(344)])),!0}else if("mp3"===t[e(175)]&&"mp3"===this[e(181)][e(175)]){const s=t[e(145)];if(s[e(413)]!==this[e(181)][e(413)])return this.player[e(127)](this.TAG_NAME,"MP3: AudioObjectType changed from "+(this[e(181)][e(413)]+e(205)+s[e(413)])),!0;if(s[e(400)]!==this[e(181)].sample_rate)return this[e(180)][e(127)](this[e(293)],"MP3: SamplingFrequencyIndex changed from "+this[e(181)][e(400)]+" to "+s.sample_rate),!0;if(s[e(344)]!==this[e(181)].channel_count)return this[e(180)][e(127)](this.TAG_NAME,e(128)+(this[e(181)][e(344)]+e(205)+s[e(344)])),!0}return!1}dispatchAudioInitSegment(t){const e=dg;let s={};s[e(292)]="audio",s.id=this[e(384)].id,s[e(420)]=1e3,s[e(381)]=this[e(279)];let i="";if("aac"===this[e(181)][e(175)]){let r=t[e(175)]===e(154)?t.data:null,n=new cg(r);s.audioSampleRate=n[e(173)],s.audioSampleRateIndex=n[e(334)],s[e(415)]=n[e(344)],s[e(175)]=n[e(163)],s.originalCodec=n[e(405)],s[e(247)]=n.config,s.refSampleDuration=1024/s.audioSampleRate*s[e(420)],i=et[e(213)];const o=ke({profile:this[e(180)][e(367)][e(382)]?n[e(413)]:n[e(343)],sampleRate:s[e(421)],channel:s[e(415)]});this[e(180)][e(127)](this[e(293)],"aacADTSHeader profile: "+n[e(413)]+", sampleRate: "+s[e(421)]+e(287)+s[e(415)]),this[e(379)](o,j[e(288)],0,!1,0)}else this[e(181)][e(175)]===e(362)?this.player[e(372)](this.TAG_NAME,e(218)):this[e(181)][e(175)]===e(136)?this.player[e(372)](this.TAG_NAME,"EAC3: Unsupported codec"):"opus"===this.audio_metadata_[e(175)]?this.player[e(372)](this[e(293)],"Opus: Unsupported codec"):this[e(181)][e(175)]===e(231)?(s[e(378)]=this.audio_metadata_[e(400)],s[e(415)]=this[e(181)].channel_count,s[e(175)]="mp3",s[e(185)]=e(231),s.config=void 0,i=et[e(166)]):this[e(181)][e(175)]===e(307)?(s[e(378)]=this.audio_metadata_[e(400)],s[e(415)]=this[e(181)][e(344)],s[e(175)]=e(307),s[e(185)]=e(307),s[e(247)]=void 0,i=et[e(388)]):this[e(181)].codec===e(391)&&(s.audioSampleRate=this[e(181)][e(400)],s[e(415)]=this[e(181)][e(344)],s[e(175)]=e(391),s[e(185)]="g711u",s.config=void 0,i=et[e(406)]);0==this[e(184)]&&this.player[e(127)](this.TAG_NAME,e(157)+s[e(175)]),this[e(184)]=!0,this[e(202)]=!1,i&&this.player[e(288)].updateAudioInfo({encTypeCode:i,channels:s.channelCount,sampleRate:s[e(378)]})}[dg(387)](t,e,s){const i=dg;let r={};r[i(303)]=t,r[i(294)]=e,r[i(386)]=s}parsePESPrivateDataPayload(t,e,s,i,r){const n=dg;this[n(180)][n(127)](this[n(293)],n(323));let o=new og;if(o[n(303)]=i,o[n(253)]=r,o[n(363)]=t.byteLength,o.data=t,null!=e){let t=Math[n(311)](e/this[n(209)]);o.pts=t}else o[n(301)]=this[n(317)]();if(null!=s){let t=Math[n(311)](s/this.timescale_);o[n(135)]=t}}[dg(171)](t,e,s,i,r){const n=dg;this[n(180)][n(127)](this[n(293)],n(327)+i+n(411)+e+", dts="+s+n(278)+r)}[dg(335)](t,e,s,i,r){const n=dg;this[n(180)][n(127)](this.TAG_NAME,n(193)+i+", pts="+e+n(284)+s+n(278)+r)}[dg(285)](t,e,s){const i=dg;this[i(180)][i(127)](this[i(293)],i(399)+e+", stream_id="+s)}[dg(324)](t,e,s,i,r){const n=dg;this[n(180)][n(127)](this[n(293)],"SMPTE 2038 Metadata: pid="+i+n(411)+e+n(284)+s+n(278)+r)}getNearestTimestampMilliseconds(){const t=dg;if(null!=this[t(164)])return Math[t(311)](this[t(164)]);if(null!=this.last_pcr_){return Math[t(311)](this.last_pcr_/300/this[t(209)])}}_preDoDecode(){const t=dg,e=this[t(412)],s=this[t(384)];let i=e[t(377)];this[t(189)](e),this[t(189)](s),s[t(377)][t(395)]>0&&(i=e[t(377)][t(146)](s.samples),i=i[t(366)](((e,s)=>{const i=t;return e[i(135)]-s[i(135)]}))),i[t(286)]((e=>{const s=t,i=new Uint8Array(e[s(359)]);delete e.payload,e[s(292)]===j[s(196)]?this[s(203)]({...e,payload:i}):e[s(292)]===j[s(288)]&&this[s(319)]({...e,payload:i})})),e.samples=[],e[t(395)]=0,s[t(377)]=[],s.length=0}[dg(203)](t){const e=dg,s=new Uint8Array(t[e(359)]);let i=null;i=t[e(237)]?Pl(s,t.isIFrame):il(s,t[e(358)]),this[e(180)][e(407)]({dts:t.dts,vbps:8*i[e(161)]}),t[e(358)]&&this[e(417)](t[e(135)]);let r=this[e(192)](i,t[e(358)]);this._doDecodeByTs(r,j.video,t.dts,t[e(358)],t[e(158)])}[dg(319)](t){const e=dg,s=new Uint8Array(t[e(359)]);this[e(180)][e(407)]({abps:s[e(161)]});let i=this[e(240)](s);this[e(379)](i,j[e(288)],t[e(135)],!1,0)}[dg(380)](){const t=dg;return this[t(338)]&&this[t(338)][t(161)]||0}[dg(350)](t){const e=dg;let s=33554432*t[6]+131072*t[7]+512*t[8]+2*t[9]+(128&t[10])/128+this[e(280)];return s+4294967296<this[e(235)]&&(s+=8589934592,this[e(280)]+=8589934592),this[e(235)]=s,s}_getTimestamp(t,e){const s=dg;let i=536870912*(14&t[e])+4194304*(255&t[e+1])+16384*(254&t[e+2])+128*(255&t[e+3])+(254&t[e+4])/2+this[s(280)];return i+4294967296<this[s(235)]&&(i+=8589934592),i}}function fg(){const t=["length","emitPESSlices","frameRate","config_","Asynchronous KLV Metadata: pid=","sample_rate","loas_previous_frame","parsePES","low_frequency_effects_channel_on","slices","original_codec_mimetype","G711U","updateStats","parseVPS","details","pes_slice_queues_",", pts=","video_track_","object_type","detectAudioMetadataChange","channelCount","ref_frames","calcIframeIntervalTimestamp","probe","stringify","timescale","audioSampleRateIndex","clearSlices","_initPmt","parseMP3Payload","payload_unit_start_indicator","dispatchAudioInitSegment","emitError","H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment","debugLog","MP3: Channel count changed from ","TsDemux","adts_aac","fps_den","pes_private_data_pids","TAG","synchronous_klv_pids","dts","ec-3","parseAC3Payload","loas_aac","kSliceSPS","312621MJZvnT","emitTsPrivateData","h264","current_pmt_pid_","Audio: Audio Codecs changed from ","data","concat","Video: Present resolution width changed from ","AC3: Channel Mode changed from ","videoCodec","pcr_pid","dispatchVideoMediaSegment","Generated first AVCDecoderConfigurationRecord for mimeType: ","AAC: Unknown pts","aac","discontinuity_indicator","tsPacketSize","Generated first AudioSpecificConfig for mimeType: ","cts","handleSectionSlice","h265","byteLength","AC3: Low Frequency Effects Channel On changed from ","codec_mimetype","audio_last_sample_pts_","buffer","MP3","section_slice_queues_","kSlicePPS","parseH265Payload","AC3: Sampling Frequency changed from ","parseTimedID3MetadataPayload","init","sampling_rate","1312570tMVXnf","codec"," is not corresponded to PAT!","program_pmt_map_","parseG711Payload","chroma_format_string","player","audio_metadata_","codecWidth","sps","audio_init_segment_dispatched_","originalCodec","readNextNaluPayload","reset","kPESPrivateData","correctSamplePts","parseEAC3Payload","video_metadata_","cryptoPayload","Synchronous KLV Metadata: pid=","kH264","Malformed PES: PES_packet_length < 3 + PES_header_data_length","video","dispatchVideoInitSegment","bit_stream_identification","parseH264Payload","VANC","getIncompleteData","video_metadata_changed_","_doDecodeVideo","width"," to ","kEAC3","kH265","Video: Coded Resolution changed from ","timescale_","isEmitTsPrivateData","Opus: SamplingFrequencyIndex changed from ","_preDoDecode","AAC","sync_offset","pps","refSampleDuration","subarray","AC3: Unsupported codec","bit_stream_mode","Unsupported stream. type: ","parsePAT","level","parseOpusPayload","parseSPS","match","parsePES: packet_start_code_prefix should be 1 but with value ","level_string",", pid: ",'video/mp2t; codecs="',"codecHeight","mp3","abs","AAC: Channel configuration changed from ","pid_stream_type","last_pcr_base_","video_init_segment_dispatched_","isHevc","push","last_pcr_","cryptoPayloadAudio","AAC: SamplingFrequencyIndex changed from ","sarNum","parseSection","asynchronous_klv_pids","eac3","parsePESPrivateDataPayload","config","ac3","bit_depth","vps","parseChunks() sync_byte = ","program_number","stream_id","kADTSAAC","expected_length","sampling_frequency","timed_id3_pids","parseSCTE35","2RHqOkQ","AAC: Detected pts overlapped, ","hasAudio","destroy","debugError","pmt_","isInitSegmentDispatched","701259smrxvP","bitDepth","hasIncompleteData","2564910vdmzwU","pat_","current_program_"," is not corresponded to PMT!","1541195lOKkmg","AC3: Bit Stream Identification changed from ","chromaFormat","avcc","dispatchAudioMediaSegment",", stream_id=","duration_","timestamp_offset_","height","channel_config","kSliceVPS",", dts=","parseAsynchronousKLVMetadataPayload","forEach",", channel: ","audio","dispatchAudioVideoMediaSegment","first_parse_","parsePAT: table_id ","type","TAG_NAME","stream_type","scte_35_pids","emitSectionSlices","fps_num","parsePMT","aac_last_incomplete_data_","audio_object_type","nearest_pts","ts_packet_size","pid","common_pids","AAC: AudioObjectType changed from ","parseSPS$2","g711a","network_pid","meta","kMetadata","floor","mimeType","min","KLVA",", not start with 0x47, so break","kSliceIDR_N_LP","getNearestTimestampMilliseconds","file_position","_doDecodeAudio","opus","handlePESSlice","audioCodec","parsePESPrivateDataPayload()","parseSMPTE2038MetadataPayload","channel_mode","total_length","Timed ID3 Metadata: pid=","has_video_","Video: Codec mimeType changed from ","parseADTSAACPayload","tsPacketSizeError","from","updateVideoInfo","sampling_index","parseSynchronousKLVMetadataPayload","kAC3","random_access_indicator","_remainingPacketData","kMPEG1Audio","dispatch","AC3: BitStream Mode changed from ","present_size","original_object_type","channel_count","kMPEG2Audio","fromCharCode","parseChunks","parseLOASAACPayload","set","_getPcrBase","Generated first HEVCDecoderConfigurationRecord for mimeType: ","kSCTE35","chroma_format","694100uCPooi","smpte2038_pids","parsePMT: table_id ","handlePESSlice: packet_start_code_prefix should be 1 but with value ","isIFrame","payload","H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment","codec_size","ac-3","len","audio_metadata_changed_","sampling_freq_index","sort","_opt","profile","ID3 ","sarRatio","hvcc","debugWarn","expected: ","has_audio_","version_number","Parsed first PAT: ","samples","audioSampleRate","_doDecodeByTs","getInputByteLength","duration","mseDecodeAudio","media_info_","audio_track_","_getTimestamp","descriptor","dispatchPESPrivateDataDescriptor","G711A","2233760fnrmNN","syncOffset","g711u","profile_string","sar_ratio","_isTsPacketSizeValid"];return(fg=function(){return t})()}const mg=gg;function gg(t,e){const s=yg();return(gg=function(t,e){return s[t-=342]})(t,e)}function yg(){const t=["isIFrame","_doDecodeByPs","channelCount","audioSpecificConfig","351792tFYKuL","audio","isG711U","profile: ","skip","sampleRateIndex","type","StartCodePS","g711u","633176TAPjha","getInputByteLength","pps","4502200mSeSmX","set","sps","dispatch() this.input is null","debugError","_init","_parseVideoData","Short buffer","startTime","byteLength","_doDecodeAudio","tmp8","videoBuffer",", sampleRate:","4206062hgmjaB","dispatch","demuxVideo","aac seq header","not I frame and set I frame","input","currentPTS","TAG_NAME","_parseAudioData","slice","isDestroyedOrClosed","_isSendVideoSeqHeader","videoBufferSize","video","dts","getUint8","audioTrack","Demux error:","isG711A","mp3","destroy","parsePESPacket","_opt","659943dHbFdq","audioTrack: ","buffer","h264","300AddJPm","g711a","debugWarn","unknow video stream type: ","isHevc","updateStats",", channel: ","subarray","Invalid video size","sampleRate","player","stringify","isAAC","video seq header","channel","getUint16","map","getUint32","MEPGProgramEndCode","11516sPAmLk","decProgramStreamMap","close","G711A","debugLog","length","_doDecodeVideo","Invalid MAP size","_cleanup","StartCodeAudio","cryptoPayloadAudio","profile","56iPleRo","push","hasAudio","G711U","pts","vps","now","demux","isMP3","Invalid skip size","650424HeFgXV","_isSendAACSeqHeader","Invalid audio size","aac","MP3","videoTrack","demuxAudio","video type: ","h265",",sampleRateIndex: ","init"];return(yg=function(){return t})()}!function(t,e){const s=gg,i=t();for(;;)try{if(492329===parseInt(s(355))/1+parseInt(s(418))/2*(-parseInt(s(399))/3)+parseInt(s(440))/4+-parseInt(s(358))/5+parseInt(s(346))/6+parseInt(s(372))/7+parseInt(s(430))/8*(parseInt(s(395))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yg);class Ag extends xf{constructor(t){const e=gg;super(t),this[e(379)]="PSDemux",this[e(363)](),this[e(377)]=new Vf(this[e(437)]()),t[e(422)](this[e(379)],e(450))}[mg(392)](){const t=mg;super[t(392)](),this[t(420)](),this[t(363)](),this[t(409)][t(422)](this[t(379)],t(392))}[mg(363)](){const t=mg;this[t(388)]={type:null,channelCount:"",channels:0,sampleRate:"",sampleRateIndex:-1},this.videoTrack={type:null,sps:null,pps:null,vps:null},this._isSendAACSeqHeader=!1,this[t(383)]=!1,this[t(434)]=0,this.dts=0,this[t(369)]=new Uint8Array(4),this.dv=new DataView(this[t(369)][t(397)]),this[t(370)]=[],this[t(384)]=0,this[t(378)]=0,this[t(366)]=0}[mg(373)](t){const e=mg;this[e(377)]?this[e(377)].write(t):this[e(409)][e(401)](this[e(379)],e(361))}*[mg(437)](){const t=mg,e=this[t(369)],s=this.dv;try{let i=!0;for(;!this._isDestroyed&&!this.player[t(382)]();){if(e[t(423)]<4){this.player[t(401)](this[t(379)],"Insufficient data for header"),yield e;continue}yield e;const r=s[t(416)](0);if(i){if(r!==Yt[t(353)]){yield e[t(423)];continue}i=!1}switch(r){case Yt[t(353)]:yield 9,yield e[t(406)](0,1);const i=7&s[t(387)](0);yield i;break;case Yt.StartCodeMAP:yield e[t(406)](0,2);const n=s.getUint16(0);if(n>Xt[t(415)]||n<0){this[t(409)][t(401)](this.TAG_NAME,t(425)),yield e;continue}const o=yield n;this[t(419)](o);break;case Yt.StartCodeVideo:yield e[t(406)](0,2);const a=s[t(414)](0);if(a>Xt[t(385)]||a<0){this[t(409)][t(401)](this.TAG_NAME,t(407)),yield e;continue}this[t(374)](yield a);break;case Yt[t(427)]:yield e[t(406)](0,2);const h=s[t(414)](0);if(h>Xt[t(347)]||h<0){this.player[t(401)](this[t(379)],t(442)),yield e;continue}this[t(446)](yield h);break;case Yt.MEPGProgramEndCode:return this.player[t(422)](this[t(379)],t(417),r),void this._cleanup();default:yield e.subarray(0,2);const l=s[t(414)](0);if(l>Xt[t(350)]||l<0){this[t(409)][t(401)](this[t(379)],t(439)),yield e;continue}yield l}}}catch(e){throw this[t(409)][t(362)](this.TAG_NAME,t(389),e),this._cleanup(),e}}[mg(393)](t){const e=mg;if(t.length<4)throw new Error(e(365));const s=t[1],i=s>>7==1,r=(64&s)>>6==1,n=t[2];if(t[e(423)]<n+3)throw new Error(e(365));const o=t.subarray(3,3+n);return i&&o[e(423)]>4&&(this[e(434)]=(14&o[0])<<29|o[1]<<22|(254&o[2])<<14|o[3]<<7|o[4]>>1,r&&o[e(423)]>9?this[e(386)]=(14&o[5])<<29|o[6]<<22|(254&o[7])<<14|o[8]<<7|o[9]>>1:this[e(386)]=this[e(434)]),t[e(406)](3+n)}[mg(419)](t){const e=mg,s=new DataView(t.buffer,t.byteOffset,t[e(367)]),i=t[e(423)];let r=2;const n=s.getUint16(r);r+=2,r+=n;let o=s.getUint16(r);for(r+=2;o>0&&!(i<=r+1);){const n=t[r];r++;const a=t[r];if(r++,a>=224&&a<=239?this.videoTrack.type||(n===Jt.h264?this[e(445)][e(352)]=Z[e(398)]:n===Jt[e(448)]?this.videoTrack[e(352)]=Z[e(448)]:this[e(409)].debugWarn(this.TAG_NAME,e(402)+n),this.player[e(422)](this[e(379)],e(447)+this[e(445)][e(352)])):a>=192&&a<=223&&(this[e(388)][e(352)]||(n===Jt[e(443)]?this[e(388)].type=et.AAC:n===Jt[e(400)]?this.audioTrack[e(352)]=et[e(421)]:n===Jt[e(354)]?this[e(388)][e(352)]=et[e(433)]:n===Jt[e(391)]?this[e(388)][e(352)]=Jt[e(391)]:this.player.debugWarn(this[e(379)],"unknow audio stream type: "+n),(this[e(390)]()||this.isG711U())&&(this[e(388)][e(344)]=1,this[e(388)][e(408)]=8e3),this.player[e(422)](this[e(379)],e(396)+JSON[e(410)](this[e(388)])))),i<=r+1)break;const h=s[e(414)](r);r+=2,r+=h,o-=4+h}}[mg(374)](t){const e=mg,s=this[e(393)](t),i=this[e(370)];if(!this[e(366)])if(this.isHevc()){if((126&s[4])>>1!=32)return!1;this[e(366)]=Date.now(),this[e(378)]=this[e(434)]}else{if(7!=(15&s[4]))return!1;this[e(366)]=Date[e(436)](),this.currentPTS=this.pts}if(this[e(378)]==this[e(434)])return this[e(384)]+=s[e(423)],i[e(431)](s[e(381)]()),!1;if(i[e(423)]&&this[e(378)]!=this[e(434)]){let t=0,s=!0;this[e(403)]()?(126&i[0][4])>>1!=32&&(s=!1):1==(15&i[0][4])&&(s=!1);const r=1==i.length?i[0]:i.reduce(((s,i)=>{const r=e;return s.subarray(t)[r(359)](i),t+=i[r(423)],s}),new Uint8Array(this[e(384)])),n=this[e(434)]/90,o=this[e(386)]/90;this[e(409)][e(404)]({dts:o,vbps:8*r.byteLength}),this[e(364)](r,{isIFrame:s,dts:o,pts:n}),i[e(423)]=0}this.videoBufferSize+=s.length,i[e(431)](s[e(381)]()),this.currentPTS=this.pts}[mg(446)](t){const e=mg;if(!this[e(409)][e(394)][e(432)])return;const s=this.parsePESPacket(t);this[e(409)][e(404)]({abps:8*s[e(367)]}),this[e(380)](s,this[e(386)]/90)}[mg(364)](t,e){const s=mg,i=He(t),r=this[s(403)]();if(0===i[s(423)])return;let n=null,o=e[s(342)];const a=e[s(386)],h=e.pts,l=h-a;i.forEach((t=>{const e=s,i=r?t[0]>>>1&63:31&t[0];switch(i){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==i||r&&5===i)break;!o&&(this[e(409)].debugLog(this.TAG_NAME,e(376)),o=!0);break;case 32:if(!r)break;!this[e(445)][e(435)]&&(this[e(445)].vps=t);break;case 7:case 33:if(!r&&7!==i||r&&7===i)break;!this[e(445)][e(360)]&&(this[e(445)][e(360)]=t);break;case 8:case 34:if(!r&&8!==i||r&&8===i)break;!this[e(445)][e(357)]&&(this[e(445)][e(357)]=t)}if(r&&Ml(i)||!r&&ol(i)){const s=Je(t);if(n){const t=new Uint8Array(n[e(367)]+s[e(367)]);t[e(359)](n,0),t[e(359)](s,n[e(367)]),n=t}else n=s}}));let c=null;r?this[s(445)][s(360)]&&this[s(445)][s(357)]&&this[s(445)][s(435)]&&(c=Rl({vps:this[s(445)][s(435)],sps:this[s(445)].sps,pps:this.videoTrack[s(357)]})):this[s(445)][s(360)]&&this[s(445)].pps&&(c=sl({sps:this[s(445)][s(360)],pps:this[s(445)][s(357)]})),c&&!this[s(383)]&&(this[s(409)][s(422)](this[s(379)],s(412)),this[s(343)](c,j[s(385)],0,!0,0),this._isSendVideoSeqHeader=!0),n&&this[s(424)](n,{pts:h,dts:a,cts:l,isIFrame:o})}[mg(380)](t,e){const s=mg;if(this.audioTrack[s(352)])if(this.isAAC()){if(!this[s(441)]){this._isSendAACSeqHeader=!0;const e=function(t){const e=1+((192&t[2])>>>6),s=(60&t[2])>>>2,i=(1&t[2])<<2|(192&t[3])>>>6,r=new Uint8Array([(3&e)<<3|(14&s)>>1,(1&s)<<7|(15&i)<<3]);return{profile:e,sampleRateIndex:s,sampleRate:Te[s],channel:i,audioSpecificConfig:r}}(t[s(406)](0,7));this[s(388)]=Object.assign(this[s(388)],{description:e[s(345)],sampleRate:e[s(408)],channels:e[s(413)]});const i=ke({profile:e[s(429)],sampleRate:e[s(351)],channel:e[s(413)]});this.player[s(422)](this[s(379)],s(375),s(349)+e[s(429)]+s(371)+e[s(408)]+s(449)+e[s(351)]+s(405)+e[s(413)]),this[s(343)](i,j[s(347)],0,!1,0)}if(this[s(441)]){let i=_e(t.subarray(7));this[s(368)](i,e)}}else{let i;this[s(390)]()?i=_m(t):this[s(348)]()?i=Cm(t):this[s(438)]()&&(i=Wm(t)),this[s(368)](i,e)}}[mg(424)](t,e){const s=mg,i=new Uint8Array(t);let r=null;r=this[s(403)]()?Pl(i,e[s(342)]):il(i,e[s(342)]),e[s(342)]&&this.calcIframeIntervalTimestamp(e[s(386)]),this[s(343)](r,j[s(385)],e.dts,e[s(342)],e.cts)}[mg(368)](t,e){const s=mg,i=this[s(428)](t);this[s(343)](i,j[s(347)],e,!1,0)}[mg(403)](){const t=mg;return this[t(445)][t(352)]===Z[t(448)]}[mg(411)](){return this[mg(388)].type===et.AAC}isG711A(){const t=mg;return this[t(388)].type===et[t(421)]}[mg(348)](){const t=mg;return this[t(445)].type===et[t(433)]}[mg(438)](){const t=mg;return this.audioTrack[t(352)]===et[t(444)]}[mg(426)](){const t=mg;this[t(409)][t(422)](this[t(379)],"cleanup")}[mg(420)](){const t=mg;this[t(377)]&&(this[t(377)][t(420)](),this[t(377)]=null)}[mg(356)](){const t=mg;let e=0;return this[t(377)]&&this[t(377)].buffer&&(e=this[t(377)][t(397)][t(367)]),e}}!function(t,e){const s=Cg,i=t();for(;;)try{if(579170===-parseInt(s(456))/1*(-parseInt(s(453))/2)+-parseInt(s(452))/3+-parseInt(s(454))/4*(-parseInt(s(448))/5)+-parseInt(s(450))/6+parseInt(s(455))/7*(-parseInt(s(447))/8)+parseInt(s(451))/9+parseInt(s(449))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_g);const vg={h264:2,h264_plug:4,h265:12},bg=1,Sg=2,wg={g711u:10,g711a:14,aac:26},Eg={sampleRate_4000:1,sampleRate_8000:2,sampleRate_11025:3,sampleRate_16000:4,sampleRate_20000:5,sampleRate_22050:6,sampleRate_32000:7,sampleRate_44100:8,sampleRate_48000:9},Tg={sampleRate_4000:1,sampleRate_8000:2,sampleRate_11025:3,sampleRate_16000:4,sampleRate_20000:5,sampleRate_22050:6,sampleRate_24000:7,sampleRate_32000:8,sampleRate_44100:9,sampleRate_48000:10},Ig={g711u:2,g711a:1,aac:3},kg=[252,253,254,240,251,241,0,0,255,0];function _g(){const t=["315678TYcIHd","33162uIRCGb","2514620FPhUGL","1407npHLmZ","31ISNjBw","21896HDjmdK","5DWeyOt","2084790nLqxPX","6689658pKCgxU","8984979XRLqve"];return(_g=function(){return t})()}function Cg(t,e){const s=_g();return(Cg=function(t,e){return s[t-=447]})(t,e)}const Dg={audio:192,video:224},Rg={video:1,audio:16};function Lg(){const t=["h264_plug","sampleRate_16000","8980884zlDfEf","sampleRate_4000","sampleRate_32000","length","139224ITwcxF","sampleRate_22050","2107323aVLpbw","g711u","h264","result","sampleRate_8000","89QBsAVw","4487605hTbrGB","slice","1963759FgpItJ","h265","G711U","894200euoExh","aac","G711A","sampleRate_20000","g711a","sampleRate_11025","4YohvwH","AAC","187ImeEyB","index","sampleRate_24000","sampleRate_44100","6VXgoxA","25170IssxjW","sampleRate_48000"];return(Lg=function(){return t})()}function Pg(t){return 90===t[0]&&76===t[1]&&65===t[2]&&86===t[3]}function xg(t,e){const s=Lg();return(xg=function(t,e){return s[t-=469]})(t,e)}function Mg(t){const e=xg;let s=null;switch(t){case wg[e(478)]:s=et[e(487)];break;case wg.g711a:s=et[e(490)];break;case wg[e(489)]:s=et[e(495)];break;case vg[e(479)]:case vg[e(469)]:s=Z.h264;break;case vg.h265:s=Z[e(486)]}return s}function Bg(t){const e=xg;let s=null;switch(t){case Eg[e(472)]:s=4e3;break;case Eg[e(481)]:s=8e3;break;case Eg[e(493)]:s=11025;break;case Eg[e(470)]:s=16e3;break;case Eg[e(491)]:s=2e4;break;case Eg[e(476)]:s=22050;break;case Eg[e(473)]:s=32e3;break;case Eg[e(499)]:s=44100;break;case Eg[e(502)]:s=48e3}return s}function Fg(t){return 0===t[0]&&0===t[1]&&1===t[2]}!function(t,e){const s=xg,i=t();for(;;)try{if(665855===-parseInt(s(482))/1*(-parseInt(s(501))/2)+parseInt(s(477))/3+-parseInt(s(494))/4*(parseInt(s(483))/5)+parseInt(s(500))/6*(parseInt(s(485))/7)+-parseInt(s(475))/8+parseInt(s(471))/9+parseInt(s(488))/10*(-parseInt(s(496))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lg);const Ug=Ng;function Og(){const t=["initPlaybackCacheLoop","TAG_NAME","_doDecodeAudio","_parsePesHeadFromData","set","video info type: ","isTendaPs","lastVideoRelativeTimestamp","_isTendaPs","profile: ","video_init_segment_dispatched_","depth","byteLength","_zlPsStreamParse","_zlStreamParse","audioTrack","dataLength","_parseVideoData","vps"," and frameLength is ","h264","payload length: ","audio_init_segment_dispatched_","_parseExtHeadFromData","updateStats","samplingFrequencyIndex","video","_doDecodeVideo","isPlaybackCacheBeforeDecodeForFpsRender","type","pps","not I frame and set I frame","274qVXDCJ","frameLength","objectType","_hasInitAudio","25406630VwQdIE","destroy","aac seq header","tempBufferList","index","videoTrack","result","sps","channelCount",", channel: ","player","downloadTempFile","3113768BfmvAa","2391124ZIdTuB","_isG711U",", data length: ","lastVideoIncreaseRelativeTimestamp","G711U","_doDecode","setStreamFps","debugLog","relativeTimestamp","data length is not enough for one frame, frameLength: ","channels","3VyeKAf","dts","sampleRateIndex","height","updatePlaybackStreamFps() and fps is ","isIFrame","application/octet-stream","stringify",", fps: ","_handlePacket","CommonDemux","sampleRate","playbackStreamFps","startTimestamp","_parseHeadFromData","8tALgfx","indexOf","fps","audio info ",",sampleRateIndex: ","lastAudioRelativeTimestamp","lastAudioIncreaseRelativeTimestamp",", pts: ","audio","headLength","_remainingPacketData","7678071YRFZsX","video seq header","_opt","380AxtsuR","_isH264","codec","_isAAC","_isG711A","width","G711A","_parseAudioData","length","205668NxZwdI","init and isTendaPs:","_doDecodeByTenda","_isH265",", isIFrame: ","slice","updatePlaybackStreamFps","6765035srEBhH"];return(Og=function(){return t})()}function Ng(t,e){const s=Og();return(Ng=function(t,e){return s[t-=412]})(t,e)}!function(t,e){const s=Ng,i=t();for(;;)try{if(725850===parseInt(s(417))/1*(parseInt(s(466))/2)+parseInt(s(494))/3*(parseInt(s(483))/4)+parseInt(s(433))/5+-parseInt(s(426))/6+-parseInt(s(482))/7*(-parseInt(s(509))/8)+parseInt(s(414))/9+-parseInt(s(470))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Og);class jg extends xf{constructor(t){const e=Ng;super(t),this.TAG_NAME="TendaDemux",this[e(413)]=null,this.video_init_segment_dispatched_=!1,this[e(456)]=!1,this.videoTrack={width:0,height:0,sps:null,pps:null,vps:null,type:null,fps:0},this[e(449)]={channels:0,type:null,sampleRate:0,sampleRateIndex:-1,duration:0},this.lastVideoRelativeTimestamp=0,this[e(514)]=0,this[e(486)]=0,this[e(515)]=0,this[e(473)]=[],this[e(507)]=null,t[e(490)](this[e(435)],e(427),t[e(416)].isTendaPs)}[Ug(471)](){const t=Ug;super.destroy(),this._remainingPacketData=null,this[t(444)]=!1,this[t(456)]=!1,this[t(475)]=null,this[t(449)]=null,this[t(441)]=0,this[t(514)]=0,this[t(486)]=0,this[t(515)]=0,this.tempBufferList=[],this.player[t(490)](this[t(435)],t(471))}[Ug(457)](t){const e=Ug;let s=0;for(s=0;s<t[e(425)];)switch(t[s]){case 128:(!this[e(475)].width||!this[e(475)][e(497)])&&(this.videoTrack.width=8*rc(t,s+2),this[e(475)][e(497)]=8*rc(t,s+3)),s+=4;break;case 129:!this[e(475)][e(463)]&&(this[e(475)][e(511)]=rc(t,s+3),this[e(475)][e(463)]=Mg(rc(t,s+2)),this[e(480)][e(490)](this[e(435)],e(439)+this.videoTrack[e(463)]+e(502)+this[e(475)][e(511)]),this[e(432)](this[e(475)].fps)),s+=4;break;case 130:(!this[e(475)].width||!this.videoTrack[e(497)])&&(this.videoTrack[e(422)]=oc(t,s+4),this[e(475)].height=oc(t,s+6)),s+=8;break;case 131:!this[e(449)].type&&(this[e(449)][e(493)]=rc(t,s+1),this[e(449)][e(463)]=Mg(rc(t,s+2)),this[e(449)][e(505)]=Bg(rc(t,s+3)),this[e(449)].sampleRateIndex=Ie[e(510)](this[e(449)].sampleRate)),s+=4;break;case 136:s+=8;break;case 135:s+=4}}[Ug(508)](t){const e=Ug;if(t.length<24)return this[e(480)][e(490)](this[e(435)],"data length is not enough for head length, head length: 24"+e(485)+t.length),{length:0};const s=t[4];t[5],t[6],t[7],t[8],t[9],t[10],t[11];const i=t[12]|t[13]<<8|t[14]<<16|t[15]<<24,r=t[16]|t[17]<<8|t[18]<<16|t[19]<<24,n=t[20]|t[21]<<8,o=t[22];if(t[e(425)]<i)return this.player[e(490)](this[e(435)],"data length is not enough for one frame, frameLength: "+i+e(485)+t[e(425)]),{length:0};if(o>0){let s=t.slice(24,24+o);this[e(457)](s)}let a=null,h=!1,l=!1,c=!1;s===kg[1]?(h=!0,a=j[e(460)]):s===kg[0]?(l=!0,a=j.video):s===kg[2]?(c=!0,a=j[e(460)]):s===kg[3]?a=j[e(517)]:this[e(480)][e(490)](this[e(435)],"frame type is not support, frameType: "+s+e(453)+i);let d=n,u=0;if(a===j[e(460)]||a===j[e(517)]){let t=a===j[e(460)]?this.lastVideoRelativeTimestamp:this[e(514)];u=n<t?65535-t+n:n-t,d=(a===j[e(460)]?this[e(486)]:this[e(515)])+u,a===j.video?(this.lastVideoIncreaseRelativeTimestamp=d,this[e(441)]=n):(this[e(515)]=d,this[e(514)]=n)}return{type:a,isIFrame:h,isPFrame:l,isBFrame:c,timestamp:r,relativeTimestamp:d,streamRelativeTimestamp:n,frameLength:i,headLength:24+o,extHeadLength:o,duration:u}}_parsePesHeadFromData(t){const e=Ug,s=t[3];let i={frameLength:0};if(s!==Dg.audio&&s!==Dg[e(460)])return i;const r=t[e(431)](0,32).slice(19),n=r[0],o=r[4]|r[3]<<8|r[2]<<16|r[1]<<24,a=32+(r[8]|r[7]<<8|r[6]<<16|r[5]<<24);if(t[e(425)]<a)return this[e(480)][e(490)](this[e(435)],e(492)+a+e(485)+t[e(425)]),i;i[e(467)]=a;const h=t[e(431)](32,a);if(n===Rg[e(517)]){if(!this[e(449)][e(463)]){const t=r[9],s=r[10],i=r[11],n=r[12];this[e(449)][e(463)]=function(t){const e=xg;let s=null;switch(t){case Ig[e(478)]:s=et[e(487)];break;case Ig[e(492)]:s=et.G711A;break;case Ig[e(489)]:s=et[e(495)]}return s}(t),this.audioTrack[e(493)]=s,this[e(449)][e(505)]=function(t){const e=xg;let s=null;switch(t){case Tg[e(472)]:s=4e3;break;case Tg[e(481)]:s=8e3;break;case Tg[e(493)]:s=11025;break;case Tg.sampleRate_16000:s=16e3;break;case Tg[e(491)]:s=2e4;break;case Tg[e(476)]:s=22050;break;case Tg[e(498)]:s=24e3;break;case Tg[e(473)]:s=32e3;break;case Tg[e(499)]:s=44100;break;case Tg[e(502)]:s=48e3}return s}(n),this.audioTrack[e(496)]=Ie[e(510)](this.audioTrack[e(505)]),this[e(449)][e(445)]=function(t){let e=null;switch(t){case 1:e=8;break;case 2:e=16;break;case 3:e=32}return e}(i),this[e(480)][e(490)](this.TAG_NAME,e(512)+JSON[e(501)](this.audioTrack))}this[e(503)](h,{type:j[e(517)],pts:o,relativeTimestamp:o})}else if(n===Rg[e(460)]){!this[e(475)][e(463)]&&(this.videoTrack.type=function(t){const e=xg;let s=null;switch(t){case bg:s=Z[e(479)];break;case Sg:s=Z.h265}return s}(r[9]),this[e(475)][e(511)]=r[11],this.player[e(490)](this[e(435)],"video info type: "+this.videoTrack.type+e(502)+this[e(475)][e(511)]),this[e(432)](this[e(475)][e(511)]));const t=r[10],s=1===t,i=2===t;this._handlePacket(h,{type:j[e(460)],isIFrame:s,isPFrame:i,pts:o,relativeTimestamp:o})}return i}dispatch(t){const e=Ug;let s=new Uint8Array(t);this[e(413)]&&(s=Hi(this[e(413)],s),this[e(413)]=null),this[e(442)]()?this._zlPsStreamParse(s):this._zlStreamParse(s)}[Ug(448)](t){const e=Ug,s=function(t){const e=xg;let s={result:!1,index:0};if(t.length<4)return s;if(Pg(t))return s[e(480)]=!0,s;for(let i=1;i<t.length-3;i++)if(Pg(t[e(484)](i,i+4))){s.result=!0,s[e(497)]=i;break}return!s[e(480)]&&(s[e(497)]=t[e(474)]-3),s}(t);if(s[e(476)]){const i=s.index;let r=t[e(431)](i);const n=this[e(508)](r);if(0===n[e(425)])return void(this._remainingPacketData=r);const o=n[e(467)]-n[e(412)]-8;n[e(450)]=o;const a=n[e(412)]+o,h=n[e(412)]+o+8;if(function(t,e){let s=!1;return t.length<8||122!==(i=t)[0]||108!==i[1]||97!==i[2]||118!==i[3]?s:(t[4]|t[5]<<8|t[6]<<16|t[7]<<24)===e||s;var i}(r[e(431)](a,h),n[e(467)])){const t=n.headLength,s=r[e(431)](t,t+o);return s.length===o?this[e(503)](s,n):this.player.debugWarn(this[e(435)],"frame data length is not equal, frame data length: "+s[e(425)]+", dataLength: "+o),r=r[e(431)](n.frameLength),void this._zlStreamParse(r)}this._remainingPacketData=r}else if(s[e(474)]){const i=t[e(431)](s[e(474)]);this[e(413)]=i}else this._remainingPacketData=t}[Ug(447)](t){const e=Ug,s=function(t){const e=xg;let s={result:!1,index:0};if(t[e(474)]<3)return s;if(Fg(t))return s[e(480)]=!0,s;for(let i=1;i<t.length-2;i++)if(Fg(t[e(484)](i,i+3))){s[e(480)]=!0,s[e(497)]=i;break}return!s.result&&(s[e(497)]=t[e(474)]-2),s}(t);let i=null;if(s[e(476)]){const r=s.index;i=t[e(431)](r);const n=this[e(437)](i);return 0===n[e(467)]?void(this[e(413)]=t):(i=i.slice(n.frameLength),void this[e(447)](i))}s[e(474)]?this[e(413)]=t[e(431)](s[e(474)]):this[e(413)]=t}[Ug(503)](t,e){const s=Ug;e.type===j.video?this.player._opt.hasVideo&&this[s(451)](t,e):e[s(463)]===j[s(517)]&&this.player[s(416)].hasAudio&&this[s(424)](t,e)}[Ug(451)](t,e){const s=Ug;if(!this.videoTrack[s(463)])return;const i=He(t),r=this._isH265();if(0===i[s(425)])return;let n=null,o=e[s(499)],a=e.relativeTimestamp;i.forEach((t=>{const e=s,i=r?t[0]>>>1&63:31&t[0];switch(i){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==i||r&&5===i)break;!o&&(this[e(480)].debugLog(this.TAG_NAME,e(465)),o=!0);break;case 32:if(!r)break;!this[e(475)][e(452)]&&(this.videoTrack[e(452)]=t);break;case 7:case 33:if(!r&&7!==i||r&&7===i)break;!this.videoTrack.sps&&(this[e(475)][e(477)]=t);break;case 8:case 34:if(!r&&8!==i||r&&8===i)break;!this[e(475)][e(464)]&&(this.videoTrack.pps=t)}if(r&&Ml(i)||!r&&ol(i)){const s=Je(t);if(n){const t=new Uint8Array(n[e(446)]+s[e(446)]);t[e(438)](n,0),t[e(438)](s,n[e(446)]),n=t}else n=s}}));let h=null;r?this[s(475)].sps&&this[s(475)].pps&&this.videoTrack[s(452)]&&(h=Rl({vps:this[s(475)][s(452)],sps:this.videoTrack[s(477)],pps:this[s(475)].pps})):this[s(475)][s(477)]&&this.videoTrack[s(464)]&&(h=sl({sps:this[s(475)][s(477)],pps:this[s(475)][s(464)]})),h&&!this.video_init_segment_dispatched_&&(this[s(480)][s(490)](this.TAG_NAME,s(415)),this[s(428)](h,j[s(460)],0,!0,0),this[s(444)]=!0),n&&(this.player[s(490)](this[s(435)],s(455)+n[s(446)]+s(430)+o+s(516)+a),this[s(461)](n,{pts:a,dts:a,isIFrame:o}))}[Ug(424)](t,e){const s=Ug;if(this[s(449)][s(463)])if(this[s(420)]()){if(!this.audio_init_segment_dispatched_){const i=Me(t,e.relativeTimestamp);if(i&&(this.audioTrack[s(419)]=i[s(419)],!this[s(456)])){const t=ke({profile:i[s(468)],sampleRate:i[s(459)],channel:i.channelCount});this[s(480)].debugLog(this[s(435)],s(472),s(443)+i.objectType+", sampleRate:"+i[s(505)]+s(513)+i[s(459)]+s(479)+i[s(478)]),this[s(456)]=!0,this._doDecodeByTenda(t,j[s(517)],0,!1,0)}}this[s(456)]&&this[s(436)](t[s(431)](7),e[s(491)])}else this[s(436)](t,e[s(491)])}_doDecodeVideo(t,e){const s=Ug,i=new Uint8Array(t);let r=null;r=this[s(429)]()?Pl(i,e[s(499)]):il(i,e[s(499)]),this.player[s(458)]({dts:e[s(495)],vbps:r[s(446)]}),e[s(499)]&&this.calcIframeIntervalTimestamp(e[s(495)]),this[s(428)](r,j[s(460)],e[s(495)],e[s(499)],0)}[Ug(436)](t,e){const s=Ug,i=new Uint8Array(t);this[s(480)][s(458)]({abps:i.byteLength});let r=null;this[s(420)]()?(r=new Uint8Array(i.length+2),r.set([175,1],0),r.set(i,2)):this[s(421)]()?(r=new Uint8Array(i[s(425)]+1),r.set([114],0),r[s(438)](i,1)):this[s(484)]()&&(r=new Uint8Array(i[s(425)]+1),r[s(438)]([130],0),r[s(438)](i,1)),this[s(428)](r,j[s(517)],e,!1,0)}[Ug(469)](){const t=Ug;return this[t(449)][t(463)]&&this[t(449)].sampleRate&&this[t(449)].channels}_hasInitVideo(){const t=Ug;return this.videoTrack.type&&this.videoTrack[t(477)]&&this[t(475)][t(464)]}[Ug(429)](){return this[Ug(475)].type===Z.h265}[Ug(418)](){const t=Ug;return this[t(475)][t(463)]===Z[t(454)]}[Ug(420)](){const t=Ug;return this[t(449)][t(463)]===et.AAC}[Ug(421)](){const t=Ug;return this.audioTrack.type===et[t(423)]}[Ug(484)](){const t=Ug;return this[t(449)][t(463)]===et[t(487)]}[Ug(442)](){const t=Ug;return Di(this[t(480)][t(416)][t(440)])}getInputByteLength(){const t=Ug;return this[t(413)]&&this[t(413)][t(446)]||0}[Ug(432)](t){const e=Ug;this[e(480)][e(462)]()&&(this[e(480)][e(490)](e(504),e(498)+t),this[e(506)]=t,this.player[e(460)]&&this[e(480)][e(460)][e(489)](this[e(506)]),this[e(434)]())}[Ug(428)](t,e,s,i){const r=Ug;let n=arguments[r(425)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(488)](t,e,s,i,n)}[Ug(481)](){const t=Ug;if(0===this[t(473)][t(425)])return;const e=ec(this[t(473)]),s=new Blob([e],{type:t(500)});Us(is()+".aac",s)}}const Vg=Gg;function Wg(){const t=["8782803RzycWT","isPlayVod","9DLwiDa","m7s","3580iMWpAq","49111248afbRkS","12McEwlM","fmp4","flv","nakedFlow","3241617TXCtcN","webTransport","isWebrtcH265","_opt","1746050yjuEjD","getLoaderFactory","4lZXDLD","tenda","3801kqMlUg","4880ThLunC","110LsEBBh","2518315SqwXGz","demuxFlvUseV2"];return(Wg=function(){return t})()}function Gg(t,e){const s=Wg();return(Gg=function(t,e){return s[t-=301]})(t,e)}!function(t,e){const s=Gg,i=t();for(;;)try{if(887216===-parseInt(s(319))/1*(parseInt(s(321))/2)+-parseInt(s(304))/3*(parseInt(s(310))/4)+-parseInt(s(315))/5*(parseInt(s(323))/6)+parseInt(s(312))/7*(-parseInt(s(313))/8)+parseInt(s(317))/9+parseInt(s(308))/10*(-parseInt(s(314))/11)+parseInt(s(322))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wg);class zg{constructor(t){return new(zg[Gg(309)](t))(t)}static[Vg(309)](t){const e=Vg,s=t[e(307)].demuxType;return Qi()?mm:s===e(311)?jg:s===m[e(320)]?Zf:s===m[e(302)]||t[e(306)]()?t._opt[e(316)]?Jf:Kf:s===m[e(305)]?im:s===m[e(303)]?dm:s===m[e(301)]&&Ri(t[e(318)]())?qm:s===m.mpeg4?Xm:s===m.ts?pg:s===m.ps?Ag:mm}}function Hg(t,e){const s=Kg();return(Hg=function(t,e){return s[t-=365]})(t,e)}function Kg(){const t=["opus","1507860POJpbr","17852rJCvcV","length","7hkoUcG","getUint32","2XnldNB","82003bOhVSj","218277vGbPUR","getInt16","9iOoSVQ","byteOffset","byteLength","3013820sbeouO","OpusHead","Invalid Opus MagicSignature","buffer","fromCodePoint","1137976QNSAZB","1231962TgEdJi"];return(Kg=function(){return t})()}!function(t,e){const s=Hg,i=t();for(;;)try{if(222115===-parseInt(s(380))/1*(-parseInt(s(379))/2)+parseInt(s(381))/3+parseInt(s(375))/4+-parseInt(s(374))/5+parseInt(s(372))/6*(parseInt(s(377))/7)+-parseInt(s(371))/8*(parseInt(s(383))/9)+parseInt(s(366))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Kg);const qg=Qg;function Qg(t,e){const s=Yg();return(Qg=function(t,e){return s[t-=171]})(t,e)}function Yg(){const t=["AudioDecoder isDecodeStateClosed true","isUseFpsRender","decodeVideo and payload is video sequence header so drop this frame","byteLength","debugWarn","webcodecsH265NotSupport","handlePlayToRenderTimes","isPlayback","closed","delta","VideoDecoder:","unconfigured","videoStart","isDecodeFirstIIframe","sequenceHeader","debugError","_clearAudioSourceBufferCheckTimeout",",\n                         and emit change event","channelCount","slice","sampleRate"," height ","audioInfo","wcsWidthOrHeightChange","updateStats","handleRender","playVod","audioSourceNoDataCheckTimeout","decodeDiffTimestamp","initCanvasViewSize","VideoDecoder first frame is not iFrame","1392374KbhpZm","decode","initDecoder","video","optimizeForLatency","1424792AmlyLk","updateAudioInfo","hasAudioInit","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","getDecodeDelay","612542anSdaJ","decodeVideo and payload is too small , payload length is ","render","MULAW","ulaw","AudioDecoder"," more than ","state","lastDecodedTs","decoderAudio","codecHeight","playback","play","timestamp","player","_isDestroyed","prefer-hardware","isAudioDecodeStateUnConfigured","handleError","decodeVideo: video width or height is changed,\n                        old width is ","emit","unsupportedConfiguration","close","_clearAudioNoDataCheckTimeout","hasInit","isDecodeStateConfigured","width","updatePrevHandleDecodeTimestamp","4TDqNHA","configure audio error","decodeVideo and webcodecs configure is","mp3","recordType","abs","isWidthOrHeightChanged","VideoDecoder handleError：","updateMediaSourceDuration","configured","configure","seekingTimestamp","videoInfo","updateVideoInfo: ","isAudioDecodeStateClosed","destroy","MP3","isOpus","configure or configure.code is null","wcsDecodeAudio","off","isDecodeStateUnConfigured","decodeAudio","audioSourceBufferCheckTimeout","initDecoderAudio","prevTimestamp","VideoDecoder isDecodeStateClosed true","key","isPlayer","height","1945059rKiecf","length","795990WDzMCM","isAAC","mp4","isSeeking","stringify","ALAW","toString","code","OPUS","handleDecode() player is destroyed and return","h265","TAG_NAME","isUseLocalCalculateTime","isAudioInitInfo","handleDecodeAudio","codedWidth","now","recorder","_times","codec","webcodecsDecodeError","decodeVideo has not init , isIframe is ","indexOf","reset","isDestroyedOrClosed","decodeVideo","width ","decodeStart","54tdnhiq","configure error","numberOfChannels","audio","Webcodecs","prevHandleDecodeTimestamp","codedHeight","isMp3",", old height is ","ms, video is stuck","isInitInfo","initAudioAacExtraData","hasAudio","decodeAudio and has already initialized and payload is not opus comment packets and type is ","lastPushToDecodeTs","getCorrectionConfiguration","decodeVideo() player is destroyed","decoder","webcodecsAudioDecodeError","AudioDecoder handleError：","_opt","emitError","decoderError","h264","init","9415944VEUFli","decodeVideo: video width or height is changed, and return","codecWidth","2070545ZNWjyk","render$2","updateVideoInfo","decoderAudio.configure() and codec is ","getDecodeDiffTimes","isG711","decoderFailure","webcodecsAudioInitTimeout","decodeAudio() player is destroyed","webcodecsDecodeConfigureError","opus","needInitAudio","isDecodeStateClosed","canNotDecodeClosedCodec"," so drop this frame","webcodecsAudioNoDataTimeout","checkFirstIFrame","isPlayVod","debugLog","handleErrorAudio","decoder.configure() and codec is ","originalCodec"];return(Yg=function(){return t})()}!function(t,e){const s=Qg,i=t();for(;;)try{if(542770===parseInt(s(254))/1+parseInt(s(184))/2+parseInt(s(252))/3+parseInt(s(222))/4*(parseInt(s(310))/5)+parseInt(s(282))/6*(-parseInt(s(194))/7)+-parseInt(s(189))/8+-parseInt(s(307))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yg);class Jg extends h{constructor(t){const e=Qg;super(),this[e(208)]=t,this[e(265)]=e(286),this[e(277)](),this[e(345)]=!!Ri(t[e(302)][e(326)]),this[e(299)]=null,this.decoderAudio=null,this[e(245)]=null,this[e(180)]=null,this[e(186)](),this[e(321)]()&&this.initDecoderAudio(),this[e(209)]=!1,t.debugLog(this[e(265)],e(306))}async[qg(237)](){const t=qg;if(this[t(209)]=!0,this[t(217)](),this[t(348)](),this.decoder){if(this[t(218)])try{await this.decoder.flush()}catch(t){}Ri(this[t(322)]())&&this[t(299)][t(216)](),this[t(299)]=null}if(this[t(203)]){if(this[t(191)])try{await this[t(203)].flush()}catch(t){}Ri(this[t(236)]())&&this[t(203)][t(216)](),this.decoderAudio=null}this[t(277)](),this[t(242)](),this[t(208)][t(328)](this[t(265)],t(237))}[qg(277)](){const t=qg;this[t(247)]=null,this[t(181)]=null,this[t(287)]=null,this.prevDts=null,this[t(218)]=!1,this[t(292)]=!1,this[t(267)]=!1,this[t(255)]=!1,this.isMp3=!1,this[t(239)]=!1,this[t(315)]=!1,this.isDecodeFirstIIframe=!1,this[t(228)]=!1,this.lastPushToDecodeTs=null,this[t(202)]=null}[qg(186)](){const t=qg,e=this;this[t(299)]=new VideoDecoder({output(t){e.handleDecode(t)},error(s){e[t(212)](s)}})}[qg(246)](){const t=qg,e=this;this[t(203)]=new AudioDecoder({output(s){e[t(268)](s)},error(s){e[t(329)](s)}})}needInitAudio(){const t=qg;return this.player[t(302)][t(294)]&&this[t(208)][t(302)][t(241)]}handleDecode(t){const e=qg;if(this[e(209)])yi(t);else{if(this[e(208)].isDestroyedOrClosed())return this[e(208)][e(328)](this[e(265)],e(263)),void yi(t);if(Ri(this[e(345)]))return this[e(208)][e(328)](this.TAG_NAME,"handleDecode() isDecodeFirstIIframe is false and return"),void yi(t);if(this[e(321)]()&&Ri(this.hasAudioInit))return null===this[e(245)]&&(this.audioSourceBufferCheckTimeout=setTimeout((()=>{const t=e;this[t(348)](),this[t(209)]||this[t(208)][t(214)](Q[t(317)])}),1e3)),void yi(t);if(this[e(202)]=t[e(207)],this.player[e(250)]())this.updatePrevHandleDecodeTimestamp(),this.player[e(177)]({dfps:!0}),!this[e(208)]._times[e(344)]&&(this.player[e(272)][e(344)]=is(),this.player[e(338)]()),this.player[e(187)][e(196)]({videoFrame:t,ts:t[e(207)]}),this[e(208)][e(178)]();else if(this.player[e(339)]())this.player[e(177)]({dfps:!0}),Ri(this.player.playbackPause)?(this[e(208)][e(205)][e(266)]&&this[e(208)][e(205)].increaseLocalTimestamp(),this[e(208)][e(205)][e(333)]?this.player[e(187)].pushData({videoFrame:t,ts:t[e(207)]}):this[e(208)][e(187)][e(311)]({videoFrame:t,ts:t.timestamp})):this[e(208)].playback[e(192)]()&&this.player[e(205)][e(333)]&&this[e(208)].video.pushData({videoFrame:t,ts:t.timestamp});else if(this[e(208)][e(327)]())if(this[e(208)].playVod[e(257)]()){const s=this[e(208)].playVod[e(233)];Math[e(227)](s-t[e(207)])<500?(this[e(208)][e(179)].removeSeekingTimestamp(),this.player[e(177)]({dfps:!0}),this[e(208)][e(187)][e(311)]({videoFrame:t,ts:t[e(207)]})):yi(t)}else this[e(208)].updateStats({dfps:!0}),this[e(208)][e(187)][e(311)]({videoFrame:t,ts:t.timestamp})}}handleError(t){const e=qg;this.player[e(347)](this.TAG_NAME,e(229),t[e(261)],t);const s=t.toString();-1!==s[e(276)](St[e(215)])?this.player[e(303)](Q.webcodecsUnsupportedConfigurationError,s):-1!==s.indexOf(St[e(316)])?this[e(208)][e(303)](Q.webcodecsDecodeError,s):-1!==s.indexOf(St.decodingError)?this[e(208)][e(303)](Q[e(274)],s):-1!==s[e(276)](St[e(304)])?this.player[e(303)](Q.webcodecsDecodeError,s):-1!==s[e(276)](St.hevcDecodingIsNotSupported)&&this[e(208)][e(303)](Q[e(337)],s)}[qg(268)](t){const e=qg;if(this._isDestroyed)Ai(t);else{if(this[e(208)][e(278)]()&&this.player[e(328)](this[e(265)],"handleDecodeAudio() player is destroyed"),Ri(this[e(345)]))return this.player[e(328)](this.TAG_NAME,"handleDecodeAudio() isDecodeFirstIIframe is false and return"),void Ai(t);this[e(208)][e(250)]()?this[e(208)][e(285)][e(206)](t,t[e(207)]):this[e(208)][e(339)]()?this[e(208)].audio[e(206)](t,t.timestamp):this[e(208)][e(327)]()&&(this[e(208)][e(179)][e(257)]()?Ai(t):this[e(208)][e(285)][e(206)](t,t[e(207)]))}}[qg(329)](t){const e=qg;this[e(208)].debugError(this[e(265)],e(301),t.code,t),this[e(208)][e(214)](Q[e(300)])}[qg(279)](t,e,s,i){const r=qg;if(!this[r(209)])if(this.player.isDestroyedOrClosed())this[r(208)][r(336)](this[r(265)],r(298));else if(this[r(218)])if(!this[r(345)]&&s&&(this.isDecodeFirstIIframe=!0),this[r(345)]){if(this[r(322)]())return void this[r(208)][r(336)](this.TAG_NAME,r(248));if(s&&0===t[1]){const e=15&t[0];let s={},i=t[r(172)](5);const n=this.player.getCorrectionConfiguration();e===Z[r(305)]?s=tl(i,n):e===Z[r(264)]&&(s=Dl(i,n));const o=this[r(208)][r(187)][r(234)];o&&o[r(220)]&&o[r(251)]&&s&&s.codecWidth&&s[r(204)]&&(s[r(309)]!==o[r(220)]||s.codecHeight!==o[r(251)])&&(this.player[r(336)](this[r(265)],r(213)+o.width+r(290)+o[r(251)]+",\n                         new width is "+s[r(309)]+", new height is "+s[r(204)]+r(349)),this.isWidthOrHeightChanged=!0,this[r(208)][r(303)](Q[r(176)],r(280)+o.width+"->"+o[r(251)]+r(174)+s[r(309)]+"->"+s.codecHeight))}if(this[r(228)])return void this[r(208)][r(336)](this.TAG_NAME,r(308));if(Ci(t))return void this.player[r(328)](this[r(265)],r(334));if(t[r(335)]<12)return void this[r(208)][r(336)](this[r(265)],r(195)+t[r(335)]+" and return");let i=!1,n=Date[r(270)]();!this[r(247)]&&(this[r(247)]=n,i=!0);const o=n-this[r(247)];this[r(181)]=o,o>85&&!i&&this[r(208)][r(250)]()&&this[r(208)][r(328)](this[r(265)],"decodeVideo diff time is "+o+r(200)+"85ms, video is stuck");const a=t[r(172)](5),h=new EncodedVideoChunk({data:a,timestamp:e,type:s?ht[r(249)]:ht[r(341)]});this[r(208)][r(177)]({p2dfps:!0}),this.lastPushToDecodeTs=e;try{this.decoder.decode(h)}catch(t){const e=t[r(260)]();this[r(208)][r(347)](this[r(265)],r(342),t,e),-1!==e[r(276)](St.keyframeIsRequiredError)?this[r(208)].emitError(Q[r(274)],e):-1!==e[r(276)](St[r(323)])&&this[r(208)][r(303)](Q[r(274)],e)}this[r(247)]=n}else this[r(208)][r(328)](this[r(265)],r(183));else if(s&&t[1]===Tt[r(346)]){const e=15&t[0];if(this[r(208)].video[r(312)]({encTypeCode:e}),e===Z.h265&&!Ms()){const t=As();return this[r(208)].debugWarn(this.TAG_NAME,"WebcodecsDecoder not support hevc decode",t.type,t.version),void this[r(208)][r(303)](Q[r(337)])}!this[r(208)][r(272)][r(281)]&&(this.player[r(272)].decodeStart=is());let s=null,i=null;const n=t[r(172)](5),o=this.player[r(297)]();if(e===Z.h264?(i=tl(n,o),s={codec:i[r(273)],description:n}):e===Z[r(264)]&&(i=Dl(n,o),s={codec:i[r(273)],description:n}),!s||s&&!s[r(273)]||i&&0===i[r(309)]&&0===i[r(204)])return this[r(208)].debugWarn(this[r(265)],r(224),JSON[r(258)](s)),void this.player[r(303)](Q[r(319)],r(240));s[r(288)]=i[r(204)],s[r(269)]=i[r(309)],!this[r(292)]&&(this[r(208)].debugLog(this[r(265)],r(235)+i.codecWidth+","+i[r(204)]),this[r(208)][r(187)][r(312)]({width:i[r(309)],height:i[r(204)]}),this[r(208)].video[r(182)](),this.isInitInfo=!0),this[r(208)][r(271)]&&this[r(208)][r(302)][r(226)]===f[r(256)]&&this.player[r(271)].initMetaData(t,e),this[r(208)].video.bindMediaStream(),this[r(208)][r(328)](this[r(265)],r(330)+s[r(273)]);try{s[r(188)]=!0,s.hardwareAcceleration=r(210),this.decoder[r(232)](s),this[r(218)]=!0}catch(t){this[r(208)].debugError(this[r(265)],r(283),t[r(261)],t);const e=t[r(260)]();-1!==e[r(276)](St.hevcDecodingIsNotSupported)?this.player[r(303)](Q[r(337)],e):this[r(208)].emitError(Q.webcodecsDecodeConfigureError,e)}}else this[r(208)].debugWarn(this[r(265)],r(275)+s+" , payload is "+t[1]+r(324))}[qg(244)](t,e){const s=qg;if(!this._isDestroyed)if(this[s(208)][s(278)]())this[s(208)].debugWarn(this[s(265)],s(318));else if(this[s(191)]){if(this.isAAC&&Ce(t))return void this[s(208)][s(328)](this[s(265)],"decodeAudio and has already initialized and payload is aac codec packet so drop this frame");if(this[s(239)]&&Ri(1===t[1]))return void this[s(208)][s(328)](this[s(265)],s(295)+t[1]+s(324));if(this[s(217)](),this.isDecodeFirstIIframe){if(this[s(236)]())return void this[s(208)][s(336)](this.TAG_NAME,s(332));const i=this[s(255)]||this.isOpus?t[s(172)](2):t[s(172)](1),r=i[s(253)]/this[s(208)][s(285)][s(175)][s(173)]*1e3,n=new EncodedAudioChunk({type:s(249),data:i,timestamp:e,duration:parseInt(r,10)});try{this[s(203)][s(185)](n)}catch(t){const e=t[s(260)]();this.player.debugError(this[s(265)],s(199),t,e),this.player[s(214)](Q[s(300)])}}}else{const e=t[0]>>4&15,i=t[0]>>1&1,r=e===et[s(238)],n=e===et.AAC,o=e===et[s(259)],a=e===et[s(197)],h=e===et[s(262)];let l="";l=n||h?i?16:8:0===i?8:16;const c={codec:"",numberOfChannels:"",sampleRate:""};let d=null;if(n||r){let e=null;if(Ce(t)){const i=t.slice(2);e=Fe(i),e&&(c.codec=e[s(331)],c.numberOfChannels=e.channelCount,c.sampleRate=e[s(173)]),d=i,this.isAAC=n}else if(r){e=Vm(t.slice(1)),e&&(c[s(273)]=$t[s(225)],c.numberOfChannels=e[s(171)],c.sampleRate=e[s(173)],this[s(289)]=!0)}else if(h&&0===t[1]){e=function(t){const e=Hg;if(!t[e(376)])return;const s=new DataView(t[e(369)],t[e(384)],t[e(365)]);let i="";for(let s=0;s<8;s++)i+=String[e(370)](t[s]);if(i!==e(367))throw new Error(e(368));const r=t[9],n=s[e(378)](12,!0),o=s[e(382)](16,!0);if(!n)return{};const a=e(373);return{outputGain:o,sampleRate:n,channelCount:r,config:new Uint8Array(t[e(369)],t.byteOffset+8,t[e(365)]-8),codec:a,originCodec:"opus"}}(t[s(172)](2)),e&&(c.codec=$t[s(320)],c.numberOfChannels=e[s(171)],c[s(173)]=e[s(173)]),this[s(239)]=!0}}else(a||o)&&(c[s(273)]=o?$t.alaw:$t[s(198)],c[s(284)]=1,c[s(173)]=8e3,this.isG711=!0);if(c[s(273)]&&c[s(284)]&&c[s(173)]){!this[s(267)]&&(this[s(208)][s(285)][s(190)]({encTypeCode:e,channels:c[s(284)],sampleRate:c[s(173)],depth:l}),this[s(267)]=!0),this[s(208)][s(271)]&&this[s(208)][s(302)][s(226)]===f.mp4&&d&&this[s(208)][s(271)][s(293)](d),this[s(208)][s(328)](this.TAG_NAME,s(313)+c[s(273)]);try{this[s(203)][s(232)](c),this[s(348)](),this[s(191)]=!0,null===this.audioSourceNoDataCheckTimeout&&(this[s(180)]=setTimeout((()=>{const t=s;this[t(217)](),this[t(209)]||this[t(208)].emit(Q[t(325)])}),1e3))}catch(t){this[s(208)].debugError(this[s(265)],s(223),t[s(261)],t),t[s(260)]()}}}}[qg(230)](t){}[qg(348)](){const t=qg;this.audioSourceBufferCheckTimeout&&(clearTimeout(this[t(245)]),this.audioSourceBufferCheckTimeout=null)}_clearAudioNoDataCheckTimeout(){const t=qg;this[t(180)]&&(clearTimeout(this.audioSourceNoDataCheckTimeout),this[t(180)]=null)}[qg(314)](){return this[qg(181)]}[qg(221)](){const t=qg,e=is();null===this[t(287)]&&(this[t(287)]=e);const s=e-this.prevHandleDecodeTimestamp;s>85&&this[t(208)][t(328)](this.TAG_NAME,"handleDecode diff time is "+s+t(200)+85+t(291)),this[t(287)]=e}[qg(322)](){const t=qg;return this[t(299)]&&this.decoder[t(201)]===t(340)}[qg(219)](){const t=qg;return this[t(299)]&&this[t(299)].state===t(231)}[qg(243)](){const t=qg;return this[t(299)]&&this[t(299)][t(201)]===t(343)}[qg(236)](){const t=qg;return this[t(299)]&&this[t(203)].state===t(340)}isAudioDecodeStateConfigured(){const t=qg;return this.decoder&&this[t(203)][t(201)]===t(231)}[qg(211)](){const t=qg;return this[t(299)]&&this.decoderAudio[t(201)]===t(343)}[qg(193)](){const t=qg;let e=0;return this[t(296)]&&this[t(202)]&&(e=this[t(296)]-this[t(202)]),e}}function Xg(){const t=["59730kNPFAF","1462405wBrgKr","2726460oJVWSF","length","3TKqIGW","keys","648886XFqqpj","34sETZMt","192fvEgxU","</span></span>","2069840QIJART","716068chWoLu",'<span class="icon-title-tips"><span class="icon-title">',"forEach","306dgGyyC"];return(Xg=function(){return t})()}function $g(t,e){const s=Xg();return($g=function(t,e){return s[t-=374]})(t,e)}function Zg(t,e){const s=ey();return(Zg=function(t,e){return s[t-=158]})(t,e)}!function(t,e){const s=$g,i=t();for(;;)try{if(382938===parseInt(s(386))/1*(-parseInt(s(387))/2)+parseInt(s(383))/3*(parseInt(s(375))/4)+parseInt(s(380))/5+-parseInt(s(381))/6+-parseInt(s(385))/7+parseInt(s(374))/8+-parseInt(s(378))/9*(-parseInt(s(379))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xg),function(t,e){const s=Zg,i=t();for(;;)try{if(381167===parseInt(s(254))/1+parseInt(s(211))/2*(-parseInt(s(176))/3)+parseInt(s(214))/4*(-parseInt(s(299))/5)+-parseInt(s(285))/6+-parseInt(s(168))/7*(-parseInt(s(288))/8)+parseInt(s(194))/9*(-parseInt(s(279))/10)+parseInt(s(237))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ey);var ty=(t,e)=>{const s=Zg,i=function(){const t=$g;let e=arguments[t(382)]>0&&void 0!==arguments[0]?arguments[0]:{};const s={};return Object[t(384)](ie)[t(377)]((i=>{const r=t,n=e[i]||ie[i];s[i]='\n        <i class="jb-pro-icon jb-pro-icon-'+i+'"></i>\n        '+(n?r(376)+n+r(388):"")+"\n        "})),s}(t[s(159)][s(278)]||{}),r=t[s(181)]();t._opt.hasControl&&t._opt[s(216)]?t[s(217)][s(297)][s(235)](s(170)):t[s(217)].classList[s(235)](s(195));const n=t._opt,o=n[s(208)],a='\n        <div class="jb-pro-controls-center">\n            <div class="jb-pro-controls-playback-time">\n                <div class="jb-pro-controls-playback-time-inner">\n                    <div class="jb-pro-controls-playback-time-scroll">\n                        <div class="jb-pro-controls-playback-time-list">\n                            <div class="jb-pro-playback-time-day">\n                                <div class="jb-pro-playback-time-one-wrap"></div>\n                                <div class="jb-pro-playback-time-second-wrap"></div>\n                            </div>\n                        </div>\n                        <div class="jb-pro-controls-playback-current-time">\n                            <div class="jb-pro-controls-playback-current-time-text">00:00:00</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            '+(n[s(200)][s(264)]?s(301)+i[s(294)]+'</div>\n                <div class="jb-pro-controls-item jb-pro-playback-expand">'+i[s(231)]+s(212):"")+s(245),h='\n        <div class="jb-pro-control-progress-simple">\n            <div class="jb-pro-control-progress-inner">\n                <div class="jb-pro-progress-hover"></div>\n                <div class="jb-pro-progress-cache"></div>\n                <div class="jb-pro-progress-played"></div>\n                <div class="jb-pro-progress-indicator"></div>\n                <div class="jb-pro-progress-tip">00:00</div>\n            </div>\n        </div>\n    ';Mn(s(203)+(n[s(236)]?s(256)+n[s(236)]+')"></div>':"")+s(270)+(n[s(167)]?s(178)+i.loading+s(247)+n[s(171)]+s(269):"")+"\n        "+(n[s(286)]&&o[s(209)]?'<div class="jb-pro-play-big"></div>':"")+s(203)+(n[s(286)]&&o[s(196)]?s(190)+n[s(161)]+'">\n            <div class="jb-pro-ptz-bg-active"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-up" data-arrow="up"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right" data-arrow="right"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-down" data-arrow="down"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left" data-arrow="left"></div>\n            '+(n[s(186)]?s(184):"")+s(206)+(n[s(248)]?'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-expand jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-expand-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">'+r.expandPlus+s(173)+r[s(162)]+s(302):"")+s(281)+(n[s(295)]?s(192)+r[s(233)]+s(221)+r[s(289)]+s(302):"")+"\n                "+(n[s(267)]?s(187)+r[s(265)]+s(204)+r[s(296)]+s(302):"")+s(281)+(n.ptzCruiseShow?s(284)+r[s(251)]+s(266)+r[s(276)]+s(253):"")+s(281)+(n[s(239)]?s(292)+r.fogOpen+s(177)+r.fogClose+s(253):"")+s(281)+(n[s(298)]?s(207)+r[s(218)]+'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-wiper-close jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">'+r[s(165)]+s(253):"")+"\n            </div>\n        </div>\n        ":"")+s(201)+(n.hasVideo?s(263)+i[s(294)]+s(158)+r[s(272)]+s(271)+i[s(231)]+s(185)+i[s(246)]+s(175)+i.recordStop+s(241):"")+s(203)+(n[s(286)]?s(225)+(n[s(300)]?s(183):"")+s(242)+n[s(188)]+s(180)+(n[s(166)]===p[s(244)]&&n.playbackConfig[s(240)]&&n[s(200)][s(260)]===S.normal?a:"")+s(274)+(n.playType===p[s(244)]&&n[s(200)][s(240)]&&n[s(200)][s(260)]===S[s(252)]?h:"")+s(274)+(n[s(166)]===p.playVod?h:"")+'\n                    <div class="jb-pro-controls-right">\n                        '+(n[s(166)]===p[s(244)]&&n.playbackConfig[s(179)]||n[s(166)]===p[s(182)]&&n[s(226)].showRateBtn?s(230):"")+s(243)+(o[s(262)]?'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-close">'+i[s(262)]+"</div></div>":"")+s(243)+(o[s(191)]?s(228)+i[s(191)]+s(259):"")+s(243)+(o[s(287)]?s(222)+i[s(287)]+s(189)+i[s(199)]+"</div></div>":"")+"\n                         "+(o[s(202)]?s(163)+i[s(280)]+s(275)+i[s(268)]+s(259):"")+s(243)+(o[s(160)]?s(224)+i[s(250)]+'</div><div class="jb-pro-controls-item jb-pro-object-active">'+i[s(213)]+"</div></div>":"")+s(243)+(o[s(261)]?'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-occlusion">'+i.occlusion+'</div><div class="jb-pro-controls-item jb-pro-occlusion-active">'+i[s(249)]+s(259):"")+s(243)+(o[s(174)]?s(227):"")+s(243)+(o[s(283)]?s(273):"")+s(243)+(o[s(232)]?s(282)+i[s(232)]+s(169)+i[s(210)]+s(238):"")+s(243)+(o[s(209)]?s(205)+i.play+s(215)+i.pause+s(259):"")+s(243)+(o.screenshot?s(291)+i[s(290)]+s(259):"")+"\n                         "+(o.record?s(255)+i.record+s(164)+i.recordStop+s(259):"")+s(243)+(o[s(196)]?' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-ptz">'+i.ptz+s(193)+i[s(277)]+s(259):"")+s(243)+(o[s(293)]?s(303)+i.zoom+'</div><div class="jb-pro-controls-item jb-pro-zoom-stop">'+i[s(246)]+s(259):"")+s(243)+(o[s(258)]?s(172)+i[s(258)]+s(220)+i[s(198)]+"</div></div>":"")+s(257):"")+s(219)+r[s(223)]+s(234)+r.performanceInfo+s(229),s(197),t[s(217)])};function ey(){const t=["\n        </div>\n    ","zoomStop",'\n            <div class="jb-pro-loading-text">',"ptzZoomShow","occlusionActive","object","cruisePlay","simple","</span>\n                            </span>\n                        </div>\n                    </div>\n                    ","655089Wuvfhv",' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-record">','<div class="jb-pro-poster" style="background-image: url(',"\n                    </div>\n                </div>\n            </div>\n        ","fullscreen","</div></div>","controlType","aiOcclusion","close",'\n        <div class="jb-pro-zoom-controls">\n            <div class="jb-pro-zoom-narrow">',"showPrecisionBtn","focusFar",'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-cruise-pause jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"ptzFocusShow","faceActive","</div>\n        </div>\n        ",'\n        <div class="jb-pro-loading-bg">\n            <img class="jb-pro-loading-bg-image" src="" alt="">\n        </div>\n        ','</div>\n            <div class="jb-pro-zoom-expand">',"zoomTips",'\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-scale-menu">\n                                    <div class="jb-pro-scale-icon-text"></div>\n                                    <div class="jb-pro-scale-menu-list"></div>\n                                 </div>\n                             </div>\n                         ',"\n                    ",'</div><div class="jb-pro-controls-item jb-pro-face-active">',"cruisePause","ptzActive","i18n","863810VXkyFT","face","\n                ",'\n                            <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-volume">\n                                     ',"scale",'\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-cruise-play jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"704532ycMuNk","hasControl","performance","2253384vEgxVa","apertureNear","screenshot",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-screenshot">','\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-fog-open jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"zoom","narrow","ptzApertureShow","focusNear","classList","ptzWiperShow","1681065OrlKJB","showBandwidth",'\n                <div class="jb-pro-controls-playback-btns">\n                <div class="jb-pro-controls-item jb-pro-playback-narrow">',"</span>\n                                </span>\n                            </div>\n                        </div>\n                        ",' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-zoom">','</div>\n            <div class="jb-pro-zoom-tips">',"_opt","aiObject","ptzShowType","expandMinus",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-face">','</div><div class="jb-pro-controls-item jb-pro-record-stop">',"wiperClose","playType","loadingIcon","14yEmKXp","\n                                     ","jb-pro-controls-show-auto-hide","loadingText",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-fullscreen">','</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-narrow jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-narrow-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">',"quality",'</div>\n        </div>\n        <div class="jb-pro-recording">\n            <div class="jb-pro-recording-red-point"></div>\n            <div class="jb-pro-recording-time">00:00:00</div>\n            <div class="jb-pro-recording-stop">',"6iTWyhH",'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-fog-close jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">','\n        <div class="jb-pro-loading">\n            ',"showRateBtn","</div>\n                    </div>\n                    ","getI18n","playVod",'<div class="jb-pro-controls-item jb-pro-speed" title="网速"></div>','\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left-up" data-arrow="left-up"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right-up" data-arrow="right-up"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left-down" data-arrow="left-down"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right-down" data-arrow="right-down"></div>\n                ','</div>\n            <div class="jb-pro-zoom-stop2">',"ptzMoreArrowShow",'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-focus-far jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-focus-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">',"controlHtml",'</div><div class="jb-pro-controls-item jb-pro-performance-active">','\n        <div class="jb-pro-ptz-controls show-',"logSave",'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-aperture-far jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-aperture-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">','</div><div class="jb-pro-controls-item jb-pro-ptz-active">',"63msdGDk","jb-pro-controls-show","ptz","beforeend","fullscreenExit","performanceActive","playbackConfig","\n       ","aiFace","\n        ",'</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-focus-near jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-focus-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-play">','\n            <div class="jb-pro-ptz-control"></div>\n            <div class="jb-pro-ptz-btns">\n                ','\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-wiper-open jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"operateBtns","play","mute","336946zHvdkp","</div>\n            </div>\n            ","objectActive","4TErVhs",'</div><div class="jb-pro-controls-item jb-pro-pause">',"controlAutoHide","$container","wiperOpen",'\n         <div class="jb-pro-performance-panel">\n               <div class="jb-pro-performance-panel-tab">\n                    <div class="jb-pro-performance-panel-tab-btn jb-pro-performance-panel-tab-btn1 active">','</div><div class="jb-pro-controls-item jb-pro-fullscreen-exit">','</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-aperture-near jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-aperture-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-performance">',"performanceLive",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-object">','\n            <div class="jb-pro-controls">\n                <div class="jb-pro-controls-bottom">\n                    <div class="jb-pro-controls-left">\n                        ',"playVodConfig",'\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-quality-menu">\n                                    <div class="jb-pro-quality-icon-text"></div>\n                                    <div class="jb-pro-quality-menu-list"></div>\n                                </div>\n                             </div>\n                         ','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-logSave">','</div>\n               </div>\n               <div class="jb-pro-performance-panel-info jb-pro-performance-panel-info-1"></div>\n               <div class="jb-pro-performance-panel-info jb-pro-performance-panel-info-2"></div>\n        </div>\n         <div class="jb-pro-contextmenus"></div>\n         <div class="jb-pro-tips-message">\n            <div class="jb-pro-tips-message-close">\n                <div class="jb-pro-tips-message-close-icon"></div>\n            </div>\n            <div class="jb-pro-tips-message-content"></div>\n        </div>\n    ','\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-speed-menu">\n                                    <div class="jb-pro-speed-icon-text"></div>\n                                    <div class="jb-pro-speed-menu-list"></div>\n                                </div>\n                             </div>\n                         ',"expand","audio","apertureFar",'</div>\n                    <div class="jb-pro-performance-panel-tab-btn jb-pro-performance-panel-tab-btn2">',"add","background","6137780EFLbJe",'\n                                     <div class="jb-pro-volume-panel-wrap">\n                                          <div class="jb-pro-volume-panel">\n                                                 <div class="jb-pro-volume-panel-handle"></div>\n                                          </div>\n                                          <div class="jb-pro-volume-panel-text"></div>\n                                     </div>\n                                 </div>\n                            </div>\n                         ',"ptzFogShow","showControl","</div>\n        </div>\n       ",'\n                        <div class="jb-pro-playback-control-time"></div>\n                        <div class="jb-pro-controls-item-html">',"\n                         ","playbackTF"];return(ey=function(){return t})()}function sy(t,e){let s=!1;return t.forEach((t=>{const i=ry;!s&&t[i(256)]<=e&&t[i(279)]>e&&(s=!0)})),s}function iy(){const t=ry;let e=arguments[t(271)]>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[t(271)]>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[t(271)]>2?arguments[2]:void 0;const r=e[t(271)],n=s[t(271)],o=Math[t(253)](r,n),a=2e3,h=Math[t(278)](o/a);let l=0,c=0;function d(){const n=t;let o="",u="";for(let t=0;t<a;t++){const t=e[c];t&&(o+='\n                     <div class="jb-pro-playback-time-minute-one'+(t.hasRecord?" active":"")+(t[n(267)]?n(254):"")+'" data-has-record="'+t[n(285)]+n(273)+t[n(280)]+'" data-type="'+t[n(251)]+'">\n                        <span class="jb-pro-playback-time-title-tips '+(c>r-60?"jb-pro-playback-time-title-tips-left":"")+n(282)+t[n(262)]+n(258));const i=s[c];i&&(u+=n(268)+i.hour+n(286)+i[n(281)]+'" data-second="'+i[n(252)]+n(257)+i[n(262)]+"</span></div>\n                "),c+=1}o&&i[n(264)][n(261)](n(277),o),u&&i[n(274)][n(261)](n(277),u),l+=1,l<h&&(i[n(272)]=window[n(247)](d))}d()}function ry(t,e){const s=hy();return(ry=function(t,e){return s[t-=246]})(t,e)}function ny(t,e){const s=function(){const t=ry;let e=arguments[t(271)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(256)];for(let r=0;r<1440;r++){const n=r%60==0;let o=!1;i&&(o=sy(e,Js(i,r))),s[t(263)]({title:Qs(r),timestamp:r,dataType:t(281),hasRecord:o,isStart:n})}return s}(t);iy(s,function(){const t=ry;let e=[];for(let s=0;s<24;s++){let i=s+t(283);s<10&&(i="0"+i),e[t(263)]({title:i,hour:s,min:0,second:0})}return e}(),e)}function oy(t,e){const s=function(){const t=ry;let e=arguments[t(271)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(256)];for(let r=0;r<1440;r++){let n=60*r,o=n%1800==0,a=!1;i&&(a=sy(e,Xs(i,n))),s[t(263)]({title:Ys(n),timestamp:n,dataType:t(252),hasRecord:a,isStart:o});let h=60*r+30;o=h%1800==0,i&&(a=sy(e,Xs(i,h))),s[t(263)]({title:Ys(h),timestamp:h,dataType:"second",hasRecord:a,isStart:o})}return s}(t);iy(s,function(){const t=ry;let e=[];for(let s=0;s<24;s++){let i=s+t(283),r=s+t(246);s<10&&(i="0"+i,r="0"+r),e[t(263)]({title:i,hour:s,min:0,second:0}),e[t(263)]({title:r,hour:s,min:30,second:0})}return e}(),e)}function ay(t,e){const s=function(){const t=ry;let e=arguments[t(271)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(256)];for(let r=0;r<144;r++)for(let n=0;n<60;n++){let o=10*n+600*r,a=o%600==0,h=!1;i&&(h=sy(e,Xs(i,o))),s[t(263)]({title:Ys(o),timestamp:o,dataType:t(252),isStart:a,hasRecord:h})}return s}(t);iy(s,function(){const t=ry;let e=[];for(let s=0;s<24;s++){let i=s+t(283);s<10&&(i="0"+i),e[t(263)]({title:i,hour:s,min:0,second:0});for(let r=1;r<6;r++){let n=r+"0";e[t(263)]({title:i.replace(":00",":"+n),hour:s,min:10*r,second:0})}}return e}(),e)}function hy(){const t=['" data-min="',":30","requestAnimationFrame","replace","1412815TFdgih","2987400vHXPnN","dataType","second","max"," start","6yTRLvH","startTimestamp",'"><span class="jb-pro-playback-time-hour-text">',"</span></span>\n                    </div>\n                ","32PWHvoQ","16960988EFrVJK","insertAdjacentHTML","title","push","$playbackTimeListOne","577246jUEohl","1JCxSSS","isStart",'\n                  <div class="jb-pro-playback-time-hour" data-hour="',"1790CKKktY",":05","length","rafId",'"\n                     data-time="',"$playbackTimeListSecond","2732202MBReTG","1313746JVqBfp","beforeend","ceil","endTimestamp","timestamp","min",'"><span class="jb-pro-playback-time-title">',":00","18963tabIsu","hasRecord"];return(hy=function(){return t})()}function ly(t,e){const s=function(){const t=ry;let e=arguments[t(271)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(256)];for(let r=0;r<288;r++)for(let n=0;n<60;n++){let o=5*n+300*r,a=o%300==0,h=!1;i&&(h=sy(e,Xs(i,o))),s[t(263)]({title:Ys(o),timestamp:o,dataType:t(252),isStart:a,hasRecord:h})}return s}(t);iy(s,function(){const t=ry;let e=[];for(let s=0;s<24;s++){let i=s+":00";s<10&&(i="0"+i),e[t(263)]({title:i,hour:s,min:0,second:0}),e[t(263)]({title:i[t(248)](t(283),t(270)),hour:s,min:5,second:0});for(let r=1;r<6;r++){let n=r+"0",o=r+"5";e.push({title:i[t(248)](t(283),":"+n),hour:s,min:10*r,second:0}),e[t(263)]({title:i.replace(t(283),":"+o),hour:s,min:10*r+5,second:0})}}return e}(),e)}function cy(){const t=["4388484fZDGqJ","touches","firstElementChild","pageX","clientWidth","bottom","581309ZNKOmh","11565953dfhEJi","left","613972whzuNJ","$playbackProgress","join","555968mhkesJ","map","9898236InNuli","8160265ORczwp","floor"];return(cy=function(){return t})()}function dy(t,e){const s=cy();return(dy=function(t,e){return s[t-=495]})(t,e)}function uy(t){const e=dy,s=Math[e(497)](t/3600),i=Math[e(497)]((t-3600*s)/60),r=Math.floor(t-3600*s-60*i);return(s>0?[s,i,r]:[i,r])[e(511)]((t=>t<10?"0"+t:String(t)))[e(509)](":")}function py(t,e,s){const i=dy;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=t[i(508)],o=n.getBoundingClientRect();let a,h,l=n[i(502)];r?(a=fs()&&s[i(499)]?s[i(499)][0].clientY:s.pageY,h=rs(o[i(503)]-a,0,n[i(502)])):(a=fs()&&s[i(499)]?s[i(499)][0].clientX:s[i(501)],h=rs(a-o[i(506)],0,n[i(502)]));const c=parseInt(h/l*e,10),d=uy(c),u=rs(h/l,0,1);return{second:c,time:d,width:h,percentage:u}}function fy(t,e){return rs(t/e,0,1)}function my(){const t=["abps",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>播放时长(s) ',"querySelector","destroy","$volumeOff","allTimestamp","operateBtns","is1Min","getVideoPlaybackQuality","</span>\n                </div>\n                ",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE播放模式 ',"</span>\n                        </div>\n                        ","push","hlsDemuxVideoLength","getStreamFps","audioBuffer",'\n                    <div class="jb-pro-speed-menu-item" data-speed="',"flex","jb-pro-auto-orientation-fullscreen","jb-pro-object-","getDemuxType","occlusionDetectActive","length","sampleRate",'\n                    <div class="jb-pro-performance-item">\n                        <span>服务器信息 ','</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>是否在丢帧 ',"295IvwQPX","340377DGyBqe","translateX(-50%) translateY(0) rotate(0)","isAudioUseAudioContext","</span>\n                    </div>\n                    ","$loadingBgImage","qualityConfig","$ptzControl",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解封装(ms) ',"playVodEndedAndShowPlayBtn","translateX(0) translateY(0) rotate(0)",'\n                <div class="jb-pro-performance-item">\n                    <span>最新解封装后时间(ms) ',"streamQualityChange","hlsDemuxAudioLength","$controls",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE待解码帧 ',"is30Min","events","getRenderType","audioSyncVideo","mseStore","playVodInitSeekRemoveBackgroundLock","getMinutes","isShowRecordingUI","disabled",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>渲染组件 ','\n                <div class="jb-pro-performance-item">\n                    <span>解封装模式 ',"channels","$recordingTime",'\n                        <div class="jb-pro-performance-item">\n                            <span>视频待解码帧 ',"isEnded",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>请求响应(ms) ',"getControlHeight","$volumePanelText","dfps","$activeIconWrap",'\n                    <div class="jb-pro-performance-item">\n                        <span>视频FPS ',"</div>\n                ","hasControl","playbackTF","load","listenWindowResizeAuoResize","jb-pro-fullscreen-rotate","simple","$performancePanelInfo1","scale",'\n                    <div class="jb-pro-performance-item">\n                        <span>UUid ',"forEach","getStreamType","hidden","$controlHtml","streamTimestamp",'\n                    <div class="jb-pro-performance-item">\n                        <span>音频待播放缓存帧 ','\n                    <div class="jb-pro-performance-item">\n                        <span>播放模式 ',"$pause","volume","playing","$performancePanel","controlsInnerRect","transform","$playBig","zooming","$extendDom","$qualityMenuList",'\n                <div class="jb-pro-performance-item">\n                    <span>播放模式 ','\n                    <div class="jb-pro-performance-item">\n                        <span>video显示时间(s) ',"isUseHls265",'\n                    <div class="jb-pro-performance-item">\n                        <span>Canvas渲染引擎 ',"decodeDelayTs",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频通道 ',"$qualityText","点播文件",'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>视频待解码缓存时长(ms) ',"</span>\n                        </div>\n                    ","playbackConfig","video","delayTs","$playbackProgressIndicator",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频采样率 ',"isAliyunRtc","oneHour","audioTs","$playbackTimeScroll","isScreenNowRow","isInMulti","videoCurrentTime","$playbackProgressTime","showAfterLoading","aria-hidden","renderedVideoFrames","netBuf","videoInfo","jsHeapSizeLimit",'<div class="jb-pro-performance-item">\n                        <span>HLS缓存时长(ms) ',"canvas","jb-pro-quality-menu-item-active","$occlusionDetect","emit","currentPts",'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>视频待渲染帧 ',"px) rotate(-90deg)","$fullscreen","vbps","getAudioEngineType","getHours","encType",'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>音频待解码帧 ',"playTimestamp","$faceDetect",'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码帧 ',"demuxBuffer",'\n                        <div class="jb-pro-performance-item">\n                            <span>音频显示时间(ms) ',"playbackRateChange","portrait",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>video间隔时间(s) ',"playbackPrecision",'\n                            <div class="jb-pro-performance-item">\n                                <span>音视频同步时间戳(ms) ',"control","backgroundLoadingShow",'</span>\n                    </div>\n                     <div class="jb-pro-performance-item">\n                        <span>Video已丢弃帧 ',"playVodConfig","fiveMin","isStreamTsMoreThanLocal","value","isPlaying","removeChild","px) translateY(-","$speedText",'\n                    <div class="jb-pro-performance-item">\n                        <span>视频GOP(ms) ',"$tipsMessage","isBindVideo","getCpuLevel","createdMoment","$iconWrap",'\n                    <div class="jb-pro-quality-menu-item" data-quality="',"audioInfo","\n                ","setRotate","add","isWebrtcH264","$playbackTimeListOne","$playbackCurrentTimeText",'\n                    <div class="jb-pro-performance-item">\n                        <span>缓冲的最新时间(s) ',"isAudioNotMute","isDropping","is10Min","fullscreen","webFullscreen",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>显示器分辨率(宽x高) ',"off","audio","resize","recording",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频帧率(fps) ',"$zoomStop","动态FPS","mseTs","src",'\n                <div class="jb-pro-performance-item">\n                    <span>播放器版本 ','</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码音频帧 ','\n                <div class="jb-pro-performance-item">\n                    <span>视频显示时间(ms) ',"isOldHls",'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>视频录制大小 ',"playback","jb-pro-ptz-controls-show","cancelAnimationFrame","halfHour",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>音频待播放缓存时长(ms) ',"isInitPlayer",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>视频待解码帧 ','\n                    <div class="jb-pro-performance-item">\n                    <span>视频峰值帧率(fps) ',"344799xYhczH","getDecodeType","$speedMenu","$performancePanelInfo2","droppedVideoFrames","demuxTimestamp","$playbackExpand","playVodEnded","$speedMenuItems","hlsDemuxLength","% - ","wcsDecodeAudio","_serverInfo",'\n                         <div class="jb-pro-performance-item">\n                            <span>固定FPS ',"17583560WmYGfY","fps","bufferDuration","documentElement","$performance","</span>\n                    </div>\n                ",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>已使用的内存 ',"normal","streamQuality","scaleConfig","isPlayVodMp4UseVideoSrc","absolute",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>页面开始渲染(ms) ',"dataset","speed","usedJSHeapSize","16UqdLVN","_opt","$loading","none","msePendingBuffer","faceDetectActive","playVodWaiting","mseDelay","px)","innerText","text/html","100%","defaultView","playbackCacheDataDuration","width","rate","audioBufferDelayTs","stats",'</span>\n                </div>\n                <div class="jb-pro-performance-item-block"></div>\n                    ',"showPerformance","$fullscreenExit","\n            ","playbackTime","setAttribute","$playbackProgress","\n\n                ",'\n                    <div class="jb-pro-performance-item">\n                        <span>播放器初始化(ms) ',"find",'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码视频帧 ',"rotate(-90deg)","useMSE","beforeend","\n                        ","倍</span>\n                        </div>\n                    ","rateConfig","isUseFpsRender","0 KB/s","$loadingBg","rafId","videoTimestamp","style",'\n                    <div class="jb-pro-performance-item">\n                    <span>待解封装数据(byte) ',"$zoomControls","removeLoadingBgImage and play vod use mse (or use video src) and playVodInitSeekRemoveBackgroundLock is true and return","$playbackProgressPlayed","extendBtnList","$volumeHandle","固定FPS","left","landscape",'\n                    <div class="jb-pro-performance-item">\n                        <span>内存大小限制 ',"$scaleMenuList",'\n                    <div class="jb-pro-performance-item">\n                        <span>是否播放流畅 ',"abs","jb-pro-speed-menu-item-active","object","$ptz","$playbackNarrow","useWCS","playVodTimeCache","1738809rCbjSU","top",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频格式 ',"showRateBtn","$qualityMenu","audioDemuxBuffer","isMulti",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>解码模式 ',"8DRfWce","extendDomConfig","destroys","p2dfps","_times","createElement","$recordStop",'\n                    <div class="jb-pro-performance-item">\n                        <span>网络延迟(ms) ',"tenMin","playFailedAndPausedShowPlayBtn","totalJSHeapSize","$screenshot","$playbackTime","$container","64146wVpCDQ","translateX(","$zoom","decodeTimestamp",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE解码时间(ms) ','\n                    <div class="jb-pro-performance-item">\n                        <span>Video已渲染帧 ',"$volumeOn",'\n                <div class="jb-pro-performance-item">\n                    <span>网速 ',"totalDelayTs","eventListenList","829290hBNPSb",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解码帧率(fps) ',"playVod",'\n                    <div class="jb-pro-performance-item">\n                        <span>MSE缓存时长(ms) ',"$objectDetect","multiIndex","controlsLeftRect","</span>\n                            </div>\n                            ","TAG_NAME","type","playbackPause","$play","isPlayback","getRecordingByteLength","startsWith","changePercisitionInterval","lock","scaleType","controlsRightRect","$recording","about:blank","innerHTML",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>videoBuffer缓存时间(ms) ',"$scaleText","calc(","$performanceActive","orientation","isFullscreen","maxFps","hlsDelay","loading","</span>\n                     </div>\n                     ","isPlayVodUseMSE","totalDuration","label",'\n                    <div class="jb-pro-performance-item">\n                        <span>窗口下标 ',"isPlayVod","controlsPlaybackBtnsRect","rect",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>视频时长(s) ',"height","$record","$ptzActive","$speedMenuList","$playbackCurrentTime","isPlayer","playVodSeekEnd","录播流",'\n                    <div class="jb-pro-scale-menu-item" data-scale="',"$faceDetectActive","then","block","pTs","$scaleMenu","classList",'\n                        <div class="jb-pro-performance-item">\n                            <span>播放倍率 ',"jb-pro-scale-menu-item-active","$playbackTimeListSecond","showControl",'\n                    <div class="jb-pro-performance-item">\n                        <span>解码延迟(ms) ',"controlType","togglePerformancePanel","{h}:{i}:{s}","videoCurrentTimeDiff","remove","$speed","playbackTimeScroll","display","viewResizeChange","1656594oYVoeN","直播流","mseDecodeAudio"," / ",'\n                        <div class="jb-pro-performance-item">\n                            <span>音频播放模式 ',"buf","$objectDetectActive"];return(my=function(){return t})()}function gy(t,e){const s=my();return(gy=function(t,e){return s[t-=472]})(t,e)}!function(t,e){const s=ry,i=t();for(;;)try{if(571867===-parseInt(s(266))/1*(parseInt(s(265))/2)+parseInt(s(275))/3+-parseInt(s(250))/4+parseInt(s(249))/5*(parseInt(s(255))/6)+parseInt(s(276))/7*(-parseInt(s(259))/8)+-parseInt(s(284))/9*(parseInt(s(269))/10)+parseInt(s(260))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(hy),function(t,e){const s=dy,i=t();for(;;)try{if(860635===parseInt(s(504))/1+parseInt(s(507))/2+parseInt(s(498))/3+parseInt(s(510))/4+-parseInt(s(496))/5+-parseInt(s(495))/6+parseInt(s(505))/7)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cy),function(t,e){const s=gy,i=t();for(;;)try{if(483058===-parseInt(s(610))/1+-parseInt(s(801))/2+parseInt(s(835))/3*(parseInt(s(640))/4)+parseInt(s(834))/5*(-parseInt(s(722))/6)+-parseInt(s(732))/7+-parseInt(s(708))/8*(-parseInt(s(700))/9)+parseInt(s(624))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(my);var yy=(t,e)=>{const s=gy,{events:{proxy:i}}=t;let r=null,n=null,o=null,a=null;const h=e[s(731)];if(t._opt[s(480)]){r=document[s(713)](s(695)),n=s(827)+Ti(),r[s(663)](s(527),"true"),r[s(663)]("tabindex",-1),r[s(663)]("id",n),r[s(741)]=s(650),r.data=s(752),ns(r,{display:s(783),position:s(635),top:"0",left:"0",height:"100%",width:s(651),overflow:s(488),pointerEvents:"none",zIndex:"-1"}),o=t[s(654)],a=t[s(772)];const k=ks((()=>{const e=s;(t[e(654)]!==o||t[e(772)]!==a)&&(o=t[e(654)],a=t[e(772)],t[e(536)](H[e(590)]))}),500),_=i(r,s(479),(function(){const t=s,e=i(r.contentDocument[t(652)],t(590),(function(){k()}));h[t(820)](e)}));h.push(_),t.$container.appendChild(r)}t.on(H[s(811)],(()=>{const e=s;if(r)try{if(!Pn(r)){const s=t[e(721)][e(810)]("#"+n);s&&t[e(721)]&&t.$container[e(564)](s)}}catch(t){}u&&(clearInterval(u),u=null),f=null,m=null,y=0,r=null,n=null,o=null,a=null})),t.on(H.volumechange,(()=>{!function(t){const i=s;if(0===t)ns(e[i(728)],"display",i(643)),ns(e[i(812)],i(799),i(825)),ns(e.$volumeHandle,i(701),"48px");else if(e[i(686)]&&e.$volumePanel){const s=os(e.$volumePanel,"height")||60,r=os(e[i(686)],i(772)),n=s-(s-r)*t-r;ns(e[i(686)],"top",n+"px"),ns(e.$volumeOn,i(799),i(825)),ns(e[i(812)],i(799),"none")}e[i(472)]&&(e[i(472)][i(753)]=parseInt(100*t))}(t[s(494)])})),t.on(H[s(762)],(i=>{const r=s;e[r(607)]=!1,ns(e.$loading,r(799),i?"flex":r(643)),(Ri(t[r(641)][r(557)])&&Di(i)||Ri(i))&&ns(e.$poster,r(799),r(643)),i&&(ns(e.$playBig,"display",r(643)),ns(e[r(568)],r(799),r(643)),e[r(685)][r(486)]((t=>{const e=r;t[e(571)]===te[e(762)]&&(t[e(572)]&&ns(t[e(572)],"display","flex"),t.$activeIconWrap&&ns(t.$activeIconWrap,e(799),"none"))}))),!i&&t._opt[r(709)][r(526)]&&e[r(501)]&&ns(e.$extendDom,r(799),r(783)),!i&&t[r(852)]()===A[r(533)]&&Ri(t[r(641)][r(670)])&&l()})),t.on(H.removeLoadingBgImage,(()=>{const i=s;t[i(855)]&&(t[i(764)]()||t[i(634)]())?t.debugLog(e[i(740)],i(683)):l()}));const l=()=>{const i=s;e[i(839)]&&e[i(677)]&&e[i(839)][i(596)]&&(t.debugLog(e[i(740)],"remove loading bg image"),e.$loadingBgImage[i(654)]=0,e[i(839)].height=0,e[i(839)][i(596)]="",ns(e[i(677)],i(799),"none"))},c=()=>{const e=s;if(t.fullscreen,v(),fs())if(t._opt.androidMobileFullscreenRotate)t[e(585)]?t[e(522)]()&&(t.$container[e(786)][e(577)](e(481)),t.setRotate(270)):(t.$container[e(786)][e(796)]("jb-pro-fullscreen-rotate"),t[e(576)](0)),w((()=>{T()}));else{var i,r;if(null===(i=screen)||void 0===i||null===(r=i[e(758)])||void 0===r||!r[e(748)])return;const s=screen.orientation.type;if(t[e(585)]){const i=t[e(654)],r=t.height,{clientWidth:n,clientHeight:o}=document[e(627)];if(i>r&&n<o||i<r&&n>o){const i=s[e(746)](e(552))?e(689):e(552);screen[e(758)].lock(i)[e(782)]((()=>{const s=e;En(t[s(721)],s(826))}))}}else In(t[e(721)],e(826))&&screen.orientation[e(748)](s).then((()=>{const s=e;Tn(t[s(721)],s(826))}))}},d=e=>{const i=s;oi(e)===t[i(721)]&&c()};let u=null,f=null,m=null,y=0;function v(i){const r=s;if(Ri(t[r(563)]()))return;let n=Ns(i)?i:t[r(585)];ns(e[r(660)],r(799),r(n?825:643)),ns(e[r(540)],"display",n?r(643):"flex")}function b(){const e=s;return t[e(641)].playType===p[e(478)]&&t[e(641)].playbackConfig[e(790)]}function w(i){const r=s;e[r(848)]&&t.isMobileFullscreenChangeRotate()?setTimeout((()=>{const s=r;if(t[s(585)]){const i=t[s(866)](!1);let r=t[s(772)]/2-t[s(654)]+i/2,n=t[s(772)]/2-i/2;if(e.$controls[s(680)].transform=s(723)+-r+s(565)+n+"px) rotate(-90deg)",e.$zoomControls){const i=156,r=30,n=t[s(654)]/2+i/2-r/2;e[s(682)][s(680)][s(498)]=s(723)+-n+"px) translateY("+t[s(772)]/2+s(539)}if(e.$recording){const i=101,r=20,n=t[s(654)]/2+i/2-r/2;e[s(751)].style.transform=s(723)+-n+"px) translateY("+t[s(772)]/2+s(539)}e[s(841)]&&(e[s(841)][s(680)][s(498)]=s(669))}else e[s(848)].style[s(498)]=s(844),e[s(682)]&&(e[s(682)][s(680)].transform=s(836)),e.$recording&&(e.$recording[s(680)].transform=s(836)),e[s(841)]&&(e[s(841)][s(680)][s(498)]="rotate(0)");i&&i()}),10):i&&i()}try{ge.on("change",d),t[s(851)][s(710)][s(820)]((()=>{ge[s(588)]("change",d)}))}catch(C){}function E(i){const r=s;i?(ns(e.$play,r(799),r(643)),ns(e[r(499)],r(799),r(643)),t.isPlayback()&&(ns(e[r(720)],"display",r(783)),ns(e.$controlsPlaybackBtns,r(799),r(825)),ns(e[r(664)],r(799),r(825))),t[r(768)]()&&ns(e[r(664)],r(799),r(825))):(t.isPlayFailedAndPaused&&Ri(t[r(641)][r(717)])?(ns(e[r(743)],r(799),r(643)),ns(e.$playBig,r(799),r(643))):(ns(e[r(743)],r(799),r(825)),ns(e.$playBig,r(799),r(783))),e[r(797)]&&(e.$speed[r(753)]=function(t){const e=$e;if(null==t||""===t)return e(297);let s=parseFloat(t);return s=s[e(437)](2),s+e(503)}("")),ns(e.$zoomControls,r(799),"none"),ns(e[r(751)],r(799),r(643)),e[r(841)]&&e[r(841)][r(786)][r(796)](r(603)),t.isPlayVod()&&t[r(641)][r(843)]&&t[r(734)][r(864)]()&&(ns(e.$play,"display",r(825)),ns(e[r(499)],"display",r(783)))),ns(e[r(493)],r(799),i?r(825):"none"),ns(e[r(719)],r(799),r(i?825:643)),ns(e[r(773)],r(799),r(i?825:643)),ns(e[r(704)],"display",r(i?825:643)),ns(e.$volume,r(799),i?"flex":r(643)),ns(e[r(696)],r(799),r(i?825:643)),ns(e[r(724)],r(799),i?r(825):"none"),ns(e[r(785)],r(799),r(i?825:643)),ns(e.$faceDetect,"display",i?"flex":r(643)),ns(e[r(736)],"display",i?"flex":r(643)),ns(e.$occlusionDetect,"display",r(i?825:643)),ns(e[r(489)],r(799),i?r(825):"none"),(t[r(744)]()||t.isPlayVod())&&ns(e[r(612)],r(799),r(i?825:643)),v(),e[r(685)][r(486)]((t=>{const e=r;t[e(571)]===te[e(495)]&&(t[e(572)]&&ns(t[e(572)],"display",e(i?825:643)),t[e(474)]&&ns(t[e(474)],"display","none"))})),t[r(641)].showPerformance?ns(e[r(757)],r(799),i?"flex":r(643)):(ns(e.$performance,"display",r(i?825:643)),ns(e.$performanceActive,r(799),"none")),ns(e.$poster,r(799),r(643)),ns(e[r(774)],"display",r(643)),ns(e[r(714)],"display",r(643)),ns(e.$zoomStop,r(799),"none"),ns(e[r(781)],"display","none"),ns(e[r(807)],"display","none"),T(),i&&I()}function T(){const i=s;if(b()&&t[i(641)][i(513)].controlType===S[i(631)]){let s=e[i(497)][i(654)]-e[i(738)][i(654)]-e[i(750)][i(654)]-e[i(769)][i(654)];fs()&&t[i(586)]&&(s=e[i(497)][i(772)]-e[i(738)][i(772)]-e[i(750)][i(772)]-e.controlsPlaybackBtnsRect[i(772)]),e.$playbackTimeInner[i(680)][i(654)]=s+"px"}}function I(){const i=s;if(!function(){const e=s;return b()&&t[e(641)].playbackConfig.controlType===S[e(631)]}())return;const r=e.$playbackCurrentTime[i(680)][i(688)];let n=parseInt(r,10);const o=e.controlsPlaybackTimeInner[i(654)];n=n-o/2>0?parseInt(n-o/2,10):0,e.$playbackTimeInner.scrollLeft=n}if(t.on(H[s(586)],(t=>{fs()&&(v(t),w((()=>{T()})))})),t.on(H.fullScreenByStart,(()=>{c()})),t.on(H[s(591)],(()=>{const i=s;t[i(495)]&&(ns(e.$record,i(799),t[i(591)]?"none":i(825)),ns(e[i(714)],"display",t[i(591)]?"flex":i(643)),(t._opt.hasControl||t._opt[i(857)])&&(ns(e[i(751)],i(799),t[i(591)]?i(825):i(643)),Ri(t[i(591)])&&e.$recordingTime&&(e[i(862)][i(753)]=Ks(0))))})),t.on(H.recordingTimestamp,(t=>{const i=s;e[i(862)]&&(e[i(862)][i(753)]=Ks(t))})),t.on(H[s(500)],(()=>{const i=s;t[i(495)]&&(ns(e[i(724)],i(799),t[i(500)]?i(643):"flex"),ns(e[i(593)],"display",t[i(500)]?i(825):"none"),(t[i(641)][i(477)]||t[i(641)].isShowZoomingUI)&&ns(e.$zoomControls,i(799),t[i(500)]?i(825):i(643)))})),t.on(H[s(495)],(t=>{E(t)})),t[s(744)]()&&t.on(H[s(742)],(t=>{E(!t)})),t.on(H.kBps,(i=>{const r=s,n=function(t){const e=$e;if(null==t||""===t||0===parseFloat(t)||t===e(386))return"0 KB/s";const s=[e(363),"KB/s","MB/s",e(257),e(253),e(450),e(319),e(260),"YB/s"];let i=0;const r=parseFloat(t/8);i=Math[e(417)](Math.log(r)/Math[e(261)](1024));let n=r/Math.pow(1024,i);return n=n[e(437)](2),n+(s[i]||s[0])}(1e3*i);e.kbpsShow=n,t[r(641)].showBandwidth&&e[r(797)]&&(e[r(797)][r(753)]=n),T()})),b()){function D(){const i=s;if(b()){let s=0;const r=t[i(602)]&&t[i(602)].playingTimestamp;if(r){const n=new Date(r),o=n[i(543)](),a=n[i(856)](),h=n.getSeconds();t.playback.is60Min?s=60*o+a:t[i(602)][i(850)]?s=2*(60*o+a)+parseInt(h/30,10):t[i(602)][i(584)]?s=6*(60*o+a)+parseInt(h/10,10):t[i(602)].is5Min?s=12*(60*o+a)+parseInt(h/5,10):t[i(602)][i(815)]&&(s=60*(60*o+a)+parseInt(h,10)),e[i(776)].style.left=s+"px"}}}function R(t){const i=s;e[i(697)][i(786)].remove(i(858)),e[i(616)][i(786)].remove(i(858)),t===ut[i(519)]&&e.$playbackNarrow.classList[i(577)](i(858)),t===ut.fiveMin&&e.$playbackExpand[i(786)][i(577)](i(858))}t.on(H[s(662)],(i=>{const r=s;if(t[r(641)][r(513)].controlType===S.normal)e.$playbackCurrentTimeText&&(e[r(580)][r(649)]=Ss(i,r(794))),D();else if(t._opt[r(513)][r(792)]===S[r(482)]){const s=fy(i,t[r(602)][r(765)]);e.$playbackProgressPlayed[r(680)].width=100*s+"%",e[r(516)].style[r(688)]=r(756)+100*s+r(620)+7+"px)",e[r(525)][r(649)]=uy(i)+r(804)+uy(t[r(602)][r(765)])}})),t.on(H[s(554)],((i,r)=>{const n=s;b()&&t[n(641)][n(513)][n(792)]===S.normal&&(e[n(521)][n(786)][n(796)](pt.oneHour,pt[n(605)],pt[n(560)],pt[n(716)]),e[n(521)][n(786)][n(577)](pt[i]),e.rafId&&(window[n(604)](e.rafId),e[n(678)]=null),e[n(747)]&&(clearTimeout(e[n(747)]),e[n(747)]=null),e[n(579)].innerHTML="",e[n(789)][n(753)]="",e[n(747)]=setTimeout((()=>{const s=n;switch(e[s(579)][s(753)]="",e[s(789)][s(753)]="",i){case ut.oneHour:ny(r,e);break;case ut.halfHour:oy(r,e);break;case ut[s(716)]:ay(r,e);break;case ut[s(560)]:ly(r,e)}D(),t[s(641)].playbackConfig.showPrecisionBtn&&R(i),I()}),16))})),t.on(H[s(590)],(()=>{w((()=>{T()}))})),t.on(H[s(798)],(()=>{I()})),T()}if(t[s(768)]()&&(t.on(H.playVodPause,(t=>{E(!t)})),t.on(H.playVodTime,(i=>{const r=s,n=fy(i,t.playVod[r(765)]);e[r(684)][r(680)][r(654)]=100*n+"%",e[r(516)][r(680)].left=r(756)+100*n+"% - 7"+r(648),e.$playbackProgressTime[r(649)]=uy(i)+" / "+uy(t.playVod[r(765)])})),t.on(H[s(699)],(t=>{const i=s;e.$playbackProgressCache[i(680)][i(654)]=100*t+"%"})),t.on(H[s(646)],(()=>{const t=s;ns(e[t(642)],t(799),"flex")})),t.on(H.playVodCanplay,(()=>{const t=s;ns(e[t(642)],"display",t(643))})),t.on(H.playVodSeek,(()=>{const t=s;ns(e.$loading,"display",t(825))})),t.on(H[s(778)],(()=>{const t=s;ns(e[t(642)],"display",t(643))})),t.on(H[s(617)],(()=>{const i=s;e.$playbackProgressPlayed[i(680)][i(654)]=i(651),e.$playbackProgressIndicator[i(680)][i(688)]="calc(100"+i(620)+7+i(648),e[i(525)][i(649)]=uy(t.playVod[i(765)])+" / "+uy(t[i(734)].totalDuration)}))),t[s(641)][s(814)].quality&&t._opt[s(840)][s(830)]>0){function L(t){const i=s;e[i(509)][i(649)]=t,e.$qualityMenuItems.forEach((e=>{const s=i,r=e[s(637)].quality;e[s(786)][s(796)](s(534)),r===t&&e[s(786)][s(577)]("jb-pro-quality-menu-item-active")}))}function P(){const i=s,r=t[i(641)].qualityConfig||[];let n="";r[i(486)]((t=>{const e=i;n+=e(573)+t+'">'+t+e(476)})),n&&Mn(n,"beforeend",e[i(502)])}t.on(H[s(846)],(t=>{L(t)})),P(),t[s(632)]&&L(t[s(632)])}if(t._opt[s(814)][s(484)]&&t._opt[s(633)][s(830)]>0){function x(i){const r=s,n=t[r(641)].scaleConfig[i];e[r(755)][r(649)]=n,e.$scaleMenuItems.forEach((t=>{const e=r,s=t[e(637)][e(484)];t.classList[e(796)](e(788)),Ts(s)===Ts(i)&&t[e(786)][e(577)]("jb-pro-scale-menu-item-active")}))}function M(){const i=s,r=t[i(641)].scaleConfig||[];let n="";r[i(486)](((t,e)=>{const s=i;n+=s(780)+e+'">'+t+s(476)})),n&&Mn(n,i(671),e[i(691)])}t.on(H[s(800)],(t=>{x(t)})),M(),x(t[s(749)])}if(t[s(744)]()&&t._opt.playbackConfig[s(703)]&&t[s(641)][s(513)][s(674)].length>0){function B(i){const r=s,n=t._opt[r(513)][r(674)][r(667)]((t=>Ts(t[r(562)])===Ts(i)));n&&(e.$speedText[r(649)]=n[r(766)],e[r(618)].forEach((t=>{const e=r,s=t[e(637)][e(638)];t.classList[e(796)](e(694)),Ts(s)===Ts(i)&&t[e(786)][e(577)](e(694))})))}function F(){const i=s,r=t[i(641)][i(513)][i(674)];let n="";r[i(486)](((t,e)=>{const s=i;n+=s(824)+t.value+'">'+t[s(766)]+s(476)})),n&&Mn(n,i(671),e[i(775)])}t.on(H[s(551)],(t=>{B(t)})),F();B(t.playback&&t.playback[s(655)]||1)}if(t.isPlayVod()&&t[s(641)][s(559)][s(703)]&&t[s(641)].playVodConfig[s(674)][s(830)]>0){function U(i){const r=s,n=t._opt[r(559)][r(674)].find((t=>Ts(t[r(562)])===Ts(i)));n&&(e[r(566)][r(649)]=n[r(766)],e[r(618)][r(486)]((t=>{const e=r,s=t[e(637)].speed;t[e(786)][e(796)](e(694)),Ts(s)===Ts(i)&&t[e(786)][e(577)](e(694))})))}function O(){const i=s,r=t._opt.playVodConfig[i(674)];let n="";r.forEach(((t,e)=>{const s=i;n+=s(824)+t[s(562)]+'">'+t.label+s(476)})),n&&Mn(n,i(671),e.$speedMenuList)}t.on(H.playVodRateChange,(t=>{U(t)})),O();U(t[s(734)]?t[s(734)][s(655)]:1)}t.on(H[s(657)],(function(){const i=s;let r=arguments[i(830)]>0&&void 0!==arguments[0]?arguments[0]:{};if(t[i(641)][i(659)]){ns(e[i(496)],"display",i(783)),e[i(483)].innerHTML="",e[i(613)][i(753)]="";const s=ds,n=Fi(),o=t[i(570)](),a=js(o)&&-1!==o?""+Ft[o]:"",h=t[i(514)]&&t[i(514)][i(530)]||{},l=t[i(589)]&&t[i(589)][i(574)]||{},c=t[i(712)]||{},d=t[i(852)](),u=t[i(777)]()?i(802):t[i(744)]()?i(779):i(510),p=t[i(641)][i(670)]&&t._opt[i(803)],f=t[i(641)][i(698)]&&t._opt[i(621)],m=t.control?t[i(556)].kbpsShow:i(676),y=t[i(816)](),v=t[i(622)]||"",b=t._opt.hasAudio&&t[i(582)]()&&Ri(f)&&Ri(p),S=t[i(777)]()&&Ri(t[i(578)]()||t[i(518)]()||t[i(600)]());let w=i(575)+(n?i(690)+Rs(n[i(531)])+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>可使用的内存 '+Rs(n.totalJSHeapSize)+i(630)+Rs(n[i(639)])+i(838):"")+i(575)+(a?'\n                    <div class="jb-pro-performance-item">\n                        <span>CPU压力情况 '+a+i(629):"")+i(575)+(n&&n[i(639)]>n[i(718)]?'\n                    <div class="jb-pro-performance-item">\n                        <span>可能内存泄漏 是}</span>\n                    </div>\n                    ':"")+i(503)+u+"</span>\n                </div>\n                "+(t[i(744)]()?i(787)+t.playback.rate+"倍</span>\n                        </div>\n                    ":"")+"\n                "+(t.isPlayVod()?i(787)+t[i(734)].rate+i(673):"")+i(575)+(S?i(567)+(t.videoIframeIntervalTs||"-")+"</span>\n                    </div>\n                 ":"")+i(575)+(t[i(591)]?'\n                        <div class="jb-pro-performance-item">\n                            <span>视频录制时间 '+Ks(t.getRecordingDuration())+i(601)+Rs(t[i(745)]())+i(512):"")+'\n                 <div class="jb-pro-performance-item">\n                    <span>音频码率(bits) '+r[i(808)]+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频码率(bits) '+r[i(541)]+i(592)+r[i(625)]+i(817)+(S?i(609)+r[i(760)]+'</span>\n                    </div>\n                     <div class="jb-pro-performance-item">\n                        <span>推送到解码器帧率(fps) '+r[i(711)]+i(733)+r[i(473)]+i(629):"")+"\n                "+(t[i(837)]()?i(491)+r[i(823)]+i(606)+r[i(656)]+i(629):"")+i(575)+(t.isPlayNotUseMSE()&&S?i(863)+r[i(549)]+i(545)+r[i(705)]+i(511)+r[i(626)]+'</span>\n                        </div>\n                         <div class="jb-pro-performance-item">\n                            <span>待解码缓存时长(ms) '+r[i(806)]+'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>最新待解码缓存时长(ms) '+r.pushLatestDelay+i(512):"")+i(575)+(t[i(744)]()?'\n                    <div class="jb-pro-performance-item">\n                        <span>视频缓存时长(ms) '+r[i(653)]+i(538)+r.playbackVideoBuffer+i(608)+r[i(549)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>音频待解码帧 '+r.audioDemuxBuffer+"</span>\n                    </div>\n                ":"")+i(575)+(S?i(681)+r.streamBuffer+i(817):"")+"\n                "+(t[i(641)][i(670)]&&!t[i(768)]()?i(735)+r[i(647)]+i(849)+r[i(644)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE缓存时长(s) '+r[i(854)]+i(726)+r[i(595)]+i(818)+(r.mseDecodePlaybackRate>1?"加速":"正常")+"</span>\n                    </div>\n                    ":"")+i(575)+(t[i(600)]()?'<div class="jb-pro-performance-item">\n                        <span>HLS缓存时长(ms) '+r.hlsDelay+i(763):"")+i(575)+(t[i(505)]()?i(532)+r[i(761)]+i(548)+r[i(619)]+i(668)+r[i(821)]+i(598)+r[i(847)]+i(763):"")+"\n                "+(t[i(777)]()&&y?i(727)+y[i(528)]+i(558)+y[i(614)]+"</span>\n                     </div>\n                ":"")+"\n                "+(S?i(715)+r[i(529)]+i(629):"")+i(575)+(t[i(569)]()?i(504)+r[i(524)]+i(553)+r[i(795)]+i(754)+r.mseVideoBufferDelayTime+"</span>\n                    </div>\n                ":"")+i(599)+(r[i(537)]||r.ts)+i(817)+(b?i(550)+r[i(520)]+i(819)+(t[i(641)].hasVideo?i(555)+r[i(853)]+i(739):"")+i(805)+(t.isAudioPlaybackRateSpeed()?"加速":"正常")+"</span>\n                        </div>\n                        ":"")+i(845)+r.dts+i(817)+(S?i(791)+r[i(507)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解封装后-解码后延迟(ms) '+r[i(515)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>总延迟(网络+解码)(ms) '+r[i(730)]+i(629):"")+i(575)+(t[i(777)]()&&r[i(561)]?'<div class="jb-pro-performance-item">\n                        <span>是否超过一倍率推流 是</span>\n                    </div>\n                   ':"")+i(575)+(S?i(692)+r.videoSmooth+i(833)+r[i(583)]+i(838):"")+i(575)+(t[i(768)]()?i(581)+t.getPlayVodBufferedTime()+i(629):"")+i(729)+m+i(809)+Ks(r[i(784)])+i(658),E=i(597)+s+"</span>\n                </div>\n                "+(v?i(832)+v+i(838):"")+"\n                "+(t[i(641)][i(706)]?i(485)+t[i(641)].debugUuid+i(838):"")+i(575)+(t[i(523)]()?i(767)+t[i(641)][i(737)]+i(838):"")+i(665)+(t.isPlayback()?i(492)+(t[i(602)][i(675)]?i(687):i(594))+i(838)+(t[i(602)][i(675)]?i(623)+t[i(514)][i(822)]()+i(819):"")+i(672):"")+i(860)+g[t[i(828)]()]+i(707)+t[i(611)]()+i(859)+d+i(817)+(d===A.canvas?i(506)+t.getCanvasRenderType()+i(838):"")+'\n                 <div class="jb-pro-performance-item">\n                    <span>网络请求组件 '+t[i(487)]()+i(702)+(h[i(544)]||"-")+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频分辨率(宽x高) '+(h[i(654)]||"-")+" x "+(h[i(772)]||"-")+i(587)+screen[i(654)]+" x "+screen[i(772)]+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频格式 '+(st[l[i(544)]]||"-")+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频引擎 '+(t[i(542)]()||"-")+i(508)+(l[i(861)]||"-")+i(517)+(l[i(831)]||"-")+"</span>\n                </div>\n                "+(S?i(666)+c[i(546)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>开始请求地址(ms) '+c[i(490)]+i(865)+c.streamResponseTimestamp+i(842)+c[i(615)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解码(ms) '+c[i(725)]+i(636)+c[i(679)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>初始化到页面渲染(ms) '+c[i(813)]+"</span>\n                    </div>\n                ":"")+i(575)+(t[i(768)]()?i(475)+t.getPlayVodFps()+i(771)+t.getPlayVodDuration()+"</span>\n                    </div>\n                ":"")+i(661);Mn(w,"beforeend",e[i(483)]),Mn(E,i(671),e[i(613)])}else e[i(483)][i(753)]="",e[i(613)][i(753)]="",ns(e[i(496)],"display",i(643))})),t.on(H[s(793)],(t=>{const i=s;ns(e[i(628)],i(799),i(t?643:825)),ns(e[i(757)],i(799),i(t?825:643))})),t.on(H[s(645)],(t=>{const i=s;ns(e[i(547)],i(799),i(t?643:825)),ns(e[i(781)],i(799),i(t?825:643))})),t.on(H.objectDetectActive,(t=>{const i=s;ns(e[i(736)],i(799),i(t?643:825)),ns(e[i(807)],i(799),i(t?825:643))})),t.on(H[s(829)],(t=>{const i=s;ns(e[i(535)],i(799),i(t?643:825)),ns(e.$occlusionDetectActive,i(799),t?"flex":"none")}))};function Ay(){const t=["3324497dhPzLF","catch","mouseover","stop","arrow","isVolumeDroging","composedPath","seek","2802XcDbcZ","fullscreen","recordFn","mouseout","totalDuration","$qualityMenu","uiUsePlaybackPause","ptzApertureNearTimeout","block","occlusionDetect","playbackPause","playVod","$zoomStop","$ptzApertureNear","108sYzDnl","$zoomStop2","target","ptzFocusShow","supportWheel","isInitPlayer","fiStop","mouseDownAndUp","aiOcclusion","contextmenu","$volumePanel","jb-pro-ptz-controls-show","isMobileInFullscreen","second","$speedMenuList","11272tEYXDD","$ptzActive","preventDefault","playVodConfig","percentage","wiperClose","playVodForward error","delayHiddenTimeout","isPtzControlDroging","wiperOpen","focusFar","jb-pro-ptz-bg-active-","758961HVzOlW","ptzStopEmitDelay","pauseForControl","togglePerformancePanel","operateBtns","playVodResumeInner","mousemove","mouseup","$objectDetect","$volumeOn","fullscreenFn","push","playVodSeek error","classList","grabbing","playVodForward","ptzFocusNearTimeout","mousedown","12FsOPUJ","isDroging","$ptzNarrow","playback","objectDetect","apertureNear","$scaleMenuList","narrowPrecision","none","simple","fullscreenExitFn","$ptzBgActive","$playbackProgressTip","hasControl","$ptzWiperOpen","cruiseStop","$performancePanelInfo1","$ptzApertureFar","add","recording","video","playVodSeek","wheel","ptzApertureFarTimeout","cruiseStart","display","clientWidth","screenshotFn","$ptz","$ptzFogOpen","pauseFn","div.jb-pro-scale-menu-item","$qualityMenuList","$ptzFogClose","716744nXbAAe","zoomNarrow","clickInitPlayer","$scaleMenu","jb-pro-ptz-control-","$container","$ptzFocusNear","1314HolbTu","$tipsMessageContent","$ptzControlCircular","$volume","$record","$faceDetectActive","innerHTML","detail","fogClose","$speedMenu","pauseForControl error","$volumeHandle","div.jb-pro-speed-menu-item","$tipsMessageClose","jb-pro-quality-menu-shown","flex","focusNear","style","top","showRateBtn","$ptzControl","zooming","72898tGpRDO","speed","$logSave","isFocus","tempPtzPosition","$performancePanelBtn1","$playbackTimeList","$volumeOff","$zoom","$ptzExpand","$performancePanelInfo2","play","controlType","grab","zoom","$volumePanelWrap","normal","$ptzWiperClose","dataset","down","faceDetect","$playBig","$playbackProgress","click","playbackTF","move","$screenshot","indexOf","ptzFocusFarTimeout","length","ptzExpandTimeout","setScaleMode","eventListenList","jb-pro-volume-panel-wrap-show","jb-pro-speed-menu-shown","$fullscreenExit","expandPrecision","jb-pro-scale-menu-shown","playFn","recordStopFn","ptzCruiseShow","10gAOEOS","$faceDetect","ptzClickType","forEach","wheelDelta","cursor","$performance","screenshot","$performancePanelBtn2","quality","getBoundingClientRect","aiFace","volume","playVodPauseInner error","$occlusionDetectActive","performance","matches","ptz","playbackConfig","debugLog","$ptzFocusFar","$playbackProgressIndicator","emit","ptzArrow","stopPropagation","$playbackNarrow","active","offsetTop","ptzApertureShow","controlAutoHideDelayTime","_lastVolume","playForControl","jb-pro-ptz-bg-active-show","$close","doDestroy","$performanceActive","playVodResumeInner error","$pause","apertureFar","742565uqKyew","currentTarget","TAG_NAME","$zoomExpand","playType","_opt","left","lastVolume","remove","$controls"];return(Ay=function(){return t})()}function vy(t,e){const s=Ay();return(vy=function(t,e){return s[t-=385]})(t,e)}function by(){var t=["style","20612824AJOyAs","139622poqzhp","720672sHNnOl","69atEXSf","createElement","4975530uZrKvK","type","firstChild","insertBefore","top","styleSheet","head","6413323GYpPCS","3989732swpIcm","appendChild","1108630NzkbCc","getElementsByTagName"];return(by=function(){return t})()}function Sy(t,e){var s=by();return(Sy=function(t,e){return s[t-=212]})(t,e)}function wy(t,e){var s=Sy;void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document[s(226)](s(221))[0],n=document[s(214)](s(227));n[s(216)]="text/css",i===s(219)&&r[s(217)]?r[s(218)](n,r[s(217)]):r[s(224)](n),n[s(220)]?n[s(220)].cssText=t:n[s(224)](document.createTextNode(t))}}!function(t,e){const s=vy,i=t();for(;;)try{if(150335===-parseInt(s(482))/1*(-parseInt(s(496))/2)+-parseInt(s(523))/3+parseInt(s(575))/4+parseInt(s(464))/5+parseInt(s(541))/6*(parseInt(s(604))/7)+parseInt(s(511))/8*(parseInt(s(582))/9)+parseInt(s(425))/10*(-parseInt(s(474))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ay),function(t,e){for(var s=Sy,i=t();;)try{if(818558===-parseInt(s(225))/1+-parseInt(s(229))/2*(parseInt(s(213))/3)+parseInt(s(223))/4+parseInt(s(215))/5+-parseInt(s(212))/6+-parseInt(s(222))/7+parseInt(s(228))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(by);function Ey(){const t=["true","push","554427trplGl","isPlayVod","8hVZkRH","fullscreen","arrowUp","74668rqlCRD","keys","volume","tagName","8824xNMFkY","activeElement","_opt","keyCode","TEXTAREA","keydown","playVodBackwordJumping","3186240MeyMsX","716721eavyUO","INPUT","16fVKneM","arrowDown","163464MktLmg","arrowLeft","hotKeySeekStep","hotKeyVolumeStep","20JSrEOA","getAttribute","282474uxaOlv"];return(Ey=function(){return t})()}function Ty(t,e){const s=Ey();return(Ty=function(t,e){return s[t-=169]})(t,e)}wy('@-webkit-keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-webkit-keyframes magentaPulse{0%{background-color:#630030;-webkit-box-shadow:0 0 9px #333}50%{background-color:#a9014b;-webkit-box-shadow:0 0 18px #a9014b}to{background-color:#630030;-webkit-box-shadow:0 0 9px #333}}@keyframes magentaPulse{0%{background-color:#630030;-webkit-box-shadow:0 0 9px #333}50%{background-color:#a9014b;-webkit-box-shadow:0 0 18px #a9014b}to{background-color:#630030;-webkit-box-shadow:0 0 9px #333}}.jb-pro-container video::-webkit-media-controls{display:none!important}.jb-pro-container .jb-pro-icon{cursor:pointer;width:16px;height:16px;display:inline-block}.jb-pro-container .jb-pro-ptz-controls{position:absolute;width:156px;height:156px;visibility:hidden;opacity:0;border-radius:78px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4BAMAAAA9UfJZAAAAMFBMVEUAAABHcEy0tLRZWVmysrKoqKi1tbWvr6+2traBgYG1tbWWlpa1tbW1tbVUVFS1tbVGCHqkAAAAD3RSTlMzAO9U3LSWySp3aZcVRDUDw823AAAJYUlEQVR42u3d32sbVxYH8EPHxgg/lBsa7SBkukmpSbwLI2KbEPpgZ5MQtwmM0wRMmgdhP6RgEuwlSVnYlmGMYaEvMU1KKX4QNq0pocVmm7CYfRBaQguFpbgPKRSC/4V2LGliO+bulWKrkvVrftyZ+WbxeTRG+nDnnnNmRjP3EpMR6tMH18du/0Xj1tGz5+9cf/DUlPKx5PsTkr8s3eZ1cX7ym1zkuI/f1wTFunNt9fP+FIno7/98/tFY+Y8ffBUlLrmkl2Cr96guTv27BMxP5iLCqUvi68+tpqhJKPNXBH3SjACnfimm/7Wmsl3fI/FP75lh457oPH+1Da3M+1T8481QcT0T7UetevR618LDPdH4hTlyHLGH3LoZEk6d4PlvyVW8pfNeMwzcDwa/kCKXoTzk9tfB455o1mXyEIOa+0PrFvcFt+fIU8QM/k6guOQifzNFHkN5l/flgsOJVHibfMR9l2nhBqem+VXyFZ/xghkMTp3il8lnDPKiGQROhs2lzjEuKcVW1uWk4ybk2Eq63pxk3CK/RZLiJO+Ti/vZXw3ZX1E+kon7jv+JJMY/+Q15uIRWIKmRthZk4VTDTsnFKYZtSsItWiskObq1Pjm4f8gqIrUF5W8ycAl+nAKIT/iCf1zSKFAgkW4/7drifrLmgsHF2k87alvhblFAcbJttWuDU/VtCiyyedMXbjGfCg6n6H1+cHE+TQFGFx/3jksa2xRoZO2cZ9xsUJn6e8aOeMX1aGco4Biw1jzilm0KPNJb3nBxvhI8rrtVTlCLK5ptCiEyBS+474POhr2c+NA9Lqm/QaHEiXzONW42yN5Q2ydG3OLU4MvI7+XEdImbCWvgSkN3zB1O1YYptOhoNnRNcDM2hRjGMTc4VZsOE9fVZOioyYyjUKPJrKPGNW44XFxX41rXEPc4vFTdS9iLTnFJ4wyFHAO2U1zcSoWNU7RLDnFTb1DocaLoDJfgc+HjYo3uTjTArW9TBJHdcYJTtdEocJ0NCnE97nGBIon0RQc4YzgaXIfdHhdBHdmrJuNtceubFFFkdtrhVG0lKlx3XUrsxz22KbIwLrbBTQ1Hhxsotsb18FR0OIWvtcT9Z5sijOyfW+KM6ShxXXYrXMJKRYlTtIUWuLubFGlknrXAGaPR4jrt5riERRFH7XGtwc1sRo3LHGuKi/qo7j+uhJOr9flKMBW4QR2uxk1NR4/rKjbGRdpXG/bXKtxrAEdVHNfTDXHLf0TAvbLVCJfU5hBwMSvXABfPE0To4w1wP25i4DLPG+CmRjFwncV6nIpQSF4UE7MOd7hAIJG+VIe7u4GCG3pWh0uPouA6C/txMFOuetIR3JSrmnQEN+WqJh2BVbmaSreLS+JMudKky9Xg4jYBRXq8BndoEwmXOVKDWx5GwnVs1eD0OSRcLF+N67EIKrS1Klx8GwuXHa/C/biBhRt6XoVbnsbCdW1V4bDyoZIRZZwKlg8iI8wKLl5Aw73oEWXcoQ003NCRCm59GA3XsVPBTa2g4bqLFZyWQsMp1h6uJ09woa/t4tCaV6WBEWSy7qYrQSbrbroS2MVNzUUOAXbWSnel0sU+AUbpsl/gEjYizlgo4w5vI+Kyl8o4xEryopYI3N1hRFzHszJueRQR17lVxqXnEHGxQhmHd06yd15CgBcQlcsIYokCJi69IHDxbUycOGki9toGJm7otMC9/ism7tXfBA6zBperMIHW4HIVJsDrwsrVIYE2CNEibIHDbBDlFkFJ0AYhWkSOemxUnLFGqN2r1L8ItXuV+hfFN1FxmXH6wwYqbuivdAgXd4RQ+36p8xNq3y91flqfRsV17dD6KCquc4eWcXFbtLyCiusu0hQ0bg4VFytSGhdXICOFilNs0nFx+QOcZ5xGsGEd4DzjOC6OH+A847QD3P9jtuJ2CGjcQeP3gYM+2YQ+TYe+wMG+NETGQd+OgL6RA30LDPrm4eu/ouJe/Q37hjX0rX7oH0mgf16C/mEO+idN6B+DoX9Gx34AAfrRDeiHXqAfF0Lt/OUHrVAfUcucRn+4D/qxSOgHSqEfxcV+iBn68W/EV3AqD85Dv3IA/bIG9GsumC8IaSb+q1XYL6VBv84H/SIk9Cuk0C/fQr+2jP3CN/Sr8tCLDEAvzwC9sAX0kiDYi6lAL0MDvYAP9NJH0ItGYS+3Bb1QGVaP2LfEG/TieNDLCmIvyAi9lCX0IqDQy6diLzwLvWQv9GLH0MtER76rRqWxPgdemtwYf9kWdYdeDh97IwHoLRigN6/A3vYDesMU6K1msDfpgd7eiOmjSEf1ZdpSC3ozMuht3LA3wIPeOjDSTRdfKb7M21VCb/QJvUUq9uay0NvyYm9oHFFKdDvaChp6E23s7cehN25nh5G3vE8aZ8LGDdjMIY49zoc9dPpFx7ikHnIh7sjnHOPYTMj36oxjzDlO1UI9Xe9oUICb49iMDTBwzXCqFuKsG2gycM1wYtaFlrCK3mTgmuJU7UzkA9cUx2bDGjpFH2FucUk9pA57onGNa4lj31uhnJzEtA+ZexxLh3KpkykwL7g4D+GUuJuPe8Kx5RCuJtJbzBuuJ/hyMmCtecSx2aBzIqaNMK+4pBHwtU7WznnGiZwI9Oykq1U2tMWxxSD7hKL3MT84VQ/wwGbzpi8c+47fCsp2kt9g/nDsp6AyNqb1Mb+4pBFQKU7bpm8cS/DjQdg+aXT/wTWOzfLL8m2DfITJwLFFS/oZQHf7CecQpxq25GqnGO0nnEMcS2iSq13WWmCycKLaHZebDDeYPBz7mb8tz3aff8Rk4tiivJQd5H1MLo5NyNIN8t6cbJw6ZV2WYys6tTnHCZ2MsRM2k8nHSdG5srnBMTXNr/qzfcYLLmyucEyd8FdR7vNeNzZ3OJZc5G967mTKu7wvx4LDMfYFtz2efMYM/o7LL3OLY080byVlULNusqBx7AeDX3B9aJWH3P6aBY8rpUX+W3e2t3SXqeAZVzq0/JyLmRe7wt0fUs849t8Jzv/u8Ngq/+K8d42FhxODp/P8VQc85VPxjzc9folXHFO/1Lh1rc3BjT0S//SeycLGCd6Sxvm51abDp8xf4dyaNL1/gw+caBhLuvj6O6v36mWn5scEPe+H5hMn4uP3hUEAr63e6y+PYX//qflHY+U/fvCVzw/3ixPD98vSbV4X5ye/yfn+aP+4MvDpg+tjZ4+K8bKOnr1z/cFTU8rH/g92biFxn2S73AAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;transition:visibility .3s,opacity .3s;right:43px;bottom:135px}.jb-pro-container .jb-pro-ptz-controls.show-vertical{right:43px}.jb-pro-container .jb-pro-ptz-controls.show-vertical .jb-pro-ptz-btns{left:0;top:156px}.jb-pro-container .jb-pro-ptz-controls.show-level{right:163px}.jb-pro-container .jb-pro-ptz-controls.show-level .jb-pro-ptz-btns{min-height:156px;left:144px;top:0;display:flex;flex-direction:column;justify-content:center}.jb-pro-container .jb-pro-ptz-controls.jb-pro-ptz-controls-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-bg-active{visibility:hidden;opacity:0;width:156px;height:156px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAMAAAD4oR9YAAAAM1BMVEX///////////////////////////9HcEz///////////////////////////////////85yRS0AAAAEXRSTlO5DCgVgZBxAK2fQDRkBR5XTPLKM/gAABnnSURBVHja7F0Jkqs6DGQPO9z/tD8Jq6WWbCCvIjKfzAGmulrW3ooedr6ui+M4TdP++SXPr1l/SdL3aRrHhv7ZyA5qb9xe0L3Am+DrkzeCL/BeX908MezTuPsfOArdgl3KsZuhq99fk/Tx3waum+ByAHua5QbYilkzY1aP728YhrH5InrfBa57OLAtVjpRbYaumex04dq4APeC7vnVSfo/45bXLe33jGscMx3f0A1vyg3t69e2dRL/NeA6wrgdcCvjyPM2U25mXDt9xVD3f/qN0yi3Mm6P20S54vlXtGPS/R3GPSbYOsC4ZAvmJtiaGiL3Zlzx/Ht+Y/KXTJXbqmaqe9za1VYn3N7YpX/OVGev2qduOLIiB7xqOzGuWCiXFVmWtU3368A5lkqeOJI21I5XXaORxVRnxmUTdNnY/4U3riNvHMJts9XRtdXVUttipdzrK/4x7UyY6sK4Gbo+nU21T1zKcd9AGJetlMvyLKvj3zXVfeqQElMljINx3MK4xVQ3xj2Ry7N/6CiMOIfYyVUXWxUyBx7HuZRbcHt9bf/Lb9zsHlzKzabauJaK47iVcC7jJujS33/joKkmxDnM4QiJ4xDjZuT+DXQW3jgxV012qcPuiePhCGfchlv1/P0D6Czmqmuq2gPGkbIS8Q4ZsNU3dGP3Y2+cW1RyKpkrbAnwqhi3iXHFHrU3bFVV5c3vBsCsOALjkXErAW85F3rjFvBm5Kos+TngCOXYG7fA1ojFER7GPUHbmer0tfGPANeROM6pjvDMQSkrsWQ1d564Fbr61964TvSqDa6O0ELmAtvGuc2rrpQrn/aa/qCpYq+6mSpOVhnjWBy38u2JXFl9yL8acg6CV3Ur5yxVZfW4AsRxG+XKssz6n3njVMYR4Eg8sj1yi3tgtroxrpyhG38gc+h8PYddPQ551dVQW5jju2/cG7kXdB946Uy9cbDnQOpxuCCHcq5dHDcht8D2/K67VxPNGtLJd7qDTcgb1zLGbXEcY9z0Fd39GReTzIH1B/2lcxrGTYxjXnXyqxNyef8zpipVlfDsyCCmDkuumhGvWq6W+vyisqxvDJwwOxJQO6fNmjaQcRt0ZdR2dwWOFZViuculNWtgBZjk+DNq1cq45y+Lf5NxE25B3oEyLueFJWqtT+Ciqr8r48jsCAyAG+2Na53MAdQxX16VhHEL4Z7Ilc2dGad28pskaULiEdDlyijjdqa6gBeNtwSu63AnP3V6NUnAG9cu1RHOuL2hVi5qr6+9Za4qV0dCGcfCEfDIufWRFbsZvKy7KeNgW7XHvRqxWfOGLhO6XCrjoiiPb/rGdZ75uGRfj9u3B1sWAEtdLuxVF/Cq9HaMe4A4TptkZYwLqI44rmGDbUe5E8hZcg54zquRbHXu5NN6HKuO7N84YqwbdGV/Q8YF5arUN7CJTNLkgplD5T5xG+OOI2ehAhxv00ocOlpWwhHwljns5uNg6bxCb9wbueSupip6VTnj2jGudSvnOeqrVo6h7vl2nHM2K8AkV1WyfDYDvHUcWF+1VBl3EDlLKdc2dQ6aNbhXw2eAt14Nf+MqFse5rDuS8tucHUmhqaJppYF6B8440h7E8cjhqMTiLtcaAL+ga9jWZb35hpbHceyNI9WRSmHcE7n4jqbqTp2D2nnzgm154mB1hJQy1cwBIpd3twCOrjnEoDsoTZ2jepybb2VKrhpx3zB92Z29Khpl1ZN8MHWzJV1CdYQHJEeqTMbqcfEMW+obLBwES83w7AgvY0YlMNT3N96GcXEHGQdxG2t3CQ5kDkoFeO8esHd4fc193jinAtxvXhUN3Ywz5VAFGM3cENfgVM4x5YICYRumqu5yIVMdJuhaLXMAFWBKOIhbWFBiO44Dg4Usxx/cCrDyxqESMIYuu4lX1fYcGnVaaVmtKXZxHOzW5Bvfqtk3iLAFuVaLew4HluDUzIH1VYMZF+AgLMZxcAYY1uNYBTgrwPDIaqxOQ1p540IchBFTJW9c2ofNAO99Q+sYaugbJ35Vd4sKsPbGqVM33KsWmdpXLeXqufsVNwhH8FyhOh8n74foKb5WVDr0zFky1Rgt+iaJZyJTWErKMynpqsqgVy4q0xv0VTvZq0pJPq5jzn41zzzVET0aCYjmTO05OLaaBEwWqhvSenUkKtVw5P0N96mOpNr2YCPuh4AJCGEAoioDver7628Sx8WAcU2i1eM259AWhZBzuQEJieN07JR6sCHgXoSLnepI7yo9NqgCLE5A6K4hjHGKsVqK49JYEGyBg4XIq2b7FREUx5Xu2LkXOtmz2pJBW5sOqdjJF3sOjHG5fz7OT7n8DtURwjjPtBKtx7VLOa6Q4zh5Wkn8xhvU4xbG9al/s2bAbxwYkJO7XCGME43VIuMc56Dnqi7hpPE4cVopBLnibozTp5X4DHAQ49iwfsCX3IhxYFoJB8C0y7Xr1iwBSZXDulIUjF11G6+qr5aPALlCmTrfyWfQzCEK49xoPMnnjFMaq3QlX9tzQPuq0QFbLeNbMU6cHRn3Sb60HwJ6NXAhKQi61nzpPAbtQaY8jUUgQnRHSodxZSjjoig161W7HePIRGZDJzJHQXiEzE4DpRtSjotCHzkUkhj2qqJi4V54T1S6cWwVp/nhjAP1JQuDhbs4TtFW0spKTgW4UHJVFv4GQpcZA64jkt1xDNS8lDEv9Y3z5KpRGY4biIINMC7e2lxKNFJDqUfQquGZA2yrHoINUM7G6ZX1iVM2RKDUI08dssVUfduDRyI5QDkbFWCnscrWVWV1/RZ2uaRc9UyKL1LO0r7q1qwBm761WsmEUjdge9ApAB9iHHWslq4kMalHTbHQieO0zXKljHmIc4XdOE695yCpsg7eOE7t5B/4Uqv1uDSGKhDYq0r6yQWYj5NnRw5BNxjOHJAKRJB+nJqr4jcuOki4qOzs5qrgulSDJzJHUcyrCNMdOc44ty5nel815KDZ4HTypeoILAEfZJxbCjYkSpVKgZx/IpOfXgnarDkKXWIrHAm7kiTqxw1er+oQzg2Bj32FTcYJ2kpCIx9PK2XMq1ZCz+EM46LYZK4qaCsdmo+TqiOV5FWPITdYLZ2jOqYa/6LN8kJSZT1dxkSTJEYKmZ2/OuI5aIYYh+UzKn3TN9A9mLjL1cl6LexKkqof575xVJWVx3HRefdgUbGQNGs2U2Ul4HYQ60o+HeBzjCtt9VXVqXMpc3DEzh2NzEJSnr7OuG35wUTpPGjqXN3lQgdE0AWRA2sOHls1eO2yh/uqWM1LbUgvQzeatOhR5NZM39QIBNyQbviBVajYItbOYa56knCbrRrUj0vxTn5QVQlOnUtdrjKKztuqpbMEJ27WtCG3BzX9uMPfYqsmlW7SPnRfFeSqwTrAp9641VZtXi1PlX1VN44THzlvPe4k45aZLys9h+7cvuqsAqEpBAm6I9HJN24pZ9oIRzp5XzVUsVCZOnd0Ry4zbu52GdMBDn7j+NVyYXaEneW6+sbNrQcjtwdJCTh4WmlrSLcF3axRZ4AvMC6zxjj9annty1X9M8BoefBMQGKudB5UjnMnMltQV1JuD5JK5jnGTUU52zeke+4cfMJ7ygxwSZuDJ6EbzDEuZF+VNLnczCETlPdkdf3Tj5yhAHhNVdV9VXgJGV9JyqWjjRdS1fWRs6vmRctK1KuiLD/b22q2KyvlWJT1HOPeo3IWqyNwlwtrxJNrlwW69ZNr0qKnoBsfNrWVcH+w9gzIFXxDeisr5cxSrzCusFVWkpVukH7coF/0zQRt0a2QGZ1HLrfAuIfDOL/uiLOTz9UMMiTmtXMOVXmxW/P+OqM6wPBKEmLcbuiGMw4lq9cmIPbewa5iIb3LdYxxKHMouYDcSeRqcxd9+dS5VFWCGZd3e9DtR5+21dbYRd/1EAaagUC6IzDLV7YHj4pSKbmDkZRLnmRNcHeQ3azZdvLJ9qCUOVyhXGVmQUSpx9GWAzNW6Y0DmYMzrbTeHjzxxTeI41zktugXtQezAsRxon7caUt9VZZMMQ7pAPMnjnTyB5lxJHPgU+enGTeajONUHWB46wfW41jmAE79nHerNiYyFeXpBu/keycyM8983CWv+sxWLe2rsgpwH7qRxPuqb7pl6IKe61RPYpcbvefQy3e58LSSbwY4B071CuNKk31VtswlTyuJ+6oZuss1h3HVCTEDluZb7Ks6prqrjijlOLTLxRlXUhng85RLo+77por7qp5c1fUN8I1Tbw9eqce9ArkvA6eqxOOr5UQGgrdVC1l5GszHnYSuNsC4OKgeF6au73S5Mt983IU3bvwqcN3jAe9y9VgkvvHPskp7DuI9h7PfYOGNw3EcH7rx91XRPbNPT2TOEbCNNw7uJOGhG+naD8+5PG/cJcI9gYu/CxuYVuqd+6reHbgBWqrvavlV5LLvAqfdc6AFYElcyW1IS0eScqg7ch65/MvABXW5ElWvZXDiOL2Tz3VHzn7Vt4F7iNuDobMjwp7DUh3hfKs+EQCbAs43O9KgG9KDrK6vMe5qIPdd4NS7XFLi4NxzADf0eEPa8aqX1lV35REjb5zac1geuYVwtfjGbTmXsJH0qf7g14Hz9xzE9iD0qigewTv5F71qaeKNwz0HXI+jb5zLODABQWaAP+MbXA2SbxdH9KlzMjw9jvAUMr72o6363hQ4VyQ+lU+vkH70ALVFM2cnP8f1uOojhLPgVZnWI7y9Enjtcr+TT/qDJdj0LW9tqlgFQtUdYQfNQupxnHE3dw5aripmDgOcOt90gHOpOvKRF85EOCJKPSrVEa/y9D9QLDQEXKco3UiqVPtdrjZIIxNuSEeX+qomc9U+3S/WUIUgvD2o7nJ9UnfECnAPWQUiSOu8HYKERz6oO2IDuE7THcHOATIO9xzQhnT1IcblVhjnagRp8QjZVw1gHOFb9ZnSuY1OvutVe3/86w4Be7XOc6GvetsuF47jAq5dElFWn9a5oJF5YUDOBHCdds9BzRw2xrWy1jl946qrC6tfb0i7uWoKZ0eaoJs1e8LR+6pQPy66GMiNhqaV4ljbc/DqjrTC1fL8n/RVa0ummiI1r0a/yyUPT2dcXBR08s9Cl9gVpdKvEvgO00LB7qta585g4eP7jIuDxEXdaSV87TID91WdiUx67uf011lkHBTea/R6HN1XhTdr0AmROw9Pd1h5euurJvxKEh2e9uyrfnYn38q4vnp7cLchXXuVbtxdLoFx1UVtpWnv0uLNGudquTCROXj2HHI6riRK791zJakjIxDKRGatMI5fu8z81y4vzU5bE2yJmYLyFsc1jaythPcc+CW4j2grGVi71GTQgnLV1tFrQduDUj3uWvwb27p2Sefjel/PAXXy+QywoFh4IZKrTF67lC6I1H6NTHEGOBeWB88LoVm6dimoGaxO1a+RiafOpX3V8r7yGayOuZfPgGsOQhy3V4Fgew7wSlJ5hXG1aY1Msj2IK8B0BAK8cYIIxBXG9bZuD6ZUlCqk5zC0x/Yczh9YtSVK9ZA3pAN6Dqq6vnAo9ANx3Ndl0LazXPK0kq/n4J06F+45XMkc7Ajv0Sy/VzZrpAsiLUnyhZ38fQX4vOqIOXX9o9cutRlgfZfrSuZgTVxU9KrKPQdQOgd3CZB7OO9VzcnZ4pYDHddnkoVSrprlAXe5ynN5gxF1/Vi7ocenp7XdcueJyxSt8wtjhRYku2EcB3Hb1LxqHMb9192VJTmuw7DxSsfxdv/Tvn7TSceiAEpylqYnH/lWsWBRXABMVLHQ8B4cjvWUfN1xTYU6wJEqqy7y1ynBEIGt8ycqBxe2BGh3JEt3hO3HtXjm0KFJ/kHIOTDCmEUM2RFMH9ygn8N+WoNmDpcLZEgfFuz2pQPMKof7eHBME0RsxAVX3OFS1Y/Zj77jtGQ34nLRWjVeHtFF/pOIc2EvRdf1m/2UKy11s+8qtXzmAKQMhiNNTDefqiWtFIlkQqEbNJFuO7g6oqr84p8PC710IxN0R0bK5VIFV2svTx9CnCPTxspm1iiGiBKeptmh26tAYOXpp+y3HSGuqUwnONzIZN7bRAdYp4bDZpee5qq5OsAKcdTQISjykUjmM/aq3lRZK3rH6a5SOMmPZw5BQ47yQ05rvm3NVVXhkLCs0YqF2EN60A4iw8Ev1dtcNXvmsGK+qukh/QIRtEHE06cK1fXtKRfLqoTLRadcw8Ev1ZkTXBXzVdkdt5k1PvtQo/24I604520lvq0EFAvxXLXlytPHpjUXcRU4tTuiJvkx4EbugxHojrRJTn4p5jY3gcspucLQKW0lVnNhFQhF5ir+VhsvgZsN/Tji9cOcVybD6wcOuQ5MuXpxirhyt0tTea9NTPKLEVf7CdzMaZdZbpd0Pw6LZ1wiN7PhWGpwk1Uz/BzQDsSEnOB6vXT+cLscntoB3sQZ4qiaV/qOixjSJYgrBNwwu0OcSYKzzbe1ExwYrF6InFdpVp3EG+IIJSlsnWv9uEQ/DrMH497IcOgt4hNxC9vXv2b5ElhU32fuuF78IQ4r3XyreV3NST5V86K16uG6YRF3iIt1gJscxRbgE9oG88E2oa5fdMu14h9x5pZX2I9DuaGn+nGXmOdw6PHrvh+X9OWagGdNbzCkI5uk7NhpwHliSDf2sIY4wQHl6ZysWvoaqcUz4hLyGUrsfF85QIZIvASsh1zZsYsA54qTDyuHSAViM7wH+x6NarDWeRHiFpHT3HE1g5zldsk6wEDOdiiwJejFJeKYvaqtWEhFqShfFSkWHikaPHZH0qJUxEOvnK9a4CE9ibvACVQsbMLKwWTWGP6qMeKOAW6o3AWOXHHZ/TiD55BGXHZW3UScfqqPVdbGMjSLa1VVcRG+KmRI53fOOxGnn2piedpgSK9GB5h0MssBVzsM3AwdfXPuuFh3ZGLaonBUk3/J9eIfcXDmcC1RLEwotgTvuDzIDY3LwM1z0kMam/1gjcyWjQePq7VscjrE2YuFxNHMLFWB1vlwKDO4rlX1tj7ROidZNc1XzZJPZh/q73O5BPBVo90R5PaTyKqYPVhcdK3iGXHxJB8RRLT14KZYl1FW7RJa5zkf6uw2cJJ8x5kbmcDsx+yO6NglQreInO+Oy9oBNry348qh2M5hFTkH4sysihA3WXNVvAIciQSVtH2d745kdZUYQ9pa1o8QNxzLqO4m+eFcNRk6BLmWiHZ3gK+a+FZH8Y444q9qbuuTmcMLlad7Ee+Iq9gOcNJ7cFqZDjCXOs98AV9m8Y84OFitI7fLK0VcwHPoqZ+Dks+wPtRhEf+IS4kZ1ElqOZrW3CBH+ar2O24U34GT8rmqntWsif24jjFrrCtuEjkD4qC2kpqrjrQ9cpDLZXlIt+I+cEl/VernsB7Zj9PTQZIYKjkX4iCz5go7mYpZY2qdI77qH+M9MtRyGsQZXC5rrzBWnt77OQCNzKB2YIi7ipwDcZXJ5YJS54p32UM/h84WAmZZdZMTBE435LLt3sm2foajbyqtTnKCwCkVCFMlHnKSpkhev4UdYHDHke5IK2cIXKACYbuWm7UqVp7uzDsOI66bzxE4ogKBZg5ZtWqCIR2+4wDiLtl2s84m+VW8ra+YNXZ3BHaA4VwVvn8vjcipEJezr8/UDOgOMDeYYv24ZGXvtzuS0Y9jO8AT3QHmnPzhz9G4OZs5QKIvFgJW40FYqraAWRP4OQSRK4qbM55Dxpeqd4B/uiNTmj1oVg5ZhZbvKZdi1mBHMyIuanPydXdk97GW4U28GZqFSjdL8h2nkgN+x7E7bo+40rj50AHOkTq3NYIQ4tpolRXKi36/Q0rj5m2uWkV81ZS6/hRvK/XRyIHRHIby95v/d1y9WEk1lmW1uVx4XekWua4SOSHiKuZnZu3HYXV9yh6EPIc74NojBuQe9uMqUz+ujp4jI+2dt6w7Qp3ghuw+krNaNctBrwYqaNB7MHgAdyk/h5K+pdfx4GzusoafKujHRR3gDu/HhfpxfxF3lTMGbrZtCdB+XIi4KDegmQPagbh1zsufIY4QV2ltJcVXDTn5EeKKuFyqcmgrOWng9g05pZG5RFvnd8SNtDuiPKRbw9H3/ztumkVOjrg5ra2kEIe7IxBx4e7IA3DjMwf3eMfhh9xovH/73dZ5n9cBHrpFzhs4hbhgB5iqeaH5IGDWtCazZuhnOXHg5jmdVX9mDte0u9TjAQz9HB6Iu4zPHt2v7kgNe+cb3FbqeVa9qBfw39C1jZw9cMBDmr7jwqHDylzL+5Sfw2V9wcn9Iy5qZFoTaZRV9b7+k1nB55Sr2gEOaysFiFO+tCSrhqsj2yzyjyAu3lYCHnojyap85gAdfV9wu3l+x2V0R36INSvWAUbvuMvzydRprWogTmfVO+AI4uB+XF/JvxK4UHekMZRucHdkQhsQvdqPuwGurV95cl+LhUR3hPfjTN5lkFa78bUH97StdEdcOJC277h0bvgO24ty6RkQV5OtG5Pn0GIy19S8/OCeKofojlu47gjVT+4/EjZvdu9grnq1uVxAB1il1beEzRtBJJQICv1VMeKU93a0OzItbzq5k90RgLhl+XGCqy3ERdYrO0fftXnb2T3VqjfE5aigMbf3YANirN54co93XMjJT20rhWteP5Hrr/NbT+7xjoPMctOzJkqq6/Luk3u84+7vuGUBSzeBweoE3yPTm8Hm444LiA5gyMXuuJU56G3NR07uAXHVwwo5fgBTf1Xo2rjVnzq7r6yK1LwSr5HHHTdt9fy5k5/R7XLcJdX7FbeOy2dP7trPweQ57FRZx7r6+Mndq3ldEzrAY938ysl9uiQ1cJNVa2SO16X6tZP/dj8uDqJW2VfM/O/ftf7FmPkK3OMZ3MAu8G3T6ytiTTU7OK8jxMlfuN1idg/X91/9VUZ81WOVo8P+Bw+0DogP6NDPAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-up{transform:rotate(-90deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left{transform:rotate(180deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-down{transform:rotate(90deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left-up{transform:rotate(-135deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-right-up{transform:rotate(-45deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left-down{transform:rotate(135deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-right-down{transform:rotate(45deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-control{position:absolute;left:53px;top:53px;width:50px;height:50px;background:#fff;border-radius:50%;transition:left .3s,top .3s}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left{left:33px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-up{top:33px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right{left:73px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-down{top:73px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left-up{top:39px;left:39px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left-down{left:39px;top:67px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right-up{top:39px;left:67px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right-down{top:67px;left:67px}.jb-pro-container .jb-pro-ptz-icon{position:relative}.jb-pro-container .jb-pro-ptz-icon:hover .icon-title-tips{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-btns{display:block;position:absolute;left:0;top:156px;width:156px;box-sizing:border-box;padding:0 30px}.jb-pro-container .jb-pro-ptz-btns .jb-pro-ptz-btn{display:flex;justify-content:space-between}.jb-pro-container .jb-pro-ptz-expand .jb-pro-ptz-expand-icon{display:inline-block;width:28px;height:28px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAANlBMVEVfX19fX19fX19fX19fX19fX19fX19HcExfX19fX19fX1/////Pz8+oqKjCwsKhoaHn5+eWlpaOqTaDAAAAC3RSTlP/3CaKxwJiAELtp4ri/s4AAACuSURBVCjPfZPREoUgCERXBdPRyv7/Z6/Z1aQp9oWJMyYLiKUrOIpAJBdGCldgbzBkPM/QEoTI3jBEPBRDhwEvChe08Q1Ge0ImvIq4Qj8ljrLdH77CyQPWlCdHC0Q1e9rmmuC+oQN9Q4LwcQg40L6eyqm0uEpXSUqe3fKpkkqL+Y/o+07SrahNEO0T0LBsvOitf4xsLqiNTB32wtqaVKosGLO2mhUrS93+PZ4D99wPqzMJVcbEyA8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-expand:hover .jb-pro-ptz-expand-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////i4uLZ2dnIyMjExMS8vLy+iXNeAAAACnRSTlMAYomLxwEm9+NCLo6DKwAAALNJREFUKM99k9kWgyAMRIMmEMLm/39tKaVKFJkXl3sYJ4sAXeQ3ZOcYd0+gRYblFBuFLYoS2ot5lpvYn8zJQ65TO2GVNmdCmQq/qczw4gjpejD14BgmhziEIvCjVRlPioftHW6A7xBB1a8CCUMvsuSqEkPM7eZX6h8GrQ67bYpNIbRL6rb4/k2EfVXKsgmqfQrW9qnGq96a28jGQG1ky2HXpVysyYyeDIhWq7le6ua9P36HD6+2GRi8iBZBAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-narrow .jb-pro-ptz-narrow-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/9/f2/v7/y8vLUObqxAAAADXRSTlMA3IrE6SZi9wI+y0gNXAn3CgAAAI5JREFUKM+Fk1kOwyAMBQ04bJHT3P+0JVUMNMWv8zvSk1cipfjAKXHwhR7k6KTjYp7dVuWLug1XWB5wz96T/JD2O3Phmv0k5ypL6lVVFIPYpLOka5WKSSFvS0/BloHYlkza5HkMzrvVLo8ZlRr7mtFYWBBsBQ4BjC//GTxcGVw2PpOVHQ6fJj7qS4936OoN2K4e5yE6N1UAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-narrow:hover .jb-pro-ptz-narrow-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJ1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v7X19ckk9ihAAAACnRSTlMA9+NCAsuKJsRiPv/2GwAAAJlJREFUGNNjYAAC5gxFoTYDBijw1FoFBIumQHjsUavAYGkBmGu0CgqUwRqlYNyFIO2Fq+BAnIGBJQrBXerAwLkKCUxgYELmKjBYIXMXM2Qhc5cxdCFzVzBoIXMXMYAcsRsMdgEdgs4FKT4DBqdAitGMQrMIzRkojlRB9wKaB9G8z+CMGjgshjCuMCjoWNxRAxYt2KGRYgJiAQAnZcjElaB/xwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-aperture-far .jb-pro-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAASFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+kpKRzc3ODg4PFxcW1tbXW1tbk5OT29vaVlZVmZmZ8vCMFAAAADHRSTlMAxGJ5Mssm9+NCiYtiH91SAAABAklEQVQoz41T7Q6DIAyEJQooUL55/zddhVazzZjdHyqXXo8DhWCYTWqltNyN+MZLuxP69UGti/vAsl6c0e4L+tQ2yv1AEbvecMhO5cXdYhk+6aO3WGrNAMwentlMz/ZAKIlNoRsqY2wtFWu9t8wasc0iYVN0LkQfrG1zbxNyrIBcntOQrH1Ukkb60QcxYF1xMA2dh8zWj6ZDsLCsIrL4Ds5Hm9FMbCEROWUB0COaLXEIZJKV7CKybGO7UuxjxY2C/TkMbxboKBQCxgMN6MCJQ6Ch/QjOZg/B13LGx8FDTe3IFvl+Bc9XBi3UWoex68qeL/vxmdyxyvz3NJ8f9dDef36HN7koIK2LjxB0AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-aperture-far:hover .jb-pro-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v6cnJzr6+u/v7+xsbGlpaXNzc3b29vqh7uRAAAAC3RSTlMAyRjKA59J/3PzPhe1wxwAAAD2SURBVCjPjZPrssMgCIR1mkYtisD7P+zBCyZpM5mzv5hs0M8VnZvaok9BlXzc3FXbO5z0vtifFC5Kn8OL4UfxwVvuHm61d5Z0b6ZGZZwZpQAUosWsjVZntVS1sH3ZFo1IRVYfGXgx+VGwNkkIVbhq9/jm3cAhaNv1Uk3IA8mNn7D3kbQeWK3TLH2jCthrDFcTMwUWaKiClc9mJtJWhS3SF5BpJqMQW1b3xwnkDahMoHYomkeJRgSENA/MFsKML7fgoCBVbGvM+Cx4JcKWbWHKK/h1ZYS1Jy/nK3u8bB3KhzG5deMxtfv3aO7/Heq+9ms8h9fxHP4AHzAWU9zlWNgAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-aperture-near .jb-pro-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+FhYWbm5vz8/Nzc3OwsLDi4uLDw8PW1tZmZmYgm6a+AAAAC3RSTlMAYmOLx4kn9+NCIVJiPGAAAAD+SURBVCjPjVPttoMgDMOJAqOU8uH7v+qKFN2c597lF5LTJg1VqQG3aGuM1bNTV0wWDtjpg3pq+IB+npyzcIE9ejsDXzDCrjccs+tOariF3n2OLyw5xko0vh9MDjNb9Q0hp2GK3cixlIApe4/JD9appR8SFxWAUFLg6n63iB1irnY1Jv0mlrok7nUdcZRa1YeshxBA9iijChlxI6iZEaBgSEL2tkRcymPGGJpqlbZ6uDg0WR/F0DwuMpxDkYwiIXA8hO2uMJdGCCK6teB8RQoY8xGfevQjxYQt25qoRwDT25MRBjZ7GtP/P/afa3LHmrflXa+ruf661Hvv+et3eAF6Fh3v+sSUGgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-aperture-near:hover .jb-pro-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZn///+qqqq9vb3z8/PMzMzo6Oja2tpXGg+mAAAACnRSTlP/JomLxwJiAONCr+rW2wAAAOtJREFUKM99U9sWhCAInEpLBS///7WLEWy7p9O8qEzCMBIOQ15DAlLYsoegS9yFMKQ93skl4Adh+ZI54Q8pG5nxgKzkgkcsk4zhmQxRyN1OPHqtncjOu5AuppcJ6s1EHTA1YzC3Wgq3YmzGqpsmlwZAo7F8oLEVKoeE6+TbSxK0JJ/3FLOwFnUxzXuoltYDDMLoAlmYXLAWIrkqbdZKs+q4KBfkNV1uwGaBim9TdLWS3R7iGRvCNTPB7JvGlc5EXK8cKbrxooint73RzXh7Msl6Oj/uT/b62O9j8sj6gMXX0Xwf6jP3Zr9DtNAHTYMMXrXSK0YAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-focus-far .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAPFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////92dnbs7OyFhYWjo6Pe3t7Ly8uxsbG8vLyG+Q0EAAAAC3RSTlMAiWJjx9wm/0Lti7mfpe0AAADaSURBVCjPfVMJDoQgDERFC/bg8P9/XUSO6CqTqA0TptNDpSrMpC2A1btRT8wrNKzzjdo03KC3zhkLD9imbeAFhd3sG2kvZQ2v0NknfGBJZKkhBM9MxOxDKBV1N4iHi0TRHYjN01Qi7/kK2PtyNDU7DAEJgDAAN0u1jsQEFEkcVVmrqjeXrkWRmC67eqbgG7bJyvkQSQkvUvec7szpek6t9ubWJSK/uJVSm+APzHKCh++DWWuH4plQKNYOpfappcjy2VvJn9744cjGwx6uyXjBxqs5Xuqsvf/9Dj8rLhRg+bQ5VAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-focus-far:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZmZmZn///+xsbGoqKjt7e309PTExMTQ0NDe3t774OlGAAAAC3RSTlP/itxixwImAELtp8B2gZgAAADmSURBVCjPjZMLjsUgCEVpq60G8Lf/xQ62gvNeOmZuUiWeKHC1cKnC5iJAdFuwJXgmf+xg2g//G54OPuTOCUOEL8WgMMCLwgPP+Abj2aF38CrnBR7whw6Bo4fWUk7MMrQ2OrpAq0GspTLLgKg1wTailNITZA0EaTkZGjIAY5NwlATah5CGRMJYj50tFtlWiapsLvAPRdtL/WOmET7QzZyl5ywzp7NWsjBJ1odsragJqeJ9HGFNZoLaJw71hMTm0O7NeDE1Z6YsU5rGL69sedmXXz0ToW8PzA/oV09T8OJR32fb7+B17Qe3WwtC9PVbHAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-focus-near .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAARVBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/////t7e2dnZ3W1tbGxsa3t7eDg4Oqqqri4uKTk5NImu/5AAAADXRSTlMAYieJ3MvE/0Lti4oh87zNagAAAOtJREFUKM+NU1sOwyAMY30FtoWS8Lj/UZe2gWpVh2aJH1wcO0mNqbDj4gDc8rLmiscEDdPji3rP8IX5fXLWwQWuaVu4gbKDuyPdsJMz3GLefcIPbJ6PDCEAFDlUAJiORM3NigQFAXAFlqOeRhWJyFFIHxNGvRrN0mp470U++3axGM2RAmXcXqKnkDSN0a9WIk5Sa01MpDXBQAdVtrA8lBhFnnKpsmoo5VBrhszV0KuJ5N2tP92O50iQjpzcctravoihdoi0Q1NrfN56m0VWzFBoje+OrD/s7pr0F0yUr6s5/LvUu/bz+B2ep+IHdMIV2SUZfCsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-focus-near:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////c3Nz09PTp6enR0dHFxcW7u7uwsLAUKT0cAAAADXRSTlMA3IrE6WIm9wI+y0gNQZpqdwAAAOdJREFUKM99U9GShCAMQ8BF3Cmlpfz/r15dAe88l8zwQiQkoRrTEa3zIXhno7lhWxcYWNbtN/fa4Q/218VFDzf4of0O8A/h3TQfOGU/ytsOj9gPVyt8warkmYEQQAgABYDxTKROz88koS6AVIB1fRCNbSI1cVUy15Jq27LGjTtyzipPeWw40/IXQkrHyZSRmqw3LaQgctFNKYzYyGACfEXossLMojFEj7J0WfdwJ3dD9uY2X25tL0Hj45mTR87Y66u9IQFsDS1bL57o7JbUDNIofvpk08eej8kTe3Hz0ZwP9UFfv8OgfgBUByCEUZhYtAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-cruise-play .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgBtZe/b9pAFMefbSYWMjCjdOtmYEYqXVC3umMlBFRiT7qxkexITcdKSDUSYna2iqX+E/DG6LCQgcETUiR+5Pv8I3Kc+McF5ysZ3x2++9x79/zuLFEG9Xq9s/1+r8my/AnVJq4z/2LZfB0Oh1tFUQxd1+208aQ0GAa7kCTpMgRJk4kJXk+nU5NEoe12W8PM/wrAotIx2Z+w3MkE7XQ6Q3S4otNlY5zPUZdL7wiMBUsRIK/fDeWvhQ92XS0HrQia83cCsqoIyMug8gQ9Ho/DpF7FYpEajQa9VTBoyIZxWeEfv6IndSqVSjQYDKhcLtNqtaLtdkuigmGSZVn/XKiqqr9wqyZ1YEtbrRZVKhX3zvX1ei0Eh7Ufa7Xan8C9VRIUg9lyQZfzO19VOOugkBpAgaXRtnq97oLZ5ZvNJm0YQkBZ8m63E7YyKl5ntrrf77vlJCF/qzLlKLZ4NBqRpmmuF2LBlLOyBFYBchDKlIeWyyWNx+PUtS2Qtx+eJA6i2WzmQtMEA+8KnA+73a6N+jkJil1pGAbN5/PMfRBIZsGn3+LFvSABMYiBgpnJgZEeFHQD4EzQrOsWI4N/nrY2uPg/eeefV8WvAKfALOsWJ3jzA++rcqjhB25OXAd244nA62AjV4LGxWLhIBk/oPiF8pc9mUy+BZVnyQEzueEZUb5yjyvhBiX6BCw2YTGvdZNyAkYPZsprT/rgO/K2vDcdQQH7jes7gPcv/kvqyCcKbEVX6PxVAG76QWPGPZAIDcEZqGECTQyokpe9wp8VfNqzyA2L9M+KRzm19l1i6ZQBAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-cruise-play:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ5SURBVHgBtZe7buJAFIYPjsVFAok3wBUlYcUDLNvQISUSDVVCA0IUYZ8gmzcgBeIiJLwdFau8QToaQKygovI20CJBARKX/Y/jICPAF3B+yRpjZvzNOWfOzLGLLKrZbAaXy+WdKIq32+1WcrlcQe0vZb1e/8XvQT6ff7fyLpdZh0qlEr+5uXne7XZxMpciCIKMSfzGBBSyCwVMAqxpEXYEhzdeAJYtQ2u12h2aJq4gXadSLpf7aQptNBoPm81GJofEsc5ms9/0zwT9j3K5HHUSyEJ4ovV6vXkSyjHEyvxDXyCAHxGy4hEUq+4JjWQ02O/30xV65rTbQ9lKNEWjEYFAgFKpFMViMbpQnOfFPRSKWxnldrtVaDqdpnA4THalefMDinx8sDOYrY7H45RIJOy6PMibjch3F24AJEmSeo3HY+p2u7RYLEzHwNqogOUcpSvFrk4mk5Zcjry9FZCX1+46qj5dzvEOhUKGfQVyWAyPRCLqojsnEYtohpiSE5rP59TpdEhRFMN+Itw7Q3DpGq1WKxqNRurF90YC75+gnXszulBsVbvdpl6vZwpkwasDNWVw9r3BWlu5Op1OVdBkMrEzTD11RO1exmUJytb0+30aDodkV7DyjT2rBpNrG8zg3WwQW9ZqtS4CatASt/sVhAC/GA3glWk1bqcEo+TPwm0P5QeYySt9jRS9UQe54vF4fqEZkMNCdXivrw4PoJlMZoad5IeDYE7F+0KhcPC+syVotVotIQ5PdLm4CD8CGkJZfAIhzlw3SWRdM+T9q9frLbHnTnUwrfBZfPCiecQG8v3MBHj/HvAm4/P55HMwW1C9tG8a/RmsGH1CnNJ/17UakVMOx7kAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-cruise-pause .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHySURBVHgBxZc7bsJAEIbHdprQJAU1ckln3FM4J4jTIkSMRB9uQDhBlBPECIk2yQ1MSeeIxg0KZQoKKpSCR/4xtsXTNmA7v2ThHe/ut7M7O7sIFEOGYdzO5/OSJEn3KGp4ZDy33ucxP6vVqo86H71ez47qT4iCLZfLJ0EQmhuQKNlo89rtdk06FVqtVjV49kZrr86RicG2TdMcx4LWarUWGjzT5Rqjn7tdsJAi8Ch4C4op1TGl75S8GKwCPOWC6FsRNDKAL5SOZER30HcAhbFFEUFTLBapXC5v2fL5/J7tiOCXofHLlVfikRhRrSqVChUKBXIchyaTiWtrNBruYLjM9jB5jlmup4vFQqMYyuVydKE03vsuVBTFR8pIcFD317REGQlRXBJ5PSl+iktCskgZC57eZA5l/Q/Uy4lTykjYq1++p5EHb1LC9rRdKA7dT8pO64yERG/SmVM8m81OqW7yckr8Ztv2r6Io1whnLawF59fhcLiVY0ejkWsfDAYUJfRfB+snOE85J2KRvym9RGF2Op06vwRbhg9YHgmlIz7E235B2vwC1x1VVdl7jZLT3nVF2q0BsJUg+ODFTDpU0wP3PfC5a2wB+BD7CuqLgws/TQQYn7cyxYfxfdc6ViEUujMAHUlER4cKHfhbATvPjBUG8/UH1xXJDxHoYGQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-cruise-pause:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH/SURBVHgBxVY7bsJAEJ01CAkJKUhUULmiDSnpoKYINyBuQIgi3AA4QZQKIQq4QaChhhuQCxAXSERUSDSIb944axSS+CPA5kn27o7X+2Z2dz6CXKDT6URXq1UqGAw+Hg6HDB4V4qj8rAsh9N1uN9rv971KpTJ2Wk84kW2322csVv1BYr+gEGMo8Foul7uWc6w+NJvNjKIoHXRVOgMg74K8AXLdFWm73a7BujpdDh3rZH8TCw8JLYlPSFutVh7NG10feigUetA0bcEDxZTiDFU0L+QN1M1mc1z7SBoIBGrkcGkSiQQlk8kTWSQS+SP7D3CzJ76c3A/yi61kodOP6XSaYrEYzWYzWi6XhiybzVI8HjfGLLeDNGxoWpohF8C50CXgwMK+r0gNCuQTENnyitQgRT4BQSOlyFvrKsRdCapC/uPuFqR0G1IZExfkH94NSzkHkk+Ap4wNUiTqPvmH74gUDoe7dOYWr9dr13M5sfNxBnjQ7/dXuVwuDGHG7ieOr9Pp9CTGzudzQz6ZTMgJ2FFtMBh8HvMpx0Ro/UEeBQq2slgsatw/uoxMsBp5A64WG+bgxE9LpVIPpUWDrgv7csUE4nEdlWCNPCC0JJXEF5Wg8MchHs11CWpCVvZVkBfckksyrneHVnMEuQRXitiqPBS4lwpEJYmORkc7Qju0IzPxBZ2t+3mW/JtqAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-fog-open .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKgSURBVHgBtZe/jtpAEMYH28WJioIa+URDF8MTkAalO6cH4YIiFbk8QXS8QO6oUlCAkGjDtTRHJBoa4nQ0KBZdJApoEAV/Mp9jkAF7bXPcJ5ndtdf725nZWdYxiijDMBKr1SqhKIqKNpdms9mcRxkjFqZTsVjMy7J8x1WdL9WjC6D97Xb73G63m0HjxULAvnI1T+FlMfxBBPeEwoW73Q6we7pcViwWe8+utwKhDFQZ+IOrGr1eAH9ksOkLdSz8Rd5xu1RzBmfdFkvupwz8dmUgBENeYNAZtFQqGVwY9DZSnTVi6+Decrn8h0JYWSgUKJfLHdrL5ZKm0ykNBgOazWbCd9nNt3CzgoZjpUohlEqlKJPJHN3DJHRdp16vR51Ox/ddTiVkw70NlSTp7rRDMpmkWq1G4/HYvmANSpHghXg8To1Gw/M5W1oGVEZD07TvXNy4O8Btw+GQFouFbV06nabRaGRbhbaf8AzvTiYTr8c32Wz2p8KrSuMgJ7x6IEa4AIuivau9tNlsNGm9XqsBY9gxhOvCCi728wa7OCHhRzQAZl2pVGyXRZEoBAoFCDGs1+v2QooiUfpIHE+LBEL+VatVezVfDcp/whYJhAWBVHFvCEFCfz8op6cpORuxJRokajz98tSRae+97OJnUS/RanQLkwNQ4FrzsA2yyU0Gf/br2e12A90LlwYAkS5Pdrm/wRs+/rh1ChAshuV7wTqAQoTAarVat6gorll8YWvzXBXmbdTUcY3/sK/L+4ppmnPeF/9SCGsvAXIsH8+gDthkMFyepyuJgS0GHh3w5NNOzO0zeMHVD/R64BMDP53d93vBORW+0GVnpvmpS0NBXXDDSacwR9K5kxaPok+NUJ8VDlzlQucJvKNj63G2/U3/E78fZqx/rk0w4ggu8jUAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-fog-open:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBtVa9jtpAEB58/EqArqCBBqehorgTVDQxPVJOiD5QAEJUeYLjniBcgRACKeQJQsQDBBoqkIigookraC1BwT+ZcQBBsNd7Ovgk2LV3vd/M7PyZgBPlclnc7XZPFovFv91uRZPJdL9fktfr9W987udyuRbPWSajDUgm3d3dPSOhBMaQUaAXu93eSKVSCryVtFQqPaBWXznJNMlR8zo3aa1W+7zZbIo4vYd3QBCEQjqdfjEkrVarzyhlAa4EvOt6JpNJ6ZJWKpUnHH7A9VHMZrNfLkjJO9Ecv3Aqwg2A1osevFs4vCQP5SF0Op3g9XrPflar1egzut9vCNVHzPS3j8EkcCAcDkMgELh4PxqNoNvtwmw20/tUXC6XSRyLqqZ7LS80CgaDqiY8IEESiQSIoqi7B53qE40qqVYsolTgdrshEokAeh9IkgRGIDPTPhJYC8SD4eg3k52RQNQi7XQ66txms+kepEUcjUah2Wxqrq9Wq6h5Pp8/4CUzD1osFuqPFwfnIsE1IBKbyDqANIzFYhCPx+EtYPmCGQxAppJlGQaDAVwLaFlBgRtAx7T/SNGNZWCg1WqpoeP3+4EX0+kUJpOJNiEqKWA49HGusA6gwPd4PMCLXq+nu4bpsK+6LVV9YMDlcqnkPKD7JyF1oFD+PSSHV9ZB4/EYQqEQGGE4HEK73dZdR+Ua6nh4gWXtD3AkfCL3+XzHZ4pfyrekIQnHApr2A2oqn4YM1TvDWkr3xbozPVAxJ0KaH1MRFllSvQG3gYztz7FtOct/mLqorZDhulD2BVzWJKW2kTZckVjBnviM8IKUQBtQ40ck/w7vAIUhnvGYz+cvwpHZbGNHkcQMwtXGnICs9YrCF/Q2GHb4e3IJBxLgo44ACsY6afbT4XDUWd09N+kpqOhTDT55Jf9/Z0b4C/UJLQCcLGi1AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-fog-close .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIjSURBVHgBtZe9UsJAEMc3l1Q0WvAA2NEp1MyInVbGnoE8AVrSqW+gT2CY4QGwpTEFNcaOEqksKKiYcYYP/xsSJoRwx8f5n7nRu9u73+7lbu8waAc5jnM6m81sIcQlqhcoOZTTsHvAZT6fv5um2XZdd6Caz1DBMNm9YRgPMYhKHhx8brVaHu0LrVQqNjx/2wOWlAtnn9MiT4VWq9VHDHii4zXAPFdJsPGPwK1gIwHk7/dC+sXgAsBjroioFZsmpznCuHKLxeIxqqwirdVqvGmcbaOy2SyVSqW1tuFwGJTRaES7CEGd8TJbXOEo4YkjG8BQ27ZT+7rdLrXbbSUcx4+P3oOIVQ4Wr0Cj0aBMJiO1Q6Q1PvsirFzSkeKVqNfrKjM+8xeCybRMbUcrn88HRSasqs2R5kijisWitB+reiKm0+mhaS5VvMwqCdIs1WYKoJZljUmj+NwqobS8D7Wp1+tJ+5EPvkWYD33SIE4S/X5faoOHgCdC+jsdKc5GnJUUGiNIzwrpbjwh76tOpxMAJ5OJyjTwKp7wP/CnvM06LeFzdPwNd4AFihL+Chom/U86/HmiAr4CGOR4M2r0fX9cKBR+8e816deg2WzeRJW15ABPXvgxRXoVPFfiDWbSAhF7iJiXvUyagMmHmZlmGYK/aXn7HPSNAWui3AH4s9EnG8ibiy94DL6l3W8jL3zvetsMpNCEAw4cKGPCc9r8WeGj/YuBMlikP+yn3EGZYjlWAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-fog-close:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI5SURBVHgBxZZLjtpAEIbLjUFih8QFnBUrJCIOEHOCROIACStALBhOMMwJMlkgBCyYnCDMCUJWrJCQYB+zBwkJFiBe+QvZyEz86IEezSc1dj/w76pyV5dGEnS73cR6vf4SiUQ+HY9HE0MJu5GmaSNcFrvd7hn3vXK5bIU9TwsTw8Oqh8PhzhGRoIf1tSBxX9F2u12FVfVXiL3ksVgs1khWtNVqfcfljm7HgtW5l1Zrbyh4Fo7FYh8LhcLCGRDu2U6nc69YkDG22+0v98DZ0mazaQgh/tLbUUOMHy9E8eH8treDJ8lkkgzDuBibz+c0m81otVqRBAu4+QO7WecerDSDBB3RbDbrOTcej2kwGFAIvNc5dPVTTLHpv9INpNNpyufzBEsC1yF81dOVf8KslCHIEy4SjUYjIxDLDDoGKYAtDrNW13VT7Pf7azOOJ6lUKnAeySLB7jVIIezmMAS9A/igxIIUwns3VBQ+HpFCLMsKnGcjhX0CKLF2MpnQcrkMXIPzuX+KKax9phthtw6Hw7BlVqVSGel25wntqqy02WxOFnLj+xB6/HNTwmdXTqdTGTHmfKA7lhKSxAOCbPr9g90n82X6AcGfTgVxUTngtKlD+J4UAw/2S6VSzulfJAe8SZ3fiNRiQbTgHvgvI0H4Gxb9IAVwTexVmHmmQbiCD1suHy26En7xaDSa86p/A4ttrpuIT3ohpLcTxw/tAWJ9vzUaSWCLm3DXZzS+z7hELFzYjX/i8fiTu9T04x9LgQk+PbvDKQAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-wiper-open .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALxSURBVHgBtVYrrBpBFJ0FFAqBqCIrUXRBk5QaUleewBBIlwSDoW1CUlzz0CSlaJJHA8FgqMBg4CWIKkpRuEfQCDAYAvSeYYfsLgss6fYkk5ndmXvP/c1HYjaQTqdjbrf7PQ0VarLWgBW1Cdput3tutVrdW7qka5OZTEZ1uVwfaBhj9jDf7/ePzWazwe4hVFVVPhwOT3cQnRFLkvS20WjMzRMuCzKFyH7/AxkAg18oQp/ME24LsgENfcwBkJfvQqHQejqd/jr905HJGpnMHIYW3iHGp5AS2df/QabpfiKHfCdCVCN1qh1hv9/PIpEIi0ajLBgMskAgcDZfKBTMYjJVL8+nh7MeS/8ioFiQbDYbtlgseA/lXq+Xt9lsxrrdLkulUmw8Hp/poLB+JC+rkpa7FysiKEokEpyo3+/zBiIrr2EU1kKmWCxariMvsy46IRJWZFBSLpf5GApgvZUSYLlcstFoxMfwHnKQN4Mi+cYdDoe/IGpmslKpxJV0Oh223W7ZLcTjcb6uVqtxLxFayJtkfSga2Sycy+X4YnhlBzAQhGI9euTRqnhAaNjkKA5Unl0yALlD0SC0Au12m/fIvx5nRxsEYV2lUrHMgxmiYMwGwmiE1qzDrSiKSv0r8QMxF2Wdz+fZer3mhXAJCP9gMOCGAiBJJpM8h6jqXq9nWO+hLfGH9ohiVoTFIEbxwFqECMoQInwLy4V3mEMe0SB7YWtMJJzoVK7fLnkgKg65BVBM8Bj5gjHwDORoGNfrdUMu9SDnfl7d+HqAEArFCYNQYoxtAODfJSIBimTWpV2Swxt8PLwiRAgjGrwXuEVGmBNXw6MxP5KXMWYTCKs4U+2COH6g59tCu6uG7A7AYxteCcypVU+EmgVZbcJxkO4HcmplIEQuMcGOTz8nyT6T7on4Npw0mMBzgDnkqUZWNfyzWujQM/FB79lVQh2xeudbZ0VE36mvipzdRagjjtFtnSBlr9nxuS9uGCidk1HPdFp1xcvsGv4CcbeEIeSIw9MAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-wiper-open:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM0SURBVHgBtVa/SyNREJ7dBLVQELU4bdwrtFJOUCxsXEG0Ue4OK6tLKhEb/QsO/4LzChVtvGvE0sPOxtiYJuFyJBBICtOlSSAQCEnIj5tvyC676ybZYPLB4y373ptv5puZt6uQB1xeXup+v/9zs9lc4qHxK621VFAUJYbRaDSeDw4O7rvZUroQBXw+3zcm0ckbMkx8enh4+It6IWQijYlueiByI95g4oxzQXW+OD8/X1JV9e87yACNbbxeXV0dOxcUJxnn6okfx6l/OOHcnr0hhIzsFcg06jNa8obwbErKOfs+CDIhUdUbxrhJiGrknAW8HB4bGyNN02h+fp6mp6dpcnLStj46OkpbW1vOY1q5XJZ8iqTX19dPnYpkZmZGSObm5qharVI+n5cZ5ENDQzKy2SxFIhFaW1ujTCZDqVTKaabA+z4qrdy9uhHB0PLyskSTSCRkVCoV16gRLfYODw/T7e2tOOQE5zKocmRf3Mggzd7eHvEtQnd3dxSNRl3JgGKxaEaE6HEO553gOllXuQ3W3ch2d3fFyMvLS1siKxYXF0XWh4cHOYfzUMgKpE1t3Y026LouhxCVF8DBhYUFcz9m5HF7e9u5VUOV2pp8dnaWpqamPJMBKysrEh2kNRAOh2VG/q14c7XhILzb3993zYMT2IOCcTo4MTEhkqKgrPCx1gGePxgv6vW6EKJYNjc3qVQqSSG0A+RPJpPiKACS1dVVaQ9UdSwWs+33c6n+47ZYchqKx+NCvLOzI80NiWAMEkFyeM75lx5FdFhD4SCXIEJluxRbTLm4uDjmcv3RLgIYgrfILZBOpymXy0m+UImIDLLCATyHQiFbLq1gB/90bHwrcNPAILwGAaREcz8+Pso6CNsRGZDGx0eS8xXqRgh5DYkgIwZuFQPdyGACfwJ+PHGhnHKUOnkEetS4U72Co/uNWdoC3yovUVqBiD1EZW4fGRk5MwkBjjKIBRoAarXa12AwWLARIpdY4McC9RcnR0dHZjPabhosMOkG9S9S2/8MMLDfRKhljawjoYU4wNXby79OgavxJwrEyFlPhBZinasYH+pPPOMaNL4wMJphJZ553Bt/Zp3wHwTYnvHjbDCuAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-wiper-close .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANOSURBVHgBtVc9TCJBFB52r7jYyCXWnhcbO1aru8RErjGXWBxX2BijGG1svNhJo56VhQU2ViQsgdDQYEFDc5rQ0BDoaMgRGhoKaMhdCHDve+6QZVhgMfglm9mdn/e9v3kz6xEusL+/79c0bcvj8fjpc8V6gCY9VXqK3W73MZFIpN3I80wj03X9il79wh2q/X7fJAXvTdNszkQaDAZXaHF0BrIRcvLKERE/OQ3qYwh/06shXg8vRPl8PlEqlZ4nktoIV8QcgBxwItbfitBOvL6+XioWi2XZp8kXIryaN6FNdpSM8spvthRWUmPaJ25vb4vV1VVRqVSGBCwtLYm1tTUeW1hY4KfVak2hFe+J+B+5+QkfnL2Hh4fI1KAq/OLiQlxeXorl5WWxsbEhNjc3RbvdFrVajVvMkcTlclmk02nRaDTGETfJ1Z+wlTxWLP84zQoEAkwEodlslh+QqZDWY36hUGByp3m9Xu88Ho+HNaokfidCCAIh2kgkMlYQAOtyuZy4vb1lBW9ubnidCioa37klkw0nQrgWgpLJJMfXDUAOBbEO66GAAkOS+tSRk5MTXgjr4FIAMXULrIObz87O1CHv8fHxR03thXAkDhbahezt7TlpzkA8sc7uUngIQIhUgNRr70AWQsu7u7uBEPTBdaqboQTcCIUgXL4DUBzjTrHVDcP4BmVlR6fTYVLg9PSU9yC2CIghEG7HHIC2GluJOGYyGR6DYiDCGEKD/iErNS2sU238QnH9rGqDopDP5zm+EIJ3aL6zs8NEUAKCQSiVwxp4BFaHQqGRwkJoRqPRkEZ7tCjGAAJQHED28PDAVkirsX1kUcAc7FEXWc5c7+iQTltnpyMgHNYgUSSZBL5BhqTBHkVMAZnxKsijMbQ6Vf+/FFe/mFLs6/X6IJZ20t3dXXb34uIihwFuTqVSI3Mt0nPia3LtpVLot461V0FWLiiBZwzMWCx2xOSy5+DgIEya/BRvA1xfvlKxr+JjUBwola/Fy81u7iDCX5JwiJSPHNJm3sQWoTnUp06a57XFIrxW+0dug8guutM8EvEHpxPIJRDDH6qFA2UmrSSrg0SO5HJLjhDdUxue+bLtQG7QqR8ggVvC4beCFHumRMSxVJxEJvEfnFm91YrgD/sAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-wiper-close:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANwSURBVHgBtZa/SyNBFMffboJaKAS10SZ7hXqFegGbCyjmUPTAH3eHlZWmULG6u/Kqi/9BLEQRIdoKigf2l1Q2ChGtBLmtFAQloPgL1HvfRyZuJhuzBvOFzezOj/eZee/NZAzyoMXFxYjf7+99enqK8GNxlZVtyhiGYXOZ5vo/MzMzW17sGaVgPp/vN2DkTbZpmqs8wfloNJqh10AZZjEs8QpYAfzx8TE6Ozub9AQFkGf7l55dWLbYTmxqamruRehbAl8CG5UEOvTNmWSmekHCVAgIJVgB9eHHD1bJSTPp7NXe3k68Hejg4CBvdF1dHTU0NFBVVRVdXl7S/f09nZ+fl2BS4Pb29geXMXyIe5eXlxM6FMaHh4dpY2ODGhsbybIsamlpyUFQog/geE5PT2l3d5eurq6KgTPc7x22kpGN5T+3Xl1dXdTa2ipGDw8P5bm7uyvoB3hTU5P0t22b9vb2ZFIu+smxjSOmEbfW2tpaAcJgMpkUQ25ACG4+Ojqi7e1tqq6uprGxMRmvi8P1BaXJLyE34MjIiBja2dmhzs5O8iLAMUGMw3h4yCkOobDYs+YHfXAkEpGBWJ1KJMTUqzAObh4cHNSbAisrK0FTrw0Gg5I4GKiEBAmHwwUzV2pubpZJOV0KD0EIkS6TlxxwViALMcvx8fGcEdQhKzs6OvIGYxLIcEwIxuFSvEP19fXSjpzQ5RsdHf3M5XtV8fDwIFDs0f7+frq+vpYtAjAMwu3oA/X09MgqEcf9/X1pQ/wBQhuyPZ1O56/SNOO+oaGhMAM+6rM5Ozuj4+NjiS+M4B2ZGQqFBHRyckLd3d2USqWor6+Pbm5uZAySqa2tjdbX1+VbU2Z6evoX3JumIoIBHA6ATUxMyCl1cXEhQOxD1ON9c3NT9qjufl2K5a+pqdliA4liHWEc7kOiwMXOvYpvwJA02KOILwS3FoGuoTTlWDKMJJUQ4qwfDmoyAwMDkkiYIBIOsS2iJH7k7MW1JPu3VpbUyYWVw91u4oWtcjyjOSi0tLQU54bvVBnh+vKJry82PnKHAydFDI1UATFwTgHzoIgtZvPW4Cxw1VlX0YtZFhjT6wvOXrgBK+ZnjcqXimHMrbHUZXuSV43kCpE3IUTzvPfjr75s61pYWAgx/Ctndy9/WlxaCsKPzZs+xc8Ww9IvwZT+A8hTw5fcMmXrAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-arrow{cursor:pointer;position:absolute;width:0;height:0}.jb-pro-container .jb-pro-ptz-arrow-up{left:71px;top:15px;border:7px solid transparent;border-bottom:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right{top:71px;right:15px;border:7px solid transparent;border-left:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left{left:15px;top:71px;border:7px solid transparent;border-right:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-down{left:71px;bottom:15px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left-up{transform:rotate(45deg);left:32px;top:33px;border:7px solid transparent;border-right:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right-up{transform:rotate(-45deg);right:32px;top:33px;border:7px solid transparent;border-left:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left-down{transform:rotate(45deg);left:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right-down{transform:rotate(-45deg);right:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-loading-bg{display:none}.jb-pro-container .jb-pro-loading-bg,.jb-pro-container .jb-pro-poster{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;height:100%;width:100%;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jb-pro-container .jb-pro-play-big{position:absolute;display:none;height:100%;width:100%;z-index:11;background:rgba(0,0,0,.4)}.jb-pro-container .jb-pro-play-big:after{cursor:pointer;content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:48px;height:48px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:50%}.jb-pro-container .jb-pro-play-big:hover:after{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==")}.jb-pro-container .jb-pro-recording{display:none;position:absolute;box-sizing:border-box;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:101px;height:20px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jb-pro-container .jb-pro-recording .jb-pro-recording-red-point{width:8px;height:8px;background:#ff1f1f;border-radius:50%;-webkit-animation:magentaPulse 1s linear infinite;animation:magentaPulse 1s linear infinite}.jb-pro-container .jb-pro-recording .jb-pro-recording-time{font-size:14px;font-weight:500;color:#ddd}.jb-pro-container .jb-pro-recording .jb-pro-recording-stop{height:100%}.jb-pro-container .jb-pro-recording .jb-pro-icon-recordStop{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-zoom-controls{display:none;position:absolute;box-sizing:border-box;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:156px;height:30px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jb-pro-container .jb-pro-zoom-controls .jb-pro-icon{vertical-align:top}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-narrow{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-tips{font-size:14px;font-weight:500;color:#ddd}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-expand,.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-stop2{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-loading{display:none;flex-direction:column;justify-content:center;align-items:center;position:absolute;z-index:20;left:0;top:0;right:0;bottom:0;width:100%;height:100%;pointer-events:none}.jb-pro-container .jb-pro-loading-text{line-height:20px;font-size:13px;color:#fff;margin-top:10px}.jb-pro-container .jb-pro-controls{background-color:#161616;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;position:absolute;z-index:40;left:0;right:0;bottom:0;height:38px;width:100%;padding-left:13px;padding-right:13px;font-size:14px;color:#fff;opacity:0;visibility:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container .jb-pro-controls.jb-pro-controls-small{height:30px;padding-left:8px;padding-right:8px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-controls-item{padding:0 5px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-icon{width:14px;height:14px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-menu-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-quality-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-scale-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-speed-icon-text{font-size:12px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-quality-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-scale-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-speed-menu-item{font-size:12px;text-align:center;width:40px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel-wrap{width:40px}.jb-pro-container .jb-pro-controls .jb-pro-controls-item{position:relative;display:flex;justify-content:center;padding:0 8px}.jb-pro-container .jb-pro-controls .jb-pro-controls-item:hover .icon-title-tips{visibility:visible;opacity:1}.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-face,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-face-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-fullscreen,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-fullscreen-exit,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-icon-audio,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-microphone-close,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-object,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-object-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-occlusion,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-occlusion-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-pause,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-performance,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-performance-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-play,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-ptz,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-ptz-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-quality-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-record,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-record-stop,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-scale-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-screenshot,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-speed-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-template-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-volume,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-zoom,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-zoom-stop{display:none}.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-speed{padding:0}.jb-pro-container .jb-pro-controls .jb-pro-controls-item-html{position:relative;display:none;justify-content:center}.jb-pro-container .jb-pro-controls .jb-pro-playback-control-time{position:relative;justify-content:center;padding:0 8px}.jb-pro-container .jb-pro-controls .jb-pro-icon-audio,.jb-pro-container .jb-pro-controls .jb-pro-icon-mute{z-index:1}.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom{display:flex;justify-content:space-between;height:100%}.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-left,.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-right{display:flex;align-items:center}.jb-pro-container.jb-pro-controls-show .jb-pro-controls{opacity:1;visibility:visible}.jb-pro-container.jb-pro-controls-show-auto-hide .jb-pro-controls{opacity:.8;visibility:visible;display:none}.jb-pro-container.jb-pro-hide-cursor *{cursor:none!important}.jb-pro-container .jb-pro-icon-loading{width:50px;height:50px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAIVBMVEVHcEx4eHh4eHh4eHh4eHh3d3d4eHh4eHh4eHh4eHh4eHiqaCaRAAAACnRSTlMAikwX3CxpwZ7zIGi5xgAAAZ9JREFUOMt9lb9Lw0AUx2Njqm4iGEqmEnBxslKUdhJctFMVcW5wKZ0CLpJJQRw6iVqQbg3FtPdX+l5+XHJ3796bQj557773fe8ujtOI+6jz5p84dHjTkYD4+RhT9CIRZWRPJr1bChnbY532GhT4oUpbI6HEuqvgIH9544dh9J4/rpr0Ms8oV3zMNT7X1MXSmaznzfHjM4n72moe5n8ryYrW9rKRvgf0S93JA7yKa9lbzUg3keJb8OVCtwkrFmoO4MnsAuj5rGqnZg+GZXUXkl9NjEui9n3YA9XgpMgakLXz6ujMTIgrCkPVv0Jil8KgKQN/wRN69hLcb1vrbR2nQkxwiZTGQ5Teb7TO8PUaS8Q03sE+zkjP8qbjzgJtEhRbV4gnlkOFeM7hDYNdxPbiYFvKSHN6L2NmY5WzMYPtplZdTxncRvn2sI+DHIoug22jWMaA12Y7BrXzrG8BX32XPMDKWVzw1bdMOnH1KNqNi8toqn7JGumZnStXLi0e4tcP6R3I635Nc/mzsMxl9aux9b78UVmn2pve8u6eR50j9c0/ywzyVl5+z84AAAAASUVORK5CYII=");background-position:50%;background-repeat:no-repeat;background-size:100% 100%;-webkit-animation-name:rotation;animation-name:rotation;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.jb-pro-container .jb-pro-icon-screenshot{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEzMzMzMzMzMzMzMzMzNzc3MzMzMzMzNzc3Nzc3MzMzMzMwv5ahDAAAAC3RSTlMAW+8S2UGVwyyZnOTRhEMAAAEfSURBVDjLzZKxbsJADIYdBQpsSCyVMlXAdEuQYGKpWFk6dWHJgsQ7sMDSpUv3PgITAQT0f7ly57ucQ45KXRAZot+/89k+X4ju9KzL4XOhlm3pR0enYrWViSRPXQIQSASkRSkIJEFRimYCuQAHSW89IOv6SH5TCsuAj68Ab1wDzqkAzqoC7AUAPtgsABgkBBgkCJiNHehGok//KRVsHqd+3Dj1/vukt3AH/Jj05s5/AmyZhFVWXDls44iVvfQWkCvgxU6g9ZdJfCLvjJbYaT3GvjOY4mQSG3SJGjhr/Y1Xohp+TGKqqzexZ/1GVGdNCitt6R8zVvb9d+JmKdl8o5sPWbtxT6zFuJcDQtk92MNmYiXHquYlZlVt1j4P6cd7fgHFW7Nhqu29TwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-screenshot:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEz////////////////////////////////////////////////////////NXt0CAAAADnRSTlMAWe+X2TINXUYZvctoYyuS2NgAAAEVSURBVDjLzZKhDsJADIZLCAsEg8WgEGCWGSwCgZxB4MgEAonB8wQEXoBH4BEWXgPJgEBG0mdgR3u77raRYAgnlq+9+/t3TQF+dKbZcJXSYSnzlViT457lRScKmBqILSFA3GoO8S4E+Ex5JiSJ4CbVdyOQdZNomX9D4dl+ko3NC8vFFmhPy8FIsi0ZlwLBW/LY5BxYYreUSgoFAEmhB5Rc9OCbUoXmTmDadQKTn4y6A/XTaoSKdb6KyGU6RJ7eHgpb3ABinAoil303xB6vQnRahNhXvMdre+fzOgxVrokX4jHAnBh8PALU8Eq8BqgTg/vePF8tpuPy9/NFaalSc273RizarYqfkswjifNMQ/TyTGMv4v87L+ks5gqDbc9OAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-play{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-play:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-pause{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEzMzMzHx8fMzMzMzMzOzs7MzMz4IlKVAAAABnRSTlMA6xIU1hVqIuOVAAAAMUlEQVQ4y2NgGFYgLS3RAEQziQFZoxKjEqMSaBJpEAkgIw1ZQlBQRAEs4QhkDeIMDgAWx1gMHyIL4wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-pause:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMA7OgSFBXMmAA4AAAAM0lEQVQ4y2NgGFYgLS3JAUQzi6WlJY5KjEqMSqBJpEEkgIw0ZAklJSUDsISikpLQIM7gAJjhWp6XcaOxAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-record{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAHlBMVEVHcEzGxsbMzMzMzMzLy8vMzMzMzMzNzc3MzMzMzMxEZ/aQAAAACXRSTlMADPKKKeBxlV6neZ4mAAAArUlEQVQ4y2NgGDZgJhpowCURAJeYpIQENJEkCgWRgCeShAGyjfgl2EqwS7BFToZJiLg4ICTEImdOh0pwRM6cDJcIjpw5E6aDFeh8B5gECBCUYAkKCoMbNXNSOlyCgUEQ4apJJmxIEkjOVWFgxi4RgEsikGQJnEYp4pLA6VxUDyJLIAUJcRLIwY7qXKSIQvOHWCQODzKIleBPPjgTHM4kijNR48oGkajiYUMykwMAAfmZhUjBISQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-record:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMA8gyMLeRw1x2DBpWGN2QDAAAAt0lEQVQ4y2NgGDbgDBpIwCVRAJc4KIgEZM4EwCU2KSEBHySJCcg29iBJGCBLgHUs24FdYlnNYZiESksDXKJALebMaagES8yZw3CJypgzZ2A6WIHOd4BJgABMgh2XBEtpaBjcqDMHs+ESDFyLEK46aMGGkEB2rgQDJ3aJAFwSUSRL4DQKp+VHcTkXxYMoEkhBQpwEcrCjSCBHFJo/1GIO408MOJMPzgSHM4niTNS4skENqnjYkMzkAEgzyFpeX6L3AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-recordStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEVHcEz///////////////////////////////////////////////////////////////////////99PJZNAAAAEnRSTlMAMPndsnZj1CSYPcmL6wsdoU80pOJLAAABu0lEQVRIx5VV26KEIAhMA++p9f8fezatFDPr8LSrjMxwiWlqzRuMYKW0ENH46c3WuGyVLXEduuO83UyK59fl1jX5EEUXD9DOaSh43XEP5zUIdZ4pAecTofVnWSt3ip4rx7N61vjnY1D30CpH4QQR8vsP+RA5Rs3KpjfMU/pMim/LgbvH7DF2F8sU0owqapKLqgnhuGWwImUagn2zhUX6WQQoYkXG9WxSAJd700/ygsCpAoliaDsPiG48GM1X5Ft/06sfp8DrDE+3DpekWjxM6366fgEcnklC+AIIWYQmPEeAaUmjFOnhCLDfxZRH+w1gU5b/DYjfNcyJ0p7dxX8B+FwxQVtvAGB5ig0d5gFA5KbzS91hI8CenvlHflfN/XvzJQnxbBEko1gbvVnPii+FadSVRUEaYylQfJtpLB+aRG4LY/80yKdUbCraM0lozGR4ewZ0Wtnj1iC7hjWKNnjYmR62W15cLlL3+2pyMR09jccyuyUrHKsvthc5xsY1iWJ0Xk3t+2XP7AnWwrAQmBH6asXubmL1Z5Lz6o992jWiu9lnMSiQsK27FS9NxhCumZgB2fTBPFsFolhZr5B/D3o9sJAI6skAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-recordStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEwimP0imPwimP8imPwimP0imPsimP0imfsimPwimP0imPwimf8imPwimPwimPxLmg1rAAAAD3RSTlMA15sisGUvdz3szYwMT8H+hDJEAAABx0lEQVQ4y3WUO08CQRCADxBQchBiMDE24KswFlw0Wtig/oHzUWglJBZWio3GDjUxlhhrEzT+ABMrO2iptLLVRluDggI+xtmdXW73LkxxNzvfzuzszNwZhhDzdOxqaPGgYrgkOgFczh90ezAJQmpL2v6OHYnqk2aWxOTtAnu/O/Y5XNZXmTZjo3ot7aESwLdFeqAM0MoJkMf9ltwVQJ9PcQN0UFIJogvdJgLQVFMsAlxyBaPmVBDCE8W7qd+2SDsx0q4OwhSrCG134W54jDfKLjDNxaL8/9AAMM/solptRnoALBbwEPWYrOEzLnrZsTGoMW+fBHG2SiLPUNI6KMOH8QS/XsCMBYQekIEv7NGZF/Rht2yqmA4i3UG9O0iTqgMfhirDhRdU8XJZqqEO8tDAqje8IIt1r+I5HmBjfD9AxQ1MgJQRpc6GJRALHOAS1WRlhMs4VaSFzwIWzCUF3op71kdNsNs/FDCuA58YqCQl7IhN3WbDnlLtfjnuON515WM17c7w41QPOuBIzDT5wqi0T4ESGV3gjtTjkuPATwHoX9+cPRlmmvJ57YAir2qKy459QL/UhrS/uAu3xf8KiX3DI+b22t6jc9F/qfaum9E1pJ4AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreen{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEzMzMzOzs7Pz8/MzMzMzMzNzc3MzMzMzMzMzMzMzMzMzMzNzc3MzMzMzMxdHBitAAAADnRSTlMA8AwGYt0aUcg+til5kgmZywUAAAGWSURBVDjL1VM9SwNBEB12IcGkMagxNktQSZFCYimIJAqKpZ3Vco3YBYs0NkKQgBg4ECtLFSFVCGgQrERBsLayPE0Ip7n5De73BdKLTrE3ezPvze6+GYDfsAQKy/Rz0i/OZJjY9XREuohTKulS+ZFGiADfyZXU5uHktI44VH5apDx554aXwJqloiIwiEsStAjCAsRNF1jCmGqa4Vc+BvS4JkjwzyPE6xiwzsxxeTbZxqjkANSWZFkoIj5bQBl4aBDfkPDNpeRRialB+SRAFz8UU1sAaEUjSCDoJ7iukZJ1V+c01bFczM1pWaa+a0Rp7MHn4V8Z1R9vLLCv9WjKdVFfk77JP+bZdz35YAfKXx6KhKp93abUYVbrj49g9aAYSuFCLbPUwzdCsYEWTloXgw1oGwQbENeuKwxzXhxwAADRMFd+zzRc6AAASY6RH8VjUHaXTrlOpDgCUP3gelc01e2d+f16cWbnQ46BGCRNVsWAWQJVw2xGfUXVv2k1OsLfazXqblzS99u1FwKFvBJioXBY2+r82U75Ab7O0ypVV0wKAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreen:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEz///////////////////////////////////////////////////////////////////+GUsxbAAAAEXRSTlMA3clDHfdfDQbsVG00u4Cqkr04dRsAAAGaSURBVEjH7VXLdsQgCPUBAROdjP//s1UTDUxsz3TRTc+wC94bHsLVmP9hkE8LIdvgupt2tFhcpy2CMZyVxNePEoqDp4hwEGz5PTqWoZNzLrmD9riltBEYzzpZQ8bweXy56Qy6Tivsp5JQYtawuMH3eJlSxIJtdSSa4xer4lMB89pK23mKrwjZVpsRzLq35vEE3+r26h6w5EKppcp3fP2lIpTPWJvoXoobeNI1sM3haHvx56tu2sdElJ54GbnPQ7RZ1sCpl8qPEMXBNQ8vN82jNbzLCPzGSDOZj/2Bqd19R1rELIEbDFrUJfKYdlALbDuDMko/hz7t8DqtCfr8h1Vt4rn7eh/6Ph37ch20aW8McsfGCOXzcr+GOlQG1rJ2HSHUDO/4Mu01qVAqTCpCJfgZ3phTS2pKm5aZOMUbs7Q6nk6L8UzRh6W78jH+gD/VRxHokPuNgUGTaPPR+zDR1mrlvcGgwkAVacSbeoN4Z0rb5/6XLrW/2GTLk2NhXHRKzrqAt9cD4rr4ddvae0NAYgOICdZyvPj4UYRf2BdfbB8iWvnTUwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreenExit{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAG1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxi4XDRAAAACHRSTlMAf3WqJmy+7azWNnMAAADNSURBVDjLxZQ9E4IwDIaLfMzCOTDSOz07OjLir5CR0dmJFVHIzzZtnMzbOzcyZHnuaXpJWmO2ji4GhpAzzZeQzw8FKCj1pMHss9OgpwsGOS0YGOcVUMPsfBVkmJoVCBJW0FFB6SFIaMKAlRGDnEiDkuM00lP3SmL6H5QSh+iIr9ZWVWntUV9Z4qWbHAWrhcUYNLC4Wwm3xb1r2mOQYoVn2EKFAVb81KHiQQq6L3vSUoMBUmSzgCKbVeiL3eTp3Odf8H1sxRAZZNZt/Vt8AHcPQbiQQVF+AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreenExit:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAe4Fzh7MZbKPtN8gpX19xAAAA3klEQVQ4y8XUIQ7CQBAF0CWhKQHDGtQKQFcURUgqEARBED0Aoqp3IKnoATAEW8MNOACmhQYKcyi6uyjmr+aLqXj56bSbVoh/J3HBxcw0ZfA2c3FiQLGeQcWh1lOVDDJTAeCbCgAR6QqCDj0xCEU5Bl2BIALKMwhdKjGILRUYfCIOEynlvABANk64M5jabJxHfJY2I76yzYu/ZCc0s1WbNYAQ3jxqwMoGHoqWGHpUQajEgcYYcKWFtjLE4FGJQewoxODRDQOqKPPcHl9sfzSXa/0L349tEDsOsp/8+2/xAY+BZBY9KhM5AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-audio{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzKysrMzMzMzMzMzMzMzMzMzMzMzMzMzMzNzc3MzMz8gU00AAAACnRSTlMAL0jMZKt96hGJsSKv1QAAAJ9JREFUOMvN078KQFAYBfCbJEw2q6SUyWxTnsJT2JTJ6D38Gb6n5PpT6BwbuaNfTnz3fEp9fZwAP7czD0MsGCzBYJcEYsGwBEHQQRB0EII1CMAWdAOzyJUvJ4jyDVyZVHKGpj9guEI2IuhaDFadYnCkIm9I+kPgn8t+kI7kOsT72HcwQnJR9Gofy8DrwwtHK8pLzdeALg5fNb6cdJ1fOjOGYrl5CLFcggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-audio:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAL0TQf2frEaZYt8E+idL4AAAAnUlEQVQ4y2NgoDdgUcAuzr4Hh4TaGQHsBp3BLsG+BoeE2hnsEkCDsEqADMIqATIImwTYICwSEIPQJFhnBjKInUGSUA2CSPCcOcIwB1ki5xRM4iiDDrKEzQlsEuUF2CVY0jbgkDhjMLQkEkj0IM4gQQ1EHMHOOXMiakRpTiQQtXgTA+7kgzvB4UyiuBM17myAM+Pgzmq4MyfO7EwjAAAEf+BAxqI/agAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-mute{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMztXryaAAAAD3RSTlMAHd4P7ztyiy1OnKhdx7uY2gyAAAAB8ElEQVQ4y72Uu0vDQBzHE45C3SJFaSGjUEiRpJRCBifXokkpSv0DfOBrEKxUUSoFH9ClFAUfU7c4OARRCs5WjThIsJuDlLo4ldvPe8SYxGyCt1zgw+dev+8vHPcvYybvfCR2OgUv2CoLdI62bUn3gq5UJxOomZofXPUNrIChJRklfcDSiKK2bYQ6PiCaREk0EQoYPFYa3F73F+DGsBJLmAjBAMBKakG15KAxqIhd2KuK5reRccBDNbqGJhfSlnNc/kBh4OY+vaoR5QrRC0afKgxMrKdXNKI8yxRENpyd+i0VA6wMm5IOBmORCwfAFjGwolofevbuPrvpGhRgpVaqiJflrLuUQQFRToS9l894EMDe7q6yL7/G5wMATc5mQCiAvQo3HAbwLtyYHQZgTxhohgGUa/CP12EA16W2/Ou4ZEj1dNG9oPMkZGiwJWQ8j+huPoJy9Z/XHTfUFSbAURveCtE5px5vs7hQDKS25FSDn2KR5Up1/lRmIHne7BvKd82LMRJbSjr5M40lmaYZ5/PRpiCpizjJyk+CwOGOzACLpSdz02QxkiuRhd8dNOwkV7zl2YX1mcySKJrQiPkXY9klSt6rkJPRwIlmzrcWSGyzHuTb11V/N0y/S6SdwdCR4m/47OIN7XOQCfwJwHGp8IcfyRdBLEZK4Uxp6wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-mute:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////9KjZoYAAAAFHRSTlMAbk2o8o0P5TsGnVojFi/XHcV9urLaq0oAAAIQSURBVEjH3ZZZkqswDEXxLM8T+1/rkw0BuwM0f131+IvDyZVk6SrL8p88QCHp8UAnWmoWoG8AwQRN4/vOiqwUuwWqiob646MMhEW+KnMLMIXffgiZoODBusb7kCzjByF7OOszkOyp4amJ7fWVPwCN6BpyWRypvANPCvi7u4aTXe13YI+KkYA5bMRTSMlLnSyGwisSH40B0FJOrKVB6iAw2U7sGgPgQ/DTPQjitCOZT4Q6gWCtGwGFbSM34ENUNSpAKTACmC31rnRgJwjDdkFAJpfkAsZcAJvCSVQB2FaWWKdB/ATMAHwIUYL21lRBZRDiC5AnsBHBUqxEyaraFMoz0AnvHNa6xDWS34FGgNf6PYAEZoCt+BroUWFVbeb5HbCqSvB2cToyca+Adjlycdawt0C/HeyScl1W/w3gsU3aAd7JF8AuAN6isr7NAogXAFeq59Ec7ifAm49hF8wCMWfVNXAeCAkjEGuBr6R5ZGJzBrl4gGniBME+w8aMMyCsNZtfaemnmYaAQ6I3Rz0fnDhHJxc93Vrr7sHWjP3XRtTba2L3EkdFVaPC6YmXxKI9DGF1YPLdiwfD2r37cL5nDVw+uKzU5K27hsXCXPtyC2uyyl0D0p2TY7VaIvFYWU0Dm8TdOXmrVp52HG4lU4K/N38PpS/Kw70dbmb/sC0WCcQwNNzzjrzUj7veUyIIyL/4m/EP8V829O8zh5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptz{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAM1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzNzc3MzMzNzc3MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxDm1AzAAAAEXRSTlMAHqw+E8It/gjxc03jhGDTlgAjE2kAAAI6SURBVEjHpVbZkoQgDBwg3Of/f+12gtfMbK1Yy4NampCju4Ov1y8ruNyyo9fyCibVlNW6vUu29GpWQwTVdPTernqwffHex0WP4Nro3k+PrMKCvew/PcZ95aoNsY9yua+cGxTZsnf2K7ch4CAdGnWwYx/5LgKZCgxGdrhH3BeqNmnwviFXPZbQJmcM25HJ5n7/Pczr2QqksMJfO7BJOHLKLWFdMiL1QXYRwFagMklb4GB1zS7s8Le3fqH7Q28tVLkKdIzeaOJB2OKtY8KfTQCUa4++dNsLbrqpTR7xguHGt8hfg8P+seuaEkNdBjahzOD7g1cHP21SL2LtMNBKMdTRJjffTX1wVgrsEb1ITJU6QknwYJAcQky2cE02NbzPp70KyKggtpu9xM7Ik+CBIqY+8FrYyRUkrs+MEm1TG6tG9LZxNDNFGDue63TYGgIHqUUcuNhvhyZtn5LnlDq3Juxa4noCuX0scErOpNMDCrVcHPCS5rFGuQR9KZpxnB6CQ0ZO+AIBcTPk3UdbTx1L7jLEEHsMW7ZYm8NlIFyxn8+xdL7MURYEhzd5k2N2TabxIAORwC2r00QQfNSgrnqTJfh7cDmDu9ggtV0EZFr7kGu4KAxtNDln406TLwF9iZCIwn9EfjPuncRHYm5x3NfK3cFAS5kWxljSnTFlPHBAUFg5HsCCVOd9cdwXq+027un2QJlMjqISJutCDceRtTTuT4+1Q3HWHR8cu0fh9sGvADTYH9iLah/9nPz5+/MDJnQfoIVoAnQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptz:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAQlBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////1bZCPAAAAFXRSTlMAeVoYDS1pBiPv4/g6lkzO2qSxvoixscijAAACi0lEQVRIx51W2ZLcIAwcLnPf+P9/NS2wp5xkq0ziF3ZRC3R0i/l8fvi04oxx89n+RBi1sqB38TKw7lw7lNzDa3U0e57bHhJ4d567HlqGC08eLAj9Gv8XD4/OwtsdhlfCW2s9LfWtuNrMhG1uLWP17Xh14LF4m8dx1OJ9jkm85YCYch5JzDVy81on3MFYkpTNYGmHHloYI+aqlNhlh5ZSvmH1AyBUwPcMX+u/clW3XYvA2YgRGXyZIZX6PXv0l3GlV9Jp9FKcK7mytJIg8xEeBdaBtV4P8tAixexnp73tY7ZBkrk9WEL8t7ZUDqtIA3jXa8sODSeUVqw5aztT+g4QeNAgM0PGTA0+EmfVeUvU0CEW4hX+lt/zseE7jJKDSmi0EUKBhr7EAMKPvNjOA9Fz4Yk/CFgcGRSdkYOHCLRxQfzKRN5SB/b5Ot8SzzQiKqcb6ipFdCfi1JI84OBdxzarhJ8RkpxHOQszl7bpn0GpmnXq6R4OfTkwwlyUWzeQg7rSLNhNUzEUEqJF3DMHeeXgqRIaYwHimLKipK8hMZOYVfJ5oKtIFSgXk5z4KcNx3GOIPGYfPigh9YGHBNQKVKbZhxMnqq+OHfWBHARZfWm1dnfSXfJuXInplse8wy39zkisdQ5kuLY+Bpc5hwGiH8Mx1rE24DFaLqXkfrNVkjk+8JPTPF0bUw+R9MCVuA8ks/xDyF/9orMqpBQeiob5RbIbmv7/TxvoX1Oqa914TsYg7QUWx8Y7R89JQY8mY6Dat1G5GARuMOgYHY9cbL1vNvc++fk67olLk4nrQSl7457OPqdeKn+vEwm4LPzW87DyXvqIyei9znHS+cZz9SxV+Qf8nNbjn37NkDx4+PmCXzHOLUMtjgmUAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptzActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEwgmv8imPwimPwhmP8imP8imPwimPwmmf8imPwimPwhmP0imPwimPwimPwimPsimP0imPoLqfILAAAAEnRSTlMADprCJBnU/gXwh3LiUKxAXjJ/ELXKAAACbklEQVRIx5VW2bbjIAwLa1jM9v8/O7Iht+09MwPlpS2VwLZkJ9f1lxVG1joPdZ0u1ZIxurhv8DH6dMpQI5t439GAEc7xYPgTRnAtV7plReRhd5kDP8+fd+wzt70yPhIJzWT7/6DCJCAYLReZPMIuJC4pClSktHqbNpJO1aTmmAme3cvtWs9NSfq52CPhnJNjlbVHwgmWSWGHeQHcKFjj7fygwidf2fa4mbVOuladcnsoDn9/CKKAWf6HEtpANiJvUp9Fgr0SvocPP/sqjOCK9ktpyCAo4Kt/d4n4/6baseNKAt5XrauPN1A4ZLAd30RUI4kNfELVx+yd3lrXYIg1Bp/B/dGs5N8mPsJoVyiwkofQSlm+K9aiwmoQMDoI4wefoK/rhkESrSuV+BR2i6HZH9juLzxCtBmn6rFmB66gNJQwBOSxncT/N3FAlxAoLQfJDy2+6rMLI3aznl9fhOcGSdZzoNhex2K3TXJEVe3M4Zb6QhHuJc5BWakYIqqietcPw6FK+EHofUHRqtLEQ5X8dKVENXXgEpLOpcjwkFI30YFVHE8fyx2ShZJ/ydTKlZwZ4BCOv/af9uMi0DILe4kieynScgPbhai+DRDckTT6N6zJpI3HMghM3BMg+q9pHmwrbR0Q0D5wc0JHPy0E5Ur7Nf3Rk68LnR0NHfO28/T5P4cNr+uLFR7eEdiNxvMRbd5Onlqsis4iIVdme4di3akWOz+3T0aUnFWHa8QZrO51NO69MeLPafrNuBenxel/3d21j8k/jyxf+75OQabFxOtuT94G3Lpjzb0zBn2Dl0ep/waPidQ/p/XB60Dp7e8F/QO7WSJg4zEzdwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptzActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcExru/9ru/9qu/9ru/9ru/9ru/9ru/9svP9ruv9ru/9ru/9ru/9ru/9ru/9ru/9ru/9ru/+3uxEqAAAAEnRSTlMA5q0cR/PC/ggSKtN5OIhaa5izIOiAAAACV0lEQVRIx5VW2ZLjMAiMToNu/f/PboNsJ5PaKWv8kKRkWkDTQF6v/zyUfO+JX9sP1dKKd/v2acQcm992kbo1R4il7iHIif0BRNtCUOozH4cikAdt2YfjRLTnzN15/8I85wFCI2xDzlnyMLO7R0aFoTzbFGB+jIkYLkyePvmW8d2fs2ZfZuv8It9s6zvV5uSr2LmKb9oVh37QvpjYOcf8fcO3Cb1jGqOU0SvTTd6X2KUBLgKdLzaiDtE2n+isTh8/+AX7E6/Vh/NNSyfVm10RXIe1nxXRapmsDQB7SMnkmE0IxgqvUn0jteEf1T2CHXgr0gjZllGk1HoJL7lD7fRpD20CgJcwQ6EdSh3lLK0zVfuqz2WvPlPJh7HqnCQ4MysxoAYQE0vHub/toRuqzRy5pEUvbg62MzlJQn1MHBe1x7WSAddpNDSN1c9wRMhKfi2jrICwAIsQvHkD7Al41bOrBNC1Y7QdmSg15LDokGETJB/imxYJKfmFMDqI3FjUkDS3NSEDjBaxknRYSb+4nj4kC43W2OKrkqGB8jV2Fq03YiWbhHQTpUV1mMHXWYf8HlNX7ZUQRC6iwBAIK0r0ILr1UxqKsPattAkhwSIiMl76bT/Ft/TbTy2jHQoM7Cz9isHVMb6GILl0H4DGivbw7xNc8rAtiJn3O/qvD6JT/wgs7Y370ZSdWmbZWEKiG1lXImldW7Q1jGMbZW9tUVKZmGjjGvf+EXAqzWiX5OfFSHVp/zjbfGPc3whdcbTF67V2N1e79qYMru2/AnzVYFsdWFt/+nOypv8vQvoHou4gOtSrG5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performance{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTM7OzszMzM3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzW8hQDoAAAAMdFJOUwC/gO8ra6tUQNmVEKtAA1gAAAE4SURBVDjLzZMhT8RAEIWnpS3tXcWdQ6wgOJIKfFdUICv6AyruB5w4EuSJCwRXgUBWkGArLsEi6JVuaZkfxawguSWz/p7azLdtdt97C3ASagp+PpeXPDjHVx7McMWDCBc8qPCZB4m44YFIeOBh+ckCf9z+sCCYqi8WvA/5Nwu26cfA+JRBs4h7WmX/tr9AXcQHAPdgzEPZh5idTQBOZ3zyiModISKQGxZ7dd85E0SKfMGjM7vXeI/5AE5LvrwpcK9IOrQYB5BlCsFIvjzgrkaSjsBZbmC9XsGsAxfn8gKXpL9sSlnQFBwFTTuaKWXgI5Ar+sfHTrW6DUDO+2jEEtCNQ9wL6gNujMvvdFS3eugxGT51fBXxTvF1wLLngbT0BGphKalAy0MQ3Z4Ha2V7UoMFJKkFVAWcvH4B0OJfd9YsTl0AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performance:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwD2qdfrViyAwW2XORBGtSCsD6SyAAABN0lEQVRIx+2VzQ7DIAyDYfxToH7/p10CbQ+T2s33Rb1MijM3/qDG/EurolD9zSNRggBU0hFelMABmenfADhGkJDhGUFGgiX6I1AAQlDgZK/td8ELtQORiTmIq42I2bYdCD8NjzPmYQxO+rbn2S5qzEUF6YjkgcJude56X3s0SoL7LRAeylyaVPiFq0Jyx230mpeXmXVOHssRbhackhCq25Sny++xcBW1n6Snqw6BTgrqRP6kzfDcgmRLGonDWSf2OecwB491dOrEVZpNsxiyiHzWJ0Z+BbBwzaoWVb49HrqVfSkxHen7WNznLhzl8xpQlT3E9oHUtYaufB+7NY9g9ctbjFfj/h1DwXUrzDltMn1Ql9M814EQWPLmEBg4R7JSzpFQxTmSBMkLvJKOhFHfKEEnv3L/+qw3DuMPzAFH9pIAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performanceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUdwTBGW2xKV2hKW3BKW2xGW3BKW2xGW3BGW2xKW2xKV3RGW2xGW2xGW3BKW2+P2IvgAAAAOdFJOUwC/gCvzq1RAleURc9VmrA9rXAAAAT9JREFUOMvNkzFLw1AUhU+SxtTahnZyC+IsIeAenDuE/oJQcS/FTYTi6hKcHYpDZ/EXBME95BeURpM0Me39Db4Mgk/u23umcL8kvHfOucBBKEr5eW95xoMjeuBBlyY86NOQBwt654HrPPHAca/YuUHrDQsG9eybBWa1+GLBqvS3LJiNX0vGJw/R0N6LJ+/f6x9I3uwG0D+luRU0FnmdCtBy6ZM7KvQdjgXwJYuNZVNrFfqF8IX+nFm/oBvyS2iZ8OWxgH4u1IZmU4kgfoa5E77c0jwhoTYCbTRFGE7QrXFCveCURkK/2cRBCp2gFYiyWk7Jw4AgXOmQZMAqa9uAeCP+JsViihtb9OKIPtBUuvy8jeqyHRpMhvc5X0W6Lvg60HrPg0DREySOoqQJKRbByRWbExaqlSoVwB0rwCLFwesHquttxhcsa64AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performanceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTH3G63zE6n3G7H3F633G7H3F633G633F7H3F7HvG7H3G7H3F6xOzy+EAAAAMdFJOUwC/hKbvK0BT2XURZct0z00AAAE3SURBVDjLzZMhU8NAEIX3LiSUNqI1qBMMChFRgYxAd07E4CI6HQwzEUXgKjC4CH5ABAKJyA+oaHqBJO3+KPaYYSZh9nyfyuyXu7l77x3ASSgu+flYX/HgHOc8kC4wwikPMnzhQaTueKAiHvi43bFg0m4OLPBM9sWCjyb9ZsHm8NkwPiUQT8MjfSX/fn+F/C3syJf9YB7oLsDkjIaiHix5QCNbGBmAFPve+3lXi/0viLB3ZnmDz5g2ICry5daAvCbZhSE2oIsFeC35ssJljiQbgZitIY7nIGu4wLG+xBnpL5tClxQhCANR1Q5TSmCCQK7YjftOVbYNUOxot0EsHl0uwHdFfcD14PJLG9W9HfpMho81X0V8MnwdcHvkgS4cBcqVo6QKHQ9B1a6XY1zAcSiIFg6QlXDy+gEd714RcAqEowAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-face{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTL+/v76+vsDAwL+/v7+/v7+/v8DAwL+/v7+/v96T4QgAAAAJdFJOUwBAgSCbs9hZap+hQJoAAADvSURBVDjLY2AYRkAJCAygbEZBQUEBKJtpJhDAOJpA9kSYxESgKphuIaBuhASqyYzESjC2hDRilQBZ64BFgm2qMLPYNCwSkQpAwlMBWYIRzJsKYrKCxZSRncKSDFYzBSNY2MD2MqRhSFgqgClPAwwJBxwSbAk4jGKZDCKZp2JIsEOcOx0ztjQDYL5ENwsYJKrTsMSvGSgepzVg2pE5qSikPRPT8sopBuDod0ATZ54JsbZyBrJgAVAp1Ax2oPXMykjxYQaLA2CMoERUZQDMrgBUCc8CKIdzAvHJhyQJpLQLSu0TCaV2lPwBSu0KQy+LAwBuJj5UbruNggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-face:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTP///////////////////////////////////////////////w2imYoAAAAMdFJOUwBAgBvfrFmcw4wrbtGliFoAAAD2SURBVDjLY2AYRkAJCAygbEZBQUEBKJvpDBDAODpA9kGYxEGgKphuIaBuhASqyYzESjBu79yIVWIP0NoCLBIsR4WZJY5gkYiZACRqFJAlGMG8EyAmK1hMGdkp7M4gkus4RrCwBIApFwwJmwlgqsYAQ6IAIrEAwygHHEaxngJbfhRDgg0sxHoMM7Z0AmC+RAPsJ4S5NE5gid8VoHg8sgHTDh/PzM60HkzLc44bgKMf3RKuMwoQ+dNIgswJDAycUDPYjhgwMCsjxYcJLA6AMYISUTkBMLsaUCVqEqAcngPEJx+SJJDSLii1HySU2lHyByi1Kwy9LA4AqflRBKNSA88AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-faceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTBCT2xKV2hGY2hKW2xGW2xGW2xGW2xKX3BGX3BKW23povfoAAAAKdFJOUwBAgRybs9hZLG6hrV9tAAAA80lEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTgmZiFViFtBaBywSbEuFmcWWYZGIUgASXgrIEoxg3lIQkxUspozsFJZkEMmxBCNY2MD2MqRhSFgpgCkvAwwJBxwSbAk4jGJZAbZ8KYYEO8S5yzFjSysA5kt0s5YKc6guwxK/baB4XDYB045Vi4pCyrMwLa9aYgCOfgc0cY5VEGurViIJMhcAlULNYF9mwMCsjBQfZrA4AMYISkRVBcDsCkCV8CqAcrgWEJ98SJJASrug1L6QUGpHyR+g1K4w9LI4ALk0RHtSETFcAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-faceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTHzD63zE6n7H7H3F7H3F633G63zF7H3G7H3F7H3F68TinBIAAAAKdFJOUwBAgR+Z31ipwW4yAjb9AAAA+UlEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTmmZiFViFtBaBywSrMuFmSWWYpGoUgASXgrIEowgHtsKEJMDLKaM7BSWYLCaJRjBwloAploxJKwUwJSXAYYE2KUMVRgSrAFgKhTDKPbFIJJ5OYYEG1iIfRlmbGkVwHyJBlhWCDNrrMASvxageFw6AdOOqKCklrQuTMuzlhiAo98BTZx5FcTarJXIgglApVBr2ZYaMDArI8WHKSwOgDGCElFZBTC7GlAlvBKgHK4FxCcfkiSQ0i4otS8klNpR8gcotSsMvSwOAIs+RIlIrewIAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-object{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA51JREFUaEPtmT1oFEEUx9/bnRALGxE70btkZjcR7QMiRisRbCzEQvxCLGyEhCDRBC/RoNaWFgYLFUSwUBAUDKKFFqIQ3OzNJpfCyspS8HaejNyG87J7t7N3l03gttydefP/vbcz8+YNwhZ/cIvrhx5A3hFMjEAQBDwMwzOmAi3LWhBCLDTr5/t+ycSubdtLnPOncX1iAfQAlmXdNBmkru2RVgBSSspg+5kQ4lRjv1iAIAgqRFTIMIju0i2AWNvrAKSUowDwLqP4tACm9rWmbABCiFxXKimlhu0BtPFHtdc19wj4vn/Wtu3XnPOfWVByA5BSngCAuwCwryb8Hud8EhGNltANB/B9/5BlWXcA4GCMx/8g4jjn/H7aaGwYgOd5BxhjcwCgPd/0QcRVAJhM2l3rO3cdQEq5GxFvEdH5VsLX7aKIH8MwLLmu+zapb9cAFhcXt/f3988AwJip8Jj2L2zbLg0MDHxr/NY1gCAIpohIJ2V2BwC0iUd9fX2lQqFQ6cQvtJbICSGOxHhlVOdKjuPMl8vlqzrxI6IdWUAQ8Um1Wp0ZGhryiYghYrUtgDQionxJT0al1IwGkVJeBAANvieNDQB4joglzvmilHIXAIwrpX67rmuUamfKcxoTvnoQ3/dP27Z9g4j2J4C81KBCiC9LS0suY2yMiC7rttoZuQBEQhsiopfT6wAwUvv+hjE2XSwWP0kpRxBxgohO1kPmDhAHEgTBUaVU1XGc98vLy8eVUhoqbpPLPwIx6/wqEV2ovX8AALzZ/Ng0EWgQGa1iLQ8xPYCUyx8YHjt7EWjm2I7sAy0it7ERqNWEDkeiklIJg8pFWwC1ZC6SM9NYc1oXgcaiVlxVYmVlZW8YhlMAcCnFvOkEQPqqRBqASLTneTsZY3pjapZSpwF4Y1nW7ODg4Ie202kTgGiwSqWyrVqtXgOA6Zj0OhGAiF4R0azrup87dqDJAlA/eLlcnkDESQCI0us4gOdEdNtxnK+tfkHjA027AJEgKeUVANBROVd7p3fixwAwJ4T43kp4nR2zylynAOoE/JuAiPiDcx6kFb5pAEwF5zKJ2xXZrH9uc6BTUD0AAGh639Xo6bjUI+G/NglS+p3Y87wCY+y/2ozJSGkuRDLekQFjbEexWPxVryfpjuxhllKhNtwtAESc55xHx9M1hsR0WlcOlFLHTLyv26Ypi5hesyql5oeHh3VBeN2T6TxgCtXN9j2Abno3je0tH4G/KbtRT7VUKs8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-object:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtmTuIFTEUhv8fLSxsFrET3UIQRHtBRNdKBBsLsRBfiIWNoIisD1xfqLWlhYuFCiJYKAgKLqKFFqIgoiBoYWVlKbjwy4HMJXs3M5Nk7tzZCzfdvZPk/F9OHicnxIgXjrh+jAG69mCpByStB3AgQ+AcybmqdpJmEvv9SvJhqE0QwBm4lGikqD4VAaCMvh+R3NffrgzgB4DJDCPWpC2AYN+LACTtAPAqU3wsQGr/pikPgGSnO5Ukgx0DNJhRzZp27gFJBwE8J/k7B6UzAEl7ANwEsNEJvwVgmmTSFjp0AEnbANwAsDUw4v8AnCZ5O9YbQwOQtBnAdQA28nXlp/NG8HT1G7cOIGkNgKsADtepDnx/C2CG5Muytq0BSFoJ4DKAUxnC+5s8cSCf+j+0CXDBjAJYNgAA6+Keg7AwpldyAXqBHMmpwKjYyThJclbSSQBWfyIT5IF5kuQ3SctJzjcCiBHhxUu2GM24gRx1IGtj+gDw2I34Z0mrbXcC8JdkUqidFecEAj4fZD+A8wA2lYA8NVCSHyRtcGvouKtrg9EJQKHVB7Ht9ByALe7jCwAXSb6TZP+dAbC3D7JzgBDITgDzJF9L2u2gQoectV0yAD7IEffjDgC7plaVJQdgYotdLOYSMwaI2gETr51jD1SN6qDOgSobw/WAywltLxRVhBIxi7LxInaxUCHHFvmCpFkorWInoR8LheqsA2DB3LGIRdPIAznBXC1AIVrSKncwVYXUMQB2Sl8h+SYQOCanVaIBPJAVAM5aqBAIr6sAnjnh78s82aoHQkYlWYwz7YXXIQCLRK+R/Fg3BYcO4HnlhPPKIfefTYX7dm8m+aVOuNdP+1OoSow79KzKL5LfY4UvGYBUwZ0s4qYiazzY7RRqCtfZIm4qfGBrAEDle1e/0FDoUTKvUxiT3gfsaWlBbibFUsyDiKSkBK9nf4LkH19P2RvZ3cxUIVoEmCVZXE97DFXPrJY52JUy+lY3Ji2S8cxq4i3jsahk3QdSodqsPwZoc3Rj+h55D/wH5CHfQHNA9EUAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-objectActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA9JJREFUaEPtmU+IE1ccx7+/N7O0BwUn24UeRKOd7LalvS+I6HoSwYsH8SCtLf1jEqWoyLJVMfEP6nlNIgi6eFChCB4UChaU0h7aQ1GQrnFSdw9e/JNs9LTFzPvJZI27m8xk5k02m13I3sK+33vfz/u9N+/7fo+wzP9ometHF6DTGfTMQF+mYNqwd6sKlFLcK++P3WsWF8nkUyr9stAeTcXN624xrgDVAUgcVxmk1lbaGPIFyFocou9fSonYzvo4d4BsYQLgaIhB0EYA174bAFaNWpuFhrthxDsxQQCMrKXUPwGbvfr2BSglYh39UjmwXYCwy2kh4jqegd5M/itdaL8+i5vPwwB1DMDIWNuJcBbA545wAs4V4+YIiJQ+oYsOYGTzGwniDIANLjP+hkCHiglzNGg2Fg3AGB3/Ugj9NBO2+4ujSSaMeJ2uc+PbDhC5aK1GhU6CeY+/8IZz9E+CnSomBn7zim0bQF/m4QqbPkgDOKgufH4EAzdZaKny3vUP6vtqG0BvtnCUwY4p01oFcOIZuCJ7elKvvo9OtLyESMN7IzeViA3VC3TshiY4Wkz2j0Uyj3+aMX5shAIhuia4kn6Z+DSPu6xjiCotAQQRMeuXaJJYpqsgOetbcBV8TZA+ANxgotRU3Hz48SWr7800DjHL6VJyQMlqh/I5jYZvFsTI5XcRa0cA/sLDv98iieMv98X++Sj7aEBCPwjwD9W2LNMdAqhJnQMyc5D9DGBwRhzukK4fK/647q9I1hoE6DDAO+ZBdh6gEaQ3V9hi27JS3tf/u3Hhv20kpQPldsgthQw0fOcnpc3fVK2EhosEmE33x9LJwKxM54Lj/Ap0SeoCBPz+qVw7uxnwmdQFOge8R1n0DDg1ISaxqSbJy0oE2pTvqhStbOK5FQy2ka6vOTVkoL6o5VaVWHX+yVoh7KMAvvPbNq1mQNmNBgGoiV55fry3R+jOweRpqQMBMO4wxImp5Cd/tGynVQBqg0UvT3z4eroyDMaxenvdHIBvE/GJYnzgb69MtjUDboMa2ceHCTQCoGqvPQBuSOZT5WT/fb8luOgANUFGxkoQYVja+Lq2iQm4ygKnS3tj//oJf9+PamUuzBJqJsY59Jz/9wh6+iJpFoIKXzIAqoI7solbFdksvmN7YKGgugAMNH3vqp9pN+vhtq5VMqT2PpAbjwrW59VmVAYL8iASCfdGBvm/bpQPrCvP1eP+RpYrXA5XKgTaBkA0Voqb1eupL4DToFo5YLlVZfadtkHKIqrPrFLIsXL8s0k3LaHuA6pQ7WzfBWjn7Abpe9ln4C11Qo9Pmb2aMgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-objectActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA8hJREFUaEPtmU1oU1kUx//nvthx4cJqX3RgGLsQBNG1tq8Z7axkwM0sxIX4hbhwIygibfPMeyapunY5iymzGAURZjEDAwoVm8SPhSiIKAjtQtAmiooLiyb3yEtNm76+5L37kjQp5C2Te879/+65H+eeS1jlH61y/egCtDuCNSOQyH3cWirNHVIXKO6kYvqdenbxqVlLxS8J8Txp6Ne9bDwBnA5IiIRKJ5W2LDHsB2BmC6zqmxk3UkP6AbedJ4CZfTsNcL9qJ077VgHU8r0MID5V2EsCk2HEBwbIFdT8M/aGBkgaelt3KtOB7QKEnU9NsGt7BMyp2cOa4P8tY3M+DE/bAC7cK+xnxmUwtjvCCXzFHtRHiEhpC11xADOTjwG4BCLDY8S/MvhsyoheDRqNFQMwc292QmppEPb7i6MZgEdqna7V9i0HSNx/95MscRLgo/7CXS0IWS6VrFRs8+1ati0DSEzm18kesgGcURa+3OAfSGklY5ueuP9qGYCZzceZySKC1gQAgPkvXtNjpXatn258CmlYSOSSg/qwW+B8usH9SSM6Ec/lTxM7iR/3hgEh4Jpk2Kkh/UVikiP2MBUbAggiYjFfchajtB0QM/fuOFg64D8H8QHQTQ3CsowNT8cffdLnPn8+KyXPpWKb1FLtYJ0tbbU84asCyRYOEmiMwTtq+P63JJAYH9AfxTOFbUTlNXRyPlmTdpsAKlIXQZyDDJJGGbx7/l++BSHM5EDfg7HMm91CRM6B+fdqyA4AWA5iZd/++hWymDaid+OZ/G8EGgXB65DrhAi4Jw3NsORj5VRC4A8AW+tN2Q6KwKJM54b2HcD3EtMFCLojqVw7uxHwGdVQ992OjkC5JqSJPRXw2qlEsMpFo1OonMx9/7gE211z8iirLC1qeVUlxrLvtwgU4wBO+K2bpgCoVSX8ASqiRx682hgp/jBaL6UOBsC3pMTFdCyaaUI6HRyg0llicnptqWfdeTBMd3pdH4D/kyQupgf7HtaKZIj7gDpAdefxzOw5IjECoJxeewEQ6CZBpmwj+thvCq44QEWQmZ09BYjzLHFk4SQm/C2KIm3/svGZn/AFP+qVucYi4BbmbLnOb5rGr+zB6MugwjsGQFVwWxZxoyLr2bdtDTQLqgsAQt33LvdIe6UenvNaJUQqJ3Hi3ut+KSNLajMqfQV5EAnzRuZoEF8ivfZw74dqPbXeyP4MVSoE0DoAmkgafeXrqS+A08CpHBDTPpXRd9oGKYuoPrNqETlhD/w446Ul1H1AFaqV7bsArRzdIL5XfQS+AaeCtE+rbksUAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusion{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACCVJREFUaEO9Wn2MXFUVP+e96X5oa9UoYpUszrzzZlqLKDYhgAFaaKU2+M2W9Q8TNUQSQEsiRUjFVaHGNmoBMTUmaPwD2iIhqKR8WEBFGkLFUjbtzDtvpjYrVhpCXAtm1867x5zxvnXm9c28mR13b7LpdO65557fveeez0GYp1Gr1d4VRdF7lL3rui/n8/lX5mMr/H8wDcPwIgC4QkQuAwAVWv9eA4BJy/8sAHg7ALysf4i4DwAe9Tzvj/3uP2cA5XL5CsdxNiLi5QBwUkQeQcRHrNB/JaKZZuGYeRAA3gsAZ4nIBkTcAABLROS3xpjdpVLp0bmA6RlApVI5FxE3OY4zGkXRdkTc6/v+c3PZPAiC80Vkveu6Nxlj9ojIjmKx+GIvvLoGcODAgTctXbp0CwBsEpGHEXEbEf25l83a0TLzh0RkMyJ+AgB2TE1N3b5q1ap/dcO7KwC6AQDsRMQhAPiu53m7umHeK00YhlcDwC0iMg0A13ZzQJkAlKmI3A8ADyDi9Z7nnehVsF7owzA8Q0R+BABXIeJY1mF1BMDM3wSAcRHZ5Pv+nb0I0i9tEARfRcQdxphvFYvF8Xb82gJg5gsA4FkiyrylfoQVEScIgttyudxLhULhwSQvZhYAuJCI9qftkyrckSNHzs7lckdFZJ3v+0/0I2CntRMTEwNDQ0P3i8inAeCUPmLP8/Y2rwmCYC0iPl6v19+3fPnyvyT5nQZAmQ4ODv5aRF70fX/zfAk/OTk5PD09rcbg4/EeiPgPEfkUET2dALENEc+dmZm5cuXKlf9unjsNADNvBYD1AHAJEf1zPgCUy+UljuPsQsSPpfD/m95Is29h5rcAwO8AYC8R3doWgDopx3H2I+IXs17/XIEdOnTobcPDw3ry6zrwCKMo+kypVDoU01hreK8x5oJmZ9dyA0EQ/AwAhnzfH5urgJ3WVSqVd7iuu8vGTB23SLM+QRCoOZ/2ff8Ls2oXf9DYJpfLPSgiH+nGgfQKcGJi4szBwUE9+Uuy1orIQREZKxaL5WZadaiI+Ey9XtfbacROszfAzL8wxtQ62dysjdvNM7MGcSq8Rq1ZY/+pU6fGVqxYcSyNsFKpjDuOkyeizycBHBeRjb7v/z5rh17ma7XaSBRFuwHg/C7WPYWIV3fy9kEQXIyIu4no3bMAqtXqZcaYnUREXWzSNQkzFwBAhf9wF4v2RlG0sVQqncyiZWZ2HOfaQqGwr6FCYRhuE5E3E9F1WYuT83qluVzu74VCYWfzXLlcLuqDBYAPZvEUkYeIaBQR61m0Os/M9yDiG57nbW4AYOZnAeDWpAPJYsbMNwLAD5TOdd2L8/n8Hyy/FfbkV2bxaKgB4s89z5u1LFlrmPlSANhKRBfGAPTBrCGiatbieN7GSpoaDut3IvLa4sWLi8uWLXvVbvBUFi+NchFR00/V6+16ollr7AGpaj5JRCMxAL06VaGWNLATM2ZW4dc00yDinZ7nbdLvrLXQaDZ1iMi9vu9/ySb/BwHgTAC4kYh2ZIGw6ekbRJRDy+AlIjoja2E8X6vVilEUtdhoOzdBROdY4fcYY0Ydx0kDcQ8RXd90m+qVH9P/qwPTf9WcK5+YJmnemfmE67rnIDOfBwA/JaJuLEWDHzNrAPZwGmCNGnO53HYAWA4Aoykgvk9EX0uuDcPwBhG5KwahAjOzqqHqewNYMwhm/hMAXDMnAEEQaP76vTY39v4oiiZd1/0VALyzGYSI3OH7vubVqYOZ9fE3NEENin1LDdqkgZkFMBcVqlarG4wxv0mR4nUiWqLfHz58eGTRokXfdl33tnw+n+pVu1XZNLpZFbIq0fKIm6yIOhX10K8g4t1E9IDSa84wMDBwHBG1WNU8NIObDReY+RYA0EqDhhJqbQ4SkRYI+hotj9gCaDGj1Wp1lTHm+ZRdvk5EDdVh5h9qiaWZBhHXe57XCLKYWVXoygSPk0SksX1fw3r4FjPa4shsVqanP5DcyRhzebFY3Hf06NG31ut1fWQNT4uIWzzPu0M/d3gjTxPR6r6k/+/htDqyMAy/Y4zRPOCmmLn1zprYJ8eriLja87yJSqXyScdxHtKSi4YCVvgxRLyvjZCpFqhXQEEQbHccZ9rzvG/EsdBFIqKmVK1AYzQJl8Z/NH4PzHxV/NkCuAsRb0hb1C4x7xUAMx9GxGu0ONycD0yKyGcTuegLAJD26K4joh+nbczMe7QolZwTkZt939/Wq7BJeq2nIuIviUgr3v9LaDSdFJFjKR7vtMcYOxXVRWPMpY7jCBE1PGiz84k3F5G7fd//Sr/CW80YR8SROK2cvYFOKSUzr0PED2hGZYw5ISLHrafUx9QI2uICmFY1RORsx3FmEPE5EXne8zz1mn2Pjiml1d+ekvrmqHO+K3hWvvZJvb2ensoqCwmgq7KK1eGttnuyNqsSvVAAtGINAE9oF6hjYUsB2EaG6vWx2La3U96FAmAt28jU1NTqZOMjtbhrGxovZJXVFwJAXGYHgPPS6lVtS+dxY6PT41wIAFpe79To6Fj7j9PCdmX2TvF6vzYzLqtrgyX2MWk8M5sXcaNDRLQjeft8Vaxj4bQSLSJbEFHjsraNjZg+E4AS2obHTzRb0kxsvirXVm1vBoAT9Xr9y2kNjeQtdAVAF9kQW5PseW+zzszMjCcbGe1UsmsAMYOURveTc62nap1TRNYsSKM7eQIaO7mu+zkAWAsArwPA45oXdPNTAxutaillsTqoKIruW7CfGqRdpRaHReSj2lvo8scezyDiY1qc7dda9axC3W64UD+3+Q/fZENVhTDr2gAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusion:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABphJREFUaEO9WmnIVVUUXSuiuahopOLLIqTBBgtCC01Ty8JmS/sRVESBNgiVJVZaaag0WBlGYNEPrSyiQdTKskEjpNKSCBqlzAqJSAsbYMV67vt13/3uffe+93pvw+Mb7rn77HXOPntY5xEdEkkHAjgk1G8k+VMnpuL/oVTSaQDOBnBmGG3DfwHwXeg/DMC+ADbGZwWAZSRXtTt/ywAk2eDLAIwAsAXAkvjY6O9J/pk2TtLOAA4FYDDnxmdPAG8AeJbkslbANA1A0gkAbgJwKYA5AJaS/KCVySWdCmA0gFsAPAfgIZLrmtFVGYCk3QBMDeNfAjCb5MfNTFY0VtJJAG4FcL5BALiX5B9VdFcCEBPMB7ALgPtIPlNFebNjJI0DcDuAbQCuq7JApQBC6SIAiwFMJPlzs4Y1M17SAQAeBTAWwPiyxWoIQNJdAKbZbUjObcaQdsdKujHcaTpJ25ArhQAkDQKwmmTpLrVjrKQdANwJ4FOSL2R1SRKAwSTfz5sn1zhJhwP4BsAokq+3Y2CjdyXtBMDueRGAv32ISS7NhN+RAF4D0I/kt1l9fQCE0lcArCPpyNARkbQrAAeD81IT/ArgQpIrMyBmA3D4HkPyr/SzPAAzIzYPJflbJ6yX5ARm48/J0f+DdySdWyTtBeDtyDlTCgFEkrKvXVV2+lsFJmmfMH5UAx1fAriY5CfJmIiGCwAMSie7uh2Q9KRjPcnxrRpY4vP7hfGumcqkT/SR5POyjeSVycu9AKK2cRQ4vUoCKZs9J5ocFMYPrfDu2sgBn2fOgjP2e7E7tdopDeBpAF83irkVJs4dIslFnH3eVWuZ2IWdwDbkDZTknHAEySuyADa5uiT5TtkMzTyX1ONqE4ALtzJ5C8C4Rtle0pCoXg/uBSDJPjmf5FFlMzTzXNKRYfzJFd5z/PcCujRvKJK+iFppRc2FJDnO7k5yQtnLOb7tLf2RpIu9XpHUP9zmxAo6X3R5TvKfCmNt7zwAvztPJQBWA5iSTSBlyiRNAvBAjBtC8t1YkGNi5Y8r0xHPn0pHlrJ3JJ0BYCbJwQkAH5jhJL8qezl5HrWSW0NnVItbyP4kN8cE9ucycVh0+2m/nlM184drvkmyJwHgrbML1bWBjWaXZOOHZ8bMJeluzdts13I1WyQLSF4dzb/DpsPsJJJuaBpKtKd2oR0ZClwJug6vJOHfdTE6XlxPckAY7xbRbWceiHkkJ6Z201l5efw93T8dzkNP7d/Z8C7JfckAAxgI4AmSVSJFTZkkF2BuK/OkX/TKRweALIj7Sd6cfVHS9QAeTkAEALuh/d1Sl5klfQjgmlYBuEqdVQDg2KBTXgawfwbEDJLuq3NFkg9/zRMcUOIsJTuQrVB7AZiAataFTIu8mmPFVpKuNL1LTmB3u1kpyqqV/LUY7HYXisnqDnEqijipOEObVXuEpPtiG+dGxP83WZUWd3C95YIkN+hmGlxKONqsJel6pi2pO8RhUF0YlXQKgDU5s9xGsuY6kh4MiiU9bHRCUEmyC43J6NhC0rV9W5IXRusSWaywV98rnZURJFdI2huAD1mSaaeSnBHgis7ISpLD2rJ+++L1SWT3RB9ghqwmkgzKjX1WNgMYRnK9pAsAuAxYTNLRxu+5l1hYYGRuBGoWkCQzgu4L7kjOgP3WodRRIAGQGJen33VLch7GJr8HAIdCh8Q8yW3MWwDwWS2EkqvS/YBJ2UsyvehHAPIO3QSSj+VNLMkJzKRUViaTdNHYlgSf+jxJk8R1DY3byQ05GS/vMNaSSvii/VEkaxlUUjr5JMY6gt3QluX/eYZLlJ6k+KvUUkpyqj8+OirH300pALWiLSHAJJnVMK/kusqs9RqSTjptS3C0+S1lrF5TTX266uw0gxf2FTf1McDkUWVapZsAKtEqAcIu4FJhZBkT3S0AwVib4lxCspjYCgC+yLBf+0DXYnuRdBGAI5trK+efuouPInLXodMhtCGt3g0AKZp9YB5f1Yhe923JokaHs0sATK8XXnSUXXAkbWEuzd6oXm83ZkpKaPVpSY7J01l6eZFcdESX5cu3jjDWiXHBRLvpcV1WeLGRjC8FEAfbienx6JZmdZC5tttOBuBkeW3ehUZ2FyoBCBAurWv3ZdEPd/Ka1W5Td5FR5JKVAaS2OHvRbX6mJT41eE5TM52/6M6uQNDxlzvhAdga91gusat81cDVquurPQA4QS3s2lcN8rYyyOGzfLdQ8cseLsiWu7NrN1o17UJVJ+zW123+BfogD+TkdLQFAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusionActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACItJREFUaEO9Wn+MVNUV/s59+wOqyM7bFaxAsDBvFqnWak0MYhBQUEqUVssi/aNJawg7bxaKScFqqKyt0gip4sK8XUKqjX/IL43RlqBSxLZWYqwWdWNh3oIlFClkebMUaXfZefc0983MMjv7Zt7MLrvvn93MPec753v33HPuPfcRhukZt+3YeCndCQpeCO3kmWVTTg+HKbocoKHWjpnEuBfMd4GgnJ7ADAcCJzx8iUlE0AGcBOMkiPYz4c1kNPzXodofNAE9fvheQCyBoLvBOA/wHunSHq7CiXM9+BdWGj39nGuxq8dWYyJdxCSh8UKAFoIwBpL/CMidTmzam4MhUzaBmpYjNwmNVoFEA9jdSEx7zzZFPhiM8dotiduYeAFIWw2Wu6TLm7pW1n9SDlbJBK7d+rev/c8du5aAVQC/Lok2dEWNv5djrJBsTat9s2BeA9AiBjaN1s499eXyW/9bCnZJBNIG0AbQKCb8OhkN7ygFvFyZUGvHQ8R4DOBuSWgs5QUFEkiD8nYAuyuJmk5Hw2fKdawc+fGtHeN6mbcAWMxES4NeVlECequ9DoxmMK9yYpHny3FkqLJ6PPFTEG0CyyedWH1zIbyCBPQ2ewYk3ndMI3CWhuTsOhb6uMQTEBWfOdGpr+Zj6ZbNELjdaTQO+tnxda6m9R/XCa74AoLnO42RfUNysJjyuvYqffyo7QA/AKCXQYuSZnhvrorelpgHSW9LSn2jK3r9P/PhBhLY1V6ld1b/HuBPHDOyZricn/jsidEXRnXvIOD+SzaoS7r8/a4Vxrv9SFiJDQDd5NT13IeGGy7mjg0gELLs9QQsQAp3OiuN/wwHgbrfHh4ju8UOEH3XB/9LkvxAbm3RW+yrUIE/MbA3aRqPFyTgFakKcZCJfhK0+gdLbKz1aUjDaJWG5xfCYKADcB9MmtM+zcpksuELMiVn5Ba7fjOgxxMvgjDKMSNLB+tgMb0xW4/UVUpth7dnCnp8so9uJbaD0e3EIj/OqvcR8PY2VPGqJL6jlAISZD9//Op4+zWSqncwcGewLh8il5eeXVF/OFc2XVDpPXDqwezeqY9AyLJfIpbHiuXcYMP+EnqLPREVUGEzMxCDcFC6vUu7mqYf95PV40eamcSUpGn8SI1fmgHLPiUFL+lqjPw50EgZAjVbjk0Wwt0J4LYgNQYOVBE9VKza17QlZglJOx3T+Hofgdq2o3dJKduSpmEEGSlnfOxWe6pwsZOA75Sgt1dUu0s6H552Pkg2ZNm2EKLxbOPU/d4M6FbHBma+IhkzYkHK+ePpKa34d9Kc2pY7VmcdrpfQVNh8OxCT+TVnutGAOZQKlAUQittxIrrgmOE1aQJx+30p8Xh+AQkC01vtR8B4VskxtFlJc8pfPLw2ezokVNjcEIThjRP9zomG+zJLkE7NZnu2EFjvxIzbMzNgH3c1zD233DgapJwd17fYM0DYD8Lo9G/s9GpX1p9ffm2nZ0DDgUAstcsVNAGMWQBtVG80UAeACk3NxTuOaUzOEkg5KVwx4BhYBE237P0A5vYTIXreiYZXpWf1SDNIrCsIwfyCE4s8rA7/qV73EIBrADzimMamQBItdrVegQuOaVSQAui96H6WjBnjAhUzAnXWsXoJt1+Ozgy1O6Zxo+e8JnbBlQ1+JBiIJ02jqW824/Z8EN5KT6R8Uv1R6dzDyTz56T0Ut89UVmk3Ut1W+xZXYlsyapSSKTy4Osu+XwKv+xFWu0aBio1gXA+BhgEkGL9xYsbP8nVrrY4VDG7JklAOhyz7AAGzc3/L6oVa7Y80gWWDIhCKJ9YQ0TO+MybwTVHpnnB7tDcIuDqXBDM/nYxF1haaabX4ZS+8SFAJRa2lrGx+gukjMJgQCllHFxLkH3wc+coxjTHq95otn08mUflLltoTXU1TfKtqqSHrJ9cXQt6Cs+x+izgni6iicgrg0wBtdkxjtwfmHUSqTgGkmlW5jzrB9W0Xai37MQYWAZioml0ADjmmcfNQHPd0cxdxhkC/NFrXdvRWKeWH+YYY+HnSNLzQ0S37OXgtlpyHaYETC3sNqlrLfoOB+/IwzjumcdVQCQxMo/mFzHvD1ertV+UbIynvPttUv7/muS9qRHVK5Xqv0hLT2rOx8NPq/0JrhIF3k6YxZ6gEfApZx68Aqc4Bq7PgqjqDMMPHWCcTzUlGw+211pHvMcRrquXimEZDxvmlRPSyr5MFMlC5hHQrsREQ3Y4Z/oVXyNLNWd7mmMb0LFiOc374Ddn1oFv24r61obCsRAuBVvgpFTqYl0/A/pyJlqnm8KXtdKt9glz+Qe5ZtNayP2ZgwKJjRiwZMyw/w7pl71JNqQHrh/nRZCyyoVxn8+W9fqpGrzhRY5IXupdCJvEiwMfzK57vYswc99KxKGdDCHaihldB+xWfDDiDNyfNyMqhOu8lD6860+TssbKkI6WuSj3oW0yYSZBnwHxKEc3dtGUbYF5Xg/k6CNHDTB9o4A87zfBHl8P5okfKNLvyDvV+BC6Ho4Uwih7qlVK5bZWRJFBSWyUTw+sJtLCSMC+oEz1SBNIda+xj8J6ijS1FQF1kdLtjVYE6ns3thaZ0pAhkMtvkUdq5OfkXHwWau96FxsdBbfWRIJBts0vCLX79qoKt8+zFRrH2+ogQsGwudtFR/IIjeyws0GYvtl8fajbKttVBaM7WGD/MwMuL7EUHwBuRoqeGq2PdV1C9TjSvBWh1sYuNrHwgAS+9pi88tgIYx0TPDFfnOhO2jwI4Iym13O9CI38WSiLgKe1qrwp1VjePxDVrsq6nOf8io1BIlk4gg5B/0S01emew/VSvz+ny3BG56M5/A6odz6T9kIB5DHwFxtsssbuUTw1IYDEI8wm4koF9xO7LI/apgd9UquYwS74HzHeU+LHHeyToLdWcHWq2KjuESjU4Up/b/B9u0kgtWdqPkwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusionActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACJpJREFUaEO9WntsW9UZ/33HaZJCX7S5TmhalQ1NaAzGYJUgvk7pe5QKusGa0v0xaZvQkKBbK60BWl/b8XWKaLWtUJg6IcG0P+hrCMHWlcdK2OLrFPFYGdU0ac+q9BHfFPoC2sQ+33SufVPXvfa1kyaWolg+3+t3zznfd87vu4Qx+nQfONc8yF+0KvP1NPHoxjsm9Y+FK7oSRo2+fh0I3AUpFwHUyoxWIv6EiI4o+8w8m5mmE+EowEchxH4g95rZ1myN1v+IAUR6M3eRwCqAFgM4C8ZeZuyFmHDk9OmpH2+7my4UB7fmj9wwderpWZBDs4mwHOoPmAzwn1hiV7I9+NpIwNQMwOjtvwWC1gLUwVJuIfA+s73lnZE4N3pP3M6gZSTEeoB3Q/JWs735w1psVQ0g/t6xq+T5uogkrCXQKyDebIaCf63FWTlZI525FUydDF4hGFtFYzYZnzvz82psVwVAOSCI7QA3MuMJU9d2VmO8VhnDsh8gwuMAnWfIh6p5QL4AlFEAO5ixp45yj8T1lkytgdUiH7dOBLMceIYIKwGs9ntYFQFELDtGQJyJ1yZDwadqCWS0spF05qfEtJWl7Eq2N8fL2SsLwLBOtgEybeqa7yyNJthYjEVucSYqRN1HCX3GS6W2DMtmQIRMfUaflx/P4GJ9x6+Tsu6/xGJpIjzjzdEEWEk3tvtQvZzVsgPM9zEwJJhXJMLBfcU60dTJJUzyDSGyX+pqu/Z/pfYuAxA7xPXytP17YvowEdY6xyr4dekjEydxo0oG9170QadY8neS7drbl4KwNzPxLWKqdk/XTTRYPHYZgGgqs0kSLQsExJ1dd8w4MxYAOlP25AaCCv5uD/vHIHP3FdeW2IGTU3I5+WfBvC8RDm4oC0AVKRbUR6Af+u3+kQJ7rPfwNXVi4k4CLS1vg/+Vy/H9m+Y1/82VUdmQwc+T5LbiYnfJDBhW5gWAGk1dWz3SACvpxd8705QbHNwJ5kV+9r2yj2HZOwA+b+rBH7j6wwDyZxt6CcThagqIXwCl47GeTIusJ7Vs7vTTZfDBHGVXPxGa+Y9i2ULFTrHk+92z00UAlv1bSPmfSjnXz3G58c6ej2c1TGjYCYLub4P6JAZXd+szD3vJRnr74xDiy0ld+74aHwZgpOzjknhVtx78i7+T6iU2Wp/OEZzdBcLtVWj1BJB7oFK132hl5gmmXWZYu3YYQDQ9sIiZt5u69pUqnFQtErH6rycWKvhv+ioR9l2QWLU5rJ31kzUs+59E9FAi1LTfmYFo2t7MzFebevBhP+XScTWlVCdOmG3a9uKxSMq+QRB2MvANX5vML4shraNrAWV9ZQEYVuZZIvosEdI6HQCGlUmzpA2lBcTPWLTPXscSv3DkmOeZ4WCv+ho7cPLGXC63i0A3+dnIj9NvTL1pOLP46UR67fkkeJOpB0MFAPZhxoSFSX3av/2U3XHD6m9j0H4CTSz89kmgoeGG+NwpA3kH6PGzxcAOAbQyMI8IW9QT9dNR4xHr1PWEobdMXZvjAIik7OzpM01Xl14DKxkzLHs/gIXFMgR6KqE3rXVsqqUlRKy8DX7e1IM/2nCgvzmQFQdBaAFjnRnWtvqBcK6nUwY+S4a1OlLswfnc5x+ZejDop+iOq/VNhEtytLOKwIeSevBmFXxgQt3u3FC2wwsEMT+bCAcfGbZn9S8liNcdG1J2qf8qnTsps/ApTe+Glck0Bq66mWJ99m3MeC4R0vwzRcFYpM++lyRe8QKsTo1STtgC4KsiQB2lIAj4eULXflaqG7UG1jD4aReECthI2z1gzC/+zdWLpu33ifDgiAAYVn8nIJ70BBAQX/siK480CLwKJq0YBIG7E3owUm6mnc0/JJ2VoBKK2ksXZ6DkhOoCGMkSilr2cgb+4BHIOVPXJqvfN1rH5giqT0gORLv1azyrarVL1ktueAl5beKiLKL4nuMg9BPxtkQouEfJOxeR1ubjAKaXbOJ0Qm8aPi5E0gOPE7ACzLMAtBJwMKFrt44mcKV7ySZWPxjWpWk0lrLnSsK7pY4Y9FhSb3KWjpG2fwmGk3HcD5NYlgzNcAgqI22/CsY9JTbOmro2ZbQALkujpYWs8IRVSa8vdUa53OLEvJb9sZ5Pp3F9tsettAyKJPWm7vwDKbNHCG+bIW3BqAFcVsj6BkzkuNEMa+td4woUQG0ezgYCCCyI69MPRdL93yYWLyvKJRnWOpy1n7ZXC8aLXkGWy0C1AjJS9hYE6LzZ1mTkK7EiZ6V4ztS1G11jbnCegRB3uPshms6sdL87+8nKPE2gNV565S7mNQOw7L9DyAcVOXzxOG3ZRyBz3y2+ixqW/QEAj01HD5t606+8HEdS9u4CKVUyLB819ebNtQZbKq/4VIjA70xdm63GigBkXmDJhy+reB6b0b3u5fO0nA8hOKlrTgUtLj7Dmxu8LakHfzLa4J0Zdo4oNMe9VlZ1pYyoUk/i62DSAc6wlMfzpf7ioc0lwAqsxnUEugDB7yCLd8127f0rEXzFK2U+e9R2qfcCcCUCLWej4qXeAVAjrTKeAKqiVRQItQQgaLng3BI/Jnq8ACjGWlLgTUjeW5HYUgCcRsZgfY9UG7qQ28tN6XgBUJlNCJoj6gcXlDY+PMndwmb5wI9WHw8ALs0O4tu8+KoK9Hq+sVGJXh8PAHl6vXyjo3KDo3AtLEezVzqvjzYbubQ6A3G3xpQ5nlR25TY6iLGF6kRyrBhrNwrFRHNWRpiwvlJjw5WvqvuSb3gEfs2gIAFPjhVznU+VeJTAGSFyP/ZqaJQ+7qoAKCXV+OBTdnw82qw0TYuXNjLKrZOqAbgGShvdLOitkfKpiuckyQvHpdFd+gQUHQ9B3yPGEhDOAfwGS9pT1asGgldCNTgYk5igCtSL4/aqgddUKnIY4G8xc7ialz2IKAXQ64qcHW22qnkJVetwvF63+T9nAHfjRfzL0gAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-logSave{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA1RJREFUaEPtmT1oFEEUx9/bFLFKJzG2WiknZObFxlO8RtFC8SuFWlrYGBtRRNCghV9YmFQWgoVaaAS1ULRRRKvbmYBBQezVYBOIGFMkT0ZuYXPufOxdspuDO7jibmfe/H/z3sy8eYvQ4R/scP3QBSjbg8EemJyc3La4uHgUETcx82YAWNum+N8A8IWZrxLR41ZtBQForUeY+Xarg/j6MfMVIrroa5f13AuglOJWDLfQ56aU8mzefk4ApdR9ADiW12ir7RFxXAgxkqe/FUBrvYeZXzQbY+bh3t7ed5VKZTrPQM2eNHYQ8VGGjTtSypOhtq0AcRyPIeKptCEppTfkbAM3AxhbcRwfyYJg5nEiCvKEVZBS6hUA7EoEIeJ+IcTz0JlpbpcFYNrYIBDxlhDijG88lwd+IGJ/YoCZ1xPRd5/BUA/Mzc31VavVWRcEM18jovOuMV0eWLL7tBM+RoBS6isAbEzERFFUHRwc/JD8dnjishDikg2iSIAJADiU8uhdIjqRFuZYEweI6Gmuc8AWs6EhVK/XR3t6eg4zMyKiEQ/MvOSwQsS3iHhhZmbmY61W++UIp/dSyu2FAmit3zDzTjMoItaFEFuVUt8AYCB0ElLtZqWUfYUCZHlQKXUQAJ60AAC2Nbhia8AWglprAoB7jYQwmGXVACSKzRqJomgLAJjvBh/JqgPwCQ7dRAoPIZ/w5HkXIHQGQlOHvCd56PjdEOpoD6TShT/MfD19OXeFQCPnOYeIaxYWFiaGhoZGQ9Pv5nZthVA6XWjkOsMJRGj+b/IhIURtVQCkIUJvYKUCONLf/+67tjuw+T+rLlTYLmSDCDmwbOIbF6CgC1Vba8B3m3JBuMQXDuC4iGQy+MSXAhAKESK+NAAfRKj4UgFsEHnElw5gBGit9wFAUqy9kbco1vY2Gsfxsha2QrbV1K42gIimAPDvw8zTRLQuy0ZhpcU8AMZ7zPws1ee1lHJ3LoDlLu7mAcioZFuLvYWV130AU1NT/fPz8zuyqtWIuFcI8TKXBxo7QaEvOCyQD6SUx20T4K33F/iKKVOj7yrqBWhsiSv6ki8zNBBPCyHGfKEXBGCMrMBr1mZtPxHxEzN/jqLoYbr07oIIBvDNRFnPuwBlzXwybsd74C95KWhPrxIhsgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-logSave:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAthJREFUaEPtmTuMTUEYx3//TrWdeLRUJCrReISGUBCvLVAqNGiEiASh8IoClUKyBQqPBAWhsREqnYRE9NgoV0T3yci5m9mzc2bmnHvvOXuTO8ktbs7MN//ffPP45hsx4kUjrp8xQNcezPaAmW0EDgFrgLXA0j7F/wG+AlckPW5qKwvAzE4At5p2ktHusqTzGfUWVEkCmJk1MdygzQ1Jp+u2iwKY2X3gcF2jfdS/I8l5O7tUApjZTuBlwNIk8E7STHYvQMCTzs6jgI27ko7l2o4B3AaO+4YkJadcVcdlAGfLzA5WQGR7IgbwGtjuCdoj6UXuyJTrhQBcnQjETUmnUv3FAH4CyzwDKyX9SBnM9QAwIWk2AXFV0tlYnzGAebtPP9OnEPkNWO2J2STpQ+9/xBOXJF2ogmgT4Amw3xNyT9JRX1gEYq+kZyGIoQGY2UXgAPyPt5x4V8qH1TRwDvgk6XdkOr2XtLltgLfA1qLTj5I2mNl3YEWDdTQraaJtgAVryMz2AU8bAFC1Boc5hYKbgJmtB6aKgDCbZdEAeLuOWyPrit+qFMmiA0gJrjr4yu1an0Ip4Z6Hss6hMUBu6FD3JB9PodwRGGkPeOHCX+CafzmPDUAR85wBlrgwQ5LbUueV3AHsaxGbmR8uOAGTPYga8f+0pG2LBWAOosYNrFOAqith6L5bdQee81optG7nHIjE8DlnVlB8EVa3AxCJ4VMAleJbB2gAERXfCUANiKT4zgAyILLEdwoQgcgW3zlAIWA30EvWXq+bFBvESTzQxFZqSyqdAe7i7xIAvTIjaXnIRmupxZoAznvPvTZvJO2oCzDQ5G5NgPKbRGWyt7X0egrAzFwedktFtnqXpFe1PFAsxLYfOEIaH0g6UjUAyXx/i09MQY2pq2gSoPDEsB/5QuJPSnLrMFqyAAqIQT+zloX9Aj4DX4CHfuo9RpANkBqJrr6PAboa+V6/I++Bf0in3kCazcMZAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoom{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTMDAwL+/v7+/v7+/v76+vr+/v7+/v7+/v7+/v7+/v7+/vxtcv/AAAAALdFJOUwBVdZCpGdZE7C3B0wnY6AAAAV9JREFUOMt1lDtPwzAQx20ghGwVsHVJhQRDlsywWKqEULsw8FhRJ2iWiglGGJvFCw8xIVVCSEwkKU25L4ftpOHs2Cclsu7v370smxCLecRh+xOH8Ja5kGEs/6dtYf1XONcWZurbwwRCQjYZ9l7uHAPAOBHpI1QC/QSY9g84ldmnAn7Z3htwsfZnvSe54eJd5hlcC7gccxTwSETZEr5+714vLRdfkFraVNtetXLpR7ha+mkHCV1Y/q8ZOW8AgDkecsIaAEIcGbIGyLUq4KcBYl0o7QAB4FZACBMrQKpaJOCZQqyAIhgayYEpgD1DZghXCvBTNJFKmCvgzmhcCEsBwMjSRx6BslYftRX0JLYKrAsLqzDC54EFMwvy58QhMM8hFNq0UpwET+sLC9/4BmEBTytyRCIbDoAEiR1Qp1dbRxfoyv9g3ogaKVuXhVZZbtqX6Ez6H23PxG4CM259QDwt/h8ABfK8nDqSAAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoom:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwCCyreU7KZVRCDaZnETLwj6WaYVAAABUUlEQVRIx5WV2Q6EIAxFoVBWxf7/184AOnGUsvTBqDmXrqRCzNou1kwGtyZIQNuiD0P6evWTURFUMtIoPO+iVoGIZPkMqkdKA0jZgoJ6suQc2EoiGBldOoQ9HSDk5+GTs1Fqo9IlcEpvNv3qv0MBhSalIFSv3+MCJCY8fUaCxasycrMu9dp5VTUhubXZ6CqsAvn66ZAsx+e8fON37oT3bZ4aiRU0kDlavGSrQI95HPBZACt8FuCL16IruBVkzBeBW+CLYHvyfiDQd96IpHpOMqP++fAq9VMQ7rwrM5+6gjwG/3y/D/m8ylPYpvpAeqO7DfvwMPO9D6jnBabG56YFZx77fEjD+9AyLdYEhp8nxoNh5wmJtfY8AS+wzIZZrJNcC4h3wV8IH1p87Iyfnc6XVaAd7ICHAsebw97zgDSxZ/yvViiPuYUfTe650knM2+7Ywz9yOCklzohLOwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoomStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwDjmTC6Y0KBVakX8s8iC3JYR1wyAAABVUlEQVRIx62V2baFIAiGcwJRS97/aU/Zbtht0VzrcJOuvl/AAabpXy1RF0F/m2h2PX5mzucEuO9gMon1MY7KlG8w4LImC1XFQmxDGVkm1DYpXi0qS1gXTEGzKoqNS1ajAxPqJDikFLcFS+aukYJffRfXnAj9kYUXFVi86wzzPjuCFRXBwS3KaC/Pt02Ww7uf1jz3BVYtX/OsyDQFDn7yswPXb+Ovs39eJJWwxrOXV4thgC+//QBf/uMAXwAa4AuRBvgdWR58CB2B+eaRG5e8QO7Jn2sIAvzhbdsDnXzev8q0BengGXv8EciH3y1CY5++yI/BRNx82g/La7lc7b0Am/tUC6n3HoZ4SbDyy5BgzSNivV6wbPXeIPOpHlOU+CjkTQKvQOpXdRdJvn+5xttWQa4EZUOzluonT6+q72X6Zb0+T/lNhQd7hg9vm8LWUhW5gT4iN7c/0ZUo8Q3AttYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoomStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTBKV2hGW2xKW2xKW2xKW2xGV3BGW2xGW3BGX2xKW3BKW2xCX2xKW2yDN61kAAAANdFJOUwCAVKxm3T/DmhrxKw97YQBGAAABaklEQVQ4y2NgIA6wGqCLMCqAqV4HdIm9F0Ek22UMM9hiG4AkVzQDA+cmx+YyJJnDlw8wMNQaNpfevbu0QgxJgrN3JQPD3VvhjU57kESnOZqvvXuJgcEXxVFMEkDt1w11gZYwoVgue3d5SzaQSgCydZG1TMkBU8vBuq9guBcqNBNDgj0GQrMEb0CVYEmA2ViANRQZ795tQPZduADciXcVUNSthGu4hGrAJawagBIXsWoAClzGqgEocRWrBqDIrQNQDTPRXZ8A0cB41wBNQgGiQfbubTQJAagGDB0GIA0OsnevbkCTCADiu4J374ahW34JqAEIbiXMRJOAgkvMKJYgJBx6717AKiF4F4eOu+jxgQCXGHBIKPDgkBC8JYCURJDtQHYWN4oEcvpZiyR+C9lZtkgSKKG1CyGOGrxItleixjrcLFBWRAYcMIkG9NQMiY67N7AlcxAQwMwA6SBxM2xZQ3jtVRPsRQ83sg8ACMIUxzzE8wsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-close{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTM3Nzc7Ozs7Ozs3Nzc3NzcrKys3Nzc3Nzc3NzePZJxkAAAAJdFJOUwCtKdPBGAmNTt3jdDcAAADfSURBVDjL1dOxDoIwEADQgwR07GTCZtI/IGHgAzBhM9EPkMTB0Y3V0ZXIcn/rtRR6pefgSKeSu3ellyvA9lZ/5F9p/3K7PZY8oPG5BD6MpPUSgIITzdIStifAshjRQV1PCFT8TxaicTzzwEwINOEdHVmDmcTAkRhMhMAp7iQRjcMtDhCp8SA1v0ARGIIK/gnkv0p1OBTS4QRUIpE7DiYYXTBrzcld3JIrAarXrps4AVNwRSZgExoJmIyAaAdsShUMn/JF2fh4YEkpAcgvnuwYCIb6EbbbP4PsDfLD2dD6Av1qTvAQlzUTAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-close:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTP///////////////////////////////////8kBMKEAAAAJdFJOUwCt0igUwJdJePGbgLgAAADcSURBVDjL1ZMxEoIwFESTCaOWFDapqeicnAALTiANnaWlnVewDTMW/7b+aCAb8jkAVIHN2/lsNkrt73lf8M08nnF1pAYFR/dFmAAx7SIoi4iDbRrWDMAuQFzmmxAGbjjJgjj6dCjMCAND/o8RWQMzUgIRKYE/wsC5TJIRR74rBUZaqqXwLZEXT0WTDGwLW1aavJWQir9qadw++NgykWoMNtcykh8Q5EECgr5C+jjpGjHjPGhPU5eVzyfPJitfnUyhPg6ywMKZ7BygcYcsPCj1Kc8uXYPqpeSLs6PnC4w8S+8OJ9MLAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-narrow{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABm1JREFUaEPVWWuIVVUUXmvfYRosHzUZUUqKjkSXSe5Z+5qJhfawLELCR5ohPhKjjB4EWgkpkopRSWEPS1Mqy7Gkd0iPGaKy6ey9Z3z0opwEQytSMiS5NZ4Ve7j3dubMOfecO96buf/cx17rW+vba52919oH4RQfeIr7DxUjoLW+BhHHAsAAZh5gPwGghpl/TKVSHZ7n7T9+/Ph+ANg/atQo+1mRcUIEtNYzAWAiM09ExLPK8KgNADYw8wYp5Z9l6PUQ7RWBvON3AMClJ2Kcmb9DxAKR33qDVRYBrfUNzLwQESf0xliUDjPvR8T1RLSsXNzEBIwxc5l5fYSBnxGxxfO8bQCwN5VKHc7lcofr6+tzR44cGcTMg4UQgxDRfp8IAJdH4KwlooXlkEhEQGv9EAAsDQF+GwDWEdE75Rg1xlwFADcx83QAOCOg29SvX79ZDQ0NuSSYsQS01h8BwBUBsF45HnTIGHMBM9uFmR2Ya0bEWxzHORBHoiQBY8xmZp4RAFlNRIvigMuZN8asYOb7Azq7hBCTMpnMvlJYkQSMMUuYeblf2fO8ZdlsNiyVyvE3VNZ13XFCiGb/JCK+6DjOrLIJ2N0GAN4KKG4hIpuzVRtKqf6I+HvAwAIiWhdlNDQCSqntga3yUyK6rGqe+4Db2tqu8zzv3cJfiPiLfQYdx/k6zH4PAvlD6iWf8B7P8yZls9mO/4KAtaG1fhgAHvCReN1xnClJCXweOGFLhrAapJqamlLDhg372H9eMPNMKeXmoL1uEVBKTUXEJp+QJiJZDSfjMIOZgIibHMcJbrfdq1Gt9WMAcI8P/D9f/YJtpVQfW7n6isSDRHReyQhorXcCwMV5oWN1dXWD0un04bjVqta81to+i7bi7RpCiAmZTOYDv71iCu3cuXNQZ2env07fRkSTq+VcEtyQ7XwNEfkz5N8Ucl13khDiDR/b+ZlM5vkkhqopo5Q65Euj74loRGgElFJ3IuIThUnP8xqz2eyeajqXBFtrvR0AiuU7EXXbeIo/tNaPAMB9BVBmrpVS/l3KiDFmBjNPKbMbK0A+6zjOq3EktNavAUAxlUsR2AIA0ywgM3dIKYfFgRtjmph5apxc2Dwz/ySlHBynq7V+wV+tliLwPgBcmwdsJaLRceDGmD3MnI6Ti5j/g4j6x+lqrZ8EgGKTE0nAGPM0M9+Wj8BhKWV9HLjrukuFEPMBoMf+HKdrm3oimhcnFyy1IwkopRYj4soCYF1dXf3JPAMKfiilNiFisaSOJOC67nQhxCu+h3i0lLI1boWqPW+M6WDmoXk7+4io8L3rr+IuZIwZycztPocWEdHqajtYCl8pdSEifuOT2UhEc/w63fZUrfWvADCwixlii+M4408mAa31AgB4xufDHCLaGElAKbUZEf09cAMR/XCySGit7TXO3IJ9IcTQYI8cLKfvQsQ1BYVq9sBxi9La2jqipqbmMwA4Oy8bWtoHCTiIaBua0/JKB5hZSikPxhms9LxSah0i2i26MHoUct0eYt+2tRIRF5/MKGit7YFqD9auYU9tRBwfls49emJjzEBm3gEAxVKCmadJKbdWepWj8LTWHwLAlb75hUS0Nkw+6lbidkTspoCI6aibgUoSU0otR8QlBUxE3Oo4TleNlpiAFQwWUfa/XC7XZ8yYMccq6bAfS2v9OADcHUidqUT0RdkE8iS+BIBsQHkkEe2qNAml1HOIeGsA914isqQiR5LL3aMAcHoAYTIR2av0Ex7t7e3ne563mplvDoIh4le2xC+VurEE8pGwh1m3/sBec3ie96iUcndvWLS3t4/o7OycK4SYw8znRKZIDIlEBPIk7IrfGDB01JIAgJZsNtuShIjruplUKmWdtidsMLK2lFmFiPP8fUapSCQmYJ2L6cDsNfh7iLiXme1VjG3GOwFguOd5DYg4HAAa7O/Q3QTRXiavchxnhzHmIgCw3V6xWYoiURYBa9h13atTqdTssJxNEoEImQeJaIV/LimJsgkUjCilLrGXToho33mFrmoMod2I+LLneW9KKb8Nk01CotcE/AaVUmOFENcz8zgAGAIA54Y4dAgADiCifejtjcQnSSIWRgIAniIi+5q3cm/q/c40NzfX9e3bd4gQ4kxEPFhbW3sgnU7/lcThJJHwV8kViUBvHStHz0aCme2qe7W1tasbGxu7rkFPGQKR50Q5q/B/lP0HjgOoT/ydvaYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-narrow:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABS1JREFUaEPVmgmoVVUUhr+fosKC5ogGSsqIpKQwMqjIBpsICdMGQ7ISo4wGApugJCoxLClssElpNEuaI5okKjOI5onKhEQrSiKiaKA/Vu3zOu+8c88593qvj7fgcO99e6/h33udtdda+4khThri9tM1ALaPAQ4Btso9GwNfAyuBb7JHUnzvCq0XANuTgePSs00bFr0L3BuPpF/b4BswtSMAyfDzgYPXRznweQ7ID53IaguA7ROBGcC4TpRV8IRL3SNpVrtyGwOwfVYoaaHgW2AZsBT4CliXnt+BXYBd02d8D5c7rIWc+ZJigRpTIwC2rwauKZH6NLBA0jONNQK2jwJOAU4FtijwPgpMkRTga6kWgO2XgSMKkjoyvGiN7d3SwpxZGHsVOEPSmjoElQBsPwScVhAyR9LMOsHtjNu+Hri8wPMBMF7SqipZLQHYvgq4tsA8S1KZK7Vjb+lc24cDsfJ5ul/SlLYBpGjzVIFxsaTw2Z6R7S2BnwoKpkta0Epp6Q7YfqEQKl+XdGjPLM8Jtn088GzuT9/FOyjpkzL9AwCkQ+qB3OSPki9GOrBByPZ1wBU5ZY9LOrkpgDcLJ2zlFvYCke2NgFcK58VkSRFU+lG/HbA9EYg4nNE7kkb3wsg6mSWesEhSMdz2z0Zt3wRcnBO+wVc/0217WMpesyRxraSd6nbgfWC/NOm3OP4lRVowKGQ73sXIeDMaJ+nFvDF9LmQ78pR8nr5U0oRBsTwpLQnn8yTlPeR/F7I9HngiZ/A0SXcPJoDQbftHIHOjLyTt1WoHLgBuyQ3uKylC6KBS8UyS1C/w5F3oRuDSnLWbSPqzynrbkSdFfG6nGstE3inpkbrVsf0Y0OfKVQAWA5OSwJWS9mggPEJuhN5OaLWkqBMqyfZ9QF/4rALwPHBskrZC0pgGwsPFRtbNazH+s6TIfeoA3JqqwH/nVQG4HTg3SVsnadsGwiMznQYMiM91vKmgP7tuXjHVrgJwGXBDTuC2g3kGZHbYXhQVWva7CkCkyg/nAIyRtKJuhXo9bjuSyOFJzypJ2ff/XCqHdBTwXs6gmZLm9NrAKvm29wY+zc1ZKGlqnqeYzH0PbJ8mLJM0dpABTAfuyNkwVdLCKgDFGniEpC8HC4TtaONEOyej4cUaubgDFwLzcgw9q4HrFsV2pAxvANuluaWpfRHAAUAUNJsmpmhrjJa0tk5ht8dtRx0cITqjAYlcv5c49zJHKI2QmtEG3wXbcaDGwZrRamBsmTuX1cTxEi8H8qnEJElLur3KreTZfgk4Mjc+Q9L8svmtuhLnAUWGka06A90EZjt6UdGTymiJpCxHG6CqqrHVL4lKnMMkRaXWE7J9M3BRwXUmSnqrlcK61uLbwIEF5lGSou3XVbJ9F3BOQeglkgJUS2rS3P0F2LwgYYKkaKWvN9neGYgT//QSYR9Hil/lurUAQqjtOMyK9UEkWXMlfdgJihTn45CK1GCHChmVIBoBSCBixU8qKIrdmRuXG5LigqOWbO+fjA7jizsbqcxsINLsfJ3REkRjAAlEVQUWbfDncjc0UYz/BewJjCh8lgGNZvJsSctt75MabLUg2gKQQBydSrwyn63dgRYTrpQUdwR91BRE2wAyDbYPSk2nuPOKVW6X4t15EHhS0mdlzE1AdAygsFpxwX0CEJcUuwM7lhgULhW5VRgeHYnXmiBuAeI2SXHN272b+gKgzRKQrYFIBNdI+qOJwQ13oi8/68oOdGpYO3xpJ2LV/45zI/t3hSEDoBXYIQ/gH99H3EBePlczAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-expand{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABvJJREFUaEPVWWmIXEUQrnqzZseYxGM9QBNF4hrJEDfzqieuAY/gFRXPyMYbzUHwQBQUzx+KeBAJKhrRqEhEQWMU75AYXREPlunu3bjxIDGraIwiuJpFkL26pMK84eXtm3lvZieGFAzsTtf1VVd3V9Ug7OOE+7j/0BAAnZ2d2UmTJl2cyWTaAOBA+TDzgYjYDAB/y4eZ5fNjc3Pze7NmzfqlUYEbFwBr7TUAcAEzXwAA2bROIeKnzrkNALBeKWXTysXx1QXAGHMVANwEACePxzgzjyLi057nrczn81vr0VUTAGOMRPtmRDy7HmOVZBDxL+fcyr6+vgc7OjqGatGdGoC19hZmfrKC8t9LafEWAGzLZDL9g4OD/S0tLYM7d+6cyszTPM+biojy97kAcGoFPV8ODw8vbG9v354WRCoAxpiXAUDyPUrvAcAqIno/rUHhs9aeCQALmflyAJgUlkXEf5xzp6U9G4kAjDHcKMejeqy1xzDz/QBwXYyNViL6ISkwVQEYY74AgLkRJcuJ6M4kxbWsW2sfZua7ozJNTU1HtLW1/VFNV0UAxpjlAHBHWNg590ChUJCINZyKxeLpnud1RhSvmzJlyiWtra2DFS+AuAW5bQDg3cja60QkObvHSGstj588fGVi5heVUktqAqC1Xh+5Kj8nolP2mOchxd3d3ec55z6I2JpPROvj7I9JodIj9UqIebNz7qJCodD3fwAQG8aYhwDgnpC99UQ0Py2ALyMv7DIiWvV/OS921qxZk5k+ffon4fcCEZf4vv9i1I/ddkBrfSUivhpiMkSkanXeWnsFAFwCADNHR0fX1nPwYzJhAxGdkwTgJUQM38l1Rd8Y8yYAXFoytoOIjqo1CFrriQDwCyIeEsh6nndsPp//KayrvANbt25tHhgY+AsA9i8x/JvNZqfmcrn+Wo1bazuZ+fRAjogSH8w4G8YYOYtSOAZ0GxE9EQvAGCMRk8gF9BYRLajVeeFvIIDdrnOpt3zfnxcLwFr7CDPfFdqupfl8/oW9CUBsa63/DKXRz0R0TCUAzzDzDcGic25WoVDYvLcBGGPk/i+X7wMDA/vNmzdvJPCrnJvW2leZ+cpggZknKKWGqwGw1l7IzOcg4swoX/gMyNbH6HnO9/3XkgJkjFkLAOVUzmQyM2bPnr1lDABjjJTE58sCM/cppaanUK4BgJL44taZebtSalqSrDHmpXC1ysynKKU+j9uBj5hZ6nShLiJqT1Jurd3MzLkkvgrrfxPRwUmyxpinAODmSqkdTqE3mPmy0g70K6VakpQXi8X7Pc9bCgBHJvHGrEsjtCxJLlpqDw8PTwt3bGEAzzNzuerLZrMt9bwB4lCjrtHSLbQaEa8NgGaz2cm5XO6fuDPwGADcHjrE7UqprqQIxa03EoC1to+Zjy3ZGZN25R3QWt+IiCtDDt1JRNLU1EyNAqC1PgERvws58DYRSY1VpjKA3t7eaUNDQz+Xtybm1UuLpFEAjDFyRp4N2a1cSsTlLgCkaqyjwBoIQMrnRYH+0dHR/Jw5c3pid6B0YO5GxIdDV1ZdPbC19nLn3GOIOAUA1hLR4rS7F/B1dXUd39TUJEOFQ+U7RNzo+/5ZUT3RfsBHRGloZCgrtIOZlVLqt1odGC+/1noVIsoVHdAiIpJHbTcaU+ZqrR9BxHJRtycnEZVAGmOkfVwXOo9bJk+efGLcdGIMAGvtYcz8FQCUSwlm7lBKvTHeqKaVN8ZsBIAz0qRybKMRc6VKDuZ83/82rRP18mmtH0TE+0LyHxNRUOKMUVuxU7LWlkuLQGpwcHDi3Llz/63XuSQ5Y8zjAHBrwMfM/cy8oFAoxFWzu9iSRou/xtQ5bUT0dZIzta5rrZ+XyUNYDhFv931/RTVdVQF0d3e3OufKtXdI0QIiklH6uKmnp+co59zycC8SOrzfAEBHtdRNbLaLxeIMz/O+H3N9Ia52zq1QSvXWg6Knp+f4kZGRRZ7nXc/Mh1fSgYhVQSQCEMW9vb1HDA0NyS0UHS/KLF+2+NNqeRp2rlgs5jOZjDgtL+wBEcdlEv0oIi4O9xnVQKQCIEZkTuN53uqgZ4iJmMxrPkTEbXL4AECaceldj3POtSLicVKayP9x0UZEGSY/6vv+V9ZaaVHXpAGRGkBgtFgsnpXJZK6Ly9l6Uqkkcy8RlUsY+S4tiJoBBE5qrU9CxKvlZ1YA2G3UkRJIr4wxnXPvKKXGnLG0IOoGEHZSnn5EvIiZTwKAowEgrh39U2orRJRDLxOJz9IAjdsJAHiGiORn3sb8Uh91ZNOmTQeMjIwcjYgHIeJvEyZM2JHL5Wr6+TSsMwoCEVf4vr+re2zIDqSJ5Hh5BAQzS9R/IiJpf3fRPgOg4jsx3sjsbfn/AH37LF5g3/BiAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-expand:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABYZJREFUaEPVmXmoVVUUxn8f0WRzVkJlIWVGUmIJWWADTVaUldFclCnSQBQYNv1RSCWGVFRSlkRh0GBS2YBmJWGJUBHNNJiYWQSZfwTRxBfrce5jv/3Ovefc++4z3oKLD/fea61v7bXXdMQQJw1x/ekKANs7AOcA44Ddkt/2wJbk9z2wTNIP3TLcgADYvhw4q/gFiLq0ClgBLJf0Ud1DZfs6AmD7UuA64JiBCAf+BR4GHpH0TSe82gJgO6x9PXBqJ8JanPktQABzJP3VDu/aAGzfADzYhPnPQLjFUuA7YHPx+xPYHxhZ/Bt/nw4c14TP+8CFkjbWBVELgO2ngfD3nJYBCyW9Wldg7LN9cigKXATsnJ39HTi+7tuoBGDb3VI852P7QOBO4MoSGaMlfVtlmJYAbL8HHJsxmSdpdhXjdtZt3wPcWnJmhKRfWvFqCsD2PODm7PBdksJiXSfbJwDvZIzfAM6VFG+plEoBFNHmlezEc5LCZweNbEcSjMSX0iJJ09sFsDwLlaslTRo0zRPGts8AXstkTZYUOvWjfjdQJKnFyc7PgCmS1m0NACHD9t3AbYm8yNiT6wKIWJxm2JmSFm4t5QsA2wBvZ/liuqRFuR59bsD2JcAzyaYPJU1oV3nbF8fjAw4DlnTy8Es8YYWk06oAPJnF5I6sb/tF4LxC2CZJ+3VghGFAVK17JmdHSVqf8uq9AdtR+kZNsmOx4Y9I/5KiLGiLbEc4jLDYQ5IqE2aZANvxFqNwbNBNkh5oBiAsFpZr0FJJU9vSvNjcRQBRPKbhfJWkE5sBuBe4JVmcIemJ/xNAyLb9a+JGGyRF+dFLqQstAK5J1g6XFCG0berWDRQA8py0raR/et2z8YftiD4RhRq0naS/W2lv+2wgIkNEm5x630BRaufrj0l6tso6tpcAqSuPkfR1GYAoic8sFtZJOqgG8w+Ao6r2NVnfKCn6hJZkO4+MkyStLgPwJhB1etBaSRNrMA8XG1u1r8n6Fkl7VJ21/VDRBTa29nHt9A28AJxf7NosaXgN5lGZzgD2rdpbsh6N0MyqcyWl9si0Y0sBPA6kVd/wTnJAKNTlR/wUcEUCdBdJ0bX1UArgPmBWsnGipLVVFipb7zKAKCJHFXL6uV0K4NpiMtDQabakaGrapm4BsH0o8GWiwEuSosbqpRRARIQNyVq/rFcXSRcBxBt5NJHbvJQo812gVmOdA+sigCifpyX8x0v6uPQGCgDRWEeD3aCOemDb0XrGm9q1KKevrnt7jX22DwFiqLBX8X8rJZ2S88n7gSOBaGiiMg3aBEyQ9FO7Cgx0v+1ooiJEN2iapEhqfaispcyLuo5uYSAAbEf7GBOJBkXpcETZdKIMwN7AGiAtJS6QFIluq5DtlcBJdVy52VglD6nBa6ykLwYbge05wB2JnLckNUqcfuJbDbbS0qJxcJik6NQGhWzfD9yYMI9ucKqkGByXUtVo8ceSOmecpE+6jcB2XsqEiFmS5reSVQVgNNBbeyeMwioxSh8w2Y6GPzJ+2os0+H4OxPtr6rqVzbbtMcBXJZpGkTVf0qedoCjifCSpq4B9WvBoCaISQDC2PQKIN5GPF6MqjCuOsqOpn6bK2R5fKB3K75QpHpPouUAkvrTPaAqiFoACRMxpwuqNniE3WsxrXk++0EQzHr3rwVGSZP+WGTymD3MlrbEdLerzdUDUBtCQaDvSeXyQKPPZTrwpztwuKS1h4tZrgWgbQALkaOCy4hNrn1FHTRTxdmKQ8LKksjdWC0THADK/jtQ/BQhQBwBl7Wi4VNRWoXhMJN6tA7TJTSyQFJ95u/OlPlfEdjzOALI7EIVgzEfb+nyaGSh3p4h+Pd1jV26gjiUHuqe4ibD6eklRqvfQkAHQzABDHsB/7aMVT352GH8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-menu-icon-text,.jb-pro-container .jb-pro-quality-icon-text,.jb-pro-container .jb-pro-scale-icon-text,.jb-pro-container .jb-pro-speed-icon-text{font-size:14px;min-width:30px;height:20px;line-height:20px;cursor:pointer;text-align:center}.jb-pro-container .jb-pro-speed{box-sizing:border-box;text-align:center;font-size:14px;color:#fff;width:90px}.jb-pro-container .jb-pro-menu-list,.jb-pro-container .jb-pro-quality-menu-list,.jb-pro-container .jb-pro-scale-menu-list,.jb-pro-container .jb-pro-speed-menu-list{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;overflow:hidden;width:-webkit-max-content;width:-moz-max-content;width:max-content}.jb-pro-container .jb-pro-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-speed-menu-shown{visibility:visible;opacity:1}.jb-pro-container .icon-title-tips{pointer-events:none;position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:rgba(0,0,0,.5);border-radius:4px}.jb-pro-container .icon-title{display:inline-block;padding:5px 10px;font-size:12px;white-space:nowrap;color:#fff}.jb-pro-container .jb-pro-quality-menu{padding:8px 0}.jb-pro-container .jb-pro-menu-item,.jb-pro-container .jb-pro-quality-menu-item,.jb-pro-container .jb-pro-scale-menu-item,.jb-pro-container .jb-pro-speed-menu-item{display:block;height:25px;line-height:25px;margin:0;padding:0 10px;cursor:pointer;font-size:14px;text-align:center;width:50px;color:hsla(0,0%,100%,.5);transition:color .3s,background-color .3s}.jb-pro-container .jb-pro-menu-item:hover,.jb-pro-container .jb-pro-quality-menu-item:hover,.jb-pro-container .jb-pro-scale-menu-item:hover,.jb-pro-container .jb-pro-speed-menu-item:hover{background-color:hsla(0,0%,100%,.2)}.jb-pro-container .jb-pro-menu-item:focus,.jb-pro-container .jb-pro-quality-menu-item:focus,.jb-pro-container .jb-pro-scale-menu-item:focus,.jb-pro-container .jb-pro-speed-menu-item:focus{outline:none}.jb-pro-container .jb-pro-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-speed-menu-item-active{color:#2298fc}.jb-pro-container .jb-pro-volume-panel-wrap{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%) translateY(22%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;height:120px;width:50px;overflow:hidden}.jb-pro-container .jb-pro-volume-panel-wrap.jb-pro-volume-panel-wrap-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-volume-panel{cursor:pointer;position:absolute;top:21px;height:60px;width:50px;overflow:hidden}.jb-pro-container .jb-pro-volume-panel-text{position:absolute;left:0;top:0;width:50px;height:20px;line-height:20px;text-align:center;color:#fff;font-size:12px}.jb-pro-container .jb-pro-volume-panel-handle{position:absolute;top:48px;left:50%;width:12px;height:12px;border-radius:12px;margin-left:-6px;background:#fff}.jb-pro-container .jb-pro-volume-panel-handle:before{bottom:-54px;background:#fff}.jb-pro-container .jb-pro-volume-panel-handle:after{bottom:6px;background:hsla(0,0%,100%,.2)}.jb-pro-container .jb-pro-volume-panel-handle:after,.jb-pro-container .jb-pro-volume-panel-handle:before{content:"";position:absolute;display:block;left:50%;width:3px;margin-left:-1px;height:60px}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-controls,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-controls{width:100vh}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-play-big:after,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-play-big:after{transform:translate(-50%,-50%) rotate(270deg)}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-loading,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-loading{flex-direction:row}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-loading-text,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-loading-text{transform:rotate(270deg)}.jb-pro-container .jb-pro-contextmenus{display:none;flex-direction:column;position:absolute;z-index:120;left:10px;top:10px;min-width:200px;padding:5px 0;background-color:rgba(0,0,0,.9);border-radius:3px}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu{cursor:pointer;font-size:12px;display:block;color:#fff;padding:10px 15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px rgba(0,0,0,.5);border-bottom:1px solid hsla(0,0%,100%,.1)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu a{color:#fff;text-decoration:none}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span{display:inline-block;padding:0 7px}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span.art-current,.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span:hover{color:var(--theme)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu:hover{background-color:hsla(0,0%,100%,.1)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu:last-child{border-bottom:none}.jb-pro-container.jb-pro-contextmenus-show .jb-pro-contextmenus{display:flex}.jb-pro-container .jb-pro-extend-dom{position:relative;width:100%;height:100%;display:none}.jb-pro-container-playback .jb-pro-controls{height:48px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center{flex:1;display:flex;box-sizing:border-box;justify-content:space-between;font-size:12px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time{box-sizing:border-box;flex:1;position:relative;height:100%;display:none}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner{width:300px;height:100%;overflow-y:hidden;overflow-x:auto}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar{-webkit-appearance:none;background-color:transparent}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar:vertical{width:2px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar:horizontal{height:6px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner:hover::-webkit-scrollbar-thumb{border-radius:8px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);border:3px solid hsla(0,0%,100%,.4);background-color:rgba(0,0,0,.3)}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-current-time{position:absolute;left:0;top:0;height:15px;width:1px;background-color:red;text-align:center;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-current-time-text{position:absolute;box-sizing:border-box;padding:0 5px;width:60px;left:-25px;top:15px;border:1px solid red;height:15px;line-height:15px;cursor:move;background-color:#fff;color:#000;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll{position:relative;width:1440px;margin:0 auto}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.one-hour{width:1440px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.half-hour{width:2880px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.ten-min{width:8640px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.five-min{width:17280px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.one-min{width:86400px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-list{position:relative;background-color:#ccc;height:48px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-day{height:100%;overflow:hidden}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-one-wrap{height:8px;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-wrap{height:25px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-btns{display:none;align-items:center}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one{float:left;width:1px;height:8px;margin:0;cursor:default;position:relative;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one.active,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one.active{background-color:orange;cursor:pointer}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one.start,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one.start{background-color:#999}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one:hover .jb-pro-playback-time-title-tips,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one:hover .jb-pro-playback-time-title-tips{visibility:visible;opacity:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips{pointer-events:none;position:absolute;left:0;top:100%;visibility:hidden;opacity:0;transform:translateX(13%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:#000;border-radius:4px;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips.jb-pro-playback-time-title-tips-left{transform:translateX(-100%)}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips .jb-pro-playback-time-title{display:inline-block;padding:2px 5px;font-size:12px;white-space:nowrap;color:#fff}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute{float:left;position:relative;width:60px;box-sizing:border-box;border-top:1px solid #999;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-align:left;height:25px;line-height:25px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:first-child,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:first-child{border-left:0}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:first-child .jb-pro-playback-time-hour-text,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:first-child .jb-pro-playback-time-hour-text{left:0}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:after,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:after{content:"";position:absolute;left:0;top:-8px;width:1px;height:14px;background-color:#999}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour-text,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-text{position:absolute;left:-13px}.jb-pro-container-playback .jb-pro-playback-expand.disabled .jb-pro-icon-expand,.jb-pro-container-playback .jb-pro-playback-narrow.disabled .jb-pro-icon-narrow{cursor:no-drop}.jb-pro-container-playback .jb-pro-control-progress-simple{position:absolute;box-sizing:border-box;left:0;top:-2px;width:100%;display:none;flex-direction:row;align-items:center;height:8px;cursor:pointer}.jb-pro-container-playback .jb-pro-control-progress-simple:hover{top:0;align-items:flex-start}.jb-pro-container-playback .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner{height:100%}.jb-pro-container-playback .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner .jb-pro-progress-indicator{transform:scale(1);visibility:visible}.jb-pro-container-playback .jb-pro-control-progress-inner{display:flex;align-items:center;position:relative;height:50%;width:100%;transition:all .2s ease;background:hsla(0,0%,100%,.5)}.jb-pro-container-playback .jb-pro-progress-hover{display:none;width:0}.jb-pro-container-playback .jb-pro-progress-played{position:absolute;left:0;top:0;right:0;bottom:0;height:100%;width:0;background-color:orange}.jb-pro-container-playback .jb-pro-progress-cache{position:absolute;height:100%;width:0;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5)}.jb-pro-container-playback .jb-pro-progress-indicator{visibility:hidden;align-items:center;justify-content:center;position:absolute;z-index:40;border-radius:50%;transform:scale(.1);transition:transform .1s ease-in-out}.jb-pro-container-playback .jb-pro-progress-indicator .jb-pro-icon{width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-playback .jb-pro-progress-indicator:hover{transform:scale(1.2)!important}.jb-pro-container-playback .jb-pro-progress-tip{display:none;position:absolute;z-index:50;top:-25px;left:0;height:20px;padding:0 5px;line-height:20px;color:#fff;font-size:12px;text-align:center;background:rgba(0,0,0,.7);border-radius:3px;font-weight:700;white-space:nowrap}.jb-pro-container-play-vod .jb-pro-control-progress-simple{position:absolute;box-sizing:border-box;left:0;top:-2px;width:100%;display:none;flex-direction:row;align-items:center;height:8px;cursor:pointer}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover{top:0;align-items:flex-start}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner{height:100%}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner .jb-pro-progress-indicator{transform:scale(1);visibility:visible}.jb-pro-container-play-vod .jb-pro-control-progress-inner{display:flex;align-items:center;position:relative;height:50%;width:100%;transition:all .2s ease;background:hsla(0,0%,100%,.5)}.jb-pro-container-play-vod .jb-pro-progress-hover{display:none;width:0}.jb-pro-container-play-vod .jb-pro-progress-played{position:absolute;left:0;top:0;right:0;bottom:0;height:100%;width:0;background-color:orange}.jb-pro-container-play-vod .jb-pro-progress-cache{position:absolute;height:100%;width:0;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5)}.jb-pro-container-play-vod .jb-pro-progress-indicator{visibility:hidden;align-items:center;justify-content:center;position:absolute;z-index:40;border-radius:50%;transform:scale(.1);transition:transform .1s ease-in-out}.jb-pro-container-play-vod .jb-pro-progress-indicator .jb-pro-icon{width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-play-vod .jb-pro-progress-indicator:hover{transform:scale(1.2)!important}.jb-pro-container-play-vod .jb-pro-progress-tip{display:none;position:absolute;z-index:50;top:-25px;left:0;height:20px;padding:0 5px;line-height:20px;color:#fff;font-size:12px;text-align:center;background:rgba(0,0,0,.7);border-radius:3px;font-weight:700;white-space:nowrap}.jb-pro-container-playback.jb-pro-fullscreen-web .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-playback-time-inner{overflow-y:auto}.jb-pro-zoom-control{cursor:-webkit-grab;cursor:grab}.jb-pro-performance-panel{position:absolute;box-sizing:border-box;z-index:10000;left:0;top:0;font-size:10px;background:rgba(0,0,0,.2);color:#fff;max-height:100%;display:none;overflow-y:auto}.jb-pro-performance-panel .jb-pro-performance-panel-tab{height:20px;width:100%;display:flex;justify-content:space-around;align-items:center}.jb-pro-performance-panel .jb-pro-performance-panel-tab-btn{width:45%;text-align:center;min-width:30px;height:15px;line-height:15px;background:#5fb495;border:none;color:#fff;cursor:pointer;transition:all .3s ease}.jb-pro-performance-panel .jb-pro-performance-panel-tab-btn.active{background:linear-gradient(90deg,#7b2cbf 0,#7b2cbf 10%,#6e35b9 30%,#5fb495);box-shadow:inset 0 2px 4px rgba(0,0,0,.2);transform:scale(.98)}.jb-pro-performance-panel .jb-pro-performance-panel-info{box-sizing:border-box;display:none;padding:5px;height:calc(100% - 20px)}.jb-pro-performance-panel .jb-pro-performance-panel-info.jb-pro-performance-panel-info-1{display:block}.jb-pro-performance-panel .jb-pro-performance-item{display:flex;align-items:center;margin-top:3px;color:#fff}.jb-pro-performance-panel .jb-pro-performance-item-block{height:10px}.jb-pro-tips-message{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto;box-sizing:content-box;z-index:10;display:none}.jb-pro-tips-message:before{color:hsla(0,0%,100%,.3);content:"X";font-family:Arial,Helvetica,sans-serif;font-size:40px;left:0;line-height:1;margin-top:-20px;position:absolute;text-shadow:2em 2em 4em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.jb-pro-tips-message .jb-pro-tips-message-close{position:absolute;z-index:99999;right:0;top:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.jb-pro-tips-message .jb-pro-tips-message-close .jb-pro-tips-message-close-icon{width:20px;height:20px;border-radius:10px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTM3Nzc7Ozs7Ozs3Nzc3NzcrKys3Nzc3Nzc3NzePZJxkAAAAJdFJOUwCtKdPBGAmNTt3jdDcAAADfSURBVDjL1dOxDoIwEADQgwR07GTCZtI/IGHgAzBhM9EPkMTB0Y3V0ZXIcn/rtRR6pefgSKeSu3ellyvA9lZ/5F9p/3K7PZY8oPG5BD6MpPUSgIITzdIStifAshjRQV1PCFT8TxaicTzzwEwINOEdHVmDmcTAkRhMhMAp7iQRjcMtDhCp8SA1v0ARGIIK/gnkv0p1OBTS4QRUIpE7DiYYXTBrzcld3JIrAarXrps4AVNwRSZgExoJmIyAaAdsShUMn/JF2fh4YEkpAcgvnuwYCIb6EbbbP4PsDfLD2dD6Av1qTvAQlzUTAAAAAElFTkSuQmCC") no-repeat 50%;background-color:#fff;background-size:100% 100%}.jb-pro-tips-message .jb-pro-tips-message-content{overflow:auto;padding:35px;box-sizing:border-box;width:100%;height:100%;z-index:99999}.jb-pro-tips-message .jb-pro-tips-message-content .jb-pro-tips-message-content-item{font-size:14px;color:#fff;text-align:center;line-height:1.5}'),function(t,e){const s=Ty,i=t();for(;;)try{if(122273===-parseInt(s(174))/1*(-parseInt(s(184))/2)+parseInt(s(182))/3+-parseInt(s(170))/4+-parseInt(s(190))/5*(-parseInt(s(192))/6)+parseInt(s(186))/7+-parseInt(s(197))/8*(parseInt(s(195))/9)+-parseInt(s(181))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ey);const Iy=_y;function ky(){const t=[".jb-pro-ptz-narrow","fill","$zoom",".jb-pro-controls-item-wrap-","jb-pro-controls-show-auto-hide","animationName",".jb-pro-scale-menu","_initLoadingBackgroundForRatio",".jb-pro-zoom-stop2",".jb-pro-volume-panel",".jb-pro-volume-panel-wrap","isFullResize","delayHiddenTimeout",".jb-pro-icon-extend-","map",".jb-pro-volume","$speed","controlsPlaybackTimeInner","$playbackProgressIndicator","$performancePanelInfo2","getControlHtmlIsShow",".jb-pro-face-active","$controlHtml","loadingBackgroundHeight","$domMap","getControlHeight",".jb-pro-ptz-wiper-open","flex","$zoomExpand",".jb-pro-recording-time","html","style","$scaleMenuItems","$volumePanelText","$ptzWiperClose","4825352nFfWnS","initLoadingBackground",".jb-pro-control-progress-simple","initShowLoadingIconInner","getShowVideoRect","call","rotate","small","_validateExtendBtn","eventListenList",".jb-pro-play",".jb-pro-recording-stop","activeIconTitle","$speedMenu","$record","isInitPlayer","height","jb-pro-controls-small","name","$loadingText","$playbackTimeScroll","$ptzFocusNear","$performanceActive","$volumePanelWrap","$scaleMenu","player","$playbackTimeListSecond","$volumeOn",".jb-pro-loading-bg","deg)","debugLog","$recordingStop","6432380VJWnYn","innerText","$activeIconWrap","video",".jb-pro-playback-narrow",".jb-pro-ptz-focus-near","mouseover","ptzNarrowTimeout",'\n                <div class="jb-pro-extend-dom">\n                ',"toggleBar",".jb-pro-scale-menu-item","mirrorRotate",".jb-pro-ptz-cruise-pause",".jb-pro-ptz-bg-active","ptzArrow",".jb-pro-recording","from",".jb-pro-progress-hover","destroy","$playbackCurrentTime","controlSize",".jb-pro-zoom",'"></i>\n                                ',"$pause","-active","level","left-up","controlsRightRect","$controlsInner","length","created","contain","$performance","$faceDetect","canvas",".jb-pro-controls-playback-time-inner","$zoomControls",".jb-pro-performance-panel-info-1",".jb-pro-zoom-controls","$poster","scale(","icon","32294436FHdIrU","bottom","ptzApertureNearTimeout",".jb-pro-progress-tip","TAG_NAME",'\n            <div class="jb-pro-tips-message-content-item">',"btnIndex","$controlsPlaybackBtns",".jb-pro-controls-bottom",".jb-pro-progress-cache","toggleExtendDom",".jb-pro-controls-playback-btns","$playbackCurrentTimeText",".jb-pro-speed-menu","getExtendDomIsShow","findIndex","$volumeOff","$ptzBgActive","$controlsRight",".jb-pro-object",".jb-pro-speed-menu-item","querySelectorAll","$qualityMenuItems","$playbackNarrow","5nWlLcV","default",".jb-pro-ptz-active","getExtendBtnActive","click","preventDefault",'\n            <div class="jb-pro-controls-item-wrap jb-pro-controls-item-wrap-',"$container",".jb-pro-scale-icon-text","updateLoadingText","children","aspectRatio","$qualityMenu","\n               ","</span></span>\n                                            ","$playBig",".jb-pro-loading-text","$playbackTimeList","padding","showMessageConfig","initLoadingBackground()","$ptzControlCircular","mouseout","ptzFocusNearTimeout","$tipsMessageClose",".jb-pro-icon-mute","$ptzExpand","querySelector",".jb-pro-occlusion","$loading","$ptzWiperOpen",".jb-pro-controls-playback-time",".jb-pro-controls",'<div class="jb-pro-tips-message-content-item">Error Type:',"left-down",".jb-pro-playback-expand","$ptzFogClose"," rotateY(180deg)",".jb-pro-performance-panel-info-2",".jb-pro-quality-menu-list","_opt",'\n                                            <span class="icon-title-tips"><span class="icon-title">',"remove","1848276LyJHjE","Timeout","$qualityMenuList",".jb-pro-controls-right","$volumeHandle","showBeforePlay","$playbackProgress","block","$recordingTime","find","hotKey","calc(","_initLoadingBackgroundForVideo","url(",".jb-pro-play-big",".jb-pro-tips-message","$playbackProgressTime","\n                            </div>","</div>","toggleControlHtml",".jb-pro-loading",".jb-pro-performance-panel","$zoomStop","$volume",".jb-pro-fullscreen","controlsRect","$performancePanel",".jb-pro-playback-time-second-wrap","$recording",".jb-pro-poster",".jb-pro-speed-menu-list","loadingIconStyle","Control",".jb-pro-volume-panel-handle","$faceDetectActive","$ptzCruisePause","$playbackProgressPlayed","px)","controlsLeftRect","removeExtendDom","hideTipsMessage","updatePtzPosition","vertical",".jb-pro-pause","initLoadingIconStyle","237eumVGE","% - ","updateControlSize","$controls","ptzExpandTimeout","$tipsMessageContent","extendOperateBtns","extendBtnList","transform",".jb-pro-ptz-fog-close",".jb-pro-ptz-focus-far",".jb-pro-fullscreen-exit","$objectDetect","removeChild",".jb-pro-ptz-controls","right","$performancePanelInfo1","$performancePanelBtn2","showPlayBtn","src",".jb-pro-performance-panel-tab-btn2","$scaleText","$zoomStop2","$ptzFocusFar","activeIconHover",".jb-pro-extend-dom","$ptzApertureFar","$speedMenuItems",") no-repeat center","100% 100%","\n        ","4255216ammusW",".jb-pro-logSave",".jb-pro-controls-playback-time-scroll","$tipsMessage",".jb-pro-scale-menu-list","$speedText",".jb-pro-icon-audio","100%","isResize","$extendDom","148788mtUgwd","$objectDetectActive",".jb-pro-ptz-fog-open","classList",".jb-pro-quality-menu","playing","index",".jb-pro-ptz-cruise-play","$fullscreenExit",".jb-pro-ptz-wiper-close","loadingBackground","$speedMenuList","ptzFocusFarTimeout","iconHover",".jb-pro-quality-icon-text",'<div class="jb-pro-controls-item jb-pro-control-extend-',"innerHTML","top","right-down","$logSave","$playbackProgressTip","$ptzArrows","11mmWvfx","ptzApertureFarTimeout","animationDuration",".jb-pro-performance-active","$recordStop","multiIndex","updateExtendDom","$occlusionDetectActive","$scaleMenuList","insertAdjacentHTML","debugWarn",".jb-pro-quality-menu-item"," rotate(",".jb-pro-zoom-stop","background",".jb-pro-record","activeClick","$playbackTimeInner","keys","getBoundingClientRect","beforebegin","13gAzpnC","$ptzCruisePlay",".jb-pro-control-extend-",".jb-pro-ptz-aperture-far",".jb-pro-performance","$ptzFogOpen","activeIcon","$playbackTimeListOne",".jb-pro-ptz-control","objectFit","$qualityText","3054chlfGZ",".jb-pro-progress-indicator","display","down","$playbackProgressCache","split","9AkngwY","$ptzControl","\n                </div>\n            ","$playbackTime",".jb-pro-speed","$screenshot","getControlHtml","$ptzActive","loadingBackgroundWidth",".jb-pro-controls-playback-current-time","width","$ptzNarrow",".jb-pro-screenshot",".jb-pro-record-stop","6qHwGiD","jb-pro-controls-show","\n                                </div>","$fullscreen","$playbackProgressHover","$volumePanel","toggleExtendBtn","$loadingBgImage",".jb-pro-volume-panel-text"," is already exist",".jb-pro-contextmenus","forEach","$controlsLeft","assign",'">\n               ',"$ptz","extend button name: ","left","$performancePanelBtn1","_initLoadingBackgroundForCanvas","normal","init","$playbackExpand","hasAnimation","autoSize","$zoomNarrow","$occlusionDetect","videoRenderSupportScale","auto",".jb-pro-controls-playback-time-list","$close","none","addExtendBtn","$play","animationIterationCount",".jb-pro-playback-control-time","controlsInnerRect","extendDomConfig",".jb-pro-close",".jb-pro-face","$videoElement",".jb-pro-progress-played","$contextmenus","right-up","kbpsShow","$iconWrap","background-size","$loadingBg","beforeend","getExtendDom","showTipsMessage","getBarIsShow",".jb-pro-loading-bg-image","getRenderType","ptzPositionConfig","extend button name is required",".jb-pro-ptz-arrow",".jb-pro-occlusion-active","$ptzApertureNear",".jb-pro-object-active"];return(ky=function(){return t})()}function _y(t,e){const s=ky();return(_y=function(t,e){return s[t-=278]})(t,e)}!function(t,e){const s=_y,i=t();for(;;)try{if(402994===parseInt(s(433))/1+-parseInt(s(487))/2*(parseInt(s(392))/3)+-parseInt(s(347))/4*(parseInt(s(304))/5)+parseInt(s(507))/6*(-parseInt(s(423))/7)+-parseInt(s(602))/8*(parseInt(s(493))/9)+-parseInt(s(634))/10*(parseInt(s(455))/11)+parseInt(s(280))/12*(parseInt(s(476))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ky);class Cy{constructor(t){const e=_y;this[e(627)]=t,this[e(284)]=e(379),this.extendBtnList=[],this.eventListenList=[],this[e(579)]=null,this[e(641)]=null,this.ptzArrowTimeout=null,this[e(456)]=null,this[e(282)]=null,this.ptzFocusFarTimeout=null,this.ptzFocusNearTimeout=null,this.$domMap={},ty(t),t[e(344)][e(398)][e(663)]>0&&t[e(344)][e(398)][e(518)]((t=>{this.addExtendBtn(t)})),t._opt[e(544)]&&t[e(344)][e(544)][e(597)]&&this.addExtendDom(t[e(344)].extendDomConfig),yy(t,this),function(t,e){const s=vy,{events:{proxy:i}}=t,r=e[s(416)],n=t[s(469)],o=n[s(527)];function a(t){const i=s,{bottom:r,height:n}=e.$volumePanel[i(435)](),{height:o}=e[i(593)][i(435)]();return rs(r-t.y-o/2,0,n-o/2)/(n-o)}function h(i){const r=s;let n=arguments[r(413)]>1&&void 0!==arguments[1]&&arguments[1];i[r(480)]()[r(411)](t[r(580)])>-1?e[r(387)]=!0:e[r(387)]=!1,n&&t[r(469)][r(554)]&&t._opt.controlAutoHide&&(e[r(387)]?(ns(e[r(473)],"display","flex"),d()):(u(),ns(e[r(473)],"display",r(549))))}if(ms()){const g=i(document,[s(407),s(505)],(function(t){t[s(449)](),h(t)}));g&&g[s(413)]>0&&r[s(534)](...g)}else{const y=i(document,s(407),(function(t){t.stopPropagation(),h(t,!0)}));y&&r[s(534)](y)}const l=i(e.$controls,s(407),(function(t){t[s(449)]()}));if(l&&r.push(l),o[s(395)]){const A=i(e[s(462)],s(407),(function(i){const r=s;n.playType===p[r(408)]&&n[r(443)][r(488)]?t[r(492)]=!0:n[r(468)]===p[r(493)]?t.playVodPauseInner()[r(475)]((s=>{const i=r;t.debugLog(e.TAG_NAME,i(438),s)})):li(o.pauseFn)?o[r(571)]():t[r(525)]()[r(475)]((s=>{const i=r;t[i(444)](e[i(466)],i(592),s)}))})),v=i(e.$play,"click",(function(i){const r=s;n[r(468)]===p[r(408)]&&t.playbackPause?t[r(492)]=!1:n[r(468)]===p[r(493)]?t[r(528)]()[r(475)]((s=>{const i=r;t[i(444)](e[i(466)],i(461),s)})):li(o.playFn)?o[r(422)]():t[r(456)]().then((()=>{t.resumeAudioAfterPause()})).catch((s=>{const i=r;t[i(444)](e[i(466)],"playForControl error",s)}))}));A&&r.push(A),v&&r[s(534)](v)}const c=i(e[s(405)],"click",(function(i){const r=s;n.playType===p[r(408)]&&t[r(492)]?t.playbackPause=!1:n.playType===p.playVod?t[r(528)]()[r(475)]((s=>{const i=r;t[i(444)](e[i(466)],i(461),s)})):e[r(501)]?t[r(447)](H[r(577)]):li(o[r(422)])?o.playFn():t[r(456)]().then((()=>{t.resumeAudioAfterPause()}))}));if(c&&r[s(534)](c),o[s(432)]){const w=i(e[s(410)],"click",(function(e){const i=s;e[i(449)](),li(o[i(568)])?o[i(568)]():t[i(561)][i(432)]()}));w&&r[s(534)](w)}if(o.audio){if(ms()){const I=i(e[s(585)],s(476),(function(t){const i=s;e[i(399)][i(536)].add(i(417))}));I&&r[s(534)](I);const k=i(e.$volume,s(485),(function(t){const i=s;e.$volumePanelWrap.classList[i(472)](i(417))}));k&&r[s(534)](k);const _=i(e[s(506)],"click",(function(e){const i=s;e[i(449)](),t[i(437)]=a(e)}));_&&r[s(534)](_);const C=i(e[s(593)],s(540),(function(t){const i=s;t.stopPropagation(),e[i(479)]=!0}));C&&r[s(534)](C);const D=i(e.$volumeHandle,"mousemove",(function(i){const r=s;e.isVolumeDroging&&(t[r(437)]=a(i))}));D&&r.push(D);const R=i(document,s(530),(function(t){const i=s;e.isVolumeDroging&&(e[i(479)]=!1)}));R&&r.push(R)}const E=i(e[s(532)],s(407),(function(i){const r=s;i.stopPropagation(),ns(e[r(532)],"display","none"),ns(e[r(391)],r(566),r(490));const n=t[r(437)];t.volume=0,t[r(455)]=ms()?n:1}));E&&r.push(E);const T=i(e[s(391)],s(407),(function(i){const r=s;i[r(449)](),ns(e.$volumeOn,r(566),r(490)),ns(e.$volumeOff,"display",r(549)),t[r(437)]=ms()?t[r(471)]||.5:1}));T&&r[s(534)](T)}if(o.record){const L=i(e[s(586)],s(407),(function(e){const i=s;e[i(449)](),li(o[i(484)])?o.recordFn():t[i(560)]=!0}));L&&r[s(534)](L),i(e.$recordStop,"click",(function(e){const i=s;e.stopPropagation(),li(o[i(423)])?o.recordStopFn():t[i(560)]=!1}))}if(i(e.$recordingStop,s(407),(function(e){const i=s;e.stopPropagation(),li(o[i(423)])?o[i(423)]():t[i(560)]=!1})),o[s(483)]&&(i(e.$fullscreen,s(407),(function(e){const i=s;e.stopPropagation(),li(o.fullscreenFn)?o[i(533)]():t[i(483)]=!0})),i(e[s(419)],"click",(function(e){const i=s;e[i(449)](),li(o[i(551)])?o.fullscreenExitFn():t.fullscreen=!1}))),o[s(442)]){i(e[s(569)],s(407),(function(t){const i=s;t.stopPropagation(),ns(e[i(512)],i(566),"flex"),ns(e[i(569)],i(566),i(549)),e[i(602)].classList[i(559)]("jb-pro-ptz-controls-show")})),i(e.$ptzActive,"click",(function(t){const i=s;t.stopPropagation(),ns(e[i(569)],i(566),i(597)),ns(e[i(512)],i(566),"none"),e[i(602)].classList[i(472)](i(507))}));const P=Wi();if(e.$ptzArrows.forEach((r=>{const o=s;if(n.ptzClickType===b[o(407)])i(r,o(407),(function(s){const i=o;s[i(449)]();const r=s[i(465)][i(402)][i(478)];e[i(552)][i(536)][i(559)]("jb-pro-ptz-bg-active-show"),e.$ptzBgActive[i(536)].add("jb-pro-ptz-bg-active-"+r),e.$ptzControlCircular[i(536)][i(559)]("jb-pro-ptz-control-"+r),t[i(447)](H.ptz,Mi(r));const a=i(448)+r+"Timeout";e[a]=setTimeout((function(){const s=i;e[a]=null,e[s(552)][s(536)][s(472)](s(457)),mt[s(428)]((t=>{const i=s;e[i(552)][i(536)][i(472)](i(522)+t),e[i(584)][i(536)].remove("jb-pro-ptz-control-"+t)})),t[s(447)](H[s(442)],gt[s(477)])}),1e3*n[i(524)])}));else if(n.ptzClickType===b[o(503)]){let a=!1;function h(){const s=o;a=!1,e[s(552)][s(536)][s(472)](s(457)),mt[s(428)]((t=>{const i=s;e[i(552)].classList.remove("jb-pro-ptz-bg-active-"+t),e[i(584)][i(536)][i(472)](i(579)+t)})),t.emit(H.ptz,gt[s(477)])}i(r,P[o(403)],(function(s){const i=o;s.stopPropagation(),a=!0;const r=s[i(465)][i(402)].arrow;e[i(552)][i(536)][i(559)](i(457)),e[i(552)].classList[i(559)](i(522)+r),e.$ptzControlCircular[i(536)][i(559)](i(579)+r),t[i(447)](H[i(442)],Mi(r))})),i(r,P.up,(function(t){t.stopPropagation(),a&&h()})),i(window,P.up,(function(t){t[o(449)](),a&&h()}))}})),n.ptzZoomShow)if(n[s(427)]===b.click)i(e[s(393)],s(407),(function(i){const r=s;i[r(449)](),t[r(447)](H[r(442)],gt.zoomExpand),e.ptzExpandTimeout=setTimeout((function(){const s=r;e[s(414)]=null,t.emit(H[s(442)],gt[s(477)])}),1e3*n[r(524)])})),i(e[s(543)],"click",(function(i){const r=s;i[r(449)](),t[r(447)](H[r(442)],gt[r(576)]),e.ptzNarrowTimeout=setTimeout((function(){const s=r;e[s(414)]=null,t[s(447)](H[s(442)],gt[s(477)])}),1e3*n[r(524)])}));else if(n[s(427)]===b[s(503)]){let x=!1,M=!1;function B(){x=!1,M=!1,t[s(447)](H.ptz,gt.stop)}i(e[s(393)],P.down,(function(e){const i=s;e[i(449)](),x=!0,t[i(447)](H[i(442)],gt.zoomExpand)})),i(e[s(543)],P[s(403)],(function(e){const i=s;e[i(449)](),M=!0,t[i(447)](H[i(442)],gt[i(576)])})),i(e[s(393)],P.up,(function(t){t[s(449)](),x&&B()})),i(e[s(543)],P.up,(function(t){t[s(449)](),M&&B()})),i(window,P.up,(function(t){t.stopPropagation(),(x||M)&&B()}))}if(n[s(453)])if(n[s(427)]===b[s(407)])i(e[s(558)],s(407),(function(i){const r=s;i.stopPropagation(),t[r(447)](H[r(442)],gt[r(463)]),e.ptzApertureFarTimeout=setTimeout((function(){const s=r;e[s(564)]=null,t[s(447)](H.ptz,gt[s(502)])}),1e3*n.ptzStopEmitDelay)})),i(e[s(495)],s(407),(function(i){const r=s;i[r(449)](),t.emit(H[r(442)],gt[r(546)]),e[r(489)]=setTimeout((function(){const s=r;e.ptzApertureNearTimeout=null,t.emit(H[s(442)],gt[s(502)])}),1e3*n.ptzStopEmitDelay)}));else if(n[s(427)]===b.mouseDownAndUp){let F=!1,U=!1;function O(){const e=s;F=!1,U=!1,t[e(447)](H[e(442)],gt[e(502)])}i(e[s(558)],P[s(403)],(function(e){const i=s;e[i(449)](),F=!0,t[i(447)](H[i(442)],gt[i(463)])})),i(e[s(495)],P[s(403)],(function(e){const i=s;e.stopPropagation(),U=!0,t[i(447)](H[i(442)],gt.apertureNear)})),i(e[s(558)],P.up,(function(t){t[s(449)](),F&&O()})),i(e[s(495)],P.up,(function(t){t[s(449)](),U&&O()})),i(window,P.up,(function(t){t[s(449)](),(F||U)&&O()}))}if(n[s(499)])if(n.ptzClickType===b[s(407)])i(e[s(445)],s(407),(function(i){const r=s;i[r(449)](),t.emit(H[r(442)],gt[r(521)]),e[r(412)]=setTimeout((function(){const s=r;e[s(412)]=null,t.emit(H.ptz,gt[s(502)])}),1e3*n[r(524)])})),i(e[s(581)],s(407),(function(i){const r=s;i.stopPropagation(),t[r(447)](H[r(442)],gt.focusNear),e[r(539)]=setTimeout((function(){const s=r;e[s(539)]=null,t[s(447)](H[s(442)],gt[s(502)])}),1e3*n.ptzStopEmitDelay)}));else if(n[s(427)]===b[s(503)]){let N=!1,j=!1;function V(){N=!1,j=!1,t[s(447)](H.ptz,gt.fiStop)}i(e[s(445)],P.down,(function(e){const i=s;e[i(449)](),N=!0,t[i(447)](H[i(442)],gt[i(521)])})),i(e[s(581)],P.down,(function(e){const i=s;e[i(449)](),j=!0,t[i(447)](H[i(442)],gt[i(598)])})),i(e[s(445)],P.up,(function(t){t[s(449)](),N&&V()})),i(e[s(581)],P.up,(function(t){t[s(449)](),j&&V()})),i(window,P.up,(function(t){t[s(449)](),(N||j)&&V()}))}if(n[s(424)]&&(i(e.$ptzCruisePlay,"click",(function(e){const i=s;e[i(449)](),t[i(447)](H[i(442)],gt[i(565)])})),i(e.$ptzCruisePause,s(407),(function(e){const i=s;e[i(449)](),t.emit(H.ptz,gt[i(556)])}))),n.ptzFogShow&&(i(e[s(570)],"click",(function(e){const i=s;e.stopPropagation(),t.emit(H[i(442)],gt.fogOpen)})),i(e[s(574)],s(407),(function(e){const i=s;e[i(449)](),t[i(447)](H.ptz,gt[i(590)])}))),n.ptzWiperShow&&(i(e[s(555)],s(407),(function(e){const i=s;e.stopPropagation(),t.emit(H[i(442)],gt[i(520)])})),i(e[s(401)],"click",(function(e){const i=s;e[i(449)](),t[i(447)](H.ptz,gt[i(516)])}))),n.ptzSupportDraggable){function W(){const t=s;e.isPtzControlDroging&&(e[t(519)]=!1,e[t(602)].style[t(430)]=t(397),e[t(388)]={x:0,y:0})}e[s(519)]=!1,e.tempPtzPosition={x:0,y:0},i(e.$ptzControl,P[s(403)],(function(t){const i=s;t.stopPropagation(),e[i(519)]=!0,e.$ptzControl[i(599)][i(430)]=i(537);const{posX:r,posY:n}=di(t);e.tempPtzPosition={x:r,y:n}})),i(e[s(602)],P[s(409)],(function(t){const i=s;if(e[i(519)]){t[i(449)]();const{posX:s,posY:r}=di(t),n=e[i(388)].x-s,o=e[i(388)].y-r;e[i(602)][i(599)].left=e[i(602)].offsetLeft-n+"px",e.$ptzControl.style[i(600)]=e[i(602)][i(452)]-o+"px",e.tempPtzPosition={x:s,y:r}}})),i(e.$ptzControl,P.up,(function(t){t.stopPropagation(),W()})),i(window,P.up,(function(t){t[s(449)](),W()}))}}function d(){const i=s;u(),e[i(518)]=setTimeout((function(){const t=i;ns(e[t(473)],"display",t(549))}),1e3*t[i(469)][i(454)])}function u(){const t=s;e[t(518)]&&(clearTimeout(e.delayHiddenTimeout),e[t(518)]=null)}if(o[s(440)]&&(i(e[s(431)],s(407),(function(e){const i=s;e[i(449)](),t[i(526)](!0)})),i(e[s(460)],"click",(function(e){e[s(449)](),t.togglePerformancePanel(!1)}))),o.logSave&&i(e[s(386)],"click",(function(e){e[s(449)](),t.downloadMemoryLog()})),o[s(436)]&&(i(e[s(426)],"click",(function(e){const i=s;e[i(449)](),t[i(404)](!0)})),i(e[s(587)],s(407),(function(e){const i=s;e[i(449)](),t[i(404)](!1)}))),o.aiObject&&(i(e[s(531)],s(407),(function(e){const i=s;e[i(449)](),t[i(545)](!0)})),i(e.$objectDetectActive,"click",(function(e){const i=s;e[i(449)](),t[i(545)](!1)}))),o[s(504)]&&(i(e.$occlusionDetect,s(407),(function(e){const i=s;e[i(449)](),t[i(491)](!0)})),i(e[s(439)],s(407),(function(e){e[s(449)](),t.occlusionDetect(!1)}))),e[s(518)]=null,t[s(469)].hasControl&&t[s(469)].controlAutoHide&&ms()&&(i(t[s(580)],"mouseover",(function(){const i=s;!t[i(483)]&&(ns(e[i(473)],"display",i(490)),d())})),i(t[s(580)],s(529),(function(){const i=s;t[i(580)]&&e[i(473)]&&(t[i(483)]?"none"===e.$controls[i(599)][i(566)]&&(ns(e[i(473)],i(566),i(490)),d()):e[i(473)][i(599)][i(566)]===i(549)&&(ns(e[i(473)],i(566),i(490)),d()))})),i(t.$container,s(485),(function(){const t=s;u(),ns(e[t(473)],t(566),"none")}))),t[s(469)].playType===p[s(408)]){let G=t[s(469)][s(443)][s(396)];t[s(469)][s(443)][s(601)]&&(i(e[s(591)],s(476),(function(){const t=s;e[t(510)][t(536)][t(559)](t(418))})),i(e[s(591)],s(485),(function(){const t=s;e[t(510)].classList[t(472)](t(418))})),i(e[s(510)],s(407),(function(e){const i=s,r=oi(e);if(r[i(441)](i(594))){const e=r[i(402)];t.emit(H.playbackPreRateChange,e[i(385)])}}))),G===S[s(400)]?(i(e[s(450)],s(407),(function(e){const i=s;e[i(449)](),t.playback&&t.playback[i(548)]()})),i(e.$playbackExpand,"click",(function(e){const i=s;e[i(449)](),t[i(544)]&&t[i(544)][i(420)]()})),i(e[s(390)],s(407),(function(e){const i=s,r=oi(e);r[i(441)]("div.jb-pro-playback-time-minute-one")&&t.playback&&t[i(544)][i(481)](r[i(402)])})),t[s(469)][s(443)][s(500)]&&i(e.$playbackTimeInner,s(563),(function(e){const i=s;e[i(513)](),(e[i(429)]?e[i(429)]/120:-(e[i(589)]||0)/3)>0?t[i(544)]&&t.playback[i(420)]():t[i(544)]&&t[i(544)].narrowPrecision()}))):G===S[s(550)]&&(i(e[s(406)],s(407),(function(i){const r=s;if(i[r(498)]!==e[r(446)]){let s=0;const n=py(e,t[r(544)][r(486)],i,t[r(508)]());n[r(515)],s=n[r(509)],t[r(544)]&&t[r(544)][r(481)]({time:s})}})),ms()&&(e.isDroging=!1,i(e.$playbackProgress,s(529),(function(i){const r=s;ns(e[r(553)],r(566),r(490));const{width:n,time:o}=py(e,t.playback[r(486)],i);e.$playbackProgressTip.innerHTML=o;const a=e[r(553)][r(567)];n<=a/2?ns(e[r(553)],r(470),0):n>e[r(406)][r(567)]-a/2?ns(e.$playbackProgressTip,r(470),e[r(406)]-a+"px"):ns(e[r(553)],r(470),n-a/2+"px")})),i(e.$playbackProgress,"mouseout",(function(t){const i=s;ns(e[i(553)],"display",i(549))})),i(e[s(446)],s(540),(t=>{e[s(542)]=!0})),i(e[s(406)],s(529),(function(i){const r=s;if(e[r(542)]){const{second:s,percentage:n}=py(e,t[r(544)][r(486)],i);t[r(544)]&&t[r(544)].seek({time:s})}})),i(e.$playbackProgress,"mouseup",(function(t){const i=s;e[i(542)]&&(e[i(542)]=!1)}))))}t.isPlayVod()&&(t[s(469)][s(514)][s(601)]&&(i(e.$speedMenu,s(476),(function(t){const i=s;e[i(510)][i(536)][i(559)](i(418))})),i(e[s(591)],s(485),(function(t){const i=s;e[i(510)][i(536)][i(472)](i(418))})),i(e[s(510)],s(407),(function(i){const r=s,n=oi(i);if(n[r(441)](r(594))){const s=n[r(402)];t[r(538)](s[r(385)])[r(475)]((s=>{const i=r;t[i(444)](e.TAG_NAME,i(517),s)}))}}))),i(e.$playbackProgress,s(407),(function(i){const r=s;if(i[r(498)]!==e[r(446)]){let s=0;const n=py(e,t.playVod[r(486)],i,t[r(508)]());n[r(515)],s=n.second,t.playVodSeek(s)[r(475)]((s=>{const i=r;t[i(444)](e[i(466)],i(535),s)}))}})),ms()&&(e[s(542)]=!1,i(e.$playbackProgress,"mousemove",(function(i){const r=s;ns(e[r(553)],"display",r(490));const{width:n,time:o}=py(e,t[r(493)][r(486)],i);e[r(553)].innerHTML=o;const a=e[r(553)][r(567)];n<=a/2?ns(e[r(553)],r(470),0):n>e.$playbackProgress[r(567)]-a/2?ns(e[r(553)],r(470),e[r(406)]-a+"px"):ns(e.$playbackProgressTip,"left",n-a/2+"px")})),i(e.$playbackProgress,s(485),(function(t){const i=s;ns(e[i(553)],i(566),i(549))})),i(e[s(446)],s(540),(t=>{e[s(542)]=!0})),i(e[s(406)],"mousemove",(function(i){const r=s;if(e[r(542)]){const{second:s,percentage:n}=py(e,t[r(493)][r(486)],i);t[r(562)](s).catch((s=>{const i=r;t[i(444)](e[i(466)],"playVodSeek error",s)}))}})),i(e.$playbackProgress,s(530),(function(t){const i=s;e[i(542)]&&(e[i(542)]=!1)})))),o[s(434)]&&(i(e[s(487)],s(476),(function(t){const i=s;e[i(573)].classList.add(i(596))})),i(e[s(487)],s(485),(function(t){const i=s;e[i(573)][i(536)].remove(i(596))})),i(e[s(573)],s(407),(function(e){const i=s,r=oi(e);if(r[i(441)]("div.jb-pro-quality-menu-item")){const e=r[i(402)];t.streamQuality=e[i(434)]}}))),o.scale&&(i(e[s(578)],s(476),(function(t){const i=s;e[i(547)][i(536)][i(559)](i(421))})),i(e.$scaleMenu,s(485),(function(t){const i=s;e[i(547)][i(536)][i(472)](i(421))})),i(e[s(547)],s(407),(function(e){const i=s,r=oi(e);if(r[i(441)](i(572))){const e=r.dataset;t[i(415)](e.scale)}}))),o[s(398)]&&(i(e[s(392)],s(407),(function(e){const i=s;e.stopPropagation(),t[i(603)]=!0})),i(e[s(494)],s(407),(function(e){e[s(449)](),t.zooming=!1}))),i(e[s(467)],"click",(function(e){const i=s;e[i(449)](),t[i(398)]&&t[i(398)][i(420)]()})),i(e.$zoomNarrow,s(407),(function(e){const i=s;e[i(449)](),t[i(398)]&&t.zoom[i(548)]()})),i(e[s(497)],s(407),(function(e){e.stopPropagation(),t.zooming=!1})),o.close&&i(e[s(458)],s(407),(function(e){const i=s;e.stopPropagation(),t[i(459)]()})),i(e[s(595)],s(407),(function(t){const i=s;t.stopPropagation(),e[i(583)][i(588)]="",ns(e.$tipsMessage,i(566),i(549))}));const f=i(e[s(389)],s(407),(function(t){const i=s;t[i(449)](),Tn(e[i(433)],i(451)),En(e.$performancePanelBtn1,i(451)),ns(e.$performancePanelInfo1,i(566),"block"),ns(e[i(394)],i(566),i(549))}));f&&r[s(534)](f);const m=i(e[s(433)],"click",(function(t){const i=s;t.stopPropagation(),Tn(e.$performancePanelBtn1,"active"),En(e.$performancePanelBtn2,i(451)),ns(e[i(557)],i(566),i(549)),ns(e[i(394)],i(566),"block")}));m&&r[s(534)](m)}(t,this),t[e(344)][e(357)]&&ms()&&((t,e)=>{const s=Ty,{events:{proxy:i}}=t;let r={};function n(t,e){const i=s;r[t]?r[t][i(194)](e):r[t]=[e]}e[s(171)]=r,n(dt.esc,(()=>{const e=s;t[e(198)]&&(t[e(198)]=!1)})),n(dt[s(169)],(()=>{const e=s;t[e(172)]+=t[e(176)].hotKeyVolumeStep})),n(dt[s(185)],(()=>{const e=s;t[e(172)]-=t[e(176)][e(189)]})),t[s(196)]()&&(n(dt[s(187)],(()=>{t[s(180)](t._opt.hotKeySeekStep)})),n(dt.arrowRight,(()=>{const e=s;t.playVodForwardJumping(t[e(176)][e(188)])}))),i(window,s(179),(t=>{const i=s;if(e.isFocus){const e=document[i(175)][i(173)].toUpperCase(),s=document[i(175)][i(191)]("contenteditable");if(e!==i(183)&&e!==i(178)&&""!==s&&s!==i(193)){const e=r[t[i(177)]];e&&(t.preventDefault(),e.forEach((t=>t())))}}}))})(t,this),this[e(286)]=0,this.initLoadingBackground(),ti(t._opt[e(378)])&&this[e(391)](t[e(344)][e(378)]),ti(t[e(344)].ptzPositionConfig)&&this[e(388)](t._opt[e(561)]),t[e(344)].initShowPlayBtn&&(this[e(617)]=!0,this[e(410)]()),t[e(344)][e(605)]&&this.showLoadingIcon(),this[e(394)](),this[e(551)]="0 KB/s",this[e(627)][e(632)](e(379),e(528))}[Iy(652)](){const t=Iy;if(this[t(579)]&&(clearTimeout(this[t(579)]),this[t(579)]=null),["up",t(407),t(490),t(524),t(660),t(550),t(338),t(451)].forEach((e=>{const s=t;let i=this[s(648)+e+s(348)];i&&(clearTimeout(i),i=null)})),this.ptzExpandTimeout&&(clearTimeout(this[t(396)]),this[t(396)]=null),this.ptzNarrowTimeout&&(clearTimeout(this[t(641)]),this[t(641)]=null),this[t(456)]&&(clearTimeout(this[t(456)]),this.ptzApertureFarTimeout=null),this[t(282)]&&(clearTimeout(this[t(282)]),this.ptzApertureNearTimeout=null),this[t(445)]&&(clearTimeout(this[t(445)]),this[t(445)]=null),this[t(327)]&&(clearTimeout(this[t(327)]),this.ptzFocusNearTimeout=null),this[t(611)][t(663)]>0&&(this.eventListenList[t(518)]((t=>t&&t())),this.eventListenList=[]),this[t(373)]){this[t(373)][t(449)]="";if(!Pn(this[t(373)])){const e=this.player[t(311)][t(331)](t(368));e&&this[t(627)][t(311)]&&this[t(627)][t(311)][t(405)](e)}}if(this.$poster){if(!Pn(this[t(673)])){const e=this[t(627)][t(311)][t(331)](t(376));e&&this.player[t(311)]&&this[t(627)][t(311)][t(405)](e)}}if(this[t(333)]){this[t(333)].innerHTML="";if(!Pn(this[t(333)])){const e=this[t(627)][t(311)][t(331)](t(367));e&&this[t(627)][t(311)]&&this[t(627)][t(311)].removeChild(e)}}if(this[t(554)]){this.$loadingBg[t(449)]="";if(!Pn(this[t(554)])){const e=this.player[t(311)][t(331)](t(630));e&&this[t(627)][t(311)]&&this[t(627)][t(311)].removeChild(e)}}if(this[t(583)]&&(this[t(583)][t(449)]=""),this[t(395)]){this[t(395)][t(449)]="";if(!Pn(this[t(395)])){const e=this[t(627)][t(311)][t(331)](".jb-pro-controls");e&&this[t(627)][t(311)]&&this.player[t(311)].removeChild(e)}}if(this[t(319)]){if(!Pn(this[t(319)])){const e=this[t(627)].$container[t(331)](t(361));e&&this[t(627)].$container&&this[t(627)].$container[t(405)](e)}}if(this[t(375)]){this.$recording[t(449)]="";if(!Pn(this.$recording)){const e=this[t(627)][t(311)][t(331)](".jb-pro-recording");e&&this[t(627)][t(311)]&&this[t(627)][t(311)].removeChild(e)}}if(this[t(494)]){this[t(494)][t(449)]="";if(!Pn(this[t(494)])){const e=this.player[t(311)][t(331)](t(406));e&&this[t(627)].$container&&this[t(627)][t(311)][t(405)](e)}}if(this[t(670)]){this[t(670)][t(449)]="";if(!Pn(this[t(670)])){const e=this[t(627)].$container.querySelector(t(672));e&&this[t(627)].$container&&this[t(627)].$container.removeChild(e)}}if(this[t(549)]){this[t(549)].innerHTML="";if(!Pn(this.$contextmenus)){const e=this[t(627)][t(311)][t(331)](t(517));e&&this[t(627)].$container&&this[t(627)][t(311)][t(405)](e)}}if(this[t(426)]){this[t(426)][t(449)]="";if(!Pn(this[t(426)])){const e=this.player[t(311)][t(331)](t(362));e&&this[t(627)][t(311)]&&this.player[t(311)].removeChild(e)}}if(this.$extendDom){this.$extendDom.innerHTML="";if(!Pn(this[t(432)])){const e=this.player[t(311)].querySelector(t(417));e&&this[t(627)][t(311)]&&this[t(627)].$container[t(405)](e)}}this.$domMap=null,this[t(473)]=null,this[t(286)]=0,this[t(399)]=null,this[t(551)]="",this.player[t(311)]&&(this[t(627)][t(311)][t(436)][t(346)](t(571)),this.player[t(311)][t(436)][t(346)](t(508))),this[t(627)][t(632)](t(379),t(652))}get[Iy(673)](){const t=Iy;return!this[t(591)].$poster&&(this[t(591)][t(673)]=this.player[t(311)]&&this[t(627)].$container.querySelector(t(376))),this.$domMap[t(673)]}get[Iy(554)](){const t=Iy;return!this[t(591)][t(554)]&&(this[t(591)][t(554)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(630))),this.$domMap[t(554)]}get[Iy(514)](){const t=Iy;return!this[t(591)].$loadingBgImage&&(this.$domMap[t(514)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(559))),this[t(591)][t(514)]}get[Iy(333)](){const t=Iy;return!this[t(591)][t(333)]&&(this[t(591)].$loading=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](".jb-pro-loading")),this[t(591)][t(333)]}get $loadingText(){const t=Iy;return!this[t(591)].$loadingText&&(this.$domMap[t(621)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](t(320))),this[t(591)][t(621)]}get[Iy(540)](){const t=Iy;return!this[t(591)][t(540)]&&(this[t(591)][t(540)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(612))),this[t(591)].$play}get[Iy(319)](){const t=Iy;return!this[t(591)][t(319)]&&(this[t(591)][t(319)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(361))),this[t(591)][t(319)]}get[Iy(375)](){const t=Iy;return!this[t(591)][t(375)]&&(this[t(591)].$recording=this.player[t(311)]&&this.player.$container[t(331)](t(649))),this[t(591)][t(375)]}get[Iy(355)](){const t=Iy;return!this[t(591)][t(355)]&&(this[t(591)][t(355)]=this.player.$container&&this.player[t(311)].querySelector(t(596))),this[t(591)].$recordingTime}get[Iy(633)](){const t=Iy;return!this[t(591)][t(633)]&&(this[t(591)][t(633)]=this.player[t(311)]&&this[t(627)][t(311)].querySelector(t(613))),this[t(591)].$recordingStop}get[Iy(657)](){const t=Iy;return!this[t(591)][t(657)]&&(this.$domMap[t(657)]=this[t(627)][t(311)]&&this.player.$container.querySelector(t(390))),this[t(591)].$pause}get[Iy(395)](){const t=Iy;return!this[t(591)].$controls&&(this.$domMap.$controls=this.player[t(311)]&&this.player[t(311)][t(331)](t(336))),this[t(591)][t(395)]}get $controlsInner(){const t=Iy;return!this[t(591)][t(662)]&&(this[t(591)][t(662)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(288))),this.$domMap[t(662)]}get[Iy(519)](){const t=Iy;return!this.$domMap.$controlsLeft&&(this[t(591)][t(519)]=this.player[t(311)]&&this[t(627)].$container[t(331)](".jb-pro-controls-left")),this[t(591)][t(519)]}get $controlsRight(){const t=Iy;return!this[t(591)][t(298)]&&(this.$domMap[t(298)]=this[t(627)].$container&&this[t(627)][t(311)][t(331)](t(350))),this[t(591)][t(298)]}get[Iy(370)](){const t=Iy;return!this[t(591)][t(370)]&&(this[t(591)][t(370)]=this[t(627)].$container&&this.player[t(311)][t(331)](t(582))),this[t(591)][t(370)]}get[Iy(625)](){const t=Iy;return!this[t(591)][t(625)]&&(this[t(591)].$volumePanelWrap=this[t(627)][t(311)]&&this.player.$container[t(331)](t(577))),this[t(591)][t(625)]}get $volumePanelText(){const t=Iy;return!this[t(591)][t(600)]&&(this[t(591)].$volumePanelText=this.player[t(311)]&&this.player[t(311)][t(331)](t(515))),this[t(591)][t(600)]}get[Iy(512)](){const t=Iy;return!this.$domMap[t(512)]&&(this[t(591)][t(512)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(576))),this[t(591)][t(512)]}get[Iy(351)](){const t=Iy;return!this[t(591)][t(351)]&&(this.$domMap[t(351)]=this[t(627)][t(311)]&&this.player[t(311)].querySelector(t(380))),this[t(591)].$volumeHandle}get[Iy(629)](){const t=Iy;return!this[t(591)][t(629)]&&(this.$domMap[t(629)]=this.player.$container&&this.player[t(311)].querySelector(t(429))),this[t(591)][t(629)]}get[Iy(296)](){const t=Iy;return!this[t(591)][t(296)]&&(this[t(591)][t(296)]=this.player[t(311)]&&this.player[t(311)].querySelector(t(329))),this[t(591)][t(296)]}get[Iy(510)](){const t=Iy;return!this.$domMap[t(510)]&&(this[t(591)][t(510)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(371))),this.$domMap[t(510)]}get[Iy(441)](){const t=Iy;return!this[t(591)][t(441)]&&(this[t(591)][t(441)]=this[t(627)].$container&&this[t(627)][t(311)][t(331)](t(403))),this.$domMap.$fullscreenExit}get[Iy(616)](){const t=Iy;return!this.$domMap[t(616)]&&(this[t(591)][t(616)]=this[t(627)][t(311)]&&this.player.$container[t(331)](t(470))),this[t(591)][t(616)]}get[Iy(459)](){const t=Iy;return!this[t(591)][t(459)]&&(this[t(591)][t(459)]=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(506))),this.$domMap[t(459)]}get[Iy(498)](){const t=Iy;return!this[t(591)][t(498)]&&(this.$domMap[t(498)]=this.player[t(311)]&&this.player[t(311)][t(331)](t(505))),this.$domMap.$screenshot}get[Iy(583)](){const t=Iy;return!this[t(591)][t(583)]&&(this[t(591)][t(583)]=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(497))),this[t(591)][t(583)]}get[Iy(589)](){const t=Iy;return!this.$domMap.$controlHtml&&(this[t(591)].$controlHtml=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](".jb-pro-controls-item-html")),this[t(591)].$controlHtml}get[Iy(496)](){const t=Iy;return!this.$domMap[t(496)]&&(this[t(591)][t(496)]=this.player[t(311)]&&this.player[t(311)][t(331)](t(335))),this[t(591)][t(496)]}get[Iy(472)](){const t=Iy;return!this[t(591)].$playbackTimeInner&&(this[t(591)][t(472)]=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(669))),this[t(591)][t(472)]}get[Iy(622)](){const t=Iy;return!this[t(591)][t(622)]&&(this.$domMap[t(622)]=this[t(627)][t(311)]&&this.player.$container[t(331)](t(425))),this.$domMap[t(622)]}get[Iy(321)](){const t=Iy;return!this[t(591)][t(321)]&&(this[t(591)][t(321)]=this[t(627)][t(311)]&&this.player.$container.querySelector(t(536))),this[t(591)][t(321)]}get $playbackTimeListOne(){const t=Iy;return!this.$domMap[t(483)]&&(this.$domMap.$playbackTimeListOne=this[t(627)][t(311)]&&this[t(627)][t(311)].querySelector(".jb-pro-playback-time-one-wrap")),this.$domMap[t(483)]}get[Iy(628)](){const t=Iy;return!this[t(591)][t(628)]&&(this[t(591)].$playbackTimeListSecond=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(374))),this.$domMap[t(628)]}get[Iy(653)](){const t=Iy;return!this[t(591)][t(653)]&&(this[t(591)][t(653)]=this[t(627)].$container&&this[t(627)].$container[t(331)](t(502))),this[t(591)][t(653)]}get $playbackCurrentTimeText(){const t=Iy;return!this[t(591)][t(292)]&&(this[t(591)][t(292)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](".jb-pro-controls-playback-current-time-text")),this[t(591)][t(292)]}get[Iy(287)](){const t=Iy;return!this[t(591)][t(287)]&&(this[t(591)].$controlsPlaybackBtns=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(291))),this[t(591)][t(287)]}get[Iy(303)](){const t=Iy;return!this[t(591)][t(303)]&&(this.$domMap[t(303)]=this[t(627)].$container&&this[t(627)].$container.querySelector(t(638))),this.$domMap[t(303)]}get $playbackExpand(){const t=Iy;return!this[t(591)][t(529)]&&(this[t(591)][t(529)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(339))),this[t(591)].$playbackExpand}get $ptz(){const t=Iy;return!this.$domMap[t(522)]&&(this[t(591)][t(522)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](".jb-pro-ptz")),this[t(591)].$ptz}get[Iy(500)](){const t=Iy;return!this[t(591)][t(500)]&&(this[t(591)].$ptzActive=this.player[t(311)]&&this[t(627)][t(311)].querySelector(t(306))),this.$domMap[t(500)]}get[Iy(494)](){const t=Iy;return!this.$domMap[t(494)]&&(this[t(591)].$ptzControl=this.player.$container&&this[t(627)].$container[t(331)](t(406))),this[t(591)][t(494)]}get[Iy(297)](){const t=Iy;return!this.$domMap.$ptzBgActive&&(this[t(591)][t(297)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(647))),this[t(591)][t(297)]}get[Iy(325)](){const t=Iy;return!this[t(591)][t(325)]&&(this[t(591)][t(325)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(484))),this[t(591)].$ptzControlCircular}get $ptzArrows(){const t=Iy;return!this[t(591)].$ptzArrows&&(this[t(591)][t(454)]=this[t(627)][t(311)]&&this[t(627)][t(311)].querySelectorAll(t(563))),this.$domMap[t(454)]}get[Iy(330)](){const t=Iy;return!this[t(591)][t(330)]&&(this[t(591)][t(330)]=this.player[t(311)]&&this.player.$container[t(331)](".jb-pro-ptz-expand")),this[t(591)].$ptzExpand}get $ptzNarrow(){const t=Iy;return!this[t(591)][t(504)]&&(this[t(591)].$ptzNarrow=this.player[t(311)]&&this.player[t(311)].querySelector(t(567))),this[t(591)][t(504)]}get $ptzApertureFar(){const t=Iy;return!this[t(591)][t(418)]&&(this.$domMap[t(418)]=this[t(627)].$container&&this.player[t(311)][t(331)](t(479))),this[t(591)][t(418)]}get[Iy(565)](){const t=Iy;return!this[t(591)][t(565)]&&(this[t(591)][t(565)]=this[t(627)].$container&&this[t(627)][t(311)][t(331)](".jb-pro-ptz-aperture-near")),this[t(591)][t(565)]}get[Iy(415)](){const t=Iy;return!this[t(591)][t(415)]&&(this[t(591)].$ptzFocusFar=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(402))),this.$domMap[t(415)]}get[Iy(623)](){const t=Iy;return!this[t(591)][t(623)]&&(this[t(591)].$ptzFocusNear=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(639))),this.$domMap[t(623)]}get[Iy(477)](){const t=Iy;return!this.$domMap[t(477)]&&(this[t(591)][t(477)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](t(440))),this[t(591)][t(477)]}get[Iy(382)](){const t=Iy;return!this[t(591)][t(382)]&&(this[t(591)][t(382)]=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(646))),this.$domMap[t(382)]}get $ptzFogOpen(){const t=Iy;return!this[t(591)][t(481)]&&(this[t(591)][t(481)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(435))),this[t(591)].$ptzFogOpen}get[Iy(340)](){const t=Iy;return!this[t(591)][t(340)]&&(this[t(591)][t(340)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(401))),this.$domMap[t(340)]}get[Iy(334)](){const t=Iy;return!this.$domMap[t(334)]&&(this[t(591)][t(334)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](t(593))),this.$domMap[t(334)]}get $ptzWiperClose(){const t=Iy;return!this[t(591)][t(601)]&&(this[t(591)][t(601)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(442))),this.$domMap[t(601)]}get[Iy(486)](){const t=Iy;return!this.$domMap[t(486)]&&(this.$domMap[t(486)]=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(447))),this[t(591)][t(486)]}get $qualityMenu(){const t=Iy;return!this[t(591)][t(316)]&&(this[t(591)][t(316)]=this.player.$container&&this.player[t(311)][t(331)](t(437))),this[t(591)][t(316)]}get[Iy(349)](){const t=Iy;return!this[t(591)][t(349)]&&(this[t(591)][t(349)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(343))),this[t(591)][t(349)]}get[Iy(413)](){const t=Iy;return!this[t(591)][t(413)]&&(this.$domMap[t(413)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](t(312))),this[t(591)][t(413)]}get[Iy(626)](){const t=Iy;return!this[t(591)].$scaleMenu&&(this.$domMap[t(626)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(573))),this.$domMap[t(626)]}get[Iy(463)](){const t=Iy;return!this.$domMap[t(463)]&&(this[t(591)][t(463)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(427))),this.$domMap.$scaleMenuList}get $zoom(){const t=Iy;return!this[t(591)][t(569)]&&(this.$domMap.$zoom=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(655))),this[t(591)][t(569)]}get[Iy(369)](){const t=Iy;return!this[t(591)][t(369)]&&(this[t(591)].$zoomStop=this.player[t(311)]&&this.player[t(311)][t(331)](t(468))),this[t(591)][t(369)]}get[Iy(532)](){const t=Iy;return!this[t(591)][t(532)]&&(this.$domMap.$zoomNarrow=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](".jb-pro-zoom-narrow")),this[t(591)].$zoomNarrow}get[Iy(595)](){const t=Iy;return!this[t(591)][t(595)]&&(this.$domMap[t(595)]=this.player[t(311)]&&this[t(627)][t(311)][t(331)](".jb-pro-zoom-expand")),this[t(591)].$zoomExpand}get[Iy(414)](){const t=Iy;return!this[t(591)][t(414)]&&(this[t(591)].$zoomStop2=this[t(627)][t(311)]&&this[t(627)][t(311)].querySelector(t(575))),this[t(591)][t(414)]}get[Iy(537)](){const t=Iy;return!this[t(591)][t(537)]&&(this.$domMap.$close=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(545))),this.$domMap.$close}get $zoomControls(){const t=Iy;return!this[t(591)][t(670)]&&(this[t(591)][t(670)]=this.player[t(311)]&&this[t(627)].$container[t(331)](t(672))),this.$domMap[t(670)]}get $performancePanel(){const t=Iy;return!this.$domMap[t(373)]&&(this[t(591)][t(373)]=this[t(627)].$container&&this[t(627)][t(311)].querySelector(t(368))),this.$domMap[t(373)]}get $performancePanelBtn1(){const t=Iy;return!this[t(591)][t(525)]&&(this[t(591)][t(525)]=this.player[t(311)]&&this[t(627)].$container[t(331)](".jb-pro-performance-panel-tab-btn1")),this[t(591)][t(525)]}get[Iy(409)](){const t=Iy;return!this.$domMap[t(409)]&&(this[t(591)][t(409)]=this.player[t(311)]&&this[t(627)][t(311)].querySelector(t(412))),this.$domMap.$performancePanelBtn2}get $performancePanelInfo1(){const t=Iy;return!this[t(591)][t(408)]&&(this[t(591)][t(408)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(671))),this.$domMap[t(408)]}get $performancePanelInfo2(){const t=Iy;return!this.$domMap.$performancePanelInfo2&&(this[t(591)][t(586)]=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(342))),this.$domMap[t(586)]}get[Iy(666)](){const t=Iy;return!this[t(591)].$performance&&(this[t(591)][t(666)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(480))),this.$domMap.$performance}get[Iy(624)](){const t=Iy;return!this[t(591)][t(624)]&&(this[t(591)][t(624)]=this[t(627)][t(311)]&&this[t(627)].$container.querySelector(t(458))),this[t(591)][t(624)]}get[Iy(667)](){const t=Iy;return!this[t(591)][t(667)]&&(this[t(591)][t(667)]=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(546))),this[t(591)][t(667)]}get $faceDetectActive(){const t=Iy;return!this.$domMap[t(381)]&&(this[t(591)][t(381)]=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(588))),this.$domMap[t(381)]}get[Iy(404)](){const t=Iy;return!this[t(591)][t(404)]&&(this[t(591)][t(404)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(299))),this[t(591)][t(404)]}get[Iy(434)](){const t=Iy;return!this[t(591)][t(434)]&&(this[t(591)].$objectDetectActive=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(566))),this[t(591)][t(434)]}get[Iy(533)](){const t=Iy;return!this[t(591)][t(533)]&&(this.$domMap[t(533)]=this[t(627)][t(311)]&&this.player[t(311)].querySelector(t(332))),this[t(591)][t(533)]}get[Iy(462)](){const t=Iy;return!this[t(591)][t(462)]&&(this[t(591)][t(462)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(564))),this[t(591)][t(462)]}get $contextmenus(){const t=Iy;return!this[t(591)][t(549)]&&(this[t(591)][t(549)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(517))),this[t(591)][t(549)]}get[Iy(428)](){const t=Iy;return!this.$domMap[t(428)]&&(this[t(591)][t(428)]=this[t(627)].$container&&this[t(627)][t(311)][t(331)](".jb-pro-speed-icon-text")),this.$domMap[t(428)]}get[Iy(615)](){const t=Iy;return!this[t(591)][t(615)]&&(this[t(591)][t(615)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(293))),this[t(591)][t(615)]}get[Iy(444)](){const t=Iy;return!this[t(591)][t(444)]&&(this.$domMap[t(444)]=this.player[t(311)]&&this[t(627)].$container[t(331)](t(377))),this.$domMap[t(444)]}get[Iy(452)](){const t=Iy;return!this[t(591)][t(452)]&&(this[t(591)].$logSave=this[t(627)].$container&&this[t(627)][t(311)][t(331)](t(424))),this[t(591)].$logSave}get[Iy(353)](){const t=Iy;return!this[t(591)].$playbackProgress&&(this[t(591)][t(353)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(604))),this[t(591)][t(353)]}get[Iy(453)](){const t=Iy;return!this[t(591)].$playbackProgressTip&&(this[t(591)][t(453)]=this.player.$container&&this.player.$container[t(331)](t(283))),this.$domMap[t(453)]}get $playbackProgressHover(){const t=Iy;return!this[t(591)].$playbackProgressHover&&(this[t(591)][t(511)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(651))),this[t(591)][t(511)]}get[Iy(383)](){const t=Iy;return!this[t(591)][t(383)]&&(this.$domMap[t(383)]=this[t(627)][t(311)]&&this.player.$container[t(331)](t(548))),this[t(591)].$playbackProgressPlayed}get $playbackProgressCache(){const t=Iy;return!this[t(591)].$playbackProgressCache&&(this[t(591)].$playbackProgressCache=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](t(289))),this.$domMap[t(491)]}get $playbackProgressIndicator(){const t=Iy;return!this[t(591)][t(585)]&&(this[t(591)][t(585)]=this[t(627)][t(311)]&&this.player[t(311)][t(331)](t(488))),this[t(591)][t(585)]}get $playbackProgressTime(){const t=Iy;return!this.$domMap[t(363)]&&(this[t(591)].$playbackProgressTime=this[t(627)][t(311)]&&this.player.$container[t(331)](t(542))),this[t(591)][t(363)]}get[Iy(426)](){const t=Iy;return!this[t(591)][t(426)]&&(this[t(591)][t(426)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(362))),this[t(591)][t(426)]}get[Iy(328)](){const t=Iy;return!this[t(591)][t(328)]&&(this[t(591)][t(328)]=this[t(627)][t(311)]&&this[t(627)].$container[t(331)](".jb-pro-tips-message-close")),this[t(591)].$tipsMessageClose}get[Iy(397)](){const t=Iy;return!this[t(591)].$tipsMessageContent&&(this[t(591)].$tipsMessageContent=this.player[t(311)]&&this[t(627)][t(311)][t(331)](".jb-pro-tips-message-content")),this.$domMap[t(397)]}get[Iy(432)](){const t=Iy;return!this[t(591)][t(432)]&&(this[t(591)][t(432)]=this[t(627)][t(311)]&&this[t(627)][t(311)][t(331)](t(417))),this[t(591)].$extendDom}get[Iy(302)](){const t=Iy;return!this[t(591)][t(302)]&&(this[t(591)][t(302)]=this.player[t(311)]&&this[t(627)][t(311)][t(301)](t(466))),this.$domMap[t(302)]}get[Iy(599)](){const t=Iy;return!this.$domMap[t(599)]&&(this[t(591)][t(599)]=this[t(627)][t(311)]&&this.player[t(311)][t(301)](t(644))),this[t(591)].$scaleMenuItems}get $speedMenuItems(){const t=Iy;return!this[t(591)][t(419)]&&(this.$domMap[t(419)]=this[t(627)][t(311)]&&this[t(627)][t(311)].querySelectorAll(t(300))),this[t(591)][t(419)]}get[Iy(372)](){const t=Iy;return this[t(395)]&&this.$controls[t(474)]()||{width:0,height:0}}get[Iy(543)](){const t=Iy;return this[t(662)]&&this[t(662)][t(474)]()||{width:0,height:0}}get[Iy(385)](){const t=Iy;return this[t(519)]&&this[t(519)][t(474)]()||{width:0,height:0}}get[Iy(661)](){const t=Iy;return this[t(298)]&&this[t(298)][t(474)]()||{width:0,height:0}}get[Iy(584)](){const t=Iy;return this[t(472)]&&this[t(472)][t(474)]()||{width:0,height:0}}get controlsPlaybackBtnsRect(){const t=Iy;return this.$controlsPlaybackBtns&&this.$controlsPlaybackBtns[t(474)]()||{width:0,height:0}}getBtnIndex(){return this[Iy(286)]++}[Iy(531)](){const t=Iy,e=this[t(627)];e[t(311)][t(598)][t(322)]="0 0";const s=e[t(503)],i=e[t(618)],r=s/i,n=e.video[t(547)].width/e.video.$videoElement[t(618)];if(r>n){const r=(s-i*n)/2;e[t(311)].style[t(322)]="0 "+r+"px"}else{const r=(i-s/n)/2;e[t(311)].style[t(322)]=r+"px 0"}}[Iy(603)](){const t=Iy,e=this[t(627)];e[t(344)][t(443)]&&e[t(344)][t(501)]&&e[t(344)][t(590)]&&(e.debugLog(this[t(284)],t(324)),this.player[t(344)][t(315)]===t(305)||fs()?e.getRenderType()===A[t(668)]?this[t(526)]():e[t(560)]()===A[t(637)]&&this._initLoadingBackgroundForVideo():this[t(574)](),Cn(this[t(554)],t(489),t(354)),e[t(344)][t(443)]="")}resizeLoadingBackground(){const t=Iy,e=this.$loadingBgImage;e&&e[t(411)]&&e.width>0&&e[t(618)]>0&&os(this.$loadingBg,t(489),!1)!==t(538)&&(this.player.debugLog(this[t(284)],"resizeLoadingBackground()"),this.player[t(344)][t(315)]===t(305)||fs()?this[t(627)][t(560)]()===A[t(668)]?this._initLoadingBackgroundForCanvas():this[t(627)][t(560)]()===A[t(637)]&&this[t(359)]():this[t(574)]())}[Iy(391)](t){const e=Iy,s=this[e(627)][e(311)][e(331)](".jb-pro-icon-loading");s&&(t[e(503)]&&Cn(s,e(503),t[e(503)]+"px"),t[e(618)]&&Cn(s,e(618),t[e(618)]+"px"),t[e(469)]&&Cn(s,"backgroundImage",'url("'+t.background+'")'),!1===t[e(530)]&&(Cn(s,e(572),e(538)),Cn(s,e(457),0),Cn(s,"animationTimingFunction","ease"),Cn(s,e(541),1)))}[Iy(574)](){const t=Iy,e=this.player._opt[t(315)][t(492)](":")[t(581)](Number),s=this[t(627)][t(606)](),i=this[t(627)][t(592)](),r=s[t(503)],n=s[t(618)],o=this[t(514)],a={width:this[t(627)][t(344)].loadingBackgroundWidth,height:this[t(627)][t(344)][t(590)]},h=a[t(503)]/a.height,l=e[0]/e[1];if(this.player[t(344)][t(443)]&&(o.src=this[t(627)]._opt[t(443)]),h>l){const e=l*a[t(618)]/a[t(503)];o[t(598)][t(503)]=100*e+"%",o[t(598)].height="calc(100% - "+i+"px)",o[t(598)].padding="0 "+(r-r*e)/2+"px"}else{const e=a[t(503)]/l/a.height;o[t(598)].width=t(430),o[t(598)][t(618)]=t(358)+100*e+t(393)+i+t(384),o[t(598)][t(322)]=(n-n*e)/2+"px 0"}}[Iy(526)](){const t=Iy,e=this[t(627)],s=e._opt,i=e[t(606)](),r=i[t(618)],n=i[t(503)],o=this.$loadingBgImage,a={width:this[t(627)][t(344)][t(501)],height:this[t(627)]._opt[t(590)]};let h=a[t(503)],l=a[t(618)];const c=s[t(608)];let d=(n-h)/2,u=(r-l)/2;(270===c||90===c)&&(h=a[t(618)],l=a[t(503)]);const p=n/h,f=r/l;let m=p>f?f:p;Ri(s[t(431)])&&p!==f&&(m=p+","+f),s[t(578)]&&(m=p>f?p:f);let g=t(278)+m+")";s.mirrorRotate===t(538)&&c&&(g+=t(467)+c+t(631)),"level"===s[t(645)]?g+=t(341):"vertical"===s[t(645)]&&(g+=" rotateX(180deg)"),o[t(503)]=a.width,o.height=a[t(618)],e[t(344)][t(443)]&&(o.src=e[t(344)][t(443)]),o.style[t(322)]="0",o.style[t(400)]=g,o[t(598)][t(524)]=d+"px",o[t(598)][t(450)]=u+"px"}[Iy(359)](){const t=Iy,e=this.player,s=e[t(344)],i=e[t(606)](),r=i.width,n=i[t(618)];let o=i[t(503)],a=i.height;const h=s.rotate,l=this[t(514)];(270===h||90===h)&&(o=n,a=r),l[t(503)]=o,l[t(618)]=a,e[t(344)][t(443)]&&(l[t(411)]=e._opt[t(443)]);let c=(r-o)/2,d=(n-a)/2,u=t(665);!s[t(431)]&&(u=t(568)),s[t(578)]&&(u=t(538));let p="";s[t(645)]===t(538)&&h&&(p+=t(467)+h+"deg)"),s[t(645)]===t(659)?p+=t(341):s[t(645)]===t(389)&&(p+=" rotateX(180deg)"),this[t(627)]._opt[t(534)]&&(l[t(598)][t(485)]=u),l[t(598)][t(400)]=p,l[t(598)][t(322)]="0",l[t(598)].left=c+"px",l.style[t(450)]=d+"px"}_validateExtendBtn(t){const e=Iy;let s=!0;if(!t.name&&(this.player[e(465)](e(379),e(562)),s=!1),s){-1!==this[e(399)][e(295)]((s=>s[e(620)]===t.name))&&(this[e(627)][e(465)](e(379),e(523)+t[e(620)]+e(516)),s=!1)}return s&&!t[e(279)]&&(this[e(627)][e(465)]("Control","extend button icon is required"),s=!1),s}[Iy(539)](){const t=Iy;let e=arguments[t(663)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=Ii(_t);if(e=Object[t(520)]({},s,e),!this[t(610)](e))return;const i=e[t(620)]||"",r=this[t(298)],n=e.createdMoment||te[t(438)],o=e[t(482)]&&e.activeClick,a=t(310)+i+t(521)+(e.icon?t(448)+i+'">\n                                <i class="jb-pro-icon jb-pro-icon-extend-'+i+t(656)+(e.iconTitle?'\n                                            <span class="icon-title-tips"><span class="icon-title">'+e.iconTitle+t(318):"")+t(509):"")+t(317)+(e[t(482)]?t(448)+i+'-active">\n                                <i class="jb-pro-icon jb-pro-icon-extend-'+i+'-active"></i>\n                                '+(e.activeIconTitle?t(345)+e[t(614)]+"</span></span>\n                                            ":"")+t(364):"")+"\n               </div>\n            ",h=Array[t(650)](r[t(314)])[e[t(439)]];h?h[t(464)](t(475),a):kn(r,a);const l=r.querySelector(t(570)+i),c=e[t(279)]?r[t(331)](t(580)+i):null,d=e.icon?r[t(331)](t(478)+i):null,u=e[t(482)]?r[t(331)](t(580)+i+"-active"):null,p=e.activeIcon?r.querySelector(t(478)+i+t(658)):null,{events:{proxy:f}}=this[t(627)];e[t(279)]&&(Cn(c,t(469),"url("+e[t(279)]+t(420)),Cn(c,t(553),t(421)),n===te[t(664)]?Cn(d,"display","flex"):Cn(d,t(489),"none"),e[t(446)]&&(f(c,t(640),(()=>{const s=t;Cn(c,s(469),s(360)+e.iconHover+s(420)),Cn(c,s(553),s(421))})),f(c,t(326),(()=>{const s=t;Cn(c,"background",s(360)+e[s(279)]+") no-repeat center"),Cn(c,"background-size","100% 100%")})))),e[t(482)]&&(Cn(u,"background","url("+e[t(482)]+t(420)),Cn(u,"background-size","100% 100%"),Cn(p,t(489),t(538)),e[t(416)]&&(f(u,"mouseover",(()=>{const s=t;Cn(u,s(469),s(360)+e[s(416)]+s(420)),Cn(u,s(553),"100% 100%")})),f(u,t(326),(()=>{const s=t;Cn(u,s(469),s(360)+e.activeIcon+s(420)),Cn(u,s(553),"100% 100%")})))),e[t(308)]&&c&&f(c,"click",(s=>{const i=t;s[i(309)](),o&&(Cn(d,"display",i(538)),Cn(p,i(489),i(594))),this[i(627)].isInMulti()?e.click[i(607)](this[i(627)],s,this[i(627)][i(344)][i(460)]):e.click[i(607)](this[i(627)],s)})),e[t(471)]&&u&&f(u,t(308),(s=>{const i=t;s.preventDefault(),Cn(d,i(489),i(594)),Cn(p,i(489),i(538)),this[i(627)].isInMulti()?e[i(471)][i(607)](this[i(627)],s,this[i(627)][i(344)].multiIndex):e[i(471)][i(607)](this[i(627)],s)})),this[t(399)].push({name:i,createdMoment:n,$iconContainer:l,$iconWrap:d,$activeIconWrap:p})}[Iy(513)](t,e){const s=Iy,i=this[s(399)][s(356)]((e=>e[s(620)]===t));i&&i[s(636)]&&i[s(552)]&&(!Ns(e)&&(e=os(i[s(636)],s(489),!1)===s(538)),e?(Cn(i[s(552)],s(489),s(538)),Cn(i[s(636)],"display",s(594))):(Cn(i.$iconWrap,s(489),s(594)),Cn(i[s(636)],s(489),s(538))))}[Iy(307)](t){const e=Iy,s=this.extendBtnList[e(356)]((s=>s[e(620)]===t));let i=!1;return s&&s[e(636)]&&(i=os(s[e(636)],e(489),!1)!==e(538)),i}addExtendDom(t){const e=Iy;if(t.html){const s=e(642)+t[e(597)]+e(495);this[e(627)].$container.insertAdjacentHTML(e(555),s),t[e(352)]&&Cn(this[e(432)],e(489),"block")}}[Iy(290)](t){const e=Iy;this.$extendDom&&(!Ns(t)&&(t=os(this[e(432)],e(489),!1)===e(538)),t?Cn(this[e(432)],e(489),e(354)):Cn(this.$extendDom,"display",e(538)))}[Iy(461)](t){const e=Iy;this[e(432)]&&(this.$extendDom[e(449)]=t)}[Iy(386)](){const t=Iy;this[t(432)]&&(this[t(432)].innerHTML="")}[Iy(313)](t){const e=Iy;this.$loadingText&&(this[e(621)][e(635)]=t)}getExtendBtnList(){return this[Iy(399)]}[Iy(557)](t,e){const s=Iy,i=this[s(426)],r=this[s(397)];if(!t&&(t=this[s(627)][s(344)][s(323)][e]||""),i){const n=s(285)+t+"</div>\n            "+(e?s(337)+e+s(365):"")+s(422);r[s(449)]=n,Cn(i,"display","block")}}[Iy(387)](){const t=Iy,e=this.$tipsMessage,s=this[t(397)];e&&(s[t(449)]="",Cn(e,t(489),t(538)))}[Iy(388)](t){const e=Iy,s=this[e(494)];if(ti(t)&&s){let i=e(535);t[e(524)]&&(i=Number(t[e(524)])===t[e(524)]?t[e(524)]+"px":t[e(524)]),Cn(s,e(524),i);let r=e(535);t[e(450)]&&(r=Number(t[e(450)])===t[e(450)]?t[e(450)]+"px":t[e(450)]),Cn(s,e(450),r);let n=e(535);t[e(281)]&&(n=Number(t[e(281)])===t[e(281)]?t.bottom+"px":t.bottom),Cn(s,e(281),n);let o=e(535);t[e(407)]&&(o=Number(t.right)===t.right?t.right+"px":t[e(407)]),Cn(s,e(407),o)}}showPlayBtn(){const t=Iy;Cn(this[t(319)],t(489),t(354))}showLoadingIcon(){const t=Iy;Cn(this[t(333)],t(489),t(594))}[Iy(643)](t){const e=Iy;this[e(395)]&&(!Ns(t)&&(t=os(this.$controls,"display",!1)===e(538)),t?Cn(this[e(395)],e(489),"flex"):Cn(this[e(395)],"display","none"))}[Iy(558)](){const t=Iy;let e=!1;return this[t(395)]&&(e="none"!==os(this[t(395)],"display",!1)),e}[Iy(366)](t){const e=Iy;this[e(589)]&&(!Ns(t)&&(t=os(this.$controlHtml,e(489),!1)===e(538)),t?Cn(this.$controlHtml,e(489),"block"):Cn(this[e(589)],e(489),e(538)))}[Iy(587)](){const t=Iy;let e=!1;return this.$controlHtml&&(e=os(this[t(589)],"display",!1)!==t(538)),e}[Iy(294)](){const t=Iy;let e=!1;return this[t(432)]&&(e=os(this.$extendDom,t(489),!1)!==t(538)),e}[Iy(556)](){const t=Iy;return this[t(432)]?this[t(432)]:null}[Iy(499)](){const t=Iy;return this[t(589)]?this[t(589)]:null}[Iy(394)](){const t=Iy;if(this[t(395)]){const e=this.player[t(344)][t(654)],s=t(619);e===w[t(609)]?Ri(In(this[t(395)],s))&&En(this[t(395)],s):e===w[t(527)]&&In(this[t(395)],s)&&Tn(this.$controls,s)}}}function Dy(){const t=["visible","playing","63171GKunuV","872baTFeI","isFocus","video","visibilitychange","preventDefault","contextmenu","855690HwrQSC","inView","3EvRkum","debugLog","isInput","116yvdswi","_isPlayingBeforePageHidden","visibilityState","tagName","22760243JfkyeZ","$container","visibility","emit","hiddenAutoPause","8618281IPAHNV","scroll","supportDblclickFullscreen","target","onchange","fullscreen","isCheckInView","orientationchange","click","14834nlDOoI","5857084VymsfQ","focus","canvas","nodeName","6311610aWmWPa","12xvmEvU","dblclick","orientation","_opt","25ebDRSj","play","type","isInView","blur","hiddenAutoPause is true ","disableContextmenu"];return(Dy=function(){return t})()}function Ry(t,e){const s=Dy();return(Ry=function(t,e){return s[t-=472]})(t,e)}wy(".jb-pro-container{position:relative;width:100%;height:100%;overflow:hidden}.jb-pro-container.jb-pro-fullscreen-web{position:fixed;z-index:9999;left:0;top:0;right:0;bottom:0;width:100vw!important;height:100vh!important;background:#000}.jb-pro-container .jb-pro-loading-bg-for-ios{position:absolute;z-index:100;left:0;top:0;right:0;bottom:0;height:100%;width:100%;opacity:0;visibility:hidden;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jb-pro-container .jb-pro-loading-bg-for-ios.show{opacity:1;visibility:visible}"),function(t,e){const s=Ry,i=t();for(;;)try{if(862664===parseInt(s(486))/1*(-parseInt(s(517))/2)+-parseInt(s(514))/3*(-parseInt(s(487))/4)+-parseInt(s(496))/5*(parseInt(s(512))/6)+-parseInt(s(477))/7+parseInt(s(506))/8*(parseInt(s(505))/9)+-parseInt(s(491))/10+parseInt(s(472))/11*(parseInt(s(492))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Dy);const Ly=My;function Py(){const t=["5148BHFxOF","dinf","stsd","221586ISXPCC","minf","hvc1","STTS","VMHD","mvex","FTYP","codecHeight","hvcC","STSD_PREFIX","videoType","mdhd","STSC","avc1","dependsOn","94056DtaSFW","charCodeAt","mdat","hasRedundancy","set","SMHD","slice","types","trex","cts","moof","mp4a","presentWidth","box","5VCFDiQ","trun","duration","HDLR_VIDEO","isDependedOn","codecWidth","avc","init","HDLR_AUDIO","avcC","vmhd","tfhd","167730pZsqDD","smhd","2622970KeGbpn","hasOwnProperty","isLeading","avcc","channelCount","mfhd","size","stsz","presentHeight","hdlr","length","tkhd","timescale","constants","STSZ","generateInitSegment","config","mdia","DREF","moov","concat","type","mvhd","sdtp","byteLength","stco","STCO","6026440zKIWEj","trak","stsc",".mp3","call","traf","audio","prototype","stbl","esds","602204HqRApi","mp3"];return(Py=function(){return t})()}!function(t,e){const s=My,i=t();for(;;)try{if(205480===-parseInt(s(341))/1+-parseInt(s(356))/2+-parseInt(s(297))/3+-parseInt(s(336))/4*(-parseInt(s(285))/5)+parseInt(s(338))/6+-parseInt(s(299))/7+parseInt(s(326))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Py);class xy{static[Ly(292)](){const t=Ly;xy[t(278)]={avc1:[],avcC:[],hvc1:[],hvcC:[],av01:[],av1C:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[]};for(let e in xy.types)xy[t(278)][t(300)](e)&&(xy.types[e]=[e[t(272)](0),e[t(272)](1),e.charCodeAt(2),e.charCodeAt(3)]);let e=xy[t(312)]={};e[t(347)]=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e[t(350)]=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e[t(325)]=e[t(344)],e[t(313)]=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e[t(288)]=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e[t(293)]=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e[t(317)]=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e[t(276)]=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(345)]=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(t){const e=Ly;let s=8,i=null,r=Array[e(333)][e(277)][e(330)](arguments,1),n=r[e(309)];for(let t=0;t<n;t++)s+=r[t][e(323)];i=new Uint8Array(s),i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i[e(275)](t,4);let o=8;for(let t=0;t<n;t++)i[e(275)](r[t],o),o+=r[t].byteLength;return i}static[Ly(314)](t){const e=Ly;let s=xy.box(xy.types.ftyp,xy[e(312)].FTYP),i=xy[e(318)](t),r=new Uint8Array(s[e(323)]+i.byteLength);return r[e(275)](s,0),r[e(275)](i,s[e(323)]),r}static[Ly(318)](t){const e=Ly;let s=xy.mvhd(t[e(311)],t[e(287)]),i=xy[e(327)](t),r=xy[e(346)](t);return xy[e(284)](xy[e(278)][e(318)],s,i,r)}static[Ly(321)](t,e){const s=Ly;return xy.box(xy[s(278)][s(321)],new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static[Ly(327)](t){const e=Ly;return xy[e(284)](xy[e(278)][e(327)],xy[e(310)](t),xy.mdia(t))}static[Ly(310)](t){const e=Ly;let s=t.id,i=t[e(287)],r=t[e(283)],n=t[e(307)];return xy.box(xy.types[e(310)],new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,n>>>8&255,255&n,0,0]))}static mdia(t){const e=Ly;return xy[e(284)](xy[e(278)][e(316)],xy[e(352)](t),xy[e(308)](t),xy[e(342)](t))}static mdhd(t){const e=Ly;let s=t.timescale,i=t[e(287)];return xy[e(284)](xy[e(278)][e(352)],new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static[Ly(308)](t){const e=Ly;let s=null;return s=t[e(320)]===e(332)?xy[e(312)][e(293)]:xy[e(312)][e(288)],xy.box(xy[e(278)][e(308)],s)}static[Ly(342)](t){const e=Ly;let s=null;return s="audio"===t[e(320)]?xy.box(xy[e(278)][e(298)],xy[e(312)].SMHD):xy.box(xy[e(278)][e(295)],xy.constants[e(345)]),xy[e(284)](xy.types[e(342)],s,xy[e(339)](),xy[e(334)](t))}static dinf(){const t=Ly;return xy.box(xy[t(278)].dinf,xy.box(xy[t(278)].dref,xy[t(312)][t(317)]))}static[Ly(334)](t){const e=Ly;return xy[e(284)](xy[e(278)][e(334)],xy[e(340)](t),xy[e(284)](xy[e(278)].stts,xy[e(312)][e(344)]),xy[e(284)](xy.types[e(328)],xy[e(312)][e(353)]),xy[e(284)](xy[e(278)][e(306)],xy[e(312)][e(313)]),xy[e(284)](xy[e(278)][e(324)],xy[e(312)][e(325)]))}static stsd(t){const e=Ly;return t[e(320)]===e(332)?"mp3"===t.audioType?xy.box(xy.types.stsd,xy[e(312)][e(350)],xy[e(337)](t)):xy.box(xy.types[e(340)],xy[e(312)][e(350)],xy[e(282)](t)):t[e(351)]===e(291)?xy[e(284)](xy.types[e(340)],xy[e(312)][e(350)],xy[e(354)](t)):xy[e(284)](xy[e(278)][e(340)],xy[e(312)][e(350)],xy[e(343)](t))}static[Ly(337)](t){const e=Ly;let s=t[e(303)],i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return xy[e(284)](xy[e(278)][e(329)],r)}static[Ly(282)](t){const e=Ly;let s=t[e(303)],i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return xy[e(284)](xy[e(278)][e(282)],r,xy[e(335)](t))}static[Ly(335)](t){const e=Ly;let s=t[e(315)]||[],i=s[e(309)],r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(s)[e(319)]([6,1,2]));return xy.box(xy[e(278)][e(335)],r)}static[Ly(354)](t){const e=Ly;let s=t[e(302)];const i=t[e(290)],r=t[e(348)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return xy.box(xy[e(278)][e(354)],n,xy[e(284)](xy[e(278)][e(294)],s))}static hvc1(t){const e=Ly;let s=t[e(302)];const i=t[e(290)],r=t[e(348)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return xy[e(284)](xy.types[e(343)],n,xy[e(284)](xy.types[e(349)],s))}static mvex(t){const e=Ly;return xy[e(284)](xy.types[e(346)],xy[e(279)](t))}static[Ly(279)](t){const e=Ly;let s=t.id,i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return xy[e(284)](xy[e(278)].trex,i)}static[Ly(281)](t,e){const s=Ly;return xy.box(xy.types.moof,xy[s(304)](t.sequenceNumber),xy[s(331)](t,e))}static[Ly(304)](t){const e=Ly;let s=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return xy[e(284)](xy[e(278)][e(304)],s)}static[Ly(331)](t,e){const s=Ly;let i=t.id,r=xy[s(284)](xy[s(278)][s(296)],new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),n=xy[s(284)](xy.types.tfdt,new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),o=xy.sdtp(t),a=xy[s(286)](t,o.byteLength+16+16+8+16+8+8);return xy[s(284)](xy.types.traf,r,n,a,o)}static sdtp(t){const e=Ly;let s=new Uint8Array(5),i=t.flags;return s[4]=i[e(301)]<<6|i[e(355)]<<4|i[e(289)]<<2|i.hasRedundancy,xy.box(xy[e(278)][e(322)],s)}static trun(t,e){const s=Ly;let i=new Uint8Array(28);e+=36,i[s(275)]([0,0,15,1,0,0,0,1,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);let r=t[s(287)],n=t[s(305)],o=t.flags,a=t[s(280)];return i[s(275)]([r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,o[s(301)]<<2|o[s(355)],o.isDependedOn<<6|o[s(274)]<<4|o.isNonSync,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12),xy.box(xy[s(278)][s(286)],i)}static mdat(t){const e=Ly;return xy[e(284)](xy[e(278)][e(273)],t)}}function My(t,e){const s=Py();return(My=function(t,e){return s[t-=272]})(t,e)}xy[Ly(292)]();const By=Uy;function Fy(){const t=["events","debugError","mseAutoCleanupMaxBackwardDuration","\n        and current time is ","type","isStateOpen","mseSourceEndStreaming","mediaSourceH265NotSupport","mdat","initCanvasViewSize","_times","_useManagedMediaSource","recordType"," and\n                $videoElement ts is ","checkMSESourceBufferDelay ","decodeVideo","video canplay and use canvas render and fps is 25"," and message is ","_decodeVideo now time is ","types","stringify","eventListenList","updateVideoCurrentTimeByBufferStart current time is ","videoSourceBuffer updateend and hasPendingEos is true, next endOfStream()","\n                    decodeVideo dts is less than(or equal) prev dts ,\n                    dts is ","_decodeConfigurationRecord","loadedmetadata","appendAudioBuffer() player is destroyed","_checkTsIsMaxDiff","decodeAudio\n                     local dts is < 0 , ts is ","appendBuffer() this.mediaSourceAppendBufferFull is true","_stopCanvasRender"," and this.isAvc === null is ","code","removeSourceBuffer() audioSourceBuffer","then","8247IndDNL"," and return","_decodeVideo","clearUpAllSourceBuffer"," and fps is ","requestVideoFrameCallback","playbackPause","isInitInfo","timescale","205252GDWAWd","mediaSourceAppendBufferFull","mseAddSourceBufferError","mediaSourceAddSourceBufferError","appendAudioBuffer() this.mediaSourceAppendBufferError is true","code is ","URL","_resetInIt","sourceClose","decodeVideo and payload is video sequence header so drop this frame","appendAudioBuffer() this.mediaSourceAppendBufferFull is true","ManagedMediaSource endstreaming","checkVideoPlayCurrentTime","canplay","updating","removeBuffer() sourceBuffer error","visibilityChangeTimeout","mediaSourceFull","OPUS","prevDts","decodeVideo is max diff , ts is ","prevDuration","end","getLastBufferDelayEndTime","getDecodePlaybackRate","paused"," and buffer end is ","videoInfo","handleUpdatePlaybackRate and buffered is ","byteLength","pause",";codecs=","isPlayback and cacheTrack duration is ","render","mediaSourceBufferError","closed",", and cacheAudioTrack dts is "," ,currentTime is ","getVideoBufferStartTime","length","isDecodeFirstIIframe","getMseBufferMaxDelayTime","_initAudioSourceBuffer and this.isStateOpen is ","mediaSource is end","slice","dts","abortSourceBuffer","isCurrentTimeInBufferEnd"," , payload is ","ratechange and video is paused"," and diff is ","updateAudioInfo","getPendingSegmentsLength","mseSourceStartStreaming","appendBuffer","_initAudioSourceBuffer() this.mediaSource.addSourceBuffer()","_bindMediaSourceEvents","mediaSourceBufferedIsZeroError","_initAudioSourceBuffer","sequenceHeader","config","src","_opt","fps","583254DFRumj","mseSourceBufferError","abort","codecWidth","decodeStart","prevTimestamp"," ms, and cacheTrack dts is ","mediaSource is not attached to video or mediaSource is closed",", height ","mediaSourceDecoderConfigurationError","1001575mKGKPD","playback","1304289vAIBsp","_checkAudioTsIsMaxDiff","player","timeStamp","error","endOfStream()"," and end is ","audioSampleRate","emit","mseSourceOpen","appendBuffer() player is destroyed","isWidthOrHeightChanged","buffer","668PNqOvJ","mediaSourceUseCanvasRenderPlayFailed","video canplay","mpeg","h265"," and currentTime is ","flags","hasPendingEos","ratechange","getSourceBufferUpdating","this.sourceBuffer.appendBuffer()","MediaSource","muted","videoMeta","  set playbackRate is ","_doRemoveRanges","srcObject","video is paused and replay error ","isPlayStream","play","handleUpdatePlaybackRate and delay buffer is ","pendingAudioSegments","setLiveSeekableRange","removeSourceBuffer() audioSourceBuffer error"," and prevTs is ","ManagedMediaSource","audioSourceBuffer updateend and hasPendingEos is true, next endOfStream()","appendAudioBuffer() this.mediaSource.addSourceBuffer()",", old height is ","isPlayback","message","bind","destroy","_clearVisibilityChangeTimeout","checkIsInRender","_onMediaSourceSourceOpen","_isDestroyed","abortSourceBuffer() abort audioSourceBuffer","video playback Rate change","decodeLastDataForVod and cacheTrack is ","firstRenderTime is ","audioMeta","vbps","data","_needCleanupSourceBuffer","set","height","h264",",\n                    and prevPayloadBufferSize is ","appendAudioBuffer","TAG_NAME","hasAudioInit","MP3","recorder","onMediaSourceSourceOpen() sourceBuffer is null and next init","getVideoCurrentTime"," and isIframe is ","clearSourceBuffer() start is ","videoMimeType","isStateEnded","getVideoBufferEndTime","isPlayer"," and emit replay","config is not empty object and codecWidth is ","isOpus",", and ts is ","waiting"," and new time is ","updateVideoCurrentTimeByBufferStart bufferRangeList is\n        ","video canplay and requestVideoFrameCallback and use videoFrameCallback","mseUseCanvasRender","decodeLastDataForVod","_checkVideoPlayCurrentTime","handlePlayToRenderTimes"," and payload size is "," ant auto wasm decode","prevAudioTs","isSupportVideoFrameCallback","disableRemotePlayback","refSampleDuration","video","updateVideoInfo","mediaSourceError","isAAC",", diff is ","getVideoBufferTimeRange","isUseHls265","decodeVideo has not init , isIframe is ","init","abs","audioMimeType","appendBuffer() this.mediaSource.addSourceBuffer()","isAudioInitInfo","endstreaming","videoBufferDelay",", readyState: ","increaseLocalTimestamp","video play","decodeVideo\n                     local dts is < 0 , ts is ","updateVideoCurrentTimeByBufferStart bufferRangeList is empty and return","removeSourceBuffer() sourceBuffer error","pendingAudioRemoveRanges","videoFrameCallback","audioSourceNoDataCheckTimeout","_clearAudioNoDataCheckTimeout","prevAudioDts"," and prev time is ","avc","timeUpdate","initVideoEvents","audio","_initSourceBuffer","6HhBrXP","AAC","decodeAudio and has already initialized and payload is aac codec packet so drop this frame","audioSequenceNumber","mediaSourceAppendBufferError","hasInit","videoStart","updateVideoInfo: ","removeSourceBuffer","cacheTrack"," < 0 and check video is paused : ","clearSourceBuffer","_doAppendSegments() mediaSource is closed or ended and return","_stats","mediaSourceAudioG711NotSupport","push","decodeLastDataForVod cacheTrack duration is ","_decodeVideo payload bytes is 0 and return","$videoElement","size","video loadedmetadata","prevTs","supportVideoFrameCallbackHandle","\n                        decodeVideo: video width or height is changed,\n                        old width is ","checkSourceBufferDelay","removeBuffer() audioSourceBuffer error","audioSourceBuffer","audioSourceBufferCheckTimeout"," ms","firstAudioTime","mseCorrectAudioTimeDuration","mediaTime","cacheAudioTrack duration is ","getDecodeDiffTimes"," , delay buffer is more than ","shift","codecHeight","init and using ManagedMediaSource","_decodeAudioConfigurationRecord","addSourceBuffer","debugLog","mediaSource video sourceBuffer error","updateend","videoBuffer","onMediaSourceSourceOpen() audioSourceBuffer is null and next init","mseSourceBufferError this.audioSourceBuffer","state"," = "," so drop this frame"," so set currentTime to "," to ","buffered","prevPayloadBufferSize","\n                    decodeAudio dts is less than(or equal) prev dts ,\n                    dts is ","width ","firstAudioTime is ","_hasPendingRemoveRanges"," and prev dts is ","pendingRemoveRanges","decodeAudio() player is destroyed","readyState","setLiveSeekableRange start is "," and current is ","_doAppendSegments","canvasRenderInterval","isUseLocalCalculateTime","currentTime","_handleUpdatePlaybackRate","startstreaming","isDestroyedOrClosed","duration"," and set {}","cacheAudioTrack","initMetaData","_initSourceBuffer and this.isStateOpen is ","mseDecodeAudio"," cacheTrack dts is ","decodeAudio","video play error ","createElement"," and current time is ","_doAppendSegments() audioSourceBuffer is null and need init audio source buffer","mediaSourceAudioNoDataTimeout","sourceBuffer","checkSourceBufferStore","decodeVideo dts is equal to prev dts and payload size is equal to prev payload size so drop this frame","remove",",\n                        new width is ","removeSourceBuffer() sourceBuffer","1054015cbMJft","catch","sequenceNumber","max","firstRenderTime","decodeVideo first frame is not iFrame","isPlayVod","isStateClosed","getVideoBufferLastTime","appendAudioBuffer() this.mediaSourceBufferError is true",", mediaError: ","decodeDiffTimestamp","_getPlaybackRate","mseSourceClose","codec","warn","cts","mseCorrectTimeDuration","decodeAudio first frame is not iFrame"," ，\n                    and diff is ","visibilityChange is true and lastTime is ","decodeAudio is max diff , ts is ","pendingSegments"," - current is ","decodeVideo is max diff, prevTs is ","forEach","needInitAudio","getCorrectionConfiguration","bound","getVideoBufferRangeList",'video/mp4; codecs="'," and new time is null and use last buffer start time","endOfStream","mediaSource",", but not in render and vbps is ","mediaSourceObjectURL","mp4","updateVideoCurrentTimeByBufferStart","playbackRate","_hasPendingSegments","moof","decodeVideo: video width or height is changed, and return","video waiting","getAudioSourceBufferUpdating","_decodeAudio","updateStats"," and firstRenderTime is "," and ts is ","isPlaying"," and cacheAudioTrack is "," < 0 and set currentTime ","ended","cacheTrack = {} now dts is ","isVideoPlaying","decodeAudio is max diff, prevTs is ","video.buffered is empty","_clearAudioSourceBufferCheckTimeout","70DpqeYc","SourceBuffer Error - updating: ","_initSourceBuffer() this.mediaSource.addSourceBuffer()","isAvc","debugWarn",",\n                        and emit change event"," < 0, and buffered is ","mediaSourceTsIsMaxDiff","_doCleanUpSourceBuffer","cancelVideoFrameCallback","generateInitSegment","_doAppendSegments() sourceBuffer is null and wait init and return","getMimeType","handleRender"," ms, dts is ","width","mseAutoCleanupMinBackwardDuration"," and prev ts is ","start","channelCount","createObjectURL","isMSECurrentMoreThanBufferedPause","mseSourceended"," ms ,and cacheAudioTrack dts is ","appendBuffer() this.mediaSourceBufferError is true","sampleRate","video is paused and next try to replay","_handleUpdateBufferDelayTime","mseAutoCleanupSourceBuffer","checkFirstIFrame","endOfStream() error","stop","4061440uSxUQz","emitError"];return(Fy=function(){return t})()}function Uy(t,e){const s=Fy();return(Uy=function(t,e){return s[t-=128]})(t,e)}!function(t,e){const s=Uy,i=t();for(;;)try{if(545932===-parseInt(s(329))/1+parseInt(s(255))/2+parseInt(s(246))/3*(parseInt(s(344))/4)+parseInt(s(545))/5+-parseInt(s(456))/6*(parseInt(s(331))/7)+parseInt(s(208))/8+-parseInt(s(319))/9*(-parseInt(s(176))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Fy);class Oy extends h{constructor(t){const e=Uy;super(),this.TAG_NAME=e(355),this[e(333)]=t,this[e(262)](),this[e(271)]=null,this._useManagedMediaSource=e(369)in ee&&!(e(355)in ee),this[e(152)]=this[e(221)]?new(ee[e(369)]):new(ee[e(355)]),this[e(295)]=!!Ri(t._opt[e(205)]),this[e(154)]=null,!this[e(221)]&&(this[e(154)]=ee[e(261)][e(196)](this[e(152)])),this[e(421)]=Oi(),this[e(520)]=null,this[e(147)]={videoFrameCallback:this.videoFrameCallback[e(375)](this)},t[e(317)][e(414)]?(this[e(474)]=document[e(535)](e(424)),this._useManagedMediaSource?(this.$videoElement.disableRemotePlayback=!0,this[e(474)][e(360)]=this[e(152)]):this.$videoElement[e(316)]=this[e(154)],this[e(453)]()):(this[e(221)]?(this[e(333)][e(424)][e(474)][e(422)]=!0,this.player.video.$videoElement.srcObject=this[e(152)]):this[e(333)][e(424)][e(474)].src=this[e(154)],this[e(474)]=this.player.video[e(474)]),this[e(311)](),this[e(483)]=null,this[e(447)]=null,this[e(351)]=!1,this[e(333)][e(373)]()?this[e(333)].on(H.playbackPause,(s=>{const i=e;Ri(s)?(t[i(317)].isPlaybackPauseClearCache&&(Di(t[i(317)][i(205)])&&(this[i(333)].debugLog(this.TAG_NAME,"playbackPause is false and _opt.checkFirstIFrame is true so set isDecodeFirstIIframe = false"),this.isDecodeFirstIIframe=!1),this[i(249)]()),this[i(474)][i(363)]()):(this[i(474)][i(285)](),this[i(465)]={})})):this[e(333)][e(551)]()&&this[e(333)].on(H.playVodPause,(t=>{const s=e;Ri(t)?this.$videoElement[s(363)]():(this[s(474)][s(285)](),this[s(465)]={})})),this[e(380)]=!1,this[e(221)]?this[e(333)].debugLog(this[e(394)],e(493)):this[e(333)][e(496)](this[e(394)],e(432))}[By(376)](){const t=By;this[t(380)]=!0,this[t(377)](),this[t(207)](),this._clearAudioSourceBufferCheckTimeout(),this._clearAudioNoDataCheckTimeout(),this[t(241)](),this.eventListenList.length&&(this[t(231)][t(144)]((t=>t())),this[t(231)]=[]),this[t(478)]&&this[t(474)]&&(this[t(474)][t(185)](this[t(478)]),this[t(478)]=null),this[t(474)]&&(this[t(333)][t(317)][t(414)]&&(this.$videoElement[t(285)]&&(this.$videoElement.pause(),this[t(474)][t(356)]=!0),this[t(474)][t(522)]=0,this[t(474)][t(316)]&&(this.$videoElement.src="",this[t(474)].removeAttribute("src"))),this[t(474)]=null),this[t(154)]&&(window[t(261)].revokeObjectURL(this.mediaSourceObjectURL),this[t(154)]=null),this[t(262)](),this[t(152)]=null,this[t(147)]=null,this.off(),this[t(333)].debugLog(this[t(394)],"destroy")}[By(145)](){const t=By;return this[t(333)][t(317)].hasAudio&&this[t(333)][t(317)][t(531)]}[By(262)](){const t=By;this[t(179)]=null,this.isAAC=null,this[t(408)]=null,this[t(357)]={},this[t(385)]={},this[t(539)]=null,this.audioSourceBuffer=null,this[t(461)]=!1,this[t(395)]=!1,this[t(253)]=!1,this[t(436)]=!1,this[t(434)]="",this[t(402)]="",this[t(465)]={},this[t(528)]={},this[t(547)]=0,this[t(459)]=0,this.firstRenderTime=null,this[t(485)]=null,this.$videoElement=null,this.mediaSourceAppendBufferFull=!1,this[t(460)]=!1,this[t(258)]=!1,this[t(289)]=!1,this[t(426)]=!1,this[t(324)]=null,this[t(130)]=null,this[t(274)]=null,this[t(449)]=null,this[t(508)]=0,this[t(342)]=!1,this.prevTs=null,this[t(420)]=null,this[t(231)]=[],this[t(514)]=[],this.pendingSegments=[],this.pendingAudioRemoveRanges=[],this[t(365)]=[],this.supportVideoFrameCallbackHandle=null}get[By(502)](){const t=By;return this[t(152)]&&this[t(152)].readyState}get[By(215)](){return this[By(502)]===ct.open}get[By(552)](){const t=By;return this[t(502)]===ct[t(290)]}get isStateEnded(){const t=By;return this.state===ct[t(170)]}get[By(526)](){const t=By;return this[t(152)]&&this[t(152)][t(526)]||-1}set[By(526)](t){const e=By;this[e(152)][e(526)]=t}[By(311)](){const t=By,{events:{proxy:e}}=this[t(333)],s=e(this[t(152)],At.sourceOpen,(()=>{const e=t;this[e(333)].debugLog(this.TAG_NAME,"sourceOpen"),this[e(379)](),this.player[e(339)](H[e(340)])})),i=e(this[t(152)],At[t(263)],(()=>{const e=t;this.player.debugLog(this[e(394)],e(263)),this.player[e(339)](H[e(132)])})),r=e(this[t(152)],At.sourceended,(()=>{const e=t;this[e(333)][e(496)](this[e(394)],"sourceended"),this.player[e(339)](H[e(198)])}));this.eventListenList[t(471)](s,i,r);const n=e(this[t(474)],vt[t(452)],(e=>{const s=t;if(Ri(this[s(421)]))if(this.player[s(378)]())this[s(333)][s(189)]();else{const t=parseInt(e[s(334)],10);this[s(333)][s(496)](this.TAG_NAME,"mseUseCanvasRender is "+this.player[s(317)].mseUseCanvasRender+s(223)+t+s(153)+this[s(333)]._stats[s(386)]+s(250)+this[s(333)][s(469)][s(318)])}}));if(this[t(231)][t(471)](n),this._useManagedMediaSource){const s=e(this[t(152)],At[t(524)],(()=>{const e=t;this.player[e(496)](this.TAG_NAME,"ManagedMediaSource startstreaming"),this[e(333)][e(339)](H[e(308)])})),i=e(this[t(152)],At[t(437)],(()=>{const e=t;this.player[e(496)](this[e(394)],e(266)),this[e(333)][e(339)](H[e(216)])})),r=e(this[t(152)],At.qualitychange,(()=>{const e=t;this.player[e(496)](this[e(394)],"ManagedMediaSource qualitychange")}));this[t(231)][t(471)](s,i,r)}}[By(379)](){const t=By;!this.sourceBuffer&&(this[t(333)][t(496)]("MediaSource",t(398)),this._initSourceBuffer()),!this[t(482)]&&(this[t(333)][t(496)](t(355),t(500)),this[t(313)]()),this._hasPendingSegments()&&this[t(519)]()}[By(453)](){const t=By,{proxy:e}=this[t(333)][t(210)];this[t(333)].on(H.visibilityChange,(e=>{const s=t;e&&(this[s(377)](),this[s(271)]=setTimeout((()=>{const t=s;if(this[t(271)]=null,this[t(333)][t(167)]()&&this.$videoElement){const e=this[t(553)]();if(e-this.$videoElement.currentTime>this[t(296)]()){const s=this[t(278)](1);this.player.debugLog(this[t(394)],t(139)+e+t(349)+this[t(474)][t(522)]+t(505)+s),this.$videoElement[t(522)]=s}}}),300))}));const s=e(this.$videoElement,vt[t(268)],(()=>{const e=t;this.player[e(496)](this.TAG_NAME,e(346)),this[e(474)][e(363)]()[e(245)]((()=>{const t=e;this[t(333)][t(339)](H.removeLoadingBgImage),Oi()?!this[t(478)]&&(this[t(333)][t(496)](this[t(394)],t(413)),this[t(478)]=this.$videoElement.requestVideoFrameCallback(this[t(147)].videoFrameCallback)):this.player[t(430)]()&&(this.player.debugLog(this[t(394)],t(226)),this[t(241)](),this[t(520)]=setInterval((()=>{const e=t;this.player[e(424)][e(288)]({$video:this[e(474)],ts:parseInt(1e3*this[e(474)][e(522)],10)||0})}),40)),this[t(333)][t(496)](this[t(394)],t(441))}))[e(546)]((t=>{const s=e;this[s(333)].debugError(this[s(394)],s(534),t),this[s(333)].emitError(Q[s(345)],s(260)+t[s(243)]+s(227)+t[s(374)])}))})),i=e(this[t(474)],vt[t(410)],(()=>{const e=t;this[e(333)][e(496)](this[e(394)],e(161))})),r=e(this.$videoElement,vt[t(236)],(()=>{const e=t;this[e(333)].debugLog(this[e(394)],e(476))})),n=e(this[t(474)],vt[t(452)],(e=>{const s=t;this.$videoElement[s(280)]&&(this[s(333)].debugWarn(this.TAG_NAME,s(202)),this[s(474)][s(363)]()[s(245)]((()=>{const t=s;this[t(333)][t(496)](this[t(394)],"video is paused and replay success")}))[s(546)]((t=>{const e=s;this.player[e(180)](this[e(394)],e(361),t)})))})),o=e(this[t(474)],vt[t(352)],(()=>{const e=t;this[e(333)].debugLog(this[e(394)],e(382),this[e(474)]&&this.$videoElement.playbackRate),this[e(474)]&&this.$videoElement.paused&&this[e(333)].debugWarn(this[e(394)],e(304))}));this.eventListenList[t(471)](s,i,n,o,r)}[By(377)](){this[By(271)]&&(clearTimeout(this.visibilityChangeTimeout),this.visibilityChangeTimeout=null)}videoFrameCallback(t){const e=By;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this[e(380)])return;if(this.player[e(525)]())return void this.player.debugLog(this.TAG_NAME,"videoFrameCallback() player is destroyed");const i=parseInt(1e3*Math[e(548)](s[e(487)],this[e(474)].currentTime),10)||0;this[e(333)][e(430)]()&&this[e(333)][e(164)]({fps:!0,ts:i}),this.player[e(424)].render({$video:this[e(474)],ts:i}),this[e(333)][e(189)](),this.supportVideoFrameCallbackHandle=this[e(474)][e(251)](this[e(147)][e(446)])}[By(225)](t,e,s,i){const r=By;if(!this[r(380)])if(this[r(333)],this[r(333)].isDestroyedOrClosed())this[r(333)][r(180)](this[r(394)],"decodeVideo() player is destroyed");else if(this.hasInit)if(!this[r(295)]&&s&&(this[r(295)]=!0),this[r(295)]){if(s&&0===t[1]){const e=15&t[0];let s={};const i=this[r(333)].getCorrectionConfiguration();let n=t[r(299)](5);e===Z[r(391)]?s=tl(n,i):e===Z[r(348)]&&(s=Dl(n,i));const o=this[r(333)].video[r(282)];o&&o[r(191)]&&o[r(390)]&&s&&s[r(322)]&&s[r(492)]&&(s.codecWidth!==o.width||s[r(492)]!==o[r(390)])&&(this[r(333)][r(180)](this[r(394)],r(479)+o[r(191)]+r(372)+o[r(390)]+r(543)+s[r(322)]+", new height is "+s[r(492)]+r(181)),this.isWidthOrHeightChanged=!0,this.player[r(209)](Q.mseWidthOrHeightChange,r(510)+o.width+"->"+s[r(322)]+r(327)+o[r(390)]+"->"+s.codecHeight))}if(this[r(342)])return void this[r(333)][r(180)](this[r(394)],r(160));if(Ci(t))return void this[r(333)][r(496)](this[r(394)],r(264));if(t[r(284)]<12)return void this.player[r(180)](this[r(394)],"decodeVideo and payload is too small , payload length is "+t[r(284)]+r(247));let n=e;if(this[r(333)][r(405)]()){if(null===this.firstRenderTime&&(this[r(549)]=e,this[r(333)][r(496)](this[r(394)],r(384)+this[r(549)])),n=e-this[r(549)],n<0&&(this[r(333)][r(180)](this.TAG_NAME,r(442)+e+" and prevTs is "+this[r(477)]+",\n                     firstRenderTime is "+this[r(549)]+" and mseCorrectTimeDuration is "+this.player[r(317)][r(136)]),n=null===this[r(274)]?0:this.prevDts+this[r(333)][r(317)][r(136)],this[r(238)](e)))return this[r(333)][r(180)](this.TAG_NAME,r(275)+e+" and prevTs is "+this[r(477)]+r(428)+(this.prevTs-e)+r(406)),void this[r(333)][r(209)](Q[r(183)],r(143)+this[r(477)]+r(166)+e);if(null!==this[r(274)]&&n<=this.prevDts){if(this[r(333)].debugWarn(this.TAG_NAME,r(234)+n+r(513)+this[r(274)]+" ，\n                    and now ts is "+e+" and prev ts is "+this[r(477)]+" ，\n                    and diff is "+(e-this[r(477)])+r(165)+this.firstRenderTime+r(400)+s+"，\n                    and mseCorrectTimeDuration is "+this.player[r(317)][r(136)]+r(392)+this[r(508)]+r(418)+t[r(284)]),n===this[r(274)]&&this[r(508)]===t[r(284)])return void this[r(333)][r(180)](this[r(394)],r(541));if(n=this.prevDts+this.player[r(317)][r(136)],this._checkTsIsMaxDiff(e))return this.player[r(180)](this[r(394)],r(275)+e+r(368)+this[r(477)]+r(428)+(this[r(477)]-e)+r(406)),void this.emit(Q[r(183)],r(143)+this[r(477)]+" and ts is "+e)}}this.player[r(405)]()?this[r(248)](t,n,s,i,e):this[r(333)][r(373)]()?Ri(this[r(333)][r(252)])?(this[r(333)][r(330)][r(521)]&&this[r(333)][r(330)][r(440)](),this[r(248)](t,n,s,i,e)):this[r(333)][r(330)].isPlaybackPauseNotClearCacheAndCacheBeforeDecode()&&this[r(248)](t,n,s,i,e):this.player.isPlayVod()&&this[r(248)](t,n,s,i,e),this[r(274)]=n,this[r(508)]=t.byteLength,this[r(477)]=e}else this[r(333)].debugLog(this[r(394)],r(550));else if(s&&t[1]===Tt[r(314)]){const i=15&t[0];if(this[r(333)][r(424)][r(425)]({encTypeCode:i}),i===Z[r(348)]&&Ri(Ps()))return void this[r(333)].emitError(Q[r(217)]);!this[r(333)][r(220)].decodeStart&&(this[r(333)]._times[r(323)]=is()),this[r(461)]=this[r(235)](t,e,s,i)}else this.player[r(180)](this[r(394)],r(431)+s+r(303)+t[1]+r(504))}[By(533)](t,e){const s=By;if(!this[s(380)])if(this[s(333)],this[s(333)][s(525)]())this[s(333)][s(180)](this[s(394)],s(515));else if(Ri(this[s(395)]))this[s(395)]=this[s(494)](t,e);else{let i=e;if(Ce(t))return void this[s(333)][s(496)](this.TAG_NAME,s(458));if(this._clearAudioNoDataCheckTimeout(),this[s(295)]){if(this[s(333)][s(405)]()){if(null===this.firstAudioTime&&(this[s(485)]=e,this[s(333)][s(496)](this[s(394)],s(511)+this[s(485)])),i=e-this[s(485)],i<0&&(this[s(333)][s(180)](this.TAG_NAME,s(239)+e+" and prevTs is "+this[s(420)]+",\n                     firstAudioTime is "+this[s(485)]),i=null===this[s(449)]?0:this.prevAudioDts+this[s(333)]._opt[s(486)],this[s(332)](e)))return this[s(333)][s(180)](this[s(394)],s(140)+e+" and prevTs is "+this[s(449)]+", diff is "+(this[s(449)]-e)+s(406)),void this[s(333)][s(209)](Q[s(183)],s(173)+this[s(449)]+s(166)+e);null!==this[s(420)]&&i<=this[s(449)]&&(this.player[s(180)](this[s(394)],s(509)+i+s(513)+this[s(449)]+" ，\n                    and now ts is "+e+s(193)+this[s(420)]+s(138)+(e-this[s(420)])),i=this[s(449)]+this[s(333)][s(317)].mseCorrectAudioTimeDuration)}this[s(333)][s(405)]()?this[s(163)](t,i,e):this[s(333)][s(373)]()?(Ri(this.player[s(252)])||this[s(333)][s(330)].isPlaybackPauseNotClearCacheAndCacheBeforeDecode())&&this[s(163)](t,i,e):this.player[s(551)]()&&this[s(163)](t,i,e),this[s(420)]=e,this[s(449)]=i}else this[s(333)][s(496)](this[s(394)],s(137))}}[By(415)](){const t=By;if(this[t(333)].debugLog(this[t(394)],t(383)+!(!this[t(465)]||!this.cacheTrack[t(276)])+t(168)+!(!this.cacheAudioTrack||!this[t(528)].prevDuration)),this[t(465)]&&this.cacheTrack[t(276)]){const e=this[t(465)][t(300)];let s=8+this[t(465)][t(475)],i=new Uint8Array(s);i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i.set(xy[t(229)][t(218)],4),i[t(389)](this[t(465)].data,8),this[t(465)][t(526)]=this[t(465)][t(276)],this[t(465)][t(526)]>1e3&&this[t(333)][t(180)](this[t(394)],t(472)+this[t(465)][t(526)]+t(325)+this[t(465)][t(300)]);let r=xy.moof(this.cacheTrack,this[t(465)][t(300)]);this[t(465)]={};let n=new Uint8Array(r[t(284)]+i[t(284)]);n[t(389)](r,0),n[t(389)](i,r[t(284)]),this[t(309)](n[t(343)]),this[t(333)][t(164)]({dfps:!0,p2dfps:!0,mseTs:e})}if(this[t(528)]&&this[t(528)][t(276)]){let e=8+this[t(528)][t(475)],s=new Uint8Array(e);s[0]=e>>>24&255,s[1]=e>>>16&255,s[2]=e>>>8&255,s[3]=255&e,s[t(389)](xy.types[t(218)],4),s.set(this[t(528)][t(387)],8),this.cacheAudioTrack[t(526)]=this[t(528)].prevDuration,this.cacheAudioTrack[t(526)]>1e3&&this.player[t(180)](this.TAG_NAME,"decodeLastDataForVod cacheAudioTrack duration is "+this[t(528)][t(526)]+t(199)+this[t(528)][t(300)]);let i=xy.moof(this[t(528)],this[t(528)][t(300)]);this.cacheAudioTrack={};let r=new Uint8Array(i.byteLength+s.byteLength);r.set(i,0),r.set(s,i[t(284)]),this[t(393)](r[t(343)])}}[By(238)](t){const e=By;return this.prevTs>0&&t<this[e(477)]&&this[e(477)]-t>C}[By(332)](t){const e=By;return this[e(420)]>0&&t<this.prevAudioTs&&this[e(420)]-t>C}[By(235)](t,e,s,i){const r=By;let n=t[r(299)](5),o={};const a=this[r(333)][r(146)]();if(i===Z[r(391)]?o=tl(n,a):i===Z[r(348)]&&(o=Dl(n,a)),Zs(o)||0===o[r(322)]&&0===o[r(492)]){this.player[r(180)](this[r(394)],r(235),o);let t="";return t=Zs(o)?"config is empty object":r(407)+o[r(322)]+" and codecHeight is "+o[r(492)],this[r(333)][r(209)](Q[r(328)],t),!1}!this[r(253)]&&(this[r(333)].debugLog(this[r(394)],r(463)+o[r(322)]+","+o[r(492)]),this[r(333)][r(424)].updateVideoInfo({width:o[r(322)],height:o[r(492)]}),this.player.video[r(219)](),this.isInitInfo=!0),this.player[r(397)]&&this[r(333)]._opt[r(222)]===f[r(155)]&&this[r(333)].recorder[r(529)](t,i);const h={id:Vt[r(424)],type:r(424),timescale:1e3,duration:0,avcc:n,codecWidth:o[r(322)],codecHeight:o[r(492)],videoType:o.videoType},l=xy[r(186)](h);return this.isAvc=i===Z.h264,o[r(133)]?this.videoMimeType=r(149)+o.codec+'"':this[r(402)]=this[r(179)]?lt[r(451)]:lt.hev,this[r(455)](),this[r(309)](l.buffer),this[r(547)]=0,this[r(465)]={},!0}[By(494)](t,e){const s=By,i=t[0]>>4&15,r=t[0]>>1&1,n=i===et[s(396)],o=i===et[s(457)],a=i===et[s(273)];let h="";if(h=o?r?16:8:0===r?8:16,Ri(o||n))return this[s(333)].debugWarn(this[s(394)],"_decodeAudioConfigurationRecord audio codec is not support , codecId is "+i+s(419)),this[s(333)][s(339)](Q[s(470)]),!1;const l={id:Vt[s(454)],type:s(454),timescale:1e3};let c={};if(Ce(t)){if(c=Fe(t[s(299)](2)),!c)return!1;l[s(338)]=c[s(201)],l[s(195)]=c[s(195)],l.config=c[s(315)],l[s(423)]=1024/l[s(338)]*l.timescale}else{if(!n)return!1;if(c=Vm(t.slice(1)),!c)return!1;l[s(338)]=c[s(201)],l.channelCount=c[s(195)],l[s(423)]=1152/l[s(338)]*l[s(254)]}l[s(133)]=c.codec,l[s(526)]=0;let d="mp4",u=c.codec,p=null;n&&Ri(ys())?(d=s(347),u="",p=new Uint8Array):p=xy.generateInitSegment(l);let f=l[s(214)]+"/"+d;return u&&u[s(294)]>0&&(f+=s(286)+u),Ri(this[s(436)])&&(this[s(333)].audio[s(306)]({encTypeCode:i,channels:l[s(195)],sampleRate:l.audioSampleRate,depth:h}),this[s(436)]=!0),this[s(434)]=f,this[s(427)]=o,this[s(408)]=a,this[s(313)](),this[s(393)](p[s(343)]),!0}_initSourceBuffer(){const t=By,{events:{proxy:e}}=this[t(333)];if(null===this.sourceBuffer&&null!==this[t(152)]&&this[t(215)]&&this[t(402)]){try{this[t(539)]=this[t(152)][t(495)](this[t(402)]),this[t(333)][t(496)](this[t(394)],t(178),this.videoMimeType)}catch(e){return this[t(333)][t(211)](this[t(394)],t(435),e[t(243)],e),this[t(333)].emitError(Q[t(257)],t(260)+e.code+t(227)+e[t(374)]),void(this[t(258)]=!0)}if(this.sourceBuffer){const s=e(this[t(539)],t(335),(e=>{const s=t;this[s(289)]=!0;const i="SourceBuffer Error - updating: "+this.sourceBuffer[s(269)]+s(439)+this.mediaSource[s(516)]+s(129)+JSON.stringify(this[s(474)][s(335)]||{});this[s(333)][s(211)](this[s(394)],"mseSourceBufferError this.sourceBuffer",i,e),this[s(333)][s(209)](Q.mseSourceBufferError,s(497))})),i=e(this[t(539)],t(498),(()=>{const e=t;this[e(512)]()?this[e(359)]():this._hasPendingSegments()?this[e(519)]():this[e(351)]&&(this[e(333)].debugLog(this[e(394)],e(233)),this[e(151)]())}));this[t(231)].push(s,i)}}else this.player[t(496)](this[t(394)],t(530)+this.isStateOpen+t(242)+(null===this[t(179)]))}[By(313)](){const t=By,{events:{proxy:e}}=this[t(333)];if(null===this[t(482)]&&null!==this.mediaSource&&this[t(215)]&&this[t(434)]){try{this[t(482)]=this[t(152)][t(495)](this[t(434)]),this[t(175)](),this[t(333)].debugLog(this[t(394)],t(310),this[t(434)])}catch(e){return this[t(333)].debugError(this.TAG_NAME,t(371),e[t(243)],e),this[t(333)][t(209)](Q[t(257)],"code is "+e[t(243)]+" and message is "+e[t(374)]),void(this[t(258)]=!0)}if(this[t(482)]){const s=e(this[t(482)],t(335),(e=>{const s=t;this[s(289)]=!0;const i=s(177)+this.audioSourceBuffer[s(269)]+s(439)+this[s(152)].readyState+", mediaError: "+JSON[s(230)](this[s(474)][s(335)]||{});this[s(333)][s(211)](this[s(394)],s(501),i,e),this[s(333)][s(209)](Q[s(320)],"mediaSource audio sourceBuffer error")})),i=e(this.audioSourceBuffer,t(498),(()=>{const e=t;this[e(512)]()?this._doRemoveRanges():this._hasPendingSegments()?this[e(519)]():this[e(351)]&&(this[e(333)].debugLog(this[e(394)],e(370)),this.endOfStream())}));this[t(231)][t(471)](s,i),null===this[t(447)]&&(this.audioSourceNoDataCheckTimeout=setTimeout((()=>{const e=t;this[e(448)](),this.player[e(339)](Q[e(538)])}),1e3))}}else this.player.debugLog(this.TAG_NAME,t(297)+this.isStateOpen+" and this.audioMimeType is "+this[t(434)])}[By(248)](t,e,s,i,r){const n=By,o=this[n(333)];let a=t.slice(5),h=a[n(284)];if(0===h)return void o.debugWarn(this[n(394)],n(473));let l=is(),c=!1;!this[n(324)]&&(this[n(324)]=l,c=!0);const d=l-this[n(324)];this[n(130)]=d,d>1e3&&!c&&this[n(333)][n(405)]()&&o[n(496)](this[n(394)],n(228)+l+n(450)+this[n(324)]+", diff time is "+d+n(484));const u=this[n(474)];let p=null;if(this[n(465)].id&&e>=this[n(465)][n(300)]){let t=8+this[n(465)][n(475)],s=new Uint8Array(t);s[0]=t>>>24&255,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[n(389)](xy[n(229)][n(218)],4),s[n(389)](this[n(465)][n(387)],8),this.cacheTrack[n(526)]=e-this.cacheTrack[n(300)],p=this[n(465)][n(526)],(this[n(333)][n(405)]()||this.player[n(551)]())&&this[n(465)].duration>1e3?this[n(333)].debugWarn(this[n(394)],"cacheTrack duration is "+this[n(465)][n(526)]+n(190)+e+", and cacheTrack dts is "+this.cacheTrack[n(300)]):this[n(333)][n(373)]()&&this[n(333)].isPlaybackOnlyDecodeIFrame()&&this.cacheTrack[n(526)]>1e3&&this[n(333)][n(180)](this[n(394)],n(287)+this[n(465)].duration+n(190)+e+", and cacheTrack dts is "+this[n(465)][n(300)]);let i=xy[n(159)](this[n(465)],this[n(465)][n(300)]);this[n(465)]={};let r=new Uint8Array(i[n(284)]+s[n(284)]);r[n(389)](i,0),r[n(389)](s,i[n(284)]),this[n(309)](r[n(343)]),o[n(164)]({dfps:!0,p2dfps:!0,mseTs:e}),!o._times[n(462)]&&(o._times[n(462)]=is(),o[n(417)]())}else o.debugLog(this[n(394)],n(171)+e+n(409)+r+n(532)+(this.cacheTrack&&this[n(465)].dts)+n(527)),this.cacheTrack={};!this[n(465)]&&(this[n(465)]={}),this[n(465)].id=Vt[n(424)],this[n(465)].sequenceNumber=++this.sequenceNumber,this[n(465)][n(475)]=h,this[n(465)].dts=e,this[n(465)][n(135)]=i,this.cacheTrack.isKeyframe=s,this[n(465)][n(387)]=a,this[n(465)][n(350)]={isLeading:0,dependsOn:s?2:1,isDependedOn:s?1:0,hasRedundancy:0,isNonSync:s?0:1},null!==p&&(this[n(465)][n(276)]=p),o[n(317)][n(414)]&&Ri(this[n(421)])&&Ri(o.isUseHls265())&&o[n(424)][n(288)]({$video:u,ts:e}),this.prevTimestamp=is()}[By(241)](){const t=By;this[t(520)]&&(clearInterval(this[t(520)]),this.canvasRenderInterval=null)}[By(163)](t,e,s){const i=By,r=this[i(333)];let n=this.isAAC?t[i(299)](2):t.slice(1),o=n[i(284)],a=null;if(this[i(528)].id&&e>=this.cacheAudioTrack[i(300)]){let t=8+this[i(528)].size,s=new Uint8Array(t);s[0]=t>>>24&255,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[i(389)](xy[i(229)][i(218)],4),s[i(389)](this.cacheAudioTrack[i(387)],8),this[i(528)].duration=e-this[i(528)][i(300)],a=this[i(528)][i(526)],this.cacheAudioTrack.duration>1e3&&this[i(333)][i(180)](this.TAG_NAME,i(488)+this[i(528)][i(526)]+" ms ,and dts is "+e+i(291)+this[i(528)][i(300)]);let r=xy[i(159)](this[i(528)],this[i(528)].dts);this[i(528)]={};let n=new Uint8Array(r.byteLength+s[i(284)]);n[i(389)](r,0),n[i(389)](s,r[i(284)]),this[i(393)](n[i(343)])}else r[i(496)](this.TAG_NAME,"cacheAudioTrack = {} now dts is "+e+" cacheAudioTrack dts is "+(this.cacheAudioTrack&&this.cacheAudioTrack[i(300)])),this.cacheAudioTrack={};!this[i(528)]&&(this[i(528)]={}),this.cacheAudioTrack.id=Vt.audio,this[i(528)][i(547)]=++this[i(459)],this[i(528)].size=o,this[i(528)].dts=e,this[i(528)][i(135)]=0,this[i(528)].data=n,this[i(528)].flags={isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0},null!==a&&(this.cacheAudioTrack.prevDuration=a)}appendBuffer(t){const e=By;this[e(380)]||(this.player.isDestroyedOrClosed()?this[e(333)].debugWarn(this[e(394)],e(341)):(this[e(333)],this[e(258)]?this[e(333)][e(180)](this.TAG_NAME,"appendBuffer() this.mediaSourceAddSourceBufferError is true"):this[e(256)]?this[e(333)].debugWarn(this[e(394)],e(240)):this[e(460)]?this[e(333)][e(180)](this[e(394)],"appendBuffer() this.mediaSourceAppendBufferError is true"):this[e(289)]?this[e(333)][e(180)](this[e(394)],e(200)):(this.pendingSegments.push(t),this[e(539)]&&(this[e(333)][e(405)]()&&this[e(523)](),this[e(333)][e(373)]()&&(this[e(203)](),this[e(416)]()),this[e(333)][e(551)]()&&this[e(203)](),Di(this[e(333)][e(362)]())&&this[e(333)][e(317)].mseAutoCleanupSourceBuffer&&this[e(388)]()&&this[e(184)](),Ri(this[e(353)]())&&this[e(215)]&&Ri(this[e(512)]()))?this[e(519)]():this.isStateClosed?(this[e(289)]=!0,this.player[e(209)](Q[e(320)],"mediaSource is not attached to video or mediaSource is closed")):this[e(403)]&&(this.mediaSourceBufferError=!0,this[e(333)][e(209)](Q[e(320)],e(298))))))}[By(393)](t){const e=By;this[e(380)]||(this.player[e(525)]()?this[e(333)][e(180)](this[e(394)],e(237)):(this[e(333)],this[e(258)]?this[e(333)][e(180)](this[e(394)],"appendAudioBuffer() this.mediaSourceAddSourceBufferError is true"):this.mediaSourceAppendBufferFull?this[e(333)][e(180)](this.TAG_NAME,e(265)):this[e(460)]?this[e(333)][e(180)](this.TAG_NAME,e(259)):this[e(289)]?this[e(333)].debugWarn(this[e(394)],e(128)):(this[e(365)][e(471)](t),this.audioSourceBuffer&&(this[e(333)][e(405)]()&&this[e(523)](),this[e(333)][e(373)]()&&(this._handleUpdateBufferDelayTime(),this[e(416)]()),this.player.isPlayVod()&&this[e(203)](),Di(this.player[e(362)]())&&this[e(333)][e(317)][e(204)]&&this._needCleanupSourceBuffer()&&this[e(184)](),Ri(this[e(162)]())&&this[e(215)]&&Ri(this[e(512)]()))?this[e(519)]():this[e(552)]?(this.mediaSourceBufferError=!0,this[e(333)].emitError(Q[e(320)],e(326))):this[e(403)]&&(this[e(289)]=!0,this[e(333)][e(209)](Q[e(320)],e(298))))))}[By(353)](){const t=By;return this[t(539)]&&this[t(539)][t(269)]}[By(162)](){const t=By;return this[t(482)]&&this[t(482)][t(269)]}stop(){const t=By;this[t(301)](),this[t(464)](),this[t(151)]()}[By(480)](){const t=By,e=this.$videoElement;let s=0,i=0;return e.buffered.length>0&&(i=e.buffered.end(e[t(507)].length-1),s=i-e[t(522)]),s<0&&(this[t(333)][t(180)](this.TAG_NAME,t(224)+s+t(182)+i+t(292)+e.currentTime+" , try to seek "+e[t(522)]+" to "+i),e[t(522)]=i,e[t(280)]&&(this.player[t(180)](this[t(394)],"checkMSESourceBufferDelay and video is paused and sent isMSECurrentMoreThanBufferedPause true"),this[t(333)][t(197)]=!0),s=0),s}[By(540)](){const t=By,e=this.$videoElement;let s=0;return e[t(507)][t(294)]>0&&(s=e[t(522)]-e[t(507)][t(194)](0)),s}checkSourceBufferEndLessThanCurrentTime(){const t=By,e=this[t(474)];let s=0;return e.buffered[t(294)]>0&&(s=e[t(507)][t(277)](e[t(507)][t(294)]-1)-e.currentTime),s}[By(489)](){return this[By(130)]}removeBuffer(t,e){const s=By,i=hi();if(this[s(333)].debugLog(this[s(394)],"removeBuffer() start is "+t+s(337)+e+" and _isMacOsFirefox is "+i),this[s(215)]&&Ri(i)){if(Ri(this[s(353)]()))try{this[s(539)][s(542)](t,e)}catch(t){this.player[s(180)](this[s(394)],s(270),t)}if(Ri(this[s(162)]()))try{this.audioSourceBuffer.remove(t,e)}catch(t){this[s(333)][s(180)](this[s(394)],s(481),t)}}}[By(467)](t,e){const s=By;this.player[s(496)](this[s(394)],s(401)+t+" and end is "+e),this[s(539)]&&this[s(514)][s(471)]({start:t,end:e}),this[s(482)]&&this[s(445)][s(471)]({start:t,end:e}),this[s(359)]()}[By(249)](){const t=By;if(this.sourceBuffer){const e=this[t(539)][t(507)];for(let s=0;s<e[t(294)];s++){let i=e.start(s),r=e[t(277)](s);this[t(514)][t(471)]({start:i,end:r})}Ri(this.getSourceBufferUpdating())&&this[t(359)]()}if(this[t(482)]){const e=this[t(482)][t(507)];for(let s=0;s<e[t(294)];s++){let i=e[t(194)](s),r=e[t(277)](s);this[t(445)][t(471)]({start:i,end:r})}Ri(this[t(162)]())&&this[t(359)]()}}[By(151)](){const t=By;if(this[t(215)]&&this[t(474)]&&this.$videoElement[t(516)]>=1)if(this.getSourceBufferUpdating()||this[t(162)]())this[t(351)]=!0;else{this.hasPendingEos=!1;try{this.player[t(496)](this[t(394)],t(336)),this[t(152)][t(151)]()}catch(e){this.player.debugWarn(this.TAG_NAME,t(206),e)}}}[By(301)](){const t=By;if(this.isStateOpen){if(this[t(539)]){try{this[t(333)][t(496)](this.TAG_NAME,"abortSourceBuffer() abort sourceBuffer"),this[t(539)][t(321)]()}catch(t){}Ri(this.getSourceBufferUpdating())&&this[t(359)]()}if(this.audioSourceBuffer){try{this[t(333)].debugLog(this.TAG_NAME,t(381)),this[t(482)][t(321)]()}catch(t){}Ri(this[t(162)]())&&this._doRemoveRanges()}}this[t(539)]=null,this[t(482)]=null}removeSourceBuffer(){const t=By;if(!this[t(552)]&&this[t(152)]){if(this[t(539)])try{this[t(333)][t(496)](this[t(394)],t(544)),this.mediaSource.removeSourceBuffer(this.sourceBuffer)}catch(e){this.player[t(211)](this[t(394)],t(444),e)}if(this[t(482)])try{this.player.debugLog(this[t(394)],t(244)),this[t(152)].removeSourceBuffer(this[t(482)])}catch(e){this[t(333)].debugError(this.TAG_NAME,t(367),e)}}}[By(158)](){const t=By;return this[t(141)][t(294)]>0||this[t(365)][t(294)]>0}[By(307)](){const t=By;return this[t(141)][t(294)]}[By(523)](){const t=By;if(!this[t(474)])return;const e=this.$videoElement;this.player[t(317)][t(499)],this.player._opt[t(438)];const s=e[t(507)];s[t(294)]&&s[t(194)](0);const i=s[t(294)]?s.end(s[t(294)]-1):0;let r=e[t(522)];const n=i-r,o=this[t(296)]();if(this[t(333)][t(164)]({mseVideoBufferDelayTime:n}),0===this[t(474)][t(516)])return;if(n>o){const s=this[t(278)](1);this[t(333)].debugLog(this[t(394)],t(283)+i+t(518)+r+t(490)+o+" is "+n+t(411)+s),e.currentTime=s,r=e.currentTime}else if(n<0&&0===i)return this[t(333)][t(180)](this[t(394)],t(364)+i+t(142)+r+t(503)+n+t(466)+e[t(280)]+" "),void this[t(333)][t(339)](Q[t(312)],t(174));const a=this[t(131)](i-r);e.playbackRate!==a&&(this[t(333)][t(496)](this.TAG_NAME,"handleUpdatePlaybackRate and buffered is "+i+t(536)+r+" and delay is "+(i-r)+t(358)+a+" "),e[t(157)]=a)}[By(203)](){const t=By,e=this.getVideoBufferDelayTime();this[t(333)].updateStats({mseVideoBufferDelayTime:e})}_checkVideoPlayCurrentTime(){const t=By,e=this[t(540)]();if(e<0){const s=this[t(293)]();this.player[t(180)](this[t(394)],"checkVideoPlayCurrentTime store is "+e+t(169)+this.$videoElement[t(522)]+t(506)+s),this.$videoElement[t(522)]=s}}[By(156)](){const t=By;if(!this[t(474)])return;const e=this[t(474)][t(522)],s=this.getVideoBufferRangeList();if(0===s[t(294)])return void this[t(333)].debugWarn(this[t(394)],t(443));if(1===s[t(294)]){const i=s[0][t(277)],r=Math[t(433)](i-e);if(r<1)return void this[t(333)][t(496)](this[t(394)],"updateVideoCurrentTimeByBufferStart current time is "+e+t(281)+i+t(305)+r+" and return")}let i=null;for(let r=0;r<s[t(294)];r++){const n=s[r];if(e<n[t(194)]){i=n[t(194)];break}}null===i&&(this[t(333)][t(180)](this[t(394)],t(232)+e+t(150)),i=s[s.length-1][t(194)]),this[t(333)][t(496)](this.TAG_NAME,t(412)+JSON.stringify(s)+t(213)+e+t(411)+i),this[t(474)][t(522)]=i}[By(519)](){const t=By;if(this[t(552)]||this[t(403)])this.player[t(496)](this[t(394)],t(468));else if(null!==this.sourceBuffer){if(this[t(145)]()&&null===this[t(482)])return this[t(333)][t(496)](this[t(394)],t(537)),void(null===this[t(483)]&&(this[t(483)]=setTimeout((()=>{const e=t;this._clearAudioSourceBufferCheckTimeout(),this[e(333)][e(339)](Q.mediaSourceAudioInitTimeout)}),1e3)));if(Ri(this[t(353)]())&&this.sourceBuffer&&this.pendingSegments[t(294)]>0){const e=this[t(141)][t(491)]();try{this[t(539)][t(309)](e)}catch(e){this[t(333)][t(211)](this[t(394)],t(354),e[t(243)],e),22===e[t(243)]?(this[t(207)](),this[t(256)]=!0,this[t(333)][t(209)](Q[t(272)],t(260)+e.code+t(227)+e[t(374)])):11===e[t(243)]?(this[t(207)](),this[t(460)]=!0,this.player.emitError(Q.mediaSourceAppendBufferError,t(260)+e[t(243)]+t(227)+e[t(374)])):(this[t(207)](),this[t(289)]=!0,this[t(333)][t(209)](H[t(320)],t(260)+e.code+t(227)+e[t(374)]))}}if(Ri(this.getAudioSourceBufferUpdating())&&this[t(482)]&&this[t(365)].length>0){const e=this[t(365)][t(491)]();try{this.audioSourceBuffer[t(309)](e)}catch(e){this[t(333)].debugError(this[t(394)],"this.audioSourceBuffer.appendBuffer()",e[t(243)],e),22===e[t(243)]?(this[t(207)](),this.mediaSourceAppendBufferFull=!0,this[t(333)][t(209)](Q[t(272)],t(260)+e.code+t(227)+e[t(374)])):11===e[t(243)]?(this[t(207)](),this[t(460)]=!0,this[t(333)][t(209)](Q[t(460)],t(260)+e.code+" and message is "+e.message)):(this[t(207)](),this[t(289)]=!0,this.player[t(209)](H[t(320)],t(260)+e[t(243)]+" and message is "+e[t(374)]))}}}else this[t(333)][t(496)](this[t(394)],t(187))}[By(184)](){const t=By;if(!this.$videoElement)return;const e=this[t(474)][t(522)];if(this.sourceBuffer){const s=this[t(539)][t(507)];let i=!1;for(let r=0;r<s[t(294)];r++){let n=s[t(194)](r),o=s.end(r);if(n<=e&&e<o+3){if(e-n>=this.player[t(317)][t(212)]){i=!0;let s=e-this.player[t(317)][t(192)];this[t(514)][t(471)]({start:n,end:s})}}else o<e&&(i=!0,this.pendingRemoveRanges[t(471)]({start:n,end:o}))}i&&Ri(this.getSourceBufferUpdating())&&this[t(359)]()}if(this[t(482)]){const s=this[t(482)][t(507)];let i=!1;for(let r=0;r<s[t(294)];r++){let n=s.start(r),o=s.end(r);if(n<=e&&e<o+3){if(e-n>=this[t(333)]._opt.mseAutoCleanupMaxBackwardDuration){i=!0;let s=e-this[t(333)]._opt[t(192)];this.pendingAudioRemoveRanges[t(471)]({start:n,end:s})}}else o<e&&(i=!0,this[t(445)][t(471)]({start:n,end:o}))}i&&Ri(this[t(162)]())&&this[t(359)]()}}[By(512)](){const t=By;return this[t(514)][t(294)]>0||this[t(445)][t(294)]>0}_doRemoveRanges(){const t=By;if(this[t(539)]&&Ri(this[t(353)]())){let e=this[t(514)];for(;e[t(294)]&&Ri(this[t(353)]());){let s=e[t(491)]();try{this[t(539)].remove(s[t(194)],s[t(277)])}catch(e){this[t(333)].debugWarn(this[t(394)],"_doRemoveRanges() sourceBuffer error",e)}}}if(this.audioSourceBuffer&&Ri(this[t(162)]())){let e=this.pendingAudioRemoveRanges;for(;e.length&&Ri(this.getAudioSourceBufferUpdating());){let s=e[t(491)]();try{this[t(482)][t(542)](s.start,s[t(277)])}catch(e){this[t(333)][t(180)](this[t(394)],"_doRemoveRanges() audioSourceBuffer error",e)}}}}[By(279)](){const t=By;let e=0;const s=this[t(474)];return s&&(e=s[t(157)]),e}_getPlaybackRate(t){const e=By,s=this[e(474)];let i=this.player[e(317)][e(438)]+this.player[e(317)].videoBuffer;const r=Math[e(548)](i,1e3),n=r/2;return t*=1e3,1===s.playbackRate?t>r?1.2:1:t<=n?1:s[e(157)]}[By(388)](){const t=By;if(Ri(this[t(333)]._opt[t(204)])||!this.$videoElement)return!1;const e=this[t(474)],s=e[t(507)],i=e.currentTime;return s.length>=1&&i-s.start(0)>=this[t(333)][t(317)].mseAutoCleanupMaxBackwardDuration}[By(399)](){const t=By;let e=0;return this[t(474)]&&(e=this[t(474)][t(522)]),e}[By(553)](){const t=By,e=this[t(474)];let s=0;if(e){const i=e[t(507)];i[t(294)]&&i[t(194)](0);s=i[t(294)]?i[t(277)](i[t(294)]-1):0}return s}[By(429)](){const t=By,e=this[t(474)];let s=null;if(e){const i=e.buffered,r=i.length?i[t(194)](0):0,n=i[t(294)]?i[t(277)](i[t(294)]-1):0;s={start:r,end:n,diff:n-r}}return s}[By(293)](){const t=By,e=this.$videoElement;let s=0;if(e){const i=e[t(507)];s=i[t(294)]?i[t(194)](0):0}return s}[By(404)](){const t=By,e=this[t(474)];let s=0;if(e){const i=e[t(507)];s=i[t(294)]?i.end(i[t(294)]-1):0}return s}[By(148)](){const t=By,e=this[t(474)];let s=[];if(e){const i=e[t(507)];for(let e=0;e<i.length;e++){let r=i[t(194)](e),n=i[t(277)](e);s[t(471)]({start:r,end:n})}}return s}getVideoBufferDelayTime(){const t=By,e=this.$videoElement;const s=this[t(553)]()-e[t(522)];return s>0?s:0}[By(175)](){const t=By;this.audioSourceBufferCheckTimeout&&(clearTimeout(this[t(483)]),this[t(483)]=null)}[By(448)](){const t=By;this[t(447)]&&(clearTimeout(this[t(447)]),this.audioSourceNoDataCheckTimeout=null)}[By(188)](){return{video:this[By(402)],audio:this.audioMimeType}}[By(296)](){const t=By;let e=(this[t(333)][t(317)][t(499)]+this[t(333)][t(317)][t(438)])/1e3;return Math[t(548)](5,e+3)}[By(172)](){const t=By;return this[t(474)]&&Ri(this.$videoElement.paused)&&Ri(this[t(474)][t(170)])&&0!==this[t(474)][t(157)]&&0!==this[t(474)][t(516)]}[By(302)](){const t=By;let e=!1;if(this[t(474)]){const s=this[t(474)].currentTime,i=this.getVideoBufferEndTime(),r=Math.abs(i-s);e=r<1,e&&this[t(333)][t(496)](this.TAG_NAME,"isCurrentTimeInBufferEnd and currentTime is "+s+t(337)+i+t(305)+r)}return e}[By(267)](){const t=By,e=this.checkSourceBufferStore();if(e<0){const s=this[t(293)]();this[t(333)].debug[t(134)](this[t(394)],"checkVideoPlayCurrentTime store is "+e+t(169)+this[t(474)][t(522)]+t(506)+s),this[t(474)][t(522)]=s}}updateMediaSourceDuration(t){const e=By;this[e(152)]&&(this[e(152)][e(526)]=t)}[By(366)](t,e){const s=By;if(this[s(152)]){this[s(333)][s(496)](this[s(394)],s(517)+t+s(337)+e);const i=this.mediaSource;if(t<0||e<t||null==i||!i[s(366)]||"open"!==i[s(516)])return;i.setLiveSeekableRange(t,e)}}[By(278)](){const t=By;let e=arguments[t(294)]>0&&void 0!==arguments[0]?arguments[0]:1,s=this[t(474)][t(522)];const i=this.getVideoBufferRangeList();if(0===i[t(294)])return s;const r=i[i[t(294)]-1];return s=r.end-r.start<1?r[t(194)]:r[t(277)]-(e||1),s}}const Ny=jy;function jy(t,e){const s=Vy();return(jy=function(t,e){return s[t-=127]})(t,e)}function Vy(){const t=["assign","noSleepVideo ","player","play","data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQRChYECGFOAZwEAAAAAABLfEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHYTbuMU6uEElTDZ1OsggGXTbuMU6uEHFO7a1OsghLJ7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsirXsYMPQkBNgI1MYXZmNTguNDUuMTAwV0GNTGF2ZjU4LjQ1LjEwMESJiECzmgAAAAAAFlSua0C5rgEAAAAAAABO14EBc8WI9UhIq9EDJPCcgQAitZyDdW5khoVWX1ZQOIOBASPjg4QF9eEA4AEAAAAAAAAbsIIBQLqB8FSwggElVLqB8FWwiFW3gQFVuIECrgEAAAAAAABZ14ECc8WIUEWPA9J/iJ6cgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4ZGfgQG1iEDncAAAAAAAYmSBIGOik09wdXNIZWFkAQE4AYC7AAAAAAASVMNnQcJzcwEAAAAAAACXY8CAZ8gBAAAAAAAAFUWji01BSk9SX0JSQU5ERIeEaXNvbWfIAQAAAAAAABZFo41NSU5PUl9WRVJTSU9ORIeDNTEyZ8gBAAAAAAAAJ0WjkUNPTVBBVElCTEVfQlJBTkRTRIeQaXNvbWlzbzJhdmMxbXA0MWfIAQAAAAAAABpFo4dFTkNPREVSRIeNTGF2ZjU4LjQ1LjEwMHNzAQAAAAAAAIZjwItjxYj1SEir0QMk8GfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xWaWRlb0hhbmRsZXJnyAEAAAAAAAAhRaOHRU5DT0RFUkSHlExhdmM1OC45MS4xMDAgbGlidnB4Z8iiRaOIRFVSQVRJT05Eh5QwMDowMDowNS4wMDcwMDAwMDAAAHNzAQAAAAAAAIdjwItjxYhQRY8D0n+InmfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xTb3VuZEhhbmRsZXJnyAEAAAAAAAAiRaOHRU5DT0RFUkSHlUxhdmM1OC45MS4xMDAgbGlib3B1c2fIokWjiERVUkFUSU9ORIeUMDA6MDA6MDUuMDE4MDAwMDAwAAAfQ7Z1T2TngQCjh4IAAID4//6jQKSBAAeAMBIAnQEqQAHwAABHCIWFiIWEiAICAAYWBPcGgWSfa9ubJzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh69AD+/6tQgKOHggAVgPj//qOHggApgPj//qOHggA9gPj//qOHggBRgPj//qOHggBlgPj//qOegQBrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAHmA+P/+o4eCAI2A+P/+o4eCAKGA+P/+o4eCALWA+P/+o4eCAMmA+P/+o56BAM8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IA3YD4//6jh4IA8YD4//6jh4IBBYD4//6jh4IBGYD4//6jh4IBLYD4//6jnoEBMwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggFBgPj//qOHggFVgPj//qOHggFpgPj//qOHggF9gPj//qOHggGRgPj//qOegQGXANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAaWA+P/+o4eCAbmA+P/+o4eCAc2A+P/+o4eCAeGA+P/+o4eCAfWA+P/+o56BAfsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ICCYD4//6jh4ICHYD4//6jh4ICMYD4//6jh4ICRYD4//6jh4ICWYD4//6jnoECXwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggJtgPj//qOHggKBgPj//qOHggKVgPj//qOHggKpgPj//qOHggK9gPj//qOegQLDANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCAtGA+P/+o4eCAuWA+P/+o4eCAvmA+P/+o4eCAw2A+P/+o4eCAyGA+P/+o56BAycA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IDNYD4//6jh4IDSYD4//6jh4IDXYD4//6jh4IDcYD4//6jh4IDhYD4//6jnoEDiwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggOZgPj//qOHggOtgPj//qOHggPBgPj//qOHggPVgPj//qOHggPpgPj//qOegQPvANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCA/2A+P/+o4eCBBGA+P/+o4eCBCWA+P/+o4eCBDmA+P/+o4eCBE2A+P/+o56BBFMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IEiID4//6jh4IEnID4//6jh4IEsID4//6jnoEEtwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggTEgPj//qOHggTYgPj//qOHggTsgPj//qOHggUAgPj//qOHggUUgPj//qOegQUbANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBSiA+P/+o4eCBTyA+P/+o4eCBVCA+P/+o4eCBWSA+P/+o4eCBXiA+P/+o56BBX8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IFjID4//6jh4IFoID4//6jh4IFtID4//6jh4IFyID4//6jh4IF3ID4//6jnoEF4wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggXwgPj//qOHggYEgPj//qOHggYYgPj//qOHggYsgPj//qOHggZAgPj//qOegQZHANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBlSA+P/+o4eCBmiA+P/+o4eCBnyA+P/+o4eCBpCA+P/+o4eCBqSA+P/+o56BBqsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IGuID4//6jh4IGzID4//6jh4IG4ID4//6jh4IG9ID4//6jh4IHCID4//6jnoEHDwDRAgAFEBAUYABhYL/QACIAEM1+tck+ccwAAKOHggccgPj//qOHggcwgPj//qOHggdEgPj//qOHggdYgPj//qOHggdsgPj//qOegQdzANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCB4CA+P/+o4eCB5SA+P/+o4eCB6iA+P/+o4eCB7yA+P/+o4eCB9CA+P/+o56BB9cA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IH5ID4//6jh4IH+ID4//6jh4IIDID4//6jh4IIIID4//6jh4IINID4//6jnoEIOwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgghIgPj//qOHgghcgPj//qOHgghwgPj//qOHggiEgPj//qOegQifANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCMCA+P/+o4eCCNSA+P/+o4eCCOiA+P/+o4eCCPyA+P/+o56BCQMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IJEID4//6jh4IJJID4//6jh4IJOID4//6jh4IJTID4//6jh4IJYID4//6jnoEJZwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggl0gPj//qOHggmIgPj//qOHggmcgPj//qOHggmwgPj//qOHggnEgPj//qOegQnLANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCdiA+P/+o4eCCeyA+P/+o4eCCgCA+P/+o4eCChSA+P/+o4eCCiiA+P/+o56BCi8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IKPID4//6jh4IKUID4//6jh4IKZID4//6jh4IKeID4//6jh4IKjID4//6jnoEKkwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggqggPj//qOHggq0gPj//qOHggrIgPj//qOHggrcgPj//qOHggrwgPj//qOegQr3ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCwSA+P/+o4eCCxiA+P/+o4eCCyyA+P/+o4eCC0CA+P/+o4eCC1SA+P/+o56BC1sA0QIABRAQFGAAYWC/0AAiABDNfrXJPnHMAACjh4ILaID4//6jh4ILfID4//6jh4ILkID4//6jh4ILpID4//6jh4ILuID4//6jnoELvwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggvMgPj//qOHggvggPj//qOHggv0gPj//qOHggwIgPj//qOHggwcgPj//qOegQwjANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDDCA+P/+o4eCDESA+P/+o4eCDFiA+P/+o4eCDGyA+P/+o4eCDICA+P/+o56BDIcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IMlID4//6jh4IMqID4//6jh4IMvID4//6jh4IM0ID4//6jnoEM6wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg0MgPj//qOHgg0ggPj//qOHgg00gPj//qOHgg1IgPj//qOegQ1PANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDVyA+P/+o4eCDXCA+P/+o4eCDYSA+P/+o4eCDZiA+P/+o4eCDayA+P/+o56BDbMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4INwID4//6jh4IN1ID4//6jh4IN6ID4//6jh4IN/ID4//6jh4IOEID4//6jnoEOFwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg4kgPj//qOHgg44gPj//qOHgg5MgPj//qOHgg5ggPj//qOHgg50gPj//qOegQ57ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDoiA+P/+o4eCDpyA+P/+o4eCDrCA+P/+o4eCDsSA+P/+o4eCDtiA+P/+o56BDt8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IO7ID4//6jh4IPAID4//6jh4IPFID4//6jh4IPKID4//6jh4IPPID4//6jnoEPQwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg9QgPj//qOHgg9kgPj//qOHgg94gPj//qOHgg+MgPj//qOHgg+ggPj//qOegQ+nANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCD7SA+P/+o4eCD8iA+P/+o4eCD9yA+P/+o4eCD/CA+P/+o4eCEASA+P/+o56BEAsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IQGID4//6jh4IQLID4//6jh4IQQID4//6jh4IQVID4//6jh4IQaID4//6jnoEQbwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghB8gPj//qOHghCQgPj//qOHghCkgPj//qOHghC4gPj//qOHghDMgPj//qOegRDTANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEOCA+P/+o4eCEPSA+P/+o4eCEQiA+P/+o56BETcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IRQ4D4//6jh4IRV4D4//6jh4IRa4D4//6jh4IRf4D4//6jh4IRk4D4//6jnoERmwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghGngPj//qOHghG7gPj//qOHghHPgPj//qOHghHjgPj//qOHghH3gPj//qOegRH/ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEguA+P/+o4eCEh+A+P/+o4eCEjOA+P/+o4eCEkeA+P/+o4eCEluA+P/+o56BEmMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ISb4D4//6jh4ISg4D4//6jh4ISl4D4//6jh4ISq4D4//6jh4ISv4D4//6jnoESxwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghLTgPj//qOHghLngPj//qOHghL7gPj//qOHghMPgPj//qOHghMjgPj//qOegRMrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEzeA+P/+o4eCE0uA+P/+o4eCE1+A+P/+o4eCE3OA+P/+oAEAAAAAAAAPoYeCE4cA+P/+daKDB/KBHFO7a5G7j7OBB7eK94EB8YIDX/CBDA==","-100%","noSleepVideo Wake Lock active.","18dhlnpE","body","NoSleep","catch","addEventListener","No Sleep","name","1087492LaAXmM","visible","Disabling wake lock.","release","then","fullscreenchange","1403704QxogWX","Native Wake Lock API not supported. so use video element.","createElement","screen","absolute","type","currentTime","handleNoSleepVideoTimeUpdate","Samsung","webm","_addSourceToVideo","visibilitychange","7516jtBcLy","removeEventListener","timeupdate","debugLog","2885112Xbpqsq","indexOf","playsinline","enable","video","request","9224655aHsxEV","28CXPVeg","wakeLock","append","pause","userAgent","disable","3686530UGAQcz","src","message","noSleepVideo","style","3uSRtlX","setAttribute","enabled","title","isEnabled","visibilityState","debugWarn","4467270rJCtxe","handleVisibilityChange","appendChild","removeChild","destroy","55naLVsc","_wakeLock","navigator","parentNode","Native Wake Lock API supported."];return(Vy=function(){return t})()}!function(t,e){const s=jy,i=t();for(;;)try{if(526640===-parseInt(s(137))/1*(parseInt(s(174))/2)+-parseInt(s(196))/3*(-parseInt(s(156))/4)+-parseInt(s(132))/5+parseInt(s(178))/6+parseInt(s(185))/7*(-parseInt(s(162))/8)+-parseInt(s(149))/9*(-parseInt(s(191))/10)+parseInt(s(184))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Vy);const Wy=Ny(146),Gy=()=>Ny(186)in navigator&&-1===window[Ny(139)][Ny(189)][Ny(179)](Ny(170))&&Ri(vs());class zy{constructor(t){const e=Ny;this.player=t,this[e(127)]=!1,Gy()?(this[e(144)].debugLog(e(151),e(141)),this[e(138)]=null,this[e(133)]=()=>{const t=e;null!==this[t(138)]&&document[t(130)]===t(157)&&this[t(181)]()},document[e(153)](e(173),this[e(133)]),document[e(153)](e(161),this[e(133)])):(this[e(144)].debugLog(e(151),e(163)),this[e(194)]=document[e(164)](e(182)),this.noSleepVideo[e(197)](e(128),e(154)),this[e(194)].setAttribute(e(180),""),this._addSourceToVideo(this[e(194)],e(171),Wy),this[e(172)](this[e(194)],"mp4","data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACORtZGF03gIATGF2YzU4LjM1LjEwMAACMEAOAAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MSByMzAyNyA0MTIxMjc3IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTAgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MCBrZXlpbnQ9MjUwIGtleWludF9taW49MTAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAADvZYiED/JigADD7JycnJycnJycnJycnJycnJycnJ11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111114BGCAHARggBwEYIAcBGCAHARggBwAAAAdBmjgf4BLYARggBwEYIAcBGCAHARggBwAAAAdBmlQH+AS2ARggBwEYIAcBGCAHARggBwAAAAdBmmA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZrAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0Ga4D/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbAD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbID/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm0A/wCWwARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwEYIAcAAAAHQZuAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0Gb4D/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmiA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmkA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZpgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmwA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtgP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbgD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm+A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcAAAAHQZogP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaQD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GaYD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GagD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmqA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwAAAAdBm4A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBm6A/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZvAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZvgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZoAO8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaIDfAJbABGCAHARggBwEYIAcBGCAHAAAMxm1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAABOgAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAPLdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAABOIAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAElVVUA8AAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAATiAAAAAAAAQAAAAADQ21kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAKAAAAMgAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAu5taW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAKuc3RibAAAAKpzdHNkAAAAAAAAAAEAAACaYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAFAAPAASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADRhdmNDAULAC//hABxnQsAL2QFB+/8ACwAMEAAAAwAQAAADAUDxQqSAAQAFaMuDyyAAAAAQcGFzcAAAAAsAAAAMAAAAGHN0dHMAAAAAAAAAAQAAADIAAAQAAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAA3HN0c3oAAAAAAAAAAAAAADIAAANoAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAANhzdGNvAAAAAAAAADIAAABFAAADwQAAA9wAAAP3AAAEFgAABDEAAARMAAAEawAABIYAAAShAAAEwAAABNcAAATuAAAFDQAABSgAAAVDAAAFYgAABX0AAAWYAAAFtwAABdIAAAXtAAAGBAAABh8AAAY6AAAGWQAABnQAAAaPAAAGrgAABskAAAbkAAAHAwAABx4AAAcxAAAHUAAAB2sAAAeGAAAHpQAAB8AAAAfbAAAH+gAACBUAAAgwAAAITwAACGIAAAh9AAAInAAACLcAAAjSAAAI8QAACCV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAAE6AAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAABOIAAAEAAABAAAAAAedbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAACsRAADYVRVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAAHSG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAHDHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAACsRAAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAENiAAABVQFgICABRIIVuUABoCAgAECAAAAYHN0dHMAAAAAAAAACgAAAC8AAAQAAAAAAQAACtUAAAAsAAAEAAAAAAEAAArWAAAALAAABAAAAAABAAAK1QAAACwAAAQAAAAAAQAACtUAAAAaAAAEAAAAAAEAAAH/AAABzHN0c2MAAAAAAAAAJQAAAAEAAAABAAAAAQAAAAIAAAAFAAAAAQAAAAMAAAAEAAAAAQAAAAUAAAAFAAAAAQAAAAYAAAAEAAAAAQAAAAgAAAAFAAAAAQAAAAkAAAAEAAAAAQAAAAsAAAAFAAAAAQAAAAwAAAADAAAAAQAAAA4AAAAFAAAAAQAAAA8AAAAEAAAAAQAAABEAAAAFAAAAAQAAABIAAAAEAAAAAQAAABQAAAAFAAAAAQAAABUAAAAEAAAAAQAAABcAAAADAAAAAQAAABgAAAAEAAAAAQAAABoAAAAFAAAAAQAAABsAAAAEAAAAAQAAAB0AAAAFAAAAAQAAAB4AAAAEAAAAAQAAACAAAAAFAAAAAQAAACEAAAAEAAAAAQAAACIAAAACAAAAAQAAACMAAAAFAAAAAQAAACQAAAAEAAAAAQAAACYAAAAFAAAAAQAAACcAAAAEAAAAAQAAACkAAAAFAAAAAQAAACoAAAAEAAAAAQAAACwAAAAFAAAAAQAAAC0AAAACAAAAAQAAAC4AAAAEAAAAAQAAAC8AAAAFAAAAAQAAADAAAAAEAAAAAQAAADIAAAAFAAAAAQAAADMAAAAEAAAAAQAAA1xzdHN6AAAAAAAAAAAAAADSAAAAFQAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAA3HN0Y28AAAAAAAAAMwAAADAAAAOtAAADzAAAA+cAAAQCAAAEIQAABDwAAARXAAAEdgAABJEAAASsAAAEywAABOIAAAT5AAAFGAAABTMAAAVOAAAFbQAABYgAAAWjAAAFwgAABd0AAAX4AAAGDwAABioAAAZFAAAGZAAABn8AAAaaAAAGuQAABtQAAAbvAAAHDgAABykAAAc8AAAHWwAAB3YAAAeRAAAHsAAAB8sAAAfmAAAIBQAACCAAAAg7AAAIWgAACG0AAAiIAAAIpwAACMIAAAjdAAAI/AAAABpzZ3BkAQAAAHJvbGwAAAACAAAAAf//AAAAHHNiZ3AAAAAAcm9sbAAAAAEAAADSAAAAAQAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguMjAuMTAw"),Object[e(142)](this.noSleepVideo[e(195)],{position:e(166),left:"-100%",top:e(147)}),document.querySelector(e(150))[e(187)](this[e(194)]),this.handleNoSleepVideoTimeUpdate=()=>{const t=e;this[t(194)]&&this.noSleepVideo[t(168)]>4&&(this[t(194)].currentTime=1)},this.noSleepVideo[e(153)](e(176),this[e(169)]))}[Ny(136)](){const t=Ny;if(this[t(138)]&&(this[t(138)][t(159)](),this._wakeLock=null),this[t(194)]){this[t(169)]&&this.noSleepVideo[t(175)](t(176),this[t(169)]);try{this.noSleepVideo[t(140)]&&this.noSleepVideo.parentNode[t(135)](this[t(194)])}catch(e){this[t(144)][t(131)]("NoSleep","Failed to remove noSleepVideo element.")}this[t(194)]=null}this[t(133)]&&(document.removeEventListener("visibilitychange",this.handleVisibilityChange),document[t(175)](t(161),this[t(133)]))}_addSourceToVideo(t,e,s){const i=Ny;var r=document[i(164)]("source");r[i(192)]=s,r[i(167)]="video/"+e,t[i(134)](r)}get[Ny(129)](){return this[Ny(127)]}[Ny(181)](){const t=Ny;if(Gy())return navigator[t(186)][t(183)](t(165))[t(160)]((e=>{const s=t;this[s(138)]=e,this[s(127)]=!0,this[s(144)][s(177)]("wakeLock","Wake Lock active."),this[s(138)][s(153)](s(159),(()=>{const t=s;this.player[t(177)](t(186),"Wake Lock released.")}))}))[t(152)]((e=>{const s=t;throw this[s(127)]=!1,this.player[s(131)](s(186),e[s(155)]+", "+e[s(193)]),e}));return this[t(194)][t(145)]()[t(160)]((e=>{const s=t;return this[s(144)].debugLog(s(186),s(148)),this[s(127)]=!0,e}))[t(152)]((e=>{const s=t;throw this[s(144)][s(131)]("wakeLock",s(143)+e[s(155)]+", "+e[s(193)]),this[s(127)]=!1,e}))}[Ny(190)](){const t=Ny;Gy()?(this[t(138)]&&this[t(138)].release(),this[t(138)]=null):this.noSleepVideo&&this.noSleepVideo[t(188)](),this.enabled=!1,this[t(144)][t(177)](t(186),t(158))}}const Hy=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ky=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=qy},qy=Number.MAX_SAFE_INTEGER||9007199254740991;let Qy=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Yy=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),Jy=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var Xy="manifest",$y="level",Zy="audioTrack",tA="subtitleTrack",eA="main",sA="audio",iA="subtitle";class rA{constructor(t,e=0,s=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=s}sample(t,e){const s=Math.pow(this.alpha_,t);this.estimate_=e*(1-s)+s*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class nA{constructor(t,e,s,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new rA(t),this.fast_=new rA(e),this.defaultTTFB_=i,this.ttfb_=new rA(t)}update(t,e){const{slow_:s,fast_:i,ttfb_:r}=this;s.halfLife!==t&&(this.slow_=new rA(t,s.getEstimate(),s.getTotalWeight())),i.halfLife!==e&&(this.fast_=new rA(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==t&&(this.ttfb_=new rA(t,r.getEstimate(),r.getTotalWeight()))}sample(t,e){const s=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/s;this.fast_.sample(s,i),this.slow_.sample(s,i)}sampleTTFB(t){const e=t/1e3,s=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(s,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function oA(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)({}).hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},aA.apply(null,arguments)}function hA(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function lA(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hA(Object(s),!0).forEach((function(e){oA(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hA(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class cA{constructor(t,e){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const s=`[${t}]:`;this.trace=dA,this.debug=e.debug.bind(null,s),this.log=e.log.bind(null,s),this.warn=e.warn.bind(null,s),this.info=e.info.bind(null,s),this.error=e.error.bind(null,s)}}const dA=function(){},uA={trace:dA,debug:dA,log:dA,warn:dA,info:dA,error:dA};function pA(){return aA({},uA)}function fA(t,e,s){return e[t]?e[t].bind(e):function(t,e){const s=self.console[t];return s?s.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):dA}(t,s)}const mA=pA();const gA=mA;function yA(t=!0){if("undefined"==typeof self)return;return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function AA(t,e){const s=Object.keys(t),i=Object.keys(e),r=s.length,n=i.length;return!r||!n||r===n&&!s.some((t=>-1===i.indexOf(t)))}function vA(t,e=!1){if("undefined"!=typeof TextDecoder){const s=new TextDecoder("utf-8").decode(t);if(e){const t=s.indexOf("\0");return-1!==t?s.substring(0,t):s}return s.replace(/\0/g,"")}const s=t.length;let i,r,n,o="",a=0;for(;a<s;){if(i=t[a++],0===i&&e)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:r=t[a++],o+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[a++],n=t[a++],o+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&n)<<0)}}return o}const bA=function(t){let e="";for(let s=0;s<t.length;s++){let i=t[s].toString(16);i.length<2&&(i="0"+i),e+=i}return e};function SA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wA,EA={exports:{}};var TA=(wA||(wA=1,function(t,e){var s,i,r,n,o;s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,s){if(s=s||{},t=t.trim(),!(e=e.trim())){if(!s.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var n=o.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return s.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var h=i.exec(a.path);a.netLoc=h[1],a.path=h[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(l.netLoc=a.netLoc,"/"!==n.path[0]))if(n.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+n.path;l.path=o.normalizePath(d)}else l.path=a.path,n.params||(l.params=a.params,n.query||(l.query=a.query));return null===l.path&&(l.path=s.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(l)},parseURL:function(t){var e=s.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}(EA)),EA.exports);class IA{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var kA="audio",_A="video",CA="audiovideo";class DA{constructor(t){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,"string"==typeof t&&(t={url:t}),this.base=t,function(t,e){const s=xA(t,e);s&&(s.enumerable=!0,Object.defineProperty(t,e,s))}(this,"stats")}setByteRange(t,e){const s=t.split("@",2);let i;i=1===s.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(s[1]),this._byteRange=[i,parseInt(s[0])+i]}get baseurl(){return this.base.url}get byteRange(){return null===this._byteRange?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return null===this._streams&&(this._streams={[kA]:null,[_A]:null,[CA]:null}),this._streams}set elementaryStreams(t){this._streams=t}get hasStats(){return null!==this._stats}get hasStreams(){return null!==this._streams}get stats(){return null===this._stats&&(this._stats=new IA),this._stats}set stats(t){this._stats=t}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=TA.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[kA]=null,t[_A]=null,t[CA]=null}}function RA(t){return"initSegment"!==t.sn}class LA extends DA{constructor(t,e){super(e),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get byteLength(){if(this.hasStats){const t=this.stats.total;if(t)return t}if(this.byteRange){const t=this.byteRange[0],e=this.byteRange[1];if(Hy(t)&&Hy(e))return e-t}return null}get bitrate(){return this.byteLength?8*this.byteLength/this.duration:this._bitrate?this._bitrate:null}set bitrate(t){this._bitrate=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;const t=Hy(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}get programDateTime(){return null===this._programDateTime&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(t){Hy(t)?this._programDateTime=t:this._programDateTime=this.rawProgramDateTime=null}get ref(){return RA(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(t){this.setStart(this.start+t)}setStart(t){this.start=t,this._ref&&(this._ref.start=t)}setDuration(t){this.duration=t,this._ref&&(this._ref.duration=t)}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,s,i,r,n=!1){const{elementaryStreams:o}=this,a=o[t];a?(a.startPTS=Math.min(a.startPTS,e),a.endPTS=Math.max(a.endPTS,s),a.startDTS=Math.min(a.startDTS,i),a.endDTS=Math.max(a.endDTS,r)):o[t]={startPTS:e,endPTS:s,startDTS:i,endDTS:r,partial:n}}}class PA extends DA{constructor(t,e,s,i,r){super(s),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=i;const n=t.enumeratedString("BYTERANGE");n&&this.setByteRange(n,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}function xA(t,e){const s=Object.getPrototypeOf(t);if(s){const t=Object.getOwnPropertyDescriptor(s,e);return t||xA(s,e)}}const MA=Math.pow(2,32)-1,BA=[].push,FA={video:1,audio:2,id3:3,text:4};function UA(t){return String.fromCharCode.apply(null,t)}function OA(t,e){const s=t[e]<<8|t[e+1];return s<0?65536+s:s}function NA(t,e){const s=VA(t,e);return s<0?4294967296+s:s}function jA(t,e){let s=NA(t,e);return s*=Math.pow(2,32),s+=NA(t,e+4),s}function VA(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function WA(t,e,s){t[e]=s>>24,t[e+1]=s>>16&255,t[e+2]=s>>8&255,t[e+3]=255&s}function GA(t,e){const s=[];if(!e.length)return s;const i=t.byteLength;for(let r=0;r<i;){const n=NA(t,r),o=n>1?r+n:i;if(UA(t.subarray(r+4,r+8))===e[0])if(1===e.length)s.push(t.subarray(r+8,o));else{const i=GA(t.subarray(r+8,o),e.slice(1));i.length&&BA.apply(s,i)}r=o}return s}function zA(t){const e=[],s=t[0];let i=8;const r=NA(t,i);i+=4;let n=0,o=0;0===s?(n=NA(t,i),o=NA(t,i+4),i+=8):(n=jA(t,i),o=jA(t,i+8),i+=16),i+=2;let a=t.length+o;const h=OA(t,i);i+=2;for(let s=0;s<h;s++){let s=i;const n=NA(t,s);s+=4;const o=2147483647&n;if(1===(2147483648&n)>>>31)return gA.warn("SIDX has hierarchical references (not supported)"),null;const h=NA(t,s);s+=4,e.push({referenceSize:o,subsegmentDuration:h,info:{duration:h/r,start:a,end:a+o-1}}),a+=o,s+=4,i=s}return{earliestPresentationTime:n,timescale:r,version:s,referencesCount:h,references:e}}function HA(t){const e=[],s=GA(t,["moov","trak"]);for(let t=0;t<s.length;t++){const i=s[t],r=GA(i,["tkhd"])[0];if(r){let t=r[0];const s=NA(r,0===t?12:20),n=GA(i,["mdia","mdhd"])[0];if(n){t=n[0];const r=NA(n,0===t?12:20),o=GA(i,["mdia","hdlr"])[0];if(o){const t=UA(o.subarray(8,12)),n={soun:kA,vide:_A}[t],a=KA(GA(i,["mdia","minf","stbl","stsd"])[0]);n?(e[s]={timescale:r,type:n,stsd:a},e[n]=lA({timescale:r,id:s},a)):e[s]={timescale:r,type:t,stsd:a}}}}}return GA(t,["moov","mvex","trex"]).forEach((t=>{const s=NA(t,4),i=e[s];i&&(i.default={duration:NA(t,12),flags:NA(t,20)})})),e}function KA(t){const e=t.subarray(8),s=e.subarray(86),i=UA(e.subarray(4,8));let r,n=i;const o="enca"===i||"encv"===i;if(o){const t=GA(e,[i])[0];GA(t.subarray("enca"===i?28:78),["sinf"]).forEach((t=>{const e=GA(t,["schm"])[0];if(e){const s=UA(e.subarray(4,8));if("cbcs"===s||"cenc"===s){const e=GA(t,["frma"])[0];e&&(n=UA(e))}}}))}const a=n;switch(n){case"avc1":case"avc2":case"avc3":case"avc4":{const t=GA(s,["avcC"])[0];t&&t.length>3&&(n+="."+YA(t[1])+YA(t[2])+YA(t[3]),r=qA("avc1"===a?"dva1":"dvav",s));break}case"mp4a":{const t=GA(e,[i])[0],s=GA(t.subarray(28),["esds"])[0];if(s&&s.length>7){let t=4;if(3!==s[t++])break;t=QA(s,t),t+=2;const e=s[t++];if(128&e&&(t+=2),64&e&&(t+=s[t++]),4!==s[t++])break;t=QA(s,t);const i=s[t++];if(64!==i)break;if(n+="."+YA(i),t+=12,5!==s[t++])break;t=QA(s,t);const r=s[t++];let o=(248&r)>>3;31===o&&(o+=1+((7&r)<<3)+((224&s[t])>>5)),n+="."+o}break}case"hvc1":case"hev1":{const t=GA(s,["hvcC"])[0];if(t&&t.length>12){const e=t[1],s=["","A","B","C"][e>>6],i=31&e,r=NA(t,2),o=(32&e)>>5?"H":"L",a=t[12],h=t.subarray(6,12);n+="."+s+i,n+="."+function(t){let e=0;for(let s=0;s<32;s++)e|=(t>>s&1)<<31-s;return e>>>0}(r).toString(16).toUpperCase(),n+="."+o+a;let l="";for(let t=h.length;t--;){const e=h[t];if(e||l){l="."+e.toString(16).toUpperCase()+l}}n+=l}r=qA("hev1"==a?"dvhe":"dvh1",s);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":n=qA(n,s)||n;break;case"vp09":{const t=GA(s,["vpcC"])[0];if(t&&t.length>6){const e=t[4],s=t[5],i=t[6]>>4&15;n+="."+JA(e)+"."+JA(s)+"."+JA(i)}break}case"av01":{const t=GA(s,["av1C"])[0];if(t&&t.length>2){const e=t[1]>>>5,i=31&t[1],o=t[2]>>>7?"H":"M",a=(64&t[2])>>6,h=(32&t[2])>>5,l=2===e&&a?h?12:10:a?10:8,c=(16&t[2])>>4,d=(8&t[2])>>3,u=(4&t[2])>>2,p=3&t[2],f=1,m=1,g=1,y=0;n+="."+e+"."+JA(i)+o+"."+JA(l)+"."+c+"."+d+u+p+"."+JA(f)+"."+JA(m)+"."+JA(g)+"."+y,r=qA("dav1",s)}break}}return{codec:n,encrypted:o,supplemental:r}}function qA(t,e){const s=GA(e,["dvvC"]),i=s.length?s[0]:GA(e,["dvcC"])[0];if(i){const e=i[2]>>1&127,s=i[2]<<5&32|i[3]>>3&31;return t+"."+JA(e)+"."+JA(s)}}function QA(t,e){const s=e+5;for(;128&t[e++]&&e<s;);return e}function YA(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function JA(t){return(t<10?"0":"")+t}function XA(t){const e=GA(t,["schm"])[0];if(e){const s=UA(e.subarray(4,8));if("cbcs"===s||"cenc"===s)return GA(t,["schi","tenc"])[0]}return null}function $A(t,e){const s=new Uint8Array(t.length+e.length);return s.set(t),s.set(e,t.length),s}function ZA(t,e){const s=[],i=e.samples,r=e.timescale,n=e.id;let o=!1;return GA(i,["moof"]).map((a=>{const h=a.byteOffset-8;GA(a,["traf"]).map((a=>{const l=GA(a,["tfdt"]).map((t=>{const e=t[0];let s=NA(t,4);return 1===e&&(s*=Math.pow(2,32),s+=NA(t,8)),s/r}))[0];return void 0!==l&&(t=l),GA(a,["tfhd"]).map((l=>{const c=NA(l,4),d=16777215&NA(l,0);let u=0;const p=0!=(16&d);let f=0;const m=0!=(32&d);let g=8;c===n&&(0!=(1&d)&&(g+=8),0!=(2&d)&&(g+=4),0!=(8&d)&&(u=NA(l,g),g+=4),p&&(f=NA(l,g),g+=4),m&&(g+=4),"video"===e.type&&(o=tv(e.codec)),GA(a,["trun"]).map((n=>{const a=n[0],l=16777215&NA(n,0),c=0!=(1&l);let d=0;const p=0!=(4&l),m=0!=(256&l);let g=0;const y=0!=(512&l);let A=0;const v=0!=(1024&l),b=0!=(2048&l);let S=0;const w=NA(n,4);let E=8;c&&(d=NA(n,E),E+=4),p&&(E+=4);let T=d+h;for(let h=0;h<w;h++){if(m?(g=NA(n,E),E+=4):g=u,y?(A=NA(n,E),E+=4):A=f,v&&(E+=4),b&&(S=0===a?NA(n,E):VA(n,E),E+=4),e.type===_A){let e=0;for(;e<A;){const n=NA(i,T);if(T+=4,ev(o,i[T])){sv(i.subarray(T,T+n),o?2:1,t+S/r,s)}T+=n,e+=n+4}}t+=g/r}})))}))}))})),s}function tv(t){if(!t)return!1;const e=t.substring(0,4);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}function ev(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6===(31&e)}function sv(t,e,s,i){const r=iv(t);let n=0;n+=e;let o=0,a=0,h=0;for(;n<r.length;){o=0;do{if(n>=r.length)break;h=r[n++],o+=h}while(255===h);a=0;do{if(n>=r.length)break;h=r[n++],a+=h}while(255===h);const e=r.length-n;let l=n;if(a<e)n+=a;else if(a>e){gA.error(`Malformed SEI payload. ${a} is too small, only ${e} bytes left to parse.`),i.push({pts:s,originData:new Uint8Array(t)});break}if(4===o){if(181===r[l++]){const e=OA(r,l);if(l+=2,49===e){const e=NA(r,l);if(l+=4,1195456820===e){const e=r[l++];if(3===e){const n=r[l++],a=31&n,h=64&n,c=h?2+3*a:0,d=new Uint8Array(c);if(h){d[0]=n;for(let t=1;t<c;t++)d[t]=r[l++]}i.push({type:e,payloadType:o,pts:s,bytes:d,originData:new Uint8Array(t)})}}}}}else if(5===o&&a>16){const e=[];for(let t=0;t<16;t++){const s=r[l++].toString(16);e.push(1==s.length?"0"+s:s),3!==t&&5!==t&&7!==t&&9!==t||e.push("-")}const n=a-16,h=new Uint8Array(n);for(let t=0;t<n;t++)h[t]=r[l++];i.push({payloadType:o,pts:s,uuid:e.join(""),userData:vA(h),userDataBytes:h,originData:new Uint8Array(t)})}}}function iv(t){const e=t.byteLength,s=[];let i=1;for(;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return t;const r=e-s.length,n=new Uint8Array(r);let o=0;for(i=0;i<r;o++,i++)o===s[0]&&(o++,s.shift()),n[i]=t[o];return n}function rv(t,e,s){if(16!==t.byteLength)throw new RangeError("Invalid system id");let i,r,n;i=0,r=new Uint8Array,n=new Uint8Array;const o=new Uint8Array(4);return s&&s.byteLength>0&&new DataView(o.buffer).setUint32(0,s.byteLength,!1),function(t,...e){const s=e.length;let i=8,r=s;for(;r--;)i+=e[r].byteLength;const n=new Uint8Array(i);for(n[0]=i>>24&255,n[1]=i>>16&255,n[2]=i>>8&255,n[3]=255&i,n.set(t,4),r=0,i=8;r<s;r++)n.set(e[r],i),i+=e[r].byteLength;return n}([112,115,115,104],new Uint8Array([0,0,0,0]),t,n,r,o,s||new Uint8Array)}function nv(t){const e=t.getUint32(0),s=t.byteOffset,i=t.byteLength;if(i<e)return{offset:s,size:i};if(1886614376!==t.getUint32(4))return{offset:s,size:e};const r=t.getUint32(8)>>>24;if(0!==r&&1!==r)return{offset:s,size:e};const n=t.buffer,o=bA(new Uint8Array(n,s+12,16)),a=t.getUint32(28);let h=null,l=null;if(0===r){if(e-32<a||a<22)return{offset:s,size:e};l=new Uint8Array(n,s+32,a)}else if(1===r){if(!a||i<s+32+16*a+16)return{offset:s,size:e};h=[];for(let t=0;t<a;t++)h.push(new Uint8Array(n,s+32+16*t,16))}return{version:r,systemId:o,kids:h,data:l,offset:s,size:e}}const ov=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),av={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function hv(t,e){const s=av[e];return!!s&&!!s[t.slice(0,4)]}function lv(t,e,s=!0){return!t.split(",").some((t=>!cv(t,e,s)))}function cv(t,e,s=!0){var i;const r=yA(s);return null!=(i=null==r?void 0:r.isTypeSupported(dv(t,e)))&&i}function dv(t,e){return`${e}/mp4;codecs=${t}`}function uv(t){if(t){const e=t.substring(0,4);return av.video[e]}return 2}function pv(t){const e=ov();return t.split(",").reduce(((t,s)=>{const i=e&&tv(s)?9:av.video[s];return i?(2*i+t)/(t?3:2):(av.audio[s]+t)/(t?2:1)}),0)}const fv={};const mv=/flac|opus|mp4a\.40\.34/i;function gv(t,e=!0){return t.replace(mv,(t=>function(t,e=!0){if(fv[t])return fv[t];const s={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let r=0;r<s.length;r++){var i;if(cv(s[r],"audio",e))return fv[t]=s[r],s[r];if("mp3"===s[r]&&null!=(i=yA(e))&&i.isTypeSupported("audio/mpeg"))return""}return t}(t.toLowerCase(),e)))}function yv(t,e){if(t&&(t.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)))return t;if(e){const s=e.split(",");if(s.length>1){if(t)for(let e=s.length;e--;)if(s[e].substring(0,4)===t.substring(0,4))return s[e];return s[0]}}return e||t}function Av(t){if(t.startsWith("av01.")){const e=t.split("."),s=["0","111","01","01","01","0"];for(let t=e.length;t>4&&t<10;t++)e[t]=s[t-4];return e.join(".")}return t}function vv(t){const e=yA(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function bv(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const Sv={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function wv(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}const Ev={};function Tv(t,e,s,i,r,n){const o=t.audioCodec?t.audioGroups:null,a=null==n?void 0:n.audioCodec,h=null==n?void 0:n.channels,l=h?parseInt(h):a?1/0:2;let c=null;if(null!=o&&o.length)try{c=1===o.length&&o[0]?e.groups[o[0]].channels:o.reduce(((t,s)=>{if(s){const i=e.groups[s];if(!i)throw new Error(`Audio track group ${s} not found`);Object.keys(i.channels).forEach((e=>{t[e]=(t[e]||0)+i.channels[e]}))}return t}),{2:0})}catch(t){return!0}return void 0!==t.videoCodec&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(i,30)||"SDR"!==t.videoRange&&t.videoRange!==s||t.bitrate>Math.max(r,8e6))||!!c&&Hy(l)&&Object.keys(c).some((t=>parseInt(t)>l))}function Iv(t,e,s){const i=t.videoCodec,r=t.audioCodec;if(!i&&!r||!s)return Promise.resolve(Sv);const n=[];if(i){const e={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},s=t.videoRange;"SDR"!==s&&(e.transferFunction=s.toLowerCase());const r=i.split(","),o=navigator.userAgent;if(r.some((t=>tv(t)))&&ov())return Promise.resolve(wv(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${o})`),n));n.push.apply(n,r.map((t=>({type:"media-source",video:lA(lA({},e),{},{contentType:dv(Av(t),"video")})}))))}return r&&t.audioGroups&&t.audioGroups.forEach((t=>{var s;t&&(null==(s=e.groups[t])||s.tracks.forEach((e=>{if(e.groupId===t){const t=e.channels||"",s=parseFloat(t);Hy(s)&&s>2&&n.push.apply(n,r.split(",").map((t=>({type:"media-source",audio:{contentType:dv(t,"audio"),channels:""+s}}))))}})))})),Promise.all(n.map((t=>{const e=function(t){const{audio:e,video:s}=t,i=s||e;if(i){const t=bv(i.contentType);if(s)return`r${s.height}x${s.width}f${Math.ceil(s.framerate)}${s.transferFunction||"sd"}_${t}_${Math.ceil(s.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${t}`}return""}(t);return Ev[e]||(Ev[e]=s.decodingInfo(t))}))).then((t=>({supported:!t.some((t=>!t.supported)),configurations:n,decodingInfoResults:t}))).catch((t=>({supported:!1,configurations:n,decodingInfoResults:[],error:t})))}const kv=["NONE","TYPE-0","TYPE-1",null];const _v=["SDR","PQ","HLG"];var Cv="",Dv="YES",Rv="v2";function Lv(t){const{canSkipUntil:e,canSkipDateRanges:s,age:i}=t;return e&&i<e/2?s?Rv:Dv:Cv}class Pv{constructor(t,e,s){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=s}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class xv{constructor(t){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>!!t)).map((t=>t.substring(0,4))).join(","),"supplemental"in t){var e;this.supplemental=t.supplemental;const s=null==(e=t.supplemental)?void 0:e.videoCodec;s&&s!==t.videoCodec&&(this.codecSet+=`,${s.substring(0,4)}`)}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return Mv(this._audioGroups,t)}hasSubtitleGroup(t){return Mv(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function Mv(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function Bv(t,e){let s=!1,i=[];if(t&&(s="SDR"!==t,i=[t]),e){i=e.allowedVideoRanges||_v.slice(0);const t="SDR"!==i.join("")&&!e.videoCodec;s=void 0!==e.preferHDR?e.preferHDR:t&&function(){if("function"==typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),s||(i=["SDR"])}return{preferHDR:s,allowedVideoRanges:i}}const Fv=(t,e)=>JSON.stringify(t,(t=>{const e=new WeakSet;return(s,i)=>{if(t&&(i=t(s,i)),"object"==typeof i&&null!==i){if(e.has(i))return;e.add(i)}return i}})(e));function Uv(t,e){gA.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Ov(t){return t.reduce(((t,e)=>{let s=t.groups[e.groupId];s||(s=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),s.tracks.push(e);const i=e.channels||"2";return s.channels[i]=(s.channels[i]||0)+1,s.hasDefault=s.hasDefault||e.default,s.hasAutoSelect=s.hasAutoSelect||e.autoselect,s.hasDefault&&(t.hasDefaultAudio=!0),s.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Nv(t){if(!t)return t;const{lang:e,assocLang:s,characteristics:i,channels:r,audioCodec:n}=t;return{lang:e,assocLang:s,characteristics:i,channels:r,audioCodec:n}}function jv(t,e,s){if("attrs"in t){const s=e.indexOf(t);if(-1!==s)return s}for(let i=0;i<e.length;i++){if(Vv(t,e[i],s))return i}return-1}function Vv(t,e,s){const{groupId:i,name:r,lang:n,assocLang:o,default:a}=t,h=t.forced;return(void 0===i||e.groupId===i)&&(void 0===r||e.name===r)&&(void 0===n||function(t,e="--"){if(t.length===e.length)return t===e;return t.startsWith(e)||e.startsWith(t)}(n,e.lang))&&(void 0===n||e.assocLang===o)&&(void 0===a||e.default===a)&&(void 0===h||e.forced===h)&&(!("characteristics"in t)||function(t,e=""){const s=t.split(","),i=e.split(",");return s.length===i.length&&!s.some((t=>-1===i.indexOf(t)))}(t.characteristics||"",e.characteristics))&&(void 0===s||s(t,e))}function Wv(t,e){const{audioCodec:s,channels:i}=t;return!(void 0!==s&&(e.audioCodec||"").substring(0,4)!==s.substring(0,4)||void 0!==i&&i!==(e.channels||"2"))}function Gv(t,e,s){for(let i=e;i>-1;i--)if(s(t[i]))return i;for(let i=e+1;i<t.length;i++)if(s(t[i]))return i;return-1}function zv(t,e){var s;return!!t&&t!==(null==(s=e.loadLevelObj)?void 0:s.uri)}const Hv=function(t,e){let s=0,i=t.length-1,r=null,n=null;for(;s<=i;){r=(s+i)/2|0,n=t[r];const o=e(n);if(o>0)s=r+1;else{if(!(o<0))return n;i=r-1}}return null};function Kv(t,e,s=0,i=0,r=.005){let n=null;if(t){n=e[1+t.sn-e[0].sn]||null;const i=t.endDTS-s;i>0&&i<15e-7&&(s+=15e-7),n&&t.level!==n.level&&n.end<=t.end&&(n=e[2+t.sn-e[0].sn]||null)}else 0===s&&0===e[0].start&&(n=e[0]);if(n&&((!t||t.level===n.level)&&0===qv(s,i,n)||function(t,e,s){if(e&&0===e.start&&e.level<t.level&&(e.endPTS||0)>0){const i=e.tagList.reduce(((t,e)=>("INF"===e[0]&&(t+=parseFloat(e[1])),t)),s);return t.start<=i}return!1}(n,t,Math.min(r,i))))return n;const o=Hv(e,qv.bind(null,s,i));return!o||o===t&&n?n:o}function qv(t=0,e=0,s){if(s.start<=t&&s.start+s.duration>t)return 0;const i=Math.min(e,s.duration+(s.deltaPTS?s.deltaPTS:0));return s.start+s.duration-i<=t?1:s.start-i>t&&s.start?-1:0}function Qv(t,e,s){const i=1e3*Math.min(e,s.duration+(s.deltaPTS?s.deltaPTS:0));return(s.endProgramDateTime||0)-i>t}function Yv(t,e,s){if(t&&t.startCC<=e&&t.endCC>=e){let i=t.fragments;const{fragmentHint:r}=t;let n;return r&&(i=i.concat(r)),Hv(i,(t=>t.cc<e?1:t.cc>e?-1:(n=t,t.end<=s?1:t.start>s?-1:0))),n||null}return null}function Jv(t){switch(t.details){case Yy.FRAG_LOAD_TIMEOUT:case Yy.KEY_LOAD_TIMEOUT:case Yy.LEVEL_LOAD_TIMEOUT:case Yy.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Xv(t,e){const s=Jv(e);return t.default[(s?"timeout":"error")+"Retry"]}function $v(t,e){const s="linear"===t.backoff?1:Math.pow(2,e);return Math.min(s*t.retryDelayMs,t.maxRetryDelayMs)}function Zv(t){return lA(lA({},t),{errorRetry:null,timeoutRetry:null})}function tb(t,e,s,i){if(!t)return!1;const r=null==i?void 0:i.code,n=e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(r)||!!s);return t.shouldRetry?t.shouldRetry(t,e,s,i,n):n}var eb=0,sb=2,ib=3,rb=5,nb=0,ob=1,ab=2;function hb(t){const e={action:eb,flags:nb};return t&&(e.resolved=!0),e}var lb="NOT_LOADED",cb="APPENDING",db="PARTIAL",ub="OK";class pb{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.BUFFER_APPENDED,this.onBufferAppended,this),t.on(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Jy.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.BUFFER_APPENDED,this.onBufferAppended,this),t.off(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Jy.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const s=this.activePartLists[e];if(s)for(let e=s.length;e--;){const i=s[e];if(!i)break;const r=i.end;if(i.start<=t&&null!==r&&t<=r)return i}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){return this.getFragAtPos(t,e,!0)}getFragAtPos(t,e,s){const{fragments:i}=this,r=Object.keys(i);for(let n=r.length;n--;){const o=i[r[n]];if((null==o?void 0:o.body.type)===e&&(!s||o.buffered)){const e=o.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,s,i,r){this.timeRanges&&(this.timeRanges[t]=e);const n=(null==i?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach((i=>{const o=this.fragments[i];if(!o)return;if(n>=o.body.sn)return;if(!o.buffered&&(!o.loaded||r))return void(o.body.type===s&&this.removeFragment(o.body));const a=o.range[t];a&&(0!==a.time.length?a.time.some((t=>{const s=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return s&&this.removeFragment(o.body),s})):this.removeFragment(o.body))}))}detectPartialFragments(t){const e=this.timeRanges;if(!e||"initSegment"===t.frag.sn)return;const s=t.frag,i=mb(s),r=this.fragments[i];if(!r||r.buffered&&s.gap)return;const n=!s.relurl;if(Object.keys(e).forEach((i=>{const o=s.elementaryStreams[i];if(!o)return;const a=e[i],h=n||!0===o.partial;r.range[i]=this.getBufferedTimes(s,t.part,h,a)})),r.loaded=null,Object.keys(r.range).length){r.buffered=!0;(r.body.endList=s.endList||r.body.endList)&&(this.endListFragments[r.body.type]=r),fb(r)||this.removeParts(s.sn-1,s.type)}else this.removeFragment(r.body)}removeParts(t,e){const s=this.activePartLists[e];s&&(this.activePartLists[e]=gb(s,(e=>e.fragment.sn>=t)))}fragBuffered(t,e){const s=mb(t);let i=this.fragments[s];!i&&e&&(i=this.fragments[s]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(t,e,s,i){const r={time:[],partial:s},n=t.start,o=t.end,a=t.minEndPTS||o,h=t.maxStartPTS||n;for(let t=0;t<i.length;t++){const e=i.start(t)-this.bufferPadding,s=i.end(t)+this.bufferPadding;if(h>=e&&a<=s){r.time.push({startPTS:Math.max(n,i.start(t)),endPTS:Math.min(o,i.end(t))});break}if(n<s&&o>e){const e=Math.max(n,i.start(t)),s=Math.min(o,i.end(t));s>e&&(r.partial=!0,r.time.push({startPTS:e,endPTS:s}))}else if(o<=e)break}return r}getPartialFragment(t){let e,s,i,r=null,n=0;const{bufferPadding:o,fragments:a}=this;return Object.keys(a).forEach((h=>{const l=a[h];l&&fb(l)&&(s=l.body.start-o,i=l.body.end+o,t>=s&&t<=i&&(e=Math.min(t-s,i-t),n<=e&&(r=l.body,n=e)))})),r}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||fb(e))}getState(t){const e=mb(t),s=this.fragments[e];return s?s.buffered?fb(s)?db:ub:cb:lb}isTimeBuffered(t,e,s){let i,r;for(let n=0;n<s.length;n++){if(i=s.start(n)-this.bufferPadding,r=s.end(n)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(t,e){if("initSegment"===e.frag.sn||e.frag.bitrateTest)return;const s=e.frag,i=e.part?null:e,r=mb(s);this.fragments[r]={body:s,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:s,part:i,timeRanges:r,type:n}=e;if("initSegment"===s.sn)return;const o=s.type;if(i){let t=this.activePartLists[o];t||(this.activePartLists[o]=t=[]),t.push(i)}this.timeRanges=r;const a=r[n];this.detectEvictedFragments(n,a,o,i)}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=mb(t);return!!this.fragments[e]}hasFragments(t){const{fragments:e}=this,s=Object.keys(e);if(!t)return s.length>0;for(let i=s.length;i--;){const r=e[s[i]];if((null==r?void 0:r.body.type)===t)return!0}return!1}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,s,i,r){i&&!this.hasGaps||Object.keys(this.fragments).forEach((n=>{const o=this.fragments[n];if(!o)return;const a=o.body;a.type!==s||i&&!a.gap||a.start<e&&a.end>t&&(o.buffered||r)&&this.removeFragment(a)}))}removeFragment(t){const e=mb(t);t.clearElementaryStreamInfo();const s=this.activePartLists[t.type];if(s){const e=t.sn;this.activePartLists[t.type]=gb(s,(t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){var t,e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const s=null==(t=this.hls)||null==(e=t.latestLevelDetails)?void 0:e.partList;s&&s.forEach((t=>t.clearElementaryStreamInfo()))}}function fb(t){var e,s,i;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(s=t.range.audio)?void 0:s.partial)||(null==(i=t.range.audiovideo)?void 0:i.partial))}function mb(t){return`${t.type}_${t.level}_${t.sn}`}function gb(t,e){return t.filter((t=>{const s=e(t);return s||t.clearElementaryStreamInfo(),s}))}var yb=0,Ab=1;class vb{constructor(t,e,s){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=e,this.aesMode=s}decrypt(t,e){switch(this.aesMode){case yb:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t);case Ab:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},e,t);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}class bb{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),s=new Uint32Array(4);for(let t=0;t<4;t++)s[t]=e.getUint32(4*t);return s}initTable(){const t=this.sBox,e=this.invSBox,s=this.subMix,i=s[0],r=s[1],n=s[2],o=s[3],a=this.invSubMix,h=a[0],l=a[1],c=a[2],d=a[3],u=new Uint32Array(256);let p=0,f=0,m=0;for(m=0;m<256;m++)u[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){let s=f^f<<1^f<<2^f<<3^f<<4;s=s>>>8^255&s^99,t[p]=s,e[s]=p;const a=u[p],m=u[a],g=u[m];let y=257*u[s]^16843008*s;i[p]=y<<24|y>>>8,r[p]=y<<16|y>>>16,n[p]=y<<8|y>>>24,o[p]=y,y=16843009*g^65537*m^257*a^16843008*p,h[s]=y<<24|y>>>8,l[s]=y<<16|y>>>16,c[s]=y<<8|y>>>24,d[s]=y,p?(p=a^u[u[u[g^a]]],f^=u[u[f]]):p=f=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let s=!0,i=0;for(;i<e.length&&s;)s=e[i]===this.key[i],i++;if(s)return;this.key=e;const r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);const n=this.ksRows=4*(r+6+1);let o,a;const h=this.keySchedule=new Uint32Array(n),l=this.invKeySchedule=new Uint32Array(n),c=this.sBox,d=this.rcon,u=this.invSubMix,p=u[0],f=u[1],m=u[2],g=u[3];let y,A;for(o=0;o<n;o++)o<r?y=h[o]=e[o]:(A=y,o%r==0?(A=A<<8|A>>>24,A=c[A>>>24]<<24|c[A>>>16&255]<<16|c[A>>>8&255]<<8|c[255&A],A^=d[o/r|0]<<24):r>6&&o%r==4&&(A=c[A>>>24]<<24|c[A>>>16&255]<<16|c[A>>>8&255]<<8|c[255&A]),h[o]=y=(h[o-r]^A)>>>0);for(a=0;a<n;a++)o=n-a,A=3&a?h[o]:h[o-4],l[a]=a<4||o<=4?A:p[c[A>>>24]]^f[c[A>>>16&255]]^m[c[A>>>8&255]]^g[c[255&A]],l[a]=l[a]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,s){const i=this.keySize+6,r=this.invKeySchedule,n=this.invSBox,o=this.invSubMix,a=o[0],h=o[1],l=o[2],c=o[3],d=this.uint8ArrayToUint32Array_(s);let u=d[0],p=d[1],f=d[2],m=d[3];const g=new Int32Array(t),y=new Int32Array(g.length);let A,v,b,S,w,E,T,I,k,_,C,D,R,L;const P=this.networkToHostOrderSwap;for(;e<g.length;){for(k=P(g[e]),_=P(g[e+1]),C=P(g[e+2]),D=P(g[e+3]),w=k^r[0],E=D^r[1],T=C^r[2],I=_^r[3],R=4,L=1;L<i;L++)A=a[w>>>24]^h[E>>16&255]^l[T>>8&255]^c[255&I]^r[R],v=a[E>>>24]^h[T>>16&255]^l[I>>8&255]^c[255&w]^r[R+1],b=a[T>>>24]^h[I>>16&255]^l[w>>8&255]^c[255&E]^r[R+2],S=a[I>>>24]^h[w>>16&255]^l[E>>8&255]^c[255&T]^r[R+3],w=A,E=v,T=b,I=S,R+=4;A=n[w>>>24]<<24^n[E>>16&255]<<16^n[T>>8&255]<<8^n[255&I]^r[R],v=n[E>>>24]<<24^n[T>>16&255]<<16^n[I>>8&255]<<8^n[255&w]^r[R+1],b=n[T>>>24]<<24^n[I>>16&255]<<16^n[w>>8&255]<<8^n[255&E]^r[R+2],S=n[I>>>24]<<24^n[w>>16&255]<<16^n[E>>8&255]<<8^n[255&T]^r[R+3],y[e]=P(A^u),y[e+1]=P(S^p),y[e+2]=P(b^f),y[e+3]=P(v^m),u=k,p=_,f=C,m=D,e+=4}return y.buffer}}class Sb{constructor(t,e,s){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=e,this.aesMode=s}expandKey(){const t=function(t){switch(t){case yb:return"AES-CBC";case Ab:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])}}class wb{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const s=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,s=e&&new DataView(t.buffer).getUint8(e-1);return s?t.slice(0,e-s):t}(s):s}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,s,i){return this.useSoftware?new Promise(((r,n)=>{const o=ArrayBuffer.isView(t)?t:new Uint8Array(t);this.softwareDecrypt(o,e,s,i);const a=this.flush();a?r(a.buffer):n(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,s,i)}softwareDecrypt(t,e,s,i){const{currentIV:r,currentResult:n,remainderData:o}=this;if(i!==yb||16!==e.byteLength)return gA.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(t=$A(o,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;r&&(s=r);let h=this.softwareDecrypter;h||(h=this.softwareDecrypter=new bb),h.expandKey(e);const l=n;return this.currentResult=h.decrypt(a.buffer,0,s),this.currentIV=a.slice(-16).buffer,l||null}webCryptoDecrypt(t,e,s,i){if(this.key!==e||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,e,s,i));this.key=e,this.fastAesKey=new Sb(this.subtle,e,i)}return this.fastAesKey.expandKey().then((e=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new vb(this.subtle,new Uint8Array(s),i).decrypt(t.buffer,e)})).catch((r=>(gA.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,s,i))))}onWebCryptoError(t,e,s,i){const r=this.enableSoftwareAES;if(r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,s,i);const r=this.flush();if(r)return r.buffer}throw new Error("WebCrypto"+(r?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(t){let e=t;const s=t.length-t.length%16;return s!==t.length&&(e=t.slice(0,s),this.remainderData=t.slice(s)),e}logOnce(t){this.logEnabled&&(gA.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const Eb=Math.pow(2,17);class Tb{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const s=t.url;if(!s)return Promise.reject(new _b({type:Qy.NETWORK_ERROR,details:Yy.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(s?"part list":"url")),networkDetails:null}));this.abort();const i=this.config,r=i.fLoader,n=i.loader;return new Promise(((o,a)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some((t=>"GAP"===t[0])))return void a(kb(t));t.gap=!1}const h=this.loader=r?new r(i):new n(i),l=Ib(t);t.loader=h;const c=Zv(i.fragLoadPolicy.default),d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:Eb};t.stats=h.stats;const u={onSuccess:(e,s,i,r)=>{this.resetLoader(t,h);let n=e.data;i.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(n.slice(0,16)),n=n.slice(16)),o({frag:t,part:null,payload:n,networkDetails:r})},onError:(e,i,r,n)=>{this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:lA({url:s,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:r,stats:n}))},onAbort:(e,s,i)=>{this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:i,stats:e}))},onTimeout:(e,s,i)=>{this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:i,stats:e}))}};e&&(u.onProgress=(s,i,r,n)=>e({frag:t,part:null,payload:r,networkDetails:n})),h.load(l,d,u)}))}loadPart(t,e,s){this.abort();const i=this.config,r=i.fLoader,n=i.loader;return new Promise(((o,a)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void a(kb(t,e));const h=this.loader=r?new r(i):new n(i),l=Ib(t,e);t.loader=h;const c=Zv(i.fragLoadPolicy.default),d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Eb};e.stats=h.stats,h.load(l,d,{onSuccess:(i,r,n,a)=>{this.resetLoader(t,h),this.updateStatsFromPart(t,e);const l={frag:t,part:e,payload:i.data,networkDetails:a};s(l),o(l)},onError:(s,i,r,n)=>{this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:lA({url:l.url,data:void 0},s),error:new Error(`HTTP Error ${s.code} ${s.text}`),networkDetails:r,stats:n}))},onAbort:(s,i,r)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:r,stats:s}))},onTimeout:(s,i,r)=>{this.resetLoader(t,h),a(new _b({type:Qy.NETWORK_ERROR,details:Yy.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:s}))}})}))}updateStatsFromPart(t,e){const s=t.stats,i=e.stats,r=i.total;if(s.loaded+=i.loaded,r){const i=Math.round(t.duration/e.duration),n=Math.min(Math.round(s.loaded/r),i),o=(i-n)*Math.round(s.loaded/n);s.total=s.loaded+o}else s.total=Math.max(s.loaded,s.total);const n=s.loading,o=i.loading;n.start?n.first+=o.first-o.start:(n.start=o.start,n.first=o.first),n.end=o.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Ib(t,e=null){const s=e||t,i={frag:t,part:e,responseType:"arraybuffer",url:s.url,headers:{},rangeStart:0,rangeEnd:0},r=s.byteRangeStartOffset,n=s.byteRangeEndOffset;if(Hy(r)&&Hy(n)){var o;let e=r,s=n;if("initSegment"===t.sn&&("AES-128"===(a=null==(o=t.decryptdata)?void 0:o.method)||"AES-256"===a)){const t=n-r;t%16&&(s=n+(16-t%16)),0!==r&&(i.resetIV=!0,e=r-16)}i.rangeStart=e,i.rangeEnd=s}var a;return i}function kb(t,e){const s=new Error(`GAP ${t.gap?"tag":"attribute"} found`),i={type:Qy.MEDIA_ERROR,details:Yy.FRAG_GAP,fatal:!1,frag:t,error:s,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new _b(i)}class _b extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Cb extends cA{constructor(t,e){super(t,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Db{constructor(t,e,s,i=0,r=-1,n=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=s,this.size=i,this.part=r,this.partial=n}}const Rb={length:0,start:()=>0,end:()=>0};class Lb{static isBuffered(t,e){if(t){const s=Lb.getBuffered(t);for(let t=s.length;t--;)if(e>=s.start(t)&&e<=s.end(t))return!0}return!1}static bufferedRanges(t){if(t){const e=Lb.getBuffered(t);return Lb.timeRangesToArray(e)}return[]}static timeRangesToArray(t){const e=[];for(let s=0;s<t.length;s++)e.push({start:t.start(s),end:t.end(s)});return e}static bufferInfo(t,e,s){if(t){const i=Lb.bufferedRanges(t);if(i.length)return Lb.bufferedInfo(i,e,s)}return{len:0,start:e,end:e,bufferedIndex:-1}}static bufferedInfo(t,e,s){e=Math.max(0,e),t.length>1&&t.sort(((t,e)=>t.start-e.start||e.end-t.end));let i=-1,r=[];if(s)for(let n=0;n<t.length;n++){e>=t[n].start&&e<=t[n].end&&(i=n);const o=r.length;if(o){const e=r[o-1].end;t[n].start-e<s?t[n].end>e&&(r[o-1].end=t[n].end):r.push(t[n])}else r.push(t[n])}else r=t;let n,o=0,a=e,h=e;for(let t=0;t<r.length;t++){const l=r[t].start,c=r[t].end;if(-1===i&&e>=l&&e<=c&&(i=t),e+s>=l&&e<c)a=l,h=c,o=h-e;else if(e+s<l){n=l;break}}return{len:o,start:a||0,end:h||0,nextStart:n,buffered:t,bufferedIndex:i}}static getBuffered(t){try{return t.buffered||Rb}catch(t){return gA.log("failed to get media.buffered",t),Rb}}}const Pb=/\{\$([a-zA-Z0-9-_]+)\}/g;function xb(t){return Pb.test(t)}function Mb(t,e){if(null!==t.variableList||t.hasVariableRefs){const s=t.variableList;return e.replace(Pb,(e=>{const i=e.substring(2,e.length-1),r=null==s?void 0:s[i];return void 0===r?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),e):r}))}return e}function Bb(t,e,s){let i,r,n=t.variableList;if(n||(t.variableList=n={}),"QUERYPARAM"in e){i=e.QUERYPARAM;try{const t=new self.URL(s).searchParams;if(!t.has(i))throw new Error(`"${i}" does not match any query parameter in URI: "${s}"`);r=t.get(i)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}}else i=e.NAME,r=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=r||""}function Fb(t,e,s){const i=e.IMPORT;if(s&&i in s){let e=t.variableList;e||(t.variableList=e={}),e[i]=s[i]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const Ub=/^(\d+)x(\d+)$/,Ob=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Nb{constructor(t,e){"string"==typeof t&&(t=Nb.parseAttrList(t,e)),aA(this,t)}get clientAttrs(){return Object.keys(this).filter((t=>"X-"===t.substring(0,2)))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const s=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)s[t]=parseInt(e.slice(2*t,2*t+2),16);return s}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const s=this[t];return s?parseFloat(s):e}enumeratedString(t){return this[t]}enumeratedStringList(t,e){const s=this[t];return(s?s.split(/[ ,]+/):[]).reduce(((t,e)=>(t[e.toLowerCase()]=!0,t)),e)}bool(t){return"YES"===this[t]}decimalResolution(t){const e=Ub.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t,e){let s;const i={};for(Ob.lastIndex=0;null!==(s=Ob.exec(t));){const r=s[1].trim();let n=s[2];const o=0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1;let a=!1;if(o)n=n.slice(1,-1);else switch(r){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":a=!0}if(e&&(o||a))n=Mb(e,n);else if(!a&&!o)switch(r){case"CLOSED-CAPTIONS":if("NONE"===n)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":gA.warn(`${t}: attribute ${r} is missing quotes`)}i[r]=n}return i}}function jb(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t||"SCTE35-CMD"===t}class Vb{constructor(t,e,s=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(null==e?void 0:e.tagAnchor)||null,this.tagOrder=null!=(i=null==e?void 0:e.tagOrder)?i:s,e){const s=e.attr;for(const e in s)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==s[e]){gA.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=aA(new Nb({}),s,t)}if(this.attr=t,e?(this._startDate=e._startDate,this._cue=e._cue,this._endDate=e._endDate,this._dateAtEnd=e._dateAtEnd):this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=(null==e?void 0:e.endDate)||new Date(this.attr["END-DATE"]);Hy(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const t=this._cue;return void 0===t?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}get startTime(){const{tagAnchor:t}=this;return null===t||null===t.programDateTime?(gA.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${t}`),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const t=this._endDate||this._dateAtEnd;if(t)return t;const e=this.duration;return null!==e?this._dateAtEnd=new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(Hy(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return"com.apple.hls.interstitial"===this.class}get isValid(){return!!this.id&&!this._badValueForSameId&&Hy(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}class Wb{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,s=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!s||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&s>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1}get hasProgramDateTime(){return!!this.fragments.length&&Hy(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;if(t>0){return 1e3*(this.driftEnd-this.driftStart)/t}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const t=this.partList;if(t){const e=this.lastPartIndex;if(-1!==e){for(let s=t.length;s--;)if(t[s].index>e)return t[s].index;return e}}return 0}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}function Gb(t){return"AES-128"===t||"AES-256"===t||"AES-256-CTR"===t}function zb(t){switch(t){case"AES-128":case"AES-256":return yb;case"AES-256-CTR":return Ab;default:throw new Error(`invalid full segment method ${t}`)}}function Hb(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function Kb(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}function qb(t){const e=t.split(":");let s=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),i=t[t.length-1].split(",");if(2===i.length){const e="base64"===i[0],r=i[1];e?(t.splice(-1,1),s=Hb(r)):s=function(t){const e=Kb(t).subarray(0,16),s=new Uint8Array(16);return s.set(e,16-e.length),s}(r)}}return s}const Qb="undefined"!=typeof self?self:void 0;var Yb={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Jb="org.w3.clearkey",Xb="com.apple.streamingkeydelivery",$b="com.microsoft.playready",Zb="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function tS(t){switch(t){case Xb:return Yb.FAIRPLAY;case $b:return Yb.PLAYREADY;case Zb:return Yb.WIDEVINE;case Jb:return Yb.CLEARKEY}}var eS="1077efecc0b24d02ace33c1e52e2fb4b",sS="e2719d58a985b3c9781ab030af78d30e",iS="9a04f07998404286ab92e65be0885f95",rS="edef8ba979d64acea3c827dcd51d21ed";function nS(t){return t===rS?Yb.WIDEVINE:t===iS?Yb.PLAYREADY:t===eS||t===sS?Yb.CLEARKEY:void 0}function oS(t){switch(t){case Yb.FAIRPLAY:return Xb;case Yb.PLAYREADY:return $b;case Yb.WIDEVINE:return Zb;case Yb.CLEARKEY:return Jb}}function aS(t){const{drmSystems:e,widevineLicenseUrl:s}=t,i=e?[Yb.FAIRPLAY,Yb.WIDEVINE,Yb.PLAYREADY,Yb.CLEARKEY].filter((t=>!!e[t])):[];return!i[Yb.WIDEVINE]&&s&&i.push(Yb.WIDEVINE),i}const hS=null!=Qb&&null!=(lS=Qb.navigator)&&lS.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var lS;function cS(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),s=String.fromCharCode.apply(null,Array.from(e)),i=s.substring(s.indexOf("<"),s.length),r=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(r){const t=r.childNodes[0]?r.childNodes[0].nodeValue:r.getAttribute("VALUE");if(t){const e=Hb(t).subarray(0,16);return function(t){const e=function(t,e,s){const i=t[e];t[e]=t[s],t[s]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),e}}return null}let dS={};class uS{static clearKeyUriToKeyIdMap(){dS={}}constructor(t,e,s,i=[1],r=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=s,this.keyFormatVersions=i,this.iv=r,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&!Gb(t)}isSupported(){if(this.method){if(Gb(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Xb:case Zb:case $b:case Jb:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if(Gb(this.method)&&this.uri&&!this.iv){"number"!=typeof t&&(gA.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let s=12;s<16;s++)e[s]=t>>8*(15-s)&255;return e}(t);return new uS(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=qb(this.uri);if(e)switch(this.keyFormat){case Zb:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case $b:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=rv(t,0,e),this.keyId=cS(e);break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=dS[this.uri];if(!t){const e=Object.keys(dS).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16);new DataView(t.buffer,12,4).setUint32(0,e),dS[this.uri]=t}this.keyId=t}return this}}const pS=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,fS=/#EXT-X-MEDIA:(.*)/g,mS=/^#EXT(?:INF|-X-TARGETDURATION):/m,gS=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),yS=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class AS{static findGroup(t,e){for(let s=0;s<t.length;s++){const i=t[s];if(i.id===e)return i}}static resolve(t,e){return TA.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return mS.test(t)}static parseMasterPlaylist(t,e){const s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:xb(t)},i=[];let r;for(pS.lastIndex=0;null!=(r=pS.exec(t));)if(r[1]){var n;const t=new Nb(r[1],s),o=Mb(s,r[2]),a={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:AS.resolve(o,e)},h=t.decimalResolution("RESOLUTION");h&&(a.width=h.width,a.height=h.height),ES(t.CODECS,a);const l=t["SUPPLEMENTAL-CODECS"];l&&(a.supplemental={},ES(l,a.supplemental)),null!=(n=a.unknownCodecs)&&n.length||i.push(a),s.levels.push(a)}else if(r[3]){const t=r[3],i=r[4];switch(t){case"SESSION-DATA":{const t=new Nb(i,s),e=t["DATA-ID"];e&&(null===s.sessionData&&(s.sessionData={}),s.sessionData[e]=t);break}case"SESSION-KEY":{const t=SS(i,e,s);t.encrypted&&t.isSupported()?(null===s.sessionKeys&&(s.sessionKeys=[]),s.sessionKeys.push(t)):gA.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${i}"`);break}case"DEFINE":Bb(s,new Nb(i,s),e);break;case"CONTENT-STEERING":{const t=new Nb(i,s);s.contentSteering={uri:AS.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":s.startTimeOffset=wS(i)}}const o=i.length>0&&i.length<s.levels.length;return s.levels=o?i:s.levels,0===s.levels.length&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(t,e,s){let i;const r={},n=s.levels,o={AUDIO:n.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:n.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let a=0;for(fS.lastIndex=0;null!==(i=fS.exec(t));){const t=new Nb(i[1],s),n=t.TYPE;if(n){const s=o[n],i=r[n]||[];r[n]=i;const h=t.LANGUAGE,l=t["ASSOC-LANGUAGE"],c=t.CHANNELS,d=t.CHARACTERISTICS,u=t["INSTREAM-ID"],p={attrs:t,bitrate:0,id:a++,groupId:t["GROUP-ID"]||"",name:t.NAME||h||"",type:n,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:h,url:t.URI?AS.resolve(t.URI,e):""};if(l&&(p.assocLang=l),c&&(p.channels=c),d&&(p.characteristics=d),u&&(p.instreamId=u),null!=s&&s.length){const t=AS.findGroup(s,p.groupId)||s[0];TS(p,t,"audioCodec"),TS(p,t,"textCodec")}i.push(p)}}return r}static parseLevelPlaylist(t,e,s,i,r,n){var o;const a={url:e},h=new Wb(e),l=h.fragments,c=[];let d,u,p,f,m=null,g=0,y=0,A=0,v=0,b=0,S=null,w=new LA(i,a),E=-1,T=!1,I=null;if(gS.lastIndex=0,h.m3u8=t,h.hasVariableRefs=xb(t),"#EXTM3U"!==(null==(o=gS.exec(t))?void 0:o[0]))return h.playlistParsingError=new Error("Missing format identifier #EXTM3U"),h;for(;null!==(d=gS.exec(t));){T&&(T=!1,w=new LA(i,a),w.playlistOffset=A,w.start=A,w.sn=g,w.cc=v,b&&(w.bitrate=b),w.level=s,m&&(w.initSegment=m,m.rawProgramDateTime&&(w.rawProgramDateTime=m.rawProgramDateTime,m.rawProgramDateTime=null),I&&(w.setByteRange(I),I=null)));const t=d[1];if(t){w.duration=parseFloat(t);const e=(" "+d[2]).slice(1);w.title=e||null,w.tagList.push(e?["INF",t,e]:["INF",t])}else if(d[3]){if(Hy(w.duration)){w.playlistOffset=A,w.start=A,p&&_S(w,p,h),w.sn=g,w.level=s,w.cc=v,l.push(w);const t=(" "+d[3]).slice(1);w.relurl=Mb(h,t),IS(w,S,c),S=w,A+=w.duration,g++,y=0,T=!0}}else{if(d=d[0].match(yS),!d){gA.warn("No matches on slow regex match for level playlist!");continue}for(u=1;u<d.length&&void 0===d[u];u++);const t=(" "+d[u]).slice(1),r=(" "+d[u+1]).slice(1),o=d[u+2]?(" "+d[u+2]).slice(1):null;switch(t){case"BYTERANGE":S?w.setByteRange(r,S):w.setByteRange(r);break;case"PROGRAM-DATE-TIME":w.rawProgramDateTime=r,w.tagList.push(["PROGRAM-DATE-TIME",r]),-1===E&&(E=l.length);break;case"PLAYLIST-TYPE":h.type&&CS(h,t,d),h.type=r.toUpperCase();break;case"MEDIA-SEQUENCE":0!==h.startSN?CS(h,t,d):l.length>0&&DS(h,t,d),g=h.startSN=parseInt(r);break;case"SKIP":{h.skippedSegments&&CS(h,t,d);const e=new Nb(r,h),s=e.decimalInteger("SKIPPED-SEGMENTS");if(Hy(s)){h.skippedSegments+=s;for(let t=s;t--;)l.push(null);g+=s}const i=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");i&&(h.recentlyRemovedDateranges=(h.recentlyRemovedDateranges||[]).concat(i.split("\t")));break}case"TARGETDURATION":0!==h.targetduration&&CS(h,t,d),h.targetduration=Math.max(parseInt(r),1);break;case"VERSION":null!==h.version&&CS(h,t,d),h.version=parseInt(r);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":h.live||CS(h,t,d),h.live=!1;break;case"#":(r||o)&&w.tagList.push(o?[r,o]:[r]);break;case"DISCONTINUITY":v++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([t]);break;case"BITRATE":w.tagList.push([t,r]),b=1e3*parseInt(r),Hy(b)?w.bitrate=b:b=0;break;case"DATERANGE":{const t=new Nb(r,h),e=new Vb(t,h.dateRanges[t.ID],h.dateRangeTagCount);h.dateRangeTagCount++,e.isValid||h.skippedSegments?h.dateRanges[e.id]=e:gA.warn(`Ignoring invalid DATERANGE tag: "${r}"`),w.tagList.push(["EXT-X-DATERANGE",r]);break}case"DEFINE":{const t=new Nb(r,h);"IMPORT"in t?Fb(h,t,n):Bb(h,t,e)}break;case"DISCONTINUITY-SEQUENCE":0!==h.startCC?CS(h,t,d):l.length>0&&DS(h,t,d),h.startCC=v=parseInt(r);break;case"KEY":{const t=SS(r,e,h);if(t.isSupported()){if("NONE"===t.method){p=void 0;break}p||(p={}),p[t.keyFormat]&&(p=aA({},p)),p[t.keyFormat]=t}else gA.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${r}"`);break}case"START":h.startTimeOffset=wS(r);break;case"MAP":{const t=new Nb(r,h);if(w.duration){const e=new LA(i,a);kS(e,t,s,p),m=e,w.initSegment=m,m.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=m.rawProgramDateTime)}else{const e=w.byteRangeEndOffset;if(e){const t=w.byteRangeStartOffset;I=`${e-t}@${t}`}else I=null;kS(w,t,s,p),m=w,T=!0}m.cc=v;break}case"SERVER-CONTROL":f&&CS(h,t,d),f=new Nb(r),h.canBlockReload=f.bool("CAN-BLOCK-RELOAD"),h.canSkipUntil=f.optionalFloat("CAN-SKIP-UNTIL",0),h.canSkipDateRanges=h.canSkipUntil>0&&f.bool("CAN-SKIP-DATERANGES"),h.partHoldBack=f.optionalFloat("PART-HOLD-BACK",0),h.holdBack=f.optionalFloat("HOLD-BACK",0);break;case"PART-INF":{h.partTarget&&CS(h,t,d);const e=new Nb(r);h.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=h.partList;t||(t=h.partList=[]);const e=y>0?t[t.length-1]:void 0,s=y++,i=new Nb(r,h),n=new PA(i,w,a,s,e);t.push(n),w.duration+=n.duration;break}case"PRELOAD-HINT":{const t=new Nb(r,h);h.preloadHint=t;break}case"RENDITION-REPORT":{const t=new Nb(r,h);h.renditionReports=h.renditionReports||[],h.renditionReports.push(t);break}default:gA.warn(`line parsed but not handled: ${d}`)}}}S&&!S.relurl?(l.pop(),A-=S.duration,h.partList&&(h.fragmentHint=S)):h.partList&&(IS(w,S,c),w.cc=v,h.fragmentHint=w,p&&_S(w,p,h)),h.targetduration||(h.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const k=l.length,_=l[0],C=l[k-1];if(A+=h.skippedSegments*h.targetduration,A>0&&k&&C){h.averagetargetduration=A/k;const t=C.sn;h.endSN="initSegment"!==t?t:0,h.live||(C.endList=!0),_&&void 0===h.startCC&&(h.startCC=_.cc),E>0&&(!function(t,e){let s=t[e];for(let i=e;i--;){const e=t[i];if(!e)return;e.programDateTime=s.programDateTime-1e3*e.duration,s=e}}(l,E),_&&c.unshift(_))}else h.endSN=0,h.startCC=0;return h.fragmentHint&&(A+=h.fragmentHint.duration),h.totalduration=A,c.length&&h.dateRangeTagCount&&_&&vS(c,h),h.endCC=v,h}}function vS(t,e){const s=t.length;if(!s)return;const i=t[s-1],r=e.live?1/0:e.totalduration,n=Object.keys(e.dateRanges);for(let o=n.length;o--;){const a=e.dateRanges[n[o]],h=a.startDate.getTime();a.tagAnchor=i.ref;for(let i=s;i--;){const s=bS(e,h,t,i,r);if(-1!==s){a.tagAnchor=e.fragments[s].ref;break}}}}function bS(t,e,s,i,r){const n=s[i];if(n){const a=n.programDateTime;if(e>=a||0===i){var o;if(e<=a+1e3*(((null==(o=s[i+1])?void 0:o.start)||r)-n.start)){const r=s[i].sn-t.startSN,n=t.fragments;if(n.length>s.length){for(let o=(s[i+1]||n[n.length-1]).sn-t.startSN;o>r;o--){const t=n[o].programDateTime;if(e>=t&&e<t+1e3*n[o].duration)return o}}return r}}}return-1}function SS(t,e,s){var i,r;const n=new Nb(t,s),o=null!=(i=n.METHOD)?i:"",a=n.URI,h=n.hexadecimalInteger("IV"),l=n.KEYFORMATVERSIONS,c=null!=(r=n.KEYFORMAT)?r:"identity";a&&n.IV&&!h&&gA.error(`Invalid IV: ${n.IV}`);const d=a?AS.resolve(a,e):"",u=(l||"1").split("/").map(Number).filter(Number.isFinite);return new uS(o,d,c,u,h)}function wS(t){const e=new Nb(t).decimalFloatingPoint("TIME-OFFSET");return Hy(e)?e:null}function ES(t,e){let s=(t||"").split(/[ ,]+/).filter((t=>t));["video","audio","text"].forEach((t=>{const i=s.filter((e=>hv(e,t)));i.length&&(e[`${t}Codec`]=i.map((t=>t.split("/")[0])).join(","),s=s.filter((t=>-1===i.indexOf(t))))})),e.unknownCodecs=s}function TS(t,e,s){const i=e[s];i&&(t[s]=i)}function IS(t,e,s){t.rawProgramDateTime?s.push(t):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function kS(t,e,s,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=s,t.sn="initSegment",i&&(t.levelkeys=i),t.initSegment=null}function _S(t,e,s){t.levelkeys=e;const{encryptedFragments:i}=s;i.length&&i[i.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||i.push(t)}function CS(t,e,s){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${s[0]})`)}function DS(t,e,s){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${s[0]})`)}function RS(t,e){const s=e.startPTS;if(Hy(s)){let i,r=0;e.sn>t.sn?(r=s-t.start,i=t):(r=t.start-s,i=e),i.duration!==r&&i.setDuration(r)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration)}else e.setStart(Math.max(t.start-e.duration,0))}function LS(t,e,s,i,r,n){i-s<=0&&(gA.warn("Fragment should have a positive duration",e),i=s+e.duration,n=r+e.duration);let o=s,a=i;const h=e.startPTS,l=e.endPTS;if(Hy(h)){const t=Math.abs(h-s);Hy(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,o=Math.max(s,h),s=Math.min(s,h),r=Math.min(r,e.startDTS),a=Math.min(i,l),i=Math.max(i,l),n=Math.max(n,e.endDTS)}const c=s-e.start;0!==e.start&&e.setStart(s),e.setDuration(i-e.start),e.startPTS=s,e.maxStartPTS=o,e.startDTS=r,e.endPTS=i,e.minEndPTS=a,e.endDTS=n;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let u;const p=d-t.startSN,f=t.fragments;for(f[p]=e,u=p;u>0;u--)RS(f[u],f[u-1]);for(u=p;u<f.length-1;u++)RS(f[u],f[u+1]);return t.fragmentHint&&RS(f[f.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,c}function PS(t,e){if(t===e)return;let s=null;const i=t.fragments;for(let t=i.length-1;t>=0;t--){const e=i[t].initSegment;if(e){s=e;break}}let r;t.fragmentHint&&delete t.fragmentHint.endPTS,function(t,e,s){const i=e.skippedSegments,r=Math.max(t.startSN,e.startSN)-e.startSN,n=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,h=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=r;l<=n;l++){const r=h[o+l];let n=a[l];if(i&&!n&&r&&(n=e.fragments[l]=r),r&&n){if(s(r,n,l,a),r.url&&r.url!==n.url)return void(e.playlistParsingError=xS(`media sequence mismatch ${n.sn}:`,t,e,r,n));if(r.cc!==n.cc)return void(e.playlistParsingError=xS(`discontinuity sequence mismatch (${r.cc}!=${n.cc})`,t,e,r,n))}}}(t,e,((t,i,n,o)=>{if((!e.startCC||e.skippedSegments)&&i.cc!==t.cc){const s=t.cc-i.cc;for(let t=n;t<o.length;t++)o[t].cc+=s;e.endCC=o[o.length-1].cc}Hy(t.startPTS)&&Hy(t.endPTS)&&(i.setStart(i.startPTS=t.startPTS),i.startDTS=t.startDTS,i.maxStartPTS=t.maxStartPTS,i.endPTS=t.endPTS,i.endDTS=t.endDTS,i.minEndPTS=t.minEndPTS,i.setDuration(t.endPTS-t.startPTS),i.duration&&(r=i),e.PTSKnown=e.alignedSliding=!0),t.hasStreams&&(i.elementaryStreams=t.elementaryStreams),i.loader=t.loader,t.hasStats&&(i.stats=t.stats),t.initSegment&&(i.initSegment=t.initSegment,s=t.initSegment)}));const n=e.fragments,o=e.fragmentHint?n.concat(e.fragmentHint):n;if(s&&o.forEach((t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=s)?void 0:e.relurl)||(t.initSegment=s)})),e.skippedSegments){if(e.deltaUpdateFailed=n.some((t=>!t)),e.deltaUpdateFailed){gA.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)n.shift();e.startSN=n[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=function(t,e){const{dateRanges:s,recentlyRemovedDateranges:i}=e,r=aA({},t);i&&i.forEach((t=>{delete r[t]}));const n=Object.keys(r).length;n&&Object.keys(s).forEach((t=>{const e=r[t],i=new Vb(s[t].attr,e);i.isValid?(r[t]=i,e||(i.tagOrder+=n)):gA.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Fv(s[t].attr)}"`)}));return r}(t.dateRanges,e));const s=t.fragments.filter((t=>t.rawProgramDateTime));if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let t=1;t<o.length;t++)null===o[t].programDateTime&&IS(o[t],o[t-1],s);vS(s,e)}e.endCC=n[n.length-1].cc}if(!e.startCC){var a;const s=US(t,e.startSN-1);e.startCC=null!=(a=null==s?void 0:s.cc)?a:n[0].cc}!function(t,e,s){if(t&&e){let i=0;for(let r=0,n=t.length;r<=n;r++){const n=t[r],o=e[r+i];n&&o&&n.index===o.index&&n.fragment.sn===o.fragment.sn?s(n,o):i--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),r?LS(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):MS(t,e),n.length&&(e.totalduration=e.edge-n[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const h=e.advancedDateTime;if(e.advanced&&h){const t=e.edge;e.driftStart||(e.driftStartTime=h,e.driftStart=t),e.driftEndTime=h,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;-1===e.requestScheduled&&(e.requestScheduled=t.requestScheduled)}function xS(t,e,s,i,r){return new Error(`${t} ${r.url}\nPlaylist starting @${e.startSN}\n${e.m3u8}\n\nPlaylist starting @${s.startSN}\n${s.m3u8}`)}function MS(t,e,s=!0){const i=e.startSN+e.skippedSegments-t.startSN,r=t.fragments,n=i>=0;let o=0;if(n&&i<r.length)o=r[i].start;else if(n&&e.startSN===t.endSN+1)o=t.fragmentEnd;else if(n&&s)o=t.fragmentStart+i*e.levelTargetDuration;else{if(e.skippedSegments||0!==e.fragmentStart)return;o=t.fragmentStart}BS(e,o)}function BS(t,e){if(e){const s=t.fragments;for(let i=t.skippedSegments;i<s.length;i++)s[i].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function FS(t,e=1/0){let s=1e3*t.targetduration;if(t.updated){const i=t.fragments,r=4;if(i.length&&s*r>e){const t=1e3*i[i.length-1].duration;t<s&&(s=t)}}else s/=2;return Math.round(s)}function US(t,e,s){if(!t)return null;let i=t.fragments[e-t.startSN];return i||(i=t.fragmentHint,i&&i.sn===e?i:e<t.startSN&&s&&s.sn===e?s:null)}function OS(t,e,s){return t?NS(t.partList,e,s):null}function NS(t,e,s){if(t)for(let i=t.length;i--;){const r=t[i];if(r.index===s&&r.fragment.sn===e)return r}return null}function jS(t){t.forEach(((t,e)=>{var s;null==(s=t.details)||s.fragments.forEach((t=>{t.level=e,t.initSegment&&(t.initSegment.level=e)}))}))}function VS(t,e){for(let i=0,r=t.length;i<r;i++){var s;if((null==(s=t[i])?void 0:s.cc)===e)return t[i]}return null}function WS(t,e){if(t){const s=t.start+e;t.start=t.startPTS=s,t.endPTS=s+t.duration}}function GS(t,e){const s=e.fragments;for(let e=0,i=s.length;e<i;e++)WS(s[e],t);e.fragmentHint&&WS(e.fragmentHint,t),e.alignedSliding=!0}function zS(t,e){if(!function(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}(e,t))return;const s=Math.min(e.endCC,t.endCC),i=VS(e.fragments,s),r=VS(t.fragments,s);if(!i||!r)return;gA.log(`Aligning playlist at start of dicontinuity sequence ${s}`);GS(i.start-r.start,t)}function HS(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const s=t.fragments,i=e.fragments;if(!s.length||!i.length)return;let r,n;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(r=VS(i,o),n=VS(s,o)),r&&n||(r=i[Math.floor(i.length/2)],n=VS(s,r.cc)||s[Math.floor(s.length/2)]);const a=r.programDateTime,h=n.programDateTime;if(!a||!h)return;GS((h-a)/1e3-(n.start-r.start),t)}const KS=function(t){let e="";const s=t.length;for(let i=0;i<s;i++)e+=`[${t.start(i).toFixed(3)}-${t.end(i).toFixed(3)}]`;return e},qS="STOPPED",QS="IDLE",YS="KEY_LOADING",JS="FRAG_LOADING",XS="FRAG_LOADING_WAITING_RETRY",$S="WAITING_TRACK",ZS="PARSING",tw="PARSED",ew="ENDED",sw="ERROR",iw="WAITING_INIT_PTS",rw="WAITING_LEVEL";class nw extends Cb{constructor(t,e,s,i,r){super(i,t.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=qS,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:t,fragCurrent:e,media:s,mediaBuffer:i,state:r}=this,n=s?s.currentTime:0,o=Lb.bufferInfo(i||s,n,t.maxBufferHole);if(this.log(`media seeking to ${Hy(n)?n.toFixed(3):n}, state: ${r}`),this.state===ew)this.resetLoadingState();else if(e){const s=t.maxFragLookUpTolerance,i=e.start-s,r=e.start+e.duration+s;if(!o.len||r<o.start||i>o.end){const t=n>r;(n<i||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(s){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!0);if(n>this.lastCurrentTime&&(this.lastCurrentTime=n),!this.loadingParts){const t=Math.max(o.end,n),e=this.shouldLoadParts(this.getLevelDetails(),t);e&&(this.log(`LL-Part loading ON after seeking to ${n.toFixed(2)} with buffer @${t.toFixed(2)}`),this.loadingParts=e)}}this.hls.hasEnoughToStart||o.len||(this.log(`setting startPosition to ${n} because of seek before start`),this.nextLoadPosition=this.startPosition=n),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=r,this.hls=t,this.fragmentLoader=new Tb(t.config),this.keyLoader=s,this.fragmentTracker=e,this.config=t.config,this.decrypter=new wb(t.config)}registerListeners(){const{hls:t}=this;t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Jy.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){if(this.state===qS)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qS}get startPositionValue(){const{nextLoadPosition:t,startPosition:e}=this;return-1===e&&t?t:e}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(t,e){if(e.live||!this.media)return!1;const s=t.end||0,i=this.config.timelineOffset||0;if(s<=i)return!1;const r=t.buffered;this.config.maxBufferHole&&r&&r.length>1&&(t=Lb.bufferedInfo(r,t.start,0));const n=t.nextStart;if(n&&n>i&&n<e.edge)return!1;if(this.media.currentTime<t.start)return!1;const o=e.partList;if(null!=o&&o.length){const t=o[o.length-1];return Lb.isBuffered(this.media,t.start+t.duration/2)}const a=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details}get timelineOffset(){const t=this.config.timelineOffset;var e;return t?(null==(e=this.getLevelDetails())?void 0:e.appliedTimelineOffset)||t:0}onMediaAttached(t,e){const s=this.media=this.mediaBuffer=e.media;s.removeEventListener("seeking",this.onMediaSeeking),s.removeEventListener("ended",this.onMediaEnded),s.addEventListener("seeking",this.onMediaSeeking),s.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===qS&&this.startLoad(i.startPosition)}onMediaDetaching(t,e){const s=!!e.transferMedia,i=this.media;if(null!==i){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!s&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,s)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(t,e){}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=qS,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,s){this.startFragRequested=!0,this._loadFragForPlayback(t,e,s)}_loadFragForPlayback(t,e,s){this._doFragLoad(t,e,s,(t=>{const e=t.frag;if(this.fragContextChanged(e))return this.warn(`${e.type} sn: ${e.sn}${t.part?" part: "+t.part.index:""} of ${this.fragInfo(e,!1,t.part)}) was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const e=this.state,s=t.frag;this.fragContextChanged(s)?(e===JS||!this.fragCurrent&&e===ZS)&&(this.fragmentTracker.removeFragment(s),this.state=QS):("payload"in t&&(this.log(`Loaded ${s.type} sn: ${s.sn} of ${this.playlistLabel()} ${s.level}`),this.hls.trigger(Jy.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((e=>{this.state!==qS&&this.state!==sw&&(this.warn(`Frag error: ${(null==e?void 0:e.message)||e}`),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:s}=this;if(s.getState(t)===cb){const e=t.type,i=this.getFwdBufferInfo(this.mediaBuffer,e),r=Math.max(t.duration,i?i.len:this.config.maxBufferLength),n=this.backtrackFragment;(1===(n?t.sn-n.sn:0)||this.reduceMaxBufferLength(r,t.duration))&&s.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?s.removeAllFragments():s.hasParts(t.type)&&(s.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),s.getState(t)===db&&s.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}waitForLive(t){const e=t.details;return(null==e?void 0:e.live)&&"EVENT"!==e.type&&(this.levelLastLoaded!==t||e.expired)}flushMainBuffer(t,e,s=null){if(!(t-e))return;const i={startOffset:t,endOffset:e,type:s};this.hls.trigger(Jy.BUFFER_FLUSHING,i)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((t=>{const e=null==t?void 0:t.frag;if(!e||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:e}=this,{frag:s,payload:i}=t,r=s.decryptdata;if(i&&i.byteLength>0&&null!=r&&r.key&&r.iv&&Gb(r.method)){const n=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer,zb(r.method)).catch((t=>{throw e.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:s}),t})).then((i=>{const r=self.performance.now();return e.trigger(Jy.FRAG_DECRYPTED,{frag:s,payload:i,stats:{tstart:n,tdecrypt:r}}),t.payload=i,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((e=>{this.state!==qS&&this.state!==sw&&(this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const s=t.frag.stats;this.state!==qS&&(this.state=QS),t.frag.data=new Uint8Array(t.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),this.tick()}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)} > buffer:${s?KS(Lb.getBuffered(s)):"(detached)"})`),RA(t)){var i;if(t.type!==iA){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return void(this.state=QS)}const e=null==(i=this.levels)?void 0:i[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=QS}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:s,part:i,partsLoaded:r}=t,n=!r||0===r.length||r.some((t=>!t)),o=new Db(s.level,s.sn,s.stats.chunkCount+1,0,i?i.index:-1,!n);e.flush(o)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,s=null,i){var r;this.fragCurrent=t;const n=null==e?void 0:e.details;if(!this.levels||!n)throw new Error(`frag load aborted, missing level${n?"":" detail"}s`);let o=null;!t.encrypted||null!=(r=t.decryptdata)&&r.key?t.encrypted||(o=this.keyLoader.loadClear(t,n.encryptedFragments),o&&this.log("[eme] blocking frag load until media-keys acquired")):(this.log(`Loading key for ${t.sn} of [${n.startSN}-${n.endSN}], ${this.playlistLabel()} ${t.level}`),this.state=YS,this.fragCurrent=t,o=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(Jy.KEY_LOADED,t),this.state===YS&&(this.state=QS),t})),this.hls.trigger(Jy.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING"))));const a=this.fragPrevious;if(RA(t)&&(!a||t.sn!==a.sn)){const s=this.shouldLoadParts(e.details,t.end);s!==this.loadingParts&&(this.log(`LL-Part loading ${s?"ON":"OFF"} loading sn ${null==a?void 0:a.sn}->${t.sn}`),this.loadingParts=s)}if(s=Math.max(t.start,s||0),this.loadingParts&&RA(t)){const r=n.partList;if(r&&i){s>t.end&&n.fragmentHint&&(t=n.fragmentHint);const a=this.getNextPart(r,t,s);if(a>-1){const h=r[a];let l;return t=this.fragCurrent=h.fragment,this.log(`Loading ${t.type} sn: ${t.sn} part: ${h.index} (${a}/${r.length-1}) of ${this.fragInfo(t,!1,h)}) cc: ${t.cc} [${n.startSN}-${n.endSN}], target: ${parseFloat(s.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=JS,l=o?o.then((s=>!s||this.fragContextChanged(s.frag)?null:this.doFragPartsLoad(t,h,e,i))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,h,e,i).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(Jy.FRAG_LOADING,{frag:t,part:h,targetBufferTime:s}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):l}if(!t.url||this.loadedEndOfParts(r,s))return Promise.resolve(null)}}if(RA(t)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${s.toFixed(2)}`),this.loadingParts=!1;else if(!t.url)return Promise.resolve(null);this.log(`Loading ${t.type} sn: ${t.sn} of ${this.fragInfo(t,!1)}) cc: ${t.cc} ${n?"["+n.startSN+"-"+n.endSN+"]":""}, target: ${parseFloat(s.toFixed(3))}`),Hy(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=JS;const h=this.config.progressive;let l;return l=h&&o?o.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,i))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,h?i:void 0),o]).then((([t])=>(!h&&t&&i&&i(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(Jy.FRAG_LOADING,{frag:t,targetBufferTime:s}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(t,e,s,i){return new Promise(((r,n)=>{var o;const a=[],h=null==(o=s.details)?void 0:o.partList,l=e=>{this.fragmentLoader.loadPart(t,e,i).then((i=>{a[e.index]=i;const n=i.part;this.hls.trigger(Jy.FRAG_LOADED,i);const o=OS(s.details,t.sn,e.index+1)||NS(h,t.sn,e.index+1);if(!o)return r({frag:t,part:n,partsLoaded:a});l(o)})).catch(n)};l(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===Yy.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Jy.ERROR,e)}else this.hls.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==ZS)return void(this.fragCurrent||this.state===qS||this.state===sw||(this.state=QS));const{frag:s,part:i,level:r}=e,n=self.performance.now();s.stats.parsing.end=n,i&&(i.stats.parsing.end=n);const o=this.getLevelDetails(),a=o&&s.sn>o.endSN||this.shouldLoadParts(o,s.end);a!==this.loadingParts&&(this.log(`LL-Part loading ${a?"ON":"OFF"} after parsing segment ending @${s.end.toFixed(2)}`),this.loadingParts=a),this.updateLevelTiming(s,i,r,t.partial)}shouldLoadParts(t,e){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(null!=t&&t.partList){var s;const r=t.partList[0];if(e>=r.end+((null==(s=t.fragmentHint)?void 0:s.duration)||0)){var i;if((this.hls.hasEnoughToStart?(null==(i=this.media)?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>r.start-r.fragment.duration)return!0}}}return!1}getCurrentContext(t){const{levels:e,fragCurrent:s}=this,{level:i,sn:r,part:n}=t;if(null==e||!e[i])return this.warn(`Levels object was unset while buffering fragment ${r} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const o=e[i],a=o.details,h=n>-1?OS(a,r,n):null,l=h?h.fragment:US(a,r,s);return l?(s&&s!==l&&(l.stats=s.stats),{frag:l,part:h,level:o}):null}bufferFragmentData(t,e,s,i,r){var n;if(!t||this.state!==ZS)return;const{data1:o,data2:a}=t;let h=o;if(o&&a&&(h=$A(o,a)),null==(n=h)||!n.length)return;const l={type:t.type,frag:e,part:s,chunkMeta:i,parent:e.type,data:h};if(this.hls.trigger(Jy.BUFFER_APPENDING,l),t.dropped&&t.independent&&!s){if(r)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!Lb.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const s=e.currentTime,i=Lb.bufferInfo(e,s,0),r=t.duration,n=Math.min(2*this.config.maxFragLookUpTolerance,.25*r),o=Math.max(Math.min(t.start-n,i.end-n),s+n);t.start-o>n&&this.flushMainBuffer(o,t.start)}getFwdBufferInfo(t,e){var s;const i=this.getLoadPosition();if(!Hy(i))return null;const r=this.lastCurrentTime>i||null!=(s=this.media)&&s.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,i,e,r)}getFwdBufferInfoAtPos(t,e,s,i){const r=Lb.bufferInfo(t,e,i);if(0===r.len&&void 0!==r.nextStart){const n=this.fragmentTracker.getBufferedFrag(e,s);if(n&&(r.nextStart<=n.end||n.gap)){const s=Math.max(Math.min(r.nextStart,n.end)-e,i);return Lb.bufferInfo(t,e,s)}}return r}getMaxBufferLength(t){const{config:e}=this;let s;return s=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(s,e.maxMaxBufferLength)}reduceMaxBufferLength(t,e){const s=this.config,i=Math.max(Math.min(t-e,s.maxBufferLength),e),r=Math.max(t-3*e,s.maxMaxBufferLength/2,i);return r>=i&&(s.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0)}getAppendedFrag(t,e=eA){var s;const i=null==(s=this.fragmentTracker)?void 0:s.getAppendedFrag(t,e);return i&&"fragment"in i?i.fragment:i}getNextFragment(t,e){const s=e.fragments,i=s.length;if(!i)return null;const{config:r}=this,n=s[0].start,o=r.lowLatencyMode&&!!e.partList;let a=null;if(e.live){const s=r.initialLiveManifestSize;if(i<s)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${s})`),null;if(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<n){var h;o&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),a=this.getInitialLiveFragment(e);const s=this.hls.startPosition,i=this.hls.liveSyncPosition,r=a?(-1!==s&&s>=n?s:i)||a.start:t;this.log(`Setting startPosition to ${r} to match start frag at live edge. mainStart: ${s} liveSyncPosition: ${i} frag.start: ${null==(h=a)?void 0:h.start}`),this.startPosition=this.nextLoadPosition=r}}else t<=n&&(a=s[0]);if(!a){const s=this.loadingParts?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,s,e)}let l=this.filterReplacedPrimary(a,e);if(!l&&a){const t=a.sn-e.startSN;l=this.filterReplacedPrimary(s[t+1]||null,e)}return this.mapToInitFragWhenRequired(l)}isLoopLoading(t,e){const s=this.fragmentTracker.getState(t);return(s===ub||s===db&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,s,i,r){let n=null;if(t.gap&&(n=this.getNextFragment(this.nextLoadPosition,e),n&&!n.gap&&s.nextStart)){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,s.nextStart,i,0);if(null!==t&&s.len+t.len>=r){const t=n.sn;return this.loopSn!==t&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${t}`),this.loopSn=t),null}}return this.loopSn=void 0,n}get primaryPrefetch(){if(ow(this.hls.config)){var t,e;if(null==(t=this.hls.interstitialsManager)||null==(e=t.playingItem)?void 0:e.event)return!0}return!1}filterReplacedPrimary(t,e){if(!t)return t;if(ow(this.hls.config)&&t.type!==iA){const s=this.hls.interstitialsManager,i=null==s?void 0:s.bufferingItem;if(i){const s=i.event;if(s){if(s.appendInPlace||Math.abs(t.start-i.start)>1||0===i.start)return null}else{if(t.end<=i.start&&!1===(null==e?void 0:e.live))return null;if(t.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||t.start-i.end>1))return null}}const r=null==s?void 0:s.playerQueue;if(r)for(let e=r.length;e--;){const s=r[e].interstitial;if(s.appendInPlace&&t.start>=s.startTime&&t.end<=s.resumeTime)return null}}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,s){let i=-1,r=!1,n=!0;for(let o=0,a=t.length;o<a;o++){const a=t[o];if(n=n&&!a.independent,i>-1&&s<a.start)break;const h=a.loaded;h?i=-1:(r||a.independent||n)&&a.fragment===e&&(i=o),r=h}return i}loadedEndOfParts(t,e){const s=t[t.length-1];return s&&e>s.start&&s.loaded}getInitialLiveFragment(t){const e=t.fragments,s=this.fragPrevious;let i=null;if(s){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${s.programDateTime}`),i=function(t,e,s){if(null===e||!Array.isArray(t)||!t.length||!Hy(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;for(let i=0;i<t.length;++i){const r=t[i];if(Qv(e,s,r))return r}return null}(e,s.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const r=s.sn+1;if(r>=t.startSN&&r<=t.endSN){const n=e[r-t.startSN];s.cc===n.cc&&(i=n,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Yv(t,s.cc,s.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(i=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return i}getFragmentAtPosition(t,e,s){const{config:i}=this;let{fragPrevious:r}=this,{fragments:n,endSN:o}=s;const{fragmentHint:a}=s,{maxFragLookUpTolerance:h}=i,l=s.partList,c=!!(this.loadingParts&&null!=l&&l.length&&a);let d;if(c&&a&&!this.bitrateTest&&l[l.length-1].fragment.sn===a.sn&&(n=n.concat(a),o=a.sn),t<e){var u;d=Kv(r,n,t,t<this.lastCurrentTime||t>e-h||null!=(u=this.media)&&u.paused||!this.startFragRequested?0:h)}else d=n[n.length-1];if(d){const t=d.sn-s.startSN,e=this.fragmentTracker.getState(d);if((e===ub||e===db&&d.gap)&&(r=d),r&&d.sn===r.sn&&(!c||l[0].fragment.sn>d.sn||!s.live&&!c)){if(r&&d.level===r.level){const e=n[t+1];d=d.sn<o&&this.fragmentTracker.getState(e)!==ub?e:null}}}return d}alignPlaylists(t,e,s){const i=t.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const r=t.fragmentStart,n=!e,o=t.alignedSliding&&Hy(r);if(n||!o&&!r){!function(t,e){t&&(zS(e,t),!e.alignedSliding&&t&&HS(e,t),e.alignedSliding||!t||e.skippedSegments||MS(t,e,!1))}(s,t);const r=t.fragmentStart;return this.log(`Live playlist sliding: ${r.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} fragments: ${i}`),r}return r}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let s=this.startPosition;s<e&&(s=-1);const i=this.timelineOffset;if(-1===s){const r=null!==this.startTimeOffset,n=r?this.startTimeOffset:t.startTimeOffset;null!==n&&Hy(n)?(s=e+n,n<0&&(s+=t.edge),s=Math.min(Math.max(e,s),e+t.totalduration),this.log(`Setting startPosition to ${s} for start time offset ${n} found in ${r?"multivariant":"media"} playlist`),this.startPosition=s):t.live?(s=this.hls.liveSyncPosition||e,this.log(`Setting startPosition to -1 to start at live edge ${s}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=s=0),this.lastCurrentTime=s+i}this.nextLoadPosition=s+i}getLoadPosition(){var t;const{media:e}=this;let s=0;return null!=(t=this.hls)&&t.hasEnoughToStart&&e?s=e.currentTime:this.nextLoadPosition>=0&&(s=this.nextLoadPosition),s}handleFragLoadAborted(t,e){this.transmuxer&&t.type===this.playlistType&&RA(t)&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of ${this.playlistLabel()} ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===XS)||(this.state=QS)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const s=e.frag;if(!s||s.type!==t||!this.levels)return;var i;if(this.fragContextChanged(s))return void this.warn(`Frag load error must match current frag to retry ${s.url} > ${null==(i=this.fragCurrent)?void 0:i.url}`);const r=e.details===Yy.FRAG_GAP;r&&this.fragmentTracker.fragBuffered(s,!0);const n=e.errorAction,{action:o,flags:a,retryCount:h=0,retryConfig:l}=n||{},c=!!n&&!!l,d=c&&o===rb,u=c&&!n.resolved&&a===ob;if(!d&&u&&RA(s)&&!s.endList)this.resetFragmentErrors(t),this.treatAsGap(s),n.resolved=!0;else if((d||u)&&h<l.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const i=$v(l,h);this.warn(`Fragment ${s.sn} of ${t} ${s.level} errored with ${e.details}, retrying loading ${h+1}/${l.maxNumRetry} in ${i}ms`),n.resolved=!0,this.retryDate=self.performance.now()+i,this.state=XS}else if(l&&n){if(this.resetFragmentErrors(t),!(h<l.maxNumRetry))return void this.warn(`${e.details} reached or exceeded max retry (${h})`);r||o===ib||(n.resolved=!0)}else this.state=o===sb?rw:sw;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===ZS||this.state===tw){const e=t.frag,s=t.parent,i=this.getFwdBufferInfo(this.mediaBuffer,s),r=i&&i.len>.5;r&&this.reduceMaxBufferLength(i.len,(null==e?void 0:e.duration)||10);const n=!r;return n&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${s} buffer`),e&&(this.fragmentTracker.removeFragment(e),this.nextLoadPosition=e.start),this.resetLoadingState(),n}return!1}resetFragmentErrors(t){t===sA&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==qS&&(this.state=QS)}afterBufferFlushed(t,e,s){if(!t)return;const i=Lb.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,s),this.state===ew&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==qS&&(this.state=QS)}resetStartWhenNotLoaded(t){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=t?t.details:null;null!=e&&e.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(e,e.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of ${this.playlistLabel()} ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,s,i){const r=s.details;if(!r)return void this.warn("level.details undefined");var n;if(!Object.keys(t.elementaryStreams).reduce(((e,n)=>{const o=t.elementaryStreams[n];if(o){const a=o.endPTS-o.startPTS;if(a<=0)return this.warn(`Could not parse fragment ${t.sn} ${n} duration reliably (${a})`),e||!1;const h=i?0:LS(r,t,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return this.hls.trigger(Jy.LEVEL_PTS_UPDATED,{details:r,level:s,drift:h,type:n,frag:t,start:o.startPTS,end:o.endPTS}),!0}return e}),!1)&&(0===s.fragmentError&&this.treatAsGap(t,s),null===(null==(n=this.transmuxer)?void 0:n.error))){const e=new Error(`Found no media in fragment ${t.sn} of ${this.playlistLabel()} ${t.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of ${this.playlistLabel()} "${s.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=tw,this.log(`Parsed ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)})`),this.hls.trigger(Jy.FRAG_PARSED,{frag:t,part:e})}playlistLabel(){return this.playlistType===eA?"level":"track"}fragInfo(t,e=!0,s){var i,r;return`${this.playlistLabel()} ${t.level} (${s?"part":"frag"}:[${(null!=(i=e&&!s?t.startPTS:(s||t).start)?i:NaN).toFixed(3)}-${(null!=(r=e&&!s?t.endPTS:(s||t).end)?r:NaN).toFixed(3)}]${s&&"main"===t.type?"INDEPENDENT="+(s.independent?"YES":"NO"):""}`}treatAsGap(t,e){e&&e.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)}resetTransmuxer(){var t;null==(t=this.transmuxer)||t.reset()}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}function ow(t){return!!t.interstitialsController&&!1!==t.enableInterstitialPlayback}class aw{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let s;return t.length?(s=1===t.length?t[0]:function(t,e){const s=new Uint8Array(e);let i=0;for(let e=0;e<t.length;e++){const r=t[e];s.set(r,i),i+=r.length}return s}(t,e),this.reset(),s):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}var hw,lw={exports:{}};var cw=(hw||(hw=1,function(t){var e=Object.prototype.hasOwnProperty,s="~";function i(){}function r(t,e,s){this.fn=t,this.context=e,this.once=s||!1}function n(t,e,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,n||t,o),h=s?s+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),a.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(s?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=s?s+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,n=i.length,o=new Array(n);r<n;r++)o[r]=i[r].fn;return o},a.prototype.listenerCount=function(t){var e=s?s+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,r,n,o){var a=s?s+t:t;if(!this._events[a])return!1;var h,l,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,r),!0;case 5:return c.fn.call(c.context,e,i,r,n),!0;case 6:return c.fn.call(c.context,e,i,r,n,o),!0}for(l=1,h=new Array(d-1);l<d;l++)h[l-1]=arguments[l];c.fn.apply(c.context,h)}else{var u,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,i);break;case 4:c[l].fn.call(c[l].context,e,i,r);break;default:if(!h)for(u=1,h=new Array(d-1);u<d;u++)h[u-1]=arguments[u];c[l].fn.apply(c[l].context,h)}}return!0},a.prototype.on=function(t,e,s){return n(this,t,e,s,!1)},a.prototype.once=function(t,e,s){return n(this,t,e,s,!0)},a.prototype.removeListener=function(t,e,i,r){var n=s?s+t:t;if(!this._events[n])return this;if(!e)return o(this,n),this;var a=this._events[n];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||o(this,n);else{for(var h=0,l=[],c=a.length;h<c;h++)(a[h].fn!==e||r&&!a[h].once||i&&a[h].context!==i)&&l.push(a[h]);l.length?this._events[n]=1===l.length?l[0]:l:o(this,n)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,t.exports=a}(lw)),lw.exports),dw=SA(cw);const uw="1.6.5",pw={};function fw(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function mw(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function gw(t,e){let s=0;return s=(127&t[e])<<21,s|=(127&t[e+1])<<14,s|=(127&t[e+2])<<7,s|=127&t[e+3],s}function yw(t,e){const s=e;let i=0;for(;mw(t,e);){i+=10;i+=gw(t,e+6),fw(t,e+10)&&(i+=10),e+=i}if(i>0)return t.subarray(s,s+i)}function Aw(t,e){return 255===t[e]&&240==(246&t[e+1])}function vw(t,e){return 1&t[e+1]?7:9}function bw(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function Sw(t,e){return e+1<t.length&&Aw(t,e)}function ww(t,e){if(Sw(t,e)){const s=vw(t,e);if(e+s>=t.length)return!1;const i=bw(t,e);if(i<=s)return!1;const r=e+i;return r===t.length||Sw(t,r)}return!1}function Ew(t,e,s,i,r){if(!t.samplerate){const n=function(t,e,s,i){const r=e[s+2],n=r>>2&15;if(n>12){const e=new Error(`invalid ADTS sampling index:${n}`);return void t.emit(Jy.ERROR,Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}const o=1+(r>>6&3),a=e[s+3]>>6&3|(1&r)<<2,h="mp4a.40."+o,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][n];let c=n;5!==o&&29!==o||(c-=3);const d=[o<<3|(14&c)>>1,(1&c)<<7|a<<3];return gA.log(`manifest codec:${i}, parsed codec:${h}, channels:${a}, rate:${l} (ADTS object type:${o} sampling index:${n})`),{config:d,samplerate:l,channelCount:a,codec:h,parsedCodec:h,manifestCodec:i}}(e,s,i,r);if(!n)return;aA(t,n)}}function Tw(t){return 9216e4/t}function Iw(t,e,s,i,r){const n=i+r*Tw(t.samplerate),o=function(t,e){const s=vw(t,e);if(e+s<=t.length){const i=bw(t,e)-s;if(i>0)return{headerLength:s,frameLength:i}}}(e,s);let a;if(o){const{frameLength:i,headerLength:r}=o,h=r+i,l=Math.max(0,s+h-e.length);l?(a=new Uint8Array(h-r),a.set(e.subarray(s+r,e.length),0)):a=e.subarray(s+r,s+h);const c={unit:a,pts:n};return l||t.samples.push(c),{sample:c,length:h,missing:l}}const h=e.length-s;a=new Uint8Array(h),a.set(e.subarray(s,e.length),0);return{sample:{unit:a,pts:n},length:h,missing:-1}}function kw(t,e){return mw(t,e)&&gw(t,e+6)+10<=t.length-e}function _w(t,e=0,s=1/0){return function(t,e,s,i){const r=function(t){return t instanceof ArrayBuffer?t:t.buffer}(t);let n=1;"BYTES_PER_ELEMENT"in i&&(n=i.BYTES_PER_ELEMENT);const o=(d=t,d&&d.buffer instanceof ArrayBuffer&&void 0!==d.byteLength&&void 0!==d.byteOffset?t.byteOffset:0),a=(o+t.byteLength)/n,h=(o+e)/n,l=Math.floor(Math.max(0,Math.min(h,a))),c=Math.floor(Math.min(l+Math.max(s,0),a));var d;return new i(r,l,c-l)}(t,e,s,Uint8Array)}function Cw(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null};if(t.size<2)return;if(3!==t.data[0])return void console.log("Ignore frame with unrecognized character encoding");const s=t.data.subarray(1).indexOf(0);if(-1===s)return;const i=vA(_w(t.data,1,s)),r=t.data[2+s],n=t.data.subarray(3+s).indexOf(0);if(-1===n)return;const o=vA(_w(t.data,3+s,n));let a;return a="--\x3e"===i?vA(_w(t.data,4+s+n)):function(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}(t.data.subarray(4+s+n)),e.mimeType=i,e.pictureType=r,e.description=o,e.data=a,e}function Dw(t){return"PRIV"===t.type?function(t){if(t.size<2)return;const e=vA(t.data,!0),s=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:s.buffer}}(t):"W"===t.type[0]?function(t){if("WXXX"===t.type){if(t.size<2)return;let e=1;const s=vA(t.data.subarray(e),!0);e+=s.length+1;const i=vA(t.data.subarray(e));return{key:t.type,info:s,data:i}}const e=vA(t.data);return{key:t.type,info:"",data:e}}(t):"APIC"===t.type?Cw(t):function(t){if(t.size<2)return;if("TXXX"===t.type){let e=1;const s=vA(t.data.subarray(e),!0);e+=s.length+1;const i=vA(t.data.subarray(e));return{key:t.type,info:s,data:i}}const e=vA(t.data.subarray(1));return{key:t.type,info:"",data:e}}(t)}function Rw(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),s=gw(t,4);return{type:e,size:s,data:t.subarray(10,10+s)}}function Lw(t){let e=0;const s=[];for(;mw(t,e);){const i=gw(t,e+6);t[e+5]>>6&1&&(e+=10),e+=10;const r=e+i;for(;e+10<r;){const i=Rw(t.subarray(e)),r=Dw(i);r&&s.push(r),e+=i.size+10}fw(t,e)&&(e+=10)}return s}function Pw(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info}function xw(t){if(8===t.data.byteLength){const e=new Uint8Array(t.data),s=1&e[3];let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,s&&(i+=47721858.84),Math.round(i)}}function Mw(t){const e=Lw(t);for(let t=0;t<e.length;t++){const s=e[t];if(Pw(s))return xw(s)}}let Bw=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function Fw(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Uw{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,s,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,s){}demux(t,e){this.cachedData&&(t=$A(this.cachedData,t),this.cachedData=null);let s,i=yw(t,0),r=i?i.length:0;const n=this._audioTrack,o=this._id3Track,a=i?Mw(i):void 0,h=t.length;for((null===this.basePTS||0===this.frameIndex&&Hy(a))&&(this.basePTS=Ow(a,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Bw.audioId3,duration:Number.POSITIVE_INFINITY});r<h;){if(this.canParse(t,r)){const e=this.appendFrame(n,t,r);e?(this.frameIndex++,this.lastPTS=e.sample.pts,r+=e.length,s=r):r=h}else kw(t,r)?(i=yw(t,r),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Bw.audioId3,duration:Number.POSITIVE_INFINITY}),r+=i.length,s=r):r++;if(r===h&&s!==h){const e=t.slice(s);this.cachedData?this.cachedData=$A(this.cachedData,e):this.cachedData=e}}return{audioTrack:n,videoTrack:Fw(),id3Track:o,textTrack:Fw()}}demuxSampleAes(t,e,s){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:Fw(),id3Track:this._id3Track,textTrack:Fw()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const Ow=(t,e,s)=>{if(Hy(t))return 90*t;return 9e4*e+(s?9e4*s.baseTime/s.timescale:0)};let Nw=null;const jw=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Vw=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ww=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Gw=[0,1,1,4];function zw(t,e,s,i,r){if(s+24>e.length)return;const n=Hw(e,s);if(n&&s+n.frameLength<=e.length){const o=i+r*(9e4*n.samplesPerFrame/n.sampleRate),a={unit:e.subarray(s,s+n.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=n.channelCount,t.samplerate=n.sampleRate,t.samples.push(a),{sample:a,length:n.frameLength,missing:0}}}function Hw(t,e){const s=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,n=t[e+2]>>2&3;if(1!==s&&0!==r&&15!==r&&3!==n){const o=t[e+2]>>1&1,a=t[e+3]>>6,h=1e3*jw[14*(3===s?3-i:3===i?3:4)+r-1],l=Vw[3*(3===s?0:2===s?1:2)+n],c=3===a?1:2,d=Ww[s][i],u=Gw[i],p=8*d*u,f=Math.floor(d*h/l+o)*u;if(null===Nw){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Nw=t?parseInt(t[1]):0}return!!Nw&&Nw<=87&&2===i&&h>=224e3&&0===a&&(t[e+3]=128|t[e+3]),{sampleRate:l,channelCount:c,frameLength:f,samplesPerFrame:p}}}function Kw(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function qw(t,e){return e+1<t.length&&Kw(t,e)}function Qw(t,e){if(e+1<t.length&&Kw(t,e)){const s=4,i=Hw(t,e);let r=s;null!=i&&i.frameLength&&(r=i.frameLength);const n=e+r;return n===t.length||qw(t,n)}return!1}const Yw=(t,e)=>{let s=0,i=5;e+=i;const r=new Uint32Array(1),n=new Uint32Array(1),o=new Uint8Array(1);for(;i>0;){o[0]=t[e];const a=Math.min(i,8),h=8-a;n[0]=4278190080>>>24+h<<h,r[0]=(o[0]&n[0])>>h,s=s?s<<a|r[0]:r[0],e+=1,i-=a}return s};class Jw extends Uw{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,s){const i=Xw(t,e,s,this.basePTS,this.frameIndex);if(-1!==i){return{sample:t.samples[t.samples.length-1],length:i,missing:0}}}static probe(t){if(!t)return!1;const e=yw(t,0);if(!e)return!1;const s=e.length;return 11===t[s]&&119===t[s+1]&&void 0!==Mw(e)&&Yw(t,s)<16}}function Xw(t,e,s,i,r){if(s+8>e.length)return-1;if(11!==e[s]||119!==e[s+1])return-1;const n=e[s+4]>>6;if(n>=3)return-1;const o=[48e3,44100,32e3][n],a=63&e[s+4],h=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+n];if(s+h>e.length)return-1;const l=e[s+6]>>5;let c=0;2===l?c+=2:(1&l&&1!==l&&(c+=2),4&l&&(c+=2));const d=(e[s+6]<<8|e[s+7])>>12-c&1,u=[2,1,2,3,3,4,4,5][l]+d,p=e[s+5]>>3,f=7&e[s+5],m=new Uint8Array([n<<6|p<<1|f>>2,(3&f)<<6|l<<3|d<<2|a>>4,a<<4&224]),g=i+r*(1536/o*9e4),y=e.subarray(s,s+h);return t.config=m,t.channelCount=u,t.samplerate=o,t.samples.push({unit:y,pts:g}),h}const $w=/\/emsg[-/]ID3/i;function Zw(t,e){return Hy(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class tE{constructor(t,e,s){this.keyData=void 0,this.decrypter=void 0,this.keyData=s,this.decrypter=new wb(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,yb)}decryptAacSample(t,e,s){const i=t[e].unit;if(i.length<=16)return;const r=i.subarray(16,i.length-i.length%16),n=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(n).then((r=>{const n=new Uint8Array(r);i.set(n,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,s)}))}decryptAacSamples(t,e,s){for(;;e++){if(e>=t.length)return void s();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,s),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,s=new Int8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)s.set(t.subarray(e,e+16),i);return s}getAvcDecryptedUnit(t,e){const s=new Uint8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)t.set(s.subarray(i,i+16),e);return t}decryptAvcSample(t,e,s,i,r){const n=iv(r.data),o=this.getAvcEncryptedData(n);this.decryptBuffer(o.buffer).then((o=>{r.data=this.getAvcDecryptedUnit(n,o),this.decrypter.isSync()||this.decryptAvcSamples(t,e,s+1,i)}))}decryptAvcSamples(t,e,s,i){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,s=0){if(e>=t.length)return void i();const r=t[e].units;for(;!(s>=r.length);s++){const n=r[s];if(!(n.data.length<=48||1!==n.type&&5!==n.type||(this.decryptAvcSample(t,e,s,i,n),this.decrypter.isSync())))return}}}}class eE{constructor(){this.VideoSample=null}createVideoSample(t,e,s){return{key:t,frame:!1,pts:e,dts:s,units:[],length:0}}getLastNalUnit(t){var e;let s,i=this.VideoSample;if(i&&0!==i.units.length||(i=t[t.length-1]),null!=(e=i)&&e.units){const t=i.units;s=t[t.length-1]}return s}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const s=e.samples,i=s.length;if(!i)return void e.dropped++;{const e=s[i-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}}parseNALu(t,e,s){const i=e.byteLength;let r=t.naluState||0;const n=r,o=[];let a,h,l,c=0,d=-1,u=0;for(-1===r&&(d=0,u=this.getNALuType(e,0),r=0,c=1);c<i;)if(a=e[c++],r)if(1!==r)if(a)if(1===a){if(h=c-r-1,d>=0){const t={data:e.subarray(d,h),type:u};o.push(t)}else{const s=this.getLastNalUnit(t.samples);s&&(n&&c<=4-n&&s.state&&(s.data=s.data.subarray(0,s.data.byteLength-n)),h>0&&(s.data=$A(s.data,e.subarray(0,h)),s.state=0))}c<i?(l=this.getNALuType(e,c),d=c,u=l,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(d>=0&&r>=0){const t={data:e.subarray(d,i),type:u,state:r};o.push(t)}if(0===o.length){const s=this.getLastNalUnit(t.samples);s&&(s.data=$A(s.data,e))}return t.naluState=r,o}}class sE{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,s=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(s,s+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const s=this.word>>>32-e;if(t>32&&gA.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?s<<e|this.readBits(e):s}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class iE extends eE{parsePES(t,e,s,i){const r=this.parseNALu(t,s.data,i);let n,o=this.VideoSample,a=!1;s.data=null,o&&r.length&&!t.audFound&&(this.pushAccessUnit(o,t),o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),r.forEach((i=>{var r,h;switch(i.type){case 1:{let e=!1;n=!0;const r=i.data;if(a&&r.length>4){const t=this.readSliceType(r);2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var l;if(e)null!=(l=o)&&l.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.frame=!0,o.key=e;break}case 5:n=!0,null!=(r=o)&&r.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 6:n=!0,sv(i.data,1,s.pts,e.samples);break;case 7:{var c,d;n=!0,a=!0;const e=i.data,s=this.readSPS(e);if(!t.sps||t.width!==s.width||t.height!==s.height||(null==(c=t.pixelRatio)?void 0:c[0])!==s.pixelRatio[0]||(null==(d=t.pixelRatio)?void 0:d[1])!==s.pixelRatio[1]){t.width=s.width,t.height=s.height,t.pixelRatio=s.pixelRatio,t.sps=[e];const i=e.subarray(1,4);let r="avc1.";for(let t=0;t<3;t++){let e=i[t].toString(16);e.length<2&&(e="0"+e),r+=e}t.codec=r}break}case 8:n=!0,t.pps=[i.data];break;case 9:n=!0,t.audFound=!0,null!=(h=o)&&h.frame&&(this.pushAccessUnit(o,t),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;case 12:n=!0;break;default:n=!1}if(o&&n){o.units.push(i)}})),i&&o&&(this.pushAccessUnit(o,t),this.VideoSample=null)}getNALuType(t,e){return 31&t[e]}readSliceType(t){const e=new sE(t);return e.readUByte(),e.readUEG(),e.readUEG()}skipScalingList(t,e){let s,i=8,r=8;for(let n=0;n<t;n++)0!==r&&(s=e.readEG(),r=(i+s+256)%256),i=0===r?i:r}readSPS(t){const e=new sE(t);let s,i,r,n=0,o=0,a=0,h=0;const l=e.readUByte.bind(e),c=e.readBits.bind(e),d=e.readUEG.bind(e),u=e.readBoolean.bind(e),p=e.skipBits.bind(e),f=e.skipEG.bind(e),m=e.skipUEG.bind(e),g=this.skipScalingList.bind(this);l();const y=l();if(c(5),p(3),l(),m(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){const t=d();if(3===t&&p(1),m(),m(),p(1),u())for(i=3!==t?8:12,r=0;r<i;r++)u()&&g(r<6?16:64,e)}m();const A=d();if(0===A)d();else if(1===A)for(p(1),f(),f(),s=d(),r=0;r<s;r++)f();m(),p(1);const v=d(),b=d(),S=c(1);0===S&&p(1),p(1),u()&&(n=d(),o=d(),a=d(),h=d());let w=[1,1];if(u()&&u()){switch(l()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[l()<<8|l(),l()<<8|l()]}}return{width:Math.ceil(16*(v+1)-2*n-2*o),height:(2-S)*(b+1)*16-(S?2:4)*(a+h),pixelRatio:w}}}class rE extends eE{constructor(...t){super(...t),this.initVPS=null}parsePES(t,e,s,i){const r=this.parseNALu(t,s.data,i);let n,o=this.VideoSample,a=!1;s.data=null,o&&r.length&&!t.audFound&&(this.pushAccessUnit(o,t),o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),r.forEach((i=>{var r,h;switch(i.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),o.frame=!0,n=!0;break;case 16:case 17:case 18:case 21:var l;if(n=!0,a)null!=(l=o)&&l.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 19:case 20:n=!0,null!=(r=o)&&r.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 39:n=!0,sv(i.data,2,s.pts,e.samples);break;case 32:n=!0,t.vps||("object"!=typeof t.params&&(t.params={}),t.params=aA(t.params,this.readVPS(i.data)),this.initVPS=i.data),t.vps=[i.data];break;case 33:if(n=!0,a=!0,void 0===t.vps||t.vps[0]===this.initVPS||void 0===t.sps||this.matchSPS(t.sps[0],i.data)||(this.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){const e=this.readSPS(i.data);t.width=e.width,t.height=e.height,t.pixelRatio=e.pixelRatio,t.codec=e.codecString,t.sps=[],"object"!=typeof t.params&&(t.params={});for(const s in e.params)t.params[s]=e.params[s]}this.pushParameterSet(t.sps,i.data,t.vps),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0;break;case 34:if(n=!0,"object"==typeof t.params){if(!t.pps){t.pps=[];const e=this.readPPS(i.data);for(const s in e)t.params[s]=e[s]}this.pushParameterSet(t.pps,i.data,t.vps)}break;case 35:n=!0,t.audFound=!0,null!=(h=o)&&h.frame&&(this.pushAccessUnit(o,t),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;default:n=!1}if(o&&n){o.units.push(i)}})),i&&o&&(this.pushAccessUnit(o,t),this.VideoSample=null)}pushParameterSet(t,e,s){(s&&s[0]===this.initVPS||!s&&!t.length)&&t.push(e)}getNALuType(t,e){return(126&t[e])>>>1}ebsp2rbsp(t){const e=new Uint8Array(t.byteLength);let s=0;for(let i=0;i<t.byteLength;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(e[s]=t[i],s++);return new Uint8Array(e.buffer,0,s)}pushAccessUnit(t,e){super.pushAccessUnit(t,e),this.initVPS&&(this.initVPS=null)}readVPS(t){const e=new sE(t);e.readUByte(),e.readUByte(),e.readBits(4),e.skipBits(2),e.readBits(6);return{numTemporalLayers:e.readBits(3)+1,temporalIdNested:e.readBoolean()}}readSPS(t){const e=new sE(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.readBits(4);const s=e.readBits(3);e.readBoolean();const i=e.readBits(2),r=e.readBoolean(),n=e.readBits(5),o=e.readUByte(),a=e.readUByte(),h=e.readUByte(),l=e.readUByte(),c=e.readUByte(),d=e.readUByte(),u=e.readUByte(),p=e.readUByte(),f=e.readUByte(),m=e.readUByte(),g=e.readUByte(),y=[],A=[];for(let t=0;t<s;t++)y.push(e.readBoolean()),A.push(e.readBoolean());if(s>0)for(let t=s;t<8;t++)e.readBits(2);for(let t=0;t<s;t++)y[t]&&(e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte()),A[t]&&e.readUByte();e.readUEG();const v=e.readUEG();3==v&&e.skipBits(1);const b=e.readUEG(),S=e.readUEG(),w=e.readBoolean();let E=0,T=0,I=0,k=0;w&&(E+=e.readUEG(),T+=e.readUEG(),I+=e.readUEG(),k+=e.readUEG());const _=e.readUEG(),C=e.readUEG(),D=e.readUEG();for(let t=e.readBoolean()?0:s;t<=s;t++)e.skipUEG(),e.skipUEG(),e.skipUEG();e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG();if(e.readBoolean()){if(e.readBoolean())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++){if(e.readBoolean()){const s=Math.min(64,1<<4+(t<<1));t>1&&e.readEG();for(let t=0;t<s;t++)e.readEG()}else e.readUEG()}}e.readBoolean(),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.skipUEG(),e.skipUEG(),e.readBoolean());const R=e.readUEG();let L=0;for(let t=0;t<R;t++){let s=!1;if(0!==t&&(s=e.readBoolean()),s){t===R&&e.readUEG(),e.readBoolean(),e.readUEG();let s=0;for(let t=0;t<=L;t++){const t=e.readBoolean();let i=!1;t||(i=e.readBoolean()),(t||i)&&s++}L=s}else{const t=e.readUEG(),s=e.readUEG();L=t+s;for(let s=0;s<t;s++)e.readUEG(),e.readBoolean();for(let t=0;t<s;t++)e.readUEG(),e.readBoolean()}}if(e.readBoolean()){const t=e.readUEG();for(let s=0;s<t;s++){for(let t=0;t<D+4;t++)e.readBits(1);e.readBits(1)}}let P=0,x=1,M=1,B=!0,F=1,U=0;e.readBoolean(),e.readBoolean();let O=!1;if(e.readBoolean()){if(e.readBoolean()){const t=e.readUByte(),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(x=s[t-1],M=i[t-1]):255===t&&(x=e.readBits(16),M=e.readBits(16))}e.readBoolean()&&e.readBoolean();if(e.readBoolean()){e.readBits(3),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.readUByte(),e.readUByte())}e.readBoolean()&&(e.readUEG(),e.readUEG()),e.readBoolean(),e.readBoolean(),e.readBoolean(),O=e.readBoolean(),O&&(E+=e.readUEG(),T+=e.readUEG(),I+=e.readUEG(),k+=e.readUEG());if(e.readBoolean()){F=e.readBits(32),U=e.readBits(32);e.readBoolean()&&e.readUEG();if(e.readBoolean()){const t=e.readBoolean(),i=e.readBoolean();let r=!1;(t||i)&&(r=e.readBoolean(),r&&(e.readUByte(),e.readBits(5),e.readBoolean(),e.readBits(5)),e.readBits(4),e.readBits(4),r&&e.readBits(4),e.readBits(5),e.readBits(5),e.readBits(5));for(let n=0;n<=s;n++){B=e.readBoolean();let s=!1;B||e.readBoolean()?e.readEG():s=e.readBoolean();const n=s?1:e.readUEG()+1;if(t)for(let t=0;t<n;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1);if(i)for(let t=0;t<n;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1)}}}e.readBoolean()&&(e.readBoolean(),e.readBoolean(),e.readBoolean(),P=e.readUEG())}let N=b,j=S;if(w||O){let t=1,e=1;1===v?t=e=2:2==v&&(t=2),N=b-t*T-t*E,j=S-e*k-e*I}const V=i?["A","B","C"][i]:"",W=o<<24|a<<16|h<<8|l;let G=0;for(let t=0;t<32;t++)G=(G|(W>>t&1)<<31-t)>>>0;let z=G.toString(16);1===n&&"2"===z&&(z="6");return{codecString:`hvc1.${V}${n}.${z}.${r?"H":"L"}${g}.B0`,params:{general_tier_flag:r,general_profile_idc:n,general_profile_space:i,general_profile_compatibility_flags:[o,a,h,l],general_constraint_indicator_flags:[c,d,u,p,f,m],general_level_idc:g,bit_depth:_+8,bit_depth_luma_minus8:_,bit_depth_chroma_minus8:C,min_spatial_segmentation_idc:P,chroma_format_idc:v,frame_rate:{fixed:B,fps:U/F}},width:N,height:j,pixelRatio:[x,M]}}readPPS(t){const e=new sE(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.skipUEG(),e.skipUEG(),e.skipBits(2),e.skipBits(3),e.skipBits(2),e.skipUEG(),e.skipUEG(),e.skipEG(),e.skipBits(2);e.readBoolean()&&e.skipUEG(),e.skipEG(),e.skipEG(),e.skipBits(4);const s=e.readBoolean(),i=e.readBoolean();let r=1;return i&&s?r=0:i?r=3:s&&(r=2),{parallelismType:r}}matchSPS(t,e){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,e).substr(3)}}const nE=188;class oE{constructor(t,e,s,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=s,this.logger=i,this.videoParser=null}static probe(t,e){const s=oE.syncOffset(t);return s>0&&e.warn(`MPEG2-TS detected but first sync word found @ offset ${s}`),-1!==s}static syncOffset(t){const e=t.length;let s=Math.min(940,e-nE)+1,i=0;for(;i<s;){let r=!1,n=-1,o=0;for(let a=i;a<e;a+=nE){if(71!==t[a]||e-a!==nE&&71!==t[a+nE]){if(o)return-1;break}if(o++,-1===n&&(n=a,0!==n&&(s=Math.min(n+18612,t.length-nE)+1)),r||(r=0===aE(t,a)),r&&o>1&&(0===n&&o>2||a+nE>s))return n}i++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:FA[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,s,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=oE.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=oE.createTrack("audio",i),this._id3Track=oE.createTrack("id3"),this._txtTrack=oE.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:s}=this;t&&(t.pesData=null),e&&(e.pesData=null),s&&(s.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,s=!1,i=!1){let r;s||(this.sampleAes=null);const n=this._videoTrack,o=this._audioTrack,a=this._id3Track,h=this._txtTrack;let l=n.pid,c=n.pesData,d=o.pid,u=a.pid,p=o.pesData,f=a.pesData,m=null,g=this.pmtParsed,y=this._pmtId,A=t.length;if(this.remainderData&&(A=(t=$A(this.remainderData,t)).length,this.remainderData=null),A<nE&&!i)return this.remainderData=t,{audioTrack:o,videoTrack:n,id3Track:a,textTrack:h};const v=Math.max(0,oE.syncOffset(t));A-=(A-v)%nE,A<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,A,t.buffer.byteLength-A));let b=0;for(let e=v;e<A;e+=nE)if(71===t[e]){const i=!!(64&t[e+1]),A=aE(t,e);let b;if((48&t[e+3])>>4>1){if(b=e+5+t[e+4],b===e+nE)continue}else b=e+4;switch(A){case l:if(i){if(c&&(r=uE(c,this.logger))){if(null===this.videoParser)switch(n.segmentCodec){case"avc":this.videoParser=new iE;break;case"hevc":this.videoParser=new rE}null!==this.videoParser&&this.videoParser.parsePES(n,h,r,!1)}c={data:[],size:0}}c&&(c.data.push(t.subarray(b,e+nE)),c.size+=e+nE-b);break;case d:if(i){if(p&&(r=uE(p,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,r);break;case"mp3":this.parseMPEGPES(o,r);break;case"ac3":this.parseAC3PES(o,r)}p={data:[],size:0}}p&&(p.data.push(t.subarray(b,e+nE)),p.size+=e+nE-b);break;case u:i&&(f&&(r=uE(f,this.logger))&&this.parseID3PES(a,r),f={data:[],size:0}),f&&(f.data.push(t.subarray(b,e+nE)),f.size+=e+nE-b);break;case 0:i&&(b+=t[b]+1),y=this._pmtId=hE(t,b);break;case y:{i&&(b+=t[b]+1);const r=lE(t,b,this.typeSupported,s,this.observer,this.logger);l=r.videoPid,l>0&&(n.pid=l,n.segmentCodec=r.segmentVideoCodec),d=r.audioPid,d>0&&(o.pid=d,o.segmentCodec=r.segmentAudioCodec),u=r.id3Pid,u>0&&(a.pid=u),null===m||g||(this.logger.warn(`MPEG-TS PMT found at ${e} after unknown PID '${m}'. Backtracking to sync byte @${v} to parse all TS packets.`),m=null,e=v-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=A}}else b++;b>0&&cE(this.observer,new Error(`Found ${b} TS packet/s that do not start with 0x47`),void 0,this.logger),n.pesData=c,o.pesData=p,a.pesData=f;const S={audioTrack:o,videoTrack:n,id3Track:a,textTrack:h};return i&&this.extractRemainingSamples(S),S}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:s,id3Track:i,textTrack:r}=t,n=s.pesData,o=e.pesData,a=i.pesData;let h;if(n&&(h=uE(n,this.logger))){if(null===this.videoParser)switch(s.segmentCodec){case"avc":this.videoParser=new iE;break;case"hevc":this.videoParser=new rE}null!==this.videoParser&&(this.videoParser.parsePES(s,r,h,!0),s.pesData=null)}else s.pesData=n;if(o&&(h=uE(o,this.logger))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,h);break;case"mp3":this.parseMPEGPES(e,h);break;case"ac3":this.parseAC3PES(e,h)}e.pesData=null}else null!=o&&o.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=o;a&&(h=uE(a,this.logger))?(this.parseID3PES(i,h),i.pesData=null):i.pesData=a}demuxSampleAes(t,e,s){const i=this.demux(t,s,!0,!this.config.progressive),r=this.sampleAes=new tE(this.observer,this.config,e);return this.decrypt(i,r)}decrypt(t,e){return new Promise((s=>{const{audioTrack:i,videoTrack:r}=t;i.samples&&"aac"===i.segmentCodec?e.decryptAacSamples(i.samples,0,(()=>{r.samples?e.decryptAvcSamples(r.samples,0,0,(()=>{s(t)})):s(t)})):r.samples&&e.decryptAvcSamples(r.samples,0,0,(()=>{s(t)}))}))}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(t,e){let s=0;const i=this.aacOverFlow;let r,n,o,a=e.data;if(i){this.aacOverFlow=null;const e=i.missing,r=i.sample.unit.byteLength;if(-1===e)a=$A(i.sample.unit,a);else{const n=r-e;i.sample.unit.set(a.subarray(0,e),n),t.samples.push(i.sample),s=i.missing}}for(r=s,n=a.length;r<n-1&&!Sw(a,r);r++);if(r!==s){let t;const e=r<n-1;if(t=e?`AAC PES did not start with ADTS header,offset:${r}`:"No ADTS header found in AAC PES",cE(this.observer,new Error(t),e,this.logger),!e)return}if(Ew(t,this.observer,a,r,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!i)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Tw(t.samplerate);o=i.sample.pts+e}}let h,l=0;for(;r<n;){if(h=Iw(t,a,r,o,l),r+=h.length,h.missing){this.aacOverFlow=h;break}for(l++;r<n-1&&!Sw(a,r);r++);}}parseMPEGPES(t,e){const s=e.data,i=s.length;let r=0,n=0;const o=e.pts;if(void 0!==o)for(;n<i;)if(qw(s,n)){const e=zw(t,s,n,o,r);if(!e)break;n+=e.length,r++}else n++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const s=e.data,i=e.pts;if(void 0===i)return void this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");const r=s.length;let n,o=0,a=0;for(;a<r&&(n=Xw(t,s,a,i,o++))>0;)a+=n}}parseID3PES(t,e){if(void 0===e.pts)return void this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");const s=aA({},e,{type:this._videoTrack?Bw.emsg:Bw.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(s)}}function aE(t,e){return((31&t[e+1])<<8)+t[e+2]}function hE(t,e){return(31&t[e+10])<<8|t[e+11]}function lE(t,e,s,i,r,n){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){const a=aE(t,e),h=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!i){dE("ADTS AAC",n);break}case 15:-1===o.audioPid&&(o.audioPid=a);break;case 21:-1===o.id3Pid&&(o.id3Pid=a);break;case 219:if(!i){dE("H.264",n);break}case 27:-1===o.videoPid&&(o.videoPid=a);break;case 3:case 4:s.mpeg||s.mp3?-1===o.audioPid&&(o.audioPid=a,o.segmentAudioCodec="mp3"):n.log("MPEG audio found, not supported in this browser");break;case 193:if(!i){dE("AC-3",n);break}case 129:s.ac3?-1===o.audioPid&&(o.audioPid=a,o.segmentAudioCodec="ac3"):n.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===o.audioPid&&h>0){let i=e+5,r=h;for(;r>2;){if(106===t[i])!0!==s.ac3?n.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=a,o.segmentAudioCodec="ac3");const e=t[i+1]+2;i+=e,r-=e}}break;case 194:case 135:return cE(r,new Error("Unsupported EC-3 in M2TS found"),void 0,n),o;case 36:-1===o.videoPid&&(o.videoPid=a,o.segmentVideoCodec="hevc",n.log("HEVC in M2TS found"))}e+=h+5}return o}function cE(t,e,s,i){i.warn(`parsing error: ${e.message}`),t.emit(Jy.ERROR,Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_PARSING_ERROR,fatal:!1,levelRetry:s,error:e,reason:e.message})}function dE(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function uE(t,e){let s,i,r,n,o,a=0;const h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;)h[0]=$A(h[0],h[1]),h.splice(1,1);s=h[0];if(1===(s[0]<<16)+(s[1]<<8)+s[2]){if(i=(s[4]<<8)+s[5],i&&i>t.size-6)return null;const l=s[7];192&l&&(n=536870912*(14&s[9])+4194304*(255&s[10])+16384*(254&s[11])+128*(255&s[12])+(254&s[13])/2,64&l?(o=536870912*(14&s[14])+4194304*(255&s[15])+16384*(254&s[16])+128*(255&s[17])+(254&s[18])/2,n-o>54e5&&(e.warn(`${Math.round((n-o)/9e4)}s delta between PTS and DTS, align them`),n=o)):o=n),r=s[8];let c=r+9;if(t.size<=c)return null;t.size-=c;const d=new Uint8Array(t.size);for(let t=0,e=h.length;t<e;t++){s=h[t];let e=s.byteLength;if(c){if(c>e){c-=e;continue}s=s.subarray(c),e-=c,c=0}d.set(s,a),a+=e}return i&&(i-=r+3),{data:d,pts:n,dts:o,len:i}}return null}class pE{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const fE=Math.pow(2,32)-1;class mE{static init(){let t;for(t in mE.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},mE.types)mE.types.hasOwnProperty(t)&&(mE.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);mE.HDLR_TYPES={video:e,audio:s};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);mE.STTS=mE.STSC=mE.STCO=r,mE.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),mE.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),mE.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),mE.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const n=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);mE.FTYP=mE.box(mE.types.ftyp,n,a,n,o),mE.DINF=mE.box(mE.types.dinf,mE.box(mE.types.dref,i))}static box(t,...e){let s=8,i=e.length;const r=i;for(;i--;)s+=e[i].byteLength;const n=new Uint8Array(s);for(n[0]=s>>24&255,n[1]=s>>16&255,n[2]=s>>8&255,n[3]=255&s,n.set(t,4),i=0,s=8;i<r;i++)n.set(e[i],s),s+=e[i].byteLength;return n}static hdlr(t){return mE.box(mE.types.hdlr,mE.HDLR_TYPES[t])}static mdat(t){return mE.box(mE.types.mdat,t)}static mdhd(t,e){e*=t;const s=Math.floor(e/(fE+1)),i=Math.floor(e%(fE+1));return mE.box(mE.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,s>>24,s>>16&255,s>>8&255,255&s,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}static mdia(t){return mE.box(mE.types.mdia,mE.mdhd(t.timescale||0,t.duration||0),mE.hdlr(t.type),mE.minf(t))}static mfhd(t){return mE.box(mE.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?mE.box(mE.types.minf,mE.box(mE.types.smhd,mE.SMHD),mE.DINF,mE.stbl(t)):mE.box(mE.types.minf,mE.box(mE.types.vmhd,mE.VMHD),mE.DINF,mE.stbl(t))}static moof(t,e,s){return mE.box(mE.types.moof,mE.mfhd(t),mE.traf(s,e))}static moov(t){let e=t.length;const s=[];for(;e--;)s[e]=mE.trak(t[e]);return mE.box.apply(null,[mE.types.moov,mE.mvhd(t[0].timescale||0,t[0].duration||0)].concat(s).concat(mE.mvex(t)))}static mvex(t){let e=t.length;const s=[];for(;e--;)s[e]=mE.trex(t[e]);return mE.box.apply(null,[mE.types.mvex,...s])}static mvhd(t,e){e*=t;const s=Math.floor(e/(fE+1)),i=Math.floor(e%(fE+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,s>>24,s>>16&255,s>>8&255,255&s,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return mE.box(mE.types.mvhd,r)}static sdtp(t){const e=t.samples||[],s=new Uint8Array(4+e.length);let i,r;for(i=0;i<e.length;i++)r=e[i].flags,s[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return mE.box(mE.types.sdtp,s)}static stbl(t){return mE.box(mE.types.stbl,mE.stsd(t),mE.box(mE.types.stts,mE.STTS),mE.box(mE.types.stsc,mE.STSC),mE.box(mE.types.stsz,mE.STSZ),mE.box(mE.types.stco,mE.STCO))}static avc1(t){let e,s,i,r=[],n=[];for(e=0;e<t.sps.length;e++)s=t.sps[e],i=s.byteLength,r.push(i>>>8&255),r.push(255&i),r=r.concat(Array.prototype.slice.call(s));for(e=0;e<t.pps.length;e++)s=t.pps[e],i=s.byteLength,n.push(i>>>8&255),n.push(255&i),n=n.concat(Array.prototype.slice.call(s));const o=mE.box(mE.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(n))),a=t.width,h=t.height,l=t.pixelRatio[0],c=t.pixelRatio[1];return mE.box(mE.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,h>>8&255,255&h,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,mE.box(mE.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),mE.box(mE.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c])))}static esds(t){const e=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...e,6,1,2])}static audioStsd(t){const e=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return mE.box(mE.types.mp4a,mE.audioStsd(t),mE.box(mE.types.esds,mE.esds(t)))}static mp3(t){return mE.box(mE.types[".mp3"],mE.audioStsd(t))}static ac3(t){return mE.box(mE.types["ac-3"],mE.audioStsd(t),mE.box(mE.types.dac3,t.config))}static stsd(t){const{segmentCodec:e}=t;if("audio"===t.type){if("aac"===e)return mE.box(mE.types.stsd,mE.STSD,mE.mp4a(t));if("ac3"===e&&t.config)return mE.box(mE.types.stsd,mE.STSD,mE.ac3(t));if("mp3"===e&&"mp3"===t.codec)return mE.box(mE.types.stsd,mE.STSD,mE.mp3(t))}else{if(!t.pps||!t.sps)throw new Error("video track missing pps or sps");if("avc"===e)return mE.box(mE.types.stsd,mE.STSD,mE.avc1(t));if("hevc"===e&&t.vps)return mE.box(mE.types.stsd,mE.STSD,mE.hvc1(t))}throw new Error(`unsupported ${t.type} segment codec (${e}/${t.codec})`)}static tkhd(t){const e=t.id,s=(t.duration||0)*(t.timescale||0),i=t.width||0,r=t.height||0,n=Math.floor(s/(fE+1)),o=Math.floor(s%(fE+1));return mE.box(mE.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,r>>8&255,255&r,0,0]))}static traf(t,e){const s=mE.sdtp(t),i=t.id,r=Math.floor(e/(fE+1)),n=Math.floor(e%(fE+1));return mE.box(mE.types.traf,mE.box(mE.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),mE.box(mE.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n])),mE.trun(t,s.length+16+20+8+16+8+8),s)}static trak(t){return t.duration=t.duration||4294967295,mE.box(mE.types.trak,mE.tkhd(t),mE.mdia(t))}static trex(t){const e=t.id;return mE.box(mE.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const s=t.samples||[],i=s.length,r=12+16*i,n=new Uint8Array(r);let o,a,h,l,c,d;for(e+=8+r,n.set(["video"===t.type?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),o=0;o<i;o++)a=s[o],h=a.duration,l=a.size,c=a.flags,d=a.cts,n.set([h>>>24&255,h>>>16&255,h>>>8&255,255&h,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.paddingValue<<1|c.isNonSync,61440&c.degradPrio,15&c.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*o);return mE.box(mE.types.trun,n)}static initSegment(t){mE.types||mE.init();const e=mE.moov(t);return $A(mE.FTYP,e)}static hvc1(t){const e=t.params,s=[t.vps,t.sps,t.pps],i=new Uint8Array([1,e.general_profile_space<<6|(e.general_tier_flag?32:0)|e.general_profile_idc,e.general_profile_compatibility_flags[0],e.general_profile_compatibility_flags[1],e.general_profile_compatibility_flags[2],e.general_profile_compatibility_flags[3],e.general_constraint_indicator_flags[0],e.general_constraint_indicator_flags[1],e.general_constraint_indicator_flags[2],e.general_constraint_indicator_flags[3],e.general_constraint_indicator_flags[4],e.general_constraint_indicator_flags[5],e.general_level_idc,240|e.min_spatial_segmentation_idc>>8,255&e.min_spatial_segmentation_idc,252|e.parallelismType,252|e.chroma_format_idc,248|e.bit_depth_luma_minus8,248|e.bit_depth_chroma_minus8,0,parseInt(e.frame_rate.fps),3|e.temporal_id_nested<<2|e.num_temporal_layers<<3|(e.frame_rate.fixed?64:0),s.length]);let r=i.length;for(let t=0;t<s.length;t+=1){r+=3;for(let e=0;e<s[t].length;e+=1)r+=2+s[t][e].length}const n=new Uint8Array(r);n.set(i,0),r=i.length;const o=s.length-1;for(let t=0;t<s.length;t+=1){n.set(new Uint8Array([32+t|(t===o?128:0),0,s[t].length]),r),r+=3;for(let e=0;e<s[t].length;e+=1)n.set(new Uint8Array([s[t][e].length>>8,255&s[t][e].length]),r),r+=2,n.set(s[t][e],r),r+=s[t][e].length}const a=mE.box(mE.types.hvcC,n),h=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return mE.box(mE.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,255&h,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,mE.box(mE.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),mE.box(mE.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}}mE.types=void 0,mE.HDLR_TYPES=void 0,mE.STTS=void 0,mE.STSC=void 0,mE.STCO=void 0,mE.STSZ=void 0,mE.VMHD=void 0,mE.SMHD=void 0,mE.STSD=void 0,mE.FTYP=void 0,mE.DINF=void 0;function gE(t,e,s=1,i=!1){const r=t*e*s;return i?Math.round(r):r}function yE(t,e=!1){return gE(t,1e3,1/9e4,e)}let AE,vE=null,bE=null;function SE(t,e,s,i){return{duration:e,size:s,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class wE{constructor(t,e,s,i){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=s,this.logger=i,this.ISGenerated=!1,null===vE){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);vE=t?parseInt(t[1]):0}if(null===bE){const t=navigator.userAgent.match(/Safari\/(\d+)/i);bE=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const s=t[0].pts,i=t.reduce(((t,i)=>{let r=i.pts,n=r-t;return n<-4294967296&&(e=!0,r=EE(r,s),n=r-t),n>0?t:r}),s);return e&&this.logger.debug("PTS rollover detected"),i}remux(t,e,s,i,r,n,o,a){let h,l,c,d,u,p,f=r,m=r;const g=t.pid>-1,y=e.pid>-1,A=e.samples.length,v=t.samples.length>0,b=o&&A>0||A>1;if((!g||v)&&(!y||b)||this.ISGenerated||o){if(this.ISGenerated){var S,w,E,T;const t=this.videoTrackConfig;(t&&(e.width!==t.width||e.height!==t.height||(null==(S=e.pixelRatio)?void 0:S[0])!==(null==(w=t.pixelRatio)?void 0:w[0])||(null==(E=e.pixelRatio)?void 0:E[1])!==(null==(T=t.pixelRatio)?void 0:T[1]))||!t&&b||null===this.nextAudioPts&&v)&&this.resetInitSegment()}this.ISGenerated||(c=this.generateIS(t,e,r,n));const s=this.isVideoContiguous;let i,o=-1;if(b&&(o=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!s&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,o>0){this.logger.warn(`[mp4-remuxer]: Dropped ${o} out of ${A} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(o),e.dropped+=o,m+=(e.samples[0].pts-t)/e.inputTimeScale,i=m}else-1===o&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${A} video samples`),p=!1);if(this.ISGenerated){if(v&&b){const s=this.getVideoStartPts(e.samples),i=(EE(t.samples[0].pts,s)-s)/e.inputTimeScale;f+=Math.max(0,i),m+=Math.max(0,-i)}if(v){if(t.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(t,e,r,n)),l=this.remuxAudio(t,f,this.isAudioContiguous,n,y||b||a===sA?m:void 0),b){const i=l?l.endPTS-l.startPTS:0;e.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(t,e,r,n)),h=this.remuxVideo(e,m,s,i)}}else b&&(h=this.remuxVideo(e,m,s,0));h&&(h.firstKeyFrame=o,h.independent=-1!==o,h.firstKeyFramePTS=i)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(s.samples.length&&(u=TE(s,r,this._initPTS,this._initDTS)),i.samples.length&&(d=IE(i,r,this._initPTS))),{audio:l,video:h,initSegment:c,independent:p,text:d,id3:u}}generateIS(t,e,s,i){const r=t.samples,n=e.samples,o=this.typeSupported,a={},h=this._initPTS;let l,c,d,u,p=!h||i,f="audio/mp4";if(p&&(l=c=1/0),t.config&&r.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",t.codec=""):o.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}a.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&o.mpeg?new Uint8Array(0):mE.initSegment([t]),metadata:{channelCount:t.channelCount}},p&&(u=t.id,d=t.inputTimeScale,h&&d===h.timescale?p=!1:l=c=r[0].pts-Math.round(d*s))}if(e.sps&&e.pps&&n.length){if(e.timescale=e.inputTimeScale,a.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:mE.initSegment([e]),metadata:{width:e.width,height:e.height}},p)if(u=e.id,d=e.inputTimeScale,h&&d===h.timescale)p=!1;else{const t=this.getVideoStartPts(n),e=Math.round(d*s);c=Math.min(c,EE(n[0].dts,t)-e),l=Math.min(l,t-e)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(a).length)return this.ISGenerated=!0,p?(this._initPTS={baseTime:l,timescale:d},this._initDTS={baseTime:c,timescale:d}):l=d=void 0,{tracks:a,initPTS:l,timescale:d,trackId:u}}remuxVideo(t,e,s,i){const r=t.inputTimeScale,n=t.samples,o=[],a=n.length,h=this._initPTS;let l,c,d=this.nextAvcDts,u=8,p=this.videoSampleDuration,f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;if(!s||null===d){const t=e*r,i=n[0].pts-EE(n[0].dts,n[0].pts);vE&&null!==d&&Math.abs(t-i-d)<15e3?s=!0:d=t-i}const y=h.baseTime*r/h.timescale;for(let t=0;t<a;t++){const e=n[t];e.pts=EE(e.pts-y,d),e.dts=EE(e.dts-y,d),e.dts<n[t>0?t-1:t].dts&&(g=!0)}g&&n.sort((function(t,e){const s=t.dts-e.dts,i=t.pts-e.pts;return s||i})),l=n[0].dts,c=n[n.length-1].dts;const A=c-l,v=A?Math.round(A/(a-1)):p||t.inputTimeScale/30;if(s){const s=l-d,i=s>v,r=s<-1;if((i||r)&&(i?this.logger.warn(`${(t.segmentCodec||"").toUpperCase()}: ${yE(s,!0)} ms (${s}dts) hole between fragments detected at ${e.toFixed(3)}`):this.logger.warn(`${(t.segmentCodec||"").toUpperCase()}: ${yE(-s,!0)} ms (${s}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||d>=n[0].pts||vE)){l=d;const t=n[0].pts-s;if(i)n[0].dts=l,n[0].pts=t;else{let e=!0;for(let i=0;i<n.length&&!(n[i].dts>t&&e);i++){const t=n[i].pts;if(n[i].dts-=s,n[i].pts-=s,i<n.length-1){const s=n[i+1].pts;e=s<=n[i].pts==s<=t}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${yE(t,!0)}/${yE(l,!0)}, delta: ${yE(s,!0)} ms`)}}l=Math.max(0,l);let b=0,S=0,w=l;for(let t=0;t<a;t++){const e=n[t],s=e.units,i=s.length;let r=0;for(let t=0;t<i;t++)r+=s[t].data.length;S+=r,b+=i,e.length=r,e.dts<w?(e.dts=w,w+=v/4|0||1):w=e.dts,f=Math.min(e.pts,f),m=Math.max(e.pts,m)}c=n[a-1].dts;const E=S+4*b+8;let T;try{T=new Uint8Array(E)}catch(t){return void this.observer.emit(Jy.ERROR,Jy.ERROR,{type:Qy.MUX_ERROR,details:Yy.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:E,reason:`fail allocating video mdat ${E}`})}const I=new DataView(T.buffer);I.setUint32(0,E),T.set(mE.types.mdat,4);let k=!1,_=Number.POSITIVE_INFINITY,C=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY,R=Number.NEGATIVE_INFINITY;for(let t=0;t<a;t++){const e=n[t],s=e.units;let h,l=0;for(let t=0,e=s.length;t<e;t++){const e=s[t],i=e.data,r=e.data.byteLength;I.setUint32(u,r),u+=4,T.set(i,u),u+=r,l+=4+r}if(t<a-1)p=n[t+1].dts-e.dts,h=n[t+1].pts-e.pts;else{const s=this.config,o=t>0?e.dts-n[t-1].dts:v;if(h=t>0?e.pts-n[t-1].pts:v,s.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(s.maxBufferHole*r),n=(i?f+i*r:this.nextAudioPts)-e.pts;n>t?(p=n-o,p<0?p=o:k=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${n/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=o}else p=o}const c=Math.round(e.pts-e.dts);_=Math.min(_,p),D=Math.max(D,p),C=Math.min(C,h),R=Math.max(R,h),o.push(SE(e.key,p,l,c))}if(o.length)if(vE){if(vE<70){const t=o[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(bE&&R-C<D-_&&v/D<.025&&0===o[0].cts){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,s=o.length;e<s;e++){const i=t+o[e].duration,r=t+o[e].cts;if(e<s-1){const t=i+o[e+1].cts;o[e].duration=t-r}else o[e].duration=e?o[e-1].duration:v;o[e].cts=0,t=i}}p=k||!p?v:p,this.nextAvcDts=d=c+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const L={data1:mE.moof(t.sequenceNumber++,l,aA(t,{samples:o})),data2:T,startPTS:f/r,endPTS:(m+p)/r,startDTS:l/r,endDTS:d/r,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:t.dropped};return t.samples=[],t.dropped=0,L}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,s,i,r){const n=t.inputTimeScale,o=n/(t.samplerate?t.samplerate:n),a=this.getSamplesPerFrame(t),h=a*o,l=this._initPTS,c="mp3"===t.segmentCodec&&this.typeSupported.mpeg,d=[],u=void 0!==r;let p=t.samples,f=c?0:8,m=this.nextAudioPts||-1;const g=e*n,y=l.baseTime*n/l.timescale;if(this.isAudioContiguous=s=s||p.length&&m>0&&(i&&Math.abs(g-m)<9e3||Math.abs(EE(p[0].pts-y,g)-m)<20*h),p.forEach((function(t){t.pts=EE(t.pts-y,g)})),!s||m<0){if(p=p.filter((t=>t.pts>=0)),!p.length)return;m=0===r?0:i&&!u?Math.max(0,g):p[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let s=0,i=m;s<p.length;s++){const r=p[s],o=r.pts,a=o-i,l=Math.abs(1e3*a/n);if(a<=-e*h&&u)0===s&&(this.logger.warn(`Audio frame @ ${(o/n).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*a/n)} ms.`),this.nextAudioPts=m=i=o);else if(a>=e*h&&l<1e4&&u){let e=Math.round(a/h);i=o-e*h,i<0&&(e--,i+=h),0===s&&(this.nextAudioPts=m=i),this.logger.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(i/n).toFixed(3)}s due to ${Math.round(1e3*a/n)} ms gap.`);for(let n=0;n<e;n++){const e=Math.max(i,0);let n=pE.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);n||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),n=r.unit.subarray()),p.splice(s,0,{unit:n,pts:e}),i+=h,s++}}r.pts=i,i+=h}}let A,v=null,b=null,S=0,w=p.length;for(;w--;)S+=p[w].unit.byteLength;for(let e=0,i=p.length;e<i;e++){const i=p[e],r=i.unit;let n=i.pts;if(null!==b){d[e-1].duration=Math.round((n-b)/o)}else{if(s&&"aac"===t.segmentCodec&&(n=m),v=n,!(S>0))return;S+=f;try{A=new Uint8Array(S)}catch(t){return void this.observer.emit(Jy.ERROR,Jy.ERROR,{type:Qy.MUX_ERROR,details:Yy.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:S,reason:`fail allocating audio mdat ${S}`})}if(!c){new DataView(A.buffer).setUint32(0,S),A.set(mE.types.mdat,4)}}A.set(r,f);const h=r.byteLength;f+=h,d.push(SE(!0,a,h,0)),b=n}const E=d.length;if(!E)return;const T=d[d.length-1];this.nextAudioPts=m=b+o*T.duration;const I=c?new Uint8Array(0):mE.moof(t.sequenceNumber++,v/o,aA({},t,{samples:d}));t.samples=[];const k=v/n,_=m/n,C={data1:I,data2:A,startPTS:k,endPTS:_,startDTS:k,endDTS:_,type:"audio",hasAudio:!0,hasVideo:!1,nb:E};return this.isAudioContiguous=!0,C}}function EE(t,e){let s;if(null===e)return t;for(s=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=s;return t}function TE(t,e,s,i){const r=t.samples.length;if(!r)return;const n=t.inputTimeScale;for(let o=0;o<r;o++){const r=t.samples[o];r.pts=EE(r.pts-s.baseTime*n/s.timescale,e*n)/n,r.dts=EE(r.dts-i.baseTime*n/i.timescale,e*n)/n}const o=t.samples;return t.samples=[],{samples:o}}function IE(t,e,s){const i=t.samples.length;if(!i)return;const r=t.inputTimeScale;for(let n=0;n<i;n++){const i=t.samples[n];i.pts=EE(i.pts-s.baseTime*r/s.timescale,e*r)/r}t.samples.sort(((t,e)=>t.pts-e.pts));const n=t.samples;return t.samples=[],{samples:n}}function kE(t,e,s=!1){return void 0!==(null==t?void 0:t.start)?(t.start+(s?t.duration:0))/t.timescale:e}function _E(t,e,s){const i=null==t?void 0:t.codec;if(i&&i.length>4)return i;if(e===kA){if("ec-3"===i||"ac-3"===i||"alac"===i)return i;if("fLaC"===i||"Opus"===i){return gv(i,!1)}return s.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"}return s.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1"}try{AE=self.performance.now.bind(self.performance)}catch(t){AE=Date.now}const CE=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,s,i){const r=this.videoTrack=Fw("video",1),n=this.audioTrack=Fw("audio",1),o=this.txtTrack=Fw("text",1);if(this.id3Track=Fw("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const a=HA(t);if(a.video){const{id:t,timescale:e,codec:s,supplemental:i}=a.video;r.id=t,r.timescale=o.timescale=e,r.codec=s,r.supplemental=i}if(a.audio){const{id:t,timescale:e,codec:s}=a.audio;n.id=t,n.timescale=e,n.codec=s}o.id=FA.text,r.sampleDuration=0,r.duration=n.duration=i}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let s=0;s<e;){const i=NA(t,s);if(i>8&&109===t[s+4]&&111===t[s+5]&&111===t[s+6]&&102===t[s+7])return!0;s=i>1?s+i:e}return!1}(t)}demux(t,e){this.timeOffset=e;let s=t;const i=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(s=$A(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},s=GA(t,["moof"]);if(s.length<2)return e.remainder=t,e;const i=s[s.length-1];return e.valid=t.slice(0,i.byteOffset-8),e.remainder=t.slice(i.byteOffset-8),e}(s);this.remainderData=e.remainder,i.samples=e.valid||new Uint8Array}else i.samples=s;const n=this.extractID3Track(i,e);return r.samples=ZA(e,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:n,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,s=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(e,this.timeOffset);return s.samples=ZA(t,e),{videoTrack:e,audioTrack:Fw(),id3Track:i,textTrack:Fw()}}extractID3Track(t,e){const s=this.id3Track;if(t.samples.length){const i=GA(t.samples,["emsg"]);i&&i.forEach((t=>{const i=function(t){const e=t[0];let s="",i="",r=0,n=0,o=0,a=0,h=0,l=0;if(0===e){for(;"\0"!==UA(t.subarray(l,l+1));)s+=UA(t.subarray(l,l+1)),l+=1;for(s+=UA(t.subarray(l,l+1)),l+=1;"\0"!==UA(t.subarray(l,l+1));)i+=UA(t.subarray(l,l+1)),l+=1;i+=UA(t.subarray(l,l+1)),l+=1,r=NA(t,12),n=NA(t,16),a=NA(t,20),h=NA(t,24),l=28}else if(1===e){l+=4,r=NA(t,l),l+=4;const e=NA(t,l);l+=4;const n=NA(t,l);for(l+=4,o=2**32*e+n,Ky(o)||(o=Number.MAX_SAFE_INTEGER,gA.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=NA(t,l),l+=4,h=NA(t,l),l+=4;"\0"!==UA(t.subarray(l,l+1));)s+=UA(t.subarray(l,l+1)),l+=1;for(s+=UA(t.subarray(l,l+1)),l+=1;"\0"!==UA(t.subarray(l,l+1));)i+=UA(t.subarray(l,l+1)),l+=1;i+=UA(t.subarray(l,l+1)),l+=1}return{schemeIdUri:s,value:i,timeScale:r,presentationTime:o,presentationTimeDelta:n,eventDuration:a,id:h,payload:t.subarray(l,t.byteLength)}}(t);if($w.test(i.schemeIdUri)){const t=Zw(i,e);let r=4294967295===i.eventDuration?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;r<=.001&&(r=Number.POSITIVE_INFINITY);const n=i.payload;s.samples.push({data:n,len:n.byteLength,dts:t,pts:t,type:Bw.emsg,duration:r})}else if(this.config.enableEmsgKLVMetadata&&i.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const t=Zw(i,e);s.samples.push({data:i.payload,len:i.payload.byteLength,dts:t,pts:t,type:Bw.misbklv,duration:Number.POSITIVE_INFINITY})}}))}return s}demuxSampleAes(t,e,s){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}},remux:class{constructor(t,e,s,i){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1,this.logger=i}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(t,e,s,i){this.audioCodec=e,this.videoCodec=s,this.generateInitSegment(function(t,e){if(!t||!e)return t;const s=e.keyId;s&&e.isCommonEncryption&&GA(t,["moov","trak"]).forEach((t=>{const e=GA(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let i=GA(e,["enca"]);const r=i.length>0;r||(i=GA(e,["encv"])),i.forEach((t=>{GA(r?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=XA(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(gA.log(`[eme] Patching keyId in 'enc${r?"a":"v"}>sinf>>tenc' box: ${bA(t)} -> ${bA(s)}`),e.set(s,8))}}))}))}));return t}(t,i)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:s}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const i=this.initData=HA(t);i.audio&&(e=_E(i.audio,kA,this.logger)),i.video&&(s=_E(i.video,_A,this.logger));const r={};i.audio&&i.video?r.audiovideo={container:"video/mp4",codec:e+","+s,supplemental:i.video.supplemental,initSegment:t,id:"main"}:i.audio?r.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:i.video?r.video={container:"video/mp4",codec:s,supplemental:i.video.supplemental,initSegment:t,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}remux(t,e,s,i,r,n){var o,a;let{initPTS:h,lastEndTime:l}=this;const c={audio:void 0,video:void 0,text:i,id3:s,initSegment:void 0};Hy(l)||(l=this.lastEndTime=r||0);const d=e.samples;if(null==d||!d.length)return c;const u={initPTS:void 0,timescale:void 0,trackId:void 0};let p=this.initData;if(null!=(o=p)&&o.length||(this.generateInitSegment(d),p=this.initData),null==(a=p)||!a.length)return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(u.tracks=this.initTracks,this.emitInitSegment=!1);const f=function(t,e,s){const i={},r=GA(t,["moof","traf"]);for(let t=0;t<r.length;t++){const n=r[t],o=GA(n,["tfhd"])[0],a=NA(o,4),h=e[a];if(!h)continue;const l=i[a]||(i[a]={start:NaN,duration:0,sampleCount:0,timescale:h.timescale,type:h.type}),c=GA(n,["tfdt"])[0];if(c){const t=c[0];let e=NA(c,4);1===t&&(e===MA?s.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(e*=MA+1,e+=NA(c,8))),Hy(e)&&(!Hy(l.start)||e<l.start)&&(l.start=e)}const d=h.default,u=NA(o,0)|(null==d?void 0:d.flags);let p=(null==d?void 0:d.duration)||0;8&u&&(p=NA(o,2&u?12:8));const f=GA(n,["trun"]);let m=l.start||0,g=0,y=p;for(let t=0;t<f.length;t++){const e=f[t],s=NA(e,4),i=l.sampleCount;l.sampleCount+=s;const r=1&e[3],n=4&e[3],o=1&e[2],a=2&e[2],h=4&e[2],c=8&e[2];let d=8,u=s;for(r&&(d+=4),n&&s&&(1&e[d+1]||void 0!==l.keyFrameIndex||(l.keyFrameIndex=i),d+=4,o?(y=NA(e,d),d+=4):y=p,a&&(d+=4),c&&(d+=4),m+=y,g+=y,u--);u--;)o?(y=NA(e,d),d+=4):y=p,a&&(d+=4),h&&(1&e[d+1]||void 0===l.keyFrameIndex&&(l.keyFrameIndex=l.sampleCount-(u+1),l.keyFrameStart=m),d+=4),c&&(d+=4),m+=y,g+=y;!g&&p&&(g+=p*s)}l.duration+=g}if(!Object.keys(i).some((t=>i[t].duration))){let e=1/0,s=0;const r=GA(t,["sidx"]);for(let t=0;t<r.length;t++){const i=zA(r[t]);if(null!=i&&i.references){e=Math.min(e,i.earliestPresentationTime/i.timescale);const t=i.references.reduce(((t,e)=>t+e.info.duration||0),0);s=Math.max(s,t+i.earliestPresentationTime/i.timescale)}}s&&Hy(s)&&Object.keys(i).forEach((t=>{i[t].duration||(i[t].duration=s*i[t].timescale-i[t].start)}))}return i}(d,p,this.logger),m=p.audio?f[p.audio.id]:null,g=p.video?f[p.video.id]:null,y=kE(g,1/0),A=kE(m,1/0),v=kE(g,0,!0),b=kE(m,0,!0);let S,w=r,E=0;if(m&&(!g||!h&&A<y||h&&h.trackId===p.audio.id)?(u.trackId=p.audio.id,S=m,E=b-A):g&&(u.trackId=p.video.id,S=g,E=v-y),S){const t=S.timescale;w=S.start/t,u.timescale=t,h||(u.initPTS=S.start-r*t,this.initPTS=h={baseTime:u.initPTS,timescale:t,trackId:u.trackId})}!n&&h||!function(t,e,s,i){if(null===t)return!0;const r=Math.max(i,1),n=e-t.baseTime/t.timescale;return Math.abs(n-s)>r}(h,w,r,E)&&u.timescale===h.timescale||(u.initPTS=w-r,h&&1===h.timescale&&this.logger.warn(`Adjusting initPTS @${r} from ${h.baseTime/h.timescale} to ${u.initPTS}`),this.initPTS=h={baseTime:u.initPTS,timescale:1});const T=t?w-h.baseTime/h.timescale:l;!function(t,e,s){GA(e,["moof","traf"]).forEach((e=>{GA(e,["tfhd"]).forEach((i=>{const r=NA(i,4),n=t[r];if(!n)return;const o=n.timescale||9e4;GA(e,["tfdt"]).forEach((t=>{const e=t[0],i=s*o;if(i){let s=NA(t,4);if(0===e)s-=i,s=Math.max(s,0),WA(t,4,s);else{s*=Math.pow(2,32),s+=NA(t,8),s-=i,s=Math.max(s,0);const e=Math.floor(s/(MA+1)),r=Math.floor(s%(MA+1));WA(t,4,e),WA(t,8,r)}}}))}))}))}(p,d,h.baseTime/h.timescale);const I=T+E;E>0?this.lastEndTime=I:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const k=!!p.audio,_=!!p.video;let C="";k&&(C+="audio"),_&&(C+="video");const D={data1:d,startPTS:T,startDTS:T,endPTS:I,endDTS:I,type:C,hasAudio:k,hasVideo:_,nb:1,dropped:0};c.audio=k&&!_?D:void 0,c.video=_?D:void 0;const R=null==g?void 0:g.sampleCount;if(R){const t=g.keyFrameIndex,e=-1!==t;D.nb=R,D.dropped=0===t||this.isVideoContiguous?0:e?t:R,D.independent=e,D.firstKeyFrame=t,e&&g.keyFrameStart&&(D.firstKeyFramePTS=g.keyFrameStart-h.baseTime/h.timescale),this.isVideoContiguous||(c.independent=e),this.isVideoContiguous||(this.isVideoContiguous=e),D.dropped&&this.logger.warn(`fmp4 does not start with IDR: firstIDR ${t}/${R} dropped: ${D.dropped} pts: ${D.firstKeyFramePTS||"NA"}`)}return c.initSegment=u,c.id3=TE(s,r,h,h),i.samples.length&&(c.text=IE(i,r,h)),c}}},{demux:oE,remux:wE},{demux:class extends Uw{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t,e){if(!t)return!1;const s=yw(t,0);let i=(null==s?void 0:s.length)||0;if(Qw(t,i))return!1;for(let s=t.length;i<s;i++)if(ww(t,i))return e.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Aw(t,e)&&bw(t,e)<=t.length-e}(t,e)}appendFrame(t,e,s){Ew(t,this.observer,e,s,t.manifestCodec);const i=Iw(t,e,s,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i}},remux:wE},{demux:class extends Uw{resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=yw(t,0);let s=(null==e?void 0:e.length)||0;if(e&&11===t[s]&&119===t[s+1]&&void 0!==Mw(e)&&Yw(t,s)<=16)return!1;for(let e=t.length;s<e;s++)if(Qw(t,s))return gA.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return Kw(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,s){if(null!==this.basePTS)return zw(t,e,s,this.basePTS,this.frameIndex)}},remux:wE}];CE.splice(2,0,{demux:Jw,remux:wE});class DE{constructor(t,e,s,i,r,n){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=s,this.id=r,this.logger=n}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,s,i){const r=s.transmuxing;r.executeStart=AE();let n=new Uint8Array(t);const{currentTransmuxState:o,transmuxConfig:a}=this;i&&(this.currentTransmuxState=i);const{contiguous:h,discontinuity:l,trackSwitch:c,accurateTimeOffset:d,timeOffset:u,initSegmentChange:p}=i||o,{audioCodec:f,videoCodec:m,defaultInitPts:g,duration:y,initSegmentData:A}=a,v=function(t,e){let s=null;t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(s=e);return s}(n,e);if(v&&Gb(v.method)){const t=this.getDecrypter(),e=zb(v.method);if(!t.isSync())return this.asyncResult=!0,this.decryptionPromise=t.webCryptoDecrypt(n,v.key.buffer,v.iv.buffer,e).then((t=>{const e=this.push(t,null,s);return this.decryptionPromise=null,e})),this.decryptionPromise;{let i=t.softwareDecrypt(n,v.key.buffer,v.iv.buffer,e);if(s.part>-1){const e=t.flush();i=e?e.buffer:e}if(!i)return r.executeEnd=AE(),RE(s);n=new Uint8Array(i)}}const b=this.needsProbing(l,c);if(b){const t=this.configureTransmuxer(n);if(t)return this.logger.warn(`[transmuxer] ${t.message}`),this.observer.emit(Jy.ERROR,Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),r.executeEnd=AE(),RE(s)}(l||c||p||b)&&this.resetInitSegment(A,f,m,y,e),(l||p||b)&&this.resetInitialTimestamp(g),h||this.resetContiguity();const S=this.transmux(n,v,u,d,s);this.asyncResult=LE(S);const w=this.currentTransmuxState;return w.contiguous=!0,w.discontinuity=!1,w.trackSwitch=!1,r.executeEnd=AE(),S}flush(t){const e=t.transmuxing;e.executeStart=AE();const{decrypter:s,currentTransmuxState:i,decryptionPromise:r}=this;if(r)return this.asyncResult=!0,r.then((()=>this.flush(t)));const n=[],{timeOffset:o}=i;if(s){const e=s.flush();e&&n.push(this.push(e.buffer,null,t))}const{demuxer:a,remuxer:h}=this;if(!a||!h){e.executeEnd=AE();const s=[RE(t)];return this.asyncResult?Promise.resolve(s):s}const l=a.flush(o);return LE(l)?(this.asyncResult=!0,l.then((e=>(this.flushRemux(n,e,t),n)))):(this.flushRemux(n,l,t),this.asyncResult?Promise.resolve(n):n)}flushRemux(t,e,s){const{audioTrack:i,videoTrack:r,id3Track:n,textTrack:o}=e,{accurateTimeOffset:a,timeOffset:h}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${s.sn}${s.part>-1?" part: "+s.part:""} of ${this.id===eA?"level":"track"} ${s.level}`);const l=this.remuxer.remux(i,r,n,o,h,a,!0,this.id);t.push({remuxResult:l,chunkMeta:s}),s.transmuxing.executeEnd=AE()}resetInitialTimestamp(t){const{demuxer:e,remuxer:s}=this;e&&s&&(e.resetTimeStamp(t),s.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,s,i,r){const{demuxer:n,remuxer:o}=this;n&&o&&(n.resetInitSegment(t,e,s,i),o.resetInitSegment(t,e,s,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,s,i,r){let n;return n=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,s,i,r):this.transmuxUnencrypted(t,s,i,r),n}transmuxUnencrypted(t,e,s,i){const{audioTrack:r,videoTrack:n,id3Track:o,textTrack:a}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,n,o,a,e,s,!1,this.id),chunkMeta:i}}transmuxSampleAes(t,e,s,i,r){return this.demuxer.demuxSampleAes(t,e,s).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,s,i,!1,this.id),chunkMeta:r})))}configureTransmuxer(t){const{config:e,observer:s,typeSupported:i}=this;let r;for(let e=0,s=CE.length;e<s;e++){var n;if(null!=(n=CE[e].demux)&&n.probe(t,this.logger)){r=CE[e];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,a=this.remuxer,h=r.remux,l=r.demux;a&&a instanceof h||(this.remuxer=new h(s,e,i,this.logger)),o&&o instanceof l||(this.demuxer=new l(s,e,i,this.logger),this.probe=l.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new wb(this.config)),t}}const RE=t=>({remuxResult:{},chunkMeta:t});function LE(t){return"then"in t&&t.then instanceof Function}class PE{constructor(t,e,s,i,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=s,this.duration=i,this.defaultInitPts=r||null}}class xE{constructor(t,e,s,i,r,n){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=s,this.trackSwitch=i,this.timeOffset=r,this.initSegmentChange=n}}let ME=0;class BE{constructor(t,e,s,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=ME++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=t=>{const e=t.data,s=this.hls;if(s&&null!=e&&e.event&&e.instanceNo===this.instanceNo)switch(e.event){case"init":{var i;const t=null==(i=this.workerContext)?void 0:i.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":s.logger[e.data.logType]&&s.logger[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.part=this.part,e.data.id=this.id,s.trigger(e.event,e.data)}},this.onWorkerError=t=>{if(!this.hls)return;const e=new Error(`${t.message}  (${t.filename}:${t.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})};const r=t.config;this.hls=t,this.id=e,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=s,this.onFlush=i;const n=(t,e)=>{(e=e||{}).frag=this.frag||void 0,t===Jy.ERROR&&(e.parent=this.id,e.part=this.part,this.error=e.error),this.hls.trigger(t,e)};this.observer=new dw,this.observer.on(Jy.FRAG_DECRYPTED,n),this.observer.on(Jy.ERROR,n);const o=vv(r.preferManagedMediaSource);if(this.useWorker&&"undefined"!=typeof Worker){const s=this.hls.logger;if(r.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{r.workerPath?(s.log(`loading Web Worker ${r.workerPath} for "${e}"`),this.workerContext=function(t){const e=pw[t];if(e)return e.clientCount++,e;const s=new self.URL(t,self.location.href).href,i={worker:new self.Worker(s),scriptURL:s,clientCount:1};return pw[t]=i,i}(r.workerPath)):(s.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=pw[uw];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),s=self.URL.createObjectURL(e),i={worker:new self.Worker(s),objectURL:s,clientCount:1};return pw[uw]=i,i}());const{worker:t}=this.workerContext;t.addEventListener("message",this.onWorkerMessage),t.addEventListener("error",this.onWorkerError),t.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:o,id:e,config:Fv(r)})}catch(i){s.warn(`Error setting up "${e}" Web Worker, fallback to inline`,i),this.terminateWorker(),this.error=null,this.transmuxer=new DE(this.observer,o,r,"",e,t.logger)}return}}this.transmuxer=new DE(this.observer,o,r,"",e,t.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const t=this.instanceNo;this.instanceNo=ME++;const e=this.hls.config,s=vv(e.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:s,id:this.id,config:Fv(e)})}}terminateWorker(){if(this.workerContext){const{worker:t}=this.workerContext;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),function(t){const e=pw[t||uw];if(e&&1==e.clientCount--){const{worker:s,objectURL:i}=e;delete pw[t||uw],i&&self.URL.revokeObjectURL(i),s.terminate()}}(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(t,e,s,i,r,n,o,a,h,l){var c,d;h.transmuxing.start=self.performance.now();const{instanceNo:u,transmuxer:p}=this,f=n?n.start:r.start,m=r.decryptdata,g=this.frag,y=!(g&&r.cc===g.cc),A=!(g&&h.level===g.level),v=g?h.sn-g.sn:-1,b=this.part?h.part-this.part.index:-1,S=0===v&&h.id>1&&h.id===(null==g?void 0:g.stats.chunkCount),w=!A&&(1===v||0===v&&(1===b||S&&b<=0)),E=self.performance.now();(A||v||0===r.stats.parsing.start)&&(r.stats.parsing.start=E),!n||!b&&w||(n.stats.parsing.start=E);const T=!(g&&(null==(c=r.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),I=new xE(y,w,a,A,f,T);if(!w||y||T){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${r.type} sn: ${h.sn}${h.part>-1?" part: "+h.part:""} ${this.id===eA?"level":"track"}: ${h.level} id: ${h.id}\n        discontinuity: ${y}\n        trackSwitch: ${A}\n        contiguous: ${w}\n        accurateTimeOffset: ${a}\n        timeOffset: ${f}\n        initSegmentChange: ${T}`);const t=new PE(s,i,e,o,l);this.configureTransmuxer(t)}if(this.frag=r,this.part=n,this.workerContext)this.workerContext.worker.postMessage({instanceNo:u,cmd:"demux",data:t,decryptdata:m,chunkMeta:h,state:I},t instanceof ArrayBuffer?[t]:[]);else if(p){const e=p.push(t,m,h,I);LE(e)?e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,h,"transmuxer-interface push error")})):this.handleTransmuxComplete(e)}}flush(t){t.transmuxing.start=self.performance.now();const{instanceNo:e,transmuxer:s}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:e,cmd:"flush",chunkMeta:t});else if(s){const e=s.flush(t);LE(e)?e.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")})):this.handleFlushResult(e,t)}}transmuxerError(t,e,s){this.hls&&(this.error=t,this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_PARSING_ERROR,chunkMeta:e,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:s}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}configureTransmuxer(t){const{instanceNo:e,transmuxer:s}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:e,cmd:"configure",config:t}):s&&s.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}class FE extends cA{constructor(t,e){super(e,t.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e,s){const i=null==e?void 0:e.renditionReports;if(i){let r=-1;for(let s=0;s<i.length;s++){const n=i[s];let o;try{o=new self.URL(n.URI,e.url).href}catch(t){this.warn(`Could not construct new URL for Rendition Report: ${t}`),o=n.URI||""}if(o===t){r=s;break}o===t.substring(0,o.length)&&(r=s)}if(-1!==r){const t=i[r],n=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let o=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);o>=0&&t>e.partTarget&&(o+=1)}const a=s&&Lv(s);return new Pv(n,o>=0?o:void 0,a)}}}loadPlaylist(t){this.clearTimer()}loadingPlaylist(t,e){this.clearTimer()}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}getUrlWithDirectives(t,e){if(e)try{return e.addDirectives(t)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}return t}playlistLoaded(t,e,s){const{details:i,stats:r}=e,n=self.performance.now(),o=r.loading.first?Math.max(0,n-r.loading.first):0;i.advancedDateTime=Date.now()-o;const a=this.hls.config.timelineOffset;if(a!==i.appliedTimelineOffset){const t=Math.max(a||0,0);i.appliedTimelineOffset=t,i.fragments.forEach((e=>{e.start=e.playlistOffset+t}))}if(i.live||null!=s&&s.live){const a="levelInfo"in e?e.levelInfo:e.track;if(i.reloaded(s),s&&i.fragments.length>0){PS(s,i);const t=i.playlistParsingError;if(t){this.warn(t);const s=this.hls;if(!s.config.ignorePlaylistParsingErrors){var h;const{networkDetails:n}=e;return void s.trigger(Jy.ERROR,{type:Qy.NETWORK_ERROR,details:Yy.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:t,reason:t.message,level:e.level||void 0,parent:null==(h=i.fragments[0])?void 0:h.type,networkDetails:n,stats:r})}i.playlistParsingError=null}}-1===i.requestScheduled&&(i.requestScheduled=r.loading.start);const l=this.hls.mainForwardBufferInfo,c=l?l.end-l.len:0,d=FS(i,1e3*(i.edge-c));if(i.requestScheduled+d<n?i.requestScheduled=n:i.requestScheduled+=d,this.log(`live playlist ${t} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let u,p,f;if(i.canBlockReload&&i.endSN&&i.advanced){const t=this.hls.config.lowLatencyMode,r=i.lastPartSn,o=i.endSN,h=i.lastPartIndex,l=r===o;-1!==h?l?(p=o+1,f=t?0:h):(p=r,f=t?h+1:i.maxPartIndex):p=o+1;const c=i.age,d=c+i.ageHeader;let m=Math.min(d-i.partTarget,1.5*i.targetduration);if(m>0){if(d>3*i.targetduration)this.log(`Playlist last advanced ${c.toFixed(2)}s ago. Omitting segment and part directives.`),p=void 0,f=void 0;else if(null!=s&&s.tuneInGoal&&d-i.partTarget>s.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${s.tuneInGoal} to: ${m} with playlist age: ${i.age}`),m=0;else{const t=Math.floor(m/i.targetduration);if(p+=t,void 0!==f){f+=Math.round(m%i.targetduration/i.partTarget)}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${c.toFixed(2)}s goal: ${m} skip sn ${t} to part ${f}`)}i.tuneInGoal=m}if(u=this.getDeliveryDirectives(i,e.deliveryDirectives,p,f),t||!l)return i.requestScheduled=n,void this.loadingPlaylist(a,u)}else(i.canBlockReload||i.canSkipUntil)&&(u=this.getDeliveryDirectives(i,e.deliveryDirectives,p,f));u&&void 0!==p&&i.canBlockReload&&(i.requestScheduled=r.loading.first+Math.max(d-2*o,d/2)),this.scheduleLoading(a,u,i)}else this.clearTimer()}scheduleLoading(t,e,s){const i=s||t.details;if(!i)return void this.loadingPlaylist(t,e);const r=self.performance.now(),n=i.requestScheduled;if(r>=n)return void this.loadingPlaylist(t,e);const o=n-r;this.log(`reload live playlist ${t.name||t.bitrate+"bps"} in ${Math.round(o)} ms`),this.clearTimer(),this.timer=self.setTimeout((()=>this.loadingPlaylist(t,e)),o)}getDeliveryDirectives(t,e,s,i){let r=Lv(t);return null!=e&&e.skip&&t.deltaUpdateFailed&&(s=e.msn,i=e.part,r=Cv),new Pv(s,i,r)}checkRetry(t){const e=t.details,s=Jv(t),i=t.errorAction,{action:r,retryCount:n=0,retryConfig:o}=i||{},a=!!i&&!!o&&(r===rb||!i.resolved&&r===sb);if(a){var h;if(n>=o.maxNumRetry)return!1;if(s&&null!=(h=t.context)&&h.deliveryDirectives)this.warn(`Retrying playlist loading ${n+1}/${o.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=$v(o,n);this.clearTimer(),this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${n+1}/${o.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,i.resolved=!0}return a}}function UE(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(!OE(t[s].attrs,e[s].attrs))return!1;return!0}function OE(t,e,s){const i=t["STABLE-RENDITION-ID"];return i&&!s?i===e["STABLE-RENDITION-ID"]:!(s||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((s=>t[s]!==e[s]))}function NE(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class jE{constructor(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}destroy(){this.tracks=this.queues=null}append(t,e,s){if(null===this.queues||null===this.tracks)return;const i=this.queues[e];i.push(t),1!==i.length||s||this.executeNext(e)}appendBlocker(t){return new Promise((e=>{const s={label:"async-blocker",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(s,t)}))}prependBlocker(t){return new Promise((e=>{if(this.queues){const s={label:"async-blocker-prepend",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[t].unshift(s)}}))}removeBlockers(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach((t=>{var e;const s=null==(e=t[0])?void 0:e.label;"async-blocker"!==s&&"async-blocker-prepend"!==s||(t[0].execute(),t.splice(0,1))}))}unblockAudio(t){if(null===this.queues)return;this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")}executeNext(t){if(null===this.queues||null===this.tracks)return;const e=this.queues[t];if(e.length){const i=e[0];try{i.execute()}catch(e){var s;if(i.onError(e),null===this.queues||null===this.tracks)return;const r=null==(s=this.tracks[t])?void 0:s.buffer;null!=r&&r.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){null!==this.queues&&(this.queues[t].shift(),this.executeNext(t))}current(t){var e;return(null==(e=this.queues)?void 0:e[t][0])||null}toString(){const{queues:t,tracks:e}=this;return null===t||null===e?"<destroyed>":`\n${this.list("video")}\n${this.list("audio")}\n${this.list("audiovideo")}}`}list(t){var e,s;return null!=(e=this.queues)&&e[t]||null!=(s=this.tracks)&&s[t]?`${t}: (${this.listSbInfo(t)}) ${this.listOps(t)}`:""}listSbInfo(t){var e;const s=null==(e=this.tracks)?void 0:e[t],i=null==s?void 0:s.buffer;return i?`SourceBuffer${i.updating?" updating":""}${s.ended?" ended":""}${s.ending?" ending":""}`:"none"}listOps(t){var e;return(null==(e=this.queues)?void 0:e[t].map((t=>t.label)).join(", "))||""}}const VE=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,WE="HlsJsTrackRemovedError";class GE extends Error{constructor(t){super(t),this.name=WE}}function zE(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach((e=>{t.removeChild(e)}))}function HE(t){return"audio"===t?1:0}class KE{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(Jy.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Jy.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(Jy.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Jy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const s=this.hls.levels[e.droppedLevel];this.isLevelAllowed(s)&&this.restrictedLevels.push({bitrate:s.bitrate,height:s.height,width:s.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const s=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,s.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&Hy(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,s=this.getMaxLevel(t.length-1);s!==this.autoLevelCapping&&e.logger.log(`Setting autoLevelCapping to ${s}: ${t[s].height}p@${t[s].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=s,e.autoLevelEnabled&&e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const s=e.filter(((e,s)=>this.isLevelAllowed(e)&&s<=t));return this.clientRect=null,KE.getMaxLevelByMediaSize(s,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const s=t.getBoundingClientRect();e.width=s.width,e.height=s.height,e.width||e.height||(e.width=s.right-s.left||t.width||0,e.height=s.bottom-s.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return Math.min(t,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,s){if(null==t||!t.length)return-1;let i=t.length-1;const r=Math.max(e,s);for(let e=0;e<t.length;e+=1){const s=t[e];if((s.width>=r||s.height>=r)&&(n=s,!(o=t[e+1])||n.width!==o.width||n.height!==o.height)){i=e;break}}var n,o;return i}}const qE={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},QE={HLS:"h"},YE="CMCD-Request",JE={["CMCD-Object"]:["br","d","ot","tb"],[YE]:["bl","dl","mtp","nor","nrr","su"],["CMCD-Session"]:["cid","pr","sf","sid","st","v"],["CMCD-Status"]:["bs","rtp"]};class XE{constructor(t,e){Array.isArray(t)&&(t=t.map((t=>t instanceof XE?t:new XE(t)))),this.value=t,this.params=e}}function $E(t,e,s,i){return new Error(`failed to ${t} "${r=e,Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":"object"==typeof r?JSON.stringify(r):String(r)}" as ${s}`,{cause:i});var r}function ZE(t,e,s){return $E("serialize",t,e,s)}class tT{constructor(t){this.description=t}}const eT="Bare Item";function sT(t){if(!1===ArrayBuffer.isView(t))throw ZE(t,"Byte Sequence");return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}function iT(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw ZE(t,"Integer");return t.toString()}function rT(t,e){if(t<0)return-rT(-t,e);const s=Math.pow(10,e);if(Math.abs(t*s%1-.5)<Number.EPSILON){const e=Math.floor(t*s);return(e%2==0?e:e+1)/s}return Math.round(t*s)/s}function nT(t){const e=rT(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw ZE(t,"Decimal");const s=e.toString();return s.includes(".")?s:`${s}.0`}const oT=/[\x00-\x1f\x7f]+/;function aT(t){const e=(s=t).description||s.toString().slice(7,-1);var s;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw ZE(e,"Token");return e}function hT(t){switch(typeof t){case"number":if(!Hy(t))throw ZE(t,eT);return Number.isInteger(t)?iT(t):nT(t);case"string":return function(t){if(oT.test(t))throw ZE(t,"String");return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return aT(t);case"boolean":return function(t){if("boolean"!=typeof t)throw ZE(t,"Boolean");return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return`@${iT(t.getTime()/1e3)}`}(t);if(t instanceof Uint8Array)return sT(t);if(t instanceof tT)return aT(t);default:throw ZE(t,eT)}}function lT(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw ZE(t,"Key");return t}function cT(t){return null==t?"":Object.entries(t).map((([t,e])=>!0===e?`;${lT(t)}`:`;${lT(t)}=${hT(e)}`)).join("")}function dT(t){return t instanceof XE?`${hT(t.value)}${cT(t.params)}`:hT(t)}function uT(t,e={whitespace:!0}){if("object"!=typeof t)throw ZE(t,"Dict");const s=t instanceof Map?t.entries():Object.entries(t),i=(null==e?void 0:e.whitespace)?" ":"";return Array.from(s).map((([t,e])=>{e instanceof XE==!1&&(e=new XE(e));let s=lT(t);var i;return!0===e.value?s+=cT(e.params):(s+="=",Array.isArray(e.value)?s+=`(${(i=e).value.map(dT).join(" ")})${cT(i.params)}`:s+=dT(e)),s})).join(`,${i}`)}const pT=t=>Math.round(t),fT=t=>100*pT(t/100),mT={br:pT,d:pT,bl:fT,dl:fT,mtp:fT,nor:(t,e)=>((null==e?void 0:e.baseUrl)&&(t=function(t,e){const s=new URL(t),i=new URL(e);if(s.origin!==i.origin)return t;const r=s.pathname.split("/").slice(1),n=i.pathname.split("/").slice(1,-1);for(;r[0]===n[0];)r.shift(),n.shift();for(;n.length;)n.shift(),r.unshift("..");return r.join("/")}(t,e.baseUrl)),encodeURIComponent(t)),rtp:fT,tb:pT};function gT(t,e){const s={};if(null==t||"object"!=typeof t)return s;const i=Object.keys(t).sort(),r=aA({},mT,null==e?void 0:e.formatters),n=null==e?void 0:e.filter;return i.forEach((i=>{if(null==n?void 0:n(i))return;let o=t[i];const a=r[i];a&&(o=a(o,e)),"v"===i&&1===o||"pr"==i&&1===o||function(t){return"number"==typeof t?Hy(t):null!=t&&""!==t&&!1!==t}(o)&&(function(t){return"ot"===t||"sf"===t||"st"===t}(i)&&"string"==typeof o&&(o=new tT(o)),s[i]=o)})),s}function yT(t,e={}){return t?function(t,e){return uT(t,e)}(gT(t,e),aA({whitespace:!1},e)):""}function AT(t,e,s){return aA(t,function(t,e={}){const s={};if(!t)return s;const i=Object.entries(t),r=Object.entries(JE).concat(Object.entries((null==e?void 0:e.customHeaderMap)||{})),n=i.reduce(((t,e)=>{var s,i;const[n,o]=e,a=(null===(s=r.find((t=>t[1].includes(n))))||void 0===s?void 0:s[0])||YE;return null!==(i=t[a])&&void 0!==i||(t[a]={}),t[a][n]=o,t}),{});return Object.entries(n).reduce(((t,[s,i])=>(t[s]=yT(i,e),t)),s)}(e,s))}const vT=/CMCD=[^&#]+/;function bT(t,e,s){const i=function(t,e={}){if(!t)return"";const s=yT(t,e);return`CMCD=${encodeURIComponent(s)}`}(e,s);if(!i)return t;if(vT.test(t))return t.replace(vT,i);const r=t.includes("?")?"&":"?";return`${t}${r}${i}`}function ST(t,e,s,i){t&&Object.keys(e).forEach((r=>{const n=t.filter((t=>t.groupId===r)).map((t=>{const n=aA({},t);return n.details=void 0,n.attrs=new Nb(n.attrs),n.url=n.attrs.URI=wT(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",s),n.groupId=n.attrs["GROUP-ID"]=e[r],n.attrs["PATHWAY-ID"]=i,n}));t.push(...n)}))}function wT(t,e,s,i){const{HOST:r,PARAMS:n,[s]:o}=i;let a;e&&(a=null==o?void 0:o[e],a&&(t=a));const h=new self.URL(t);return r&&!a&&(h.host=r),n&&Object.keys(n).sort().forEach((t=>{t&&h.searchParams.set(t,n[t])})),h.href}function ET(t,e,s){TT(t,e,s),t.addEventListener(e,s)}function TT(t,e,s){t.removeEventListener(e,s)}class IT extends cA{constructor(t){super("eme",t.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=IT.CDMCleanupPromise?[IT.CDMCleanupPromise]:[],this.onMediaEncrypted=t=>{const{initDataType:e,initData:s}=t,i=`"${t.type}" event: init data type: "${e}"`;if(this.debug(i),null!==s){if(!this.keyFormatPromise){let t=Object.keys(this.keySystemAccessPromises);t.length||(t=aS(this.config));const e=t.map(oS).filter((t=>!!t));this.keyFormatPromise=this.getKeyFormatPromise(e)}this.keyFormatPromise.then((r=>{const n=tS(r);let o,a;if("sinf"===e){if(n!==Yb.FAIRPLAY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${n}`);const r=UA(new Uint8Array(s));try{const t=XA(Hb(JSON.parse(r).sinf));if(!t)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");o=new Uint8Array(t.subarray(8,24)),a=Yb.FAIRPLAY}catch(t){return void this.warn(`${i} Failed to parse sinf: ${t}`)}}else{if(n!==Yb.WIDEVINE&&n!==Yb.PLAYREADY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${n}`);const r=function(t){const e=[];if(t instanceof ArrayBuffer){const s=t.byteLength;let i=0;for(;i+32<s;){const s=nv(new DataView(t,i));e.push(s),i+=s.size}}return e}(s),h=r.filter((t=>!!t.systemId&&nS(t.systemId)===n));h.length>1&&this.warn(`${i} Using first of ${h.length} pssh found for selected key-system ${n}`);const l=h[0];if(!l)return void(0===r.length||r.some((t=>!t.systemId))?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${r.map((t=>nS(t.systemId))).join(",")} pssh data in favor of playlist keys`));if(a=nS(l.systemId),0===l.version&&l.data)if(a===Yb.WIDEVINE){const t=l.data.length-22;o=new Uint8Array(l.data.subarray(t,t+16))}else a===Yb.PLAYREADY&&(o=cS(l.data))}if(!a||!o)return;const h=bA(o),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let d=l[h];for(let t=0;t<c.length;t++){const i=c[t],r=i.decryptdata;if(!r.keyId)continue;const n=bA(r.keyId);if(h===n||-1!==r.uri.replace(/-/g,"").indexOf(h)){if(d=l[n],r.pssh)break;delete l[n],r.pssh=new Uint8Array(s),r.keyId=o,d=l[h]=d.then((()=>this.generateRequestWithPreferredKeySession(i,e,s,"encrypted-event-key-match"))),d.catch((t=>this.handleError(t)));break}}if(!d){if(a!==n)return void this.log(`Ignoring "${t.type}" event with ${a} init data for selected key-system ${n}`);d=l[h]=this.getKeySystemSelectionPromise([a]).then((({keySystem:t,mediaKeys:i})=>{var r;this.throwIfDestroyed();const n=new uS("ISO-23001-7",h,null!=(r=oS(t))?r:"");return n.pssh=new Uint8Array(s),n.keyId=o,this.attemptSetMediaKeys(t,i).then((()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:n,keySystem:t,mediaKeys:i});return this.generateRequestWithPreferredKeySession(r,e,s,"encrypted-event-no-match")}))})),d.catch((t=>this.handleError(t)))}}))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Jy.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Jy.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Jy.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Jy.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:s}=this.config,i=e[t];return i?i.licenseUrl:t===Yb.WIDEVINE&&s?s:void 0}getLicenseServerUrlOrThrow(t){const e=this.getLicenseServerUrl(t);if(void 0===e)throw new Error(`no license server URL configured for key-system "${t}"`);return e}getServerCertificateUrl(t){const{drmSystems:e}=this.config,s=e[t];if(s)return s.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,s=(t,e,s)=>!!t&&s.indexOf(t)===e,i=e.map((t=>t.audioCodec)).filter(s),r=e.map((t=>t.videoCodec)).filter(s);return i.length+r.length===0&&r.push("avc1.42e01e"),new Promise(((e,s)=>{const n=t=>{const o=t.shift();this.getMediaKeysPromise(o,i,r).then((t=>e({keySystem:o,mediaKeys:t}))).catch((e=>{t.length?n(t):s(e instanceof kT?e:new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};n(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:s}=this.config;if("function"!=typeof s){let t=`Configured requestMediaKeySystemAccess is not a function ${s}`;return null===hS&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return s(t,e)}getMediaKeysPromise(t,e,s){const i=function(t,e,s,i){let r;switch(t){case Yb.FAIRPLAY:r=["cenc","sinf"];break;case Yb.WIDEVINE:case Yb.PLAYREADY:r=["cenc"];break;case Yb.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,s,i){return[{initDataTypes:t,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs=${t}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null}))),videoCapabilities:s.map((t=>({contentType:`video/mp4; codecs=${t}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null})))}]}(r,e,s,i)}(t,e,s,this.config.drmSystemOptions),r=this.keySystemAccessPromises[t];let n=null==r?void 0:r.keySystemAccess;if(!n){this.log(`Requesting encrypted media "${t}" key-system access with config: ${Fv(i)}`),n=this.requestMediaKeySystemAccess(t,i);const e=this.keySystemAccessPromises[t]={keySystemAccess:n};return n.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),n.then((s=>{this.log(`Access for key-system "${s.keySystem}" obtained`);const i=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=s.createMediaKeys().then((s=>(this.log(`Media-keys created for "${t}"`),e.hasMediaKeys=!0,i.then((e=>e?this.setMediaKeysServerCertificate(s,t,e):s))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return n.then((()=>r.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:s}){this.log(`Creating key-system session "${e}" keyId: ${bA(t.keyId||[])}`);const i=s.createSession(),r={decryptdata:t,keySystem:e,mediaKeys:s,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const s=this.createMediaKeySessionContext(t),i=this.getKeyIdString(e),r="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(s,r,e.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return bA(t.keyId)}updateKeySession(t,e){var s;const i=t.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${bA((null==(s=t.decryptdata)?void 0:s.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),i.update(e)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map((t=>({keySystem:t,hasMediaKeys:this.keySystemAccessPromises[t].hasMediaKeys}))).filter((({hasMediaKeys:t})=>!!t)).map((({keySystem:t})=>oS(t))).filter((t=>!!t))}getKeySystemAccess(t){return this.getKeySystemSelectionPromise(t).then((({keySystem:t,mediaKeys:e})=>this.attemptSetMediaKeys(t,e)))}selectKeySystem(t){return new Promise(((e,s)=>this.getKeySystemSelectionPromise(t).then((({keySystem:t})=>{const i=oS(t);i?e(i):s(new Error(`Unable to find format for key-system "${t}"`))})).catch(s)))}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){const e=aS(this.config),s=t.map(tS).filter((t=>!!t&&-1!==e.indexOf(t)));return this.selectKeySystem(s)}loadKey(t){const e=t.keyInfo.decryptdata,s=this.getKeyIdString(e),i=`(keyId: ${s} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${i}`);let r=this.keyIdToKeySessionPromise[s];if(!r){r=this.getKeySystemForKeyPromise(e).then((({keySystem:s,mediaKeys:r})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${i}`),this.attemptSetMediaKeys(s,r).then((()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:s,mediaKeys:r,decryptdata:e})))))));(this.keyIdToKeySessionPromise[s]=r.then((t=>{const s=e.pssh?e.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(t,"cenc",s,"playlist-key")}))).catch((t=>this.handleError(t)))}return r}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof kT?this.hls.trigger(Jy.ERROR,t.data):this.hls.trigger(Jy.ERROR,{type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),s=this.keyIdToKeySessionPromise[e];if(!s){const e=tS(t.keyFormat),s=e?[e]:aS(this.config);return this.attemptKeySystemAccess(s)}return s}getKeySystemSelectionPromise(t){if(t.length||(t=aS(this.config)),0===t.length)throw new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Fv({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t,e){if(this.mediaKeys===e)return Promise.resolve();const s=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const i=Promise.all(s).then((()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.mediaKeys=e,this.setMediaKeysQueue.push(i),i.then((()=>{this.log(`Media-keys set for "${t}"`),s.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===s.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,s,i){var r,n;const o=null==(r=this.config.drmSystems)||null==(n=r[t.keySystem])?void 0:n.generateRequest;if(o)try{const i=o.call(this.hls,e,s,t);if(!i)throw new Error("Invalid response from configured generateRequest filter");e=i.initDataType,s=i.initData?i.initData:null,t.decryptdata.pssh=s?new Uint8Array(s):null}catch(t){var a;if(this.warn(t.message),null!=(a=this.hls)&&a.config.debug)throw t}if(null===s)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(t);const h=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${i}": ${h} (init data type: ${e} length: ${s?s.byteLength:null})`);const l=new dw,c=t._onmessage=e=>{const s=t.mediaKeysSession;if(!s)return void l.emit("error",new Error("invalid state"));const{messageType:i,message:r}=e;this.log(`"${i}" message event for session "${s.sessionId}" message size: ${r.byteLength}`),"license-request"===i||"license-renewal"===i?this.renewLicense(t,r).catch((t=>{l.eventNames().length?l.emit("error",t):this.handleError(t)})):"license-release"===i?t.keySystem===Yb.FAIRPLAY&&(this.updateKeySession(t,Kb("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${i}"`)},d=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void l.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const s=t.keyStatus;l.emit("keyStatus",s),"expired"===s&&(this.warn(`${t.keySystem} expired for key ${h}`),this.renewKeySession(t))};ET(t.mediaKeysSession,"message",c),ET(t.mediaKeysSession,"keystatuseschange",d);const u=new Promise(((t,e)=>{l.on("error",e),l.on("keyStatus",(s=>{s.startsWith("usable")?t():"output-restricted"===s?e(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===s?e(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${s}"`)):"expired"===s?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${s}"`)}))}));return t.mediaKeysSession.generateRequest(e,s).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${h}`)})).catch((t=>{throw new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>u)).catch((e=>{throw l.removeAllListeners(),this.removeSession(t),e})).then((()=>(l.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,s)=>{if("string"==typeof s&&"object"==typeof e){const t=s;s=e,e=t}this.log(`key status change "${e}" for keyStatuses keyId: ${bA("buffer"in s?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s))} session keyId: ${bA(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e}))}fetchServerCertificate(t){const e=this.config,s=new(0,e.loader)(e),i=this.getServerCertificateUrl(t);return i?(this.log(`Fetching server certificate for "${t}"`),new Promise(((r,n)=>{const o={responseType:"arraybuffer",url:i},a=e.certLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,s,i)=>{r(t.data)},onError:(e,s,r,a)=>{n(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:lA({url:o.url,data:void 0},e)},`"${t}" certificate request failed (${i}). Status: ${e.code} (${e.text})`))},onTimeout:(e,s,r)=>{n(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:{url:o.url,data:void 0}},`"${t}" certificate request timed out (${i})`))},onAbort:(t,e,s)=>{n(new Error("aborted"))}};s.load(o,h,l)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,s){return new Promise(((i,r)=>{t.setServerCertificate(s).then((r=>{this.log(`setServerCertificate ${r?"success":"not supported by CDM"} (${null==s?void 0:s.byteLength}) on "${e}"`),i(t)})).catch((t=>{r(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}unpackPlayReadyKeyMessage(t,e){const s=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!s.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const i=(new DOMParser).parseFromString(s,"application/xml"),r=i.querySelectorAll("HttpHeader");if(r.length>0){let e;for(let s=0,i=r.length;s<i;s++){var n,o;e=r[s];const i=null==(n=e.querySelector("name"))?void 0:n.textContent,a=null==(o=e.querySelector("value"))?void 0:o.textContent;i&&a&&t.setRequestHeader(i,a)}}const a=i.querySelector("Challenge"),h=null==a?void 0:a.textContent;if(!h)throw new Error("Cannot find <Challenge> in key message");return Kb(atob(h))}setupLicenseXHR(t,e,s,i){const r=this.config.licenseXhrSetup;return r?Promise.resolve().then((()=>{if(!s.decryptdata)throw new Error("Key removed");return r.call(this.hls,t,e,s,i)})).catch((n=>{if(!s.decryptdata)throw n;return t.open("POST",e,!0),r.call(this.hls,t,e,s,i)})).then((s=>{t.readyState||t.open("POST",e,!0);return{xhr:t,licenseChallenge:s||i}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))}requestLicense(t,e){const s=this.config.keyLoadPolicy.default;return new Promise(((i,r)=>{const n=this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${n}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return r(new Error("invalid state"));if(4===o.readyState)if(200===o.status){this._requestLicenseFailureCount=0;let e=o.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const s=this.config.licenseResponseCallback;if(s)try{e=s.call(this.hls,o,n,t)}catch(t){this.error(t)}i(e)}else{const a=s.errorRetry,h=a?a.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>h||o.status>=400&&o.status<500)r(new kT({type:Qy.KEY_SYSTEM_ERROR,details:Yy.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:n,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${n}). Status: ${o.status} (${o.statusText})`));else{const s=h-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${s} attempts left`),this.requestLicense(t,e).then(i,r)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=o,this.setupLicenseXHR(o,n,t,e).then((({xhr:e,licenseChallenge:s})=>{t.keySystem==Yb.PLAYREADY&&(s=this.unpackPlayReadyKeyMessage(e,s)),e.send(s)}))}))}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const s=e.media;this.media=s,ET(s,"encrypted",this.onMediaEncrypted),ET(s,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media;t&&(TT(t,"encrypted",this.onMediaEncrypted),TT(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var t;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const e=this.media,s=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,uS.clearKeyUriToKeyIdMap();const i=s.length;IT.CDMCleanupPromise=Promise.all(s.map((t=>this.removeSession(t))).concat(null==e||null==(t=e.setMediaKeys(null))?void 0:t.catch((t=>{var e;this.log(`Could not clear media keys: ${t}`),null==(e=this.hls)||e.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${t}`)})})))).catch((t=>{var e;this.log(`Could not close sessions and clear media keys: ${t}`),null==(e=this.hls)||e.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${t}`)})})).then((()=>{i&&this.log("finished closing key sessions and clearing media keys")}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:s}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),s&&s.readyState!==XMLHttpRequest.DONE&&s.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(t);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:r}=this.config,n=function(t){var e;return"persistent-license"===t.sessionType||!(null==(e=t.sessionTypes)||!e.some((t=>"persistent-license"===t)))}(r)?new Promise(((t,s)=>{self.setTimeout((()=>s(new Error("MediaKeySession.remove() timeout"))),8e3),e.remove().then(t)})):Promise.resolve();return n.catch((t=>{var e;this.log(`Could not remove session: ${t}`),null==(e=this.hls)||e.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${t}`)})})).then((()=>e.close())).catch((t=>{var e;this.log(`Could not close session: ${t}`),null==(e=this.hls)||e.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${t}`)})}))}}}IT.CDMCleanupPromise=void 0;class kT extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}function _T(t,e){let s;try{s=new Event("addtrack")}catch(t){s=document.createEvent("Event"),s.initEvent("addtrack",!1,!1)}s.track=t,e.dispatchEvent(s)}function CT(t,e){const s=t.mode;if("disabled"===s&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(s){gA.debug(`[texttrack-utils]: ${s}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,t.addCue(s)}catch(t){gA.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`)}}"disabled"===s&&(t.mode=s)}function DT(t,e){const s=t.mode;if("disabled"===s&&(t.mode="hidden"),t.cues)for(let s=t.cues.length;s--;)e&&t.cues[s].removeEventListener("enter",e),t.removeCue(t.cues[s]);"disabled"===s&&(t.mode=s)}function RT(t,e,s,i){const r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&t.cues.length>0){const r=function(t,e,s){const i=[],r=function(t,e){if(e<=t[0].startTime)return 0;const s=t.length-1;if(e>t[s].endTime)return-1;let i,r=0,n=s;for(;r<=n;)if(i=Math.floor((n+r)/2),e<t[i].startTime)n=i-1;else{if(!(e>t[i].startTime&&r<s))return i;r=i+1}return t[r].startTime-e<e-t[n].startTime?r:n}(t,e);if(r>-1)for(let n=r,o=t.length;n<o;n++){const r=t[n];if(r.startTime>=e&&r.endTime<=s)i.push(r);else if(r.startTime>s)return i}return i}(t.cues,e,s);for(let e=0;e<r.length;e++)i&&!i(r[e])||t.removeCue(r[e])}"disabled"===r&&(t.mode=r)}function LT(t){const e=[];for(let s=0;s<t.length;s++){const i=t[s];"subtitles"!==i.kind&&"captions"!==i.kind||!i.label||e.push(t[s])}return e}function PT(t){let e=5381,s=t.length;for(;s;)e=33*e^t.charCodeAt(--s);return(e>>>0).toString()}const xT=.025;let MT=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function BT(t,e,s){return`${t.identifier}-${s+1}-${PT(e)}`}class FT{constructor(t,e){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=e,this.dateRange=t,this.setDateRange(t)}setDateRange(t){this.dateRange=t,this.resumeOffset=t.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=t.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=t.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=t.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var t;this.appendInPlaceStarted=!1,null==(t=this.assetListLoader)||t.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(t){var e;if(t>0&&t>=this.assetList.length)return!0;const s=this.playoutLimit;if(t<=0||isNaN(s))return!1;if(0===s)return!0;return((null==(e=this.assetList[t])?void 0:e.startOffset)||0)>s}findAssetIndex(t){return this.assetList.indexOf(t)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const t=this.dateRange.startTime;if(this.snapOptions.out){const e=this.dateRange.tagAnchor;if(e)return UT(t,e)}return t}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(0===this.startTime||this.snapOptions.out)return!0;const t=this.dateRange.tagAnchor;if(t){const e=this.dateRange.startTime;return e-UT(e,t)<.1}return!1}get resumptionOffset(){const t=this.resumeOffset,e=Hy(t)?t:this.duration;return this.cumulativeDuration+e}get resumeTime(){const t=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const e=this.resumeAnchor;if(e)return UT(t,e)}return t}get appendInPlace(){return!!this.appendInPlaceStarted||!this.appendInPlaceDisabled&&!(this.cue.once||this.cue.pre||!this.startIsAligned||!(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<xT))}set appendInPlace(t){this.appendInPlaceStarted?this.resetOnResume=!t:this.appendInPlaceDisabled=!t}get timelineStart(){return null!==this._timelineStart?this._timelineStart:this.startTime}set timelineStart(t){this._timelineStart=t}get duration(){const t=this.playoutLimit;let e;return e=null!==this._duration?this._duration:this.dateRange.duration?this.dateRange.duration:this.dateRange.plannedDuration||0,!isNaN(t)&&t<e&&(e=t),e}set duration(t){this._duration=t}get cue(){return this.dateRange.cue}get timelineOccupancy(){return"RANGE"===this.dateRange.attr["X-TIMELINE-OCCUPIES"]?MT.Range:MT.Point}get supplementsPrimary(){return"PRIMARY"===this.dateRange.attr["X-TIMELINE-STYLE"]}get contentMayVary(){return"NO"!==this.dateRange.attr["X-CONTENT-MAY-VARY"]}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||null!==this.assetListResponse}toString(){return`["${(t=this).identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`;var t}}function UT(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<xT)?e.start:e.start+e.duration}function OT(t,e,s){const i=new self.URL(t,s);return"data:"!==i.protocol&&i.searchParams.set("_HLS_primary_id",e),i}function NT(t,e){for(;null!=(s=t.assetList[++e])&&s.error;)var s;return e}function jT(t){const e=t.timelineStart,s=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+s).toFixed(2)}]`}class VT{constructor(t,e,s,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls.trigger(Jy.PLAYOUT_LIMIT_REACHED,{})};const r=this.hls=new t(e);this.interstitial=s,this.assetItem=i;let n=i.uri;try{n=OT(n,e.primarySessionId).href}catch(t){}r.loadSource(n);const o=()=>{this.hasDetails=!0};r.once(Jy.LEVEL_LOADED,o),r.once(Jy.AUDIO_TRACK_LOADED,o),r.once(Jy.SUBTITLE_TRACK_LOADED,o),r.on(Jy.MEDIA_ATTACHING,((t,{media:e})=>{this.removeMediaListeners(),this.mediaAttached=e;this.interstitial.playoutLimit&&(e.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&r.on(Jy.BUFFER_APPENDED,(()=>{const t=this.bufferedEnd;this.reachedPlayout(t)&&(this._bufferedEosTime=t,r.trigger(Jy.BUFFERED_TO_END,void 0))})))}))}get appendInPlace(){var t;return(null==(t=this.interstitial)?void 0:t.appendInPlace)||!1}bufferedInPlaceToEnd(t){var e;if(!this.appendInPlace)return!1;if(null!=(e=this.hls)&&e.bufferedToEnd)return!0;if(!t||!this._bufferedEosTime)return!1;const s=this.timelineOffset,i=Lb.bufferInfo(t,s,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}reachedPlayout(t){const e=this.interstitial.playoutLimit;return this.startOffset+t>=e}get destroyed(){var t;return!(null!=(t=this.hls)&&t.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var t;return(null==(t=this.hls)?void 0:t.media)||null}get bufferedEnd(){const t=this.media||this.mediaAttached;if(!t)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const e=Lb.bufferInfo(t,t.currentTime,.001);return this.getAssetTime(e.end)}get currentTime(){const t=this.media||this.mediaAttached;return t?this.getAssetTime(t.currentTime):this._currentTime||0}get duration(){const t=this.assetItem.duration;return t||0}get remaining(){const t=this.duration;return t?Math.max(0,t-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var t;return(null==(t=this.hls)?void 0:t.config.timelineOffset)||0}set timelineOffset(t){const e=this.timelineOffset;if(t!==e){const s=t-e;if(Math.abs(s)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=t}}}getAssetTime(t){const e=this.timelineOffset,s=this.duration;return Math.min(Math.max(0,t-e),s)}removeMediaListeners(){const t=this.mediaAttached;t&&(this._currentTime=t.currentTime,this.bufferSnapShot(),t.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){var t;this.mediaAttached&&(null!=(t=this.hls)&&t.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd))}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(t){this.hls.attachMedia(t)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}resetDetails(){const t=this.hls;if(this.hasDetails){t.stopLoad();const e=t=>delete t.details;t.levels.forEach(e),t.allAudioTracks.forEach(e),t.allSubtitleTracks.forEach(e),this.hasDetails=!1}}on(t,e,s){this.hls.on(t,e)}once(t,e,s){this.hls.once(t,e)}off(t,e,s){this.hls.off(t,e)}toString(){var t;return`HlsAssetPlayer: ${jT(this.assetItem)} ${null==(t=this.hls)?void 0:t.sessionId} ${this.appendInPlace?"append-in-place":""}`}}class WT extends cA{constructor(t,e){super("interstitials-sched",e),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=t}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach((t=>t.reset())),this.events=this.items=null}resetErrorsInRange(t,e){return this.events?this.events.reduce(((s,i)=>t<=i.startOffset&&e>i.startOffset?(delete i.error,s+1):s),0):0}get duration(){const t=this.items;return t?t[t.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(t){return t&&this.eventMap[t]||null}hasEvent(t){return t in this.eventMap}findItemIndex(t,e){if(t.event)return this.findEventIndex(t.event.identifier);let s=-1;t.nextEvent?s=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(s=this.findEventIndex(t.previousEvent.identifier)+1);const i=this.items;if(i)for(i[s]||(void 0===e&&(e=t.start),s=this.findItemIndexAtTime(e));s>=0&&null!=(r=i[s])&&r.event;){var r;s--}return s}findItemIndexAtTime(t,e){const s=this.items;if(s)for(let i=0;i<s.length;i++){let r=s[i];if(e&&"primary"!==e&&(r=r[e]),t===r.start||t>r.start&&t<r.end)return i}return-1}findJumpRestrictedIndex(t,e){const s=this.items;if(s)for(let i=t;i<=e&&s[i];i++){const t=s[i].event;if(null!=t&&t.restrictions.jump&&!t.appendInPlace)return i}return-1}findEventIndex(t){const e=this.items;if(e)for(let i=e.length;i--;){var s;if((null==(s=e[i].event)?void 0:s.identifier)===t)return i}return-1}findAssetIndex(t,e){const s=t.assetList,i=s.length;if(i>1)for(let t=0;t<i;t++){const i=s[t];if(!i.error){const s=i.timelineStart;if(e===s||e>s&&e<s+(i.duration||0))return t}}return 0}get assetIdAtEnd(){var t,e;const s=null==(t=this.items)||null==(e=t[this.length-1])?void 0:e.event;if(s){const t=s.assetList,e=t[t.length-1];if(e)return e.identifier}return null}parseInterstitialDateRanges(t,e){const s=t.main.details,{dateRanges:i}=s,r=this.events,n=this.parseDateRanges(i,{url:s.url},e),o=Object.keys(i),a=r?r.filter((t=>!o.includes(t.identifier))):[];n.length&&n.sort(((t,e)=>{const s=t.cue.pre,i=t.cue.post,r=e.cue.pre,n=e.cue.post;if(s&&!r)return-1;if(r&&!s)return 1;if(i&&!n)return 1;if(n&&!i)return-1;if(!(s||r||i||n)){const s=t.startTime,i=e.startTime;if(s!==i)return s-i}return t.dateRange.tagOrder-e.dateRange.tagOrder})),this.events=n,a.forEach((t=>{this.removeEvent(t)})),this.updateSchedule(t,a)}updateSchedule(t,e=[]){const s=this.events||[];if(s.length||e.length||this.length<2){const i=this.items,r=this.parseSchedule(s,t);(e.length||(null==i?void 0:i.length)!==r.length||r.some(((t,e)=>Math.abs(t.playout.start-i[e].playout.start)>.005||Math.abs(t.playout.end-i[e].playout.end)>.005)))&&(this.items=r,this.onScheduleUpdate(e,i))}}parseDateRanges(t,e,s){const i=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const o=r[n],a=t[o];if(a.isInterstitial){let t=this.eventMap[o];t?t.setDateRange(a):(t=new FT(a,e),this.eventMap[o]=t,!1===s&&(t.appendInPlace=s)),i.push(t)}}return i}parseSchedule(t,e){const s=[],i=e.main.details,r=i.live?1/0:i.edge;let n=0;if((t=t.filter((t=>!(t.error||t.cue.once&&t.hasPlayed)))).length){this.resolveOffsets(t,e);let i=0,a=0;if(t.forEach(((e,o)=>{const h=e.cue.pre,l=e.cue.post,c=t[o-1]||null,d=e.appendInPlace,u=l?r:e.startOffset,p=e.duration,f=e.timelineOccupancy===MT.Range?p:0,m=e.resumptionOffset,g=(null==c?void 0:c.startTime)===u,y=u+e.cumulativeDuration;let A=d?y+p:u+m;if(h||!l&&u<=0){const t=a;a+=f,e.timelineStart=y;const i=n;n+=p,s.push({event:e,start:y,end:A,playout:{start:i,end:n},integrated:{start:t,end:a}})}else{if(!(u<=r))return;{if(!g){const r=u-i;if(r>.033){const h=i,l=a;a+=r;const c=n;n+=r;const d={previousEvent:t[o-1]||null,nextEvent:e,start:h,end:h+r,playout:{start:c,end:n},integrated:{start:l,end:a}};s.push(d)}else r>0&&c&&(c.cumulativeDuration+=r,s[s.length-1].end=u)}l&&(A=y),e.timelineStart=y;const r=a;a+=f;const h=n;n+=p,s.push({event:e,start:y,end:A,playout:{start:h,end:n},integrated:{start:r,end:a}})}}const v=e.resumeTime;i=l||v>r?r:v})),i<r){var o;const t=i,e=a,h=r-i;a+=h;const l=n;n+=h,s.push({previousEvent:(null==(o=s[s.length-1])?void 0:o.event)||null,nextEvent:null,start:i,end:t+h,playout:{start:l,end:n},integrated:{start:e,end:a}})}this.setDurations(r,n,a)}else{const t=0;s.push({previousEvent:null,nextEvent:null,start:t,end:r,playout:{start:t,end:r},integrated:{start:t,end:r}}),this.setDurations(r,r,r)}return s}setDurations(t,e,s){this.durations={primary:t,playout:e,integrated:s}}resolveOffsets(t,e){const s=e.main.details,i=s.live?1/0:s.edge;let r=0,n=-1;t.forEach(((o,a)=>{const h=o.cue.pre,l=o.cue.post,c=h?0:l?i:o.startTime;this.updateAssetDurations(o);if(n===c?o.cumulativeDuration=r:(r=0,n=c),!l&&o.snapOptions.in&&(o.resumeAnchor=Kv(null,s.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted){this.primaryCanResumeInPlaceAt(o,e)||(o.appendInPlace=!1)}if(!o.appendInPlace&&a+1<t.length){t[a+1].startTime-t[a].resumeTime<.033&&(t[a+1].appendInPlace=!1,t[a+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`))}const d=Hy(o.resumeOffset)?o.resumeOffset:o.duration;r+=d}))}primaryCanResumeInPlaceAt(t,e){const s=t.resumeTime,i=t.startTime+t.resumptionOffset;if(Math.abs(s-i)>xT)return this.log(`"${t.identifier}" resumption ${s} not aligned with estimated timeline end ${i}`),!1;if(!e)return this.log(`"${t.identifier}" resumption ${s} can not be aligned with media (none selected)`),!1;return!Object.keys(e).some((i=>{const r=e[i].details,n=r.edge;if(s>=n)return this.log(`"${t.identifier}" resumption ${s} past ${i} playlist end ${n}`),!1;const o=Kv(null,r.fragments,s);if(!o)return this.log(`"${t.identifier}" resumption ${s} does not align with any fragments in ${i} playlist (${r.fragStart}-${r.fragmentEnd})`),!0;const a="audio"===i?.175:0;return!(Math.abs(o.start-s)<xT+a||Math.abs(o.end-s)<xT+a)&&(this.log(`"${t.identifier}" resumption ${s} not aligned with ${i} fragment bounds (${o.start}-${o.end} sn: ${o.sn} cc: ${o.cc})`),!0)}))}updateAssetDurations(t){if(!t.assetListLoaded)return;const e=t.timelineStart;let s=0,i=!1,r=!1;t.assetList.forEach(((t,n)=>{const o=e+s;t.startOffset=s,t.timelineStart=o,i||(i=null===t.duration),r||(r=!!t.error);const a=t.error?0:t.duration||0;s+=a})),t.duration=i&&!r?Math.max(s,t.duration):s}removeEvent(t){t.reset(),delete this.eventMap[t.identifier]}}function GT(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class zT{constructor(t){this.hls=void 0,this.hls=t}destroy(){this.hls=null}loadAssetList(t,e){const s=t.assetListUrl;let i;try{i=OT(s,this.hls.sessionId,t.baseUrl)}catch(e){const i=this.assignAssetListError(t,Yy.ASSET_LIST_LOAD_ERROR,e,s);return void this.hls.trigger(Jy.ERROR,i)}e&&"data:"!==i.protocol&&i.searchParams.set("_HLS_start_offset",""+e);const r=this.hls.config,n=new(0,r.loader)(r),o={responseType:"json",url:i.href},a=r.interstitialAssetListLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(e,s,i,r)=>{const n=e.data,o=null==n?void 0:n.ASSETS;if(Array.isArray(o))t.assetListResponse=n,this.hls.trigger(Jy.ASSET_LIST_LOADED,{event:t,assetListResponse:n,networkDetails:r});else{const e=this.assignAssetListError(t,Yy.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),i.url,s,r);this.hls.trigger(Jy.ERROR,e)}},onError:(e,s,i,r)=>{const n=this.assignAssetListError(t,Yy.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${e.code} ${e.text} (${s.url})`),s.url,r,i);this.hls.trigger(Jy.ERROR,n)},onTimeout:(e,s,i)=>{const r=this.assignAssetListError(t,Yy.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${s.url})`),s.url,e,i);this.hls.trigger(Jy.ERROR,r)}};return n.load(o,h,l),this.hls.trigger(Jy.ASSET_LIST_LOADING,{event:t}),n}assignAssetListError(t,e,s,i,r,n){return t.error=s,{type:Qy.NETWORK_ERROR,details:e,fatal:!1,interstitial:t,url:i,error:s,networkDetails:n,stats:r}}}function HT(t){null==t||t.play().catch((()=>{}))}class KT{constructor(t){this.buffered=void 0;const e=(e,s,i)=>{if((s>>>=0)>i-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${i})`);return t[s][e]};this.buffered={get length(){return t.length},end:s=>e("end",s,t.length),start:s=>e("start",s,t.length)}}}const qT={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},QT=t=>String.fromCharCode(qT[t]||t),YT=15,JT=100,XT={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},$T={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ZT={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},tI={25:2,26:4,29:6,30:8,31:10,27:13,28:15},eI=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class sI{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const s="function"==typeof e?e():e;gA.log(`${this.time} [${t}] ${s}`)}}}const iI=function(t){const e=[];for(let s=0;s<t.length;s++)e.push(t[s].toString(16));return e};class rI{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let s=0;s<e.length;s++){const i=e[s];t.hasOwnProperty(i)&&(this[i]=t[i])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class nI{constructor(){this.uchar=" ",this.penState=new rI}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class oI{constructor(t){this.chars=[],this.pos=0,this.currPenState=new rI,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<JT;t++)this.chars.push(new nI);this.logger=t}equals(t){for(let e=0;e<JT;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<JT;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<JT;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>JT&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=JT)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=QT(t);this.pos>=JT?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<JT;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let s=0;s<JT;s++){const i=this.chars[s].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class aI{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<YT;e++)this.rows.push(new oI(t));this.logger=t}reset(){for(let t=0;t<YT;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let s=0;s<YT;s++)if(!this.rows[s].equals(t.rows[s])){e=!1;break}return e}copy(t){for(let e=0;e<YT;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<YT;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t);this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+Fv(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<YT;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const i=s.rows[t].cueStartTime,r=this.logger.time;if(null!==i&&null!==r&&i<r)for(let i=0;i<this.nrRollUpRows;i++)this.rows[e-this.nrRollUpRows+i+1].copy(s.rows[t+i])}}this.currRow=e;const s=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,i=Math.max(e-1,0);s.setCursor(t.indent),t.color=s.chars[i].penState.foreground}const i={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+Fv(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let s="",i=-1;for(let s=0;s<YT;s++){const r=this.rows[s].getTextString();r&&(i=s+1,t?e.push("Row "+i+": '"+r+"'"):e.push(r.trim()))}return e.length>0&&(s=t?"["+e.join(" | ")+"]":e.join("\n")),s}getTextAndFormat(){return this.rows}}class hI{constructor(t,e,s){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new aI(s),this.nonDisplayedMemory=new aI(s),this.lastOutputScreen=new aI(s),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=s}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const s=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[s]}this.logger.log(2,"MIDROW: "+Fv(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class lI{constructor(t,e,s){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const i=this.logger=new sI;this.channels=[null,new hI(t,e,i),new hI(t+1,s,i)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){this.logger.time=t;for(let t=0;t<e.length;t+=2){const s=127&e[t],i=127&e[t+1];let r=!1,n=null;if(0===s&&0===i)continue;this.logger.log(3,(()=>"["+iI([e[t],e[t+1]])+"] -> ("+iI([s,i])+")"));const o=this.cmdHistory;if(s>=16&&s<=31){if(dI(s,i,o)){cI(null,null,o),this.logger.log(3,(()=>"Repeated command ("+iI([s,i])+") is dropped"));continue}cI(s,i,this.cmdHistory),r=this.parseCmd(s,i),r||(r=this.parseMidrow(s,i)),r||(r=this.parsePAC(s,i)),r||(r=this.parseBackgroundAttributes(s,i))}else cI(null,null,o);if(!r&&(n=this.parseChars(s,i),n)){const t=this.currentChannel;if(t&&t>0){this.channels[t].insertChars(n)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||n||this.logger.log(2,(()=>"Couldn't parse cleaned data "+iI([s,i])+" orig: "+iI([e[t],e[t+1]])))}}parseCmd(t,e){if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;const s=20===t||21===t||23===t?1:2,i=this.channels[s];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.currentChannel=s,!0}parseMidrow(t,e){let s=0;if((17===t||25===t)&&e>=32&&e<=47){if(s=17===t?1:2,s!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[s];return!!i&&(i.ccMIDROW(e),this.logger.log(3,(()=>"MIDROW ("+iI([t,e])+")")),!0)}return!1}parsePAC(t,e){let s;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;const i=t<=23?1:2;s=e>=64&&e<=95?1===i?XT[t]:ZT[t]:1===i?$T[t]:tI[t];const r=this.channels[i];return!!r&&(r.setPAC(this.interpretPAC(s,e)),this.currentChannel=i,!0)}interpretPAC(t,e){let s;const i={color:null,italics:!1,indent:null,underline:!1,row:t};return s=e>95?e-96:e-64,i.underline=1==(1&s),s<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(s/2)]:s<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((s-16)/2),i}parseChars(t,e){let s,i=null,r=null;if(t>=25?(s=2,r=t-8):(s=1,r=t),r>=17&&r<=19){let t;t=17===r?e+80:18===r?e+112:e+144,this.logger.log(2,(()=>"Special char '"+QT(t)+"' in channel "+s)),i=[t]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);return i&&this.logger.log(3,(()=>"Char codes =  "+iI(i).join(","))),i}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;let s;const i={};16===t||24===t?(s=Math.floor((e-32)/2),i.background=eI[s],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));const r=t<=23?1:2;return this.channels[r].setBkgData(i),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}cI(null,null,this.cmdHistory)}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const s=this.channels[e];s&&s.cueSplitAtTime(t)}}}function cI(t,e,s){s.a=t,s.b=e}function dI(t,e,s){return s.a===t&&s.b===e}var uI=function(){if(null!=Qb&&Qb.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function s(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const s=e.toLowerCase();return!!~t.indexOf(s)&&s}function i(t){return s(e,t)}function r(t,...e){let s=1;for(;s<arguments.length;s++){const e=arguments[s];for(const s in e)t[s]=e[s]}return t}function n(e,n,o){const a=this,h={enumerable:!0};a.hasBeenReset=!1;let l="",c=!1,d=e,u=n,p=o,f=null,m="",g=!0,y="auto",A="start",v=50,b="middle",S=50,w="middle";Object.defineProperty(a,"id",r({},h,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(a,"pauseOnExit",r({},h,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(a,"startTime",r({},h,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},h,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},h,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},h,{get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},h,{get:function(){return m},set:function(e){const i=function(e){return s(t,e)}(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},h,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},h,{get:function(){return y},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},h,{get:function(){return A},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},h,{get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},h,{get:function(){return b},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},h,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},h,{get:function(){return w},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),a.displayState=void 0}return n.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},n}();class pI{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function fI(t){function e(t,e,s,i){return 3600*(0|t)+60*(0|e)+(0|s)+parseFloat(i||0)}const s=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return s?parseFloat(s[2])>59?e(s[2],s[3],0,s[4]):e(s[1],s[2],s[3],s[4]):null}class mI{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,s){return s?this.has(t)?this.values[t]:e[s]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,s){for(let i=0;i<s.length;++i)if(e===s[i]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const s=parseFloat(e);if(s>=0&&s<=100)return this.set(t,s),!0}return!1}}function gI(t,e,s,i){const r=i?t.split(i):[t];for(const t in r){if("string"!=typeof r[t])continue;const i=r[t].split(s);if(2!==i.length)continue;e(i[0],i[1])}}const yI=new uI(0,0,""),AI="middle"===yI.align?"middle":"center";function vI(t,e,s){const i=t;function r(){const e=fI(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function n(){t=t.replace(/^\s+/,"")}if(n(),e.startTime=r(),n(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.slice(3),n(),e.endTime=r(),n(),function(t,e){const i=new mI;gI(t,(function(t,e){let r;switch(t){case"region":for(let r=s.length-1;r>=0;r--)if(s[r].id===e){i.set(t,s[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":r=e.split(","),i.integer(t,r[0]),i.percent(t,r[0])&&i.set("snapToLines",!1),i.alt(t,r[0],["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",AI,"end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",AI,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",AI,"end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");let r=i.get("line","auto");"auto"===r&&-1===yI.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",AI);let n=i.get("position","auto");"auto"===n&&50===yI.position&&(n="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=n}(t,e)}function bI(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class SI{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new pI,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function s(){let t=e.buffer,s=0;for(t=bI(t);s<t.length&&"\r"!==t[s]&&"\n"!==t[s];)++s;const i=t.slice(0,s);return"\r"===t[s]&&++s,"\n"===t[s]&&++s,e.buffer=t.slice(s),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=s();const i=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let i=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:t=s(),e.state){case"HEADER":/:/.test(t)?gI(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new uI(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{vI(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const s=-1!==t.indexOf("--\x3e");if(!t||s&&(i=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const wI=/\r\n|\n\r|\n|\r/g,EI=function(t,e,s=0){return t.slice(s,s+e.length)===e};function TI(t,e,s){return PT(t.toString())+PT(e.toString())+PT(s)}function II(t,e,s,i,r,n,o){const a=new SI,h=vA(new Uint8Array(t)).trim().replace(wI,"\n").split("\n"),l=[],c=e?function(t,e=1){return gE(t,9e4,1/e)}(e.baseTime,e.timescale):0;let d,u="00:00.000",p=0,f=0,m=!0;a.oncue=function(t){const n=s[i];let o=s.ccOffset;const a=(p-c)/9e4;if(null!=n&&n.new&&(void 0!==f?o=s.ccOffset=n.start:function(t,e,s){let i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;null!=(n=r)&&n.new;){var n;t.ccOffset+=i.start-r.start,i.new=!1,i=r,r=t[i.prevCC]}t.presentationOffset=s}(s,i,a)),a){if(!e)return void(d=new Error("Missing initPTS for VTT MPEGTS"));o=a-s.presentationOffset}const h=t.endTime-t.startTime,u=EE(9e4*(t.startTime+o-f),9e4*r)/9e4;t.startTime=Math.max(u,0),t.endTime=Math.max(u+h,0);const m=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(m)),t.id||(t.id=TI(t.startTime,t.endTime,m)),t.endTime>0&&l.push(t)},a.onparsingerror=function(t){d=t},a.onflush=function(){d?o(d):n(l)},h.forEach((t=>{if(m){if(EI(t,"X-TIMESTAMP-MAP=")){m=!1,t.slice(16).split(",").forEach((t=>{EI(t,"LOCAL:")?u=t.slice(6):EI(t,"MPEGTS:")&&(p=parseInt(t.slice(7)))}));try{f=function(t){let e=parseInt(t.slice(-3));const s=parseInt(t.slice(-6,-4)),i=parseInt(t.slice(-9,-7)),r=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(Hy(e)&&Hy(s)&&Hy(i)&&Hy(r)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*s,e+=6e4*i,e+=36e5*r,e}(u)/1e3}catch(t){d=t}return}""===t&&(m=!1)}a.parse(t+"\n")})),a.flush()}const kI="stpp.ttml.im1t",_I=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,CI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,DI={left:"start",center:"center",right:"end",start:"start",end:"end"};function RI(t,e,s,i){const r=GA(new Uint8Array(t),["mdat"]);if(0===r.length)return void i(new Error("Could not parse IMSC1 mdat"));const n=r.map((t=>vA(t))),o=function(t,e,s=1,i=!1){return gE(t,e,1/s,i)}(e.baseTime,1,e.timescale);try{n.forEach((t=>s(function(t,e){const s=new DOMParser,i=s.parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},n=Object.keys(r).reduce(((t,e)=>(t[e]=i.getAttribute(`ttp:${e}`)||r[e],t)),{}),o="preserve"!==i.getAttribute("xml:space"),a=PI(LI(i,"styling","style")),h=PI(LI(i,"layout","region")),l=LI(i,"body","[begin]");return[].map.call(l,(t=>{const s=xI(t,o);if(!s||!t.hasAttribute("begin"))return null;const i=FI(t.getAttribute("begin"),n),r=FI(t.getAttribute("dur"),n);let l=FI(t.getAttribute("end"),n);if(null===i)throw BI(t);if(null===l){if(null===r)throw BI(t);l=i+r}const c=new uI(i-e,l-e,s);c.id=TI(c.startTime,c.endTime,c.text);const d=function(t,e,s){const i="http://www.w3.org/ns/ttml#styling";let r=null;const n=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;o&&s.hasOwnProperty(o)&&(r=s[o]);return n.reduce(((s,n)=>{const o=MI(e,i,n)||MI(t,i,n)||MI(r,i,n);return o&&(s[n]=o),s}),{})}(h[t.getAttribute("region")],a[t.getAttribute("style")],a),{textAlign:u}=d;if(u){const t=DI[u];t&&(c.lineAlign=t),c.align=u}return aA(c,d),c})).filter((t=>null!==t))}(t,o))))}catch(t){i(t)}}function LI(t,e,s){const i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(s)):[]}function PI(t){return t.reduce(((t,e)=>{const s=e.getAttribute("xml:id");return s&&(t[s]=e),t}),{})}function xI(t,e){return[].slice.call(t.childNodes).reduce(((t,s,i)=>{var r;return"br"===s.nodeName&&i?t+"\n":null!=(r=s.childNodes)&&r.length?xI(s,e):e?t+s.textContent.trim().replace(/\s+/g," "):t+s.textContent}),"")}function MI(t,e,s){return t&&t.hasAttributeNS(e,s)?t.getAttributeNS(e,s):null}function BI(t){return new Error(`Could not parse ttml timestamp ${t}`)}function FI(t,e){if(!t)return null;let s=fI(t);return null===s&&(_I.test(t)?s=function(t,e){const s=_I.exec(t),i=(0|s[4])+(0|s[5])/e.subFrameRate;return 3600*(0|s[1])+60*(0|s[2])+(0|s[3])+i/e.frameRate}(t,e):CI.test(t)&&(s=function(t,e){const s=CI.exec(t),i=Number(s[1]);switch(s[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}(t,e))),s}class UI{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,s){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=s,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}function OI(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function NI(t,e){return!!t&&t.kind===OI(e)&&NE(e,t)}const jI=/\s/,VI={newCue(t,e,s,i){const r=[];let n,o,a,h,l;const c=self.VTTCue||self.TextTrackCue;for(let u=0;u<i.rows.length;u++)if(n=i.rows[u],a=!0,h=0,l="",!n.isEmpty()){var d;for(let t=0;t<n.chars.length;t++)jI.test(n.chars[t].uchar)&&a?h++:(l+=n.chars[t].uchar,a=!1);n.cueStartTime=e,e===s&&(s+=1e-4),h>=16?h--:h++;const i=bI(l.trim()),p=TI(e,s,i);null!=t&&null!=(d=t.cues)&&d.getCueById(p)||(o=new c(e,s,i),o.id=p,o.line=u+1,o.align="left",o.position=10+Math.min(80,10*Math.floor(8*h/32)),r.push(o))}return t&&r.length&&(r.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),r.forEach((e=>CT(t,e)))),r}};const WI=/(\d+)-(\d+)\/(\d+)/;class GI{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||zI,this.controller=new self.AbortController,this.stats=new IA}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,s){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const r=function(t,e){const s={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(aA({},t.headers))};t.rangeEnd&&s.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return s}(t,this.controller.signal),n="arraybuffer"===t.responseType,o=n?"byteLength":"length",{maxTimeToFirstByteMs:a,maxLoadTimeMs:h}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=s,this.request=this.fetchSetup(t,r),self.clearTimeout(this.requestTimeout),e.timeout=a&&Hy(a)?a:h,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,t,this.response))}),e.timeout);(LE(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then((s=>{var r;this.response=this.loader=s;const o=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=h,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,t,this.response))}),h-(o-i.loading.start)),!s.ok){const{status:t,statusText:e}=s;throw new HI(e||"fetch, bad network response",t,s)}i.loading.first=o,i.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=WI.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(Hy(t))return t}const s=t.get("Content-Length");if(s)return parseInt(s)}(s.headers)||i.total;const a=null==(r=this.callbacks)?void 0:r.onProgress;return a&&Hy(e.highWaterMark)?this.loadProgressively(s,i,t,e.highWaterMark,a):n?s.arrayBuffer():"json"===t.responseType?s.json():s.text()})).then((s=>{var r,n;const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=s[o];h&&(i.loaded=i.total=h);const l={url:a.url,data:s,code:a.status},c=null==(r=this.callbacks)?void 0:r.onProgress;c&&!Hy(e.highWaterMark)&&c(i,t,s,a),null==(n=this.callbacks)||n.onSuccess(l,i,t,a)})).catch((e=>{var s;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const r=e&&e.code||0,n=e?e.message:null;null==(s=this.callbacks)||s.onError({code:r,text:n},t,e?e.details:null,i)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,s,i=0,r){const n=new aw,o=t.body.getReader(),a=()=>o.read().then((o=>{if(o.done)return n.dataLength&&r(e,s,n.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));const h=o.value,l=h.length;return e.loaded+=l,l<i||n.dataLength?(n.push(h),n.dataLength>=i&&r(e,s,n.flush().buffer,t)):r(e,s,h.buffer,t),a()})).catch((()=>Promise.reject()));return a()}}function zI(t,e){return new self.Request(t.url,e)}class HI extends Error{constructor(t,e,s){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=s}}const KI=/^age:\s*[\d.]+\s*$/im;class qI{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new IA,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,s){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=s,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const s=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const r=this.xhrSetup;r?Promise.resolve().then((()=>{if(this.loader===s&&!this.stats.aborted)return r(s,e.url)})).catch((t=>{if(this.loader===s&&!this.stats.aborted)return s.open("GET",e.url,!0),r(s,e.url)})).then((()=>{this.loader!==s||this.stats.aborted||this.openAndSendXhr(s,e,t)})).catch((t=>{var r;null==(r=this.callbacks)||r.onError({code:s.status,text:t.message},e,s,i)})):this.openAndSendXhr(s,e,t)}openAndSendXhr(t,e,s){t.readyState||t.open("GET",e.url,!0);const i=e.headers,{maxTimeToFirstByteMs:r,maxLoadTimeMs:n}=s.loadPolicy;if(i)for(const e in i)t.setRequestHeader(e,i[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),s.timeout=r&&Hy(r)?r:n,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:s}=this;if(!t||!e)return;const i=e.readyState,r=this.config;if(!s.aborted&&i>=2&&(0===s.loading.first&&(s.loading.first=Math.max(self.performance.now(),s.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(s.loading.first-s.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const i=e.status,h="text"===e.responseType?e.responseText:null;if(i>=200&&i<300){const r=null!=h?h:e.response;if(null!=r){var n,o;s.loading.end=Math.max(self.performance.now(),s.loading.first);const a="arraybuffer"===e.responseType?r.byteLength:r.length;s.loaded=s.total=a,s.bwEstimate=8e3*s.total/(s.loading.end-s.loading.first);const h=null==(n=this.callbacks)?void 0:n.onProgress;h&&h(s,t,r,e);const l={url:e.responseURL,data:r,code:i};return void(null==(o=this.callbacks)||o.onSuccess(l,s,t,e))}}const l=r.loadPolicy.errorRetry;var a;if(tb(l,s.retry,!1,{url:t.url,data:void 0,code:i}))this.retry(l);else gA.error(`${i} while loading ${t.url}`),null==(a=this.callbacks)||a.onError({code:i,text:e.statusText},t,e,s)}}loadtimeout(){if(!this.config)return;const t=this.config.loadPolicy.timeoutRetry;if(tb(t,this.stats.retry,!0))this.retry(t);else{var e;gA.warn(`timeout while loading ${null==(e=this.context)?void 0:e.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:s}=this;this.retryDelay=$v(t,s.retry),s.retry++,gA.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${s.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&KI.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const QI=lA(lA({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:qI,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class extends cA{constructor(t){super("abr",t.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var e;const{fragCurrent:s,partCurrent:i,hls:r}=this,{autoLevelEnabled:n,media:o}=r;if(!s||!o)return;const a=performance.now(),h=i?i.stats:s.stats,l=i?i.duration:s.duration,c=a-h.loading.start,d=r.minAutoLevel,u=s.level,p=this._nextAutoLevel;if(h.aborted||h.loaded&&h.loaded===h.total||u<=d)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!n)return;const f=p>-1&&p!==u,m=!!t||f;if(!m&&(o.paused||!o.playbackRate||!o.readyState))return;const g=r.mainForwardBufferInfo;if(!m&&null===g)return;const y=this.bwEstimator.getEstimateTTFB(),A=Math.abs(o.playbackRate);if(c<=Math.max(y,l/(2*A)*1e3))return;const v=g?g.len/A:0,b=h.loading.first?h.loading.first-h.loading.start:-1,S=h.loaded&&b>-1,w=this.getBwEstimate(),E=r.levels,T=E[u],I=Math.max(h.loaded,Math.round(l*(s.bitrate||T.averageBitrate)/8));let k=S?c-b:c;k<1&&S&&(k=Math.min(c,8*h.loaded/w));const _=S?1e3*h.loaded/k:0,C=y/1e3,D=_?(I-h.loaded)/_:8*I/w+C;if(D<=v)return;const R=_?8*_:w,L=!0===(null==(e=(null==t?void 0:t.details)||this.hls.latestLevelDetails)?void 0:e.live),P=this.hls.config.abrBandWidthUpFactor;let x,M=Number.POSITIVE_INFINITY;for(x=u-1;x>d;x--){const t=E[x].maxBitrate,e=!E[x].details||L;if(M=this.getTimeToLoadFrag(C,R,l*t,e),M<Math.min(v,l+C))break}if(M>=D)return;if(M>10*l)return;S?this.bwEstimator.sample(c-Math.min(y,b),h.loaded):this.bwEstimator.sampleTTFB(c);const B=E[x].maxBitrate;this.getBwEstimate()*P>B&&this.resetEstimator(B);const F=this.findBestLevel(B,d,x,0,v,1,1);F>-1&&(x=F),this.warn(`Fragment ${s.sn}${i?" part "+i.index:""} of level ${u} is loading too slowly;\n      Fragment duration: ${s.duration.toFixed(3)}\n      Time to underbuffer: ${v.toFixed(3)} s\n      Estimated load time for current fragment: ${D.toFixed(3)} s\n      Estimated load time for down switch fragment: ${M.toFixed(3)} s\n      TTFB estimate: ${0|b} ms\n      Current BW estimate: ${Hy(w)?0|w:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${x} @ ${0|B} bps`),r.nextLoadLevel=r.nextAutoLevel=x,this.clearTimer();const U=()=>{if(this.clearTimer(),this.fragCurrent===s&&this.hls.loadLevel===x&&x>0){const t=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${x>0?"and switching down":""}\n      Fragment duration: ${s.duration.toFixed(3)} s\n      Time to underbuffer: ${t.toFixed(3)} s`),s.abortRequests(),this.fragCurrent=this.partCurrent=null,x>d){let e=this.findBestLevel(this.hls.levels[d].bitrate,d,x,0,t,1,1);-1===e&&(e=d),this.hls.nextLoadLevel=this.hls.nextAutoLevel=e,this.resetEstimator(this.hls.levels[e].bitrate)}}};f||D>2*M?U():this.timer=self.setInterval(U,1e3*M),r.trigger(Jy.FRAG_LOAD_EMERGENCY_ABORTED,{frag:s,part:i,stats:h})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(this.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new nA(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.FRAG_LOADING,this.onFragLoading,this),t.on(Jy.FRAG_LOADED,this.onFragLoaded,this),t.on(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Jy.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.FRAG_LOADING,this.onFragLoading,this),t.off(Jy.FRAG_LOADED,this.onFragLoaded,this),t.off(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Jy.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(Jy.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const s=e.frag;if(!this.ignoreFragment(s)){var i;if(!s.bitrateTest)this.fragCurrent=s,this.partCurrent=null!=(i=e.part)?i:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case Yy.BUFFER_ADD_CODEC_ERROR:case Yy.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Yy.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:s,partCurrent:i}=this;if(t&&s&&t.sn===s.sn&&t.level===s.level){const e=performance.now(),s=i?i.stats:t.stats,r=e-s.loading.start,n=s.loading.first?s.loading.first-s.loading.start:-1;if(s.loaded&&n>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(r-Math.min(t,n),s.loaded)}else this.bwEstimator.sampleTTFB(r)}break}}}getTimeToLoadFrag(t,e,s,i){return t+s/e+(i?t+this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const s=this.hls.config,{loading:i}=e.stats,r=i.end-i.first;Hy(r)&&(this.lastLevelLoadSec=r/1e3),e.details.live?this.bwEstimator.update(s.abrEwmaSlowLive,s.abrEwmaFastLive):this.bwEstimator.update(s.abrEwmaSlowVoD,s.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(e.levelInfo)}onFragLoaded(t,{frag:e,part:s}){const i=s?s.stats:e.stats;if(e.type===eA&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=s?s.duration:e.duration,r=this.hls.levels[e.level],n=(r.loaded?r.loaded.bytes:0)+i.loaded,o=(r.loaded?r.loaded.duration:0)+t;r.loaded={bytes:n,duration:o},r.realBitrate=Math.round(8*n/o)}if(e.bitrateTest){const t={stats:i,frag:e,part:s,id:e.type};this.onFragBuffered(Jy.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:s,part:i}=e,r=null!=i&&i.stats.loaded?i.stats:s.stats;if(r.aborted)return;if(this.ignoreFragment(s))return;const n=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(n,r.loaded),r.bwEstimate=this.getBwEstimate(),s.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==eA||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,s=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,r=this.findBestLevel(s,e,t,0,i,1,1);if(r>-1)return r;const n=this.hls.firstLevel,o=Math.min(Math.max(n,e),t);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${n} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&s&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;const i=e&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,i)&&e[t].loadError<=e[i].loadError)return t}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:s}=this;if(s.levels.length<=1)return s.loadLevel;const{maxAutoLevel:i,config:r,minAutoLevel:n}=s,o=e?e.duration:t?t.duration:0,a=this.getBwEstimate(),h=this.getStarvationDelay();let l=r.abrBandWidthFactor,c=r.abrBandWidthUpFactor;if(h){const t=this.findBestLevel(a,n,i,h,0,l,c);if(t>=0)return this.rebufferNotice=-1,t}let d=o?Math.min(o,r.maxStarvationDelay):r.maxStarvationDelay;if(!h){const t=this.bitrateTestDelay;if(t){d=(o?Math.min(o,r.maxLoadingDelay):r.maxLoadingDelay)-t,this.info(`bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),l=c=1}}const u=this.findBestLevel(a,n,i,h,d,l,c);if(this.rebufferNotice!==u&&(this.rebufferNotice=u,this.info(`${h?"rebuffering expected":"buffer is empty"}, optimal quality level ${u}`)),u>-1)return u;const p=s.levels[n],f=s.loadLevelObj;return f&&(null==p?void 0:p.bitrate)<f.bitrate?n:s.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const s=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,i=t.mainForwardBufferInfo;return(i?i.len:0)/s}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,s,i,r,n,o){var a;const h=i+r,l=this.lastLoadedFragLevel,c=-1===l?this.hls.firstLevel:l,{fragCurrent:d,partCurrent:u}=this,{levels:p,allAudioTracks:f,loadLevel:m,config:g}=this.hls;if(1===p.length)return 0;const y=p[c],A=!(null==(a=this.hls.latestLevelDetails)||!a.live),v=-1===m||-1===l;let b,S="SDR",w=(null==y?void 0:y.frameRate)||0;const{audioPreference:E,videoPreference:T}=g,I=this.audioTracksByGroup||(this.audioTracksByGroup=Ov(f));let k=-1;if(v){if(-1!==this.firstSelection)return this.firstSelection;const i=this.codecTiers||(this.codecTiers=function(t,e,s,i){return t.slice(s,i+1).reduce(((t,s,i)=>{if(!s.codecSet)return t;const r=s.audioGroups;let n=t[s.codecSet];n||(t[s.codecSet]=n={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:i,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),n.minBitrate=Math.min(n.minBitrate,s.bitrate);const o=Math.min(s.height,s.width);return n.minHeight=Math.min(n.minHeight,o),n.minFramerate=Math.min(n.minFramerate,s.frameRate),n.minIndex=Math.min(n.minIndex,i),n.maxScore=Math.max(n.maxScore,s.score),n.fragmentError+=s.fragmentError,n.videoRanges[s.videoRange]=(n.videoRanges[s.videoRange]||0)+1,r&&r.forEach((t=>{if(!t)return;const s=e.groups[t];s&&(n.hasDefaultAudio=n.hasDefaultAudio||e.hasDefaultAudio?s.hasDefault:s.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(s.channels).forEach((t=>{n.channels[t]=(n.channels[t]||0)+s.channels[t]})))})),t}),{})}(p,I,e,s)),r=function(t,e,s,i,r){const n=Object.keys(t),o=null==i?void 0:i.channels,a=null==i?void 0:i.audioCodec,h=null==r?void 0:r.videoCodec,l=o&&2===parseInt(o);let c=!1,d=!1,u=1/0,p=1/0,f=1/0,m=1/0,g=0,y=[];const{preferHDR:A,allowedVideoRanges:v}=Bv(e,r);for(let e=n.length;e--;){const s=t[n[e]];c||(c=s.channels[2]>0),u=Math.min(u,s.minHeight),p=Math.min(p,s.minFramerate),f=Math.min(f,s.minBitrate);const i=v.filter((t=>s.videoRanges[t]>0));i.length>0&&(d=!0)}u=Hy(u)?u:0,p=Hy(p)?p:0;const b=Math.max(1080,u),S=Math.max(30,p);f=Hy(f)?f:s,s=Math.max(f,s),d||(e=void 0);const w=n.length>1,E=n.reduce(((e,i)=>{const r=t[i];if(i===e)return e;if(y=d?v.filter((t=>r.videoRanges[t]>0)):[],w){if(r.minBitrate>s)return Uv(i,`min bitrate of ${r.minBitrate} > current estimate of ${s}`),e;if(!r.hasDefaultAudio)return Uv(i,"no renditions with default or auto-select sound found"),e;if(a&&i.indexOf(a.substring(0,4))%5!=0)return Uv(i,`audio codec preference "${a}" not found`),e;if(o&&!l){if(!r.channels[o])return Uv(i,`no renditions with ${o} channel sound found (channels options: ${Object.keys(r.channels)})`),e}else if((!a||l)&&c&&0===r.channels[2])return Uv(i,"no renditions with stereo sound found"),e;if(r.minHeight>b)return Uv(i,`min resolution of ${r.minHeight} > maximum of ${b}`),e;if(r.minFramerate>S)return Uv(i,`min framerate of ${r.minFramerate} > maximum of ${S}`),e;if(!y.some((t=>r.videoRanges[t]>0)))return Uv(i,`no variants with VIDEO-RANGE of ${Fv(y)} found`),e;if(h&&i.indexOf(h.substring(0,4))%5!=0)return Uv(i,`video codec preference "${h}" not found`),e;if(r.maxScore<g)return Uv(i,`max score of ${r.maxScore} < selected max of ${g}`),e}return e&&(pv(i)>=pv(e)||r.fragmentError>t[e].fragmentError)?e:(m=r.minIndex,g=r.maxScore,i)}),void 0);return{codecSet:E,videoRanges:y,preferHDR:A,minFramerate:p,minBitrate:f,minIndex:m}}(i,S,t,E,T),{codecSet:n,videoRanges:o,minFramerate:a,minBitrate:h,minIndex:l,preferHDR:c}=r;k=l,b=n,S=c?o[o.length-1]:o[0],w=a,t=Math.max(t,h),this.log(`picked start tier ${Fv(r)}`)}else b=null==y?void 0:y.codecSet,S=null==y?void 0:y.videoRange;const _=u?u.duration:d?d.duration:0,C=this.bwEstimator.getEstimateTTFB()/1e3,D=[];for(let a=s;a>=e;a--){var R;const e=p[a],d=a>c;if(!e)continue;if(g.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const s=navigator.mediaCapabilities;"function"==typeof(null==s?void 0:s.decodingInfo)&&(Tv(e,I,S,w,t,E)||tv(e.videoCodec))?(e.supportedPromise=Iv(e,I,s),e.supportedPromise.then((t=>{if(!this.hls)return;e.supportedResult=t;const s=this.hls.levels,i=s.indexOf(e);t.error?this.warn(`MediaCapabilities decodingInfo error: "${t.error}" for level ${i} ${Fv(t)}`):t.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${i} ${Fv(t)}`),i>-1&&s.length>1&&(this.log(`Removing unsupported level ${i}`),this.hls.removeLevel(i),-1===this.hls.loadLevel&&(this.hls.nextLoadLevel=0)))}))):e.supportedResult=Sv}if((b&&e.codecSet!==b||S&&e.videoRange!==S||d&&w>e.frameRate||!d&&w>0&&w<e.frameRate||e.supportedResult&&(null==(R=e.supportedResult.decodingInfoResults)||!R[0].smooth))&&(!v||a!==k)){D.push(a);continue}const f=e.details,y=(u?null==f?void 0:f.partTarget:null==f?void 0:f.averagetargetduration)||_;let T;T=d?o*t:n*t;const L=_&&i>=2*_&&0===r?e.averageBitrate:e.maxBitrate,P=this.getTimeToLoadFrag(C,T,L*y,void 0===f);if(T>=L&&(a===l||0===e.loadError&&0===e.fragmentError)&&(P<=C||!Hy(P)||A&&!this.bitrateTestDelay||P<h)){const t=this.forcedAutoLevel;return a===m||-1!==t&&t===m||(D.length&&this.trace(`Skipped level(s) ${D.join(",")} of ${s} max with CODECS and VIDEO-RANGE:"${p[D[0]].codecs}" ${p[D[0]].videoRange}; not compatible with "${b}" ${S}`),this.info(`switch candidate:${c}->${a} adjustedbw(${Math.round(T)})-bitrate=${Math.round(T-L)} ttfb:${C.toFixed(1)} avgDuration:${y.toFixed(1)} maxFetchDuration:${h.toFixed(1)} fetchDuration:${P.toFixed(1)} firstSelection:${v} codecSet:${e.codecSet} videoRange:${e.videoRange} hls.loadLevel:${m}`)),v&&(this.firstSelection=a),a}}return-1}set nextAutoLevel(t){const e=this.deriveNextAutoLevel(t);this._nextAutoLevel!==e&&(this.nextAutoLevelKey="",this._nextAutoLevel=e)}deriveNextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:s}=this.hls;return Math.min(Math.max(t,s),e)}},bufferController:class extends cA{constructor(t,e){var s;super("buffer-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=t=>{var e;this.hls&&"open"===(null==(e=this.mediaSource)?void 0:e.readyState)&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=t=>{const{media:e,mediaSource:s}=this;t&&this.log("Media source opened"),e&&s&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Jy.MEDIA_ATTACHED,{media:e,mediaSource:s}),null!==this.mediaSource&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&this.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t,this.fragmentTracker=e,this.appendSource=(s=yA(t.config.preferManagedMediaSource),"undefined"!=typeof self&&s===self.ManagedMediaSource),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:t}=this;t.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.BUFFER_RESET,this.onBufferReset,this),t.on(Jy.BUFFER_APPENDING,this.onBufferAppending,this),t.on(Jy.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Jy.BUFFER_EOS,this.onBufferEos,this),t.on(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Jy.FRAG_PARSED,this.onFragParsed,this),t.on(Jy.FRAG_CHANGED,this.onFragChanged,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.BUFFER_RESET,this.onBufferReset,this),t.off(Jy.BUFFER_APPENDING,this.onBufferAppending,this),t.off(Jy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Jy.BUFFER_EOS,this.onBufferEos,this),t.off(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Jy.FRAG_PARSED,this.onFragParsed,this),t.off(Jy.FRAG_CHANGED,this.onFragChanged,this),t.off(Jy.ERROR,this.onError,this)}transferMedia(){const{media:t,mediaSource:e}=this;if(!t)return null;const s={};if(this.operationQueue){const t=this.isUpdating();t||this.operationQueue.removeBlockers();const e=this.isQueued();(t||e)&&this.warn(`Transfering MediaSource with${e?" operations in queue":""}${t?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===e?aA(s,i.tracks):this.sourceBuffers.forEach((t=>{const[e]=t;e&&(s[e]=aA({},this.tracks[e]),this.removeBuffer(e)),t[0]=t[1]=null})),{media:t,mediaSource:e,tracks:s}}initTracks(){this.sourceBuffers=[[null,null],[null,null]],this.tracks={},this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){var s;let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),null!=(s=this.transferData)&&s.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(t,e){const s=this.media=e.media,i=yA(this.appendSource);if(this.transferData=this.overrides=void 0,s&&i){const t=!!e.mediaSource;(t||e.overrides)&&(this.transferData=e,this.overrides=e.overrides);const r=this.mediaSource=e.mediaSource||new i;if(this.assignMediaSource(r),t)this._objectUrl=s.src,this.attachTransferred();else{const t=this._objectUrl=self.URL.createObjectURL(r);if(this.appendSource)try{s.removeAttribute("src");const e=self.ManagedMediaSource;s.disableRemotePlayback=s.disableRemotePlayback||e&&r instanceof e,zE(s),function(t,e){const s=self.document.createElement("source");s.type="video/mp4",s.src=e,t.appendChild(s)}(s,t),s.load()}catch(e){s.src=t}else s.src=t}s.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(t){var e,s;this.log(`${(null==(e=this.transferData)?void 0:e.mediaSource)===t?"transferred":"created"} media source: ${null==(s=t.constructor)?void 0:s.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const t=this.media,e=this.transferData;if(!e||!t)return;const s=this.tracks,i=e.tracks,r=i?Object.keys(i):null,n=r?r.length:0,o=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&r&&n){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})\nrequired tracks: ${Fv(s,((t,e)=>"initSegment"===t?void 0:e))};\ntransfer tracks: ${Fv(i,((t,e)=>"initSegment"===t?void 0:e))}}`),!AA(i,s)){e.mediaSource=null,e.tracks=void 0;const r=t.currentTime,n=this.details,o=Math.max(r,(null==n?void 0:n.fragments[0].start)||0);return o-r>1?void this.log(`attachTransferred: waiting for playback to reach new tracks start time ${r} -> ${o}`):(this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(s)}") start time: ${o} currentTime: ${r}`),this.onMediaDetaching(Jy.MEDIA_DETACHING,{}),this.onMediaAttaching(Jy.MEDIA_ATTACHING,e),void(t.currentTime=o))}this.transferData=void 0,r.forEach((t=>{const e=t,s=i[e];if(s){const t=s.buffer;if(t){const i=this.fragmentTracker,r=s.id;if(i.hasFragments(r)||i.hasParts(r)){const s=Lb.getBuffered(t);i.detectEvictedFragments(e,s,r,null,!0)}const n=HE(e),o=[e,t];this.sourceBuffers[n]=o,t.updating&&this.operationQueue&&this.operationQueue.prependBlocker(e),this.trackSourceBuffer(e,s)}}})),o(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),o()}get mediaSourceOpenOrEnded(){var t;const e=null==(t=this.mediaSource)?void 0:t.readyState;return"open"===e||"ended"===e}onMediaDetaching(t,e){const s=!!e.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:r,_objectUrl:n}=this;if(r){if(this.log("media source "+(s?"transferring":"detaching")),s)this.sourceBuffers.forEach((([t])=>{t&&this.removeBuffer(t)})),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const t="open"===r.readyState;try{const e=r.sourceBuffers;for(let s=e.length;s--;)t&&e[s].abort(),r.removeSourceBuffer(e[s]);t&&r.endOfStream()}catch(t){this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(r.removeEventListener("startstreaming",this._onStartStreaming),r.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),s||(n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(i.removeAttribute("src"),this.appendSource&&zE(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Jy.MEDIA_DETACHED,e)}onBufferReset(){this.sourceBuffers.forEach((([t])=>{t&&this.resetBuffer(t)})),this.initTracks()}resetBuffer(t){var e;const s=null==(e=this.tracks[t])?void 0:e.buffer;if(this.removeBuffer(t),s)try{var i;null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(s)}catch(e){this.warn(`onBufferReset ${t}`,e)}delete this.tracks[t]}removeBuffer(t){this.removeBufferListeners(t),this.sourceBuffers[HE(t)]=[null,null];const e=this.tracks[t];e&&(e.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new jE(this.tracks)}onBufferCodecs(t,e){const s=this.tracks,i=Object.keys(e);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const r="audiovideo"in e&&(s.audio||s.video)||s.audiovideo&&("audio"in e||"video"in e),n=!r&&this.sourceBufferCount&&this.media&&i.some((t=>!s[t]));r||n?this.warn(`Unsupported transition between "${Object.keys(s)}" and "${i}" SourceBuffers`):(i.forEach((t=>{var i,r,n;const o=e[t],{id:a,codec:h,levelCodec:l,container:c,metadata:d,supplemental:u}=o;let p=s[t];const f=null==(i=this.transferData)||null==(r=i.tracks)?void 0:r[t],m=null!=f&&f.buffer?f:p,g=(null==m?void 0:m.pendingCodec)||(null==m?void 0:m.codec),y=null==m?void 0:m.levelCodec;p||(p=s[t]={buffer:void 0,listeners:[],codec:h,supplemental:u,container:c,levelCodec:l,metadata:d,id:a});const A=yv(g,y),v=null==A?void 0:A.replace(VE,"$1");let b=yv(h,l);const S=null==(n=b)?void 0:n.replace(VE,"$1");b&&A&&v!==S&&("audio"===t.slice(0,5)&&(b=gv(b,this.appendSource)),this.log(`switching codec ${g} to ${b}`),b!==(p.pendingCodec||p.codec)&&(p.pendingCodec=b),p.container=c,this.appendChangeType(t,c,b))})),(this.tracksReady||this.sourceBufferCount)&&(e.tracks=this.sourceBufferTracks),this.sourceBufferCount||this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce(((t,e)=>{const s=this.tracks[e];return t[e]={id:s.id,container:s.container,codec:s.codec,levelCodec:s.levelCodec},t}),{})}appendChangeType(t,e,s){const i=`${e};codecs=${s}`,r={label:`change-type=${i}`,execute:()=>{const r=this.tracks[t];if(r){const n=r.buffer;null!=n&&n.changeType&&(this.log(`changing ${t} sourceBuffer type to ${i}`),n.changeType(i),r.codec=s,r.container=e)}this.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};this.append(r,t,this.isPending(this.tracks[t]))}blockAudio(t){var e;const s=t.start,i=s+.05*t.duration;if(!0===(null==(e=this.fragmentTracker.getAppendedFrag(s,eA))?void 0:e.gap))return;const r={label:"block-audio",execute:()=>{var t;const e=this.tracks.video;(this.lastVideoAppendEnd>i||null!=e&&e.buffer&&Lb.isBuffered(e.buffer,i)||!0===(null==(t=this.fragmentTracker.getAppendedFrag(i,eA))?void 0:t.gap))&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn("Error executing block-audio operation",t)}};this.blockedAudioAppend={op:r,frag:t},this.append(r,"audio",!0)}unblockAudio(){const{blockedAudioAppend:t,operationQueue:e}=this;t&&e&&(this.blockedAudioAppend=null,e.unblockAudio(t.op))}onBufferAppending(t,e){const{tracks:s}=this,{data:i,type:r,parent:n,frag:o,part:a,chunkMeta:h}=e,l=h.buffering[r],c=o.sn,d=self.performance.now();l.start=d;const u=o.stats.buffering,p=a?a.stats.buffering:null;0===u.start&&(u.start=d),p&&0===p.start&&(p.start=d);const f=s.audio;let m=!1;"audio"===r&&"audio/mpeg"===(null==f?void 0:f.container)&&(m=!this.lastMpegAudioChunk||1===h.id||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const g=this.tracks.video,y=null==g?void 0:g.buffer;if(y&&"initSegment"!==c){const t=a||o,e=this.blockedAudioAppend;if("audio"!==r||"main"===n||this.blockedAudioAppend){if("video"===r){const s=t.end;if(e){const t=e.frag.start;(s>t||s<this.lastVideoAppendEnd||Lb.isBuffered(y,t))&&this.unblockAudio()}this.lastVideoAppendEnd=s}}else{const e=t.start+.05*t.duration,s=y.buffered,i=this.currentOp("video");s.length||i?!i&&!Lb.isBuffered(y,e)&&this.lastVideoAppendEnd<e&&this.blockAudio(t):this.blockAudio(t)}}const A=(a||o).start,v={label:`append-${r}`,execute:()=>{if(l.executeStart=self.performance.now(),m){const t=this.tracks[r];if(t){const e=t.buffer;if(e){const t=A-e.timestampOffset;Math.abs(t)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${A} (delta: ${t}) sn: ${c})`),e.timestampOffset=A)}}}this.appendExecutor(i,r)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();l.executeEnd=l.end=t,0===u.first&&(u.first=t),p&&0===p.first&&(p.first=t);const e={};this.sourceBuffers.forEach((([t,s])=>{t&&(e[t]=Lb.getBuffered(s))})),this.appendErrors[r]=0,"audio"===r||"video"===r?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Jy.BUFFER_APPENDED,{type:r,frag:o,part:a,chunkMeta:h,parent:o.type,timeRanges:e})},onError:t=>{var e;const s={type:Qy.MEDIA_ERROR,parent:o.type,details:Yy.BUFFER_APPEND_ERROR,sourceBufferName:r,frag:o,part:a,chunkMeta:h,error:t,err:t,fatal:!1},i=null==(e=this.media)?void 0:e.error;if(t.code===DOMException.QUOTA_EXCEEDED_ERR)s.details=Yy.BUFFER_FULL_ERROR;else if(t.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!i)s.errorAction=hb(!0);else if(t.name===WE&&0===this.sourceBufferCount)s.errorAction=hb(!0);else{const t=++this.appendErrors[r];this.warn(`Failed ${t}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${r}" sourceBuffer (${i||"no media error"})`),(t>=this.hls.config.appendErrorMaxRetry||i)&&(s.fatal=!0)}this.hls.trigger(Jy.ERROR,s)}};this.append(v,r,this.isPending(this.tracks[r]))}getFlushOp(t,e,s){return this.log(`queuing "${t}" remove ${e}-${s}`),{label:"remove",execute:()=>{this.removeExecutor(t,e,s)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Jy.BUFFER_FLUSHED,{type:t})},onError:i=>{this.warn(`Failed to remove ${e}-${s} from "${t}" SourceBuffer`,i)}}}onBufferFlushing(t,e){const{type:s,startOffset:i,endOffset:r}=e;s?this.append(this.getFlushOp(s,i,r),s):this.sourceBuffers.forEach((([t])=>{t&&this.append(this.getFlushOp(t,i,r),t)}))}onFragParsed(t,e){const{frag:s,part:i}=e,r=[],n=i?i.elementaryStreams:s.elementaryStreams;n[CA]?r.push("audiovideo"):(n[kA]&&r.push("audio"),n[_A]&&r.push("video"));0===r.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${s.type} level: ${s.level} sn: ${s.sn}`),this.blockBuffers((()=>{const t=self.performance.now();s.stats.buffering.end=t,i&&(i.stats.buffering.end=t);const e=i?i.stats:s.stats;this.hls.trigger(Jy.FRAG_BUFFERED,{frag:s,part:i,stats:e,id:s.type})}),r).catch((t=>{this.warn(`Fragment buffered callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}))}onFragChanged(t,e){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{var e,s;return t&&(!(null!=(e=this.tracks[t])&&e.ended)||(null==(s=this.tracks[t])?void 0:s.ending))}))}onBufferEos(t,e){var s;this.sourceBuffers.forEach((([t])=>{if(t){const s=this.tracks[t];e.type&&e.type!==t||(s.ending=!0,s.ended||(s.ended=!0,this.log(`${t} buffer reached EOS`)))}}));const i=!1!==(null==(s=this.overrides)?void 0:s.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{var e;return t&&!(null!=(e=this.tracks[t])&&e.ended)}))&&(i?(this.log("Queueing EOS"),this.blockUntilOpen((()=>{this.tracksEnded();const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream(),this.hls.trigger(Jy.BUFFERED_TO_END,void 0)):t&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)}))):(this.tracksEnded(),this.hls.trigger(Jy.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach((([t])=>{if(null!==t){const e=this.tracks[t];e&&(e.ending=!1)}}))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.updateDuration())}updateDuration(){const t=this.getDurationAndRange();t&&this.blockUntilOpen((()=>this.updateMediaSource(t)))}onError(t,e){if(e.details===Yy.BUFFER_APPEND_ERROR&&e.frag){var s;const t=null==(s=e.errorAction)?void 0:s.nextAutoLevel;Hy(t)&&t!==e.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:t,details:e,media:s}=this;if(!s||null===e)return;if(!this.sourceBufferCount)return;const i=t.config,r=s.currentTime,n=e.levelTargetDuration,o=e.live&&null!==i.liveBackBufferLength?i.liveBackBufferLength:i.backBufferLength;if(Hy(o)&&o>=0){const t=Math.max(o,n),e=Math.floor(r/n)*n-t;this.flushBackBuffer(r,n,e)}if(Hy(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const t=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),e=Math.max(t,n),s=Math.floor(r/n)*n+e;this.flushFrontBuffer(r,n,s)}}flushBackBuffer(t,e,s){this.sourceBuffers.forEach((([t,e])=>{if(e){const r=Lb.getBuffered(e);if(r.length>0&&s>r.start(0)){var i;this.hls.trigger(Jy.BACK_BUFFER_REACHED,{bufferEnd:s});const e=this.tracks[t];if(null!=(i=this.details)&&i.live)this.hls.trigger(Jy.LIVE_BACK_BUFFER_REACHED,{bufferEnd:s});else if(null!=e&&e.ended)return void this.log(`Cannot flush ${t} back buffer while SourceBuffer is in ended state`);this.hls.trigger(Jy.BUFFER_FLUSHING,{startOffset:0,endOffset:s,type:t})}}}))}flushFrontBuffer(t,e,s){this.sourceBuffers.forEach((([e,i])=>{if(i){const r=Lb.getBuffered(i),n=r.length;if(n<2)return;const o=r.start(n-1),a=r.end(n-1);if(s>o||t>=o&&t<=a)return;this.hls.trigger(Jy.BUFFER_FLUSHING,{startOffset:o,endOffset:1/0,type:e})}}))}getDurationAndRange(){var t;const{details:e,mediaSource:s}=this;if(!e||!this.media||"open"!==(null==s?void 0:s.readyState))return null;const i=e.edge;if(e.live&&this.hls.config.liveDurationInfinity){if(e.fragments.length&&e.live&&s.setLiveSeekableRange){const t=Math.max(0,e.fragmentStart);return{duration:1/0,start:t,end:Math.max(t,i)}}return{duration:1/0}}const r=null==(t=this.overrides)?void 0:t.duration;if(r)return Hy(r)?{duration:r}:null;const n=this.media.duration;return i>(Hy(s.duration)?s.duration:0)&&i>n||!Hy(n)?{duration:i}:null}updateMediaSource({duration:t,start:e,end:s}){const i=this.mediaSource;this.media&&i&&"open"===i.readyState&&(i.duration!==t&&(Hy(t)&&this.log(`Updating MediaSource duration to ${t.toFixed(3)}`),i.duration=t),void 0!==e&&void 0!==s&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${e}-${s}.`),i.setLiveSeekableRange(e,s)))}get tracksReady(){const t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:t,pendingTrackCount:e,tracks:s}=this;if(this.log(`checkPendingTracks (pending: ${e} codec events expected: ${t}) ${Fv(s)}`),this.tracksReady){var i;const t=null==(i=this.transferData)?void 0:i.tracks;t&&Object.keys(t).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const t={};this.sourceBuffers.forEach((([e,s])=>{if(e){const i=this.tracks[e];t[e]={buffer:s,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}})),this.hls.trigger(Jy.BUFFER_CREATED,{tracks:t}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach((([t])=>{this.executeNext(t)}))}else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}createSourceBuffers(){const{tracks:t,sourceBuffers:e,mediaSource:s}=this;if(!s)throw new Error("createSourceBuffers called when mediaSource was null");for(const r in t){const n=r,o=t[n];if(this.isPending(o)){const t=this.getTrackCodec(o,n),r=`${o.container};codecs=${t}`;o.codec=t,this.log(`creating sourceBuffer(${r})${this.currentOp(n)?" Queued":""} ${Fv(o)}`);try{const t=s.addSourceBuffer(r),i=HE(n),a=[n,t];e[i]=a,o.buffer=t}catch(t){var i;return this.error(`error while trying to add sourceBuffer: ${t.message}`),this.shiftAndExecuteNext(n),null==(i=this.operationQueue)||i.removeBlockers(),delete this.tracks[n],void this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:n,mimeType:r,parent:o.id})}this.trackSourceBuffer(n,o)}}this.bufferCreated()}getTrackCodec(t,e){const s=t.supplemental;let i=t.codec;s&&("video"===e||"audiovideo"===e)&&lv(s,"video")&&(i=function(t,e){const s=[];if(t){const e=t.split(",");for(let t=0;t<e.length;t++)hv(e[t],"video")||s.push(e[t])}return e&&s.push(e),s.join(",")}(i,s));const r=yv(i,t.levelCodec);return r?"audio"===e.slice(0,5)?gv(r,this.appendSource):r:""}trackSourceBuffer(t,e){const s=e.buffer;if(!s)return;const i=this.getTrackCodec(e,t);this.tracks[t]={buffer:s,codec:i,container:e.container,levelCodec:e.levelCodec,supplemental:e.supplemental,metadata:e.metadata,id:e.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",((t,e)=>{const s=e.removedRanges;null!=s&&s.length&&this.hls.trigger(Jy.BUFFER_FLUSHED,{type:t})}))}get mediaSrc(){var t,e;const s=(null==(t=this.media)||null==(e=t.querySelector)?void 0:e.call(t,"source"))||this.media;return null==s?void 0:s.src}onSBUpdateStart(t){const e=this.currentOp(t);e&&e.onStart()}onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const s=this.currentOp(t);s&&(s.onComplete(),this.shiftAndExecuteNext(t))}onSBUpdateError(t,e){var s;const i=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(s=this.mediaSource)?void 0:s.readyState}`);this.error(`${i}`,e),this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:i,fatal:!1});const r=this.currentOp(t);r&&r.onError(i)}removeExecutor(t,e,s){const{media:i,mediaSource:r}=this,n=this.tracks[t],o=null==n?void 0:n.buffer;if(!i||!r||!o)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void this.shiftAndExecuteNext(t);const a=Hy(i.duration)?i.duration:1/0,h=Hy(r.duration)?r.duration:1/0,l=Math.max(0,e),c=Math.min(s,a,h);c>l&&(!n.ending||n.ended)?(n.ended=!1,this.log(`Removing [${l},${c}] from the ${t} SourceBuffer`),o.remove(l,c)):this.shiftAndExecuteNext(t)}appendExecutor(t,e){const s=this.tracks[e],i=null==s?void 0:s.buffer;if(!i)throw new GE(`Attempting to append to the ${e} SourceBuffer, but it does not exist`);s.ending=!1,s.ended=!1,i.appendBuffer(t)}blockUntilOpen(t){if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch((t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}));else try{t()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some((([t,e])=>t&&e.updating))}isQueued(){return this.sourceBuffers.some((([t])=>t&&!!this.currentOp(t)))}isPending(t){return!!t&&!t.buffer}blockBuffers(t,e=this.sourceBufferTypes){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);const{operationQueue:s}=this,i=e.map((t=>this.appendBlocker(t)));return e.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then((e=>{s===this.operationQueue&&(t(),this.stepOperationQueue(this.sourceBufferTypes))}))}stepOperationQueue(t){t.forEach((t=>{var e;const s=null==(e=this.tracks[t])?void 0:e.buffer;s&&!s.updating&&this.shiftAndExecuteNext(t)}))}append(t,e,s){this.operationQueue&&this.operationQueue.append(t,e,s)}appendBlocker(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)}currentOp(t){return this.operationQueue?this.operationQueue.current(t):null}executeNext(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)}shiftAndExecuteNext(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)}get pendingTrackCount(){return Object.keys(this.tracks).reduce(((t,e)=>t+(this.isPending(this.tracks[e])?1:0)),0)}get sourceBufferCount(){return this.sourceBuffers.reduce(((t,[e])=>t+(e?1:0)),0)}get sourceBufferTypes(){return this.sourceBuffers.map((([t])=>t)).filter((t=>!!t))}addBufferListener(t,e,s){const i=this.tracks[t];if(!i)return;const r=i.buffer;if(!r)return;const n=s.bind(this,t);i.listeners.push({event:e,listener:n}),r.addEventListener(e,n)}removeBufferListeners(t){const e=this.tracks[t];if(!e)return;const s=e.buffer;s&&(e.listeners.forEach((t=>{s.removeEventListener(t.event,t.listener)})),e.listeners.length=0)}},capLevelController:KE,errorController:class extends cA{constructor(t){super("error-controller",t.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(Jy.ERROR,this.onError,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Jy.ERROR,this.onError,this),t.off(Jy.ERROR,this.onErrorOut,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===eA?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var s;if(e.fatal)return;const i=this.hls,r=e.context;switch(e.details){case Yy.FRAG_LOAD_ERROR:case Yy.FRAG_LOAD_TIMEOUT:case Yy.KEY_LOAD_ERROR:case Yy.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case Yy.FRAG_PARSING_ERROR:if(null!=(s=e.frag)&&s.gap)return void(e.errorAction=hb());case Yy.FRAG_GAP:case Yy.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=sb);case Yy.LEVEL_EMPTY_ERROR:case Yy.LEVEL_PARSING_ERROR:{var n,o;const t=e.parent===eA?e.level:i.loadLevel;e.details===Yy.LEVEL_EMPTY_ERROR&&null!=(n=e.context)&&null!=(o=n.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case Yy.LEVEL_LOAD_ERROR:case Yy.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==r?void 0:r.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,r.level)));case Yy.AUDIO_TRACK_LOAD_ERROR:case Yy.AUDIO_TRACK_LOAD_TIMEOUT:case Yy.SUBTITLE_LOAD_ERROR:case Yy.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const t=i.loadLevelObj;if(t&&(r.type===Zy&&t.hasAudioGroup(r.groupId)||r.type===tA&&t.hasSubtitleGroup(r.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=sb,void(e.errorAction.flags=ob)}return;case Yy.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=i.loadLevelObj,s=null==t?void 0:t.attrs["HDCP-LEVEL"];s?e.errorAction={action:sb,flags:ab,hdcpLevel:s}:this.keySystemError(e)}return;case Yy.BUFFER_ADD_CODEC_ERROR:case Yy.REMUX_ALLOC_ERROR:case Yy.BUFFER_APPEND_ERROR:var a;if(!e.errorAction)e.errorAction=this.getLevelSwitchAction(e,null!=(a=e.level)?a:i.loadLevel);return;case Yy.INTERNAL_EXCEPTION:case Yy.BUFFER_APPENDING_ERROR:case Yy.BUFFER_FULL_ERROR:case Yy.LEVEL_SWITCH_ERROR:case Yy.BUFFER_STALLED_ERROR:case Yy.BUFFER_SEEK_OVER_HOLE:case Yy.BUFFER_NUDGE_ON_STALL:return void(e.errorAction=hb())}e.type===Qy.KEY_SYSTEM_ERROR&&this.keySystemError(e)}keySystemError(t){const e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)}getPlaylistRetryOrSwitchAction(t,e){const s=Xv(this.hls.config.playlistLoadPolicy,t),i=this.playlistError++;if(tb(s,i,Jv(t),t.response))return{action:rb,flags:nb,retryConfig:s,retryCount:i};const r=this.getLevelSwitchAction(t,e);return s&&(r.retryConfig=s,r.retryCount=i),r}getFragRetryOrSwitchAction(t){const e=this.hls,s=this.getVariantLevelIndex(t.frag),i=e.levels[s],{fragLoadPolicy:r,keyLoadPolicy:n}=e.config,o=Xv(t.details.startsWith("key")?n:r,t),a=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(i){t.details!==Yy.FRAG_GAP&&i.fragmentError++;if(tb(o,a,Jv(t),t.response))return{action:rb,flags:nb,retryConfig:o,retryCount:a}}const h=this.getLevelSwitchAction(t,s);return o&&(h.retryConfig=o,h.retryCount=a),h}getLevelSwitchAction(t,e){const s=this.hls;null==e&&(e=s.loadLevel);const i=this.hls.levels[e];if(i){var r,n;const e=t.details;i.loadError++,e===Yy.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:l,loadLevel:c,minAutoLevel:d,maxAutoLevel:u}=s;s.autoLevelEnabled||s.config.preserveManualLevelOnError||(s.loadLevel=-1);const p=null==(r=t.frag)?void 0:r.type,f=(p===sA&&e===Yy.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===Yy.BUFFER_ADD_CODEC_ERROR||e===Yy.BUFFER_APPEND_ERROR))&&l.some((({audioCodec:t})=>i.audioCodec!==t)),m="video"===t.sourceBufferName&&(e===Yy.BUFFER_ADD_CODEC_ERROR||e===Yy.BUFFER_APPEND_ERROR)&&l.some((({codecSet:t,audioCodec:e})=>i.codecSet!==t&&i.audioCodec===e)),{type:g,groupId:y}=null!=(n=t.context)?n:{};for(let s=l.length;s--;){const r=(s+c)%l.length;if(r!==c&&r>=d&&r<=u&&0===l[r].loadError){var o,a;const s=l[r];if(e===Yy.FRAG_GAP&&p===eA&&t.frag){const e=l[r].details;if(e){const s=Kv(t.frag,e.fragments,t.frag.start);if(null!=s&&s.gap)continue}}else{if(g===Zy&&s.hasAudioGroup(y)||g===tA&&s.hasSubtitleGroup(y))continue;if(p===sA&&null!=(o=i.audioGroups)&&o.some((t=>s.hasAudioGroup(t)))||p===iA&&null!=(a=i.subtitleGroups)&&a.some((t=>s.hasSubtitleGroup(t)))||f&&i.audioCodec===s.audioCodec||!f&&i.audioCodec!==s.audioCodec||m&&i.codecSet===s.codecSet)continue}h=r;break}}if(h>-1&&s.loadLevel!==h)return t.levelRetry=!0,this.playlistError=0,{action:sb,flags:nb,nextAutoLevel:h}}return{action:sb,flags:ob}}onErrorOut(t,e){var s;switch(null==(s=e.errorAction)?void 0:s.action){case eb:break;case sb:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===Yy.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,s=t.errorAction;if(!s)return;const{flags:i,hdcpLevel:r,nextAutoLevel:n}=s;switch(i){case nb:this.switchLevel(t,n);break;case ab:r&&(e.maxHdcpLevel=kv[kv.indexOf(r)-1],s.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}s.resolved||this.switchLevel(t,n)}switchLevel(t,e){if(void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===Yy.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&"audiovideo"!==t.sourceBufferName)){const e=bv(t.mimeType),s=this.hls.levels;for(let i=s.length;i--;)s[i][`${t.sourceBufferName}Codec`]===e&&this.hls.removeLevel(i)}}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const s=this.hls.config;if(s.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),s.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(t,e,s){const i=performance.now();if(e){if(this.lastTime){const t=i-this.lastTime,r=s-this.lastDroppedFrames,n=e-this.lastDecodedFrames,o=1e3*r/t,a=this.hls;if(a.trigger(Jy.FPS_DROP,{currentDropped:r,currentDecoded:n,totalDroppedFrames:s}),o>0&&r>a.config.fpsDroppedMonitoringThreshold*n){let t=a.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===a.autoLevelCapping||a.autoLevelCapping>=t)&&(t-=1,a.trigger(Jy.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:a.currentLevel}),a.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=s,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:hS,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:VI,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends nw{constructor(t,e,s){super(t,e,s,"subtitle-stream-controller",iA),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Jy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Jy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(Jy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Jy.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Jy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Jy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(Jy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Jy.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(t,e){this.stopLoad(),this.state=QS,this.setInterval(500),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(t,e){this.tracksBuffered=[],super.onMediaDetaching(t,e)}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:s,success:i}=e;if(RA(s)&&(this.fragPrevious=s),this.state=QS,!i)return;const r=this.tracksBuffered[this.currentTrackId];if(!r)return;let n;const o=s.start;for(let t=0;t<r.length;t++)if(o>=r[t].start&&o<=r[t].end){n=r[t];break}const a=s.start+s.duration;n?n.end=a:(n={start:o,end:a},r.push(n)),this.fragmentTracker.fragBuffered(s),this.fragBufferedComplete(s,null),this.media&&this.tick()}onBufferFlushing(t,e){const{startOffset:s,endOffset:i}=e;if(0===s&&i!==Number.POSITIVE_INFINITY){const t=i-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach((e=>{for(let s=0;s<e.length;)if(e[s].end<=t)e.shift();else{if(!(e[s].start<t))break;e[s].start=t,s++}})),this.fragmentTracker.removeFragmentsInRange(s,t,iA)}}onError(t,e){const s=e.frag;(null==s?void 0:s.type)===iA&&(e.details===Yy.FRAG_GAP&&this.fragmentTracker.fragBuffered(s,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==qS&&(this.state=QS))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&UE(this.levels,e)?this.levels=e.map((t=>new xv(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new xv(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,iA),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var s;if(this.currentTrackId=e.id,null==(s=this.levels)||!s.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];null!=i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==qS&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var s;const{currentTrackId:i,levels:r}=this,{details:n,id:o}=e;if(!r)return void this.warn(`Subtitle tracks were reset while loading level ${o}`);const a=r[o];if(o>=r.length||!a)return;this.log(`Subtitle track ${o} loaded [${n.startSN},${n.endSN}]${n.lastPartSn?`[part-${n.lastPartSn}-${n.lastPartIndex}]`:""},duration:${n.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let h=0;if(n.live||null!=(s=a.details)&&s.live){const t=this.mainDetails;if(n.deltaUpdateFailed||!t)return;const e=t.fragments[0];var l;if(a.details)h=this.alignPlaylists(n,a.details,null==(l=this.levelLastLoaded)?void 0:l.details),0===h&&e&&(h=e.start,BS(n,h));else n.hasProgramDateTime&&t.hasProgramDateTime?(HS(n,t),h=n.fragmentStart):e&&(h=e.start,BS(n,h))}if(a.details=n,this.levelLastLoaded=a,o===i&&(this.hls.trigger(Jy.SUBTITLE_TRACK_UPDATED,{details:n,id:o,groupId:e.groupId}),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===QS)){Kv(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),a.details=void 0)}}_handleFragmentLoadComplete(t){const{frag:e,payload:s}=t,i=e.decryptdata,r=this.hls;if(!this.fragContextChanged(e)&&s&&s.byteLength>0&&null!=i&&i.key&&i.iv&&Gb(i.method)){const t=performance.now();this.decrypter.decrypt(new Uint8Array(s),i.key.buffer,i.iv.buffer,zb(i.method)).catch((t=>{throw r.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((s=>{const i=performance.now();r.trigger(Jy.FRAG_DECRYPTED,{frag:e,payload:s,stats:{tstart:t,tdecrypt:i}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=QS}))}}doTick(){if(this.media){if(this.state===QS){const{currentTrackId:t,levels:e}=this,s=null==e?void 0:e[t];if(!s||!e.length||!s.details)return;if(this.waitForLive(s))return;const{config:i}=this,r=this.getLoadPosition(),n=Lb.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,i.maxBufferHole),{end:o,len:a}=n,h=s.details;if(a>this.hls.maxBufferLength+h.levelTargetDuration)return;const l=h.fragments,c=l.length,d=h.edge;let u=null;const p=this.fragPrevious;if(o<d){const t=i.maxFragLookUpTolerance,e=o>d-t?0:t;u=Kv(p,l,Math.max(l[0].start,o),e),!u&&p&&p.start<l[0].start&&(u=l[0])}else u=l[c-1];if(u=this.filterReplacedPrimary(u,s.details),!u)return;const f=l[u.sn-h.startSN-1];if(f&&f.cc===u.cc&&this.fragmentTracker.getState(f)===lb&&(u=f),this.fragmentTracker.getState(u)===lb){const t=this.mapToInitFragWhenRequired(u);t&&this.loadFragment(t,s,o)}}}else this.state=QS}loadFragment(t,e,s){RA(t)?super.loadFragment(t,e,s):this._loadInitSegment(t,e)}get mediaBufferTimeRanges(){return new KT(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends FE{constructor(t){super(t,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=LT(this.media.textTracks);for(let s=0;s<e.length;s++)if("hidden"===e[s].mode)t=e[s];else if("showing"===e[s].mode){t=e[s];break}const s=this.findTrackForTextTrack(t);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Jy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Jy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Jy.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(t,e){const s=this.media;if(!s)return;const i=!!e.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||s.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;LT(s.textTracks).forEach((t=>{DT(t)}))}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:s,groupId:i,details:r}=e,n=this.tracksInGroup[s];if(!n||n.groupId!==i)return void this.warn(`Subtitle track with id:${s} and group:${i} not found in active group ${null==n?void 0:n.groupId}`);const o=n.details;n.details=e.details,this.log(`Subtitle track ${s} "${n.name}" lang:${n.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),s===this.trackId&&this.playlistLoaded(s,e,o)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const s=e.subtitleGroups||null,i=this.groupIds;let r=this.currentTrack;if(!s||(null==i?void 0:i.length)!==(null==s?void 0:s.length)||null!=s&&s.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!s||-1!==s.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!r&&e){this.selectDefaultTrack=!1;const s=jv(e,t);if(s>-1)r=t[s];else{const t=jv(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const n={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==s?void 0:s.join(",")}" group-id`),this.hls.trigger(Jy.SUBTITLE_TRACKS_UPDATED,n),-1!==i&&-1===this.trackId&&this.setSubtitleTrack(i)}}findTrackId(t){const e=this.tracksInGroup,s=this.selectDefaultTrack;for(let i=0;i<e.length;i++){const r=e[i];if((!s||r.default)&&(s||t)&&(!t||Vv(r,t)))return i}if(t){for(let s=0;s<e.length;s++){const i=e[s];if(OE(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<e.length;s++){const i=e[s];if(OE(t.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let s=0;s<e.length;s++){if(NE(e[s],t))return s}}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==tA||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){if(-1===t.id)return this.setSubtitleTrack(-1),null;const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const s=this.currentTrack;if(s&&Vv(t,s))return s;const i=jv(t,this.tracksInGroup);if(i>-1){const t=this.tracksInGroup[i];return this.setSubtitleTrack(i),t}if(s)return null;{const s=jv(t,e);if(s>-1)return e[s]}}}return null}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),n=t.details,o=null==n?void 0:n.age;this.log(`Loading subtitle ${s} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${r}`),this.hls.trigger(Jy.SUBTITLE_TRACK_LOADING,{url:r,id:s,groupId:i,deliveryDirectives:e||null,track:t})}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=LT(t.textTracks),s=this.currentTrack;let i;if(s&&(i=e.filter((t=>NE(s,t)))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${s.name}" and language "${s.lang}"`)),[].slice.call(e).forEach((t=>{"disabled"!==t.mode&&t!==i&&(t.mode="disabled")})),i){const t=this.subtitleDisplay?"showing":"hidden";i.mode!==t&&(i.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!Hy(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.selectDefaultTrack=!1;const s=this.currentTrack,i=e[t]||null;if(this.trackId=t,this.currentTrack=i,this.toggleTrackModes(),!i)return void this.hls.trigger(Jy.SUBTITLE_TRACK_SWITCH,{id:t});const r=!!i.details&&!i.details.live;if(t===this.trackId&&i===s&&r)return;this.log(`Switching to subtitle-track ${t}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:n,groupId:o="",name:a,type:h,url:l}=i;this.hls.trigger(Jy.SUBTITLE_TRACK_SWITCH,{id:n,groupId:o,name:a,type:h,url:l});const c=this.switchParams(i.url,null==s?void 0:s.details,i.details);this.loadPlaylist(c)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Jy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Jy.FRAG_LOADING,this.onFragLoading,this),t.on(Jy.FRAG_LOADED,this.onFragLoaded,this),t.on(Jy.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(Jy.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(Jy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Jy.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Jy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Jy.FRAG_LOADING,this.onFragLoading,this),t.off(Jy.FRAG_LOADED,this.onFragLoaded,this),t.off(Jy.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(Jy.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(Jy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Jy.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const t=new UI(this,"textTrack1"),e=new UI(this,"textTrack2"),s=new UI(this,"textTrack3"),i=new UI(this,"textTrack4");this.cea608Parser1=new lI(1,t,e),this.cea608Parser2=new lI(3,s,i)}addCues(t,e,s,i,r){let n=!1;for(let t=r.length;t--;){const i=r[t],c=(o=i[0],a=i[1],h=e,l=s,Math.min(a,l)-Math.max(o,h));if(c>=0&&(i[0]=Math.min(i[0],e),i[1]=Math.max(i[1],s),n=!0,c/(s-e)>.5))return}var o,a,h,l;if(n||r.push([e,s]),this.config.renderTextTracksNatively){const r=this.captionsTracks[t];this.Cues.newCue(r,e,s,i)}else{const r=this.Cues.newCue(null,e,s,i);this.hls.trigger(Jy.CUES_PARSED,{type:"captions",cues:r,track:t})}}onInitPtsFound(t,{frag:e,id:s,initPTS:i,timescale:r}){const{unparsedVttFrags:n}=this;s===eA&&(this.initPTS[e.cc]={baseTime:i,timescale:r}),n.length&&(this.unparsedVttFrags=[],n.forEach((t=>{this.onFragLoaded(Jy.FRAG_LOADED,t)})))}getExistingTrack(t,e){const{media:s}=this;if(s)for(let i=0;i<s.textTracks.length;i++){const r=s.textTracks[i];if(NI(r,{name:t,lang:e,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return r}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:s,media:i}=this,{label:r,languageCode:n}=e[t],o=this.getExistingTrack(r,n);if(o)s[t]=o,DT(s[t]),_T(s[t],i);else{const e=this.createTextTrack("captions",r,n);e&&(e[t]=!0,s[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const s={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=s,this.hls.trigger(Jy.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(t,e,s){const i=this.media;if(i)return i.addTextTrack(t,e,s)}onMediaAttaching(t,e){this.media=e.media,e.mediaSource||this._cleanTracks()}onMediaDetaching(t,e){const s=!!e.transferMedia;if(this.media=null,s)return;const{captionsTracks:i}=this;Object.keys(i).forEach((t=>{DT(i[t]),delete i[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)DT(e[t])}onSubtitleTracksUpdated(t,e){const s=e.subtitleTracks||[],i=s.some((t=>t.textCodec===kI));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(UE(this.tracks,s))return void(this.tracks=s);if(this.textTracks=[],this.tracks=s,this.config.renderTextTracksNatively){const t=this.media,e=t?LT(t.textTracks):null;if(this.tracks.forEach(((t,s)=>{let i;if(e){let s=null;for(let i=0;i<e.length;i++)if(e[i]&&NI(e[i],t)){s=e[i],e[i]=null;break}s&&(i=s)}if(i)DT(i);else{const e=OI(t);i=this.createTextTrack(e,t.name,t.lang),i&&(i.mode="disabled")}i&&this.textTracks.push(i)})),null!=e&&e.length){const t=e.filter((t=>null!==t)).map((t=>t.label));t.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(Jy.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const s=`textTrack${e[1]}`,i=this.captionsProperties[s];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){if(this.enabled&&e.frag.type===eA){var s,i;const{cea608Parser1:t,cea608Parser2:r,lastSn:n}=this,{cc:o,sn:a}=e.frag,h=null!=(s=null==(i=e.part)?void 0:i.index)?s:-1;t&&r&&(a!==n+1||a===n&&h!==this.lastPartIndex+1||o!==this.lastCc)&&(t.reset(),r.reset()),this.lastCc=o,this.lastSn=a,this.lastPartIndex=h}}onFragLoaded(t,e){const{frag:s,payload:i}=e;if(s.type===iA)if(i.byteLength){const t=s.decryptdata,r="stats"in e;if(null==t||!t.encrypted||r){const t=this.tracks[s.level],r=this.vttCCs;r[s.cc]||(r[s.cc]={start:s.start,prevCC:this.prevCC,new:!0},this.prevCC=s.cc),t&&t.textCodec===kI?this._parseIMSC1(s,i):this._parseVTTs(e)}}else this.hls.trigger(Jy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const s=this.hls;RI(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),s.trigger(Jy.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{s.logger.log(`Failed to parse IMSC1: ${e}`),s.trigger(Jy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t){var e;const{frag:s,payload:i}=t,{initPTS:r,unparsedVttFrags:n}=this,o=r.length-1;if(!r[s.cc]&&-1===o)return void n.push(t);const a=this.hls;II(null!=(e=s.initSegment)&&e.data?$A(s.initSegment.data,new Uint8Array(i)).buffer:i,this.initPTS[s.cc],this.vttCCs,s.cc,s.start,(t=>{this._appendCues(t,s.level),a.trigger(Jy.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:s})}),(e=>{const r="Missing initPTS for VTT MPEGTS"===e.message;r?n.push(t):this._fallbackToIMSC1(s,i),a.logger.log(`Failed to parse VTT cue: ${e}`),r&&o>s.cc||a.trigger(Jy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:e})}))}_fallbackToIMSC1(t,e){const s=this.tracks[t.level];s.textCodec||RI(e,this.initPTS[t.cc],(()=>{s.textCodec=kI,this._parseIMSC1(t,e)}),(()=>{s.textCodec="wvtt"}))}_appendCues(t,e){const s=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[e];if(!s||"disabled"===s.mode)return;t.forEach((t=>CT(s,t)))}else{const i=this.tracks[e];if(!i)return;const r=i.default?"default":"subtitles"+e;s.trigger(Jy.CUES_PARSED,{type:"subtitles",cues:t,track:r})}}onFragDecrypted(t,e){const{frag:s}=e;s.type===iA&&this.onFragLoaded(Jy.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:s,samples:i}=e;if(s.type!==eA||"NONE"!==this.closedCaptionsForLevel(s))for(let t=0;t<i.length;t++){const e=i[t].bytes;if(e){this.cea608Parser1||this.initCea608Parsers();const s=this.extractCea608Data(e);this.cea608Parser1.addData(i[t].pts,s[0]),this.cea608Parser2.addData(i[t].pts,s[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:s,endOffsetSubtitles:i,type:r}){const{media:n}=this;if(n&&!(n.currentTime<s)){if(!r||"video"===r){const{captionsTracks:t}=this;Object.keys(t).forEach((i=>RT(t[i],e,s)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==i){const{textTracks:t}=this;Object.keys(t).forEach((s=>RT(t[s],e,i)))}}}extractCea608Data(t){const e=[[],[]],s=31&t[0];let i=2;for(let r=0;r<s;r++){const s=t[i++],r=127&t[i++],n=127&t[i++];if(0===r&&0===n)continue;if(0!=(4&s)){const t=3&s;0!==t&&1!==t||(e[t].push(r),e[t].push(n))}}return e}},audioStreamController:class extends nw{constructor(t,e,s){super(t,e,s,"audio-stream-controller",sA),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Jy.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Jy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Jy.BUFFER_RESET,this.onBufferReset,this),t.on(Jy.BUFFER_CREATED,this.onBufferCreated,this),t.on(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Jy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Jy.FRAG_LOADING,this.onFragLoading,this),t.on(Jy.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:t}=this;t&&(super.unregisterListeners(),t.off(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Jy.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Jy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Jy.BUFFER_RESET,this.onBufferReset,this),t.off(Jy.BUFFER_CREATED,this.onBufferCreated,this),t.off(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Jy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Jy.FRAG_LOADING,this.onFragLoading,this),t.off(Jy.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(t,{frag:e,id:s,initPTS:i,timescale:r}){if(s===eA){const t=e.cc,s=this.fragCurrent;if(this.initPTS[t]={baseTime:i,timescale:r},this.log(`InitPTS for cc: ${t} found from main: ${i}/${r}`),this.mainAnchor=e,this.state===iw){const s=this.waitingData;(!s&&!this.loadingParts||s&&s.frag.cc!==t)&&this.syncWithAnchor(e,null==s?void 0:s.frag)}else!this.hls.hasEnoughToStart&&s&&s.cc!==t?(s.abortRequests(),this.syncWithAnchor(e,s)):this.state===QS&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(t,e){var s;const i=(null==(s=this.mainFragLoading)?void 0:s.frag)||null;if(e&&(null==i?void 0:i.cc)===e.cc)return;const r=(i||t).cc,n=Yv(this.getLevelDetails(),r,this.getLoadPosition());n&&(this.log(`Waiting fragment cc (${null==e?void 0:e.cc}) cancelled because video is at cc ${t.cc}`),this.startFragRequested=!1,this.nextLoadPosition=n.start,this.resetLoadingState(),this.state===QS&&this.doTickIdle())}startLoad(t,e){if(!this.levels)return this.startPosition=t,void(this.state=qS);const s=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),s>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),t=s,this.state=QS):this.state=$S,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}doTick(){switch(this.state){case QS:this.doTickIdle();break;case $S:{const{levels:t,trackId:e}=this,s=null==t?void 0:t[e],i=null==s?void 0:s.details;if(i&&!this.waitForLive(s)){if(this.waitForCdnTuneIn(i))break;this.state=iw}break}case XS:{var t;const e=performance.now(),s=this.retryDate;if(!s||e>=s||null!=(t=this.media)&&t.seeking){const{levels:t,trackId:e}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==t?void 0:t[e])||null),this.state=QS}break}case iw:{const t=this.waitingData;if(t){const{frag:e,part:s,cache:i,complete:r}=t,n=this.mainAnchor;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.state=JS;const t={frag:e,part:s,payload:i.flush().buffer,networkDetails:null};this._handleFragmentLoadProgress(t),r&&super._handleFragmentLoadComplete(t)}else n&&n.cc!==t.frag.cc&&this.syncWithAnchor(n,t.frag)}else this.state=QS}}this.onTickEnd()}resetLoadingState(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){var t;const{hls:e,levels:s,media:i,trackId:r}=this,n=e.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!n.startFragPrefetch)||null==s||!s[r])return;const o=s[r],a=o.details;if(!a||this.waitForLive(o)||this.waitForCdnTuneIn(a))return this.state=$S,void(this.startFragRequested=!1);const h=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&h&&(this.bufferFlushed=!1,this.afterBufferFlushed(h,kA,sA));const l=this.getFwdBufferInfo(h,sA);if(null===l)return;if(!this.switchingTrack&&this._streamEnded(l,a))return e.trigger(Jy.BUFFER_EOS,{type:"audio"}),void(this.state=ew);const c=l.len,d=e.maxBufferLength,u=a.fragments,p=u[0].start,f=this.getLoadPosition(),m=this.flushing?f:l.end;if(this.switchingTrack&&i){const t=f;a.PTSKnown&&t<p&&(l.end>p||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=p+.05)}if(c>=d&&!this.switchingTrack&&m<u[u.length-1].start)return;let g=this.getNextFragment(m,a);if(g&&this.isLoopLoading(g,m)&&(g=this.getNextFragmentLoopLoading(g,a,l,eA,d)),!g)return void(this.bufferFlushed=!0);let y=(null==(t=this.mainFragLoading)?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&y&&RA(g)&&!g.endList&&(!a.live||!this.loadingParts&&m<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(y)===ub&&(this.mainFragLoading=y=null),y&&RA(y))){if(g.start>y.end){const t=this.fragmentTracker.getFragAtPos(m,eA);t&&t.end>y.end&&(y=t,this.mainFragLoading={frag:t,targetBufferTime:null})}if(g.start>y.end)return}this.loadFragment(g,o,m)}onMediaDetaching(t,e){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(t,e)}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new xv(t)))}onAudioTrackSwitching(t,e){const s=!!e.url;this.trackId=e.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),s?(this.switchingTrack=e,this.flushAudioIfNeeded(e),this.state!==qS&&(this.setInterval(100),this.state=QS,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=e,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(t,e){this.mainDetails=e.details;const s=this.cachedTrackLoadedData;s&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Jy.AUDIO_TRACK_LOADED,s))}onAudioTrackLoaded(t,e){var s;const{levels:i}=this,{details:r,id:n,groupId:o,track:a}=e;if(!i)return void this.warn(`Audio tracks reset while loading track ${n} "${a.name}" of "${o}"`);const h=this.mainDetails;if(!h||r.endCC>h.endCC||h.expired)return this.cachedTrackLoadedData=e,void(this.state!==qS&&(this.state=$S));this.cachedTrackLoadedData=null,this.log(`Audio track ${n} "${a.name}" of "${o}" loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);const l=i[n];let c=0;if(r.live||null!=(s=l.details)&&s.live){if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;var d;if(l.details)c=this.alignPlaylists(r,l.details,null==(d=this.levelLastLoaded)?void 0:d.details);r.alignedSliding||(zS(r,h),r.alignedSliding||HS(r,h),c=r.fragmentStart)}l.details=r,this.levelLastLoaded=l,this.startFragRequested||this.setStartPosition(h,c),this.hls.trigger(Jy.AUDIO_TRACK_UPDATED,{details:r,id:n,groupId:e.groupId}),this.state!==$S||this.waitForCdnTuneIn(r)||(this.state=QS),this.tick()}_handleFragmentLoadProgress(t){var e;const s=t.frag,{part:i,payload:r}=t,{config:n,trackId:o,levels:a}=this;if(!a)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);const h=a[o];if(!h)return void this.warn("Audio track is undefined on fragment load progress");const l=h.details;if(!l)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(s.start);const c=n.defaultAudioCodec||h.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new BE(this.hls,sA,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const u=this.initPTS[s.cc],p=null==(e=s.initSegment)?void 0:e.data;if(void 0!==u){const t=!1,e=i?i.index:-1,n=-1!==e,o=new Db(s.level,s.sn,s.stats.chunkCount,r.byteLength,e,n);d.push(r,p,c,"",s,i,l.totalduration,t,o,u)}else{this.log(`Unknown video PTS for cc ${s.cc}, waiting for video PTS before demuxing audio frag ${s.sn} of [${l.startSN} ,${l.endSN}],track ${o}`);const{cache:t}=this.waitingData=this.waitingData||{frag:s,part:i,cache:new aw,complete:!1};t.push(new Uint8Array(r)),this.state!==qS&&(this.state=iw)}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(t,e){this.bufferFlushed=this.flushing=!1;const s=e.tracks.audio;s&&(this.mediaBuffer=s.buffer||null)}onFragLoading(t,e){!this.audioOnly&&e.frag.type===eA&&RA(e.frag)&&(this.mainFragLoading=e,this.state===QS&&this.tick())}onFragBuffered(t,e){const{frag:s,part:i}=e;if(s.type===sA)if(this.fragContextChanged(s))this.warn(`Fragment ${s.sn}${i?" p: "+i.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if(RA(s)){this.fragPrevious=s;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(Jy.AUDIO_TRACK_SWITCHED,lA({},t)))}this.fragBufferedComplete(s,i),this.media&&this.tick()}else this.audioOnly||s.type!==eA||s.elementaryStreams.video||s.elementaryStreams.audiovideo||(this.audioOnly=!0,this.mainFragLoading=null)}onError(t,e){var s;if(e.fatal)this.state=sw;else switch(e.details){case Yy.FRAG_GAP:case Yy.FRAG_PARSING_ERROR:case Yy.FRAG_DECRYPT_ERROR:case Yy.FRAG_LOAD_ERROR:case Yy.FRAG_LOAD_TIMEOUT:case Yy.KEY_LOAD_ERROR:case Yy.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(sA,e);break;case Yy.AUDIO_TRACK_LOAD_ERROR:case Yy.AUDIO_TRACK_LOAD_TIMEOUT:case Yy.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==$S||(null==(s=e.context)?void 0:s.type)!==Zy||(this.state=QS);break;case Yy.BUFFER_ADD_CODEC_ERROR:case Yy.BUFFER_APPEND_ERROR:if("audio"!==e.parent)return;this.resetLoadingState();break;case Yy.BUFFER_FULL_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Yy.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==_A&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==_A){this.flushing=!1,this.bufferFlushed=!0,this.state===ew&&(this.state=QS);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,sA),this.tick())}}_handleTransmuxComplete(t){var e;const s="audio",{hls:i}=this,{remuxResult:r,chunkMeta:n}=t,o=this.getCurrentContext(n);if(!o)return void this.resetWhenMissingContext(n);const{frag:a,part:h,level:l}=o,{details:c}=l,{audio:d,text:u,id3:p,initSegment:f}=r;if(!this.fragContextChanged(a)&&c){if(this.state=ZS,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=f&&f.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,f.tracks,t,n),i.trigger(Jy.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:s,tracks:f.tracks})}if(d){const{startPTS:t,endPTS:e,startDTS:s,endDTS:i}=d;h&&(h.elementaryStreams[kA]={startPTS:t,endPTS:e,startDTS:s,endDTS:i}),a.setElementaryStreamInfo(kA,t,e,s,i),this.bufferFragmentData(d,a,h,n)}if(null!=p&&null!=(e=p.samples)&&e.length){const t=aA({id:s,frag:a,details:c},p);i.trigger(Jy.FRAG_PARSING_METADATA,t)}if(u){const t=aA({id:s,frag:a,details:c},u);i.trigger(Jy.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(a)}_bufferInitSegment(t,e,s,i){if(this.state!==ZS)return;if(e.video&&delete e.video,e.audiovideo&&delete e.audiovideo,!e.audio)return;const r=e.audio;r.id=sA;const n=t.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${n}/${r.codec}]`),n&&1===n.split(",").length&&(r.levelCodec=n),this.hls.trigger(Jy.BUFFER_CODECS,e);const o=r.initSegment;if(null!=o&&o.byteLength){const t={type:"audio",frag:s,part:null,chunkMeta:i,parent:s.type,data:o};this.hls.trigger(Jy.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,s){const i=this.fragmentTracker.getState(t);var r;if(this.switchingTrack||i===lb||i===db)if(RA(t))if(null!=(r=e.details)&&r.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=iw;const s=this.mainDetails;s&&s.fragmentStart!==e.details.fragmentStart&&HS(e.details,s)}else super.loadFragment(t,e,s);else this._loadInitSegment(t,e);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){if(this.media&&this.bufferedTrack){const{name:e,lang:s,assocLang:i,characteristics:r,audioCodec:n,channels:o}=this.bufferedTrack;Vv({name:e,lang:s,assocLang:i,characteristics:r,audioCodec:n,channels:o},t,Wv)||(zv(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(Jy.AUDIO_TRACK_SWITCHED,lA({},t))}},audioTrackController:class extends FE{constructor(t){super(t,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Jy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Jy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Jy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Jy.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:s,groupId:i,details:r}=e,n=this.tracksInGroup[s];if(!n||n.groupId!==i)return void this.warn(`Audio track with id:${s} and group:${i} not found in active group ${null==n?void 0:n.groupId}`);const o=n.details;n.details=e.details,this.log(`Audio track ${s} "${n.name}" lang:${n.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),s===this.trackId&&this.playlistLoaded(s,e,o)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const s=e.audioGroups||null,i=this.groupIds;let r=this.currentTrack;if(!s||(null==i?void 0:i.length)!==(null==s?void 0:s.length)||null!=s&&s.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!s||-1!==s.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!r&&e){const s=jv(e,t,Wv);if(s>-1)r=t[s];else{const t=jv(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const o={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==s?void 0:s.join(",")}`),this.hls.trigger(Jy.AUDIO_TRACKS_UPDATED,o);const a=this.trackId;if(-1!==i&&-1===a)this.setAudioTrack(i);else if(t.length&&-1===a){var n;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(n=this.groupIds)?void 0:n.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}}onError(t,e){!e.fatal&&e.context&&(e.context.type!==Zy||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const s=this.allAudioTracks;if(this.selectDefaultTrack=!1,s.length){const i=this.currentTrack;if(i&&Vv(t,i,Wv))return i;const r=jv(t,this.tracksInGroup,Wv);if(r>-1){const t=this.tracksInGroup[r];return this.setAudioTrack(r),t}if(i){let i=e.loadLevel;-1===i&&(i=e.firstAutoLevel);const r=function(t,e,s,i,r){const n=e[i],o=e.reduce(((t,e,s)=>{const i=e.uri;return(t[i]||(t[i]=[])).push(s),t}),{})[n.uri];o.length>1&&(i=Math.max.apply(Math,o));const a=n.videoRange,h=n.frameRate,l=n.codecSet.substring(0,4),c=Gv(e,i,(e=>{if(e.videoRange!==a||e.frameRate!==h||e.codecSet.substring(0,4)!==l)return!1;const i=e.audioGroups,n=s.filter((t=>!i||-1!==i.indexOf(t.groupId)));return jv(t,n,r)>-1}));return c>-1?c:Gv(e,i,(e=>{const i=e.audioGroups,n=s.filter((t=>!i||-1!==i.indexOf(t.groupId)));return jv(t,n,r)>-1}))}(t,e.levels,s,i,Wv);if(-1===r)return null;e.nextLoadLevel=r}if(t.channels||t.audioCodec){const e=jv(t,s);if(e>-1)return s[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn(`Invalid audio track id: ${t}`);this.selectDefaultTrack=!1;const s=this.currentTrack,i=e[t],r=i.details&&!i.details.live;if(t===this.trackId&&i===s&&r)return;if(this.log(`Switching to audio-track ${t} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=t,this.currentTrack=i,this.hls.trigger(Jy.AUDIO_TRACK_SWITCHING,lA({},i)),r)return;const n=this.switchParams(i.url,null==s?void 0:s.details,i.details);this.loadPlaylist(n)}findTrackId(t){const e=this.tracksInGroup;for(let s=0;s<e.length;s++){const i=e[s];if((!this.selectDefaultTrack||i.default)&&(!t||Vv(t,i,Wv)))return s}if(t){const{name:s,lang:i,assocLang:r,characteristics:n,audioCodec:o,channels:a}=t;for(let t=0;t<e.length;t++){if(Vv({name:s,lang:i,assocLang:r,characteristics:n,audioCodec:o,channels:a},e[t],Wv))return t}for(let s=0;s<e.length;s++){const i=e[s];if(OE(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<e.length;s++){const i=e[s];if(OE(t.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;this.shouldLoadPlaylist(e)&&zv(e.url,this.hls)&&this.scheduleLoading(e,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),n=t.details,o=null==n?void 0:n.age;this.log(`Loading audio-track ${s} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${r}`),this.hls.trigger(Jy.AUDIO_TRACK_LOADING,{url:r,id:s,groupId:i,deliveryDirectives:e||null,track:t})}},emeController:IT,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:qE.MANIFEST,su:!this.initialized})}catch(t){this.hls.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const{frag:e,part:s}=t,i=this.hls.levels[e.level],r=this.getObjectType(e),n={d:1e3*(s||e).duration,ot:r};r!==qE.VIDEO&&r!==qE.AUDIO&&r!=qE.MUXED||(n.br=i.bitrate/1e3,n.tb=this.getTopBandwidth(r)/1e3,n.bl=this.getBufferLength(r));const o=s?this.getNextPart(s):this.getNextFrag(e);null!=o&&o.url&&o.url!==e.url&&(n.nor=o.url),this.apply(t,n)}catch(t){this.hls.logger.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:s}=e;null!=s&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=s.sessionId||t.sessionId,this.cid=s.contentId,this.useHeaders=!0===s.useHeaders,this.includeKeys=s.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHED,this.onMediaDetached,this),t.on(Jy.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHED,this.onMediaDetached,this),t.off(Jy.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var s,i;this.audioBuffer=null==(s=e.tracks.audio)?void 0:s.buffer,this.videoBuffer=null==(i=e.tracks.video)?void 0:i.buffer}createData(){var t;return{v:1,sf:QE.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){aA(e,this.createData());const s=e.ot===qE.INIT||e.ot===qE.VIDEO||e.ot===qE.MUXED;this.starved&&s&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:i}=this;i&&(e=Object.keys(e).reduce(((t,s)=>(i.includes(s)&&(t[s]=e[s]),t)),{}));const r={baseUrl:t.url};this.useHeaders?(t.headers||(t.headers={}),AT(t.headers,e,r)):t.url=bT(t.url,e,r)}getNextFrag(t){var e;const s=null==(e=this.hls.levels[t.level])?void 0:e.details;if(s){const e=t.sn-s.startSN;return s.fragments[e+1]}}getNextPart(t){var e,s;const{index:i,fragment:r}=t,n=null==(e=this.hls.levels[r.level])||null==(s=e.details)?void 0:s.partList;if(n){const{sn:t}=r;for(let e=n.length-1;e>=0;e--){const s=n[e];if(s.index===i&&s.fragment.sn===t)return n[e+1]}}}getObjectType(t){const{type:e}=t;return"subtitle"===e?qE.TIMED_TEXT:"initSegment"===t.sn?qE.INIT:"audio"===e?qE.AUDIO:"main"===e?this.hls.audioTracks.length?qE.VIDEO:qE.MUXED:void 0}getTopBandwidth(t){let e,s=0;const i=this.hls;if(t===qE.AUDIO)e=i.audioTracks;else{const t=i.maxAutoLevel,s=t>-1?t+1:i.levels.length;e=i.levels.slice(0,s)}return e.forEach((t=>{t.bitrate>s&&(s=t.bitrate)})),s>0?s:NaN}getBufferLength(t){const e=this.media,s=t===qE.AUDIO?this.audioBuffer:this.videoBuffer;if(!s||!e)return NaN;return 1e3*Lb.bufferInfo(s,e.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,s=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new s(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,s,i){e(t),this.loader.load(t,s,i)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,s=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new s(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,s,i){e(t),this.loader.load(t,s,i)}}}},contentSteeringController:class extends cA{constructor(t){super("content-steering",t.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(t){this.updatePathwayPriority(t)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:s}=e;null!==s&&(this.pathwayId=s.pathwayId,this.uri=s.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:s}=e;if((null==s?void 0:s.action)===sb&&s.flags===ob){const t=this.levels;let i=this._pathwayPriority,r=this.pathwayId;if(e.context){const{groupId:s,pathwayId:i,type:n}=e.context;s&&t?r=this.getPathwayForGroupId(s,n,r):i&&(r=i)}r in this.penalizedPathways||(this.penalizedPathways[r]=performance.now()),!i&&t&&(i=this.pathways()),i&&i.length>1&&(this.updatePathwayPriority(i),s.resolved=this.pathwayId!==r),s.resolved||this.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${r} levels: ${t?t.length:t} priorities: ${Fv(i)} penalized: ${Fv(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const s=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${s}"`),e=this.getLevelsForPathway(s),this.pathwayId=s}return e.length!==t.length&&this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this._pathwayPriority=t;const s=this.penalizedPathways,i=performance.now();Object.keys(s).forEach((t=>{i-s[t]>3e5&&delete s[t]}));for(let i=0;i<t.length;i++){const r=t[i];if(r in s)continue;if(r===this.pathwayId)return;const n=this.hls.nextLoadLevel,o=this.hls.levels[n];if(e=this.getLevelsForPathway(r),e.length>0){this.log(`Setting Pathway to "${r}"`),this.pathwayId=r,jS(e),this.hls.trigger(Jy.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[n];o&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==o.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==o.bitrate&&this.log(`Unstable Pathways change from bitrate ${o.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=n);break}}}getPathwayForGroupId(t,e,s){const i=this.getLevelsForPathway(s).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(e===Zy&&i[s].hasAudioGroup(t)||e===tA&&i[s].hasSubtitleGroup(t))return i[s].pathwayId;return s}clonePathways(t){const e=this.levels;if(!e)return;const s={},i={};t.forEach((t=>{const{ID:r,"BASE-ID":n,"URI-REPLACEMENT":o}=t;if(e.some((t=>t.pathwayId===r)))return;const a=this.getLevelsForPathway(n).map((t=>{const e=new Nb(t.attrs);e["PATHWAY-ID"]=r;const n=e.AUDIO&&`${e.AUDIO}_clone_${r}`,a=e.SUBTITLES&&`${e.SUBTITLES}_clone_${r}`;n&&(s[e.AUDIO]=n,e.AUDIO=n),a&&(i[e.SUBTITLES]=a,e.SUBTITLES=a);const h=wT(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",o),l=new xv({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:h,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let e=1;e<t.audioGroups.length;e++)l.addGroupId("audio",`${t.audioGroups[e]}_clone_${r}`);if(t.subtitleGroups)for(let e=1;e<t.subtitleGroups.length;e++)l.addGroupId("text",`${t.subtitleGroups[e]}_clone_${r}`);return l}));e.push(...a),ST(this.audioTracks,s,o,r),ST(this.subtitleTracks,i,o,r)}))}loadSteeringManifest(t){const e=this.hls.config,s=e.loader;let i;this.loader&&this.loader.destroy(),this.loader=new s(e);try{i=new self.URL(t)}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==i.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+t)}const r={responseType:"json",url:i.href},n=e.steeringManifestLoadPolicy.default,o=n.errorRetry||n.timeoutRetry||{},a={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},h={onSuccess:(t,e,s,r)=>{this.log(`Loaded steering manifest: "${i}"`);const n=t.data;if(1!==(null==n?void 0:n.VERSION))return void this.log(`Steering VERSION ${n.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=n.TTL;const{"RELOAD-URI":o,"PATHWAY-CLONES":a,"PATHWAY-PRIORITY":h}=n;if(o)try{this.uri=new self.URL(o,i).href}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${o}`)}this.scheduleRefresh(this.uri||s.url),a&&this.clonePathways(a);const l={steeringManifest:n,url:i.toString()};this.hls.trigger(Jy.STEERING_MANIFEST_LOADED,l),h&&this.updatePathwayPriority(h)},onError:(t,e,s,i)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let r=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,r);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(r=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,s)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(r,a,h)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var e;const s=null==(e=this.hls)?void 0:e.media;!s||s.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)}),e)}},interstitialsController:class extends cA{constructor(t,e){super("interstitials",t.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled)return;const e=t-this.timelinePos;if(Math.abs(e)<1/7056e5)return;const s=e<=-.01;this.timelinePos=t,this.bufferedPos=t;const i=this.playingItem;if(!i)return void this.checkBuffer();if(s){this.schedule.resetErrorsInRange(t,t-e)&&this.updateSchedule()}if(this.checkBuffer(),s&&t<i.start||t>=i.end){var r;const t=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(i)&&null!=(r=this.media)&&r.paused&&(this.shouldPlay=!1),!s){const e=this.findItemIndex(i);if(t>e){const s=this.schedule.findJumpRestrictedIndex(e+1,t);if(s>e)return void this.setSchedulePosition(s)}}return void this.setSchedulePosition(t)}const n=this.playingAsset;if(!n){if(this.playingLastItem&&this.isInterstitial(i)){const e=i.event.assetList[0];e&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(t,e))}return}const o=n.timelineStart,a=n.duration||0;(s&&t<o||t>=o+a)&&this.setScheduleToAssetAtTime(t,n)},this.onTimeupdate=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled)return;if(!(t>this.timelinePos))return;this.timelinePos=t,t>this.bufferedPos&&this.checkBuffer();const e=this.playingItem;if(!e||this.playingLastItem)return;if(t>=e.end){this.timelinePos=e.end;const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}const s=this.playingAsset;if(!s)return;t>=s.timelineStart+(s.duration||0)&&this.setScheduleToAssetAtTime(t,s)},this.onScheduleUpdate=(t,e)=>{const s=this.schedule,i=this.playingItem,r=s.events||[],n=s.items||[],o=s.durations,a=t.map((t=>t.identifier)),h=!(!r.length&&!a.length);(h||e)&&this.log(`INTERSTITIALS_UPDATED (${r.length}): ${r}\nSchedule: ${n.map((t=>GT(t)))} pos: ${this.timelinePos}`),a.length&&this.log(`Removed events ${a}`),this.playerQueue.forEach((t=>{if(t.interstitial.appendInPlace){const e=t.assetItem.timelineStart,s=t.timelineOffset-e;if(s)try{t.timelineOffset=e}catch(i){Math.abs(s)>xT&&this.warn(`${i} ("${t.assetId}" ${t.timelineOffset}->${e})`)}}}));let l=null;if(i){const t=this.updateItem(i,this.timelinePos);this.itemsMatch(i,t)&&(this.playingItem=t,this.waitingItem=this.endedItem=null,l=()=>this.trimInPlace(t,i))}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const c=this.bufferingItem;if(c){const t=this.updateItem(c,this.bufferedPos);this.itemsMatch(c,t)?(this.bufferingItem=t,l||(l=()=>this.trimInPlace(t,c))):c.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(c.event,null))}if(t.forEach((t=>{t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,null)}))})),h||e){if(this.hls.trigger(Jy.INTERSTITIALS_UPDATED,{events:r.slice(0),schedule:n.slice(0),durations:o,removedIds:a}),this.isInterstitial(i)&&a.includes(i.event.identifier))return this.warn(`Interstitial "${i.event.identifier}" removed while playing`),void this.primaryFallback(i.event);l&&l(),this.checkBuffer()}},this.hls=t,this.HlsPlayerClass=e,this.assetListLoader=new zT(t),this.schedule=new WT(this.onScheduleUpdate,t.logger),this.registerListeners()}registerListeners(){const t=this.hls;t.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Jy.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(Jy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(Jy.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(Jy.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(Jy.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(Jy.BUFFER_APPENDED,this.onBufferAppended,this),t.on(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Jy.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(Jy.MEDIA_ENDED,this.onMediaEnded,this),t.on(Jy.ERROR,this.onError,this),t.on(Jy.DESTROYING,this.onDestroying,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Jy.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(Jy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(Jy.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(Jy.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(Jy.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(Jy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Jy.BUFFER_APPENDED,this.onBufferAppended,this),t.off(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Jy.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(Jy.MEDIA_ENDED,this.onMediaEnded,this),t.off(Jy.ERROR,this.onError,this),t.off(Jy.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var t;null==(t=this.getBufferingPlayer())||t.resumeBuffering()}pauseBuffering(){var t;null==(t=this.getBufferingPlayer())||t.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)}removeMediaListeners(t){TT(t,"play",this.onPlay),TT(t,"pause",this.onPause),TT(t,"seeking",this.onSeeking),TT(t,"timeupdate",this.onTimeupdate)}onMediaAttaching(t,e){const s=this.media=e.media;ET(s,"seeking",this.onSeeking),ET(s,"timeupdate",this.onTimeupdate),ET(s,"play",this.onPlay),ET(s,"pause",this.onPause)}onMediaAttached(t,e){const s=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,null===s)this.checkStart();else if(!i){this.clearScheduleState();const t=this.findItemIndex(s);this.setSchedulePosition(t)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(t,e){const s=!!e.transferMedia,i=this.media;if(this.media=null,!s&&(i&&this.removeMediaListeners(i),this.detachedData)){const t=this.getBufferingPlayer();t&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,t.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const t=this,e=()=>t.bufferingItem||t.waitingItem,s=e=>e?t.getAssetPlayer(e.identifier):e,i=(e,i,r,o,a)=>{if(e){let h=e[i].start;const l=e.event;if(l){if("playout"===i||l.timelineOccupancy!==MT.Point){const t=s(r);(null==t?void 0:t.interstitial)===l&&(h+=t.assetItem.startOffset+t[a])}}else{h+=("bufferedPos"===o?n():t[o])-e.start}return h}return 0},r=(e,s)=>{if(0!==e&&"primary"!==s&&t.schedule.length){var i;const r=t.schedule.findItemIndexAtTime(e),n=null==(i=t.schedule.items)?void 0:i[r];if(n){return e+(n[s].start-n.start)}}return e},n=()=>{const e=t.bufferedPos;return e===Number.MAX_VALUE?o("primary"):Math.max(e,0)},o=e=>{var s;return null!=(s=t.primaryDetails)&&s.live?t.primaryDetails.edge:t.schedule.durations[e]},a=(e,r)=>{var n,o;const a=t.effectivePlayingItem;if(null!=a&&null!=(n=a.event)&&n.restrictions.skip)return;t.log(`seek to ${e} "${r}"`);const h=t.effectivePlayingItem,l=t.schedule.findItemIndexAtTime(e,r),c=null==(o=t.schedule.items)?void 0:o[l],d=t.getBufferingPlayer(),u=null==d?void 0:d.interstitial,p=null==u?void 0:u.appendInPlace,f=h&&t.itemsMatch(h,c);if(h&&(p||f)){const n=s(t.playingAsset),o=(null==n?void 0:n.media)||t.primaryMedia;if(o){const s="primary"===r?o.currentTime:i(h,r,t.playingAsset,"timelinePos","currentTime"),a=e-s,l=(p?s:o.currentTime)+a;if(l>=0&&(!n||p||l<=n.duration))return void(o.currentTime=l)}}if(c){let s=e;if("primary"!==r){const t=e-c[r].start;s=c.start+t}const i=!t.isInterstitial(c);if(t.isInterstitial(h)&&!h.event.appendInPlace||!i&&!c.event.appendInPlace){if(h){const n=t.findItemIndex(h);if(l>n){const e=t.schedule.findJumpRestrictedIndex(n+1,l);if(e>n)return void t.setSchedulePosition(e)}let o=0;if(i)t.timelinePos=s,t.checkBuffer();else{var m;const t=null==c||null==(m=c.event)?void 0:m.assetList;if(t){const s=e-(c[r]||c).start;for(let e=t.length;e--;){const i=t[e];if(i.duration&&s>=i.startOffset&&s<i.startOffset+i.duration){o=e;break}}}}t.setSchedulePosition(l,o)}}else{const e=t.media||(p?null==d?void 0:d.media:null);e&&(e.currentTime=s)}}},h=()=>{const s=t.effectivePlayingItem;if(t.isInterstitial(s))return s;const i=e();return t.isInterstitial(i)?i:null},l={get currentTime(){const e=h(),s=t.effectivePlayingItem;return s&&s===e?i(s,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-s.playout.start:0},set currentTime(e){const s=h(),i=t.effectivePlayingItem;i&&i===s&&a(e+i.playout.start,"playout")},get duration(){const t=h();return t?t.playout.end-t.playout.start:0},get assetPlayers(){var e;const s=null==(e=h())?void 0:e.event.assetList;return s?s.map((e=>t.getAssetPlayer(e.identifier))):[]},get playingIndex(){var e;const s=null==(e=h())?void 0:e.event;return s&&t.effectivePlayingAsset?s.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return h()}};this.manager={get events(){var e,s;return(null==(e=t.schedule)||null==(s=e.events)?void 0:s.slice(0))||[]},get schedule(){var e,s;return(null==(e=t.schedule)||null==(s=e.items)?void 0:s.slice(0))||[]},get interstitialPlayer(){return h()?l:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return e()},get bufferingIndex(){const s=e();return t.findItemIndex(s)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){const e=t.effectivePlayingItem;return t.findItemIndex(e)},primary:{get bufferedEnd(){return n()},get currentTime(){const e=t.timelinePos;return e>0?e:0},set currentTime(t){a(t,"primary")},get duration(){return o("primary")},get seekableStart(){var e;return(null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(e(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(t){a(t,"integrated")},get duration(){return o("integrated")},get seekableStart(){var e;return r((null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0,"integrated")}},skip:()=>{const e=t.effectivePlayingItem,s=null==e?void 0:e.event;if(s&&!s.restrictions.skip){const i=t.findItemIndex(e);if(s.appendInPlace){const t=e.playout.start+e.event.duration;a(t+.001,"playout")}else t.advanceAfterAssetEnded(s,i,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var t;const e=this.playingItem,s=null==(t=this.schedule)?void 0:t.items;return!!(this.playbackStarted&&e&&s)&&this.findItemIndex(e)===s.length-1}get playbackStarted(){return null!==this.effectivePlayingItem}get currentTime(){var t,e,s;if(null===this.mediaSelection)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let r=this.media;!r&&null!=(t=this.bufferingItem)&&null!=(e=t.event)&&e.appendInPlace&&(r=this.primaryMedia);const n=null==(s=r)?void 0:s.currentTime;return void 0!==n&&Hy(n)?n:void 0}get primaryMedia(){var t;return this.media||(null==(t=this.detachedData)?void 0:t.media)||null}isInterstitial(t){return!(null==t||!t.event)}retreiveMediaSource(t,e){const s=this.getAssetPlayer(t);s&&this.transferMediaFromPlayer(s,e)}transferMediaFromPlayer(t,e){const s=t.interstitial.appendInPlace,i=t.media;if(s&&i===this.primaryMedia){if(this.bufferingAsset=null,(!e||this.isInterstitial(e)&&!e.event.appendInPlace)&&e&&i)return void(this.detachedData={media:i});const s=t.transferMedia();this.log(`transfer MediaSource from ${t} ${Fv(s)}`),this.detachedData=s}else e&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(t,e){var s,i;if(t.media===e)return;let r=null;const n=this.hls,o=t!==n,a=o&&t.interstitial.appendInPlace,h=null==(s=this.detachedData)?void 0:s.mediaSource;let l;if(n.media)a&&(r=n.transferMedia(),this.detachedData=r),l="Primary";else if(h){const t=this.getBufferingPlayer();t?(r=t.transferMedia(),l=`${t}`):l="detached MediaSource"}else l="detached media";if(!r)if(h)r=this.detachedData,this.log(`using detachedData: MediaSource ${Fv(r)}`);else if(!this.detachedData||n.media===e){const t=this.playerQueue;t.length>1&&t.forEach((t=>{if(o&&t.interstitial.appendInPlace!==a){const e=t.interstitial;this.clearInterstitial(t.interstitial,null),e.appendInPlace=!1,e.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${e}`)}})),this.hls.detachMedia(),this.detachedData={media:e}}const c=r&&"mediaSource"in r&&"closed"!==(null==(i=r.mediaSource)?void 0:i.readyState),d=c&&r?r:e;if(this.log(`${c?"transfering MediaSource":"attaching media"} to ${o?t:"Primary"} from ${l}`),d===r){const e=o&&t.assetId===this.schedule.assetIdAtEnd;d.overrides={duration:this.schedule.duration,endOfStream:!o||e,cueRemoval:!o}}t.attachMedia(d)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const t=this.schedule,e=t.events;if(!e||this.playbackDisabled||!this.media)return;-1===this.bufferedPos&&(this.bufferedPos=0);const s=this.timelinePos,i=this.effectivePlayingItem;if(-1===s){const s=this.hls.startPosition;if(this.timelinePos=s,e.length&&e[0].cue.pre){const s=t.findEventIndex(e[0].identifier);this.setSchedulePosition(s)}else if(s>=0||!this.primaryLive){const e=this.timelinePos=s>0?s:0,i=t.findItemIndexAtTime(e);this.setSchedulePosition(i)}}else if(i&&!this.playingItem){const e=t.findItemIndex(i);this.setSchedulePosition(e)}}advanceAfterAssetEnded(t,e,s){const i=NT(t,s);if(t.isAssetPastPlayoutLimit(i)){const s=this.schedule.items;if(s){const i=e+1;if(i>=s.length)return void this.setSchedulePosition(-1);const r=t.resumeTime;this.timelinePos<r&&(this.timelinePos=r,this.checkBuffer()),this.setSchedulePosition(i)}}else this.setSchedulePosition(e,i)}setScheduleToAssetAtTime(t,e){const s=this.schedule,i=e.parentIdentifier,r=s.getEvent(i);if(r){const e=s.findEventIndex(i),n=s.findAssetIndex(r,t);this.advanceAfterAssetEnded(r,e,n-1)}}setSchedulePosition(t,e){const s=this.schedule.items;if(!s||this.playbackDisabled)return;this.log(`setSchedulePosition ${t}, ${e}`);const i=t>=0?s[t]:null,r=this.playingItem,n=this.playingLastItem;if(this.isInterstitial(r)){var o;const h=r.event,l=this.playingAsset,c=null==l?void 0:l.identifier,d=c?this.getAssetPlayer(c):null;if(d&&c&&(!this.eventItemsMatch(r,i)||void 0!==e&&c!==(null==(o=h.assetList)?void 0:o[e].identifier))){var a;const e=h.findAssetIndex(l);this.log(`INTERSTITIAL_ASSET_ENDED ${e+1}/${h.assetList.length} ${jT(l)}`),this.endedAsset=l,this.playingAsset=null,this.hls.trigger(Jy.INTERSTITIAL_ASSET_ENDED,{asset:l,assetListIndex:e,event:h,schedule:s.slice(0),scheduleIndex:t,player:d}),this.retreiveMediaSource(c,i),!d.media||null!=(a=this.detachedData)&&a.mediaSource||d.detachMedia()}if(!this.eventItemsMatch(r,i)&&(this.endedItem=r,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${h} ${GT(r)}`),h.hasPlayed=!0,this.hls.trigger(Jy.INTERSTITIAL_ENDED,{event:h,schedule:s.slice(0),scheduleIndex:t}),h.cue.once)){this.updateSchedule();const t=this.schedule.items;if(i&&t){const s=this.schedule.findItemIndex(i);this.advanceSchedule(s,t,e,r,n)}return}}this.advanceSchedule(t,s,e,r,n)}advanceSchedule(t,e,s,i,r){const n=t>=0?e[t]:null,o=this.primaryMedia,a=this.playerQueue;if(a.length&&a.forEach((e=>{const s=e.interstitial,i=this.schedule.findEventIndex(s.identifier);(i<t||i>t+1)&&this.clearInterstitial(s,n)})),this.isInterstitial(n)){this.timelinePos=Math.min(Math.max(this.timelinePos,n.start),n.end);const r=n.event;if(void 0===s){const e=NT(r,(s=this.schedule.findAssetIndex(r,this.timelinePos))-1);if(r.isAssetPastPlayoutLimit(e))return void this.advanceAfterAssetEnded(r,t,s);s=e}const a=this.waitingItem;this.assetsBuffered(n,o)||this.setBufferingItem(n);let h=this.preloadAssets(r,s);if(this.eventItemsMatch(n,a||i)||(this.waitingItem=n,this.log(`INTERSTITIAL_STARTED ${GT(n)} ${r.appendInPlace?"append in place":""}`),this.hls.trigger(Jy.INTERSTITIAL_STARTED,{event:r,schedule:e.slice(0),scheduleIndex:t})),!r.assetListLoaded)return void this.log(`Waiting for ASSET-LIST to complete loading ${r}`);if(r.assetListLoader&&(r.assetListLoader.destroy(),r.assetListLoader=void 0),!o)return void this.log(`Waiting for attachMedia to start Interstitial ${r}`);this.waitingItem=this.endedItem=null,this.playingItem=n;const l=r.assetList[s];if(!l){const i=e[t+1],n=this.media;return i&&n&&!this.isInterstitial(i)&&n.currentTime<i.start&&(n.currentTime=this.timelinePos=i.start),void this.advanceAfterAssetEnded(r,t,s||0)}if(h||(h=this.getAssetPlayer(l.identifier)),null===h||h.destroyed){const t=r.assetList.length;this.warn(`asset ${s+1}/${t} player destroyed ${r}`),h=this.createAssetPlayer(r,l,s)}if(!this.eventItemsMatch(n,this.bufferingItem)&&r.appendInPlace&&this.isAssetBuffered(l))return;this.startAssetPlayer(h,s,e,t,o),this.shouldPlay&&HT(h.media)}else null!==n?(this.resumePrimary(n,t,i),this.shouldPlay&&HT(this.hls.media)):r&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return!1===this.hls.config.enableInterstitialPlayback}get primaryDetails(){var t,e;return null==(t=this.mediaSelection)||null==(e=t.main)?void 0:e.details}get primaryLive(){var t;return!(null==(t=this.primaryDetails)||!t.live)}resumePrimary(t,e,s){var i;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log(`resuming ${GT(t)}`),null==(i=this.detachedData)||!i.mediaSource){let s=this.timelinePos;(s<t.start||s>=t.end)&&(s=this.getPrimaryResumption(t,e),this.timelinePos=s),this.attachPrimary(s,t)}if(!s)return;const r=this.schedule.items;r&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${GT(t)}`),this.hls.trigger(Jy.INTERSTITIALS_PRIMARY_RESUMED,{schedule:r.slice(0),scheduleIndex:e}),this.checkBuffer())}getPrimaryResumption(t,e){const s=t.start;if(this.primaryLive){const t=this.primaryDetails;if(0===e)return this.hls.startPosition;if(t&&(s<t.fragmentStart||s>t.edge))return this.hls.liveSyncPosition||-1}return s}isAssetBuffered(t){const e=this.getAssetPlayer(t.identifier);if(null!=e&&e.hls)return e.hls.bufferedToEnd;return Lb.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)}attachPrimary(t,e,s){e?this.setBufferingItem(e):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const r=this.hls;r.media?this.checkBuffer():(this.transferMediaTo(r,i),s&&this.startLoadingPrimaryAt(t,s)),s||(this.timelinePos=t,this.startLoadingPrimaryAt(t,s))}startLoadingPrimaryAt(t,e){var s;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs(((null==(s=i.mainForwardBufferInfo)?void 0:s.start)||i.media.currentTime)-t)>.5?i.startLoad(t,e):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Jy.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Jy.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(t,e){if(-1===e.level)return;const s=this.hls.levels[e.level],i=lA(lA({},this.mediaSelection||this.altSelection),{},{main:s});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(t,e){const s=this.hls.audioTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=lA(lA({},this.altSelection),{},{audio:s}));const r=lA(lA({},i),{},{audio:s});this.mediaSelection=r}onSubtitleTrackUpdated(t,e){const s=this.hls.subtitleTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=lA(lA({},this.altSelection),{},{subtitles:s}));const r=lA(lA({},i),{},{subtitles:s});this.mediaSelection=r}onAudioTrackSwitching(t,e){const s=Nv(e);this.playerQueue.forEach((t=>t.hls.setAudioOption(e)||t.hls.setAudioOption(s)))}onSubtitleTrackSwitch(t,e){const s=Nv(e);this.playerQueue.forEach((t=>t.hls.setSubtitleOption(e)||-1!==e.id&&t.hls.setSubtitleOption(s)))}onBufferCodecs(t,e){const s=e.tracks;s&&(this.requiredTracks=s)}onBufferAppended(t,e){this.checkBuffer()}onBufferFlushed(t,e){const s=this.playingItem;if(s&&!this.itemsMatch(s,this.bufferingItem)&&!this.isInterstitial(s)){const t=this.timelinePos;this.bufferedPos=t,this.checkBuffer()}}onBufferedToEnd(t){const e=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&e){for(let t=0;t<e.length;t++){const i=e[t];if(i.cue.post){var s;const t=this.schedule.findEventIndex(i.identifier),e=null==(s=this.schedule.items)?void 0:s[t];this.isInterstitial(e)&&this.eventItemsMatch(e,this.bufferingItem)&&this.bufferedToItem(e,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(t){const e=this.playingItem;if(!this.playingLastItem&&e){const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}else this.shouldPlay=!1}updateItem(t,e){const s=this.schedule.items;if(t&&s){return s[this.findItemIndex(t,e)]||null}return null}trimInPlace(t,e){if(this.isInterstitial(t)&&t.event.appendInPlace&&e.end-t.end>.25){t.event.assetList.forEach(((e,s)=>{t.event.isAssetPastPlayoutLimit(s)&&this.clearAssetPlayer(e.identifier,null)}));const e=t.end+.25,s=Lb.bufferInfo(this.primaryMedia,e,0);(s.end>e||(s.nextStart||0)>e)&&(this.attachPrimary(e,null),this.flushFrontBuffer(e))}}itemsMatch(t,e){return!!e&&(t===e||t.event&&e.event&&this.eventItemsMatch(t,e)||!t.event&&!e.event&&this.findItemIndex(t)===this.findItemIndex(e))}eventItemsMatch(t,e){var s;return!!e&&(t===e||t.event.identifier===(null==(s=e.event)?void 0:s.identifier))}findItemIndex(t,e){return t?this.schedule.findItemIndex(t,e):-1}updateSchedule(){const t=this.mediaSelection;t&&this.schedule.updateSchedule(t,[])}checkBuffer(t){const e=this.schedule.items;if(!e)return;const s=Lb.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=s.len<1),this.updateBufferedPos(s.end,e,t)}updateBufferedPos(t,e,s){const i=this.schedule,r=this.bufferingItem;if(this.bufferedPos>t)return;if(1===e.length&&this.itemsMatch(e[0],r))return void(this.bufferedPos=t);const n=this.playingItem,o=this.findItemIndex(n);let a=i.findItemIndexAtTime(t);if(this.bufferedPos<t){var h,l;const s=this.findItemIndex(r),i=Math.min(s+1,e.length-1),n=e[i];if((-1===a&&r&&t>=r.end||null!=(h=n.event)&&h.appendInPlace&&t+.01>=n.start)&&(a=i),i-o>1&&!1===(null==r||null==(l=r.event)?void 0:l.appendInPlace))return;if(this.bufferedPos=t,a>s&&a>o)this.bufferedToItem(n);else{const e=this.primaryDetails;this.primaryLive&&e&&t>e.edge-e.targetduration&&n.start<e.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(n)&&this.preloadAssets(n.event,0)}}else s&&n&&!this.itemsMatch(n,r)&&(a===o?this.bufferedToItem(n):a===o+1&&this.bufferedToItem(e[a]))}assetsBuffered(t,e){return 0!==t.event.assetList.length&&!t.event.assetList.some((t=>{const s=this.getAssetPlayer(t.identifier);return!(null!=s&&s.bufferedInPlaceToEnd(e))}))}setBufferingItem(t){const e=this.bufferingItem,s=this.schedule;if(this.itemsMatch(t,e))this.bufferingItem!==t&&(this.bufferingItem=t);else{const{items:i,events:r}=s;if(!i||!r)return e;const n=this.isInterstitial(t),o=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));const a=o?o.remaining:e?e.end-this.timelinePos:0;this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${GT(t)}`+(e?` (${a.toFixed(2)} remaining)`:"")),this.playbackDisabled||(n?t.event.assetList.forEach((t=>{const e=this.getAssetPlayer(t.identifier);e&&e.resumeBuffering()})):(this.hls.resumeBuffering(),this.playerQueue.forEach((t=>t.pauseBuffering())))),this.hls.trigger(Jy.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:r.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}return e}bufferedToItem(t,e=0){const s=this.setBufferingItem(t);if(!this.playbackDisabled)if(this.isInterstitial(t))this.bufferedToEvent(t,e);else if(null!==s){this.bufferingAsset=null;const e=this.detachedData;if(e)if(e.mediaSource){const e=!0;this.attachPrimary(t.start,t,e)}else this.preloadPrimary(t);else this.preloadPrimary(t)}}preloadPrimary(t){const e=this.findItemIndex(t),s=this.getPrimaryResumption(t,e);this.startLoadingPrimaryAt(s)}bufferedToEvent(t,e){const s=t.event,i=0===s.assetList.length&&!s.assetListLoader,r=s.cue.once;if(i||!r){const t=this.preloadAssets(s,e);if(null!=t&&t.interstitial.appendInPlace){const i=s.assetList[e],r=this.primaryMedia;i&&r&&this.bufferAssetPlayer(t,r)}}}preloadAssets(t,e){const s=t.assetUrl,i=t.assetList.length,r=0===i&&!t.assetListLoader,n=t.cue.once;if(r){const r=t.timelineStart;if(t.appendInPlace){var o;const e=this.playingItem;this.isInterstitial(e)||(null==e||null==(o=e.nextEvent)?void 0:o.identifier)!==t.identifier||this.flushFrontBuffer(r+.25)}let n,a=0;if(!this.playingItem&&this.primaryLive&&(a=this.hls.startPosition,-1===a&&(a=this.hls.liveSyncPosition||0)),a&&!t.cue.pre&&!t.cue.post){const t=a-r;t>0&&(n=Math.round(1e3*t)/1e3)}if(this.log(`Load interstitial asset ${e+1}/${s?1:i} ${t}${n?` live-start: ${a} start-offset: ${n}`:""}`),s)return this.createAsset(t,0,0,r,t.duration,s);const h=this.assetListLoader.loadAssetList(t,n);h&&(t.assetListLoader=h)}else if(!n&&i){for(let s=e;s<i;s++){const e=t.assetList[s],i=this.getAssetPlayerQueueIndex(e.identifier);-1!==i&&!this.playerQueue[i].destroyed||e.error||this.createAssetPlayer(t,e,s)}return this.getAssetPlayer(t.assetList[e].identifier)}return null}flushFrontBuffer(t){const e=this.requiredTracks;if(!e)return;this.log(`Removing front buffer starting at ${t}`);Object.keys(e).forEach((e=>{this.hls.trigger(Jy.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:e})}))}getAssetPlayerQueueIndex(t){const e=this.playerQueue;for(let s=0;s<e.length;s++)if(t===e[s].assetId)return s;return-1}getAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);return this.playerQueue[e]||null}getBufferingPlayer(){const{playerQueue:t,primaryMedia:e}=this;if(e)for(let s=0;s<t.length;s++)if(t[s].media===e)return t[s];return null}createAsset(t,e,s,i,r,n){const o={parentIdentifier:t.identifier,identifier:BT(t,n,e),duration:r,startOffset:s,timelineStart:i,uri:n};return this.createAssetPlayer(t,o,e)}createAssetPlayer(t,e,s){const i=this.hls,r=i.userConfig;let n=r.videoPreference;const o=i.loadLevelObj||i.levels[i.currentLevel];(n||o)&&(n=aA({},n),o.videoCodec&&(n.videoCodec=o.videoCodec),o.videoRange&&(n.allowedVideoRanges=[o.videoRange]));const a=i.audioTracks[i.audioTrack],h=i.subtitleTracks[i.subtitleTrack];let l=0;if(this.primaryLive||t.appendInPlace){const t=this.timelinePos-e.timelineStart;if(t>1){const s=e.duration;s&&t<s&&(l=t)}}const c=e.identifier,d=lA(lA({},r),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:c,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:l,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:n,audioPreference:a||r.audioPreference,subtitlePreference:h||r.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,e.timelineStart&&(d.timelineOffset=e.timelineStart));const u=d.cmcd;null!=u&&u.sessionId&&u.contentId&&(d.cmcd=aA({},u,{contentId:PT(e.uri)})),this.getAssetPlayer(c)&&this.warn(`Duplicate date range identifier ${t} and asset ${c}`);const p=new VT(this.HlsPlayerClass,d,t,e);this.playerQueue.push(p),t.assetList[s]=e;const f=i=>{if(i.live){const e=new Error(`Interstitials MUST be VOD assets ${t}`),i={fatal:!0,type:Qy.OTHER_ERROR,details:Yy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e};return void this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,e.message)}const r=i.edge-i.fragmentStart,n=e.duration;(null===n||r>n)&&(this.log(`Interstitial asset "${c}" duration change ${n} > ${r}`),e.duration=r,this.updateSchedule())};p.on(Jy.LEVEL_UPDATED,((t,{details:e})=>f(e))),p.on(Jy.LEVEL_PTS_UPDATED,((t,{details:e})=>f(e)));const m=(t,e)=>{const s=this.getAssetPlayer(c);if(s&&e.tracks){s.off(Jy.BUFFER_CODECS,m),s.tracks=e.tracks;const t=this.primaryMedia;this.bufferingAsset===s.assetItem&&t&&!s.media&&this.bufferAssetPlayer(s,t)}};p.on(Jy.BUFFER_CODECS,m);const g=()=>{var s;const i=this.getAssetPlayer(c);if(this.log(`buffered to end of asset ${i}`),!i)return;const r=this.schedule.findEventIndex(t.identifier),n=null==(s=this.schedule.items)?void 0:s[r];if(this.isInterstitial(n)){const s=t.findAssetIndex(e),i=NT(t,s);if(t.isAssetPastPlayoutLimit(i)){var o;const t=null==(o=this.schedule.items)?void 0:o[r+1];t&&this.bufferedToItem(t)}else this.bufferedToItem(n,i)}};p.on(Jy.BUFFERED_TO_END,g);const y=e=>()=>{if(!this.getAssetPlayer(c))return;this.shouldPlay=!0;const s=this.schedule.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,s,e)};return p.once(Jy.MEDIA_ENDED,y(s)),p.once(Jy.PLAYOUT_LIMIT_REACHED,y(1/0)),p.on(Jy.ERROR,((e,i)=>{const r=this.getAssetPlayer(c);if(i.details!==Yy.BUFFER_STALLED_ERROR)this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,`Asset player error ${i.error} ${t}`);else if(null!=r&&r.media){const e=r.currentTime,s=r.duration-e;e&&t.appendInPlace&&s/r.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${c} ${t} at ${r.media.currentTime}`),g()):(this.warn(`Stalled at ${e} of ${e+s} in asset ${c} ${t}`),this.onTimeupdate(),this.checkBuffer(!0))}})),p.on(Jy.DESTROYING,(()=>{if(!this.getAssetPlayer(c))return;const e=new Error(`Asset player destroyed unexpectedly ${c}`),i={fatal:!0,type:Qy.OTHER_ERROR,details:Yy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e};this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,e.message)})),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${jT(e)}`),this.hls.trigger(Jy.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:e,assetListIndex:s,event:t,player:p}),p}clearInterstitial(t,e){t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,e)})),t.reset()}resetAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);if(-1!==e){this.log(`reset asset player "${t}" after error`);const s=this.playerQueue[e];this.transferMediaFromPlayer(s,null),s.resetDetails()}}clearAssetPlayer(t,e){const s=this.getAssetPlayerQueueIndex(t);if(-1!==s){this.log(`clear asset player "${t}" toSegment: ${e?GT(e):e}`);const i=this.playerQueue[s];this.transferMediaFromPlayer(i,e),this.playerQueue.splice(s,1),i.destroy()}}emptyPlayerQueue(){let t;for(;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]}startAssetPlayer(t,e,s,i,r){const{interstitial:n,assetItem:o,assetId:a}=t,h=n.assetList.length,l=this.playingAsset;this.endedAsset=null,this.playingAsset=o,l&&l.identifier===a||(l&&(this.clearAssetPlayer(l.identifier,s[i]),delete l.error),this.log(`INTERSTITIAL_ASSET_STARTED ${e+1}/${h} ${jT(o)}`),this.hls.trigger(Jy.INTERSTITIAL_ASSET_STARTED,{asset:o,assetListIndex:e,event:n,schedule:s.slice(0),scheduleIndex:i,player:t})),this.bufferAssetPlayer(t,r)}bufferAssetPlayer(t,e){var s,i;const{interstitial:r,assetItem:n}=t,o=this.schedule.findEventIndex(r.identifier),a=null==(s=this.schedule.items)?void 0:s[o];if(!a)return;this.setBufferingItem(a),this.bufferingAsset=n;const h=this.getBufferingPlayer();if(h===t)return;const l=r.appendInPlace;if(l&&!1===(null==h?void 0:h.interstitial.appendInPlace))return;const c=(null==h?void 0:h.tracks)||(null==(i=this.detachedData)?void 0:i.tracks)||this.requiredTracks;if(l&&n!==this.playingAsset){if(!t.tracks)return;if(c&&!AA(c,t.tracks)){const e=new Error(`Asset ${jT(n)} SourceBuffer tracks ('${Object.keys(t.tracks)}') are not compatible with primary content tracks ('${Object.keys(c)}')`),s={fatal:!0,type:Qy.OTHER_ERROR,details:Yy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e},i=r.findAssetIndex(n);return void this.handleAssetItemError(s,r,o,i,e.message)}}this.transferMediaTo(t,e)}handleAssetItemError(t,e,s,i,r){if(t.details===Yy.BUFFER_STALLED_ERROR)return;const n=e.assetList[i];this.warn(`INTERSTITIAL_ASSET_ERROR ${n?jT(n):n} ${t.error}`);const o=null==n?void 0:n.identifier,a=this.getAssetPlayerQueueIndex(o),h=this.playerQueue[a]||null,l=this.schedule.items,c=aA({},t,{fatal:!1,errorAction:hb(!0),asset:n,assetListIndex:i,event:e,schedule:l,scheduleIndex:s,player:h});if(this.hls.trigger(Jy.INTERSTITIAL_ASSET_ERROR,c),!t.fatal)return;const d=this.playingAsset,u=new Error(r);if(n&&(this.clearAssetPlayer(o,null),n.error=u),e.assetList.some((t=>!t.error))){if(e.appendInPlace){for(let t=i;t<e.assetList.length;t++)this.resetAssetPlayer(e.assetList[t].identifier);this.updateSchedule()}}else e.error=u;e.error?this.primaryFallback(e):d&&d.identifier===o&&this.advanceAfterAssetEnded(e,s,i)}primaryFallback(t){const e=t.timelineStart,s=this.effectivePlayingItem;if(this.updateSchedule(),s){this.log(`Fallback to primary from event "${t.identifier}" start: ${e} pos: ${this.timelinePos} playing: ${s?GT(s):"<none>"} error: ${t.error}`);let i=this.timelinePos;-1===i&&(i=this.hls.startPosition);const r=this.updateItem(s,i);this.itemsMatch(s,r)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(e,null),this.flushFrontBuffer(e));const n=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(n)}else this.checkStart()}onAssetListLoaded(t,e){var s;const i=e.event,r=i.identifier,n=e.assetListResponse.ASSETS;if(!this.schedule.hasEvent(r))return;const o=i.timelineStart,a=i.duration;let h=0;n.forEach(((t,e)=>{const s=parseFloat(t.DURATION);this.createAsset(i,e,h,o+h,s,t.URI),h+=s})),i.duration=h,this.log(`Loaded asset-list with duration: ${h} (was: ${a}) ${i}`);const l=this.waitingItem,c=(null==l?void 0:l.event.identifier)===r;this.updateSchedule();const d=null==(s=this.bufferingItem)?void 0:s.event;if(c){var u;const t=this.schedule.findEventIndex(r),e=null==(u=this.schedule.items)?void 0:u[t];if(e){if(!this.playingItem&&this.timelinePos>e.end){if(this.schedule.findItemIndexAtTime(this.timelinePos)!==t)return i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),void this.primaryFallback(i)}this.setBufferingItem(e)}this.setSchedulePosition(t)}else if((null==d?void 0:d.identifier)===r&&d.appendInPlace){const t=i.assetList[0],e=this.getAssetPlayer(t.identifier),s=this.primaryMedia;t&&e&&s&&this.bufferAssetPlayer(e,s)}}onError(t,e){switch(e.details){case Yy.ASSET_LIST_PARSING_ERROR:case Yy.ASSET_LIST_LOAD_ERROR:case Yy.ASSET_LIST_LOAD_TIMEOUT:{const t=e.interstitial;t&&this.primaryFallback(t);break}case Yy.BUFFER_STALLED_ERROR:this.onTimeupdate(),this.checkBuffer(!0)}}}});function YI(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(YI):Object.keys(t).reduce(((e,s)=>(e[s]=YI(t[s]),e)),{}):t}function JI(t,e){const s=t.loader;if(s!==GI&&s!==qI)e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1})()&&(t.loader=GI,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}}class XI extends Cb{constructor(t,e){super("gap-controller",t.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var t;null!=(t=this.media)&&t.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{var t;this.hls&&(this.ended=(null==(t=this.media)?void 0:t.currentTime)||1,this.hls.trigger(Jy.MEDIA_ENDED,{stalled:!1}))},this.hls=t,this.fragmentTracker=e,this.registerListeners()}registerListeners(){const{hls:t}=this;t&&(t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(t,e){this.setInterval(100),this.mediaSource=e.mediaSource;const s=this.media=e.media;ET(s,"playing",this.onMediaPlaying),ET(s,"waiting",this.onMediaWaiting),ET(s,"ended",this.onMediaEnded)}onMediaDetaching(t,e){this.clearInterval();const{media:s}=this;s&&(TT(s,"playing",this.onMediaPlaying),TT(s,"waiting",this.onMediaWaiting),TT(s,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(t,e){this.buffered=e.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var t;if(null==(t=this.media)||!t.readyState||!this.hasBuffered)return;const e=this.media.currentTime;this.poll(e,this.lastCurrentTime),this.lastCurrentTime=e}poll(t,e){var s,i;const r=null==(s=this.hls)?void 0:s.config;if(!r)return;const n=this.media;if(!n)return;const{seeking:o}=n,a=this.seeking&&!o,h=!this.seeking&&o,l=n.paused&&!o||n.ended||0===n.playbackRate;if(this.seeking=o,t!==e)return e&&(this.ended=0),this.moved=!0,o||(this.nudgeRetry=0,r.nudgeOnVideoHole&&!l&&t>e&&this.nudgeOnVideoHole(t,e)),void(0===this.waiting&&this.stallResolved(t));if(h||a)return void(a&&this.stallResolved(t));if(l)return this.nudgeRetry=0,this.stallResolved(t),void(!this.ended&&n.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(Jy.MEDIA_ENDED,{stalled:!1})));if(!Lb.getBuffered(n).length)return void(this.nudgeRetry=0);const c=Lb.bufferInfo(n,t,0),d=c.nextStart||0,u=this.fragmentTracker;if(o&&u&&this.hls){const e=$I(this.hls.inFlightFragments,t),s=c.len>2,i=!d||e||d-t>2&&!u.getPartialFragment(t);if(s||i)return;this.moved=!1}const p=null==(i=this.hls)?void 0:i.latestLevelDetails;if(!this.moved&&null!==this.stalled&&u){if(!(c.len>0)&&!d)return;const e=Math.max(d,c.start||0)-t,s=!(null==p||!p.live)?2*p.targetduration:2,i=u.getPartialFragment(t);if(e>0&&(e<=s||i))return void(n.paused||this._trySkipBufferHole(i))}const f=r.detectStallWithCurrentTimeMs,m=self.performance.now(),g=this.waiting;let y=this.stalled;if(null===y){if(!(g>0&&m-g<f))return void(this.stalled=m);y=this.stalled=g}const A=m-y;if(!o&&(A>=f||g)&&this.hls){var v;if("ended"===(null==(v=this.mediaSource)?void 0:v.readyState)&&(null==p||!p.live)&&Math.abs(t-((null==p?void 0:p.edge)||0))<1){if(this.ended)return;return this.ended=t||1,void this.hls.trigger(Jy.MEDIA_ENDED,{stalled:!0})}if(this._reportStall(c),!this.media||!this.hls)return}const b=Lb.bufferInfo(n,t,r.maxBufferHole);this._tryFixBufferStall(b,A,t)}stallResolved(t){const e=this.stalled;if(e&&this.hls&&(this.stalled=null,this.stallReported)){const s=self.performance.now()-e;this.log(`playback not stuck anymore @${t}, after ${Math.round(s)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Jy.STALL_RESOLVED,{})}}nudgeOnVideoHole(t,e){var s;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(s=this.buffered.audio)&&s.length&&i&&i.length>1&&t>i.end(0)){const s=Lb.bufferedInfo(Lb.timeRangesToArray(this.buffered.audio),t,0);if(s.len>1&&e>=s.start){const s=Lb.timeRangesToArray(i),r=Lb.bufferedInfo(s,e,0).bufferedIndex;if(r>-1&&r<s.length-1){const e=Lb.bufferedInfo(s,t,0).bufferedIndex,i=s[r].end,n=s[r+1].start;if((-1===e||e>r)&&n-i<1&&t-i<2){const s=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${t} hole: ${i} -> ${n} buffered index: ${e}`);this.warn(s.message),this.media.currentTime+=1e-6;const r=this.fragmentTracker.getPartialFragment(t)||void 0,o=Lb.bufferInfo(this.media,t,0);this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:s,reason:s.message,frag:r,buffer:o.len,bufferInfo:o})}}}}}_tryFixBufferStall(t,e,s){var i,r;const{fragmentTracker:n,media:o}=this,a=null==(i=this.hls)?void 0:i.config;if(!o||!n||!a)return;const h=null==(r=this.hls)?void 0:r.latestLevelDetails,l=n.getPartialFragment(s);if(l||null!=h&&h.live&&s<h.fragmentStart){if(this._trySkipBufferHole(l)||!this.media)return}const c=t.buffered,d=this.adjacentTraversal(t,s);(c&&c.length>1&&t.len>a.maxBufferHole||t.nextStart&&(t.nextStart-s<a.maxBufferHole||d))&&(e>1e3*a.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}adjacentTraversal(t,e){const s=this.fragmentTracker,i=t.nextStart;if(s&&i){const t=s.getFragAtPos(e,eA),r=s.getFragAtPos(i,eA);if(t&&r)return r.sn-t.sn<2}return!1}_reportStall(t){const{hls:e,media:s,stallReported:i,stalled:r}=this;if(!i&&null!==r&&s&&e){this.stallReported=!0;const i=new Error(`Playback stalling at @${s.currentTime} due to low buffer (${Fv(t)})`);this.warn(i.message),e.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:t.len,bufferInfo:t,stalled:{start:r}})}}_trySkipBufferHole(t){var e;const{fragmentTracker:s,media:i}=this,r=null==(e=this.hls)?void 0:e.config;if(!i||!s||!r)return 0;const n=i.currentTime,o=Lb.bufferInfo(i,n,0),a=n<o.start?o.start:o.nextStart;if(a&&this.hls){const e=o.len<=r.maxBufferHole,l=o.len>0&&o.len<1&&i.readyState<3,c=a-n;if(c>0&&(e||l)){if(c>r.maxBufferHole){let e=!1;if(0===n){const t=s.getAppendedFrag(0,eA);t&&a<t.end&&(e=!0)}if(!e){const e=t||s.getAppendedFrag(n,eA);if(e){var h;if(null==(h=this.hls.loadLevelObj)||!h.details)return 0;if($I(this.hls.inFlightFragments,a))return 0;let t=!1,i=e.end;for(;i<a;){const e=s.getPartialFragment(i);if(!e){t=!0;break}i+=e.duration}if(t)return 0}}}const e=Math.max(a+.05,n+.1);if(this.warn(`skipping hole, adjusting currentTime from ${n} to ${e}`),this.moved=!0,i.currentTime=e,null==t||!t.gap){const s=new Error(`fragment loaded with buffer holes, seeking from ${n} to ${e}`);this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:s,reason:s.message,frag:t||void 0,buffer:o.len,bufferInfo:o})}return e}}return 0}_tryNudgeBuffer(t){const{hls:e,media:s,nudgeRetry:i}=this,r=null==e?void 0:e.config;if(!s||!r)return 0;const n=s.currentTime;if(this.nudgeRetry++,i<r.nudgeMaxRetry){const o=n+(i+1)*r.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${n} to ${o}`);this.warn(a.message),s.currentTime=o,e.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1,buffer:t.len,bufferInfo:t})}else{const s=new Error(`Playhead still not moving while enough data buffered @${n} after ${r.nudgeMaxRetry} nudges`);this.error(s.message),e.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.BUFFER_STALLED_ERROR,error:s,fatal:!0,buffer:t.len,bufferInfo:t})}}}function $I(t,e){const s=ZI(t.main);if(s&&s.start<=e)return s;const i=ZI(t.audio);return i&&i.start<=e?i:null}function ZI(t){if(!t)return null;switch(t.state){case QS:case qS:case ew:case sw:return null}return t.frag}function tk(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function ek(t,e,s,i,r){let n=new t(e,s,"");try{n.value=i,r&&(n.type=r)}catch(o){n=new t(e,s,Fv(r?lA({type:r},i):i))}return n}const sk=(()=>{const t=tk();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function ik(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class rk{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Jy.EVENT_CUE_ENTER,{})},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:t}=this;t.on(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Jy.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(Jy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(Jy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Jy.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(t,e){var s;this.media=e.media,!1===(null==(s=e.overrides)?void 0:s.cueRemoval)&&(this.removeCues=!1)}onMediaAttached(){const t=this.hls.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(t,e){this.media=null;!!e.transferMedia||(this.id3Track&&(this.removeCues&&DT(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const s=t[e];if("metadata"===s.kind&&"id3"===s.label)return _T(s,this.media),s}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:i}}}=this;if(!s&&!i)return;const{samples:r}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const n=tk();if(n)for(let t=0;t<r.length;t++){const e=r[t].type;if(e===Bw.emsg&&!s||!i)continue;const o=Lw(r[t].data);if(o){const s=r[t].pts;let i=s+r[t].duration;i>sk&&(i=sk);i-s<=0&&(i=s+.25);for(let t=0;t<o.length;t++){const r=o[t];if(!Pw(r)){this.updateId3CueEnds(s,e);const t=ek(n,s,i,r,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(t,e){var s;const i=null==(s=this.id3Track)?void 0:s.cues;if(i)for(let s=i.length;s--;){const r=i[s];r.type===e&&r.startTime<t&&r.endTime===sk&&(r.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:s,type:i}){const{id3Track:r,hls:n}=this;if(!n)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:a}}=n;if(r&&(o||a)){let t;t="audio"===i?t=>t.type===Bw.audioId3&&a:"video"===i?t=>t.type===Bw.emsg&&o:t=>t.type===Bw.audioId3&&a||t.type===Bw.emsg&&o,RT(r,e,s,t)}}onLevelUpdated(t,{details:e}){this.updateDateRangeCues(e,!0)}onLevelPtsUpdated(t,e){Math.abs(e.drift)>.01&&this.updateDateRangeCues(e.details)}updateDateRangeCues(t,e){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:s}=this,{dateRanges:i}=t,r=Object.keys(i);let n=this.dateRangeCuesAppended;var o;if(s&&e)if(null!=(o=s.cues)&&o.length){const t=Object.keys(n).filter((t=>!r.includes(t)));for(let e=t.length;e--;){const i=t[e],r=n[i].cues;delete n[i],Object.keys(r).forEach((t=>{try{const e=r[t];e.removeEventListener("enter",this.onEventCueEnter),s.removeCue(e)}catch(t){}}))}}else n=this.dateRangeCuesAppended={};const a=t.fragments[t.fragments.length-1];if(0===r.length||!Hy(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const h=tk();for(let t=0;t<r.length;t++){const e=r[t],s=i[e],o=s.startTime,a=n[e],c=(null==a?void 0:a.cues)||{};let d=(null==a?void 0:a.durationKnown)||!1,u=sk;const{duration:p,endDate:f}=s;if(f&&null!==p)u=o+p,d=!0;else if(s.endOnNext&&!d){const t=r.reduce(((t,e)=>{if(e!==s.id){const r=i[e];if(r.class===s.class&&r.startDate>s.startDate&&(!t||s.startDate<t.startDate))return r}return t}),null);t&&(u=t.startTime,d=!0)}const m=Object.keys(s.attr);for(let t=0;t<m.length;t++){const i=m[t];if("ID"===(l=i)||"CLASS"===l||"CUE"===l||"START-DATE"===l||"DURATION"===l||"END-DATE"===l||"END-ON-NEXT"===l)continue;const r=c[i];if(r)d&&!a.durationKnown?r.endTime=u:Math.abs(r.startTime-o)>.01&&(r.startTime=o,r.endTime=u);else if(h){let t=s.attr[i];jb(i)&&(t=ik(t));const r=ek(h,o,u,{key:i,data:t},Bw.dateRange);r&&(r.id=e,this.id3Track.addCue(r),c[i]=r,this.hls.config.interstitialsController&&("X-ASSET-LIST"!==i&&"X-ASSET-URL"!==i||r.addEventListener("enter",this.onEventCueEnter)))}}n[e]={cues:c,dateRange:s,durationKnown:d}}var l}}class nk{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,e=this.levelDetails;if(!t||!e)return;this.currentTime=t.currentTime;const s=this.computeLatency();if(null===s)return;this._latency=s;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:r}=this.config;if(!i||1===r||!e.live)return;const n=this.targetLatency;if(null===n)return;const o=s-n;if(o<Math.min(this.maxLatency,n+e.targetduration)&&o>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,r)),s=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20,i=Math.min(e,Math.max(1,s));this.changeMediaPlaybackRate(t,i)}else 1!==t.playbackRate&&0!==t.playbackRate&&this.changeMediaPlaybackRate(t,1)},this.hls=t,this.config=t.config,this.registerListeners()}get levelDetails(){var t;return(null==(t=this.hls)?void 0:t.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:t}=this;if(void 0!==t.liveMaxLatencyDuration)return t.liveMaxLatencyDuration;const e=this.levelDetails;return e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const t=this.levelDetails;if(null===t||null===this.hls)return null;const{holdBack:e,partHoldBack:s,targetduration:i}=t,{liveSyncDuration:r,liveSyncDurationCount:n,lowLatencyMode:o}=this.config,a=this.hls.userConfig;let h=o&&s||e;(this._targetLatencyUpdated||a.liveSyncDuration||a.liveSyncDurationCount||0===h)&&(h=void 0!==r?r:n*i);const l=i;return h+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,l)}set targetLatency(t){this.stallCount=0,this.config.liveSyncDuration=t,this._targetLatencyUpdated=!0}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency;if(null===t||null===e)return null;const s=this.levelDetails;if(null===s)return null;const i=s.edge,r=t-e-this.edgeStalled,n=i-s.totalduration,o=i-(this.config.lowLatencyMode&&s.partTarget||s.targetduration);return Math.min(Math.max(n,r),o)}get drift(){const t=this.levelDetails;return null===t?1:t.drift}get edgeStalled(){const t=this.levelDetails;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t}=this,e=this.levelDetails;if(!t||!e)return 0;const s=t.buffered.length;return(s?t.buffered.end(s-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:t}=this;t&&(t.on(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Jy.ERROR,this.onError,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(Jy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Jy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Jy.ERROR,this.onError,this))}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){e.advanced&&this.onTimeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(t,e){var s;e.details===Yy.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(s=this.levelDetails)&&s.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(t,e){var s,i;t.playbackRate!==e&&(null==(s=this.hls)||s.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${null==(i=this.targetLatency)?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${t.playbackRate} to ${e}`),t.playbackRate=e)}estimateLiveEdge(){const t=this.levelDetails;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}class ok extends FE{constructor(t,e){super(t,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Jy.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Jy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Jy.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const s=this.hls.config.preferManagedMediaSource,i=[],r={},n={};let o=!1,a=!1,h=!1;e.levels.forEach((t=>{const e=t.attrs;let{audioCodec:l,videoCodec:c}=t;l&&(t.audioCodec=l=gv(l,s)||void 0),c&&(c=t.videoCodec=function(t){const e=t.split(",");for(let t=0;t<e.length;t++){const s=e[t].split(".");s.length>2&&"avc1"===s[0]&&(e[t]=`avc1.${parseInt(s[1]).toString(16)}${("000"+parseInt(s[2]).toString(16)).slice(-4)}`)}return e.join(",")}(c));const{width:d,height:u,unknownCodecs:p}=t;let f=p?p.length:0;if(p)for(let e=f;e--;){const s=p[e];this.isAudioSupported(s)?(t.audioCodec=l=l?`${l},${s}`:s,f--,av.audio[l.substring(0,4)]=2):this.isVideoSupported(s)&&(t.videoCodec=c=c?`${c},${s}`:s,f--,av.video[c.substring(0,4)]=2)}if(o||(o=!(!d||!u)),a||(a=!!c),h||(h=!!l),f||l&&!this.isAudioSupported(l)||c&&!this.isVideoSupported(c))return void this.log(`Some or all CODECS not supported "${e.CODECS}"`);const{CODECS:m,"FRAME-RATE":g,"HDCP-LEVEL":y,"PATHWAY-ID":A,RESOLUTION:v,"VIDEO-RANGE":b}=e,S=`${`${A||"."}-`}${t.bitrate}-${v}-${g}-${m}-${b}-${y}`;if(r[S])if(r[S].uri===t.url||t.attrs["PATHWAY-ID"])r[S].addGroupId("audio",e.AUDIO),r[S].addGroupId("text",e.SUBTITLES);else{const e=n[S]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const s=this.createLevel(t);r[S]=s,i.push(s)}else{const e=this.createLevel(t);r[S]=e,n[S]=1,i.push(e)}})),this.filterAndSortMediaOptions(i,e,o,a,h)}createLevel(t){const e=new xv(t),s=t.supplemental;if(null!=s&&s.videoCodec&&!this.isVideoSupported(s.videoCodec)){const t=new Error(`SUPPLEMENTAL-CODECS not supported "${s.videoCodec}"`);this.log(t.message),e.supportedResult=wv(t,[])}return e}isAudioSupported(t){return lv(t,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(t){return lv(t,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(t,e,s,i,r){let n=[],o=[],a=t;if((s||i)&&r&&(a=a.filter((({videoCodec:t,videoRange:e,width:s,height:i})=>{return(!!t||!(!s||!i))&&(!!(r=e)&&_v.indexOf(r)>-1);var r}))),0===a.length)return void Promise.resolve().then((()=>{if(this.hls){let t="no level with compatible codecs found in manifest",s=t;e.levels.length&&(s=`one or more CODECS in variant not supported: ${Fv(e.levels.map((t=>t.attrs.CODECS)).filter(((t,e,s)=>s.indexOf(t)===e)))}`,this.warn(s),t+=` (${s})`);const i=new Error(t);this.hls.trigger(Jy.ERROR,{type:Qy.MEDIA_ERROR,details:Yy.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:i,reason:s})}}));e.audioTracks&&(n=e.audioTracks.filter((t=>!t.audioCodec||this.isAudioSupported(t.audioCodec))),ak(n)),e.subtitles&&(o=e.subtitles,ak(o));const h=a.slice(0);a.sort(((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(s&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return _v.indexOf(t.videoRange)-_v.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const s=uv(t.videoCodec),i=uv(e.videoCodec);if(s!==i)return i-s}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const s=pv(t.codecSet),i=pv(e.codecSet);if(s!==i)return i-s}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0}));let l=h[0];if(this.steering&&(a=this.steering.filterParsedLevels(a),a.length!==h.length))for(let t=0;t<h.length;t++)if(h[t].pathwayId===a[0].pathwayId){l=h[t];break}this._levels=a;for(let t=0;t<a.length;t++)if(a[t]===l){var c;this._firstLevel=t;const e=l.bitrate,s=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${a.length} level(s) found, first bitrate: ${e}`),void 0===(null==(c=this.hls.userConfig)?void 0:c.abrEwmaDefaultEstimate)){const t=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);t>s&&s===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=t)}break}const d=r&&!i,u=this.hls.config,p=!(!u.audioStreamController||!u.audioTrackController),f={levels:a,audioTracks:n,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:r,video:i,altAudio:p&&!d&&n.some((t=>!!t.url))};this.hls.trigger(Jy.MANIFEST_PARSED,f)}get levels(){return 0===this._levels.length?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const s=new Error("invalid level idx"),i=t<0;if(this.hls.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:s,reason:s.message}),i)return;t=Math.min(t,e.length-1)}const s=this.currentLevelIndex,i=this.currentLevel,r=i?i.attrs["PATHWAY-ID"]:void 0,n=e[t],o=n.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=n,s===t&&i&&r===o)return;this.log(`Switching to level ${t} (${n.height?n.height+"p ":""}${n.videoRange?n.videoRange+" ":""}${n.codecSet?n.codecSet+" ":""}@${n.bitrate})${o?" with Pathway "+o:""} from level ${s}${r?" with Pathway "+r:""}`);const a={level:t,attrs:n.attrs,details:n.details,bitrate:n.bitrate,averageBitrate:n.averageBitrate,maxBitrate:n.maxBitrate,realBitrate:n.realBitrate,width:n.width,height:n.height,codecSet:n.codecSet,audioCodec:n.audioCodec,videoCodec:n.videoCodec,audioGroups:n.audioGroups,subtitleGroups:n.subtitleGroups,loaded:n.loaded,loadError:n.loadError,fragmentError:n.fragmentError,name:n.name,id:n.id,uri:n.uri,url:n.url,urlId:0,audioGroupIds:n.audioGroupIds,textGroupIds:n.textGroupIds};this.hls.trigger(Jy.LEVEL_SWITCHING,a);const h=n.details;if(!h||h.live){const t=this.switchParams(n.uri,null==i?void 0:i.details,h);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(t){if(this.steering){const e=this.steering.pathways(),s=t.filter((t=>-1!==e.indexOf(t)));if(t.length<1)return void this.warn(`pathwayPriority ${t} should contain at least one pathway from list: ${e}`);this.steering.pathwayPriority=s}}onError(t,e){!e.fatal&&e.context&&e.context.type===$y&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===eA){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return;const s=this._levels[e.level];null!=s&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(t,e){var s;const{level:i,details:r}=e,n=e.levelInfo;var o;if(!n)return this.warn(`Invalid level index ${i}`),void(null!=(o=e.deliveryDirectives)&&o.skip&&(r.deltaUpdateFailed=!0));if(n===this.currentLevel||e.withoutMultiVariant){0===n.fragmentError&&(n.loadError=0);let t=n.details;t===e.details&&t.advanced&&(t=void 0),this.playlistLoaded(i,e,t)}else null!=(s=e.deliveryDirectives)&&s.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=this.getUrlWithDirectives(t.uri,e),i=this.currentLevelIndex,r=t.attrs["PATHWAY-ID"],n=t.details,o=null==n?void 0:n.age;this.log(`Loading level index ${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${r?" Pathway "+r:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${s}`),this.hls.trigger(Jy.LEVEL_LOADING,{url:s,level:i,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;if(1===this._levels.length)return;const s=this._levels.filter(((e,s)=>s!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach((t=>t.level=-1))),!1)));jS(s),this._levels=s,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=s.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(Jy.LEVELS_UPDATED,{levels:s})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:s}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(Jy.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:s}))}}function ak(t){const e={};t.forEach((t=>{const s=t.groupId||"";t.id=e[s]=e[s]||0,e[s]++}))}function hk(){return self.SourceBuffer||self.WebKitSourceBuffer}function lk(){if(!yA())return!1;const t=hk();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}class ck extends nw{constructor(t,e,s){super(t,e,s,"stream-controller",eA),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const t=this.media,e=t?t.currentTime:null;if(null===e||!Hy(e))return;if(this.log(`Media seeked to ${e.toFixed(3)}`),!this.getBufferedFrag(e))return;const s=this.getFwdBufferInfoAtPos(t,e,eA,0);null!==s&&0!==s.len?this.tick():this.warn(`Main forward buffer length at ${e} on "seeked" event ${s?s.len:"empty"})`)},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Jy.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Jy.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(Jy.BUFFER_CREATED,this.onBufferCreated,this),t.on(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Jy.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(Jy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Jy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Jy.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(Jy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Jy.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(Jy.BUFFER_CREATED,this.onBufferCreated,this),t.off(Jy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Jy.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(t,e){if(this.levels){const{lastCurrentTime:s,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=i.startLevel;-1===t&&(i.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=i.firstAutoLevel),i.nextLoadLevel=t,this.level=i.loadLevel,this._hasEnoughToStart=!!e}s>0&&-1===t&&!e&&(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),t=s),this.state=QS,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=qS}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case rw:{const{levels:t,level:e}=this,s=null==t?void 0:t[e],i=null==s?void 0:s.details;if(i&&(!i.live||this.levelLastLoaded===s&&!this.waitForLive(s))){if(this.waitForCdnTuneIn(i))break;this.state=QS;break}if(this.hls.nextLoadLevel!==this.level){this.state=QS;break}break}case XS:{var t;const e=self.performance.now(),s=this.retryDate;if(!s||e>=s||null!=(t=this.media)&&t.seeking){const{levels:t,level:e}=this,s=null==t?void 0:t[e];this.resetStartWhenNotLoaded(s||null),this.state=QS}}}this.state===QS&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var t;super.onTickEnd(),null!=(t=this.media)&&t.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:s,media:i}=this;if(null===e||!i&&!this.primaryPrefetch&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const r=this.buffering?t.nextLoadLevel:t.loadLevel;if(null==s||!s[r])return;const n=s[r],o=this.getMainFwdBufferInfo();if(null===o)return;const a=this.getLevelDetails();if(a&&this._streamEnded(o,a)){const t={};return 2===this.altAudio&&(t.type="video"),this.hls.trigger(Jy.BUFFER_EOS,t),void(this.state=ew)}if(!this.buffering)return;t.loadLevel!==r&&-1===t.manualLevel&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=t.nextLoadLevel=r;const h=n.details;if(!h||this.state===rw||this.waitForLive(n))return this.level=r,this.state=rw,void(this.startFragRequested=!1);const l=o.len,c=this.getMaxBufferLength(n.maxBitrate);if(l>=c)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:o.end;let u=this.getNextFragment(d,h);if(this.couldBacktrack&&!this.fragPrevious&&u&&RA(u)&&this.fragmentTracker.getState(u)!==ub){var p;const t=(null!=(p=this.backtrackFragment)?p:u).sn-h.startSN,e=h.fragments[t-1];e&&u.cc===e.cc&&(u=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(u&&this.isLoopLoading(u,d)){if(!u.gap){const t=this.audioOnly&&!this.altAudio?kA:_A,e=(t===_A?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,eA)}u=this.getNextFragmentLoopLoading(u,h,o,eA,c)}u&&(!u.initSegment||u.initSegment.data||this.bitrateTest||(u=u.initSegment),this.loadFragment(u,n,d))}loadFragment(t,e,s){const i=this.fragmentTracker.getState(t);i===lb||i===db?RA(t)?this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):super.loadFragment(t,e,s):this._loadInitSegment(t,e):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,eA)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let s;const i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const r=this.getLevelDetails();if(null!=r&&r.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*r.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],i=this.fragLastKbps;s=i&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*i)+1:0}else s=0;const n=this.getBufferedFrag(e.currentTime+s);if(n){const t=this.followingBufferedFrag(n);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,s=t.duration,i=Math.max(n.end,e+Math.min(Math.max(s-this.config.maxFragLookUpTolerance,s*(this.couldBacktrack?.5:.125)),s*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(i,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case YS:case JS:case XS:case ZS:case tw:this.state=QS}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,2===this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const s=e.media;ET(s,"playing",this.onMediaPlaying),ET(s,"seeked",this.onMediaSeeked)}onMediaDetaching(t,e){const{media:s}=this;s&&(TT(s,"playing",this.onMediaPlaying),TT(s,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(t,e);!!e.transferMedia||(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Jy.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(t,e){let s=!1,i=!1;e.levels.forEach((t=>{const e=t.audioCodec;e&&(s=s||-1!==e.indexOf("mp4a.40.2"),i=i||-1!==e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=s&&i&&!function(){var t;const e=hk();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:s}=this;if(!s||this.state!==QS)return;const i=e.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=rw)}onLevelLoaded(t,e){var s;const{levels:i,startFragRequested:r}=this,n=e.level,o=e.details,a=o.totalduration;if(!i)return void this.warn(`Levels were reset while loading level ${n}`);this.log(`Level ${n} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const h=e.levelInfo,l=this.fragCurrent;!l||this.state!==JS&&this.state!==XS||l.level!==e.level&&l.loader&&this.abortCurrentFrag();let c=0;if(o.live||null!=(s=h.details)&&s.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;c=this.alignPlaylists(o,h.details,null==(d=this.levelLastLoaded)?void 0:d.details)}if(h.details=o,this.levelLastLoaded=h,r||this.setStartPosition(o,c),this.hls.trigger(Jy.LEVEL_UPDATED,{details:o,level:n}),this.state===rw){if(this.waitForCdnTuneIn(o))return;this.state=QS}r&&o.live&&this.synchronizeToLiveEdge(o),this.tick()}synchronizeToLiveEdge(t){const{config:e,media:s}=this;if(!s)return;const i=this.hls.liveSyncPosition,r=this.getLoadPosition(),n=t.fragmentStart,o=t.edge,a=r>=n-e.maxFragLookUpTolerance&&r<=o;if(null!==i&&s.duration>i&&(r<i||!a)){const n=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;if((!a&&s.readyState<4||r<o-n)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),s.readyState))if(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),"buffered"===this.config.liveSyncMode){var h;const t=Lb.bufferInfo(s,i,0);if(null==t||null==(h=t.buffered)||!h.length)return void(s.currentTime=i);if(t.start<=r)return void(s.currentTime=i);const{nextStart:e}=Lb.bufferedInfo(t.buffered,r,0);e&&(s.currentTime=e)}else s.currentTime=i}}_handleFragmentLoadProgress(t){var e;const s=t.frag,{part:i,payload:r}=t,{levels:n}=this;if(!n)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);const o=n[s.level];if(!o)return void this.warn(`Level ${s.level} not found on progress`);const a=o.details;if(!a)return this.warn(`Dropping fragment ${s.sn} of level ${s.level} after level details were reset`),void this.fragmentTracker.removeFragment(s);const h=o.videoCodec,l=a.PTSKnown||!a.live,c=null==(e=s.initSegment)?void 0:e.data,d=this._getAudioCodec(o),u=this.transmuxer=this.transmuxer||new BE(this.hls,eA,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,f=-1!==p,m=new Db(s.level,s.sn,s.stats.chunkCount,r.byteLength,p,f),g=this.initPTS[s.cc];u.push(r,c,d,h,s,i,a.totalduration,l,m,g)}onAudioTrackSwitching(t,e){const s=this.hls,i=2===this.altAudio;if(zv(e.url,s))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i)return this.fragmentTracker.removeAllFragments(),s.once(Jy.BUFFER_FLUSHED,(()=>{var t;null==(t=this.hls)||t.trigger(Jy.AUDIO_TRACK_SWITCHED,e)})),void s.trigger(Jy.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});s.trigger(Jy.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const s=zv(e.url,this.hls);if(s){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=s?2:0,this.tick()}onBufferCreated(t,e){const s=e.tracks;let i,r,n=!1;for(const t in s){const e=s[t];if("main"===e.id){if(r=t,i=e,"video"===t){const e=s[t];e&&(this.videoBuffer=e.buffer)}}else n=!0}n&&i?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:s,part:i}=e,r=s.type===eA;if(r){if(this.fragContextChanged(s))return this.warn(`Fragment ${s.sn}${i?" p: "+i.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===tw&&(this.state=QS));const t=i?i.stats:s.stats;this.fragLastKbps=Math.round(8*t.total/(t.buffering.end-t.loading.first)),RA(s)&&(this.fragPrevious=s),this.fragBufferedComplete(s,i)}const n=this.media;n&&(!this._hasEnoughToStart&&Lb.getBuffered(n).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),r&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(t,e){var s;if(e.fatal)this.state=sw;else switch(e.details){case Yy.FRAG_GAP:case Yy.FRAG_PARSING_ERROR:case Yy.FRAG_DECRYPT_ERROR:case Yy.FRAG_LOAD_ERROR:case Yy.FRAG_LOAD_TIMEOUT:case Yy.KEY_LOAD_ERROR:case Yy.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(eA,e);break;case Yy.LEVEL_LOAD_ERROR:case Yy.LEVEL_LOAD_TIMEOUT:case Yy.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==rw||(null==(s=e.context)?void 0:s.type)!==$y||(this.state=QS);break;case Yy.BUFFER_ADD_CODEC_ERROR:case Yy.BUFFER_APPEND_ERROR:if("main"!==e.parent)return;this.resetLoadingState();break;case Yy.BUFFER_FULL_ERROR:if("main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Yy.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onFragLoadEmergencyAborted(){this.state=QS,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==kA||!this.altAudio){const t=(e===_A?this.videoBuffer:this.mediaBuffer)||this.media;t&&(this.afterBufferFlushed(t,e,eA),this.tick())}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let s=this.startPosition;if(s>=0&&e<s){if(t.seeking)return void this.log(`could not seek to ${s}, already seeking at ${e}`);const i=this.timelineOffset;i&&s&&(s+=i);const r=this.getLevelDetails(),n=Lb.getBuffered(t),o=n.length?n.start(0):0,a=o-s,h=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||a>0&&(a<h||this.loadingParts&&a<2*((null==r?void 0:r.partTarget)||0)))&&(this.log(`adjusting start position by ${a} to match buffer start`),s+=a,this.startPosition=s),e<s&&(this.log(`seek to target start position ${s} from current time ${e} buffer start ${o}`),t.currentTime=s)}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((t=>{const{hls:s}=this,i=null==t?void 0:t.frag;if(!i||this.fragContextChanged(i))return;e.fragmentError=0,this.state=QS,this.startFragRequested=!1,this.bitrateTest=!1;const r=i.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),s.trigger(Jy.FRAG_LOADED,t),i.bitrateTest=!1}))}_handleTransmuxComplete(t){var e;const s=this.playlistType,{hls:i}=this,{remuxResult:r,chunkMeta:n}=t,o=this.getCurrentContext(n);if(!o)return void this.resetWhenMissingContext(n);const{frag:a,part:h,level:l}=o,{video:c,text:d,id3:u,initSegment:p}=r,{details:f}=l,m=this.altAudio?void 0:r.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=ZS,p){if(null!=p&&p.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,p.tracks,t,n),i.trigger(Jy.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:s,tracks:p.tracks})}const t=p.initPTS,e=p.timescale;Hy(t)&&(this.initPTS[a.cc]={baseTime:t,timescale:e},i.trigger(Jy.INIT_PTS_FOUND,{frag:a,id:s,initPTS:t,timescale:e}))}if(c&&f){m&&"audiovideo"===c.type&&this.logMuxedErr(a);const t=f.fragments[a.sn-1-f.startSN],e=a.sn===f.startSN,s=!t||a.cc>t.cc;if(!1!==r.independent){const{startPTS:t,endPTS:i,startDTS:r,endDTS:o}=c;if(h)h.elementaryStreams[c.type]={startPTS:t,endPTS:i,startDTS:r,endDTS:o};else if(c.firstKeyFrame&&c.independent&&1===n.id&&!s&&(this.couldBacktrack=!0),c.dropped&&c.independent){const r=this.getMainFwdBufferInfo(),n=(r?r.end:this.getLoadPosition())+this.config.maxBufferHole,h=c.firstKeyFramePTS?c.firstKeyFramePTS:t;if(!e&&n<h-this.config.maxBufferHole&&!s)return void this.backtrack(a);s&&(a.gap=!0),a.setElementaryStreamInfo(c.type,a.start,i,a.start,o,!0)}else e&&t-(f.appliedTimelineOffset||0)>2&&(a.gap=!0);a.setElementaryStreamInfo(c.type,t,i,r,o),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(c,a,h,n,e||s)}else{if(!e&&!s)return void this.backtrack(a);a.gap=!0}}if(m){const{startPTS:t,endPTS:e,startDTS:s,endDTS:i}=m;h&&(h.elementaryStreams[kA]={startPTS:t,endPTS:e,startDTS:s,endDTS:i}),a.setElementaryStreamInfo(kA,t,e,s,i),this.bufferFragmentData(m,a,h,n)}if(f&&null!=u&&null!=(e=u.samples)&&e.length){const t={id:s,frag:a,details:f,samples:u.samples};i.trigger(Jy.FRAG_PARSING_METADATA,t)}if(f&&d){const t={id:s,frag:a,details:f,samples:d.samples};i.trigger(Jy.FRAG_PARSING_USERDATA,t)}}}logMuxedErr(t){this.warn(`${RA(t)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${t.url}`)}_bufferInitSegment(t,e,s,i){if(this.state!==ZS)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&(delete e.audio,e.audiovideo&&this.logMuxedErr(s));const{audio:r,video:n,audiovideo:o}=e;if(r){let s=yv(r.codec,t.audioCodec);"mp4a"===s&&(s="mp4a.40.5");const i=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){s&&(s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const t=r.metadata;t&&"channelCount"in t&&1!==(t.channelCount||1)&&-1===i.indexOf("firefox")&&(s="mp4a.40.5")}s&&-1!==s.indexOf("mp4a.40.5")&&-1!==i.indexOf("android")&&"audio/mpeg"!==r.container&&(s="mp4a.40.2",this.log(`Android: force audio codec to ${s}`)),t.audioCodec&&t.audioCodec!==s&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${s}"`),r.levelCodec=s,r.id=eA,this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${s||""}/${t.audioCodec||""}/${r.codec}]`),delete e.audiovideo}if(n){n.levelCodec=t.videoCodec,n.id=eA;const s=n.codec;if(4===(null==s?void 0:s.length))switch(s){case"hvc1":case"hev1":n.codec="hvc1.1.6.L120.90";break;case"av01":n.codec="av01.0.04M.08";break;case"avc1":n.codec="avc1.42e01e"}this.log(`Init video buffer, container:${n.container}, codecs[level/parsed]=[${t.videoCodec||""}/${s}]${n.codec!==s?" parsed-corrected="+n.codec:""}${n.supplemental?" supplemental="+n.supplemental:""}`),delete e.audiovideo}o&&(this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${t.codecs}/${o.codec}]`),delete e.video,delete e.audio);const a=Object.keys(e);if(a.length){if(this.hls.trigger(Jy.BUFFER_CODECS,e),!this.hls)return;a.forEach((t=>{const r=e[t].initSegment;null!=r&&r.byteLength&&this.hls.trigger(Jy.BUFFER_APPENDING,{type:t,data:r,frag:s,part:null,chunkMeta:i,parent:s.type})}))}this.tickImmediate()}getMainFwdBufferInfo(){const t=this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,eA)}get maxBufferLength(){const{levels:t,level:e}=this,s=null==t?void 0:t[e];return s?this.getMaxBufferLength(s.maxBitrate):this.config.maxBufferLength}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=QS}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const s=t.currentTime;if(Lb.isBuffered(t,s)?e=this.getAppendedFrag(s):Lb.isBuffered(t,s+.1)&&(e=this.getAppendedFrag(s+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,s=e.level;t&&e.sn===t.sn&&t.level===s||(this.fragPlaying=e,this.hls.trigger(Jy.FRAG_CHANGED,{frag:e}),t&&t.level===s||this.hls.trigger(Jy.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){var t;if(this.fragPlaying)return this.fragPlaying;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;return Hy(e)?this.getAppendedFrag(e):null}get currentProgramDateTime(){var t;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;if(Hy(e)){const t=this.getLevelDetails(),s=this.currentFrag||(t?Kv(null,t.fragments,e):null);if(s){const t=s.programDateTime;if(null!==t){const i=t+1e3*(e-s.start);return new Date(i)}}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class dk{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const s in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[s].loader;if(i){var e;if(t&&t!==(null==(e=i.context)?void 0:e.frag.type))return;i.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=Yy.KEY_LOAD_ERROR,s,i,r){return new _b({type:Qy.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:r,error:s,networkDetails:i})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length)if(e.length){const{sn:s,cc:i}=t;for(let t=0;t<e.length;t++){const r=e[t];if(i<=r.cc&&("initSegment"===s||"initSegment"===r.sn||s<r.sn))return this.emeController.selectKeySystemFormat(r).then((t=>{if(r.setKeyFormat(t),this.emeController&&this.config.requireKeySystemAccessOnStart){const e=tS(t);if(e)return this.emeController.getKeySystemAccess([e])}}))}}else if(this.config.requireKeySystemAccessOnStart){const t=aS(this.config);if(t.length)return this.emeController.getKeySystemAccess(t)}return null}load(t){return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var s,i;e&&t.setKeyFormat(e);const r=t.decryptdata;if(!r){const s=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,Yy.KEY_LOAD_ERROR,s))}const n=r.uri;if(!n)return Promise.reject(this.createKeyLoadError(t,Yy.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${n}"`)));let o=this.keyUriToKeyInfo[n];if(null!=(s=o)&&s.decryptdata.key)return r.key=o.decryptdata.key,Promise.resolve({frag:t,keyInfo:o});var a;if(null!=(i=o)&&i.keyLoadPromise)switch(null==(a=o.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then((e=>(r.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:o})))}switch(o=this.keyUriToKeyInfo[n]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===r.keyFormat?this.loadKeyHTTP(o,t):this.loadKeyEME(o,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(o,t);default:return Promise.reject(this.createKeyLoadError(t,Yy.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(t,e){const s={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(s);if(e)return(t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,s)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(s)}loadKeyHTTP(t,e){const s=this.config,i=new(0,s.loader)(s);return e.keyLoader=t.loader=i,t.keyLoadPromise=new Promise(((r,n)=>{const o={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},a=s.keyLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,s,i)=>{const{frag:o,keyInfo:a,url:h}=s;if(!o.decryptdata||a!==this.keyUriToKeyInfo[h])return n(this.createKeyLoadError(o,Yy.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));a.decryptdata.key=o.decryptdata.key=new Uint8Array(t.data),o.keyLoader=null,a.loader=null,r({frag:o,keyInfo:a})},onError:(t,s,i,r)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Yy.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),i,lA({url:o.url,data:void 0},t)))},onTimeout:(t,s,i)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Yy.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:(t,s,i)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Yy.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(o,h,l)}))}resetLoader(t){const{frag:e,keyInfo:s,url:i}=t,r=s.loader;e.keyLoader===r&&(e.keyLoader=null,s.loader=null),delete this.keyUriToKeyInfo[i],r&&r.destroy()}}function uk(t){const{type:e}=t;switch(e){case Zy:return sA;case tA:return iA;default:return eA}}function pk(t,e){let s=t.url;return void 0!==s&&0!==s.indexOf("data:")||(s=e.url),s}class fk{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Jy.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(Jy.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:t}=this;t.off(Jy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Jy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Jy.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(Jy.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(Jy.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(t){const e=this.hls.config,s=e.pLoader,i=e.loader,r=new(s||i)(e);return this.loaders[t.type]=r,r}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:s}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Xy,url:s,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(t,e){const{id:s,level:i,pathwayId:r,url:n,deliveryDirectives:o,levelInfo:a}=e;this.load({id:s,level:i,pathwayId:r,responseType:"text",type:$y,url:n,deliveryDirectives:o,levelOrTrack:a})}onAudioTrackLoading(t,e){const{id:s,groupId:i,url:r,deliveryDirectives:n,track:o}=e;this.load({id:s,groupId:i,level:null,responseType:"text",type:Zy,url:r,deliveryDirectives:n,levelOrTrack:o})}onSubtitleTrackLoading(t,e){const{id:s,groupId:i,url:r,deliveryDirectives:n,track:o}=e;this.load({id:s,groupId:i,level:null,responseType:"text",type:tA,url:r,deliveryDirectives:n,levelOrTrack:o})}onLevelsUpdated(t,e){const s=this.loaders[$y];if(s){const t=s.context;t&&!e.levels.some((e=>e===t.levelOrTrack))&&(s.abort(),delete this.loaders[$y])}}load(t){var e;const s=this.hls.config;let i,r=this.getInternalLoader(t);if(r){const e=this.hls.logger,s=r.context;if(s&&s.levelOrTrack===t.levelOrTrack&&(s.url===t.url||s.deliveryDirectives&&!t.deliveryDirectives))return void(s.url===t.url?e.log(`[playlist-loader]: ignore ${t.url} ongoing request`):e.log(`[playlist-loader]: ignore ${t.url} in favor of ${s.url}`));e.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),r.abort()}if(i=t.type===Xy?s.manifestLoadPolicy.default:aA({},s.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),r=this.createInternalLoader(t),Hy(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===$y&&null!==t.level?e=this.hls.levels[t.level].details:t.type===Zy&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===tA&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,s=e.targetduration;if(t&&s){const e=1e3*Math.max(3*t,.8*s);i=aA({},i,{maxTimeToFirstByteMs:Math.min(e,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,i.maxTimeToFirstByteMs)})}}}const n=i.errorRetry||i.timeoutRetry||{},o={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:n.maxNumRetry||0,retryDelay:n.retryDelayMs||0,maxRetryDelay:n.maxRetryDelayMs||0},a={onSuccess:(t,e,s,i)=>{const r=this.getInternalLoader(s);this.resetInternalLoader(s.type);const n=t.data;0===n.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),AS.isMediaPlaylist(n)||s.type!==Xy?this.handleTrackOrLevelPlaylist(t,e,s,i||null,r):this.handleMasterPlaylist(t,e,s,i)):this.handleManifestParsingError(t,s,new Error("no EXTM3U delimiter"),i||null,e)},onError:(t,e,s,i)=>{this.handleNetworkError(e,s,!1,t,i)},onTimeout:(t,e,s)=>{this.handleNetworkError(e,s,!0,void 0,t)}};r.load(t,o,a)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:t,startPosition:e},forceStartLoad:s}=this.hls;(t||s)&&(this.hls.logger.log(`${t?"auto":"force"} startLoad with configured startPosition ${e}`),this.hls.startLoad(e))}handleMasterPlaylist(t,e,s,i){const r=this.hls,n=t.data,o=pk(t,s),a=AS.parseMasterPlaylist(n,o);if(a.playlistParsingError)return void this.handleManifestParsingError(t,s,a.playlistParsingError,i,e);const{contentSteering:h,levels:l,sessionData:c,sessionKeys:d,startTimeOffset:u,variableList:p}=a;this.variableList=p;const{AUDIO:f=[],SUBTITLES:m,"CLOSED-CAPTIONS":g}=AS.parseMasterPlaylistMedia(n,o,a);if(f.length){f.some((t=>!t.url))||!l[0].audioCodec||l[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Nb({}),bitrate:0,url:""}))}r.trigger(Jy.MANIFEST_LOADED,{levels:l,audioTracks:f,subtitles:m,captions:g,contentSteering:h,url:o,stats:e,networkDetails:i,sessionData:c,sessionKeys:d,startTimeOffset:u,variableList:p})}handleTrackOrLevelPlaylist(t,e,s,i,r){const n=this.hls,{id:o,level:a,type:h}=s,l=pk(t,s),c=Hy(a)?a:Hy(o)?o:0,d=uk(s),u=AS.parseLevelPlaylist(t.data,l,c,d,0,this.variableList);if(h===Xy){const t={attrs:new Nb({}),bitrate:0,details:u,name:"",url:l};u.requestScheduled=e.loading.start+FS(u,0),n.trigger(Jy.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:l,stats:e,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),s.levelDetails=u,this.handlePlaylistLoaded(u,t,e,s,i,r)}handleManifestParsingError(t,e,s,i,r){this.hls.trigger(Jy.ERROR,{type:Qy.NETWORK_ERROR,details:Yy.MANIFEST_PARSING_ERROR,fatal:e.type===Xy,url:t.url,err:s,error:s,reason:s.message,response:t,context:e,networkDetails:i,stats:r})}handleNetworkError(t,e,s=!1,i,r){let n=`A network ${s?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${t.type}`;t.type===$y?n+=`: ${t.level} id: ${t.id}`:t.type!==Zy&&t.type!==tA||(n+=` id: ${t.id} group-id: "${t.groupId}"`);const o=new Error(n);this.hls.logger.warn(`[playlist-loader]: ${n}`);let a=Yy.UNKNOWN,h=!1;const l=this.getInternalLoader(t);switch(t.type){case Xy:a=s?Yy.MANIFEST_LOAD_TIMEOUT:Yy.MANIFEST_LOAD_ERROR,h=!0;break;case $y:a=s?Yy.LEVEL_LOAD_TIMEOUT:Yy.LEVEL_LOAD_ERROR,h=!1;break;case Zy:a=s?Yy.AUDIO_TRACK_LOAD_TIMEOUT:Yy.AUDIO_TRACK_LOAD_ERROR,h=!1;break;case tA:a=s?Yy.SUBTITLE_TRACK_LOAD_TIMEOUT:Yy.SUBTITLE_LOAD_ERROR,h=!1}l&&this.resetInternalLoader(t.type);const c={type:Qy.NETWORK_ERROR,details:a,fatal:h,url:t.url,loader:l,context:t,error:o,networkDetails:e,stats:r};if(i){const s=(null==e?void 0:e.url)||t.url;c.response=lA({url:s,data:void 0},i)}this.hls.trigger(Jy.ERROR,c)}handlePlaylistLoaded(t,e,s,i,r,n){const o=this.hls,{type:a,level:h,id:l,groupId:c,deliveryDirectives:d}=i,u=pk(e,i),p=uk(i),f="number"==typeof i.level&&p===eA?h:void 0;if(!t.fragments.length){const n=t.playlistParsingError=new Error("No Segments found in Playlist");return void o.trigger(Jy.ERROR,{type:Qy.NETWORK_ERROR,details:Yy.LEVEL_EMPTY_ERROR,fatal:!1,url:u,error:n,reason:n.message,response:e,context:i,level:f,parent:p,networkDetails:r,stats:s})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const m=t.playlistParsingError;if(m){if(this.hls.logger.warn(m),!o.config.ignorePlaylistParsingErrors)return void o.trigger(Jy.ERROR,{type:Qy.NETWORK_ERROR,details:Yy.LEVEL_PARSING_ERROR,fatal:!1,url:u,error:m,reason:m.message,response:e,context:i,level:f,parent:p,networkDetails:r,stats:s});t.playlistParsingError=null}switch(t.live&&n&&(n.getCacheAge&&(t.ageHeader=n.getCacheAge()||0),n.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),a){case Xy:case $y:o.trigger(Jy.LEVEL_LOADED,{details:t,levelInfo:i.levelOrTrack||o.levels[0],level:f||0,id:l||0,stats:s,networkDetails:r,deliveryDirectives:d,withoutMultiVariant:a===Xy});break;case Zy:o.trigger(Jy.AUDIO_TRACK_LOADED,{details:t,track:i.levelOrTrack,id:l||0,groupId:c||"",stats:s,networkDetails:r,deliveryDirectives:d});break;case tA:o.trigger(Jy.SUBTITLE_TRACK_LOADED,{details:t,track:i.levelOrTrack,id:l||0,groupId:c||"",stats:s,networkDetails:r,deliveryDirectives:d})}}}class mk{static get version(){return uw}static isMSESupported(){return lk()}static isSupported(){return function(){if(!lk())return!1;const t=yA();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((e=>t.isTypeSupported(dv(e,"video"))))||["mp4a.40.2","fLaC"].some((e=>t.isTypeSupported(dv(e,"audio")))))}()}static getMediaSource(){return yA()}static get Events(){return Jy}static get MetadataSchema(){return Bw}static get ErrorTypes(){return Qy}static get ErrorDetails(){return Yy}static get DefaultConfig(){return mk.defaultConfig?mk.defaultConfig:QI}static set DefaultConfig(t){mk.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new dw,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const e=this.logger=function(t,e,s){const i=pA();if("object"==typeof console&&!0===t||"object"==typeof t){const r=["debug","log","info","warn","error"];r.forEach((e=>{i[e]=fA(e,t,s)}));try{i.log(`Debug logs enabled for "${e}" in hls.js version 1.6.5`)}catch(t){return pA()}r.forEach((e=>{mA[e]=fA(e,t)}))}else aA(mA,i);return i}(t.debug||!1,"Hls instance",t.assetPlayerId),s=this.config=function(t,e,s){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=YI(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const n=`${"level"===t?"playlist":t}LoadPolicy`,o=void 0===e[n],a=[];r.forEach((s=>{const r=`${t}Loading${s}`,h=e[r];if(void 0!==h&&o){a.push(r);const t=i[n].default;switch(e[n]={default:t},s){case"TimeOut":t.maxLoadTimeMs=h,t.maxTimeToFirstByteMs=h;break;case"MaxRetry":t.errorRetry.maxNumRetry=h,t.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":t.errorRetry.retryDelayMs=h,t.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=h,t.timeoutRetry.maxRetryDelayMs=h}}})),a.length&&s.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${n}": ${Fv(e[n])}`)})),lA(lA({},i),e)}(mk.DefaultConfig,t,e);this.userConfig=t,s.progressive&&JI(s,e);const{abrController:i,bufferController:r,capLevelController:n,errorController:o,fpsController:a}=s,h=new o(this),l=this.abrController=new i(this),c=new pb(this),d=s.interstitialsController,u=d?this.interstitialsController=new d(this,mk):null,p=this.bufferController=new r(this,c),f=this.capLevelController=new n(this),m=new a(this),g=new fk(this),y=s.contentSteeringController,A=y?new y(this):null,v=this.levelController=new ok(this,A),b=new rk(this),S=new dk(this.config),w=this.streamController=new ck(this,c,S),E=this.gapController=new XI(this,c);f.setStreamController(w),m.setStreamController(w);const T=[g,v,w];u&&T.splice(1,0,u),A&&T.splice(1,0,A),this.networkControllers=T;const I=[l,p,E,f,m,b,c];this.audioTrackController=this.createController(s.audioTrackController,T);const k=s.audioStreamController;k&&T.push(this.audioStreamController=new k(this,c,S)),this.subtitleTrackController=this.createController(s.subtitleTrackController,T);const _=s.subtitleStreamController;_&&T.push(this.subtititleStreamController=new _(this,c,S)),this.createController(s.timelineController,I),S.emeController=this.emeController=this.createController(s.emeController,I),this.cmcdController=this.createController(s.cmcdController,I),this.latencyController=this.createController(nk,I),this.coreComponents=I,T.push(h);const C=h.onErrorOut;"function"==typeof C&&this.on(Jy.ERROR,C,h),this.on(Jy.MANIFEST_LOADED,g.onManifestLoaded,g)}createController(t,e){if(t){const s=new t(this);return e&&e.push(s),s}return null}on(t,e,s=this){this._emitter.on(t,e,s)}once(t,e,s=this){this._emitter.once(t,e,s)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,s=this,i){this._emitter.off(t,e,s,i)}listeners(t){return this._emitter.listeners(t)}emit(t,e,s){return this._emitter.emit(t,e,s)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),!this.triggeringException){this.triggeringException=!0;const s=t===Jy.ERROR;this.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.INTERNAL_EXCEPTION,fatal:s,event:t,error:e}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){this.logger.log("destroy"),this.trigger(Jy.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){if(!t||"media"in t&&!t.media){const e=new Error(`attachMedia failed: invalid argument (${t})`);return void this.trigger(Jy.ERROR,{type:Qy.OTHER_ERROR,details:Yy.ATTACH_MEDIA_ERROR,fatal:!0,error:e})}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const e="media"in t,s=e?t.media:t,i=e?t:{media:s};this._media=s,this.trigger(Jy.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Jy.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const t=this.bufferController.transferMedia();return this.trigger(Jy.MEDIA_DETACHING,{transferMedia:t}),t}loadSource(t){this.stopLoad();const e=this.media,s=this._url,i=this._url=TA.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),e&&s&&(s!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(Jy.MANIFEST_LOADING,{url:t})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(t=-1,e){this.logger.log(`startLoad(${t+(e?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let s=0;s<this.networkControllers.length&&(this.networkControllers[s].startLoad(t,e),this.started&&this.networkControllers);s++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!this.started&&this.networkControllers);t++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach((t=>{t.resumeBuffering&&t.resumeBuffering()})))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach((t=>{t.pauseBuffering&&t.pauseBuffering()})))}get inFlightFragments(){const t={[eA]:this.streamController.inFlightFrag};return this.audioStreamController&&(t[sA]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[iA]=this.subtititleStreamController.inFlightFrag),t}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const t=this._media,e=null==t?void 0:t.currentTime;this.detachMedia(),t&&(this.attachMedia(t),e&&this.startLoad(e))}removeLevel(t){this.levelController.removeLevel(t)}get sessionId(){let t=this._sessionId;return t||(t=this._sessionId=function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))}}}()),t}get levels(){const t=this.levelController.levels;return t||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){this.logger.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){this.logger.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){this.logger.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){this.logger.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){this.logger.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get abrEwmaDefaultEstimate(){const{bwEstimator:t}=this.abrController;return t?t.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(this.logger.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return kv.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const s=t.length;for(let i=0;i<s;i++)if(t[i].maxBitrate>=e)return i;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:s}=this;let i;if(i=-1===e&&null!=t&&t.length?t.length-1:e,s)for(let e=i;e--;){const i=t[e].attrs["HDCP-LEVEL"];if(i&&i<=s)return e}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(t){var e;return(null==(e=this.audioTrackController)?void 0:e.setAudioOption(t))||null}setSubtitleOption(t){var e;return(null==(e=this.subtitleTrackController)?void 0:e.setSubtitleOption(t))||null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(t){this.latencyController.targetLatency=t}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(t){this.levelController.pathwayPriority=t}get bufferedToEnd(){var t;return!(null==(t=this.bufferController)||!t.bufferedToEnd)}get interstitialsManager(){var t;return(null==(t=this.interstitialsController)?void 0:t.interstitialsManager)||null}getMediaDecodingInfo(t,e=this.allAudioTracks){return Iv(t,Ov(e),navigator.mediaCapabilities)}}mk.defaultConfig=void 0;const gk=yk;function yk(t,e){const s=Ak();return(yk=function(t,e){return s[t-=260]})(t,e)}function Ak(){const t=["hlsFps","_initHls","_startBandwidthEstimateInterval","then","9VIZgXc","13312hGDdWk","emit","updateVideoInfo","muted","absolute","LEVEL_LOADING","MANIFEST_PARSED playlist m3u8解析完成","MEDIA_DETACHING","eventsDestroy","load","timeStamp","_stopFpsInterval","BUFFER_RESET","ERROR","kBps","waiting","_bindEvents","FRAG_PARSING_INIT_SEGMENT and video codec is ","timeUpdate","demuxStart","removeAttribute","autoplay","TAG_NAME","requestVideoFrameCallback","startLoad","encTypeCode","mp3","fpsInterval","width","decodeStart","MANIFEST_LOADING","codec","MP3","video is paused and replay error ","MEDIA_ERROR","MEDIA_ATTACHING","useCanvasRender","BUFFER_EOS","initVideoPlay","play","bandwidthEstimate","url","type","avc","mediaSourceH265NotSupport"," and hasVideo is ","events","hasAudio","src","_opt","2470tGICXy","payloadType","FRAG_DECRYPTED","ratechange","videoFrameCallback() player is destroyed","loadSource","length","debugWarn","video is paused and next try to replay","checkHlsBufferedDelay","LEVELS_UPDATED","render","playbackRate","FPS_DROP","hasVideo","MEDIA_ATTACHED","video play error ","ErrorTypes","totalVideoFrames","isEmitSEI","1083040zitaDc","Events","_isDestroyed","KEY_LOADING","player","mediaTime","FRAG_PARSING_USERDATA","loadSource and use hls decode and listen hlsMediaAttached","videoFrameCallback","$videoElement","paused","hvc","46934XbFpaf","video waiting","isArray","hls","isUseVideoPlay","video playback Rate change","originData","push","supportVideoFrameCallbackHandle","_stopCanvasRender","1928910iFgGVb","split","canvasRenderInterval","audio","BUFFER_APPENDING","MEDIA_DETACHED","updateStats","getHasInit","_parseAudioCodec","_parseVideoCodec","4044FyUGam","loadSource and use hls decode and listen hlsMediaAttached success and next load source","MANIFEST_PARSED","getVideoPlaybackQuality","initVideoEvents","video canplay","destroy","includes","isSupported","video","canVideoPlay","video play","FRAG_LOADED","updateAudioInfo","BUFFER_CODECS","pause","samples","19kXPmbl","handleRender","buffered","createElement","1757539SLsoUc","_times","round","metadata","_stopBandwidthEstimateInterval","bound"," and hasAudioVideo is ","3092661EMDgRe","isInitInfo","channelCount","fatal network error encountered, try to recover","end","currentTime","videoStart","init hls error ,not support ","getFps","forEach","indexOf","prevBandwidthEstimate","MANIFEST_LOADING 开始加载playlist m3u8资源","FRAG_LOADING","_startCanvasRender","emitVideoSei","tracks","_startFpsInterval","h265","NETWORK_ERROR","BUFFER_FLUSHING","initCanvasViewSize","h264","height","isHlsCanVideoPlay","debugError","_initRenderSize","position","catch","BUFFER_APPENDED","audiovideo","canplay","AAC","toFixed","hlsPrevFrams","video is paused and replay success","max","debugLog","videoWidth","bandwidthEstimateInterval","MANIFEST_LOADED","hev"];return(Ak=function(){return t})()}!function(t,e){const s=yk,i=t();for(;;)try{if(252996===parseInt(s(416))/1*(parseInt(s(379))/2)+parseInt(s(296))/3*(-parseInt(s(297))/4)+-parseInt(s(347))/5*(parseInt(s(399))/6)+-parseInt(s(420))/7+-parseInt(s(367))/8+parseInt(s(427))/9+parseInt(s(389))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ak);class vk extends h{constructor(t){const e=yk;super(),this[e(371)]=t,this[e(319)]="HlsDecoder",t[e(346)],this[e(409)]=!1,this[e(376)]=null,this[e(391)]=null,this[e(289)]=null,this[e(324)]=null,this[e(292)]=0,this.hlsPrevFrams=0,this[e(428)]=!1,this[e(305)]=[],this.supportVideoFrameCallbackHandle=null,this.prevBandwidthEstimate=null,this[e(361)]=!0,this[e(344)]=!0,this.bound={videoFrameCallback:this[e(375)].bind(this)},this[e(371)][e(274)]()?(this[e(376)]=this[e(371)][e(408)][e(376)],this.canVideoPlay=!0):mk[e(407)]()?(this[e(376)]=this.player.video[e(376)],this.hls=new mk({}),this[e(293)](),this[e(313)]()):this[e(371)][e(275)](this[e(319)],e(434)),this[e(369)]=!1,this.player[e(287)](this.TAG_NAME,"init")}[gk(405)](){return new Promise(((t,e)=>{const s=yk;if(this[s(369)]=!0,this.supportVideoFrameCallbackHandle&&this.$videoElement&&(this[s(376)].cancelVideoFrameCallback(this.supportVideoFrameCallbackHandle),this[s(387)]=null),this[s(382)]&&(this[s(382)][s(405)](),this[s(382)]=null),this[s(305)].length&&(this[s(305)][s(436)]((t=>t())),this[s(305)]=[]),this.isInitInfo=!1,this[s(388)](),this[s(424)](),this[s(308)](),this[s(371)][s(346)].useCanvasRender&&this.$videoElement){this[s(376)][s(414)]&&(this.$videoElement[s(414)](),this[s(376)].muted=!0),this[s(376)][s(432)]=0,this.$videoElement.src&&(this[s(376)][s(345)]="",this[s(376)][s(317)]("src"));try{this[s(376)][s(306)]()}catch(t){}}this[s(376)]=null,this[s(261)]=null,this[s(292)]=0,this[s(425)]=null,this[s(371)].debugLog(this[s(319)],s(405)),setTimeout((()=>{t()}),0)}))}[gk(356)](){const t=gk,e=this[t(376)];let s=0;const i=e[t(418)];return s=(i[t(353)]?i[t(431)](i[t(353)]-1):0)-e[t(432)],s}[gk(435)](){return this[gk(292)]}[gk(264)](){const t=gk;Oi()?this[t(387)]=this[t(376)][t(320)](this[t(425)][t(375)]):(this[t(388)](),this.canvasRenderInterval=setInterval((()=>{const e=t;this[e(371)].video[e(358)]({$video:this[e(376)],ts:parseInt(1e3*this[e(376)][e(432)],10)||0})}),40))}[gk(388)](){const t=gk;this[t(391)]&&(clearInterval(this[t(391)]),this[t(391)]=null)}[gk(375)](t){const e=gk;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this[e(369)])return;if(this[e(371)].isDestroyedOrClosed())return void this[e(371)][e(287)](this[e(319)],e(351));const i=parseInt(1e3*Math[e(286)](s[e(372)],this[e(376)][e(432)]),10)||0;this[e(371)][e(395)]({dts:i}),this[e(371)][e(408)][e(358)]({$video:this.$videoElement,ts:i}),this[e(371)][e(417)](),this[e(387)]=this[e(376)][e(320)](this[e(425)][e(375)])}[gk(294)](){const t=gk;this[t(424)](),this[t(289)]=setInterval((()=>{const e=t;let s=0;this[e(382)]&&this[e(382)][e(337)]&&this[e(261)]!==this[e(382)][e(337)]&&(s=this[e(382)][e(337)]),this[e(261)]=s,this[e(371)][e(298)](H[e(311)],(s/1e3/8)[e(283)](2)),this[e(361)]&&Ri(this[e(344)])&&this[e(371)][e(395)]({vbps:parseInt(s,10)})}),1e3)}[gk(424)](){const t=gk;this[t(289)]&&(clearInterval(this.bandwidthEstimateInterval),this[t(289)]=null)}_startFpsInterval(){const t=gk;this[t(388)](),this[t(324)]=setInterval((()=>{const e=t;if(this[e(376)])if(li(this.$videoElement[e(402)])){const t=this.$videoElement[e(402)]();this.hlsFps=t[e(365)]-this[e(284)],this[e(284)]=t[e(365)]}else{const t=this.$videoElement.webkitDecodedFrameCount||0;this[e(292)]=t-this[e(284)],this[e(284)]=t}}),1e3)}[gk(308)](){const t=gk;this.fpsInterval&&(clearInterval(this.fpsInterval),this[t(324)]=null)}[gk(293)](){const t=gk;this[t(371)][t(346)].useCanvasRender&&(this.$videoElement=document[t(419)]("video"),this.$videoElement[t(300)]=!0,bs()&&(this.$videoElement.style[t(277)]=t(301)),this[t(403)]()),this[t(382)].attachMedia(this[t(376)])}[gk(313)](){const t=gk;var e=this;const s=this[t(371)],{proxy:i}=this.player[t(343)];this[t(382)];const r=this[t(376)],n=Oi(),o=i(r,vt[t(315)],(e=>{const i=t;if(this[i(382)]){const t=parseInt(e[i(307)],10);this[i(371)][i(346)][i(333)]&&Ri(n)&&s[i(395)]({ts:t,dts:t})}}));this.eventsDestroy.push(o),this[t(382)].on(mk.Events[t(310)],((e,s)=>{const i=t;if(s.fatal)switch(s[i(339)]){case mk[i(364)][i(269)]:this[i(371)].debugWarn(this[i(319)],i(430)),this[i(382)][i(321)]();break;case mk[i(364)][i(331)]:this[i(371)][i(354)](this[i(319)],"fatal media error encountered, try to recover"),this[i(382)].recoverMediaError()}})),this[t(382)].on(mk.Events[t(332)],(()=>{})),this.hls.on(mk.Events[t(362)],(()=>{})),this[t(382)].on(mk[t(368)][t(304)],(()=>{})),this.hls.on(mk[t(368)][t(394)],(()=>{})),this[t(382)].on(mk[t(368)][t(309)],(()=>{})),this.hls.on(mk.Events[t(413)],(t=>{})),this[t(382)].on(mk[t(368)].BUFFER_CREATED,(()=>{})),this[t(382)].on(mk.Events[t(393)],((t,e)=>{})),this[t(382)].on(mk[t(368)][t(279)],(()=>{})),this[t(382)].on(mk[t(368)][t(334)],(()=>{})),this[t(382)].on(mk.Events[t(270)],(()=>{})),this.hls.on(mk.Events.BUFFER_FLUSHED,(()=>{})),this[t(382)].on(mk.Events[t(327)],(()=>{const e=t;this.player[e(287)](this[e(319)],e(262))})),this[t(382)].on(mk[t(368)][t(290)],((e,s)=>{const i=t;this[i(371)][i(287)](this[i(319)],"MANIFEST_LOADED playlist m3u8文件加载完成",s[i(338)])})),this.hls.on(mk[t(368)][t(401)],((e,i)=>{const r=t;this[r(371)].debugLog(this[r(319)],r(303)),!s[r(421)].demuxStart&&(s._times[r(316)]=is())})),this[t(382)].on(mk[t(368)][t(357)],(function(t,e){})),this[t(382)].on(mk.Events[t(302)],(()=>{})),this[t(382)].on(mk.Events.LEVEL_LOADED,((t,e)=>{})),this[t(382)].on(mk[t(368)][t(263)],(()=>{})),this[t(382)].on(mk[t(368)][t(411)],((e,i)=>{const r=t;!s[r(421)][r(326)]&&(s[r(421)][r(326)]=is())})),this[t(382)].on(mk[t(368)][t(279)],((e,i)=>{const r=t;!s[r(421)][r(433)]&&(s[r(421)][r(433)]=is(),s.handlePlayToRenderTimes())})),this.hls.on(mk.Events[t(349)],(()=>{})),this[t(382)].on(mk[t(368)][t(370)],(()=>{})),this[t(382)].on(mk[t(368)].KEY_LOADING,(()=>{})),this[t(382)].on(mk.Events[t(360)],(t=>{})),this[t(382)].on(mk[t(368)].FPS_DROP_LEVEL_CAPPING,(t=>{})),this[t(371)][t(346)][t(366)]&&this.hls.on(mk[t(368)][t(373)],(function(s){const i=t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array[i(381)](r[i(415)])&&r[i(415)][i(353)]>0&&r[i(415)].forEach((t=>{const s=i;e[s(371)][s(265)]({ts:Math[s(422)](1e3*t.pts),originData:t[s(385)],data:t.userData||t[s(385)],uuid:t.uuid,type:t[s(348)]})}))})),this[t(382)].on(mk[t(368)].FRAG_PARSING_INIT_SEGMENT,((e,s)=>{const i=t,r=!!(s&&s.tracks&&s[i(266)].audio),n=!!(s&&s[i(266)]&&s.tracks[i(408)]),o=!!(s&&s[i(266)]&&s.tracks[i(280)]);if(this.player[i(287)](this.TAG_NAME,"FRAG_PARSING_INIT_SEGMENT and hasAudio is "+r+i(342)+n+i(426)+o),this[i(344)]=r,this[i(361)]=n,r&&s[i(266)].audio){let t=s[i(266)][i(392)];const e=t[i(423)]&&t.metadata.channelCount?t[i(423)][i(429)]:2,r=t[i(328)]||"";this[i(397)](r,{channels:e})}if(n&&s[i(266)][i(408)]){let t=s[i(266)].video,e=t[i(328)];this._parseVideoCodec(e,{metadata:t[i(423)]})}if(o&&s.tracks.audiovideo){const t=s.tracks[i(280)].codec[i(390)](","),e=t[0],r=t[1];this._parseAudioCodec(e),this[i(398)](r)}}))}[gk(397)](t){const e=gk;let s=arguments[e(353)]>1&&void 0!==arguments[1]?arguments[1]:{};this.player.debugLog(this.TAG_NAME,"FRAG_PARSING_INIT_SEGMENT and audio codec is "+t);let i="";t.includes(e(323))?i=et[e(329)]:t[e(406)]("mp4a")&&(i=et[e(282)]),i&&this[e(371)][e(392)]&&this[e(371)][e(392)][e(412)]({encTypeCode:i,channels:s.channels||2,sampleRate:44100})}_parseVideoCodec(t){const e=gk;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this[e(371)].debugLog(this[e(319)],e(314)+t);const i={encTypeCode:""};-1!==t[e(260)](e(340))?i[e(322)]=Z.h264:-1!==t.indexOf(e(291))||-1!==t[e(260)](e(378))?i.encTypeCode=Z[e(268)]:(this[e(371)].debugLog(this.TAG_NAME,"videoCodec is not support",t),i[e(322)]=Z[e(272)]),i[e(322)]===Z[e(268)]&&Ri(Ps())&&this.player.emitError(Q[e(341)]),s[e(423)]&&(i[e(325)]=s[e(423)][e(325)],i.height=s[e(423)][e(273)]),this[e(371)][e(408)]&&(this[e(371)][e(408)][e(299)](i),this.player[e(408)][e(396)]()&&this[e(371)][e(408)][e(271)]())}[gk(335)](t){const e=gk;this[e(371)][e(346)][e(333)]&&(this.$videoElement=document[e(419)](e(408)),this[e(403)]()),this[e(376)][e(318)]=!0,this[e(376)][e(300)]=!0,this.$videoElement[e(345)]=t}_initRenderSize(){const t=gk;!this[t(428)]&&(this[t(371)][t(408)][t(299)]({width:this[t(376)][t(288)],height:this.$videoElement.videoHeight}),this[t(371)].video.initCanvasViewSize(),this[t(428)]=!0)}[gk(403)](){const t=gk,{proxy:e}=this.player[t(343)],s=e(this[t(376)],vt[t(281)],(()=>{const e=t;this[e(371)][e(287)](this[e(319)],e(404)),this.$videoElement.play()[e(295)]((()=>{const t=e;this[t(371)][t(287)](this[t(319)],t(410)),this[t(264)](),this[t(276)]()}))[e(278)]((t=>{const s=e;this.player.debugWarn(this[s(319)],s(363),t)}))})),i=e(this[t(376)],vt[t(312)],(()=>{const e=t;this[e(371)][e(287)](this[e(319)],e(380))})),r=e(this.$videoElement,vt[t(315)],(e=>{const s=t,i=parseInt(e[s(307)],10);this[s(371)][s(395)]({ts:i}),this[s(371)][s(417)](),this.$videoElement[s(377)]&&(this.player[s(354)](this[s(319)],s(355)),this[s(376)][s(336)]().then((()=>{const t=s;this[t(371)][t(287)](this.TAG_NAME,t(285))}))[s(278)]((t=>{const e=s;this.player[e(354)](this.TAG_NAME,e(330),t)})))})),n=e(this[t(376)],vt[t(350)],(()=>{const e=t;this[e(371)][e(287)](this[e(319)],e(384),this[e(376)]&&this[e(376)][e(359)])}));this.eventsDestroy[t(386)](s,i,r,n)}loadSource(t){return new Promise(((e,s)=>{const i=yk;this[i(409)]?(this.player[i(287)](this[i(319)],"loadSource and canVideoPlay and use video src to play",t),this[i(335)](t),this._startFpsInterval(),e()):(this.player[i(287)](this[i(319)],i(374)),this.hls.on(mk[i(368)][i(362)],(()=>{const s=i;this[s(371)][s(287)](this.TAG_NAME,s(400),t),this.hls[s(352)](t),this[s(294)](),this[s(267)](),e()})))}))}[gk(383)](){return this[gk(409)]}}function bk(t,e){var s=Sk();return(bk=function(t,e){return s[t-=444]})(t,e)}function Sk(){var t=["15684VMOIIk","2210735tfhITe","640326emPUSM","5700104moHeig","2984989FSWact","188956NqCCep","6gQbiKV","4807584iqofqo"];return(Sk=function(){return t})()}!function(t,e){for(var s=bk,i=t();;)try{if(403834===-parseInt(s(447))/1+-parseInt(s(449))/2+parseInt(s(445))/3*(parseInt(s(444))/4)+-parseInt(s(448))/5+parseInt(s(446))/6+-parseInt(s(451))/7+parseInt(s(450))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Sk);const wk=Dk;function Ek(){const t=["23536fPbHjg",", datalen,","Content-Length","[xhr load done->], tast :","_onProgress","9PAHcFO","credentials","isTimeout","_onCancel","_vid","concat",", writeIdx,","exec","_url","message","split","_timeoutTimer","player","onProgress of bad response.body.getReader","include","abort",",retry range,",",index,","setRequestHeader","【xhrLoader task】, range","request","TEXT","_getHeaders","send","30702727xPBNHP","Task","_writeIdx","_onProcessMinLen","_headers","_reader","_running","REAL_TIME_SPEED","_body","load","1139473aomsmj","1226810uRcjxk","slice","toISOString","resolve",", start,","_onLoad","Range","receiveLen","_config","[task request catch err]","running","done","arraybuffer","_logger","append","forEach","loaderType","promise","params","body","XHR","_timeout","_canceled","function","assign","fetch","8168vqvLqR","_priOptions",", done,","_processTask","responseURL","_startLoad","[xhr.send->] tast,","_transformResponse","read","2231395qTeYYc","FETCH","filter","1085GRYLzM","1617dxasda","GET","_aborted","【fetchLoader,onProgress enough】,done,","_firstRtt","get","_index","catch","push","target",",receivedLength","response","now","open","number","_onReadyStatechange","_response","endTime","startTime","method","6DUJLcv","age","_onTimeout","XhrLoader","alive","bytes=","xhr","prototype","isFetchSupport","_request","_loadCompleteResolve","onCancel","join","length","value","2242344bPvBLB","map","_withCredentials",", SubRange, ","loader","_startTime","_currentChunkSizeKB","round","debugLog","_loadCompleteReject","[object Object]","retryCheckFunc","finally","【fetchLoader,onProgress extra start】,size,","getPrototypeOf","_receivedLength","reject","replace","_runing","same-origin","index","currentTarget",", end,","destroy","TAG_NAME","onProgress","undefined","【fetchLoader,onProgress cache】,len,","stringify","_method","ontimeout","shift","responseType","_alive","_responseType","content-length","byteLength","_xhr","ARRAY_BUFFER","call",",len,","timeout","emit","_loader","vid","[fetchLoader onProgress end],task,","_retryTimer","_internalOpen","priOptions","_range","statusText","url","bind",",done,","retryCount","range","set","trim","isSupported","_queue","signal","【fetchLoader,onProgress extra end】,len,","[task request setTimeout],retry","onTimeout","transformRequest","_currentTask","options","arrayBuffer","_retryCheckFunc","_loaderType","bad response,status:",",load sub range, ","JSON","type","status","used","keys","_abortController","_retryCount","text","readyState","_loadChunk","_cache","isFetch","getAllResponseHeaders","FetchLoader","getReader","headers","cancel","_credentials"];return(Ek=function(){return t})()}!function(t,e){const s=Dk,i=t();for(;;)try{if(851542===-parseInt(s(549))/1+-parseInt(s(624))/2+parseInt(s(589))/3*(parseInt(s(576))/4)+-parseInt(s(585))/5*(parseInt(s(609))/6)+-parseInt(s(588))/7*(parseInt(s(510))/8)+-parseInt(s(515))/9*(-parseInt(s(550))/10)+parseInt(s(539))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ek);const Tk=2097152,Ik={FETCH:wk(575),XHR:wk(615)},kk={ARRAY_BUFFER:wk(562),TEXT:"text",JSON:"json"},_k={REAL_TIME_SPEED:"real_time_speed"},Ck=Object.prototype.toString;function Dk(t,e){const s=Ek();return(Dk=function(t,e){return s[t-=497]})(t,e)}function Rk(t){const e=wk;if(Ck[e(663)](t)!==e(634))return!1;const s=Object[e(638)](t);return null===s||s===Object[e(616)]}function Lk(t){const e=wk;if(!t||null===t[0]||void 0===t[0]||0===t[0]&&(null===t[1]||void 0===t[1]))return;let s=e(614)+t[0]+"-";return t[1]&&(s+=t[1]),s}function Pk(t){const e=wk;return encodeURIComponent(t).replace(/%3A/gi,":")[e(641)](/%24/g,"$")[e(641)](/%2C/gi,",")[e(641)](/%20/g,"+")[e(641)](/%5B/gi,"[")[e(641)](/%5D/gi,"]")}function xk(t,e){const s=wk;if(!t)return;if(!e)return t;let i;const r=Object[s(700)](e)[s(625)]((t=>{const r=s;if(i=e[t],null!=i)return Array.isArray(i)?t+="[]":i=[i],i.map((e=>{const s=Dk;var i,r;return r=e,"[object Date]"===Ck[wk(663)](r)?e=e[s(552)]():null!==(i=e)&&"object"==typeof i&&(e=JSON[s(652)](e)),Pk(t)+"="+Pk(e)}))[r(621)]("&")}))[s(587)](Boolean)[s(621)]("&");if(r){const e=t.indexOf("#");-1!==e&&(t=t[s(551)](0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}function Mk(t,e,s,i,r,n,o,a,h,l,c){r=null!=r?parseFloat(r):null,i=parseInt(i||"0",10),Number.isNaN(i)&&(i=0);return{data:t,done:e,options:{range:h,vid:l,index:a,contentLength:i,age:r,startTime:n,firstByteTime:o,endTime:Date.now(),priOptions:c},response:s}}function Bk(t,e){return Math[wk(631)](8*t*1e3/e/1024)}class Fk extends Error{constructor(t,e,s,i){const r=wk;super(i),Lm(this,r(678),0),Lm(this,"isTimeout",!1),Lm(this,r(566),Ik.FETCH),Lm(this,r(607),0),Lm(this,r(606),0),Lm(this,r(690),{}),this.url=t,this[r(535)]=e,this[r(600)]=s}}class Uk extends h{constructor(t){const e=wk;super(),Lm(this,e(497),null),Lm(this,e(526),null),Lm(this,e(544),null),Lm(this,e(605),null),Lm(this,e(591),!1),Lm(this,e(595),-1),Lm(this,e(673),null),Lm(this,"_receivedLength",0),Lm(this,e(545),!1),Lm(this,e(563),null),Lm(this,e(519),""),Lm(this,e(542),0),Lm(this,e(518),null),Lm(this,"_priOptions",null),Lm(this,e(648),e(505)),this[e(527)]=t}[wk(548)](t){const e=wk;var s;let{url:i,vid:r,timeout:n,responseType:o,onProgress:a,index:h,onTimeout:l,onCancel:c,range:d,transformResponse:u,request:p,params:f,logger:m,method:g,headers:y,body:A,mode:v,credentials:b,cache:S,redirect:w,referrer:E,referrerPolicy:T,onProcessMinLen:I,priOptions:k}=t;this[e(591)]=!1,this[e(542)]=I,this[e(518)]=c,this._abortController=typeof AbortController!==e(650)&&new AbortController,this[e(545)]=!0,this[e(595)]=h,this._range=d||[0,0],this._vid=r||i,this._priOptions=k||{};const _={method:g,headers:y,body:A,mode:v,credentials:b,cache:S,redirect:w,referrer:E,referrerPolicy:T,signal:null===(s=this._abortController)||void 0===s?void 0:s[e(684)]};let C=!1;clearTimeout(this[e(526)]),i=xk(i,f);const D=Lk(d);D&&(y=p?p[e(507)]:_[e(507)]=_[e(507)]||(Headers?new Headers:{}),Headers&&y instanceof Headers?y[e(564)]("Range",D):y[e(556)]=D),n&&(this[e(526)]=setTimeout((()=>{const t=e;if(C=!0,this[t(508)](),l){const e=new Fk(i,_,null,t(665));e[t(517)]=!0,l(e,{index:this[t(595)],range:this[t(673)],vid:this[t(519)],priOptions:this[t(577)]})}}),n));const R=Date.now();return new Promise(((t,s)=>{const r=e;fetch(p||i,p?void 0:_).then((async e=>{const r=Dk;if(clearTimeout(this._timeoutTimer),this._response=e,this[r(591)]||!this[r(545)])return;if(u&&(e=u(e,i)||e),!e.ok)throw new Fk(i,_,e,"bad network response, status is "+e[r(698)]);const n=Date.now();let l;if(o===kk[r(536)])l=await e[r(499)](),this[r(545)]=!1;else if(o===kk[r(696)])l=await e.json(),this[r(545)]=!1;else{if(a)return this.resolve=t,this[r(640)]=s,void this[r(501)](e,a,R,n);{l=await e[r(691)](),l=new Uint8Array(l),this[r(545)]=!1;const t=Date.now()-R,s=Bk(l[r(660)],t);this[r(666)](_k.REAL_TIME_SPEED,{speed:s,len:l[r(660)],time:t,vid:this._vid,index:this[r(595)],range:this[r(673)],priOptions:this._priOptions})}}t(Mk(l,!0,e,e.headers[r(594)](r(512)),e[r(507)].get(r(610)),R,n,h,d,this._vid,this[r(577)]))}))[r(596)]((t=>{const e=r;var n;clearTimeout(this[e(526)]),this[e(545)]=!1,this._aborted&&!C||((t=t instanceof Fk?t:new Fk(i,_,null,null===(n=t)||void 0===n?void 0:n[e(524)]))[e(607)]=R,t[e(606)]=Date[e(601)](),t.isTimeout=C,t[e(690)]={index:this[e(595)],range:this[e(673)],vid:this[e(519)],priOptions:this[e(577)]},s(t))}))}))}async[wk(508)](){const t=wk;if(!this[t(591)]){if(this[t(591)]=!0,this[t(545)]=!1,this[t(605)]){try{this[t(544)]&&await this[t(544)][t(508)]()}catch(t){}this[t(605)]=this._reader=null}if(this[t(497)]){try{this[t(497)][t(530)]()}catch(t){}this[t(497)]=null}this[t(518)]&&this[t(518)]({index:this[t(595)],range:this[t(673)],vid:this[t(519)],priOptions:this[t(577)]})}}_loadChunk(t,e,s,i){const r=wk;if(!t[r(569)]||!t[r(569)][r(506)]){this[r(545)]=!1;const e=new Fk(t[r(675)],"",t,r(528));return e.options={index:this[r(595)],range:this[r(673)],vid:this._vid,priOptions:this[r(577)]},void this[r(640)](e)}this._onProcessMinLen>0&&(this[r(502)]=new Uint8Array(Tk),this[r(541)]=0);const n=this[r(544)]=t[r(569)][r(506)]();let o,a,h;const l=async()=>{const c=r;var d;a=Date[c(601)]();try{o=await n[c(584)](),h=Date[c(601)]()}catch(t){return h=Date[c(601)](),void(!this[c(591)]&&(this._running=!1,t[c(690)]={index:this._index,range:this._range,vid:this[c(519)],priOptions:this[c(577)]},this[c(640)](t)))}const u=(null===(d=this[c(673)])||void 0===d?void 0:d[c(622)])>0?this._range[0]:0,p=u+this[c(639)];if(this[c(591)])return this[c(545)]=!1,void e(void 0,!1,{range:[p,p],vid:this._vid,index:this[c(595)],startTime:a,endTime:h,st:s,firstByteTime:i,priOptions:this[c(577)]},t);const f=o[c(623)]?o.value[c(660)]:0;let m;if(this[c(639)]+=f,this[c(527)][c(632)](this[c(648)],"【fetchLoader,onProgress call】,task,",this[c(673)],c(554),p,c(646),u+this._receivedLength,c(578),o[c(561)]),this._onProcessMinLen>0){if(this[c(541)]+f>=this[c(542)]||o[c(561)])m=new Uint8Array(this[c(541)]+f),m[c(680)](this[c(502)].slice(0,this[c(541)]),0),f>0&&m.set(o[c(623)],this[c(541)]),this[c(541)]=0,this[c(527)][c(632)](this[c(648)],c(592),o[c(561)],c(664),m[c(660)],c(521),this[c(541)]);else if(f>0&&this[c(541)]+f<Tk)this[c(502)][c(680)](o.value,this._writeIdx),this[c(541)]+=f,this.player.debugLog(this[c(648)],c(651),f,c(521),this._writeIdx);else if(f>0){const t=new Uint8Array(this[c(541)]+f+2048);this[c(527)][c(632)](this[c(648)],c(637),this[c(541)]+f+2048,c(511),f,c(521),this[c(541)]),t.set(this[c(502)][c(551)](0,this._writeIdx),0),f>0&&t[c(680)](o.value,this[c(541)]),this._writeIdx+=f,delete this[c(502)],this[c(502)]=t,this.player[c(632)](this.TAG_NAME,c(685),f,c(521),this[c(541)])}}else m=o.value;if((m&&m.byteLength>0||o.done)&&e(m,o[c(561)],{range:[this[c(673)][0]+this._receivedLength-(m?m[c(660)]:0),this._range[0]+this._receivedLength],vid:this[c(519)],index:this._index,startTime:a,endTime:h,st:s,firstByteTime:i,priOptions:this[c(577)]},t),o.done){const e=Date[c(601)]()-s,r=Bk(this[c(639)],e);this.emit(_k[c(546)],{speed:r,len:this._receivedLength,time:e,vid:this[c(519)],index:this[c(595)],range:this._range,priOptions:this[c(577)]}),this[c(545)]=!1,this[c(527)][c(632)](this[c(648)],c(669),this[c(673)],c(677),o[c(561)]),this[c(553)](Mk(o,!0,t,t[c(507)][c(594)](c(512)),t.headers[c(594)](c(610)),s,i,this[c(595)],this[c(673)],this[c(519)],this._priOptions))}else l()};l()}get[wk(557)](){return this[wk(639)]}get[wk(560)](){return this[wk(545)]}set running(t){this[wk(545)]=t}static isSupported(){return!(typeof fetch===wk(650))}}class Ok{constructor(t,e,s){const i=wk;Lm(this,i(648),i(540)),this[i(567)]=function(){const t=wk;let e,s;const i=new Promise(((t,i)=>{e=t,s=i}));return i.used=!1,i[t(553)]=function(){return i[t(699)]=!0,e(...arguments)},i[t(640)]=function(){return i[t(699)]=!0,s(...arguments)},i}(),this.alive=!!e[i(649)],this[i(693)]=t,this.player=s,this._loader=t===Ik[i(586)]&&window.fetch?new Uk(s):new Nk(s),this[i(558)]=e,this._retryCount=0,this._retryTimer=null,this[i(572)]=!1,this[i(692)]=e[i(635)]}[wk(522)](){const t=wk,{retry:e,retryDelay:s,onRetryError:i,transformError:r,...n}=this._config,o=async()=>{const t=Dk;try{const e=await this._loader[t(548)](n);this[t(567)].resolve(e)}catch(a){if(this[t(667)][t(560)]=!1,this[t(527)].debugLog(this[t(648)],t(559),a),this[t(572)])return;a[t(566)]=this[t(693)],a[t(678)]=this[t(498)];let h=a;r&&(h=r(h)||h),i&&this[t(498)]>0&&i(h,this[t(498)],{index:n[t(644)],vid:n[t(668)],range:n[t(679)],priOptions:n.priOptions}),this._retryCount++;let l=!0;if(this[t(692)]&&(l=this[t(692)](a)),l&&this._retryCount<=e)return clearTimeout(this[t(670)]),this[t(527)].debugLog(this[t(648)],t(686),this._retryCount,t(531),n[t(679)]),void(this[t(670)]=setTimeout(o,s));this[t(567)][t(640)](h)}};return o(),this[t(567)]}async[wk(508)](){const t=wk;return clearTimeout(this[t(670)]),this[t(572)]=!0,this[t(667)].running=!1,this._loader[t(508)]()}get running(){const t=wk;return this._loader&&this[t(667)][t(560)]}get[wk(628)](){return this[wk(667)]}}class Nk extends h{constructor(t){const e=wk;super(),Lm(this,"_xhr",null),Lm(this,e(591),!1),Lm(this,e(526),null),Lm(this,e(673),null),Lm(this,e(639),0),Lm(this,e(523),null),Lm(this,e(514),null),Lm(this,e(595),-1),Lm(this,e(543),null),Lm(this,e(630),384),Lm(this,e(571),null),Lm(this,e(661),null),Lm(this,e(626),null),Lm(this,e(629),-1),Lm(this,e(619),null),Lm(this,e(633),null),Lm(this,"_runing",!1),Lm(this,e(563),!1),Lm(this,"_vid",""),Lm(this,e(658),void 0),Lm(this,e(509),void 0),Lm(this,e(653),void 0),Lm(this,"_transformResponse",void 0),Lm(this,e(593),void 0),Lm(this,"_onCancel",null),Lm(this,"_priOptions",null),Lm(this,e(648),e(612)),this[e(527)]=t}load(t){const e=wk;clearTimeout(this[e(526)]),this._range=t[e(679)],this._onProgress=t[e(649)],this[e(595)]=t[e(644)],this._headers=t[e(507)],this[e(626)]=t[e(516)]===e(529)||t[e(516)]===e(643),this[e(547)]=t[e(569)]||null,t[e(608)]&&(this[e(653)]=t[e(608)]),this._timeout=t[e(665)]||null,this._runing=!0,this[e(519)]=t[e(668)]||t[e(675)],this._responseType=t[e(656)],this[e(593)]=-1,this[e(611)]=t[e(687)],this[e(518)]=t[e(620)],this[e(618)]=t[e(535)],this[e(577)]=t[e(672)]||{},this.player[e(632)](this[e(648)],e(534),this[e(673)]),this._url=xk(t[e(675)],t[e(568)]);const s=Date.now();return new Promise(((t,s)=>{const i=e;this[i(619)]=t,this[i(633)]=s,this[i(581)]()}))[e(596)]((t=>{const i=e;if(clearTimeout(this._timeoutTimer),this[i(642)]=!1,!this[i(591)])throw(t=t instanceof Fk?t:new Fk(this[i(523)],this[i(618)]))[i(607)]=s,t.endTime=Date[i(601)](),t[i(690)]={index:this[i(595)],vid:this[i(519)],priOptions:this[i(577)]},t}))}[wk(581)](){const t=wk;let e=null;if(this._responseType===kk.ARRAY_BUFFER&&this[t(673)]&&this[t(673)][t(622)]>1)if(this[t(514)]){this[t(593)]=-1;const s=1024*this[t(630)],i=this._range[0]+this[t(639)];let r=this[t(673)][1];s<this[t(673)][1]-i&&(r=i+s),e=[i,r],this.player.debugLog(this[t(648)],"[xhr_loader->],tast :",this[t(673)],t(627),e)}else e=this[t(673)],this.player.debugLog(this[t(648)],"[xhr_loader->],tast :",this[t(673)],", allRange, ",e);this[t(671)](e)}[wk(671)](t){const e=wk;try{this[e(629)]=Date[e(601)]();const s=this._xhr=new XMLHttpRequest;s[e(602)](this[e(653)]||e(590),this[e(523)],!0),s[e(656)]=this[e(658)],this._timeout&&(s[e(665)]=this._timeout),s.withCredentials=this[e(626)],s.onload=this[e(555)][e(676)](this),s.onreadystatechange=this[e(604)][e(676)](this),s.onerror=t=>{const s=e;var i,r,n;this[s(545)]=!1;const o=new Fk(this[s(523)],this[s(618)],null==t||null===(i=t[s(645)])||void 0===i?void 0:i[s(600)],"xhr.onerror.status:"+(null==t||null===(r=t[s(645)])||void 0===r?void 0:r[s(698)])+",statusText,"+(null==t||null===(n=t[s(645)])||void 0===n?void 0:n[s(674)]));o[s(690)]={index:this[s(595)],range:this[s(673)],vid:this._vid,priOptions:this[s(577)]},this[s(633)](o)},s[e(654)]=t=>{const s=e;this[s(508)]();const i=new Fk(this[s(523)],this[s(618)],{status:408},s(665));this[s(611)]&&(i[s(517)]=!0,this[s(611)](i,{index:this[s(595)],range:this[s(673)],vid:this[s(519)],priOptions:this._priOptions})),i[s(690)]={index:this._index,range:this[s(673)],vid:this[s(519)],priOptions:this._priOptions},this._loadCompleteReject(i)};const i=this[e(543)]||{},r=Lk(t);r&&(i[e(556)]=r),i&&Object[e(700)](i)[e(565)]((t=>{s[e(533)](t,i[t])})),this[e(527)][e(632)](this[e(648)],e(582),this[e(673)],e(695),t),s[e(538)](this[e(547)])}catch(s){s[e(690)]={index:this._index,range:t,vid:this[e(519)],priOptions:this[e(577)]},this[e(633)](s)}}[wk(604)](t){const e=wk;2===t[e(598)][e(500)]&&this[e(593)]<0&&(this[e(593)]=Date[e(601)]())}[wk(555)](t){const e=wk;var s;const i=t[e(598)][e(698)];if(i<200||i>299){const s=new Fk(this[e(523)],null,{...t[e(598)].response,status:i},e(694)+i);return s[e(690)]={index:this[e(595)],range:this._range,vid:this._vid,priOptions:this[e(577)]},this._loadCompleteReject(s)}let r,n=null,o=!1;const a=(null===(s=this[e(673)])||void 0===s?void 0:s[e(622)])>0?this[e(673)][0]:0;if(this[e(658)]===kk[e(662)]){var h;const s=new Uint8Array(t[e(598)][e(600)]);if(r=a+this[e(639)],s&&s[e(660)]>0){this[e(639)]+=s[e(660)];const t=Date[e(601)]()-this[e(629)],i=Bk(this._receivedLength,t);this[e(666)](_k[e(546)],{speed:i,len:this[e(639)],time:t,vid:this._vid,index:this[e(595)],range:[r,a+this._receivedLength],priOptions:this._priOptions})}n=s,o=!((null===(h=this[e(673)])||void 0===h?void 0:h[e(622)])>1&&this[e(673)][1]&&this._receivedLength<this[e(673)][1]-this._range[0]),this[e(527)][e(632)](this.TAG_NAME,e(513),this[e(673)],", start",r,"end ",a+this[e(639)],",dataLen,",s?s[e(660)]:0,e(599),this[e(639)],e(532),this._index,", done,",o)}else o=!0,n=t[e(598)][e(600)];let l={ok:i>=200&&i<300,status:i,statusText:this[e(661)].statusText,url:this._xhr[e(580)],headers:this[e(537)](this[e(661)]),body:this._xhr[e(600)]};this[e(583)]&&(l=this._transformResponse(l,this[e(523)])||l),this[e(514)]&&this[e(514)](n,o,{index:this[e(595)],vid:this[e(519)],range:[r,a+this[e(639)]],startTime:this[e(629)],endTime:Date[e(601)](),priOptions:this[e(577)]},l),o?(this[e(642)]=!1,this[e(619)]&&this[e(619)](Mk(this[e(514)]?null:n,o,l,l[e(507)][e(659)],l.headers.age,this[e(629)],this[e(593)],this[e(595)],this[e(673)],this[e(519)],this[e(577)]))):this._startLoad()}[wk(508)](){const t=wk;if(!this[t(591)])return this._aborted=!0,this[t(642)]=!1,super.removeAllListeners(),this[t(518)]&&this[t(518)]({index:this._index,range:this[t(673)],vid:this._vid,priOptions:this[t(577)]}),this._xhr?this[t(661)][t(530)]():void 0}static isSupported(){return typeof XMLHttpRequest!==wk(650)}get[wk(557)](){return this[wk(639)]}get running(){return this[wk(545)]}set[wk(560)](t){this[wk(545)]=t}[wk(537)](t){const e=wk,s=t[e(504)]()[e(681)]()[e(525)]("\r\n"),i={};for(const t of s){const s=t[e(525)](": ");i[s[0].toLowerCase()]=s[e(551)](1).join(": ")}return i}}class jk extends h{constructor(t,e){const s=wk;super(),Lm(this,"type",Ik[s(586)]),Lm(this,s(683),[]),Lm(this,s(657),[]),Lm(this,s(689),null),Lm(this,"_config",void 0),this[s(527)]=e,this[s(558)]=function(t){const e=wk;return{loaderType:Ik[e(586)],retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:kk.TEXT,range:void 0,url:"",params:void 0,method:e(590),headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0,onProcessMinLen:0,...t}}(t),(this[s(558)][s(566)]===Ik[s(570)]||!Uk.isSupported())&&(this[s(697)]=Ik.XHR)}[wk(647)](){const t=wk;this[t(683)]=[],this[t(657)]=[],this[t(689)]=null}[wk(503)](){const t=wk;return this.type===Ik[t(586)]}static[wk(617)](){return Uk[wk(682)]()}[wk(548)](t){const e=wk;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof t&&t?s=t:s[e(675)]=t||s[e(675)]||this._config[e(675)],s=Object[e(574)]({},this[e(558)],s),s[e(568)]&&(s.params=Object.assign({},s[e(568)])),s.headers&&Rk(s[e(507)])&&(s[e(507)]=Object[e(574)]({},s.headers)),s[e(569)]&&Rk(s.body)&&(s[e(569)]=Object.assign({},s[e(569)])),s.transformRequest&&(s=s[e(688)](s)||s);const i=new Ok(this.type,s,this.player);return i[e(628)].on(_k[e(546)],(t=>{const s=e;this[s(666)](_k[s(546)],t)})),this._queue[e(597)](i),1===this._queue[e(622)]&&(!this[e(689)]||!this[e(689)][e(560)])&&this[e(579)](),i.promise}async cancel(){const t=wk,e=this._queue.map((e=>e[t(508)]()))[t(520)](this[t(657)][t(625)]((e=>e[t(508)]())));this[t(689)]&&e.push(this[t(689)][t(508)]()),this[t(683)]=[],this[t(657)]=[],await Promise.all(e),await function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((e=>setTimeout(e,t)))}()}_processTask(){const t=wk;if(this[t(689)]=this[t(683)][t(655)](),!this[t(689)])return;this[t(689)].alive&&this[t(657)][t(597)](this[t(689)]);const e=this[t(689)][t(522)]()[t(596)]((t=>{}));e&&typeof e.finally===t(573)&&e[t(636)]((()=>{const e=t;var s,i;null!==(s=this[e(689)])&&void 0!==s&&s[e(613)]&&(null===(i=this[e(657)])||void 0===i?void 0:i[e(622)])>0&&(this._alive=this[e(657)][e(587)]((t=>t&&t!==this[e(689)]))),this[e(579)]()}))}}const Vk=Gk;function Wk(){const t=["network_forbidden","OTHER","8aGUssl","message","create","hls","9384AGTowm","originError","33XwgVhG","2aFtoXf","11596Dabxgn","errorMessage","isTimeout","other","5360jbZUBd","network_timeout","3072mNTyZr","ext","response","status","4EdtYId","190011gyuybH","url","117315rsdBbb","627678OWMQPq","errorType","1498uERzps","NETWORK","902990BMcWJg","NETWORK_TIMEOUT"];return(Wk=function(){return t})()}function Gk(t,e){const s=Wk();return(Gk=function(t,e){return s[t-=262]})(t,e)}!function(t,e){const s=Gk,i=t();for(;;)try{if(106912===-parseInt(s(266))/1+-parseInt(s(284))/2*(parseInt(s(268))/3)+parseInt(s(265))/4*(-parseInt(s(273))/5)+parseInt(s(291))/6*(-parseInt(s(271))/7)+-parseInt(s(277))/8*(parseInt(s(269))/9)+-parseInt(s(289))/10*(parseInt(s(283))/11)+parseInt(s(281))/12*(parseInt(s(285))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wk);const zk={NETWORK:"network",NETWORK_TIMEOUT:Vk(290),NETWORK_FORBIDDEN:Vk(275),OTHER:Vk(288),MANIFEST:"manifest",HLS:Vk(280),DEMUX:"demux"};class Hk extends Error{constructor(t,e,s,i,r){const n=Vk;super(r||(null==s?void 0:s[n(278)])),this[n(270)]=t===zk[n(274)]?zk[n(272)]:t,this[n(282)]=s,this[n(262)]=i,this[n(286)]=this[n(278)]}static[Vk(279)](t,e,s,i,r){return t instanceof Hk?t:(t instanceof Error&&(s=t,t=""),t||(t=zk[Vk(276)]),new Hk(t,e,s,i,r))}static network(t){const e=Vk;var s;return new Hk(null!=t&&t[e(287)]?zk[e(274)]:zk[e(272)],null,t instanceof Error?t:null,{url:null==t?void 0:t[e(267)],response:null==t?void 0:t[e(263)],httpCode:null==t||null===(s=t[e(263)])||void 0===s?void 0:s[e(264)]})}}const Kk=i_;!function(t,e){const s=i_,i=t();for(;;)try{if(855872===parseInt(s(247))/1+parseInt(s(253))/2*(parseInt(s(279))/3)+parseInt(s(225))/4+-parseInt(s(209))/5+-parseInt(s(226))/6*(-parseInt(s(246))/7)+parseInt(s(233))/8*(parseInt(s(274))/9)+parseInt(s(256))/10*(-parseInt(s(200))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xk);class qk{constructor(){const t=i_;Lm(this,"version",0),Lm(this,t(242),[]),Lm(this,t(281),!0)}}const Qk={Audio:Kk(195),Video:Kk(236),SubTitle:Kk(266),ClosedCaptions:Kk(214)},Yk={CLEAR_KEY:Kk(249),FAIRPLAY:[Kk(273),Kk(261)],WIDEVINE:[Kk(252),Kk(239),Kk(231)],PLAYREADY:[Kk(220),Kk(197)]};function Jk(t){const e=Kk;let s=[];for(let i=0;i<t[e(216)];i++)Array[e(280)](t[i])?s=s[e(189)](Jk(t[i])):s[e(227)](t[i]);return s}function Xk(){const t=["endCC","CLOSED-CAPTIONS","segments","length","keyFormatVersions","endPartIndex","Video","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","msn","split","start","mediaType","5508788ImdoHy","4296MshGKB","push","isValidKeySystem","parentUrl","width","com.widevine","canSkipDateRanges","40YgWctX","key","textCodec","VIDEO","end","canBlockReload","com.widevine.alpha","isInitSegment","name","streams","autoSelect","href","setByteRange","10423VkjRPu","1414499aMdnbU","SAMPLE-AES-CTR","org.w3.clearkey","isLast","url","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","2oDVhTj","partTargetDuration","title","21229140fOUUPU","indexOf","keyFormat","toString","SAMPLE-AES-CENC","com.apple.streamingkeydelivery","WIDEVINE","_HLS_part","partIndex","partHoldBack","SUBTITLE","audioGroup","targetDuration","SubTitle","initSegment","FAIRPLAY","_HLS_msn","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2","116595uzsSDV","startSN","method","totalDuration","group","2080263aUIGmR","isArray","isMaster","closedCaptionsStream","part","bitrate","duration","setIVFromSN","subtitleStreams","type","height","ClosedCaptions","concat","addDirectives","searchParams","CLEAR_KEY","lang","isSegmentEncrypted","AUDIO","startCC","com.microsoft.playready","live","hasAudio","11NsSHoK","audioCodec","skippedSegments","AES-128","channels","byteRange","hasVideo","isSupported","URL","8186150QQxsQu","skip","endSN","set"];return(Xk=function(){return t})()}class $k{constructor(){const t=Kk;Lm(this,"id",0),Lm(this,"url",""),Lm(this,"default",!1),Lm(this,t(243),!1),Lm(this,"forced",!1),Lm(this,t(278),""),Lm(this,t(241),""),Lm(this,t(193),""),Lm(this,t(215),[]),Lm(this,t(211),0)}}class Zk extends $k{constructor(){const t=Kk;super(...arguments),Lm(this,"mediaType",Qk.Audio),Lm(this,t(204),0)}}class t_ extends $k{constructor(){const t=Kk;super(...arguments),Lm(this,t(224),Qk[t(269)])}}class e_{constructor(){const t=Kk;Lm(this,"id",0),Lm(this,t(284),0),Lm(this,t(230),0),Lm(this,t(187),0),Lm(this,t(241),""),Lm(this,t(251),""),Lm(this,t(201),""),Lm(this,"videoCodec",""),Lm(this,t(235),""),Lm(this,t(267),""),Lm(this,"audioStreams",[]),Lm(this,t(287),[]),Lm(this,t(282),[])}}class s_{constructor(){const t=Kk;Lm(this,"version",0),Lm(this,"url",""),Lm(this,t(186),""),Lm(this,t(196),0),Lm(this,t(213),0),Lm(this,t(275),0),Lm(this,t(211),0),Lm(this,t(277),0),Lm(this,t(268),0),Lm(this,t(254),0),Lm(this,"canSkipUntil",0),Lm(this,t(232),!1),Lm(this,t(202),0),Lm(this,t(238),!1),Lm(this,t(265),0),Lm(this,t(198),!0),Lm(this,"lowLatency",!1),Lm(this,t(218),0),Lm(this,"segments",[]),Lm(this,"dateRanges",{}),Lm(this,t(202),0)}}function i_(t,e){const s=Xk();return(i_=function(t,e){return s[t-=186]})(t,e)}class r_{constructor(t){const e=Kk;Lm(this,"sn",0),Lm(this,"cc",0),Lm(this,e(251),""),Lm(this,e(229),""),Lm(this,e(255),""),Lm(this,e(223),0),Lm(this,e(285),0),Lm(this,"dataTime",""),Lm(this,e(234),null),Lm(this,e(205),null),Lm(this,e(240),!1),Lm(this,e(270),null),Lm(this,e(250),!1),Lm(this,"hasAudio",!1),Lm(this,e(206),!1),Lm(this,"independent",!1),Lm(this,e(264),0),this[e(229)]=t}get[Kk(237)](){return this[Kk(223)]+this.duration}setTrackExist(t,e){const s=Kk;this[s(206)]=t,this[s(199)]=e}[Kk(245)](t,e){const s=Kk;this.byteRange=[0];const i=t[s(222)]("@");1===i[s(216)]&&e&&e[s(205)]?(this[s(205)][0]=e[s(205)][1]||0,this[s(205)][0]&&(this[s(205)][0]+=1)):this[s(205)][0]=parseInt(i[1]),this[s(205)][1]=this[s(205)][0]+parseInt(i[0])-1}}class n_{constructor(t){const e=Kk;Lm(this,"method",""),Lm(this,"url",""),Lm(this,"iv",null),Lm(this,e(258),""),Lm(this,e(217),""),t instanceof n_&&(this[e(276)]=t[e(276)],this[e(251)]=t[e(251)],this[e(258)]=t[e(258)],this[e(217)]=t.keyFormatVersions,t.iv&&(this.iv=new Uint8Array(t.iv)))}clone(t){const e=Kk,s=new n_(this);return null!=t&&s[e(286)](t),s}[Kk(286)](t){const e=Kk;if(!this.iv&&"AES-128"===this[e(276)]&&"number"==typeof t&&this.url){this.iv=new Uint8Array(16);for(let e=12;e<16;e++)this.iv[e]=t>>8*(15-e)&255}}[Kk(194)](){const t=Kk,{method:e}=this;return e===t(203)}[Kk(228)](){const t=Kk;if(!(Jk([Yk[t(192)],Yk[t(271)],Yk[t(262)],Yk.PLAYREADY])[t(257)](this[t(258)])>-1))return!1;return!!(["SAMPLE-AES",t(260),t(248)][t(257)](this.method)>-1)}[Kk(207)](){const t=Kk;return!!this[t(276)]&&(!!this[t(194)]()||!!this[t(228)]())}}class o_{constructor(t,e,s){const i=Kk;this.msn=t,this[i(283)]=e,this[i(210)]=s}[Kk(190)](t){const e=Kk,s=new(self[e(208)])(t);return void 0!==this[e(221)]&&s.searchParams[e(212)](e(272),this[e(221)][e(259)]()),this.part&&s[e(191)][e(212)](e(263),this.part.toString()),this.skip&&s[e(191)][e(212)]("_HLS_skip",this.skip),s[e(244)]}}!function(t,e){const s=u_,i=t();for(;;)try{if(210386===-parseInt(s(457))/1+parseInt(s(456))/2+parseInt(s(439))/3+parseInt(s(426))/4*(-parseInt(s(444))/5)+parseInt(s(432))/6+parseInt(s(447))/7*(parseInt(s(446))/8)+-parseInt(s(435))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(p_);const a_=/^#(EXT[^:]*)(?::(.*))?$/,h_=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,l_=/^(?:[a-zA-Z0-9+\-.]+:)?\/\//,c_=/^((?:[a-zA-Z0-9+\-.]+:)?\/\/[^/?#]*)?([^?#]*\/)?/;function d_(t){const e=u_,s=t[e(431)](a_);if(s&&s[1])return[s[1][e(445)]("EXT-X-",""),s[2]]}function u_(t,e){const s=p_();return(u_=function(t,e){return s[t-=426]})(t,e)}function p_(){const t=["filter","_startDate","X-ASSET-URI","exec","getTime","com.apple.hls.interstitial","389788sswCqP","209430cZsxsp","hasOwnProperty","72MBKLxi","post","test","X-CUE","YES","match","636948KXWTyR","pre","DURATION","572364XhlpaG","isFinite","call","CUE","51753FeqtiH","END_ON_NEXT","split","_endDate","CLASS","105eipLvh","replace","56IzMKPS","165487Njvazg","map","length"];return(p_=function(){return t})()}function f_(t){const e=u_,s={};let i=h_[e(453)](t);for(;i;)s[i[1]]=i[2]||i[3],i=h_[e(453)](t);return s}function m_(t,e){const s=u_;if(!e||!t||l_[s(428)](t))return t;const i=c_[s(453)](e);return i?"/"===t[0]?i[1]+t:i[1]+i[2]+t:t}const g_={audio:[/^mp4a/,/^vorbis$/,/^opus$/,/^flac$/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function y_(t,e){const s=u_,i=g_[t];if(i&&e&&e[s(449)])for(let t=0;t<i[s(449)];t++)for(let r=0;r<e[s(449)];r++)if(i[t][s(428)](e[r]))return e[r]}function A_(t,e){const s=u_;let i;if(e)for(const r in e)if(Object.prototype[s(458)][s(437)](e,r)&&t[r]!==e[r]){i=r;break}let r=null;t[s(434)]&&(r=parseFloat(t.DURATION),Number[s(436)](r)?t[s(442)]&&(r=(t[s(442)][s(454)]()-t[s(451)].getTime())/1e3):r=null);const n=function(t,e){const s=u_;return(t?t[s(441)](/[ ,]+/):[]).reduce(((t,e)=>(t[e.toLowerCase()]=!0,t)),e)}(t[s(438)]||t[s(429)],{pre:!1,post:!1,once:!1});return!!t.ID&&!i&&Number.isFinite(t[s(451)][s(454)]())&&(null===r||r>=0)&&(!(t[s(440)]===s(430))||!!t[s(443)])&&(!t.CUE||!n.pre&&!n[s(427)]||n[s(433)]!==n[s(427)])&&(!(t.CLASS===s(455))||s(452)in t||"X-ASSET-LIST"in t)}function v_(t,e){const s=b_();return(v_=function(t,e){return s[t-=353]})(t,e)}function b_(){const t=["YES","text","GROUP-ID","9927hjRdXW","AVERAGE-BANDWIDTH","width","audioStreams","AUDIO","audioGroup","92OwGQOE","996448dVCDPC","push","1326690yueALd","subtitleStreams","CODECS","version","forEach","MEDIA","streams","54AZEnbL","STREAM-INF","11WGtmSE","4388697mNWibC","split","AUTOSELECT","BANDWIDTH","SUBTITLES","name","RESOLUTION","28XnTtSM","LANGUAGE","textCodec","group","NAME","DEFAULT","channels","subtitleGroup","filter","isNaN","lang","audio","236911lXIzbs","4196472PCDOLP","height","185670cmmpSx","CHANNELS","URI","VERSION","length","TYPE","autoSelect"];return(b_=function(){return t})()}function S_(){const t=["VERSION","canSkipDateRanges","INDEPENDENT","filter","initSegment","dataTime","type","encrypt ","DURATION"," is not supported","DATERANGE","partTargetDuration","duration","485MfQVGT","21371256xQTpnD","url","4FDJKHn","PART","BYTERANGE","3536151qbKRBm","partIndex","MAP","segments","title","START-DATE","partHoldBack","KEYFORMAT","7740AcPLIF","SKIP","totalDuration","preloadHint","skippedSegments","PRELOAD-HINT","PROGRAM-DATE-TIME","live","split","endCC","4790588ockCMR","PLAYLIST-TYPE","PART-INF","SKIPPED-SEGMENTS","_startDate","122579GKVDrX","test","METHOD","push","DISCONTINUITY-SEQUENCE","15882eAogvR","URI","key","start","YES","NONE","isFinite","isLast","endSN","dateRanges","CAN-SKIP-UNTIL","MAX_SAFE_INTEGER","nextIndex","_endDate","isSupported","9765369ZnlsLn","TARGETDURATION","startCC","PART-HOLD-BACK","endPartIndex","CAN-BLOCK-RELOAD","8hXoEeu","lowLatency","slice","MEDIA-SEQUENCE","length","EXTINF","canSkipUntil","ENDLIST","KEY","clone","canBlockReload","setByteRange","independent","KEYFORMATVERSIONS","10WHyBPN","keyFormat","1295JKiLgO","SERVER-CONTROL"];return(S_=function(){return t})()}function w_(t,e){const s=S_();return(w_=function(t,e){return s[t-=199]})(t,e)}function E_(t,e){const s=k_();return(E_=function(t,e){return s[t-=323]})(t,e)}!function(t,e){const s=v_,i=t();for(;;)try{if(582536===parseInt(s(400))/1+-parseInt(s(378))/2*(parseInt(s(362))/3)+parseInt(s(368))/4*(parseInt(s(403))/5)+parseInt(s(401))/6+-parseInt(s(388))/7*(parseInt(s(369))/8)+-parseInt(s(381))/9+parseInt(s(371))/10*(-parseInt(s(380))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(b_),function(t,e){const s=w_,i=t();for(;;)try{if(891948===-parseInt(s(258))/1*(parseInt(s(232))/2)+parseInt(s(235))/3+parseInt(s(243))/4*(parseInt(s(229))/5)+-parseInt(s(263))/6*(parseInt(s(214))/7)+-parseInt(s(284))/8*(parseInt(s(278))/9)+parseInt(s(212))/10*(-parseInt(s(253))/11)+parseInt(s(230))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(S_);const T_=E_;!function(t,e){const s=E_,i=t();for(;;)try{if(793174===-parseInt(s(323))/1+parseInt(s(329))/2+-parseInt(s(325))/3+parseInt(s(336))/4+-parseInt(s(334))/5*(-parseInt(s(327))/6)+parseInt(s(333))/7*(parseInt(s(330))/8)+-parseInt(s(328))/9*(parseInt(s(337))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(k_);class I_{static parse(){const t=E_;let e=arguments[t(326)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(326)]>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!e[t(324)](t(335)))throw new Error("Invalid m3u8 file");const r=function(t){const e=u_;return t.split(/[\r\n]/)[e(448)]((t=>t.trim()))[e(450)](Boolean)}(e);return I_[t(331)](e)?function(t,e,s){const i=w_,r=new s_;r[i(231)]=e;let n,o=new r_(e),a=null,h=null,l=0,c=0,d=0,u=0,p=!1,f=0;for(;n=t[u++];){if("#"!==n[0]){if(r[i(199)]){c++;continue}o.sn=c,o.cc=d,o[i(231)]=m_(n,e),h&&(o[i(265)]=h[i(207)](c)),a&&(o.initSegment=a),r[i(238)][i(261)](o),o=new r_(e),c++;continue}const t=d_(n);if(!t)continue;const[u,m]=t;switch(u){case i(216):r.version=parseInt(m);break;case i(254):r[i(222)]=null==m?void 0:m.toUpperCase();break;case i(279):r.targetDuration=parseFloat(m);break;case i(255):{s&&(r.lowLatency=!0);const t=f_(m);t["PART-TARGET"]&&(r[i(227)]=parseFloat(t["PART-TARGET"]))}break;case i(215):{const t=f_(m);r[i(208)]=t[i(283)]===i(267),r[i(241)]=parseFloat(t[i(281)]||0),r.canSkipUntil=parseFloat(t[i(273)]||0),r[i(217)]=r[i(204)]>0&&t["CAN-SKIP-DATERANGES"]===i(267)}break;case i(205):p=!0;break;case i(201):c=r.startSN=parseInt(m);break;case i(262):d=r[i(280)]=parseInt(m);break;case"DISCONTINUITY":d++;break;case i(234):o[i(209)](m,r[i(238)][r.segments[i(202)]-1]);break;case i(233):{if(!r[i(199)])break;const t=f_(m);o[i(228)]=parseFloat(t[i(224)]),o[i(210)]=t[i(218)]===i(267),o.sn=c,o.cc=d,o.partIndex=f,o[i(266)]=l,o[i(228)]=parseFloat(t[i(224)]),l+=o[i(228)],o[i(231)]=m_(t[i(264)],e),h&&(o[i(265)]=h[i(207)](c)),a&&(o[i(220)]=a),r[i(238)][i(261)](o),o=new r_(e),f++}break;case i(248):{const t=f_(m);if(r[i(246)]=t,t.TYPE===i(233)&&t.URI){const e=t[i(264)][i(251)](".ts")[0][i(251)]("-");r.nextSN=e[3],r[i(275)]=e[e[i(202)]-1]}}break;case i(249):o[i(221)]=m;break;case i(203):{if(r[i(199)]){f=0;break}const[t,e]=m[i(251)](",");o[i(266)]=l,o[i(228)]=parseFloat(t),l+=o[i(228)],o[i(239)]=e}break;case i(206):{const t=f_(m);if(t[i(260)]===i(268)){h=null;break}if(h=new n_,h.method=t.METHOD,h.url=/^blob:/[i(259)](t.URI)?t.URI:m_(t[i(264)],e),h[i(213)]=t[i(242)]||"identity",h.keyFormatVersions=t[i(211)],!h[i(277)]())throw new Error(i(223)+t.METHOD+"/"+t[i(242)]+i(225));if(t.IV){let e=t.IV[i(200)](2);e=(1&e[i(202)]?"0":"")+e,h.iv=new Uint8Array(e[i(202)]/2);for(let t=0,s=e[i(202)]/2;t<s;t++)h.iv[t]=parseInt(e.slice(2*t,2*t+2),16)}}break;case i(237):{const t=f_(m);o[i(231)]=m_(t[i(264)],e),t.BYTERANGE&&o[i(209)](t[i(234)]),o.isInitSegment=!0,o.sn=0,h&&(o[i(265)]=h[i(207)](0)),a=o,o=new r_(e)}break;case i(244):{const t=f_(m),e=parseInt(t[i(256)],10);e<=Number[i(274)]&&(r[i(247)]+=e,c+=e)}break;case i(226):{const t=f_(m),e=r[i(272)][t.ID];t[i(257)]=e?e[i(257)]:new Date(t[i(240)]);const s=(null==e?void 0:e[i(276)])||new Date(t.END_DATE);Number[i(269)](s)&&(t[i(276)]=s),(A_(t,e)||r[i(247)])&&(r[i(272)][t.ID]=t)}}}r.segments=r[i(238)][i(219)]((t=>0!==t.duration));const m=r[i(238)][r[i(238)][i(202)]-1];return m&&(p&&(m[i(270)]=!0),r[i(271)]=m.sn,r[i(282)]=m[i(236)]),p&&(r[i(250)]=!1),r[i(245)]=l,r[i(252)]=d,r}(r,s,i):function(t,e){const s=v_,i=new qk;let r,n=0;const o=[],a=[];for(;r=t[n++];){const h=d_(r);if(!h)continue;const[l,c]=h;if(l===s(355))i[s(374)]=parseInt(c);else if(l===s(376)&&c){const t=f_(c);let i;switch(t.TYPE){case s(366):i=new Zk;break;case s(385):i=new t_;break;default:i=new $k}i.url=m_(t[s(354)],e),i.default=t[s(393)]===s(359),i[s(358)]=t[s(383)]===s(359),i.group=t[s(361)],i[s(386)]=t[s(392)],i[s(398)]=t[s(389)],t[s(353)]&&(i.channels=Number(t[s(353)].split("/")[0]),Number[s(397)](i[s(394)])&&(i[s(394)]=0)),t[s(357)]===s(366)&&t[s(354)]&&o[s(370)](i),t[s(357)]===s(385)&&a[s(370)](i)}else if(l===s(379)&&c){const r=new e_,o=f_(c);if(r.bitrate=parseInt(o[s(363)]||o[s(384)]),r[s(386)]=o[s(392)],r.url=m_(t[n++],e),o[s(387)]){const[t,e]=o[s(387)][s(382)]("x");r[s(364)]=parseInt(t),r[s(402)]=parseInt(e)}if(o.CODECS){const t=o[s(373)].split(/[ ,]+/)[s(396)](Boolean);r.videoCodec=y_("video",t),r.audioCodec=y_(s(399),t),r[s(390)]=y_(s(360),t)}r[s(367)]=o[s(366)],r[s(395)]=o[s(385)],i[s(377)][s(370)](r)}}return i.streams[s(375)](((t,e)=>{t.id=e})),o.length&&(o.forEach(((t,e)=>{t.id=e})),i.streams[s(375)]((t=>{const e=s;t[e(367)]&&(t[e(365)]=o.filter((s=>s.group===t[e(367)])))}))),a[s(356)]&&(a[s(375)](((t,e)=>{t.id=e})),i[s(377)].forEach((t=>{const e=s;t[e(395)]&&(t[e(372)]=a[e(396)]((s=>s[e(391)]===t[e(395)])))}))),i}(r,s)}static[T_(331)](t){const e=T_;return t[e(324)]("#EXTINF:")||t[e(324)](e(332))}}function k_(){const t=["1363148kcdwYx","includes","1718175FAzFha","length","8997822vjTMQW","3942558btOqOG","92498eqWCmE","95112FeGwdj","isMediaPlaylist","#EXT-X-TARGETDURATION:","210AbHgCS","5vQFoNO","#EXTM3U","5058212ejEUGb","10OJiobT"];return(k_=function(){return t})()}const __=C_;function C_(t,e){const s=D_();return(C_=function(t,e){return s[t-=462]})(t,e)}function D_(){const t=["_loader","config","296116xDmwVx","LOAD_RETRY","_useLowLatency","deliveryDirectives","emit","TAG_NAME","379985WmPYzK","_subtitleLoader","isMaster","stopPoll","data","live","addDirectives","url","1570701NYUIwt","segments","29293983YTGGGV","network","_timer","HLS_LEVEL_LOADED","poll","_audioLoader","push","length","6597168ebjksv","canBlockReload","TTFB","_emitOnLoaded","4513845VQbeNa","debugLog","destroy","response","nextSN","empty segments list","4WtlgWu","pollRetryCount","parse","parseText","hls","load()","load","_onLoaderRetry","96comefR","HLS_MANIFEST_LOADED","nextIndex","1348438xOUvZS","cancel","text","all","player"];return(D_=function(){return t})()}!function(t,e){const s=C_,i=t();for(;;)try{if(714918===parseInt(s(476))/1+-parseInt(s(469))/2+-parseInt(s(490))/3*(-parseInt(s(510))/4)+parseInt(s(482))/5*(-parseInt(s(466))/6)+-parseInt(s(504))/7+-parseInt(s(500))/8+parseInt(s(492))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(D_);class R_{constructor(t){const e=C_;Lm(this,"_emitOnLoaded",((t,e)=>{const s=C_,{response:i,options:r}=t,{firstByteTime:n,startTime:o,endTime:a,contentLength:h}=r||{};this.hls[s(480)](xt[s(502)],{url:e,responseUrl:i[s(489)],elapsed:n-o})})),Lm(this,e(465),((t,s)=>{const i=e;this[i(462)][i(480)](xt[i(477)],{error:Hk[i(493)](t),retryTime:s})})),this.hls=t,this[e(473)]=t[e(473)],this.TAG_NAME="HlsManifestLoader",this[e(478)]=t[e(475)].useLowLatency,this[e(494)]=null;const{retryCount:s,retryDelay:i,manifestLoadTimeout:r,fetchOptions:n}=this.hls[e(475)];this[e(474)]=new jk({...n,responseType:e(471),retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this[e(473)]),this[e(497)]=new jk({...n,responseType:e(471),retry:s,retryDelay:i,timeout:r,onRetryError:this[e(465)]},this[e(473)]),this[e(483)]=new jk({...n,responseType:e(471),retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this[e(473)])}async[__(506)](){const t=__;await this.stopPoll(),this[t(497)]&&(this[t(497)][t(506)](),this._audioLoader=null),this[t(483)]&&(this._subtitleLoader.destroy(),this._subtitleLoader=null),this._loader&&(this[t(474)].destroy(),this[t(474)]=null),this[t(478)]=null,this.hls=null}async load(t,e,s){const i=__;this[i(473)][i(505)](this[i(481)],i(463),t,e,s);const r=[this[i(474)][i(464)](t)];let n,o,a,h,l,c;e&&r[i(498)](this[i(497)][i(464)](e)),s&&r[i(498)](this[i(483)][i(464)](s));try{const[f,m,g]=await Promise[i(472)](r);if(!f)return[];var d,u,p;if(this._emitOnLoaded(f,t),n=f.data,h=f[i(507)][i(489)]||t,e)o=null==m?void 0:m.data,a=null==g?void 0:g[i(486)],l=(null==m||null===(d=m.response)||void 0===d?void 0:d.url)||e,c=(null==g||null===(u=g[i(507)])||void 0===u?void 0:u[i(489)])||s,o&&this[i(503)](m,e),a&&this[i(503)](g,s);else a=null==m?void 0:m[i(486)],c=(null==m||null===(p=m.response)||void 0===p?void 0:p[i(489)])||s,a&&this[i(503)](m,s)}catch(t){throw Hk.network(t)}const{onPreM3U8Parse:f}=this[i(462)][i(475)];let m,g,y;try{var A;if(f&&(n=f(n)||n,o&&(o=f(o,!0)||o),a&&(a=f(a,!0)||a)),m=I_[i(512)](n,h,this[i(478)]),!1===(null===(A=m)||void 0===A?void 0:A[i(487)])&&m[i(491)]&&!m.segments.length)throw new Error(i(509));o&&(g=I_.parse(o,l,this[i(478)])),a&&(y=I_.parse(a,c,this[i(478)]))}catch(t){throw new Hk(zk.MANIFEST,zk.HLS,t)}return m&&(m[i(484)]?this[i(462)].emit(xt[i(467)],{playlist:m}):(this[i(478)]&&(m[i(501)]?this[i(479)]=new o_(m[i(508)],m[i(468)],""):this[i(479)]=null),this[i(462)][i(480)](xt[i(495)],{playlist:m}))),[m,g,y]}[__(513)](t,e){const s=__,{onPreM3U8Parse:i}=this[s(462)][s(475)];let r;try{var n;if(i&&(t=i(t)||t),r=I_[s(512)](t,e,this[s(478)]),!1===(null===(n=r)||void 0===n?void 0:n[s(487)])&&r[s(491)]&&!r.segments[s(499)])throw new Error(s(509))}catch(t){throw new Hk(zk.MANIFEST,zk.HLS,t)}return r&&r.isMaster,[r]}[__(496)](t,e,s,i,r,n){const o=__;clearTimeout(this[o(494)]),n=n||3e3;let a=this[o(462)][o(475)][o(511)];const h=async()=>{const l=o;clearTimeout(this._timer);let c=t;try{this[l(479)]&&(c=this[l(479)][l(488)](t));const r=await this[l(464)](c,e,s);if(!r[0])return;a=this.hls.config[l(511)],i(r[0],r[1],r[2])}catch(t){a--,a<=0&&r(t)}this[l(494)]=setTimeout(h,n)};this[o(494)]=setTimeout(h,n)}[__(485)](){const t=__;return this._timer&&(clearTimeout(this._timer),this[t(494)]=null),this[t(470)]()}[__(470)](){const t=__;return Promise.all([this[t(474)][t(470)](),this[t(497)][t(470)]()])}}var L_=P_;function P_(t,e){var s=x_();return(P_=function(t,e){return s[t-=367]})(t,e)}function x_(){var t=["49TatkRD","length","getTotalBits","_totalBits","_chunkSpeeds","15764VijKYr","12WYoprQ","_speeds","addChunkRecord","reset","7638636jLHGls","88016cpFhSc","1395639xtABTI","44XHURMp","146808ITwRQg","81365wTGKyq","3mVmqiF","getLatestSpeed","1MjanEz","588440DEvSte","reduce","slice","addRecord"];return(x_=function(){return t})()}!function(t,e){for(var s=P_,i=t();;)try{if(124293===parseInt(s(389))/1*(-parseInt(s(385))/2)+parseInt(s(387))/3*(-parseInt(s(376))/4)+-parseInt(s(386))/5*(-parseInt(s(377))/6)+parseInt(s(371))/7*(-parseInt(s(382))/8)+-parseInt(s(383))/9+parseInt(s(367))/10*(-parseInt(s(384))/11)+parseInt(s(381))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(x_);class M_{constructor(){var t=P_;this[t(375)]=[],this._speeds=[],this[t(374)]=0}destroy(){var t=P_;this[t(375)]=[],this[t(378)]=[],this[t(374)]=0}[L_(370)](t,e){var s=L_;t&&e&&(this[s(378)].push(8e3*t/e),this[s(378)]=this[s(378)][s(369)](-3),this[s(374)]+=8*t)}[L_(379)](t,e){var s=L_;t&&e&&(this[s(375)].push(8e3*t/e),this[s(375)]=this._chunkSpeeds[s(369)](-100),this[s(374)]+=8*t)}getAvgSpeed(){var t=L_;return this._chunkSpeeds[t(372)]||this._speeds[t(372)]?this[t(378)][t(372)]?this[t(378)][t(368)](((t,e)=>t+e))/this[t(378)].length:this[t(375)].reduce(((t,e)=>t+e))/this[t(375)].length:0}[L_(388)](){var t=L_;return this._chunkSpeeds.length||this[t(378)][t(372)]?this[t(378)].length?this._speeds[this[t(378)][t(372)]-1]:this[t(375)][this[t(375)][t(372)]-1]:0}[L_(373)](){return this[L_(374)]}[L_(380)](){var t=L_;this._chunkSpeeds=[],this._speeds=[],this[t(374)]=0}}const B_=F_;function F_(t,e){const s=U_();return(F_=function(t,e){return s[t-=324]})(t,e)}function U_(){const t=["loadVideoSegment","_keyCache","url","247408irvquG","loadAudioSegment","getAvgSpeed","byteLength","data","259eRlZOQ","LOAD_RETRY","_mapCache","arraybuffer","range","1607936XgOLIO","keys","emit","TTFB","cancel","LOAD_START","3ZRNJdR","player","_bandwidthService","destroy","speedInfo","addRecord","key","_audioSegmentLoader","getTotalBits","_loadSegment","4787688wPuWfC","5784696WpyAqJ","_segmentLoader","all","initSegment","280802SGDGIc","load","length","byteRange","_onLoaderRetry","reset","_keyLoader","getLatestSpeed","1683475Vycbxt","hls","8400kqSVok","then","_emitOnLoaded"];return(U_=function(){return t})()}!function(t,e){const s=F_,i=t();for(;;)try{if(515318===-parseInt(s(347))/1+parseInt(s(331))/2*(parseInt(s(363))/3)+parseInt(s(357))/4+parseInt(s(339))/5+-parseInt(s(326))/6+parseInt(s(352))/7*(parseInt(s(341))/8)+parseInt(s(327))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(U_);class O_{constructor(t){const e=F_;Lm(this,e(343),((t,s)=>{const i=e,{data:r,response:n,options:o}=t,{firstByteTime:a,startTime:h,endTime:l,contentLength:c}=o||{},d=l-h;this._bandwidthService[i(368)](c||r[i(350)],d),this[i(340)][i(359)](xt[i(360)],{url:s,responseUrl:n[i(346)],elapsed:a-h})})),Lm(this,e(335),((t,s)=>{const i=e;this[i(340)][i(359)](xt[i(353)],{error:Hk.network(t),retryTime:s})})),this[e(340)]=t,this.player=t[e(364)],this.error=null,this[e(354)]={},this[e(345)]={},this[e(365)]=new M_;const{retryCount:s,retryDelay:i,loadTimeout:r,fetchOptions:n}=this[e(340)].config;this[e(328)]=new jk({...n,responseType:"arraybuffer",retry:s,retryDelay:i,timeout:r,onRetryError:this[e(335)]},this[e(364)]),this[e(370)]=new jk({...n,responseType:e(355),retry:s,retryDelay:i,timeout:r,onRetryError:this[e(335)]},this[e(364)]),this[e(337)]=new jk({...n,responseType:e(355),retry:s,retryDelay:i,timeout:r,onRetryError:this[e(335)]},this[e(364)])}[B_(366)](){const t=B_;this[t(336)](),this[t(337)]&&(this[t(337)].destroy(),this._keyLoader=null),this._audioSegmentLoader&&(this[t(370)][t(366)](),this[t(370)]=null),this[t(328)]&&(this[t(328)][t(366)](),this[t(328)]=null),this._bandwidthService&&(this[t(365)][t(366)](),this._bandwidthService=null),this[t(340)]=null}[B_(367)](){const t=B_;return{speed:this[t(365)][t(338)](),avgSpeed:this._bandwidthService[t(349)](),totalBits:this[t(365)][t(324)]()}}resetBandwidth(){this[B_(336)]()}[B_(332)](t,e,s){const i=B_;let r=arguments[i(333)]>3&&void 0!==arguments[3]?arguments[3]:s;const n=[];return t&&(n[0]=this[i(344)](t,s)),e&&(n[1]=this.loadAudioSegment(e,r)),Promise[i(329)](n)}[B_(344)](t,e){return this._loadSegment(this._segmentLoader,t,e)}[B_(348)](t,e){const s=B_;return this[s(325)](this[s(370)],t,e)}async[B_(325)](t,e,s){const i=B_;var r;let n,o,a,h,l;const c=[];this[i(340)][i(359)](xt[i(362)],{url:e.url});const d={};if(Array.isArray(e[i(334)])&&2===e[i(334)][i(333)]&&(d[i(356)]=e[i(334)]),c[0]=t[i(332)](e.url,d),s&&e[i(330)]){var u;const s=e[i(330)][i(346)];n=this._mapCache[s],!n&&(this[i(340)][i(359)](xt.LOAD_START,{url:s}),c[1]=t[i(332)](s)[i(342)]((t=>{const e=i;if(t){Object[e(358)](this[e(354)])>30&&(this[e(354)]={}),n=this[e(354)][s]=t.data,this[e(343)](t,s)}})));const r=null===(u=e.initSegment[i(369)])||void 0===u?void 0:u[i(346)];r&&(l=e[i(330)][i(369)].iv,h=this[i(345)][r],!h&&(this[i(340)][i(359)](xt[i(362)],{url:r}),c[2]=this[i(337)].load(r).then((t=>{const e=i;t&&(h=this._keyCache[r]=t[e(351)],this[e(343)](t,r))}))))}const p=null===(r=e[i(369)])||void 0===r?void 0:r[i(346)];p&&e[i(369)].isSegmentEncrypted()&&(a=e[i(369)].iv,o=this[i(345)][p],!o&&(this[i(340)][i(359)](xt[i(362)],{url:p}),c[3]=this[i(337)].load(p)[i(342)]((t=>{const e=i;t&&(o=this._keyCache[p]=t[e(351)],this[e(343)](t,p))}))));const[f]=await Promise[i(329)](c);if(!f)return;const m=f.data;return this[i(343)](f,e[i(346)]),{data:m,map:n,key:o,mapKey:h,keyIv:a,mapKeyIv:l}}[B_(336)](){const t=B_;this.error=null,this[t(354)]={},this[t(345)]={},this[t(365)][t(336)]()}async[B_(361)](){const t=B_;await Promise.all([this[t(337)][t(361)](),this[t(328)][t(361)](),this._audioSegmentLoader[t(361)]()])}}function N_(){const t=["name","canSkipDateRanges","2691TVqhzz","audioStreams","getAudioSegment","canBlockReload","url","endPartIndex","HlsStream","partHoldBack","_clearSegments","slice","targetDuration","map","startSN","189QGYrBH","updateSubtitle","33gEoGbz","startCC","snDiff","216120xrChnA","destroy","subtitleStreams","forEach","height","endSN","start","4210dauAAN","clearOldSegment","currentAudioStream","endTime","lang","_updateSegments","currentSubtitleEndSn","2708RthRuK","live","skippedSegments","bitrate","lowLatency","switchSubtitle","9046qlxTYH","default","isArray","endCC","_setLLPlaybackPoint","end","textCodec","segments","10fiXQom","partTargetDuration","update","duration","concat","width","audioCodec","1071895GkZSSM","length","TAG_NAME","find","partIndex","currentSubtitleStream","findIndex","5211048Kccxku","totalDuration","49erHOCV","liveEdge","videoCodec","lastSegment","140696khiKzP","segmentDuration","closedCaptions"];return(N_=function(){return t})()}function j_(t,e){const s=N_();return(j_=function(t,e){return s[t-=117]})(t,e)}const V_=j_;!function(t,e){const s=j_,i=t();for(;;)try{if(104063===parseInt(s(161))/1*(-parseInt(s(184))/2)+parseInt(s(159))/3*(parseInt(s(178))/4)+-parseInt(s(121))/5*(parseInt(s(164))/6)+parseInt(s(137))/7*(-parseInt(s(141))/8)+parseInt(s(146))/9*(-parseInt(s(171))/10)+parseInt(s(128))/11+parseInt(s(135))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(N_);class W_{constructor(t,e,s){const i=j_;this[i(179)]=void 0,this.id=0,this[i(181)]=0,this.width=0,this[i(168)]=0,this[i(144)]="",this.url="",this[i(127)]="",this[i(139)]="",this[i(119)]="",this[i(162)]=0,this[i(187)]=0,this[i(158)]=0,this[i(169)]=-1,this[i(136)]=0,this.targetDuration=0,this.partTargetDuration=0,this.canSkipUntil=0,this[i(145)]=!1,this[i(180)]=0,this[i(149)]=!1,this[i(153)]=0,this[i(182)]=!1,this.endPartIndex=0,this.snDiff=null,this[i(120)]=[],this[i(147)]=[],this[i(166)]=[],this[i(143)]=[],this[i(173)]=null,this.currentSubtitleStream=null,this[i(130)]=i(152),this[i(123)](t,e,s)}[V_(165)](){const t=V_;this[t(120)]=[],this[t(147)]=[],this[t(166)]=[],this[t(173)]=null,this[t(133)]=null}get[V_(140)](){const t=V_;return this[t(120)].length?this[t(120)][this[t(120)].length-1]:null}get[V_(142)](){const t=V_;var e;return this[t(156)]||(null===(e=this[t(120)][0])||void 0===e?void 0:e[t(124)])||0}get[V_(138)](){return this[V_(174)]}set[V_(138)](t){this[V_(174)]=t}get[V_(174)](){const t=V_;var e;return(null===(e=this.lastSegment)||void 0===e?void 0:e[t(118)])||0}set[V_(174)](t){const e=V_,s=this[e(140)];s&&(s[e(124)]=t-s[e(170)])}get[V_(177)](){const t=V_;var e;return(null===(e=this[t(133)])||void 0===e?void 0:e[t(169)])||0}[V_(172)](t,e){const s=V_;return this[s(173)]&&this[s(154)](t,e),this[s(154)](t,e)}[V_(148)](t){const e=V_;if(!t||!this[e(173)])return;const s=t.sn-this.snDiff;return this.currentAudioStream[e(120)][e(131)]((t=>t.sn===s))}[V_(123)](t,e){const s=V_;this[s(150)]=t[s(150)],Array.isArray(t[s(120)])?((null===this[s(179)]||void 0===this[s(179)])&&(this.live=t.live),this[s(176)](t,this),this[s(162)]=t[s(162)],this[s(187)]=t[s(187)],this.startSN=t.startSN,this.endSN=t[s(169)]||-1,this[s(136)]=t.totalDuration,this.targetDuration=t[s(156)],this[s(179)]=t[s(179)],this.lowLatency=t[s(182)],this[s(149)]=t[s(149)],this[s(145)]=t[s(145)],this.canSkipUntil=t.canSkipUntil,this[s(153)]=t[s(153)],this[s(122)]=t[s(122)],this.skippedSegments=t[s(180)],this[s(151)]=t.endPartIndex,e&&this[s(173)]&&Array[s(186)](e[s(120)])&&(this[s(176)](e,this[s(173)]),(null===this.snDiff||void 0===this[s(163)])&&t[s(120)][s(129)]&&e[s(120)][s(129)]&&(this.snDiff=t[s(120)][0].sn-e[s(120)][0].sn))):(this.id=t.id,this.bitrate=t.bitrate,this.width=t[s(126)],this.height=t[s(168)],this[s(144)]=t[s(144)],this.audioCodec=t[s(127)],this[s(139)]=t[s(139)],this[s(119)]=t[s(119)],this[s(147)]=t.audioStreams,this[s(166)]=t.subtitleStreams,!this[s(173)]&&this[s(147)][s(129)]&&(this[s(173)]=this[s(147)].find((t=>t.default))||this.audioStreams[0]),!this[s(133)]&&this[s(166)][s(129)]&&(this.currentSubtitleStream=this[s(166)].find((t=>t[s(185)]))||this[s(166)][0]))}[V_(160)](t){const e=V_;if(!(t&&this.currentSubtitleStream&&Array[e(186)](t[e(120)])))return;const s=this[e(176)](t,this.currentSubtitleStream),i=this[e(133)].segments;return i.length>100&&(this[e(133)].segments=i[e(155)](100)),s?s[e(157)]((t=>{const s=e;return{sn:t.sn,url:t[s(150)],duration:t[s(124)],start:t.start,end:t[s(118)],lang:this.currentSubtitleStream.lang}})):void 0}[V_(183)](t){const e=V_,s=this[e(166)][e(131)]((s=>s[e(175)]===t)),i=this[e(133)];s&&(this[e(133)]=s,i[e(120)]=[])}[V_(117)](t){const e=V_;if(!t[e(182)]||!t[e(120)][e(129)])return t;const s=t.totalDuration-t[e(153)],i=t[e(120)];let r=0;for(let t=0,n=i[e(129)];t<n;t++)i[t][e(170)]<=s&&i[t].independent&&(r=t);const n=i[e(155)](r);let o=0;return n[e(167)]((t=>{t.start=o,o=t.end})),t[e(120)]=n,t[e(136)]=o,t[e(158)]=n[0].sn,t[e(162)]=n[0].cc,t}_clearSegments(t,e){const s=V_;let i=0;const r=this[s(120)];for(let e=0,n=r[s(129)];e<n;e++)if(r[e].end>=t){i=e;break}return i>e&&(i=e),i&&(this[s(120)]=this[s(120)][s(155)](i),this[s(173)]&&(this[s(173)][s(120)]=this[s(173)][s(120)][s(155)](i))),e-i}[V_(176)](t,e){const s=V_,i=e.segments;if(this[s(179)]){const r=t[s(182)],n=i[i[s(129)]-1],o=(null==n?void 0:n.sn)??-1,a=(null==n?void 0:n[s(132)])||0;let h=o<t[s(169)]&&t.segments[s(129)];if(r&&(h=h||a<t[s(151)]),h){const r=t[s(120)][s(134)]((t=>t.sn===o&&t[s(132)]===a)),h=r<0?t[s(120)]:t[s(120)][s(155)](r+1);if(i[s(129)]&&h[s(129)]){let t=n[s(118)];h.forEach((e=>{e[s(170)]=t,t=e.end}));const e=(null==n?void 0:n.cc)||-1;e>h[0].cc&&h[s(167)]((t=>t.cc+=e))}return e[s(169)]=t.endSN,e.segments=i[s(125)](h),h}}else e.segments=t.segments}}var G_=z_;function z_(t,e){var s=H_();return(z_=function(t,e){return s[t-=134]})(t,e)}function H_(){var t=["debugWarn","forEach","liveEdge","11538900zFVpIj","upsertPlaylist","lowLatency","totalDuration","clearOldSegment() stream.endTime:","filter","hasVideo","debugLog","hls","length","setNextSegmentByIndex()","clearOldSegment() update _segmentPointer: old -> new","nbSegments","isLive","moveSegmentPointer() and param pos is ","player",", this.dvrWindow:","upsertPlaylist() playlist is null","findIndex","4mlaCtP","reset","config","segments","nextSegment","getAudioSegment","494966pYBwhY","setNextSegmentBySN","live","1438947aAXKmb","reduce","105BNLicd","update","destroy","start","SUBTITLE_SEGMENTS","moveSegmentPointer","604320tMTNQV"," and clamp result is ","7580XUkSDW","currentSubtitleStream","findSegmentIndexByTime","_segmentPointer","lastSegment","updateSubtitle","getSegmentByIndex","end","1056LxkvUa","1968265xWctPe","TAG_NAME","streams","currentSegments","hasSubtitle","setNextSegmentByIndex","maxPlaylistSize"," <= maxPlaylistSize:","21870RCuWfx","currentSubtitleEndSn","endTime","isEmpty","3CvSrqL","currentStream","dvrWindow","hasAudio","1488BraCjT","currentSegment"];return(H_=function(){return t})()}!function(t,e){for(var s=z_,i=t();;)try{if(771504===-parseInt(s(162))/1+-parseInt(s(159))/2*(parseInt(s(193))/3)+-parseInt(s(153))/4*(parseInt(s(181))/5)+-parseInt(s(170))/6*(-parseInt(s(164))/7)+-parseInt(s(197))/8*(-parseInt(s(189))/9)+parseInt(s(172))/10*(-parseInt(s(180))/11)+parseInt(s(134))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(H_);class K_{constructor(t){var e=z_;this[e(142)]=t,this[e(149)]=t.player,this[e(183)]=[],this[e(194)]=null,this.dvrWindow=0,this._segmentPointer=-1,this[e(182)]="HlsPlaylist"}[G_(166)](){var t=G_;this[t(154)](),this[t(142)]=null}get[G_(136)](){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(136)]}get[G_(176)](){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(176)]}get[G_(198)](){var t;return null===(t=this[G_(184)])||void 0===t?void 0:t[this._segmentPointer]}get[G_(157)](){var t;return null===(t=this[G_(184)])||void 0===t?void 0:t[this._segmentPointer+1]}get currentSegments(){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(156)]}get[G_(190)](){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(190)]}get liveEdge(){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(201)]}set[G_(201)](t){var e=G_;this[e(194)]&&(this[e(194)][e(201)]=t)}get totalDuration(){var t,e=G_;return(null===(t=this[e(194)])||void 0===t?void 0:t[e(137)])||0}get seekRange(){var t=G_;const e=this[t(184)];if(e&&e[t(143)])return[e[0][t(167)],e[e.length-1].end]}get[G_(146)](){var t,e=G_;return(null===(t=this[e(184)])||void 0===t?void 0:t[e(143)])||0}get[G_(192)](){var t;return!(null!==(t=this[G_(184)])&&void 0!==t&&t.length)}get[G_(147)](){var t,e=G_;return null===(t=this[e(194)])||void 0===t?void 0:t[e(161)]}get hadSegmentLoaded(){return-1!==this[G_(175)]}get[G_(185)](){var t,e=G_;return!(null===(t=this.currentStream)||void 0===t||!t[e(173)])}[G_(158)](t){var e;return null===(e=this[G_(194)])||void 0===e?void 0:e.getAudioSegment(t)}[G_(169)](t){var e,s=G_;null==t&&(t=this[s(175)]+1),this[s(175)]=rs(t,-1,null===(e=this[s(184)])||void 0===e?void 0:e[s(143)]),this[s(149)][s(141)](this[s(182)],s(148)+t+s(171)+this[s(175)])}[G_(154)](){var t=G_;this.streams[t(143)]>0&&(this[t(183)][t(200)]((e=>{e[t(166)]()})),this[t(183)]=[]),this[t(194)]=null,this[t(195)]=0,this[t(175)]=-1}[G_(178)](t){var e;return null===(e=this[G_(184)])||void 0===e?void 0:e[t]}[G_(186)](){var t=G_;let e=arguments[t(143)]>0&&void 0!==arguments[0]?arguments[0]:0;this[t(175)]=e-1,this[t(149)][t(141)](this[t(182)],t(144),e,this._segmentPointer)}[G_(160)](){var t,e=G_;let s=arguments[e(143)]>0&&void 0!==arguments[0]?arguments[0]:0;const i=null===(t=this[e(184)])||void 0===t?void 0:t[e(152)]((t=>t.sn===s));return-1!==i&&this.setNextSegmentByIndex(i+1),i}findSegmentIndexByTime(t){var e=G_;const s=this[e(184)];if(s){for(let i,r=0,n=s[e(143)];r<n;r++)if(i=s[r],t>=i.start&&t<i[e(179)])return r;const i=s[s[e(143)]-1];if(Math.abs(t-(null==i?void 0:i[e(179)]))<.2)return s[e(143)]-1}}[G_(135)](t,e,s){var i=G_;if(!t)return void this[i(149)][i(199)](this[i(182)],i(151));if(t.isMaster)this[i(183)][i(143)]=t.streams[i(143)],t[i(183)].filter((t=>t.url))[i(200)](((t,e)=>{var s=i;this[s(183)][e]?this.streams[e][s(165)](t):this.streams[e]=new W_(t)})),this.currentStream=this[i(183)][0];else if(Array.isArray(t.segments)){const r=this[i(194)];if(r){r[i(165)](t,e,s);const n=r[i(177)](s);n&&this[i(142)].emit(xt[i(168)],{list:n})}else this[i(154)](),this[i(194)]=this[i(183)][0]=new W_(t,e,s)}this.currentStream&&this.hls[i(147)]&&!this[i(195)]&&(this.dvrWindow=this[i(184)][i(163)](((t,e)=>t+=e.duration),0))}updateSegmentsRanges(t,e){var s,i=G_;(null===(s=this[i(184)])||void 0===s?void 0:s[i(139)]((e=>e.sn>=t))).forEach((t=>{var s=i;t.start=e,e=t[s(179)]}))}switchSubtitle(t){var e;null===(e=this[G_(194)])||void 0===e||e.switchSubtitle(t)}clearOldSegment(){var t=G_;let e=arguments[t(143)]>0&&void 0!==arguments[0]?arguments[0]:this[t(142)][t(155)][t(187)]||50;const s=this.currentStream;if(!this.dvrWindow||!s)return;const i=s[t(191)]-this[t(195)];if(i<=0)return void this.player[t(141)](this[t(182)],t(138)+s[t(191)]+t(150)+this.dvrWindow+"  startTime <= 0");const r=s[t(156)];if(r.length<=e)return void this.player[t(141)](this[t(182)],"clearOldSegment() segments.length:"+r[t(143)]+t(188)+e);const n=this[t(175)];this._segmentPointer=s.clearOldSegment(i,n),this[t(149)][t(141)](this.TAG_NAME,t(145),n,this[t(175)])}checkSegmentTrackChange(t,e){var s=G_;const i=this[s(174)](t),r=this[s(178)](i);if(!r)return;if(!r.hasAudio&&!r[s(140)])return;if(2!==e&&r[s(196)]&&r[s(140)])return r;if(r[s(179)]-t>.3)return;const n=this[s(178)](i+1);return n&&(n[s(196)]||n[s(140)])&&(n[s(196)]!==r[s(196)]||n[s(140)]!==r[s(140)])?n:void 0}feedbackLiveEdge(t,e){var s,i=G_;if(!this.currentSegments)return;(null===(s=this[i(176)])||void 0===s?void 0:s.sn)===t.sn?this[i(201)]=e:this.updateSegmentsRanges(t.sn+1,e)}}function q_(t,e){const s=Q_();return(q_=function(t,e){return s[t-=442]})(t,e)}function Q_(){const t=["destroy","msCrypto","subtle","4132667wwpBWK","8vSmBVU","decrypt","key","webkitSubtle","47168869vzKtRh","3583626ssEjeF","183kbPuTJ","hls","AES-CBC","_decryptData","5tkuMOO","data","encrypt","importKey","36TlYUCi","CBC","map","externalDecryptor","all","123964BTQNYX","1794170DjGpFm","3830268bVLEfI","1217351sbVebS","_decryptSegment"];return(Q_=function(){return t})()}const Y_=q_;!function(t,e){const s=q_,i=t();for(;;)try{if(989067===parseInt(s(445))/1+-parseInt(s(444))/2+parseInt(s(457))/3*(-parseInt(s(442))/4)+parseInt(s(461))/5*(parseInt(s(456))/6)+parseInt(s(450))/7*(-parseInt(s(451))/8)+-parseInt(s(465))/9*(parseInt(s(443))/10)+parseInt(s(455))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Q_);class J_{constructor(t,e){const s=q_;this[s(458)]=t,this.player=e;const i=window.crypto||window[s(448)];this[s(449)]=i&&(i[s(449)]||i[s(454)]),this.externalDecryptor=null}destroy(){const t=q_;var e;null!==(e=this[t(468)])&&void 0!==e&&e[t(447)]&&this[t(468)][t(447)](),this.subtle=null,this.hls=null}[Y_(452)](t,e){const s=Y_;if(!t&&!e)return;const i=[];return t&&(i[0]=this._decryptSegment(t)),e&&(i[1]=this[s(446)](e)),Promise[s(469)](i)}async[Y_(446)](t){const e=Y_;let s=t[e(462)];return t[e(453)]&&(s=await this[e(460)](t.data,t[e(453)],t.keyIv)),t[e(467)]?Zm(t[e(467)],s):s}async _decryptData(t,e,s){const i=Y_;if(this[i(468)])return await this[i(468)][i(452)](t,e,s);if(this[i(449)]){const r=await this.subtle[i(464)]("raw",e,{name:"AES-CBC"},!1,[i(463),i(452)]),n=await this[i(449)][i(452)]({name:i(459),iv:s},r,t);return new Uint8Array(n)}t=Qp(t),e=Qp(e),s=Qp(s);return function(t){const{words:e}=t,{sigBytes:s}=t,i=new Uint8Array(s);for(let t=0;t<s;t+=1)i[t]=e[t>>>2]>>>24-t%4*8&255;return i}(zp.AES[i(452)]({ciphertext:t},e,{iv:s,mode:zp.mode[i(466)]}))}}function X_(){const t=1,e=2,s="hlsTs";class i{constructor(t){this.type=t.type,this.baseFps=0,this.playRate=1,this.fpsInterval=null,this.calcSampleInterval=null,this.preLoopTimestamp=null,this.seekingTime=null,this.seekingMaxDiff=t.seekingMaxDiff||1e4,this.allSampleList=[],this.isDebug=t.debug||!1,this.TAG_NAME=t.type+"LoopWorker",this.debugUuid=t.debugUuid||"xxxx",this.debugLevel=t.debugLevel||"warn",this._startCalcSampleInterval(),this.debugLog(this.TAG_NAME,"init")}destroy(){this._clearInterval(),this._clearCalcSampleInterval(),this.baseFps=0,this.playRate=1,this.allSampleList=[],this.preLoopTimestamp=null,this.seekingTime=null}updateBaseFps(t){this.debugLog(this.TAG_NAME,`updateBaseFps() baseFps is ${t}`),this.baseFps=t+1,this._clearInterval(),this._startInterval()}updatePlayRate(t){this.debugLog(this.TAG_NAME,`updatePlayRate() rate is ${t}`),this.playRate=t}seekSampleRange(t){this.debugLog(this.TAG_NAME,`seekSampleRange() time is ${t}`);const s=1e3*t;let i=0,r=-1;for(let t=0;t<this.allSampleList.length;t++){const n=this.allSampleList[t];if(n.type===e&&n.isIFrame){const e=Math.abs(s-n.dts);(-1===r||e<r)&&(r=e,i=t)}}this.allSampleList=this.allSampleList.slice(i)}cleanSampleList(){this.debugLog(this.TAG_NAME,"cleanSampleList()"),this.allSampleList=[]}setSeekingTime(t){this.seekingTime=1e3*t,this.debugLog(this.TAG_NAME,`setSeekingTime() time is ${this.seekingTime}`)}pause(){this.debugLog(this.TAG_NAME,"pause()"),this._clearInterval()}resume(){this.debugLog(this.TAG_NAME,"resume()"),this._clearInterval(),this._startInterval()}pushSample(t){if(delete t.cmd,null!==this.seekingTime){const s=Math.abs(t.dts-this.seekingTime);if(!(t.type===e&&t.isIFrame&&s<=this.seekingMaxDiff))return t.dts-this.seekingTime>this.seekingMaxDiff?(this.debugWarn(this.TAG_NAME,`pushSample() seekingTime is ${this.seekingTime}, sample dts is ${t.dts}, diff is ${s}ms more than seekingMaxDiff ${this.seekingMaxDiff}ms, and set this.seekingTime = null`),void(this.seekingTime=null)):void 0;this.debugLog(this.TAG_NAME,`pushSample() seekingTime is ${this.seekingTime}, sample dts is ${t.dts}, diff is ${s}ms and set this.seekingTime = null`),this.seekingTime=null}this.allSampleList.push(t)}_startInterval(){const t=Math.ceil(1e3/this.baseFps);this.debugLog(this.TAG_NAME,`_startInterval() fragDuration is ${t}ms and baseFps is ${this.baseFps}`);for(let t=0;t<this.playRate;t++)this._loop();this.fpsInterval=setInterval((()=>{let e=Date.now();for(let t=0;t<this.playRate;t++)this._loop();this.preLoopTimestamp||(this.preLoopTimestamp=e);const s=e-this.preLoopTimestamp,i=parseInt(s/t,10);i>1&&this.allSampleList.length>0&&this.debugWarn(this.TAG_NAME,`loop interval is ${s}ms, and fragDuration is ${t}ms, diffFps is ${i}, and allSampleList length is ${this.allSampleList.length}`),this.preLoopTimestamp=e}),t)}_clearInterval(){this.fpsInterval&&(clearInterval(this.fpsInterval),this.fpsInterval=null),this.preLoopTimestamp=null}_startCalcSampleInterval(){this.debugLog(this.TAG_NAME,"_startCalcSampleInterval()"),this._clearCalcSampleInterval(),this.calcSampleInterval=setInterval((()=>{this._calcSampleList()}),1e3)}_clearCalcSampleInterval(){this.calcSampleInterval&&(clearInterval(this.calcSampleInterval),this.calcSampleInterval=null)}_calcSampleList(){const i={buferredDuration:0,allListLength:this.allSampleList.length,start:this.allSampleList[0]?this.allSampleList[0].dts:0,end:this.allSampleList[this.allSampleList.length-1]?this.allSampleList[this.allSampleList.length-1].dts:0,audioListLength:0,videoListLength:0};this.allSampleList.forEach((r=>{r.type===e?(i.videoListLength++,r.duration&&(this.type===s?i.buferredDuration+=Math.round(r.duration/90):i.buferredDuration+=r.duration)):r.type===t&&i.audioListLength++})),postMessage({cmd:"sampleListInfo",...i})}_loop(){let s=null;if(this.allSampleList.length)if(s=this.allSampleList.shift(),s.type===e){postMessage({cmd:"decodeVideo",...s},[s.payload.buffer]);let e=this.allSampleList[0];for(;e&&e.type===t;)s=this.allSampleList.shift(),postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]),e=this.allSampleList[0]}else if(s.type===t){postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]);let i=this.allSampleList[0];for(;i;){if(s=this.allSampleList.shift(),s.type===e){postMessage({cmd:"decodeVideo",...s},[s.payload.buffer]),i=null;break}s.type===t&&(postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]),i=this.allSampleList[0])}}}debugLog(t){if(this.isDebug&&"debug"==this.debugLevel){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.isDebug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][❗❗❗][${t}]`,...s)}}debugError(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][❌❌❌][${t}]`,...s)}}let r=null;self.onmessage=t=>{const e=t.data;switch(e.cmd){case"init":r=new i(e.options);break;case"updateBaseFps":r.updateBaseFps(e.baseFps);break;case"updatePlayRate":r.updatePlayRate(e.rate);break;case"seekSampleRange":r.seekSampleRange(e.time);break;case"cleanSampleList":r.cleanSampleList();break;case"setSeekingTime":r.setSeekingTime(e.time);break;case"pause":r.pause();break;case"resume":r.resume();break;case"sample":r.pushSample(e);break;case"destroy":r.destroy(),r=null}}}!function(t,e){const s=iC,i=t();for(;;)try{if(867715===-parseInt(s(373))/1+-parseInt(s(374))/2*(-parseInt(s(370))/3)+-parseInt(s(369))/4+parseInt(s(368))/5+parseInt(s(366))/6*(parseInt(s(371))/7)+parseInt(s(362))/8+-parseInt(s(364))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nC);const $_=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Z_=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],tC=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],eC=[0,1,1,4];let sC=null;function iC(t,e){const s=nC();return(iC=function(t,e){return s[t-=362]})(t,e)}function rC(t,e){const s=iC,i=t[e+1]>>3&3,r=t[e+1]>>1&3,n=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==i&&0!==n&&15!==n&&3!==o){const a=t[e+2]>>1&1,h=t[e+3]>>6,l=1e3*$_[14*(3===i?3-r:3===r?3:4)+n-1],c=Z_[3*(3===i?0:2===i?1:2)+o],d=3===h?1:2,u=tC[i][r],p=eC[r],f=8*u*p,m=Math[s(372)](u*l/c+a)*p;if(null===sC){const t=(navigator[s(365)]||"")[s(363)](/Chrome\/(\d+)/i);sC=t?parseInt(t[1]):0}return!!sC&&sC<=87&&2===r&&l>=224e3&&0===h&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:d,frameLength:m,samplesPerFrame:f}}}function nC(){const t=["258RKScKb","length","5025910FfGDgo","5735532PmCeIr","1001655qVrVsv","258734nLMuiL","floor","102731aoJLMI","2stJHdP","7960240mZlgeL","match","13672206nKKLAs","userAgent"];return(nC=function(){return t})()}const oC=hC;function aC(){const t=["_parseAudioData() and parse pes error, code is startPrefixError and set audioPesData to []","_remainingPacketData",",\n                count is ","emit","cmd",", channel: ","_doDecodeByHls",",\n                audio pts: ","channelCount","_initLoopWorker","samplesPerFrame","Cannot parse avc units","_times","audioListLength","_needForceFixLargeGap","sample","initVideoTrack","allListLength",", pid: ","getSampleVideoListLength","_largeGapThreshold","_audioTimestampBreak","baseMediaDecodeTime","abs","_resetBaseDtsWhenStreamBreaked",", not start with 0x47, so break","max","URL","end","set","splice","1352934wcBrlJ","_parseAudioData","payload","_baseAudioDts","17857760LZDbRT","dts","min","getPlayVodDuration","resume","emitTsPrivateData","_postMessageToLoopWorker","playVodTimeCache","_isDestroyed","error","\n                        pts is ","_prevPlayVodTimeCache","debugWarn","776529SiMEUw","originPts","_doDecodeAudio",",\n                    ref sample duration is ","listen playVodRateChange","seqHeader","originalDts","workerUrl","isFinite","_fixAudio","originalPts","h264","2793415yfOkmp","geVodLoadedTime","_audioNextPts","_videoLastSample","destroy","_isSendAACSeqHeader","hasAudio","seiSamples"," < 0,\n                ref Sample DurationInt is ","_baseDts","_lastAudioExceptionLargeGapDot","_createVideoSample","no video pes data","1756516aEaBMG","fpsNum","_demux","isUseMSE","_parsePES startPrefix should be 1 but with value ","videoTrack","aac seq header","large audio gap detected,\n                        time is ","_audioPesData","_lastAudioExceptionOverlapDot","_isUseWorker","postMessage","isIFrame","decodeVideo","demuxAndFix","isHevc","workerClearTimeout","_gopId","buferredDuration","_calculateBaseDts","frameLength","_initLoopWorker()","timescale","reset","340674KhlMEL","_hasCalcFps","subarray","1936143FklXtQ","duration","pps","_parseAudioData() G711 PES unknown PTS"," > ","_videoNextDts","isPlayVodNotUseMSE","_doDecodeVideo","buffer",",\n                    nextPts is ","_pmtId","hlsTs","loopWorker","Unsupported stream. type: ","_parsePES","hls264UseOldDemuxer",",\n                        nextPts is ","pause","_lastAudioExceptionGapDot","debugLog","map","getBuferredDuration","getInputByteLength","tempSampleListInfo","initMetadataTrack","init","codec","clearBuffer","playVodRateChange","sampleDuration","demuxStart","cts","audio gap detected, silent frame is not support, count is ","player","getSampleListLength","35fjWPXa","G711U","sps","isPlayer","_videoTimestampBreak","cryptoPayload",",sampleRateIndex: ","_videoPid","loop worker is not init, can not post message",",\n                origin dts is "," || ","Unknown pid: ","vps",",\n             next dts is ","samples","metadataTrack","_audioCodecType","debugLevel","pts","onmessage","_baseVideoDts","large video gap between frames,\n                time is ","sort","audioTrack","fpsDen","_opt","h265","uuid","isSeeking","formatTimescale",",\n                originPts is ","correctSamplePts","forEach",",\n             duration is ","playVod",",\n                detect is: ","byteLength","_audioPid","startPrefixError","revokeObjectURL","isPlayVod","setPlayVodBufferedTime","length","frames","_fixVideo","_fix","_videoPesData","data","debug","G711A","audio","type","_basefps","samplingFrequencyIndex","_codecType","clear","videoListLength","cryptoPayloadAudio","video",",\n                        sample duration is ","_doFixAudioInternal","TAG_NAME","_parseVideoData","getSampleRange","concat","probe","isEmitTsPrivateData","initAudioTrack","_baseDtsInited","updateStats",",\n                next dts is ","_audioLastSample","_calcDecodeFps","objectType","size","AAC","sampleRate","floor",",\n                    originPts is ","pid is 17 and ignore","aac parseADTS error","isEmitSEI","decodeAudio","push","_demux() sync_byte = "];return(aC=function(){return t})()}function hC(t,e){const s=aC();return(hC=function(t,e){return s[t-=348]})(t,e)}!function(t,e){const s=hC,i=t();for(;;)try{if(405194===parseInt(s(400))/1+-parseInt(s(383))/2+-parseInt(s(452))/3+-parseInt(s(425))/4+-parseInt(s(412))/5+parseInt(s(449))/6*(-parseInt(s(487))/7)+parseInt(s(387))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(aC);class lC extends xf{constructor(t){const e=hC;super(t),this.player=t,this[e(548)]="HlsTsDemux",this[e(448)](),this[e(541)]=Z[e(411)],this[e(503)]=et.AAC,this[e(533)]=[],this._audioPesData=[],this[e(475)]={},this[e(430)]=lC[e(368)](),this[e(510)]=lC[e(554)](),this.metadataTrack=lC.initMetadataTrack(),this[e(372)]=45e4,this[e(441)]=null,this.workerUrl=null,this[e(464)]=null,this[e(435)]()&&this[e(361)](),this[e(485)][e(527)]()&&this[e(435)]()&&this[e(485)].on(H[e(480)],(t=>{const s=e;this.player.debugLog(this[s(548)],s(404),t),this[s(393)]("updatePlayRate",{rate:t})})),this.player[e(471)](this[e(548)],"init")}[oC(416)](){const t=oC;super.destroy(),this[t(407)]&&(URL.revokeObjectURL(this[t(407)]),this[t(407)]=null),this.workerClearTimeout&&(clearTimeout(this[t(441)]),this.workerClearTimeout=null),this[t(464)]&&(this.loopWorker.postMessage({cmd:"destroy"}),this.loopWorker.terminate(),this[t(464)]=null),this[t(448)](),this[t(485)][t(471)](this[t(548)],t(416))}[oC(448)](){const t=oC;this[t(462)]=-1,this._videoPid=-1,this[t(524)]=-1,this[t(353)]=null,this._codecType=null,this[t(503)]=null,this[t(533)]=null,this[t(433)]=null,this[t(442)]=0,this[t(430)]=null,this[t(510)]=null,this[t(502)]=null,this[t(475)]=null,this[t(421)]=-1,this[t(507)]=-1,this[t(386)]=-1,this[t(555)]=!1,this[t(539)]=25,this._hasCalcFps=!1,this[t(398)]=0,this[t(414)]=void 0,this[t(457)]=void 0,this[t(373)]=!1,this[t(491)]=!1,this._lastAudioExceptionGapDot=0,this[t(434)]=0,this[t(422)]=0,this._needForceFixLargeGap=!0,this[t(417)]=!1,this[t(499)]=null,this[t(489)]=null,this[t(454)]=null}static initVideoTrack(){return{samples:[]}}static initAudioTrack(){return{samples:[]}}static[oC(476)](){return{flvScriptSamples:[],seiSamples:[]}}static[oC(552)](t){return!!t[oC(529)]&&(71===t[0]&&71===t[188]&&71===t[376])}[oC(466)](t){const e=oC,s=t[8];if(null==s||t[e(529)]<s+9)return;const i=t[0]<<16|t[1]<<8|t[2];if(1!==i)return this[e(485)][e(399)](this.TAG_NAME,e(429)+i),{error:!0,code:e(525)};const r=(t[4]<<8)+t[5];if(r&&r>t[e(529)]-6)return;let n,o;const a=t[7];return 192&a&&(n=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&a?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,n-o>54e5&&(n=o)):o=n),{data:t[e(451)](9+s),pts:n,dts:o,originalPts:n,originalDts:o}}_demux(t){const e=oC;let s=arguments[e(529)]>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments[e(529)]>2&&void 0!==arguments[2])||arguments[2];s&&(this[e(462)]=-1,this.videoTrack=lC[e(368)](),this[e(510)]=lC[e(554)](),this[e(502)]=lC[e(476)]()),!i||s?(this[e(353)]=null,this._videoPesData=[],this[e(433)]=[],this.player[e(527)]()&&this[e(485)].playVod[e(515)]()&&(this.videoTrack[e(501)]=[],this.audioTrack[e(501)]=[],this[e(502)][e(419)]=[])):(this[e(430)][e(501)]=[],this.audioTrack[e(501)]=[],this.metadataTrack.seiSamples=[],this[e(353)]&&(t=Zm(this[e(353)],t),this[e(353)]=null));let r=t.length;const n=r%188;n&&(this[e(353)]=t[e(451)](r-n),r-=n);for(let s=0;s<r;s+=188){if(71!==t[s]){this.player[e(399)](this[e(548)],e(351)+t[s]+e(377));break}const i=!!(64&t[s+1]),r=((31&t[s+1])<<8)+t[s+2];let n;if((48&t[s+3])>>4>1){const i=t[s+4];if(n=s+5+i,n===s+188)continue;if(i>0){const i=t[s+5],r=(16&i)>>>4;if(this[e(485)][e(512)][e(553)]){if(1===(2&i)>>>1){let n=s+6;r&&(n+=6);(8&i)>>>3&&(n+=6);(4&i)>>>2&&(n+=1);const o=t[n],a=t[e(451)](n+1,n+1+o);this[e(485)][e(392)](a)}}}}else n=s+4;switch(r){case 0:i&&(n+=t[n]+1),this[e(462)]=(31&t[n+10])<<8|t[n+11];break;case this[e(462)]:{i&&(n+=t[n]+1);const s=n+3+((15&t[n+1])<<8|t[n+2])-4;for(n+=12+((15&t[n+10])<<8|t[n+11]);n<s;){const s=(31&t[n+1])<<8|t[n+2],i=t[n];switch(i){case 15:this[e(524)]=s,this[e(503)]=et[e(562)];break;case 3:case 4:-1===this[e(524)]&&(this._audioPid=s,this[e(503)]=et.MP3);break;case 144:this[e(524)]=s,this[e(503)]=et[e(536)];break;case 145:this[e(524)]=s,this[e(503)]=et[e(488)];break;case 27:if(-1!==this._videoPid)break;this[e(494)]=s,this[e(541)]=Z[e(411)],this[e(485)][e(490)]()&&this[e(485)][e(512)][e(467)]&&this.player[e(355)](H[e(467)]);break;case 36:if(-1!==this[e(494)])break;this._videoPid=s,this[e(541)]=Z[e(513)];break;default:this[e(485)].debugWarn(this.TAG_NAME,e(465)+i+e(370)+s)}n+=5+((15&t[n+3])<<8|t[n+4])}}break;case this._videoPid:i&&this._videoPesData[e(529)]&&this[e(549)](),this[e(533)][e(350)](t[e(451)](n,s+188));break;case this[e(524)]:i&&this._audioPesData[e(529)]&&this[e(384)](),this._audioPesData[e(350)](t[e(451)](n,s+188));break;case 17:this[e(485)].debugLog(this[e(548)],e(566));break;case 8191:this[e(485)][e(471)](this[e(548)],"pid is 0x1fff and ignore");break;default:this[e(485)][e(471)](this[e(548)],e(498)+r)}}this[e(549)](),this[e(384)](),this[e(510)][e(516)]=this[e(430)][e(516)]=this[e(430)][e(447)]=9e4,this[e(510)].timescale=this[e(510)][e(563)]||0}[oC(439)](t,e,s,i){const r=oC;!this[r(485)][r(364)][r(482)]&&(this.player._times[r(482)]=is()),this[r(427)](t,e,s,i),this[r(532)](i,e,s)}[oC(549)](){const t=oC;if(!this[t(533)].length)return void this[t(485)].debugLog(this[t(548)],t(549),t(424));const e=this[t(466)](Zm(...this[t(533)]));if(!e||e.error)return void(e&&e.code===t(525)&&(this[t(533)]=[]));const s=He(e.data);s?this[t(423)](s,e[t(505)],e[t(388)]):this[t(485)].debugWarn(this[t(548)],t(363),e),this[t(533)]=[]}[oC(423)](t,e,s){const i=oC;if(!t[i(529)])return;const r=this[i(541)]===Z[i(513)],n={isIFrame:!1,type:j.video,isHevc:r,vps:null,sps:null,pps:null,pts:e,dts:s,payload:null};t[i(519)]((t=>{const s=i,o=r?t[0]>>>1&63:31&t[0];switch(o){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==o||r&&5===o)break;n[s(437)]=!0,this[s(442)]++;break;case 6:case 39:case 40:if(!r&&6!==o||r&&6===o)break;const i=Ye(qe(t),r);return void this[s(502)].seiSamples[s(350)]({data:i[s(385)],originData:t,type:i.type,uuid:i[s(514)],size:i[s(561)],originPts:e});case 32:if(!r)break;!n[s(499)]&&(n[s(499)]=t,this.vps=t);break;case 7:case 33:if(!r&&7!==o||r&&7===o)break;!n[s(489)]&&(n[s(489)]=t,this.sps=t);break;case 8:case 34:if(!r&&8!==o||r&&8===o)break;!n[s(454)]&&(n[s(454)]=t,this[s(454)]=t)}if(r&&Ml(o)||!r&&ol(o)){const e=Je(t);if(n.payload){const t=new Uint8Array(n[s(385)][s(523)]+e[s(523)]);t.set(n[s(385)],0),t[s(381)](e,n.payload[s(523)]),n[s(385)]=t}else n[s(385)]=e}}));let o=null;r?n.sps&&n.vps&&n[i(454)]?(o=Rl({vps:n[i(499)],sps:n.sps,pps:n[i(454)]}),this[i(499)]=null,this[i(489)]=null,this.pps=null):this[i(499)]&&this.sps&&this[i(454)]&&(o=Rl({vps:this[i(499)],sps:this[i(489)],pps:this[i(454)]}),this[i(499)]=null,this[i(489)]=null,this[i(454)]=null):n[i(489)]&&n[i(454)]?(o=sl({sps:n[i(489)],pps:n[i(454)]}),this[i(489)]=null,this[i(454)]=null):this[i(489)]&&this[i(454)]&&(o=sl({sps:this.sps,pps:this[i(454)]}),this[i(489)]=null,this.pps=null),o&&(this.player[i(471)](this[i(548)],i(423),i(405)),this[i(358)](o,j[i(545)],Math[i(564)](n.pts/90),!0,0)),n[i(437)]&&this.calcIframeIntervalTimestamp(Math.floor(n[i(388)]/90)),this[i(430)][i(501)]=this[i(430)].samples.concat(n)}[oC(384)](){const t=oC;if(!this[t(433)][t(529)])return;if(!this[t(485)][t(512)][t(418)])return;const e=this[t(466)](Zm(...this[t(433)]));if(e&&!e[t(396)]){if(this[t(503)]===et[t(562)]){const s=Me(e[t(534)],e[t(410)]);if(s){if(this.audioTrack[t(478)]=s[t(478)],this[t(510)][t(563)]=s[t(563)],this[t(510)][t(360)]=s[t(360)],!this._isSendAACSeqHeader){const e=ke({profile:s[t(560)],sampleRate:s.samplingFrequencyIndex,channel:s[t(360)]});this[t(417)]=!0,this[t(485)][t(471)](this[t(548)],t(431),"profile: "+s[t(560)]+", sampleRate:"+s[t(563)]+t(493)+s[t(540)]+t(357)+s.channelCount),this[t(358)](e,j.audio,0,!1,0)}if(this[t(417)]){const e=[];s[t(530)][t(519)]((s=>{const i=t,r=s[i(505)],n=new Uint8Array(s[i(534)].length+2);n[i(381)]([175,1],0),n[i(381)](s[i(534)],2);const o={type:j[i(537)],pts:r,dts:r,payload:n};e[i(350)](o)})),this[t(510)].samples=this.audioTrack[t(501)][t(551)](e)}else this[t(485)].debugWarn(this.TAG_NAME,"aac seq header not send")}else this[t(485)][t(399)](this.TAG_NAME,t(567))}else if(this[t(503)]===et.MP3){const r=e.data,n=r[t(529)];let o=0,a=0;const h=e[t(505)];if(void 0===h)return void this[t(485)].debugWarn(this[t(548)],"_parseAudioData() MPEG PES unknown PTS");const l=[];for(;a<n;)if((i=a)+1<(s=r)[iC(367)]&&255===s[i]&&224==(224&s[i+1])&&0!=(6&s[i+1])){if(a+24>r[t(529)])return;const e=rC(r,a);if(!(e&&a+e[t(445)]<=r[t(529)]))break;{const s=h+o*(9e4*e[t(362)]/e[t(563)]),i=r[t(451)](a,a+e[t(445)]);this[t(510)][t(360)]=e[t(360)],this[t(510)].sampleRate=e[t(563)];const n=new Uint8Array(i+1);n[t(381)]([32],0),n[t(381)](i,1);const c={type:j[t(537)],pts:s,dts:s,payload:n};l[t(350)](c),a+=e[t(445)],o++}}else a++;this[t(510)][t(501)]=this[t(510)][t(501)][t(551)](l)}else if(this[t(503)]===et.G711A||this[t(503)]===et[t(488)]){this[t(510)].channelCount=1,this.audioTrack.sampleRate=8e3;const s=e[t(505)];if(void 0===s)return void this[t(485)][t(399)](this[t(548)],t(455));const i=this[t(503)]===et[t(536)];let r=e.data;const n=new Uint8Array(r[t(529)]+1),o=i?[114]:[130];n[t(381)](o,0),n.set(r,1);const a={type:j[t(537)],pts:s,dts:s,payload:n};this.audioTrack[t(501)].push(a)}var s,i;this[t(433)]=[]}else e&&"startPrefixError"===e.code&&(this.player[t(471)](this[t(548)],t(352)),this._audioPesData=[])}_fix(){const t=oC;let e=arguments[t(529)]>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[t(529)]>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=Math[t(564)](9e4*e);const r=this[t(430)],n=this.audioTrack,o=r[t(501)],a=n[t(501)];if(!o[t(529)]&&!a[t(529)])return;const h=o[0],l=a[0];let c=0;if(o.length&&a[t(529)]&&(c=h[t(388)]-l.pts),!this[t(555)]&&this[t(444)](),s&&(this[t(444)](),this._baseDts-=e,this._baseAudioDts-=e,this[t(507)]-=e),!i){this._videoNextDts=c>0?e+c:e,this[t(414)]=c>0?e:e-c,this[t(366)]&&(this[t(457)]=0,this._audioNextPts=0);const s=h?h[t(388)]-this[t(421)]-this[t(457)]:0,i=l?l[t(505)]-this[t(421)]-this[t(414)]:0;Math[t(375)](s||i)>qt&&(this[t(444)](this[t(510)],this[t(430)]),this[t(421)]-=e)}this[t(376)](),this._fixAudio(n),this[t(531)](r),this[t(502)][t(419)][t(529)]&&this.player._opt[t(348)]&&this[t(502)][t(419)].forEach((e=>{const s=t;this[s(485)].emitVideoSei({ts:(e[s(401)]-this._baseDts)/90,data:e[s(534)],originData:e.originData,type:e[s(538)],uuid:e[s(514)],size:e[s(561)]})})),r[t(501)][t(529)]&&(r[t(374)]=r.samples[0][t(388)]),n[t(501)].length&&(n.baseMediaDecodeTime=n[t(501)][0][t(505)]*n[t(447)]/9e4),this[t(518)](r,450),this.correctSamplePts(n,450);let d=r[t(501)][t(551)](n[t(501)]);d=d[t(472)]((e=>{const s=t;return e[s(388)]=Math[s(564)](e[s(388)]/90),e[s(505)]=Math[s(564)](e[s(505)]/90),e[s(483)]=e[s(505)]-e[s(388)],e}))[t(509)](((e,s)=>{const i=t;return e[i(388)]-s[i(388)]})),d.forEach((e=>{const s=t,i=new Uint8Array(e[s(385)]);delete e[s(385)],this[s(435)]()?this[s(464)][s(436)]({...e,payload:i,cmd:s(367)},[i[s(460)]]):e[s(538)]===j[s(545)]?this._doDecodeVideo({...e,payload:i}):e[s(538)]===j[s(537)]&&this._doDecodeAudio({...e,payload:i})})),Ri(this[t(450)])&&this[t(435)]()&&(this[t(450)]=this[t(559)](d),this[t(450)]&&this[t(485)][t(527)]()&&this[t(485)][t(521)].setFps(this._basefps))}[oC(444)](){const t=oC,e=this[t(510)],s=this.videoTrack,i=e.samples,r=s[t(501)];if(!i.length&&!r[t(529)])return!1;let n=1/0,o=1/0;i[t(529)]&&(e.baseDts=n=i[0][t(505)]),r[t(529)]&&(s.baseDts=o=r[0].dts),this[t(421)]=Math[t(389)](n,o);const a=o-n;let h=!1;return Number[t(408)](a)&&Math[t(375)](a)>45e3&&this[t(485)][t(399)](this[t(548)],"large av first frame gap,\n                video pts: "+o+t(359)+n+",\n                base dts: "+this[t(421)]+t(522)+a),Number[t(408)](a)&&Math[t(375)](a)>this[t(372)]*Ht&&(h=!0),!this._baseDtsInited&&(h&&this[t(366)]?this[t(366)]=!0:this[t(366)]=!1),this._baseDtsInited=!0,!0}[oC(376)](){const t=oC;if(this[t(555)]&&this[t(491)]&&this[t(373)]){if(!this._calculateBaseDts(this[t(510)],this[t(430)]))return;this._baseDts-=Math[t(389)](this[t(414)],this[t(457)]),this[t(558)]=null,this[t(415)]=null,this[t(491)]=!1,this[t(373)]=!1}}[oC(409)](t){const e=oC,s=t[e(501)];s.length&&(s[e(519)]((t=>{const s=e;t[s(505)]-=this._needForceFixLargeGap?this._baseAudioDts:this[s(421)],t[s(388)]=t[s(505)]})),Ri(this[e(503)]===et[e(488)]||this[e(503)]===et[e(536)])&&this[e(547)](t,s,9e4))}[oC(531)](t){const e=oC,s=t[e(501)];if(!s[e(529)])return;if(s[e(519)]((t=>{const s=e;t[s(388)]-=this[s(366)]?this[s(507)]:this._baseDts,t.pts-=this._needForceFixLargeGap?this[s(507)]:this[s(421)]})),void 0===this[e(457)]){const t=s[0];this[e(457)]=t.dts}const i=s[e(529)];let r=0;const n=s[0],o=s[1],a=this[e(457)]-n[e(388)];if(Math.abs(a)>45e3)if(n.dts+=a,n[e(505)]+=a,this[e(485)][e(399)](this[e(548)],"large video gap between chunk,\n             next dts is "+this[e(457)]/90+",\n             first dts is "+n[e(388)]/90+e(500)+(o&&o.dts||0)/90+e(520)+a/90+e(456)+45e3),n.dts+=a,n.pts+=a,o&&Math[e(375)](o[e(388)]-n[e(388)])>qt)this._videoTimestampBreak=!0,s[e(519)](((t,s)=>{const i=e;0!==s&&(t[i(388)]+=a,t[i(505)]+=a)}));else for(let t=1;t<i-1;t++){var h;const i=null===(h=s[t])||void 0===h?void 0:h.dts,r=s[t-1][e(388)];i&&i-r<0&&(s[t][e(388)]+=a,s[t].pts+=a)}let l;if(t[e(426)]&&t[e(511)]&&(l=t.timescale*(t[e(511)]/t[e(426)])),l<900&&(l=0),!l){const s=t[e(501)][0],r=t.samples[1];l=1===i?9e3:Math.floor(r[e(388)]-s.dts)}for(let n=0;n<i;n++){const o=s[n][e(388)],a=s[n+1];if(r=n<i-1?a[e(388)]-o:s[n-1]?Math[e(389)](o-s[n-1][e(388)],l):l,r>qt||r<0){this._videoTimestampBreak=!0,r=this._audioTimestampBreak?l:Math[e(378)](r,2700);const i=this[e(414)]||0;a&&a[e(388)]>i&&(r=l),this[e(485)][e(399)](this[e(548)],e(508)+o/t[e(447)]+",\n                dts is "+o+e(496)+s[n][e(406)]+e(557)+this._videoNextDts+",\n                sample Duration is "+r+" > "+qt+e(497)+r+e(420)+l)}s[n][e(453)]=r,this._videoNextDts+=r}}[oC(547)](t,e,s){const i=oC;!t.sampleDuration&&(t.sampleDuration=Le(t.timescale,s));const r=t[i(481)];if(void 0===this._audioNextPts){const t=e[0];this._audioNextPts=t.pts}for(let s=0;s<e[i(529)];s++){const n=this[i(414)],o=e[s],a=o[i(505)]-n;if(!this[i(373)]&&a>=3*r&&a<=Ht&&!bs()){Re(t[i(478)],t.channelCount)||e[0][i(534)][i(451)]();const h=Math[i(564)](a/r);Math[i(375)](o[i(505)]-this[i(470)])>Kt&&(this[i(470)]=o[i(505)]),this[i(485)][i(399)](this.TAG_NAME,"audio gap detected,\n                pts is "+e[i(505)]/90+i(517)+e[i(410)]+i(354)+h+",\n                nextPts is "+n/90+",\n                ref sample duration is "+r);for(let t=0;t<h;t++)this[i(485)].debugWarn(this[i(548)],i(484)+h),this[i(414)]+=r,s++;s--}else a<=-3*r&&a>=-9e4?(Math[i(375)](o.pts-this[i(434)])>Kt&&(this[i(434)]=o[i(505)],this[i(485)][i(399)](this[i(548)],"audio overlap detected,\n                    pts is "+o[i(505)]/90+i(565)+o[i(410)]+i(461)+n/90+i(403)+r)),e[i(382)](s,1),s--):(Math[i(375)](a)>=Ht&&(this[i(373)]=!0,Math[i(375)](o[i(505)]-this[i(422)])>Kt&&(this._lastAudioExceptionLargeGapDot=o[i(505)],this[i(485)].debugWarn(this[i(548)],i(432)+o[i(505)]/1e3+i(397)+o[i(505)]/90+",\n                        originPts is "+o[i(410)]+i(468)+n/90+i(546)+a+"\n                        ref sample duration is "+r))),o[i(388)]=o[i(505)]=n,this[i(414)]+=r)}}[oC(435)](){const t=oC;return!this[t(485)][t(428)]()}_initLoopWorker(){const t=oC;this[t(485)][t(471)](this.TAG_NAME,t(446));const e=gi(X_);let s=new Worker(e);this.workerUrl=e,this.workerClearTimeout=setTimeout((()=>{const e=t;window[e(379)][e(526)](this[e(407)]),this[e(407)]=null,this[e(441)]=null}),P),s[t(436)]({cmd:t(477),options:{type:t(463),seekingMaxDiff:1e4,debug:this.player[t(512)][t(535)],debugUuid:this[t(485)][t(512)].debugUuid,debugLevel:this[t(485)]._opt[t(504)]}}),s[t(506)]=e=>{const s=t;if(this[s(395)])return;const i=e[s(534)];switch(i[s(356)]){case s(438):this._doDecodeVideo(i);break;case s(349):this[s(402)](i);break;case"sampleListInfo":if(this.tempSampleListInfo=i,this[s(485)][s(458)]()){const t=this.geVodLoadedTime(),e=this[s(485)][s(390)]();if(t&&e){let i=t/(1e3*e);i!==this[s(398)]&&(this.player[s(528)](t),this[s(485)][s(355)](H[s(394)],i)),this._prevPlayVodTimeCache=i}}}},this.loopWorker=s}[oC(393)](t,e){const s=oC;this._isUseWorker()&&(this[s(464)]?this[s(464)][s(436)]({cmd:t,...e}):this[s(485)][s(399)](this[s(548)],s(495)))}_doDecodeAudio(t){const e=oC,s=new Uint8Array(t.payload);this[e(485)][e(556)]({abps:s[e(523)]});let i=this[e(544)](s);this._doDecodeByHls(i,j.audio,t[e(388)],!1,0)}[oC(459)](t){const e=oC,s=new Uint8Array(t[e(385)]);let i=null;i=t[e(440)]?Pl(s,t[e(437)]):il(s,t.isIFrame),this[e(485)][e(556)]({dts:t[e(388)],vbps:8*i.byteLength});const r=t[e(505)]-t[e(388)];let n=this[e(492)](i,t[e(437)]);this._doDecodeByHls(n,j.video,t.dts,t.isIFrame,r)}[oC(473)](){const t=oC;return this[t(475)][t(443)]||0}[oC(486)](){const t=oC;return this[t(475)][t(369)]||0}getSampleAudioListLength(){const t=oC;return this[t(475)][t(365)]||0}[oC(371)](){const t=oC;return this[t(475)][t(543)]||0}[oC(474)](){const t=oC;return this._remainingPacketData&&this._remainingPacketData[t(523)]||0}[oC(550)](){const t=oC;return{start:this.tempSampleListInfo.start||0,end:this[t(475)][t(380)]||0}}seekSampleRange(t){this[oC(393)]("seekSampleRange",{time:t})}cleanSampleListAndSetSeekTime(t){const e=oC;this[e(485)][e(537)]&&this[e(485)][e(537)][e(542)](),Ri(this[e(485)][e(428)]())&&(this[e(479)](!0),this._postMessageToLoopWorker("cleanSampleList"),this[e(393)]("setSeekingTime",{time:t}))}[oC(469)](){const t=oC;this[t(393)](t(469))}resume(){const t=oC;this._postMessageToLoopWorker(t(391))}[oC(413)](){let t=0;return t=this[oC(550)]().end,t}}const cC=dC;function dC(t,e){const s=yC();return(dC=function(t,e){return s[t-=371]})(t,e)}function uC(t){const e=dC;let s=arguments[e(537)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[s]<<8)+(t[s+1]||0)}function pC(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(t[e]<<24>>>0)+(t[e+1]<<16)+(t[e+2]<<8)+(t[e+3]||0)}function fC(t){const e=dC;let s=arguments[e(537)]>1&&void 0!==arguments[1]?arguments[1]:0;const i=Math.pow(2,32);return pC(t,s)*i+pC(t,s+4)}!function(t,e){const s=dC,i=t();for(;;)try{if(563011===-parseInt(s(371))/1*(parseInt(s(549))/2)+parseInt(s(424))/3+parseInt(s(560))/4*(-parseInt(s(519))/5)+-parseInt(s(409))/6+parseInt(s(452))/7*(-parseInt(s(406))/8)+-parseInt(s(394))/9+parseInt(s(453))/10*(parseInt(s(434))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yC);const mC={AAC:"aac",G711PCMA:cC(489),G711PCMU:cC(465),MP3:"mp3"},gC={AVC:cC(402),HEVC:cC(481)};function yC(){const t=["generalProfileIdc","dataOffset","BytesOfClearData","defaultSampleSize","vSpacing","stss","MP3","sampleDuration","entryCount","AVCProfileIndication","graphicsmode","sampleRate","tenc","length","system_id","co64","sampleSize","moov","tfhd","mp4a.","map","avc3","parseSampleFlags","InitializationVector","SAP_type","4rEDxDP","stsc","mp4a.40.2","find","G711PCMU","start","avc1","codec","subarray","smhd","SAP_delta_time","20264gkyMkx","mp4a","reference_type","trak","buffer","AAC","entries","unknown video stsd entry","tkhd","260380RMfZsu","hdlr","esds","getFrameDuration","default_IsEncrypted","schi","horizresolution","type","language","useEME","sampleDescriptionIndex","version","minf","mvhdTimecale","default_IV_size","timescale","stsz","tkhdDuration","headerSize","samplesize","moofToSamples","width","avc4","5375313fNMBHz","sps","stco","profileCompatibility","getRateIndexByRate","kid","defaultSampleFlags","moof","avc","generalProfileCompatibility","apply","ulaw","1864mFqIcM","ceil","isVideoEncryption","6182202BfmrLQ","sinf","avcC","vmhd","includes","data","starts_with_SAP","formatTimescale","AVC","tfdt","sequenceNumber","BytesOfProtectedData","codecType","mfhd","subsamples","1147635ywANmS","configurationVersion","vertresolution","references","dataReferenceIndex","spsLength","config","push","encv","padStart","22KGaaCm","channelCount","vps","sarRatio","findBox","avc2","keyframe","ftyp","isAudioEncryption","avgFrameRate","pssh","AVCLevelIndication","hvcC","mdhd","defaultSampleDuration","stsd","samples","box ","21588EQvXqt","16731580yWFlPH","from","present","data_size","frameCount","default_KID","toString","frma","probe","vide","numOfArrays","handlerType","g7110m","soun","baseMediaDecodeTime","FREQ","hSpacing","earliest_presentation_time","mp3","dts","substring","duration","flags","sampleCount","sidx","join","trun","esds config is null","hevc","alaw","generalTierFlag","fromCharCode","stbl","sampleRateIndex","senc","warn","g7110a","G711PCMA","ppsLength","hvc1","enca","generalProfileSpace","ext","mvhd","HEVC","ctts","first_offset","objectType","mdia","cts","pasp","mvhdDurtion","reference_ID","height","balance","hev1.1.6.L93.B0","nextTrackId","forEach","pps","entrySizes","subsegment_duration","stts","data_format","gopId","size","evaluateDefaultDuration","295SzQwzw","trackId","traf","firstSampleFlags","kidValue"];return(yC=function(){return t})()}class AC{static[cC(374)](t){return 1024*(arguments[cC(537)]>1&&void 0!==arguments[1]?arguments[1]:9e4)/t}static[cC(398)](t){return AC[cC(468)].indexOf(t)}}function vC(t,e,s,i,r,n){const o=cC,a=[],h=null==r?void 0:r[o(566)],l=e[o(566)],c=i[o(566)],d=s[o(512)],u=null==n?void 0:n[o(566)];let p,f;u&&(p={},u[o(510)]((t=>{p[t-1]=!0}))),h&&(f=[],h[o(510)]((t=>{let{count:e,offset:s}=t;for(let t=0;t<e;t++)f.push(s)})));let m,g=-1,y=0,A=0,v=0,b=0,S=0,w=l[0].samplesPerChunk,E=l[1]?l[1].firstChunk-1:1/0;return t[o(566)][o(510)]((t=>{const e=o;let{count:i,delta:r}=t;for(let t=0;t<i;t++)m={dts:y,duration:r,size:d[A]||s[e(540)],offset:c[v]+S,index:A},u&&(m[e(440)]=p[A],m[e(440)]&&g++,m[e(516)]=g),f&&A<f[e(537)]&&(m.pts=m[e(472)]+f[A]),a.push(m),y+=r,A++,A<w?S+=m[e(517)]:(v++,S=0,v>=E&&(b++,E=l[b+1]?l[b+1].firstChunk-1:1/0),w+=l[b].samplesPerChunk)})),a}function bC(t,e){const s=cC;return t[s(428)]=uC(e,6),t[s(392)]=uC(e,24),t[s(506)]=uC(e,26),t[s(377)]=pC(e,28),t[s(426)]=pC(e,32),t[s(457)]=uC(e,40),t.depth=uC(e,74),78}function SC(t,e){const s=cC;return t[s(428)]=uC(e,6),t[s(435)]=uC(e,16),t[s(540)]=uC(e,18),t[s(535)]=pC(e,24)/65536,28}function wC(t,e,s){const i=cC;if(!t)return;if(t[i(517)]!==t[i(414)][i(537)])throw new Error(i(451)+t[i(378)]+" size !== data.length");const r={start:t[i(554)],size:t[i(517)],headerSize:t[i(389)],type:t[i(378)]};return e&&(r[i(382)]=t[i(414)][t[i(389)]],r.flags=function(t){let e=arguments[dC(537)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[e]<<16)+(t[e+1]<<8)+(t[e+2]||0)}(t[i(414)],t[i(389)]+1),r.headerSize+=4),s(r,t[i(414)][i(557)](r[i(389)]),r[i(554)]+r[i(389)]),r}Lm(AC,cC(468),[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);const EC=function(t,e,s){const i=cC,r=String(s),n=e>>0;let o=Math[i(407)](n/r[i(537)]);const a=[],h=String(t);for(;o--;)a[i(431)](r);return a.join("")[i(473)](0,n-h.length)+h},TC=function(){const t=cC,e=[];for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return i[t(510)]((s=>{e[t(431)](EC(Number(s).toString(16),2,0))})),e[0]};class IC{static probe(t){const e=cC;return!!IC[e(438)](t,[e(441)])}static[cC(438)](t,e){const s=cC;let i=arguments[s(537)]>2&&void 0!==arguments[2]?arguments[2]:0;const r=[];if(!t)return r;let n=0,o="",a=0;for(;t[s(537)]>7;){if(n=pC(t),o=String[s(484)].apply(null,t.subarray(4,8)),a=8,1===n?(n=fC(t,8),a+=8):!n&&(n=t[s(537)]),!e[0]||o===e[0]){const h=t.subarray(0,n);if(!(e.length<2))return IC[s(438)](h[s(557)](a),e.slice(1),i+a);r.push({start:i,size:n,headerSize:a,type:o,data:h})}i+=n,t=t[s(557)](n)}return r}static[cC(542)](t){return wC(t,!0,((t,e)=>{const s=dC;t[s(520)]=pC(e);let i=4;const r=1&t.flags,n=2&t[s(475)],o=8&t[s(475)],a=16&t[s(475)],h=32&t.flags;r&&(i+=4,t.baseDataOffset=pC(e,i),i+=4),n&&(t[s(381)]=pC(e,i),i+=4),o&&(t[s(448)]=pC(e,i),i+=4),a&&(t[s(527)]=pC(e,i),i+=4),h&&(t[s(400)]=pC(e,i))}))}static[cC(477)](t){return wC(t,!0,((t,e)=>{const s=dC;let i=0;t[s(505)]=pC(e,i),i+=4,t[s(386)]=pC(e,i),i+=4,0===t.version?(t.earliest_presentation_time=pC(e,i),i+=4,t.first_offset=pC(e,i),i+=4):(t[s(470)]=fC(e,i),i+=8,t[s(499)]=fC(e,i),i+=8),i+=2,t.references=[];const r=uC(e,i);i+=2;for(let n=0;n<r;n++){const r={};t[s(427)].push(r);let n=pC(e,i);i+=4,r[s(562)]=n>>31&1,r.referenced_size=2147483647&n,r[s(513)]=pC(e,i),i+=4,n=pC(e,i),i+=4,r[s(415)]=n>>31&1,r[s(548)]=n>>28&7,r[s(559)]=268435455&n}}))}static[cC(541)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t.mvhd=IC[i(496)](IC[i(438)](e,[i(496)],s)[0]),t.trak=IC[i(438)](e,["trak"],s)[i(544)]((t=>IC[i(563)](t))),t.pssh=IC[i(444)](IC.findBox(e,[i(444)],s)[0])}))}static[cC(496)](t){return wC(t,!0,((t,e)=>{const s=dC;let i=0;1===t[s(382)]?(t[s(386)]=pC(e,16),t[s(474)]=fC(e,20),i+=28):(t.timescale=pC(e,8),t[s(474)]=pC(e,12),i+=16),t[s(509)]=pC(e,i+76)}))}static[cC(563)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t.tkhd=IC.tkhd(IC[i(438)](e,[i(568)],s)[0]),t.mdia=IC[i(501)](IC[i(438)](e,[i(501)],s)[0])}))}static[cC(568)](t){return wC(t,!0,((t,e)=>{const s=dC;let i=0;1===t[s(382)]?(t[s(520)]=pC(e,16),t.duration=fC(e,24),i+=32):(t[s(520)]=pC(e,8),t[s(474)]=pC(e,16),i+=20),t[s(392)]=pC(e,i+52),t[s(506)]=pC(e,i+56)}))}static[cC(501)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(447)]=IC[i(447)](IC.findBox(e,[i(447)],s)[0]),t[i(372)]=IC[i(372)](IC.findBox(e,[i(372)],s)[0]),t[i(383)]=IC[i(383)](IC[i(438)](e,[i(383)],s)[0])}))}static[cC(447)](t){return wC(t,!0,((t,e)=>{const s=dC;let i=0;1===t[s(382)]?(t[s(386)]=pC(e,16),t.duration=fC(e,20),i+=28):(t[s(386)]=pC(e,8),t.duration=pC(e,12),i+=16);const r=uC(e,i);t[s(379)]=String[s(484)](96+(r>>10&31),96+(r>>5&31),96+(31&r))}))}static hdlr(t){return wC(t,!0,((t,e)=>{const s=dC;0===t.version&&(t[s(464)]=String[s(484)][s(404)](null,e[s(557)](4,8)))}))}static[cC(383)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(412)]=IC.vmhd(IC[i(438)](e,[i(412)],s)[0]),t[i(558)]=IC[i(558)](IC[i(438)](e,["smhd"],s)[0]),t[i(485)]=IC[i(485)](IC[i(438)](e,[i(485)],s)[0])}))}static vmhd(t){return wC(t,!0,((t,e)=>{t[dC(534)]=uC(e),t.opcolor=[uC(e,2),uC(e,4),uC(e,6)]}))}static[cC(558)](t){return wC(t,!0,((t,e)=>{t[dC(507)]=uC(e)}))}static stbl(t){return wC(t,!1,((t,e,s)=>{const i=dC;var r,n,o;t[i(449)]=IC[i(449)](IC.findBox(e,[i(449)],s)[0]),t.stts=IC[i(514)](IC[i(438)](e,[i(514)],s)[0]),t[i(498)]=IC[i(498)](IC.findBox(e,["ctts"],s)[0]),t.stsc=IC[i(550)](IC[i(438)](e,[i(550)],s)[0]),t[i(387)]=IC[i(387)](IC[i(438)](e,["stsz"],s)[0]),t[i(396)]=IC[i(396)](IC[i(438)](e,[i(396)],s)[0]),!t[i(396)]&&(t[i(539)]=IC[i(539)](IC[i(438)](e,[i(539)],s)[0]),t[i(396)]=t[i(539)]);const a=null===(r=t[i(449)][i(566)][0])||void 0===r||null===(n=r[i(410)])||void 0===n||null===(o=n[i(376)])||void 0===o?void 0:o[i(536)][i(385)];t[i(529)]=IC[i(529)](IC[i(438)](e,[i(529)],s)[0]),t[i(487)]=IC[i(487)](IC[i(438)](e,[i(487)],s)[0],a)}))}static[cC(487)](t){const e=cC;let s=arguments[e(537)]>1&&void 0!==arguments[1]?arguments[1]:8;return wC(t,!0,((t,i)=>{const r=e;let n=0;const o=pC(i,n);n+=4,t[r(450)]=[];for(let e=0;e<o;e++){const e={InitializationVector:[]};for(let t=0;t<s;t++)e[r(547)][t]=i[n+t];if(n+=s,2&t[r(475)]){e.subsamples=[];const t=uC(i,n);n+=2;for(let s=0;s<t;s++){const t={};t[r(526)]=uC(i,n),n+=2,t[r(420)]=pC(i,n),n+=4,e[r(423)][r(431)](t)}}t.samples[r(431)](e)}}))}static[cC(444)](t){return wC(t,!0,((t,e)=>{const s=dC,i=[],r=[];let n=0;for(let t=0;t<16;t++)r[s(431)](TC(e[n+t]));if(n+=16,t[s(382)]>0){const t=pC(e,n);n+=4;for(let r=0;r<(""+t)[s(537)];r++)for(let t=0;t<16;t++){const t=e[n];n+=1,i[s(431)](TC(t))}}const o=pC(e,n);t[s(456)]=o,n+=4,t[s(399)]=i,t[s(538)]=r,t[s(564)]=e}))}static[cC(449)](t){return wC(t,!0,((t,e,s)=>{const i=dC;t[i(532)]=pC(e),t[i(566)]=IC[i(438)](e[i(557)](4),[],s+4).map((t=>{const e=i;switch(t[e(378)]){case e(555):case e(439):case e(545):case e(393):return IC.avc1(t);case e(492):case"hev1":return IC[e(492)](t);case e(561):return IC.mp4a(t);case e(482):case e(405):return IC[e(482)](t);case"enca":return wC(t,!1,((t,s,i)=>{const r=e;t[r(435)]=uC(s,16),t[r(390)]=uC(s,18),t[r(535)]=pC(s,24)/65536,s=s[r(557)](28),t[r(410)]=IC[r(410)](IC[r(438)](s,["sinf"],i)[0]),t[r(373)]=IC.esds(IC[r(438)](s,["esds"],i)[0])}));case e(432):return wC(t,!1,((t,s,i)=>{const r=e;t[r(392)]=uC(s,24),t[r(506)]=uC(s,26),t[r(377)]=pC(s,28),t[r(426)]=pC(s,32),s=s[r(557)](78),t[r(410)]=IC.sinf(IC.findBox(s,[r(410)],i)[0]),t[r(411)]=IC.avcC(IC.findBox(s,["avcC"],i)[0]),t.hvcC=IC[r(446)](IC[r(438)](s,[r(446)],i)[0]),t[r(503)]=IC.pasp(IC.findBox(s,[r(503)],i)[0])}))}})).filter(Boolean)}))}static[cC(536)](t){return wC(t,!1,((t,e)=>{const s=dC;let i=6;t[s(375)]=e[i],i+=1,t[s(385)]=e[i],i+=1,t[s(458)]=[];for(let r=0;r<16;r++)t[s(458)].push(TC(e[i])),i+=1}))}static schi(t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(536)]=IC[i(536)](IC[i(438)](e,["tenc"],s)[0])}))}static[cC(410)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(376)]=IC[i(376)](IC[i(438)](e,["schi"],s)[0]),t.frma=IC.frma(IC[i(438)](e,[i(460)],s)[0])}))}static[cC(460)](t){return wC(t,!1,((t,e)=>{const s=dC;t[s(515)]="";for(let i=0;i<4;i++)t[s(515)]+=String.fromCharCode(e[i])}))}static[cC(555)](t){return wC(t,!1,((t,e,s)=>{const i=dC,r=bC(t,e),n=e[i(557)](r);s+=r,t.avcC=IC[i(411)](IC[i(438)](n,[i(411)],s)[0]),t.pasp=IC[i(503)](IC.findBox(n,[i(503)],s)[0])}))}static avcC(t){return wC(t,!1,((t,e)=>{const s=dC;t.configurationVersion=e[0],t[s(533)]=e[1],t[s(397)]=e[2],t[s(445)]=e[3],t.codec=function(t){const e=cC;let s,i="avc1.";for(let r=0;r<3;r++)s=t[r][e(459)](16),s.length<2&&(s="0"+s),i+=s;return i}([e[1],e[2],e[3]]),t.lengthSizeMinusOne=3&e[4],t[s(429)]=31&e[5],t[s(395)]=[];let i=6;for(let r=0;r<t[s(429)];r++){const r=uC(e,i);i+=2,t[s(395)][s(431)](e[s(557)](i,i+r)),i+=r}t.ppsLength=e[i],i+=1,t[s(511)]=[];for(let r=0;r<t[s(491)];r++){const r=uC(e,i);i+=2,t[s(511)][s(431)](e.subarray(i,i+=r)),i+=r}}))}static[cC(492)](t){return wC(t,!1,((t,e,s)=>{const i=dC,r=bC(t,e),n=e[i(557)](r);s+=r,t[i(446)]=IC.hvcC(IC[i(438)](n,["hvcC"],s)[0]),t[i(503)]=IC.pasp(IC[i(438)](n,["pasp"],s)[0])}))}static hvcC(t){return wC(t,!1,((e,s)=>{const i=dC;e[i(414)]=t[i(414)],e[i(556)]=i(508),e[i(425)]=s[0];const r=s[1];e[i(494)]=r>>6,e[i(483)]=(32&r)>>5,e[i(524)]=31&r,e[i(403)]=pC(s,2),e.generalConstraintIndicatorFlags=s.subarray(6,12),e.generalLevelIdc=s[12],e[i(443)]=uC(s,19),e[i(463)]=s[22],e.vps=[],e[i(395)]=[],e[i(511)]=[];let n=23,o=0,a=0,h=0;for(let t=0;t<e.numOfArrays;t++){o=63&s[n],a=uC(s,n+1),n+=3;const t=[];for(let e=0;e<a;e++)h=uC(s,n),n+=2,t[i(431)](s[i(557)](n,n+h)),n+=h;32===o?e[i(436)][i(431)](...t):33===o?e.sps[i(431)](...t):34===o&&e.pps[i(431)](...t)}}))}static[cC(503)](t){return wC(t,!1,((t,e)=>{const s=dC;t[s(469)]=pC(e),t[s(528)]=pC(e,4)}))}static[cC(561)](t){return wC(t,!1,((t,e,s)=>{const i=dC,r=SC(t,e);t.esds=IC.esds(IC[i(438)](e[i(557)](r),[i(373)],s+r)[0])}))}static esds(t){return wC(t,!0,((t,e)=>{const s=dC;t[s(556)]=s(543);let i=0,r=0,n=0,o=0;for(;e[s(537)];){for(i=0,o=e[i],r=e[i+1],i+=2;128&r;)n=(127&r)<<7,r=e[i],i+=1;if(n+=127&r,3===o)e=e.subarray(i+3);else{if(4!==o){if(5===o){const r=t[s(430)]=e[s(557)](i,i+n);let o=(248&r[0])>>3;return 31===o&&r[s(537)]>=2&&(o=32+((7&r[0])<<3)+((224&r[1])>>5)),t.objectType=o,t[s(556)]+=o[s(459)](16),void("."===t[s(556)][t[s(556)][s(537)]-1]&&(t[s(556)]=t[s(556)][s(473)](0,t[s(556)][s(537)]-1)))}return void("."===t[s(556)][t[s(556)][s(537)]-1]&&(t[s(556)]=t[s(556)][s(473)](0,t[s(556)][s(537)]-1)))}t[s(556)]+=(e[i][s(459)](16)+".")[s(433)](3,"0"),e=e[s(557)](i+13)}}}))}static[cC(482)](t){return wC(t,!1,((t,e)=>{SC(t,e)}))}static[cC(514)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;for(let t=0;t<i;t++)r.push({count:pC(e,n),delta:pC(e,n+4)}),n+=8;t[s(532)]=i,t[s(566)]=r}))}static[cC(498)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;if(1===t[s(382)])for(let t=0;t<i;t++)r[s(431)]({count:pC(e,n),offset:pC(e,n+4)}),n+=8;else for(let t=0;t<i;t++)r[s(431)]({count:pC(e,n),offset:-(1+~pC(e,n+4))}),n+=8;t[s(532)]=i,t[s(566)]=r}))}static[cC(550)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;for(let t=0;t<i;t++)r[s(431)]({firstChunk:pC(e,n),samplesPerChunk:pC(e,n+4),sampleDescriptionIndex:pC(e,n+8)}),n+=12;t[s(532)]=i,t[s(566)]=r}))}static[cC(387)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=pC(e,4),n=[];if(!i){let t=8;for(let s=0;s<r;s++)n.push(pC(e,t)),t+=4}t[s(540)]=i,t[s(476)]=r,t[s(512)]=n}))}static[cC(396)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;for(let t=0;t<i;t++)r.push(pC(e,n)),n+=4;t.entryCount=i,t[s(566)]=r}))}static co64(t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;for(let t=0;t<i;t++)r.push(fC(e,n)),n+=8;t[s(532)]=i,t.entries=r}))}static[cC(529)](t){return wC(t,!0,((t,e)=>{const s=dC,i=pC(e),r=[];let n=4;for(let t=0;t<i;t++)r[s(431)](pC(e,n)),n+=4;t[s(532)]=i,t[s(566)]=r}))}static[cC(401)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(422)]=IC.mfhd(IC[i(438)](e,[i(422)],s)[0]),t[i(521)]=IC[i(438)](e,[i(521)],s)[i(544)]((t=>IC.traf(t)))}))}static mfhd(t){return wC(t,!0,((t,e)=>{t[dC(419)]=pC(e)}))}static[cC(521)](t){return wC(t,!1,((t,e,s)=>{const i=dC;t[i(542)]=IC[i(542)](IC[i(438)](e,["tfhd"],s)[0]),t[i(418)]=IC[i(418)](IC[i(438)](e,[i(418)],s)[0]),t.trun=IC.trun(IC[i(438)](e,[i(479)],s)[0])}))}static[cC(479)](t){return wC(t,!0,((t,e)=>{const s=dC,{version:i,flags:r}=t,n=e.length,o=t.sampleCount=pC(e);let a=4;if(n>a&&1&r&&(t[s(525)]=-(1+~pC(e,a)),a+=4),n>a&&4&r&&(t[s(522)]=pC(e,a),a+=4),t.samples=[],n>a){let n;for(let h=0;h<o;h++)n={},256&r&&(n.duration=pC(e,a),a+=4),512&r&&(n[s(517)]=pC(e,a),a+=4),1024&r&&(n.flags=pC(e,a),a+=4),2048&r&&(i?n[s(502)]=-(1+~pC(e,a+4)):n.cts=pC(e,a),a+=4),t[s(450)].push(n)}}))}static[cC(418)](t){return wC(t,!0,((t,e)=>{const s=dC;1===t[s(382)]?t[s(467)]=fC(e):t.baseMediaDecodeTime=pC(e)}))}static[cC(461)](t){return!!IC[cC(438)](t,["ftyp"])}static[cC(546)](t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}static moovToTrack(t,e,s){const i=cC,r=t[i(563)];if(!r||!r[i(537)])return;const n=r[i(552)]((t=>{const e=i;var s,r;return"vide"===(null===(s=t[e(501)])||void 0===s||null===(r=s[e(372)])||void 0===r?void 0:r.handlerType)})),o=r.find((t=>{const e=i;var s,r;return(null===(s=t[e(501)])||void 0===s||null===(r=s[e(372)])||void 0===r?void 0:r[e(464)])===e(466)}));if(n&&e){var a,h,l,c,d,u,p;const s=e,r=null===(a=n[i(568)])||void 0===a?void 0:a[i(520)];null!=r&&(s.id=n[i(568)].trackId),s[i(388)]=n.tkhd[i(474)],s[i(504)]=t.mvhd[i(474)],s[i(384)]=t.mvhd[i(386)],s[i(386)]=s[i(416)]=n[i(501)][i(447)][i(386)],s[i(474)]=n[i(501)][i(447)][i(474)]||s[i(504)]/s[i(384)]*s[i(386)];const o=n.mdia[i(383)].stbl[i(449)][i(566)][0];if(!o)throw new Error(i(567));if(o[i(503)]&&(s[i(437)]=[o[i(503)].hSpacing,o[i(503)][i(528)]]),o[i(446)])s.codecType=gC[i(497)],s[i(556)]=o[i(446)].codec,s[i(436)]=o[i(446)].vps,s[i(395)]=o.hvcC[i(395)],s[i(511)]=o[i(446)][i(511)],s[i(446)]=o[i(446)][i(414)];else{if(!o[i(411)])throw new Error(i(567));s[i(421)]=gC[i(417)],s.codec=o.avcC[i(556)],s[i(395)]=o[i(411)][i(395)],s.pps=o[i(411)][i(511)]}var f,m,g,y,A,v,b,S;if(s.present=!0,s[i(495)]={},s.ext.stss=null===(h=n[i(501)])||void 0===h||null===(l=h[i(383)])||void 0===l||null===(c=l[i(485)])||void 0===c?void 0:c.stss,s[i(495)].ctts=null===(d=n.mdia)||void 0===d||null===(u=d.minf)||void 0===u||null===(p=u.stbl)||void 0===p?void 0:p[i(498)],o&&o[i(378)]===i(432))s[i(408)]=!0,o[i(458)]=null===(f=o[i(410)])||void 0===f||null===(m=f.schi)||void 0===m?void 0:m.tenc.default_KID,o[i(375)]=null===(g=o[i(410)])||void 0===g||null===(y=g[i(376)])||void 0===y?void 0:y.tenc[i(375)],o.default_IV_size=null===(A=o[i(410)])||void 0===A||null===(v=A[i(376)])||void 0===v?void 0:v.tenc[i(385)],s.videoSenc=n[i(501)].minf[i(485)].senc&&n[i(501)][i(383)][i(485)][i(487)][i(450)],o[i(515)]=null===(b=o[i(410)])||void 0===b||null===(S=b[i(460)])||void 0===S?void 0:S[i(515)],s[i(380)]=t[i(380)],s[i(523)]=t[i(523)],s.pssh=t[i(444)],s[i(432)]=o}if(o&&s){var w,E,T,I,k,_,C,D,R;const e=s,r=null===(w=o[i(568)])||void 0===w?void 0:w[i(520)];null!=r&&(e.id=o[i(568)][i(520)]),e[i(388)]=o.tkhd[i(474)],e[i(504)]=t[i(496)][i(474)],e[i(384)]=t[i(496)][i(386)],e.timescale=e[i(416)]=o[i(501)][i(447)][i(386)],e[i(474)]=o.mdia[i(447)][i(474)]||e[i(504)]/e[i(384)]*e[i(386)];const n=o.mdia[i(383)][i(485)][i(449)][i(566)][0];switch(e[i(540)]=n[i(540)],e.sampleRate=n[i(535)],e.channelCount=n[i(435)],e[i(455)]=!0,n[i(378)]){case i(482):e[i(421)]=e[i(556)]=mC[i(490)],e[i(535)]=8e3;break;case i(405):e.codecType=e.codec=mC[i(553)],e[i(535)]=8e3;break;default:var L,P;if(n[i(378)][i(413)](i(471)))e[i(421)]=e[i(556)]=mC[i(530)];else e[i(421)]=mC[i(565)],e[i(531)]=AC[i(374)](e[i(535)],e[i(386)]),e.sampleRateIndex=AC[i(398)](e[i(535)]),e[i(500)]=(null===(L=n[i(373)])||void 0===L?void 0:L.objectType)||2,n.esds&&(e.config=Array[i(454)](n[i(373)][i(430)])),e[i(556)]=(null===(P=n[i(373)])||void 0===P?void 0:P.codec)||i(551)}var x,M,B,F,U,O,N,j;if(e[i(531)]=AC[i(374)](e[i(535)],e[i(386)]),e.objectType=(null===(E=n[i(373)])||void 0===E?void 0:E[i(500)])||2,n[i(373)]&&(n[i(373)][i(430)]?e[i(430)]=Array[i(454)](n[i(373)][i(430)]):console[i(488)](i(480))),e[i(556)]=(null===(T=n[i(373)])||void 0===T?void 0:T[i(556)])||"mp4a.40.2",e[i(486)]=AC[i(398)](e.sampleRate),e.ext={},e[i(495)].stss=null===(I=o[i(501)])||void 0===I||null===(k=I[i(383)])||void 0===k||null===(_=k[i(485)])||void 0===_?void 0:_.stss,e.ext[i(498)]=null===(C=o[i(501)])||void 0===C||null===(D=C[i(383)])||void 0===D||null===(R=D.stbl)||void 0===R?void 0:R[i(498)],e[i(455)]=!0,n&&n[i(378)]===i(493))e[i(442)]=!0,n[i(515)]=null===(x=n[i(410)])||void 0===x||null===(M=x[i(460)])||void 0===M?void 0:M[i(515)],n[i(458)]=null===(B=n[i(410)])||void 0===B||null===(F=B[i(376)])||void 0===F?void 0:F.tenc[i(458)],n.default_IsEncrypted=null===(U=n[i(410)])||void 0===U||null===(O=U[i(376)])||void 0===O?void 0:O[i(536)].default_IsEncrypted,n[i(385)]=null===(N=n[i(410)])||void 0===N||null===(j=N.schi)||void 0===j?void 0:j[i(536)][i(385)],e.audioSenc=o[i(501)].minf[i(485)][i(487)]&&o[i(501)][i(383)].stbl[i(487)][i(450)],e.useEME=t[i(380)],e[i(523)]=t[i(523)],e.enca=n}if(s&&(s[i(408)]=!!e&&e[i(408)]),e&&(e[i(442)]=!!s&&s[i(442)]),null!=e&&e[i(432)]||null!=s&&s[i(493)]){var V,W;const t=null==e||null===(V=e.encv)||void 0===V?void 0:V.default_KID,r=null==s||null===(W=s[i(493)])||void 0===W?void 0:W[i(458)],n=t||r?(t||r)[i(478)](""):null;e&&(e[i(399)]=n),s&&(s.kid=n)}return e&&(e.flags=3841),s&&(s[i(475)]=1793),{videoTrack:e,audioTrack:s}}static[cC(518)](t,e,s){const i=cC;var r;const n=null==e||null===(r=e[i(450)])||void 0===r?void 0:r[i(537)];if(!n)return 1024;return 1024*n/e.timescale*t[i(386)]/s}static[cC(391)](t,e,s){const i=cC,r={};return t[i(422)]&&(e&&(e[i(419)]=t.mfhd[i(419)]),s&&(s[i(419)]=t[i(422)].sequenceNumber)),t[i(521)][i(510)]((t=>{const n=i;let{tfhd:o,tfdt:a,trun:h}=t;if(!o||!h)return;a&&(e&&e.id===o[n(520)]&&(e[n(467)]=a.baseMediaDecodeTime),s&&s.id===o.trackId&&(s.baseMediaDecodeTime=a[n(467)]));const l=o[n(527)]||0,c=o.defaultSampleDuration||IC[n(518)](e,s,h[n(450)][n(537)]||h[n(476)]);let d=h[n(525)]||0,u=0,p=-1;if(!h[n(450)][n(537)]&&h[n(476)]){r[o[n(520)]]=[];for(let t=0;t<h[n(476)];t++)r[o.trackId][n(431)]({offset:d,dts:u,duration:c,size:l}),u+=c,d+=l}else r[o.trackId]=h[n(450)][n(544)](((t,e)=>{const s=n;return(t={offset:d,dts:u,pts:u+(t[s(502)]||0),duration:t.duration||c,size:t[s(517)]||l,gopId:p,keyframe:0===e||null!==t[s(475)]&&void 0!==t[s(475)]&&(65536&t[s(475)])>>>0!=65536})[s(440)]&&(p++,t[s(516)]=p),u+=t[s(474)],d+=t[s(517)],t}))})),r}static moovToSamples(t){const e=cC,s=t.trak;if(!s||!s[e(537)])return;const i=s[e(552)]((t=>{const s=e;var i,r;return(null===(i=t[s(501)])||void 0===i||null===(r=i[s(372)])||void 0===r?void 0:r[s(464)])===s(462)})),r=s[e(552)]((t=>{const s=e;var i,r;return(null===(i=t[s(501)])||void 0===i||null===(r=i[s(372)])||void 0===r?void 0:r.handlerType)===s(466)}));if(!i&&!r)return;let n,o;if(i){var a,h;const t=null===(a=i[e(501)])||void 0===a||null===(h=a[e(383)])||void 0===h?void 0:h.stbl;if(!t)return;const{stts:s,stsc:r,stsz:o,stco:l,stss:c,ctts:d}=t;if(!(s&&r&&o&&l&&c))return;n=vC(s,r,o,l,d,c)}if(r){var l,c,d;const t=null===(l=r[e(501)])||void 0===l||null===(c=l[e(383)])||void 0===c?void 0:c[e(485)];if(!t)return;const s=null===(d=r[e(501)][e(447)])||void 0===d?void 0:d[e(386)],{stts:i,stsc:n,stsz:a,stco:h}=t;if(!(s&&i&&n&&a&&h))return;o=vC(i,n,a,h)}return{videoSamples:n,audioSamples:o}}}function kC(){const t=["586peVdZk","80iyqJRC","1328679tOWkRJ","max","3727frSvDD","372078mXCJPQ","length","2809315SDhDJE","20116287kLDIaI","5437446xTCCrv","2998372ymSsea","min"];return(kC=function(){return t})()}function _C(t,e){const s=kC();return(_C=function(t,e){return s[t-=471]})(t,e)}!function(t,e){const s=_C,i=t();for(;;)try{if(649270===parseInt(s(481))/1*(-parseInt(s(477))/2)+parseInt(s(479))/3+-parseInt(s(475))/4+-parseInt(s(472))/5+parseInt(s(474))/6+parseInt(s(482))/7*(-parseInt(s(478))/8)+parseInt(s(473))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(kC);const CC=RC;function DC(){const t=["pause","buferredDuration","moov","reset","playVod","63032MWLfqw","_isUseWorker","init","allListLength","sampleRateIndex","gopId","clearBuffer","cts","isPlayer","set","audioListLength","correctSamplePts","getSampleAudioListLength","findBox","payload","getBuferredDuration","isInitAudio","_basefps","tempSampleListInfo","type","floor","cryptoPayload","hlsFmp4","emit","checkInitAudio","objectType","data","376569WdEzqn","_doDecodeAudio","getSampleVideoListLength","isAudioAac","vps","debugUuid","resume","debugLog","playVodTimeCache","updateStats","length","postMessage","baseMediaDecodeTime","moofToSamples","737MgKxzA","hls264UseOldDemuxer","loopWorker","_opt","videoTrack","debugWarn","10226200sbgIHe","offset","_initLoopWorker","moof","size","channelCount","buffer","terminate","_calcDecodeFps","seqHeader","samples","revokeObjectURL","isPlayVod","_postMessageToLoopWorker","forEach","36NzMynE","subarray","end","debug","isPlayVodNotUseMSE","cannot found moov box","isInitVideo","start","video","push","AAC","geVodLoadedTime","pts","videoData audio init success and type is","audioTrack","1994OeIhQb","_hasCalcFps","debugLevel","setSeekingTime","_isDestroyed","G711PCMU","codec","_initLoopWorker()","h265","cryptoPayloadAudio","debugError","_doDecodeVideo","decodeVideo","timescale","pps","moovToTrack","onmessage","audio","byteLength","isAudioG711u","1246QhUtCd","_sendAccADTSHeader","codecType","isHevc","clear","1269WJsPBt","cleanSampleList","282eZxGkS","_doDecodeByHls","getPlayVodDuration","43812JQZiEh","playVodRateChange","addAudioTagHeader","sps","sampleListInfo","listen playVodRateChange","setPlayVodBufferedTime","player","concat","dts","workerClearTimeout","map","destroy","duration","4975ezBVSy","updatePlayRate","sampleRate","workerUrl","isIFrame","cmd","5099486qVExyF","_prevPlayVodTimeCache","isAudioG711a","getSampleListLength","getSampleRange","TAG_NAME","checkInitVideo","keyframe"];return(DC=function(){return t})()}function RC(t,e){const s=DC();return(RC=function(t,e){return s[t-=362]})(t,e)}!function(t,e){const s=RC,i=t();for(;;)try{if(687940===-parseInt(s(381))/1*(parseInt(s(501))/2)+-parseInt(s(451))/3*(parseInt(s(486))/4)+parseInt(s(405))/5*(-parseInt(s(388))/6)+parseInt(s(411))/7+parseInt(s(424))/8*(parseInt(s(386))/9)+parseInt(s(471))/10+-parseInt(s(465))/11*(-parseInt(s(391))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(DC);class LC extends xf{constructor(t){const e=RC;super(t),this[e(398)]=t,this.TAG_NAME="HlsFmp4Demux",this[e(422)](),this[e(442)]={},this[e(469)]={id:1,samples:[],sps:[],pps:[],vps:[],codec:""},this[e(500)]={id:2,samples:[],sampleRate:0,channelCount:0,codec:"",codecType:""},this[e(401)]=null,this[e(408)]=null,this[e(467)]=null,this[e(425)]()&&this[e(473)](),this[e(398)][e(483)]()&&this[e(425)]()&&this.player.on(H[e(392)],(t=>{const s=e;this.player.debugLog(this.TAG_NAME,s(396),t),this[s(484)](s(406),{rate:t})})),t.debugLog(this[e(416)],e(426))}destroy(){const t=RC;super[t(403)](),this[t(408)]&&(URL[t(482)](this[t(408)]),this[t(408)]=null),this[t(401)]&&(clearTimeout(this[t(401)]),this[t(401)]=null),this[t(467)]&&(this.loopWorker.postMessage({cmd:t(403)}),this[t(467)][t(478)](),this.loopWorker=null),this[t(422)](),this[t(398)][t(458)](this.TAG_NAME,t(403))}[CC(422)](){const t=CC;this[t(362)]=!1,this.videoTrack=null,this[t(500)]=null,this.isInitVideo=!1,this.isInitAudio=!1,this[t(441)]=25,this[t(412)]=0,this[t(442)]=null}demux(t,e){const s=CC;let i=this[s(500)],r=this[s(469)];if(this.checkInitAudio(),this[s(417)](),i[s(481)]=[],r.samples=[],e){if(this[s(398)][s(460)]({abps:e[s(379)]}),Ri(this[s(440)])){const t=IC.findBox(e,[s(421)])[0];if(!t)return void this[s(398)][s(371)](this.TAG_NAME,s(491));IC.moovToTrack(IC.moov(t),null,i),this[s(448)]()&&(this.player.debugLog(this[s(416)],"audioData audio init success and type is",i[s(383)]),this[s(454)]()&&this[s(382)](i))}const t=IC[s(437)](e,["moof"])[0];if(t){const r=IC[s(464)](IC[s(474)](t),null,i)[i.id],n=i[s(463)];if(r){const o=t[s(493)];r[s(402)]((t=>{const r=s;t.offset+=o;const a=e.subarray(t[r(472)],t[r(472)]+t[r(475)]),h=t[r(400)]+n,l=this[r(393)](a);i.samples[r(495)]({type:j[r(378)],pts:h,dts:h,payload:l,duration:t.duration,size:l[r(379)]})}))}}}if(t){if(this[s(398)].updateStats({vbps:8*t[s(379)]}),Ri(this[s(492)])&&Ri(this.isInitAudio)){const e=IC[s(437)](t,[s(421)])[0];if(!e)throw new Error(s(491));if(IC[s(376)](IC[s(421)](e),r,i),this[s(448)]()&&(this[s(398)][s(458)](this[s(416)],s(499),i[s(383)]),this.isAudioAac()&&this[s(382)](i)),this[s(417)]()){this[s(398)][s(458)](this.TAG_NAME,"video init success");const t=r[s(383)]===bt[s(369)];if(Ri(t)&&this.player[s(432)]()&&this[s(398)]._opt[s(466)])return void this[s(398)][s(447)](H[s(466)]);let e=null;t?r[s(394)][s(461)]&&r.vps.length&&r[s(375)][s(461)]&&(e=Rl({sps:r.sps[0],pps:r[s(375)][0],vps:r[s(455)][0]})):r[s(394)][s(461)]&&r[s(375)].length&&(e=sl({sps:r[s(394)][0],pps:r.pps[0]})),e&&(this.player[s(458)](this[s(416)],s(480)),this[s(389)](e,j[s(494)],0,!0,0))}}const e=IC[s(437)](t,[s(474)])[0];if(e){const n=IC[s(464)](IC[s(474)](e),r,i),o=r[s(463)],a=i.baseMediaDecodeTime,h=e.start;Object.keys(n)[s(485)]((e=>{const l=s;r.id==e?n[e][l(402)]((e=>{const s=l;e[s(472)]+=h;const i={type:j.video,pts:(e[s(498)]||e[s(400)])+o,dts:e.dts+o,units:[],payload:null,isIFrame:!1};i[s(404)]=e[s(404)],i.gopId=e[s(429)],e[s(418)]&&(i.isIFrame=!0);const n=t[s(487)](e[s(472)],e.offset+e[s(475)]);i[s(438)]=n,r[s(481)][s(495)](i)})):i.id==e&&n[e][l(402)]((e=>{const s=l;e.offset+=h;const r=t.subarray(e[s(472)],e[s(472)]+e[s(475)]),n=e.dts+a,o=this[s(393)](r);i[s(481)][s(495)]({type:j[s(378)],pts:n,dts:n,payload:o,duration:e[s(404)],size:o[s(379)]})}))}))}}const n=9e4===r[s(374)]?450:5;this.correctSamplePts(r,n),this[s(435)](i,n);const o=r[s(481)][s(399)](i[s(481)]);o.sort(((t,e)=>{const i=s;return t.dts-e[i(400)]})),9e4===r.timescale&&o[s(485)]((t=>{const e=s;t[e(400)]=Math[e(444)](t[e(400)]/90),t.pts=Math[e(444)](t.pts/90),t[e(431)]=t[e(498)]-t[e(400)],t[e(404)]&&(t[e(404)]=Math[e(444)](t[e(404)]/90))})),o.forEach((t=>{const e=s,i=new Uint8Array(t[e(438)]);delete t.payload,this[e(425)]()?this[e(467)][e(462)]({...t,payload:i,cmd:"sample"},[i[e(477)]]):t[e(443)]===j[e(494)]?this[e(372)]({...t,payload:i}):t.type===j[e(378)]&&this[e(452)]({...t,payload:i})})),Ri(this[s(362)])&&this[s(425)]()&&(this._hasCalcFps=this[s(479)](o),this[s(362)]&&this[s(398)].isPlayVod()&&this.player[s(423)].setFps(this[s(441)]))}[CC(448)](){const t=CC;return this[t(440)]=!!(this[t(500)][t(407)]&&this[t(500)][t(476)]&&this[t(500)].codec),this.isInitAudio}[CC(454)](){const t=CC;return this[t(500)][t(383)]===mC[t(496)]}[CC(413)](){return this.audioTrack.codecType===mC.G711PCMA}[CC(380)](){const t=CC;return this[t(500)][t(383)]===mC[t(366)]}checkInitVideo(){const t=CC;return this[t(492)]=!!(this[t(469)].pps.length&&this.videoTrack[t(394)][t(461)]&&this.videoTrack[t(367)]),this[t(492)]}[CC(382)](t){const e=CC,s=ke({profile:t[e(449)],sampleRate:t[e(428)],channel:t[e(476)]});this[e(389)](s,j[e(378)],0,!0,0)}_initLoopWorker(){const t=CC;this[t(398)][t(458)](this.TAG_NAME,t(368));const e=gi(X_);let s=new Worker(e);this[t(408)]=e,this[t(401)]=setTimeout((()=>{const e=t;window.URL[e(482)](this[e(408)]),this[e(408)]=null,this.workerClearTimeout=null}),P),s.postMessage({cmd:t(426),options:{type:t(446),seekingMaxDiff:1e4,debug:this.player._opt[t(489)],debugUuid:this[t(398)][t(468)][t(456)],debugLevel:this.player[t(468)][t(363)]}}),s[t(377)]=e=>{const s=t,i=e[s(450)];if(!this[s(365)])switch(i[s(410)]){case s(373):this[s(372)](i);break;case"decodeAudio":this[s(452)](i);break;case s(395):if(this.tempSampleListInfo=i,this[s(398)][s(490)]()){const t=this.geVodLoadedTime(),e=this.player[s(390)]();if(t&&e){let i=t/(1e3*e);i!==this[s(412)]&&(this.player[s(397)](t),this[s(398)][s(447)](H[s(459)],i)),this[s(412)]=i}}}},this[t(467)]=s}[CC(484)](t,e){const s=CC;this[s(425)]()&&(this.loopWorker?this[s(467)][s(462)]({cmd:t,...e}):this.player[s(470)](this[s(416)],"loop worker is not init, can not post message"))}[CC(452)](t){const e=CC,s=new Uint8Array(t[e(438)]);this[e(398)].updateStats({abps:s[e(379)]});let i=this[e(370)](s);this[e(389)](i,j.audio,t[e(400)],!1,0)}[CC(372)](t){const e=CC,s=new Uint8Array(t[e(438)]);let i=null;i=t[e(384)]?Pl(s,t[e(409)]):il(s,t.isIFrame),this[e(398)][e(460)]({dts:t[e(400)],vbps:8*i[e(379)]});const r=t[e(498)]-t[e(400)];let n=this[e(445)](i,t[e(409)]);this[e(389)](n,j[e(494)],t.dts,t.isIFrame,r)}[CC(439)](){const t=CC;return this[t(442)][t(420)]||0}[CC(414)](){const t=CC;return this[t(442)][t(427)]||0}[CC(436)](){const t=CC;return this[t(442)][t(434)]||0}[CC(453)](){return this[CC(442)].videoListLength||0}[CC(415)](){const t=CC;return{start:this.tempSampleListInfo[t(493)]||0,end:this[t(442)][t(488)]||0}}seekSampleRange(t){this[CC(484)]("seekSampleRange",{time:t})}cleanSampleListAndSetSeekTime(t){const e=CC;this[e(398)].audio&&this.player[e(378)][e(385)](),Ri(this[e(398)].isUseMSE())&&(this[e(430)](!0),this._postMessageToLoopWorker(e(387)),this[e(484)](e(364),{time:t}))}[CC(419)](){const t=CC;this[t(484)](t(419))}[CC(457)](){const t=CC;this[t(484)](t(457))}[CC(497)](){let t=0;return t=this[CC(415)]().end,t}[CC(393)](t){const e=CC;let s=[];this.isAudioAac()?s=[175,1]:this[e(413)]()?s=[114]:this[e(380)]()&&(s=[130]);const i=new Uint8Array(t[e(461)]+s[e(461)]);return i[e(433)](s,0),i.set(t,s.length),i}}const PC=MC;function xC(){const t=["HLS","39jsrIDQ","debugLog","8OBicAH","transmux videoChunk:","transmux","10rncVOQ","destroy","398830vqBUPL",", audioChunk:","player","hls","init and  is ","2oWJDud","2111988cZjFQL","8031366draSmd","DEMUX","2807397GiNuCM","byteLength","36313pzcBKC","3009567abXEHW","isMP4","_demuxer",", contiguous:","TAG_NAME","HlsTransmuxer",", startTime:"," demuxer",", needInit:","3WwWNPR","mp4","60dhkwau","2634248GIvjYD"];return(xC=function(){return t})()}function MC(t,e){const s=xC();return(MC=function(t,e){return s[t-=468]})(t,e)}!function(t,e){const s=MC,i=t();for(;;)try{if(760462===-parseInt(s(499))/1*(parseInt(s(493))/2)+-parseInt(s(476))/3*(parseInt(s(479))/4)+parseInt(s(488))/5*(parseInt(s(478))/6)+parseInt(s(495))/7+-parseInt(s(483))/8*(-parseInt(s(497))/9)+parseInt(s(486))/10*(-parseInt(s(500))/11)+parseInt(s(494))/12*(-parseInt(s(481))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xC);class BC{constructor(t,e){const s=MC;this[s(491)]=t,this[s(490)]=this[s(491)][s(490)],this[s(468)]=e,this.TAG_NAME=s(472),e?this._demuxer=new LC(this[s(491)].player):this[s(469)]=new lC(this[s(491)].player),this.player[s(482)](this[s(471)],s(492)+(e?s(477):"ts")+s(474))}[PC(487)](){const t=PC;this._demuxer&&(this[t(469)][t(487)](),this._demuxer=null),this.hls=null,this[t(490)][t(482)](this[t(471)],"destroy")}[PC(485)](t,e,s,i,r,n){const o=PC;this[o(490)][o(482)](this[o(471)],o(484)+(t&&t[o(498)])+o(489)+(e&&e.byteLength)+", discontinuity:"+s+o(470)+i+o(473)+r+o(475)+n);const a=this[o(469)];try{this.isMP4?a.demux(t,e):a.demuxAndFix(Zm(t,e),s,i,r)}catch(t){throw new Hk(zk[o(496)],zk[o(480)],t)}}}function FC(t,e){const s=UC();return(FC=function(t,e){return s[t-=197]})(t,e)}function UC(){const t=["start","784994RKjPYt","1800jsNrcx","49XvHMsg","399458WowaFC","buffered","push","length","109430zWjwWv","reduce","1103784CsFuLV","273774uBfhil","end","19455093HLAGaQ","5319cdqwME"];return(UC=function(){return t})()}function OC(t){const e=FC;return t&&t[e(208)]?1===t[e(208)]&&t.end(0)-t[e(201)](0)<1e-6||1===t[e(208)]&&t[e(201)](0)<0?0:t[e(201)](0):0}function NC(t){const e=FC;if(t)try{return t[e(206)]}catch(t){}}function jC(t,e){const s=FC;if(!t||!t[s(208)])return[];const i=[];for(let r=0,n=t.length;r<n;r++){const n=i[s(208)];if(n&&e){const o=i[n-1],a=o[1],h=t[s(201)](r);h-a<=e?o[1]=t[s(198)](r):i[s(207)]([h,t[s(198)](r)])}else i.push([t[s(201)](r),t.end(r)])}return i}function VC(t){const e=FC;return t&&t[e(208)]?t[e(210)](((t,e)=>t+(e[1]-e[0])),0):0}!function(t,e){const s=FC,i=t();for(;;)try{if(582420===-parseInt(s(202))/1+-parseInt(s(205))/2+parseInt(s(200))/3*(-parseInt(s(203))/4)+parseInt(s(209))/5+parseInt(s(197))/6*(parseInt(s(204))/7)+-parseInt(s(211))/8+parseInt(s(199))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(UC);var WC=zC;function GC(){var t=["414BBVxwQ","102606UtQkBH","updateDuration","createSource error: chunk is not ts","HlsBufferService","appendBuffer","nbSb","evictBuffer","isFull","isPlayVodUseMSE","debugError","transmux","seamlessSwitch","_baseDts","setLiveSeekableRange","seekSampleRange","media","player","cleanSampleListAndSetSeekTime","currentTime","length","baseDts","_directAppend","4640391HxzmBd","4645YABiTj","getSampleRange","duration","clearAllBuffer","endOfStream","createSource","mseDecoder","213472xaoxRz","isStateOpen","_demuxer","getBufferedSegments","796rUaRCQ","_sourceCreated","destroy","updateMediaSourceDuration","getSampleVideoListLength","updateDuration()","getTsSampleRange","reset","_needInitSegment","removeBuffer","10poqzdR","playVod","39053kKAtsV","debugLog","probe","_decryptor","816496MNkYOl","decrypt","getBuferredDuration","clearSourceBuffer","demuxerPause","detachMedia","getBufferedVideoSegments","resume","hls","TAG_NAME","_mse","clearUpAllSourceBuffer","427272ByOlSa","_transmuxer"];return(GC=function(){return t})()}function zC(t,e){var s=GC();return(zC=function(t,e){return s[t-=336]})(t,e)}!function(t,e){for(var s=zC,i=t();;)try{if(195481===parseInt(s(391))/1+parseInt(s(356))/2+parseInt(s(388))/3+-parseInt(s(360))/4*(parseInt(s(349))/5)+parseInt(s(390))/6*(-parseInt(s(372))/7)+-parseInt(s(376))/8+-parseInt(s(348))/9*(-parseInt(s(370))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(GC);class HC{constructor(t){var e=zC;this[e(384)]=t,this[e(342)]=t[e(342)],this[e(375)]=new J_(this.hls,this[e(342)]),this._transmuxer=null,this._mse=null,this[e(361)]=!1,this[e(368)]=!0,this[e(347)]=!1,this[e(342)][e(399)]()&&(this[e(386)]=this[e(342)][e(355)]),this[e(385)]=e(394)}async[WC(362)](){var t=WC;await this[t(381)](),this[t(389)]&&(this[t(389)][t(362)](),this[t(389)]=null),this[t(375)]&&(this[t(375)][t(362)](),this[t(375)]=null),this[t(386)]=null,this[t(361)]=!1,this[t(368)]=!0,this._directAppend=!1,this.hls=null}updateMSE(){var t=WC;this[t(342)][t(399)]()&&!this._mse&&(this[t(386)]=this.player.mseDecoder)}get[WC(346)](){var t,e,s=WC;return null===(t=this[s(389)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e[s(338)]}get[WC(396)](){return 0}get msIsOpened(){return!0}get msHasOpTasks(){return!1}get msStreaming(){return!0}async[WC(392)](t){var e=WC;this[e(342)].isPlayVod()&&(this[e(342)][e(373)](this[e(385)],e(365),t),this[e(342)][e(371)][e(392)](t),this.player[e(399)]()&&this.player.mseDecoder&&this[e(342)][e(355)][e(357)]&&this[e(342)][e(355)][e(363)](t))}[WC(354)](t,e,s,i){var r=WC;if(this[r(361)])return;const n=t||e;n&&(lC[r(374)](n)?!this._transmuxer&&(this[r(389)]=new BC(this[r(384)],!1)):IC.probe(n)?!this[r(389)]&&(this._transmuxer=new BC(this[r(384)],!0)):this[r(342)][r(400)](this[r(385)],r(393)))}async[WC(395)](t,e,s,i,r,n,o){var a=WC;if(!(null!=s&&s[a(345)]||null!=i&&i[a(345)]))return;const h=this[a(368)]||r;return this[a(389)][a(336)](s,i,h,n,o,h),this[a(368)]=!1,!0}async[WC(369)](){var t=WC;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const i=this.hls[t(341)];!this._mse||!i||e<0||s<e||e>=this._mse[t(351)]||this[t(386)][t(379)](e,s)}async[WC(397)](t){var e=WC;const s=this[e(384)][e(341)];if(!this._mse||!s||!t||t<0)return;const i=s[e(344)]-t;if(i<=0)return;return OC(NC(s))+1>=i?void 0:this[e(369)](0,i)}async clearAllBuffer(){var t=WC;this.player[t(373)](this[t(385)],t(352)),this[t(386)]&&this[t(386)][t(387)]()}decryptBuffer(t,e){var s=WC;return this._decryptor[s(377)](t,e)}async[WC(367)](){var t=WC;t(345),this._transmuxer=null,this[t(368)]=!0,this._directAppend=!1}async[WC(353)](){var t=WC;this[t(386)]&&this[t(361)]&&await this[t(386)][t(353)]()}async[WC(339)](t,e){var s=WC;this[s(386)]&&this[s(386)][s(339)](t,e)}async[WC(381)](){}[WC(337)](){this._needInitSegment=!0}[WC(366)](){var t,e,s=WC;return null===(t=this[s(389)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e[s(350)]()}[WC(340)](t){var e,s;return null===(e=this._transmuxer)||void 0===e||null===(s=e._demuxer)||void 0===s?void 0:s.seekSampleRange(t)}cleanSampleListAndSetSeekTime(t){var e,s,i=WC;null===(e=this[i(389)])||void 0===e||null===(s=e._demuxer)||void 0===s||s[i(343)](t)}[WC(380)](){var t,e,s=WC;null===(t=this[s(389)])||void 0===t||null===(e=t[s(358)])||void 0===e||e.pause()}demuxerResume(){var t,e,s=WC;null===(t=this[s(389)])||void 0===t||null===(e=t[s(358)])||void 0===e||e[s(383)]()}[WC(398)](){return!1}getBuferredDuration(){var t,e,s=WC;return null===(t=this[s(389)])||void 0===t||null===(e=t[s(358)])||void 0===e?void 0:e[s(378)]()}[WC(359)](){var t,e;return null===(t=this[WC(389)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e.getSampleListLength()}getBufferedAudioSegments(){var t,e;return null===(t=this[WC(389)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e.getSampleAudioListLength()}[WC(382)](){var t,e,s=WC;return null===(t=this[s(389)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e[s(364)]()}}const KC=qC;function qC(t,e){const s=YC();return(qC=function(t,e){return s[t-=269]})(t,e)}!function(t,e){const s=qC,i=t();for(;;)try{if(808587===-parseInt(s(273))/1+parseInt(s(285))/2+-parseInt(s(286))/3+parseInt(s(281))/4*(-parseInt(s(283))/5)+-parseInt(s(269))/6+parseInt(s(275))/7+parseInt(s(272))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(YC);class QC{constructor(t){const e=qC;this[e(282)]=t,this[e(276)]=new Set,t.on(xt.SEI,(t=>{const s=e;t&&this[s(276)][s(280)](t)}))}[KC(277)](){this.reset(),this._seiSet=null}throw(t){const e=KC;if(null==t||!this[e(276)].size)return;const s=t-.2,i=t+.2,r=[];this[e(276)][e(279)]((t=>{const n=e;t[n(287)]>=s&&t.time<=i&&r[n(271)](t)})),r[e(279)]((t=>{const s=e;this[s(276)][s(278)](t),this[s(282)][s(274)](xt[s(270)],t)}))}reset(){const t=KC;this[t(276)][t(284)]()}}function YC(){const t=["5972496ZVmSsF","emitter","5CufByi","clear","2171516JwwLYH","1719570YiNpkT","time","1079658riLxNG","SEI_IN_TIME","push","11755456dHBiAB","986203VsJLyQ","emit","10400999xNmImu","_seiSet","destroy","delete","forEach","add"];return(YC=function(){return t})()}const JC=ZC;function XC(){const t=["samples","_bitsAccumulateSize","_bindEvents","490prAcli","track","getStats","length","samplerate","4760181hqOpVO","framerate","sampleRate","setDomain","type","duration","METADATA_PARSED","11718112nMivTu","width","5658505hAZApy","_bitsAccumulateDuration","totalSize","height","codec","reduce","speedInfo","domain","6edHgAL","setAudioMeta","DEMUXED_TRACK","fps","fpsDen","_core","avgSpeed","channelCount","setVideoMeta","_samples","gopId","videoCodec","destroy","bitrate","responseUrl","remaining","1921422ldnmdv","reset","FLV_SCRIPT_DATA","video","slice","media","6025397qClwjo","1536809EQAvQD","413237NbMeWV","encodeType","codecType","audioCodec","setFpsFromScriptData","8LSTRgj","call","_timescale","setEncodeType","totalCost","forEach","updateBitrate","_stats","gop","2qTbbgN","fpsNum"];return(XC=function(){return t})()}!function(t,e){const s=ZC,i=t();for(;;)try{if(831683===parseInt(s(487))/1*(-parseInt(s(502))/2)+parseInt(s(545))/3*(parseInt(s(493))/4)+parseInt(s(521))/5+-parseInt(s(529))/6*(-parseInt(s(551))/7)+parseInt(s(519))/8+-parseInt(s(512))/9+parseInt(s(507))/10*(-parseInt(s(488))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(XC);class $C{constructor(t){const e=ZC;this[e(546)](),this[e(495)]=t}destroy(){this[ZC(546)]()}[JC(546)](){const t=JC;this[t(495)]=null,this[t(489)]="",this[t(491)]="",this[t(540)]="",this[t(528)]="",this.fps=0,this.bitrate=0,this[t(520)]=0,this[t(524)]=0,this[t(511)]=0,this[t(536)]=0,this.gop=0,this[t(505)]=0,this._bitsAccumulateDuration=0}[JC(509)](){const t=JC;return{encodeType:this[t(489)],audioCodec:this[t(491)],videoCodec:this[t(540)],domain:this[t(528)],fps:this[t(532)],bitrate:this.bitrate,width:this.width,height:this[t(524)],samplerate:this[t(511)],channelCount:this.channelCount,gop:this[t(501)]}}[JC(496)](t){this.encodeType=t}setFpsFromScriptData(t){const e=JC;var s;let{data:i}=t;const r=null==i||null===(s=i.onMetaData)||void 0===s?void 0:s[e(513)];r&&r>0&&r<100&&(this[e(532)]=r)}[JC(537)](t){const e=JC;if(this[e(520)]=t[e(520)],this[e(524)]=t[e(524)],this[e(540)]=t.codec,this[e(489)]=t[e(490)],t[e(503)]&&t[e(533)]){const s=t.fpsNum/t[e(533)];s>0&&s<100&&(this.fps=s)}}[JC(530)](t){const e=JC;this.audioCodec=t[e(525)],this[e(511)]=t[e(514)],this.channelCount=t[e(536)]}[JC(515)](t){const e=JC;this.domain=t.split("/")[e(549)](2,3)[0]}[JC(499)](t){const e=JC;if((!this[e(532)]||this[e(532)]>=100)&&t[e(510)]){const s=t[e(526)](((t,s)=>t+s[e(517)]),0)/t[e(510)];this.fps=Math.round(this._timescale/s)}t[e(498)]((t=>{const s=e;1===t[s(539)]&&this[s(501)]++,this[s(522)]+=t[s(517)]/(this[s(495)]/1e3),this[s(505)]+=t.units.reduce(((t,e)=>t+e[s(510)]),0),this[s(522)]>=1e3&&(this[s(542)]=8*this[s(505)],this[s(522)]=0,this[s(505)]=0)}))}}function ZC(t,e){const s=XC();return(ZC=function(t,e){return s[t-=487]})(t,e)}class tD{constructor(t){const e=JC;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this[e(534)]=t,this[e(538)]=[],this[e(495)]=s,this._stats=new $C(s),this[e(506)]()}destroy(){const t=JC;this._core=null,this[t(538)]=[],this._stats&&(this[t(500)][t(541)](),this[t(500)]=null),this[t(495)]=null}[JC(509)](){const t=JC;var e,s,i,r,n,o,a,h,l,c,d;const{currentTime:u=0,decodeFps:p=0}=(null===(e=this[t(534)])||void 0===e?void 0:e[t(550)])||{};return{...this[t(500)][t(509)](),downloadSpeed:(null===(s=this._core)||void 0===s||null===(i=s.speedInfo)||void 0===i?void 0:i[t(494)](s).speed)||0,avgSpeed:(null===(r=this[t(534)])||void 0===r||null===(n=r.speedInfo)||void 0===n?void 0:n[t(494)](r)[t(535)])||0,totalReceivedByte:(null===(o=this._core)||void 0===o||null===(a=o[t(527)])||void 0===a?void 0:a[t(494)](o)[t(523)])||0,totalReceivedCost:(null===(h=this[t(534)])||void 0===h||null===(l=h[t(527)])||void 0===l?void 0:l[t(494)](h)[t(497)])||0,currentTime:u,bufferEnd:(null===(c=this._core)||void 0===c||null===(d=c.bufferInfo())||void 0===d?void 0:d[t(544)])||0,decodeFps:p}}[JC(506)](){const t=JC;this[t(534)].on(xt[t(531)],(e=>this[t(500)][t(499)](e[t(504)]))),this[t(534)].on(xt[t(547)],(e=>{const s=t;this._stats[s(492)](e)})),this[t(534)].on(xt[t(518)],(e=>{const s=t;e[s(516)]===s(548)?this[s(500)].setVideoMeta(e.track):this[s(500)].setAudioMeta(e[s(508)])})),this._core.on(xt.TTFB,(e=>{const s=t;this[s(500)][s(515)](e[s(543)])}))}[JC(546)](){const t=JC;this[t(538)]=[],this[t(500)]=new $C(this._timescale)}}function eD(t,e){const s=sD();return(eD=function(t,e){return s[t-=421]})(t,e)}function sD(){const t=["totalLength","get","start","8iWeNOZ","push","83908IOlKVp","reduce","736548EhMKCt","4sOUNss","length","isBuffered","buffers","1543895VsVCPU","2384501uOqgZy","12557844cvYotD","end","2541624ecSGYR","2179132UAezhl"];return(sD=function(){return t})()}const iD=eD;!function(t,e){const s=eD,i=t();for(;;)try{if(300193===parseInt(s(427))/1*(-parseInt(s(430))/2)+parseInt(s(429))/3+parseInt(s(421))/4+parseInt(s(434))/5+parseInt(s(438))/6+parseInt(s(435))/7*(parseInt(s(425))/8)+-parseInt(s(436))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sD);class rD{static[iD(424)](t){const e=iD;return t&&t[e(431)]?1===t.length&&t[e(437)](0)-t[e(424)](0)<1e-6||1===t[e(431)]&&t[e(424)](0)<0?0:t[e(424)](0):0}static[iD(437)](t){const e=iD;return t&&t[e(431)]?1===t[e(431)]&&t[e(437)](0)-t[e(424)](0)<1e-6?0:t[e(437)](t.length-1):0}static[iD(423)](t){if(t)try{return t.buffered}catch(t){}}static[iD(433)](t,e){const s=iD;if(!t||!t.length)return[];const i=[];for(let r=0,n=t[s(431)];r<n;r++){const n=i.length;if(n&&e){const o=i[n-1],a=o[1];if(t[s(424)](r)-a<=e){const e=t[s(437)](r);e>a&&(o[1]=e)}else i[s(426)]([t[s(424)](r),t[s(437)](r)])}else i[s(426)]([t[s(424)](r),t[s(437)](r)])}return i}static[iD(422)](t){const e=iD;return t&&t[e(431)]?t[e(428)](((t,e)=>t+(e[1]-e[0])),0):0}static info(t){const e=iD;let s=arguments[e(431)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[e(431)]>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t[e(431)])return{start:0,end:0,buffers:[]};let r=0,n=0,o=0,a=0,h=0,l=0,c=0;const d=rD.buffers(t,i);for(let t=0,u=d[e(431)];t<u;t++){const e=d[t];if(s+i>=e[0]&&s<e[1])r=e[0],n=e[1],o=t;else{if(s+i<e[0]){a=e[0],h=e[1];break}s+i>e[1]&&(l=e[0],c=e[1])}}return{start:r,end:n,index:o,buffers:d,nextStart:a,nextEnd:h,prevStart:l,prevEnd:c,currentTime:s,behind:s-r,remaining:n?n-s:0,length:rD[e(422)]&&rD[e(422)](d)}}static[iD(432)](t,e){const s=iD;if(t){const i=rD[s(423)](t);if(null!=i&&i[s(431)])for(let t=0;t<i.length;t++)if(e>=i[s(424)](t)&&e<=i.end(t))return!0}return!1}}function nD(t,e){const s=aD();return(nD=function(t,e){return s[t-=304]})(t,e)}!function(t,e){const s=nD,i=t();for(;;)try{if(163471===-parseInt(s(323))/1*(parseInt(s(320))/2)+parseInt(s(321))/3*(-parseInt(s(306))/4)+parseInt(s(309))/5*(-parseInt(s(317))/6)+-parseInt(s(315))/7+parseInt(s(313))/8+-parseInt(s(307))/9*(parseInt(s(305))/10)+parseInt(s(316))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(aD);class oD{constructor(t){const e=nD;this.hls=t,this[e(312)]=0}destroy(){const t=nD;this[t(312)]=0,this[t(319)]=null}do(t){const e=nD;let s=arguments[e(314)]>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments[e(314)]>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return;const n=t[e(318)];let o=0;if(this[e(312)]===n){const a=rD[e(310)](rD[e(311)](t),n);if(!a.buffers.length)return;i&&a[e(304)]||a[e(304)]&&a[e(304)]-n<s?o=a[e(304)]+.1:a.end&&a[e(308)]-n>r&&!t[e(322)]&&(o=n+.1)}this._prevCurrentTime=n,o&&n!==o&&(t[e(318)]=o)}}function aD(){const t=["4ZmGzqj","522UoxtcU","end","108975HEZlGt","info","get","_prevCurrentTime","1295456BWGnRe","length","496769mpGAsB","6815413ydZKKf","66JtrDiA","currentTime","hls","56418Qsmvjq","344427jqVLMM","seeking","1RjcNRa","nextStart","28330JZETbY"];return(aD=function(){return t})()}const hD=cD;function lD(){const t=["m3u8 url is missing","lowLatency","59715VezjGj","forEach","number","manifestList","_clear","_loadData","getDemuxVideoBufferedListLength","unsupported switchURL args: ","maxJumpDistance","seamlessSwitch","_startTick","info","isSeeking","msIsOpened","in range","rate","bitrate","isPlayer","then","seeking","all","totalDuration","_seiService","nbSb","playVodSeek","_getSeamlessSwitchPoint","remaining","_reset()","currentStream","STREAM_PARSED","currentSubtitleStream","currentTime","getDemuxBuferredDuration","2325588pPZluj","_clear()","  > ","10488856hRwaGk","cleanSampleListAndSetSeekTime","videoCodec","and seekTime is","onPause"," more than ","subtitleStreams","originError"," and segIndex is ","length","_onCheckQuotaExceeded","msHasOpTasks","1500634fqEVzL","off","buffered","byteRange","m3u8 url is not defined","_pollM3U8","destroy","_loadSegmentDirect","_urlSwitching","stopPoll","getRenderCurrentPts","seekRange","isDestroyedOrClosed","paused","_tickTimer","setNextSegmentByIndex","_reqAndBufferSegment","reset","_isDestroyed","min"," in the new playlist","getStats","poll","max","playVodVideoSeekingByMse","isLive","partTargetDuration","isPlayVodUseMSE","_isProcessQuotaExceeded","bound","isBuffered","error","_checkStreamTrackChange","nextSeg","audioCodec","startTime","SWITCH_URL_FAILED","nbSegments","_prevSegmentEndTime","_manifestLoader","player","getSegmentByIndex","_loadSegment() and _prevSegmentEndTime is ","eventListenList","  or bufferThroughout is ","preferMMSStreaming","fatal","_playlist","_segmentProcessing","buffer remaining ","streams","media","getDemuxAudioBufferedListLength","nextSegment",", real end=","findSegmentIndexByTime","end","_segmentLoader","onPlay","playVodPause","is live and totalDuration first time got: ","2890rrFMHq","lastSegment","_prevSegCc","onSeeking","baseDts","listen playVodVideoSeekingByMse","158742EGjqOJ","softDecode","maxLatency","_tick() player is destroyed","demuxerPause","2035539XmxymZ","debugLog","_loadSegmentDirect() !seg","curSeg","decryptBuffer"," and seg is","_prevSegSn","msStreaming","SWITCH_URL_SUCCESS","updateMSE","demuxerResume","_tickInterval","isEmpty","load","duration"," and current time is ","_end","isMaster","OTHER",", nb segments got:"," index of ","bufferBehind","cancel","_refreshM3U8","_loadSegment()_segmentProcessing is ture and return","preloadTime","speedInfo","downloadSpeed"," and return","seg.isLast","config","ERROR","seekSampleRange","removeBuffer","decryptBuffer return null","url","onVideoSeeking","SUBTITLE_PLAYLIST","getTsSampleRange","segment nb=","_onVideoTimeUpdate","_reset","_refreshM3U8() mediaPlaylist is empty","feedbackLiveEdge","init","_gapService","809392umyWhi","_stats","_loadSegmentDirect()","abs","getAudioSegment","get","_loadSegment() this._playlist is null and return","catch","bind","debugWarn","$videoElement","evictBuffer","video","getBufferedAudioSegments","onVideoSeeking() and seekRange is","resetBandwidth","68ThIgQk","playVod","onPlay()","_disconnectTimer","moveSegmentPointer","minSegmentsStartPlay","video seg","_loadSegmentDirect() not appended","_tick","hasSubtitle","_reloadOnPlay","isPlayVod","destroy end","table","hadSegmentLoaded","upsertPlaylist","_loadM3U8","checkSegmentTrackChange","handlePlayVodPause","warn","_emitError","currentAudioStream","_stopTick","bufferInfo","_loadM3U8() is not master playlist"," expected end=","start","_bufferService","loadSource","filter","audio seg","TAG_NAME","_loadSegment","_switchUrlOpts","create","parentUrl","onSeeking() seek to "," and _segmentProcessing is ","emit","_loadSegment()","switchURL","onSeeking() segIndex is ","getBufferedVideoSegments","currentSegment","nextStart","targetLatency","network","8PNgZKI","readyState","_tryEos"];return(lD=function(){return t})()}function cD(t,e){const s=lD();return(cD=function(t,e){return s[t-=363]})(t,e)}!function(t,e){const s=cD,i=t();for(;;)try{if(830564===-parseInt(s(424))/1+-parseInt(s(542))/2+-parseInt(s(496))/3+parseInt(s(558))/4*(parseInt(s(376))/5)+-parseInt(s(409))/6+-parseInt(s(412))/7*(parseInt(s(371))/8)+-parseInt(s(491))/9*(-parseInt(s(485))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(lD);class dD extends h{constructor(t){const e=cD;let s=arguments[e(421)]>1&&void 0!==arguments[1]?arguments[1]:{};var i;super(),Lm(this,e(590),(async()=>{const t=e;if(this[t(472)])return void this[t(464)].debugLog(this[t(589)],t(520));if(!this[t(471)])return void this.player[t(497)](this.TAG_NAME,t(548));const s=this[t(471)][t(367)],i=this[t(471)][t(477)],r=this[t(471)][t(486)];this.player[t(497)](this.TAG_NAME,t(363),t(499),s&&s[t(531)],t(457),i&&i[t(531)],"lastSeg",r&&r[t(531)]);const n=Math[t(443)](Math[t(447)]((null==r?void 0:r.duration)-.008||0,.016),.1);if(i){if(!this[t(449)]){const e=this.config;if(this[t(475)]){let s=this.bufferInfo();this[t(475)][t(437)]&&!this[t(475)].currentTime&&(s=this.bufferInfo(s.nextStart||.5));const r=Math[t(545)](s[t(480)]-this[t(475)][t(510)])<n;let o=1;this[t(464)][t(569)]()&&(o=this[t(464)][t(559)][t(391)],this[t(464)].isPlayVodUseMSE()&&(o=Math[t(443)](o,8)));const a=e[t(521)]*o;if(s[t(402)]>=a||r)return this[t(464)][t(497)](this[t(589)],t(473)+s.remaining+t(411)+a+t(468)+r+t(524)),void this._tryEos();if(e[t(469)]&&!this[t(585)][t(503)])return;!this[t(432)]&&this._prevSegSn!==i.sn-1&&s[t(480)]&&Math.abs(i[t(584)]-s[t(480)])>1&&this[t(471)][t(439)](this[t(471)][t(479)](s[t(480)]+.1))}else if(this[t(464)][t(569)]()){let s=this[t(464)][t(434)]();s/=1e3;let r=this.player[t(559)][t(388)](),n=this[t(464)][t(559)][t(391)];this[t(464)][t(451)]()&&(n=Math[t(443)](n,8));const o=e[t(521)]*n+s;if(this[t(462)]&&Ri(r)&&this._prevSegmentEndTime>o)return void this.player[t(497)](this.TAG_NAME,t(466)+this[t(462)]+t(511)+s+t(417)+o+t(524));this._prevSegmentEndTime=i[t(480)]}}return this[t(431)]()}this[t(464)][t(497)](this[t(589)],"nextSeg is null and return")})),this[e(464)]=t,this[e(589)]="Hls256",this[e(526)]=null,this[e(463)]=null,this[e(481)]=null,this[e(471)]=null,this[e(585)]=null,this[e(398)]=null,this[e(543)]=null,this[e(502)]=null,this[e(487)]=null,this._tickTimer=null,this[e(507)]=500,this[e(472)]=!1,this[e(568)]=!1,this._switchUrlOpts=null,this[e(452)]=!1,this._disconnectTimer=null,this[e(462)]=0,this[e(467)]=[],this[e(526)]=(i=s,s={isLive:!1,maxPlaylistSize:50,retryCount:3,retryDelay:1e3,pollRetryCount:2,loadTimeout:1e4,manifestLoadTimeout:1e4,preloadTime:30,softDecode:!1,bufferBehind:10,maxJumpDistance:3,startTime:0,useLowLatency:!0,targetLatency:10,maxLatency:20,allowedStreamTrackChange:!0,seiInTime:!1,manifestList:[],minSegmentsStartPlay:3,preferMMS:!1,preferMMSStreaming:!1,mseLowLatency:!0,fixerConfig:{forceFixLargeGap:!1,largeGapThreshold:5},...i}),this[e(475)]=null,this._manifestLoader=new R_(this),this[e(481)]=new O_(this),this[e(471)]=new K_(this),this[e(585)]=new HC(this),this[e(398)]=new QC(this),this._gapService=new oD(this),this._stats=new tD(this,9e4),this[e(464)],this.bound={handlePlayVodPause:this[e(576)][e(550)](this),onVideoSeeking:this.onVideoSeeking[e(550)](this),onSeeking:this[e(488)][e(550)](this)},this[e(464)][e(393)]()&&(this.config[e(449)]=!0),this[e(464)][e(569)]()&&(this[e(464)].on(H[e(483)],this[e(453)][e(576)]),this[e(464)][e(451)]()?(this.media=this[e(464)][e(554)][e(552)],this.player.on(H[e(448)],this.bound[e(532)])):this.player.on(H[e(400)],this.bound.onSeeking)),this[e(442)]=!1,this.player[e(497)](this[e(589)],e(540))}async destroy(){const t=cD;this[t(442)]=!0,this.player[t(497)](this.TAG_NAME,t(430)),this[t(471)].reset(),this._segmentLoader[t(441)](),this[t(398)][t(441)](),this[t(467)][t(421)]&&(this[t(467)][t(377)]((t=>t())),this[t(467)]=[]),await Promise[t(396)]([this._clear(),this[t(585)].destroy()]),this[t(463)]&&(await this[t(463)][t(430)](),this[t(463)]=null),this._segmentLoader&&(this[t(481)][t(430)](),this[t(481)]=null),this[t(471)]&&(this[t(471)].destroy(),this._playlist=null),this[t(585)]&&(await this[t(585)][t(430)](),this[t(585)]=null),this[t(398)]&&(this._seiService.destroy(),this[t(398)]=null),this[t(541)]&&(this[t(541)][t(430)](),this[t(541)]=null),this[t(543)]&&(this._stats[t(430)](),this._stats=null),this[t(526)]=null,this[t(475)]=null,this[t(502)]=null,this[t(487)]=null,this[t(453)]=null,this[t(425)](),this.player[t(497)](this[t(589)],t(570))}async[hD(441)](){}get[hD(449)](){const t=hD;return this[t(471)][t(449)]}get streams(){const t=hD;return this[t(471)][t(474)]}get[hD(404)](){const t=hD;return this._playlist[t(404)]}get[hD(567)](){const t=hD;return this[t(471)][t(567)]}get[hD(397)](){return this[hD(471)].totalDuration}get baseDts(){const t=hD;var e;return null===(e=this[t(585)])||void 0===e?void 0:e[t(489)]}[hD(386)](){const t=hD;this[t(580)](),this[t(438)]=setTimeout((()=>{this[t(566)]()}),this[t(507)])}_stopTick(){const t=hD;this[t(438)]&&(clearTimeout(this[t(438)]),this._tickTimer=null)}[hD(566)](){const t=hD;if(!this._isDestroyed)if(this[t(464)][t(436)]())this[t(464)][t(497)](this[t(589)],t(494));else if(!this[t(464)][t(483)]){if(this[t(386)](),this[t(475)]){const e=this[t(475)],s=this._segmentLoader.error;if(this[t(422)](),this[t(452)]&&!this[t(585)].isFull()&&(this[t(452)]=!1,this[t(472)]=!1),s){const i=.5;return void((!e.readyState||this[t(581)](i)[t(402)]<1)&&(s[t(470)]=!0,this[t(578)](Hk[t(370)](s))))}e.readyState&&(Gi(e)?(this._loadSegment(),this[t(541)]&&this._gapService.do(e,this[t(526)][t(384)],this[t(449)])):e[t(372)]<2&&this[t(541)]&&this[t(541)].do(e,this[t(526)][t(384)],!e[t(407)]||this[t(449)]))}else this[t(590)]();!this.isLive&&this[t(373)]()}}[hD(522)](){const t=hD;return this[t(481)][t(522)]()}bufferInfo(){const t=hD;var e;let s=arguments[t(421)]>0&&void 0!==arguments[0]?arguments[0]:.1;return this[t(475)]?rD[t(387)](rD.get(this.media),null===(e=this[t(475)])||void 0===e?void 0:e.currentTime,s):{}}[hD(445)](){return this[hD(543)].getStats()}[hD(557)](){const t=hD;this[t(481)][t(557)]()}async loadSource(t){const e=hD;return t&&(this[e(526)][e(531)]=t),t=this[e(526)][e(531)],this[e(585)][e(505)](),await this._reset(),await this[e(381)](t),this[e(386)](),!0}async _loadData(t){const e=hD;try{t&&(t=t.trim())}catch(t){}if(!t)throw this[e(578)](new Hk(zk[e(514)],zk.OTHER,null,null,e(374)));const s=await this[e(574)](t),{currentStream:i}=this._playlist;if(this[e(432)])if(this[e(449)]){const t=this[e(471)].setNextSegmentBySN(this[e(502)]);this[e(464)][e(497)](this[e(589)],e(535)+this[e(502)]+e(516)+t+e(444)),-1===t&&(this[e(487)]=null,this[e(502)]=null)}else{var r,n,o,a;if(0===i[e(392)]&&null!==(r=this._switchUrlOpts)&&void 0!==r&&r[e(392)])i[e(392)]=null===(a=this[e(591)])||void 0===a?void 0:a.bitrate;const t=typeof(null===(n=this[e(591)])||void 0===n?void 0:n[e(459)])===e(378)?null===(o=this[e(591)])||void 0===o?void 0:o[e(459)]:this[e(401)]();this[e(526)][e(459)]=t;const s=this[e(471)][e(479)](t),h=this[e(471)][e(465)](s+1);if(h){const t=h[e(584)];this[e(464)][e(551)](this[e(589)],"clear buffer from "+t),await this[e(585)][e(529)](t)}}if(s)if(this.isLive){if(this[e(585)].setLiveSeekableRange(0,4294967295),this[e(464)][e(497)](this[e(589)],e(484),this[e(471)][e(397)],e(515),this[e(471)][e(461)]),this.config[e(369)]<this[e(471)][e(397)]&&(this.config[e(369)]=this[e(471)][e(397)],this.config[e(493)]=1.5*this[e(526)].targetLatency),!s[e(513)]&&this[e(429)](t),this[e(471)][e(461)]<this[e(526)][e(563)])return;await this[e(590)]()}else await this[e(585)].updateDuration(i[e(397)]),this.player[e(569)]()&&this[e(471)].setNextSegmentByIndex(0),await this[e(590)]()}async[hD(364)](t){const e=hD;let s=arguments[e(421)]>1&&void 0!==arguments[1]?arguments[1]:{};switch(typeof s){case e(378):s={startTime:s};break;case"boolean":s={seamless:s};break;case"object":for(const t in s)(void 0===s[t]||null===s[t])&&delete s[t];break;default:throw e(383)+s}s=Object.assign({},{seamless:!1,startTime:0,bitrate:0},s);const{seamless:i,startTime:r}=s;if(this[e(526)][e(531)]=t,this.config[e(459)]=r,this[e(591)]=s,!i){let s;try{s=this.config[e(492)]?this[e(586)](t):await this.loadSource(t)}catch(t){throw this[e(596)](xt[e(460)],t),t}return this[e(568)]=!1,s&&this[e(596)](xt[e(504)],{url:t}),this[e(475)].play(!0)}this[e(432)]=!0,!this.isLive&&(this[e(502)]=null,this[e(487)]=null),this._playlist[e(441)](),this[e(585)].seamlessSwitch(),await this[e(380)](),await this[e(381)](t),this[e(386)](),this._switchUrlOpts=null}async[hD(574)](t){const e=hD;let s;try{var i,r;const n=null===(i=this.config[e(379)])||void 0===i||null===(r=i[e(587)]((s=>s[e(531)]===t))[0])||void 0===r?void 0:r.manifest;[s]=n?this[e(463)].parseText(n,t):await this[e(463)][e(509)](t)}catch(t){throw this[e(578)](Hk.create(t))}if(s){var n,o;if(this._playlist[e(573)](s),s[e(513)])null!==(n=this[e(471)])&&void 0!==n&&null!==(o=n[e(404)][e(418)])&&void 0!==o&&o[e(421)]&&this[e(596)](xt[e(533)],{list:this._playlist[e(404)][e(418)]}),await this[e(519)]();else this[e(464)][e(497)](this[e(589)],e(582));return this[e(596)](xt[e(405)]),s}this.player[e(551)](this[e(589)],"_loadM3U8() playlist is empty")}_refreshM3U8(){const t=hD;var e,s;this[t(464)].debugLog(this[t(589)],"_refreshM3U8()");const i=this[t(471)].currentStream;if(!i||!i[t(531)])throw this[t(578)](Hk[t(592)](null,null,new Error(t(428))));const r=i.url,n=null===(e=i[t(579)])||void 0===e?void 0:e[t(531)],o=null===(s=i[t(406)])||void 0===s?void 0:s[t(531)];return this._manifestLoader.load(r,n,o)[t(394)]((e=>{const s=t;let[i,a,h]=e;i?(this[s(471)][s(573)](i,a,h),this.isLive&&this[s(429)](r,n,o)):this.player[s(551)](this[s(589)],s(538))}))[t(549)]((e=>{const s=t;throw this[s(578)](Hk[s(592)](e))}))}[hD(429)](t,e,s){const i=hD;let r,n=this[i(471)][i(508)];var o;this[i(471)][i(375)]?r=1e3*(this._playlist[i(404)][i(450)]||0):r=1e3*((null===(o=this[i(471)][i(486)])||void 0===o?void 0:o[i(510)])||0);this[i(463)][i(446)](t,e,s,((t,e,s)=>{const r=i;this[r(471)].upsertPlaylist(t,e,s),this._playlist.clearOldSegment();(t&&n&&!this[r(471)][r(508)]||!this[r(471)][r(572)]&&this[r(471)][r(461)]>=this.config.minSegmentsStartPlay)&&this[r(590)](),n&&(n=this._playlist[r(508)])}),(t=>{const e=i;this[e(578)](Hk[e(592)](t))}),r)}async[hD(431)](t){const e=hD,s=this[e(471)][e(477)];if(!s)return void this[e(464)][e(497)](this.TAG_NAME,e(498));let i=!1,r=null;try{this[e(472)]=!0,i=await this[e(440)](s,this._playlist[e(546)](s))}catch(t){r=t}finally{this[e(472)]=!1}if(r)return this[e(585)].isFull()?(this[e(472)]=!0,this[e(452)]=!0,!1):this[e(578)](Hk[e(592)](r));if(i){var n;const i=this[e(581)]()[e(480)];this[e(449)]&&this[e(475)]&&!this[e(475)][e(395)]&&i&&Math[e(545)](s.end-i)>1&&(this[e(464)][e(551)](this.TAG_NAME,"segment: "+s.sn+e(583)+s[e(480)]+e(478)+i),this[e(471)][e(539)](s,i));const r=(null===(n=this[e(471)][e(404)])||void 0===n?void 0:n[e(531)])===s[e(593)];this._urlSwitching&&!r&&this._bufferService[e(385)](),this[e(449)]&&this[e(432)]&&r&&(this[e(432)]=!1,this[e(596)](xt[e(504)],{url:this[e(526)][e(531)]})),this._playlist[e(562)](),this[e(464)][e(497)](this.TAG_NAME,e(544),e(525),s.isLast),s.isLast?(this[e(464)].debugLog(this[e(589)],"_loadSegmentDirect()","seg.isLast"),this[e(512)]()):!t&&(this[e(464)].debugLog(this[e(589)],e(544),"and next _loadSegment()"),this[e(590)]())}else this[e(464)][e(497)](this[e(589)],e(565));return i}async[hD(440)](t,e){const s=hD;this.player.debugLog(this.TAG_NAME,s(564),t&&t[s(531)],t&&t[s(427)],s(588),e&&e[s(531)],e&&e.byteRange);const i=t?t.cc:e.cc,r=this[s(487)]!==i;let n=[];try{n=await this._segmentLoader[s(509)](t,e,r)}catch(t){throw t[s(470)]=!1,this[s(481)][s(455)]=t,t}if(!n[0])return;const o=await this[s(585)][s(500)](...n);if(!o)return void this[s(464)][s(497)](this.TAG_NAME,s(530));const a=t?t.sn:e.sn;let h=t?t[s(584)]:e.start;const l=this._playlist.currentStream;this[s(585)].createSource(o[0],o[1],null==l?void 0:l[s(414)],null==l?void 0:l[s(458)]);const c=this[s(502)]===a-1;if(this.isLive&&this[s(432)]){const t=this[s(581)]().end;this[s(471)].updateSegmentsRanges(a,t),h=t}return await this[s(585)].appendBuffer(t,e,o[0],o[1],r,c,h),await this[s(585)][s(553)](this[s(526)].bufferBehind),this[s(487)]=i,this._prevSegSn=a,!0}async[hD(380)](){const t=hD;this[t(464)][t(497)](this[t(589)],t(410)),this[t(561)]&&(clearTimeout(this[t(561)]),this._disconnectTimer=null),this._stopTick(),await Promise[t(396)]([this._segmentLoader[t(518)](),this[t(463)][t(433)]()]),this[t(472)]=!1}async[hD(537)](){const t=hD;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this[t(464)][t(497)](this.TAG_NAME,t(403)),this[t(568)]=!1,this[t(502)]=null,this._prevSegCc=null,this[t(591)]=null,this[t(462)]=0,this[t(471)][t(441)](),this._segmentLoader.reset(),this[t(398)].reset(),this._stats[t(441)](),await this[t(380)](),this[t(585)][t(441)](e)}_end(){const t=hD;this.player[t(497)](this[t(589)],"_end()"),this[t(380)](),this[t(585)].endOfStream(),this[t(475)]&&(this[t(475)][t(372)]<=2||this[t(475)].buffered[t(421)]>1)&&this[t(386)]()}_emitError(t){const e=hD;var s;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;!1===(null===(s=t[e(419)])||void 0===s?void 0:s[e(470)])?console[e(577)](t):(console[e(571)](t),console[e(455)](t),console[e(455)](null===(r=this[e(475)])||void 0===r?void 0:r[e(455)]),this[e(580)](),this[e(432)]&&(this[e(432)]=!1,this[e(596)](xt[e(460)],t)),i&&this._end(),this[e(398)][e(441)](),this[e(596)](xt[e(527)],t));return t}[hD(401)](){const t=hD,{media:e}=this;let s=e[t(407)];if(!e[t(437)]){var i;const r=this._playlist[t(479)](e[t(407)]),n=this[t(471)][t(465)](r),o=null===(i=this[t(543)])||void 0===i?void 0:i.getStats()[t(523)];if(o&&n){s+=n[t(510)]*this[t(471)][t(404)][t(392)]/o+1}else s+=5}return s}_tryEos(){const t=hD;var e,s;const{media:i}=this;if(!i)return;const{nextSegment:r,lastSegment:n}=this[t(471)];if(!((!r||n&&rD[t(454)](i,n[t(584)]+n[t(510)]/2))&&i[t(372)]&&i.duration>0&&(null===(e=this[t(585)])||void 0===e?void 0:e[t(389)])&&!(null!==(s=this[t(585)])&&void 0!==s&&s[t(423)])))return;let o=this[t(581)]();i[t(437)]&&!i[t(407)]&&(o=this.bufferInfo(o[t(368)]||.5));(Math.abs(o.end-i.duration)<.1||!this[t(449)]&&n&&o[t(480)]>=n[t(584)]+n[t(510)])&&this[t(585)].endOfStream()}async _onCheckQuotaExceeded(){const t=hD;if(!this[t(475)])return;const e=this[t(475)][t(407)],s=this.media[t(426)];let i=!1;for(let r=0;r<s[t(421)];r++)if(s[t(584)](0)>=e&&e<s.end(r)){i=!0;break}if(this[t(585)].isFull()){const e=i?this[t(526)][t(517)]:5,s=this[t(475)][t(407)];s-e>0&&await this._bufferService.removeBuffer(0,s-e)}}async[hD(482)](){const t=hD;this[t(464)][t(497)](this[t(589)],t(560)),this[t(585)][t(506)](),await this._loadSegment(),this._startTick()}[hD(416)](){const t=hD;this.player.debugLog(this[t(589)],"onPause()"),this[t(585)][t(495)](),this[t(580)](),this[t(481)].reset()}async[hD(576)](t){const e=hD;t?this[e(416)]():await this[e(482)]()}async[hD(488)](t){const e=hD;let s=arguments[e(421)]>1&&void 0!==arguments[1]&&arguments[1];this[e(464)][e(497)](this[e(589)],"listen playVodSeek",t);const i=this[e(585)][e(534)]();if(this[e(464)][e(497)](this[e(589)],"onSeeking() seek to tsSampleRange",i),i&&i[e(584)]<=t&&t<=i[e(480)])return this[e(464)][e(497)](this[e(589)],"onSeeking() seek to tsSampleRange",i,e(390)),void this[e(585)][e(528)](t);const r=this[e(471)][e(479)](t),n=this[e(471)][e(465)](r);null==r||!n||this[e(472)]&&n===this._playlist[e(477)]?this[e(464)][e(497)](this[e(589)],e(365)+r+e(595)+this[e(472)]+e(501),n,"and return"):(this[e(464)].debugLog(this[e(589)],e(594)+t+e(420)+r+e(501),n),this[e(585)][e(413)](t),this[e(471)][e(439)](r),this[e(580)](),this[e(462)]=0,await this[e(481)][e(518)](),this[e(472)]=!1,(!s||this[e(449)])&&await this[e(431)](!0),this._startTick())}async[hD(532)](t){const e=hD;this[e(464)][e(497)](this[e(589)],e(490),t),this[e(422)]();const s=this._playlist[e(435)];if(this[e(464)][e(497)](this[e(589)],e(556),s,e(415),t),s){const i=rs(t,s[0]+.1,s[1]-.1);if(i>=0&&Math[e(545)](t-i)>=.1)return this[e(464)].debugLog(this.TAG_NAME,"onVideoSeeking() update current time",i),void(this.media[e(407)]=i)}const i=this[e(471)][e(367)],r=rD[e(387)](rD[e(547)](this[e(475)]),t,.1);if(i){if(r[e(480)]&&Math[e(545)](r[e(480)]-i[e(480)])<.2)return;if(this.isLive&&r[e(480)])return}await this[e(488)](t,r[e(480)])}[hD(536)](){this[hD(526)]}[hD(456)](t){const e=hD,s=this[e(471)][e(575)](t,this[e(585)][e(399)]);s&&this[e(364)](this[e(526)][e(531)],s[e(584)]+.2)}[hD(408)](){return this[hD(585)].getBuferredDuration()||0}getDemuxBufferedListLength(){return this[hD(585)].getBufferedSegments()||0}[hD(476)](){const t=hD;return this[t(585)][t(555)]()||0}[hD(382)](){const t=hD;return this[t(585)][t(366)]()||0}}const uD=fD;function pD(){const t=["8ECwSNN","349ZMWEkK","emitError","totalBits","100KbxcJJ","bandwidthLastTime","135gbERZN","kBps","player","336LSuRAA","video","debugLog","4323VvpTBE","553707WzoTkF","_stopBandwidthEstimateInterval","checkHlsBufferedDelay","hls","404598FulSfw","_isDestroyed","32370XCWYDf","_startBandwidthEstimateInterval","ERROR","eventsDestroy","$videoElement","forEach","getDemuxVideoBufferedListLength","length","destroy","TAG_NAME","url","Hls256Decoder","init","loadSource","bandwidthEstimateInterval","_bindEvents","getDemuxAudioBufferedListLength","hlsError","262RmoyHy","getDemuxBufferedListLength","10HiigLG","toFixed","627641QGYsOI","53230LQypXv","emit"];return(pD=function(){return t})()}function fD(t,e){const s=pD();return(fD=function(t,e){return s[t-=298]})(t,e)}!function(t,e){const s=fD,i=t();for(;;)try{if(106371===parseInt(s(317))/1*(parseInt(s(309))/2)+-parseInt(s(328))/3*(-parseInt(s(320))/4)+-parseInt(s(311))/5*(-parseInt(s(333))/6)+-parseInt(s(313))/7*(-parseInt(s(316))/8)+parseInt(s(322))/9*(-parseInt(s(314))/10)+-parseInt(s(329))/11+parseInt(s(325))/12*(-parseInt(s(335))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pD);class mD extends h{constructor(t){const e=fD;super(),this.player=t,this[e(300)]=e(302),this.$videoElement=this[e(324)][e(326)][e(339)],this[e(332)]=null,this[e(338)]=[],this[e(305)]=null,this[e(321)]=0,this.hls=new dD(t),this._bindEvents(),this._isDestroyed=!1,this[e(324)][e(327)](this[e(300)],e(303))}async destroy(){const t=fD;return this[t(334)]=!0,this[t(330)](),this[t(332)]&&(await this[t(332)].destroy(),this[t(332)]=null),this.eventsDestroy[t(298)]&&(this[t(338)][t(340)]((t=>t())),this[t(338)]=[]),this.$videoElement=null,this[t(324)][t(327)](this[t(300)],t(299)),!0}[uD(306)](){const t=uD;this[t(332)].on(xt[t(337)],(e=>{const s=t;this[s(324)][s(318)](Q[s(308)],e)}))}[uD(336)](){const t=uD;this[t(330)](),this[t(321)]=as(),this[t(305)]=setInterval((()=>{const e=t;if(!this[e(332)])return;const s=this[e(332)].speedInfo()[e(319)],i=as(),r=s/(i-this[e(321)])*1e3;this[e(324)][e(315)](H[e(323)],(r/1e3)[e(312)](2)),this[e(332)].resetBandwidth(),this[e(321)]=i}),1e3)}[uD(330)](){const t=uD;this.player[t(327)](this.TAG_NAME,t(330)),this[t(305)]&&(clearInterval(this.bandwidthEstimateInterval),this.bandwidthEstimateInterval=null),this[t(321)]=0}async[uD(304)](t){const e=uD;return this[e(301)]=t,await this[e(332)][e(304)](t),this[e(336)](),!0}[uD(331)](){let t=0;return this[uD(332)]&&(t=this.hls.getDemuxBuferredDuration()),t}getDemuxBufferedListLength(){const t=uD;let e=0;return this[t(332)]&&(e=this[t(332)][t(310)]()),e}[uD(307)](){const t=uD;let e=0;return this[t(332)]&&(e=this[t(332)][t(307)]()),e}getDemuxVideoBufferedListLength(){const t=uD;let e=0;return this[t(332)]&&(e=this.hls[t(341)]()),e}}function gD(t,e){const s=AD,i=t[s(183)];if(!i||!i[s(207)])return;const r=i.find((t=>{const e=s;var i,r;return(null===(i=t[e(229)])||void 0===i||null===(r=i[e(206)])||void 0===r?void 0:r[e(184)])===e(159)})),n=i.find((t=>{const e=s;var i,r;return(null===(i=t[e(229)])||void 0===i||null===(r=i[e(206)])||void 0===r?void 0:r[e(184)])===e(161)}));if(!r&&!n)return;let o=[],a=[];if(e){const t=[];let i=0,r=e[s(174)]+e[s(212)];e[s(141)][s(227)](((n,o)=>{const a=s;t[a(218)]({index:o,startTime:i,endTime:i+n[a(209)]/e[a(200)],duration:n[a(209)]/e[a(200)],range:[r,r+n[a(156)]],frames:[]}),i+=n[a(209)]/e[a(200)],r+=n[a(156)]})),o=t,a=t}else{var h,l;const e=e=>{const i=s;return e?[{index:0,startTime:0,endTime:e[i(169)]/e.timescale,duration:e[i(169)]/e[i(200)],range:[t.start+t[i(212)],""],frames:[]}]:[]};a=e(t[s(182)][s(169)]?t[s(182)]:null===(h=r.mdia)||void 0===h?void 0:h[s(222)]),o=e(t[s(182)][s(169)]?t[s(182)]:null===(l=n[s(229)])||void 0===l?void 0:l.mdhd)}return{videoSegments:a,audioSegments:o}}function yD(t,e){const s=AD,i=t[s(183)];if(!i||!i[s(207)])return{error:!0,msg:"trak not found"};const r=i.find((t=>{const e=s;var i,r;return(null===(i=t[e(229)])||void 0===i||null===(r=i.hdlr)||void 0===r?void 0:r.handlerType)===e(159)})),n=i[s(210)]((t=>{const e=s;var i,r;return(null===(i=t.mdia)||void 0===i||null===(r=i[e(206)])||void 0===r?void 0:r.handlerType)===e(161)}));if(!r&&!n)return{error:!0,msg:s(219)};let o,a=[],h=[];if(r){var l,c,d;const t=null===(l=r[s(229)])||void 0===l||null===(c=l[s(186)])||void 0===c?void 0:c[s(198)];if(!t)return{error:!0,msg:s(194)};const i=null===(d=r[s(229)][s(222)])||void 0===d?void 0:d.timescale,{stts:n,stsc:h,stsz:u,stco:p,stss:f,ctts:m}=t;if(!(i&&n&&h&&u&&p&&f))return{error:!0,msg:"video timescale "+!!i+s(225)+!!n+s(171)+!!h+s(180)+!!u+s(204)+!!p+s(173)+!!f+s(231)};a=vD(e,i,n,h,u,p,f,m),o=a[s(165)]((t=>t[s(169)]))}if(n){var u,p,f;const t=null===(u=n[s(229)])||void 0===u||null===(p=u[s(186)])||void 0===p?void 0:p.stbl;if(!t)return{error:!0,msg:s(166)};const i=null===(f=n[s(229)].mdhd)||void 0===f?void 0:f[s(200)],{stts:r,stsc:a,stsz:l,stco:c}=t;if(!(i&&r&&a&&l&&c))return{error:!0,msg:s(196)};h=vD(e,i,r,a,l,c,null,null,o)}return{videoSegments:a,audioSegments:h}}function AD(t,e){const s=bD();return(AD=function(t,e){return s[t-=139]})(t,e)}function vD(t,e,s,i,r,n,o,a,h){const l=AD;var c;const d=[],u=[],p=[],f=i[l(152)],m=n[l(152)],g=r[l(195)],y=null==o?void 0:o[l(152)],A=null==a?void 0:a[l(152)];let v,b;A&&(v=[],A[l(227)]((t=>{const e=l;let{count:s,offset:i}=t;for(let t=0;t<s;t++)v[e(218)](i)}))),y&&(b={},y.forEach((t=>{b[t-1]=!0})));let S,w,E=0,T=0,I=0,k=0,_=0,C=null===(c=f[0])||void 0===c?void 0:c[l(232)],D=f[1]?f[1][l(157)]-1:1/0,R=0,L=-1;s[l(152)][l(227)]((t=>{const e=l;let{count:s,delta:i}=t;w=i;for(let t=0;t<s;t++){if(S={dts:R,startTime:E,duration:w,size:g[T]||r[e(139)],offset:m[I]+_,index:T},y){if(S[e(213)]=b[T],S.keyframe)L++,u[e(218)]([S]),p[e(218)](S[e(169)]);else{if(0===u.length){T++;continue}u[u.length-1][e(218)](S),p[u[e(207)]-1]+=S.duration}S[e(211)]=L}v&&T<v[e(207)]&&(S.pts=R+v[T]),0===T&&(S[e(145)]=0),d[e(218)](S),E+=w,R+=i,T++,T<C?_+=S[e(212)]:(I++,_=0,I>=D&&(k++,D=f[k+1]?f[k+1][e(157)]-1:1/0),C+=f[k][e(232)])}}));const P=d.length;if(!P||o&&!d[0].keyframe)return[];const x=[];let M,B=[],F=0,U=0;const O=t=>{const s=l;var i;M=B[B[s(207)]-1],x.push({index:x[s(207)],startTime:(null===(i=x[x[s(207)]-1])||void 0===i?void 0:i[s(178)])||B[0].startTime/e,endTime:(M.startTime+M[s(169)])/e,duration:t,range:[B[0][s(233)],M[s(233)]+M[s(212)]],frames:B}),F=0,B=[]};if(o){const s=t*e;for(let t=0,i=u.length;t<i;t++)F+=p[t],B[l(218)](...u[t]),t+1<i?(0===t||F>s)&&O(F/e):O(F/e)}else{let s=(h=h||[])[0]||t;for(let i=0;i<P;i++){B[l(218)](d[i]),F+=d[i].duration;const r=F/e;(i+1>=P||r+U>=s)&&(U+=r-s,O(r),s=h[x[l(207)]]||t)}}return x}function bD(){const t=["duration","3316786cvpGzu"," or stsc ","DURATION"," or stss ","start","tenc","2440098JQMwOp","filter","endTime","4TKuDMI"," or stsz ","defaultSampleSize","mvhd","trak","handlerType","set","minf","join","16053TPGjTx","codec","avcC","concat","esds","isNaN","video stbl not found","entrySizes","audio timescale or stts or stsc or stsz or stco not found","stsd","stbl","channelCount","timescale","SAMPLE_DUR","flags","sinf"," or stco ","54qPPunb","hdlr","length","1096764WDvyZK","subsegment_duration","find","gopId","size","keyframe","SAMPLE_FLAG","reduce","1361295YeOpen","FLAG","push","video or audio track not found","index","defaultSampleDuration","mdhd","startTime","number"," or stts ","type","forEach","18MNQdJc","mdia","cts"," not found","samplesPerChunk","offset","sampleSize","dts","references","byteLength","15643188gcOeyc","30136cXjWkm","pts","defaultSampleFlags","20sxHsBF","enca","SAMPLE_SIZE","baseDataOffset","721NdgFjS","entries","CTS_OFFSET","default_KID","schi","referenced_size","firstChunk","DEPENDS_YES","vide","IS_NON_SYNC","soun","SIZE","av1C","DEFAULT_BASE_IS_MOOF","map","audio stbl not found","firstSampleFlag","sampleRate"];return(bD=function(){return t})()}function SD(t,e){const s=AD;let i="",r="",n=0,o=0,a=0,h=0,l=0,c=0,d=0;t.mvhd&&(l=t[s(182)][s(169)]/t[s(182)][s(200)]);const u=t[s(183)];if(u){const D=u[s(210)]((t=>{const e=s;var i,r;return(null===(i=t[e(229)])||void 0===i||null===(r=i[e(206)])||void 0===r?void 0:r[e(184)])===e(159)})),R=u[s(210)]((t=>{const e=s;var i,r;return"soun"===(null===(i=t[e(229)])||void 0===i||null===(r=i[e(206)])||void 0===r?void 0:r[e(184)])}));let L,P=null;var p,f,m,g,y,A,v,b,S,w,E,T,I,k,_,C;if(D)if(P=null===(p=D[s(229)])||void 0===p||null===(f=p[s(186)])||void 0===f||null===(m=f[s(198)])||void 0===m?void 0:m[s(197)].entries[0],P)if(n=P.width,o=P.height,c=null===(g=D[s(229)])||void 0===g||null===(y=g[s(222)])||void 0===y?void 0:y[s(200)],i=null===(A=P[s(190)]||P.hvcC||P[s(163)])||void 0===A?void 0:A[s(189)],"encv"===P.type)L=null===(v=P[s(203)])||void 0===v||null===(b=v[s(155)])||void 0===b?void 0:b[s(175)][s(154)];if(R)if(P=null===(S=R.mdia)||void 0===S||null===(w=S[s(186)])||void 0===w||null===(E=w[s(198)])||void 0===E?void 0:E[s(197)][s(152)][0],P)if(a=P[s(199)],h=P[s(168)],r=null===(T=P[s(192)])||void 0===T?void 0:T[s(189)],d=null===(I=R[s(229)])||void 0===I||null===(k=I[s(222)])||void 0===k?void 0:k[s(200)],P[s(226)]===s(148))L=L||(null===(_=P[s(203)])||void 0===_||null===(C=_[s(155)])||void 0===C?void 0:C[s(175)][s(154)]);return{kid:L?L[s(187)](""):null,videoCodec:i,audioCodec:r,width:n,height:o,videoTimescale:c,audioChannelCount:a,audioSampleRate:h,duration:l,audioTimescale:d,moov:t,isFragmentMP4:e}}}function wD(t){const e=AD;return typeof t===e(224)&&!Number[e(193)](t)}function ED(){const t=AD;for(var e=arguments[t(207)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(177)](Boolean))[t(207)]<2)return s[0];const r=new Uint8Array(s[t(215)](((e,s)=>e+s[t(142)]),0));let n=0;return s.forEach((e=>{const s=t;r[s(185)](e,n),n+=e[s(142)]})),r}function TD(t,e){var s=kD();return(TD=function(t,e){return s[t-=280]})(t,e)}!function(t,e){const s=AD,i=t();for(;;)try{if(566262===parseInt(s(188))/1*(-parseInt(s(205))/2)+parseInt(s(208))/3*(parseInt(s(179))/4)+parseInt(s(216))/5*(-parseInt(s(228))/6)+parseInt(s(151))/7*(parseInt(s(144))/8)+-parseInt(s(176))/9*(parseInt(s(147))/10)+parseInt(s(170))/11+parseInt(s(143))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bD);var ID=TD;function kD(){var t=["1355994MRMhfQ","20sOopHv","3207sPAbvy","138432jQfwKV","98168WkESaP","create","39713ButOZG","clear","108282YGpPVR","744EBvUmQ","_data","set","904617diZgLV","get"];return(kD=function(){return t})()}!function(t,e){for(var s=TD,i=t();;)try{if(136019===parseInt(s(286))/1+-parseInt(s(283))/2+parseInt(s(282))/3*(-parseInt(s(289))/4)+-parseInt(s(281))/5*(-parseInt(s(288))/6)+parseInt(s(292))/7+parseInt(s(284))/8+parseInt(s(280))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(kD);class _D{constructor(){Lm(this,"_data",Object[TD(285)](null))}[ID(291)](t,e){this[ID(290)][t]=e}[ID(293)](t){return this[ID(290)][t]}[ID(287)](){var t=ID;this[t(290)]=Object[t(285)](null)}}const CD=DD;function DD(t,e){const s=RD();return(DD=function(t,e){return s[t-=131]})(t,e)}function RD(){const t=["_config","_loader","range","_error","1653102mbEUSb","maxDownloadInfoSize","loadMeta()->moovToSegments() and error is ",",\n        and next update duration ","duration","getUint32","get"," and list is ","_transformError","cannot find moov box","error","20770VeWdwc","isSegmentLoading","debugLog","type","MP4Loader","stringify","168PVqPzH","mp4","size","loadMeta","loadCacheMeta","push","file","byteLength","249739pGFXfP","[loadMetaProcess],task,[","moof","_currentSegmentIndex","cannot parse segments","audioSegments","loadMeta()->MP4Parser.findBox() and return mdat is null throw cannot find moov or mdat box","sidx","transformError","reset","loadMeta start","vid","], range,","scanForMoov","10OwzTZH","data","endTime","map","msg","segmentDuration","videoSegments","144298JCPafe","loadNextSegment","load","video","buffer","cannot find moov or mdat box","changeUrl","moovEnd","message","preload",",dataLen,","index","findBox","slice","arraybuffer","341106KrbSeJ","90516qMJzjH","getOrLoadMeta"," and error is ","downloadInfo","cannot parse moov box","load moov end success,\n        and videoInfo length is ","audio","cannot parse segments and is fmp4 ","updateDuration","min","cache",", state,","_getCacheKey","loadSegmentByTime","6dufSBH","debugWarn","meta","[loadMetaProcess] moov ok","80nWuyWB","loadMeta()->MP4Parser.findBox() and return moov is null throw cannot find moov box","fromCharCode","player","length","init","max","url","startTime","start","_bufferService","[loadMetaProcess],data done,setstate true,[","getSegmentByTime","2859606hXCOeD","cancel","_currentLoadingSegmentIndex",",err,","clear","mdat","isMetaLoaded","destroy","_loadSegment","loadMeta()->MP4Parser.moov() and return parsedMoov is null throw cannot parse moov box","TAG_NAME","MP4loader reset func call loader.cancel","moov","loadMetaProcess","loadData"];return(RD=function(){return t})()}!function(t,e){const s=DD,i=t();for(;;)try{if(201695===parseInt(s(185))/1+parseInt(s(200))/2*(-parseInt(s(186))/3)+parseInt(s(141))/4*(parseInt(s(135))/5)+-parseInt(s(236))/6+-parseInt(s(149))/7*(-parseInt(s(204))/8)+parseInt(s(217))/9*(-parseInt(s(163))/10)+parseInt(s(170))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(RD);class LD{constructor(t,e){const s=DD;this[s(138)]=s(147),this[s(178)]=t,this.data=e}}class PD extends h{constructor(t,e){const s=DD;let i=arguments[s(208)]>2&&void 0!==arguments[2]?arguments[2]:{};var r;super(),Lm(this,s(132),(t=>t)),this.TAG_NAME=s(139),this._config=(r=i,{vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:DD(184),cache:null,...r});const{vid:n,cache:o,...a}=this[s(232)];this[s(142)]=t,this[s(207)]=e,this[s(160)]=n||a[s(211)],this.url=a[s(211)],a[s(157)]=this._transformError,this[s(202)]={},this[s(189)]=[],this.videoSegments=[],this[s(154)]=[],this.cache=new _D,this[s(152)]=-1,this[s(219)]=-1,this[s(174)]=null,this._error=null,this[s(233)]=new jk(a,e),this[s(233)].on("real_time_speed",(t=>{})),this.player[s(137)](this.TAG_NAME,s(209))}async[CD(224)](){const t=CD;await this[t(158)](),this.cache[t(221)](),this._loader&&(this[t(233)][t(224)](),this[t(233)]=null),this.player.debugLog(this[t(227)],t(224))}get[CD(223)](){const t=CD;return this[t(169)][t(208)]||this[t(154)][t(208)]}setCurrentSegment(t){const e=CD;wD(t)&&(this[e(152)]=t)}isLastSegment(t){const e=CD;if(wD(t)){var s,i;return t>=((null===(s=this.videoSegments[this[e(169)][e(208)]-1])||void 0===s?void 0:s[e(181)])||(null===(i=this[e(154)][this[e(154)][e(208)]-1])||void 0===i?void 0:i.index)||0)}return!1}[CD(136)](t){return t===this[CD(219)]}async[CD(176)](t){const e=CD;let s=arguments[e(208)]>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments[e(208)]>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;await this[e(158)](r),t&&(this[e(211)]=t),s&&(this.vid=s),i&&(this[e(232)][e(177)]=i)}async[CD(187)](t){const e=CD;return!this.isMetaLoaded&&await this.loadMeta(t),this[e(202)]}async[CD(230)](t,e,s,i){const r=CD;let[n,o]=e;this._error=!1,this[r(207)][r(137)](this[r(227)],"[loadMetaProcess start], range,",[n,o]);await this[r(231)]([n,o||this[r(232)][r(177)]],t,{onProgress:async(e,a,h)=>{const l=r;if(this.meta&&null!=h&&h[l(234)]&&h[l(234)][l(208)]>0&&h[l(234)][1]>=o&&(a=!0,this[l(207)][l(137)](this[l(227)],l(215),n,o,"]")),a&&null!=h&&h[l(234)]&&h.range.length>0&&h[l(234)][1]<o&&(a=!1,this.player[l(137)](this[l(227)],"[loadMetaProcess],data not done,setstate false,[",n,o,"]")),this[l(207)][l(137)](this.TAG_NAME,l(150),n,o,l(161),h[l(234)],l(180),e?e[l(148)]:void 0,l(197),a,l(220),this[l(235)]),!this[l(235)]&&e&&e[l(148)]>0&&s(e,a,h),!this.meta[l(229)]&&!this[l(235)]&&e&&e[l(148)]>0){this[l(174)]=ED(this[l(174)],e);let r=IC.findBox(this[l(174)],[l(229)])[0];if(!r){const e=IC[l(182)](this[l(174)],[l(222)])[0];if(a){if(!e)return this[l(235)]=!0,void s(null,a,h,{err:l(175)});{const s=e[l(213)]+e.size,n=await this[l(231)]([s,""],t,i);n&&(r=IC[l(182)](n[l(164)],["moov"])[0])}}}if(r&&a&&r.size>r[l(164)][l(208)]&&(this[l(207)][l(137)](this[l(227)],"[loadMetaProcess],moov not all, range,",h[l(234)][1],l(180),this.buffer.byteLength,l(197),a),await this[l(230)](t,[h[l(234)][1],r.start+r[l(143)]-1],s)),r&&r[l(143)]<=r[l(164)].length&&!this.meta.moov){const e=IC[l(229)](r);if(!e)return this._error=!0,void s(null,a,h,{err:"cannot parse moov box"});let n=yD(e,this[l(232)][l(168)]);const o=async e=>{const s=l,r=IC[s(182)](this[s(174)],[e])[0];if(r){if(!(r[s(143)]>r[s(164)].length))return r;{const n=await this[s(231)]([r[s(213)],r.start+r[s(143)]-1],t,i);if(n)return IC.findBox(n.data,[e])[0]}}};let c=!1;if(!(n&&n[l(169)].length&&n[l(154)][l(208)])){const t=await o(l(156));if(t){const s=IC[l(156)](t);s&&(n=gD(e,s),c=!0)}}if(!n||n&&n.error)return this[l(235)]=!0,void s(null,a,h,{err:l(193)+c+l(188)+(n&&n.msg)});this[l(202)]=SD(e,c);const{videoSegments:d,audioSegments:u}=n;this.videoSegments=d,this[l(154)]=u,this[l(207)][l(137)](this[l(227)],l(203)),s(void 0,a,{meta:{meta:this[l(202)],videoSegments:d,audioSegments:u}})}}},...i})}async[CD(144)](t,e,s){const i=CD,r=[];this[i(207)][i(137)](this[i(227)],i(159));let n=await this[i(231)]([0,e||this[i(232)][i(177)]],t,s);if(!n)return;r[i(146)](n);let o=IC[i(182)](n.data,[i(229)])[0];if(!o){this[i(207)][i(137)](this[i(227)],"loadMeta()->MP4Parser.findBox() and return moov is null and try to find mdat");const e=IC[i(182)](n.data,["mdat"])[0];if(!e)throw this[i(207)][i(201)](this[i(227)],i(155)),new LD(i(175),n[i(164)]);const a=e[i(213)]+e[i(143)];if(n=await this[i(231)]([a],t,s),!n)return;if(r[i(146)](n),o=IC[i(182)](n.data,["moov"],a)[0],!o)throw this[i(207)].debugWarn(this.TAG_NAME,i(205)),new LD(i(133),n[i(164)])}if(o.size>o.data[i(208)]){if(n=await this[i(231)]([n[i(164)][i(208)],o.start+o[i(143)]-1],t,s),!n)return;r.push(n),o.data=ED(o[i(164)],n[i(164)])}const a=IC[i(229)](o);if(!a)throw this[i(207)].debugWarn(this[i(227)],i(226)),new LD(i(190),o[i(164)]);let h,l=yD(a,this[i(232)][i(168)]);if(!l||l&&l[i(134)])throw this.player[i(201)](this.TAG_NAME,i(238)+(l&&l[i(167)])+" and throw cannot parse segments"),new LD(i(153),o.data);if(!l[i(169)][i(208)]||!l.audioSegments[i(208)]){const t=IC[i(182)](this[i(174)],[i(151)])[0],e=IC[i(182)](this.buffer,[i(156)])[0];if(t&&t[i(143)]<=t[i(164)][i(208)]&&e){const s=IC[i(151)](t);h=IC[i(156)](e),s&&h&&(l=gD(a,h))}}this[i(202)]=SD(a,h);const{videoSegments:c,audioSegments:d}=l;this[i(169)]=c,this.audioSegments=d;const u=this[i(169)][i(183)](0,100)[i(166)]((t=>{const e=i;return{s:t[e(212)],e:t[e(165)],d:t[e(240)]}})),p=this[i(154)][i(183)](0,100)[i(166)]((t=>{const e=i;return{s:t[e(212)],e:t[e(165)],d:t.duration}}));return this.player[i(137)](this[i(227)],i(191)+this[i(169)][i(208)]+i(131)+JSON[i(140)](u)+",\n        and audioInfo length is "+this.audioSegments[i(208)]+i(131)+JSON[i(140)](p)+i(239)+this.meta.duration),this[i(202)]&&this[i(142)][i(214)][i(194)](this.meta[i(240)]),{meta:this.meta,videoSegments:c,audioSegments:d,responses:r}}async[CD(162)](t,e){const s=CD;let i=0;for(;;){const r=await this[s(231)]([i,i+8-1],t,e);if(!r||!r.data[s(208)])break;const n=new DataView(r[s(164)].buffer)[s(241)](0,!1);if(String[s(206)](r[s(164)][4],r[s(164)][5],r[s(164)][6],r[s(164)][7])===s(229)){const r=await this.loadData([i,i+n-1],t,e);return r?{start:i,size:n,data:r[s(164)],type:s(229)}:null}i+=n>0?n:8}return null}[CD(145)](t,e){const s=CD,{moov:i}=t,r=yD(i,this[s(232)][s(168)]),{videoSegments:n,audioSegments:o}=r;this.videoSegments=n,this[s(154)]=o,this._currentSegmentIndex=e,this.meta=t}[CD(216)](t){const e=CD;let s,i;return this[e(169)][e(208)]?(s=this[e(169)].find((e=>e.startTime<=t&&e.endTime>t)),s&&(i=this[e(154)][s[e(181)]])):i=this.audioSegments.find((s=>s.startTime<=t&&s[e(165)]>t)),{video:s,audio:i}}async[CD(199)](t,e){const s=CD;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[s(208)]>3&&void 0!==arguments[3]?arguments[3]:{};!this[s(223)]&&await this[s(144)](e);const{video:n,audio:o}=this[s(216)](t);return this._loadSegment(n,o,e,i,r)}async[CD(171)](t){const e=CD;let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!this.isMetaLoaded&&await this[e(144)]();const r=this[e(169)][this[e(152)]+1],n=this[e(154)][this._currentSegmentIndex+1];return this[e(225)](r,n,t,s,i)}async[CD(179)](t){const e=CD;if(!this[e(223)]&&await this.loadMeta(!0),!t||t<0)return;const{video:s,audio:i}=this.getSegmentByTime(t),r=Math.max((null==s?void 0:s[e(181)])||0,(null==i?void 0:i.index)||0);if(!r)return;const n=this[e(169)][e(183)](0,r),o=this[e(154)].slice(0,r),a=async t=>{t>r||(await this._loadSegment(n[t],o[t],!0,!1),await a(t+1))};await a(0)}[CD(218)](){const t=CD;return this[t(233)][t(218)]()}async[CD(158)](){const t=CD;!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&(this[t(207)][t(137)](this.TAG_NAME,t(228)),await this[t(233)][t(218)]()),this[t(160)]=this.url="",this.meta={},this[t(189)]=[],this[t(169)]=[],this.audioSegments=[],this._currentSegmentIndex=-1,this[t(219)]=-1}async[CD(224)](){const t=CD;await this[t(158)](),this[t(196)][t(221)]()}async[CD(225)](t,e,s,i,r){const n=CD;if(!t&&!e)return;const o=(null==t?void 0:t[n(181)])||(null==e?void 0:e[n(181)])||0;let a;this[n(219)]=o;try{a=await this[n(231)]([Math[n(195)]((null==t?void 0:t[n(234)][0])||1/0,(null==e?void 0:e[n(234)][0])||1/0),Math[n(210)]((null==t?void 0:t[n(234)][1])||0,(null==e?void 0:e[n(234)][1])||0)],s,r)}finally{this[n(219)]=-1}return a?(i&&(this[n(152)]=o),a[n(173)]=t,a[n(192)]=e,a):void 0}async loadData(t,e,s){const i=CD,r=this[i(198)](t),n=await this[i(196)][i(242)](r);let o;if(n)o={data:n,state:!0,options:{fromCache:!0,range:t,vid:this.vid}};else{const e=s&&s[i(211)]?s[i(211)]:this[i(211)];o=await this[i(233)][i(172)](e,{range:t,vid:this.vid,...s})}if(o)return!n&&(o.data&&this[i(189)][i(146)]({startTime:o[i(212)],endTime:o[i(165)],size:o[i(164)].byteLength,range:t}),this[i(189)]&&this[i(189)][i(208)]>this[i(232)][i(237)]&&(this[i(189)]=this[i(189)].slice(-this[i(232)][i(237)]))),o}[CD(198)](t){return(this.vid||this.url)+":"+t}}const xD=BD;function MD(){const t=["decodeAudio","h265","useEME","_isDestroyed","_doDecodeVideo","URL","sample","pts","listen playVodRateChange","audioSenc","_calcDecodeFps","resume","updateStats","playVodTimeCache","sampleListInfo","subarray","_initLoopWorker","player","clear","audioSamples","isIFrame","keyframe","isPlayVodNotUseMSE","channelCount","vps","cleanSampleListAndSetSeekTime","9910qcPclG","sampleRate","855ckDemT","buffer","concat","debugUuid","initMetadataTrack","new Uint8Array error:,","_sendAccADTSHeader","setFps","geVodLoadedTime","isAudioAac","setPlayVodBufferedTime","cmd","data","destroy","allListLength","parseSamples","_lastRemainBufferStartPos","metadataTrack","demuxPart","gopId","mp4","loopWorker","checkInitAudio","start","type","AAC","duration","getSampleVideoListLength","checkInitVideo","initAudioTrack","terminate","dts","codec","cleanSampleList","correctSamplePts","getSampleRange","cannot found video frame #","tempSampleListInfo","999752WBPfJY","_opt","180362KaKZgc","onmessage","TAG_NAME","_lastRemainBuffer","isAudioG711u","samples","_doDecodeAudio","pause","cryptoPayloadAudio","3349320bUUBFt","codecType","slice","moovToTrack","sort","1217646bFNnom","_hasCalcFps","size","_basefps","video seqHeader","updatePlayRate","timescale","errorMessage","G711PCMA","seekSampleRange","moov is required","length","debugLevel","loop worker is not init, can not post message","isInitAudio","_postMessageToLoopWorker","index","debug","moovToSamples","initVideoTrack","1810lOHsmj","getSampleAudioListLength","set","2452kaPWJZ","_videoSamples","baseMediaDecodeTime","audio accADTSHeader","isPlayVod","payload","revokeObjectURL","_doDecodeByMp4","MP3","videoTrack","sps","_prevPlayVodTimeCache","push","offset","setSeekingTime","sampleOffset","pps","forEach","end","audio","_audioSamples","playVodRateChange","getPlayVodDuration","isAudioMP3","init","clearBuffer","kidValue","isHevc","endPts","workerClearTimeout","postMessage","isInitVideo","MP4VodDemux","reset","videoSenc","video","warn","decoderData","byteLength","debugLog","60mURuUx","workerUrl","cannot parse samples from moov box","286629gyDBcg","audioTrack","isAudioG711a","isUseMSE","_isUseWorker"];return(MD=function(){return t})()}function BD(t,e){const s=MD();return(BD=function(t,e){return s[t-=139]})(t,e)}!function(t,e){const s=BD,i=t();for(;;)try{if(258855===-parseInt(s(143))/1+parseInt(s(214))/2+parseInt(s(230))/3+-parseInt(s(253))/4*(-parseInt(s(250))/5)+-parseInt(s(140))/6*(parseInt(s(216))/7)+-parseInt(s(225))/8+-parseInt(s(176))/9*(-parseInt(s(174))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(MD);class FD extends xf{constructor(t){const e=BD;super(t),this[e(165)]=t,this[e(218)]=e(285),this[e(286)](),this[e(213)]={},this[e(254)]=[],this[e(273)]=[],this[e(219)]=[],this[e(262)]=FD[e(249)](),this.audioTrack=FD[e(205)](),this[e(193)]=FD[e(180)](),this[e(147)]()&&this[e(164)](),this[e(165)][e(257)]()&&this[e(147)]()&&this[e(165)].on(H[e(274)],(t=>{const s=e;this[s(165)][s(139)](this[s(218)],s(156),t),this[s(245)](s(235),{rate:t})})),this[e(165)][e(139)](this[e(218)],e(277))}[xD(189)](){const t=xD;super[t(189)](),this[t(141)]&&(URL.revokeObjectURL(this[t(141)]),this.workerUrl=null),this.workerClearTimeout&&(clearTimeout(this.workerClearTimeout),this[t(282)]=null),this[t(197)]&&(this.loopWorker[t(283)]({cmd:t(189)}),this[t(197)][t(206)](),this[t(197)]=null),this[t(286)](),this.player.debugLog(this.TAG_NAME,t(189))}reset(){const t=xD;this[t(254)]=null,this._audioSamples=null,this[t(219)]=null,this[t(192)]=0,this[t(264)]=0,this[t(262)]=null,this[t(144)]=null,this[t(193)]=null,this[t(213)]=null,this.isHevc=!1,this._hasCalcFps=!1,this[t(233)]=25,this[t(284)]=!1,this[t(244)]=!1}static[xD(249)](){return{id:1,samples:[],sps:[],pps:[],vps:[],codec:""}}static[xD(205)](){return{id:2,samples:[],sampleRate:0,channelCount:0,codec:"",codecType:""}}static[xD(180)](){return{flvScriptSamples:[],seiSamples:[]}}[xD(191)](t){const e=xD;if(!t)throw new Error(e(240));if(!this[e(262)][e(208)]&&!this[e(144)][e(208)]&&(IC[e(228)](t,this[e(262)],this.audioTrack),this[e(287)]=this.videoTrack[e(287)],this[e(157)]=this[e(144)][e(157)],this[e(198)]()&&this.isAudioAac()&&this[e(182)](this.audioTrack),this[e(204)]())){let t=null;this.videoTrack[e(226)]===bt[e(149)]?this[e(262)][e(263)][e(241)]&&this[e(262)][e(172)][e(241)]&&this[e(262)][e(269)][e(241)]&&(t=Rl({sps:this[e(262)][e(263)][0],pps:this[e(262)][e(269)][0],vps:this.videoTrack[e(172)][0]})):this[e(262)][e(263)][e(241)]&&this.videoTrack[e(269)][e(241)]&&(t=sl({sps:this[e(262)][e(263)][0],pps:this[e(262)][e(269)][0]})),t&&(this[e(165)][e(139)](this[e(218)],e(234)),this[e(260)](t,j[e(288)],0,!0,0))}if(!this[e(273)][e(241)]&&!this[e(254)][e(241)]){const s=IC[e(248)](t);if(!s)throw new Error(e(142));this._videoSamples=s.videoSamples||[],this[e(273)]=s[e(167)]||[]}}demux(t,e,s,i,r){const n=xD;this.checkInitAudio(),this[n(204)](),this[n(191)](r);const o=this[n(262)],a=this[n(144)];let h,l,c;if(o[n(221)]=[],a.samples=[],s){let i;for(let r=s[0],a=s[1];r<=a;r++){if(h=this[n(254)][r],!h)throw new Error("cannot found video frame #"+r);c=h[n(266)]-e,l=t[n(163)](c,c+h.size),i={type:j[n(288)],dts:1e3*h[n(207)]/o[n(236)],pts:1e3*(h[n(155)]||h.dts)/o[n(236)],units:[],payload:null,isIFrame:!1},i[n(202)]=h[n(202)],i[n(195)]=h[n(195)],h[n(169)]&&(i[n(168)]=!0),i[n(258)]=l,this[n(165)].updateStats({vbps:l[n(291)]}),o.samples[n(265)](i)}o[n(255)]=o.samples[0][n(207)]}if(i){for(let s=i[0],r=i[1];s<=r;s++){if(h=this._audioSamples[s],!h)throw new Error(n(212)+s);c=h[n(266)]-e,l=t[n(163)](c,c+h[n(232)]);const i=1e3*h[n(207)]/a[n(236)],r=this.addAudioTagHeader(l);this[n(165)][n(160)]({abps:l[n(291)]}),a[n(221)][n(265)]({type:j[n(272)],dts:i,pts:i,payload:r,duration:h[n(202)],size:r[n(291)]})}a[n(255)]=a.samples[0].dts}this[n(210)](o),this[n(210)](a);const d=o[n(221)][n(178)](a[n(221)]);d[n(229)](((t,e)=>{const s=n;return t.dts-e[s(207)]})),d[n(270)]((t=>{const e=n,s=new Uint8Array(t[e(258)]);delete t[e(258)],this[e(147)]()?this[e(197)][e(283)]({...t,payload:s,cmd:e(154)},[s[e(177)]]):t[e(200)]===j.video?this[e(152)]({...t,payload:s}):t[e(200)]===j[e(272)]&&this[e(222)]({...t,payload:s})})),Ri(this[n(231)])&&this[n(147)]()&&(this._hasCalcFps=this[n(158)](d),this._hasCalcFps&&this[n(165)].playVod[n(183)](this[n(233)]))}[xD(194)](t,e,s,i,r,n,o,a){const h=xD;if(this.checkInitAudio(),this[h(204)](),this.parseSamples(r),this[h(262)].useEME=n,this[h(144)][h(150)]=n,this._lastRemainBuffer&&this[h(219)][h(291)]>0&&e>this[h(192)]&&e<=this._lastRemainBufferStartPos+this[h(219)][h(291)]){let s=0;for(;s<20;)try{const s=this[h(219)][h(163)](0,e-this._lastRemainBufferStartPos),i=new Uint8Array(t.byteLength+s[h(291)]);i[h(252)](s,0),i[h(252)](new Uint8Array(t),s[h(291)]),t=i,e-=s[h(291)],this[h(219)]=null,this[h(192)]=0;break}catch(t){if(!(s<20))throw new Error(h(181)+t[h(237)]);s++}}const l=this[h(262)],c=this[h(144)];l.samples=[],c[h(221)]=[],l[h(287)]=null,c[h(157)]=null;let d,u,p,f=0,m=0;if(this[h(254)][h(241)]>0&&s[h(241)]>0){let i;const r=t.byteLength+e;for(let n=s[0];n<=s[1];n++){if(d=this[h(254)][n],!d)throw new Error("cannot found video frame #"+n);d[h(266)]>=e&&d[h(266)]+d[h(232)]<=r&&(p=d[h(266)]-e,f=p+d[h(232)],u=t[h(163)](p,f),i={type:j[h(288)],dts:d.dts,pts:d[h(155)]||d[h(207)],units:[],payload:null,isIFrame:!1},i[h(202)]=d[h(202)],i[h(195)]=d[h(195)],i[h(268)]=d[h(246)],d.keyframe&&(i[h(168)]=!0),i[h(258)]=u,i[h(232)]=d[h(232)],l[h(221)].push(i))}l[h(221)][h(241)]>0&&(l[h(195)]=l.samples[0].gopId,l[h(255)]=l[h(221)][0][h(207)],l.startPts=l[h(221)][0].pts/l[h(236)],l[h(281)]=l[h(221)][l.samples[h(241)]-1][h(155)]/l[h(236)],this[h(287)]&&(l[h(287)]=this[h(287)][h(227)](l[h(221)][0][h(268)],l[h(221)][0][h(268)]+l[h(221)][h(241)]),l[h(279)]=o))}if(this[h(273)][h(241)]>0&&i.length>0){for(let s=i[0];s<=i[1];s++){if(d=this._audioSamples[s],!d)throw new Error("cannot found video frame #"+s);if(d.offset>=e&&d[h(266)]+d[h(232)]<=t[h(291)]+e){p=d[h(266)]-e,m=p+d[h(232)],u=t[h(163)](p,m);const s=this.addAudioTagHeader(u);c[h(221)].push({type:j.audio,dts:d[h(207)],pts:d[h(207)],payload:s,duration:d.duration,sampleOffset:d.index,size:s[h(291)]})}}c[h(221)][h(241)]>0&&(c[h(195)]=c[h(221)][0][h(195)]||l[h(195)],c[h(255)]=c[h(221)][0][h(207)],c.startPts=c.samples[0][h(155)]/c.timescale,c[h(281)]=c[h(221)][c[h(221)].length-1].pts/c.timescale,this.audioSenc&&(c[h(157)]=this[h(157)].slice(c[h(221)][0][h(268)],c[h(221)][0][h(268)]+c[h(221)][h(241)]),c[h(279)]=o))}this[h(290)](l,c,a),this[h(219)]=t[h(163)](Math.max(f,m)),this[h(219)][h(291)]>0?this._lastRemainBufferStartPos=e+t[h(291)]-this[h(219)][h(291)]:this._lastRemainBufferStartPos=0}[xD(286)](){const t=xD;this[t(254)]=[],this._audioSamples=[],this[t(219)]=null,this._lastRemainBufferStartPos=0,this[t(262)]=FD[t(249)](),this.audioTrack=FD[t(205)](),this[t(193)]=FD[t(180)]()}[xD(290)](t,e,s){}[xD(198)](){const t=xD;return this[t(244)]=!!(this[t(144)][t(175)]&&this[t(144)][t(171)]&&this[t(144)][t(208)]),this.isInitAudio}[xD(185)](){const t=xD;return this[t(144)].codecType===mC[t(201)]}[xD(145)](){const t=xD;return this[t(144)][t(226)]===mC[t(238)]}isAudioG711u(){const t=xD;return this[t(144)][t(226)]===mC.G711PCMU}[xD(276)](){const t=xD;return this[t(144)][t(226)]===mC[t(261)]}[xD(204)](){const t=xD;return this[t(284)]=!!(this[t(262)][t(269)][t(241)]&&this[t(262)].sps[t(241)]&&this[t(262)][t(208)]),this[t(284)]}_sendAccADTSHeader(t){const e=xD,s=ke({profile:t.objectType,sampleRate:t.sampleRateIndex,channel:t[e(171)]});this[e(165)].debugLog(this.TAG_NAME,e(256)),this._doDecodeByMp4(s,j[e(272)],0,!0,0)}[xD(164)](){const t=xD,e=gi(X_);let s=new Worker(e);this[t(141)]=e,this[t(282)]=setTimeout((()=>{const e=t;window[e(153)][e(259)](this[e(141)]),this[e(141)]=null,this.workerClearTimeout=null}),P),s.postMessage({cmd:"init",options:{type:t(196),seekingMaxDiff:1e4,debug:this[t(165)][t(215)][t(247)],debugUuid:this[t(165)][t(215)][t(179)],debugLevel:this[t(165)][t(215)][t(242)]}}),s[t(217)]=e=>{const s=t;if(this[s(151)])return;const i=e[s(188)];switch(i[s(187)]){case"decodeVideo":this[s(152)](i);break;case s(148):this[s(222)](i);break;case s(162):if(this.tempSampleListInfo=i,this[s(165)][s(170)]()){const t=this[s(184)](),e=this[s(165)][s(275)]();if(t&&e){let i=t/(1e3*e);i!==this[s(264)]&&(this[s(165)][s(186)](t),this[s(165)].emit(H[s(161)],i)),this[s(264)]=i}}}},this[t(197)]=s}_postMessageToLoopWorker(t,e){const s=xD;this[s(165)][s(146)]()||(this[s(197)]?this.loopWorker[s(283)]({cmd:t,...e}):this.player.debug[s(289)](this.TAG_NAME,s(243)))}[xD(222)](t){const e=xD,s=new Uint8Array(t.payload),i=this[e(224)](s);this._doDecodeByMp4(i,j.audio,t[e(207)],!1,0)}[xD(152)](t){const e=xD,s=new Uint8Array(t[e(258)]);let i=null;i=t[e(280)]?Pl(s,t[e(168)]):il(s,t[e(168)]),this[e(165)].updateStats({dts:t[e(207)]});const r=t.pts-t[e(207)];i=this.cryptoPayload(i,t[e(168)]),this[e(260)](i,j[e(288)],t[e(207)],t.isIFrame,r)}getBuferredDuration(){return this[xD(213)].buferredDuration||0}getSampleListLength(){const t=xD;return this[t(213)][t(190)]||0}[xD(251)](){return this.tempSampleListInfo.audioListLength||0}[xD(203)](){return this.tempSampleListInfo.videoListLength||0}[xD(211)](){const t=xD;return{start:this[t(213)][t(199)]||0,end:this[t(213)][t(271)]||0}}[xD(239)](t){this[xD(245)]("seekSampleRange",{time:t})}[xD(173)](t){const e=xD;this[e(165)][e(272)]&&this[e(165)].audio[e(166)](),Ri(this[e(165)].isUseMSE())&&(this[e(278)](!0),this[e(245)](e(209)),this[e(245)](e(267),{time:t}))}[xD(223)](){const t=xD;this[t(245)](t(223))}[xD(159)](){const t=xD;this[t(245)](t(159))}[xD(184)](){const t=xD;let e=0;return e=this[t(211)]()[t(271)],e}addAudioTagHeader(t){const e=xD;let s=[];this[e(185)]()?s=[175,1]:this[e(145)]()?s=[114]:this[e(220)]()?s=[130]:this[e(276)]()&&(s=[32]);const i=new Uint8Array(t.length+s.length);return i[e(252)](s,0),i[e(252)](t,s.length),i}}var UD=OD;function OD(t,e){var s=ND();return(OD=function(t,e){return s[t-=442]})(t,e)}function ND(){var t=["_mseOpened","clearSourceBuffer","demuxerPause","isInitVideo","index","getSampleRange","MP4BufferService"," <= 0 return","endOfStream","evictBuffer","demux","47248OuuoXz","media","getSampleAudioListLength","currentTime","getBufferedAudioSegments","getBuferredDuration","updateDuration","getBufferedVideoSegments","665qWLWJS","playVod","204400VKIfhv","demuxerResume","mp4","cleanSampleListAndSetSeekTime","isPlayVod","evictBuffer() clearBuffer(","_sourceCreated","TAG_NAME","isInitAudio","player","4566oUYduw","length","mseDecoder"," + 1 >= removeEnd ","_demuxer","_needInitSegment","debugLog","getBufferedSegments","424179XrrMPI","updateMSE","updateMediaSourceDuration","48770vYSBUf","seekSampleRange","65088SxMGDx","updateDuration()","277215vubbdh","getSampleVideoListLength","resume","appendBuffer","getSampleListLength","reset","evictBuffer() start ","isPlayVodUseMSE"," return","isStateOpen","_mse","evictBuffer() removeEnd "];return(ND=function(){return t})()}!function(t,e){for(var s=OD,i=t();;)try{if(125021===parseInt(s(485))/1+-parseInt(s(487))/2+parseInt(s(489))/3+parseInt(s(464))/4+-parseInt(s(462))/5*(parseInt(s(474))/6)+parseInt(s(482))/7+parseInt(s(454))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ND);class jD{constructor(t,e){var s=OD;this[s(471)]=s(449),this[s(466)]=t,this.player=e,this[s(478)]=new FD(e),this[s(499)]=null,this[s(473)].isPlayVodUseMSE()&&(this._mse=this[s(473)][s(476)]),this._needInitSegment=!0,this[s(470)]=!1}async destroy(){var t=OD;this[t(499)]=null,this._demuxer&&(this[t(478)].destroy(),this._demuxer=null),this[t(466)]=null}[UD(483)](){var t=UD;this[t(473)][t(496)]()&&!this[t(499)]&&(this[t(499)]=this[t(473)][t(476)])}async[UD(492)](t,e,s,i,r){var n=UD;if(!t||!t[n(475)])return;if(!this._demuxer)return;let o,a;s&&(o=[s[0].index,s[s[n(475)]-1][n(447)]]),i&&(a=[i[0][n(447)],i[i[n(475)]-1][n(447)]]),(o||a)&&this[n(478)][n(453)](t,e,o,a,r)}async[UD(452)](t){var e=UD;const s=this[e(466)][e(455)];if(!this[e(499)]||!this[e(478)]||!s||!t||t<0)return;const i=s[e(457)]-t;if(i<=0)return void this[e(473)].debugLog(this[e(471)],e(442)+i+e(450));const r=OC(NC(s));if(r+1>=i)return void this.player[e(480)](this[e(471)],e(495)+r+e(477)+i+e(497));const n=this._demuxer;return(n[e(472)]||n[e(446)])&&(this[e(473)][e(480)](this[e(471)],e(469)+r+", "+i+")"),this[e(499)][e(444)](0,i)),!0}async[UD(494)](){var t=UD;this[t(499)]&&(this[t(443)]=!1),this[t(470)]=!1,this[t(479)]=!0}async[UD(451)](){this[UD(499)]}async[UD(460)](t){var e=UD;this[e(473)][e(480)](this.TAG_NAME,e(488),t),this[e(473)][e(468)]()&&(this[e(473)][e(463)][e(460)](t),this[e(473)][e(496)]()&&this.player[e(476)]&&this.player.mseDecoder[e(498)]&&this[e(473)][e(476)][e(484)](t))}seekSampleRange(t){var e=UD;this[e(478)][e(486)](t)}[UD(467)](t){this[UD(478)].cleanSampleListAndSetSeekTime(t)}[UD(445)](){var t;null===(t=this[UD(478)])||void 0===t||t.pause()}[UD(465)](){var t,e=UD;null===(t=this[e(478)])||void 0===t||t[e(491)]()}[UD(448)](){var t=UD;return this[t(478)][t(448)]()}[UD(459)](){var t,e=UD;return null===(t=this[e(478)])||void 0===t?void 0:t[e(459)]()}[UD(481)](){var t,e=UD;return null===(t=this[e(478)])||void 0===t?void 0:t[e(493)]()}[UD(458)](){var t,e=UD;return null===(t=this[e(478)])||void 0===t?void 0:t[e(456)]()}[UD(461)](){var t,e=UD;return null===(t=this._demuxer)||void 0===t?void 0:t[e(490)]()}}const VD=WD;function WD(t,e){const s=GD();return(WD=function(t,e){return s[t-=178]})(t,e)}function GD(){const t=["_reset","_loader _end()","rate","onSeeking","message","endTime","_bandwidthService","demuxerPause","listen playVodVideoSeekingByMse","getBufferedAudioSegments","429340YHcXYz","getDemuxAudioBufferedListLength","range","_bufferService","speedInfo","end","preloadTime","_emitOnLoaded","isSegmentLoading","getBufferedSegments","_tick","player","retryDelay","_end","getBufferedVideoSegments"," and segment ","media","isSeeking","_loadSegment() and _prevSegmentEndTime is ","34950960wMdDEU","loadSource","getAvgSpeed"," and error is","loadSegmentByTime","cleanSampleListAndSetSeekTime"," and end is ","retry","bound","listen playVodSeek onSeeking() ","debugLog"," more than ","endOfStream","getDemuxBuferredDuration","options","debugError","changeUrl","assign"," and segment is null so return","12kcWTck","getLatestSpeed","audio"," is loading so return","error","getBuferredDuration","_loader","7277200yInuuI","index","reset","length","url","onPause","isPlayVodUseMSE","_loading","_stopTick","Mp4","1SCbQii","playVodVideoSeekingByMse","byteLength","updateMSE","tickInterval","getRenderCurrentPts","onPlay()","getTotalBits","demuxerResume","11077182htteIB","2073449Jgtlka","onPlay","emit","resetBandwidth","$videoElement","frames","_loadSegment","onVideoSeeking","6126XWkXEy","loadSource() ","_tickTimer"," and current time is ","TAG_NAME","data","min","isPlayVod","addRecord","video","_config","appendBuffer","destroy","_prevSegmentEndTime","playVod","_setPrevSegmentEndTime","onSeeking() ","7465MmBkkZ","getDemuxVideoBufferedListLength","_startTick","readyState","504016ivQcGe"];return(GD=function(){return t})()}!function(t,e){const s=WD,i=t();for(;;)try{if(807850===-parseInt(s(278))/1*(-parseInt(s(212))/2)+-parseInt(s(261))/3*(-parseInt(s(223))/4)+-parseInt(s(208))/5*(parseInt(s(191))/6)+parseInt(s(183))/7+-parseInt(s(268))/8+-parseInt(s(182))/9+parseInt(s(242))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(GD);class zD extends h{constructor(t){const e=WD;let s=arguments[e(271)]>1&&void 0!==arguments[1]?arguments[1]:{};var i;super(),Lm(this,e(190),(async t=>{const s=e;this[s(234)][s(252)](this[s(195)],s(221),t),await this.onSeeking(t)})),Lm(this,e(216),(async t=>{const s=e;this[s(234)].debugLog(this[s(195)],s(251)+t);const i=this[s(267)],{video:r,audio:n}=i.getSegmentByTime(t),o=r||n;if(o)if(i[s(231)](o[s(269)]))this.player.debugLog(this[s(195)],"onSeeking() "+t+s(238)+o[s(269)]+s(264));else{if(this[s(239)]){const e=this.media,i=function(t){const e=FC;let s=arguments[e(208)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[e(208)]>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t[e(208)])return{start:0,end:0,buffers:[]};let r=0,n=0,o=0,a=0,h=0,l=0,c=0;const d=jC(t,i);for(let t=0,u=d[e(208)];t<u;t++){const e=d[t];if(s+i>=e[0]&&s<e[1])r=e[0],n=e[1],o=t;else{if(s+i<e[0]){a=e[0],h=e[1];break}s+i>e[1]&&(l=e[0],c=e[1])}}return{start:r,end:n,index:o,buffers:d,nextStart:a,nextEnd:h,prevStart:l,prevEnd:c,currentTime:s,behind:s-r,remaining:n?n-s:0,length:VC(d)}}(NC(e),t,.1);if(i[s(228)]&&(i.end>=o.endTime||i[s(228)]>=e.duration))return void this[s(234)][s(252)](this[s(195)],s(207)+t+s(248)+i[s(228)]+s(238)+o[s(269)]+s(264))}this[s(226)][s(247)](t),await i.cancel(),this[s(275)]=!1,this[s(206)](0),await this[s(189)](t),this[s(210)]()}else this.player[s(252)](this[s(195)],s(207)+t+s(260))})),Lm(this,e(233),(async()=>{const t=e;if(this[t(276)](),this._startTick(this._config[t(282)]),this[t(239)]){const e=this.media;if(function(t){const e=FC;return t&&t[e(208)]?1===t[e(208)]&&t.end(0)-t[e(201)](0)<1e-6?0:t[e(198)](t[e(208)]-1):0}(NC(e))<.1||!e[t(211)])return;Gi(e)&&this._loadSegment()}else this[t(189)]()})),this[e(195)]=e(277),this[e(234)]=t,this[e(204)]=0,this[e(193)]=null,this[e(275)]=!1,this[e(201)]=(i=s,Object[WD(259)]({tickInterval:500,preloadTime:10,bufferBehind:10,segmentDuration:void 0,url:"",retry:3,retryDelay:100},i)),this._bufferService=new jD(this,t),this[e(219)]=new M_,this[e(267)]=new PD(this,this[e(234)],{url:s[e(272)],retry:s[e(249)],retryDelay:s[e(235)]}),this[e(239)]=null,this[e(250)]={onVideoSeeking:this[e(190)].bind(this),onSeeking:this[e(216)].bind(this)},this.player[e(198)]()&&(this[e(234)].on(H.playVodPause,(t=>{const s=e;t?this[s(273)]():this[s(184)]()})),this[e(234)].isPlayVodUseMSE()?(this.media=this[e(234)][e(200)][e(187)],this[e(234)].on(H[e(279)],this[e(250)].onVideoSeeking)):this[e(234)].on(H.playVodSeek,this[e(250)][e(216)])),this.player[e(252)](this.TAG_NAME,"init")}async[VD(203)](){const t=VD;await this[t(213)](),await this[t(226)][t(203)](),await this[t(267)][t(203)](),this._bandwidthService[t(203)](),this[t(226)]=null,this[t(267)]=null,this[t(219)]=null,this[t(250)]=null,this[t(234)].debugLog(this[t(195)],t(203))}async _reset(){const t=VD;this._stopTick(),await this._loader.reset(),await this[t(226)].reset(),this[t(204)]=0,this[t(275)]=!1,this[t(219)].reset()}async[VD(243)](t){const e=VD;this[e(234)].debugLog(this[e(195)],e(192)+t),this[e(226)][e(281)](),t&&await this[e(267)][e(258)](t),this._startTick(this[e(201)][e(282)]),await this._loadSegment(0)}async[VD(189)](t){const e=VD;var s,i,r,n;if(this._loading)return;let o=this.player[e(178)]();o/=1e3;let a=this[e(234)][e(205)][e(215)];this[e(234)].playVod[e(240)](),this[e(234)][e(274)]()&&(o=this[e(234)].getVideoCurrentTime(),a=Math[e(197)](a,8));const h=this._config[e(229)]*a+o;if(this[e(204)]&&this[e(204)]>h)return void this.player.debugLog(this[e(195)],e(241)+this[e(204)]+e(194)+o+e(253)+h+" and return");let l;this[e(275)]=!0;try{l=null!=t?await this[e(267)][e(246)](t):await this[e(267)].loadNextSegment()}catch(s){this[e(234)][e(257)](this[e(195)],"_loadSegment() and time is "+t+e(245),s[e(217)]),this[e(185)](se.error,s[e(217)])}if(!l)return void(this[e(275)]=!1);this._emitOnLoaded(l);const c=Math.min((null===(s=l[e(200)])||void 0===s?void 0:s.endTime)||1/0,(null===(i=l[e(263)])||void 0===i?void 0:i[e(218)])||1/0);this._setPrevSegmentEndTime(c);try{var d,u;await this[e(226)][e(202)](l[e(196)],l[e(256)][e(225)][0],null===(d=l.video)||void 0===d?void 0:d[e(188)],null===(u=l[e(263)])||void 0===u?void 0:u[e(188)],this[e(267)].meta.moov),await this[e(226)].evictBuffer(this._config.bufferBehind)}catch(t){this[e(234)].debugError(this[e(195)],"_loadSegment() and error is",t[e(217)]),this[e(185)](se[e(265)],t[e(217)])}finally{this[e(275)]=!1}this._loader.isLastSegment((null===(r=l[e(200)])||void 0===r?void 0:r.index)||(null===(n=l[e(263)])||void 0===n?void 0:n.index)||0)?this._end():this[e(189)]()}[VD(236)](){const t=VD;this[t(234)][t(252)](this[t(195)],t(214)),this[t(226)][t(254)](),this._stopTick()}[VD(230)](t){const e=VD,{data:s,response:i,options:r}=t,{firstByteTime:n,startTime:o,endTime:a,contentLength:h}=r||{},l=a-o;this[e(219)][e(199)](h||s[e(280)],l)}[VD(186)](){const t=VD;this._bandwidthService[t(270)]()}[VD(206)](t){this[VD(204)]=t}_startTick(){let t=arguments[VD(271)]>0&&void 0!==arguments[0]?arguments[0]:0;this._stopTick(),this._tickTimer=setTimeout(this._tick,t)}[VD(276)](){const t=VD;this[t(193)]&&(clearTimeout(this._tickTimer),this[t(193)]=null)}[VD(273)](){const t=VD;this[t(234)][t(252)](this[t(195)],"onPause()"),this[t(226)][t(220)](),this[t(276)]()}async[VD(184)](){const t=VD;this[t(234)][t(252)](this.TAG_NAME,t(179)),this[t(226)][t(181)](),await this[t(189)](),this[t(210)]()}[VD(227)](){const t=VD;return{speed:this[t(219)][t(262)](),avgSpeed:this._bandwidthService[t(244)](),totalBits:this._bandwidthService[t(180)]()}}[VD(255)](){const t=VD;return this[t(226)][t(266)]()||0}getDemuxBufferedListLength(){const t=VD;return this[t(226)][t(232)]()||0}[VD(224)](){const t=VD;return this[t(226)][t(222)]()||0}[VD(209)](){const t=VD;return this[t(226)][t(237)]()||0}}const HD=qD;function KD(){const t=["_checkVideoCanPlay","error","478608cAhTpu","2621760bGGxHN","bandwidthEstimateInterval","bandwidthLastTime","mdat","ulaw","h264","start","getDemuxAudioBufferedListLength","mp4","videoCodec","hdlr","load"," and isSupportHevc is ","autoplay","handlerType","_opt","G711U","loadSource and canVideoPlay and use video src to play","415USNImx","totalBits","player","src","getDemuxVideoBufferedListLength","arraybuffer","emitError","stsd","402728uopVig","codec","audioCodec","playVodMp4UseSrc","MP3","_checkVideoCanPlay and videoCodec is ","canVideoPlay","url","loadSource","size","1350587ltPsGP","AAC","initVideoPlay","$videoElement","playVodMp4Error","sampleRate","TAG_NAME","kBps","_loader","audioTrack","412vmtfUm","isUseVideoPlay","entries",", isG711 is ","223437ueOHtF","debugLog","getDemuxBufferedListLength","_bindEvents","indexOf","G711A","play","alaw","stbl","minf","destroy","hvc","mdia","init","eventsDestroy","findBox","length","trak"," and not support","playVodPause",", audioCodec is ","moov","932700dnbpSo","toFixed","data","_stopBandwidthEstimateInterval","channelCount","find","emit","videoTrack","_startBandwidthEstimateInterval"];return(KD=function(){return t})()}function qD(t,e){const s=KD();return(qD=function(t,e){return s[t-=319]})(t,e)}!function(t,e){const s=qD,i=t();for(;;)try{if(125341===-parseInt(s(319))/1+parseInt(s(379))/2+parseInt(s(352))/3+-parseInt(s(399))/4*(-parseInt(s(371))/5)+-parseInt(s(341))/6+-parseInt(s(389))/7+parseInt(s(353))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(KD);class QD extends h{constructor(t){const e=qD;super(),this[e(373)]=t,this[e(395)]="Mp4Decoder",this[e(385)]=!1,this[e(392)]=this[e(373)].video[e(392)],this[e(361)]=null,this[e(333)]=[],this[e(354)]=null,this[e(355)]=0,this[e(362)]="",this[e(381)]="",this[e(398)]={sampleRate:0,channelCount:0,codec:"",codecType:""},this.videoTrack={codec:""},this[e(397)]=null,this[e(373)][e(368)][e(382)]?this[e(385)]=!0:(this[e(361)]=new zD(t),this[e(322)]()),this.player[e(320)](this[e(395)],e(332))}async[HD(329)](){const t=HD;return this._stopBandwidthEstimateInterval(),this._loader&&(this._loader.destroy(),this[t(397)]=null),this[t(361)]&&(await this[t(361)][t(329)](),this[t(361)]=null),this.eventsDestroy.length&&(this[t(333)].forEach((t=>t())),this[t(333)]=[]),this.audioCodec=null,this.videoCodec=null,this[t(348)]=null,this[t(398)]=null,this[t(392)]=null,this[t(373)][t(320)](this[t(395)],"destroy"),!0}async[HD(391)](t){const e=HD;return await this[e(350)](t)?(this.$videoElement[e(366)]=!0,this.$videoElement[e(374)]=t,this[e(373)].on(H[e(338)],(t=>{const s=e;t?this[s(392)].pause():this[s(392)][s(325)]()}))):this[e(373)][e(377)](Q.playVodMp4UseSrcError),!0}async[HD(350)](t){const e=HD,s=Ps()||xs();vs(),!this._loader&&(this[e(397)]=new jk({responseType:e(376)},this[e(373)]));let i=await this._loader[e(364)](t,{range:[0,8e4]});if(!i)return!1;let r=IC[e(334)](i[e(343)],[e(340)])[0];if(!r){const s=IC[e(334)](i[e(343)],[e(356)])[0];if(!s)return!1;const n=s[e(359)]+s[e(388)];if(i=await this[e(397)][e(364)](t,{range:[n]}),!i)return!1;if(r=IC[e(334)](i.data,["moov"],n)[0],!r)return!1}if(r.size>r[e(343)][e(335)]){if(i=await this[e(397)][e(364)](t,{range:[i[e(343)][e(335)],r[e(359)]+r[e(388)]-1]}),!i)return!1;r.data=Hi(r.data,i[e(343)])}const n=IC[e(340)](r);if(!n)return!1;const o=SD(n),a=o[e(381)],h=o[e(362)];this.player.debugLog(this[e(395)],e(384)+h+e(339)+a);let l=!1;this[e(362)]=Z[e(358)],h&&(-1!==h[e(323)]("hev")||-1!==h[e(323)](e(330)))&&(l=!0,this[e(362)]=Z.h265);let c=!1;if(a){const t=n[e(336)][e(346)]((t=>{const s=e;var i,r;return"soun"===(null===(i=t.mdia)||void 0===i||null===(r=i[s(363)])||void 0===r?void 0:r[s(367)])}));if(-1!==a[e(323)]("mp3")){if(this[e(381)]=et[e(383)],this.audioTrack[e(380)]=et[e(383)],t){const s=t[e(331)][e(328)].stbl.stsd[e(401)][0];this[e(398)][e(394)]=s.sampleRate,this[e(398)].channelCount=s[e(345)]}}else if(-1!==a[e(323)]("mp4a")){if(this[e(381)]=et[e(390)],this.audioTrack[e(380)]=et[e(390)],t){const s=t[e(331)].minf[e(327)][e(378)][e(401)][0];this[e(398)][e(394)]=s.sampleRate,this[e(398)][e(345)]=s[e(345)]}}else-1!==a[e(323)](e(357))?(c=!0,this[e(381)]=et[e(369)],this[e(398)][e(380)]=et[e(369)],this.audioTrack[e(394)]=8e3,this[e(398)].channelCount=1):-1!==a[e(323)](e(326))&&(c=!0,this[e(381)]=et[e(324)],this[e(398)][e(380)]=et[e(324)],this.audioTrack.sampleRate=8e3,this.audioTrack.channelCount=1)}return!(l&&Ri(s)||c)||(this[e(373)][e(320)](this[e(395)]," _checkVideoCanPlay and isHevc is "+l+e(365)+s+e(402)+c+e(337)),!1)}[HD(322)](){const t=HD;this.mp4.on(se[t(351)],(e=>{const s=t;this[s(373)][s(377)](Q[s(393)],e)}))}[HD(349)](){const t=HD;this[t(344)](),this[t(355)]=as(),this[t(354)]=setInterval((()=>{const e=t;if(!this[e(361)])return;const s=this[e(361)].speedInfo()[e(372)],i=as(),r=s/(i-this[e(355)])*1e3;this[e(373)][e(347)](H[e(396)],(r/1e3)[e(342)](2)),this[e(361)].resetBandwidth(),this[e(355)]=i}),1e3)}[HD(344)](){const t=HD;this[t(354)]&&(clearInterval(this[t(354)]),this[t(354)]=null),this[t(355)]=0}async[HD(387)](t){const e=HD;return this[e(386)]=t,this.canVideoPlay?(this[e(373)][e(320)](this.TAG_NAME,e(370),t),await this.initVideoPlay(t)):(this.player[e(320)](this[e(395)],"loadSource() "+t),await this[e(361)][e(387)](t),this[e(349)]()),!0}[HD(321)](){const t=HD;let e=0;return this[t(361)]&&(e=this[t(361)][t(321)]()),e}[HD(360)](){const t=HD;let e=0;return this.mp4&&(e=this[t(361)][t(360)]()),e}[HD(375)](){const t=HD;let e=0;return this[t(361)]&&(e=this[t(361)][t(375)]()),e}getDemuxBufferedListLength(){const t=HD;let e=0;return this[t(361)]&&(e=this[t(361)][t(321)]()),e}[HD(400)](){return this[HD(385)]}}const YD=XD;function JD(){const t=["isCacheBeforeDecodeForFpsRender","_isPlaybackPauseClearCache","1908685zoLkMp","more","calcForwardMaxRateDecodeIFrame","fiveMin","is5Min","_audioTimestamp","jb-pro-container-playback","showControl","check stats and is playback use (wasm or wcs) and playbackCacheDataDuration is ","mseDecoder","videoCurrentTime","setPlayingTimestamp","stopLocalCalculateTime","isPlaybackUseMSE","hour","halfHour","normal","constructor()","useWasm","_stopLocalCalculateTime","showPrecision","currentTimeScroll","playbackPrecision","remove","startTime","fps","is1Min","min","2877QVIiIe","stats","endTimestamp","updateStats and videoCurrentTimeDiff is 0 and\n            videoCurrentTime is ","_isEndedInner","simple","_reset","updateStats","playbackList"," and\n        calcForwardMaxRateDecodeIFrame is ","12HWNcgz","decoderWorker","isFFmpegSIMD","isUseLocalCalculateTime","_rate"," and check is ended","indexOf","hasRecord","emit","isControlTypeNormal","is10Min"," and\n        useSIMD is ","playbackForwardMaxRateDecodeIFrame","calcPlaybackForwardMaxRateDecodeIFrame","start","endTime","audio","TAG_NAME","setShowPrecision","isPlaybackStreamEnd","videoInfo","init _playStartTime ts is ","bufferSize","_videoTimestamp","_prevPlayingTimestamp","_playbackTs","_startLocalCalculateTime","controlType","2994614BcFDfr","streamBuffer","_startfpsTime","isEnded","_renderFps","setPlayingTimestamp()","playbackRateChange","timestamp","clearStatsInterval","playbackSeek","includes"," and\n        useMThreading is ","_totalDuration"," and\n        isFFmpegSIMD is ","isUseFpsRender","forEach","7693749AhCJvL","_isCacheBeforeDecodeForFpsRender","end","_isUseFpsRender"," * ","1561524WCYrWj","second","playbackTime","playbackCacheDataDuration","resume","uiUsePlaybackPause","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","_showPrecision","bound","debugLog","duration","height","startCheckStatsInterval","_isUseLocalCalculateTime","seek","playbackPause","useWCS","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","_playStartTime","_localOneFrameTimestamp","type","_findMoreInfoByTimestamp","_isTimeInPlaybackList","narrowPrecision","bind","_playbackListStartTimestamp","116mxRXHP","oneHour","emitPlaybackPrecisionForNormal","_startFpsTimestamp","pause","calcPlaybackForwardMaxRateDecodeIFrame is true and next calc","classList","seek()","true","isPlaybackH24","playingTimestamp","_listen","debugWarn","expandPrecision","videoCurrentTimeDiff","check stats and is playback use mse and check is ended","_currentLocalTimestamp","totalDuration","is60Min","init","length","setHours","startTimestamp","type is not in PLAYBACK_CONTROL_TIME_PRECISION_ARRAY","20XQRBDv","playbackFps","_playingTimestamp","_fps","stringify","useSIMD","encType","playbackTimeScroll","$container","4711993TPRkka","once","currentPts","playbackEndInner","playbackTimestamp","video","_localCalculateTimeInterval","rate","301416ABEuat","_startTime","Playback","updateForwardMaxRateDecodeIFrame","isPlaying","isPlaybackPauseClearCache","_checkStatsInterval","player","getControlType"," and\n        video info is ","setStartTime","off"," > this.totalDuration ","_opt","8TkEMVw","isCurrentTimeInBufferEnd","setRate"];return(JD=function(){return t})()}function XD(t,e){const s=JD();return(XD=function(t,e){return s[t-=393]})(t,e)}!function(t,e){const s=XD,i=t();for(;;)try{if(478394===-parseInt(s(474))/1+-parseInt(s(433))/2*(-parseInt(s(521))/3)+parseInt(s(407))/4+parseInt(s(493))/5*(parseInt(s(531))/6)+-parseInt(s(559))/7*(parseInt(s(488))/8)+parseInt(s(402))/9+-parseInt(s(457))/10*(parseInt(s(466))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(JD);class $D extends h{constructor(t,e){const s=XD;if(super(),this.player=t,this[s(548)]=s(476),this[s(481)][s(465)][s(439)].add(s(499)),this[s(527)](),this[s(460)]=parseInt(e[s(518)],10)||t[s(487)][s(458)],this[s(405)]=!!Di(e[s(400)]),this[s(558)]=e.controlType||S[s(509)],e[s(558)]&&-1===[S[s(509)],S[s(526)]].indexOf(e.controlType)&&(this[s(481)][s(445)](this.TAG_NAME,s(510),"controlType is not in [normal,simple]",e[s(558)]),this.controlType=S[s(509)]),this[s(426)]=e.localOneFrameTimestamp||40,this._localCalculateTimeInterval=null,this._isUseLocalCalculateTime=!!Di(e[s(534)]),this[s(492)]=!Ri(e[s(479)]),this[s(403)]=!!Di(e[s(491)]),this[s(480)]=null,this[s(525)]=!1,this[s(415)]={updateStats:this[s(528)][s(431)](this),calcPlaybackForwardMaxRateDecodeIFrame:this.calcPlaybackForwardMaxRateDecodeIFrame[s(431)](this)},this[s(420)]?this[s(557)]():this[s(444)](),this._totalDuration=0,this.controlType===S[s(509)])this.initPlaybackList(e.playList,e[s(513)],e[s(517)]);else if(this[s(558)]===S[s(526)]){e[s(417)]&&(this[s(398)]=1e3*e.duration);let t=e[s(517)]||0;t>this.totalDuration&&(t=this.totalDuration),this[s(484)](t)}this.player.on(H[s(422)],(t=>{const e=s;t?this[e(437)]():this[e(411)]()}));const i={fps:this._fps,isUseFpsRender:this._isUseFpsRender,localOneFrameTimestamp:this[s(426)],isUseLocalCalculateTime:this[s(420)],uiUsePlaybackPause:e[s(412)],showControl:e[s(500)]};this.calcForwardMaxRateDecodeIFrame=this[s(481)]._opt[s(543)],this.player[s(487)].calcPlaybackForwardMaxRateDecodeIFrame&&(this[s(481)].debugLog(this[s(548)],s(452),s(438)),this[s(481)][s(467)](H[s(551)],this.bound[s(544)]));try{t[s(416)](this[s(548)],s(452),JSON[s(461)](i))}catch(e){t[s(416)](this[s(548)],s(452),i)}}destroy(){const t=XD;this._stopLocalCalculateTime(),this[t(394)](),this._reset(),this[t(481)][t(465)]&&this[t(481)][t(465)][t(439)][t(516)](t(499)),this[t(485)](),this[t(525)]=!1,this.bound=null,this[t(481)][t(416)](this[t(548)],"destroy")}[YD(527)](){const t=YD;this[t(475)]=null,this[t(414)]=null,this[t(425)]=null,this[t(459)]=null,this._prevPlayingTimestamp=null,this._totalDuration=0,this[t(498)]=0,this[t(554)]=0,this[t(460)]=null,this._calcFps=null,this._isUseFpsRender=!1,this[t(535)]=1,this[t(529)]=[],this[t(432)]=null,this[t(495)]=null,this[t(449)]=0,this[t(561)]=null,this[t(436)]=null,this._renderFps=0,this[t(556)]=0,this._totalDuration=0}[YD(444)](){const t=YD;this[t(481)].on(H[t(468)],(e=>{const s=t,i=e;null===this[s(425)]&&(this.player[s(416)](this[s(548)],s(552)+i),this[s(425)]=i);let r=i-this[s(425)];this[s(504)](r)})),this[t(481)].on(H[t(522)],(e=>{const s=t;if(!this.player.playbackPause&&(this[s(481)][s(506)]()&&this[s(481)][s(478)]()&&0===e[s(447)]&&(this[s(481)][s(445)](this[s(548)],s(524)+e[s(503)]+"\n            and next update video currentTime"),this[s(481)][s(502)].updateVideoCurrentTimeByBufferStart()),this[s(481)][s(550)]()&&this[s(481)][s(478)]()))if(this[s(481)][s(506)]()){const t=0===e.videoCurrentTimeDiff;this[s(481)][s(502)][s(489)]()&&t&&(this.player.debugLog(this[s(548)],s(448)),this[s(525)]=!0,this[s(481)][s(539)](H[s(469)]))}else{const t=e[s(410)],i=e[s(560)];0===t&&i<500&&(this[s(481)][s(416)](this[s(548)],s(501)+t+" , playbackStreamBufferByteLength is "+i+s(536)),this[s(525)]=!0,this[s(481)][s(539)](H[s(469)]))}}))}[YD(437)](){this[YD(394)]()}[YD(411)](){this[YD(419)]()}updateStats(){const t=YD;let e=arguments[t(453)]>0&&void 0!==arguments[0]?arguments[0]:{};!this._startFpsTimestamp&&(this._startFpsTimestamp=is()),js(e.ts)&&(this.player[t(528)]({fps:!0,ts:e.ts}),this[t(556)]=e.ts,!this[t(561)]&&(this._startfpsTime=e.ts),this[t(563)]+=1);const s=is(),i=s-this._startFpsTimestamp;if(i<1e3)return;let r=null;this[t(561)]&&(r=this[t(556)]-this[t(561)]),this[t(481)][t(539)](H.playbackStats,{fps:this[t(563)],rate:this[t(473)],start:this[t(561)],end:this[t(556)],timestamp:i,dataTimestamp:r,audioBufferSize:this[t(481)].audio?this.player[t(547)].bufferSize:0,videoBufferSize:this[t(481)][t(471)]?this[t(481)][t(471)][t(553)]:0,ts:this[t(556)]}),this._renderFps=0,this._startfpsTime=this[t(556)],this[t(436)]=s}updateLocalOneFrameTimestamp(t){this[YD(426)]=t}_startLocalCalculateTime(){const t=YD;this[t(481)][t(416)](this[t(548)],"_startLocalCalculateTime()"),this[t(512)](),this[t(472)]=setInterval((()=>{const e=t,s=this[e(449)];null===this._playStartTime&&(this._playStartTime=s);let i=s-this[e(425)];this[e(504)](i)}),1e3)}startCheckStatsInterval(){const t=YD;this[t(394)](),this[t(480)]=setInterval(this[t(415)][t(528)],1e3)}[YD(505)](){this[YD(512)]()}[YD(512)](){const t=YD;this[t(472)]&&(clearInterval(this[t(472)]),this[t(472)]=null)}[YD(394)](){const t=YD;this[t(480)]&&(clearInterval(this._checkStatsInterval),this[t(480)]=null)}increaseLocalTimestamp(){const t=YD;this[t(420)]&&(this[t(449)]+=this._localOneFrameTimestamp)}initPlaybackList(t,e,s){const i=YD;this.playbackList=t||[];let r=0;if(this[i(529)].forEach(((t,e)=>{const s=i;10===$s(t[s(545)])?(t[s(455)]=1e3*t.start,t[s(517)]=Ss(t.startTimestamp)):(t[s(455)]=t[s(545)],t.startTime=Ss(t.startTimestamp)),10===$s(t[s(404)])?(t[s(523)]=1e3*t[s(404)],t[s(546)]=Ss(t[s(523)])):(t[s(523)]=t[s(404)],t.endTime=Ss(t.endTimestamp)),t[s(417)]=t[s(404)]-t[s(545)],r+=t[s(417)]})),this[i(398)]=r,this[i(481)][i(416)](this.TAG_NAME,this.playbackList),this.playbackList[i(453)]>0){const t=this.playbackList[0].startTimestamp;this._playbackListStartTimestamp=t;let e=t;s&&(10===$s(s)&&(s*=1e3),this._isTimeInPlaybackList(s)&&(e=s)),this[i(484)](e)}const n=e||ut[i(434)];this[i(549)](n)}get[YD(450)](){return(this._totalDuration||0)/1e3}get[YD(517)](){return this[YD(475)]||0}[YD(484)](t){const e=YD;this[e(481)][e(416)](this[e(548)],"setStartTime()",t),this[e(475)]=t,this[e(459)]=t,this[e(555)]=null,this[e(425)]=null}[YD(490)](t){const e=YD;this[e(535)]=t,this[e(481)][e(539)](H[e(565)],t)}get[YD(518)](){return this._calcFps||this._fps}get[YD(473)](){return this[YD(535)]}get[YD(400)](){return this[YD(405)]}get isUseLocalCalculateTime(){return this[YD(420)]}get[YD(513)](){return this[YD(414)]}get[YD(451)](){const t=YD;return this[t(513)]===ut[t(434)]}get is30Min(){const t=YD;return this.showPrecision===ut[t(508)]}get[YD(541)](){return this[YD(513)]===ut.tenMin}get[YD(497)](){return this[YD(513)]===ut.fiveMin}get[YD(519)](){const t=YD;return this[t(513)]===ut[t(496)]}get[YD(479)](){return this[YD(492)]}get[YD(491)](){return this[YD(403)]}[YD(549)](t){const e=YD;!ft[e(396)](t)&&(this.player[e(445)](this[e(548)],"setShowPrecision()",e(456),t),t=ut[e(434)]),this[e(414)]&&this[e(414)]===t||(this[e(414)]=t,this.emitPlaybackPrecisionForNormal())}[YD(435)](){const t=YD;this[t(442)]()&&(this[t(481)][t(539)](H[t(515)],this[t(414)],this[t(529)]),this.player[t(539)](H.playbackShowPrecisionChange,this[t(414)]))}setPlayingTimestamp(t){const e=YD;let s;if(this[e(558)]===S[e(509)]){if(s=this[e(517)]+t,this[e(459)]=s,null!==this[e(555)]&&this[e(459)]-this[e(555)]<1e3)return;if(null===this[e(555)]||null!==this[e(555)]&&this[e(459)]>this[e(555)]){this[e(481)][e(539)](H[e(409)],s);const t=function(t){const e=$e;return 0===arguments.length?null:(typeof t===e(532)?s=t:(10===(""+t)[e(550)]&&(t=1e3*parseInt(t)),t=+t,s=new Date(t)),{year:s[e(343)](),month:s.getMonth()+1,data:s[e(314)](),hour:s.getHours(),min:s[e(279)](),second:s[e(303)](),ms:s.getMilliseconds(),day:s[e(304)]()});var s}(s);this[e(481)][e(539)](H.playbackTimestamp,{ts:s,hour:t[e(507)],min:t[e(520)],second:t.second}),this[e(555)]=this[e(459)]}}else this.controlType===S[e(526)]&&(s=this[e(517)]+Math.round(t/1e3),s>this[e(450)]&&this[e(450)]>0&&(this.player[e(416)](this[e(548)],e(564),"timestamp "+s+e(486)+this.totalDuration),s=this[e(450)]),this[e(459)]=s,(null===this._prevPlayingTimestamp||null!==this[e(555)]&&this[e(459)]>this[e(555)])&&(this.player[e(539)](H[e(409)],s),this[e(481)][e(539)](H[e(470)],{ts:s}),this._prevPlayingTimestamp=this[e(459)]))}get[YD(443)](){return this[YD(459)]}[YD(430)](){const t=YD,e=ft.indexOf(this[t(513)])-1;if(e>=0){const s=ft[e];this[t(549)](s)}}[YD(446)](){const t=YD,e=ft[t(537)](this[t(513)])+1;if(e<=ft[t(453)]-1){const s=ft[e];this[t(549)](s)}}[YD(421)](t){const e=YD;if(this[e(481)].debugLog(this[e(548)],e(440),t),this[e(558)]===S.normal){if(t[e(538)]===e(441)){let s=t.time;t[e(427)]===e(520)&&(s=60*t.time);let i=function(t){const e=$e;let s={};t>-1&&(s={hour:Math[e(417)](t/60/60)%60,min:Math[e(417)](t/60)%60,second:t%60});return s}(s);if(this[e(432)]){const t=new Date(this[e(432)])[e(454)](i[e(507)],i[e(520)],i[e(408)],0);i[e(393)]=t;const s=this[e(428)](t);i&&s[e(494)]&&(i.more=s[e(494)])}this[e(481)][e(539)](H[e(395)],i)}}else if(this[e(558)]===S.simple){let s=t.time;this.player[e(539)](H[e(395)],{ts:s})}}[YD(514)](){const t=YD;this.player[t(539)](H[t(464)])}[YD(428)](t){const e=YD;let s=null;return this.playbackList[e(401)](((i,r)=>{const n=e;i.startTimestamp<=t&&i[n(523)]>=t&&(s=i)})),s}[YD(429)](t){const e=YD;let s=!1;return this[e(529)][e(401)](((i,r)=>{i[e(455)]<=t&&i.endTimestamp>=t&&(s=!0)})),s}[YD(544)](t){const e=YD,s=this[e(481)][e(487)];let i=zi(t,{useWCS:s.useWCS,useWasm:s[e(511)],useSIMD:s[e(462)],isFFmpegSIMD:s.isFFmpegSIMD,useMThreading:s.useMThreading});this[e(481)][e(416)](this[e(548)],"calcPlaybackForwardMaxRateDecodeIFrame() and\n        useWCS is "+this[e(481)]._opt[e(423)]+" and\n        useWasm is "+this.player[e(487)][e(511)]+e(542)+this.player[e(487)][e(462)]+e(399)+this[e(481)]._opt[e(533)]+e(397)+this.player._opt.useMThreading+e(483)+t.width+e(406)+t[e(418)]+" and\n        video encode code is "+t[e(463)]+e(530)+i),this[e(495)]=i,this[e(481)][e(532)]&&this.player[e(532)][e(477)](i)}[YD(482)](){return this[YD(558)]}[YD(562)](){return Di(this._isEndedInner)}[YD(540)](){const t=YD;return this[t(558)]===S[t(509)]}isControlTypeSimple(){const t=YD;return this.controlType===S[t(526)]}isPlaybackPauseNotClearCacheAndCacheBeforeDecode(){const t=YD;return Ri(this[t(479)])&&this[t(491)]}[YD(424)](){return this[YD(413)]()&&this.isUseFpsRender}isRateMoreThanMaxRateDecodeIFrame(){const t=YD;return this[t(481)]._opt[t(544)]?this[t(473)]>this.calcForwardMaxRateDecodeIFrame:this[t(473)]>=this.player[t(487)][t(543)]}[YD(442)](){const t=YD;return this[t(558)]===S[t(509)]}isPlaybackSimple(){const t=YD;return this[t(558)]===S[t(526)]}}const ZD=tR;function tR(t,e){const s=eR();return(tR=function(t,e){return s[t-=147]})(t,e)}function eR(){const t=["left","handleGestureEnd","auto","prevGestureTouches","zoomMaxScale","zoomSupportGestureInMobileSpeed","handleMouseMove","handleMouseDown","boundHandleWheelChangeThrottle","handleGestureStart","_bindEvents","prevGestureScale","4939452RKEQGq","initVideoPosition","grabbing","$container","isZooming","scale(","updateVideoPosition","handleGestureChangeForAndroid","offsetWidth","44AEjeJU","push","maxTop","getMinAndMaxRange","bind","$videoElement","8hukcED","updatePrevVideoElementStyleScale","updateVideoElementScale","pageX","transform","indexOf","_unbindEvents","narrowPrecision","down"," scale(","1046iEXfgu","882941ipVxQc","handleMouseDown is dragging true","_resetVideoPosition","handleGestureChange","checkPosition","minTop","isDragging","canvas","pageY","top","handleWheelChangeThrottle","bound","1600580lkrQfm","resize","remove","handleGestureChangeThrottle","3191565idPAbL","gesturechange","isMobileFullscreenChangeRotate","zoom","handleGestureStartForAndroid","forEach","replace","zoomCheckBorderRange","touchmove","expandPrecision","touches","_isZooming","updateCurrentZoom","handleWheelChange","handleGestureEndForAndroid","581634bFCyLt","classList","4053606oRkxyk","prevVideoElementStyleTransform","wheel","2949TEYueW","_opt","offsetLeft","tempPosition","jb-pro-zoom-control","length","style","7QcUren","updateInitVideoPosition","zoomSupportWheelInPcSpeed","matches","cursor","TAG_NAME","move","fullscreen","off","destroy","4cApfCp","deltaY","horizontal","gestureend","touchstart","vertical","updateVideoElementScaleByResize","prevVideoElementStyleScale","handleMouseUp","touchend","videoPosition","zooming","getScale","bindEvents","offsetTop","stopPropagation","video","preventDefault","_handleZooming","debugLog","offsetHeight","isGesturing","player","boundHandleGestureChangeThrottle","currentZoom","_getVideoPostion"];return(eR=function(){return t})()}!function(t,e){const s=tR,i=t();for(;;)try{if(447111===parseInt(s(180))/1+parseInt(s(179))/2*(parseInt(s(216))/3)+parseInt(s(233))/4*(-parseInt(s(196))/5)+parseInt(s(213))/6*(parseInt(s(223))/7)+parseInt(s(169))/8*(parseInt(s(211))/9)+-parseInt(s(192))/10*(parseInt(s(163))/11)+-parseInt(s(154))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(eR);class sR extends h{constructor(t){const e=tR;super(),this[e(255)]=t,this[e(228)]="zoom",this.bindEvents=[],this[e(186)]=!1,this[e(254)]=!1,this[e(257)]=1,this[e(214)]=null,this[e(240)]=null,this.prevGestureScale=null,this[e(262)]=[],this[e(207)]=!1,this[e(155)]={left:0,top:0},this[e(219)]={x:0,y:0},this[e(243)]={left:0,top:0},this.bound={_handleZooming:this[e(251)].bind(this),handleMouseMove:this[e(148)].bind(this),handleMouseDown:this.handleMouseDown.bind(this),handleMouseUp:this[e(241)][e(167)](this),handleWheelChange:this[e(209)][e(167)](this),handleGestureChangeForAndroid:this[e(161)][e(167)](this),handleGestureStartForAndroid:this[e(200)][e(167)](this),handleGestureEndForAndroid:this[e(210)].bind(this),handleGestureStart:this[e(151)][e(167)](this),handleGestureChange:this[e(183)][e(167)](this),handleGestureEnd:this[e(260)].bind(this)},this.player.on(H[e(244)],this.bound[e(251)]),t.debugLog("zoom","init")}[ZD(232)](){const t=ZD;this[t(158)]()&&this[t(255)][t(157)][t(212)][t(194)](t(220)),this[t(175)](),this[t(214)]=null,this[t(240)]=null,this[t(182)](),this[t(195)]=null,this[t(190)]=null,this.boundHandleGestureChangeThrottle=null,this[t(150)]=null,this[t(191)]=null,this[t(207)]=!1,this[t(231)](),this.player[t(252)]("zoom",t(232))}[ZD(251)](t){const e=ZD;if(t){this[e(255)][e(157)][e(212)].add("jb-pro-zoom-control"),this[e(152)]();const t=this[e(258)]();t[e(259)]&&(this.videoPosition.left=t[e(259)]),t[e(189)]&&(this.videoPosition[e(189)]=t[e(189)]),this[e(224)](),this[e(170)](),this[e(207)]=!0}else this[e(255)][e(157)].classList[e(194)](e(220)),this[e(175)](),this[e(182)](),this.player[e(157)].style[e(227)]=e(261),this[e(214)]=null,this.prevVideoElementStyleScale=null,this[e(207)]=!1,this[e(255)][e(193)]()}[ZD(152)](){const t=ZD,{events:{proxy:e}}=this.player,s=Wi(),i=e(this[t(255)][t(157)],s[t(229)],this[t(191)][t(148)]),r=e(this[t(255)][t(157)],s[t(177)],this[t(191)][t(149)]),n=e(window,s.up,this[t(191)].handleMouseUp);if(this[t(246)][t(164)](i,r,n),this[t(255)][t(217)].zoomSupportWheelInPc&&ms()){this[t(190)]=ks(this[t(191)][t(209)],100),this[t(150)]=this[t(190)][t(167)](this);const i=e(this.player.$container,s[t(215)],this[t(150)]);this.bindEvents[t(164)](i)}if(fs()&&this[t(255)][t(217)].zoomSupportGestureInMobile)if(gs()){this[t(195)]=ks(this[t(191)].handleGestureChangeForAndroid,100),this[t(256)]=this[t(195)][t(167)](this);const s=e(this[t(255)][t(157)],t(237),this[t(191)][t(200)]),i=e(this.player[t(157)],t(204),this[t(256)]),r=e(this[t(255)][t(157)],t(242),this[t(191)][t(210)]);this[t(246)][t(164)](s,i,r)}else{this[t(195)]=ks(this[t(191)][t(183)],100),this.boundHandleGestureChangeThrottle=this[t(195)][t(167)](this);const s=e(this.player.$container,"gesturestart",this.bound[t(151)]),i=e(this[t(255)].$container,t(197),this.boundHandleGestureChangeThrottle),r=e(this[t(255)][t(157)],t(236),this.bound[t(260)]);this.bindEvents.push(s,i,r)}}[ZD(175)](){const t=ZD;this[t(246)][t(221)]>0&&(this.bindEvents[t(201)]((t=>{t&&t()})),this[t(246)]=[])}[ZD(148)](t){const e=ZD;if(t.stopPropagation(),this.isDragging&&this[e(255)][e(244)]){t[e(250)]();const{posX:s,posY:i}=di(t),r=this[e(219)].x-s,n=this.tempPosition.y-i;this[e(243)][e(259)]=this[e(243)][e(259)]-r,this[e(243)][e(189)]=this[e(243)][e(189)]-n,this[e(219)].x=s,this.tempPosition.y=i,this[e(160)]()}}[ZD(149)](t){const e=ZD;t[e(248)]();const s=oi(t);if(this[e(255)][e(244)]&&(s[e(226)](e(249))||s[e(226)](e(187)))){t[e(250)]();const{posX:s,posY:i}=di(t);this[e(255)][e(157)][e(222)].cursor=e(156),this[e(219)].x=s,this[e(219)].y=i,this[e(186)]=!0,this[e(255)].debugLog(e(199),e(181))}}[ZD(241)](t){const e=ZD;t[e(248)](),this[e(186)]&&this[e(255)][e(244)]&&(t[e(250)](),this[e(219)]={x:0,y:0},this[e(186)]=!1,this[e(255)][e(157)].style[e(227)]="grab",this[e(255)][e(252)](e(199),"handleMouseUp is dragging false"))}[ZD(209)](t){const e=ZD;if(t[e(248)](),!this[e(255)][e(244)])return;t[e(250)]();let s=this[e(255)][e(217)][e(225)];t[e(234)]<0?this.expandPrecision(s):t[e(234)]>0&&this[e(176)](s)}[ZD(151)](t){const e=ZD;t[e(248)](),this[e(255)][e(244)]&&(null===this[e(153)]&&(this.prevGestureScale=t.scale),this[e(254)]=!0)}[ZD(200)](t){const e=ZD;t.stopPropagation(),this[e(255)][e(244)]&&t[e(206)][e(221)]>=2&&(this.isGesturing=!0,this[e(262)]=t[e(206)])}[ZD(161)](t){const e=ZD;if(t[e(248)](),t[e(250)](),this.player[e(244)]&&this[e(254)]&&t[e(206)][e(221)]>=2){const r=t[e(206)],n=s(r[0],r[1])/s(this[e(262)][0],this[e(262)][1]);i(r[0],r[1]),i(this[e(262)][0],this.prevGestureTouches[1]),null===this[e(153)]&&(this[e(153)]=n);const o=n-this[e(153)],a=this[e(255)][e(217)][e(147)];o>0?this[e(205)](a):o<0&&this[e(176)](a)}function s(t,s){const i=e;var r=s[i(172)]-t[i(172)],n=s[i(188)]-t[i(188)];return Math.sqrt(r*r+n*n)}function i(t,s){const i=e;var r=t[i(172)]-s[i(172)],n=t.pageY-s[i(188)];return 180*Math.atan2(n,r)/Math.PI}}[ZD(210)](t){const e=ZD;t[e(248)](),this[e(255)][e(244)]&&(this.prevGestureScale=null,this[e(254)]=!1,this[e(262)]=[])}handleGestureChange(t){const e=ZD;if(t[e(248)](),this.player[e(244)]&&this[e(254)]&&null!==this[e(153)]){const s=t.scale,i=s-this.prevGestureScale,r=this.player[e(217)][e(147)];i>0?this[e(205)](r):i<0&&this[e(176)](r),this[e(153)]=s}}[ZD(260)](t){const e=ZD;t[e(248)](),this[e(255)][e(244)]&&(this.prevGestureScale=null,this[e(254)]=!1)}[ZD(160)](){const t=ZD;let e=arguments[t(221)]>0&&void 0!==arguments[0]&&arguments[0];this[t(184)](e);const s=this[t(255)][t(249)][t(168)];s[t(222)][t(259)]=this[t(243)].left+"px",s[t(222)].top=this[t(243)].top+"px"}[ZD(182)](){const t=ZD;this[t(219)]={x:0,y:0},this[t(243)]={left:0,top:0},this[t(155)]={left:0,top:0},this[t(257)]=1,this.isDragging=!1}narrowPrecision(t){const e=ZD;this[e(257)]<=1||(this[e(257)]-=1,this[e(171)](t))}[ZD(205)](t){const e=ZD;this[e(257)]>=this[e(255)]._opt[e(263)]||(this[e(257)]+=1,this[e(171)](t))}[ZD(208)](t,e){const s=ZD;t<1||t>this[s(255)][s(217)].zoomMaxScale||(this[s(257)]=t,this[s(171)](e))}[ZD(170)](){const t=ZD;this[t(240)]=xn(this[t(255)][t(249)][t(168)])}[ZD(258)](){const t=ZD;let e=this[t(255)][t(249)].$videoElement[t(218)],s=this.player[t(249)][t(168)][t(247)];return e=parseFloat(e),s=parseFloat(s),{left:e,top:s}}updateInitVideoPosition(){const t=ZD,e=this[t(258)]();this[t(155)][t(259)]=0,this[t(155)].top=0,e.left&&(this[t(155)][t(259)]=e.left),e[t(189)]&&(this[t(155)].top=e[t(189)])}updateVideoElementScale(){const t=ZD;let e=arguments[t(221)]>0&&void 0!==arguments[0]?arguments[0]:.5;const s=this.player[t(249)].$videoElement;let i=s[t(222)][t(173)],r=1,n=1;if(this[t(240)]){const t=this.prevVideoElementStyleScale[0];void 0!==t&&(r=t,n=t);const e=this.prevVideoElementStyleScale[1];void 0!==e&&(n=e)}n=Ts(n),r=Ts(r);const o=e*r*(this[t(257)]-1)+r,a=e*n*(this[t(257)]-1)+n;let h;h=-1===i[t(174)]("scale(")?i+(t(178)+o+",")+a+")":i[t(202)](/scale\([0-9., ]*\)/,t(159)+o+","+a+")"),s[t(222)].transform=h,this[t(255)]._opt[t(203)]&&this[t(160)]()}[ZD(239)](){const t=ZD;this[t(171)](),this[t(160)](!0)}[ZD(158)](){return this[ZD(207)]}[ZD(184)](){const t=ZD;let e=arguments[t(221)]>0&&void 0!==arguments[0]&&arguments[0];if(Di(this.player[t(217)][t(203)])||Di(e)){const e=this[t(166)]();this[t(243)][t(259)]<e.minLeft?this[t(243)][t(259)]=e.minLeft:this[t(243)][t(259)]>e.maxLeft&&(this[t(243)][t(259)]=e.maxLeft),this[t(243)][t(189)]<e[t(185)]?this.videoPosition[t(189)]=e[t(185)]:this[t(243)][t(189)]>e[t(165)]&&(this[t(243)][t(189)]=e.maxTop)}}getScale(){const t=ZD;let e={horizontal:0,vertical:0};const s=xn(this[t(255)].video[t(168)]);let i=1,r=1,n=1,o=1;return s&&(i=s[0],r=s[1]||s[0]),this[t(240)]&&(n=this.prevVideoElementStyleScale[0],o=this[t(240)][1]||this.prevVideoElementStyleScale[0]),e.horizontal=i-n,e[t(238)]=r-o,e}getMinAndMaxRange(){const t=ZD,e=this[t(245)](),s=parseInt(this.player[t(249)].$videoElement[t(162)]),i=parseInt(this[t(255)][t(249)][t(168)][t(253)]);let r,n,o,a;return this[t(255)][t(230)]&&this[t(255)][t(198)]()?(r=this[t(155)].left-i*e[t(235)]/2,n=this[t(155)].left+i*e[t(235)]/2,o=this.initVideoPosition.top-s*e[t(238)]/2,a=this[t(155)].top+s*e.vertical/2):(r=this[t(155)][t(259)]-s*e[t(235)]/2,n=this[t(155)][t(259)]+s*e[t(235)]/2,o=this[t(155)][t(189)]-i*e[t(238)]/2,a=this[t(155)][t(189)]+i*e.vertical/2),{minLeft:r,maxLeft:n,minTop:o,maxTop:a}}}const iR=rR;function rR(t,e){const s=nR();return(rR=function(t,e){return s[t-=195]})(t,e)}function nR(){const t=["destroy","25253503aQllRP","emit","24EowPBk","type","useImageDetector","debug","rect","debugUuid","push","299959jGNRmU","then","aiObjectDetectWidth","addAiContentToCanvas","list","debugLevel","initFaceDetector","init object detector success","updateConfig","updateFaceDetectorConfig","JessibucaProObjectDetector","aiObjectDetectRectConfig","borderWidth","objectDetector","init face detector success","debugLog","text","occlusionDetector","useOcclusionDetector","initImageDetector","faceDetector","aiObjectDetectorInfo","color","useObjectDetector","aiFaceDetectEmitBase64","initOcclusionDetector","updateImageDetectorConfig","#000","width","12FUCqWa","fontSize","video","screenshotByRect","init image detector success","filter","useFaceDetector","forEach","aiFaceDetectRectConfig","_opt","JessibucaProImageDetector","18EbDuCV","3160908haETBn","2049448SAoLqK","aiFaceDetectShowRect","off","AiLoader","initObjectDetector","map","imageDetector","_isDestroyed","436534XzZdIs","jessibuca-pro-object-detector-info","aiObjectDetectShowRect","1222205bpfPQr","player","aiObjectDetectTarget","isArray","length","updateObjectDetectorConfig","height","10pNaUTk","61062lUdmPL","load","TAG_NAME"];return(nR=function(){return t})()}!function(t,e){const s=rR,i=t();for(;;)try{if(463879===-parseInt(s(249))/1+parseInt(s(204))/2*(-parseInt(s(236))/3)+-parseInt(s(217))/4+parseInt(s(228))/5*(-parseInt(s(215))/6)+parseInt(s(225))/7*(parseInt(s(242))/8)+-parseInt(s(216))/9+-parseInt(s(235))/10*(-parseInt(s(240))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nR);class oR extends h{constructor(t){const e=rR;super(),this.player=t,this[e(238)]=e(220),this[e(195)]=null,this[e(262)]=null,this.imageDetector=null,this[e(266)]=null,this[e(255)](),this[e(221)](),this[e(268)](),this[e(200)](),this[e(224)]=!1,this[e(229)][e(264)](this[e(238)],"init")}[iR(239)](){const t=iR;this[t(224)]=!0,this[t(219)](),this[t(195)]&&(this.faceDetector[t(239)](),this.faceDetector=null),this[t(262)]&&(this[t(262)][t(239)](),this[t(262)]=null),this.imageDetector&&(this[t(223)][t(239)](),this[t(223)]=null),this[t(266)]&&(this[t(266)].destroy(),this[t(266)]=null),this.player[t(264)](this[t(238)],t(239))}[iR(255)](){const t=iR;if(this[t(229)][t(213)][t(210)]&&window.JessibucaProFaceDetector){const e=new JessibucaProFaceDetector({detectWidth:this[t(229)][t(213)].aiFaceDetectWidth,showRect:!1,debug:this[t(229)][t(213)][t(245)],debugLevel:this[t(229)][t(213)][t(254)],debugUuid:this[t(229)]._opt[t(247)],name:T,buildTime:I});e[t(237)]()[t(250)]((()=>{const s=t;this[s(229)][s(264)](this[s(238)],s(263)),this[s(195)]=e,this[s(195)].on("jessibuca-pro-face-detector-info",(t=>{const e=s;if(this.player._opt[e(199)]&&(t.list=t.list[e(222)]((t=>{const s=e;return this[s(229)][s(206)]&&(t.base64=this.player[s(206)][s(207)](t)),t}))),this[e(229)][e(241)](H.aiFaceDetectorInfo,t),this.player._opt[e(218)]){const s=this[e(229)][e(213)][e(212)]||{},i=(t.list||[]).map((t=>{const i=e;return t[i(243)]=i(246),t[i(197)]=s.borderColor||"#0000FF",t.lineWidth=s[i(261)]||2,t}));this.player[e(206)]&&this.player[e(206)].addAiContentToCanvas(i)}}))}))}}[iR(221)](){const t=iR;if(this[t(229)][t(213)][t(198)]&&window[t(259)]){const e=new JessibucaProObjectDetector({detectWidth:this.player[t(213)][t(251)],showRect:!1,debug:this[t(229)][t(213)][t(245)],debugLevel:this[t(229)][t(213)].debugLevel,debugUuid:this[t(229)][t(213)].debugUuid,name:T,buildTime:I});e[t(237)]()[t(250)]((()=>{const s=t;this[s(229)][s(264)](this[s(238)],s(256)),this[s(262)]=e,this[s(262)].on(s(226),(t=>{const e=s,i=t.ts;let r=t[e(253)]||[];if(this.player[e(213)][e(230)]){let t=[];t=Array[e(231)](this.player._opt[e(230)])?this[e(229)]._opt[e(230)]:[this[e(229)]._opt.aiObjectDetectTarget],r=r[e(209)]((e=>t.includes(e.en)))}if(this[e(229)][e(241)](H[e(196)],{ts:i,list:r}),this[e(229)]._opt[e(227)]){const t=[],s=this.player._opt[e(260)]||{};r[e(211)]((i=>{const r=e,n={type:"rect",color:s.borderColor||"#0000FF",lineWidth:s.borderWidth||2,x:i[r(246)].x,y:i[r(246)].y,width:i[r(246)][r(203)],height:i.rect[r(234)]},o={type:r(265),color:s.color||r(202),fontSize:s[r(205)]||14,text:i.zh,x:i[r(246)].x,y:i[r(246)].y-25};t[r(248)](n,o)})),this[e(229)].video&&this.player[e(206)][e(252)](t)}}))}))}}[iR(268)](){const t=iR;if(this[t(229)][t(213)][t(244)]&&window[t(214)]){const e=new JessibucaProImageDetector({debug:this[t(229)]._opt.debug,debugLevel:this[t(229)][t(213)].debugLevel,debugUuid:this[t(229)]._opt[t(247)],name:T,buildTime:I});e[t(237)]().then((()=>{const s=t;this[s(229)][s(264)](this[s(238)],s(208)),this[s(223)]=e}))}}[iR(200)](){const t=iR;if(this[t(229)][t(213)][t(267)]&&window.JessibucaProOcclusionDetector){const e=new JessibucaProOcclusionDetector({debug:this.player[t(213)][t(245)],debugLevel:this[t(229)][t(213)][t(254)],debugUuid:this[t(229)]._opt[t(247)],name:T,buildTime:I});e[t(237)]()[t(250)]((()=>{const s=t;this[s(229)][s(264)](this[s(238)],"init occlusion detector success"),this[s(266)]=e}))}}[iR(258)](){const t=iR;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[t(195)]&&this[t(195)][t(257)](e)}[iR(233)](){const t=iR;let e=arguments[t(232)]>0&&void 0!==arguments[0]?arguments[0]:{};this.objectDetector&&this[t(262)].updateConfig(e)}[iR(201)](){const t=iR;let e=arguments[t(232)]>0&&void 0!==arguments[0]?arguments[0]:{};this.imageDetector&&this.imageDetector[t(257)](e)}updateOcclusionDetectorConfig(){const t=iR;let e=arguments[t(232)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(266)]&&this[t(266)][t(257)](e)}}const aR=hR;function hR(t,e){const s=cR();return(hR=function(t,e){return s[t-=158]})(t,e)}!function(t,e){const s=hR,i=t();for(;;)try{if(943234===parseInt(s(178))/1*(-parseInt(s(185))/2)+parseInt(s(194))/3+parseInt(s(161))/4*(parseInt(s(182))/5)+-parseInt(s(163))/6*(-parseInt(s(162))/7)+parseInt(s(187))/8+parseInt(s(165))/9*(-parseInt(s(202))/10)+-parseInt(s(171))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cR);class lR extends h{constructor(t){const e=hR;super(),this[e(167)]=t,this[e(177)]="Contextmenu",this.menuList=[],this[e(195)]=null,ms()&&t.control?(this[e(195)]=t[e(169)][e(195)],this.init()):this.player[e(170)](this[e(177)],"only support pc"),t[e(204)](this.LOG_NAME,"init")}[aR(188)](){const t=aR;this[t(183)]=[],this[t(195)]=null,this[t(167)][t(204)](this[t(177)],t(188))}get[aR(189)](){const t=aR;return In(this[t(167)].$container,t(186))}[aR(160)](){const t=aR;this.$contextmenus&&En(this[t(167)][t(164)],t(186))}[aR(193)](){const t=aR;this[t(195)]&&Tn(this[t(167)][t(164)],t(186))}[aR(176)](){const t=aR,{events:{proxy:e}}=this[t(167)];this[t(195)]&&(this[t(167)][t(172)][t(200)].length>0&&this[t(167)][t(172)][t(200)].forEach((e=>{this[t(181)](e)})),e(this[t(167)][t(164)],t(166),(e=>{const s=t;e[s(184)](),this[s(160)]();const i=e[s(198)],r=e[s(180)],{height:n,width:o,left:a,top:h}=this[s(167)][s(164)][s(196)](),{height:l,width:c}=this[s(195)][s(196)]();let d=i-a,u=r-h;i+c>a+o&&(d=o-c),r+l>h+n&&(u=n-l),ns(this[s(195)],{left:d+"px",top:u+"px"})})),e(this.player.$container,t(197),(e=>{const s=t;!Ln(e,this.$contextmenus)&&this[s(193)]()})),this[t(167)].on(H[t(191)],(()=>{this[t(193)]()})))}[aR(175)](t){const e=aR;let s=!0;return!t[e(174)]&&(this[e(167)][e(170)](this[e(177)],e(173)),s=!1),s}[aR(181)](){const t=aR;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=Ii(Ct);if(e=Object[t(168)]({},s,e),!this[t(175)](e))return;const{events:{proxy:i},debug:r}=this[t(167)],n=Is(),o=t(190)+n+t(179)+e[t(174)]+"\n            </div>\n        ",a=Array[t(199)](this[t(195)].children)[e[t(158)]];a?Mn(o,"beforebegin",a):kn(this.$contextmenus,o);const h=this[t(195)][t(192)](t(201)+n);e.click&&i(h,"click",(s=>{const i=t;s[i(184)](),e[i(197)][i(203)](this[i(167)],this,s),this.hide()})),this.menuList[t(159)]({uuid:n,$menuItem:h})}}function cR(){const t=["show","108oNTMhq","1628837ZlXgoa","18swggBt","$container","25461iQHAqX","contextmenu","player","assign","control","debugWarn","22624184kvsXhX","_opt","content is required","content","_validateMenuItem","init","LOG_NAME","42MbyMXU",'">\n                ',"clientY","addMenuItem","169285NBStaI","menuList","preventDefault","53446RxzCQV","jb-pro-contextmenus-show","9818128EaLtRJ","destroy","isShow",'\n            <div class="jb-pro-contextmenu jb-pro-contextmenu-',"blur","querySelector","hide","4807629lzVgyJ","$contextmenus","getBoundingClientRect","click","clientX","from","contextmenuBtns",".jb-pro-contextmenu-","1130WFmkCS","call","debugLog","index","push"];return(cR=function(){return t})()}const dR=pR;function uR(){const t=[" and webrtcSupportH265 is ","ontrack","timeStamp","isVideoPlaying","suffixSei","src","Track","_initVideoEvents","abortController","_checkWebRTCSupport","prefixSei","style","_isDestroyed","pipeThrough","218751WiKuxV","_opt","split","addTransceiver","receiver","hasAudio","createElement","webrtcUseCanvasRender",", transform=","updateVideoInfo","type is ","timestamp","_initRenderSize","onicegatheringstatechange:","streams","onicecandidate: candidate is ","video","start","pause","videoFrameCallback","paused","bytesSent","connectionState","onconnectionstatechange","responseSdpInfo","bandwidthEstimateInterval","videoFrameCallback() player is destroyed","supportVideoFrameCallbackHandle","1580565xNzHIk","75405sIhNzn","undefined","_startBandwidthEstimateInterval","failed","video is paused and replay error ","_initRtcPeerConnection","toString","TAG_NAME","isH264","378WNmZMk","_stopCanvasRender","RemoteCandidate","position","onicecandidateerror","localCandidate","kSliceSEI","1022660IfxwKp","rtcPeerConnection","onicecandidate","getVideoCodec","candidate","rtt","abortController.abort() error","onicegatheringstatechange","new","bytesReceived","ended","player","getVideoBufferTimeRange","completed","closed","prevWebrtcVideoStats",", frameHeight is ","354hlmhyn","canvasRenderInterval","close","debugWarn","Codec","video is paused and replay success","forEach","find","currentTime","then","createEncodedStreams","handleRender","isDestroyedOrClosed","10jeREUt","readable","protocol","video play","getVideoCurrentTime","emitVideoSei","iceConnectionState","eventsDestroy","push","rtcPeerTrackAudioReceiver","video playback Rate change","writable","initCanvasViewSize","oniceconnectionstatechange:ice connection state is","videoCodec","size","TransformStream","vbps","InboundRtp","playbackRate","iceGatheringState","currentRoundTripTime","h264","lastTimeStamp","rtcPeerTrackVideoReceiver","isEmitSEI","succeeded","removeAttribute","_requestAbort","webrtcOnIceConnectionStateChange","getTracks","catch","port","onicecandidateerror:","enqueue","stringify","_createEncodedStreams","ondatachannel","fetchPromise","srcObject","connectionState is ","connected","video waiting","879kLonZL","play","webrtcFailed","connecting","audio","isDisconnected","load","RTCRtpReceiver is not supported","events","_stopBandwidthEstimateInterval","isInitInfo","type","payload","oniceconnectionstatechange","pipeTo","kind","onconnectionstatechange:"," and isH264 is ","Error checking WebRTC support:","videoCodecType","kBps","requestVideoFrameCallback","payloadType","remoteCandidate","639102NuAvfL","debugLog","absolute"," and supportH265 is ","emit","disconnected","length","abort","webrtcIceCandidateError","currentWebrtcStats","transform","videoHeight","$videoElement","onnegotiationneeded:type is","getStats","max","video canplay","mediaTime","abortController.abort() success","6464VRjjCQ","h265","getReceivers","end","_startCanvasRender","_initVideoEvents()","getVideoBufferRangeList","recvonly","Error in createEncodedStreams:","video isHevc is ","CandidatePair","frameWidth","4DILnwt","waiting","frameHeight","parseSdp","videoStream","webrtcOnConnectionStateChange","onnegotiationneeded","uuid","track","render","webrtcDisconnect","bound","buffered","frameWidth is ","video loadedmetadata","isWebrtcH264","prevWebrtcAudioStats","readyState","onsignalingstatechange:type is","delta","ontrack video","Using transform","updateStats","state","prototype","onsignalingstatechange","destroy"];return(uR=function(){return t})()}function pR(t,e){const s=uR();return(pR=function(t,e){return s[t-=166]})(t,e)}!function(t,e){const s=pR,i=t();for(;;)try{if(141511===parseInt(s(186))/1*(parseInt(s(344))/2)+-parseInt(s(282))/3*(-parseInt(s(241))/4)+parseInt(s(327))/5+-parseInt(s(210))/6+-parseInt(s(310))/7+parseInt(s(229))/8*(parseInt(s(320))/9)+parseInt(s(357))/10*(parseInt(s(311))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(uR);class fR extends h{constructor(t){const e=pR;super(),this[e(338)]=t,this[e(318)]="CommonWebrtc",this.rtcPeerConnection=null,this[e(245)]=null,this[e(191)]=!1,this[e(319)]=this[e(338)][e(256)](),this.responseSdpInfo=null,this[e(364)]=[],this[e(309)]=null,this[e(196)]=!1,this[e(222)]=this[e(338)].video[e(222)],this.bandwidthEstimateInterval=null,this[e(167)]=null,this[e(366)]=null,this[e(342)]={},this[e(257)]={},this[e(219)]={},this[e(171)]=!1,this[e(276)]=null,this.fetchPromise=null,this.bound={videoFrameCallback:this[e(301)].bind(this)},this[e(338)][e(283)][e(289)]&&this[e(319)]&&(this.$videoElement=document[e(288)](e(298)),bs()&&(this[e(222)][e(279)][e(323)]=e(212)),this[e(275)]()),this.$videoElement.muted=!0,this._initRtcPeerConnection(),this[e(280)]=!1}[dR(267)](){const t=dR;if(this[t(280)]=!0,this[t(217)](),this[t(306)]=null,this[t(191)]=!1,this[t(196)]=!1,this.prevWebrtcVideoStats={},this[t(219)]={},this[t(167)]=null,this[t(366)]=null,this[t(195)](),this[t(309)]&&this[t(222)]&&(this.$videoElement.cancelVideoFrameCallback(this.supportVideoFrameCallbackHandle),this[t(309)]=null),this[t(364)][t(216)]&&(this[t(364)][t(350)]((t=>t())),this[t(364)]=[]),this[t(319)]&&(this[t(245)]&&(this[t(245)][t(173)]()[t(350)]((t=>t.stop())),this.videoStream=null),this[t(222)]))if(this[t(338)][t(283)][t(289)]){this.$videoElement[t(300)]&&(this[t(222)][t(300)](),this[t(222)].muted=!0),this[t(222)][t(352)]=0,this[t(222)][t(273)]&&(this[t(222)][t(273)]="",this.$videoElement[t(170)]("src"));try{this.$videoElement[t(192)]()}catch(t){}}else this[t(222)][t(182)]&&(this.$videoElement[t(182)]=null,this.$videoElement.removeAttribute("srcObject"));this.$videoElement=null,this[t(328)]&&(this[t(328)].onicecandidate=null,this.rtcPeerConnection[t(269)]=null,this[t(328)][t(305)]=null,this.rtcPeerConnection[t(180)]=null,this[t(328)][t(346)](),this[t(328)]=null),this[t(252)]=null}[dR(217)](){const t=dR;if(this[t(171)]=!0,this[t(276)])try{this[t(276)][t(217)](),this.abortController=null,this[t(338)][t(211)](this[t(318)],t(228))}catch(e){this[t(276)]=null,this[t(338)][t(211)](this[t(318)],t(333),e)}this[t(181)]&&this.fetchPromise.abort&&(this[t(181)][t(217)](),this[t(181)]=null)}[dR(275)](){const t=dR;this.player[t(211)](this[t(318)],t(234));const{proxy:e}=this.player[t(194)],s=e(this[t(222)],vt.canplay,(()=>{const e=t;this[e(338)].debugLog(this[e(318)],e(226)),this[e(222)][e(187)]()[e(353)]((()=>{const t=e;this[t(338)][t(211)](this[t(318)],t(360)),this[t(233)](),this[t(294)]()}))[e(174)]((t=>{const s=e;this.player[s(347)](this[s(318)],"video play error ",t)}))})),i=e(this[t(222)],vt[t(242)],(()=>{const e=t;this[e(338)][e(211)](this[e(318)],e(185))})),r=e(this[t(222)],vt.loadedmetadata,(()=>{const e=t;this[e(338)][e(211)](this[e(318)],e(255))})),n=e(this[t(222)],vt.timeUpdate,(e=>{const s=t;parseInt(e[s(270)],10),this[s(222)][s(302)]&&(this[s(338)][s(347)](this[s(318)],"video is paused and next try to replay"),this[s(222)][s(187)]().then((()=>{const t=s;this.player.debugLog(this[t(318)],t(349))})).catch((t=>{const e=s;this.player[e(347)](this.TAG_NAME,e(315),t)})))})),o=e(this.$videoElement,vt.ratechange,(()=>{const e=t;this[e(338)].debugLog(this[e(318)],e(367),this[e(222)]&&this[e(222)].playbackRate)}));this[t(364)][t(365)](s,i,n,o,r)}_checkWebRTCSupport(){const t=dR;try{if(!(typeof RTCRtpReceiver!==t(312)))return this.player[t(347)](this[t(318)],t(193)),!1;const e=t(354)in RTCRtpReceiver[t(265)],s=t(220)in RTCRtpReceiver[t(265)];return this.player[t(211)](this.TAG_NAME,"WebRTC support: createEncodedStreams="+e+t(290)+s),{createEncodedStreams:e,transform:s}}catch(e){return this.player.debugWarn(this[t(318)],t(204),e[t(317)](),e),!1}}[dR(316)](){const t=dR,e={},s=this[t(277)](),i=s&&s.createEncodedStreams;this[t(338)][t(283)][t(168)]&&i&&(e.encodedInsertableStreams=!0);const r=new RTCPeerConnection(e),n=this.player,o=r[t(285)](t(298),{direction:"recvonly"});this[t(338)][t(283)][t(287)]&&r[t(285)](t(190),{direction:t(236)}),this[t(338)][t(283)].isEmitSEI&&s&&this[t(179)](o[t(286)],s),r[t(266)]=e=>{const s=t;this[s(338)].debugLog(this[s(318)],s(259),e[s(197)])},r[t(334)]=e=>{const s=t;this[s(338)][s(211)](this[s(318)],s(295),s(292)+e.type,"and iceGatheringState is "+r[s(377)])},r[t(247)]=e=>{const s=t;this[s(338)][s(211)](this[s(318)],s(223),e[s(197)])},r[t(199)]=e=>{const s=t;this[s(338)][s(211)](this.TAG_NAME,s(370),r[s(363)]);const i=r[s(363)];switch(this[s(338)][s(214)](H[s(172)],i),this.isDisconnected=i===s(215),r[s(363)]){case s(335):case"checking":case s(341):break;case s(314):n[s(214)](H[s(188)]);break;case s(215):n[s(214)](H[s(251)]);break;case s(184):case s(340):break;case s(341):n.emit(H.webrtcClosed)}},r[t(329)]=e=>{const s=t;e.candidate&&this[s(338)][s(211)](this[s(318)],s(297),e.candidate,JSON.stringify(e[s(331)].toJSON()))},r[t(269)]=e=>{const s=t;if(this[s(338)][s(211)](this[s(318)],s(269)),e[s(249)][s(201)]===s(298)){this[s(338)][s(211)](this[s(318)],s(261)),this.rtcPeerTrackVideoReceiver=r[s(231)]()[s(351)]((function(t){const i=s;return t[i(249)]===e[i(249)]})),this[s(167)]&&this[s(313)]();let t=e[s(296)][0];this.$videoElement.autoplay=!0,this.$videoElement[s(182)]=t,this[s(245)]=t}else e[s(249)][s(201)]===s(190)&&(this[s(338)].debugLog(this.TAG_NAME,"ontrack audio"),this[s(366)]=r[s(231)]()[s(351)]((function(t){return t[s(249)]===e.track})),this[s(366)]&&this[s(313)]())},r[t(324)]=e=>{const s=t;this.player[s(211)](this[s(318)],s(176),e),this[s(338)].emitError(Q[s(218)],e)},r[t(305)]=e=>{const s=t;switch(this.player[s(211)](this.TAG_NAME,s(202),s(183)+r.connectionState),this[s(338)][s(214)](H[s(246)],r[s(304)]),r.connectionState){case s(335):case s(189):case"connected":case s(215):break;case"failed":this.isDisconnected&&n[s(214)](H.webrtcFailed);case s(341):}},this[t(328)]=r}[dR(313)](){const t=dR;this[t(338)][t(211)](this.TAG_NAME,t(313)),this[t(195)](),this[t(307)]=setInterval((()=>{const e=t;this[e(167)]&&this[e(167)][e(224)]()[e(353)]((t=>{const s=e;let i={},r=0;t[s(350)]((t=>{const e=s;if(t)switch(t.type){case zt[e(239)]:(t[e(264)]===e(169)||t.bytesReceived)&&(this.currentWebrtcStats[e(293)]=t[e(293)],this.currentWebrtcStats[e(332)]=t[e(378)]||-1,this[e(219)].bytesReceived=t[e(336)]||0,this[e(219)][e(303)]=t.bytesSent||0);break;case zt[e(322)]:this[e(219)][e(209)]=t||{};break;case zt.LocalCandidate:this[e(219)][e(325)]=t||{};break;case zt[e(375)]:this[e(219)][e(166)]=t[e(293)];const s=((t[e(293)]||0)-(this[e(342)][e(293)]||0))/1e3,n=Number(t[e(336)]||0)-Number(this[e(342)][e(336)]||0),o=8*Math.floor(n/s);r+=o,i[e(374)]=o,this[e(342)]=t;break;case zt[e(274)]:t[e(240)]&&t.frameHeight&&(this.currentWebrtcStats[e(240)]=t[e(240)]||0,this[e(219)][e(243)]=t[e(243)]||0,this[e(338)][e(211)](this[e(318)],e(254)+this[e(219)].frameWidth+e(343)+this[e(219)][e(243)]));case zt[e(348)]:}})),this.rtcPeerTrackAudioReceiver?this[s(366)].getStats().then((t=>{const e=s;t[e(350)]((t=>{const s=e;if(t&&t.type===zt[s(375)]){this[s(219)][s(166)]=t.timestamp;const e=((t[s(293)]||0)-(this[s(257)].timestamp||0))/1e3,n=Number(t[s(336)]||0)-Number(this[s(257)][s(336)]||0),o=8*Math.floor(n/e);r+=o,i.abps=o,this.prevWebrtcAudioStats=t}})),this[e(338)][e(263)](i),this[e(338)][e(214)](H[e(206)],(r/1e3).toFixed(2))})):(this.player[s(263)](i),this[s(338)].emit(H[s(206)],(r/1e3).toFixed(2)))}))}),1e3)}[dR(195)](){const t=dR;this.player[t(211)](this[t(318)],t(195)),this[t(307)]&&(clearInterval(this[t(307)]),this[t(307)]=null)}[dR(179)](t,e){const s=dR;if(this[s(338)].debugLog(this[s(318)],s(179)),e)try{const i=new(window[s(373)])({transform:(t,e)=>{const i=s;if("key"===t.type||t[i(197)]===i(260)){const e=He(new Uint8Array(t.data)),s=this.getVideoCodec()===Z[i(230)];e[i(350)]((t=>{const e=i,r=s?t[0]>>>1&63:31&t[0],n=s&&(r===nt[e(272)]||r===nt[e(278)]),o=Ri(s)&&r===rt[e(326)];if(n||o){const i=Ye(qe(t),s),r=parseInt(1e3*this[e(361)](),10);this[e(338)][e(362)]({ts:r,type:i[e(197)],data:i[e(198)],originData:t,uuid:i[e(248)],size:i[e(372)]})}}))}e[i(177)](t)}});if(e[s(354)]){this[s(338)].debugLog(this[s(318)],"Using createEncodedStreams");const e=t.createEncodedStreams();e[s(358)][s(281)](i)[s(200)](e[s(368)])[s(174)]((t=>{const e=s;this[e(338)][e(211)](this[e(318)],e(237),t.toString(),t)}))}else e[s(220)]&&(this[s(338)][s(211)](this[s(318)],s(262)),t[s(220)]=i)}catch(t){this.player.debugLog(this[s(318)],"Error in _createEncodedStreams:",t.toString(),t)}}[dR(233)](){const t=dR;Oi()?this[t(309)]=this[t(222)][t(207)](this[t(252)][t(301)]):(this[t(321)](),this[t(345)]=setInterval((()=>{const e=t;this[e(338)][e(298)][e(250)]({$video:this[e(222)],ts:0})}),40))}[dR(321)](){this[dR(345)]&&(clearInterval(this.canvasRenderInterval),this.canvasRenderInterval=null)}[dR(301)](t){const e=dR;let s=arguments[e(216)]>1&&void 0!==arguments[1]?arguments[1]:{};if(this.player[e(356)]())return void this[e(338)][e(211)](this.TAG_NAME,e(308));const i=parseInt(1e3*Math[e(225)](s[e(227)],this[e(222)][e(352)]),10)||0;this[e(338)].updateStats({dts:i}),this.player[e(355)](),this[e(338)][e(298)].render({$video:this[e(222)],ts:i}),this[e(309)]=this[e(222)][e(207)](this[e(252)].videoFrameCallback)}[dR(294)](){const t=dR;!this[t(196)]&&(this.player[t(298)][t(291)]({width:this[t(222)].videoWidth,height:this[t(222)][t(221)]}),this[t(338)][t(298)][t(369)](),this[t(196)]=!0)}[dR(361)](){const t=dR;let e=0;return this[t(222)]&&(e=this.$videoElement[t(352)]),e}[dR(271)](){const t=dR;return this[t(222)]&&Ri(this[t(222)][t(302)])&&Ri(this[t(222)][t(337)])&&0!==this.$videoElement[t(376)]&&0!==this[t(222)][t(258)]}[dR(339)](){const t=dR,e=this.$videoElement;let s=null;if(e){const i=e.buffered,r=i[t(216)]?i.start(0):0,n=i[t(216)]?i.end(i[t(216)]-1):0;s={start:r,end:n,diff:n-r}}return s}[dR(235)](){const t=dR,e=this[t(222)];let s=[];if(e){const i=e[t(253)];for(let e=0;e<i[t(216)];e++){let r=i[t(299)](e),n=i[t(232)](e);s[t(365)]({start:r,end:n})}}return s}[dR(244)](t){const e=dR,s=t.split("\r\n");let i={};s.forEach((t=>{const e=pR;if(t.startsWith("m=video")){const s=t[e(284)](" "),r=s[1],n=s[2],o=s.slice(3),a=Ts(o[0]);Ts(o[1]),i[e(175)]=r,i[e(359)]=n,i[e(208)]=a,49===a||51===a?i[e(371)]=Z[e(230)]:(103===a||107===a||109===a||115===a||117===a||39===a||41===a||43===a||119===a||121===a)&&(i[e(371)]=Z[e(379)]),i[e(205)]=$[i.videoCodec]}})),this[e(306)]=i,this[e(338)][e(211)](this[e(318)],e(244),JSON[e(178)](i))}[dR(330)](){const t=dR;return this.responseSdpInfo&&this[t(306)][t(371)]?this.responseSdpInfo[t(371)]:Z[t(379)]}isVideoCodecSupported(){const t=dR,e=this.getVideoCodec()===Z[t(230)],s=this[t(330)]()===Z[t(379)],i=Ps(),r=function(){const t=$e,e=As();return e[t(496)][t(412)]()===t(282)&&e[t(543)]>=136}();return this[t(338)][t(211)](this[t(318)],"video isHevc is "+e+" and isH264 is "+s+t(213)+i+t(268)+r),{result:e&&i&&r||s,error:t(238)+e+t(203)+s+t(213)+i+t(268)+r}}}var mR=AR;function gR(){var t=["defaultPath","play","3948755ndEqMx","9267993UAptdk","length","domain","http","rtmp://","schema","slice","location","11357829TgOcUg","port","api","protocol","http://","url","server","/rtc/v1/play/","random","8DweUxY","452eoSZDQ","?vhost=","user_query","webrtc","__defaultVhost__","parse","://","replace","9bjPAIe","5590674PTXHLX","rtc://","13648570kDrLgb","split","hostname","pathname","vhost","webrtc://","search","...vhost...","host","vhost=","lastIndexOf","https://","test","toString","https","24717ZRTPce",":80","indexOf","substring","https:","createElement","11URMuRI","304002tPYDxP"];return(gR=function(){return t})()}!function(t,e){for(var s=AR,i=t();;)try{if(723809===parseInt(s(238))/1*(-parseInt(s(208))/2)+-parseInt(s(201))/3*(-parseInt(s(230))/4)+parseInt(s(211))/5+-parseInt(s(239))/6+-parseInt(s(212))/7+parseInt(s(229))/8*(parseInt(s(220))/9)+-parseInt(s(241))/10*(-parseInt(s(207))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gR);const yR={defaultPath:mR(227),prepareUrl:function(t){var e=mR,s=yR[e(235)](t),i=s[e(232)][e(217)];i=i?i+":":window[e(219)][e(223)];var r=s[e(221)]||1985;i===e(205)&&(r=s[e(221)]||443);var n=s[e(232)][e(210)]||yR[e(209)];n[e(196)]("/")!==n[e(213)]-1&&(n+="/");var o=i+"//"+s[e(226)]+":"+r+n;for(var a in s[e(232)])a!==e(222)&&a!==e(210)&&(o+="&"+a+"="+s[e(232)][a]);return{apiUrl:o=o.replace(n+"&",n+"?"),streamUrl:s[e(225)],schema:i,urlObject:s,port:r,tid:Number(parseInt(Date.now()*Math[e(228)]()*100))[e(199)](16).slice(0,7)}},parse:function(t){var e=mR,s=document[e(206)]("a");s.href=t.replace(e(216),"http://")[e(237)](e(191),e(224))[e(237)](e(240),e(224));var i=s[e(188)],r=s.pathname[e(204)](1,s[e(189)][e(196)]("/")),n=s.pathname[e(218)](s[e(189)][e(196)]("/")+1);if((r=r[e(237)](e(193),e(231)))[e(203)]("?")>=0){var o=r.slice(r[e(203)]("?"));r=r.slice(0,r[e(203)]("?")),o.indexOf("vhost=")>0&&((i=o[e(218)](o.indexOf("vhost=")+e(195)[e(213)]))[e(203)]("&")>0&&(i=i[e(218)](0,i[e(203)]("&"))))}if(s.hostname===i){/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/[e(198)](s[e(188)])&&(i=e(234))}var a="rtmp";t[e(203)]("://")>0&&(a=t[e(218)](0,t.indexOf(e(236))));var h=s.port;h||(a===e(233)&&0===t[e(203)]("webrtc://"+s.host+":")&&(h=0===t[e(203)]("webrtc://"+s[e(194)]+e(202))?80:443),a===e(215)?h=80:a===e(200)?h=443:"rtmp"===a&&(h=1935));var l={url:t,schema:a,server:s[e(188)],port:h,vhost:i,app:r,stream:n};return yR.fill_query(s[e(192)],l),l[e(221)]||a!==e(233)&&"rtc"!==a||(l[e(232)][e(217)]===e(200)||0===window.location.href[e(203)](e(197))?l[e(221)]=443:l.port=1985),l},fill_query:function(t,e){var s=mR;if(e[s(232)]={},0!==t[s(213)]){t[s(203)]("?")>=0&&(t=t[s(187)]("?")[1]);for(var i=t[s(187)]("&"),r=0;r<i.length;r++){var n=i[r][s(187)]("=");e[n[0]]=n[1],e[s(232)][n[0]]=n[1]}e[s(214)]&&(e[s(190)]=e[s(214)])}}};function AR(t,e){var s=gR();return(AR=function(t,e){return s[t-=187]})(t,e)}function vR(t,e){const s=ER();return(vR=function(t,e){return s[t-=334]})(t,e)}function bR(t,e,s){const i=vR;return fetch(t,{method:i(353),mode:i(375),cache:i(371),credentials:i(376),redirect:i(370),referrerPolicy:i(367),headers:{"Content-Type":i(337)},body:e,signal:s?s[i(360)]:null})}function SR(t,e){const s=vR;let i=null;const r=new Promise(((s,r)=>{const n=vR,o=yR[n(366)](t);var a={api:o[n(348)],tid:o.tid,streamurl:o[n(377)],clientip:null,sdp:e};i=new XMLHttpRequest,i[n(356)]=function(){const t=n;if(i[t(340)]===i[t(343)]){if(200!==i[t(358)]&&201!==i[t(358)])return i=null,r(new Error(t(381)+o[t(348)]+t(361)+i[t(358)]));try{const e=JSON[t(344)](i[t(352)]);return i=null,e[t(339)]?r(new Error(t(381)+o[t(348)]+" and response code is "+e[t(339)])):s(e)}catch(t){r(t.toString())}}},i.onerror=function(t){const e=n;i=null,r(new Error(e(381)+o.apiUrl+e(380)+t))},i.open("POST",o.apiUrl,!0),i[n(347)](n(338),n(349)),i[n(363)](JSON[n(342)](a))}));return r[s(345)]=function(){i&&(i[s(345)](),i=null)},r}function wR(t,e){let s=null;const i=new Promise(((i,r)=>{const n=vR;s=new XMLHttpRequest,s[n(356)]=function(){const e=n;if(s[e(340)]!==s[e(343)])return;if(200!==s.status&&201!==s[e(358)])return s=null,r(new Error(e(381)+t+e(361)+s.status));const o=s[e(352)];return s=null,o[e(339)]?r(new Error(e(381)+t+e(368)+o[e(339)])):i(o)},s[n(373)]=function(e){s=null,r(new Error(n(381)+t+" and error is "+e))},s[n(382)]("POST",t,!0),s[n(347)](n(338),n(337)),s.send(e)}));return i.abort=function(){s&&(s.abort(),s=null)},i}function ER(){const t=["2672153yhCItP","36mWwfVi"," and error is ","Failed to get sdp from ","open","2ntzOES","password","14qgIxQa","application/sdp","Content-type","code","readyState","1670673FHHnlb","stringify","DONE","parse","abort","Basic ","setRequestHeader","apiUrl","application/json","text/plain;charset=utf-8","10WZpVlG","responseText","POST","username","117KjkOlj","onload","36216aPNXoy","status","json","signal"," and http status is ","3680360toVMss","send","978252eDQpVu","length","prepareUrl","no-referrer"," and response code is ","1506108SyZBMO","follow","no-cache","Authorization","onerror","178222gZziGX","cors","include","streamUrl"];return(ER=function(){return t})()}function TR(t,e){const s=kR();return(TR=function(t,e){return s[t-=309]})(t,e)}!function(t,e){const s=vR,i=t();for(;;)try{if(289931===-parseInt(s(374))/1+-parseInt(s(334))/2*(parseInt(s(341))/3)+-parseInt(s(364))/4*(-parseInt(s(351))/5)+-parseInt(s(369))/6*(parseInt(s(336))/7)+-parseInt(s(357))/8*(parseInt(s(355))/9)+parseInt(s(362))/10+-parseInt(s(378))/11*(-parseInt(s(379))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ER);const IR=TR;function kR(){const t=["error","webrtc:","245738ROOZxr","parseSdp","msg","abortController","rtcPeerConnection","205088ZSEXVG","AbortError","protocol","code","19937096JrnaHg","toString","result","TAG_NAME","_opt","destroy","sdp","player","loadSource","debugLog","loadSource setRemoteDescription error","then","init","response sdp is null","location","getWebRtcRemoteSdp loadSource","_requestAbort","body","fetchPromise","getWebRtcRemoteSdp response and code is ","debugError","11015DUlvFu","catch","2479379TWRDlP","WebrtcForSRSDecoder","1052ATTRgK","createOffer","webrtcForSRSByWhipWhep","2347020LuVANa","3300216vUdABr","isVideoCodecSupported"];return(kR=function(){return t})()}!function(t,e){const s=TR,i=t();for(;;)try{if(693484===-parseInt(s(341))/1+parseInt(s(336))/2+-parseInt(s(332))/3+-parseInt(s(328))/4*(parseInt(s(324))/5)+-parseInt(s(331))/6+parseInt(s(326))/7+parseInt(s(345))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(kR);class _R extends fR{constructor(t){const e=TR;super(t),this[e(348)]=e(327),this[e(339)]=null,this.player[e(312)](this[e(348)],e(315))}[IR(350)](){const t=IR;super[t(350)](),this[t(310)][t(312)](this[t(348)],t(350))}[IR(311)](t){return new Promise(((e,s)=>{const i=TR,r=this[i(340)];r[i(329)]().then((n=>{const o=i;r.setLocalDescription(n),this[o(310)][o(312)](this[o(348)],o(318),t);let a=null,h=t;this[o(310)][o(349)].webrtcForSRSBySDK?(a=SR,h=t.replace(window[o(317)][o(343)],o(335))):this[o(310)]._opt[o(330)]?a=wR:(this[o(339)]=new AbortController,a=bR);let l=a(h,n.sdp,this[o(339)]);this[o(321)]=l,l[o(314)]((t=>{const i=o;if(this[i(319)])return void(t.body&&t.body.cancel&&t[i(320)].cancel().catch((()=>{})));this.fetchPromise=null,this[i(339)]=null,this[i(310)][i(312)](this[i(348)],i(322)+t[i(344)]);const n=t;if(n&&js(n[i(344)])&&0!==n[i(344)])return this[i(310)][i(323)](this.TAG_NAME,"response json code "+n[i(344)]),s(n[i(338)]);if(n){const t=n[i(309)]||n;this[i(337)](t);const o=this[i(333)]();if(Ri(o[i(347)]))return s(o[i(334)]);r.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:t}))[i(314)]((()=>{e()})).catch((t=>{const e=i;this.player&&this.player[e(323)](this[e(348)],e(313),t.toString(),t),s(t)}))}else this.player[i(323)](this[i(348)],i(316)),s(i(316))}))[o(325)]((t=>{const e=o;t.name!==e(342)&&null!==this[e(321)]&&(this[e(321)]=null,this[e(339)]=null,this[e(310)][e(323)](this[e(348)],"loadSource getWebRtcRemoteSdp response error",t.toString(),t),s(t))}))}))[i(325)]((t=>{const e=i;this[e(310)][e(323)](this[e(348)],"loadSource rtcPeerConnection.createOffer() error",t[e(346)](),t),s(t)}))}))}}const CR=DR;function DR(t,e){const s=RR();return(DR=function(t,e){return s[t-=459]})(t,e)}function RR(){const t=["createOffer","player","sdp","TAG_NAME","destroy","loadSource","398697ejZqZW","65vqvfXe","toString","cancel","_requestAbort","setRemoteDescription","8270UqeDeq","8288357SxItLL","debugError","rtcPeerConnection","loadSource response.text() error","response json code ","sdp is null","code","this is raw sdp response","then","9GHzxIL","name","54DyCBLM","loadSource setRemoteDescription error","loadSource rtcPeerConnection.createOffer() error","AbortError","158248IRkUGN","catch","getWebRtcRemoteSdp response and code is ","abortController","WebrtcForOthersDecoder","this is json sdp response","debugLog","signal","693322RzCJIU","10snpvCy","body","8550996PqdDHC","87SDQLEN","3381256tJxIPF","getWebRtcRemoteSdp loadSource"];return(RR=function(){return t})()}!function(t,e){const s=DR,i=t();for(;;)try{if(663377===-parseInt(s(462))/1+parseInt(s(468))/2*(parseInt(s(496))/3)+parseInt(s(484))/4*(parseInt(s(463))/5)+parseInt(s(480))/6*(parseInt(s(492))/7)+-parseInt(s(497))/8*(parseInt(s(478))/9)+parseInt(s(493))/10*(-parseInt(s(469))/11)+parseInt(s(495))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(RR);class LR extends fR{constructor(t){const e=DR;super(t),this[e(459)]=e(488),this.player[e(490)](this[e(459)],"init")}[CR(460)](){const t=CR;super[t(460)](),this[t(500)][t(490)](this.TAG_NAME,"destroy")}[CR(461)](t){return new Promise(((e,s)=>{const i=DR,r=this[i(471)];r[i(499)]()[i(477)]((n=>{const o=i;r.setLocalDescription(n),this[o(500)].debugLog(this.TAG_NAME,o(498),t),this[o(487)]=new AbortController,function(t,e,s){const i=vR;return fetch(t,{method:i(353),mode:"cors",cache:i(371),credentials:i(376),redirect:i(370),referrerPolicy:i(367),headers:{"Content-Type":"application/sdp"},body:e,signal:s?s[i(360)]:null})}(t,n[o(501)],this[o(487)])[o(477)]((t=>{const i=o;this[i(466)]?t[i(494)][i(465)]()[i(485)]((()=>{})):(this.abortController=null,this.player[i(490)](this.TAG_NAME,i(486)+t[i(475)]),t.text()[i(477)]((t=>{const n=i;this[n(500)][n(490)](this.TAG_NAME,"getWebRtcRemoteSdp response");try{let e=JSON.parse(t);this[n(500)][n(490)](this[n(459)],n(489)),js(e[n(475)])&&0!=e[n(475)]&&(this[n(500)][n(470)](this.TAG_NAME,n(473)+e.code),s(new Error("response sdp json code: "+e[n(475)]))),t=e[n(501)]}catch(t){this[n(500)][n(490)](this[n(459)],n(476))}t?r[n(467)](new RTCSessionDescription({type:"answer",sdp:t})).then((()=>{e()}))[n(485)]((t=>{const e=n;this[e(500)][e(470)](this[e(459)],e(481),t[e(464)](),t),s(t)})):(this.player[n(470)](this[n(459)],"loadSource sdp is null"),s(n(474)))}))[i(485)]((t=>{const e=i;this[e(500)][e(470)](this[e(459)],e(472),t.toString(),t),s(t)})))}))[o(485)]((t=>{const e=o;this[e(487)]&&this[e(487)][e(491)]&&this[e(487)].signal.aborted||t[e(479)]!==e(483)&&(this[e(487)]=null,this.player.debugError(this[e(459)],"loadSource getWebRtcRemoteSdp response error",t.toString(),t),s(t))}))})).catch((t=>{const e=i;this[e(500)][e(470)](this[e(459)],e(482),t[e(464)](),t),s(t)}))}))}}const PR=xR;function xR(t,e){const s=MR();return(xR=function(t,e){return s[t-=349]})(t,e)}function MR(){const t=["2845284Gcdccu","isWebrtcH265","signal","3vmTfWE","isWebrtcH264","webrtcOnIceConnectionStateChange","onnegotiationneeded[通信环境发生变化]","rtcPeerTrackAudioReceiver","createOffer","error","startStreamRateInterval","isEmitSEI","rtcPeerConnectionDataChannel","ondatachannel and onclose","parseSdp","onicegatheringstatechange[ICE收集状态]","aborted","onicegatheringstatechange","onmessage","candidate","createDataChannel","audio","player","iceConnectionState","catch","onicecandidate","autoplay","toString","failed","close","setLocalDescription","parse","offer","dispatch","abortController","ondatachannel","data","sdp is null","onsignalingstatechange[本地端的信号状态]","_startBandwidthEstimateInterval","webrtcIceCandidateError","debugError","getWebrtcVideo","setRemoteDescription","body","ontrack audio","oniceconnectionstatechange","debugWarn","connecting","checking","connected","4383939xRRdzy","loadSource rtcPeerConnection.createOffer() error","onsignalingstatechange","1183834CVSjXP","isDisconnected","onclose","_createEncodedStreams","kind","onopen","emit","answer","new","webrtcFailed","then","hasAudio","isDestroyedOrClosed","onconnectionstatechange[所有ICE 状态总览]","connectionState","find","_requestAbort","4692695wUgkiD","1409878jpVJIT","iceGatheringState","videoStream","ondatachannel and onopen","debugLog","isVideoCodecSupported","addTransceiver","webrtcStreamH265","ontrack video","rtcPeerConnection","disconnected","track","ontrack","loadSource getWebRtcRemoteSdp response error","loadSource","streamRateInterval","video","_opt","toFixed","sdp","getWebRtcRemoteSdp loadSource","streamRate","8tJwtZD","closed","getReceivers","onconnectionstatechange","stopStreamRateInterval","9764030YvOrrW","rtcPeerTrackVideoReceiver","recvonly","demux","byteLength","text","WebrtcForM7SDecoder","destroy","receiver","emitError","signalChannel,onmessage","_isDestroyed","webrtcDisconnect","TAG_NAME","streams","9tkJfXf","4317172cqSSwP","result"];return(MR=function(){return t})()}!function(t,e){const s=xR,i=t();for(;;)try{if(808303===parseInt(s(354))/1+-parseInt(s(453))/2*(-parseInt(s(402))/3)+-parseInt(s(397))/4+-parseInt(s(353))/5+parseInt(s(399))/6+-parseInt(s(450))/7*(parseInt(s(376))/8)+parseInt(s(396))/9*(parseInt(s(381))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(MR);class BR extends fR{constructor(t){const e=xR;super(t),this[e(411)]=null,this[e(421)][e(400)]()&&(this[e(375)]=hs((s=>{const i=e;t[i(459)](H.kBps,(s/1e3)[i(372)](2))}))),this.TAG_NAME=e(387),this[e(421)][e(358)](this[e(394)],"init")}[PR(388)](){const t=PR;super[t(388)](),this[t(380)](),this[t(411)]&&(this[t(411)][t(458)]=null,this[t(411)].onclose=null,this.rtcPeerConnectionDataChannel[t(417)]=null,this[t(411)][t(428)](),this[t(411)]=null),this[t(421)][t(358)](this[t(394)],t(388))}_initRtcPeerConnection(){const t=PR,e=new RTCPeerConnection,s=this[t(421)],i=e.addTransceiver(t(370),{direction:t(383)});this.player[t(371)][t(464)]&&e[t(360)](t(420),{direction:"recvonly"}),s[t(403)]()&&this[t(421)][t(371)][t(410)]&&this[t(456)](i[t(389)]),e[t(452)]=e=>{const s=t;this[s(421)][s(358)](this[s(394)],s(437),e)},e[t(416)]=s=>{const i=t;this.player[i(358)](this[i(394)],i(414),s,e[i(355)])},e.onnegotiationneeded=e=>{const s=t;this[s(421)].debugLog(this[s(394)],s(405),e)},e[t(445)]=i=>{const r=t;this[r(421)][r(358)](this[r(394)],"oniceconnectionstatechange",e[r(422)]);const n=e[r(422)];switch(this.player[r(459)](H[r(404)],n),this[r(454)]="disconnected"===n,e.iceConnectionState){case r(461):case r(448):case r(377):break;case r(427):s[r(459)](H.webrtcFailed);break;case"disconnected":s[r(459)](H[r(393)]);break;case r(449):case"completed":break;case r(377):s[r(459)](H.webrtcClosed)}},e.onicecandidate=e=>{const s=t;this[s(421)][s(358)](this.TAG_NAME,s(424),e),e[s(418)]&&this[s(421)][s(358)](this.TAG_NAME,"Remote ICE candidate: ",e[s(418)][s(418)])},e[t(366)]=i=>{const r=t;this[r(421)].debugLog(this[r(394)],r(366),i);const n=s[r(441)]();if(s[r(403)]())if(i[r(365)][r(457)]===r(370)){this[r(421)][r(358)](this.TAG_NAME,r(362)),this[r(382)]=e[r(378)]()[r(351)]((function(t){const e=r;return t.track===i[e(365)]})),this.rtcPeerTrackVideoReceiver&&this[r(438)]();let t=i[r(395)][0];n[r(425)]=!0,n.srcObject=t,this[r(356)]=t}else i[r(365)][r(457)]===r(420)&&(this[r(421)][r(358)](this[r(394)],r(444)),this[r(406)]=e.getReceivers()[r(351)]((function(t){return t[r(365)]===i.track})),this[r(406)]&&this[r(438)]())},e.onicecandidateerror=e=>{const s=t;this.player[s(358)](this[s(394)],"onicecandidateerror[candidate错误]",e),this[s(421)][s(390)](Q[s(439)],e)},e[t(379)]=i=>{const r=t;switch(this.player[r(358)](this[r(394)],r(349),i),this[r(421)][r(459)](H.webrtcOnConnectionStateChange,e[r(350)]),e[r(350)]){case r(461):case r(447):case"connected":case r(364):break;case"failed":this[r(454)]&&s[r(459)](H[r(462)]);case r(377):}},e[t(434)]=e=>{const s=t,i=e.channel;this[s(421)][s(358)](this[s(394)],s(434)),i[s(458)]=()=>{const t=s;this[t(421)].debugLog(this.TAG_NAME,t(357))},i.onmessage=t=>{const e=s,i=t[e(435)];if(!this[e(392)]){if(!this[e(421)][e(465)]())return this[e(421)][e(403)]()?(this.player[e(446)](this[e(394)],"ondatachannel is H265 but decode is h264 so emit webrtcStreamH265 "),void this[e(421)][e(459)](H[e(361)])):(this[e(375)]&&this.streamRate(i[e(385)]),void(this[e(421)][e(384)]&&this[e(421)].demux[e(432)](i)));this[e(421)].debugWarn(this[e(394)],"ondatachannel and player is destroyed and return")}},i[s(455)]=()=>{const t=s;this[t(421)].debugWarn(this.TAG_NAME,t(412))},this.rtcPeerConnectionDataChannel=i};e[t(419)](t(401)).onmessage=e=>{const s=t;this[s(421)][s(358)](this.TAG_NAME,s(391),e);JSON[s(430)](e[s(435)]).type,s(431)},this[t(363)]=e}startStreamRateInterval(){const t=PR;this[t(380)](),this[t(369)]=setInterval((()=>{const e=t;this[e(375)]&&this[e(375)](0)}),1e3)}[PR(380)](){const t=PR;this[t(369)]&&(clearInterval(this[t(369)]),this[t(369)]=null)}[PR(368)](t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=xR,n=this[r(363)];n[r(407)]()[r(463)]((o=>{const a=r;n[a(429)](o),this[a(421)][a(358)](this[a(394)],a(374),t),this.abortController=new AbortController,function(t,e){const s=vR;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[s(365)]>3?arguments[3]:void 0,n={"Content-Type":s(337)};return i[s(354)]&&i.password&&(n[s(372)]=s(346)+btoa(i[s(354)]+":"+i[s(335)])),fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:s(376),redirect:s(370),referrerPolicy:s(367),headers:n,body:e,signal:r?r[s(360)]:null})}(t,o[a(373)],e,this[a(433)])[a(463)]((t=>{const e=a;this[e(352)]?t[e(443)].cancel().catch((()=>{})):(this[e(433)]=null,t[e(386)]()[e(463)]((t=>{const r=e;if(this[r(421)][r(358)](this[r(394)],"getWebRtcRemoteSdp response"),t){this[r(413)](t);const e=this[r(359)]();if(Ri(e[r(398)]))return i(e[r(408)]);n[r(442)](new RTCSessionDescription({type:r(460),sdp:t}))[r(463)]((()=>{const t=r;this[t(421)][t(400)]()&&this[t(409)](),s()}))[r(423)]((t=>{const e=r;this[e(421)][e(440)](this[e(394)],"loadSource setRemoteDescription error",t[e(426)](),t),i(t)}))}else this[r(421)][r(440)](this[r(394)],"loadSource sdp is null"),i(r(436))}))[e(423)]((t=>{const s=e;this[s(421)][s(440)](this[s(394)],"loadSource response.text() error",t[s(426)](),t),i(t)})))}))[a(423)]((t=>{const e=a;this[e(433)]&&this.abortController[e(401)]&&this[e(433)][e(401)][e(415)]||"AbortError"!==t.name&&(this[e(433)]=null,this.player.debugError(this[e(394)],e(367),t[e(426)](),t),i(t))}))}))[r(423)]((t=>{const e=r;this[e(421)][e(440)](this[e(394)],e(451),t[e(426)](),t),i(t)}))}))}}const FR=UR;function UR(t,e){const s=NR();return(UR=function(t,e){return s[t-=403]})(t,e)}!function(t,e){const s=UR,i=t();for(;;)try{if(559488===parseInt(s(428))/1*(parseInt(s(431))/2)+parseInt(s(407))/3+-parseInt(s(432))/4+parseInt(s(427))/5*(-parseInt(s(412))/6)+parseInt(s(429))/7*(parseInt(s(433))/8)+-parseInt(s(417))/9+parseInt(s(418))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(NR);class OR extends fR{constructor(t){const e=UR;super(t),this.TAG_NAME=e(424),this[e(411)]=null,this.player.debugLog(this[e(405)],e(406))}[FR(434)](){const t=FR;super[t(434)](),this[t(420)][t(410)](this[t(405)],t(434))}loadSource(t){return new Promise(((e,s)=>{const i=UR,r=this[i(413)];r[i(437)]()[i(408)]((n=>{const o=i;r[o(419)](n),this[o(420)][o(410)](this[o(405)],o(414),t);let a=function(t,e,s){const i=vR;return nd({url:t,type:i(353),data:e,contentType:i(350),processData:!1,dataType:i(359)})}(t,n[o(439)]);this[o(411)]=a,a[o(408)]((t=>{const i=o;this[i(411)]=null,this[i(420)].debugLog(this.TAG_NAME,i(435)+t[i(438)]);const n=t;if(n&&js(n[i(438)])&&0!==n[i(438)])return this.player[i(426)](this[i(405)],i(404)+n.code),s(n.msg);if(n&&n[i(439)]){this[i(423)](n[i(439)]);const t=this[i(441)]();if(Ri(t[i(422)]))return s(t.error);r[i(425)](new RTCSessionDescription({type:i(409),sdp:n[i(439)]}))[i(408)]((()=>{e()}))[i(403)]((t=>{const e=i;this[e(420)][e(426)](this[e(405)],e(415),t.toString(),t),s(t)}))}else this[i(420)][i(426)](this[i(405)],i(436)),s(i(416))})).catch((t=>{const e=o;null!==this[e(411)]&&(this.fetchPromise=null,this[e(420)][e(426)](this[e(405)],e(440),t[e(421)](),t),s(t))}))})).catch((t=>{const e=i;this[e(420)][e(426)](this[e(405)],e(430),t[e(421)](),t),s(t)}))}))}}function NR(){const t=["parseSdp","WebrtcForZLMDecoder","setRemoteDescription","debugError","7555FAxssU","11884AzYTnW","79198lHMPUS","loadSource rtcPeerConnection.createOffer() error","180JIlYnH","3222440rzvRgN","56INVJcN","destroy","getWebRtcRemoteSdp response and code is ","response sdp is null","createOffer","code","sdp","loadSource getWebRtcRemoteSdp response error","isVideoCodecSupported","catch","response json code ","TAG_NAME","init","3283698GiRgwg","then","answer","debugLog","fetchPromise","3060umAPfi","rtcPeerConnection","getWebRtcRemoteSdp loadSource","loadSource setRemoteDescription error","sdp is null","6975837fCTtES","6674770HSRWaU","setLocalDescription","player","toString","result"];return(NR=function(){return t})()}const jR=WR;function VR(){const t=["off","length","7090782CfZQXg","data","play","abps","init","6281712YzKWnk","event","unsubscribe","AliyunRtc","AliRTS"," and message: ","onPlayEvent and waiting -> playing","reconnect","floor","TAG_NAME","getVideoBufferRangeList","AliyunRtc is not defined","then","2209110qDfkLN","updateStats","4215078gAcUxY","loadSource","destroy","aliyunRtcError","onPlayEvent and playing - > waiting","PLAYING","start","canplay","video","kBps","getVideoCodec","toFixed","2ABoOAB","end","audio","WAITING","waiting","paused","emit","emitError","subscribe","message","isVideoPlaying","onPlayEvent and canplay","listenEvents","$videoElement","debugLog","createClient","ended","887328HOAjQc","_isDestroyed","loadSource and subscribe is not success: ","h264","175802fcsBWA","MEDIA","errorCode","aliyunRtc","onPlayEvent","buffered","bytesReceivedPerSecond","player","2823vmXCfT","debugError","aliyunRtcRemoteStream","playing","getVideoCurrentTime","loadSource and is not support: "];return(VR=function(){return t})()}function WR(t,e){const s=VR();return(WR=function(t,e){return s[t-=197]})(t,e)}!function(t,e){const s=WR,i=t();for(;;)try{if(600422===parseInt(s(208))/1+-parseInt(s(256))/2*(parseInt(s(216))/3)+-parseInt(s(204))/4+parseInt(s(242))/5+-parseInt(s(224))/6+parseInt(s(244))/7+parseInt(s(229))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(VR);class GR extends h{constructor(t){const e=WR;if(super(),this[e(238)]=e(232),this[e(215)]=t,!window.AliRTS)throw new Error(e(240));this[e(211)]=window[e(233)][e(202)](),this[e(218)]=null,this[e(200)]=this[e(215)][e(252)].$videoElement,this.listenEvents(),this[e(205)]=!1,this[e(215)][e(201)](this.TAG_NAME,e(228))}[jR(246)](){const t=jR;this[t(205)]=!0,this[t(211)]&&(this.aliyunRtcRemoteStream&&(this[t(218)]=null),this.aliyunRtc[t(231)](),this[t(211)]=null),this[t(200)]=null,this[t(222)](),this[t(215)][t(201)](this[t(238)],t(246))}[jR(199)](){const t=jR;this[t(211)].on("onError",(e=>{const s=t;this.player[s(201)](this[s(238)],"onError and code is "+e[s(210)]+s(234)+e.message),10400!==e[s(210)]&&(this[s(215)][s(217)](this[s(238)],"onError and code is "+e[s(210)]+s(234)+e[s(265)]),this[s(215)][s(263)](Q[s(247)],e))})),this[t(211)].on("reconnect",(e=>{const s=t;this[s(215)][s(201)](this[s(238)],s(236),e)}));const e={CANPLAY:t(251),WAITING:t(260),PLAYING:t(219),MEDIA:"media"};this[t(211)].on(t(212),(s=>{const i=t;if(s[i(230)]===e.CANPLAY)this.player.debugLog(this.TAG_NAME,i(198));else if(s[i(230)]===e[i(259)])this[i(215)].debugLog(this[i(238)],i(248));else if(s[i(230)]===e[i(249)])this[i(215)].debugLog(this[i(238)],i(235));else if(s[i(230)]===e[i(209)]){const t=s[i(225)];let e={},r=0;if(t[i(258)]){const s=Math[i(237)](t[i(258)][i(214)]);r+=s,e[i(227)]=s}if(t.video){const s=Math[i(237)](t.video[i(214)]);r+=s,e.vbps=s}this[i(215)][i(243)](e),this[i(215)][i(262)](H[i(253)],(r/1e3)[i(255)](2))}}))}[jR(245)](t){return new Promise(((e,s)=>{const i=WR;this[i(211)].isSupport({isReceiveVideo:!0}).then((()=>{const r=i;this[r(211)][r(264)](t,{})[r(241)]((t=>{const s=r;this.aliyunRtcRemoteStream=t,t[s(226)](this[s(200)]),e()})).catch((t=>{const e=r;this.player[e(217)](this[e(238)],e(206),t[e(265)]),s(t[e(265)])}))})).catch((t=>{const e=i;this[e(215)][e(217)](this.TAG_NAME,e(221),t.message),s(t[e(265)])}))}))}[jR(220)](){let t=0;return this[jR(200)]&&(t=this.$videoElement.currentTime),t}[jR(197)](){const t=jR;return this[t(200)]&&Ri(this[t(200)][t(261)])&&Ri(this[t(200)][t(203)])&&0!==this[t(200)].playbackRate&&0!==this.$videoElement.readyState}getVideoBufferTimeRange(){const t=jR,e=this[t(200)];let s=null;if(e){const i=e.buffered,r=i.length?i[t(250)](0):0,n=i.length?i[t(257)](i[t(223)]-1):0;s={start:r,end:n,diff:n-r}}return s}[jR(239)](){const t=jR,e=this[t(200)];let s=[];if(e){const i=e[t(213)];for(let e=0;e<i[t(223)];e++){let r=i[t(250)](e),n=i[t(257)](e);s.push({start:r,end:n})}}return s}[jR(254)](){return Z[jR(207)]}}const zR=HR;function HR(t,e){const s=qR();return(HR=function(t,e){return s[t-=399]})(t,e)}!function(t,e){const s=HR,i=t();for(;;)try{if(413537===parseInt(s(409))/1+-parseInt(s(415))/2+-parseInt(s(411))/3*(parseInt(s(428))/4)+-parseInt(s(427))/5+-parseInt(s(425))/6*(parseInt(s(404))/7)+parseInt(s(429))/8*(-parseInt(s(424))/9)+parseInt(s(417))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(qR);class KR{constructor(t){const e=HR;this[e(403)]=t,this.TAG_NAME=e(431),this[e(426)]=null,this[e(408)]=null,this[e(414)]=-1,this[e(407)]=-1,this.observeCpuSuccess=!1,this[e(405)](),this[e(403)][e(406)](this.TAG_NAME,"init")}[zR(399)](){const t=zR;this[t(426)]&&(this.observeCpuSuccess&&this[t(426)][t(418)](),this[t(426)]=null),this[t(419)]=!1,this[t(408)]=null,this.currentLevel=-1,this.previousLevel=-1,this.player.debugLog(this[t(421)],t(399))}[zR(410)](){return this[zR(414)]}[zR(405)](){const t=zR;Ri(Ni())?this[t(403)][t(406)](this.TAG_NAME,t(422)):(this[t(426)]=new PressureObserver((e=>{const s=t,i=(e||[])[s(400)]((t=>"cpu"===t.source));if(i){switch(this.latestCpuInfo=i,i[s(402)]){case"nominal":this[s(414)]=0;break;case s(420):this[s(414)]=1;break;case s(423):this.currentLevel=2;break;case s(432):this[s(414)]=3;break;default:this[s(414)]=-1}this[s(414)]!==this.previousLevel&&this.player[s(401)](H[s(430)],this[s(414)]),this.previousLevel=this[s(414)]}})),this[t(426)]&&this[t(426)][t(412)](t(413),{sampleInterval:1e3}).then((()=>{const e=t;this[e(419)]=!0,this[e(403)].debugLog(this[e(421)],"observe cpu success")}))[t(416)]((()=>{const e=t;this.observeCpuSuccess=!1,this[e(403)].debugLog(this[e(421)],"observe cpu fail")})))}}function qR(){const t=["fair","TAG_NAME","not support PressureObserver","serious","9qgtJLZ","3465444kgPMTB","observer","741285tLQJtf","4YyOdmx","1794880LMlGKN","pressureObserverCpu","PressureObserverCpu","critical","destroy","find","emit","state","player","7cDmNOt","_init","debugLog","previousLevel","latestCpuInfo","648855xKuZcB","getCurrentCpuState","1826655xwXVpQ","observe","cpu","currentLevel","386274SpgctU","catch","15168950Gskrwc","disconnect","observeCpuSuccess"];return(qR=function(){return t})()}const QR=JR;function YR(){const t=["842228YqmiwF","black","25502tdOzPW","1830204dofExi","862715dwaAeT","resumeAnimation","_addDom","resize","isDynamic","shadowRootInnerDom","off","rafID","isGhost","_removeDom","6smlLnA","shadowRootDynamicDom","DynamicWatermark","904znpGRo","bound","player","width","startAnimation","GhostWatermark","isStopAnimation","update","fontSize","startAndResize","16114riqEfc","TAG_NAME","removeDomTimeout","waterMarkWillRemove","isPauseAnimation","style","addDomTimeout","random","stopAnimation","length","left","start","speed","167064KNhfrw","top","opacity","%20%E4%BD%93%E9%AA%8C","content","color","min","options","waterMarkWillAdd","357370RySDrZ","height","destroy","ghostConfig","getBoundingClientRect","bind","187sfLQRm","3GbiVcw"];return(YR=function(){return t})()}function JR(t,e){const s=YR();return(JR=function(t,e){return s[t-=182]})(t,e)}!function(t,e){const s=JR,i=t();for(;;)try{if(134703===-parseInt(s(199))/1*(parseInt(s(211))/2)+-parseInt(s(196))/3*(-parseInt(s(197))/4)+parseInt(s(201))/5+-parseInt(s(237))/6+-parseInt(s(224))/7*(-parseInt(s(214))/8)+parseInt(s(200))/9+-parseInt(s(189))/10*(parseInt(s(195))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(YR);class XR extends On{constructor(t){const e=JR;let s=arguments[e(233)]>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this[e(225)]=e(213),this.isPauseAnimation=!1,this[e(220)]=!1,this.rafID=null,this.options=s,this[e(236)]=s.speed||.2,this[e(205)]=!0,this.shadowRootDynamicDom=null,this.isGhost=!0===s[e(209)],this[e(209)]&&(this[e(225)]=e(219)),this[e(192)]={on:s.on||5,off:s.off||5},this.waterMarkWillRemove=!1,this[e(188)]=!1,this[e(226)]=null,this[e(230)]=null,this[e(215)]={start:this.start[e(194)](this)},this.player.once(H.start,this[e(215)][e(235)])}[QR(191)](){const t=QR;this[t(226)]&&(clearTimeout(this.removeDomTimeout),this.removeDomTimeout=null),this[t(230)]&&(clearTimeout(this[t(230)]),this.addDomTimeout=null),this.shadowRootDynamicDom=null,this[t(232)](),this[t(208)]&&(cancelAnimationFrame(this.rafID),this[t(208)]=null),this.options=null,this[t(192)]=null,this[t(215)]=null,super[t(191)]()}[QR(235)](){const t=QR;let e;qi()?e=decodeURIComponent(T+t(183)):Ki()&&(e=this[t(187)][t(184)]);let s=this[t(216)].getVideoInfo();!s&&(s={width:200,height:200}),e&&(this[t(221)]({text:{content:e,fontSize:this[t(187)][t(222)]||18,color:this[t(187)][t(185)]||t(198)},left:s[t(217)]*Math[t(231)](),top:s[t(190)]*Math[t(231)](),opacity:this[t(187)][t(182)]||.15}),this[t(218)]())}[QR(223)](){const t=QR;this[t(235)](),this[t(204)]()}[QR(218)](){const t=QR;if(!this[t(208)]){let e=1,s=1,i=Math.random(),r={width:0,height:0};const n=()=>{const o=t;try{if(Ri(this[o(228)])&&this[o(212)]&&this[o(206)]){const t=this.shadowRootInnerDom,a=this[o(212)],h=t.getBoundingClientRect(),l=a[o(193)]();if(l[o(217)]&&l[o(190)]&&(r.width=l.width,r[o(190)]=l[o(190)]),!this[o(206)].contains(this[o(212)]))return this[o(209)]?Ri(this[o(188)])&&(this[o(188)]=!0,this[o(230)]=setTimeout((()=>{const t=o;this[t(203)](h,r),this[t(188)]=!1,this[t(230)]=null}),1e3*this.ghostConfig[o(207)])):this._addDom(h,r),void(0!==this[o(236)]&&requestAnimationFrame(n));const c=Math[o(186)](1,0===this[o(236)]?0:this[o(236)]?this[o(236)]:.2);let d=l.left-h[o(234)],u=l.top-h[o(238)];d+=c*s*i,u+=c*e*(1-i),d+r[o(217)]>h[o(217)]?(s=-1,i=Math[o(231)]()):d<0&&(s=1,i=Math[o(231)]()),u+r[o(190)]>h.height?(e=-1,i=Math[o(231)]()):u<0&&(e=1,i=Math[o(231)]()),d=Math[o(186)](h[o(217)]-r[o(217)],d),u=Math.min(h[o(190)]-r[o(190)],u);const p=d/h.width*100,f=u/h[o(190)]*100;this[o(212)][o(229)][o(234)]=p+"%",this.shadowRootDynamicDom[o(229)][o(238)]=f+"%",Ri(this[o(227)])&&this[o(209)]&&(this.waterMarkWillRemove=!0,this.removeDomTimeout=setTimeout((()=>{this[o(210)](),this.waterMarkWillRemove=!1,this.removeDomTimeout=null}),1e3*this[o(192)].on))}}catch(t){}if(this[o(220)])return this.isStopAnimation=!1,cancelAnimationFrame(this[o(208)]),void(this[o(208)]=null);0!==this[o(236)]&&requestAnimationFrame(n)};this[t(208)]=requestAnimationFrame(n)}}[QR(203)](t,e){const s=QR;if(this[s(206)]&&this[s(212)]){this[s(206)].appendChild(this.shadowRootDynamicDom);let i=t[s(217)]*Math.random(),r=t[s(190)]*Math[s(231)]();i=Math[s(186)](t[s(217)]-2*e[s(217)],i),r=Math[s(186)](t[s(190)]-2*e[s(190)],r),this[s(212)].style[s(234)]=i+"px",this[s(212)][s(229)][s(238)]=r+"px"}}[QR(202)](){this.isPauseAnimation=!1}pauseAnimation(){this.isPauseAnimation=!0}stopAnimation(){this[QR(220)]=!0}}const $R=tL;function ZR(){const t=["max","610pVikAM","height","6659310XjvnDa","canvas","13547809vDBxTW","stopPropagation","minX","3304XwDCJW","handleMouseUp","drawingRectColor","div","pageY","_opt","mousedown","position","map","575470Ozxhoh","preventDefault","19904yKmKVr","_unbindEvents","drawingRectLineWidth","appendChild","getVideoInfo","mousemove","isResize","100%","min","handleMouseDown","$element","forEach","maxY","drawingRectInfo","bindEvents","classList","handleMouseMove","startPagePoint","debugLog","_handleDrawingRect","drawingRectangle","DrawRectangle","bind","removeChild","px solid ","minY","_removeRectCanvasContainer","off","bound","add","emit","reset","_addRectCanvasContainer","101538PguDKb","style","_resetPoint","absolute","isFullResize","init","15ZHqtlA","$rectBox","856656FlCoEC","createElement","maxX","offsetTop","endPoint","5pUSutz","mouseup","jb-pro-drawing-rect-box","aspectRatio","floor","TAG_NAME","offsetY","startPoint","drawingRectEndRemoveDom","offsetX","_removeRectBox","48sOJbYT","pageX","_bindEvents","default","querySelector","width","push","isDragging",".jb-pro-drawing-rect-box-canvas-container","destroy","abs","3373764dpSmzX","getControlHeight","$container","border","player","getShowVideoRect"];return(ZR=function(){return t})()}function tL(t,e){const s=ZR();return(tL=function(t,e){return s[t-=309]})(t,e)}!function(t,e){const s=tL,i=t();for(;;)try{if(801927===parseInt(s(346))/1*(-parseInt(s(391))/2)+parseInt(s(339))/3*(parseInt(s(341))/4)+-parseInt(s(377))/5+-parseInt(s(368))/6+-parseInt(s(382))/7*(parseInt(s(393))/8)+parseInt(s(333))/9*(-parseInt(s(375))/10)+-parseInt(s(379))/11*(-parseInt(s(357))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ZR);class eL extends h{constructor(t){const e=tL;super(),this[e(372)]=t,this[e(351)]=e(321),this[e(331)](),this[e(335)](),this[e(314)]=[],this.$rectBox=null,this.$element=null,this.bound={_handleDrawingRect:this._handleDrawingRect.bind(this),handleMouseMove:this[e(316)].bind(this),handleMouseDown:this[e(309)].bind(this),handleMouseUp:this.handleMouseUp[e(322)](this)},this[e(372)].on(H.drawingRect,this[e(328)][e(319)]),this.player[e(318)](this[e(351)],e(338))}[$R(366)](){const t=$R;this[t(394)](),this[t(331)](),this[t(356)](),this[t(327)](),this[t(328)]=null,this.player.debugLog(this[t(351)],t(366))}[$R(331)](){const t=$R;this[t(320)]=!1,this.isDragging=!1,this[t(353)]=null,this.endPoint=null,this[t(317)]=null}[$R(335)](){const t=$R;this[t(317)]={x:0,y:0},this[t(353)]={x:0,y:0},this.endPoint={x:0,y:0}}[$R(319)](t){const e=$R;this[e(320)]=t,t?this[e(359)]():(this[e(394)](),this._removeRectBox())}[$R(359)](){const t=$R,{events:{proxy:e}}=this.player,s=e(this[t(372)][t(370)],t(398),this.bound.handleMouseMove),i=e(this[t(372)][t(370)],t(388),this[t(328)][t(309)]),r=e(window,t(347),this[t(328)][t(383)]);this[t(332)](),this[t(314)][t(363)](s,i,r)}[$R(394)](){const t=$R;this._removeRectCanvasContainer(),this[t(314)].length>0&&(this[t(314)][t(311)]((t=>{t&&t()})),this.bindEvents=[])}[$R(332)](){const t=$R;this[t(372)].getRenderType()===A[t(378)]&&(this[t(310)]=document[t(342)](t(385)),this[t(310)][t(334)][t(389)]=t(336),this.$element[t(315)][t(329)]("jb-pro-drawing-rect-box-canvas-container"),this[t(310)][t(334)].width=t(400),this.$element[t(334)][t(376)]="100%",this.$element.style.zIndex=1,this[t(372)][t(370)][t(396)](this[t(310)]))}[$R(326)](){const t=$R;if(this[t(310)]){if(!Pn(this[t(310)])){const e=this[t(372)][t(370)][t(361)](t(365));e&&this.player.$container&&this.player.$container[t(323)](e)}this.$element=null}}[$R(356)](){const t=$R;if(this.$rectBox){if(!Pn(this[t(340)])){const e=this[t(372)].$container[t(361)](".jb-pro-drawing-rect-box");e&&this[t(372)][t(370)]&&this.player[t(370)][t(323)](e)}this.$rectBox=null}}[$R(309)](t){const e=$R;if(t[e(380)](),!this[e(320)])return;this._removeRectBox();const s=t[e(355)],i=t[e(352)];this.startPoint.x=s,this[e(353)].y=i,this.startPagePoint.x=t[e(358)]-this[e(372)].$container.offsetLeft,this[e(317)].y=t.pageY-this[e(372)].$container[e(344)],this[e(340)]=document[e(342)](e(385)),this[e(340)][e(315)][e(329)](e(348)),this[e(340)][e(334)][e(371)]=this[e(372)][e(387)][e(395)]+e(324)+this[e(372)][e(387)][e(384)],this[e(340)][e(334)][e(389)]="absolute",this[e(340)][e(334)].left=this[e(353)].x+"px",this[e(340)][e(334)].top=this[e(353)].y+"px",this[e(372)][e(370)].appendChild(this.$rectBox),this[e(364)]=!0}[$R(316)](t){const e=$R;if(t[e(380)](),!this[e(364)])return;if(!this[e(320)])return;if(!this[e(340)])return;const s=this[e(372)][e(370)],i=this[e(372)][e(369)](),r=t.pageX-s.offsetLeft,n=t[e(386)]-s[e(344)];if(r<this[e(317)].x||n<this[e(317)].y)return;this[e(345)].x=r,this[e(345)].y=n;let o=Math[e(367)](this[e(345)].x-this[e(317)].x),a=Math[e(367)](this[e(345)].y-this[e(317)].y),h=this[e(372)].width-this[e(353)].x-1-2*this[e(372)][e(387)][e(395)],l=this[e(372)][e(376)]-this[e(353)].y-i-1-2*this[e(372)][e(387)][e(395)];o>h&&(o=h,this.endPoint.x=this[e(353)].x+o),a>l&&(a=l,this[e(345)].y=this[e(353)].y+a),this.$rectBox[e(334)].width=o+"px",this[e(340)][e(334)][e(376)]=a+"px"}[$R(383)](t){const e=$R;if(t[e(380)](),this.drawingRectangle&&this[e(364)]){t[e(392)](),this[e(364)]=!1;const s=this[e(345)].x-this[e(353)].x>0,i=this[e(345)].y-this[e(353)].y>0,r=!s||!i;if((this[e(372)]._opt[e(354)]||r)&&this[e(356)](),r)return;const n={startPoint:this.startPoint,endPoint:this[e(345)],width:Math.abs(this.endPoint.x-this[e(353)].x),height:Math.abs(this[e(345)].y-this[e(353)].y)},o={},a=this[e(372)][e(397)]();if(a[e(362)]&&a[e(376)])if(this[e(372)][e(387)][e(349)]===e(360)){const t=this.player[e(373)]();let s=t[e(362)],i=t.height,r=a.width,h=a[e(376)],l=s/r,c=i/h;const d=this[e(372)][e(387)][e(399)],u=this.player[e(387)][e(337)];let p=0,f=0;if(d&&(l>c?(l=c,p=Math.floor((s-r*l)/2)):(c=l,f=Math[e(350)]((i-h*c)/2))),u){let t=l>c?l:c;l=t,c=t}const m=h,g=r;o[e(353)]={x:Math[e(374)](0,Math[e(401)](Math[e(350)]((n[e(353)].x-p)/l),g)),y:Math[e(374)](0,Math.min(Math[e(350)]((n[e(353)].y-f)/c),m))},o[e(345)]={x:Math[e(374)](0,Math[e(401)](Math[e(350)]((n[e(345)].x-p)/l),g)),y:Math[e(374)](0,Math[e(401)](Math[e(350)]((n.endPoint.y-f)/c),m))},o[e(362)]=o[e(345)].x-o[e(353)].x,o[e(376)]=o[e(345)].y-o[e(353)].y}else{const t=this.player[e(387)][e(349)].split(":")[e(390)](Number),s=this[e(372)][e(373)]();let i=s[e(362)],r=s.height;const h=a[e(362)]/a[e(376)],l=t[0]/t[1];let c=0,d=0,u=0,p=0,f=a.width,m=a.height;if(h>l){c=i*(l*a[e(376)]/a.width),d=r,u=(i-c)/2}else{const t=a[e(362)]/l/a[e(376)];c=i,d=r*t,p=(r-d)/2}o.startPoint={x:Math[e(374)](0,Math[e(401)](Math[e(350)]((n.startPoint.x-u)/(c/a[e(362)])),f)),y:Math[e(374)](0,Math[e(401)](Math.floor((n[e(353)].y-p)/(d/a[e(376)])),m))},o[e(345)]={x:Math[e(374)](0,Math[e(401)](Math[e(350)]((n.endPoint.x-u)/(c/a.width)),f)),y:Math[e(374)](0,Math[e(401)](Math[e(350)]((n[e(345)].y-p)/(d/a[e(376)])),m))},o[e(362)]=o[e(345)].x-o.startPoint.x,o[e(376)]=o.endPoint.y-o[e(353)].y}this[e(372)][e(330)](H[e(313)],{container:n,video:o}),this[e(335)]()}}getDrawingMinLeftTop(){const t=$R,e=this[t(372)][t(373)](),s=this.player.getVideoInfo();let i=e.width,r=e[t(376)],n={minX:0,minY:0,maxX:i,maxY:r};if(this[t(372)][t(387)].aspectRatio===t(360)){const e=this[t(372)][t(387)][t(399)];let o=s[t(362)],a=s[t(376)],h=i/o,l=r/a;e&&(h>l?(n[t(381)]=Math[t(350)]((i-o*h)/2),n[t(343)]=Math[t(350)](n[t(381)]+o*h)):(n[t(325)]=Math[t(350)]((r-a*l)/2),n[t(312)]=Math[t(350)](n[t(325)]+a*l)))}else{const e=this[t(372)]._opt.aspectRatio.split(":")[t(390)](Number),o=s[t(362)]/s[t(376)],a=e[0]/e[1];let h=0,l=0;if(o>a){h=i*(a*s.height/s[t(362)]),n[t(381)]=Math[t(350)]((i-h)/2),n[t(343)]=Math[t(350)](n[t(381)]+h)}else{l=r*(s[t(362)]/a/s[t(376)]),n[t(325)]=(r-l)/2,n[t(325)]=Math[t(350)](n[t(381)]+l)}}return n}}function sL(t,e){const s=rL();return(sL=function(t,e){return s[t-=463]})(t,e)}const iL=sL;function rL(){const t=["startCheckStatsInterval"," and\n        useMThreading is ","totalDuration","debugWarn"," and\n        isFFmpegSIMD is ","emit","_seekingTimestamp","playVodInitSeekRemoveBackgroundLock","updatePlayVodFps"," < maxDiff ","height"," < 1000 so return and emit error","init","playVodBufferedTime","startTime","setFps()","updateDuration() success and startTime is ","_allStatsData","setStartTime","mseDecoder","setCurrentTime","updateStats and calcFps is ","getCurrentTime","playVodCalcFpsError"," > this._totalDuration ","stringify","jb-pro-container-play-vod","\n                    and next update video currentTime","_playbackTs","time","_isEndedOnce is true and diff playingTimestamp is ","playVodSeeking","seek()"," and\n        calcForwardMaxRateDecodeIFrame is ","rate","1397312RqwcZQ","updateStats","_listen","classList"," and return true","clearStatsInterval","lessThanCurrentTimeTimeout","seek","videoCurrentTime","isFFmpegSIMD"," and bufferedTime is ","abs"," and set _isEndedOnce to true","_isEnded","isEnded() check isRateMoreThanMaxRate and isBufferEnd and ts is ","_startTime","_playingTimestamp","add","playVodPause","player","timestamp ","bind","isEnded() diff ","playVodTime","192467wqwwgt","calcPlayVodForwardMaxRateDecodeIFrame","debugLog","isEnded","decodeLastDataForVod","_reset","playVodEnded","useWasm","fps","playingTimestamp","isRateMoreThanMaxRate","playVodForwardMaxRateDecodeIFrame","19086EXTikE","_renderFps","92dQwlWl","video","902VLfZkz"," * ","isPlayVodUseWASM","clearUpAllSourceBuffer","start","3631869rDWFLq","round","setFps","_fps","setPlayingTimestamp"," and listen start event to seek","updateDuration","bufferSize","isPlayVodMp4UseVideoSrc and video is ended","_startFpsTimestamp","videoCurrentTimeDiff","showControl","useWCS","setPlayingTimestamp()","playVodSeek","_totalDuration","calcRateMoreThanMaxRate() and\n        useWCS is ","_removeSeekingTimestamp","useMThreading","_prevTime","setBufferedTime"," and\n        video encode code is ","_isEndedOnce","68270vMDwqd"," <= ","getBufferedTime","287250lLVqHA","isPlayVodMp4UseVideoSrc","pause","TAG_NAME"," and\n        useWasm is ","setRate"," and\n        useSIMD is ","clearLessThanCurrentTimeTimeout","_rate","isPlayVodUseMSE","isSeeking","jessibuca-container-play-vod","once","_opt","_startfpsTime"," and totalDuration is ","videoInfo","isPlayVodMp4UseVideoSrc and diff is ","_isLessThanCurrentTime","bound","playVodMaxGopDuration"," and ts is ","checkIsEnded","_bufferedTimestamp","remove","obj.time is ","49cWiKwi"," and diff is ","resume","log","decoderWorker","seekingTimestamp","isSeeking and return","useSIMD","$container","_calcFps","isEnded()"," and videoCurrentTimeDiff is 0","_checkStatsInterval","audio","250kcAifZ","playVodStats","1692glXGHD","destroy"];return(rL=function(){return t})()}!function(t,e){const s=sL,i=t();for(;;)try{if(211621===parseInt(s(538))/1+parseInt(s(507))/2*(parseInt(s(580))/3)+parseInt(s(505))/4*(parseInt(s(535))/5)+-parseInt(s(503))/6*(-parseInt(s(564))/7)+parseInt(s(467))/8+-parseInt(s(512))/9+parseInt(s(578))/10*(-parseInt(s(491))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rL);class nL extends h{constructor(t,e){const s=sL;super(),this.player=t,this[s(541)]="PlayVod",this.player.$container.classList[s(484)](s(608)),this._reset(),this[s(515)]=parseInt(e[s(499)],10)||t._opt.playVodFps,this[s(576)]=null,this.lessThanCurrentTimeTimeout=null,this.bound={updateStats:this[s(468)][s(488)](this),calcRateMoreThanMaxRate:this.calcRateMoreThanMaxRate.bind(this)},this[s(469)]();let i=e[s(596)]||0;this[s(600)](i),this.player.on(H[s(485)],(t=>{const e=s;t?this.pause():this[e(566)]()}));const r={fps:this[s(515)],uiUsePlaybackPause:e.uiUsePlaybackPause,showControl:e[s(523)]};this[s(492)]=this[s(486)][s(551)][s(502)],this[s(486)].once(H[s(554)],this[s(557)].calcRateMoreThanMaxRate),t.debug[s(567)](this[s(541)],s(594),JSON[s(607)](r))}[iL(581)](){const t=iL;this[t(545)](),this.clearStatsInterval(),this[t(496)](),this[t(486)][t(572)]&&this[t(486)][t(572)][t(470)][t(562)](t(549)),this.off(),this[t(557)]=null,this[t(486)].debugLog(this.TAG_NAME,t(581))}[iL(496)](){const t=iL;this[t(482)]=null,this[t(483)]=null,this[t(561)]=null,this[t(527)]=0,this[t(588)]=null,this[t(556)]=!1,this._fps=null,this[t(573)]=null,this._rate=1,this[t(552)]=null,this._startFpsTimestamp=null,this[t(504)]=0,this[t(610)]=0,this._prevTs=0,this[t(531)]=null,this._isEndedOnce=!1,this[t(480)]=!1}[iL(469)](){const t=iL;this.player.on(H.currentPts,(t=>{const e=sL;let s=t;(this.player[e(547)]()||this.player[e(539)]())&&(s=1e3*(this[e(486)].getVideoCurrentTime()||0)),this[e(516)](s)})),this[t(486)].on(H.stats,(e=>{const s=t;if(this[s(486)][s(485)])return;let i=e.ts;this[s(486)][s(547)]()?(this[s(486)].isPlaying()&&0===e.videoCurrentTimeDiff&&this.player.debugWarn(this.TAG_NAME,"updateStats and videoCurrentTimeDiff is 0 and\n                    videoCurrentTime is "+e[s(475)]+s(609)),i=1e3*e[s(475)]):this[s(486)][s(539)]()&&(i=1e3*e[s(475)]);const r=this._prevTs;this._prevTs=i,this[s(560)](r)}))}[iL(560)](t){const e=iL;this[e(494)](t)&&(this[e(529)](),this[e(486)][e(587)](H[e(497)]))}[iL(494)](t){const e=iL;let s=!1;const i=700;if(this[e(480)])return!0;if(this[e(486)].isPlayVodMp4UseVideoSrc()){if(this[e(486)].video&&this[e(486)][e(506)].isEnded())return this[e(486)][e(493)](this[e(541)],e(574),e(520)),this[e(480)]=!0,!0;const t=this[e(486)]._allStatsData[e(475)],r=this[e(486)][e(599)][e(522)],n=Math[e(478)](t-this[e(527)]);return n<i&&0===r?(this[e(486)][e(493)](this[e(541)],e(574),e(555)+n+e(591)+i+e(575)),this[e(480)]=!0,!0):s}if(this[e(486)][e(547)]()&&this[e(486)][e(506)]&&this.player.video[e(494)]())return this[e(486)][e(493)](this.TAG_NAME,e(574),"use mse and video is ended"),this[e(480)]=!0,!0;const r=Math.abs(this[e(500)]-this[e(527)]);if(r<i){if(this[e(534)])return this[e(486)][e(493)](this.TAG_NAME,e(574),e(612)+this.playingTimestamp+e(553)+this[e(527)]+" "+r+" < "+i),this[e(480)]=!0,!0;!this._isEndedOnce&&(this[e(486)][e(493)](this.TAG_NAME,e(489)+r+" < maxDiff "+i+e(479)),this.player[e(547)]()&&this[e(486)][e(601)]&&this[e(486)][e(601)][e(495)](),this[e(534)]=!0)}if(Ri(s)&&t&&t===this._prevTs){const s=this.getBufferedTime()>=this[e(584)],i=this[e(501)](),n=1e3*this[e(486)][e(551)][e(558)];if(s&&i&&r<=n){if(this._isEndedOnce)return this[e(486)][e(493)](this[e(541)],e(481)+t+" duration is "+this[e(527)]+e(565)+r+e(536)+1e3*this[e(486)][e(551)][e(558)]+e(471)),this[e(480)]=!0,!0;!this[e(534)]&&(this[e(486)][e(493)](this[e(541)],e(489)+r+" < playVodMaxGopDuration "+n+e(479)),this[e(486)][e(547)]()&&this[e(486)][e(601)]&&this[e(486)][e(601)].decodeLastDataForVod(),this[e(534)]=!0)}}return s}[iL(518)](t){const e=iL;this._totalDuration=1e3*t,this.startTime&&(this[e(486)][e(493)](this.TAG_NAME,e(598)+this[e(596)]+e(517)),this[e(486)][e(589)]=!0,this.player[e(550)](H[e(511)],(()=>{const t=e;this[t(474)]({time:this[t(596)]})}))),this[e(582)]()}[iL(540)](){this.clearStatsInterval()}[iL(566)](){this[iL(582)]()}[iL(468)](){const t=iL;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!this._startFpsTimestamp&&(this._startFpsTimestamp=is()),js(e.ts)&&(this.player.updateStats({fps:!0,ts:e.ts}),this._playbackTs=e.ts,!this[t(552)]&&(this[t(552)]=e.ts),this[t(504)]+=1);const s=is(),i=s-this[t(521)];if(i<1e3)return;let r=null;if(this[t(552)]&&(r=this[t(610)]-this[t(552)]),this[t(486)].isPlayVodNotUseMseAndNotVideoSrc()&&null===this[t(573)]&&this._totalDuration>0&&this._bufferedTimestamp>0){const e=this[t(527)],s=this[t(561)],i=Math[t(478)](e-s);if(i<1e3)return this[t(486)][t(585)](this[t(541)],t(603)+this[t(573)]+t(477)+s+t(553)+e+" and diff is "+i+t(593)),void this[t(486)].emitError(Q[t(605)],"can not calc fps, video fps must more than 10")}this[t(486)][t(587)](H[t(579)],{fps:this[t(504)],rate:this[t(466)],start:this[t(552)],end:this._playbackTs,timestamp:i,dataTimestamp:r,audioBufferSize:this[t(486)][t(577)]?this[t(486)][t(577)].bufferSize:0,videoBufferSize:this[t(486)][t(506)]?this[t(486)][t(506)][t(519)]:0,bufferedTime:this[t(537)](),ts:this._playbackTs}),this[t(504)]=0,this[t(552)]=this[t(610)],this[t(521)]=s}[iL(582)](){const t=iL;this[t(472)](),this._checkStatsInterval=setInterval(this[t(557)][t(468)],1e3)}[iL(472)](){const t=iL;this[t(576)]&&(clearInterval(this[t(576)]),this._checkStatsInterval=null)}get totalDuration(){const t=iL;return Math[t(513)](this[t(527)]/1e3)}get[iL(596)](){return this[iL(482)]||0}[iL(600)](t){this[iL(482)]=t,this._playingTimestamp=t}[iL(543)](t){const e=iL;this[e(546)]=t,this.player[e(587)](H.playVodRateChange,t)}[iL(514)](t){const e=iL;this.player[e(493)](this.TAG_NAME,e(597),t),this[e(573)]=t,this[e(486)][e(509)]()&&this[e(486)].decoderWorker&&this[e(486)][e(568)][e(590)](t)}get[iL(499)](){const t=iL;return this[t(573)]||this[t(515)]}get[iL(466)](){return this[iL(546)]}[iL(516)](t){const e=iL;let s=t;s>this._totalDuration&&(this[e(486)][e(493)](this[e(541)],e(525),e(487)+s+e(606)+this._totalDuration),s=this[e(527)]),this[e(483)]=s;const i=this[e(604)]();(null===this[e(531)]||null!==this[e(531)]&&this[e(531)]<i)&&(this.player.emit(H[e(490)],i),this[e(531)]=i)}get[iL(500)](){return this[iL(483)]||0}[iL(604)](){return Math[iL(513)](this.playingTimestamp/1e3)}[iL(532)](t){const e=iL;this[e(561)]=t,this[e(486)][e(587)](H[e(595)],this.getBufferedTime())}[iL(537)](){const t=iL;let e=0;return this[t(561)]&&(e=parseInt(this[t(561)]/1e3,10)),e}get[iL(569)](){const t=iL;return null===this._seekingTimestamp?null:1e3*this[t(588)]}isSeeking(){return null!==this[iL(588)]}isSeekingLessThanCurrentTime(){const t=iL;return this[t(548)]()&&this[t(556)]}_removeSeekingTimestamp(){const t=iL;this._seekingTimestamp=null,this[t(556)]=!1}removeSeekingTimestamp(){const t=iL,e=this[t(588)];this[t(529)](),this[t(531)]=null,this.player[t(587)](H.playVodSeekEnd,e)}[iL(474)](t){const e=iL;let s=t[e(611)];if(this[e(548)]())this[e(486)][e(493)](this[e(541)],"seek()",e(570));else if(s>this[e(584)]&&(s=parseInt(this[e(584)],10)),s<0&&(s=0),this.player.debugLog(this[e(541)],e(464),e(563)+t[e(611)]+e(559)+s),this[e(494)]())this[e(486)].emit(H.playVodEndedAndReplay,s);else if(this._seekingTimestamp=s,this[e(486)][e(587)](H[e(526)],s),this[e(486)][e(587)](H[e(463)],s),this[e(486)].isPlayVodMp4UseVideoSrc())this[e(486)].video.setCurrentTime(s);else if(this[e(486)][e(547)]()){const t=this[e(486)].video.getCurrentTime();this._isLessThanCurrentTime=s<t,this._isLessThanCurrentTime?(this[e(486)][e(601)][e(510)](),this[e(545)](),this[e(473)]=setTimeout((()=>{const t=e;this[t(486)][t(506)][t(602)](s)}),100)):this[e(486)][e(506)][e(602)](s)}}calcRateMoreThanMaxRate(t){const e=iL,s=this[e(486)][e(551)];let i=zi(t,{useWCS:s[e(524)],useWasm:s[e(498)],useSIMD:s[e(571)],isFFmpegSIMD:s[e(476)],useMThreading:s.useMThreading});this[e(486)][e(493)](this[e(541)],e(528)+this[e(486)][e(551)][e(524)]+e(542)+this.player[e(551)][e(498)]+e(544)+this[e(486)][e(551)][e(571)]+e(586)+this[e(486)][e(551)][e(476)]+e(583)+this[e(486)][e(551)][e(530)]+" and\n        video info is "+t.width+e(508)+t[e(592)]+e(533)+t.encType+e(465)+i),this[e(492)]=i}[iL(501)](){const t=iL;return this[t(466)]>this[t(492)]}[iL(545)](){const t=iL;this[t(473)]&&(clearTimeout(this[t(473)]),this[t(473)]=null)}}function oL(){var t=["403083yENnWH","光圈-","545712lcSSdf","21567700bshTRm","1255456BGiFNo","7cLdcLj","聚焦-","雨刷开","1292586XfLrRw","22JlbCWh","透雾开","透雾关","80TbuBGB","43113QcTqys","聚焦+","电子放大","3803290fnDyWY"];return(oL=function(){return t})()}var aL=hL;function hL(t,e){var s=oL();return(hL=function(t,e){return s[t-=465]})(t,e)}!function(t,e){for(var s=hL,i=t();;)try{if(500045===-parseInt(s(479))/1*(parseInt(s(475))/2)+parseInt(s(474))/3+-parseInt(s(470))/4+-parseInt(s(465))/5+parseInt(s(468))/6*(-parseInt(s(471))/7)+parseInt(s(478))/8*(-parseInt(s(466))/9)+parseInt(s(469))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(oL);var lL={expandPlus:"放大",expandMinus:"缩小",apertureFar:"光圈+",apertureNear:aL(467),focusFar:aL(480),focusNear:aL(472),cruisePlay:"巡航开",cruisePause:"巡航关",fogOpen:aL(476),fogClose:aL(477),wiperOpen:aL(473),wiperClose:"雨刷关",zoomTips:aL(481),performanceInfo:"基本信息",performanceLive:"动态信息",...ie};const cL=dL;function dL(t,e){const s=uL();return(dL=function(t,e){return s[t-=290]})(t,e)}function uL(){const t=["isPlayStream","isPlaybackCacheBeforeDecodeForFpsRender","isPlayUseMSE","getTotalDuration","flvDemuxBufferSizeTooLarge","updateDynamicWatermark","_videoIframeIntervalTs","useWasmDecode","clearView","aiFace","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","isPlayVodMp4","flvDemuxBufferSizeTooLargeReplay","getCorrectionConfiguration","_stats","useWebCanvas is true, but not support so set useWebCanvas false","mseDecoderUseWorker","streamSuccess","getControlHtmlIsShow","play() url is ","$iconWrap","faceDetect","decoderOld","videoSEISyncPtsDiff","wcsDecodeAudio is true, but not support so set wcsDecodeAudio false","fullAuto","playInitStart","stopLocalCalculateTime","isPlayback","videoSEISyncPts","_flvMetaDataFps","ghostWatermark","useWebGPU is true, but not support so set useWebGPU false","getMetaData","heartTimeout","-simd","isStreamTypeNotWorker","getRecordingDuration","worker","container width is 0, please check the container width","updateWatermark","checkHeartTimeout$2 but fps is ","playbackPause set true and is recording, so stop recording","rect","isHls is true and demuxUseWorker is true then demuxUseWorker set true->false","39325ZrpuHc","webTransport","quality","ghostWatermarkConfig","playVodForwardJumping","\n                        bufferRangeList is ","left","isHls","getMaxDelayTs","widthOrHeightChangeReplay","playVodSeek","videoRenderType is ","checkHlsBufferedDelay","random","playing","clientHeight"," and isPlaying is ","isPlayer","fetchError","memoryLog","demux","_zooming","hasInit","isMpeg4","_lastestVisibilityChangeTimestamp","_isStreamEnd","jb-pro-fullscreen-web","isResize","screenshot","visibilityChange","aliyunRtc","mseWaitVideoCanplayTimeout ","getVideoInfo","webrtcLowFps","_imageDetectActive","autoUseSystemFullScreen",", currentRate is "," and isEnded, emit playVodEndedAndReplay","play is destroying","stream","streamBufferByteLength","max","isDemuxInWorker","maxFps"," and webFullscreen is ","use webrtc for ZLM",", and decoderCheckFirstIFrame","videoRenderSupportScale","debugLog","forceNoOffscreen","extendOperateBtns","toggleControlExtendBtn","use offscreen","getAudioBufferListLength","checkHeartTimeout$2 but player is destroyed","checkWebrtcLowFpsDuration","beforeDestroy","isInMulti","getRenderCurrentPts","getStreamFps","isPlayVodNotUseMSE","483752GEKaoL","isPlayVod and wcsDecodeAudio is true, so set wcsDecodeAudio false","videoStart","getBufferedTime","startVisibilityHiddenTimeout","isPlaybackH24","checkHeartTimeout$2","63871WvAVQX","use WCS","useFaceDetector","canvas","use MSE","869320vvVZXK","isHistoryFpsListAllZero","updateOption","_checkStatsInterval","checkIsFullscreenByInit","getAudioSyncVideoDiff","JessibucaProImageDetector","useSIMD","checkVideoSmooth false\n                        because fps is ","use play vod","decoderCheckFirstIFrame","downloadNakedFlowFile","performance","volume","wcsDecodeErrorReplay"," and height is ","mseUseCanvasRender","JessibucaProFaceDetector","isCacheBeforeDecodeForFpsRender","wcsUseVideoRender","getMseMineType","getPlayToRenderTimes","full","isWebrtcForZLM","isLastVideoDiffIsZero","isMobileFullscreenChangeRotate","videoBufferDuration","$videoElement","getAudioInfo","isPlayVodNotUseMseAndNotVideoSrc","url is empty","_startBpsTime","getRenderType","isPlayFailedAndPaused","webFullscreen","streamQualityChange","getReadyStateInited","isOldHlsUseVideoSrc","removeWatermark","checkStatsInterval","flv","canVideoTrackWritter","getExtendDomIsShow","playVodInitSeekRemoveBackgroundLock","pageVisibilityHiddenTimeout","useVideoRender","use webrtc for M7S","isRateMoreThanMaxRateDecodeIFrame","webrtc","decoder-pro-simd-mt.js","checkHeartTimeout$2 but fps is not all zero","decoderHardNotWasm","playVod is null","addContentToCanvas","playVodResumeInner","hasVideo: ","getWindowScreenInfo","push","$iconContainer","getVideoBufferDuration","getShowVideoRect","415041qPNveY","getCanvasRenderType","playVodBackwordJumping","demuxBufferDelay","decoderWorker","play() this.stream is null and is isDestroyedOrClosed is ","recorder","decoder-pro-hard-not-wasm.js","isAliyunRtc is true and demuxUseWorker is true then demuxUseWorker set true->false","checkWebrtcLowFps","debug","_tempG711DataList","simdDecodeErrorReplay","ptz","_seiList","visibility","dfps","getCpuLevel","clearBuffer","playForControl() and pauseAndNextPlayUseLastFrameShow is ","streamResponseTimestamp","isOldHls","aliyunRtcDecoder","substring","pauseForControl","disableContextmenu","start","isPlaybackOnlyDecodeIFrame","getPlayVodBufferedTime","playVodPause","scaleType","startCheckStatsInterval","mute",".mpeg4","checkFirstIFrame","useMThreading is true, but not support so set useMThreading false","is stream use webTransport is true and demuxUseWorker is true then demuxUseWorker set true->false","isWebrtcForOthers","isNakedFlow","checkSourceBufferStore","isTsDemux","supportHls265","isWebrtcByBrowser","resize","getVideoBufferDelayTime","_isPlayingBeforePageHidden","mseDecoderUseWorker is true but not support so set _opt.mseDecoderUseWorker = false","useWCS","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS4AAABgCAYAAACjZZ/rAAAK4mlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU1kagO976SEhkIQISAm9SW8BpIQeivQqKiEJJJQQE4KCDZXBERwVRESwDOCoiIKjIyBjQSxYUWzYB2RQUNbBgg2VfcASZmbP7p7937nvfufPf/9yz705/wOAHMKVSDJhFQCyxDnSyABvZnxCIhP3DOAAA9CBA7Dm8mQSdnh4CEBkev6rvL8LoIn5luWEr3///b8KlS+Q8QCAkhBO4ct4WQi3I2OEJ5HmAIA6jOgNluRIJvg2wnQpkiDCgxOcNsVfJjhlktEqkzbRkT4IGwKAJ3G50jQASDaInpnLS0P8kMIRthHzRWKECxD24Am5fISRuGBOVlb2BA8jbIrYSwAg0xFmpfzJZ9pf/Kco/HO5aQqeqmtS8L4imSSTm/d/bs3/lqxM+XQMY2SQhNLASGRWR/bvXkZ2sILFKfPCplnEn7SfZKE8MGaaeTKfxGnmc32DFWsz54VMc6rIn6Pwk8OJnmaBzC9qmqXZkYpYqVIf9jRzpTNx5RkxCr1QwFH4zxdGx01zrih23jTLMqKCZ2x8FHqpPFKRv0Ac4D0T119Re5bsT/WKOIq1OcLoQEXt3Jn8BWL2jE9ZvCI3vsDXb8YmRmEvyfFWxJJkhivsBZkBCr0sN0qxNgc5nDNrwxV7mM4NCp9m4Av8QAjyMEEMsAPOwBawQAQIzREszZkoxidbkicVpQlzmGzkxgmYHDHPag7TzsbODoCJ+zt1JN5GTt5LiHFqRpe9BznK75E7UzqjSykHoKUICf1gRme4CwBKIQDNHTy5NHdKh554YQARUJB/Bg2gAwyAKbBE8nMCbsALyTgIhIFokAAWAh4QgiwgBUvAcrAaFIESsBlsBVVgN6gD+8EhcAS0gBPgDLgAroAb4A54CHrBAHgJRsB7MAZBEA4iQzRIA9KFjCALyA5iQR6QHxQCRUIJUDKUBokhObQcWguVQGVQFVQD1UM/Q8ehM9AlqBu6D/VBQ9Ab6DOMgkkwHdaGjWFrmAWz4WA4Gl4Ap8GL4Xy4EN4IV8K18EG4GT4DX4HvwL3wS3gUBVBKKAZKD2WJYqF8UGGoRFQqSopaiSpGVaBqUY2oNlQn6haqFzWM+oTGomloJtoS7YYORMegeejF6JXoDegq9H50M/oc+ha6Dz2C/oYhY7QwFhhXDAcTj0nDLMEUYSowezHHMOcxdzADmPdYLJaBNcE6YwOxCdh07DLsBuxObBO2HduN7ceO4nA4DZwFzh0XhuPicnBFuO24g7jTuJu4AdxHvBJeF2+H98cn4sX4NfgK/AH8KfxN/HP8GEGFYERwJYQR+IQ8wibCHkIb4TphgDBGVCWaEN2J0cR04mpiJbGReJ74iPhWSUlJX8lFKUJJpFSgVKl0WOmiUp/SJxKVZE7yISWR5KSNpH2kdtJ90lsymWxM9iInknPIG8n15LPkJ+SPyjRlK2WOMl95lXK1crPyTeVXFALFiMKmLKTkUyooRynXKcMqBBVjFR8VrspKlWqV4yo9KqOqNFVb1TDVLNUNqgdUL6kOUnFUY6oflU8tpNZRz1L7aSiaAc2HxqOtpe2hnacN0LF0EzqHnk4voR+id9FH1KhqDmqxakvVqtVOqvUyUAxjBoeRydjEOMK4y/g8S3sWe5Zg1vpZjbNuzvqgPlvdS12gXqzepH5H/bMGU8NPI0OjVKNF47EmWtNcM0JzieYuzfOaw7Pps91m82YXzz4y+4EWrGWuFam1TKtO66rWqLaOdoC2RHu79lntYR2GjpdOuk65zimdIV2aroeuSLdc97TuC6Yak83MZFYyzzFH9LT0AvXkejV6XXpj+ib6Mfpr9Jv0HxsQDVgGqQblBh0GI4a6hqGGyw0bDB8YEYxYRkKjbUadRh+MTYzjjNcZtxgPmqibcEzyTRpMHpmSTT1NF5vWmt42w5qxzDLMdprdMIfNHc2F5tXm1y1gCycLkcVOi+45mDkuc8Rzauf0WJIs2Za5lg2WfVYMqxCrNVYtVq+sDa0TrUutO62/2TjaZNrssXloS7UNsl1j22b7xs7cjmdXbXfbnmzvb7/KvtX+tYOFg8Bhl8M9R5pjqOM6xw7Hr07OTlKnRqchZ0PnZOcdzj0sOiuctYF10QXj4u2yyuWEyydXJ9cc1yOuf7hZumW4HXAbnGsyVzB3z9x+d313rnuNe68H0yPZ40ePXk89T65nredTLwMvvtder+dsM3Y6+yD7lbeNt9T7mPcHH1efFT7tvijfAN9i3y4/ql+MX5XfE399/zT/Bv+RAMeAZQHtgZjA4MDSwB6ONofHqeeMBDkHrQg6F0wKjgquCn4aYh4iDWkLhUODQreEPppnNE88ryUMhHHCtoQ9DjcJXxz+awQ2IjyiOuJZpG3k8sjOKFrUoqgDUe+jvaM3RT+MMY2Rx3TEUmKTYutjP8T5xpXF9cZbx6+Iv5KgmSBKaE3EJcYm7k0cne83f+v8gSTHpKKkuwtMFixdcGmh5sLMhScXURZxFx1NxiTHJR9I/sIN49ZyR1M4KTtSRng+vG28l3wvfjl/SOAuKBM8T3VPLUsdTHNP25I2JPQUVgiHRT6iKtHr9MD03ekfMsIy9mWMZ8ZlNmXhs5Kzjoup4gzxuWyd7KXZ3RILSZGkd7Hr4q2LR6TB0r0ySLZA1ppDRxqlq3JT+XfyvlyP3Orcj0tilxxdqrpUvPRqnnne+rzn+f75Py1DL+Mt61iut3z18r4V7BU1K6GVKSs7VhmsKlw1UBBQsH81cXXG6mtrbNaUrXm3Nm5tW6F2YUFh/3cB3zUUKRdJi3rWua3b/T36e9H3Xevt129f/62YX3y5xKakouTLBt6Gyz/Y/lD5w/jG1I1dm5w27dqM3SzefLfUs3R/mWpZfln/ltAtzeXM8uLyd1sXbb1U4VCxextxm3xbb2VIZet2w+2bt3+pElbdqfaubtqhtWP9jg87+Ttv7vLa1bhbe3fJ7s8/in68VxNQ01xrXFtRh63LrXu2J3ZP50+sn+r3au4t2ft1n3hf7/7I/efqnevrD2gd2NQAN8gbhg4mHbxxyPdQa6NlY00To6nkMDgsP/zi5+Sf7x4JPtJxlHW08RejX3Ycox0rboaa85pHWoQtva0Jrd3Hg453tLm1HfvV6td9J/ROVJ9UO7npFPFU4anx0/mnR9sl7cNn0s70dyzqeHg2/uztcxHnus4Hn794wf/C2U525+mL7hdPXHK9dPwy63LLFacrzVcdrx675njtWJdTV/N15+utN1xutHXP7T510/PmmVu+ty7c5ty+cmfene67MXfv9ST19N7j3xu8n3n/9YPcB2MPCx5hHhU/Vnlc8UTrSe1vZr819Tr1nuzz7bv6NOrpw35e/8vfZb9/GSh8Rn5W8Vz3ef2g3eCJIf+hGy/mvxh4KXk5Nlz0D9V/7Hhl+uqXP7z+uDoSPzLwWvp6/M2Gtxpv971zeNcxGj765H3W+7EPxR81Pu7/xPrU+Tnu8/OxJV9wXyq/mn1t+xb87dF41vi4hCvlTrYCKGTAqakAvNmH9McJANBuAECcP9VfTwo09U0wSeA/8VQPPilOANT1ABC9DICQawBsr0JaWsQ/BfkuCKcgejcA29srxr9ElmpvN+WL5Im0Jo/Hx9+aAoArBeBr6fj4WN34+Nc6JNmHALTnTfX1E6JyEIAacxtH+5D7VPMC8DeZ6vn/VOPfZzCRgQP4+/xPeFgcU9phDh8AAABsZVhJZk1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAEuoAMABAAAAAEAAABgAAAAADApncsAAAAJcEhZcwAAFiUAABYlAUlSJPAAAB1BSURBVHgB7V0HeBTVFj6b3fRCAgSQ3qSKIuoDRESx8OzloaIIiqhYUIEHiIJIU6QpVkRRwMaTp4INBBsoRZQiIFhACL1DQtpusuWdf8IsM7Ozu0nYDQzvnO/bzMyd2+a/N/+ce+65d2w+FhIRBAQBQcBCCMRYqK5SVUFAEBAEFASEuKQjCAKCgOUQEOKyXJNJhQUBQUCIS/qAICAIWA4BIS7LNZlUWBAQBIS4pA8IAoKA5RAQ4rJck0mFBQFBQIhL+oAgIAhYDgEhLss1mVRYEBAEhLikDwgCgoDlEBDislyTSYUFAUFAiEv6gCAgCFgOASEuyzWZVFgQEASEuKQPCAKCgOUQEOKyXJNJhQUBQUCIS/qAICAIWA4BIS7LNZlUWBAQBIS4pA8IAoKA5RAQ4rJck0mFBQFBQIhL+oAgIAhYDgEhLss1mVRYEBAEhLikDwgCgoDlEBDislyTSYUFAUFAiEv6gCAgCFgOASEuyzWZVFgQEASEuKQPCAKCgOUQEOKyXJNJhQUBQcBxqkDgK8gmT+5+Ik8RuTYvJtefC6l430YiO9fQxj+mWHvluhTX4GJKaNKFYhLSKSaRf8nV+L7w76nSjlIPQaAiELD5WCqioGBlFGetJOfGb8nNJFW07RciX3EJUamEpR7BTfgdIzGcO6o1pbja7Siu1gUU37BLsCIkXBAQBE4zBE4qcR2adDV5cnYxVxWUkJKWnFTCUo/ae+r5saMtLoHsabUordMzFFvjvNOsieRxBAFBwIhAhROXz5VPBd+/SfmLppHP42LC8lGMzcOjPS/5mIhsdi+H8bmdL2LwYyUsxkY+W2yJtqXRuBQNjO9rNbHElt0piX+O9DONzyrX/0cIbNuxm5yuImrcoA7Z7Xj7iZxOCFQocRVvX0f5C14h18bvFdtVrLeQSctNNlsx2RwgK4bWwSNXPvrY+uaz8zkfvUxiIC6fL5a8nqQSolIJSz1qCM2eXo/SLhxJcTU7nE5tJc9SCgQKCp3Ub9hztHzlWiV2g7q16OWxQ6le7TN0qQ8dyaZNW7bpwtIrpVGzxg10YXJxaiJQYcTlWruQjr4/mLxF+WRnO1a8O5e1K59CVipBBSMukBgnUjQyctjI40xnEovTE5iGuFRNLLXdcEpqdicnxk1ryr4Dh2jjn3/rKp+YGE/tzjtHFyYXJQhMmjKTZvxnrg6O885pSTNeGqMLm//tEho8apIu7KK2bWjK+Kd0YXJxaiIASoi6OFfNY9J6nMhdSHFuF8V62KYFzapc4iN78mHyulOYBJM5h+CklLvqObaf5VByy/uZ5JjoLCi/rPmNnnhmsq7mdWrWoHmzpujC5KIEgdXreCbaIGs3/MEvOh9r9sH7iiGJXJ7iCGCgFVVxrf2ajr43hMhVQPGF+RTHx0iILSGPbMk5nFUIAmTXivyNb5Nrz5JIFCl5WACB2mdUD6hlzerVhLQCULF2QFSJy5t7iPK/eZt8RYUU73KSw10UHi28FRPSKCa1JtmrNKH4s3tRUscxFN+sO9krNWK/rZqsrSUq+djinGRLyg2Zp68ol7IX9yFPwb6Q8eTm6YHAQ/fcThlsq1IlNtZBg/r2Ui/leJogENWhYt6ciVS8eSVrWYUUW+xSDO6hcLMlVaa49veQo3FnctRtx1FNVHufh1xbPqaiXQvIuX022RLz2XDP1nwnho3B5ch3d1LGJdPInlIveCS5Y3kEYISfM/NFgg3LxbOKl3S4gBrVr2P555IH0CMQNeJy78uiwmUfM2k5FW1L8YDXl627sjfqRAk3jCM7O5WGFCap+Ea3Uly9aym+8W2Us+QORevyFUELC65AevK2k2vvckpqLMQVEt/T4GaVjHS6s+u1p8GTyCMEQyD4f3qwFKUI97F2dWRsV7J5veQoYk/4MGKvfS4l3zc3PGlp8rE5ktjd4UpKa/8G2eIqkS0t21RB8yfxeSl39Qj2HSv0B8mJICAIWBOBqGhczhWfk4+N8Ha3mxzF7pBDxNhzb6aEnm+WG734OjdTWoydcpb3YNsX29A8IWYPeZiZt34SpbYeVu7yrJgwNy+fdu7ZR3v2HqD8wkKqnlmFzqieSbVqVGMf3/K/u5xOF/35dxYdPpJD2UdzKSU5iapkVKKGPDRLT0stF1TRyLNcFTmWyOv10a69+2jrtl38fIlUu2Z1yqxS+ZQ29hcVF9PuPftp74GDtO/AYUpMiKeqVTKobq0zqGrl9HLDgZnZv7N2cL6H6Eh2DhtybFSZ27ta1crKcLwiZ20jTlw+1mzcO34nn7uY7EXukCDFZDaiuC7sJmFmywqZUn8zvtYNlNZ2KuUsGsTEpb9nvCrY9M7/BXGhky395Vea9cmXtGTFasI/oFHQ4bped6Xyy+SOXVpZ+vMaev/jL+nn1evIZaJRx/BKh3NaNqV/XXMFXdflUiZHE1ulobBI5Tn70wU04bXputxv/GdnGtqfXWLKIAcPZ9Pz7BO2cPEyxVamTVqtahXqeet1Cm7JSSUTRdr76vnAERNp8fKV6qVyHDnoIbr68ot1YcaLT7/6nsa8MFUXfPnF7Wjs0H66MOPF739toY++WEhffv0D5RcEjixALGiXa6/sRF2vvaLUKwqwCmHa+5/QDz+tVF5SxnJxDUK8pMM/6L4eXakmvxSjLREnLu/BXeRa841S74RCNsiHWG1hb345xVSPzNIcR/q55Khcm9x7DoXBzEcuNuzH1zp9F2VDw8I/zTImrlCy/+Bhem36f2j6rLk0dthjdFlHTIgEF/wzPDFmMn2/9OfgkfgOSHLN+j+U3wdz5tGLY4ZQjWpVTdNEOk+3x03Q2rQCDaQsMu+bH2j081MpL9/cdWf/wUM08bUZCnm/OWkE1avDM90mgnKNdXF7wrxZOR83j1SM6YpMXhBqkR7OE/V576Mv1CDTI15mv/72h/L7+POv6ZknH6UzGwa3+SL+5Knv0szZnxHKCCUg+o8+X0hffL2YBjxwF91+01Whop/wvfKPE4IU7XPmk+fwbnavCnzDG5PEXTvUGFTua0dqM3LUaFmq9M6d80oVz4qRdu87QN0ffDwsaWmfrdDppP5PjVcITBuuPcc/0oODR4UlLW0anMPrv9djwwgd2yjRyNNYRlmvUd+nnnslKGlp89vDWPfo+wRt3rpdG1yh52i7ewc8HZa0jJX6fdMWuvvRYbRl207jLf/10GdfordnzQlLWv4EfII2fXbyGzRn3rfa4IifR5y4irPWK5W0u0MztK1SDbIlpET0gRJq3liq/HxerhsPaU83gaYzZPTztHX7roBHgy0Lw4TrrrzEVJVX3q5vvENmnufIDENDaFFGObdVM+rT8xYa9XhfuvWGLooNyBhn5+59/OZ+xxgclTwDCilDAJZXDXh6Amk1NIfDTkmJCUFzOZJ9lIaPe0XxzA8aKYo3oGmt/HWDaQkYsrVt04qan9nQ9BmO5ubRg4NGBWh3yOyr75bQ5wsXmeabkZ5Gl/KwsGO786iWicMvEo1hjRW2z2hJxIeKzqVzlLrGeEITQ8Jdr0f8meKqdipVnl7nAfK6DvFmhNEfi5eqQhGK9P7HX5iSC1T3rtddQakpx33dtu3cw8O+F2j975v8pYP4ho19mT6ZPpkS2KCrlZkffqq9VM773d+Dene/2R9+09WXKeewVz02dKzO/oV/gn59euqMw9HI01+ZcpxoF11f0am9Yq9p2qi+MoFx4NAR+viLr9nW83GAzQsYQsO4+ZrLy1Fq+ZMAZ9j0jAIj/MjBD9P5rY+PQGCLfO+/n9Or02dRMU+YqQINfdac+dTrdv1Lf8qMD9Uo/iPyGzHwId3QGC+8+Uxyw8a+pMsX5D/7swX0wF23+tNH8iTiGlfR5jVK/Xj1dsh62ng300iLLfa4x3SovD1528hbwMPZ00jcrOFOfWd2wBPdc/tNSqfUkhYiwVHzpWefVGYXtYl27N5L3/64QhtEsIUdyTmqC8Nb9+5uN+jC1IsO/ziXut10tXqpHEGK6zb86Q+LRp7+zE/wpHPHtvT8qMGKpqLOumLyAv+ETw14wDR3aKQVLW+xwdwo8XGxSt21pIU4CMdL5ul/P2hMEjDMhA3POITETPSkEYN0pIWMYPC/+rKOdH+PWwLyXbP+94CwSAVEXOMiNo7C2dQTbg8kdmE4WQJty+M6gh1zThv5iWf4co7m6Z4HuyL069NDF6a9wEzQ+OEDqMfDT2iDlWHCNVccn/mCsd8oCfHxIWelHul9R4ATaFrqcdNANPI01rE81yD0Z554NGjSG/55KWu1vyvalzbSX+wWsnf/waCTENq4kTiHzXDVug0BWQ3u25uaNq4fEK4G3HBVZ8KEiXbHERDVLnaXUYd9aSkpitatpsERbg/4BRO8rF59e5bu9q69+3XXkbyI2v+u1xFGmeMF0CKRQ2DBd0sDMmt//jlh/Y3ObsHrQfltrHVrWPrLGmU4FB9f4hPXoG5tZZipJRsYpqfOnE19ggwFkDbYTCIqGo08AwAoR0D/B3oq/mihkg55pDfNnf9dgNH6x59W0S3XV8xs9XesFUOL1QrWaMLOGE7688sMu45oRTt8hJkg1GyjNp16Dtcao+Tlmc/KGuOV5zpqxOUL49joO/A3UbVG5amzpDFBQGufUW9XYY0KQ7JwUomdRbXx0In38VsYthII/LBghP9h+SpdVq/wG/YLdh3AUAFvXBiBsai5NBKNPEtTbrg4zZuE75P4x67PLhBwxtQK7IYVJVk7Aidg4PhbGsFebpHaz83Lq2NymaCgsVWklK6XlaFGtvgEdj51Kim8TF687Z9p6sKZD1PK+OOGYdNIUQq0J9XkLwRVj1LuJydbGI+NMnLCa8agUl8f5PxU4kKi3nfczG/pDYTpd61k8QwmfMHwi4uNpeZNGlLrs5oRtL3zW5+laHPa+NrzaOSpzb+s5/D8L63zZOMGdQOICzOMFSUHDwe2d+NSEldZ64jZ1kXLfqE/N2cpBIVrkFVePm/DzjvOngyJOHHFt76MnCtLDJXO5ARKLAi0jygPmn+IvHk8s5dSpcKf255Sl0Bep4tgyICtiCMpRr+rNme3oNcnPMW+XKODdlbMJK1lAzx+mDGEVzlm2u7t/i9T+0g08jwRDJqEcMY05ouh1ILv9cPzwxFuA2OZ2muzF1Wkd8GAFj/+len006q12qJPifMwhqiy1zGxY1d/IuwVD60rmLhm3hfsVlTDbXEZvCFqcENjVAuPSua8rXWE/dLMPLxBNLOmTqDu/7pGt+dVsEeCV/y7PAUP4z+m3c0kGnmalVOaMFuIvmpMb7YuT29xMqaI7HWMybdEuRdErBD4cXXtPeCUJC08ZMQ1rpi0qn7wPA4HudlIG1tsrk569/5F3m0rKabe+f40FXFi1ukqotxolYEp+8rplQK808fxjKF2U72ylB/MONuwXm0a8ui9NPChXgRjNNbiQcPasm1HgLFYLW/7rj10V98n6d1Xx5oa7KORp1p2WY5mdsJg6Tdv3RZwC21QUWK2WNpocytvXTb8uVnZLhz2K63AGfcCHv5Ds8N6zdTUZEpj30C42hTw4v1+w8Zpo0f1POLEZUvJ4E0AW/BC641KxV1syAxGXL4c/oTU7AGUNHARO4QE18zCIVC46UNKPPO2cNFO+n34WsFhTyvhjNlGmxLSqrN92nyqVs4IIC6QFmxN0RB04ksv+ofyQ/5Y17du419swF9J8775McDvC64CXy9eTj1uuS5odaKRZ9DCTG7AkxyuAfinDCebtmwPiBLKXUCNXGhYR6mGa4+wL4YT7PZglL+zdhqDynX9xrsf8XpJvW0as88TRwwM8PtTC4DdqyKl/GwRpJb2jOq8zXJ7/13MLuamp8NTzR+mPfHs/o2ODqrC2zuXferUx9vU5K8ZzYurW2mzLMW5eV1KkfCEolx9x4PU5vJbdD/1M1rBMsZyGaOY7eRQnz/DZRSsR6sogWH7wgtaK9rYlx+8xt8zDHQwXrW25GVW2jpFI89wZf+xKStcFMV1xGxWTzuZgUxiecRhFLiRhJOsneGdo/HZNaNsMcxyGu+r1/DhwioA7U9br+W/BNq04O+HrZCCSUWv14w4ceHB4pq3I1usZn0Xk1ZBcjJvsRy8uIIpXaj41w+D4RIQ7snfRQVrx1LeL7wdcxmX7sSwjetkSKvmZwYUiy1nQskqk6/WmPnMYImKUcw6oDEOrjGVjc6MIcJvf2xWlgFp/XqghYBAtT/tej5jnhg6GJeQIM4fm7f6o0YjT3/mJ3DyAq+pNNNytVlOfHV6gEaC+x3btdFGU/Ym0wXwBfANJfCVW/JT6D6B9J0vaqssRdLmhdUNHzEhhRI822P83ckRPOOs/akjAcyMGp8fLxDVOTVY3kZXmWDxIhUe+EqIQM5xZ3WimPRM8hw67uficcRSoT2VkgpzTEvw7PmNCub2I8eqt3nf+YcotsX1HC9QM/J53VS4bhK5smZT0W72UcL3Fcso3uLcMqaITHQscl64aJkus8947yWs8TPTUDC0gv3IKDBoG+ViXvCamJCg63SYDXp52vv0yL3djdH91/A9uvXeAbqZQnTSeR9M8ceZ8OoMxZveH8AnqDMWVgcTh4m2gWUjqkQjTzXvEzlCcxgx/jWCfdBM5n37I/1n7vyAW/BWN2okZkPOFavWKS8Gs5cYMkV7YVPGcIJh6QW8dnDF6vW6qM+9NI1acz8z60+I+PqM2YqHvzYRXEBq8qaSELMF5TADYCiobT9tetgG5zMuFSnBVaATqQVrWFXGLOQPWRxf4oHsvLwMKD8lnWca7ea5sxHfvX0FFXx0F2U/m0HZL9Sm/C96UQFvEJg793o6PK0m/ypTwc/jqWgH2wE85eRd/iDtyZDzeQmOUdBJ7+3/NH224HtF84FrA4zZr7NXuvGDpUgLL/crL7nQmI2yKNpsn3XYK/CBVLO9pRYvW0n38ZYoRl+cbjf+U3E6VQvBDgNGwaJi7FtlJujkM3iPL6PATqJKNPJU8z7RI8gJ37KEsVvVRNBO2OIFpGYmd9x8TUBw+wvM7YsPsUsJXmCq1oo2x44ejzzxrLLgOSCjIAH3sG+dUfCBkP7Dx+sWzyMO9tPC0PCd/35mTEK333x8XSnsp2YE9eQzL5rODGPPt5488WJcyxpQSIQDovol6/yveDO2TyeWfMMCFIkflCibj2J9Lr4sIrutmDcbZIM1c1C4L1l7KY47Ujx/DDaR8+KMjuWZefcy/mxZyfh73zQejqllqeWBJ1HusfCEuldTpbYvckDFC9RzdKBgYmdyD7VpG1wRMKtnJhjedesziLBuziiYeWzBzqFnt2hKBw4dpr/4LYmdLY2CGb73p4zTLXvBP8P1PfqadlzEx0zTua2a01Ee5sDOgs3kjEQJb/P5s1737w4RjTzxLB/wjq9jX5ymeyz4kmG3BK2YfckadsI8fgatDxv+kRP4Z1wHqs0L2hMwM5utvur2B5Qhtja+eo42qVkjkw4dztFpylgvafTCx8tq0shBalL/ceTEKcoGfv4AzQnapk6tGtwWhUyMO023mYGW+Pl7r+ochaH14YVnJphRbNvmbEUDw6aEqv8gNDXjCxAfLVk0d7pZNiccVk6VpXTlJl12FxX9vZKKNi7SJ2CNrNjONjBbPE8m8pepyUUOG4zz+hk3JPL52Pe+OJGN9/yDjQxGfhCQRpxbF1DSWXcqITZHPG+15dLcPbVOBz3ci31j1gVdIhGKtJo0qk/9eYuaYIIZShhR+wwcqXQsbTxMbcO+EsrGgjft1IlP60gLeeCfd9SQR+jhIWMCtnTBLgL4ffjpV9ridOf4B8WWxdop/GjkqSu0HBf4mOw9d9ykaMCqKwAIFr9ggplbDJnNSAtphva7X3HaNUuPMoyTLxfx0qnL2F5Z2lUP6E94Waw22YlBbRuzshEGW+Rr44bpSAvhPW69XlnepbVJIhwCLdTodoF8Xhj9OOM2vCRSBfw1UEBkS4SBPr33CxRbu3mQjG1MVTHkjkkkZ0wV/lUlJ2WS05tJLk8mq9LVeI+fTNawUpjAVLUpMKvcJaPBcMqNytfPCYxgCPHk7yRvYeBsnSFaVC7hTY6tjEOt4DcrGPaxV58bGtDJjHHxRvzwzYnUhjWgsgjWrr31wihTPyvkg6Hd1AnDlQ8jlCVf2GKeHzXIdJ/1aORZlrqZxYX2CI02nJsK0oLoZ77ybFB7EuJc1LYN9eWdMoIRG+KoglnJ0bwzBQYHpRVoOm9NHl2qxdXaPNFP0N5mtjB86GTGy89Q2/PO1iYxPUf5aF+s3axIsY9giWaBNkccxbfqTO79W8hzMKtkyIaWCfcDpSKOegwZn7W2lBoUm9mS1yBWJnf2ZvLk8OyNmsaQh6/oIMVV73DSPg4LzQMfqUjntzXUbdXWwU8bIDCcwpaBoY52W5iAiJoAdKbru1xC0NDgm7SLv/hiJvCbAiGOYW3qwV63cX1SzaL5w2DA7XbjVcpSHgynDmebT7QgAYYp3XjfcWiAzRo38OdhPIl0ntjUzzhTi/WT2LFTKzDCY/JDK3V5iHbtFZ0IQ7+reOH4Tt6bDPuTGVzveLYwnfef6kpjmGTM7EHaPHEO22bLpo2V/Mz8nbDGEx+ZGDf834pDJz56gbWBWgHRdLm0gzbIfw6NtlP78xV3FGhxWWwCCKa544V592030Ghu8+rVjk+W+DM7doI6XdW5IzlZ29zOEzhOl34Ug76DPjyZX8JNGtZXPs7xDu9NrxX0w7u73agNith5VG1c2lrCT+vIy3dS8Q6eBQGRqGSinmuPIBxVwVKP6n3cU881x7ha7Sjj2rf5XizPNi6hnMX9yFvM/1javNT4HJbSaiAlN+2jreJJOcce3TDMlqj1O9gB8oiyrg++Wi2aNqJzecFyad7WoSoPOwSGJHACzWYjM8gQH3jA58lgUyuvYEcJzChl5+QqBJnMn++C9zhIS52lKmve0cizrHXQxsd2P7APwR4It4DaNWsouOEftzyCfLbyzg77+bNhldJSFKzQFiCKSAlsTdvYFwztDTwT4uKUz5PVq13TdGvtcOWCBGETRZ29vLSsfp1aVIdxKC8G4corzf0KIy61MtnT+1LRX0vJV5x3XKNSCUU9asmmlMQFgko6525KbT9UKSp/w9uU9+vzPJXJb4ogeWRes5xi4o8vUVLrKEdBQBA4tRGocOLyuYuoOGsN5cz6N3mPsp1JJSvtsZzEFZOUQZk9f/Yj7tr5PeWtnUzunI16kkT+XF5c9Qspo8NMf3w5EQQEAWsgUOHEpYXFufozyp03lrzObDauu4+TWFmIi4c6MUmVKK5+Z6rUaTQTVOBEac6ygeTau5iLYMc+G6/BOkZccKlIOrMXpbYYzGHlU/21zyPngoAgUDEInFTiUh6RPxVWsGIWf4sxi4p3r6finatLiEUd3qlHVSM7Rjr2Kg0pvkEnsqeeQYln3c58pVliZIKdj73lC7d+wiS5l5z8QVhP4Q6FKG3xaZTS7BFKanC3SSoJEgQEgVMRgZNPXCoqbPTz5rPxL++gEuIpOMhLhrbwcHKXsqNqTEZtcmQ24ZnAkp1LbfGpZE/DFCyYrGwCdwifO4/c/LWfgi1v8Ycz9lHm5YvLlonEFgQEgZOGwKlDXCcNAilYEBAErIYABmAigoAgIAhYCgEhLks1l1RWEBAEgIAQl/QDQUAQsBwCQlyWazKpsCAgCAhxSR8QBAQByyEgxGW5JpMKCwKCgBCX9AFBQBCwHAJCXJZrMqmwICAICHFJHxAEBAHLISDEZbkmkwoLAoKAEJf0AUFAELAcAkJclmsyqbAgIAgIcUkfEAQEAcshIMRluSaTCgsCgoAQl/QBQUAQsBwCQlyWazKpsCAgCAhxSR8QBAQByyEgxGW5JpMKCwKCgBCX9AFBQBCwHAJCXJZrMqmwICAICHFJHxAEBAHLISDEZbkmkwoLAoKAEJf0AUFAELAcAkJclmsyqbAgIAgIcUkfEAQEAcshIMRluSaTCgsCgsD/AFt/MVAlcetCAAAAAElFTkSuQmCC","record","getExtendBtnActive","getAudioEngineType","_i18n","_opt.hiddenControl is true and set others show btn to false","\n                    useWCS is true,\n                    and supportWCS is ","toggleBar","updateWorkerOption","use wasm video render, but not support so set wasmUseVideoRender false","demuxTimestamp","pauseForControl() and loadingBackground width is ","isWCSPlayAudioUseVideoRender","_historyVideoDiffList","getPlayingTimestamp","setPtzPosition","isFullResize","multiIndex","supportLockScreenPlayAudio",".data","doDestroy","getExtendHtml","pause","mediaSourceUseCanvasRenderPlayFailedReplay","isAliyunRtc"," ,isIphone is ","aiOcclusion","objectDetectActive","_hasLoaded","playTimestamp","isCheckStreamEnd","getRecordingByteLength","m7s","getEngineType","drawingRect","isClosed","getCanvasVideoBufferLength","isDestroyed","use face detector, useWasm is ","stats","hls","browser","syncAudioAndVideo","isHlsCanVideoPlay","aiObject","streamResponse","clearControlHtml","isRecordTypeFlv","wasm","showTipsMessage","_tempTsList","getWebrtcVideoCodec","fps","init() failed and player is destroyed","removeExtendDom","mseDecoder","openSyncAudioAndVideo"," and androidMobileFullscreenRotate is true and set androidMobileFullscreenRotate false","controlHtml","setFileName","floor","getExtendDom","update","isH265","isPlayVodUseWASM","isAudioUseAudioContext",", supportHevcWCS is ","isBindVideo","hasVideo","isLoading","_playingStartTimestamp","events","isM7SDemux","_times"," or window.JessibucaProObjectDetector is null","occlusionDetect","jsHeapSizeLimit","isPlayVodMp4UseVideoSrc is true, so set useWasm false, useWCS false, useMSE false and recordType = webm","getBarIsShow"," is greater than loadingTimeout ","drawRectangle","isDecodeFirstIIframe","sendWebsocketMessage","web transport","androidMobileFullscreenRotate","_opt","TAG_NAME","videoRenderType","play() init and next fetch stream","isPlaybackUseWCS","isControlBarShow"," and webrtcLowFps is ","videoIframeIntervalTs","decoder-pro-f-simd-mt.js","isFirefox is true, so set _opt.mseDecodeAudio false","isStreamByProtocol","default","shift","isIphone and set _opt.videoRenderSupportScale false","isMobileInFullscreen","isEnabled","_checkVisibleHiddenTimeout","getVideoCurrentTime","wasmUseVideoRender","recording","isOldHls or isWebrtcH264 or isAliyunRtc is true, so set some params false and set _opt.recordType = webm","clearCheckLoadingTimeout","_tempWorkerStats","releaseWakeLock","_isMute","playVodPauseOrResume","getInputByteLength","video","hlsDecoder","getMimeType","handlePlayToRenderTimes but player is closed or destroyed","emitVideSeiSyncPts","hardDecodingNotSupportAutoWasm","use wasm video render play audio, but not support so set wasmPlayAudioUseVideoRender false","JessibucaProOcclusionDetector","\n                     so set useMSE false","revokeObjectURL","sendWebsocketMessage: stream type is not websocket, current stream type is ","getVideoBufferTimeRange","isPlayVodSeeking","bottom","_canPlayAppleMpegurl","getDecodePlaybackRate","checkVideoSmooth","demuxStart","mpeg4","right","toggleExtendBtn","isWebrtcH264","getWebrtcVideo","hlsError","zooming","playbackPause","pressureObserverCpu","$container","clearWorkBuffer","toggleControlHtml"," < min fix is ","setRotate","demuxUseWorker","URL","useWebGPU","aliyun rtc","togglePerformancePanel","isDemuxSetCodecInit","audioTimestamp","stopRecordAndSave","_pauseInner()","isStreamTsMoreThanLocal","6rEzBKa","location","playVodMp4UseSrc","init","decoder-pro.js","buf","decoder-pro-f-simd.js","30cxMwVy","_objectDetectActive","setBufferedTime","updateControlSize","resetStats","emit","hasAudio: ","controlAutoHide","getPlayType","_drawingRect","vbps","use wcs video render, but not support so set wcsUseVideoRender false","use worker MSE","checkLoadingTimeout but player is destroyed","isFmp4Demux","getVideoBufferListLength","assign","getFps","getStreamType","useWebCanvas","replace","getDecodeType","hlsUseCanvasRender","isFFmpegSIMD","demuxBuffer","calcPlayVodForwardMaxRateDecodeIFrame","reduce","isUseWASM","loading","getCurrentCpuState","initLoadingBackground","fullscreenInner","calcForwardMaxRateDecodeIFrame","preferredHardDecode","recordType","isWCSDecodeAudio","useWasm","playVodEndedAndReplay","bufferList","download","use image detector, useWasm is ","getDemuxVideoBufferedListLength","zoom","2vAbjsi","isDebug"," , _opt.isH265 is ","startRecord","toFixed","videoBuffer","isRecordTypeMp4","disable","vbpsIsZero","isDestroyedOrClosed","isPlayVod","isRecordTypeWebm","JessibucaProObjectDetector","mediaSourceTsIsMaxDiffReplay","use occlusion detector, useWasm is ","updateWorkConfig","getBufferLength","demuxType","innerHTML","base64","isRecording","isPlayVodEnded","rate","png","width","recorder is null","videoCurrentTimeDiff","getCurrentTime","getIsStreamTsMoreThanLocal","now","url","clearStatsInterval","play","isMSEAudioDecoderError","name","pauseForControl() and loadingBackground is null","getControlHeight","getExtendBtnList","dts","webrtcUseCanvasRender","_latestAudioTimestamp","videoCurrentTime","updateStats but player is closed or destroyed","playback","isAudioPlaybackRateSpeed","_playbackPause","isFlvDemux","isMpeg4Demux","isVideoPlaying","fullscreen","clearBufferDelay","mediaSourceAudioNoDataTimeoutReplay",", supportHevcMSE is ","lastVolume","_destroyed","_playing","init and version is","getStreamBufferByteLength","_lastVolume","imageDetectActive"," or window.JessibucaProFaceDetector is null","updateStreamEndInner","disableContextmenu is true, but contextmenuBtns is not empty, so Contextmenu can not be created，please check","isPlaybackPauseClearCache","poster","_isInZoom"," or window.JessibucaProOcclusionDetector is null","mp4","useImageDetector","auto","use playback","pauseAndNextPlayUseLastFrameShow","playVodSeek and is recording, stop recording","_historyFpsList","streamErrorReplay","checkVideoSmooth and videoCurrentTimeDiff is 0 so check\n                        videoCurrentTime is ","isPlayVod is true and demuxUseWorker is true then demuxUseWorker set true->false","_flvMetaData","isSeeking","fullScreenByStart","wcsDecodeAudio","isWebrtc is true and demuxUseWorker is true then demuxUseWorker set true->false","isPlaybackUseMSE","hasAudio","emitError","sendMessage","debugWarn","getOption","videoCurrentTimeDiffIsNotNormal","854819LMlviP","_hasControl","loadingTimeout","height","result","isMseDecoderUseWorker","latestAudioTimestamp","getPendingSegmentsLength","getControlExtendBtnActive","toggleExtendDom","isStreamWebTransport","loadingBackground","catch","setScaleMode","use hls 265","Player","useObjectDetector","pushTempG711Data","getPlayVodFps","decodeTimestamp","href","useMThreading","showMessageConfig","length","playVod","setRate","pts","downloadFmp4File","heartTimeoutReplay","checkIsInRender","_checkLoadingTimeout","startAndResize","showPlayBtn",", playing is ","hiddenControl","getBufferListLength","faceDetectActive"," and useWCS is ","isEnded","mseVideoBufferDelayTime","showControl","videoSmooth","$extendDom","videoTimestamp","mseTs","websocket1006ErrorReplay","top","forEach","pushTempStream","isUseHls265","updateGhostWatermark","decoder-pro-audio.js","getDemuxBufferLength","qualityConfig","getDemuxAudioBufferedListLength","pTs","mse","_tempStreamList","isMseDecoderUseMain","dynamicWatermark","isPlayback and mseDecoderUseWorker is true, so set mseDecoderUseWorker false","offscreen","isAudioMute","checkLoadingTimeout","networkDelayTimeoutReplay","mp4Decoder","keepScreenOn","） so set useSIMD false","_loading"," and\n                current visibility is ","defaultStreamQuality","createElement","getHistoryVideoDiffList","updateCurrentPts","cancelRecord","MetaDataCreator","_occlusionDetectActive","hasCacheOnGopBuffer","muted","18CNKOlN","playVodForward and rate is ","getPlayVodRate","isDropping","join","loadingTimeoutReplay","\n                     so set useWCS false","setPlayVodBufferedTime","isWebrtcForSRS","getVideoBufferRangeList","checkLoadingTimeout but loading is ","emitFirstStatsEvent","getToTalByteLength",", isRateMoreThanMaxRate and less than calcPlayVodForwardMaxRateDecodeIFrame ","wasmDecodeErrorReplay","dynamicWatermarkConfig","control","getVideoCodec","playType","wasmPlayAudioUseVideoRender","_videoTimestamp","webm","resumeAudioAfterPause","useOcclusionDetector","occlusionDetectActive","use simd wasm",", isRateMoreThanMaxRate and less than calcPlaybackForwardMaxRateDecodeIFrame ","bound","useMSE is true and useWCS is true then useWCS set true->false","isAudioNotMute","playbackTF","getPlaybackRate","decoderHard","screen","playStart","fetchStream","mainThreadFetchUseWorker","fps: ","isPaused","_serverInfo","js heap size limit is ","getDemuxType","audio","isUseHls265UseMse","isPlayVodUseMSE","isNotMute","small","isMSEDecodeAudio","aiImageDetectActive","nakedFlow","_streamQuality","isScreenNowColumn","getI18n","delayTimeout","use simd wasm mt","container height is 0, please check the container height","decoderAudio","debugError","fpsIsLow","isDroppingIsTrue","screenfull.isEnabled is false and _opt.useWebFullScreen is false , set _opt.useWebFullScreen true","downloadMemoryLog","isMSEPlaybackRateChangePause","_close","checkLoadingTimeout loadingTimeout is ","isWebrtcH265","isMSEVideoDecoderInitializationFailedNotSupportHevc","getType","contains","netBuf","flvDemuxBufferSizeMaxLarge","p2dfps","mseWaitVideoCanplayTimeout","volumechange","screenfull.isEnabled is true and _opt.useWebFullScreen is true , set _opt.useWebFullScreen false","isMpeg4 is true, so set _opt.useWasm true and others params false","visibilityHiddenTimeout","isPlayVodMp4UseVideoSrc","player is closed, so can not play","getControlHtml","destroy","watermarkConfig","decoder-pro-mt.js","showTipsMessageByCode","timeout","downloadMpeg4File","getCurrentVideoAndAudio","use webrtc for Others","_playVodPause","videoBufferDelay","playVodConfig","playbackPauseOrResume","isUseFpsRender","then","hideTipsMessage","useWebFullScreen","playVod is seeking","keys","stringify","playVodRate","isUseMSE","use aliyun rtc","emitVideoSei","controlSize","close","h264","isNakedFlowDemux","click","playbackEndedAndReplay","removeControl","isFmp4","workerStats","\n                    useMSE is true,\n                    and supportMSE is ","isDestroying","mseDecodeErrorReplay","useCanvasRender","error","handlePlayToRenderTimes","useMSE is true and forceNoOffscreen is false then forceNoOffscreen set false->true","startInner","audioDemuxBufferDelay","use hls","content","decoder-pro-simd.js","off","operateBtns","isUseWorkerDemuxAndDecode","correctionConfigurationVersion","playbackCheckStreamEnd","isWebrtc","clearVisibilityHiddenTimeout","_closed","once","_visibility","useSIMD is true, but not support（isSupportSimd is ","webcodecsDecoder","isPlaybackRateSpeed","currentPts","removeGhostWatermark","enableWakeLock"," and newLoadingTimeout is ","_checkHeartTimeout","_startTimestamp","checkSourceBufferDelay","_destroyLock","setControlHtml","indexOf","getMseVideoBufferDelayTime","downloadFlvFile","_audioTimestamp","\n                        and current ts list is ","streamStart","_faceDetectActive","and update _opt.hasVideo","webcodecsAudioInitTimeoutReplay","90104SqLhWQ","playbackRate","updateLoadingText","useMSE","getRenderElement","set volume error, audio is null","map"," or isDingDingInAndroid ",", so set mseWaitVideoCanplayTimeout = loadingTimeout -1","bind","isWasmUseMThreading","mseDecodeAudio","useOffscreen","getAllStatsData","remove","isMseVideoStateInited","_tempInnerPlayBgobj","decoder","use object detector, useWasm is ","isMSECurrentMoreThanBufferedPause","websocket","decoder-pro-hard.js","decodeStart","streamTimestamp","_mseWorkerData","singleWatermark","_allStatsData","streamQuality"," or window.JessibucaProImageDetector is null","decoder-pro-old.js","playbackConfig","isMSENotSupportAudioFormat","loaded","correctionConfigurationProfileIndication","Player options","resetStartBpsTime","updatePtzPosition","classList","use webrtc for SRS","webrtcError","updateMetaData","i18n","getVideoBufferTimeRangeList","decoderErrorAutoWasm","isWebrtcNotH265","addAiContentToCanvas","player","abps","decoderWorkerInit","loadingBackgroundWidth","isPlayNotUseMSE","playForControl() is playback and is ended emit replay","updateStats","reload","simd","$activeIconWrap","checkVideoSmooth false because ","wcsUseVideoRender is true, but not support so set wcsUseVideoRender false","updateHistoryFpsList",", and history fps is ","createObjectURL","isWasmPlayAudioUseVideoRender","mediaSourceAudioInitTimeoutReplay","streamBuffer","_destroy","_opt.playFailedAndReplay is false and set others replay params false","webcodecsAudioNoDataTimeoutReplay","isInWebFullscreen","playVodPauseInner","$controlHtml","isUseWCS","pauseForControl() and videoInfo is null"];return(uL=function(){return t})()}!function(t,e){const s=dL,i=t();for(;;)try{if(110010===parseInt(s(1029))/1*(parseInt(s(521))/2)+-parseInt(s(1095))/3+parseInt(s(844))/4+parseInt(s(1034))/5+-parseInt(s(471))/6*(parseInt(s(610))/7)+-parseInt(s(1022))/8*(-parseInt(s(689))/9)+parseInt(s(478))/10*(-parseInt(s(961))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(uL);class pL extends h{constructor(t){const e=dL;let s=arguments[e(633)]>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[e(402)]={},this[e(403)]=e(625),this[e(456)]=t;const i=_i();this[e(402)]=Object[e(494)]({},i,s),this[e(402)][e(632)]=Object[e(494)]({},F,this[e(402)][e(632)]),this.debug=new le(this),this[e(1009)](this.TAG_NAME,e(577),ds+":"+cs),this[e(402)][e(1010)]=!0,this[e(443)]=!1,this._opt.isUseFileProtocol&&(this[e(402)][e(461)]=!1,this._opt[e(725)]=!1,this[e(402)][e(847)]=!0,this._opt[e(316)]=!1,this._opt[e(1041)]=!1,this._opt.useWASM=!1,this[e(402)][e(887)]=!1),(bs()||vs())&&(this[e(443)]=ui(),this[e(1009)](this[e(403)],"isIOS or isSafari and canPlayAppleMpegurl",this[e(443)]));const r=ri()&&Ri((()=>{const t=$e,e=window.navigator[t(313)];return/wxwork/i[t(330)](e)})()),n=ni();if((r||n)&&this._opt[e(401)]&&(this[e(1009)](this[e(403)],"isWeiChatInAndroid "+r+e(851)+n+e(374)),this[e(402)][e(401)]=!1),this[e(402)][e(996)]&&(Di(ge[e(417)])&&Di(this._opt[e(784)])&&(this[e(1009)](this[e(403)],e(763)),this[e(402)][e(784)]=!1),Ri(ge[e(417)])&&Ri(this._opt[e(784)])&&(this[e(1009)](this[e(403)],e(749)),this[e(402)][e(784)]=!0)),Bi()&&(this[e(1009)](this[e(403)],e(415)),this[e(402)][e(1008)]=!1),Ri(this[e(402)].playFailedAndReplay)&&(this[e(1009)](this[e(403)],e(909)),this._opt.webglAlignmentErrorReplay=!1,this._opt.webglContextLostErrorReplay=!1,this[e(402)].autoWasm=!1,this._opt[e(803)]=!1,this._opt[e(534)]=!1,this[e(402)][e(1048)]=!1,this[e(402)][e(703)]=!1,this._opt[e(1107)]=!1,this[e(402)].videoElementPlayingFailedReplay=!1,this[e(402)][e(674)]=!1,this._opt[e(970)]=!1,this._opt.simdH264DecodeVideoWidthIsTooLargeReplay=!1,this[e(402)][e(340)]=!1,this._opt[e(638)]=!1,this._opt[e(694)]=!1,this[e(402)][e(655)]=!1,this[e(402)][e(595)]=!1,this._opt.streamEndReplay=!1,this._opt.mseWaitVideoCanplayAutoWasm=!1,this[e(402)].mediaSourceAudioG711NotSupportReplay=!1,this._opt[e(434)]=!1,this[e(402)][e(906)]=!1,this[e(402)][e(572)]=!1,this._opt[e(910)]=!1,this[e(402)][e(843)]=!1,this[e(402)][e(928)]=!1,this[e(402)].networkDisconnectReplay=!1),this[e(402)][e(644)]&&(this[e(1009)](this[e(403)],e(322)),Object[e(786)](this[e(402)].operateBtns)[e(657)]((t=>{const s=e;this[s(402)].operateBtns[t]&&-1===(""+t)[s(835)]("Fn")&&(this[s(402)].operateBtns[t]=!1)})),this[e(402)].showBandwidth=!1,this[e(402)][e(1011)]=[],this[e(402)][e(375)]="",this[e(944)]()&&(this[e(402)][e(874)][e(650)]=!1)),this[e(402)][e(511)]&&(this[e(402)].useMSE=!0,this[e(402)][e(316)]=!0,this._opt.decoderErrorAutoWasm=!1,this._opt[e(855)]=!0,this._opt[e(601)]=!0,this._opt[e(932)]=!0),qi()&&(this._opt[e(770)]={image:{src:e(317),width:75,height:24},opacity:.5,right:10,top:10}),!this._opt[e(1010)]&&(typeof OffscreenCanvas===_s(224)?(this[e(402)].forceNoOffscreen=!0,this._opt.useOffscreen=!1):this[e(402)][e(856)]=!0),this._opt[e(984)]&&(this[e(1009)](this[e(403)],e(764)),this[e(402)][e(316)]=!1,this._opt.useMSE=!1,this[e(402)][e(307)]=!1,this[e(402)][e(1041)]=!1,this[e(402)][e(799)]=!1,this[e(402)][e(514)]=!0),this[e(944)]()&&(Di(this[e(402)][e(847)])&&Di(this[e(402)].mseDecoderUseWorker)&&this.debugLog(this.TAG_NAME,e(670)),this[e(402)].mseDecoderUseWorker=!1,Di(this[e(402)].useWCS)&&Di(this[e(402)].wcsDecodeAudio)&&this[e(1009)](this[e(403)],"isPlayback and wcsDecodeAudio is true, so set wcsDecodeAudio false"),this[e(402)][e(601)]=!1),this[e(531)]()&&(this[e(402)][e(932)]=!1,Di(this._opt[e(316)])&&Di(this[e(402)][e(601)])&&this[e(1009)](this.TAG_NAME,e(1023)),this[e(402)][e(601)]=!1,this._opt[e(310)]=!0,this[e(766)]()&&(this.debugLog(this[e(403)],e(394)),this[e(402)][e(514)]=!1,this[e(402)].useMSE=!1,this._opt[e(316)]=!1,this[e(402)][e(1041)]=!1,this._opt[e(512)]=f[e(710)])),this._opt[e(585)]&&(this[e(402)].background=this._opt[e(585)]),Ri(this[e(402)][e(688)])&&(this[e(402)][e(734)]=!0),this._opt.mseDecoderUseWorker&&(this._opt[e(932)]=function(){const t=$e;return!!(ee[t(380)]&&ee.MediaSource&&t(402)in ee.MediaSource&&!0===ee.MediaSource[t(402)])}(),Ri(this[e(402)][e(932)])&&this[e(1009)](this[e(403)],e(315))),(this[e(290)]()||this[e(450)]()||this[e(341)]())&&(this[e(1009)](this[e(403)],e(422)),this[e(402)].useWCS=!1,this[e(402)].useMSE=!1,this[e(402)].isNakedFlow=!1,this[e(402)].useSIMD=!1,this[e(402)][e(799)]=!1,this._opt.useWasm=!1,this[e(402)][e(512)]=f[e(710)]),this[e(402)][e(307)]&&(this[e(1009)](this[e(403)],"isNakedFlow is true, so set _opt.mseDecodeAudio false"),this[e(402)][e(855)]=!1),ys()&&(this.debugLog(this[e(403)],e(411)),this[e(402)][e(855)]=!1),!this[e(290)]()&&!this[e(450)]()){if(this[e(402)].useWCS){const t=function(){const t=$e;let e=!1;return t(510)in ee&&typeof ee.VideoDecoder===t(218)&&(e=!0),e}(),s=Ms();this[e(402)][e(316)]=t,this[e(402)][e(316)]&&this[e(402)][e(380)]&&(this._opt.useWCS=s),!this[e(402)][e(316)]&&this[e(607)](this[e(403)],e(323)+t+e(383)+s+" , _opt.isH265 is "+this[e(402)][e(380)]+e(695)),this._opt.useWCS&&(this[e(402)][e(601)]&&(this[e(402)].wcsDecodeAudio=function(){const t=$e;let e=!1;return t(519)in ee&&typeof ee[t(519)]===t(218)&&(e=!0),e}(),!this._opt.wcsDecodeAudio&&this.debugWarn(this.TAG_NAME,e(940))),this._opt[e(856)]?this[e(402)][e(1053)]=!1:this[e(402)][e(1053)]&&(this[e(402)][e(1053)]=Bs()&&Fs(),!this[e(402)][e(1053)]&&this[e(607)](this[e(403)],e(901))))}if(this[e(402)][e(847)]){const t=function(){const t=$e;let e=!1;return t(395)in ee&&typeof ee[t(395)]===t(218)&&typeof ee[t(395)][t(476)]===t(218)&&(e=!0),e}()||function(){const t=$e;let e=!1;return!(t(395)in ee)&&t(524)in ee&&"function"==typeof ee[t(524)]&&typeof ee.ManagedMediaSource[t(476)]===t(218)&&(e=!0),e}(),s=Ps()||xs();this[e(402)][e(847)]=t,this[e(402)][e(847)]&&this._opt[e(380)]&&(this[e(402)][e(847)]=s),!this[e(402)][e(847)]&&this[e(607)](this[e(403)],e(801)+t+e(573)+s+e(523)+this[e(402)][e(380)]+e(437))}}if(Ri(this._opt.useMSE)&&(this[e(402)].mseDecodeAudio=!1),Ri(this[e(402)][e(316)])&&(this[e(402)].wcsDecodeAudio=!1),this._opt[e(847)]?(this[e(402)][e(316)]&&this[e(607)](this[e(403)],e(717)),!this[e(402)][e(1010)]&&this[e(607)](this[e(403)],e(807)),this[e(402)][e(316)]=!1,this._opt[e(1010)]=!0):this._opt[e(316)],this._opt[e(818)]&&this._opt[e(461)]&&(this[e(607)](this[e(403)],e(602)),this[e(402)][e(461)]=!1),this._opt[e(968)]&&this[e(402)].demuxUseWorker&&(this[e(607)](this[e(403)],e(960)),this[e(402)][e(461)]=!1),this[e(531)]()&&this[e(402)][e(461)]&&(this[e(607)](this[e(403)],e(597)),this._opt[e(461)]=!1),this[e(402)].isAliyunRtc&&this[e(402)].demuxUseWorker&&(this[e(607)](this.TAG_NAME,e(1103)),this[e(402)][e(461)]=!1),this[e(620)]()&&this[e(402)][e(461)]&&(this[e(607)](this[e(403)],e(305)),this[e(402)][e(461)]=!1),Ri(this[e(402)][e(461)])&&(this[e(402)][e(932)]=!1),(this[e(944)]()||this.isPlayVod())&&(this._opt.mseDecoderUseWorker=!1),this[e(402)].useMThreading&&(this[e(402)][e(631)]=typeof SharedArrayBuffer!==$e(224),!this._opt[e(631)]&&this.debugWarn(this[e(403)],e(304))),this[e(402)][e(1041)]||-1!==this._opt[e(861)][e(835)]("-simd")){const t=WebAssembly[$e(264)](new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),s=Bi();this[e(402)][e(1041)]=t&&Ri(s),!this[e(402)][e(1041)]&&this[e(607)](this[e(403)],e(823)+t+e(342)+s+e(677))}if(this[e(402)][e(1041)]?-1===this[e(402)].decoder[e(835)](e(951))?this[e(402)][e(631)]?this[e(402)][e(501)]?this[e(402)].decoder=this[e(402)].decoder.replace(e(475),e(410)):this._opt[e(861)]=this._opt[e(861)][e(498)](e(475),e(1083)):this._opt.isFFmpegSIMD?this[e(402)][e(861)]=this[e(402)][e(861)][e(498)](e(475),e(477)):this[e(402)][e(861)]=this._opt[e(861)][e(498)](e(475),e(812)):this[e(402)][e(631)]?this[e(402)][e(501)]?this[e(402)].decoder=this[e(402)][e(861)][e(498)](e(812),"decoder-pro-f-simd-mt.js"):this._opt.decoder=this._opt.decoder[e(498)](e(812),e(1083)):this[e(402)][e(501)]&&(this[e(402)][e(861)]=this[e(402)][e(861)][e(498)]("decoder-pro.js",e(477))):-1!==this[e(402)][e(861)].indexOf(e(951))?this[e(402)][e(631)]?this[e(402)][e(861)]=this._opt[e(861)][e(498)](e(812),e(771)):this[e(402)][e(861)]=this[e(402)][e(861)][e(498)](e(812),"decoder-pro.js"):this[e(402)].useMThreading&&(this[e(402)][e(861)]=this[e(402)][e(861)][e(498)](e(475),e(771))),-1!==this[e(402)].decoder.indexOf(e(951))?this[e(402)][e(631)]?this[e(402)].isFFmpegSIMD?(this[e(402)].decoderAudio=this[e(402)][e(861)].replace(e(410),e(661)),this[e(402)][e(721)]=this._opt[e(861)][e(498)](e(410),"decoder-pro-hard.js"),this._opt[e(1085)]=this._opt[e(861)][e(498)]("decoder-pro-f-simd-mt.js",e(1102)),this[e(402)][e(938)]=this[e(402)][e(861)][e(498)](e(410),"decoder-pro-old.js")):(this[e(402)][e(745)]=this[e(402)][e(861)].replace(e(1083),e(661)),this[e(402)][e(721)]=this[e(402)].decoder[e(498)](e(1083),e(865)),this[e(402)][e(1085)]=this[e(402)][e(861)].replace(e(1083),"decoder-pro-hard-not-wasm.js"),this[e(402)][e(938)]=this[e(402)][e(861)][e(498)]("decoder-pro-simd-mt.js","decoder-pro-old.js")):this[e(402)][e(501)]?(this[e(402)][e(745)]=this[e(402)][e(861)][e(498)](e(477),"decoder-pro-audio.js"),this[e(402)][e(721)]=this[e(402)][e(861)][e(498)](e(477),e(865)),this[e(402)][e(1085)]=this[e(402)].decoder[e(498)]("decoder-pro-f-simd.js",e(1102)),this[e(402)].decoderOld=this[e(402)][e(861)][e(498)]("decoder-pro-f-simd.js","decoder-pro-old.js")):(this[e(402)][e(745)]=this[e(402)].decoder[e(498)](e(812),"decoder-pro-audio.js"),this[e(402)].decoderHard=this[e(402)][e(861)][e(498)](e(812),e(865)),this[e(402)][e(1085)]=this[e(402)][e(861)][e(498)](e(812),e(1102)),this[e(402)][e(938)]=this[e(402)][e(861)].replace(e(812),"decoder-pro-old.js")):this[e(402)][e(631)]?(this._opt[e(745)]=this[e(402)][e(861)][e(498)](e(771),e(661)),this[e(402)][e(721)]=this[e(402)][e(861)].replace(e(771),e(865)),this[e(402)].decoderHardNotWasm=this[e(402)][e(861)][e(498)]("decoder-pro-mt.js",e(1102)),this[e(402)][e(938)]=this._opt.decoder[e(498)](e(771),"decoder-pro-old.js")):(this._opt[e(745)]=this[e(402)][e(861)][e(498)]("decoder-pro.js",e(661)),this[e(402)].decoderHard=this[e(402)].decoder[e(498)](e(475),e(865)),this[e(402)].decoderHardNotWasm=this._opt[e(861)][e(498)](e(475),e(1102)),this[e(402)][e(938)]=this[e(402)].decoder[e(498)]("decoder-pro.js",e(873))),Ri(this[e(402)][e(604)])&&(this[e(402)][e(814)][e(731)]=!1),Ri(this[e(402)][e(385)])&&(this[e(402)][e(814)][e(570)]=!1,this[e(402)][e(814)][e(989)]=!1,this[e(402)][e(814)][e(318)]=!1,this._opt[e(814)][e(1108)]=!1,this[e(402)][e(814)][e(963)]=!1,this[e(402)][e(814)][e(520)]=!1),this[e(402)][e(663)]&&0===this._opt[e(663)][e(633)]&&this._opt[e(814)][e(963)]&&(this[e(402)][e(814)][e(963)]=!1,this[e(607)](this[e(403)],"_opt.qualityConfig is empty, so set operateBtns.quality false")),Di(this[e(402)].useWebGPU)&&(this[e(402)][e(463)]=function(){let t=!1;return $e(511)in navigator&&(t=!0),t}(),Ri(this._opt[e(463)])&&this[e(607)](this[e(403)],e(948))),Di(this[e(402)].useWebCanvas)&&(this[e(402)][e(497)]=Es(),Ri(this[e(402)].useWebCanvas)&&this[e(607)](this[e(403)],e(931))),this._opt[e(847)]&&this[e(402)].mseWaitVideoCanplayTimeout>this[e(402)].loadingTimeout&&(this[e(607)](this[e(403)],e(992)+this[e(402)][e(761)]+e(396)+this._opt.loadingTimeout+e(852)),this[e(402)][e(761)]=Math[e(1002)](this[e(402)][e(612)]-1,1)),this[e(402)].hasControl=this._hasControl(),this[e(678)]=!1,this[e(576)]=!1,this._playbackPause=!1,this[e(777)]=!1,this[e(345)]=!1,this[e(982)]=!1,this[e(487)]=!1,this[e(575)]=!1,this[e(833)]=!1,this[e(820)]=!1,this[e(830)]=null,this[e(640)]=null,this[e(1037)]=null,this[e(418)]=null,this[e(1065)]=null,this[e(314)]=!1,this._stats={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,p2dfps:0,abps:0,vbps:0,ts:0,mseTs:0,currentPts:0,pTs:0,dts:0,mseVideoBufferDelayTime:0,isDropping:!1},this[e(716)]={updateStats:this.updateStats[e(853)](this)},this[e(367)]=[],this[e(870)]={},this[e(841)]=!1,this[e(479)]=!1,this[e(686)]=!1,this._imageDetectActive=!1,this[e(390)]={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this[e(709)]=0,this._audioTimestamp=0,this[e(561)]=0,this._videoIframeIntervalTs=0,this._streamQuality=this[e(402)][e(680)]||"",!this[e(739)]&&this[e(402)][e(663)][e(633)]>0&&(this[e(739)]=this._opt[e(663)][0]||""),this[e(822)]=!0,this[e(985)]=null,this[e(424)]=null,this[e(594)]=[],this[e(330)]=[],this._tempStreamList=[],this[e(860)]=null,this[e(598)]=null,this[e(946)]=null,this[e(728)]=null,this[e(868)]={},this[e(986)]=!1,this[e(831)]=null,this[e(1106)]=[],Ri(this[e(402)][e(847)])&&Ri(this[e(402)][e(316)])&&!this[e(450)]()&&!this.isOldHls()&&!this[e(341)]()&&!this[e(766)]()&&(this[e(402)][e(514)]=!0),(this[e(290)]()||this[e(450)]()||this[e(341)]()||this[e(766)]())&&(this[e(402)][e(385)]=!0,this[e(402)][e(604)]=!0),!this[e(402)].hasVideo&&(this[e(402)][e(847)]=!1,this[e(402)][e(316)]=!1),this[e(402)][e(514)]&&(this[e(402)][e(856)]?this._opt[e(420)]=!1:this[e(402)][e(420)]&&(this[e(402)][e(420)]=ws()&&Bs()&&Fs(),!this[e(402)].wasmUseVideoRender&&this[e(607)](this[e(403)],"use wasm video render, but not support so set wasmUseVideoRender false"),this[e(402)][e(420)]&&this[e(402)][e(708)]&&(this[e(402)][e(708)]=function(){const t=$e;let e=!1;return t(333)in ee&&typeof ee[t(333)]===t(218)&&(e=!0),e}(),!this[e(402)].wasmPlayAudioUseVideoRender&&this[e(607)](this[e(403)],e(435)))),this[e(402)].useSIMD?this[e(402)][e(631)]?this.debugLog(this.TAG_NAME,e(743)):this[e(1009)](this[e(403)],e(714)):this[e(402)][e(631)]?this[e(1009)](this[e(403)],"use wasm mt"):this[e(1009)](this[e(403)],"use wasm")),(this[e(402)][e(514)]||this._opt[e(316)])&&(this[e(402)][e(1031)]&&window[e(1051)]||this[e(402)][e(626)]&&window[e(533)]||this[e(402)][e(712)]&&window.JessibucaProOcclusionDetector||this[e(402)][e(589)]&&window.JessibucaProImageDetector)?(this.ai=new oR(this),!(this[e(402)][e(1031)]&&window.JessibucaProFaceDetector)&&(this._opt[e(814)][e(925)]=!1),!(this[e(402)][e(626)]&&window[e(533)])&&(this._opt[e(814)][e(361)]=!1),!(this._opt[e(712)]&&window.JessibucaProOcclusionDetector)&&(this[e(402)].operateBtns.aiOcclusion=!1),this[e(402)][e(589)]&&this._opt[e(737)]&&window[e(1040)]&&(this.imageDetectActive=!0)):(this._opt[e(814)][e(361)]=!1,this._opt[e(814)][e(925)]=!1,this[e(402)][e(814)][e(343)]=!1),this._opt[e(1031)]&&(!this._opt[e(514)]&&!this[e(402)][e(316)]||!window.JessibucaProFaceDetector)&&this[e(607)](this[e(403)],e(355)+this[e(402)][e(514)]+e(647)+this[e(402)][e(316)]+e(581)),this._opt[e(626)]&&(!this[e(402)][e(514)]&&!this[e(402)][e(316)]||!window[e(533)])&&this[e(607)](this[e(403)],e(862)+this._opt.useWasm+e(647)+this[e(402)][e(316)]+e(391)),this[e(402)][e(712)]&&(!this[e(402)].useWasm&&!this[e(402)][e(316)]||!window[e(436)])&&this[e(607)](this[e(403)],e(535)+this[e(402)][e(514)]+" and useWCS is "+this[e(402)][e(316)]+e(587)),this[e(402)][e(589)]&&(!this[e(402)][e(514)]&&!this._opt[e(316)]||!window[e(1040)])&&this[e(607)](this[e(403)],e(518)+this[e(402)][e(514)]+e(647)+this[e(402)][e(316)]+e(872)),this[e(402)][e(404)]&&(this[e(1009)](this[e(403)],e(972)+this[e(402)].videoRenderType),this[e(402)][e(404)]===A.video?(this[e(402)][e(1079)]=!0,this[e(402)][e(804)]=!1):this[e(402)][e(404)]===A[e(1032)]&&(this._opt[e(1079)]=!1,this[e(402)][e(804)]=!0)),this[e(402)].useVideoRender&&(this[e(402)][e(514)]&&!this._opt[e(856)]?(this._opt.wasmUseVideoRender=ws()&&Bs()&&Fs(),!this[e(402)][e(420)]&&this[e(607)](this[e(403)],e(326))):this[e(402)][e(316)]&&!this._opt[e(856)]&&(this[e(402)].wcsUseVideoRender=Bs()&&Fs(),!this[e(402)][e(1053)]&&this[e(607)](this[e(403)],e(489)))),this._opt[e(804)]&&(this[e(402)].useMSE&&Ri(this[e(402)][e(932)])&&(this[e(402)].mseUseCanvasRender=!0),this[e(402)][e(514)]&&(this._opt[e(420)]=!1),this[e(402)].useWCS&&(this[e(402)][e(1053)]=!1),this.isOldHls()&&!bs()&&(this[e(402)].hlsUseCanvasRender=!0),this[e(450)]()&&(this[e(402)][e(560)]=!0)),this[e(402)][e(1079)]=!1,this[e(402)][e(804)]=!1,this[e(402)][e(514)]?this[e(402)][e(420)]?this._opt[e(1079)]=!0:this[e(402)][e(804)]=!0:this[e(402)].useWCS?this[e(402)][e(1053)]?this._opt[e(1079)]=!0:this._opt.useCanvasRender=!0:this._opt[e(847)]?this[e(402)].mseUseCanvasRender?this[e(402)][e(804)]=!0:this._opt[e(1079)]=!0:this[e(290)]()?this._opt[e(500)]?this[e(402)].useCanvasRender=!0:this[e(402)][e(1079)]=!0:this[e(450)]()&&(this[e(402)][e(560)]?this[e(402)][e(804)]=!0:this[e(402)][e(1079)]=!0),Ri(this._opt.useWasm)&&(this[e(402)][e(631)]=!1),this[e(402)][e(804)]&&this.useVideoPlayAudio()&&(this[e(1009)](this[e(403)],"useCanvasRender is true and useVideoPlayAudio() return true, so set wcsDecodeAudio false"),this[e(402)][e(601)]=!1,this[e(402)][e(708)]=!1),this.events=new Xi(this),this[e(944)]()&&(this[e(564)]=new $D(this,this[e(402)][e(874)])),this[e(531)]()&&(this[e(634)]=new nL(this,this[e(402)][e(779)])),this[e(402)].hasVideo&&(this.video=new Uo(this),this.recorder=new Ec(this)),this[e(290)]()?(this[e(430)]=new vk(this),this[e(876)]=!0):this[e(450)]()?(this[e(402)][e(1057)]?this[e(1082)]=new OR(this):this[e(402)][e(697)]?this.webrtc=new _R(this):this._opt.isWebrtcForOthers?this.webrtc=new LR(this):this[e(1082)]=new BR(this),this[e(876)]=!0):this[e(341)]()?(this.aliyunRtcDecoder=new GR(this),this.loaded=!0):this[e(766)]()?(this.mp4Decoder=new QD(this),this[e(876)]=!0):(this.isUseHls265()&&(this.hlsDecoder=new mD(this)),this.isWebrtcH265()&&(this[e(1082)]=new BR(this)),this[e(927)]()&&(this.mp4Decoder=new QD(this)),Ri(pi(this[e(402)]))?this[e(854)]()?this[e(1099)]=new Gc(this):this.decoderWorker=new Nc(this):this[e(876)]=!0),this[e(1e3)]=null,this.demux=null,this[e(579)]=null,this[e(426)]=null,this[e(586)]=!1,this._playingStartTimestamp=null,this[e(755)]=!1,this[e(554)]=!1,this[e(875)]=!1,this.isMSEPlaybackRateChangePause=!1,this[e(863)]=!1,this[e(1067)]=!1,this[e(1077)]=!1,this[e(1109)]=[],this[e(321)]=null,this[e(402)][e(316)]&&!this._opt[e(604)]&&Ri(this[e(402)][e(461)])&&(this[e(876)]=!0),this[e(402)][e(847)]&&Ri(this[e(402)][e(932)])&&!this[e(402)][e(604)]&&Ri(this._opt.demuxUseWorker)&&(this[e(876)]=!0),Ri(this[e(402)][e(798)])&&(this[e(705)]=new Cy(this)),this._opt.contextmenuBtns[e(633)]>0&&Ri(this[e(402)].disableContextmenu)&&ms()?this.contextmenu=new lR(this):Di(this[e(402)][e(294)])&&this._opt.contextmenuBtns[e(633)]>0&&ms()&&this[e(607)](this[e(403)],e(583)),this[e(402)][e(814)][e(520)]&&(this[e(520)]=new sR(this)),function(){const t=$e;return/(iphone|ipad|ipod|ios|android)/i[t(330)](window[t(307)].userAgent[t(412)]())}()&&Ri(this[e(402)][e(335)]&&vs())&&(this.keepScreenOn=new zy(this)),(t=>{const e=Zi;try{const s=e=>{const s=Zi;oi(e)===t[s(292)]&&(t[s(322)]?t[s(282)][s(342)]&&t[s(325)]():t[s(325)](),t[s(339)](H[s(322)],t.fullscreen))};ge.on(e(301),s),t[e(314)].destroys[e(295)]((()=>{const t=e;ge[t(326)](t(301),s)}))}catch(t){}if(t.on(H.decoderWorkerInit,(()=>{const s=e;t[s(323)](s(334),s(312)),t[s(300)]=!0})),t.on(H[e(315)],(()=>{t.loading=!1})),t.on(H[e(308)],(s=>{const i=e;if(s)try{ge[i(287)](t.$container)[i(335)]((()=>{const e=i;t[e(323)](e(334),e(336))}))[i(341)]((e=>{const s=i;t[s(290)](s(334),s(320),e,e[s(305)]()),t[s(304)](Q[s(297)],e[s(305)]()),fs()&&t[s(282)][s(281)]&&(t[s(283)]=!0)}))}catch(e){fs()&&t._opt.useWebFullScreen&&(t.webFullscreen=!0)}else try{ge[i(285)]().then((()=>{const e=i;t.debugLog(e(334),e(317)),t[e(283)]&&(t[e(283)]=!1)}))[i(341)]((e=>{const s=i;t[s(290)]("player",s(288),e,e[s(305)]()),t[s(304)](Q[s(297)],e[s(305)]()),t.webFullscreen&&(t[s(283)]=!1)}))}catch(e){t[i(283)]&&(t.webFullscreen=!1)}})),fs()&&t.on(H[e(283)],(s=>{const i=e;s?t[i(292)].classList[i(329)]("jb-pro-fullscreen-web"):t[i(292)][i(332)].remove("jb-pro-fullscreen-web"),t[i(339)](H[i(322)],t.fullscreen)})),t.on(H.resize,(()=>{t[e(325)]()})),t[e(282)].debug){const s=[H[e(310)],H[e(307)],H.videoSEI,H.videoSEISyncPts,H[e(338)],H[e(296)]],i=[H[e(303)],H[e(331)],H[e(289)],H[e(324)],H[e(311)],H[e(298)],H[e(327)],H[e(330)]];Object[e(293)](H)[e(321)]((e=>{t.on(H[e],(function(r){const n=Zi;if(!s[n(313)](e)){i[n(313)](e)&&(r=JSON.stringify(r));for(var o=arguments[n(340)],a=new Array(o>1?o-1:0),h=1;h<o;h++)a[h-1]=arguments[h];t[n(323)](n(306),H[e],r,...a)}}))})),Object[e(293)](Q)[e(321)]((e=>{t.on(Q[e],(function(){const s=Zi;for(var i=arguments[s(340)],r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t[s(316)](s(299),Q[e],...r)}))}))}})(this),(t=>{const e=Ry,{_opt:s,events:{proxy:i}}=t;if(s[e(479)]&&i(t[e(473)],e(493),(s=>{const i=e,r=oi(s)[i(490)].toLowerCase();(r===i(489)||r===i(508))&&(t[i(482)]=!t[i(482)])})),i(document,e(509),(()=>{const i=e;t[i(474)]=i(503)===document.visibilityState,t[i(515)]("visibilitychange",document[i(519)]),s[i(476)]&&(t[i(515)](i(509),i(501),document[i(519)],t[i(518)]),i(503)===document[i(519)]?t[i(518)]&&t[i(497)]():(t[i(518)]=t[i(504)],t[i(504)]&&t.pause()))})),ms()&&i(document,[e(485),"contextmenu"],(s=>{const i=e;Ln(s,t[i(473)])?(Di(t[i(495)][i(502)])&&s[i(498)]===i(511)&&s[i(510)](),t[i(516)]="INPUT"===s[i(480)][i(520)],t[i(507)]=!0,t[i(475)](H[i(488)])):(t[i(516)]=!1,t[i(507)]=!1,t[i(475)](H[i(500)]))})),s[e(483)]){t[e(499)]=Rn(t[e(473)]);const s=ks((()=>{const s=e,i=Rn(t[s(473)]);i!==t.isInView&&(t.isInView=i,t.emit(H[s(513)],i))}),200);i(window,e(478),(()=>s()))}if(s.orientationChangeResize){const s=ks((()=>{t[e(475)](H.resize)}),500);i(window,e(484),(()=>{s()})),screen&&screen.orientation&&screen.orientation[e(481)]&&i(screen[e(494)],"change",(()=>{s()}))}})(this),Ki()&&this[e(402)][e(964)][e(811)]){const t=Object[e(494)]({},this[e(402)][e(964)],{isGhost:!0});this[e(947)]=new XR(this,t)}if(qi()){const t=Object[e(494)]({},this[e(402)][e(964)],{isGhost:!0});this[e(947)]=new XR(this,t)}Ki()&&this[e(402)][e(704)][e(811)]&&(this[e(669)]=new XR(this,this._opt[e(704)])),qi()&&(this[e(669)]=new XR(this,this[e(402)][e(704)])),ti(this[e(402)][e(770)])&&this[e(956)](this._opt[e(770)]),this._opt.useWCS&&this.debugLog(this.TAG_NAME,e(1030)),this[e(402)][e(847)]&&(this[e(402)][e(932)]?this.debugLog(this[e(403)],e(490)):this[e(1009)](this[e(403)],e(1033))),this[e(402)].useOffscreen&&this.debugLog(this.TAG_NAME,e(1013)),this[e(402)][e(968)]&&(this[e(402)][e(310)]?this[e(1009)](this[e(403)],e(624)):this[e(1009)](this[e(403)],e(810))),this._opt.isWebrtc&&(this._opt[e(754)]?this[e(1009)](this[e(403)],"use webrtc h265"):this[e(402)][e(1057)]?this[e(1009)](this[e(403)],e(1006)):this[e(402)].isWebrtcForSRS?this[e(1009)](this[e(403)],e(882)):this._opt[e(306)]?this[e(1009)](this.TAG_NAME,e(776)):this[e(1009)](this[e(403)],e(1080))),this[e(341)]()&&this[e(1009)](this[e(403)],e(790)),this[e(402)][e(799)]&&this[e(1009)](this[e(403)],"use fmp4"),this[e(402)][e(984)]&&this[e(1009)](this[e(403)],"use mpeg4"),this[e(944)]()&&this[e(1009)](this[e(403)],e(591)),this[e(531)]()&&this[e(1009)](this[e(403)],e(1043));const o=Fi();if(o){const t=Rs(o[e(393)]);this.debugLog(this.TAG_NAME,e(729)+t)}this[e(402)].hasVideo&&(0===this[e(545)]&&this[e(607)](this[e(403)],e(955)),0===this[e(613)]&&this.debugWarn(this[e(403)],e(744)));try{this.debugLog(e(878),JSON[e(787)](this[e(402)]))}catch(t){this[e(1009)](e(878),this[e(402)])}}async destroy(){const t=dL;if(this[t(1009)](this[t(403)],t(769)),this._destroyLock)return new Error(t(999));this[t(833)]=!0,this[t(575)]=!0,this[t(483)](H[t(769)]),this[t(813)](),this[t(388)]&&(this.events[t(769)](),this[t(388)]=null),this[t(423)](),this[t(552)](),this[t(819)](),this[t(1099)]&&(await this[t(1099)][t(769)](),this[t(1099)]=null),await this[t(908)](),this[t(833)]=!1}async[cL(908)](){const t=cL;this._loading=!1,this[t(576)]=!1,this[t(566)]=!1,this[t(345)]=!1,this[t(579)]=null,this._isMute=null,this[t(982)]=!1,this._drawingRect=!1,this[t(841)]=!1,this[t(479)]=!1,this[t(686)]=!1,this[t(995)]=!1,this[t(390)]={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this[t(869)]&&(this.singleWatermark.destroy(),this[t(869)]=null),this[t(947)]&&(this[t(947)][t(769)](),this.ghostWatermark=null),this[t(669)]&&(this[t(669)][t(769)](),this[t(669)]=null),this.pressureObserverCpu&&(this[t(455)][t(769)](),this[t(455)]=null),this[t(1e3)]&&(await this[t(1e3)][t(769)](),this.stream=null),this[t(430)]&&(await this[t(430)].destroy(),this[t(430)]=null),this.mseDecoder&&(this[t(372)][t(769)](),this[t(372)]=null),this.webrtc&&(this[t(1082)][t(769)](),this[t(1082)]=null),this[t(291)]&&(this[t(291)][t(769)](),this[t(291)]=null),this[t(429)]&&(await this[t(429)][t(769)](),this[t(429)]=null),this[t(731)]&&(await this[t(731)].destroy(),this.audio=null),this[t(1101)]&&(this.recorder.destroy(),this[t(1101)]=null),this.control&&(this[t(705)][t(769)](),this.control=null),this[t(824)]&&(await this[t(824)][t(769)](),this.webcodecsDecoder=null),this.mp4Decoder&&(await this[t(675)][t(769)](),this[t(675)]=null),this[t(981)]&&(this.demux[t(769)](),this[t(981)]=null),this[t(564)]&&(this[t(564)][t(769)](),this[t(564)]=null),this.playVod&&(this[t(634)][t(769)](),this[t(634)]=null),this.zoom&&(this.zoom[t(769)](),this.zoom=null),this[t(397)]&&(this[t(397)][t(769)](),this[t(397)]=null),this.ai&&(this.ai.destroy(),this.ai=null),this[t(676)]&&(this[t(425)](),this[t(676)][t(769)](),this[t(676)]=null),this[t(482)](),this._audioTimestamp=0,this._latestAudioTimestamp=0,this[t(709)]=0,this[t(739)]="",this[t(822)]=!0,this[t(586)]=!1,this[t(387)]=null,this[t(985)]=null,this[t(922)]=null,this[t(424)]=null,this[t(667)]=[],this._tempG711DataList=[],this[t(1109)]=[],this._tempInnerPlayBgobj={},this[t(598)]=null,this[t(946)]=null,this[t(728)]=null,this[t(868)]={},this[t(986)]=!1,this[t(831)]=null,this[t(755)]=!1,this.isMSEAudioDecoderError=!1,this[t(875)]=!1,this[t(751)]=!1,this.isMSECurrentMoreThanBufferedPause=!1,this.isPlayFailedAndPaused=!1,this[t(1077)]=!1,this[t(321)]=null,delete this[t(570)],delete this[t(1068)],this[t(1009)]("play","destroy end"),this[t(930)]=null,this[t(716)]=null,this._opt={},this[t(390)]=null,this[t(456)][t(539)]="",this[t(456)]=null,this[t(1105)]=null}set[cL(570)](t){const e=cL;fs()&&this[e(402)][e(784)]?this.webFullscreen=t:this[e(483)](H[e(509)],t)}get[cL(570)](){const t=cL;return Cs()||this[t(1068)]}set[cL(1068)](t){const e=cL;this[e(483)](H[e(1068)],t),setTimeout((()=>{this[e(1036)]({rotate:t?270:0}),this.resize()}),10)}get[cL(1068)](){const t=cL;return this[t(456)]&&this[t(456)][t(881)][t(757)](t(987))}set loaded(t){this[cL(345)]=t}get[cL(876)](){const t=cL;return this[t(345)]||this[t(290)]()||this[t(450)]()||this[t(341)]()||this.isPlayVodMp4UseVideoSrc()||this[t(402)][t(847)]&&Ri(this[t(402)][t(604)])&&Ri(this._opt[t(461)])||this[t(402)][t(316)]&&!this._opt.hasAudio&&Ri(this._opt[t(461)])}set[cL(975)](t){const e=cL;this[e(352)]()&&t?this[e(1009)](this[e(403)],e(767)):(t&&Di(this[e(506)])&&(this.loading=!1),this[e(975)]!==t&&(this[e(576)]=t,this.emit(H[e(975)],t),t?(this[e(483)](H[e(762)],this[e(1047)]),this[e(483)](H[e(553)])):this[e(483)](H[e(339)])))}get[cL(975)](){return this[cL(576)]}get[cL(1047)](){const t=cL;return this[t(731)]&&this[t(731)][t(1047)]||0}set volume(t){const e=cL;t!==this[e(1047)]&&(this[e(731)]?(this.audio.setVolume(t),this._lastVolume=this[e(1047)],this._isMute=0===this[e(1047)]):this.debugWarn(this[e(403)],e(849)))}get lastVolume(){return this[cL(579)]}set loading(t){const e=cL;this.loading!==t&&(this._loading=t,this[e(483)](H.loading,this[e(678)]))}get[cL(506)](){return this[cL(678)]}set[cL(453)](t){const e=cL;this[e(530)]()||this.zooming!==t&&(!this[e(520)]&&(this.zoom=new sR(this)),this[e(982)]=t,this[e(483)](H.zooming,this[e(453)]))}get zooming(){return this[cL(982)]}set[cL(351)](t){const e=cL;this[e(530)]()||this[e(351)]!==t&&(!this.drawRectangle&&(this[e(397)]=new eL(this)),this[e(487)]=t,this[e(483)](H[e(351)],this.drawingRect))}get[cL(351)](){return this._drawingRect}set recording(t){const e=cL;t?this[e(975)]&&!this[e(421)]&&(this[e(1101)]&&this.recorder.startRecord(),this[e(1003)]()&&this.decoderWorker&&this[e(1099)][e(536)]({key:e(541),value:!0})):this[e(421)]&&(this[e(1003)]()&&this[e(1099)]&&this.decoderWorker[e(536)]({key:e(541),value:!1}),this.recorder&&this[e(1101)][e(468)]()[e(782)]((()=>{})).catch((t=>{})))}get recording(){const t=cL;return!!this[t(1101)]&&this[t(1101)][t(541)]}set[cL(467)](t){null!==t&&(this[cL(838)]=t)}get[cL(467)](){return this[cL(838)]}set latestAudioTimestamp(t){null!==t&&(this[cL(561)]=t)}get[cL(616)](){return this._latestAudioTimestamp}get videoTimestamp(){const t=cL;return this._stats[t(826)]||this[t(930)].ts}set[cL(871)](t){const e=cL;this[e(871)]!==t&&(this[e(739)]=t,this[e(483)](H[e(1069)],t))}get[cL(871)](){return this[cL(739)]}get[cL(522)](){const t=cL;return Di(this[t(402)][t(1105)])}get[cL(299)](){const t=cL,e=this[t(402)],s=e[t(988)],i=e.isFullResize;let r=ot[t(1056)];return Ri(i)&&Ri(s)?r=ot[t(1056)]:Ri(i)&&Di(s)?r=ot[t(590)]:Di(i)&&Di(s)&&(r=ot.fullAuto),r}set[cL(1110)](t){const e=cL;this[e(822)]!==t&&(this._visibility=t,this[e(483)](H[e(990)],t),this[e(985)]=is(),t?this[e(819)]():this[e(1026)]())}get[cL(1110)](){return this[cL(822)]}set[cL(454)](t){const e=cL;this[e(566)]!==t&&(this[e(566)]=t,this[e(483)](H.playbackPause,t),this.emit(H[e(780)],t),Di(t)&&this[e(421)]&&(this.debugLog(this.TAG_NAME,e(958)),this[e(421)]=!1))}get[cL(454)](){const t=cL;return this[t(944)]()&&this[t(566)]}set[cL(298)](t){const e=cL;if(this.playVod)return this[e(634)][e(648)]()&&Ri(t)?(this[e(1009)](this[e(403)],"playVodPause false and isEnded, emit playVodEndedAndReplay"),void this.emit(H.playVodEndedAndReplay)):void(this[e(777)]!==t&&(this[e(777)]=t,this[e(483)](H.playVodPause,t),this[e(483)](H[e(427)],t),Di(t)&&this[e(421)]&&(this[e(1009)](this[e(403)],"playVodPause set true and is recording, so stop recording"),this[e(421)]=!1)))}get[cL(298)](){const t=cL;return this[t(531)]()&&this[t(777)]}set[cL(409)](t){this._videoIframeIntervalTs=t}get[cL(409)](){return this[cL(922)]}set[cL(646)](t){const e=cL;this._faceDetectActive!==t&&(this[e(841)]=t,this[e(483)](H[e(646)],t))}get[cL(646)](){return this[cL(841)]}set objectDetectActive(t){const e=cL;this._objectDetectActive!==t&&(this._objectDetectActive=t,this[e(483)](H[e(344)],t))}get objectDetectActive(){return this[cL(479)]}set[cL(713)](t){const e=cL;this[e(686)]!==t&&(this[e(686)]=t,this[e(483)](H.occlusionDetectActive,t))}get[cL(713)](){return this._occlusionDetectActive}set imageDetectActive(t){const e=cL;this[e(995)]!==t&&(this[e(995)]=t)}get[cL(580)](){return this._imageDetectActive}get isUseWorkerDemuxAndDecode(){const t=cL;return this[t(1e3)]&&-1!==this[t(1e3)].getStreamType()[t(835)](u[t(954)])}get[cL(959)](){const t=cL;let e={width:0,height:0,bottom:0,left:0,right:0,top:0};return this[t(456)]&&(e=this.$container.getBoundingClientRect(),e[t(545)]=Math[t(1002)](e.width,this[t(456)].clientWidth),e.height=Math[t(1002)](e.height,this[t(456)][t(976)])),e}get[cL(545)](){const t=cL;return this[t(959)][t(545)]||0}get[cL(613)](){const t=cL;return this[t(959)][t(613)]||0}get[cL(442)](){const t=cL;return this.rect[t(442)]||0}get[cL(967)](){return this[cL(959)].left||0}get[cL(448)](){const t=cL;return this[t(959)][t(448)]||0}get top(){const t=cL;return this.rect[t(656)]||0}[cL(354)](){return this[cL(575)]}[cL(802)](){return this._destroyed&&this._destroyLock}isClosed(){return this._closed}[cL(727)](){const t=cL;return Ri(this[t(354)]())&&this[t(352)]()}isDestroyedOrClosed(){const t=cL;return this[t(354)]()||this[t(352)]()}[cL(386)](){return this[cL(506)]}isPlaying(){const t=cL;let e=!1;return this[t(978)]()?e=this.playing:this[t(944)]()?e=Ri(this[t(454)])&&this[t(975)]:this.isPlayVod()&&(e=Ri(this[t(298)])&&this[t(975)]),e}updateOption(t){const e=cL;let s=arguments[e(633)]>1&&void 0!==arguments[1]&&arguments[1];this[e(402)]=Object[e(494)]({},this[e(402)],t),Di(s)&&this[e(325)](t)}[cL(325)](t){const e=cL;this.decoderWorker&&Object[e(786)](t).forEach((s=>{const i=e;this.decoderWorker[i(536)]({key:s,value:t[s]})}))}[cL(474)](){return new Promise(((t,e)=>{const s=dL;Ni()&&!this.pressureObserverCpu&&(this.pressureObserverCpu=new KR(this)),!this[s(429)]&&this._opt.hasVideo&&(this[s(429)]=new Uo(this)),!this.audio&&this._opt.hasAudio&&(this[s(731)]=new xa(this)),!this[s(1e3)]&&(this.stream=new xh(this)),this[s(290)]()?(!this[s(430)]&&(this[s(430)]=new vk(this),this[s(876)]=!0),t()):this[s(450)]()?(this.webrtc||(this[s(402)].isWebrtcForZLM?this.webrtc=new OR(this):this._opt[s(697)]?this.webrtc=new _R(this):this[s(402)][s(306)]?this.webrtc=new LR(this):this.webrtc=new BR(this),this[s(876)]=!0),t()):this[s(341)]()?(!this.aliyunRtcDecoder&&(this[s(291)]=new GR(this),this.loaded=!0),t()):this[s(766)]()?(!this[s(675)]&&(this[s(675)]=new QD(this),this.loaded=!0),t()):(!this[s(981)]&&this[s(402)][s(385)]&&!this[s(815)]&&(this[s(981)]=new zg(this)),this[s(402)][s(316)]&&!this[s(824)]&&(this[s(824)]=new Jg(this),!this[s(402)][s(604)]&&Ri(this._opt[s(461)])&&(this.loaded=!0)),this[s(402)][s(847)]&&Ri(this[s(402)][s(932)])&&!this[s(372)]&&(this[s(372)]=new Oy(this),!this._opt.hasAudio&&Ri(this[s(402)].demuxUseWorker)&&(this.loaded=!0)),this[s(659)]()&&!this[s(430)]&&(this[s(430)]=new mD(this)),this[s(754)]()&&!this[s(1082)]&&(this[s(1082)]=new BR(this)),this.isPlayVodMp4()&&!this[s(675)]&&(this[s(675)]=new QD(this)),this[s(1099)]?this[s(876)]?t():this[s(821)](H[s(892)],(()=>{const i=s;this.isDestroyedOrClosed()?(this.debugError(this.TAG_NAME,i(370)),e(i(370))):(this[i(876)]=!0,t())})):Ri(pi(this[s(402)]))?(this[s(854)]()?this[s(1099)]=new Gc(this):this.decoderWorker=new Nc(this),this.once(H.decoderWorkerInit,(()=>{const i=s;this[i(530)]()?(this[i(746)](this[i(403)],i(370)),e("init() failed and player is destroyed")):(this[i(876)]=!0,t())}))):t())}))}[cL(553)](t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=dL;if(!t&&!this[r(402)].url)return i(r(1064));this[r(820)]=!1,this[r(506)]=!0,this[r(975)]=!1,this[r(390)][r(942)]=is(),!t&&(t=this._opt[r(551)]),this._opt[r(551)]=t,this[r(1009)](this[r(403)],r(935)+t),this[r(705)]&&this._opt[r(621)]&&this[r(705)][r(508)](),this.init()[r(782)]((()=>{const n=r;if(this[n(1009)](this.TAG_NAME,n(405)),this[n(390)][n(723)]=is(),this[n(402)][n(734)]&&this.mute(!1),this.enableWakeLock(),this[n(673)](),this.stream){if(this[n(1e3)][n(821)](Q.fetchError,(t=>{const e=n;this[e(605)](Q[e(979)],t),i(t)})),this[n(1e3)][n(821)](Q.hlsError,(t=>{const e=n;this[e(605)](Q[e(452)],t),i(t)})),this[n(1e3)].once(Q.webrtcError,(t=>{const e=n;this[e(605)](Q[e(883)],t),i(t)})),this[n(1e3)][n(821)](H[n(933)],(()=>{const t=n;if(s(),!this.isDestroyedOrClosed()&&(this[t(390)][t(362)]=is(),this[t(429)]&&this.video[t(553)](),this[t(1073)](),this[t(944)]()&&this[t(564)]?(this.playback[t(300)](),this.playback.emitPlaybackPrecisionForNormal()):this[t(531)]()&&this[t(634)]&&this.playVod[t(300)](),qi())){const e=Number("1")||1;setTimeout((()=>{const e=t;this[e(769)](),console[e(805)](decodeURIComponent(oe)),alert(decodeURIComponent(ne)),window[e(472)][e(897)]()}),60*e*60*1e3)}})),Qi())return i(decodeURIComponent(ne));this[n(1e3)][n(724)](t,e)}else this[n(607)](this[n(403)],n(1100)+this[n(530)]()),i("this.stream is null")}))[r(622)]((t=>{i(t)}))}))}playForControl(){return new Promise(((t,e)=>{const s=dL;if(this[s(944)]()&&this[s(564)][s(648)]())return this[s(1009)](this[s(403)],s(895)),void this.emit(H[s(797)]);this.debugLog(this[s(403)],s(1114)+this[s(402)][s(592)]),this[s(402)][s(592)]&&this[s(860)]&&this[s(860)][s(621)]&&this[s(1036)]({loadingBackground:this[s(860)][s(621)],loadingBackgroundWidth:this[s(860)][s(893)],loadingBackgroundHeight:this[s(860)].loadingBackgroundHeight}),this[s(553)]()[s(782)]((e=>{t(e)}))[s(622)]((t=>{e(t)}))}))}[cL(793)](){return new Promise(((t,e)=>{const s=dL;this[s(752)]().then((()=>{const e=s;this.video&&this.video[e(924)](),t()})).catch((t=>{e(t)}))}))}[cL(711)](){const t=cL;this[t(574)]&&Ri(this[t(426)])&&(this[t(1047)]=this.lastVolume)}async _close(){const t=cL;this[t(1009)](this[t(403)],"_close()"),this._closed=!0,this[t(429)]&&(this[t(429)].resetInit(),this.video[t(339)](!0)),this[t(506)]=!1,this[t(421)]=!1,this[t(453)]=!1,this[t(423)](),this.clearStatsInterval(),this[t(944)]()&&this.playback&&(this.playback[t(552)](),this[t(564)][t(943)]()),this[t(531)]()&&this[t(634)]&&this[t(634)][t(552)](),this.releaseWakeLock(),this.resetStats(),this._audioTimestamp=0,this[t(709)]=0,this[t(390)]={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this.decoderWorker&&(await this.decoderWorker[t(769)](),this[t(1099)]=null),this[t(1e3)]&&(await this[t(1e3)][t(769)](),this[t(1e3)]=null),this.demux&&(this[t(981)][t(769)](),this[t(981)]=null),this[t(824)]&&(await this[t(824)][t(769)](),this[t(824)]=null),this[t(372)]&&(this.mseDecoder[t(769)](),this[t(372)]=null),this.hlsDecoder&&(await this[t(430)][t(769)](),this[t(430)]=null),this[t(1082)]&&(this[t(1082)][t(769)](),this[t(1082)]=null),this[t(291)]&&(this.aliyunRtcDecoder[t(769)](),this[t(291)]=null),this[t(731)]&&(await this.audio[t(769)](),this[t(731)]=null),this.mp4Decoder&&(await this.mp4Decoder[t(769)](),this[t(675)]=null),this[t(455)]&&(this[t(455)][t(769)](),this[t(455)]=null),this[t(975)]=!1}[cL(339)](){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((e,s)=>{const i=dL;t?this.close()[i(782)]((()=>{e()}))[i(622)]((t=>{s(t)})):this[i(752)]().then((()=>{e()}))[i(622)]((t=>{s(t)}))}))}[cL(293)](){return new Promise(((t,e)=>{const s=dL;if(this[s(1009)](this[s(403)],s(469)),this[s(402)][s(592)]&&this[s(429)]){const t=this.video.screenshot("",s(544),.92,s(540));if(t){const e=this[s(993)]();e?(this[s(1009)](this[s(403)],s(328)+e[s(545)]+s(1049)+e[s(613)]),this[s(860)]={loadingBackground:t,loadingBackgroundWidth:e.width,loadingBackgroundHeight:e[s(613)]}):this[s(607)](this.TAG_NAME,s(915))}else this[s(607)](this.TAG_NAME,s(556))}this[s(339)]()[s(782)]((e=>{t(e)})).catch((t=>{e(t)}))}))}[cL(672)](){const t=cL;let e=!0;return this[t(731)]&&(e=this[t(731)].isMute),e}[cL(718)](){return!this[cL(672)]()}[cL(301)](t){const e=cL;this[e(731)]&&this[e(731)][e(301)](t)}[cL(312)](){const t=cL;this[t(429)]&&this[t(429)][t(312)]()}[cL(524)](t,e){const s=cL;this[s(421)]||(this[s(1101)][s(376)](t,e),this[s(421)]=!0)}[cL(684)](){return new Promise(((t,e)=>{const s=dL;!this[s(1101)]&&e(s(546)),this[s(421)]&&(this._opt[s(514)]&&this.decoderWorker&&this[s(1099)][s(536)]({key:s(541),value:!1}),this.recorder[s(684)]()[s(782)]((()=>{t()}))[s(622)]((t=>{e(t)})))}))}[cL(468)](t,e){return new Promise(((s,i)=>{const r=dL;!this[r(1101)]&&i(r(546)),this[r(421)]?(this[r(1003)]()&&this[r(1099)]&&this[r(1099)][r(536)]({key:r(541),value:!1}),this.recorder.stopRecordAndSave(t,e)[r(782)]((t=>{s(t)}))[r(622)]((t=>{i(t)}))):i("recorder is not recording")}))}[cL(611)](){const t=cL;let e=!1,s=!1;return Object[t(786)](this[t(402)][t(814)])[t(657)]((e=>{const i=t;this[i(402)][i(814)][e]&&-1===(""+e).indexOf("Fn")&&(s=!0)})),(this[t(402)].showBandwidth||s)&&(e=!0),this[t(402)][t(1011)]&&this._opt.extendOperateBtns[t(633)]>0&&(e=!0),this.isPlayback()&&this._opt[t(874)][t(650)]&&(e=!0),this[t(531)]()&&(e=!0),this._opt[t(375)]&&(e=!0),e}[cL(923)](){const t=cL;return Ri(this[t(402)][t(847)])&&Ri(this._opt[t(316)])}[cL(1075)](){const t=cL,e=this._opt;return!this[t(290)]()&&!this.isWebrtcH264()&&Ri(e[t(847)])&&!this[t(341)]()&&!this[t(766)]()&&(e[t(316)]&&Ri(e[t(856)])&&e[t(1053)]||this[t(923)]())}[cL(1028)](){const t=cL;if(Ri(this[t(454)])&&Ri(this[t(298)])&&this[t(975)]){if(this.isDestroyedOrClosed())return void this[t(607)](this.TAG_NAME,t(1015));if(Ri(this[t(1035)]()))return void this.debugWarn(this[t(403)],t(1084));if(0!==this[t(930)][t(369)])return void this.debugWarn(this[t(403)],t(957)+this._stats[t(369)]);const e=this[t(594)][t(693)](",");this[t(607)](this[t(403)],"checkHeartTimeout$2 and\n                pause and emit delayTimeout event and\n                current vbps is "+this._stats[t(488)]+" and\n                current fps is "+this[t(930)][t(369)]+" and\n                history FpsList is "+e+t(679)+this[t(1110)]+" and"),this[t(483)](H.timeout,H.delayTimeout),this[t(483)](H[t(742)])}else this[t(1009)](this[t(403)],"checkHeartTimeout$2 playbackPause is "+this[t(454)]+t(643)+this[t(975)])}[cL(1073)](){const t=cL;this[t(1037)]=setInterval(this.bound[t(896)],1e3)}[cL(673)](){const t=cL;if(this[t(531)]())return void this[t(1009)](this[t(403)],"checkLoadingTimeout and is playVod so return");const e=parseFloat((Math[t(377)](11*Math[t(974)]())-5)/10),s=this[t(402)][t(612)]+e;this[t(1009)](this[t(403)],t(753)+this[t(402)][t(612)]+t(829)+s),this[t(640)]=setTimeout((()=>{const e=t;this.playing?this.debugWarn(this[e(403)],e(699)+this[e(506)]+" and playing is "+this[e(975)]):this[e(530)]()?this[e(607)](this[e(403)],e(491)):(this.debugWarn(this[e(403)],"checkLoadingTimeout and pause and emit loadingTimeout event"),this.emit(H[e(773)],H[e(612)]),this[e(483)](H[e(612)]))}),1e3*s)}clearCheckLoadingTimeout(){const t=cL;this[t(640)]&&(this[t(1009)](this[t(403)],t(423)),clearTimeout(this[t(640)]),this[t(640)]=null)}[cL(552)](){const t=cL;this[t(1037)]&&(this[t(1009)](this[t(403)],t(552)),clearInterval(this[t(1037)]),this[t(1037)]=null)}handleRender(){const t=cL;this[t(530)]()?this.debugLog(this[t(403)],"handleRender but player is destroyed or closed"):(this[t(506)]&&(this[t(423)](),this[t(506)]=!1,this.emit(H[t(295)]),this[t(483)](H[t(808)]),this[t(700)](),this.checkIsFullscreenByInit()),!this.playing&&(this[t(975)]=!0))}[cL(1038)](){const t=cL,e=Ds(this[t(456)]);(e||this.webFullscreen)&&(this[t(1009)](this[t(403)],"checkIsFullscreenByInit and isFullScreen is "+e+t(1005)+this.webFullscreen),this[t(570)]=!0,this[t(483)](H[t(600)]))}emitFirstStatsEvent(){const t=cL,e=this[t(930)],s=Object[t(494)]({},e,{audioBuffer:0,audioBufferDelayTs:0,audioTs:this[t(467)],latestAudioTs:this[t(616)],playbackVideoBuffer:0,playbackVideoWaitingBuffer:0,playbackAudioWaitingBuffer:0,playbackCacheDataDuration:0,demuxBuffer:0,pushLatestDelay:0,audioDemuxBuffer:0,streamBuffer:0,mseDelay:0,mseStore:0,mseDecodePlaybackRate:0,msePendingBuffer:0,wcsDecodeDiffTimes:0,wasmDecodeDelay:0,hlsDelay:0,hlsDemuxLength:0,hlsDemuxAudioLength:0,hlsDemuxVideoLength:0,delayTs:0,totalDelayTs:0,isStreamTsMoreThanLocal:!1,videoCurrentTime:0,videoCurrentTimeDiff:-1,audioSyncVideo:0});this[t(483)](H[t(356)],s)}[cL(896)](){const t=cL;let e=arguments[t(633)]>0&&void 0!==arguments[0]?arguments[0]:{};if(this[t(530)]())return void this[t(1009)](this[t(403)],t(563),e);if(!this[t(1065)]&&(this[t(1065)]=is(),this._startTimestamp=this[t(1065)]),js(e.ts)){const s=parseInt(e.ts,10);this[t(930)].ts=s,this._tempTsList[t(1091)](s),null===this._playingStartTimestamp&&s>0&&(this._playingStartTimestamp=s)}js(e[t(559)])&&(this._stats.dts=parseInt(e[t(559)],10)),js(e[t(654)])&&(this._stats[t(654)]=e.mseTs),js(e.buf)&&(this[t(930)].buf=e[t(476)]),js(e[t(758)])&&(this[t(930)][t(758)]=e[t(758)]),js(e[t(826)])&&(this[t(930)].currentPts=e[t(826)]),e[t(369)]&&(this[t(930)][t(369)]+=1),e.dfps&&(this[t(930)][t(1111)]+=1),e[t(760)]&&(this[t(930)][t(760)]+=1),e[t(891)]&&(this[t(930)][t(891)]+=e.abps),e[t(488)]&&(this._stats[t(488)]+=e[t(488)]),e[t(800)]&&(this[t(424)]=e[t(800)]),e[t(692)]&&(this[t(930)][t(692)]=e[t(692)]),e[t(649)]&&(this[t(930)].mseVideoBufferDelayTime=parseInt(1e3*e.mseVideoBufferDelayTime,10));const s=is();if(s-this[t(1065)]<1e3)return;null!==this[t(387)]&&this[t(930)][t(369)]>0&&(this[t(930)][t(665)]+=1);let i=0,r=0,n=0,o=0;this[t(916)]()&&this[t(402)][t(847)]&&(this[t(372)]?(i=this[t(372)][t(832)](),i=parseInt(1e3*i,10),r=this.mseDecoder[t(308)](),r=r.toFixed(2),n=this[t(372)][t(444)](),o=this[t(372)][t(617)]()):this.isMseDecoderUseWorker()&&(i=this[t(429)][t(832)](),i=parseInt(1e3*i,10),r=this.video[t(308)](),r=r[t(525)](2),n=this[t(429)].getDecodePlaybackRate())),this.isOldHls()&&this.hlsDecoder&&(i=this[t(430)].checkHlsBufferedDelay(),i=parseInt(1e3*i,10));let a=0,h=0,l=0;this[t(659)]()&&this.hlsDecoder&&(i=this[t(430)][t(973)](),i=i.toFixed(2),a=this.hlsDecoder.getDemuxBufferedListLength(),l=this[t(430)][t(519)](),h=this.hlsDecoder[t(664)]());let c,d=0,u=0,p=0,f=!1,g=0,y=0,A=0;if(this[t(1003)]()){if(this[t(424)]&&(u=this[t(424)][t(1098)]||0,p=this._tempWorkerStats[t(809)]||0,d=this[t(424)][t(1001)]||0,js(this[t(424)][t(758)])&&(this._stats[t(758)]=this._tempWorkerStats[t(758)]),g=this[t(424)].pushLatestDelay||0,f=this[t(424)][t(470)]||0,js(this[t(424)].latestDelay)&&(this[t(930)][t(476)]=this._tempWorkerStats.latestDelay),js(this._tempWorkerStats[t(1060)])&&(A=this[t(424)][t(1060)]),y=this._tempWorkerStats.wasmDecodeDelay||0,js(this[t(424)][t(760)])&&Ri(this[t(914)]())&&(this[t(930)][t(760)]=this[t(424)].p2dfps)),this[t(531)]()&&this[t(981)]){const e=this[t(981)][t(537)]();d=this[t(981)][t(428)]()+this[t(1e3)][t(578)](),g=this[t(981)].getPushLatestDelay(),f=this[t(981)][t(549)](),u=e[t(429)],p=e.audio,A=this.demux[t(1093)]()}}else this[t(981)]&&(d=this[t(981)].getInputByteLength()+this[t(1e3)][t(578)](),g=this[t(981)].getPushLatestDelay(),f=this[t(981)][t(549)](),u=this.demux[t(493)](),p=this[t(981)][t(1014)](),A=this[t(981)].getVideoBufferDuration());this.isUseWCS()&&this[t(824)]&&(c=this[t(824)].getDecodeDelay());let v=0,b=0;this[t(731)]&&this[t(731)][t(516)]&&(v=this[t(731)][t(516)][t(633)],b=parseInt(v*this[t(731)].oneBufferDuration,10));let S=0,w=0;if(this[t(944)]()){if(this[t(429)]){this[t(402)][t(874)][t(781)]&&(S=this[t(429)].bufferList&&this[t(429)][t(516)][t(633)]||0);let e=this[t(429)][t(1020)]();const s=e>0?1e3/e:0;w=parseInt(s*S+s*u,10)}}else this[t(531)]()&&this[t(429)]&&(S=this.video[t(516)]&&this[t(429)][t(516)][t(633)]||0);let E=0;this[t(653)]>0&&(E=this[t(930)][t(559)]-this[t(653)]);const T=E+this[t(930)][t(758)];this[t(290)]()&&(this[t(930)][t(369)]=this.hlsDecoder[t(495)]()),this._stats[t(369)]>this._stats.maxFps&&(this._stats[t(1004)]=this[t(930)][t(369)]);let I=this[t(419)]();const k=this[t(930)][t(562)];let _=-1;k&&I&&(_=Ts((I-k)[t(525)](2)),I=I[t(525)](2));let C=0;this[t(467)]>0&&(C=this[t(467)]-this[t(1019)]());let D={demuxBuffer:u,audioDemuxBuffer:p,bufferDuration:A,streamBuffer:d,audioSyncVideo:C};this[t(978)]()?(D=Object.assign(D,{delayTs:E,totalDelayTs:T}),Ri(this.isUseMSE())&&(D=Object[t(494)](D,{pushLatestDelay:g,isStreamTsMoreThanLocal:f}))):this.isPlayback()?D=Object[t(494)](D,{playbackVideoBuffer:S,playbackVideoWaitingBuffer:0,playbackAudioWaitingBuffer:0,playbackCacheDataDuration:w}):this[t(531)](),this[t(789)]()?Ri(this[t(531)]())&&(D=Object.assign(D,{mseDelay:i,decodeDelayTs:i,mseStore:r,msePendingBuffer:o,mseDecodePlaybackRate:n})):this[t(914)]()?D=Object.assign(D,{decodeDelayTs:c}):this[t(505)]()&&(D=Object.assign(D,{decodeDelayTs:y})),this[t(290)]()?D=Object.assign(D,{hlsDelay:i}):this.isUseHls265()&&(D=Object[t(494)](D,{hlsDelay:i,hlsDemuxLength:a,hlsDemuxAudioLength:h,hlsDemuxVideoLength:l})),this[t(384)]()&&(D=Object[t(494)](D,{videoCurrentTime:I,videoCurrentTimeDiff:_})),this[t(382)]()&&(D=Object[t(494)](D,{audioBuffer:v,audioBufferDelayTs:b,audioTs:this[t(467)],latestAudioTs:this.latestAudioTimestamp})),this[t(870)]=Object.assign(this[t(930)],D);let R=null,L=null,P="";if(this[t(978)]()&&this[t(402)].hasVideo&&this[t(975)]){R=function(t,e){let s=3;const i=e||25;return t<=i*(1/4)?s=0:t<=.5*i?s=1:t<=i*(3/4)&&(s=2),s}(this._stats[t(369)],this[t(946)]),this[t(870)][t(1046)]=R;const e=this.checkVideoSmooth(this[t(870)]);P=e.reason,L=e[t(614)],this._allStatsData.videoSmooth=L}if(this[t(483)](H[t(356)],this[t(870)]),this[t(870)].streamBuffer>this[t(402)][t(759)]&&this[t(730)]()===m[t(1074)]&&Ri(this.isPlaybackCacheBeforeDecodeForFpsRender())&&this[t(483)](Q[t(920)],this[t(870)][t(907)]),this[t(402)][t(385)]?(this[t(902)](this[t(930)].fps,this._allStatsData[t(547)]),js(R)&&this[t(483)](H[t(1046)],R),js(L)&&this.emit(H[t(651)],L,P)):this[t(402)][t(604)]&&this[t(902)](this[t(930)].abps,0),this[t(311)]()&&this[t(402)][t(1104)]&&this._historyFpsList[t(633)]>=this[t(402)][t(1016)]){const e=ji(this._historyFpsList.slice(-this[t(402)].checkWebrtcLowFpsDuration)),s=e[t(504)](((t,e)=>t+e),0)/e[t(633)];s<this._opt[t(994)]&&(this[t(1009)](this[t(403)],"webrtc check low fps is "+s+t(408)+this._opt.webrtcLowFps+t(903)+this[t(594)][t(693)](",")),this[t(483)](H[t(994)],"webrtc check low fps is "+s))}if(this[t(930)][t(369)]=0,this[t(930)][t(1111)]=0,this._stats[t(891)]=0,this._stats.vbps=0,this[t(930)].p2dfps=0,this[t(367)]=[],this[t(930)][t(692)]=!1,this[t(1065)]=s,qi()){const e=s-this._startTimestamp;e>60*(Number("1")||1)*60*1e3&&qi()&&this[t(769)]()}}[cL(879)](){this[cL(1065)]=null}resetStats(){const t=cL;this[t(1065)]=null,this[t(387)]=null,this[t(594)]=[],this._historyVideoDiffList=[],this._stats={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,p2dfps:0,abps:0,vbps:0,ts:0,mseTs:0,currentPts:0,pTs:0,dts:0,mseVideoBufferDelayTime:0,isDropping:!1},this[t(870)]={},this[t(367)]=[]}[cL(445)](t){const e=cL;let s=!0,i="";if(this[e(402)][e(526)],this[e(402)][e(778)],this[e(311)]()||this[e(290)]())return{result:s,reason:i};if(0===t[e(488)]&&Ri(this[e(402)][e(968)])&&(i=e(529),this[e(1009)](this[e(403)],"checkVideoSmooth  false because "+i),s=!1),s&&t[e(692)]&&(i=e(748),this[e(1009)](this[e(403)],e(900)+i),s=!1),s&&this.visibility&&this[e(594)][e(633)]>=this[e(402)][e(950)]){const r=ji(this[e(594)]),n=r[e(504)](((t,e)=>t+e),0)/r.length,o=.83*n;t[e(369)]<o&&(i=e(747),this[e(1009)](this[e(403)],e(1042)+t[e(369)]+e(459)+o+" and avgFps is "+n+e(839)+this[e(367)][e(693)](",")),s=!1)}if(s&&this.visibility&&this[e(402)].useMSE&&(t[e(547)]>=1.5||t[e(547)]<=.5)&&-1!==t[e(547)]){if(i=e(609),this[e(1009)](this[e(403)],"checkVideoSmooth false because videoCurrentTimeDiff is "+t.videoCurrentTimeDiff),0===Number(t.videoCurrentTimeDiff)){const t=this.isVideoPlaying(),s=this[e(419)](),i=this[e(886)](),r=JSON.stringify(i);this[e(1009)](this[e(403)],e(596)+s+e(977)+t+e(966)+r)}s=!1}return{result:s,reason:i}}[cL(828)](){const t=cL;this._opt[t(676)]&&this[t(676)]&&this[t(676)].enable()}[cL(425)](){const t=cL;this[t(402)].keepScreenOn&&this.keepScreenOn&&this[t(676)][t(528)]()}[cL(571)](){const t=cL;this[t(402)][t(514)]?(this[t(1099)]&&this[t(1099)][t(457)](!0),this[t(854)]()&&this[t(981)]&&this[t(981)][t(1113)](!0)):this[t(981)]&&this[t(981)].clearBuffer(!0)}[cL(337)](){const t=cL;this[t(483)](H[t(1017)])}[cL(806)](){const t=cL;if(this[t(530)]())return void this[t(1009)](this[t(403)],t(432));const e=this[t(1055)]();this[t(483)](H.playToRenderTimes,e)}[cL(1055)](){const t=cL,e=this._times;return e[t(346)]=e.playStart-e[t(942)],e[t(867)]=e.streamStart-e[t(723)],e[t(1115)]=e[t(362)]-e[t(840)]>0?e.streamResponse-e[t(840)]:0,e[t(327)]=e[t(446)]-e.streamResponse>0?e.demuxStart-e[t(362)]:0,e[t(629)]=e[t(866)]-e.demuxStart>0?e[t(866)]-e[t(446)]:0,e[t(653)]=e[t(1024)]-e[t(866)],e.allTimestamp=e.videoStart-e[t(942)],e}[cL(608)](){return this._opt}[cL(486)](){return this[cL(402)].playType}[cL(978)](){const t=cL;return this[t(402)].playType===p[t(890)]}[cL(944)](){const t=cL;return this[t(402)].playType===p[t(719)]}isPlayVod(){const t=cL;return this[t(402)][t(707)]===p[t(634)]}[cL(441)](){const t=cL;let e=!1;return this[t(531)]()&&this[t(634)]&&(e=this[t(634)][t(599)]()),e}[cL(542)](){const t=cL;let e=!1;return this.isPlayVod()&&this[t(634)]&&(e=this[t(634)][t(648)]()),e}[cL(854)](){const t=cL;return this[t(402)][t(514)]&&this[t(402)][t(631)]}[cL(916)](){const t=cL;return this[t(978)]()||this[t(944)]()}[cL(466)](){const t=cL;let e=!0,s=this[t(402)];return s[t(316)]&&!s[t(856)]?e=!!this[t(824)]&&this[t(824)][t(983)]:s[t(847)]&&(e=!!this[t(372)]&&this[t(372)][t(983)]),e}isDemuxDecodeFirstIIframeInit(){const t=cL;let e=!0,s=this[t(402)];return s[t(316)]&&!s.useOffscreen?e=!!this.webcodecsDecoder&&this[t(824)][t(398)]:s[t(847)]&&(e=!!this[t(372)]&&this[t(372)][t(398)]),e}[cL(565)](){const t=cL;let e=!1;return this.audio&&(e=this.audio[t(825)]()),e}[cL(331)](){const t=cL;return this[t(930)][t(665)]}getRecordingType(){const t=cL;let e=null;return this.recorder&&(e=this[t(1101)][t(756)]()),e}[cL(348)](){const t=cL;let e=0;return this[t(421)]&&(e=this.recorder[t(701)]()),e}[cL(953)](){const t=cL;let e=0;return this[t(421)]&&(e=this[t(1101)][t(919)]()),e}[cL(499)](){const t=cL;let e="";const s=this.getOption();return this.isWebrtcH264()?y[t(1082)]:this[t(341)]()?y[t(991)]:this[t(290)]()?y.hls:this[t(766)]()?y[t(358)]:(s[t(847)]&&(e+=y[t(666)]+" ",s[t(932)]&&(e+=t(954))),s[t(316)]&&(e+=y.wcs+" "),s[t(514)]&&(e+=y[t(365)]+" ",s.useSIMD&&(e+=y[t(898)]+" ",s.isFFmpegSIMD&&(e+="v2 ")),s[t(631)]&&(e+=y.mt+" ")),s[t(856)]&&(e+=y[t(671)]+" "),e)}[cL(730)](){const t=cL;return this[t(402)][t(538)]}[cL(1066)](){const t=cL;let e="";return this.video&&(e=this[t(429)].getType()),e}[cL(1096)](){const t=cL;let e="";return this[t(429)]&&(e=this[t(429)].getCanvasType()),e}[cL(320)](){const t=cL;let e="";return this.audio&&(e=this.audio[t(350)]()),e}[cL(496)](){const t=cL;let e="";return this[t(1e3)]&&(e=this[t(1e3)][t(496)]()),e}[cL(952)](){const t=cL;return-1===this[t(496)]()[t(835)](u[t(954)])}[cL(857)](){return this[cL(870)]}[cL(567)](){const t=cL;return this[t(402)].demuxType===m[t(1074)]}[cL(389)](){const t=cL;return this[t(402)][t(538)]===m[t(349)]}[cL(795)](){const t=cL;return this[t(402)].demuxType===m[t(738)]}[cL(568)](){const t=cL;return this[t(402)][t(538)]===m[t(447)]}[cL(309)](){const t=cL;return this[t(402)][t(538)]===m.ts}[cL(492)](){const t=cL;return this[t(402)][t(538)]===m.fmp4}[cL(465)](t){const e=cL;this.updateOption({showPerformance:t}),this[e(483)](H[e(465)],t)}[cL(623)](t){const e=cL;t=Number(t);let s={isFullResize:!1,isResize:!1,aspectRatio:e(413)};switch(t){case ot[e(1056)]:s[e(333)]=!1,s[e(988)]=!1;break;case ot.auto:s[e(333)]=!1,s[e(988)]=!0;break;case ot[e(941)]:s[e(333)]=!0,s[e(988)]=!0}this[e(1036)](s),this.resize(),this[e(483)](H.viewResizeChange,t)}[cL(1026)](){const t=cL;this[t(819)](),this._opt.pageVisibilityHiddenTimeout>0&&(this[t(765)]=setTimeout((()=>{const e=t;this.emit(H[e(765)])}),1e3*this._opt[t(1078)]))}clearVisibilityHiddenTimeout(){const t=cL;this[t(418)]&&(clearTimeout(this[t(418)]),this[t(418)]=null)}[cL(937)](t){const e=cL;this.faceDetectActive=t,Ri(t)&&this[e(429)]&&this[e(429)][e(889)]([])}objectDetect(t){const e=cL;this[e(344)]=t,Ri(t)&&this[e(429)]&&this[e(429)].addAiContentToCanvas([])}[cL(392)](t){this.occlusionDetectActive=t}downloadNakedFlowFile(){const t=cL;this[t(981)]&&this[t(981)].downloadNakedFlowFile&&this[t(981)][t(1045)]()}[cL(637)](){const t=cL;this[t(981)]&&this[t(981)][t(637)]&&this[t(981)][t(637)]()}[cL(774)](){const t=cL,e=new Blob([this[t(667)]]);try{const s=document.createElement("a");s[t(630)]=window[t(462)][t(904)](e),s[t(517)]=Date[t(550)]()+t(302),s.click(),window[t(462)][t(438)](s.href)}catch(e){console[t(805)](t(774),e)}}[cL(837)](){const t=cL;this[t(981)]&&this.demux[t(837)]&&this[t(981)][t(837)]()}downloadG711File(){const t=cL,e=new Blob([this[t(1106)]]);try{const s=document[t(681)]("a");s.href=window[t(462)][t(904)](e),s[t(517)]=Date[t(550)]()+t(336),s[t(796)](),window[t(462)][t(438)](s[t(630)])}catch(e){console[t(805)]("downloadG711File",e)}}[cL(687)](){const t=cL,e=this[t(409)],s=this[t(870)][t(502)],i=this[t(870)][t(1004)];let r=!1;if(e&&s&&i){r=1e3/i*s>e}return r}[cL(1087)](){const t=cL;let e=arguments[t(633)]>0&&void 0!==arguments[0]?arguments[0]:[];this.video&&this[t(429)][t(1087)](e)}addContentToContainer(){cL(633)}[cL(399)](t){const e=cL,s=this[e(496)]();s===u[e(864)]||s===u[e(954)]+" "+u[e(864)]?this[e(1e3)][e(606)](t):this[e(607)](this[e(403)],e(439)+this[e(496)]())}[cL(639)](){const t=cL,e=this[t(930)];return e.vbps>0&&e[t(369)]>0}[cL(834)](t){const e=cL;this[e(705)]&&this[e(705)][e(913)]&&(this[e(705)][e(913)].innerHTML=t)}[cL(363)](){const t=cL;this.control&&this[t(705)][t(913)]&&(this[t(705)].$controlHtml[t(539)]="")}[cL(458)](t){const e=cL;this[e(705)]&&this[e(705)].toggleControlHtml(t)}getControlHtmlIsShow(){const t=cL;return!!this[t(705)]&&this[t(705)][t(934)]()}[cL(768)](){const t=cL;return this[t(705)]?this[t(705)][t(768)]():null}setExtendHtml(t){const e=cL;this[e(705)]&&(this[e(705)][e(652)]?this[e(705)].updateExtendDom(t):this[e(705)].addExtendDom({html:t,showBeforePlay:!0}))}clearExtendHtml(){const t=cL;this[t(705)]&&this[t(705)][t(371)]()}toggleExtendHtml(t){const e=cL;this[e(705)]&&this[e(705)][e(619)](t)}getExtendHtmlIsShow(){const t=cL;return!!this[t(705)]&&this[t(705)][t(1076)]()}[cL(338)](){const t=cL;return this[t(705)]?this[t(705)][t(378)]():null}[cL(956)](t){const e=cL;!this.singleWatermark&&(this[e(869)]=new On(this)),this.singleWatermark&&this[e(869)][e(379)](t)}[cL(1072)](){const t=cL;this[t(869)]&&this[t(869)][t(858)]()}[cL(993)](){const t=cL;let e=null;return this[t(429)]&&(e=this[t(429)][t(993)]()),e}[cL(1062)](){const t=cL;let e=null;return this.audio&&(e=this[t(731)][t(1062)]()),e}getVideoPlaybackQuality(){let t=null;return this[cL(429)]&&(t=this.video.getPlaybackQuality()),t}[cL(605)](t){const e=cL;let s=arguments[e(633)]>1&&void 0!==arguments[1]?arguments[1]:"";this[e(483)](H[e(805)],t,s),this[e(483)](t,s)}updateHistoryFpsList(t,e){const s=cL;this[s(454)]||this[s(531)]()||Ri(this.visibility)||(this._historyFpsList[s(633)]>this._opt[s(950)]&&(this[s(594)][s(414)](),this[s(330)][s(414)]()),this[s(594)][s(1091)](t),this[s(330)][s(1091)](e),this[s(1035)]()&&this[s(1028)]())}[cL(1035)](){const t=cL;let e=!0;if(this[t(594)][t(633)]<this._opt.heartTimeout&&(e=!1),e)for(let s=0;s<this[t(594)].length;s++)if(this[t(594)][s]>0){e=!1;break}if(e)for(let s=0;s<this._historyVideoDiffList[t(633)];s++)if(this[t(330)][s]>0){e=!1;break}return e}isUseHls265(){return Di(this[cL(402)].isHls)&&Di(this._opt.supportHls265)}[cL(968)](){return Di(this[cL(402)].isHls)}[cL(290)](){const t=cL;return Di(this[t(402)][t(968)])&&Ri(this[t(402)][t(310)])}[cL(1071)](){const t=cL;return this[t(290)]()&&this.hlsDecoder&&this[t(430)].isUseVideoPlay(),!0}[cL(818)](){return Di(this[cL(402)].isWebrtc)}[cL(888)](){const t=cL;return this[t(818)]()&&Ri(this[t(402)][t(754)])}[cL(450)](){const t=cL;return this[t(818)]()&&Ri(this[t(402)][t(754)])}[cL(754)](){const t=cL;return this[t(818)]()&&Di(this[t(402)][t(754)])}[cL(311)](){const t=cL;return this[t(450)]()||this[t(341)]()}[cL(341)](){const t=cL;return Di(this[t(402)][t(341)])}[cL(732)](){return this.isUseHls265()&&this.isUseMSE()}[cL(620)](){const t=cL;return this[t(496)]()===u[t(962)]}[cL(917)](){const t=cL;return this.isPlayback()&&Di(this[t(402)][t(874)][t(1052)])}[cL(926)](){const t=cL;return this[t(944)]()&&Ri(this._opt[t(874)][t(584)])&&Di(this[t(402)][t(874)].isCacheBeforeDecodeForFpsRender)}[cL(406)](){const t=cL;return this[t(944)]()&&Di(this[t(402)][t(316)])}[cL(603)](){const t=cL;return this.isPlayback()&&Di(this[t(402)][t(847)])}isPlaybackUseWASM(){const t=cL;return this.isPlayback()&&Di(this._opt[t(514)])}[cL(918)](){const t=cL;return this.isPlayer()&&Di(this[t(402)].useMSE)}[cL(894)](){const t=cL;return this[t(978)]()&&Ri(this._opt[t(847)])}[cL(736)](){const t=cL;return this[t(402)][t(847)]&&this[t(402)][t(855)]}[cL(513)](){const t=cL;this[t(402)][t(316)]&&this[t(402)].wcsDecodeAudio}[cL(733)](){const t=cL;return this.isPlayVod()&&Di(this[t(402)][t(847)])}[cL(766)](){const t=cL;return this.isPlayVodMp4()&&Di(this._opt[t(473)])}isPlayVodUseWCS(){const t=cL;return this[t(531)]()&&Di(this[t(402)].useWCS)}[cL(381)](){const t=cL;return this[t(531)]()&&Di(this[t(402)][t(514)])}[cL(1063)](){const t=cL;return this[t(531)]()&&Ri(this[t(402)][t(847)])&&Ri(this[t(402)][t(473)])}[cL(1021)](){const t=cL;return this[t(531)]()&&Ri(this[t(402)].useMSE)}[cL(927)](){const t=cL;return this[t(531)]()&&Di(this[t(402)][t(799)])}[cL(412)](){const t=cL;return this[t(531)]()||this[t(968)]()||this[t(818)]()||this[t(341)]()||this[t(620)]()}getStreamByProtocol(){const t=cL;return this[t(531)]()?t(634):this[t(968)]()?t(357):this.isWebrtc()?"webrtc":this[t(341)]()?t(464):this[t(620)]()?t(400):void 0}[cL(911)](){const t=cL;return this[t(402)][t(784)]&&fs()&&this[t(570)]}[cL(416)](){const t=cL;return this[t(570)]&&this[t(1059)]()}[cL(720)](){const t=cL;let e=1;return Di(this[t(944)]())&&this.playback&&(e=this[t(564)][t(543)]),e}[cL(691)](){const t=cL;let e=1;return this.isPlayVod()&&this[t(634)]&&(e=this[t(634)][t(543)]),e}[cL(296)](){return Di(this.isPlayback())&&this.playback.isRateMoreThanMaxRateDecodeIFrame()&&Ri(this.isMSEDecodeAudio())}[cL(658)](t){const e=cL,s=new Uint8Array(t);this[e(667)][e(1091)](s)}[cL(627)](t){const e=cL,s=new Uint8Array(t);this[e(1106)][e(1091)](s)}updateLoadingText(t){const e=cL;this.loading&&this[e(705)]&&this.control[e(846)](t)}[cL(419)](){const t=cL;let e=0;return this[t(429)]&&(this[t(402)][t(847)]?this[t(372)]?e=this.mseDecoder[t(419)]():this[t(615)]()&&(e=this[t(429)][t(419)]()):this[t(450)]()&&this[t(1082)]?e=this[t(1082)][t(419)]():this.isAliyunRtc()&&this[t(291)]?e=this.aliyunRtcDecoder[t(419)]():this[t(766)]()&&(e=this[t(429)][t(419)]())),e}[cL(440)](){const t=cL;let e=null;return this[t(429)]&&(this[t(402)][t(847)]?this[t(372)]?e=this.mseDecoder[t(440)]():this[t(615)]()&&(e=this[t(429)][t(440)]()):this[t(450)]()&&this[t(1082)]?e=this.webrtc[t(440)]():this[t(341)]()&&this.aliyunRtcDecoder&&(e=this[t(291)].getVideoBufferTimeRange())),e}[cL(886)](){const t=cL;let e=[];return this[t(429)]&&(this[t(402)].useMSE?this[t(372)]?e=this[t(372)][t(698)]():this[t(615)]()&&(e=this[t(429)].getVideoBufferRangeList()):this[t(450)]()&&this[t(1082)]?e=this[t(1082)][t(698)]():this[t(341)]()&&this[t(291)]&&(e=this[t(291)][t(698)]())),e}[cL(569)](){const t=cL;let e=!0;return this.video&&(this[t(402)][t(847)]?this[t(372)]?e=this.mseDecoder[t(569)]():this[t(615)]()&&(e=this[t(429)][t(569)]()):this[t(450)]()&&this.webrtc?e=this.webrtc.isVideoPlaying():this[t(341)]()&&this[t(291)]&&(e=this[t(291)][t(569)]())),e}addMemoryLog(t){const e=cL;for(var s=arguments[e(633)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(483)](H[e(980)]," ["+t+"] ",...i)}downloadMemoryLog(){const t=cL;this[t(483)](H[t(750)])}[cL(1018)](){const t=cL;return-1!==this._opt[t(334)]}isWebrtcForM7S(){const t=cL;return Ri(this[t(402)][t(1057)])&&Ri(this[t(402)].isWebrtcForSRS)&&Ri(this[t(402)][t(306)])}[cL(884)](t){const e=cL;try{this[e(1009)](this[e(403)],"updateMetaData",JSON[e(787)](t))}catch(s){this[e(1009)](this.TAG_NAME,e(884),t)}if(this._flvMetaData=t,this._flvMetaData){const t=this[e(598)];if(Ls(t.framerate)){const s=Math[e(377)](1e3*t.framerate);if(s>0){const t=s/1e3;this[e(946)]=t,this[e(1009)](this[e(403)],e(884),e(726),t)}}Ns(t.hasAudio)&&Ri(t.hasAudio)&&(this[e(1009)](this[e(403)],e(884),e(484),t[e(604)],"and update _opt.hasAudio"),this._opt[e(604)]=t[e(604)]),Ns(t.hasVideo)&&Ri(t.hasVideo)&&(this[e(1009)](this[e(403)],e(884),e(1089),t.hasVideo,e(842)),this[e(402)][e(385)]=t[e(385)]),t.server&&(this[e(728)]=(t.server+"")[e(292)](0,13)),t.MetaDataCreator&&(this[e(728)]=t[e(685)])}this.emit(H.flvMetaData,t)}[cL(949)](){return this[cL(598)]}[cL(558)](){const t=cL;if(!this[t(705)])return[];return this[t(705)].getExtendBtnList()[t(850)]((e=>{const s=t;return{name:e[s(555)],$container:e[s(1092)],$btn:e[s(936)],$activeBtn:e[s(899)]}}))}[cL(1112)](){const t=cL;let e=null;return this[t(455)]&&(e=this[t(455)][t(507)]()),e}[cL(364)](){const t=cL;return this.recorder&&this[t(402)].recordType===f.flv}[cL(527)](){const t=cL;return this[t(1101)]&&this[t(402)][t(512)]===f[t(588)]}[cL(532)](){const t=cL;return this.recorder&&this[t(402)][t(512)]===f.webm}[cL(1003)](){const t=cL;return this[t(402)][t(514)]||this._opt[t(461)]}[cL(789)](){const t=cL;return Di(this[t(402)][t(847)])}[cL(914)](){const t=cL;return Di(this._opt[t(316)])}[cL(505)](){const t=cL;return Di(this._opt[t(514)])}[cL(668)](){return this[cL(789)]()&&Ri(this._opt.mseDecoderUseWorker)}[cL(615)](){const t=cL;return this[t(789)]()&&Di(this[t(402)][t(932)])}[cL(384)](){const t=cL;return this.isUseMSE()||this[t(450)]()||this[t(341)]()||this[t(766)]()}isAudioUseAudioContext(){const t=cL;let e=!0;return this.audio&&this[t(731)][t(350)]()===t(731)&&(e=!1),e}[cL(1039)](){const t=cL;return this[t(467)]-this[t(1019)]()}[cL(775)](){return{video:this[cL(1019)](),audio:this.audioTimestamp}}[cL(836)](){const t=cL;let e=0;return this[t(402)].useMSE&&this[t(372)]&&(this[t(372)]?e=this[t(372)][t(313)]():this[t(615)]()&&(e=this[t(429)][t(313)]()),e=parseInt(1e3*e,10)),e}[cL(683)](t){const e=cL;this[e(896)]({currentPts:t}),this.emit(H[e(826)],t),this.emitVideSeiSyncPts(t)}[cL(791)](t){this[cL(483)](H.videoSEI,t),this._seiList.push(t)}[cL(433)](t){const e=cL;if(0===this[e(1109)].length||Ri(this[e(402)].isEmitSEI))return;const s=1e3*this._opt[e(939)],i=t-s,r=t+s,n=[];this[e(1109)].forEach((s=>{const o=e;s.ts>=i&&s.ts<=r&&(s[o(636)]=t,n[o(1091)](s))})),n[e(657)]((t=>{const s=e;this[s(483)](H[s(945)],t)})),this._seiList=this[e(1109)].filter((t=>t.ts>r))}emitTsPrivateData(t){this[cL(483)](H.tsPrivateData,t)}[cL(1019)](){const t=cL;let e=0;return this.isUseMSE()&&Ri(this[t(402)][t(1050)])?this[t(930)][t(826)]:(e=this[t(930)][t(826)]?this._stats[t(826)]:this[t(653)]-this[t(836)](),e)}[cL(373)](){const t=cL;return this[t(402)][t(359)]&&this._opt[t(385)]}[cL(772)](t){const e=cL;if(this[e(705)]){const s=this[e(402)][e(632)][t]||"";this[e(705)][e(366)](s,t)}}showTipsMessageByContent(t){const e=cL;this[e(705)]&&t&&this.control[e(366)](t)}[cL(366)](){const t=cL;let e=arguments[t(633)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(633)]>1?arguments[1]:void 0;this[t(705)]&&this[t(705)][t(366)](e,s)}hideTipsMessage(){const t=cL;this[t(705)]&&this[t(705)][t(783)]()}[cL(1044)](){const t=cL;Di(this[t(402)][t(303)])&&(this[t(372)]?this.mseDecoder[t(398)]=!1:this.webcodecsDecoder?this.webcodecsDecoder[t(398)]=!1:this[t(505)]()&&this[t(1099)]&&this[t(1099)][t(1044)]())}[cL(360)](){const t=cL;return this[t(443)]&&this[t(290)]()}[cL(332)](t){const e=cL;this[e(705)]&&this.control[e(880)](t)}[cL(460)](t){const e=cL;this[e(1036)]({rotate:t}),this[e(312)]()}setPlayFailedAndPaused(){this[cL(1067)]=!0}[cL(1054)](){const t=cL;let e={};return this[t(372)]&&(e=this[t(372)][t(431)]()),e}[cL(969)](){const t=cL;return this[t(402)][t(526)]+this[t(402)][t(778)]}[cL(859)](){const t=cL;return!this[t(429)]||this[t(429)][t(1070)]()}[cL(642)](){const t=cL;this[t(705)]&&this[t(705)][t(642)]()}[cL(1012)](t,e){const s=cL;this[s(705)]&&this[s(705)][s(449)](t,e)}[cL(618)](t){const e=cL;let s=!1;return this[e(705)]&&(s=this.control[e(319)](t)),s}useVideoPlayAudio(){const t=cL;return this[t(402)].hasAudio&&(this[t(329)]()||this[t(905)]())}[cL(329)](){const t=cL;return this[t(402)][t(316)]&&this._opt[t(601)]}[cL(905)](){const t=cL;return this._opt[t(514)]&&this[t(402)][t(708)]}[cL(407)](){const t=cL,e=this._opt.hasControl,s=this[t(402)][t(485)];let i=e&&!s;return i&&this[t(705)]&&(i=this.control[t(395)]()),i}getControlBarShow(){const t=cL;let e=!1;return this[t(705)]&&(e=this[t(705)].getBarIsShow()),e}toggleControlBar(t){const e=cL;this[e(705)]&&(this[e(705)][e(324)](t),this[e(312)]())}[cL(1009)](t){const e=cL;if(this[e(402)][e(1105)]&&this[e(1105)]){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1105)].log(t,...i)}}[cL(607)](t){const e=cL;if(this[e(402)][e(1105)]&&this[e(1105)]){for(var s=arguments[e(633)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1105)].warn(t,...i)}}[cL(746)](t){const e=cL;if(this[e(1105)]){for(var s=arguments[e(633)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1105)][e(805)](t,...i)}}[cL(848)](){const t=cL;let e=null;return this[t(429)]&&(e=this.video[t(1061)]),e}[cL(557)](){const t=cL;let e=!(arguments[t(633)]>0&&void 0!==arguments[0])||arguments[0],s=0;return(this[t(407)]()||Ri(e))&&(this.isPlayer()?s=this[t(402)][t(792)]===w[t(735)]?30:38:this[t(944)]()?this.playback[t(1027)]()?s=48:this[t(564)].isPlaybackSimple()&&(s=38):this[t(531)]()&&(s=38)),s}[cL(682)](){return this[cL(330)]}[cL(1058)](){const t=cL,e=this.getHistoryVideoDiffList();return e[t(633)]>1&&0===e[e[t(633)]-1]&&0===e[e[t(633)]-2]}[cL(1094)](){const t=cL;let e=this.width,s=this[t(613)];const i=this[t(557)]();return this[t(1059)]()&&this[t(570)]?e-=i:s-=i,{width:e,height:s}}isMobileFullscreenChangeRotate(){const t=cL;return fs()&&(this[t(402)][t(784)]||this[t(402)][t(401)])}[cL(481)](t){const e=cL;this[e(1036)]({controlSize:t}),this[e(705)]&&this.control[e(481)](),this[e(312)]()}isPlaybackStreamEnd(){const t=cL;let e=!1;return this.isPlayback()&&(e=this[t(986)]),e}[cL(347)](){const t=cL;let e=!0;return this.isPlayback()&&Ri(this[t(402)][t(817)])&&(e=!1),e}[cL(662)](){const t=cL;let e=0;return this[t(1003)]()?this._tempWorkerStats&&(e=this[t(424)][t(1098)]):this[t(981)]&&(e=this[t(981)].getBufferListLength()),e}[cL(353)](){const t=cL;let e=0;return this.video&&(e=this[t(429)][t(645)]()),e}[cL(582)](){const t=cL;this[t(1009)](this[t(403)],t(582)),this._isStreamEnd=!0}[cL(451)](){const t=cL;let e=null;return this.webrtc&&(e=this[t(1082)][t(1061)]),e}[cL(368)](){const t=cL;let e=Z[t(794)];return this.webrtc&&this[t(1082)][t(706)]&&(e=this.webrtc.getVideoCodec()),e}[cL(921)](t){const e=cL;this.dynamicWatermark&&this.removeDynamicWatermark(),this[e(669)]=new XR(this,t),this[e(669)][e(641)]()}[cL(660)](t){const e=cL;this[e(947)]&&this[e(827)]();const s=Object[e(494)]({},t,{isGhost:!0});this[e(947)]=new XR(this,s),this[e(947)][e(641)]()}removeDynamicWatermark(){const t=cL;this[t(669)]&&(this[t(669)][t(769)](),this[t(669)]=null)}[cL(827)](){const t=cL;this[t(947)]&&(this[t(947)][t(769)](),this[t(947)]=null)}playbackForward(t){return new Promise(((e,s)=>{const i=dL;t=rs(Number(t),1,16);const r=this[i(720)]();if(t===r)return e();Ri(this.isUseMSE())&&this[i(564)][i(1081)]()&&t<=this[i(564)][i(510)]&&(this[i(1009)](this[i(403)],"playbackForward and rate is "+t+", currentRate is "+r+i(715)+this[i(564)].calcPlaybackForwardMaxRateDecodeIFrame+i(1007)),this[i(1044)]()),this[i(1099)]&&this[i(1099)][i(536)]({key:i(845),value:t}),this[i(564)][i(635)](t),this[i(429)]&&this[i(429)][i(635)](t),this[i(731)]&&this.audio[i(635)](t),e()}))}[cL(912)](){return new Promise(((t,e)=>{const s=dL;return this[s(634)]?this[s(441)]()?e(s(785)):(this[s(298)]=!0,void t()):e(s(1086))}))}[cL(1088)](){return new Promise(((t,e)=>{const s=dL;return this.playVod?this.isPlayVodSeeking()?e("playVod is seeking"):(this[s(298)]=!1,void t()):e(s(1086))}))}playVodForward(t){return new Promise(((e,s)=>{const i=dL;if(!this[i(634)])return s(i(1086));if(this[i(441)]())return s(i(785));t=rs(Number(t),1,16);const r=this.getPlayVodRate();if(t===r)return e();Ri(this.isUseMSE())&&this[i(634)].isRateMoreThanMaxRate()&&t<=this[i(634)][i(503)]&&(this[i(1009)](this[i(403)],i(690)+t+i(997)+r+i(702)+this[i(634)][i(503)]+i(1007)),this[i(1044)]()),this.decoderWorker&&this.decoderWorker[i(536)]({key:i(788),value:t}),this[i(634)][i(635)](t),this[i(429)]&&this[i(429)].setRate(t),this[i(731)]&&this[i(731)].setRate(t),e()}))}[cL(971)](t){return new Promise(((e,s)=>{const i=dL;return this[i(634)]?this[i(441)]()?s(i(785)):this[i(634)][i(648)]()?(this[i(1009)](this[i(403)],"playVodSeek ts is "+t+i(998)),void this[i(483)](H[i(515)],t)):(this[i(298)]=!1,this[i(634)].seek({time:t}),this.recording&&(this[i(1009)](this[i(403)],i(593)),this[i(421)]=!1),void e()):s(i(1086))}))}[cL(965)](t){return new Promise(((e,s)=>{const i=dL;if(!this[i(634)])return s(i(1086));if(this[i(441)]())return s("playVod is seeking");let r=this[i(1019)]()/1e3;(this[i(733)]()||this[i(766)]())&&(r=this[i(419)]()),this[i(971)](r+t)[i(782)]((()=>{e()}))[i(622)]((t=>{s(t)}))}))}[cL(1097)](t){return new Promise(((e,s)=>{const i=dL;if(!this[i(634)])return s(i(1086));if(this[i(441)]())return s("playVod is seeking");let r=this[i(1019)]()/1e3;(this[i(733)]()||this[i(766)]())&&(r=this[i(419)]()),this[i(971)](r-t)[i(782)]((()=>{e()}))[i(622)]((t=>{s(t)}))}))}getPlayVodDuration(){return this[cL(634)]?this.playVod.totalDuration:0}getPlayVodCurrentTime(){const t=cL;return this[t(634)]?this.playVod[t(548)]():0}[cL(297)](){const t=cL;return this.playVod?this[t(634)][t(1025)]():0}[cL(696)](t){const e=cL;this[e(634)]&&this[e(634)][e(480)](t)}[cL(628)](){const t=cL;return this[t(634)]?this[t(634)].fps:0}[cL(741)](){const t=cL;return!this[t(321)]&&(this[t(321)]=Object[t(494)]({},lL,this[t(402)][t(885)]||{})),this._i18n}[cL(1090)](){const t=cL;let e={width:0,height:0};return window[t(722)]?(e[t(545)]=window[t(722)].width,e[t(613)]=window[t(722)][t(613)],e):e}[cL(740)](){const t=cL,e=this.getWindowScreenInfo();return e[t(545)]>e[t(613)]}isScreenNowRow(){const t=cL,e=this[t(1090)]();return e[t(545)]<e.height}[cL(929)](){const t=cL;return{correctionConfigurationProfileIndication:this[t(402)][t(877)],correctionConfigurationVersion:this[t(402)][t(816)]}}}var fL=gL;function mL(){var t=["pointer-events: none !important; display: block !important","watermark_cols","msTransform","10GCBczw","resize()","fontSize","open","watermark_prefix","scrollHeight","int","visibility","remove","%20%E4%BD%93%E9%AA%8C","innerHTML","height","querySelector","10841022CHRPix","watermark_angle","watermark_x_space","6NSAJTL","watermark_y_space","font-family: ","globalSetting","player","block","watermark_rows","7942376AygnAS","rotate(","1051876ITlHzo","offsetWidth","watermark_txt","watermark_color","getBoundingClientRect","watermark_y","position","_calcTextSize","px; visibility: hidden; display: inline-block","JbPro_mask_","watermark_parent_height","hidden","style","zIndex","Watermark","23039271KSWYqS","none","top","length","absolute","insertBefore","parentNode","3877700bGGRJo","MozTransform","deg)","black","debugLog","; font-size: ","createTextNode","width","7lyQvLl","scrollWidth","appendChild","JbPro 测试水印","overflow","string","watermark_fontsize","defaultSettings","createElement","getElementById","object","shadowRoot","textAlign","watermark_x","1967740DawUGC","body","微软雅黑","watermark_id","_removeMark","load","watermark_alpha","watermark_height","263894gFSEOh","JbPro_","left","max","9999999","watermark_font","attachShadow","_loadMark","resize","watermark_parent_node","removeChild","watermark_parent_width","div","opacity"];return(mL=function(){return t})()}function gL(t,e){var s=mL();return(gL=function(t,e){return s[t-=268]})(t,e)}!function(t,e){for(var s=gL,i=t();;)try{if(979608===parseInt(s(302))/1+-parseInt(s(344))/2*(-parseInt(s(335))/3)+-parseInt(s(272))/4+parseInt(s(294))/5+parseInt(s(332))/6+-parseInt(s(280))/7*(-parseInt(s(342))/8)+parseInt(s(359))/9*(-parseInt(s(319))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mL);class yL{constructor(t){var e=gL;this[e(339)]=t,this[e(338)]=null;const s=Is();this[e(287)]={watermark_id:e(303)+s,watermark_prefix:e(353)+s,watermark_txt:e(283),watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:100,watermark_y_space:100,watermark_font:e(296),watermark_color:e(275),watermark_fontsize:"18",watermark_alpha:.15,watermark_angle:-15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},qi()&&this[e(299)]({text:decodeURIComponent(T+e(328)),color:"white"}),this[e(339)][e(276)](e(358),e(325))}destroy(){var t=gL;this[t(298)](),this.globalSetting=null,this[t(287)]=null,this.player[t(276)]("Watermark","destroy")}[fL(327)](){var t=fL;Ki()&&(this[t(338)]=null,this[t(298)]())}[fL(299)](t){var e=fL;this[e(338)]=t,this[e(309)](t)}[fL(310)](){var t=fL;this[t(339)].debugLog("Watermark",t(320)),this[t(338)]&&this[t(309)](this[t(338)])}_loadMark(){var t=fL;let e=this.defaultSettings;if(1===arguments[t(268)]&&typeof arguments[0]===t(290)){var s=arguments[0]||{};for(let t in s)s[t]&&e[t]&&s[t]===e[t]||(s[t]||0===s[t])&&(e[t]=s[t])}var i=document[t(289)](e[t(297)]);i&&i[t(271)]&&i[t(271)][t(312)](i);var r=typeof e[t(311)]===t(285)?document[t(289)](e.watermark_parent_node):e[t(311)],n=r||document[t(295)];const o=n[t(348)]();var a=Math[t(305)](n[t(281)],n.clientWidth,o[t(279)]),h=Math[t(305)](n[t(324)],n.clientHeight,o[t(330)]),l=arguments[0]||{},c=n;(l[t(313)]||l[t(354)])&&c&&(e[t(293)]=e[t(293)]+0,e[t(349)]=e.watermark_y+0);var d=document[t(289)](e[t(297)]),u=null;if(d)d[t(291)]&&(u=d.shadowRoot);else{(d=document.createElement(t(314))).id=e[t(297)],d.setAttribute(t(356),t(316)),u="function"==typeof d[t(308)]?d[t(308)]({mode:t(322)}):d;var p=n.children,f=Math.floor(Math.random()*(p[t(268)]-1))+1;p[f]?n[t(270)](d,p[f]):n.appendChild(d)}const m=this[t(351)](),g=m[t(279)],y=m[t(330)];e[t(317)]=parseInt((a-e[t(293)])/(g+e.watermark_x_space))||1;var A,v=parseInt((a-e[t(293)]-g*e[t(317)])/e[t(317)]);e[t(334)]=v?e[t(334)]:v,e[t(341)]=parseInt((h-e[t(349)])/(y+e[t(336)]))||1;var b,S,w,E=parseInt((h-e[t(349)]-y*e[t(341)])/e[t(341)]);e[t(336)]=E?e[t(336)]:E,r?(A=e[t(293)]+g*e[t(317)]+e[t(334)]*(e.watermark_cols-1),b=e[t(349)]+y*e.watermark_rows+e[t(336)]*(e.watermark_rows-1)):(A=0+e[t(293)]+g*e[t(317)]+e[t(334)]*(e[t(317)]-1),b=0+e.watermark_y+y*e[t(341)]+e[t(336)]*(e.watermark_rows-1));for(var T=0;T<e[t(341)];T++){w=r?0+e[t(349)]+(h-b)/2+(e[t(336)]+e.watermark_height)*T:e[t(349)]+(h-b)/2+(e.watermark_y_space+e[t(301)])*T;for(var I=0;I<e[t(317)];I++){S=r?0+e[t(293)]+(a-A)/2+(g+e[t(334)])*I:e[t(293)]+(a-A)/2+(g+e[t(334)])*I;var k=document[t(288)](t(314)),_=document[t(278)](e[t(346)]);k[t(282)](_),k.id=e[t(323)]+T+I,k[t(356)].webkitTransform="rotate("+e[t(333)]+t(274),k.style[t(273)]=t(343)+e.watermark_angle+t(274),k[t(356)][t(318)]="rotate("+e.watermark_angle+t(274),k[t(356)].OTransform=t(343)+e[t(333)]+t(274),k[t(356)].transform=t(343)+e[t(333)]+t(274),k[t(356)][t(326)]="",k[t(356)][t(350)]=t(269),k[t(356)][t(304)]=S+"px",k[t(356)][t(361)]=w+"px",k.style[t(284)]=t(355),k[t(356)][t(357)]=t(306),k.style[t(315)]=e[t(300)],k.style[t(321)]=e[t(286)]+"px",k[t(356)].fontFamily=e[t(307)],k[t(356)].color=e[t(347)],k[t(356)][t(292)]="center",k[t(356)].width=g+e[t(334)]+"px",k[t(356)].height=y+e[t(336)]+"px",k[t(356)].display=t(340),k[t(356)]["-ms-user-select"]=t(360),u[t(282)](k)}}}[fL(298)](){var t=fL;const e=this.defaultSettings;var s=document[t(289)](e[t(297)]);if(s){var i=s[t(271)];i&&i[t(312)](s)}}[fL(351)](){var t=fL;let e=this[t(338)].watermark_txt||this[t(287)][t(346)],s=this[t(338)][t(307)]||this[t(287)][t(307)],i=this[t(338)].watermark_fontsize||this[t(287)][t(286)];const r=document[t(288)]("span");r[t(329)]=e,r.setAttribute(t(356),t(337)+s+t(277)+i+t(352)),document[t(331)](t(295)).appendChild(r);const n={width:r[t(345)],height:r.offsetHeight};return r[t(327)](),n}}function AL(){var t=["globalSetting","display","block","appendChild","string","querySelector","absolute","pointer-events: none !important; display: block !important","div","watermark_parent_width","top","watermark_txt","overflow","innerHTML","_calcTextSize","watermark_font","style","children","attachShadow","getBoundingClientRect","7yEMvHN","function","watermark_color","%20%E4%BD%93%E9%AA%8C","createElement","JbPro 测试水印","459ckOBHS","offsetWidth",'</text>\n                                </pattern>\n                            </defs>\n                            <rect x="0" y="0" width="100%" height="100%" style="fill:url(#pattern1); fill-opacity:1;" />\n                            <rect x="0" y="0" width="100%" height="100%" style="fill:url(#pattern2); fill-opacity:1;" />\n                            </svg>','" style="font-family:',"font-family: ","watermark_id","watermark_x","124WszqrA","微软雅黑","width","28820ycmiFU","random","resize","span","removeChild","watermark_parent_node","watermark_angle","load","watermark_y_space","; fill:","134072EivUlG","watermark_parent_height",'" y="',"watermark_x_space","; font-size: ","-ms-user-select",'" height="',"player",'</text>\n                                </pattern>\n                                <pattern id="pattern2" x="',"watermark_y","floor","_loadMark","Watermark","body","parentNode","destroy",'" width="',"white","6734HfzvzO","defaultSettings","height","_removeMark","hidden","watermark_fontsize","204005yiTnbh","8696538oncJWS",')">\n                                    <text x="0" y="',"setAttribute","0px","length","289366XhKJxQ","clientWidth","shadowRoot","none","zIndex","position","20206032QJXMtd","black","; fill-opacity:","JbPro_",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none">\n                            <defs>\n                                <pattern id="pattern1" x="0" y="0" width="',"getElementById","object","url(data:image/svg+xml;base64,","max","debugLog","clientHeight","scrollWidth","btoa",'" patternUnits="userSpaceOnUse" patternTransform="rotate(',"2709dFprxW","offsetHeight"];return(AL=function(){return t})()}var vL=SL;!function(t,e){for(var s=SL,i=t();;)try{if(831136===parseInt(s(486))/1+parseInt(s(474))/2*(parseInt(s(534))/3)+parseInt(s(541))/4*(parseInt(s(480))/5)+parseInt(s(481))/6+-parseInt(s(528))/7*(-parseInt(s(554))/8)+parseInt(s(506))/9*(-parseInt(s(544))/10)+-parseInt(s(492))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(AL);class bL{constructor(t){var e=SL;this.player=t,this[e(508)]=null;const s=Is();this[e(475)]={watermark_id:e(495)+s,watermark_prefix:"JbPro_mask_"+s,watermark_txt:e(533),watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:100,watermark_y_space:100,watermark_font:e(542),watermark_color:e(493),watermark_fontsize:18,watermark_alpha:.15,watermark_angle:-15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},qi()&&this[e(551)]({text:decodeURIComponent(T+e(531)),color:e(473)}),this.player.debugLog(e(468),"int")}[vL(471)](){var t=vL;this._removeMark(),this[t(508)]=null,this.defaultSettings=null,this[t(463)][t(501)]("Watermark",t(471))}remove(){var t=vL;Ki()&&(this[t(508)]=null,this[t(477)]())}load(t){var e=vL;this[e(508)]=t,this[e(467)](t)}[vL(546)](){var t=vL;this[t(463)][t(501)](t(468),"resize()"),this[t(508)]&&this[t(467)](this.globalSetting)}[vL(467)](){var t=vL;let e=this.defaultSettings;if(1===arguments[t(485)]&&typeof arguments[0]===t(498)){var s=arguments[0]||{};for(let t in s)s[t]&&e[t]&&s[t]===e[t]||(s[t]||0===s[t])&&(e[t]=s[t])}var i=document[t(497)](e[t(539)]);i&&i[t(470)]&&i.parentNode[t(548)](i);var r=typeof e.watermark_parent_node===t(512)?document[t(497)](e[t(549)]):e.watermark_parent_node,n=r||document[t(469)];const o=n[t(527)]();var a=Math[t(500)](n[t(503)],n[t(487)],o[t(543)]),h=Math[t(500)](n.scrollHeight,n[t(502)],o[t(476)]),l=arguments[0]||{},c=n;(l[t(517)]||l[t(555)])&&c&&(e[t(540)]=e.watermark_x+0,e.watermark_y=e[t(465)]+0);var d=document.getElementById(e[t(539)]),u=null;if(d)d[t(488)]&&(u=d[t(488)]);else{(d=document[t(532)](t(516))).id=e[t(539)],d[t(483)](t(524),t(515)),u=typeof d[t(526)]===t(529)?d[t(526)]({mode:"open"}):d;var p=n[t(525)],f=Math[t(466)](Math[t(545)]()*(p.length-1))+1;p[f]?n.insertBefore(d,p[f]):n[t(511)](d)}const m=this[t(522)](),g=this[t(475)],y=g[t(459)]+m.width,A=g[t(552)]+m[t(476)],v=2*A,b=y/2,S=t(496)+y+t(462)+v+t(505)+g[t(550)]+t(482)+g[t(479)]+'" style="font-family:'+g[t(523)]+"; font-size:"+g[t(479)]+t(553)+g[t(530)]+t(494)+g.watermark_alpha+'">'+g[t(519)]+t(464)+b+t(556)+A+t(472)+y+t(462)+v+t(505)+g[t(550)]+t(482)+g[t(479)]+t(537)+g[t(523)]+"; font-size:"+g[t(479)]+"; fill:"+g.watermark_color+t(494)+g.watermark_alpha+'">'+g.watermark_txt+t(536),w=window[t(504)](unescape(encodeURIComponent(S)));var E=document.createElement("div");E.style[t(491)]=t(514),E[t(524)].left=t(484),E[t(524)][t(518)]=t(484),E[t(524)][t(520)]=t(478),E[t(524)][t(490)]="9999999",E[t(524)].width=a+"px",E[t(524)][t(476)]=h+"px",E.style[t(509)]=t(510),E[t(524)][t(461)]=t(489),E.style.backgroundImage=t(499)+w+")",u[t(511)](E)}[vL(477)](){var t=vL;const e=this[t(475)];var s=document[t(497)](e.watermark_id);if(s){var i=s[t(470)];i&&i[t(548)](s)}}_calcTextSize(){var t=vL;let e=this[t(508)][t(519)]||this[t(475)][t(519)],s=this[t(508)][t(523)]||this.defaultSettings[t(523)],i=this[t(508)][t(479)]||this[t(475)][t(479)];const r=document[t(532)](t(547));r[t(521)]=e,r[t(483)](t(524),t(538)+s+t(460)+i+"px; visibility: hidden; display: inline-block"),document[t(513)](t(469))[t(511)](r);const n={width:r[t(535)],height:r[t(507)]};return r.remove(),n}}function SL(t,e){var s=AL();return(SL=function(t,e){return s[t-=459]})(t,e)}function wL(t,e){const s=LL();return(wL=function(t,e){return s[t-=193]})(t,e)}const EL=wL;!function(t,e){const s=wL,i=t();for(;;)try{if(659514===parseInt(s(222))/1*(-parseInt(s(196))/2)+-parseInt(s(212))/3*(parseInt(s(210))/4)+-parseInt(s(219))/5*(parseInt(s(209))/6)+parseInt(s(193))/7+-parseInt(s(224))/8+-parseInt(s(215))/9*(-parseInt(s(223))/10)+-parseInt(s(203))/11*(-parseInt(s(198))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(LL);const TL={stop:EL(226),fiStop:EL(211),right:EL(220),left:"left",up:"up",down:EL(216),leftUp:"leftUp",leftDown:EL(213),rightUp:"rightUp",rightDown:EL(202),zoomExpand:EL(201),zoomNarrow:"zoomNarrow",apertureFar:"apertureFar",apertureNear:EL(204),focusFar:"focusFar",focusNear:"focusNear",setPos:EL(217),calPos:EL(205),delPos:"delPos",wiperOpen:EL(218),wiperClose:EL(200),cruiseStart:EL(197),cruiseStop:EL(207)},IL={stop:0,fiStop:0,right:1,left:2,up:8,down:4,leftUp:10,leftDown:6,rightUp:9,rightDown:5,zoomExpand:16,zoomNarrow:32,apertureFar:72,apertureNear:68,focusFar:66,focusNear:65,setPos:129,calPos:130,delPos:131,wiperOpen:140,wiperClose:141,setCruise:132,decCruise:133,cruiseStart:136,cruiseStop:0},kL=[25,50,75,100,125,150,175,200,225,250],_L=[1,2,3,4,5,6,7,8,9,16],CL=[16,48,80,112,144,160,176,192,208,224];function DL(t){const e=EL,{type:s,speed:i=5,index:r=0}=t,n=kL[(i||5)-1]||kL[4];let o,a,h,l;if(o=IL[s],!o)return"";switch(s){case TL.up:case TL.down:case TL.apertureFar:case TL[e(204)]:h=n;break;case TL.right:case TL.left:case TL[e(195)]:case TL[e(225)]:a=n;break;case TL[e(206)]:case TL[e(213)]:case TL[e(199)]:case TL.rightDown:a=n,h=n;break;case TL[e(201)]:case TL[e(194)]:l=CL[(i||5)-1]||CL[4];break;case TL[e(205)]:case TL[e(221)]:case TL[e(217)]:h=RL(r);break;case TL.wiperClose:case TL.wiperOpen:a=1;break;case TL[e(197)]:a=RL(r)}return function(t,e,s,i){let r=[];return r[0]=165,r[1]=15,r[2]=1,r[3]=0,r[4]=0,r[5]=0,r[6]=0,t&&(r[3]=t),e&&(r[4]=e),s&&(r[5]=s),i&&(r[6]=i),r[7]=(r[0]+r[1]+r[2]+r[3]+r[4]+r[5]+r[6])%256,function(t){const e=EL;let s="";for(let i=0;i<t.length;i++){let r=t[i][e(214)](16);1===r.length&&(r="0"+r),s+=r[e(208)]()}return s}(r)}(o,a,h,l)}function RL(t){return _L[t-1]}function LL(){const t=["cruiseStop","toUpperCase","30CkgWgN","4kqtvWN","fiStop","3654741gCFilj","leftDown","toString","48366FDOaWU","down","setPos","wiperOpen","1176430XIVoJg","right","delPos","1407Biqmwv","130ErVecZ","1342016NCbPnY","focusNear","stop","6624303lYFOfB","zoomNarrow","focusFar","270kYnTmX","cruiseStart","8292gGGcnB","rightUp","wiperClose","zoomExpand","rightDown","38137sXYuhP","apertureNear","calPos","leftUp"];return(LL=function(){return t})()}function PL(){const t=["destroy","JbPro-","13703400VtNCzp","clear","5839701mJMPJb","player","Object","init","1459290Zymdvo","Number","3266bOdPGp","map","slice","call","logTextArray","454pIEETs","91flfDiy","text/plain","length","object","ArrayBuffer","Null","logSize","12920304qZDgQO","583960ZGDawn","download","905550BHEVuq","push","Undefined","String","getLog","stringify","debugLog","logCache","TAG_NAME","[JbPro] ","logMaxSize","includes","prototype","toLocaleString","toString"];return(PL=function(){return t})()}const xL=ML;function ML(t,e){const s=PL();return(ML=function(t,e){return s[t-=351]})(t,e)}!function(t,e){const s=ML,i=t();for(;;)try{if(995146===parseInt(s(364))/1*(parseInt(s(359))/2)+-parseInt(s(353))/3+-parseInt(s(373))/4+parseInt(s(357))/5+parseInt(s(375))/6*(parseInt(s(365))/7)+parseInt(s(372))/8+-parseInt(s(351))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(PL);const BL=["Boolean",xL(358),xL(378),xL(377),xL(370),"Date",xL(355)];function FL(t){const e=xL;if(typeof t!==e(368))return t;const s=Object[e(387)][e(389)].call(t)[e(361)](8,-1);switch(s){case"Array":case"Uint8Array":case e(369):return s+"["+t[e(367)]+"]";case"Object":return"{}";default:return s}}function UL(t,e,s){const i=xL;s||(s=1),e||(e=2);const r={};if(!t||"object"!=typeof t)return t;const n=Object[i(387)][i(389)][i(362)](t)[i(361)](8,-1);if(!BL[i(386)](n))return n;if(!(s>e)){for(const n in t)Object[i(387)].hasOwnProperty[i(362)](t,n)&&(s===e?r[n]=FL(t[n]):typeof t[n]===i(368)?r[n]=UL(t[n],e,s+1):r[n]=t[n]);return r}}function OL(){const t=xL;return(new Date)[t(388)]()}class NL{constructor(t){const e=xL;let s=arguments[e(367)]>1&&void 0!==arguments[1]?arguments[1]:{};this[e(354)]=t,this[e(383)]="MemoryLogger",this[e(385)]=(null==s?void 0:s.logMaxSize)||204800,this[e(371)]=0,this[e(363)]=[],this.player[e(381)](this[e(383)],e(356))}[xL(390)](){const t=xL;this[t(352)](),this[t(354)][t(381)](this[t(383)],t(390))}clear(){this[xL(371)]=0,this.logTextArray=[]}[xL(382)](){const t=xL;let e="";try{for(var s=arguments[t(367)],i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];const n=i[t(360)]((t=>UL(t)));e=t(384)+OL()+JSON[t(380)](n)}catch(t){return}if(this[t(371)]+=e[t(367)],this[t(363)][t(376)](e),this.logSize>this[t(385)]){const e=this[t(363)].shift();this[t(371)]-=e[t(367)]}}[xL(379)](){return this[xL(363)].join("\n")}getLogBlob(){const t=xL,e=this.getLog();return new Blob([e],{type:t(366)})}[xL(374)](){const t=xL,e=this.getLog();this[t(352)]();const s=new Blob([e],{type:t(366)});Jn(s,t(391)+OL()+".log")}}const jL=VL;function VL(t,e){const s=GL();return(VL=function(t,e){return s[t-=202]})(t,e)}!function(t,e){const s=VL,i=t();for(;;)try{if(405568===parseInt(s(211))/1+-parseInt(s(202))/2+parseInt(s(230))/3+-parseInt(s(228))/4*(-parseInt(s(226))/5)+-parseInt(s(216))/6*(parseInt(s(233))/7)+-parseInt(s(207))/8+-parseInt(s(204))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(GL);class WL extends h{constructor(t){const e=VL;super(),this[e(225)]=t,this[e(220)]="Network",this.online=this[e(213)](),this[e(236)]=this.online,this[e(218)]=null,this._boundUpdateOnlineStatus=this[e(205)][e(234)](this),this[e(209)]=this._updateOfflineStatus.bind(this),this[e(203)](),this[e(225)].debugLog(this[e(220)],e(215))}[jL(214)](){const t=jL;this[t(217)](),this[t(221)](),window[t(210)](t(219),this[t(232)]),window[t(210)]("offline",this._boundUpdateOfflineStatus),this[t(209)]=null,this._boundUpdateOnlineStatus=null,this[t(225)][t(235)](this[t(220)],t(214))}[jL(203)](){const t=jL;window[t(206)](t(219),this[t(232)]),window[t(206)](t(229),this[t(209)])}[jL(221)](){const t=jL;this[t(218)]&&(clearInterval(this[t(218)]),this[t(218)]=null)}[jL(227)](){this.interval=setInterval((()=>{const t=VL;this[t(213)]()!==this.prevOnline&&(this.isOnline()?this[t(205)]():this[t(223)]())}),1e3)}_updateOnlineStatus(){const t=jL;this[t(236)]=this[t(219)],this.online=!0,this[t(208)](),this[t(231)]("online")}[jL(223)](){const t=jL;this.prevOnline=this[t(219)],this[t(219)]=!1,this.logStatus(),this.emit(t(229))}logStatus(){const t=jL,e=this[t(236)]?"online":t(229),s=this.online?"online":t(229);this[t(225)][t(235)](this.TAG_NAME,t(222)+this.prevOnline+t(224)+this.online+t(212)+e+" -> "+s)}[jL(213)](){return void 0===navigator.onLine||navigator.onLine}isOffline(){return!this[jL(213)]()}}function GL(){const t=["off","interval","online","TAG_NAME","_stopCheck","prevOnline: ","_updateOfflineStatus",", online: ","player","10NeuKQb","_startCheck","213548LLTvAj","offline","1916010NTyFtI","emit","_boundUpdateOnlineStatus","960211QFJgRj","bind","debugLog","prevOnline","196410QLZlCu","_initListener","808587leJtMy","_updateOnlineStatus","addEventListener","4742096zPTyUx","logStatus","_boundUpdateOfflineStatus","removeEventListener","715280OkbYHg",", status: ","isOnline","destroy","init","12aQVShj"];return(GL=function(){return t})()}function zL(t,e){const s=HL();return(zL=function(t,e){return s[t-=276]})(t,e)}function HL(){const t=["2332505DZUvrk","2123208DJUbVY","The URL did not match the expected pattern, url=","18Nielrj","filetype","substr","10830amhFJK","43sygRnr","2855368tWUPog","32348fVVPpE","origin","href","location","hostname","length","1252iPmgDV","protocol","test","apply","hash","search","3740424Kthlvx","pathname","fromCharCode","SyntaxError","match","2418470LBaWek"];return(HL=function(){return t})()}!function(t,e){const s=zL,i=t();for(;;)try{if(561844===-parseInt(s(294))/1*(-parseInt(s(296))/2)+parseInt(s(288))/3+parseInt(s(302))/4*(-parseInt(s(293))/5)+-parseInt(s(281))/6+parseInt(s(287))/7+-parseInt(s(295))/8+parseInt(s(290))/9*(parseInt(s(286))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(HL);const KL=qL;function qL(t,e){const s=QL();return(qL=function(t,e){return s[t-=301]})(t,e)}function QL(){const t=["wasmWidthOrHeightChange and reset player and play success","playVodEndedAndAutoReplay","setAspectRatio() aspectRatio is ","fullscreen","muted","nakedFlow","playbackResume","playbackClearCacheBuffer()",'playVodBackwordJumping() params "time": '," and network online and play error","playFailedAndPausedShowPlayBtn","updateObjectDetectorConfig","_handleMediaSourceFull","mediaSourceFull and pause error","calcPlaybackForwardMaxRateDecodeIFrame","screenshotCopyrightWatermark()","_resetPlayer() end",", next replay","isDestroyedOrClosed","mediaSourceAudioInitTimeout","m7sCryptoKey","isAudioMute","disablePictureInPicture","player._opt.operateBtns.quality is false","_removeLoadingBackgroundForIOS()","_tempVideoLastIframeInfo","_handlePlayVodEndedAndReplay but player is destroyed","playback","webcodecsDecodeConfigureError but player is destroyed","getControlBarShow()","delayTimeoutRetryEnd","getContainerRect","_handleVideoElementPlayingFailed","networkState",".flv","mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play","webcodecsAudioNoDataTimeout and _resetPlayer error","_pause() error","websocket1006ErrorReplay","playVodMp4Error and pause","destroy() _nextDestroy called","mediaSourceAudioG711NotSupport","playVodMseDecodeVideoError but player is destroyed","simdDecodeError","networkDelayTimeout but player is destroyed","useLastFrameShow","vertical","playbackConfig","updateCurrentZoom","webrtc","mediaSourceFull","videoElementPlayingFailed and videoElementPlayingFailedReplay is false，pause success","EVENTS","this.player.play 5","isOldHls","dynamicWatermarkConfig","webrtcLowFps but player is destroyed","totalDuration","wcsDecodeAudio","hls264UseOldDemuxer and _resetPlayer error","mediaSourceAudioInitTimeout and mediaSourceAudioInitTimeoutReplay is false,pause success","setDebug","1006","mseDecodeErrorReplay","fetchErrorOnLock is true","proxy","streamEnd and reset player and play success","simdH264DecodeVideoWidthIsTooLarge and pause error","fullscreenWatermarkConfig text is empty","_initOnLock","webcodecsAudioDecodeError and webcodecsAudioDecodeErrorReplay is false, pause success",'forward() params "rate": ',"simdDecodeError and reset player and play error","mseWidthOrHeightChange and reset player and play","playVodMseDecodeVideoError reset player and play success","wcsWidthOrHeightChange error and pause error","_handleDecoderWorkerUncaughtError","JbPro Version is ","webcodecsH265NotSupportOnLock","playbackConfig.rateConfig.length is 0, showRateBtn can not be ture, showRateBtn is set to false","websocket1006Error","playVodForward() ","debug","simdDecodeDelayTimeout error and pause error","mediaSourceTsIsMaxDiff replay error","playVodResume()","setXorCryptoKey()","audioResume","flv Demux Buffer Size Too Large and reset player and play error","webcodecsAudioNoDataTimeout but player is destroyed","_resetPlayerBeforeUpdateOptions() and is not player play started and loadingIcon is false and set loadingIcon is true","webglContextLostErrorReplay","flvDemuxBufferSizeTooLarge","wasmUseVideoRenderErrorOnLock","this.player.play 1","_heartTimeoutReplayTimes","faceDetect","widthOrHeightChangeReplayDelayTime","expandPrecision","getVideoInfo","videoElementPlayingFailed but player is destroyed","setRotate() player is null","playbackEndOnLock is true","playVodConfig","showErrorMessageTips","aliyunRtcError but player is destroyed","_handleFetchError","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play success","webcodecsDecodeError but player is destroyed","_playBefore _play error","playVodSeek() ","streamEnd and _resetPlayer error","mediaSourceDecoderConfigurationErrorOnLock is true","toggleControlHtml() ","_handleMediaSourceTsIsMaxDiff","JbPro need container option and now container is","mediaSourceAudioNoDataTimeout but player is destroyed","webglAlignmentError and _resetPlayer error","keepScreenOn","playVodMseDecodeVideoErrorOnLock is true","mediaSourceAudioG711NotSupportReplay","decoderWorkerUncaughtErrorOnLock is true","mseSourceBufferError","decoder-pro-simd.js","_updateMultiIndex ","this.player.play 4","webcodecsDecodeError","playFailedError","closeDrawRectangle()","webrtcLowFpsOnLock","webcodecsAudioDecodeError error and pause error","fill","setSm4CryptoKey() key is invalid and key length is ","loading timeout _resetPlayer error","screenshotCopyrightWatermark","wcs","hlsError","_handleWebcodecsAudioNoDataTimeout","JbPro decoder ","_isNeedNetworkDisconnectReplay"," and opt.cryptoKeyUrl: ","flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeEmitFailed = true and pause player success","loadingTimeoutRetryEnd"," second, is too large, video will show blank screen until cache ",", streamErrorReplayDelayTime is ","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play error","webcodecsDecodeErrorOnLock is true","aiObjectDetectLevel","decoderWorkerInit and play error and next pause error","streamEnd pause","objectDetectClose","updateDebugLevel()","mediaSourceBufferedIsZeroError and pause error:","streamEnd and 1006 error network is offline and wait network online to play , so return","playVodMp4UseSrcVideoErrorOnLock is true","watermarkConfig","_initLoadingBg","stopRecordAndSave() ","setExtendHtml() player is not init","mseSourceBufferErrorOnLock is true","videoInfoErrorOnLock is true","hls264UseOldDemuxer","updateDebugLevel","replay"," protocol is ","closeDrawRectangle","playbackResume()","wasm decode error and reset player and play error","log","mseDecodeError"," [mse-> ","wasmUseVideoRenderError and reset player and play","setPlaybackShowPrecision() ","playbackForward","\n                            and new url is ","fetch error and reset player and play error","calc(100% - ","mediaSourceAudioNoDataTimeout and reset player and play","aliyunRtcError and pause player success","length","mediaSourceBufferedIsZeroError _resetPlayer and play error","websocketError","simdDecodeDelayTimeout and simdDecodeErrorReplay is false , pause success","_websocket1006ErrorRetryLog","webglContextLostErrorOnLock","_handleMediaSourceDecoderConfigurationError","mediaSourceAudioInitTimeout but player is destroyed","networkDelayTimeoutOnLock","showPerformance","webcodecsAudioInitTimeoutOnLock is true","ws://","narrowZoom","wasmUseVideoRenderError but player is destroyed","split","downloadTempFlvFile","expandZoom() failed, zoom is not open or not init","mediaSourceAudioNoDataTimeout and _resetPlayer error","webcodecsAudioNoDataTimeout and webcodecsAudioNoDataTimeoutReplay is false, pause success","togglePerformancePanel() ","delayTimeout","% - ","updateDebugLevel() player is null","playVodPause()","mediaSourceUseCanvasRenderPlayFailedOnLock","mseSourceBufferErrorOnLock",", and start is ","decoderWorkerInitErrorOnLock","isLoading","streamEnd","playbackEndOnLock","nodeName","webrtcStreamH265 and _resetPlayer error","updateDrawRectangleConfig","playVodCalcFpsError but player is destroyed","simdH264DecodeVideoWidthIsTooLarge and reset player and play","$container","flv","_handlePlaybackEnd","aiFaceDetectWidth","_handleHls264UseOldDemuxer","none","removeGhostWatermark","JbPro videoBuffer ","wcsDecodeErrorReplay","mseDecodeErrorReplayDelayTimeout","streamErrorReplayDelayTimeout","toggleControlBar","mediaSourceAudioInitTimeoutOnLock is true","_tempPlayBgObj","_pause","wasm","multiIndex","currentTime","setXorCryptoKey","playbackEndedAndReplay and reset player and play error","videoElementPlayingFailedForWebrtc and pause player success","setAttribute","downloadNakedFlowFile","webcodecsH265NotSupport","playVodCalcFpsError and pause","isTs","playing","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play","webcodecs decode error reset player and play success","webcodecs decode error and autoWasm is false , pause success","_streamErrorReplayTimes","extractScreenshotCopyrightWatermark","_handleWebcodecsDecodeConfigureError","36HwxWeE","closeZoom() failed, this.player is not init","offline","mseWidthOrHeightChange and widthOrHeightChangeReplay is false,pause success","JbPro container type can not be ","mseWaitVideoCanplayAutoWasm"," and delay time is ","playbackConfig.fps is null and playbackConfig.autoCalcFps is false, set playbackConfig.autoCalcFps is true","webcodecs decode error autoWasm ","mediaSourceAppendBufferError and reset player and play error","isResize","play vod ended and replay player"," and reset player and play","playVodMp4UseSrcErrorOnLock","streamEndReplayDelayTimeout"," !== 32 or iv length ","setControlHtml","notSupportNewWasmOnLock","toggleExtendHtml() player is not init","_playNext and waiting decoderWorkerInit callback","downloadFmp4File","_handleWebcodecsUnsupportedConfigurationError","setPlaybackStartTime() playType is not playback","aspectRatio","mediaSourceUseCanvasRenderPlayFailed and mediaSourceUseCanvasRenderPlayFailedReplay is false,  pause success","/rtc/v1/play/"," and is not meaningful Retry","videoInfoError and pause","_handleNotSupportNewWasm","stringify","playOptions","303LwNOYx","resetPlayer()","_resetPlayer() player has loaded","_handleFailedToAsynchronouslyPrepareWasm","_initPlayer",".h265","getCurrentZoomIndex","audio","resetPlayer","mse","clearBufferDelay() player is not init","_playFailedAndPausedLastFrameInfo","isZoomOpen","wasmWidthOrHeightChange error and pause error","_resetPlayerBeforeUpdateOptions() and replayUseLastFrameShow is true and is player started and set loadingIcon by replayShowLoadingIcon ","type","_cryptoPlay() cryptoKeyUrl: ","mediaSourceAppendBufferError and reset player and play success","_getContainerRect","websocketError error and streamErrorReplay is true and _streamErrorReplayTimes is "," and\n                            opt.heartTimeoutReplay is ","_hasLoaded() and play error and next pause error","_getOriginalOpt","clearContentToContainer() player is not init","aliyunRtcError","mediaSourceAudioInitTimeoutReplay","isMSEVideoDecoderInitializationFailedNotSupportHevc","unknown","showTipsMessage","_resetPlayer() error","objectDetectOpen","_handlePlayerFullscreen","fetchError but player is destroyed","openZoom","clearControlHtml() player is not init","autoWasm","isFlv","scale(","isDestroyed","_isNetworkOfflinePaused","setM7sCryptoKey()","webrtcError and _resetPlayer error","setKeepScreenOn","hideTipsMessage","player is not init","fmp4","mseWaitVideoCanplayTimeout but player is destroyed","px 0","webcodecsAudioNoDataTimeoutReplay","add","_handleWebrtcError","max","currentTimeScroll","paused","rateConfig","37290BHMvDm","videoInfoError and pause player","crashLog","destroy() player has loaded and calling _nextDestroy()","mseWidthOrHeightChangeOnLock","isFFmpegSIMD","stopRecordAndSave","videoElementPlayingFailed and reset player and play success","toggleDrawRectangle() ","_destroy","setExtendHtml","updateAiFaceDetectLevel","white","simdDecodeDelayTimeout error simdDecodeErrorReplayType is ","emit","18328308MpSSoZ","wcsWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed","getCrashLog","updateAiObjectDetectInterval","streamEndOnLock","padding","operateBtns","networkDelayTimeoutOnLock is true","_handleWcsWidthOrHeightChange","render type is video, not support clearView, please use canvas render type",", demuxType is ","mseWidthOrHeightChange and _resetPlayer error","url ","updateAiFaceDetectInterval","playbackClearCacheBuffer","quality: ","tsPacketSizeError but player is destroyed","watermark","getPlayVodBufferedTime","simdDecodeDelayTimeout and reset player and play error","_handleMediaSourceAudioInitTimeout"," rotate(","src","getControlExtendBtnActive() ","_removeTimeout","wasmWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed","mseSourceBufferError reset player and play error"," and\n                isAliyunRtc is ","webcodecsDecodeConfigureError and autoWasm is false , pause success","notSupportNewWasm","flvDemuxBufferSizeTooLargeOnLock","webglContextLostErrorOnLock is true","webrtcLowFps","_playBefore","clientWidth","debugUuid","webFullscreen","updateAiObjectDetectLevel()","objectDetectClose() player is not init","resize()","loading timeout and pause error","defaultStreamQuality","mediaSourceAudioInitTimeout and _resetPlayer error","webcodecsAudioInitTimeoutOnLock","_handlePlayVodCalcFpsError","\n                            and destroy and play new url","webcodecsAudioDecodeError and _resetPlayer error","playbackEnd and pause","isWebrtcForOthers","load","isUseNewFullscreenWatermark","wasmWidthOrHeightChangeOnLock","isMSEAudioDecoderError","useMSE","_getVideoLastIframeInfo","videoElementPlayingFailed and reset player and play error","narrowZoom()","top","playVodMseDecodeVideoError _resetPlayer and play error","setSm4CryptoKey() key is invalid and length is ","isFocus","mediaSourceDecoderConfigurationError","mediaSourceAppendBufferErrorOnLock","_handlePlaybackEndedAndReplay","startRecord","fetch","cancelRecord","setBufferDelayTime","setSm4CryptoKey","webcodecsAudioInitTimeoutReplay","_clearInitDecoderWorkerTimeout","loadingIcon","webcodecsAudioInitTimeout error and pause error","downloadTempG711File","playVodForwardJumping","catch","playVodEndedAndReplay","streamErrorReplayDelayTime","playbackCurrentTimeScroll",".mpeg4","playVodMp4Error but player is destroyed","_handleVideoElementPlayingFailedForWebrtc","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play success","play vod ended and pause success","webglContextLostError and play error","mseWaitVideoCanplayTimeout","destroy() no player, calling _destroy() directly","hlsError and _resetPlayer error","_checkHasCreated","off","mseAddSourceBufferErrorOnLock is true","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play error","] reset player and play","setCryptoKeyUrl","isPlaybackPause","videoElementPlayingFailedOnLock","hls264UseOldDemuxer and reset player and play error","playVodMp4UseSrcVideoError","webrtcError and pause player success","playVodCalcFpsError is true",'playVodForwardJumping() params "time": ',"mediaSourceBufferedIsZeroErrorOnLock","playVodMp4ErrorOnLock is true","hlsError and pause","setNetworkDelayTime() "," so set mseDecodeAudio = false","pTs","isMSENotSupportAudioFormat"," and\n                isHlsButDemuxUseWorker is ","loadingBackgroundWidth","objectFit","screenshotByRect() player is not ready","simdDecodeError error and pause error","_bindPlayerEvents"," and network online and play success","updateFullscreenWatermark()","isWebrtcH265","fetchError","getControlExtendBtnActive","_initPlayerOptionsForPlayVodOrPlayback","updateCurrentZoom()","playbackEndedAndReplay and _resetPlayer error","mediaSourceAppendBufferErrorOnLock is true","forEach"," is not in qualityList","setDebug() ","simdDecodeError but player is destroyed","_handlePlayVodEndedAndReplay","not playing","hasLoaded","decoder","webcodecsAudioDecodeError","widthOrHeightChangeReplayDelayTimeout","decoderWorkerWasmErrorOnLock is true","decoderWorkerUncaughtError and pause player","playVodMp4Error","playbackCurrentTimeScroll()","width","$loadingBg","mirrorRotate","_websocket1006ErrorReplayTimes","updatePlaybackForwardMaxRateDecodeIFrame"," and\n             heartTimeoutReplayTimes is ","pause","showErrorMessageTips()","timeout","websocketError error and network is disconnect and reset player and play","isMpeg4","getExtendBtnList","clearBufferDelay","fetch error and network is offline and wait network online to play , so return","mediaSourceBufferedIsZeroError","flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeEmitFailed = true and pause player","cryptoKeyUrl","forward() ","need reset player and\n                isOldHls is ","setScaleMode","playbackEndedAndReplay","canvas","_handleWebcodecsH265NotSupport","mediaSourceH265NotSupport and pause error","mediaSourceTsIsMaxDiff","JbPro is destroyed","60730GHaBtd","_resetPlayerBeforeUpdateOptions() and is not mute and set isNotMute is true","hlsErrorOnLock is true","play() ","tsPacketSizeError and pause success","_handlePlayVodMseDecodeVideoError",".fmp4","videoElementPlayingFailedForWebrtc","Hls264UseOldDemuxer and reset player and play success","getPlaybackCurrentRate","loadingTimeoutReplay","closeZoom()","mseWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed","_handleVideoInfoError","webcodecsAudioDecodeError but player is destroyed","resize","streamEnd and network is disconnect and reset player and play","resetPlayer() error","decoderWorkerInitError and pause player","calc(","fetchErrorOnLock","simdDecodeError and reset player and play success","_handlePlayVodMp4UseSrcVideoError","updateGhostWatermark","webrtcErrorOnLock is true","_resetPlayer error","JbPro container is invalid, must be a DOM Element","setNetworkDelayTime","_handlePlayVodMp4UseSrcError","playVodBackwordJumping","delayTimeout and network is offline and wait network online to play , so return","_handleMseWaitVideoCanplayTimeout","flvDemuxBufferSizeTooLargeEmitFailed","querySelector","error","downloadTempNakedFlowFile","_handleWebrtcStreamH265","_destroy() end and calling resolve()","hardDecodingNotSupportAutoWasm","clearView","videoElementPlayingFailed and _pause error","webcodecsUnsupportedConfigurationError but player is destroyed","hls","setBufferDelayTime() player is null","playVodCalcFpsError and pause success","jb-pro-fullscreen-web","videoBuffer"," must be number type","webrtcError error and network is offline and wait network online to play , so _resetPlayer and wait play","replayUseLastFrameShow","updateIsEmitSEI","addContentToCanvas() player is not init","getControlExtendBtnActive() player is null","webglAlignmentError and play success","_checkIsMeaningfulRetry","_hasLoaded","playVodMp4ErrorOnLock","position","getOption","_checkIsMeaningfulRetry() type is ","websocketError error and _resetPlayer() but player is destroyed and return","cancelMute() and is mute is ","playback() ","isInitDecodeError","_initNetwork","isPlayVodUseWCS","playType is ","_hasLoaded() and play error","mediaSourceAudioG711NotSupport and mediaSourceAudioG711NotSupportReplay is false,pause success","destroy()#_nextDestroy() player destroyed successfully and calling _destroy()","network"," and\n                             loadingTimeoutReplayTimes is ","_handleDecoderWorkerInitError","wasmUseVideoRenderError","updateOption","mediaSourceUseCanvasRenderPlayFailed","wasmWidthOrHeightChange and reset player and play","webglContextLostError and _resetPlayer error","hlsErrorOnLock","updatePlaybackLocalOneFrameTimestamp","normal","startsWith","playVodMp4UseSrcErrorOnLock is true","mpeg4","debugLog","networkDelay","screenshotWatermark() player is not ready","playingTimestamp","s must be less than heartTimeout ",".m3u8","simdDecodeDelayTimeout and reset player and play success","JbPro container has been created and can not be created again","isMulti","toggleExtendHtml",", and retry length is ","_parsePlaybackOptions","wcsWidthOrHeightChangeOnLock","updateControlSize","isPlayVodSeeking","playVodBackwordJumping() ","videoInfoError but player is destroyed","aliyunRtcErrorOnLock","10222KNMNNy","webcodecsUnsupportedConfigurationError","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play","_handleSimdH264DecodeVideoWidthIsTooLarge","playVodPause","rotate","setShowPrecision","mediaSourceUseCanvasRenderPlayFailedReplayType","_playBefore this.player.play error","png","push","webglContextLostError and play success","_handlePlayerBeforeDestroy","isNakedFlow","cryptoKey","player is not ready","playVodResume","then","setPlaybackStartTime() player is null","notSupportNewWasm but player is destroyed","updateControlSize() "," and next playingTimestamp is ","49ScdGAi","default","playing and resolve()","_handlePlayVodEnded","toString","tenda","mseSourceBufferError and isMSEVideoDecoderInitializationFailedNotSupportHevc is true so auto wasm","webcodecsAudioNoDataTimeoutOnLock","resetPlayer() success","cancelMute","forward","cancelRecord() player is not ready",",and\n                            local._heartTimeoutReplayTimes is ","playVodCalcFpsErrorOnLock","playFailedUseLastFrameShow","screenshotByRect"," and\n                            opt.loadingTimeoutReplay is ","wcsWidthOrHeightChange but player is destroyed","loadingTimeout and network is offline and wait network online to play , so return","delayTimeoutRetryEnd and\n                            opt.heartTimeout is ","isControlTypeSimple","mediaSourceUseCanvasRenderPlayFailed auto and _resetPlayer and play error","watermark_txt","streamEnd pause player ",'JbPro option "'," type","liveStream","flvDemuxBufferSizeTooLargeOnLock is true","getControlHeight","reset player error","delay timeout _resetPlayer error","setBufferTime() ","isCryptoAudio","useSIMD","mediaSourceTsIsMaxDiffOnLock","webglContextLostError"," second buffer data","faceDetectClose","wcsDecodeError","remove","removeChild","mediaSourceFullOnLock is true","getPlayVodCurrentRate","mediaSourceUseCanvasRenderPlayFailedReplay","webglAlignmentError but player is destroyed","isNotMute","getIsDebug","classList","loading timeout but player is destroyed","isPlayback","wasm decode error and reset player and play success"," and this._opt.aspectRatio is ","onload","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play success","screenshot() player is not ready","?stream=","decoderWorkerUncaughtErrorOnLock","setBufferTime() buffer time is ","_resetPlayer() player has not loaded and waiting load","flv Demux Buffer Size Too Large and _resetPlayer error","getRenderElement","isFullscreen","openZoom() failed, this.player is destroyed or paused","url","once","mediaSourceTsIsMaxDiff _resetPlayer error","mediaSourceFull and reset player and play error"," [会在一个小时后暂停解码,刷新页面可继续测试]","decoderWorkerWasmError and pause player success","webcodecsAudioNoDataTimeout error and pause error","wasmUseVideoRenderError and _resetPlayer error","playVodMseDecodeVideoError reset player and play error","srcObject","updateAiFaceDetectInterval()","playbackNormal","mediaSourceAudioInitTimeout and reset player and play success","mseDecoderUseWorker","mseWidthOrHeightChange","removeAttribute","_isPlayerPlayStarted","mediaSourceDecoderConfigurationError and pause error","closeZoom","loadingTimeout","removeWatermark","aliyunRtc","warn","webcodecsDecodeConfigureErrorOnLock","style","map","_handlePlayerResize"," and this.player.fullscreen is ","/isMSENotSupportAudioFormat is "," [wcs-> ","_removeLoadingBackgroundForIOS","_handleAliyunRtcError","zooming","playbackPauseTimeout","removeDynamicWatermark() player is not init","streamEnd and 1006 error and _resetPlayer() but player is destroyed and return","destroy()#_nextDestroy() player destroy failed","getMetaData","bound","_handleLoadingTimeout","_destroyLock","controls","updateWatermark","decoderWorkerWasmError","mseWaitVideoCanplayTimeoutOnLock is true","_cryptoPlay","setPtzPosition() player is null","tsPacketSizeErrorOnLock","webcodecsH265NotSupport and pause error","decoderErrorAutoWasm","mediaSourceAppendBufferError and _resetPlayer error","sendWebsocketMessage()","container","_pause() ","mediaSourceUseCanvasRenderPlayFailed and reset player and play error","_resetPlayer()","mseWorkerAddSourceBufferErrorOnLock is true","clearBufferDelay()","mediaSourceAudioInitTimeoutOnLock","_streamEndReplayTimes","delay timeout and\n             replay time is ","videoElementPlayingFailed and useMSE is ","_playNext and _hasLoaded() is true","updateIsEmitSEI() player is null","playbackResumeTimeout","failedToAsynchronouslyPrepareWasmLock","playVodEndedAndReplay and reset player and play error","network offline","addContentToCanvas","getAllStatsData","playVodMp4UseSrcError and reset player and play error","updateWatermark()","_handleWebcodecsDecodeError","getExtendHtml","streamEnd and _resetPlayer() but player is destroyed and return","wasmWidthOrHeightChange and widthOrHeightChangeReplay is false, pause success","keyframeIsRequiredError","updateDynamicWatermark","wcsWidthOrHeightChangeOnLock is true","updateGhostWatermark() player is not init","setNetworkDelayTime() network delay is ","_handleMediaSourceH265NotSupport","JbPro",".mp4","mediaSourceAppendBufferError and autoWasm is false ,pause success","isM7sCrypto","clearContentToContainer()"," and old is ","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play","videoBufferDelay","webrtcStreamH265 and reset player and play success","mediaSourceUseCanvasRenderPlayFailed relayType is ","updateLoadingText() player is null","this.player.play 6","16:9","_loadingTimeoutReplayTimes","68uGPrxA","isUseFpsRender","isXorCrypto","mseSourceBufferError but player is destroyed","destroy() rejected - already destroying","playVodResumeInner","sendWebsocketMessage","getFlvMetaData","mseAddSourceBufferError","div","setWebFullscreen() ","webrtcErrorOnLock","setPlaybackShowPrecision","removeDynamicWatermark()","isCacheBeforeDecodeForFpsRender","isControlTypeNormal","videoElementPlayingFailed and _resetPlayer error","mediaSourceUseCanvasRenderPlayFailed and reset player and play success","playFailedAndPaused","_handleDecoderWorkerWasmError","destroy() cleaning up video element","mseWorkerAddSourceBufferError and reset player and play success","_tempContentToCanvasData","webcodecsUnsupportedConfigurationError and pause error","flv Demux Buffer Size Too Large and reset player and play success","decoderWorkerInit and play error"," rotateX(180deg)","_resetPlayer","playbackEnd and pause success","setM7sCryptoKey() player is null","https:","playbackConfig.isUseFpsRender is false, isCacheBeforeDecodeForFpsRender can not be ture, isCacheBeforeDecodeForFpsRender is set to false","setTimeout() ","4:3","hideErrorMessageTips","webcodecsAudioInitTimeout and webcodecsAudioInitTimeoutReplay is false , pause success","keys","autoCalcFps","playVodPauseInner","loading timeout and reset player and play success","setFullscreen() fullscreen is ","qualityConfig","setVolume() ","getPlayingTimestamp","_handleWasmWidthOrHeightChange","playbackPause() isPause:","_handleMediaSourceAudioG711NotSupport","debugWarn"," and streamErrorReplayDelayTime is ","_initWatermark","clearExtendHtml","_handleNetworkDelayTimeout","mseSourceBufferError reset player and play success","_pause() player has not loaded and waiting load","loadingBackground","videoElementPlayingFailedReplay","retry type is ","toggleControlExtendBtn() "," and network online and _streamErrorReplayTimes is ","loadingTimeoutReplayTimes"," and this._opt.rotate is ","wasm decode error and _resetPlayer error","webrtcStreamH265 and reset player and play"," === now: ","_handleFlvDemuxBufferSizeTooLarge","isPlayer",'playVodForward() params "rate": ',"hlsError but player is destroyed","heartTimeoutReplayTimes","removeDynamicWatermark","simdH264DecodeVideoWidthIsTooLarge and simdDecodeErrorReplay is false, pause success","videoElementPlayingFailedForWebrtc but player is destroyed","play url ","playType is not playback","getCopyrightWatermarkHash","replayShowLoadingIcon","showTipsMessageByContent","player","mediaSourceH265NotSupport but player is destroyed","http:","mediaSourceAudioG711NotSupport and reset player and play success","playVodNormal()","playVodMp4Error and pause success","heartTimeout","playVodForward","_opt","getControlBarShow","fetch error and network is disconnect and reset player and play","playVodMseDecodeVideoError","mseSourceBufferError and autoWasm is false ,pause success","InitDecoderWorkerTimeout but player is destroyed","playbackTF","simdH264DecodeVideoWidthIsTooLarge and _resetPlayer error","clearView()","webcodecsH265NotSupportOnLock is true",".h264","mediaSourceUseCanvasRenderPlayFailed but player is destroyed","_handleMediaSourceAppendBufferError","download","mediaSourceBufferedIsZeroErrorOnLock is true","clientHeight","getExtendHtmlIsShow","websocketError error and reset player and play error","ghostWatermarkConfig","videoInfoErrorOnLock","playbackEnd","_handleWebsocketError","mseAddSourceBufferError auto wasm [mse-> wasm] _resetPlayer and play error","delay timeout and pause error","mediaSourceAudioG711NotSupport and _resetPlayer error","webcodecsAudioNoDataTimeout and reset player and play success","streamEndOnLock is true","_pause() player has loaded","flvDemuxBufferSizeTooLargeReplay","tsPacketSizeError and pause","destroy","playVodCalcFpsError","decoderWorkerInitError",".jb-pro-loading-bg-for-ios","isDrawRectangleOpen","showPlayBtn","setRotate","widthOrHeightChangeReplay","updateLoadingText()","kbps2Speed","s is too long, will black screen for ",", not support this method","getExtendBtnList() player is null","isPlaybackPaused","supportHls265","getPlayVodCurrentTime","webrtcStreamH265","mediaSourceAudioNoDataTimeoutReplay","playVodMp4UseSrcError","online","_handleMediaSourceUseCanvasRenderPlayFailed","_handleSimdDecodeDelayTimeout","drawingRect","getPTZCmd() ptz is null","webrtcStreamH265OnLock","toggleDrawRectangle","playVod() ","websocketError and pause","downloadTempFmp4File","xorCryptoKey","downloadG711File","aiObjectDetectInterval","loading timeout and\n                             replay time is ","cryptoIV","isPs"," !== 32","height","toggleControlHtml","mediaSourceH265NotSupport and autoWasm is false ,pause success","_doInitLoadingBackgroundForCanvas","mediaSourceAppendBufferError and pause error","webrtcLowFps error and _resetPlayer error","wcsWidthOrHeightChange and reset player and play success","InitDecoderWorkerTimeout and pause player","absolute","and is not meaningful retry","delay timeout replay error","_handleMediaSourceBufferedIsZeroError","wasmUseVideoRenderErrorOnLock is true","network delay time out and reset player and play","simdH264DecodeVideoWidthIsTooLarge and reset player and play error","_handleMediaSourceAudioNoDataTimeout"," is not valid","getStatus","updatePlaybackLocalOneFrameTimestamp() ","JbPro is destroying","faceDetectClose() player is not init","tsPacketSizeError","decoderWorkerInitErrorOnLock is true","JbPro need container option","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] _resetPlayer and play error","webglAlignmentErrorReplay","wasmWidthOrHeightChange","playType","getPlayVodBufferedDuration","simdH264DecodeVideoWidthIsTooLarge but player is destroyed","_handleMseWorkerAddSourceBufferError","webrtcLowFpsOnLock is true","screenshot","downloadFlvFile","img","_destroyed","hlsError and pause player","webglAlignmentErrorOnLock","%20%E4%BD%93%E9%AA%8C","webcodecsAudioInitTimeout","webcodecsDecodeConfigureErrorOnLock is true","decoderWorkerUncaughtError and pause","mediaSourceH265NotSupport","webcodecsUnsupportedConfigurationErrorOnLock is true","streamEnd but player is destroyed and return","mediaSourceBufferedIsZeroError reset player and play error","mseWorkerAddSourceBufferError and hardDecodingNotSupportAutoWasm is false, pause success","playbackForwardMaxRateDecodeIFrame","isFmp4","toggleControlExtendBtn() player is null","setPlaybackStartTime() control type is normal and  timestamp: ","streamEnd and 1006 and _resetPlayer error","recording","hlsError error and network is offline and wait network online to play , so _resetPlayer and wait play","wss:","setBufferDelayTime() buffer time delay is ","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play success","_handlePlayVodMp4Error","videoInfo","_handleHlsError","\n                isMp4UseUseVideoSrc is ","destroy() start","togglePerformancePanel() failed, showPerformance is prev: ","originalOptions","decoderWorkerWasmErrorOnLock","updateFaceDetectorConfig","webrtcError and pause","_handlePlayVodEnded but player is destroyed","className","mediaSourceUseCanvasRenderPlayFailedOnLock is true","play vod ended and pause player","setAspectRatio","getPlayType","mseWidthOrHeightChange but player is destroyed","downloadTempMpeg4File","fetch error and pause","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play error","wss://",' must be "http:" or "https:" or "webrtc:" or "ws:" or "wss：" or "wt:" or "artc:" protocol',"webglContextLostError and webglContextLostErrorReplay is false, pause success","webcodecsUnsupportedConfigurationErrorOnLock","mediaSourceUseCanvasRenderPlayFailed and pause","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play error","hls264UseOldDemuxerOnLock","aliyunRtcErrorOnLock is true","mediaSourceDecoderConfigurationError and autoWasm is false ,pause success","wasmWidthOrHeightChange and _resetPlayer error","webcodecsAudioNoDataTimeout","setWebFullscreen() player is not ready","sm4CryptoKey","s reset player and play"," must be decoder-pro.js or decoder-pro-simd.js","webcodecs decode error reset player and play error","playVod","mediaSourceAudioG711NotSupportOnLock","_bindEvents","setPlayFailedAndPaused","zoom","mediaSourceAppendBufferError and isMSEAudioDecoderError is ","screenshotWatermark()","streamEnd and reset player and play error","complete","2284469qiUjmk","play"," and\n                needResetPlayer(url change) is ","loading","mediaSourceAudioNoDataTimeoutOnLock","audioResume() and call cancelMute()","px)","events","mediaSourceAudioG711NotSupport and reset player and play","_resetPlayerBeforeUpdateOptions() and is playVod playingTime is ","100%","getCurrentTime","transform","mseWorkerAddSourceBufferError","startRecord() ","isWebrtcForSRS","networkDelayTimeout","playVodEndedAndReplay and reset player and play success","getAudioEngineType","setPtzPosition()",".ts","videoElementPlayingFailedForWebrtcOnLock is true","mediaSourceAudioG711NotSupportOnLock is true","Hls264UseOldDemuxerOnLock is true","simdDecodeDelayTimeoutOnLock","jb-pro-loading-bg-for-ios","isPlayVodMp4UseVideoSrc","mseAddSourceBufferError but player is destroyed","toggleZoom() ","videoElementPlayingFailedForWebrtc and pause","_handleWebcodecsAudioDecodeError",", options: ","setScaleMode() player is null","Hls264UseOldDemuxer and reset player and play","_handleSimdDecodeError","clearExtendHtml() player is not init","_resetPlayerBeforeUpdateOptions","playVodEndedAndReplay and _resetPlayer error","10dXAMIv","webglContextLostError but player is destroyed","$loadingBgImage","addContentToContainer()","getPTZCmd()","videoElementPlayingFailedForWebrtcOnLock","reject","mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play error","screenshotCopyrightWatermark() player is not ready","isLive","bind","endsWith","getRenderType","isRecording","deg)","setMirrorRotate",'" can not be undefined',"setXorCryptoKey() player is null","_handleInitDecoderWorkerTimeout","VIDEO","streamEnd and websocket1006ErrorReplay is true and error is 1006 and _websocket1006ErrorReplayTimes is ","m7s"," and\n                isHlsCanVideoPlay is ","InitDecoderWorkerTimeout and pause player success","mseSourceBufferError auto wasm ","mseWaitVideoCanplayTimeoutOnLock","webglAlignmentError","getDemuxType","mseWidthOrHeightChangeOnLock is true","expandZoom()","setScaleMode() ","webrtcStreamH265OnLock is true","aliyunRtcError and pause","pauseAndNextPlayUseLastFrameShow","_handlePlayerPlayFailedAndPaused","toggleControlBar() player is null","quality",'playVodSeek() params "time": ',"mediaSourceFull but player is destroyed","setWebFullscreen","isPause","simdDecodeDelayTimeoutOnLock is true","playbackStream","clearControlHtml","getAudioInfo","streamEndReplayDelayTime","mseSourceBufferError auto wasm [mse worker -> mse] reset player and play","simdDecodeDelayTimeout","isPlayFailedAndPausedSaveLastIframeInfo","initDecoderWorkerTimeout","audioInfo","simdH264DecodeVideoWidthIsTooLarge","network online","simdDecodeErrorReplayType","mseWidthOrHeightChange and reset player and play error","setRotate() ","webcodecsAudioDecodeError and reset player and play success","playVodMp4UseSrcVideoError but player is destroyed","finally","decoderWorkerWasmError and pause player","expandZoom","openZoom()","$videoElement","playVodMp4UseSrcVideoErrorOnLock"," is invalid'","streamErrorReplay","isFullResize","websocketError but player is destroyed","mediaSourceAudioNoDataTimeout","isPlayVod","addContentToCanvas()","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play error","setSm4CryptoKey() player is null","memoryLogger","fullscreenWatermarkConfig","heartTimeoutReplay","_handlePlayerStart","websocket1006ErrorReplayDelayTime","setBufferDelayTime() ","isHls","webrtcLowFps and reset player and play success","getI18nConfig","m7sCryptoAudio","removeGhostWatermark()","setNakedFlowFps","mseWidthOrHeightChange and reset player and play success","join","_handleDelayTimeout","mseDecodeAudio","mseSourceBufferError and pause error:","ws1006","JessibucaPro","demuxUseWorker","playbackEndedAndReplay and reset player and play success","_mseDecodeErrorRetryLog","_handlePlaybackEndedAndReplay but player is destroyed","websocketError and pause player success","decoderWorkerUncaughtError but player is destroyed"," , delay ","mediaSourceTsIsMaxDiffReplay","openDrawRectangle()","webcodecsDecodeErrorOnLock","openDrawRectangle() failed, this.player is not init","webcodecsAudioInitTimeout and reset player and play success","faceDetectClose()","simdH264DecodeVideoWidthIsTooLargeOnLock","setVolume","setBufferTime() player is null","togglePerformancePanel","mediaSourceAppendBufferError and ","origin","CANVAS","_isNetworkOfflinePausedAndNextPlayConfig","createElement","setControlHtml() player is not init","websocketError error and network is offline and wait network online to play , so return","openWebglAlignment","left","https://","decoderWorkerUncaughtError","setNetworkDelayTime() player is null","_handleStreamEnd","aiObjectDetectWidth","playVodMp4UseSrcError and _resetPlayer error","webglAlignmentErrorOnLock is true","webglAlignmentError and pause error","_watermarkResize","mseAddSourceBufferErrorOnLock","\n                            and isReplay is ","simdDecodeDelayTimeout and _resetPlayer error","718896HYdQBc","_handleMseAddSourceBufferError","videoBuffer "," and is Trial Version[试用版本]","streamEnd pause player","fetch error and streamErrorReplay is true and _streamErrorReplayTimes is ","_handleWebglAlignmentError","artc://"," rotateY(180deg)","mediaSourceAppendBufferError","webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play success","player is destroyed","mseWaitVideoCanplayTimeout and autoWasm is false ,pause success","mediaSourceAudioNoDataTimeout and reset player and play error","mediaSourceH265NotSupportOnLock","tsPacketSizeErrorOnLock is true","webcodecs decode error and pause error","setPlaybackStartTime","updateLocalOneFrameTimestamp","getI18n","volume","setExtendHtml()","setSm4CryptoKey()","show","removeFullscreenWatermark","wcsWidthOrHeightChange","getExtendBtnList()","setKeepScreenOn() player is not ready","mediaSourceAudioG711NotSupport and reset player and play error","screenshotWatermark","playVodNormal","setTimeout error: ","player is null","getControlHtml","videoInfoError","isPlayVodEnded","playbackPause","webcodecsAudioDecodeErrorReplay","startTime","useWCS"," is not a number","_tempPlayerIsMute","setNakedFlowFps() player is null","webrtcError","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play success","webcodecsAudioInitTimeout and reset player and play error","playError","isMute","getFlvMetaData() player is null","zoomMaxScale","wasmWidthOrHeightChange and reset player and play error","simdH264DecodeVideoWidthIsTooLargeReplay","streamEnd pause player success","clearControlHtml()","aiFaceDetectLevel","simdDecodeErrorOnLock","_wcsDecodeErrorRetryLog","get cryptoIV or cryptoKey error","loadingBackgroundHeight"," [到期会暂停解码]","narrowZoom failed, zoom is not open or not init","clear","websocketError error and network is disconnect and _resetPlayer() but player is destroyed and return","removeWatermark()","mseWorkerAddSourceBufferErrorOnLock","mediaSourceBufferedIsZeroError but player is destroyed","level","webcodecs decode error _resetPlayer error","decoderWorkerWasmError and pause","openZoom() failed, this.player is not init","_handleWebrtcLowFps","jb-pro-container","showRateBtn","394550WUCYoe","_doInitLoadingBackgroundForRatio","webrtc:","_resetDemuxType","_replaySuccessAndNext","indexOf","TAG_NAME","webcodecsAudioDecodeErrorOnLock is true","removeGhostWatermark() player is not init","isPlaying","debugError","websocketErrorOnLock","aliyunRtcError and pause player","webcodecsAudioDecodeErrorOnLock","mseWidthOrHeightChange error and pause error","toFixed","updateAiObjectDetectInterval() player is null","playVodMp4UseSrcVideoError and _resetPlayer error","mediaSourceFullOnLock","_doInitLoadingBackgroundForVideo","aiFaceDetectInterval","webcodecsDecodeConfigureError","playVodMp4UseSrcVideoError and reset player and play success","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play","clearContentToCanvas()","not recording","networkDelayTimeoutReplay","appendChild","isWebrtc","failedToAsynchronouslyPrepareWasm and _pause error","mediaSourceFull and reset player and play success","mediaSourceTsIsMaxDiffOnLock is true","setPtzPosition","this.player.play 2","clearContentToContainer","mediaSourceAudioInitTimeout and reset player and play","isWebrtcForZLM","getBoundingClientRect","url is not support","beforeDestroy","streamEnd and 1006 error and reset player and play error","mediaSourceAudioInitTimeout error and pause error","openDrawRectangle","_handleWebglContextLostError","video","\n                            this._url.url is ","ERROR","mediaSourceFull and autoWasm is false ,pause success","_play","webglAlignmentError and webglAlignmentErrorReplay is false, so pause","mediaSourceDecoderConfigurationErrorOnLock","closeDrawRectangle() failed, this.player is destroyed or paused","http://","setPlaybackStartTime() player is not playing","videoElementPlayingFailed","failedToAsynchronouslyPrepareWasm","_initLoadingBackgroundForIOS","getPTZCmd() player is null","isInView","assign","_handleWasmUseVideoRenderError","close","webcodecsAudioInitTimeout and reset player and play","isAliyunRtc","playFailedAndPausedShowMessage","updateFullscreenWatermark","updatePlaybackForwardMaxRateDecodeIFrame() player is null","play vod ended and pause error"," is invalid, protocol is ","mute","setKeepScreenOn()","mediaSourceAudioG711NotSupport but player is destroyed","removeWatermark() player is not init","_parsePlayVodOptions","setStartTime","playVodMp4UseSrcError but player is destroyed","faceDetectOpen() player is not init"];return(QL=function(){return t})()}!function(t,e){const s=qL,i=t();for(;;)try{if(299458===-parseInt(s(1266))/1+-parseInt(s(591))/2*(parseInt(s(1622))/3)+-parseInt(s(772))/4*(-parseInt(s(489))/5)+-parseInt(s(311))/6*(-parseInt(s(613))/7)+parseInt(s(1193))/8*(-parseInt(s(1591))/9)+parseInt(s(1063))/10*(-parseInt(s(1025))/11)+parseInt(s(326))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(QL);class YL extends h{constructor(){const t=qL;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this[t(857)]={},this[t(1272)]="JbPro",this[t(1558)]=null,Object[t(808)](e)[t(449)]((s=>{const i=t;if(void 0===e[s])throw new Error(i(637)+s+i(1079))})),this[t(986)]=e;const s=ki();let i=Object.assign({},s,e);i[t(676)]="",js(i.timeout)&&(Os(e.loadingTimeout)&&(i.loadingTimeout=i[t(471)]),Os(e[t(855)])&&(i[t(855)]=i.timeout)),i[t(581)]&&(i[t(361)]=Ti()),this[t(1425)]=new le(this);let r=e[t(728)];if("string"==typeof e[t(728)]&&(r=document[t(522)](e[t(728)])),!r)throw this.debugError("JbPro",t(1458),e.container),new Error(t(946));if(Ri(i[t(1072)])){const e=document[t(1176)](t(1310));return e[t(1347)]=!0,e[t(1579)]("controlsList","nodownload"),e.disablePictureInPicture=t(1365),e[t(700)][t(546)]=t(931),e.style[t(383)]=0,e[t(700)][t(1180)]=0,e[t(700)].height=t(1035),e[t(700)][t(463)]=t(1035),r[t(1293)](e),this[t(1125)]=e,this[t(1558)]=r,void(this._opt=i)}if(i[t(456)]&&Ri(-1!==i.decoder[t(1271)]("decoder-pro.js")||-1!==i[t(456)][t(1271)](t(1466))))throw this[t(1276)](t(758),"JbPro decoder "+i[t(456)]+t(1014)),new Error(t(1481)+i.decoder+" must be decoder-pro.js or decoder-pro-simd.js");if(r[t(1553)]===t(1174)||r[t(1553)]===t(1082))throw this[t(1276)]("JbPro","JbPro container type can not be "+r[t(1553)]+t(638)),new Error(t(1595)+r[t(1553)]+" type");if(i[t(535)]>=i.heartTimeout)throw this[t(1276)](t(758),"JbPro videoBuffer "+i[t(535)]+t(577)+i[t(855)]+"s"),new Error(t(1565)+i[t(535)]+"s must be less than heartTimeout "+i[t(855)]+"s");if(!r[t(660)])throw this.debugError(this[t(1272)],t(515),r),new Error(t(515),r);if(this[t(414)](r))throw this.debugError("JbPro",t(580),r),new Error(t(580),r);if(r[t(660)][t(305)](t(1264)),Li(r,R,Is()),delete i.container,js(i[t(535)])&&(i[t(535)]=1e3*Number(i[t(535)])),js(i.videoBufferDelay)&&(i[t(765)]=1e3*Number(i.videoBufferDelay)),js(i[t(574)])&&(i[t(574)]=1e3*Number(i[t(574)])),js(i.aiFaceDetectInterval)&&(i.aiFaceDetectInterval=1e3*Number(i[t(1286)])),js(i[t(918)])&&(i[t(918)]=1e3*Number(i[t(918)])),js(i[t(1657)])&&(Os(i.decoderErrorAutoWasm)&&(i.decoderErrorAutoWasm=i[t(1657)]),Os(i[t(527)])&&(i[t(527)]=i.autoWasm),Os(i[t(1596)])&&(i[t(1596)]=i[t(1657)])),js(i[t(1247)])&&Os(i[t(1561)])){const e=Mt[i.aiFaceDetectLevel];e&&(i[t(1561)]=e)}if(js(i.aiObjectDetectLevel)&&Os(i[t(1185)])){const e=Bt[i[t(1490)]];e&&(i[t(1185)]=e)}Di(i.isCrypto)&&(i[t(761)]=!0),Di(i[t(1145)])&&(i[t(645)]=!0),this[t(857)]=i,this[t(573)](t(758),"init start"),i.videoBuffer>1e4&&this[t(819)](this[t(1272)],t(1195)+i[t(535)]/1e3+t(897)+i.videoBuffer/1e3+"s , it is recommended to set it to less than 10s"),this[t(958)]=!1,this[t(716)]=!1,this.$container=r,this[t(1571)]={},this[t(1368)]={},this[t(1234)]=!0,this[t(771)]=0,this._heartTimeoutReplayTimes=0,this[t(1588)]=0,this[t(735)]=0,this[t(466)]=0,this.bound={_handlePlayerPlayFailedAndPaused:this[t(1097)].bind(this),_handlePlayerBeforeDestroy:this[t(603)][t(1073)](this),_handlePlayerResize:this[t(702)][t(1073)](this),_handlePlayerFullscreen:this._handlePlayerFullscreen[t(1073)](this),_handlePlayerStart:this._handlePlayerStart[t(1073)](this),_handleWebglAlignmentError:this._handleWebglAlignmentError[t(1073)](this),_handleWebglContextLostError:this[t(1309)][t(1073)](this),_handleMediaSourceH265NotSupport:this[t(757)][t(1073)](this),_handleMseWaitVideoCanplayTimeout:this[t(520)][t(1073)](this),_handleMediaSourceFull:this[t(1355)][t(1073)](this),_handleMediaSourceAppendBufferError:this._handleMediaSourceAppendBufferError[t(1073)](this),_handleMseSourceBufferError:this._handleMseSourceBufferError[t(1073)](this),_handleMediaSourceBufferedIsZeroError:this[t(934)][t(1073)](this),_handleMseAddSourceBufferError:this[t(1194)][t(1073)](this),_handleMediaSourceDecoderConfigurationError:this._handleMediaSourceDecoderConfigurationError[t(1073)](this),_handleMediaSourceTsIsMaxDiff:this._handleMediaSourceTsIsMaxDiff[t(1073)](this),_handleMseWidthOrHeightChange:this._handleMseWidthOrHeightChange[t(1073)](this),_handleMediaSourceAudioG711NotSupport:this[t(818)][t(1073)](this),_handleMediaSourceAudioInitTimeout:this[t(346)][t(1073)](this),_handleMediaSourceAudioNoDataTimeout:this[t(938)].bind(this),_handleMseWorkerAddSourceBufferError:this._handleMseWorkerAddSourceBufferError[t(1073)](this),_handlePlayVodMseDecodeVideoError:this[t(494)][t(1073)](this),_handleMediaSourceUseCanvasRenderPlayFailed:this[t(907)][t(1073)](this),_handleWebcodecsH265NotSupport:this[t(485)].bind(this),_handleWebcodecsUnsupportedConfigurationError:this[t(1612)][t(1073)](this),_handleWebcodecsDecodeConfigureError:this._handleWebcodecsDecodeConfigureError[t(1073)](this),_handleWebcodecsDecodeError:this[t(748)].bind(this),_handleWcsWidthOrHeightChange:this[t(334)][t(1073)](this),_handleWebcodecsAudioNoDataTimeout:this._handleWebcodecsAudioNoDataTimeout.bind(this),_handleWebcodecsAudioInitTimeout:this._handleWebcodecsAudioInitTimeout[t(1073)](this),_handleWebcodecsAudioDecodeError:this[t(1055)][t(1073)](this),_handleSimdDecodeError:this[t(1059)][t(1073)](this),_handleSimdDecodeDelayTimeout:this[t(908)][t(1073)](this),_handleWasmWidthOrHeightChange:this[t(816)][t(1073)](this),_handleWasmUseVideoRenderError:this[t(1326)][t(1073)](this),_handleNotSupportNewWasm:this._handleNotSupportNewWasm.bind(this),_handleFailedToAsynchronouslyPrepareWasm:this[t(1625)].bind(this),_handleVideoElementPlayingFailed:this[t(1375)].bind(this),_handleSimdH264DecodeVideoWidthIsTooLarge:this[t(594)][t(1073)](this),_handleNetworkDelayTimeout:this._handleNetworkDelayTimeout[t(1073)](this),_handleFlvDemuxBufferSizeTooLarge:this[t(836)][t(1073)](this),_handleFetchError:this._handleFetchError[t(1073)](this),_handleStreamEnd:this[t(1184)].bind(this),_handleWebsocketError:this[t(878)].bind(this),_handleHlsError:this[t(982)][t(1073)](this),_handleHls264UseOldDemuxer:this[t(1562)].bind(this),_handleDecoderWorkerInitError:this[t(561)][t(1073)](this),_handleDecoderWorkerUncaughtError:this[t(1419)][t(1073)](this),_handleDecoderWorkerWasmError:this[t(791)][t(1073)](this),_handleVideoElementPlayingFailedForWebrtc:this[t(407)][t(1073)](this),_handleVideoInfoError:this[t(502)].bind(this),_handleTsPacketSizeError:this._handleTsPacketSizeError[t(1073)](this),_handleDelayTimeout:this._handleDelayTimeout[t(1073)](this),_handleLoadingTimeout:this[t(715)].bind(this),_handleAliyunRtcError:this[t(707)][t(1073)](this),_handleWebrtcError:this[t(306)][t(1073)](this),_handleWebrtcStreamH265:this[t(525)][t(1073)](this),_handleWebrtcLowFps:this[t(1263)][t(1073)](this),_handlePlayVodEnded:this._handlePlayVodEnded[t(1073)](this),_handlePlayVodEndedAndReplay:this[t(453)][t(1073)](this),_handlePlayVodMp4Error:this[t(980)][t(1073)](this),_handlePlayVodMp4UseSrcError:this._handlePlayVodMp4UseSrcError.bind(this),_handlePlayVodMp4UseSrcVideoError:this[t(511)][t(1073)](this),_handlePlayVodCalcFpsError:this._handlePlayVodCalcFpsError[t(1073)](this),_handlePlaybackEnd:this[t(1560)][t(1073)](this),_handlePlaybackEndedAndReplay:this[t(389)][t(1073)](this)},this[t(1032)]=new Xi(this),this._opt[t(376)]?this[t(343)]=new bL(this):this.watermark=new yL(this),this[t(1136)]=new NL(this),this[t(559)]=new WL(this),this[t(1526)]=[],this[t(1157)]=[],this[t(1249)]=[],this[t(794)]=[],this[t(1661)]=!1,this[t(1175)]={},this.widthOrHeightChangeReplayDelayTimeout=null,this[t(1568)]=null,this[t(1605)]=null,this[t(1567)]=null,this[t(709)]=null,this[t(740)]=null,this.initDecoderWorkerTimeout=null,this[t(1065)]=null,this[t(464)]=null,this[t(692)]=!1,this._playFailedAndPausedLastFrameInfo=null,this._initOnLock(),this[t(1018)](),this._initPlayer(r,i,!0),this[t(821)](),this[t(553)](),this.debugLog("JbPro","init success and version is "+ds+":"+cs);let n=t(1420)+ds+":"+cs+t(1196);Ki()?n+=t(1597)+ps+t(1252):n+=t(680),console[t(1511)](n)}[KL(887)](){return new Promise(((t,e)=>{const s=qL;if(this[s(573)]("JbPro",s(984)),this[s(716)])return this.debugLog("JbPro",s(776)),e(s(942));this._destroyLock=!0,this[s(958)]=!0,this[s(415)](),this[s(350)](),this[s(396)](),this[s(1412)](),this[s(1125)]&&(this.debugLog(s(758),s(792)),this[s(1125)][s(469)](),this[s(1125)][s(1575)]=0,this[s(1125)][s(685)]&&(this[s(1125)].srcObject=null,this[s(1125)][s(691)](s(685))),this[s(1125)][s(348)]&&(this.$videoElement[s(348)]="",this[s(1125)][s(691)](s(348))),this[s(1558)]&&this[s(1558)][s(653)](this[s(1125)]),this.$videoElement=null),this._removeLoadingBackgroundForIOS();const i=()=>{const i=s;this[i(573)](i(758),i(1383)),this[i(849)].destroy()[i(608)]((()=>{const e=i;this[e(573)]("JbPro",e(558)),this[e(849)]=null,this[e(320)](),this[e(716)]=!1,t()}))[i(401)]((t=>{const s=i;this[s(1276)](s(758),s(712),t),this[s(716)]=!1,e(t)}))};this[s(849)]?this[s(544)]()?(this[s(573)](this[s(1272)],s(314)),i()):(this.debugLog(this[s(1272)],"destroy() player has not loaded and waiting load"),this.player.on(H[s(375)],(()=>{this[s(573)](this.TAG_NAME,"destroy() player has not loaded and load success and calling _nextDestroy()"),i()}))):(this[s(573)](s(758),s(412)),this[s(320)](),this._destroyLock=!1,t())}))}_removeTimeout(){const t=KL;this[t(458)]&&(clearTimeout(this[t(458)]),this[t(458)]=null),this[t(1568)]&&(clearTimeout(this[t(1568)]),this[t(1568)]=null),this.streamEndReplayDelayTimeout&&(clearTimeout(this[t(1605)]),this[t(1605)]=null),this[t(709)]&&(clearTimeout(this[t(709)]),this.playbackPauseTimeout=null),this.playbackResumeTimeout&&(clearTimeout(this.playbackResumeTimeout),this[t(740)]=null)}[KL(320)](){const t=KL;this[t(1032)]&&(this[t(1032)][t(887)](),this[t(1032)]=null),this[t(343)]&&(this[t(343)].destroy(),this[t(343)]=null),this[t(559)]&&(this[t(559)].destroy(),this[t(559)]=null),this[t(1136)]&&(this[t(1136)][t(887)](),this[t(1136)]=null),this[t(1558)]&&(this[t(1558)][t(660)][t(652)](t(1264)),this[t(1558)][t(660)][t(652)](t(534)),xi(this[t(1558)],R),this[t(1558)]=null),this[t(1571)]=null,this[t(1368)]=null,this[t(1661)]=!1,this[t(794)]=[],this._playerOnLock=!1,this[t(1175)]={},this[t(1234)]=!0,this[t(1633)]=null,this._resetReplayTimes(),this[t(573)](t(758),t(526)),this[t(857)]={},this.originalOptions={},this.bound=null,this.debug=null}_bindEvents(){const t=KL;(this[t(857)].playFailedAndPausedShowMessage||this[t(857)][t(1353)])&&this.on(H[t(790)],this[t(714)]._handlePlayerPlayFailedAndPaused)}_resetReplayTimes(){const t=KL;this[t(771)]=0,this._heartTimeoutReplayTimes=0,this._streamErrorReplayTimes=0,this[t(735)]=0,this[t(466)]=0,this._websocket1006ErrorRetryLog=[],this[t(1157)]=[],this[t(1249)]=[],this[t(692)]=!1}[KL(1644)](){const t=KL;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=ki();let i=Object[t(1325)]({},s,this[t(986)],{playType:this[t(857)][t(950)]});return ti(e)&&(i[t(950)]===p[t(863)]?i[t(1390)]=Object[t(1325)]({},s.playbackConfig,e):i[t(950)]===p[t(1016)]&&(i.playVodConfig=Object[t(1325)]({},s.playVodConfig,e)),i=this._initPlayerOptionsForPlayVodOrPlayback(i)),i}[KL(1626)](t,e,s){const i=KL;s&&(e=this[i(445)](e)),this[i(849)]=new pL(t,e),this._bindPlayerEvents()}[KL(445)](t){const e=KL;if(t[e(950)]===p[e(863)]){t[e(1179)]=!0,t[e(535)]=0;const s=this[e(584)](t[e(1390)]);t.playbackForwardMaxRateDecodeIFrame=s[e(970)]||t[e(970)],t[e(1357)]=s[e(1357)]||t[e(1357)],t.playbackConfig=s,t.useWCS=s[e(1232)],t[e(379)]=s[e(379)],t.useSIMD=s.useSIMD,Ns(s[e(316)])&&(t[e(316)]=s[e(316)])}else if(t[e(950)]===p[e(1016)]){t[e(1179)]=!0,t[e(535)]=0,t[e(901)]=!0;const s=this[e(1339)](t[e(1446)]);t[e(1446)]=s,t[e(1232)]=s[e(1232)],t.useMSE=s[e(379)],t.useSIMD=s[e(646)],s[e(379)]&&(t[e(1151)]=!0),Ns(s.isFFmpegSIMD)&&(t[e(316)]=s.isFFmpegSIMD)}return t}[KL(799)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((s,i)=>{const r=t;try{this[r(573)](this.TAG_NAME,r(731),JSON.stringify(e))}catch(t){this[r(573)](this[r(1272)],r(731),e)}const n=()=>{const t=r;this[t(857)][t(676)]="",this[t(857)][t(1621)]={},this[t(857)]=Object.assign(this[t(857)],e),this[t(1626)](this[t(1558)],this[t(857)],!1)},o=()=>{const t=r;this[t(849)][t(887)]().then((()=>{const e=t;this[e(849)]=null,n(),this.debugLog(this.TAG_NAME,e(1359)),s()}))[t(401)]((e=>{const s=t;this[s(1276)](this[s(1272)],s(1651),e),i(e)}))};this[r(849)]?this._hasLoaded()?(this[r(573)](this[r(1272)],r(1624)),o()):(this[r(573)](this.TAG_NAME,r(671)),this[r(849)].on(H[r(375)],(()=>{const t=r;this[t(573)](this[t(1272)],"_resetPlayer() player has not loaded and load success,next destroy and init player"),o()}))):(n(),this[r(573)](this.TAG_NAME,"_resetPlayer() end"),s())}))}[KL(439)](){const t=KL;var e=this;Object.keys(K).forEach((t=>{const s=qL;this[s(849)].on(K[t],(function(){const i=s;for(var r=arguments[i(1522)],n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e[i(325)](t,...n)}))})),this[t(849)][t(677)](H[t(1305)],this[t(714)]._handlePlayerBeforeDestroy),this[t(849)].on(H[t(504)],this[t(714)][t(702)]),this[t(849)].on(H[t(1346)],this[t(714)]._handlePlayerFullscreen),this.player[t(677)](H.startInner,this[t(714)][t(1139)])}[KL(821)](){const t=KL;if(qi()&&(this[t(857)][t(1137)]={text:decodeURIComponent(T+t(961)),color:t(323)}),ti(this[t(857)][t(1137)])){const e=Ws(this.$container,this[t(857)].fullscreenWatermarkConfig);if(!e[t(635)])return void this[t(819)](t(758),t(1411));this.watermark[t(375)](e)}}[KL(553)](){const t=KL;this[t(559)].on(H.online,(()=>{const e=t;if(this[e(325)](H[e(1376)],H[e(906)]),this[e(1660)]())this[e(573)](this[e(1272)],"network online and JbPro is destroyed");else if(this[e(573)](this[e(1272)],e(1115)),this[e(1661)]&&this[e(1175)]&&this[e(1175)][e(676)]){const t=this[e(1175)][e(676)],s=this._isNetworkOfflinePausedAndNextPlayConfig[e(1621)];this._streamErrorReplayTimes++;const i=this._isNetworkOfflinePausedAndNextPlayConfig[e(1637)]||e(1649);this._isNetworkOfflinePaused=!1,this._isNetworkOfflinePausedAndNextPlayConfig={},this.debugLog(this.TAG_NAME,i+e(830)+this[e(1588)]+e(1603)),this[e(1026)](t,s)[e(608)]((()=>{const t=e;this[t(573)](this[t(1272)],i+t(440))}))[e(401)]((t=>{const s=e;this[s(325)](H[s(790)],Q[s(443)],{},t[s(617)]()),this[s(1276)](this[s(1272)],i+s(1352),t[s(617)](),t)}))}})),this[t(559)].on(H[t(1593)],(()=>{const e=t;this[e(325)](H[e(1376)],H[e(1593)]),this.debugLog(this[e(1272)],e(743))}))}[KL(414)](t){if(!t)return!1;return!!Pi(t,R)}_initOnLock(){const t=KL;this[t(960)]=!1,this[t(1527)]=!1,this[t(1207)]=!1,this[t(1284)]=!1,this[t(388)]=!1,this.mseSourceBufferErrorOnLock=!1,this[t(427)]=!1,this[t(1190)]=!1,this.mediaSourceDecoderConfigurationErrorOnLock=!1,this[t(647)]=!1,this[t(315)]=!1,this[t(1017)]=!1,this[t(734)]=!1,this[t(1029)]=!1,this.mseWorkerAddSourceBufferErrorOnLock=!1,this[t(1546)]=!1,this[t(1421)]=!1,this[t(1003)]=!1,this[t(699)]=!1,this[t(1164)]=!1,this[t(585)]=!1,this[t(620)]=!1,this.webcodecsAudioInitTimeoutOnLock=!1,this[t(1279)]=!1,this[t(1248)]=!1,this[t(1049)]=!1,this[t(377)]=!1,this[t(1436)]=!1,this.notSupportNewWasmOnLock=!1,this[t(741)]=!1,this[t(421)]=!1,this[t(1168)]=!1,this[t(1530)]=!1,this.flvDemuxBufferSizeTooLargeOnLock=!1,this.fetchErrorOnLock=!1,this[t(330)]=!1,this.websocketErrorOnLock=!1,this[t(783)]=!1,this[t(567)]=!1,this[t(590)]=!1,this.decoderWorkerInitErrorOnLock=!1,this[t(987)]=!1,this[t(669)]=!1,this.videoElementPlayingFailedForWebrtcOnLock=!1,this[t(876)]=!1,this[t(1552)]=!1,this[t(911)]=!1,this[t(1088)]=!1,this.playVodMseDecodeVideoErrorOnLock=!1,this.tsPacketSizeErrorOnLock=!1,this.playVodMp4ErrorOnLock=!1,this[t(1472)]=!1,this[t(1006)]=!1,this.playVodMp4UseSrcErrorOnLock=!1,this.playVodMp4UseSrcVideoErrorOnLock=!1,this.playVodCalcFpsErrorOnLock=!1}[KL(1660)](){return this[KL(958)]}getOption(){const t=KL;return this[t(849)]?this[t(849)].getOption():{}}[KL(1404)](t){const e=KL;this[e(573)](e(758),e(451)+t),this[e(857)][e(1425)]=!!t,this.player?this.player[e(563)]({debug:!!t},!0):this.debugWarn(e(758),e(1666))}[KL(659)](){const t=KL;let e=!1;return this[t(849)]&&(e=this.player[t(857)][t(1425)]),e}[KL(1335)](){const t=KL;this[t(573)](t(758),"mute()"),this[t(849)]&&this[t(849)][t(1335)](!0)}[KL(622)](){const t=KL;this.debugLog(t(758),t(550),this[t(1240)]()),this[t(849)]&&this[t(849)][t(1364)]()&&this[t(849)][t(1335)](!1)}[KL(1169)](t){const e=KL;this.debugLog(e(758),e(814)+t),this[e(849)]&&(this[e(849)][e(1213)]=t)}getVolume(){const t=KL;let e=null;return this.player&&(e=this[t(849)][t(1213)],e=parseFloat(e)[t(1281)](2)),e}[KL(1430)](){const t=KL;this[t(573)](t(758),t(1030)),this.cancelMute()}setTimeout(t){const e=KL;this[e(573)](e(758),e(804)+t),t=Number(t),isNaN(t)?this.debugWarn(e(758),e(1224)+t+e(1233)):(this[e(857)][e(471)]=t,this._opt[e(695)]=t,this._opt[e(855)]=t,this[e(849)]&&this[e(849)][e(563)]({timeout:t,loadingTimeout:t,heartTimeout:t}))}[KL(482)](t){const e=KL;this.debugLog(e(758),e(1093)+t),this[e(849)]?this[e(849)].setScaleMode(t):this[e(819)]("JbPro",e(1057))}[KL(469)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((s,i)=>{const r=t;this[r(573)](r(758),"pause() "+e),this[r(1660)]()&&i(r(488)),(this[r(857)].pauseAndNextPlayUseLastFrameShow||this._opt.replayUseLastFrameShow)&&(this[r(1571)]=this[r(380)]()),this[r(1234)]=this[r(1240)](),this[r(1572)](e)[r(608)]((t=>{s(t)}))[r(401)]((t=>{i(t)}))}))}_pause(){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((s,i)=>{const r=t;if(this.debugLog(r(758),r(729)+e),this[r(1660)]())return i(r(488));this._resetReplayTimes(),this.player?this[r(544)]()?(this[r(573)](this[r(1272)],r(884)),this.player[r(469)](e).then((t=>{s(t)}))[r(401)]((t=>{i(t)}))):(this[r(573)](this.TAG_NAME,r(825)),this[r(849)].on(H.load,(()=>{const t=r;this[t(573)](this[t(1272)],"_pause() player has not loaded and load success,next pause"),this[t(849)].pause(e)[t(608)]((e=>{this[t(573)](this.TAG_NAME,"_pause() end"),s(e)}))[t(401)]((e=>{const s=t;this[s(1276)](this[s(1272)],s(1380),e),i(e)}))}))):i("player is null")}))}[KL(1327)](){return new Promise(((t,e)=>{const s=qL;if(this[s(1660)]())return e(s(488));this.debugLog(s(758),"close() and inner destroy()"),this[s(887)]().then((()=>{t()}))[s(401)]((t=>{e(t)}))}))}clearView(){const t=KL;this[t(573)](t(758),t(865)),this[t(849)]&&this[t(849)][t(1310)]?this[t(1075)]()===A[t(484)]?this.player.video[t(528)]():this[t(819)](t(758),t(528),t(335)):this.debugWarn(t(758),t(528),t(1225))}[KL(1026)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(1522)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=t;if(this[n(1660)]())return r(n(488));if(Qi()){const t=decodeURIComponent(ne);return this[n(1276)](this[n(1272)],t),void r(t)}try{this.debugLog(n(758),"play() "+e,JSON[n(1620)](s))}catch(t){this.debugLog(n(758),n(492)+e,s)}if(!e&&!this._opt.url)return this[n(325)](H[n(523)],Q[n(1239)]),void r("url is null and this._opt.url is null");if(e&&(e=(""+e).trim(),-1===e.indexOf(n(851))&&-1===e[n(1271)](n(802))&&-1===e[n(1271)](n(1268))&&-1===e[n(1271)]("ws:")&&-1===e[n(1271)](n(977))&&-1===e[n(1271)]("wt:")&&-1===e[n(1271)]("artc:")))return r(n(338)+e+n(1001));if(Ri(this[n(857)][n(1072)]))return this[n(1125)][n(717)]=n(717),this.$videoElement.muted=!1,this[n(1125)][n(348)]=e,this[n(1125)].play(),void i(this[n(1125)]);if(this._opt[n(761)]){let t=s[n(605)]||this._opt[n(1621)][n(605)],o=s[n(920)]||this[n(857)][n(1621)][n(920)];if(this[n(857)][n(1363)]&&(!t||!o)){const e=this[n(857)].m7sCryptoKey[n(1536)](".");t=wi(e[0]),o=wi(e[1])}if(!t||!o){const t=e||this[n(857)][n(676)];return void this[n(721)](t)[n(608)]((t=>{const o=n;let{cryptoIV:a,cryptoKey:h}=t;this[o(857)][o(1621)][o(605)]=h,this._opt[o(1621)].cryptoIV=a,s.cryptoIV=a,s.cryptoKey=h,this._playBefore(e,s).then((()=>{i()}))[o(401)]((t=>{r(t)}))}))[n(401)]((t=>{r(t)}))}this[n(857)][n(1621)][n(605)]=t,this[n(857)][n(1621)][n(920)]=o,s.cryptoIV=o,s.cryptoKey=t}else if(this[n(857)][n(774)]){let t=s[n(605)]||this[n(857)][n(1621)].cryptoKey,e=s[n(920)]||this[n(857)][n(1621)].cryptoIV;if(this[n(857)].xorCryptoKey&&(!t||!e)){const s=this._opt[n(916)][n(1536)](".");t=wi(s[0]),e=wi(s[1])}t&&e&&(this[n(857)][n(1621)].cryptoKey=t,this._opt[n(1621)].cryptoIV=e,s.cryptoIV=e,s[n(605)]=t)}else if(this[n(857)].isSm4Crypto){let t=s[n(605)]||this._opt.playOptions[n(605)],e=s[n(920)]||this[n(857)][n(1621)].cryptoIV;if(this._opt[n(1012)]&&(!t||!e)){const s=this[n(857)].sm4CryptoKey[n(1536)](".");2===s[n(1522)]&&(t=ic(s[0]),e=ic(s[1]))}t&&e&&(this[n(857)].playOptions[n(605)]=t,this[n(857)][n(1621)][n(920)]=e,s.cryptoIV=e,s.cryptoKey=t)}this[n(359)](e,s)[n(608)]((()=>{i()}))[n(401)]((t=>{r(t)}))}))}_playBefore(t){const e=KL;let s=arguments[e(1522)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e;if(this[n(849)])if(t)if(this[n(857)][n(676)]){const e=Di(s[n(1506)]);if(t===this[n(857)].url&&Ri(e))if(this[n(849)][n(1584)])this[n(573)]("JbPro",n(359),n(615)),i();else{this.debugLog(n(758),n(359),"this._opt.url === url and pause ->  play and destroy play");let t=this[n(1644)](s);if(this[n(857)][n(1096)]||this[n(857)][n(538)])this[n(1571)]&&this[n(1571)].loadingBackground&&(t=Object.assign(t,this[n(1571)]));else if(s[n(1388)]){const e=this[n(1633)]||this[n(380)]();t=Object[n(1325)](t,e)}Ri(this[n(1234)])&&(t[n(658)]=!0,this[n(1234)]=!0),js(s[n(397)])&&(t[n(397)]=s[n(397)]);const e=this[n(857)][n(676)],o=Object[n(1325)]({},this._opt[n(1621)],s);this[n(799)](t)[n(608)]((()=>{const t=n;this[t(1314)](e,o)[t(608)]((()=>{i()}))[t(401)]((e=>{const s=t;this.debugError(s(758),s(599),e),this[s(325)](H[s(313)],this.getCrashLog(s(1437),e)),this[s(325)](H.playFailedAndPaused,Q[s(1470)],{},e),r(e)}))}))[n(401)]((t=>{const e=n;this[e(1276)](e(758),"_resetPlayer error",t),r(t)}))}else{this[n(573)](n(758),n(359),n(1311)+this._opt[n(676)]+n(1517)+t+n(1191)+e+n(371));let o=this._getOriginalOpt(s);if(s[n(1388)]){const t=this[n(1633)]||this[n(380)]();o=Object.assign(o,t),this[n(1633)]=null}js(s[n(397)])&&(o.loadingIcon=s.loadingIcon),this._resetPlayer(o).then((()=>{const e=n;this[e(1314)](t,s).then((()=>{i()}))[e(401)]((t=>{const s=e;this[s(1276)](s(758),"_playBefore _play error",t),this.emit(H[s(313)],this.getCrashLog(s(1299),t)),this[s(325)](H[s(790)],Q.playFailedError,{},t),r(t)}))}))[n(401)]((t=>{const e=n;this.debugError(e(758),e(514),t)}))}}else this[n(1314)](t,s)[n(608)]((()=>{i()})).catch((t=>{const e=n;this[e(1276)](e(758),e(1452),t),this.emit(H.crashLog,this[e(328)]("this.player.play 3",t)),this.emit(H[e(790)],Q.playFailedError,{},t),r(t)}));else{let t=this[n(1644)](s);if(this[n(857)][n(1096)]||this[n(857)].replayUseLastFrameShow)this[n(1571)]&&this._tempPlayBgObj[n(826)]&&(t=Object[n(1325)](t,this._tempPlayBgObj));else if(s.useLastFrameShow){const e=this._playFailedAndPausedLastFrameInfo||this._getVideoLastIframeInfo();t=Object.assign(t,e),this[n(1633)]=null}Ri(this[n(1234)])&&(t[n(658)]=!0,this[n(1234)]=!0),js(s[n(397)])&&(t[n(397)]=s[n(397)]);const e=this[n(857)].url;this[n(799)](t).then((()=>{const t=n;this[t(1314)](e,this._opt[t(1621)])[t(608)]((()=>{i()}))[t(401)]((e=>{const s=t;this.debugError("JbPro",s(1452),e),this[s(325)](H.crashLog,this.getCrashLog(s(1468),e)),this[s(325)](H.playFailedAndPaused,Q.playFailedError,{},e),r(e)}))})).catch((t=>{const e=n;this.debugError(e(758),e(514),t)}))}else t?this._play(t,s)[n(608)]((()=>{i()})).catch((t=>{const e=n;this[e(1276)](e(758),"_playBefore _play error",t),this[e(325)](H.crashLog,this[e(328)](e(1396),t)),this[e(325)](H[e(790)],Q[e(1470)],{},t),r(t)})):this[n(1314)](this[n(857)][n(676)],this[n(857)][n(1621)])[n(608)]((()=>{i()})).catch((t=>{const e=n;this[e(1276)](e(758),e(1452),t),this[e(325)](H.crashLog,this.getCrashLog(e(769),t)),this[e(325)](H[e(790)],Q[e(1470)],{},t),r(t)}))}))}[KL(721)](t){return new Promise(((e,s)=>{const i=qL,r=function(t){const e=$e,s=(t||document[e(389)][e(270)]()).split("//"),i=s[1][e(464)]("/");let r=s[1][e(534)](i);return-1!=r[e(464)]("?")&&(r=r.split("?")[0]),r}(t);let n=this[i(857)][i(479)],o="";const a=Ei(t);if(n){if(o=n,this[i(857)][i(761)]&&-1===o[i(1271)](D+i(668))){const t=Ei(n);o=t[i(1173)]+D+"?stream="+r}}else n=a[i(1173)]+D,o=n+"?stream="+r;var h;this[i(849)][i(573)](i(758),i(1638)+o+i(1483)+this[i(857)].cryptoKeyUrl),(h=o,new Promise(((t,e)=>{const s=Kp;nd[s(176)](h).then((e=>{t(e)}))[s(179)]((t=>{e(t)}))})))[i(608)]((t=>{const r=i;if(t){const i=t[r(1536)]("."),n=wi(i[0]),o=wi(i[1]);o&&n?e({cryptoIV:o,cryptoKey:n}):s(r(1250))}else s("cryptoKeyUrl: getM7SCryptoStreamKey "+o+" res is null")}))[i(401)]((t=>{s(t)}))}))}[KL(1370)](t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=qL;if(this.isDestroyed())return i(r(488));try{this[r(573)](r(758),r(551)+t+r(1056),JSON[r(1620)](e))}catch(s){this[r(573)](r(758),r(551)+t+r(1056),e)}if(this._opt.playType===p[r(863)]&&!this._opt.url&&Zs(e))this[r(1026)](t,e)[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)}));else{const n=this[r(584)](e);let o=n[r(970)]||this._opt[r(970)],a=n[r(1357)]||this[r(857)][r(1357)];const h={videoBuffer:0,playbackConfig:n,playType:p.playbackTF,openWebglAlignment:!0,useMSE:n.useMSE,useWCS:n[r(1232)],useSIMD:n[r(646)],playbackForwardMaxRateDecodeIFrame:o,calcPlaybackForwardMaxRateDecodeIFrame:a};Ns(n.isFFmpegSIMD)&&(h[r(316)]=n.isFFmpegSIMD),this._resetPlayer(h)[r(608)]((()=>{const n=r;this.play(t,e)[n(608)]((()=>{s()}))[n(401)]((t=>{i(t)}))}))[r(401)]((t=>{i(t)}))}}))}[KL(584)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=_i(),i=Object[t(1325)]({},s[t(1390)],this[t(857)].playbackConfig,e);return Ri(i[t(773)])&&i[t(786)]&&(i[t(786)]=!1,this[t(819)](t(758),t(803))),0===i[t(310)][t(1522)]&&i[t(1265)]&&(i[t(1265)]=!1,this[t(819)](t(758),t(1422))),Di(i[t(773)])&&!i.fps&&Ri(i[t(809)])&&(i[t(809)]=!0,this[t(819)](this[t(1272)],t(1598))),i.controlType,S.simple,i}[KL(1229)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]&&arguments[0];return this.debugLog(t(758),t(817)+e),this[t(1660)]()?Promise[t(1069)](t(488)):this.player?Ri(this[t(849)][t(662)]())?Promise[t(1069)](t(555)+this[t(849)][t(995)]()+", not support this method"):new Promise(((s,i)=>{const r=t;Di(e)?this._pause()[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)})):(this[r(849)].playbackPause=!0,this[r(849)][r(975)]=!1,this[r(849)].zooming=!1,this[r(709)]=setTimeout((()=>{this.playbackPauseTimeout=null,s()}),100))})):Promise.reject(t(1225))}[KL(1349)](){const t=KL;return this[t(573)]("JbPro",t(1509)),this[t(1660)]()?Promise[t(1069)](t(488)):this[t(849)]?Ri(this.player.isPlayback())?Promise.reject(t(555)+this[t(849)].getPlayType()+", not support this method"):new Promise(((e,s)=>{const i=t;this[i(849)][i(1229)]=!1,this[i(740)]=setTimeout((()=>{this.playbackResumeTimeout=null,e()}),100)})):Promise.reject(t(1225))}[KL(623)](t){const e=KL;return this[e(573)](e(758),e(480)+t),this[e(1660)]()?Promise[e(1069)](e(488)):this[e(849)]?Ri(this[e(849)].isPlayback())?Promise.reject(e(555)+this[e(849)][e(995)]()+", not support this method"):Ls(Number(t))?new Promise(((s,i)=>{const r=e;this.player[r(1516)](t).then((()=>{s()}))[r(401)]((t=>{i(t)}))})):Promise[e(1069)](e(1414)+t+e(536)):Promise.reject(e(1225))}[KL(1516)](t){return new Promise(((e,s)=>{const i=qL;this[i(623)](t)[i(608)]((()=>{e()})).catch((t=>{s(t)}))}))}[KL(569)](){return new Promise(((t,e)=>{const s=qL;this[s(623)](1).then((()=>{t()}))[s(401)]((t=>{e(t)}))}))}[KL(687)](){return new Promise(((t,e)=>{const s=qL;this[s(569)]().then((()=>{t()}))[s(401)]((t=>{e(t)}))}))}[KL(467)](t){const e=KL;this[e(1660)]()?this[e(573)](this[e(1272)],"JbPro is destroyed"):this[e(849)]?(this[e(573)]("JbPro","updatePlaybackForwardMaxRateDecodeIFrame() "+t),t=Number(t),t=rs(t=parseInt(t,10),1,8),this._opt[e(970)]=t,this.player[e(563)]({playbackForwardMaxRateDecodeIFrame:t},!0)):this[e(573)](this[e(1272)],e(1332))}[KL(1210)](t){const e=KL;if(this[e(1660)]())return void this[e(573)](this[e(1272)],"JbPro is destroyed");if(!this[e(849)])return void this[e(573)](e(758),e(609));if(Ri(this[e(849)][e(662)]()))return void this[e(819)]("JbPro",e(1613));this.debugLog(e(758),"setPlaybackStartTime() "+t);const s=$s(t);s<10&&0!==t&&this[e(849)].playback[e(787)]()?this[e(819)](e(758),e(973)+t+e(939)):this[e(849)].playback[e(633)]()&&t>this[e(849)][e(1370)][e(1400)]?this.debugWarn(e(758),"setPlaybackStartTime() control type is simple and timestamp: "+t+" is more than "+this[e(849)].playback[e(1400)]):(this.player[e(1370)][e(787)]()&&10===s&&(t*=1e3),this.player.playback[e(1340)](t),this[e(849)].playing?this[e(340)]():this.debugLog(this.TAG_NAME,e(1319)))}[KL(784)](t){const e=KL;this.debugLog(e(758),e(1515)+t),this[e(1660)]()?this[e(573)](this[e(1272)],e(488)):this[e(849)]?this[e(849)].isPlayback()?this[e(849)][e(1370)].isControlTypeNormal()?this[e(849)][e(1370)][e(597)](t):this[e(819)]("JbPro","control type is not normal , not support!"):this[e(819)](e(758),"playType is not playback"):this[e(819)](e(758),"player is null")}[KL(404)](){const t=KL;this[t(573)](t(758),t(462)),this.isDestroyed()?this[t(573)](this[t(1272)],t(488)):this[t(849)]?this[t(849)][t(662)]()?this.player.playback[t(787)]()?this[t(849)].playback[t(308)]():this[t(819)](t(758),"control type is not normal , not support!"):this[t(819)]("JbPro","playType is not playback"):this[t(819)]("JbPro",t(1225))}[KL(340)](){const t=KL;this[t(573)](t(758),t(1350)),this[t(1660)]()?this[t(573)](this[t(1272)],t(488)):this[t(849)]?this.player[t(662)]()?(this[t(475)](),this[t(849)][t(1310)]&&this.player[t(1310)][t(1254)](),this.player[t(1629)]&&this[t(849)][t(1629)].clear(),this[t(849)].resetStartBpsTime()):this[t(819)](t(758),t(845)):this.debugWarn(t(758),t(1225))}[KL(498)](){const t=KL;return this[t(849)]?this.player[t(662)]()?this.player.getPlaybackRate():(this[t(819)](t(758),t(845)),1):(this[t(819)](t(758),"player is null"),1)}[KL(568)](t){const e=KL;this[e(573)](e(758),e(941)+t),this[e(1660)]()?this[e(573)](this[e(1272)],e(488)):this.player?this.player[e(662)]()?this[e(849)][e(1370)][e(1211)](t):this[e(819)]("JbPro","playType is not playback"):this[e(819)](e(758),e(1225))}[KL(420)](){const t=KL;let e=!1;return this._opt[t(950)]===p.playbackTF&&this.player&&(e=this[t(849)][t(1229)]),e}[KL(900)](){return this.isPlaybackPause()}_handlePlaybackEnd(){const t=KL;this.isDestroyed()?this[t(1425)]&&this.debugLog("JbPro","playbackEnd but player is destroyed"):this[t(1552)]?this[t(573)](t(758),t(1445)):(this[t(1552)]=!0,this[t(1572)]()[t(608)]((()=>{const e=t;this[e(325)](H.playbackEnd),this.debugLog(e(758),e(800))}))[t(401)]((e=>{const s=t;this.emit(H[s(877)]),this[s(1276)]("JbPro",s(373),e)}))[t(1121)]((()=>{this[t(1552)]=!1})))}[KL(389)](){const t=KL;if(this[t(1660)]())return void this.debugLog(t(758),t(1158));const e=this[t(857)].url,s=this[t(857)][t(1621)];this[t(573)]("JbPro","_handlePlaybackEndedAndReplay and reset player"),this[t(799)]()[t(608)]((()=>{const i=t;this.play(e,s)[i(608)]((()=>{const t=i;this[t(857)][t(1446)][t(1231)]=null,this.debug[t(1511)](this.TAG_NAME,t(1156)),this._replaySuccessAndNext()}))[i(401)]((t=>{const e=i;this[e(325)](H[e(790)],H[e(483)],{},t[e(617)]()),this.debug[e(523)](this[e(1272)],e(1577),t)}))}))[t(401)]((e=>{const s=t;this.emit(H[s(790)],H.playbackEndedAndReplay,{},""),this[s(1276)](this[s(1272)],s(447),e)}))}setStreamQuality(t){const e=KL;if(this[e(1660)]())return;if(this.debugLog("JbPro","setStreamQuality() "+t),!this[e(849)])return void this[e(819)]("JbPro",e(1225));if(!this.player[e(857)][e(332)][e(1099)])return void this[e(819)](e(758),e(1366));(this[e(849)][e(857)][e(813)]||[]).includes(t)?(this[e(857)][e(367)]=t,this.player.streamQuality=t):this[e(819)](e(758),e(341)+t+e(450))}[KL(1314)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(1522)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=t;if(!this[n(849)])return r(n(1225));let o=!1;this[n(857)][n(676)]&&this._opt[n(676)]!==e&&(o=!0),this[n(857)][n(676)]=e,this._opt[n(1621)]=s;const a=e[n(1536)]("?")[0],h=a[n(570)](n(1318))||a[n(570)](n(1181)),l=a[n(570)]("webrtc://"),u=a.startsWith(n(1200)),p=a[n(570)]("wt://"),f=a[n(570)](n(1533))||a[n(570)](n(1e3)),g=h||f,y=h&&a[n(1074)](n(578)),A=g&&a[n(1074)](n(1377)),v=g&&(a[n(1074)](n(495))||a[n(1074)](n(759))),b=g&&a[n(1074)](n(405)),S=g&&(a[n(1074)](n(867))||a[n(1074)](n(1627))),w=g&&a[n(1074)](n(1045)),E=g&&a[n(1074)](".ps");let T=this[n(857)][n(1302)]||!1,I=this._opt[n(1040)]||!1,k=this[n(857)][n(374)]||!1;l&&(-1!==e[n(1271)]("/index/api/webrtc")?(T=!0,I=!1,k=!1):-1!==e[n(1271)](n(1616))&&(I=!0,T=!1,k=!1));let _=null,C=null;if(A&&Ri(this[n(857)].isFlv)&&this[n(1269)](n(1658)),v&&Ri(this[n(857)][n(971)])&&this[n(1269)]("isFmp4"),b&&Ri(this._opt.isMpeg4)&&this[n(1269)]("isMpeg4"),S&&Ri(this._opt[n(604)])&&this._resetDemuxType(n(604)),w&&Ri(this[n(857)].isTs)&&this._resetDemuxType(n(1583)),E&&Ri(this[n(857)][n(921)])&&this._resetDemuxType(n(921)),y&&Ri(this[n(857)][n(1142)])&&this._resetDemuxType(n(1142)),this[n(849)][n(1132)]()&&Ri(this._opt[n(1142)]||this[n(857)][n(971)]))return this._opt[n(1330)]&&this[n(1447)]("url is not support"),void r("play url "+e+" is invalid, play vod must be hls or mp4");if(h?_=this._opt[n(1142)]?c[n(531)]:c[n(391)]:p?_=c.webTransport:l?_=c[n(1392)]:u?_=c[n(697)]:f&&(_=c.websocket),this._opt[n(604)]?C=m[n(1348)]:this[n(857)][n(971)]?C=m[n(301)]:this[n(857)][n(473)]?C=m[n(572)]:this[n(857)][n(1658)]?C=m[n(1559)]:this[n(857)].isTs?C=m.ts:this[n(857)].isPs?C=m.ps:this._opt.isHls?C=m[n(531)]:l?C=m[n(1392)]:u?C=m.aliyunRtc:p?C=m.webTransport:f&&(C=m[n(1084)]),this[n(857)].isTenda&&(C=n(618)),!_||!C)return this._opt[n(1330)]&&this.showErrorMessageTips(n(1304)),r(n(844)+e+n(1334)+d[_]+n(336)+C);this[n(573)](n(758),n(844)+e+n(1507)+d[_]+n(336)+C);const D=()=>{const t=n;this[t(849)].on(Q.webglAlignmentError,this[t(714)][t(1199)]),this[t(849)].on(Q[t(648)],this[t(714)][t(1309)]),this[t(849)].on(Q[t(965)],this[t(714)][t(757)]),this[t(849)].on(Q[t(411)],this[t(714)][t(520)]),this[t(849)].on(Q.mediaSourceFull,this[t(714)]._handleMediaSourceFull),this[t(849)].on(Q[t(1202)],this[t(714)][t(869)]),this[t(849)].on(Q[t(1465)],this.bound._handleMseSourceBufferError),this[t(849)].on(Q[t(477)],this[t(714)]._handleMediaSourceBufferedIsZeroError),this[t(849)].on(Q[t(780)],this[t(714)][t(1194)]),this.player.on(Q[t(387)],this[t(714)]._handleMediaSourceDecoderConfigurationError),this[t(849)].on(Q[t(487)],this[t(714)][t(1457)]),this[t(849)].on(Q[t(690)],this[t(714)]._handleMseWidthOrHeightChange),this[t(849)].on(Q[t(1384)],this[t(714)]._handleMediaSourceAudioG711NotSupport),this.player.on(Q[t(1362)],this[t(714)]._handleMediaSourceAudioInitTimeout),this[t(849)][t(677)](Q[t(1131)],this.bound[t(938)]),this[t(849)].on(Q[t(1038)],this.bound._handleMseWorkerAddSourceBufferError),this[t(849)].on(Q[t(860)],this.bound._handlePlayVodMseDecodeVideoError),this[t(849)].on(Q[t(564)],this[t(714)]._handleMediaSourceUseCanvasRenderPlayFailed),this[t(849)].on(Q.webcodecsH265NotSupport,this[t(714)]._handleWebcodecsH265NotSupport),this.player.on(Q[t(592)],this.bound[t(1612)]),this[t(849)].on(Q.webcodecsDecodeConfigureError,this[t(714)][t(1590)]),this.player.on(Q[t(1469)],this[t(714)][t(748)]),this.player.on(Q[t(1218)],this[t(714)][t(334)]),this[t(849)].on(Q[t(1010)],this[t(714)][t(1480)]),this[t(849)].on(Q[t(962)],this[t(714)]._handleWebcodecsAudioInitTimeout),this.player.on(Q.webcodecsAudioDecodeError,this[t(714)][t(1055)]),this[t(849)].on(Q[t(1386)],this.bound[t(1059)]),this.player.on(Q[t(1110)],this[t(714)][t(908)]),this.player.on(Q[t(949)],this[t(714)][t(816)]),this[t(849)].on(Q.wasmUseVideoRenderError,this[t(714)][t(1326)]),this[t(849)].on(Q[t(355)],this[t(714)][t(1619)]),this[t(849)].on(Q[t(1321)],this.bound[t(1625)]),this[t(849)].on(Q[t(1320)],this[t(714)][t(1375)]),this[t(849)].on(Q[t(1114)],this[t(714)][t(594)]),this[t(849)].on(H[t(1041)],this[t(714)]._handleNetworkDelayTimeout),this[t(849)].on(H.flvDemuxBufferSizeTooLarge,this[t(714)]._handleFlvDemuxBufferSizeTooLarge),this[t(849)].on(Q[t(443)],this[t(714)][t(1449)]),this[t(849)].on(H[t(1551)],this.bound[t(1184)]),this.player.on(Q[t(1524)],this[t(714)][t(878)]),this[t(849)].on(Q[t(1236)],this[t(714)][t(306)]),this[t(849)].on(Q[t(1479)],this[t(714)][t(982)]),this[t(849)].on(H[t(1504)],this[t(714)][t(1562)]),this[t(849)].on(Q[t(1646)],this[t(714)]._handleAliyunRtcError),this.player.on(Q[t(889)],this.bound[t(561)]),this.player.on(Q.decoderWorkerUncaughtError,this[t(714)]._handleDecoderWorkerUncaughtError),this[t(849)].on(Q[t(719)],this[t(714)][t(791)]),this[t(849)].on(Q[t(496)],this[t(714)][t(407)]),this.player.on(Q[t(1227)],this[t(714)][t(502)]),this[t(849)].on(H.webrtcStreamH265,this[t(714)][t(525)]),this[t(849)].on(H[t(358)],this[t(714)][t(1263)]),this[t(849)].on(Q[t(944)],this[t(714)]._handleTsPacketSizeError),this[t(849)].on(H[t(1542)],this.bound._handleDelayTimeout),this.player.on(H[t(695)],this.bound[t(715)]),this[t(849)][t(662)]()&&(this[t(849)].on(H.playbackEndInner,this[t(714)][t(1560)]),this[t(849)].on(H.playbackEndedAndReplay,this[t(714)][t(389)])),this[t(849)][t(1132)]()&&(this[t(849)].on(Q.playVodMp4Error,this[t(714)][t(980)]),this[t(849)].on(Q[t(905)],this[t(714)][t(517)]),this.player.on(H.playVodEnded,this.bound[t(616)]),this[t(849)].on(H[t(402)],this[t(714)]._handlePlayVodEndedAndReplay),this[t(849)].on(Q[t(423)],this[t(714)]._handlePlayVodMp4UseSrcVideoError),this[t(849)].on(Q[t(888)],this[t(714)][t(370)])),this[t(544)]()?(this.debugLog(this[t(1272)],t(738)),this[t(849)][t(1026)](e,s).then((()=>{i()}))[t(401)]((e=>{const s=t;this[s(1276)](s(758),s(556),e),this[s(849)]&&this[s(849)][s(469)]().then((()=>{r(e)})).catch((t=>{const e=s;r(t),this.debugError("JbPro",e(1643),t)}))}))):(this.debugLog(this[t(1272)],t(1610)),this._checkInitDecoderWorkerTimeout(),this[t(849)][t(677)](H.decoderWorkerInit,(()=>{const n=t;this[n(396)](),this.isDestroyed()?this[n(573)](n(758),"decoderWorkerInit but player is destroyed"):(this[n(573)](this[n(1272)],"_playNext and decoderWorkerInit callback and next play"),this[n(849)][n(1026)](e,s)[n(608)]((()=>{i()}))[n(401)]((t=>{const e=n;this[e(1276)](e(758),"decoderWorkerInit and play error",t),this[e(325)](H[e(313)],this[e(328)](e(797),t)),this.player&&this[e(849)][e(469)]()[e(608)]((()=>{r(t)})).catch((t=>{const s=e;r(t),this.debugError(s(758),s(1491),t)}))})))})))},R=this[n(849)][n(547)](),L=this[n(857)][n(1142)]&&Ri(this[n(857)].supportHls265),P=l&&Ri(this[n(857)][n(442)]),x=this[n(857)][n(1142)]&&!!ui(),M=this._opt[n(1142)]&&R[n(1155)],B=this[n(857)].isFmp4&&this[n(857)].playVodMp4UseSrc;if(L||P||u||o||b||x||M||B)this[n(573)](n(758),n(481)+L+" and isOldWebrtc is "+P+n(353)+u+n(1027)+o+" and\n                isMpeg4 is "+b+n(1085)+x+n(434)+M+n(983)+B),this._resetPlayer({protocol:_,demuxType:C,isHls:this[n(857)].isHls,isFmp4:this._opt[n(971)],isWebrtc:l,isWebrtcForZLM:T,isWebrtcForSRS:I,isWebrtcForOthers:k,isAliyunRtc:u,cryptoKey:s[n(605)]||"",cryptoIV:s[n(920)]||"",url:e,playOptions:s}).then((()=>{D()}))[n(401)]((t=>{const e=n;this.debugError(this.TAG_NAME,e(642),t),r(e(642))}));else{const t={protocol:_,demuxType:C,isHls:this[n(857)][n(1142)],isWebrtc:l,isAliyunRtc:u,isFlv:this[n(857)][n(1658)],isFmp4:this[n(857)][n(971)],isMpeg4:this[n(857)][n(473)],isNakedFlow:this[n(857)][n(604)],isTs:this[n(857)][n(1583)],isPs:this[n(857)][n(921)],cryptoKey:s[n(605)]||"",cryptoIV:s[n(920)]||""};this[n(857)][n(604)]&&(t[n(1151)]=!1,t[n(1401)]=!1),this.player[n(563)](t),D()}}))}[KL(1269)](t){const e=KL;this[e(857)][e(1658)]=!1,this._opt.isFmp4=!1,this._opt.isMpeg4=!1,this._opt[e(604)]=!1,this._opt.isHls=!1,this[e(857)][e(1294)]=!1,this[e(857)].isWebrtcForZLM=!1,this[e(857)].isWebrtcForSRS=!1,this[e(857)][e(374)]=!1,this[e(857)][e(1329)]=!1,this._opt[e(1583)]=!1,t&&(this[e(857)][t]=!0)}[KL(504)](){const t=KL;this[t(1660)]()||(this[t(573)](t(758),t(365)),this.player&&this[t(849)][t(504)]())}setBufferTime(t){const e=KL;if(this[e(1660)]())return;this[e(573)](e(758),e(644)+t),(t=Number(t))>10&&this[e(819)](e(758),e(670)+t+e(1486)+t+e(649));const s=1e3*t;this[e(857)][e(535)]=s,this[e(849)]?this[e(849)][e(563)]({videoBuffer:s},!0):this[e(819)](e(758),e(1170))}[KL(393)](t){const e=KL;if(this.isDestroyed())return;this[e(573)]("JbPro",e(1141)+t),(t=Number(t))<.2&&this[e(819)](e(758),e(978)+t+" second, is too small");const s=1e3*(t=rs(t,.2,100));this[e(857)][e(765)]=s,this.player?this[e(849)][e(563)]({videoBufferDelay:s},!0):this[e(819)](e(758),e(532))}[KL(893)](t){const e=KL;if(this.isDestroyed())return;this[e(573)](e(758),e(1118)+t),t=parseInt(t,10);this[e(857)][e(596)]!==t&&-1!==[0,90,180,270][e(1271)](t)?(this._opt[e(596)]=t,this[e(849)]?this.player[e(893)](t):this.debugWarn(e(758),e(1444))):this[e(819)]("JbPro","setRotate() rotate is "+t+e(832)+this[e(857)][e(596)])}[KL(1078)](t){const e=KL;if(this.isDestroyed())return;this[e(573)](e(758),"setMirrorRotate() "+t);const s=[e(1563),e(1259),e(1389)];!t&&(t=e(1563)),this[e(857)][e(465)]!==t&&-1!==s[e(1271)](t)?(this[e(857)][e(465)]=t,this[e(849)]?(this[e(849)][e(563)]({mirrorRotate:t}),this[e(504)]()):this[e(819)]("JbPro","setMirrorRotate() player is null")):this.debugWarn("JbPro","setMirrorRotate() mirrorRotate is "+t+" and this._opt.mirrorRotate is "+this[e(857)][e(465)])}[KL(994)](t){const e=KL;if(this[e(1660)]())return;this[e(573)](e(758),"setAspectRatio() "+t);const s=[e(614),e(805),e(770)];!t&&(t=e(614)),this[e(857)][e(1614)]!==t&&-1!==s[e(1271)](t)?(this[e(857)][e(1614)]=t,this[e(849)]?(this.player[e(563)]({aspectRatio:t}),this[e(504)]()):this[e(819)](e(758),"setAspectRatio() player is null")):this.debugWarn(e(758),e(1345)+t+e(664)+this._opt[e(465)])}[KL(455)](){return!0}[KL(544)](){const t=KL;return this[t(849)]&&this[t(849)].loaded||!1}[KL(1664)](){const t=KL;this[t(1660)]()||(this.debugLog(t(758),t(1336)),this[t(857)][t(1461)]=!0,this.player?this[t(849)].updateOption({keepScreenOn:!0}):this[t(819)](t(758),t(1220)))}setFullscreen(t){const e=KL;if(this[e(1660)]())return;this[e(573)](e(758),"setFullscreen() "+t);const s=!!t;this.player?this.player[e(1346)]!==s?this[e(849)][e(1346)]=s:this.debugWarn("JbPro",e(812)+s+e(703)+this[e(849)][e(1346)]):this[e(819)]("JbPro","setFullscreen() player is not ready")}[KL(1102)](t){const e=KL;if(this[e(1660)]())return;this[e(573)]("JbPro",e(782)+t);const s=!!t;this[e(849)]?this[e(849)][e(362)]=s:this[e(819)](e(758),e(1011))}[KL(955)](t,e,s,i){const r=KL;if(!this.isDestroyed())return this[r(573)]("JbPro","screenshot() "+t+" "+e+" "+s+" "+i),this.player&&this[r(849)][r(1310)]?this[r(849)][r(1310)][r(955)](t,e,s,i):(this[r(819)](r(758),r(667)),null)}screenshotWatermark(t){return new Promise(((e,s)=>{const i=qL;if(this.isDestroyed())return s(i(1204));this.debugLog(i(758),i(1022),t),this.player&&this.player[i(1310)]?this[i(849)][i(1310)][i(1222)](t)[i(608)]((t=>{e(t)}))[i(401)]((t=>{s(t)})):(this[i(819)](i(758),i(575)),s(i(606)))}))}[KL(1477)](t){return new Promise(((e,s)=>{const i=qL;if(this[i(1660)]())return s(i(1204));this[i(573)]("JbPro",i(1358),t),this[i(849)]&&this.player[i(1310)]?this.player[i(1310)][i(1477)](t)[i(608)]((t=>{e(t)}))[i(401)]((t=>{s(t)})):(this[i(819)](i(758),i(1071)),s(i(606)))}))}[KL(628)](t){return new Promise(((e,s)=>{const i=qL;if(this.isDestroyed())return s("player is destroyed");if(this.debugLog(i(758),"screenshotByRect()",t),this[i(849)]&&this.player.video){e(this[i(849)][i(1310)][i(628)](t))}else this[i(819)]("JbPro",i(437)),s(i(606))}))}[KL(390)](t,e){return new Promise(((s,i)=>{const r=qL;return this[r(1660)]()?i(r(1204)):(this[r(573)]("JbPro",r(1039)+t+" "+e),this[r(849)]?void(this.player.playing?(this[r(849)][r(390)](t,e),s()):(this[r(819)](r(758),"startRecord() player is not playing"),i(r(454)))):(this[r(819)](r(758),"startRecord() player is not ready"),i(r(606))))}))}[KL(317)](t,e){return new Promise(((s,i)=>{const r=qL;if(this[r(1660)]())return i("player is destroyed");this.debugLog(r(758),r(1500)+t+" "+e),this.player&&this.player[r(975)]?this[r(849)][r(317)](t,e)[r(608)]((t=>{s(t)}))[r(401)]((t=>{i(t)})):i(r(1291))}))}[KL(392)](){return new Promise(((t,e)=>{const s=qL;return this[s(1660)]()?e(s(1204)):(this[s(573)](s(758),"cancelRecord()"),this[s(849)]?void this[s(849)][s(392)]()[s(608)]((()=>{t()})).catch((t=>{e(t)})):(this[s(819)](s(758),s(624)),e(s(606))))}))}[KL(1275)](){const t=KL;let e=!1;return this.player&&(e=this.player[t(1275)]()),e}isLoading(){const t=KL;return!!this.player&&this[t(849)].loading}isPause(){const t=KL;let e=!1;return this._opt.playType===p[t(849)]?e=!this.isPlaying()&&!this[t(1550)]():this[t(857)].playType===p.playbackTF&&this.player?e=this[t(849)][t(1229)]:this[t(857)][t(950)]===p.playVod&&this[t(849)]&&(e=this[t(849)][t(595)]),e}isPaused(){return this[KL(1103)]()}[KL(1240)](){const t=KL;let e=!0;return this[t(849)]&&(e=this[t(849)].isAudioMute()),e}[KL(1076)](){const t=KL;let e=!1;return this[t(849)]&&(e=this[t(849)].recording),e}[KL(674)](){const t=KL;let e=!1;return this[t(849)]&&(e=this[t(849)][t(1346)]),e}isWebFullscreen(){const t=KL;let e=!1;return this[t(849)]&&(e=this[t(849)][t(362)]),e}[KL(475)](){const t=KL;this[t(573)](t(758),t(733)),this[t(1660)]()?this.debugLog(this[t(1272)],"player is destroyed"):this[t(849)]?this.player.clearBufferDelay():this[t(573)]("JbPro",t(1632))}[KL(516)](t){const e=KL;if(this[e(1660)]())return;this[e(573)](e(758),e(430)+t),(t=Number(t))<1&&this[e(819)](e(758),e(756)+t+" second, is too small");const s=1e3*(t=rs(t,1,100));this[e(857)][e(574)]=s,this.player?this[e(849)][e(563)]({networkDelay:s},!0):this.debugWarn(e(758),e(1183))}getDecodeType(){const t=KL;let e="";return this[t(849)]&&(e=this[t(849)].getDecodeType()),e}getRenderType(){const t=KL;let e="";return this[t(849)]&&(e=this[t(849)][t(1075)]()),e}[KL(1043)](){const t=KL;let e="";return this[t(849)]&&(e=this[t(849)][t(1043)]()),e}[KL(815)](){const t=KL;let e=0;return this[t(849)]&&(e=this[t(849)][t(815)]()),e}[KL(940)](){const t=KL;let e=Et[t(887)];return this[t(849)]&&(e=this[t(849)][t(1028)]?Et[t(1028)]:this.player.playing?Et[t(1584)]:Et[t(309)]),e}[KL(995)](){const t=KL;return this[t(849)]?this.player[t(857)][t(950)]:p[t(849)]}togglePerformancePanel(t){const e=KL;if(this[e(1660)]())return;this[e(573)]("JbPro",e(1541)+t);const s=this[e(849)][e(857)][e(1531)];let i=!s;Ns(t)&&(i=t),i!==s?this[e(849)]?this.player[e(1171)](i):this.debugWarn("JbPro","togglePerformancePanel() failed, this.player is not init"):this[e(819)](e(758),e(985)+s+e(835)+i)}[KL(1655)](){const t=KL;if(!this[t(1660)]())if(this.debugLog(t(758),t(1124)),this.player){if(this[t(849)].isDestroyedOrClosed())return void this[t(819)](t(758),"openZoom() failed, this.player is destroyed or paused");this[t(849)][t(708)]=!0}else this[t(819)](t(758),t(1262))}[KL(694)](){const t=KL;if(!this[t(1660)]())if(this[t(573)](t(758),t(500)),this[t(849)]){if(this[t(849)].isDestroyedOrClosed())return void this[t(819)](t(758),t(675));this[t(849)][t(708)]=!1}else this.debugWarn(t(758),t(1592))}isZoomOpen(){let t=!1;return this[KL(849)]&&(t=this.player.zooming),t}toggleZoom(t){const e=KL;this[e(1660)]()||(this.debugLog(e(758),e(1053)+t),!Ns(t)&&(t=!this[e(1634)]()),Di(t)?this[e(1655)]():Ri(!1)&&this.closeZoom())}[KL(1123)](){const t=KL;this.isDestroyed()||(this[t(573)](t(758),t(1092)),this[t(849)]&&this.player[t(1020)]&&this[t(849)][t(708)]?this[t(849)].zoom[t(1441)]():this[t(819)](t(758),t(1538)))}[KL(1534)](){const t=KL;this[t(1660)]()||(this.debugLog("JbPro",t(382)),this[t(849)]&&this.player[t(1020)]&&this.player.zooming?this[t(849)].zoom.narrowPrecision():this[t(819)](t(758),t(1253)))}[KL(1391)](t){const e=KL;this.isDestroyed()||(this[e(573)]("JbPro",e(446),t),this[e(849)]&&this[e(849)][e(1020)]&&this[e(849)][e(708)]?this.player[e(1020)][e(1391)](t):this.debugWarn(e(758),e(1253)))}[KL(1628)](){const t=KL;if(this.isDestroyed())return;let e=1;return this[t(849)]&&this[t(849)].zoom&&(e=this[t(849)][t(1020)].currentZoom),e}[KL(1147)](t){return new Promise(((e,s)=>{const i=qL;if(this[i(1660)]())return s(i(1204));if(this[i(573)]("JbPro","setNakedFlowFps()",t),Os(t))return s("setNakedFlowFps() fps is empty");let r=Number(t);r=rs(r,1,100),this[i(857)].nakedFlowFps=r,this.player?this[i(849)][i(563)]({nakedFlowFps:r}):this[i(819)]("JbPro",i(1235)),e()}))}[KL(328)](t){const e=KL;let s=arguments[e(1522)]>1&&void 0!==arguments[1]?arguments[1]:"";if(!this[e(849)])return;const i=this.player[e(745)](),r=this[e(849)];let n=r[e(837)]()?e(639):r[e(662)]()?e(1105):e(1016),o={url:this[e(857)][e(676)],playType:n,demuxType:r[e(1090)](),decoderType:r.getDecodeType(),renderType:r[e(1075)](),videoInfo:{encType:"",width:"",height:""},audioInfo:{encType:"",sampleRate:"",channels:""},audioEngine:r[e(1043)](),allTimes:i[e(432)],timestamp:is(),type:t,error:bi(s)||t};if(r[e(1310)]){const t=r.video[e(981)]||{};o[e(981)]={encType:t.encType||"",width:t[e(463)]||"",height:t.height||""}}if(r[e(1629)]){const t=r[e(1629)][e(1113)]||{};o[e(1113)]={encType:t.encType||"",sampleRate:t.sampleRate||"",channels:t.channels||""}}return o}[KL(1505)](t){const e=KL;this.isDestroyed()||(this[e(573)](e(758),e(1494),t),t===v.debug||t===v[e(698)]?t!==this[e(849)][e(857)].debugLevel?(this[e(857)].debugLevel=t,this.player?this[e(849)][e(563)]({debugLevel:t},!0):this[e(819)](e(758),e(1544))):this[e(819)](e(758),"updateDebugLevel() level is same, level: "+t):this.debugWarn("JbPro","updateDebugLevel() level is not valid, level: "+t))}[KL(718)](t){const e=KL;this[e(1660)]()||(this[e(573)]("JbPro",e(747),t),this[e(849)]?(this[e(849)][e(718)](t),this[e(857)].watermarkConfig=t):this[e(819)](e(758),"updateWatermark() player is not init"))}[KL(696)](){const t=KL;this[t(1660)]()||(this[t(573)](t(758),t(1256)),this[t(849)]?(this[t(849)][t(696)](),this[t(857)][t(1498)]={}):this[t(819)](t(758),t(1338)))}[KL(1331)](t){const e=KL;if(!this[e(1660)]())if(this[e(573)](e(758),e(441),t),ti(t)){this[e(857)][e(1137)]=t;const s=Ws(this[e(1558)],t);if(!s[e(635)])return void this[e(819)]("JbPro",e(1411));this[e(343)][e(375)](s)}else this[e(819)](e(758),"updateFullscreenWatermark() config is not valid, config: "+t)}[KL(1217)](){const t=KL;this.isDestroyed()||(this.debugLog("JbPro","removeFullscreenWatermark()"),this.watermark?this[t(343)][t(652)]():this.debugWarn(t(758),"removeFullscreenWatermark() watermark is not init"))}faceDetectOpen(){const t=KL;this[t(1660)]()||(this.debugLog(t(758),"faceDetectOpen()"),this.player?this[t(849)][t(1439)](!0):this.debugWarn(t(758),t(1342)))}[KL(650)](){const t=KL;this.isDestroyed()||(this[t(573)](t(758),t(1167)),this[t(849)]?this[t(849)][t(1439)](!1):this[t(819)](t(758),t(943)))}[KL(1652)](){const t=KL;this[t(1660)]()||(this[t(573)](t(758),"objectDetectOpen()"),this[t(849)]?this[t(849)].objectDetect(!0):this[t(819)](t(758),"objectDetectOpen() player is not init"))}[KL(1493)](){const t=KL;this[t(1660)]()||(this[t(573)](t(758),"objectDetectClose()"),this[t(849)]?this[t(849)].objectDetect(!1):this[t(819)](t(758),t(364)))}[KL(778)](t){const e=KL;this.isDestroyed()||(this[e(573)](e(758),e(727),t),this[e(849)]?this[e(849)][e(778)](t):this[e(819)]("JbPro","sendWebsocketMessage() player is not init"))}[KL(744)](t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),e(1133)),this.player?(this[e(849)][e(744)](t),this[e(794)]=t):this[e(819)]("JbPro",e(540)))}clearContentToCanvas(){const t=KL;this[t(1660)]()||(this[t(573)](t(758),t(1290)),this[t(849)]?(this[t(849)].addContentToCanvas([]),this[t(794)]=[]):this[t(819)](t(758),"clearContentToCanvas() player is not init"))}addContentToContainer(t){const e=KL;this[e(1660)]()||(this.debugLog(e(758),e(1066)),this[e(849)]?this[e(849)].addContentToContainer(t):this[e(819)]("JbPro","addContentToContainer() player is not init"))}[KL(1300)](){const t=KL;this[t(1660)]()||(this.debugLog(t(758),t(762)),this[t(849)]?this[t(849)].addContentToContainer([]):this[t(819)]("JbPro",t(1645)))}[KL(1607)](t){const e=KL;this.isDestroyed()||(this.debugLog(e(758),"setControlHtml()",t),this[e(849)]?this[e(849)][e(1607)](t):this[e(819)]("JbPro",e(1177)))}[KL(1106)](){const t=KL;this.isDestroyed()||(this[t(573)](t(758),t(1246)),this.player?this[t(849)][t(1106)]():this[t(819)](t(758),t(1656)))}toggleControlHtml(t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),e(1456)+t),this.player?this.player[e(924)](t):this.debugWarn(e(758),"toggleControlHtml() player is not init"))}getControlHtmlIsShow(){const t=KL;return!!this[t(849)]&&this[t(849)].getControlHtmlIsShow()}[KL(1226)](){const t=KL;return this[t(849)]?this[t(849)].getControlHtml():null}setExtendHtml(t){const e=KL;this.isDestroyed()||(this.debugLog(e(758),e(1214),t),this[e(849)]?this[e(849)][e(321)](t):this[e(819)](e(758),e(1501)))}[KL(822)](){const t=KL;this[t(1660)]()||(this[t(573)]("JbPro","clearExtendHtml()"),this[t(849)]?this[t(849)].clearExtendHtml():this[t(819)](t(758),t(1060)))}toggleExtendHtml(t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),"toggleExtendHtml() "+t),this.player?this[e(849)][e(582)](t):this[e(819)]("JbPro",e(1609)))}[KL(873)](){const t=KL;return!!this[t(849)]&&this[t(849)][t(873)]()}[KL(749)](){const t=KL;return this[t(849)]?this.player[t(749)]():null}[KL(1442)](){const t=KL;let e=null;return this[t(849)]&&(e=this[t(849)][t(1442)]()),e}[KL(1107)](){const t=KL;let e=null;return this[t(849)]&&(e=this[t(849)].getAudioInfo()),e}[KL(394)](t){const e=KL;if(this[e(1660)]())return;this[e(573)](e(758),e(1215),t);const s=(t=""+t).split(".");if(32!==t[e(1522)]&&2!==s[e(1522)])return void this[e(819)]("JbPro",e(385)+t[e(1522)]+" !== 32");if(2===s[e(1522)]&&(32!==s[0][e(1522)]||32!==s[1][e(1522)]))return void this[e(819)](e(758),e(1475)+s[0].length+e(1606)+s[1][e(1522)]+e(922));this[e(857)][e(1012)]=t;let i=2===s[e(1522)];if(i&&(this._opt[e(1621)][e(605)]=ic(s[0]),this._opt[e(1621)][e(920)]=ic(s[1])),this[e(849)]){const s={sm4CryptoKey:t};i&&(s[e(605)]=this[e(857)].playOptions[e(605)],s[e(920)]=this._opt[e(1621)][e(920)]),this[e(849)][e(563)](s,!0)}else this[e(819)]("JbPro",e(1135))}setM7sCryptoKey(t){const e=KL;this.isDestroyed()||(this.debugLog(e(758),e(1662),t),t=""+t,this[e(857)][e(1363)]=t,this[e(849)]?this.player[e(563)]({m7sCryptoKey:t},!0):this[e(819)](e(758),e(801)))}[KL(1576)](t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),e(1429),t),t=""+t,this._opt[e(916)]=t,this[e(849)]?this[e(849)].updateOption({xorCryptoKey:t},!0):this[e(819)]("JbPro",e(1080)))}updateLoadingText(t){const e=KL;this[e(1660)]()||(this[e(573)]("JbPro",e(895),t),this[e(849)]?this[e(849)].updateLoadingText(t):this[e(819)](e(758),e(768)))}[KL(539)](t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),"updateIsEmitSEI()",t),this[e(857)].isEmitSEI=t,this[e(849)]?this[e(849)].updateOption({isEmitSEI:t},!0):this[e(819)](e(758),e(739)))}getPTZCmd(t,e){const s=KL;return this[s(573)](s(758),s(1067),t),t?this.player?DL({type:t,index:0,speed:e}):(this[s(819)](s(758),s(1323)),null):(this[s(819)](s(758),s(910)),null)}[KL(524)](){return new Promise(((t,e)=>{const s=qL;this[s(849)]?(this[s(849)][s(1580)](),t()):e(s(1666))}))}[KL(915)](){return new Promise(((t,e)=>{const s=qL;if(this.isDestroyed())return e("player is destroyed");this[s(849)]?(this[s(849)][s(1611)](),t()):e(s(1666))}))}[KL(997)](){return new Promise(((t,e)=>{const s=qL;if(this[s(1660)]())return e(s(1204));this[s(849)]?(this[s(849)].downloadMpeg4File(),t()):e(s(1666))}))}[KL(1537)](){return new Promise(((t,e)=>{const s=qL;if(this.isDestroyed())return e("player is destroyed");this.player?(this[s(849)][s(956)](),t()):e(s(1666))}))}[KL(399)](){return new Promise(((t,e)=>{const s=qL;if(this.isDestroyed())return e(s(1204));this[s(849)]?(this[s(849)][s(917)](),t()):e("player is not init")}))}downloadMemoryLog(){const t=KL;this[t(1660)]()||this[t(1136)]&&this[t(1136)][t(870)]()}[KL(380)](){const t=KL;if(Ri(this[t(857)][t(1111)]))return{};const e=this[t(1442)]()||{},s={loadingBackground:this[t(955)]("",t(600),.5,"base64"),loadingBackgroundWidth:e[t(463)]||0,loadingBackgroundHeight:e[t(923)]||0};return s[t(826)]&&s[t(435)]&&s[t(1251)]&&(this[t(1368)]=s),this[t(1368)]||{}}[KL(474)](){const t=KL;this.debugLog(t(758),t(1219));let e=[];return this[t(849)]?e=this.player[t(474)]():this.debugWarn(t(758),t(899)),e}[KL(779)](){const t=KL;this[t(573)](t(758),"getFlvMetaData()");let e=null;return this[t(849)]?e=this.player[t(713)]():this[t(819)](t(758),t(1241)),e}[KL(339)](t){const e=KL;if(this[e(1660)]())return;this.debugLog(e(758),e(686),t);const s=1e3*(t=Number(t));this[e(857)].aiFaceDetectInterval=s,this[e(849)]?this[e(849)][e(563)]({aiFaceDetectInterval:s}):this[e(819)]("JbPro","updateAiFaceDetectInterval() player is null")}[KL(322)](t){const e=KL;if(this[e(1660)]())return;if(this[e(573)](e(758),"updateAiFaceDetectLevel()",t),!Mt[t])return void this[e(819)]("JbPro","'updateAiFaceDetectLevel() level "+t+e(1127));const s=Mt[t];this[e(857)][e(1561)]=s,this.player?(this[e(849)].updateOption({aiFaceDetectWidth:s}),this[e(849)].ai&&this[e(849)].ai[e(988)]({detectWidth:s})):this.debugWarn(e(758),"updateAiFaceDetectLevel() player is null")}[KL(329)](t){const e=KL;if(this[e(1660)]())return;this[e(573)]("JbPro","updateAiObjectDetectInterval()",t);const s=1e3*(t=Number(t));this[e(857)][e(918)]=s,this.player?this.player[e(563)]({aiObjectDetectInterval:s}):this[e(819)](e(758),e(1282))}updateAiObjectDetectLevel(t){const e=KL;if(this[e(1660)]())return;if(this.debugLog(e(758),e(363),t),!Bt[t])return void this[e(819)]("JbPro","'updateAiObjectDetectLevel() level "+t+e(1127));const s=Bt[t];this[e(857)][e(1185)]=s,this[e(849)]?(this[e(849)][e(563)]({aiObjectDetectWidth:s}),this[e(849)].ai&&this[e(849)].ai[e(1354)]({detectWidth:s})):this[e(819)](e(758),"updateAiObjectDetectLevel() player is null")}[KL(419)](t){const e=KL;this[e(1660)]()||(this[e(573)]("JbPro","setCryptoKeyUrl()",t),t&&(this._opt.cryptoKeyUrl=t))}[KL(1447)](t){const e=KL;this.isDestroyed()||(this[e(573)](e(758),e(470),t),t&&(this[e(849)]?this[e(849)][e(848)](t):this.debugWarn(e(758),"showErrorMessageTips() player is null")))}setPtzPosition(t){const e=KL;this[e(573)]("JbPro",e(1044),t),t&&!Zs(t)&&(this[e(849)]?this[e(849)][e(1298)](t):this[e(819)]("JbPro",e(722)))}[KL(806)](){const t=KL;this[t(1660)]()||(this[t(573)](t(758),"hideErrorMessageTips()"),this[t(849)]?this[t(849)][t(1665)]():this[t(819)]("JbPro","hideErrorMessageTips() player is null"))}[KL(1374)](){return this[KL(1640)]()}[KL(1408)](t,e,s,i){const r=KL;return this[r(1032)][r(1408)](t,e,s,i)}getUrl(){const t=KL;return this[t(857)][t(676)]}toggleControlExtendBtn(t,e){const s=KL;this[s(1660)]()||(this[s(573)](this.TAG_NAME,s(829)+t+" "+e),this[s(849)]?this.player.toggleControlExtendBtn(t,e):this[s(819)](this[s(1272)],s(972)))}[KL(444)](t){const e=KL;if(this[e(1660)]())return;this[e(573)](this[e(1272)],e(349)+t);let s=!1;return this[e(849)]?s=this[e(849)][e(444)](t):this[e(819)](this[e(1272)],e(541)),s}[KL(1569)](t){const e=KL;this[e(1660)]()||(this.debugLog(this[e(1272)],"toggleControlBar() "+t),this[e(849)]?this[e(849)][e(1569)](t):this[e(819)](this[e(1272)],e(1098)))}[KL(858)](){const t=KL;if(this[t(1660)]())return!1;this[t(573)](this[t(1272)],t(1372));let e=!1;return this[t(849)]?e=this[t(849)][t(858)]():this.debugWarn(this[t(1272)],"getControlBarShow() player is null"),e}static[KL(846)](t){return zs(t)}static[KL(1589)](t){return function(t){for(var e=t,s=0,i=0,r=0;r<32;r++)i|=(1&e[s])<<r,s+=4;return i}(t)}_checkIsMeaningfulRetry(t){const e=KL;let s=!0,i=[];if(t===Qt[e(1153)]?i=this[e(1526)]:t===Qt.mseDecodeError?i=this._mseDecodeErrorRetryLog:t===Qt[e(651)]&&(i=this[e(1249)]),this[e(573)](this.TAG_NAME,e(548)+t+", and retryLog is "+i[e(1149)](",")),i[e(1522)]>=this._opt.checkIsMeaningfulRetryTimes){const r=i[0],n=i[i[e(1522)]-1],o=n-r;o<=1e4&&(this.debugWarn(this.TAG_NAME,e(828)+t+e(583)+i.length+e(1548)+r+" and end is "+n+" and diff is "+o),s=!1)}return s}[KL(1322)](t){const e=KL;(vs()||bs())&&t[e(826)]&&t[e(435)]&&t.loadingBackgroundHeight&&(this[e(1499)](),"default"===this[e(849)]._opt.aspectRatio||fs()?this[e(849)].getRenderType()===A[e(484)]?this._doInitLoadingBackgroundForCanvas(t):this[e(849)][e(1075)]()===A[e(1310)]&&this[e(1285)](t):this[e(1267)](t))}[KL(1285)](t){const e=KL;this[e(573)](this[e(1272)],e(1285));const s=this[e(1640)]();let i=s.width,r=s[e(923)];const n=this[e(849)][e(857)];r-=this[e(849)][e(641)]();let o=i,a=r;const h=n.rotate;(270===h||90===h)&&(o=r,a=i),this[e(1065)][e(463)]=o,this[e(1065)][e(923)]=a,this.$loadingBgImage.src=t[e(826)];let l=(i-o)/2,c=(r-a)/2,d="contain";!n.isResize&&(d=e(1474)),n[e(1129)]&&(d=e(1563));let u="";n[e(465)]===e(1563)&&h&&(u+=" rotate("+h+e(1077)),n[e(465)]===e(1259)?u+=e(1201):n[e(465)]===e(1389)&&(u+=e(798)),this._opt.videoRenderSupportScale&&(this[e(1065)][e(700)][e(436)]=d),this[e(1065)][e(700)][e(1037)]=u,this[e(1065)].style[e(331)]="0",this[e(1065)].style[e(1180)]=l+"px",this.$loadingBgImage[e(700)][e(383)]=c+"px",this[e(1065)].complete?En(this[e(464)],e(1216)):this[e(1065)][e(665)]=()=>{const t=e;En(this[t(464)],t(1216)),this.$loadingBgImage[t(665)]=null}}[KL(926)](t){const e=KL;this[e(573)](this[e(1272)],e(926));const s=this[e(1640)]();let i=s[e(463)],r=s[e(923)];const n=this.player[e(857)];r-=this[e(849)][e(641)]();let o=i,a=r;const h=n.rotate;let l=(i-o)/2,c=(r-a)/2;(270===h||90===h)&&(o=r,a=i),this[e(1065)][e(463)]=o,this[e(1065)].height=a,this[e(1065)][e(348)]=t.loadingBackground;const d=i/o,u=r/a;let p=d>u?u:d;Ri(n[e(1601)])&&d!==u&&(p=d+","+u),n.isFullResize&&(p=d>u?d:u);let f=e(1659)+p+")";n[e(465)]===e(1563)&&h&&(f+=e(347)+h+e(1077)),n.mirrorRotate===e(1259)?f+=e(1201):"vertical"===n[e(465)]&&(f+=e(798)),this[e(1065)].style.padding="0",this[e(1065)].style[e(1037)]=f,this[e(1065)][e(700)].left=l+"px",this[e(1065)][e(700)].top=c+"px",this[e(1065)][e(1024)]?En(this[e(464)],e(1216)):this[e(1065)][e(665)]=()=>{const t=e;En(this[t(464)],t(1216)),this[t(1065)][t(665)]=null}}[KL(1267)](t){const e=KL;this[e(573)](this.TAG_NAME,e(1267));const s=this[e(849)][e(857)][e(1614)][e(1536)](":")[e(701)](Number),i=this._getContainerRect();let r=i[e(463)],n=i.height,o=this[e(849)][e(641)]();n-=o;const a={width:t[e(435)],height:t[e(1251)]},h=a[e(463)]/a[e(923)],l=s[0]/s[1];if(this[e(1065)][e(348)]=t[e(826)],h>l){const t=l*a[e(923)]/a[e(463)];this[e(1065)].style.width=100*t+"%",this[e(1065)].style[e(923)]=e(1519)+o+e(1031),this[e(1065)][e(700)].padding="0 "+(r-r*t)/2+"px"}else{const t=a[e(463)]/l/a[e(923)];this[e(1065)][e(700)][e(463)]="100%",this[e(1065)][e(700)][e(923)]=e(508)+100*t+e(1543)+o+e(1031),this[e(1065)][e(700)][e(331)]=(n-n*t)/2+e(303)}this[e(1065)][e(1024)]?En(this[e(464)],e(1216)):this[e(1065)][e(665)]=()=>{const t=e;En(this[t(464)],"show"),this[t(1065)].onload=null}}[KL(1499)](){const t=KL;if(!this[t(464)]){const e=document.createElement(t(781)),s=document[t(1176)](t(957));e[t(991)]=t(1050),this[t(464)]=e,this.$loadingBgImage=s,e.appendChild(s),this.$container[t(1293)](e)}}_removeLoadingBackgroundForIOS(){const t=KL;if(this[t(464)]){this.debugLog(this.TAG_NAME,t(1367));if(!Pn(this[t(464)])){const e=this[t(1558)][t(522)](t(890));e&&this[t(1558)]&&this[t(1558)].removeChild(e)}this[t(464)]=null,this[t(1065)]=null}}[KL(1640)](){const t=KL;let e={};return this[t(1558)]&&(e=this[t(1558)][t(1303)](),e[t(463)]=Math[t(307)](e.width,this.$container[t(360)]),e[t(923)]=Math[t(307)](e[t(923)],this[t(1558)][t(872)])),e}_isNeedNetworkDisconnectReplay(){const t=KL;return this[t(857)].networkDisconnectReplay&&this[t(559)].isOffline()}_handleWebglAlignmentError(t){const e=KL;if(this.isDestroyed())this[e(573)](e(758),e(657));else if(this.webglAlignmentErrorOnLock)this[e(573)](e(758),e(1187));else if(this[e(325)](H.crashLog,this[e(328)](Q[e(1089)],t)),this[e(960)]=!0,this[e(849)]&&this[e(849)][e(857)][e(948)]){this[e(573)]("JbPro","webglAlignmentError");const s=this._opt.url,i=this[e(857)][e(1621)];this._resetPlayer({openWebglAlignment:!0}).then((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this.debugLog(t(758),t(542)),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this[s(325)](H[s(790)],Q[s(1089)],{},t),this[s(1276)](s(758),"webglAlignmentError and play error",e)}))[r(1121)]((()=>{this[r(960)]=!1}))}))[e(401)]((t=>{const s=e;this[s(960)]=!1,this.debugError(s(758),s(1460),t)}))}else{const s=!1===this[e(857)][e(627)];this.player.setPlayFailedAndPaused(),this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(1089)],{},t),this[s(573)](s(758),s(1315))}))[e(401)]((s=>{const i=e;this[i(325)](H.playFailedAndPaused,Q.webglAlignmentError,{},t),this[i(1276)]("JbPro","webglAlignmentError and pause error",s)})).finally((()=>{this[e(960)]=!1}))}}[KL(1309)](t){const e=KL;if(this.isDestroyed())return void this.debugLog(e(758),e(1064));if(this.webglContextLostErrorOnLock)return void this.debugLog(e(758),e(357));this[e(325)](H.crashLog,this[e(328)](Q[e(648)],t));const s=this[e(380)]();if(this.webglContextLostErrorOnLock=!0,this.player&&this[e(849)][e(857)][e(1434)]){this[e(573)]("JbPro",e(648));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r).then((()=>{const t=n;this[t(573)]("JbPro",t(602)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this.emit(H[i(790)],Q[i(648)],s,t),this[i(1276)](i(758),i(410),e.toString())}))[n(1121)]((()=>{this[n(1527)]=!1}))}))[e(401)]((i=>{const r=e;this.webglContextLostErrorOnLock=!1,this.emit(H[r(790)],Q[r(648)],s,t),this[r(1276)](r(758),r(566),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this._pause(i)[e(608)]((()=>{const i=e;this[i(325)](H.playFailedAndPaused,Q.webglContextLostError,s,t),this[i(573)]("JbPro",i(1002))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(648)],s,t),this.debugError(r(758),r(1188),i)}))[e(1121)]((()=>{this[e(1527)]=!1}))}}[KL(757)](t){const e=KL;if(this[e(1660)]())this[e(573)](e(758),e(850));else if(this.mediaSourceH265NotSupportOnLock)this.debugLog(e(758),"mediaSourceH265NotSupportOnLock is true");else if(this[e(325)](H[e(313)],this[e(328)](Q[e(965)],t)),this[e(1207)]=!0,this[e(849)]&&this[e(849)][e(857)][e(527)]){this[e(573)](e(758),e(593));const s=this._opt[e(676)],i=this[e(857)][e(1621)],r={useMSE:!1,useWCS:!1};this[e(849)][e(1397)]()&&(r[e(901)]=!0),this._resetPlayer(r)[e(608)]((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this[t(573)](t(758),t(1237)),this[t(1270)]()}))[r(401)]((e=>{const s=r;this[s(325)](H[s(790)],Q[s(965)],{},t),this.debugError(s(758),s(999),e)}))[r(1121)]((()=>{this[r(1207)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1207)]=!1,this[i(325)](H.playFailedAndPaused,Q.mediaSourceH265NotSupport,{},t),this[i(1276)](i(758),"mediaSourceH265NotSupport auto wasm [mse-> wasm] _resetPlayer error",s)}))}else{const s=!1===this._opt[e(627)];this[e(849)][e(1019)](),this[e(1572)](s).then((()=>{const s=e;this[s(325)](H[s(790)],Q.mediaSourceH265NotSupport,{},t),this[s(573)](s(758),s(925))})).catch((s=>{const i=e;this[i(325)](H[i(790)],Q[i(965)],{},t),this[i(1276)](i(758),"mediaSourceH265NotSupport and pause error",s)}))[e(1121)]((()=>{this[e(1207)]=!1}))}}[KL(520)](t){const e=KL;if(this[e(1660)]())this[e(1425)]&&this[e(573)](e(758),e(302));else if(this[e(1088)])this.debugLog(e(758),e(720));else if(this[e(325)](H[e(313)],this[e(328)](Q.mseWaitVideoCanplayTimeout,t)),this[e(1088)]=!0,this[e(849)]&&this.player[e(857)][e(1596)]){this[e(573)]("JbPro",e(1378));const s=this._opt[e(676)],i=this[e(857)][e(1621)];this[e(799)]({useMSE:!1,useWCS:!1})[e(608)]((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this[t(573)](t(758),"mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play success"),this[t(1270)]()}))[r(401)]((e=>{const s=r;this[s(325)](H.playFailedAndPaused,Q[s(411)],t),this.debugError(s(758),s(1070),e)})).finally((()=>{this[r(1088)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1088)]=!1,this.emit(H.playFailedAndPaused,Q[i(411)],{},t),this[i(1276)](i(758),"mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] _resetPlayer error",s)}))}else{const s=!1===this[e(857)][e(627)];this[e(849)].setPlayFailedAndPaused(),this._pause(s).then((()=>{const s=e;this[s(325)](H.playFailedAndPaused,Q[s(411)],{},t),this[s(573)]("JbPro",s(1205))}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q[i(965)],{},t),this[i(1276)](i(758),i(486),s)})).finally((()=>{this[e(1088)]=!1}))}}[KL(1355)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1101)));if(this[e(1284)])return void this[e(573)](e(758),e(654));this[e(325)](H[e(313)],this.getCrashLog(Q[e(1393)],t));const s=this[e(380)]();if(this[e(1284)]=!0,this[e(849)]&&this[e(849)][e(857)][e(1406)]){const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={},o=this[e(849)]._opt.decoderErrorAutoWasm,a=!0;o?n={useMSE:!1,useWCS:!1}:this[e(543)](Qt[e(1512)])?this._mseDecodeErrorRetryLog.push(is()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this.debugLog(e(758),"mediaSourceFull and auto wasm "+(Ri(a)?e(1617):"")+e(1513)+(o?e(1573):"mse")+e(418)),n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(1296)),this[t(1270)]()})).catch((e=>{const i=n;this.emit(H[i(790)],Q[i(1393)],s,t),this[i(1276)](i(758),i(679),e)}))[n(1121)]((()=>{this[n(1284)]=!1}))})).catch((i=>{const r=e;this.mediaSourceFullOnLock=!1,this[r(325)](H[r(790)],Q[r(1393)],s,t),this[r(1276)](r(758),"mediaSourceFull and _resetPlayer error",i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this._pause(i).then((()=>{const i=e;this[i(325)](H[i(790)],Q[i(1393)],s,t),this[i(573)]("JbPro",i(1313))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1393)],s,t),this.debugError(r(758),r(1356),i)}))[e(1121)]((()=>{this[e(1284)]=!1}))}}_handleMediaSourceAppendBufferError(t){const e=KL;if(this[e(1660)]())return void(this.debug&&this[e(573)]("JbPro","mediaSourceAppendBufferError but player is destroyed"));if(this[e(388)])return void this[e(573)]("JbPro",e(448));this[e(325)](H.crashLog,this[e(328)](Q[e(1202)],t));const s=this[e(380)]();if(this.mediaSourceAppendBufferErrorOnLock=!0,this[e(849)]&&this[e(849)][e(857)].mseDecodeErrorReplay){const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={},o=this[e(849)][e(857)][e(725)],a=!0;o?n={useMSE:!1,useWCS:!1}:this[e(543)](Qt[e(1512)])?this._mseDecodeErrorRetryLog[e(601)](is()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),(this[e(849)][e(378)]||this[e(849)][e(433)])&&(this[e(849)].debugLog("JbPro",e(1021)+this[e(849)][e(378)]+e(704)+this.player.isMSENotSupportAudioFormat+e(431)),n.mseDecodeAudio=!1,n.syncAudioAndVideo=!0),this[e(573)](e(758),e(1172)+(Ri(a)?e(1617):"")+e(1513)+e(o?1573:1631)+e(418)),n=this[e(1061)](s,n),this._resetPlayer(n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(1639)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this.emit(H[i(790)],Q[i(1202)],s,t),this.debugError(i(758),i(1600),e)}))[n(1121)]((()=>{this[n(388)]=!1}))}))[e(401)]((i=>{const r=e;this[r(388)]=!1,this[r(325)](H.playFailedAndPaused,Q[r(1202)],s,t),this[r(1276)]("JbPro",r(726),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this._pause(i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(1202)],s,t),this.debugLog(i(758),i(760))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q.mediaSourceAppendBufferError,s,t),this[r(1276)](r(758),r(927),i)}))[e(1121)]((()=>{this.mediaSourceAppendBufferErrorOnLock=!1}))}}_handleMseSourceBufferError(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)]("JbPro",e(775)));if(this[e(1547)])return void this[e(573)](e(758),e(1502));this[e(325)](H[e(313)],this[e(328)](Q[e(1465)],t));const s=this[e(380)]();if(this.mseSourceBufferErrorOnLock=!0,this[e(849)]&&this[e(849)][e(857)][e(1406)]){const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={};if(this[e(849)]._opt[e(689)])n={mseDecoderUseWorker:!1},this[e(573)](e(758),e(1109));else{let t=this[e(849)]._opt[e(725)],s=!0;t?n={useMSE:!1,useWCS:!1}:this._checkIsMeaningfulRetry(Qt[e(1512)])?this[e(1157)][e(601)](is()):(t=!0,s=!1,n={useMSE:!1,useWCS:!1}),this[e(849)][e(1648)]&&(this.debugLog(e(758),e(619)),n={useMSE:!1,useWCS:!1}),this[e(573)]("JbPro",e(1087)+(Ri(s)?e(1617):"")+e(1513)+(t?"wasm":"mse")+e(418))}n=this[e(1061)](s,n),this._resetPlayer(n)[e(608)]((()=>{const n=e;this.play(i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(824)),this._replaySuccessAndNext()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q[i(1465)],s,t),this[i(1276)](i(758),i(352),e)})).finally((()=>{this[n(1547)]=!1}))})).catch((i=>{const r=e;this[r(1547)]=!1,this[r(325)](H.playFailedAndPaused,Q[r(1465)],s,t),this.debugError(r(758),"mseSourceBufferError _resetPlayer and play error",i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H.playFailedAndPaused,Q[i(1465)],s,t),this[i(573)](i(758),i(861))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q[r(1465)],s,t),this[r(1276)]("JbPro",r(1152),i)}))[e(1121)]((()=>{this[e(1547)]=!1}))}}_handleMediaSourceBufferedIsZeroError(t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),e(1258)));if(this[e(427)])return void this[e(573)]("JbPro",e(871));this.emit(H.crashLog,this[e(328)](Q[e(477)],t));const s=this._getVideoLastIframeInfo();if(this[e(427)]=!0,this[e(849)]&&this[e(849)][e(857)][e(1406)]){const i=this[e(857)][e(676)],r=this[e(857)].playOptions;let n={},o=this.player._opt[e(725)],a=!0;o?n={useMSE:!1,useWCS:!1}:this[e(543)](Qt[e(1512)])?this[e(1157)][e(601)](is()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this[e(573)](e(758),"mediaSourceBufferedIsZeroError auto wasm "+(Ri(a)?e(1617):"")+e(1513)+(o?"wasm":e(1631))+e(418)),n=this[e(1061)](s,n),this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this.debugLog(t(758),"mediaSourceBufferedIsZeroError reset player and play success"),this[t(1270)]()})).catch((e=>{const i=n;this[i(325)](H[i(790)],Q.mediaSourceBufferedIsZeroError,s,t),this[i(1276)](i(758),i(968),e)}))[n(1121)]((()=>{this[n(427)]=!1}))}))[e(401)]((i=>{const r=e;this[r(427)]=!1,this[r(325)](H[r(790)],Q.mediaSourceBufferedIsZeroError,s,t),this[r(1276)](r(758),r(1523),i)}))}else{const i=!1===this[e(857)][e(627)];this.player[e(1019)](),this[e(1633)]=s,this._pause(i)[e(608)]((()=>{const i=e;this.emit(H.playFailedAndPaused,Q[i(477)],s,t),this[i(573)](i(758),"mediaSourceBufferedIsZeroError and autoWasm is false ,pause success")}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(477)],s,t),this[r(1276)]("JbPro",r(1495),i)}))[e(1121)]((()=>{this[e(427)]=!1}))}}[KL(1194)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),e(1052)));if(this[e(1190)])return void this.debugLog("JbPro",e(416));this[e(325)](H[e(313)],this[e(328)](Q.mseAddSourceBufferError,t));const s=this._getVideoLastIframeInfo();if(this[e(1190)]=!0,this[e(849)]&&this.player[e(857)].hardDecodingNotSupportAutoWasm){this.debugLog(e(758),e(764));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={useMSE:!1,useWCS:!1};n=this._resetPlayerBeforeUpdateOptions(s,n),this._resetPlayer(n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)]("JbPro",t(1450)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this.emit(H[i(790)],Q[i(780)],s,t),this[i(1276)](i(758),i(1488),e)})).finally((()=>{this.mseAddSourceBufferErrorOnLock=!1}))})).catch((i=>{const r=e;this[r(1190)]=!1,this.emit(H[r(790)],Q[r(780)],s,t),this[r(1276)](r(758),r(879),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this.player[e(1019)](),this[e(1633)]=s,this[e(1572)](i).then((()=>{const i=e;this[i(325)](H[i(790)],Q[i(780)],s,t),this[i(573)](i(758),"mseAddSourceBufferError and autoWasm is false ,pause success")}))[e(401)]((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(780)],s,t),this[r(1276)](r(758),"mseAddSourceBufferError and pause error",i)}))[e(1121)]((()=>{this.mseAddSourceBufferErrorOnLock=!1}))}}[KL(1528)](t){const e=KL;if(this[e(1660)]())this[e(1425)]&&this[e(573)](e(758),"mediaSourceDecoderConfigurationError but player is destroyed");else if(this[e(1316)])this[e(573)](e(758),e(1455));else if(this[e(325)](H[e(313)],this[e(328)](Q[e(387)],t)),this[e(1316)]=!0,this[e(849)]&&this[e(849)]._opt.hardDecodingNotSupportAutoWasm){this[e(573)]("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play");const s=this[e(857)][e(676)],i=this[e(857)][e(1621)];let r={useMSE:!1,useWCS:!1};this[e(799)](r)[e(608)]((()=>{const r=e;this[r(1026)](s,i).then((()=>{const t=r;this[t(573)]("JbPro",t(408)),this._replaySuccessAndNext()})).catch((e=>{const s=r;this.emit(H[s(790)],Q[s(387)],{},t),this[s(1276)](s(758),s(1134),e)}))[r(1121)]((()=>{this[r(1316)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1316)]=!1,this[i(325)](H[i(790)],Q[i(387)],{},t),this[i(1276)](i(758),i(947),s)}))}else{const s=!1===this[e(857)][e(627)];this.player[e(1019)](),this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(387)],{},t),this.debugLog("JbPro",s(1008))}))[e(401)]((s=>{const i=e;this.emit(H[i(790)],Q.mediaSourceDecoderConfigurationError,{},t),this[i(1276)](i(758),i(693),s)}))[e(1121)]((()=>{this[e(1316)]=!1}))}}[KL(1457)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this.debugLog(e(758),"mediaSourceTsIsMaxDiff but player is destroyed"));if(this.mediaSourceTsIsMaxDiffOnLock)return void this[e(573)](e(758),e(1297));this.emit(H[e(313)],this[e(328)](Q[e(487)],t));const s=this[e(380)]();if(this.mediaSourceTsIsMaxDiffOnLock=!0,this[e(849)]&&this.player[e(857)][e(1162)]){this[e(573)]("JbPro","mediaSourceTsIsMaxDiff reset player and play");const i=this[e(857)].url,r=this._opt.playOptions;let n=this._resetPlayerBeforeUpdateOptions(s);this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),"mediaSourceTsIsMaxDiff replay success"),this[t(1270)]()}))[n(401)]((e=>{const i=n;this.emit(H.playFailedAndPaused,Q[i(487)],s,t),this.debugError(i(758),i(1427),e)}))[n(1121)]((()=>{this[n(647)]=!1}))}))[e(401)]((i=>{const r=e;this[r(647)]=!1,this[r(325)](H[r(790)],Q[r(487)],s,t),this[r(1276)](r(758),r(678),i)}))}else{const i=!1===this[e(857)][e(627)];this.player[e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q[i(487)],s,t),this[i(573)](i(758),"mediaSourceTsIsMaxDiff and replay is false ,pause success")}))[e(401)]((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(487)],s,t),this[r(1276)]("JbPro","mediaSourceTsIsMaxDiff and pause error",i)}))[e(1121)]((()=>{this[e(647)]=!1}))}}_handleMseWidthOrHeightChange(t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)]("JbPro",e(996)));if(this[e(315)])return void this[e(573)]("JbPro",e(1091));this[e(325)](H[e(313)],this[e(328)](Q[e(690)],t));const s=this[e(380)]();if(this.mseWidthOrHeightChangeOnLock=!0,this[e(849)]&&this[e(849)][e(857)].widthOrHeightChangeReplay){this[e(573)]("JbPro",e(1416));const i=this[e(857)][e(676)],r=this._opt[e(1621)];let n=this[e(1061)](s);this._resetPlayer(n)[e(608)]((()=>{const n=e;this.player._opt.widthOrHeightChangeReplayDelayTime>0?this.widthOrHeightChangeReplayDelayTimeout=setTimeout((()=>{const e=qL;this[e(458)]=null,this[e(1660)]()?this[e(1425)]&&this[e(573)](e(758),e(501)):this.play(i,r)[e(608)]((()=>{const t=e;this[t(573)](t(758),t(1148)),this[t(1270)]()})).catch((i=>{const r=e;this[r(325)](H[r(790)],Q.mseWidthOrHeightChange,s,t),this[r(1276)](r(758),"mseWidthOrHeightChange and reset player and play error",i)}))[e(1121)]((()=>{this[e(315)]=!1}))}),1e3*this.player._opt.widthOrHeightChangeReplayDelayTime):this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),"mseWidthOrHeightChange and reset player and play success")}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q[i(690)],s,t),this.debugError(i(758),i(1117),e)}))[n(1121)]((()=>{this.mseWidthOrHeightChangeOnLock=!1}))})).catch((i=>{const r=e;this.mseWidthOrHeightChangeOnLock=!1,this.emit(H[r(790)],Q[r(690)],s,t),this[r(1276)](r(758),r(337),i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q.mseWidthOrHeightChange,s,t),this[i(1276)](i(758),i(1594))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q[r(690)],s,t),this[r(1276)](r(758),r(1280),i)}))[e(1121)]((()=>{this[e(315)]=!1}))}}[KL(818)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)]("JbPro",e(1337)));if(this[e(1017)])return void this[e(573)](e(758),e(1047));const s=this[e(380)]();if(this[e(1017)]=!0,this.player&&this[e(849)]._opt[e(1463)]){this[e(573)](e(758),e(1033));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={mseDecodeAudio:!1,syncAudioAndVideo:!0};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this._resetPlayer(n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(852)),this._replaySuccessAndNext()}))[n(401)]((e=>{const i=n;this.emit(H.playFailedAndPaused,Q[i(1384)],s,t),this[i(1276)]("JbPro",i(1221),e)})).finally((()=>{this[n(1017)]=!1}))})).catch((i=>{const r=e;this[r(1017)]=!1,this[r(325)](H[r(790)],Q[r(1384)],s,t),this[r(1276)](r(758),r(881),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this._pause(i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q.mediaSourceAudioG711NotSupport,s,t),this[i(1276)](i(758),i(557))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q.mediaSourceAudioG711NotSupport,s,t),this[r(1276)]("JbPro","mediaSourceAudioG711NotSupport error and pause error",i)}))[e(1121)]((()=>{this[e(1017)]=!1}))}}[KL(346)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1529)));if(this.mediaSourceAudioInitTimeoutOnLock)return void this[e(573)](e(758),e(1570));const s=this[e(380)]();if(this[e(734)]=!0,this[e(849)]&&this[e(849)]._opt[e(1647)]){this[e(573)](e(758),e(1301));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={mseDecodeAudio:!1,syncAudioAndVideo:!0};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(799)](n)[e(608)]((()=>{const n=e;this.play(i,r).then((()=>{const t=qL;this.debugLog("JbPro",t(688)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q[i(1362)],s,t),this[i(1276)]("JbPro","mediaSourceAudioInitTimeout and reset player and play error",e)}))[n(1121)]((()=>{this[n(734)]=!1}))}))[e(401)]((i=>{const r=e;this[r(734)]=!1,this.emit(H.playFailedAndPaused,Q[r(1362)],s,t),this.debugError(r(758),r(368),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this.player.setPlayFailedAndPaused(),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q[i(1362)],s,t),this[i(1276)]("JbPro",i(1403))})).catch((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(1362)],s,t),this.debugError(r(758),r(1307),i)})).finally((()=>{this[e(734)]=!1}))}}[KL(938)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),e(1459)));if(this[e(1029)])return void this[e(573)](e(758),"mediaSourceAudioNoDataTimeoutOnLock is true");const s=this._getVideoLastIframeInfo();if(this[e(1029)]=!0,this[e(849)]&&this[e(849)][e(857)][e(904)]){this.debugLog(e(758),e(1520));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={mseDecodeAudio:!1};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(799)](n).then((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)]("JbPro","mediaSourceAudioNoDataTimeout and reset player and play success"),this[t(1270)]()}))[n(401)]((e=>{const i=n;this.emit(H[i(790)],Q[i(1131)],s,t),this[i(1276)](i(758),i(1206),e)}))[n(1121)]((()=>{this[n(1029)]=!1}))}))[e(401)]((i=>{const r=e;this[r(1029)]=!1,this[r(325)](H[r(790)],Q[r(1131)],s,t),this[r(1276)](r(758),r(1539),i)}))}else{const i=!1===this[e(857)][e(627)];this.player[e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(1131)],s,t),this.debugError(i(758),"mediaSourceAudioNoDataTimeout and mediaSourceAudioNoDataTimeoutReplay isfalse pause success")})).catch((i=>{const r=e;this.emit(H[r(790)],Q.mediaSourceAudioNoDataTimeout,s,t),this.debugError("JbPro","mediaSourceAudioNoDataTimeout error and pause error",i)}))[e(1121)]((()=>{this[e(1029)]=!1}))}}[KL(953)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),"mseWorkerAddSourceBufferError but player is destroyed"));if(this.mseWorkerAddSourceBufferErrorOnLock)return void this[e(573)](e(758),e(732));const s=this[e(380)]();if(this[e(1257)]=!0,this[e(849)]&&this.player[e(857)][e(527)]){this[e(573)](e(758),"mseWorkerAddSourceBufferError and reset player and play");const i=this[e(857)][e(676)],r=this._opt[e(1621)];let n={mseDecoderUseWorker:!1};n=this[e(1061)](s,n),this._resetPlayer(n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this.debugLog(t(758),t(793)),this[t(1270)]()})).catch((e=>{const i=n;this[i(325)](H[i(790)],Q[i(1038)],s,t),this[i(1276)]("JbPro","mseWorkerAddSourceBufferError and reset player and play error",e)}))[n(1121)]((()=>{this.mseWorkerAddSourceBufferErrorOnLock=!1}))}))[e(401)]((i=>{const r=e;this[r(1257)]=!1,this[r(325)](H[r(790)],Q.mseWorkerAddSourceBufferError,s,t),this[r(1276)]("JbPro","mseWorkerAddSourceBufferError and _resetPlayer error",i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this._pause(i)[e(608)]((()=>{const i=e;this.emit(H.playFailedAndPaused,Q[i(1038)],s,t),this.debugError("JbPro",i(969))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1038)],s,t),this.debugError("JbPro","mseWorkerAddSourceBufferError error and pause error",i)}))[e(1121)]((()=>{this[e(1257)]=!1}))}}[KL(494)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1385)));if(this.playVodMseDecodeVideoErrorOnLock)return void this.debugLog(e(758),e(1462));this[e(325)](H[e(313)],this[e(328)](Q[e(860)],t));const s=this[e(380)]();this.playVodMseDecodeVideoErrorOnLock=!0;const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={};n=this[e(1061)](s,n),this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(1417)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q[i(860)],s,t),this.debugError(i(758),i(684),e)}))[n(1121)]((()=>{this.playVodMseDecodeVideoErrorOnLock=!1}))}))[e(401)]((i=>{const r=e;this.playVodMseDecodeVideoErrorOnLock=!1,this[r(325)](H.playFailedAndPaused,Q[r(860)],s,t),this[r(1276)](r(758),r(384),i)}))}[KL(907)](t){const e=KL;if(this.isDestroyed())this.debug&&this[e(573)](e(758),e(868));else if(this.mediaSourceUseCanvasRenderPlayFailedOnLock)this[e(573)]("JbPro",e(992));else if(this.emit(H[e(313)],this.getCrashLog(Q.mediaSourceUseCanvasRenderPlayFailed,t)),this[e(1546)]=!0,this[e(849)]&&this.player._opt[e(656)]&&this[e(849)][e(857)][e(598)]){this[e(573)]("JbPro",e(767)+this[e(849)][e(857)][e(598)]+e(1603));const s=this._opt.url,i=this[e(857)].playOptions;let r={};const n=this[e(849)]._opt[e(598)];n===A[e(484)]?r={useMSE:!1,useWCS:!1}:n===A.video&&(r={videoRenderType:A.video}),this[e(799)](r)[e(608)]((()=>{const r=e;this[r(1026)](s,i).then((()=>{const t=r;this[t(573)](t(758),t(789)),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this[s(325)](H[s(790)],Q[s(564)],{},t),this[s(1276)](s(758),s(730),e)})).finally((()=>{this[r(1546)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1546)]=!1,this[i(325)](H[i(790)],Q[i(564)],{},t),this[i(1276)](i(758),i(634),s)}))}else{const s=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1572)](s).then((()=>{const t=e;this[t(573)](t(758),t(1615))}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q.mediaSourceUseCanvasRenderPlayFailed,{},t),this.debugError(i(758),i(1004),s)}))[e(1121)]((()=>{this[e(1546)]=!1}))}}_handleWebcodecsH265NotSupport(t){const e=KL;if(this.isDestroyed())this[e(1425)]&&this[e(573)]("JbPro","webcodecsH265NotSupport but player is destroyed");else if(this.webcodecsH265NotSupportOnLock)this[e(573)]("JbPro",e(866));else if(this[e(325)](H[e(313)],this[e(328)](Q[e(1581)],t)),this[e(1421)]=!0,this[e(849)]&&this[e(849)]._opt.hardDecodingNotSupportAutoWasm){this[e(573)](e(758),e(1289));const s=this[e(857)][e(676)],i=this._opt[e(1621)];this[e(799)]({useMSE:!1,useWCS:!1}).then((()=>{const r=e;this.play(s,i).then((()=>{const t=qL;this[t(573)](t(758),"webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play success"),this._replaySuccessAndNext()})).catch((e=>{const s=qL;this[s(325)](H[s(790)],Q[s(1581)],{},t),this[s(1276)](s(758),s(417),e)}))[r(1121)]((()=>{this[r(1421)]=!1}))}))[e(401)]((t=>{const s=e;this[s(1421)]=!1,this[s(1276)](s(758),"webcodecsH265NotSupport auto wasm [wcs-> wasm] _resetPlayer and play error",t)}))}else{const s=!1===this[e(857)].playFailedUseLastFrameShow;this.player[e(1019)](),this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(1581)],{},t),this[s(573)]("JbPro","webcodecsH265NotSupport and autoWasm is false , pause success")}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q.webcodecsH265NotSupport,{},t),this[i(1276)]("JbPro",i(724),s)}))[e(1121)]((()=>{this[e(1421)]=!1}))}}[KL(1612)](t){const e=KL;if(this[e(1660)]())this[e(1425)]&&this[e(573)](e(758),e(530));else if(this.webcodecsUnsupportedConfigurationErrorOnLock)this[e(573)](e(758),e(966));else if(this[e(325)](H[e(313)],this[e(328)](Q[e(592)],t)),this[e(1003)]=!0,this[e(849)]&&this.player[e(857)].hardDecodingNotSupportAutoWasm){this[e(573)]("JbPro","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play");const s=this[e(857)][e(676)],i=this[e(857)][e(1621)];this[e(799)]({useMSE:!1,useWCS:!1})[e(608)]((()=>{const r=e;this[r(1026)](s,i).then((()=>{const t=r;this[t(573)](t(758),t(979)),this[t(1270)]()}))[r(401)]((e=>{const s=r;this[s(325)](H.playFailedAndPaused,Q[s(592)],{},t),this[s(1276)](s(758),"webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play error",e)}))[r(1121)]((()=>{this[r(1003)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1003)]=!1,this[i(325)](H[i(790)],Q[i(592)],{},t),this[i(1276)](i(758),"webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] _resetPlayer and play error",s)}))}else{const s=!1===this._opt[e(627)];this[e(849)][e(1019)](),this[e(1572)](s)[e(608)]((()=>{const s=e;this.emit(H.playFailedAndPaused,Q[s(592)],{},t),this[s(573)]("JbPro","webcodecsUnsupportedConfigurationError and autoWasm is false , pause success")})).catch((s=>{const i=e;this[i(325)](H.playFailedAndPaused,Q[i(592)],{},t),this[i(1276)](i(758),i(795),s)}))[e(1121)]((()=>{this[e(1003)]=!1}))}}[KL(1590)](t){const e=KL;if(this.isDestroyed())this.debug&&this.debugLog("JbPro",e(1371));else if(this[e(699)])this[e(573)](e(758),e(963));else if(this.emit(H[e(313)],this[e(328)](Q[e(1287)],t)),this[e(849)]&&this[e(849)]._opt[e(527)]){this[e(573)]("JbPro","webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play");const s=this._opt[e(676)],i=this[e(857)].playOptions;this[e(799)]({useMSE:!1,useWCS:!1})[e(608)]((()=>{const r=e;this.play(s,i)[r(608)]((()=>{const t=r;this[t(573)](t(758),t(1203)),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this[s(325)](H.playFailedAndPaused,Q.webcodecsDecodeConfigureError,{},t),this[s(1276)](s(758),"webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play error",e)}))[r(1121)]((()=>{this[r(699)]=!1}))})).catch((s=>{const i=e;this[i(699)]=!1,this[i(325)](H.playFailedAndPaused,Q[i(1287)],{},t),this[i(1276)](i(758),"webcodecsDecodeConfigureError auto wasm [wcs-> wasm] _resetPlayer and play error",s)}))}else{const s=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(1287)],{},t),this.debugLog(s(758),s(354))})).catch((s=>{const i=e;this[i(325)](H[i(790)],Q.webcodecsDecodeConfigureError,{},t),this[i(1276)]("JbPro","webcodecsDecodeConfigureError and pause error",s)}))[e(1121)]((()=>{this[e(699)]=!1}))}}_handleWebcodecsDecodeError(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1451)));if(this[e(1164)])return void this[e(573)](e(758),e(1489));this[e(325)](H[e(313)],this[e(328)](Q[e(1469)],t));const s=this[e(380)]();if(this[e(1164)]=!0,this[e(849)]&&this[e(849)]._opt[e(1566)]){const i=this._opt[e(676)],r=this._opt.playOptions;let n={},o=this[e(849)][e(857)][e(725)],a=!0,h=this[e(849)][e(1132)]()&&-1!==t[e(1271)](St[e(752)]),l=o||h;l?n={useMSE:!1,useWCS:!1}:this[e(543)](Qt.wcsDecodeError)?this._wcsDecodeErrorRetryLog[e(601)](is()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this.debugLog(e(758),e(1599)+(Ri(a)?" and is not meaningful Retry":"")+e(705)+e(l?1573:1478)+e(418));let c={};h&&(c[e(552)]=!0),n=this[e(1061)](s,n,c),this._resetPlayer(n).then((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(1586)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q[i(1469)],s,t),this[i(1276)](i(758),i(1015),e)}))[n(1121)]((()=>{this[n(1164)]=!1}))}))[e(401)]((()=>{const i=e;this[i(1164)]=!1,this[i(325)](H[i(790)],Q.webcodecsDecodeError,s,t),this[i(1276)](i(758),i(1260))}))}else{const i=!1===this[e(857)][e(627)];this.player[e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q[i(1469)],s,t),this.debugLog(i(758),i(1587))}))[e(401)]((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(1469)],s,t),this[r(1276)]("JbPro",r(1209),i)}))[e(1121)]((()=>{this[e(1164)]=!1}))}}[KL(334)](t){const e=KL;if(this[e(1660)]())return void(this.debug&&this[e(573)]("JbPro",e(630)));if(this[e(585)])return void this.debugLog(e(758),e(754));this[e(325)](H[e(313)],this[e(328)](Q[e(1218)],t));const s=this[e(380)]();if(this.wcsWidthOrHeightChangeOnLock=!0,this[e(849)]&&this[e(849)][e(857)][e(894)]){this[e(573)](e(758),"wcsWidthOrHeightChange and reset player and play");const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n=this[e(1061)](s);this[e(799)](n).then((()=>{const n=e;this[n(857)].widthOrHeightChangeReplayDelayTime>0?this[n(458)]=setTimeout((()=>{const e=n;this.widthOrHeightChangeReplayDelayTimeout=null,this[e(1660)]()?this[e(1425)]&&this[e(573)](e(758),e(327)):this[e(1026)](i,r).then((()=>{const t=e;this[t(573)](t(758),t(929)),this[t(1270)]()}))[e(401)]((i=>{const r=e;this.emit(H.playFailedAndPaused,Q[r(1218)],s,t),this[r(1276)](r(758),"wcsWidthOrHeightChange and reset player and play error",i)}))[e(1121)]((()=>{this[e(585)]=!1}))}),1e3*this[n(857)].widthOrHeightChangeReplayDelayTime):this[n(1026)](i,r)[n(608)]((()=>{const t=n;this.debugLog(t(758),t(929))}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q[i(1218)],s,t),this[i(1276)](i(758),"wcsWidthOrHeightChange and reset player and play error",e)}))[n(1121)]((()=>{this[n(585)]=!1}))}))[e(401)]((i=>{const r=e;this[r(585)]=!1,this[r(325)](H.playFailedAndPaused,Q[r(1218)],s,t),this.debugError(r(758),"wcsWidthOrHeightChange and _resetPlayer error",i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i).then((()=>{const i=e;this.emit(H[i(790)],Q[i(1218)],s,t),this.debugError(i(758),"wcsWidthOrHeightChange and widthOrHeightChangeReplay is false , pause success")})).catch((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1218)],s,t),this.debugError("JbPro",r(1418),i)}))[e(1121)]((()=>{this[e(585)]=!1}))}}_handleWebcodecsAudioNoDataTimeout(t){const e=KL;if(this[e(1660)]())return void(this.debug&&this[e(573)]("JbPro",e(1432)));if(this[e(620)])return void this.debugLog(e(758),"webcodecsAudioNoDataTimeoutOnLock is true");const s=this[e(380)]();if(this[e(620)]=!0,this[e(849)]&&this[e(849)][e(857)][e(304)]){this[e(573)](e(758),"webcodecsAudioNoDataTimeout and reset player and play");const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={wcsDecodeAudio:!1};n=this[e(1061)](s,n,{isInitDecodeError:!0}),this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)]("JbPro",t(882)),this._replaySuccessAndNext()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q[i(1010)],s,t),this[i(1276)](i(758),"webcodecsAudioNoDataTimeout and reset player and play error",e)})).finally((()=>{this[n(620)]=!1}))})).catch((i=>{const r=e;this[r(620)]=!1,this[r(325)](H[r(790)],Q[r(1010)],s,t),this[r(1276)](r(758),r(1379),i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q.webcodecsAudioNoDataTimeout,s,t),this[i(1276)](i(758),i(1540))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q[r(1010)],s,t),this[r(1276)]("JbPro",r(682),i)}))[e(1121)]((()=>{this.webcodecsAudioNoDataTimeoutOnLock=!1}))}}_handleWebcodecsAudioInitTimeout(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),"webcodecsAudioInitTimeout but player is destroyed"));if(this.webcodecsAudioInitTimeoutOnLock)return void this[e(573)](e(758),e(1532));const s=this[e(380)]();if(this[e(369)]=!0,this[e(849)]&&this[e(849)][e(857)][e(395)]){this[e(573)](e(758),e(1328));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n={wcsDecodeAudio:!1};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(799)](n).then((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)]("JbPro",t(1166)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q.webcodecsAudioInitTimeout,s,t),this[i(1276)](i(758),i(1238),e)}))[n(1121)]((()=>{this[n(369)]=!1}))}))[e(401)]((i=>{const r=e;this[r(369)]=!1,this[r(325)](H[r(790)],Q[r(962)],s,t),this[r(1276)](r(758),"webcodecsAudioInitTimeout and _resetPlayer error",i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this._pause(i).then((()=>{const i=e;this[i(325)](H[i(790)],Q[i(962)],s,t),this[i(1276)](i(758),i(807))})).catch((i=>{const r=e;this.emit(H[r(790)],Q[r(962)],s,t),this.debugError("JbPro",r(398),i)}))[e(1121)]((()=>{this[e(369)]=!1}))}}_handleWebcodecsAudioDecodeError(){const t=KL;if(this.isDestroyed())return void(this.debug&&this[t(573)](t(758),t(503)));if(this[t(1279)])return void this.debugLog(t(758),t(1273));const e=this[t(380)]();if(this.webcodecsAudioDecodeErrorOnLock=!0,this[t(849)]&&this.player[t(857)][t(1230)]){this[t(573)]("JbPro","webcodecsAudioDecodeError and reset player and play");const s=this[t(857)][t(676)],i=this._opt.playOptions;let r={wcsDecodeAudio:!1};r=this._resetPlayerBeforeUpdateOptions(e,r),this._resetPlayer(r)[t(608)]((()=>{const r=t;this.play(s,i)[r(608)]((()=>{const t=r;this[t(573)]("JbPro",t(1119)),this[t(1270)]()}))[r(401)]((t=>{const s=r;this.emit(H[s(790)],Q[s(457)],e,error),this[s(1276)]("JbPro","webcodecsAudioDecodeError and reset player and play error",t)}))[r(1121)]((()=>{this[r(1279)]=!1}))}))[t(401)]((s=>{const i=t;this[i(1279)]=!1,this[i(325)](H.playFailedAndPaused,Q[i(457)],e,error),this[i(1276)](i(758),i(372),s)}))}else{const s=!1===this._opt[t(627)];this[t(849)][t(1019)](),this[t(1633)]=e,this[t(1572)](s)[t(608)]((()=>{const s=t;this[s(325)](H.playFailedAndPaused,Q[s(457)],e,error),this[s(1276)](s(758),s(1413))}))[t(401)]((s=>{const i=t;this[i(325)](H[i(790)],Q[i(457)],e,error),this[i(1276)](i(758),i(1473),s)}))[t(1121)]((()=>{this[t(1279)]=!1}))}}[KL(1059)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this.debugLog("JbPro",e(452)));if(this[e(1248)])return void this[e(573)](e(758),"simdDecodeErrorOnLock is true");this[e(325)](H[e(313)],this[e(328)](Q[e(1386)],t));const s=this._getVideoLastIframeInfo();if(this[e(1248)]=!0,this[e(849)]&&this[e(849)][e(857)].simdDecodeErrorReplay){this.debugLog(e(758),"simdDecodeError error simdDecodeErrorReplayType is "+this[e(849)][e(857)][e(1116)]+e(1603));const i=this[e(857)].url,r=this._opt[e(1621)];let n={};this.player[e(857)].simdDecodeErrorReplayType===y[e(1573)]&&(n={useSIMD:!1}),n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(799)](n).then((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(510)),this[t(1270)]()})).catch((e=>{const i=n;this[i(325)](H[i(790)],Q.simdDecodeError,s,t),this[i(1276)](i(758),i(1415),e)}))[n(1121)]((()=>{this[n(1248)]=!1}))}))[e(401)]((i=>{const r=e;this[r(1248)]=!1,this[r(325)](H[r(790)],Q[r(1386)],s,t),this[r(1276)]("JbPro","simdDecodeError and _resetPlayer error",i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(1386)],s,t),this.debugError(i(758),"simdDecodeError and simdDecodeErrorReplay is false , pause success")}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q.simdDecodeError,s,t),this.debugError(r(758),r(438),i)})).finally((()=>{this.simdDecodeErrorOnLock=!1}))}}[KL(908)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),"simdDecodeDelayTimeout but player is destroyed"));if(this.simdDecodeDelayTimeoutOnLock)return void this[e(573)](e(758),e(1104));this[e(325)](H[e(313)],this.getCrashLog(Q[e(1110)],t));const s=this._getVideoLastIframeInfo();if(this.simdDecodeDelayTimeoutOnLock=!0,this[e(849)]&&this.player[e(857)].simdDecodeErrorReplay){this[e(573)]("JbPro",e(324)+this[e(849)][e(857)][e(1116)]+e(1603));const i=this[e(857)].url,r=this[e(857)].playOptions;let n={};this[e(849)][e(857)].simdDecodeErrorReplayType===y[e(1573)]?n={useSIMD:!1}:this[e(849)][e(857)][e(1116)]===y.simdFFmpeg&&(n={isFFmpegSIMD:!0}),n=this[e(1061)](s,n),this[e(799)](n)[e(608)]((()=>{const n=e;this.play(i,r).then((()=>{const t=qL;this[t(573)](t(758),t(579)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q.simdDecodeDelayTimeout,s,t),this[i(1276)]("JbPro",i(345),e)}))[n(1121)]((()=>{this.simdDecodeDelayTimeoutOnLock=!1}))}))[e(401)]((i=>{const r=e;this[r(1049)]=!1,this[r(325)](H[r(790)],Q[r(1110)],s,t),this[r(1276)](r(758),r(1192),i)}))}else{const i=!1===this._opt[e(627)];this[e(849)][e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q.simdDecodeDelayTimeout,s,t),this[i(1276)]("JbPro",i(1525))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1110)],s,t),this[r(1276)](r(758),r(1426),i)}))[e(1121)]((()=>{this.simdDecodeDelayTimeoutOnLock=!1}))}}_handleWasmWidthOrHeightChange(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),"wasmWidthOrHeightChange but player is destroyed"));if(this[e(377)])return void this.debugLog("JbPro","wasmWidthOrHeightChangeOnLock is true");this[e(325)](H[e(313)],this[e(328)](Q[e(949)],t));const s=this[e(380)]();if(this.wasmWidthOrHeightChangeOnLock=!0,this[e(849)]&&this[e(849)][e(857)][e(894)]){this[e(573)](e(758),e(565));const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const n=e;this._opt[n(1440)]>0?this[n(458)]=setTimeout((()=>{const e=n;this[e(458)]=null,this[e(1660)]()?this[e(1425)]&&this[e(573)](e(758),e(351)):this[e(1026)](i,r)[e(608)]((()=>{const t=e;this[t(573)]("JbPro",t(1343)),this[t(1270)]()}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q.wasmWidthOrHeightChange,s,t),this[r(1276)](r(758),r(1243),i)}))[e(1121)]((()=>{this[e(377)]=!1}))}),1e3*this[n(857)][n(1440)]):this[n(1026)](i,r)[n(608)]((()=>{this[n(573)]("JbPro","wasmWidthOrHeightChange and reset player and play success")}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q.wasmWidthOrHeightChange,s,t),this[i(1276)](i(758),"wasmWidthOrHeightChange and reset player and play error",e)}))[n(1121)]((()=>{this.wasmWidthOrHeightChangeOnLock=!1}))}))[e(401)]((i=>{const r=e;this[r(377)]=!1,this.emit(H[r(790)],Q.wasmWidthOrHeightChange,s,t),this[r(1276)](r(758),r(1009),i)}))}else{const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i).then((()=>{const i=e;this[i(325)](H[i(790)],Q[i(949)],s,t),this[i(1276)](i(758),i(751))})).catch((i=>{const r=e;this[r(325)](H[r(790)],Q[r(949)],s,t),this.debugError(r(758),r(1635),i)}))[e(1121)]((()=>{this[e(377)]=!1}))}}[KL(1326)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1535)));if(this[e(1436)])return void this[e(573)](e(758),e(935));this[e(325)](H[e(313)],this.getCrashLog(Q[e(562)],t)),this.debugLog("JbPro",e(1514));const s=this[e(857)][e(676)],i=this[e(857)][e(1621)];this[e(1436)]=!0,this[e(799)]({videoRenderType:A[e(484)]})[e(608)]((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this[t(573)](t(758),"wasmUseVideoRenderError and reset player and play success"),this[t(1270)]()})).catch((e=>{const s=r;this[s(325)](H[s(790)],Q[s(562)],{},t),this[s(1276)]("JbPro","wasmUseVideoRenderError and reset player and play error",e)}))[r(1121)]((()=>{this[r(1436)]=!1}))}))[e(401)]((s=>{const i=e;this[i(1436)]=!1,this.emit(H[i(790)],Q[i(562)],{},t),this[i(1276)](i(758),i(683),s)}))}[KL(1619)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)]("JbPro",e(610)));if(this[e(1608)])return void this[e(573)](e(758),"notSupportNewWasmOnLock is true");this[e(325)](H[e(313)],this[e(328)](Q[e(355)],t)),this[e(1608)]=!0,this[e(573)](e(758),e(1585));const s=this[e(857)][e(676)],i=this[e(857)].playOptions;this[e(799)]({useOldWasm:!0})[e(608)]((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this[t(573)](t(758),t(666)),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this.emit(H.playFailedAndPaused,Q[s(1581)],{},t),this[s(1276)](s(758),s(1005),e)})).finally((()=>{this[r(1608)]=!1}))}))[e(401)]((t=>{const s=e;this.notSupportNewWasmOnLock=!1,this[s(1276)](s(758),"notSupportNewWasm auto wasm [wasm-> old wasm] _resetPlayer and play error",t)}))}[KL(1625)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),"failedToAsynchronouslyPrepareWasm but player is destroyed"));if(this[e(741)])return void this[e(573)](e(758),"failedToAsynchronouslyPrepareWasm is true");this[e(325)](H[e(313)],this[e(328)](Q[e(1321)],t)),this.failedToAsynchronouslyPrepareWasmLock=!0;const s=!1===this._opt[e(627)];this[e(849)].setPlayFailedAndPaused(),this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H.playFailedAndPaused,Q[s(1321)],{},t),this[s(1276)](s(758),"failedToAsynchronouslyPrepareWasm，pause success")})).catch((s=>{const i=e;this[i(325)](H[i(790)],Q[i(1321)],{},t),this.debugError("JbPro",i(1295),s)}))[e(1121)]((()=>{this[e(741)]=!1}))}[KL(1375)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1443)));if(this[e(421)])return void this[e(573)]("JbPro","videoElementPlayingFailedOnLock is true");this[e(325)](H[e(313)],this[e(328)](Q[e(1320)],t));const s=this[e(380)]();if(this[e(421)]=!0,this[e(849)]&&this[e(849)]._opt[e(827)]){this[e(573)](e(758),e(737)+this[e(857)][e(379)]+e(1603));const i=this[e(857)][e(676)],r=this[e(857)].playOptions;let n={useMSE:!1,videoRenderType:A.canvas};n=this[e(1061)](s,n),this._resetPlayer(n).then((()=>{const n=e;this.play(i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(318)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,Q.videoElementPlayingFailed,s,t),this.debugError(i(758),i(381),e)})).finally((()=>{this[n(421)]=!1}))}))[e(401)]((i=>{const r=e;this[r(421)]=!1,this[r(325)](H[r(790)],Q[r(1320)],s,t),this[r(1276)](r(758),r(788),i)}))}else{const i=!1===this._opt.playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H.playFailedAndPaused,Q[i(1320)],s,t),this[i(1276)](i(758),i(1394))}))[e(401)]((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(1320)],s,t),this[r(1276)](r(758),r(529),i)})).finally((()=>{this.videoElementPlayingFailedOnLock=!1}))}}[KL(594)](t){const e=KL;if(this.isDestroyed())this[e(1425)]&&this[e(573)]("JbPro",e(952));else if(this.simdH264DecodeVideoWidthIsTooLargeOnLock)this[e(573)](e(758),"simdH264DecodeVideoWidthIsTooLargeOnLock is true");else if(this[e(325)](H.crashLog,this[e(328)](Q[e(1114)],t)),this[e(1168)]=!0,this[e(849)]&&this.player[e(857)][e(1244)]){this[e(573)]("JbPro",e(1557));const s=this[e(857)][e(676)],i=this[e(857)].playOptions;this[e(799)]({useSIMD:!1})[e(608)]((()=>{const r=e;this[r(1026)](s,i).then((()=>{const t=r;this[t(573)](t(758),"simdH264DecodeVideoWidthIsTooLarge and reset player and play success"),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this[s(325)](H.playFailedAndPaused,Q[s(1114)],{},t),this[s(1276)](s(758),s(937),e)}))[r(1121)]((()=>{this.simdH264DecodeVideoWidthIsTooLargeOnLock=!1}))}))[e(401)]((s=>{const i=e;this[i(1168)]=!1,this[i(325)](H.playFailedAndPaused,Q[i(1114)],{},t),this[i(1276)](i(758),i(864),s)}))}else{const s=!1===this._opt[e(627)];this[e(849)][e(1019)](),this._pause(s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(1114)],{},t),this[s(1276)]("JbPro",s(842))}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q.simdH264DecodeVideoWidthIsTooLarge,{},t),this.debugError(i(758),i(1410),s)}))[e(1121)]((()=>{this[e(1168)]=!1}))}}[KL(823)](t){const e=KL;if(this[e(849)][e(857)][e(1292)]){if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1387)));if(this.networkDelayTimeoutOnLock)return void this[e(573)]("JbPro",e(333));this[e(325)](H[e(313)],this[e(328)](H[e(1041)],t));const s=this[e(380)]();this[e(573)](e(758),e(936));const i=this[e(857)][e(676)],r=this[e(857)].playOptions;let n=this._resetPlayerBeforeUpdateOptions(s);this[e(1530)]=!0,this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](t(758),t(663)),this[t(1270)]()})).catch((e=>{const i=n;this.emit(H.playFailedAndPaused,H[i(1041)],s,t),this[i(1276)](i(758),i(1510),e)}))[n(1121)]((()=>{this[n(1530)]=!1}))}))[e(401)]((i=>{const r=e;this.networkDelayTimeoutOnLock=!1,this.emit(H.playFailedAndPaused,H.networkDelayTimeout,s,t),this[r(1276)](r(758),r(833),i)}))}}[KL(836)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),"flvDemuxBufferSizeTooLarge but player is destroyed"));if(Ri(this[e(849)][e(857)][e(885)]||this._opt[e(521)]))return;if(this[e(356)])return void this[e(573)](e(758),e(640));const s=this[e(380)]();if(this.flvDemuxBufferSizeTooLargeOnLock=!0,this[e(325)](H.crashLog,this.getCrashLog(H[e(1435)],t)),this[e(849)][e(857)][e(885)]){this.debugLog(e(758),"flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeReplay = true and reset player and play");const i=this[e(857)][e(676)],r=this._opt.playOptions;let n=this[e(1061)](s);this[e(799)](n).then((()=>{const n=e;this[n(1026)](i,r)[n(608)]((()=>{const t=n;this[t(573)](this[t(1272)],t(796)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],H[i(1435)],s,t),this[i(1276)](this[i(1272)],i(1431),e)}))[n(1121)]((()=>{this[n(356)]=!1}))})).catch((i=>{const r=e;this[r(356)]=!1,this[r(325)](H[r(790)],H.flvDemuxBufferSizeTooLarge,s,t),this[r(1276)](this[r(1272)],r(672),i)}))}else if(this._opt[e(521)]){this[e(573)](this[e(1272)],e(478));const i=!1===this[e(857)][e(627)];this.player[e(1019)](),this[e(1633)]=s,this[e(1572)](i).then((()=>{const i=e;this.emit(H[i(790)],Q[i(1435)],s,t),this[i(573)](this[i(1272)],i(1484))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1435)],s,t),this[r(1276)](this[r(1272)],"flv Demux Buffer Size Too Large",i)})).finally((()=>{this[e(356)]=!1}))}}_handleFetchError(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)]("JbPro",e(1654)));if(this[e(509)])return void this.debugLog(e(758),e(1407));this[e(325)](H[e(313)],this[e(328)](Q[e(443)],t));const s=this[e(380)](),i=this[e(1482)]();if(this[e(509)]=!0,this[e(849)][e(857)].streamErrorReplay||i){i?this[e(573)](e(758),e(859)):this.debugLog(e(758),e(1198)+this[e(1588)]+e(1487)+this[e(857)][e(403)]+e(1360));let r=this._resetPlayerBeforeUpdateOptions(s);const n=this._opt[e(1621)],o=this._opt[e(676)],a=i?1:this[e(857)][e(403)];this[e(799)](r)[e(608)]((()=>{const s=e;this[s(1568)]=setTimeout((()=>{const e=s;if(this[e(1568)]=null,!this[e(1660)]())return this._isNeedNetworkDisconnectReplay()?(this[e(573)](e(758),e(476)),this[e(1661)]=!0,void(this[e(1175)]={url:o,options:n,type:Q[e(443)]})):(this._streamErrorReplayTimes++,void this[e(1026)](o,n)[e(608)]((()=>{const t=e;this[t(573)](t(758),"fetch error and reset player and play success"),this._replaySuccessAndNext()}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q[i(443)],{},t),this[i(1276)](i(758),i(1518),s)}))[e(1121)]((()=>{this[e(509)]=!1})));this.debug&&this[e(573)](e(758),"fetch error and _resetPlayer but player is destroyed and return")}),1e3*a)}))[e(401)]((s=>{const i=e;this[i(509)]=!1,this[i(325)](H[i(790)],Q[i(443)],{},t),this.debugError("JbPro","fetch error and _resetPlayer error",s)}))}else{this[e(573)](e(758),"fetch error and pause player");const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(443)],s,t),this[i(573)](i(758),"fetch error and pause player success")}))[e(401)]((i=>{const r=e;this[r(325)](H.playFailedAndPaused,Q[r(443)],s,t),this[r(1276)](r(758),r(998),i)}))[e(1121)]((()=>{this[e(509)]=!1}))}}[KL(1184)](t){const e=KL;if(this[e(1660)]())return void(this.debug&&this[e(573)](e(758),e(967)));if(this[e(330)])return void this.debugLog(e(758),e(883));this[e(325)](H[e(313)],this[e(328)](H[e(1551)],t));const s=this[e(380)](),i=""+t===e(1405)&&this.player[e(857)][e(1381)],r=!!i&&this._checkIsMeaningfulRetry(Qt[e(1153)]),n=i&&r,o=this[e(849)][e(857)].streamEndReplay,a=this._isNeedNetworkDisconnectReplay();if(this.streamEndOnLock=!0,n||o||a){a?this[e(573)](e(758),e(505)):n?this[e(573)](e(758),e(1083)+this[e(466)]+e(1161)+this[e(857)][e(1140)]+"s reset player and play"):this[e(573)](e(758),"streamEnd and isStreamEndReplay is true and and _streamEndReplayTimes is "+this[e(735)]+" , delay "+this[e(857)][e(1108)]+e(1013));const r=this[e(857)][e(1621)],o=this._opt[e(676)];i&&this._websocket1006ErrorRetryLog[e(601)](is());let h=this[e(1061)](s),l=n?this[e(857)][e(1140)]:this[e(857)].streamEndReplayDelayTime;a&&(l=1),this[e(799)](h)[e(608)]((()=>{const s=e;this[s(1605)]=setTimeout((()=>{const e=s;if(this[e(1605)]=null,this[e(706)](),!this[e(1660)]())return this._isNeedNetworkDisconnectReplay()?(n?this[e(573)](e(758),e(1496)):this[e(573)](e(758),"streamEnd and network is offline and wait network online to play , so return"),this[e(1661)]=!0,void(this[e(1175)]={url:o,options:r,type:n?Q[e(1423)]:Q[e(1551)]})):(n?this[e(466)]++:this[e(735)]++,void this.play(o,r)[e(608)]((()=>{const t=e;n?this[t(573)](t(758),"streamEnd and 1006 error and reset player and play success"):this[t(573)](t(758),t(1409)),this[t(1270)]()}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q[i(1551)],{},t),n?this[i(1276)]("JbPro",i(1306),s):this.debugError(i(758),i(1023),s)}))[e(1121)]((()=>{this[e(330)]=!1})));a?this[e(1425)]&&this[e(573)](e(758),"streamEnd and network is disconnect and _resetPlayer() but player is destroyed and return"):n?this[e(1425)]&&this.debugLog(e(758),e(711)):this.debug&&this[e(573)]("JbPro",e(750))}),1e3*l)})).catch((s=>{const i=e;this[i(330)]=!1,this[i(325)](H.playFailedAndPaused,Q.streamEnd,{},t),n?this[i(1276)](i(758),i(974),s):this[i(1276)](i(758),i(1454),s)}))}else{i?this[e(573)](e(758),e(636)+(Ri(r)?e(932):"")):this[e(573)](e(758),e(1197));const n=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](n)[e(608)]((()=>{const i=e;this.emit(H[i(790)],H[i(1551)],s,t),this[i(573)](i(758),i(1245))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],H[r(1551)],s,t),this[r(1276)](r(758),r(1492),i)}))[e(1121)]((()=>{this.streamEndOnLock=!1}))}}[KL(878)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(1130)));if(this[e(1277)])return void this[e(573)]("JbPro","websocketErrorOnLock is true");this[e(325)](H[e(313)],this[e(328)](Q[e(1524)],t));const s=this[e(380)](),i=this._isNeedNetworkDisconnectReplay();if(this[e(1277)]=!0,this.player[e(857)][e(1128)]||i){i?this[e(573)](e(758),e(472)):this[e(573)](e(758),e(1641)+this[e(1588)]+e(820)+this._opt.streamErrorReplayDelayTime+", next replay");let r=this[e(1061)](s);const n=this[e(857)][e(1621)],o=this[e(857)].url,a=i?1:this[e(857)].streamErrorReplayDelayTime;this._resetPlayer(r)[e(608)]((()=>{this.streamErrorReplayDelayTimeout=setTimeout((()=>{const e=qL;if(this[e(1568)]=null,!this.isDestroyed())return this[e(1482)]()?(this.debugLog("JbPro",e(1178)),this[e(1661)]=!0,void(this[e(1175)]={url:o,options:n,type:Q[e(1524)]})):(this[e(1588)]++,void this.play(o,n)[e(608)]((()=>{const t=e;this[t(573)](t(758),"websocketError error and reset player and play success"),this[t(1270)]()}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q[i(443)],{},t),this[i(1276)](i(758),i(874),s)}))[e(1121)]((()=>{this.websocketErrorOnLock=!1})));i?this[e(1425)]&&this[e(573)](e(758),e(1255)):this[e(1425)]&&this.debugLog("JbPro",e(549))}),1e3*a)}))[e(401)]((s=>{const i=e;this.websocketErrorOnLock=!1,this[i(325)](H[i(790)],Q[i(443)],{},t),this[i(1276)](i(758),"websocketError error and _resetPlayer error",s)}))}else{this[e(573)](e(758),"websocketError and pause player");const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this._playFailedAndPausedLastFrameInfo=s,this[e(1572)](i).then((()=>{const i=e;this.emit(H[i(790)],Q[i(1524)],s,t),this.debugLog(i(758),i(1159))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1524)],s,t),this[r(1276)](r(758),r(914),i)})).finally((()=>{this[e(1277)]=!1}))}}[KL(306)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),"webrtcError but player is destroyed"));if(this[e(783)])return void this[e(573)](e(758),e(513));this.emit(H[e(313)],this[e(328)](Q[e(1236)],t));const s=this[e(380)]();if(this[e(1482)]()){this[e(573)](e(758),e(537));const i=this._opt[e(1621)],r=this._opt[e(676)];let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const t=e;this._isNetworkOfflinePaused=!0,this[t(1175)]={url:r,options:i,type:Q.webrtcError}}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1236)],s,t),this[r(1276)](r(758),r(1663),i)}))[e(1121)]((()=>{this[e(783)]=!1}))}else{this[e(573)](e(758),"webrtcError and pause player");const i=!1===this[e(857)][e(627)];this[e(849)].setPlayFailedAndPaused(),this[e(1633)]=s,this[e(783)]=!0,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(1236)],s,t),this[i(573)](i(758),i(424))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],Q[r(1236)],s,t),this[r(1276)]("JbPro",r(989),i)}))[e(1121)]((()=>{this[e(783)]=!1}))}}[KL(982)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)](e(758),e(839)));if(this.hlsErrorOnLock)return void this[e(573)](e(758),e(491));this[e(325)](H[e(313)],this[e(328)](Q.hlsError,t));const s=this[e(380)]();if(this[e(1482)]()){this[e(573)](e(758),e(976));const i=this._opt.playOptions,r=this._opt.url;let n=this._resetPlayerBeforeUpdateOptions(s);this._resetPlayer(n)[e(608)]((()=>{const t=e;this[t(1661)]=!0,this[t(1175)]={url:r,options:i,type:Q.hlsError}}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1479)],s,t),this.debugError(r(758),r(413),i)}))[e(1121)]((()=>{this[e(567)]=!1}))}else{this[e(573)](e(758),e(959));const i=!1===this._opt[e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(567)]=!0,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q[i(1479)],s,t),this[i(573)](i(758),"hlsError and pause player success")}))[e(401)]((i=>{const r=e;this.emit(H.playFailedAndPaused,Q[r(1479)],s,t),this.debugError(r(758),r(429),i)})).finally((()=>{this[e(567)]=!1}))}}_handleHls264UseOldDemuxer(t){const e=KL;if(this.isDestroyed())return void this[e(573)](this.TAG_NAME,"Hls264UseOldDemuxer but player is destroyed");if(this[e(1006)])return void this.debugLog(this[e(1272)],e(1048));this[e(573)]("JbPro",e(1058));const s=this[e(857)][e(676)],i=this[e(857)].playOptions;this[e(1006)]=!0,this[e(799)]({supportHls265:!1})[e(608)]((()=>{const r=e;this[r(1026)](s,i)[r(608)]((()=>{const t=r;this.debugLog(t(758),t(497)),this._replaySuccessAndNext()}))[r(401)]((e=>{const s=r;this.emit(H.playFailedAndPaused,H[s(1504)],{},t),this[s(1276)]("JbPro",s(422),e)}))[r(1121)]((()=>{this[r(1006)]=!1}))}))[e(401)]((s=>{const i=e;this.hls264UseOldDemuxerOnLock=!1,this.emit(H.playFailedAndPaused,H.hls264UseOldDemuxer,{},t),this.debugError(i(758),i(1402),s)}))}[KL(707)](t){const e=KL;if(this[e(1660)]())return void this[e(573)]("JbPro",e(1448));if(this[e(590)])return void this[e(573)](e(758),e(1007));this[e(325)](H[e(313)],this[e(328)](Q[e(1646)],t));const s=this._getVideoLastIframeInfo();this.debugLog(e(758),e(1278));const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(590)]=!0,this[e(1572)](i).then((()=>{const i=e;this.emit(H[i(790)],Q[i(1646)],s,t),this[i(573)]("JbPro",i(1521))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1646)],s,t),this[r(1276)](r(758),r(1095),i)}))[e(1121)]((()=>{this.aliyunRtcErrorOnLock=!1}))}[KL(561)](t){const e=KL;if(this[e(1660)]())return void this.debugLog(e(758),"decoderWorkerInitError but player is destroyed");if(this[e(1549)])return void this[e(573)](e(758),e(945));this[e(325)](H[e(313)],this[e(328)](Q[e(889)],t));const s=this[e(380)]();this[e(573)](e(758),e(507));const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1549)]=!0,this[e(1572)](i)[e(608)]((()=>{const i=e;this.emit(H[i(790)],Q[i(889)],s,t),this[i(573)]("JbPro","decoderWorkerInitError and pause player success")})).catch((i=>{const r=e;this[r(325)](H[r(790)],Q[r(889)],s,t),this[r(1276)]("JbPro","decoderWorkerInitError and pause",i)}))[e(1121)]((()=>{this.decoderWorkerInitErrorOnLock=!1}))}_handleDecoderWorkerUncaughtError(t){const e=KL;if(this[e(1660)]())return void(this.debug&&this.debugLog(e(758),e(1160)));if(this[e(669)])return void this.debugLog(e(758),e(1464));this[e(325)](H[e(313)],this[e(328)](Q[e(1182)],t));const s=this[e(380)]();this.debugLog(e(758),e(460));const i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)].setPlayFailedAndPaused(),this._playFailedAndPausedLastFrameInfo=s,this.decoderWorkerUncaughtErrorOnLock=!0,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q[i(1182)],s,t),this[i(573)]("JbPro","decoderWorkerUncaughtError and pause player success")}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],Q.decoderWorkerUncaughtError,s,t),this[r(1276)]("JbPro",r(964),i)})).finally((()=>{this.decoderWorkerUncaughtErrorOnLock=!1}))}[KL(791)](t){const e=KL;if(this.isDestroyed())return void(this.debug&&this[e(573)]("JbPro","decoderWorkerWasmError but player is destroyed"));if(this[e(987)])return void this.debugLog(e(758),e(459));this[e(325)](H[e(313)],this[e(328)](Q[e(719)],t)),this[e(573)](e(758),e(1122));const s=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(987)]=!0,this[e(1572)](s).then((()=>{const s=e;this.emit(H[s(790)],Q[s(719)],{},t),this[s(573)]("JbPro",s(681))})).catch((s=>{const i=e;this[i(325)](H.playFailedAndPaused,Q[i(719)],{},t),this[i(1276)](i(758),i(1261),s)}))[e(1121)]((()=>{this.decoderWorkerWasmErrorOnLock=!1}))}[KL(407)](t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this[e(573)]("JbPro",e(843)));if(this[e(1068)])return void this[e(573)]("JbPro",e(1046));this[e(325)](H[e(313)],this[e(328)](Q[e(496)],t)),this.debugLog(e(758),"videoElementPlayingFailedForWebrtc and pause player");const s=!1===this[e(857)][e(627)];this.player.setPlayFailedAndPaused(),this[e(1068)]=!0,this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(496)],{},t),this[s(573)](s(758),s(1578))}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q.videoElementPlayingFailedForWebrtc,{},t),this[i(1276)](i(758),i(1054),s)}))[e(1121)]((()=>{this[e(1068)]=!1}))}[KL(502)](t){const e=KL;if(this[e(1660)]())return void(this.debug&&this[e(573)](e(758),e(589)));if(this[e(876)])return void this.debugLog(e(758),e(1503));this[e(325)](H[e(313)],this[e(328)](Q[e(1227)],t)),this[e(573)](e(758),e(312));const s=!1===this._opt[e(627)];this[e(849)][e(1019)](),this.videoInfoErrorOnLock=!0,this[e(1572)](s)[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(1227)],{},t),this[s(573)](s(758),"videoInfoError and pause player success")}))[e(401)]((s=>{const i=e;this.emit(H[i(790)],Q[i(1227)],{},t),this[i(1276)]("JbPro","videoInfoError and pause",s)})).finally((()=>{this[e(876)]=!1}))}_handleWebrtcStreamH265(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)]("JbPro","webrtcStreamH265 but player is destroyed"));if(this[e(911)])return void this[e(573)]("JbPro",e(1094));this[e(573)](e(758),e(834));const s=this[e(857)][e(676)],i=this[e(857)][e(1621)];this[e(911)]=!0,this[e(799)]({isWebrtcH265:!0})[e(608)]((()=>{const r=e;this[r(1026)](s,i).then((()=>{const t=r;this[t(573)](t(758),t(766)),this[t(1270)]()}))[r(401)]((e=>{const s=r;this.emit(H[s(790)],H[s(903)],{},t),this[s(1276)](s(758),"webrtcStreamH265 and reset player and play error",e)}))[r(1121)]((()=>{this[r(911)]=!1}))}))[e(401)]((s=>{const i=e;this[i(911)]=!1,this.emit(H[i(790)],H.webrtcStreamH265,{},t),this[i(1276)](i(758),i(1554),s)}))}[KL(1263)](t){const e=KL;if(this[e(1660)]())return void this[e(573)](e(758),e(1399));if(this.webrtcLowFpsOnLock)return void this[e(573)]("JbPro",e(954));this[e(1472)]=!0,this[e(325)](H[e(313)],this[e(328)](H[e(358)],t));const s=this[e(380)](),i=this[e(857)][e(1621)],r=this[e(857)][e(676)];let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const n=e;this[n(1026)](r,i)[n(608)]((()=>{const t=n;this[t(573)](this[t(1272)],t(1143)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],H[i(358)],s,t),this[i(1276)](this[i(1272)],"webrtcLowFps and reset player and play error",e)}))[n(1121)]((()=>{this[n(1472)]=!1}))}))[e(401)]((i=>{const r=e;this[r(1472)]=!1,this[r(325)](H.playFailedAndPaused,H[r(358)],s,t),this[r(1276)](this.TAG_NAME,r(928),i)}))}_handleTsPacketSizeError(t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)](e(758),e(342)));if(this[e(723)])return void this.debugLog("JbPro",e(1208));this[e(723)]=!0;const s="tsPacketSizeError, tsPacketSize is "+t;this[e(1572)]().then((()=>{const t=e;this[t(325)](H[t(790)],Q[t(944)],{},s),this[t(573)]("JbPro",t(493))})).catch((t=>{const i=e;this.emit(H.playFailedAndPaused,Q.tsPacketSizeError,{},s),this[i(1276)](i(758),i(886),t)})).finally((()=>{this[e(723)]=!1}))}_handlePlayVodMp4Error(t){const e=KL;this[e(1660)]()?this[e(1425)]&&this[e(573)](e(758),e(406)):this[e(545)]?this[e(573)](e(758),e(428)):(this[e(545)]=!0,this._pause()[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q.playVodMp4Error,{},t),this.debugLog(s(758),s(854))})).catch((s=>{const i=e;this[i(325)](H.playFailedAndPaused,Q[i(461)],{},t),this[i(1276)](i(758),i(1382),s)}))[e(1121)]((()=>{this[e(545)]=!1})))}[KL(517)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(573)]("JbPro",e(1341)));if(this[e(1604)])return void this.debugLog("JbPro",e(571));this[e(573)](e(758),"playVodMp4UseSrc set false and reset player and play");const s=this[e(857)][e(676)],i=this._opt[e(1621)];this[e(1604)]=!0,this[e(799)]({playVodMp4UseSrc:!1})[e(608)]((()=>{const t=e;this[t(1026)](s,i)[t(608)]((()=>{const e=t;this[e(573)](e(758),"playVodMp4UseSrcError and reset player and play success"),this[e(1270)]()}))[t(401)]((e=>{const s=t;this[s(325)](H[s(790)],Q[s(905)],{},error),this[s(1276)](s(758),s(746),e)})).finally((()=>{this[t(1604)]=!1}))})).catch((t=>{const s=e;this[s(1604)]=!1,this.emit(H.playFailedAndPaused,Q[s(905)],{},error),this[s(1276)]("JbPro",s(1186),t)}))}_handlePlayVodMp4UseSrcVideoError(t){const e=KL;if(this[e(1660)]())return void(this.debug&&this.debugWarn(e(758),e(1120)));if(this[e(1126)])return void this[e(573)](e(758),e(1497));this[e(1126)]=!0,this[e(325)](H[e(313)],this[e(328)](Q[e(423)],t));const s=this[e(380)](),i=this._opt[e(676)],r=this._opt.playOptions;let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const n=e;this.play(i,r)[n(608)]((()=>{const t=n;this._opt[t(1446)].startTime=null,this[t(573)](t(758),t(1288)),this._replaySuccessAndNext()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],Q[i(423)],s,t),this[i(1276)](i(758),"playVodMp4UseSrcVideoError and reset player and play error",e)}))[n(1121)]((()=>{this[n(1126)]=!1}))})).catch((i=>{const r=e;this[r(1126)]=!1,this[r(325)](H.playFailedAndPaused,Q[r(423)],s,t),this.debugError("JbPro",r(1283),i)}))}[KL(370)](t){const e=KL;this[e(1660)]()?this[e(1425)]&&this.debugLog("JbPro",e(1556)):this[e(626)]?this[e(573)](e(758),e(425)):(this[e(626)]=!0,this[e(1572)]()[e(608)]((()=>{const s=e;this[s(325)](H[s(790)],Q[s(888)],{},t),this.debugLog(s(758),s(533))}))[e(401)]((s=>{const i=e;this[i(325)](H[i(790)],Q[i(888)],{},t),this.debugError(i(758),i(1582),s)})).finally((()=>{this[e(626)]=!1})))}[KL(1150)](t){const e=KL;if(this[e(1660)]())return void(this[e(1425)]&&this[e(819)](e(758),"delay timeout replay but player is destroyed"));this[e(325)](H.crashLog,this[e(328)](H[e(1542)],t));const s=this._getVideoLastIframeInfo();if(this.player&&this[e(849)]._opt[e(1138)]&&(this[e(1438)]<this.player._opt.heartTimeoutReplayTimes||-1===this[e(849)][e(857)][e(840)])){this[e(573)](e(758),e(736)+this[e(1438)]+e(468)+this.player[e(857)][e(840)]),this[e(1438)]+=1;const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n=this[e(1061)](s);this._resetPlayer(n)[e(608)]((()=>{const n=e;if(this._isNeedNetworkDisconnectReplay())return this[n(573)]("JbPro",n(519)),this[n(1661)]=!0,void(this[n(1175)]={url:i,options:r,type:H[n(1542)]});this[n(1026)](i,r)[n(608)]((()=>{const t=n;this.debugLog(this[t(1272)],"delayTimeout and reset player and play success"),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H[i(790)],H[i(1542)],s,t),this[i(1276)](i(758),i(933),e)}))}))[e(401)]((i=>{const r=e;this[r(325)](H[r(790)],H[r(1542)],s,t),this[r(1276)]("JbPro",r(643),i)}))}else{const i=!1===this[e(857)][e(627)];this[e(849)][e(1019)](),this[e(1633)]=s,this[e(1572)](i)[e(608)]((()=>{const i=e;this[i(325)](H.playFailedAndPaused,H[i(1542)],s,t),this.player&&(this[i(325)](H[i(1373)]),this.emit(H.playFailedAndPaused,H[i(1373)],s,t)),this[i(819)](i(758),i(632)+(this[i(849)]&&this[i(849)][i(857)][i(855)])+i(1642)+(this[i(849)]&&this[i(849)][i(857)][i(1138)])+" and\n                            opt.heartTimeoutReplayTimes is "+(this[i(849)]&&this[i(849)][i(857)].heartTimeoutReplayTimes)+i(625)+this._heartTimeoutReplayTimes)}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],H[r(1542)],s,t),this[r(1276)](r(758),r(880),i)}))}}_handleLoadingTimeout(t){const e=KL;if(this.isDestroyed())return void(this[e(1425)]&&this.debugLog(e(758),e(661)));this[e(325)](H[e(313)],this.getCrashLog(H[e(695)],t));const s=this[e(380)]();if(this[e(849)]&&this[e(849)]._opt[e(499)]&&(this[e(771)]<this[e(849)][e(857)].loadingTimeoutReplayTimes||-1===this.player[e(857)].loadingTimeoutReplayTimes)){this.debugLog("JbPro",e(919)+this._loadingTimeoutReplayTimes+e(560)+this.player[e(857)][e(831)]),this[e(771)]+=1;const i=this[e(857)][e(676)],r=this[e(857)][e(1621)];let n=this[e(1061)](s);this[e(799)](n)[e(608)]((()=>{const n=e;if(this[n(1482)]())return this[n(573)](n(758),n(631)),this[n(1661)]=!0,void(this._isNetworkOfflinePausedAndNextPlayConfig={url:i,options:r,type:H.loadingTimeout});this.play(i,r)[n(608)]((()=>{const t=n;this.debugLog(this[t(1272)],t(811)),this[t(1270)]()}))[n(401)]((e=>{const i=n;this[i(325)](H.playFailedAndPaused,H[i(695)],s,t),this[i(1276)]("JbPro","loading timeout replay error",e)}))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],H[r(695)],s,t),this[r(1276)](r(758),r(1476),i)}))}else{const i=!1===this._opt[e(627)];this[e(849)].setPlayFailedAndPaused(),this[e(1633)]=s,this[e(1572)](i).then((()=>{const i=e;this[i(325)](H[i(790)],H[i(695)],s,t),this[i(849)]&&(this.emit(H[i(1485)]),this[i(325)](H[i(790)],H[i(1485)],s,t),this[i(857)].loadingTimeoutRetryEndShowPlayBtn&&this[i(849)][i(892)]()),this[i(573)](i(758),"loadingTimeoutRetryEnd and\n                            opt.loadingTimeout is "+(this.player&&this.player[i(857)][i(695)])+i(629)+(this[i(849)]&&this[i(849)][i(857)].loadingTimeoutReplay)+" and\n                            local._loadingTimeoutReplayTimes time is "+this[i(771)]+" and\n                            opt.loadingTimeoutReplayTimes is "+(this[i(849)]&&this[i(849)][i(857)][i(831)]))}))[e(401)]((i=>{const r=e;this.emit(H[r(790)],H.loadingTimeout,s,t),this[r(1276)](r(758),r(366),i)}))}}[KL(1081)](t){const e=KL;if(this[e(1660)]())return void this[e(573)](e(758),e(862));this[e(325)](H[e(313)],this[e(328)](Q[e(1112)],t)),this[e(573)](e(758),e(930));const s=this[e(380)](),i=!1===this[e(857)].playFailedUseLastFrameShow;this[e(849)][e(1019)](),this[e(1633)]=s,this._pause(i)[e(608)]((()=>{const i=e;this[i(325)](H[i(790)],Q.initDecoderWorkerTimeout,s,t),this[i(573)](i(758),i(1086))})).catch((i=>{const r=e;this[r(325)](H[r(790)],Q[r(1112)],s,t),this[r(1276)](r(758),r(1618),i)}))}_checkInitDecoderWorkerTimeout(){const t=KL;this._clearInitDecoderWorkerTimeout(),this[t(1112)]=setTimeout((()=>{const e=t;this[e(1081)](Q[e(1112)])}),1e3*this[t(857)].initDecoderWorkerTimeout)}_clearInitDecoderWorkerTimeout(){const t=KL;this[t(1112)]&&(clearTimeout(this[t(1112)]),this[t(1112)]=null)}[KL(573)](t){const e=KL;if(this[e(857)][e(1425)]&&this[e(1425)]){for(var s=arguments[e(1522)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1425)][e(1511)](t,...i)}}[KL(819)](t){const e=KL;if(this[e(857)].debug&&this[e(1425)]){for(var s=arguments[e(1522)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1425)][e(698)](t,...i)}}[KL(1276)](t){const e=KL;if(this.debug){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1425)][e(523)](t,...i)}}[KL(673)](){let t=null;return this[KL(849)]&&(t=this.player.getRenderElement()),t}_updateMultiIndex(t){const e=KL;this.debugLog("JbPro",e(1467)+t+e(763)+this[e(857)][e(1574)]),this[e(857)][e(1574)]=t,this.player&&this[e(849)][e(563)]({multiIndex:t})}[KL(1308)](t){const e=KL;if(!this.isDestroyed())if(this[e(573)](e(758),e(1163)),this.player){if(this.player[e(1361)]())return void this[e(819)](e(758),"openDrawRectangle() failed, this.player is destroyed or paused");this[e(849)].drawingRect=!0}else this.debugWarn(e(758),e(1165))}[KL(1555)](){}[KL(1508)](){const t=KL;if(!this[t(1660)]())if(this[t(573)](t(758),t(1471)),this.player){if(this.player[t(1361)]())return void this.debugWarn("JbPro",t(1317));this[t(849)][t(909)]=!1}else this[t(819)](t(758),"closeDrawRectangle() failed, this.player is not init")}[KL(891)](){const t=KL;let e=!1;return this.player&&(e=this[t(849)][t(909)]),e}[KL(912)](t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),e(319)+t),!Ns(t)&&(t=!this[e(891)]()),Di(t)?this[e(1308)]():Ri(!1)&&this[e(1508)]())}[KL(586)](t){const e=KL;this[e(1660)]()||(this[e(573)](e(758),e(611)+t),this[e(857)].controlSize=t,this[e(849)]?this[e(849)][e(586)](t):this[e(819)](e(758),"updateControlSize() failed, this.player is not init"))}[KL(1630)](){return new Promise(((t,e)=>{const s=qL;if(this[s(1660)]())return e("player is destroyed");this[s(573)](s(758),s(1623));const i=this[s(1644)]();this._resetPlayer(i)[s(608)]((()=>{const e=s;this[e(573)](e(758),e(621)),t()}))[s(401)]((t=>{const i=s;this[i(819)]("JbPro",i(506),t[i(617)](),t),e(t)}))}))}[KL(753)](t){const e=KL;this[e(1660)]()||(this[e(573)]("JbPro","updateDynamicWatermark()",t),this[e(849)]?(this[e(849)].updateDynamicWatermark(t),this[e(857)][e(1398)]=t):this[e(819)](e(758),"updateDynamicWatermark() player is not init"))}removeDynamicWatermark(){const t=KL;this[t(1660)]()||(this[t(573)](t(758),t(785)),this[t(849)]?(this[t(849)][t(841)](),this[t(857)][t(1398)]={}):this[t(819)](t(758),t(710)))}[KL(512)](t){const e=KL;this[e(1660)]()||(this.debugLog(e(758),"updateGhostWatermark()",t),this.player?(this[e(849)][e(512)](t),this[e(857)][e(875)]=t):this[e(819)](e(758),e(755)))}[KL(1564)](){const t=KL;this[t(1660)]()||(this[t(573)]("JbPro",t(1146)),this.player?(this[t(849)].removeGhostWatermark(),this[t(857)][t(875)]={}):this[t(819)](t(758),t(1274)))}[KL(1061)](){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[t(1522)]>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[t(1522)]>2&&void 0!==arguments[2]?arguments[2]:{},r=s;if(this[t(849)]._opt[t(538)]&&this[t(692)]){const s=this[t(849)][t(857)][t(847)];this.debugLog(this[t(1272)],t(1636)+s),r=Object[t(1325)]({},r,e,{loadingIcon:this[t(849)][t(857)][t(847)],initShowLoadingIconInner:this[t(849)]._opt[t(847)]})}if(!this[t(692)]&&(this[t(573)](this[t(1272)],t(1433)),r[t(397)]=!0,r.initShowLoadingIconInner=!0),Ri(this[t(1240)]())&&(this.debugLog(this.TAG_NAME,t(490)),r.isNotMute=!0),this[t(849)][t(662)]()){const e=this.player[t(1370)][t(576)];if(e){this[t(573)](this.TAG_NAME,"_resetPlayerBeforeUpdateOptions() and is playback playingTimestamp is "+e);const s=this[t(849)]._opt[t(1390)];s.startTime=e,r[t(1390)]=s}}else if(this[t(849)][t(1132)]()){const e=this[t(849)]._opt.playVodConfig;if(i[t(552)])e[t(1231)]=this[t(849)].playVod[t(1231)];else{const s=this.player[t(1016)][t(1036)]();e[t(1231)]=s,(this[t(849)].isPlayVodUseMSE()||this[t(849)][t(554)]()||this[t(849)][t(1051)]())&&(e[t(1231)]+=this._opt.playVodDecodeErrorAndStepTime),this[t(573)](this[t(1272)],t(1034)+s+t(612)+e[t(1231)])}r[t(1446)]=e}return r}[KL(1270)](){const t=KL;this._tempContentToCanvasData&&this[t(794)][t(1522)]&&this[t(849)].addContentToCanvas(this[t(794)])}[KL(1144)](){const t=KL;let e={};return this[t(849)]&&(e=this[t(849)][t(1212)](),delete e[t(1629)],delete e.loading,delete e[t(1335)]),e}[KL(896)](t){return Number((1e3*t/8/1024)[KL(1281)](2))}updateZoomMaxScale(t){const e=KL;t=rs(Number(t),1,100),this[e(573)](this[e(1272)],"updateZoomMaxScale() "+t),this[e(857)][e(1242)]=t,this[e(849)]&&this[e(849)][e(563)]({zoomMaxScale:t})}[KL(1324)](){const t=KL;let e=!1;return this[t(849)]&&(e=!0===this[t(849)][t(1324)]),e}[KL(386)](){const t=KL;let e=!1;return this[t(849)]&&(e=!0===this.player[t(386)]),e}[KL(1097)](t,e,s){const i=KL;this[i(849)]&&(this[i(857)].playFailedAndPausedShowMessage&&this[i(849)][i(1650)](s,t),this[i(857)].playFailedAndPausedShowPlayBtn&&this.player[i(892)]())}[KL(603)](){const t=KL;this[t(325)](H.close),this[t(887)]().then((()=>{}))[t(401)]((t=>{}))}_handlePlayerStart(){this[KL(692)]=!0}[KL(1653)](){this[KL(1189)]()}_handlePlayerResize(){this._watermarkResize()}_watermarkResize(){const t=KL;this[t(343)]&&this[t(343)].resize()}[KL(1016)](t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=qL;if(this[r(1660)]())return i(r(488));try{this[r(573)]("JbPro",r(913)+t+r(1056),JSON[r(1620)](e))}catch(s){this[r(573)](r(758),r(913)+t+", options: ",e)}if(this._opt[r(950)]===p[r(1016)]&&!this[r(857)][r(676)]&&Zs(e))this[r(1026)](t,e)[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)}));else{const n=this[r(1339)](e),o={videoBuffer:0,playType:p[r(1016)],playVodConfig:n,cryptoKey:e[r(605)]||"",cryptoIV:e[r(920)]||"",openWebglAlignment:!0,useMSE:n[r(379)],useWCS:n[r(1232)],useSIMD:n.useSIMD,supportHls265:!0};n[r(379)]&&(o.mseDecodeAudio=!0),Ns(e[r(316)])&&(o[r(316)]=e.isFFmpegSIMD),this[r(799)](o)[r(608)]((()=>{const n=r;this[n(1026)](t,e)[n(608)]((()=>{s()}))[n(401)]((t=>{i(t)}))}))[r(401)]((t=>{i(t)}))}}))}_parsePlayVodOptions(){const t=KL;let e=arguments[t(1522)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=_i();return Object.assign({},s[t(1446)],this[t(857)][t(1446)],e)}[KL(595)](){const t=KL;return this.debug[t(1511)](t(758),t(1545)),this[t(1660)]()?Promise[t(1069)](t(488)):this.player?Ri(this[t(849)][t(1132)]())?Promise[t(1069)](t(555)+this.player.getPlayType()+t(898)):new Promise(((e,s)=>{const i=t;this[i(849)][i(810)]()[i(608)]((()=>{e()})).catch((t=>{s(t)}))})):Promise[t(1069)](t(1225))}[KL(607)](){const t=KL;return this.debug[t(1511)](t(758),t(1428)),this.isDestroyed()?Promise.reject(t(488)):this[t(849)]?Ri(this.player[t(1132)]())?Promise[t(1069)](t(555)+this.player[t(995)]()+t(898)):new Promise(((e,s)=>{const i=t;this[i(849)][i(777)]()[i(608)]((()=>{e()}))[i(401)]((t=>{s(t)}))})):Promise.reject("player is null")}playVodForward(t){const e=KL;return this[e(573)](e(758),e(1424)+t),this[e(1660)]()?Promise.reject("JbPro is destroyed"):this[e(849)]?Ri(this[e(849)].isPlayVod())?Promise[e(1069)]("playType is "+this[e(849)][e(995)]()+", not support this method"):Ls(Number(t))?new Promise(((s,i)=>{const r=e;this[r(849)][r(856)](t).then((()=>{s()}))[r(401)]((t=>{i(t)}))})):Promise.reject(e(838)+t+" must be number type"):Promise.reject(e(1225))}[KL(1223)](){const t=KL;return this[t(573)](t(758),t(853)),new Promise(((e,s)=>{const i=t;this[i(856)](1)[i(608)]((()=>{e()})).catch((t=>{s(t)}))}))}playVodSeek(t){const e=KL;return this[e(573)](e(758),e(1453)+t),this[e(1660)]()?Promise[e(1069)](e(488)):this.player?Ri(this[e(849)][e(1132)]())?Promise[e(1069)](e(555)+this[e(849)][e(995)]()+", not support this method"):Ls(Number(t))?new Promise(((s,i)=>{const r=e;this[r(849)].playVodSeek(t)[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)}))})):Promise[e(1069)](e(1100)+t+e(536)):Promise.reject(e(1225))}[KL(400)](t){const e=KL;return this[e(573)](e(758),"playVodForwardJumping() "+t),this[e(1660)]()?Promise.reject("JbPro is destroyed"):this.player?Ri(this[e(849)].isPlayVod())?Promise[e(1069)](e(555)+this[e(849)].getPlayType()+e(898)):Ls(Number(t))?new Promise(((s,i)=>{const r=e;this[r(849)][r(400)](t)[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)}))})):Promise[e(1069)](e(426)+t+e(536)):Promise.reject(e(1225))}[KL(518)](t){const e=KL;return this[e(573)](e(758),e(588)+t),this.isDestroyed()?Promise[e(1069)](e(488)):this.player?Ri(this[e(849)][e(1132)]())?Promise[e(1069)]("playType is "+this[e(849)][e(995)]()+e(898)):Ls(Number(t))?new Promise(((s,i)=>{const r=e;this.player[r(518)](t)[r(608)]((()=>{s()}))[r(401)]((t=>{i(t)}))})):Promise.reject(e(1351)+t+e(536)):Promise[e(1069)](e(1225))}getPlayVodDuration(){const t=KL;let e=0;return this[t(849)]&&this.player[t(1132)]()&&(e=this[t(849)].getPlayVodDuration()),e}[KL(902)](){const t=KL;let e=0;return this[t(849)]&&this.player[t(1132)]()&&(e=this[t(849)].getPlayVodCurrentTime()),e}[KL(344)](){const t=KL;let e=0;return this[t(849)]&&this.player[t(1132)]()&&(e=this[t(849)][t(344)]()),e}[KL(951)](){const t=KL;return this[t(344)]()-this[t(902)]()}[KL(655)](){const t=KL;let e=1;return this[t(849)]&&this[t(849)][t(1132)]()&&(e=this.player.getPlayVodCurrentRate()),e}isPlayVodPaused(){const t=KL;let e=!1;return this[t(857)].playType===p[t(1016)]&&this.player&&(e=this.player.playVodPause),e}[KL(587)](){const t=KL;let e=!1;return this[t(849)]&&(e=this[t(849)][t(587)]()),e}[KL(1228)](){const t=KL;let e=!1;return this[t(849)]&&(e=this[t(849)][t(1228)]()),e}_handlePlayVodEnded(){const t=KL;if(this.isDestroyed())return void this[t(573)](t(758),t(990));if(this.player[t(857)][t(1344)])return this[t(573)](this[t(1272)],t(1602)),void this[t(453)]();this[t(573)](this[t(1272)],t(993));const e=!1===this[t(857)][t(627)];this._pause(e)[t(608)]((()=>{const e=t;this.debugLog(e(758),e(409))}))[t(401)]((e=>{const s=t;this.debugError(s(758),s(1333),e)}))}[KL(453)](t){const e=KL;if(this[e(1660)]())return void this.debugLog(e(758),e(1369));const s=this[e(857)][e(676)],i=this._opt[e(1621)];t&&(this._opt[e(1446)].startTime=t),this.debugLog("JbPro","_handlePlayVodEndedAndReplay and reset player and start time is",t),this[e(799)]().then((()=>{this.play(s,i).then((()=>{const t=qL;this[t(857)][t(1446)][t(1231)]=null,this.debug[t(1511)](this[t(1272)],t(1042)),this._replaySuccessAndNext()})).catch((t=>{const e=qL;this.emit(H[e(790)],H[e(402)],{},t.toString()),this[e(1425)].error(this[e(1272)],e(742),t)}))}))[e(401)]((t=>{const s=e;this[s(325)](H[s(790)],H.playVodEndedAndReplay,{},""),this[s(1276)](this[s(1272)],s(1062),t)}))}}YL[KL(1312)]=Q,YL[KL(1395)]=K,window[KL(1154)]=YL,window[KL(758)]=YL,window.WebPlayerPro=YL;wy('.jb-pro-multi-container .jb-pro-multi-player-container-v2{overflow:hidden;width:100%;height:100%;position:relative;display:grid;grid-template-columns:repeat(var(--split),1fr);grid-template-rows:repeat(var(--split),1fr)}.jb-pro-multi-container .jb-pro-multi-player-container-v2 .jb-pro-multi-player{overflow:hidden;position:relative;width:100%;height:100%}.jb-pro-multi-container .jb-pro-multi-player-container-v2 .jb-pro-multi-player .jb-pro-multi-player-draw-window{position:absolute;z-index:1;width:calc(100% - 2px);height:calc(100% - 2px);color:#fff;transition:all .25s}.jb-pro-multi-container .jb-pro-multi-player-container-v2 .jb-pro-multi-player .jb-pro-multi-player-video-window{position:absolute;left:1px;top:1px;z-index:2;width:calc(100% - 2px);height:calc(100% - 2px)}.jb-pro-multi-container .jb-pro-multi-player[fullscreen="1"]{grid-column-start:1;grid-column-end:9;grid-row-start:1;grid-row-end:9;z-index:1}.jb-pro-multi-container .jb-pro-multi-layout-6 .jb-pro-multi-player[order="0"]{grid-column-start:1;grid-column-end:3;grid-row-start:1;grid-row-end:3}.jb-pro-multi-container .jb-pro-multi-layout-6 .jb-pro-multi-player[fullscreen="1"]{grid-column-start:1;grid-column-end:9;grid-row-start:1;grid-row-end:9;z-index:1}.jb-pro-multi-container .jb-pro-multi-layout-9 .jb-pro-multi-player[order="0"]{grid-column-start:1;grid-column-end:4;grid-row-start:1;grid-row-end:4}.jb-pro-multi-container .jb-pro-multi-layout-9 .jb-pro-multi-player[fullscreen="1"]{grid-column-start:1;grid-column-end:9;grid-row-start:1;grid-row-end:9;z-index:1}');const JL=$L;function XL(){const t=["\" order='","16kexVbW","_arrangeWindow","26588796QCKdCr","windowIndex ","setCryptoKeyUrl","close() windowIndex ","95044FXQsxy","width","setFullscreen","style","stopRecordAndSave() windowIndex ","_arrangeSpecialWindow() type ","querySelectorAll","getPrevWindowItem","keys","clearView() windowIndex ","clearContentToCanvas","LOG_TAG","setVolume"," , checkRectInterval times : ","updateAiObjectDetectLevel","dblclick","fromUuid","mousedown","currentWindowIndex","isPaused","2230677iGjBsq","container","toUuid","getFlvMetaData() windowIndex ","preventDefault","remove","\" style='float: left;position:relative;overflow: hidden; background-color:","updateAiFaceDetectLevel","isLoading() windowIndex ","openZoom","Jb-pro-multi container has been created and can not be created again","setProperty","dragstart","narrowZoom"," is not changed","catch","isWindowItemHasInitPlayer"," nowRect:","border","fullscreen exit error","_getCurrentMaxSplitV2","setNakedFlowFps","updateAiObjectDetectLevel() windowIndex ","startRecord() windowIndex ",'">\n            ',"length","\n        </div>","setTimeout() windowIndex ","faceDetectOpen",";background-color:","setVolume() windowIndex ","clearContentToCanvas() windowIndex ","borderSelect","handleWindowContainerFullscreen() ","getFlvMetaData","11recUig","assign","sendWebsocketMessage","playerMousemoveDestroy() data-uuid is not exist","updateDebugLevel","setStreamQuality","setMirrorRotate() windowIndex ","getPTZCmd","relative","special1","dragleave","isZoomOpen","findIndex","objectDetectClose","jb-pro-multi-layout-6","\" style='position:absolute; z-index: 1; border: 1px solid ","expandZoom","warn","closeZoom() windowIndex ","--split","_handleFullscreenResize","clearBufferDelay","getPTZCmd() windowIndex ","1GiswSn","getNextWindowItem","setFullscreenMulti",".jb-pro-multi-player-video-window","uuid","quality","250CGqamR","isRecording","TAG_NAME","play() windowIndex ","addContentToCanvas() windowIndex ","objectDetectOpen","mouseup","expandZoom() windowIndex ","dblSelected","_updateWindows$2","faceDetectClose","' style='order:","_createPlayer","error","cancelMute","removeFullscreenWatermark","left","setNakedFlowFps() windowIndex ","draggable","off","Jb-pro-multi container is invalid, must be a DOM Element",';\'>\n                <div class="jb-pro-multi-player-draw-window" wid="',"playerWidth","updateAiObjectDetectInterval() windowIndex ","then","189318rheiYh","playerContainerHeight","debug","_getWindowItem","classList","hideErrorMessageTips","multiFullscreen","_arrangeSpecialWindow","faceDetectClose() windowIndex ","openZoom() windowIndex ","getDecodeType","isPlaying","selected","getCurrentZoomIndex","replace","_handleWindowContainerFullscreen","debugWarn","setNetworkDelayTime() windowIndex ","_findWindowItemIndexByUuid","log","togglePerformancePanel() windowIndex ","$playerContainer","nodeName","updateAiFaceDetectInterval() windowIndex ","playerContainerWidth","getStatus","querySelector","updateWatermark","mouseout","setAspectRatio() windowIndex ","showSelectedBorder","addContentToCanvas","screenshot() windowIndex ","$playerBorder","mute() windowIndex ","fullscreen exit inner error","hideErrorMessageTips() windowIndex ","fromOrderIndex","getCurrentSplit","arrangeWindow","filename","close","objectDetectClose() windowIndex ","debugError","setKeepScreenOn",'" can not be undefined',"special2","mousemove","setScaleMode","setRotate","EVENTS","block","filter","includes","_listenFullscreenChange","isFullscreen","setSingleWindowContainerFullscreen","$container"," ,window screen rect:","setRotate() windowIndex ","cancelMute() windowIndex ","873898MeYBhP","setFullscreen() windowIndex ","getWindowUuidList","</div>","selectNextWindow",".jb-pro-multi-player-draw-window"," -> ","currentWindowUuid","jb-pro-multi-container","setBufferTime","destroy","CANVAS","drop","height","_getContainerRect","setKeepScreenOn() windowIndex ","pause() windowIndex ","prevInfo","getWindowItem","selectPrevWindow","play","dragenter","destroys","dblclickDestroy() data-uuid is not exist","_handleWindowSelect","windowList","238uuvWdg","isMute() windowIndex ","events","selectWindow","isLoading","fullscreen","specialLayoutType","screenshotWatermark","$player","position",", prevRect:","_sortWindows","emit","request","getOption","setControlHtml","1px solid ","updateFullscreenWatermark","player","click","windowIndex is not exist","playerHeight","display","playerDragStartDestroy() data-uuid is not exist","pow","getOption() windowIndex ","add","_innerArrangeWindow",'"></div>\n                <div class="jb-pro-multi-player-video-window" wid="',"Jb-pro-multi need container option","_updateMultiIndex","removeFullscreenWatermark() windowIndex ","getPlayType() windowIndex ","debugLog","initSingle","removeWatermark","jb-pro-multi-layout-9","getSelectedWindowUuid","_getCurrentMaxSplit","_initEvents",'<div class="jb-pro-multi-player-container" style="overflow: hidden;width:100%; height:100%; position: relative;">',"$playerContainerEvents",".jb-pro-multi-player-container-v2","string","forEach","toggleSingleWindowContainerFullscreen","getExtendBtnList","_handleWindowSelect() ","supportDblclickContainerFullscreen","fullscreen request inner error"," is not valid because maxSplit is ","setAttribute","updateFullscreenWatermark() windowIndex ","stopRecordAndSave","_updateWindows","find"," is not exist","setDebug() windowIndex ","getPlayType","clearBufferDelay() windowIndex ",'\n             <div class="jb-pro-multi-player" wid="',"split","setAspectRatio","mute","_findWindowItemByUuid","$multiContainer","screenshot","\" style='position:absolute;left: 1px;top:1px; z-index: 2;'></div>\n             </div>\n            ","showErrorMessageTips","isZoomOpen() windowIndex ","objectDetectOpen() windowIndex ",'"></div>\n             </div>\n            ',"_getSpecialMaxSplit","isContainerFullscreen","maxWindowSize","setTimeout","setNetworkDelayTime","getPlayingTimestamp","zIndex","_initWindows","setBufferDelayTime","audioResume","closeZoom","_opt"," is not valid","updateAiFaceDetectInterval","top","startRecord","hasLoaded","_initWindows$2","619460hBqTRu","destroySingle() windowIndex ","checkRectInterval","clearControlHtml() windowIndex ","map","setDebug","arrangeWindow() split ","1154313PVuPIk","setMirrorRotate","narrowZoom() windowIndex ","getSelectedWindowIndex","audioResume() windowIndex ","ERROR","getRenderType","getExtendBtnList() windowIndex ","setBufferTime() windowIndex ","togglePerformancePanel","push","getStatus() windowIndex ","jbProMulti","isMute","stringify",'<div class="jb-pro-multi-player-container-v2" style="--split:',"getAudioEngineType","_checkHasCreated","background","_getWindowUuidList","updateAiObjectDetectInterval","change",';\'></div>\n                <div class="jb-pro-multi-player-video-window" wid="',".jb-pro-multi-player","startDragWindowItem","innerHTML","setStreamQuality() windowIndex ","playerMouseoutDestroy() data-uuid is not exist","_findWindowItemIndex","JessibucaProMulti","order","removeWatermark() windowIndex ","maxSplit","format","resize","player Drop ","auto","none"];return(XL=function(){return t})()}function $L(t,e){const s=XL();return($L=function(t,e){return s[t-=462]})(t,e)}!function(t,e){const s=$L,i=t();for(;;)try{if(601517===parseInt(s(486))/1*(-parseInt(s(578))/2)+-parseInt(s(766))/3+parseInt(s(746))/4*(-parseInt(s(492))/5)+parseInt(s(517))/6*(parseInt(s(604))/7)+parseInt(s(740))/8*(-parseInt(s(701))/9)+-parseInt(s(694))/10*(parseInt(s(463))/11)+parseInt(s(742))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(XL);class ZL extends h{constructor(){const t=$L;let e=arguments[t(791)]>0&&void 0!==arguments[0]?arguments[0]:{};super(),this[t(687)]={},Object.keys(e)[t(648)]((s=>{const i=t;if(void 0===e[s])throw new Error('jb-pro-multi option "'+s+i(562))}));const s=Ii(Dt);this[t(687)]=Object[t(464)]({},s,e),this[t(757)]=t(713),this[t(519)]=new le(this);let i=e[t(767)];if(typeof e[t(767)]===t(647)&&(i=document[t(543)](e[t(767)])),!i)throw this.debugError(this[t(494)],t(633)),new Error("Jb-pro-multi need container option");if(i[t(539)]===t(589)||"VIDEO"===i.nodeName)throw new Error("Jb-pro-multi container type can not be "+i.nodeName+" type");if(!i[t(521)])throw this[t(560)](this[t(494)],t(512),i),new Error(t(512),i);if(this._checkHasCreated(i))throw this[t(560)](this[t(494)],t(776),i),new Error(t(776),i);i[t(521)][t(630)](t(586)),Li(i,L,Is()),delete this[t(687)][t(767)],this[t(678)]=this[t(687)].maxSplit*this[t(687)][t(733)],this[t(764)]=-1,this[t(585)]=null,this[t(610)]=null,this[t(725)]=null,this.checkRectInterval=null,this[t(603)]=[],this[t(574)]=i,this[t(606)]=new Xi(this),!this[t(687)].split&&(this[t(687)].split=1),Di(this[t(687)][t(510)])?this._initWindows$2():this[t(683)](),this[t(631)](this._opt[t(665)],!0),this[t(643)](),this[t(602)](0),this[t(571)]()}[JL(588)](){return new Promise(((t,e)=>{const s=$L;if(this.debugLog(this[s(757)],"destroy()"),this[s(511)](),this[s(606)]&&(this[s(606)].destroy(),this[s(606)]=null),this[s(696)]&&(clearInterval(this[s(696)]),this.checkRectInterval=null),this.specialLayoutType=null,this[s(725)]=null,this.currentWindowUuid=null,this.currentWindowIndex=-1,this[s(574)]&&(this[s(574)][s(521)][s(771)](s(586)),xi(this[s(574)],L),this[s(574)]=null),this.windowList){const i=[];this[s(603)][s(648)]((t=>{const e=s;t[e(645)].forEach((t=>{t()})),t[e(622)]&&i[e(711)](t.player.destroy())})),Promise.all(i)[s(516)]((()=>{const e=s;this.windowList[e(648)]((t=>{t[e(622)]=null})),this[e(603)]=[],t()}))[s(781)]((t=>{e(t)}))}else t();this[s(637)](this[s(757)],s(588))}))}_createPlayer(t){const e=JL;var s=this;let i=arguments[e(791)]>1&&void 0!==arguments[1]?arguments[1]:{};const r=this._findWindowItemIndex(t),n=t[e(490)],o=Object[e(464)]({},this[e(687)],i);o[e(652)]&&(o.supportDblclickFullscreen=!1);const a=new YL({...o,isMulti:!0,multiIndex:r,multiUuid:n,container:t[e(612)]});return Object[e(754)](K)[e(648)]((t=>{a.on(K[t],(function(){const e=$L;for(var i=arguments[e(791)],r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];s[e(616)](t,a._opt.multiIndex,...r)}))})),a.on(H[e(558)],(()=>{const s=e;this[s(616)](H[s(558)],r),t[s(622)]=null})),a}[JL(683)](){const t=JL;let e="";for(let s=0;s<this[t(678)];s++)e+=t(664)+s+t(772)+this._opt.style[t(719)]+';\'>\n                <div class="jb-pro-multi-player-draw-window" wid="'+s+t(478)+this._opt[t(749)][t(784)]+t(723)+s+t(671);const s=t(644)+e+t(581);this.$container[t(726)]=s;const i=this[t(574)].querySelectorAll(t(724));for(let e=0;e<this[t(678)];e++){const s=i[e],r=s[t(543)](".jb-pro-multi-player-draw-window"),n=s.querySelector(t(489)),o=Is();Li(s,"uuid",o),this[t(603)][e]={uuid:o,index:e,isContainerFullscreen:!1,$playerContainer:s,$playerBorder:r,$player:n,$playerContainerEvents:[],player:null}}}[JL(693)](){const t=JL;let e="";const s=this._opt[t(665)];for(let s=0;s<this[t(678)];s++)e+=t(664)+s+t(739)+s+t(503)+s+t(795)+this[t(687)][t(749)][t(719)]+t(513)+s+t(632)+s+t(675);const i=t(716)+s+t(790)+e+t(792);this[t(574)][t(726)]=i,this.$multiContainer=this.$container[t(543)](t(646));const r=this[t(574)][t(752)](t(724));for(let e=0;e<this[t(678)];e++){const s=r[e],i=s[t(543)](t(583)),n=s[t(543)](t(489)),o=Is();Li(s,t(490),o),this[t(603)][e]={uuid:o,index:e,isContainerFullscreen:!1,$playerContainer:s,$playerBorder:i,$player:n,$playerContainerEvents:[],player:null}}}[JL(643)](){const t=JL,{proxy:e}=this[t(606)];this.windowList[t(648)](((s,i)=>{const r=t,n=s[r(538)],o=e(n,r(623),(t=>{const e=r;t[e(770)]();const s=Pi(n,"uuid");if(!s)return void this[e(560)](this[e(757)],"playerClickDestroy() data-uuid is not exist");const i=this[e(535)](s);if(this[e(616)](Rt[e(529)],i,t),this[e(641)]()===s){if(this[e(520)](s).isContainerFullscreen)return}1!==this._opt[e(665)]&&this._handleWindowSelect(i)})),a=e(n,r(761),(t=>{const e=r;t[e(770)]();const s=Pi(n,e(490));if(!s)return void this[e(560)](this.LOG_TAG,e(601));const i=this[e(535)](s);this.emit(Rt[e(500)],i,t),this[e(687)][e(652)]&&1!==this[e(687)].split&&this[e(532)](i)})),h=e(n,r(498),(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this.debugError(this[e(757)],"playerMouseupDestroy() data-uuid is not exist");const i=this[e(535)](s);this[e(616)](Rt[e(498)],i,t)})),l=e(n,"mouseover",(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this.debugError(this[e(757)],"playerMouseoverDestroy() data-uuid is not exist");const i=this._findWindowItemIndexByUuid(s);this[e(616)](Rt.mouseover,i,t)})),c=e(n,r(545),(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this.debugError(this[e(757)],e(728));const i=this._findWindowItemIndexByUuid(s);this[e(616)](Rt.mouseout,i,t)})),d=e(n,r(763),(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this.debugError(this[e(757)],"playerMousedownDestroy() data-uuid is not exist");const i=this[e(535)](s);this[e(616)](Rt[e(763)],i,t)})),u=e(n,"dragover",(t=>{t[r(770)]()})),p=e(n,r(599),(t=>{const e=r,s=Pi(n,"uuid");if(!s)return void this[e(560)](this[e(757)],"playerDragEnterDestroy() data-uuid is not exist");const i=this._findWindowItemIndexByUuid(s);this[e(520)](s),this.emit(Rt[e(599)],i,t,{uuid:s})})),f=e(n,r(473),(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this[e(560)](this[e(757)],"playerDragLeaveDestroy() data-uuid is not exist");const i=this[e(535)](s);this[e(520)](s),this[e(616)](Rt[e(473)],i,t,{uuid:s})})),m=e(n,r(590),(t=>{const e=r;t[e(770)]();const s=Pi(n,e(490));if(!s)return void this.debugError(this.LOG_TAG,"playerDropDestroy() data-uuid is not exist");const i=this[e(535)](s),o={};if(this[e(687)][e(510)]&&this.startDragWindowItem){const t=this[e(725)][e(538)],i=this[e(725)][e(622)],r=this[e(725)][e(490)],a=t[e(749)][e(731)];t[e(749)][e(731)]=n[e(749)][e(731)],t.setAttribute(e(731),t.style[e(731)]),n.style[e(731)]=a,n[e(655)]("order",a);const h=this[e(596)](s);this[e(637)](this[e(757)],e(736)+a+e(584)+t[e(749)][e(731)]),this[e(615)](),o[e(762)]=r,o[e(768)]=s,o[e(554)]=Ts(a),o.toOrderIndex=Ts(t[e(749)].order),i&&i[e(634)](Ts(t[e(749)][e(731)])),h[e(622)]&&h[e(622)][e(634)](Ts(a))}this[e(616)](Rt[e(590)],i,t,o)}));if(s[r(645)]=[o,h,l,c,d,a,u,p,f,m],this[r(687)][r(510)]){const t=e(n,r(778),(t=>{const e=r,s=Pi(n,"uuid");if(!s)return void this.debugError(this[e(757)],e(627));const i=this[e(535)](s);this[e(602)](i),this[e(725)]=this[e(520)](i),this[e(616)](Rt.dragstart,i,t,{uuid:s})}));s[r(645)][r(711)](t)}if(this._opt.supportMousemoveEvent){const t=e(n,r(564),(t=>{const e=r,s=Pi(n,e(490));if(!s)return void this[e(560)](this.LOG_TAG,e(466));const i=this[e(535)](s);this[e(616)](Rt[e(564)],i,t)}));s.$playerContainerEvents[r(711)](t)}}))}[JL(592)](){const t=JL;if(!this.$container)return{width:0,height:0};const e=this[t(574)].getBoundingClientRect();return{width:parseInt(e[t(747)]),height:parseInt(e[t(591)])}}[JL(658)](){const t=JL,e=this[t(592)](),s=e[t(747)],i=e[t(591)],r=this[t(687)][t(665)],n=s%r,o=i%r,a=(s-n-2*r)/r,h=(i-o-2*r)/r,l=(s-n)/r,c=(i-o)/r;let d=this[t(642)]();for(let e=0;e<d;e++){const s=this[t(603)][e];s.isContainerFullscreen=!1;const i=s.$playerContainer;i[t(749)][t(613)]=t(471),i[t(749)][t(508)]=t(737),i[t(749)].top="auto",i[t(749)][t(682)]="auto";const d=s[t(550)],u=s[t(612)],p=a+(e%r==r-1?n:0),f=h+(e+r>=Math[t(628)](r,2)?o:0),m=l+(e%r==r-1?n:0),g=c+(e+r>=Math[t(628)](r,2)?o:0);i.style[t(747)]=m+"px",i[t(749)][t(591)]=g+"px",i[t(749)][t(626)]="block",u.style[t(747)]=p+"px",u[t(749)][t(591)]=f+"px",u[t(749)].display="block",d.style.width=p+"px",d[t(749)].height=f+"px",d.style[t(626)]=t(568),s.player&&s[t(622)][t(735)]()}if(this[t(610)]){const e=this[t(603)][0],s=e[t(538)],i=e.$player,r=e.$playerBorder,n=s.style[t(747)][t(531)]("px",""),o=s[t(749)][t(591)][t(531)]("px",""),a=i[t(749)][t(747)][t(531)]("px",""),h=i[t(749)][t(591)].replace("px","");let l,c,u,p;this[t(610)]===Lt[t(472)]?(l=2*n,c=2*o,u=2*a+2,p=2*h+2):this[t(610)]===Lt[t(563)]&&(l=3*n,c=3*o,u=3*a+4,p=3*h+4),s.style[t(747)]=l+"px",s[t(749)][t(591)]=c+"px",i[t(749)][t(747)]=u+"px",i[t(749)][t(591)]=p+"px",r.style[t(747)]=u+"px",r[t(749)][t(591)]=p+"px",e[t(622)]&&e[t(622)][t(735)](),d=this._getSpecialMaxSplit()}for(let e=d;e<this[t(678)];e++){const s=this[t(603)][e];s.player&&(s[t(622)][t(588)](),s[t(622)]=null),s[t(538)].style[t(626)]=t(738),s.$playerContainer[t(749)].width="0",s[t(538)].style[t(591)]="0",s[t(612)].style.display="none",s.$playerBorder[t(749)][t(626)]=t(738)}if(1===this[t(687)][t(665)]){this[t(603)][0].$playerBorder.style[t(626)]=t(738)}}[JL(501)](){const t=JL,e=this[t(687)][t(665)];let s=this[t(642)]();if(this[t(669)]){const s=t(477),i=t(640);this[t(669)][t(521)][t(771)](s,i),this.specialLayoutType===Lt[t(472)]?this[t(669)][t(521)].add(s):this[t(610)]===Lt.special2&&this.$multiContainer[t(521)].add(i),this[t(669)][t(749)][t(777)](t(482),""+e)}this[t(615)]();for(let e=s;e<this[t(678)];e++){const s=this[t(603)][e];s&&s[t(622)]&&(s[t(622)][t(588)](),s.player=null)}if(1===this._opt[t(665)]){this[t(603)][0][t(550)].style[t(626)]=t(738)}this[t(603)].forEach(((e,s)=>{const i=t;0===s&&ns(e.$playerContainer,i(626),"block"),e[i(538)][i(655)](i(609),"0"),e[i(538)][i(749)][i(609)]="0",e[i(538)][i(510)]=this[i(687)].split>1}))}[JL(615)](){const t=JL,e=[];for(let s=0;s<this[t(678)];s++){const i=this[t(603)][s];e[i[t(538)][t(749)][t(731)]]=i}this[t(603)]=e}[JL(602)](t){const e=JL,s=this[e(520)](t);s?(this[e(764)]=this[e(729)](s),this[e(585)]=s[e(490)],this[e(603)][e(791)]>1&&(this.windowList[e(648)]((t=>{const i=e;s[i(550)][i(749)][i(626)]=i(568),t.$playerBorder[i(749)][i(784)]="1px solid "+this._opt[i(749)][i(784)]})),this[e(687)][e(547)]&&(s[e(550)].style[e(784)]=e(620)+this[e(687)][e(749)][e(798)]))):this.debugWarn(this[e(757)],e(651)+t+e(660)),1===this._opt[e(665)]&&(s[e(550)][e(749)][e(626)]=e(738))}[JL(532)](t,e){const s=JL,i=this[s(520)](t);if(i){if(Ns(e)&&e===i.isContainerFullscreen)return;if(this[s(687)][s(510)]){if(i[s(677)]){if(i[s(538)][s(655)](s(609),"0"),i.$playerContainer[s(749)][s(609)]="0",this[s(610)]){ns(this[s(603)][0][s(538)],s(626),s(568))}}else if(i[s(538)][s(655)]("fullscreen","1"),i.$playerContainer.style.fullscreen="1",this[s(610)]){if(0!==this[s(535)](i.uuid)){ns(this[s(603)][0][s(538)],s(626),"none")}}}else if(i[s(677)])i[s(538)][s(749)][s(613)]=s(471),i[s(538)].style[s(508)]=s(737),i[s(538)][s(749)][s(690)]=s(737),i[s(538)][s(749)][s(682)]="auto",i[s(538)][s(749)][s(747)]=i[s(595)][s(541)],i.$playerContainer[s(749)][s(591)]=i[s(595)][s(518)],i[s(612)].style[s(747)]=i.prevInfo[s(514)],i[s(612)][s(749)][s(591)]=i.prevInfo[s(625)],this[s(641)]()===i.uuid&&(i[s(550)][s(749)][s(626)]="block");else{const t=this[s(592)](),e=t[s(747)],r=t[s(591)];i[s(595)]={playerContainerWidth:i.$playerContainer[s(749)][s(747)],playerContainerHeight:i[s(538)][s(749)][s(591)],playerWidth:i[s(612)].style[s(747)],playerHeight:i[s(612)][s(749)].height},i[s(538)].style.position="absolute",i[s(538)][s(749)][s(690)]="0",i.$playerContainer.style[s(508)]="0",i[s(538)].style[s(682)]="10",i[s(538)].style[s(747)]=e+"px",i[s(538)][s(749)][s(591)]=r+"px",i[s(612)][s(749)][s(747)]=e+"px",i.$player[s(749)][s(591)]=r+"px",i[s(550)][s(749)][s(626)]=s(738)}i[s(677)]=!i[s(677)],i.player&&i[s(622)][s(735)]()}else this[s(533)](this[s(757)],s(799)+t+s(660))}[JL(483)](){const t=JL;let e=arguments[t(791)]>0&&void 0!==arguments[0]?arguments[0]:5,s=this[t(592)](),i=0;this[t(696)]=setInterval((()=>{const r=t,n=ge[r(572)],o=this[r(592)](),a={width:screen[r(747)],height:screen[r(591)]};this[r(637)](this.LOG_TAG,"isInFullscreen "+n+r(759)+i+r(783)+JSON.stringify(o)+r(614)+JSON.stringify(s)+r(575)+JSON[r(715)](a));const h=o[r(747)]===s[r(747)]&&o.height===s[r(591)],l=!n||a[r(747)]-o[r(747)]<10&&a.height-o[r(591)]<10;if(h&&l||i>=e)return this[r(696)]&&(clearInterval(this.checkRectInterval),this[r(696)]=null),void this[r(735)]();s=o,i++}),1e3)}[JL(571)](){const t=JL;try{const e=t=>{const e=$L;oi(t)===this[e(574)]&&(this[e(616)](Rt[e(523)],ge.isFullscreen),ge[e(572)]?this._handleFullscreenResize():function(){const t=$e,e=window[t(307)][t(313)];return-1!==e[t(464)]("Edg")||-1!==e.indexOf(t(515))}()?this[e(483)]():this[e(735)]())};ge.on("change",e),this[t(606)][t(600)][t(711)]((()=>{const s=t;ge.off(s(722),e)}))}catch(t){}}[JL(598)](t,e,s){return new Promise(((i,r)=>{const n=$L;(Ls(e)||ei(e))&&(s=e,e={});const o=this[n(520)](s);if(o)if(o[n(622)])o.player[n(598)](t,e)[n(516)]((()=>{i()}))[n(781)]((t=>{r(t)}));else{const s=this[n(504)](o);o[n(622)]=s,s.play(t,e)[n(516)]((()=>{i()}))[n(781)]((t=>{r(t)}))}else r(n(495)+s+n(660))}))}[JL(618)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(618)]():(this.debugWarn(this.LOG_TAG,e(629)+t+e(660)),{})}[JL(699)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)][s(699)](t):this[s(533)](this.LOG_TAG,s(661)+e+s(660))}mute(t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)][e(667)]():this.debugWarn(this[e(757)],e(551)+t+e(660))}[JL(506)](t){const e=JL,s=this._getWindowItem(t);s&&s.player?s[e(622)][e(506)]():this[e(533)](this[e(757)],e(577)+t+e(660))}[JL(758)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)][s(758)](t):this[s(533)](this[s(757)],s(796)+e+s(660))}[JL(685)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s.player[e(685)]():this[e(533)](this[e(757)],e(705)+t+e(660))}[JL(679)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)].setTimeout(t):this[s(533)](this.LOG_TAG,s(793)+e+s(660))}setScaleMode(t,e){const s=JL,i=this._getWindowItem(e);i&&i[s(622)]?i.player[s(565)](t):this[s(533)](this[s(757)],"setScaleMode() windowIndex "+e+s(660))}pause(){const t=JL;let e=arguments[t(791)]>0&&void 0!==arguments[0]&&arguments[0],s=arguments[t(791)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t,o=this[n(520)](s);o&&o[n(622)]?o.player.pause(e).then((()=>{i()})).catch((t=>{r(t)})):r(n(594)+s+n(660))}))}[JL(558)](t){return new Promise(((e,s)=>{const i=$L,r=this[i(520)](t);r&&r[i(622)]?r[i(622)][i(558)]().then((()=>{e()}))[i(781)]((t=>{s(t)})):s(i(745)+t+i(660))}))}clearView(t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)].clearView():this.debugWarn(this[e(757)],e(755)+t+e(660))}[JL(468)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)].setStreamQuality(t):this[s(533)](this.LOG_TAG,s(727)+e+" is not exist")}[JL(735)](){const t=JL;this[t(687)][t(510)]?this._updateWindows$2():this[t(658)]()}[JL(587)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)].setBufferTime(t):this[s(533)](this[s(757)],s(709)+e+s(660))}[JL(684)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)][s(684)](t):this[s(533)](this.LOG_TAG,"setBufferDelayTime() windowIndex "+e+s(660))}[JL(566)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)][s(566)](t):this[s(533)](this[s(757)],s(576)+e+s(660))}[JL(702)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)].setMirrorRotate(t):this[s(533)](this[s(757)],s(469)+e+s(660))}updateIsEmitSEI(t,e){const s=JL,i=this._getWindowItem(e);i&&i[s(622)]?i[s(622)].updateIsEmitSEI(t):this[s(533)](this[s(757)],"updateIsEmitSEI() windowIndex "+e+s(660))}getPTZCmd(t,e,s){const i=JL,r=this[i(520)](s);if(!r||!r[i(622)])return this.debugWarn(this.LOG_TAG,i(485)+s+i(660)),null;returnwindowItem.player[i(470)](t,e)}[JL(666)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)][s(666)](t):this[s(533)](this[s(757)],s(546)+e+s(660))}hasLoaded(t){const e=JL,s=this._getWindowItem(t);return!(!s||!s.player)&&s.player[e(692)]()}[JL(561)](t){const e=JL,s=this._getWindowItem(t);s&&s[e(622)]?s.player[e(561)]():this.debugWarn(this[e(757)],e(593)+t+e(660))}[JL(748)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)][s(748)](t):this.debugWarn(this[s(757)],s(579)+e+s(660))}[JL(670)](t,e){const s=JL,i=this[s(520)](e);return i&&i[s(622)]?i[s(622)][s(670)](t[s(557)],t[s(734)],t[s(491)],t.type):null}screenshotWatermark(t,e){const s=JL,i=this[s(520)](e);return i&&i.player?i[s(622)][s(611)](t):null}[JL(691)](t,e,s){return new Promise(((i,r)=>{const n=$L,o=this._getWindowItem(s);o&&o[n(622)]?o.player.startRecord(t,e)[n(516)]((()=>{i()}))[n(781)]((t=>{r(t)})):(this[n(533)](this[n(757)],n(789)+s+" is not exist"),r(n(743)+s+n(660)))}))}[JL(657)](t,e,s){return new Promise(((i,r)=>{const n=$L,o=this._getWindowItem(s);o&&o[n(622)]?o.player[n(657)](t,e)[n(516)]((t=>{i(t)}))[n(781)]((t=>{r(t)})):(this[n(533)](this[n(757)],n(750)+s+n(660)),r(n(743)+s+n(660)))}))}[JL(528)](t){const e=JL,s=this[e(520)](t);return s&&s.player?s[e(622)].isPlaying():(this.debugWarn(this[e(757)],"isPlaying() windowIndex "+t+e(660)),!1)}[JL(608)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)].isLoading():(this[e(533)](this[e(757)],e(774)+t+e(660)),!1)}[JL(765)](t){const e=JL,s=this._getWindowItem(t);return s&&s[e(622)]?s[e(622)].isPaused():(this[e(533)](this[e(757)],e(743)+t+e(660)),!1)}[JL(714)](t){const e=JL,s=this[e(520)](t);return s&&s.player?s[e(622)][e(714)]():(this[e(533)](this[e(757)],e(605)+t+e(660)),!1)}[JL(493)](t){const e=JL,s=this._getWindowItem(t);return s&&s.player?s.player[e(493)]():(this[e(533)](this[e(757)],"isRecording() windowIndex "+t+" is not exist"),!1)}clearBufferDelay(t){const e=JL,s=this[e(520)](t);s&&s.player?s[e(622)][e(484)]():this[e(533)](this[e(757)],e(663)+t+e(660))}[JL(680)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)].setNetworkDelayTime(t):this[s(533)](this[s(757)],s(534)+e+" is not exist")}getDecodeType(t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)][e(527)]():(this[e(533)](this[e(757)],"getDecodeType() windowIndex "+t+" is not exist"),null)}[JL(707)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(707)]():(this[e(533)](this.LOG_TAG,e(743)+t+e(660)),null)}[JL(717)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)][e(717)]():(this[e(533)](this[e(757)],e(743)+t+" is not exist"),null)}[JL(681)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)].getPlayingTimestamp():(this[e(533)](this[e(757)],e(743)+t+e(660)),null)}[JL(542)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(542)]():(this[e(533)](this.LOG_TAG,e(712)+t+e(660)),null)}getPlayType(t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(662)]():(this[e(533)](this[e(757)],e(636)+t+e(660)),null)}[JL(710)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)].togglePerformancePanel(t):this[s(533)](this[s(757)],s(537)+e+s(660))}[JL(775)](t){const e=JL,s=this._getWindowItem(t);s&&s[e(622)]?s[e(622)].openZoom():this[e(533)](this[e(757)],e(526)+t+e(660))}[JL(686)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)][e(686)]():this[e(533)](this[e(757)],e(481)+t+e(660))}isZoomOpen(t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(474)]():(this[e(533)](this.LOG_TAG,e(673)+t+e(660)),!1)}[JL(479)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s.player[e(479)]():this.debugWarn(this[e(757)],e(499)+t+" is not exist")}narrowZoom(t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s.player[e(779)]():this[e(533)](this[e(757)],e(703)+t+" is not exist")}[JL(530)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s.player[e(530)]():(this[e(533)](this.LOG_TAG,"getCurrentZoomIndex() windowIndex "+t+e(660)),0)}[JL(787)](t,e){const s=JL,i=this[s(520)](e);i&&i.player?i[s(622)][s(787)](t):this[s(533)](this[s(757)],s(509)+e+" is not exist")}updateDebugLevel(t,e){const s=JL,i=this._getWindowItem(e);i&&i[s(622)]?i.player[s(467)](t):this[s(533)](this[s(757)],"updateDebugLevel() windowIndex "+e+s(660))}[JL(544)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i[s(622)][s(544)](t):this[s(533)](this[s(757)],"updateWatermark() windowIndex "+e+" is not exist")}[JL(639)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s.player[e(639)]():this[e(533)](this[e(757)],e(732)+t+e(660))}[JL(621)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i.player[s(621)](t):this.debugWarn(this[s(757)],s(656)+e+s(660))}[JL(507)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)].removeFullscreenWatermark():this[e(533)](this[e(757)],e(635)+t+e(660))}[JL(794)](t){const e=JL,s=this[e(520)](t);s&&s.player?s[e(622)][e(794)]():this[e(533)](this[e(757)],"faceDetectOpen() windowIndex "+t+" is not exist")}[JL(502)](t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)][e(502)]():this.debugWarn(this[e(757)],e(525)+t+" is not exist")}[JL(497)](t){const e=JL,s=this[e(520)](t);s&&s.player?s[e(622)][e(497)]():this.debugWarn(this.LOG_TAG,e(674)+t+e(660))}[JL(476)](t){const e=JL,s=this._getWindowItem(t);s&&s[e(622)]?s[e(622)][e(476)]():this[e(533)](this[e(757)],e(559)+t+" is not exist")}[JL(465)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i.player[s(465)](t):this[s(533)](this.LOG_TAG,"sendWebsocketMessage() windowIndex "+e+s(660))}[JL(548)](t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i.player[s(548)](t):this[s(533)](this[s(757)],s(496)+e+s(660))}[JL(756)](t){const e=JL,s=this._getWindowItem(t);s&&s.player?s[e(622)].clearContentToCanvas():this[e(533)](this[e(757)],e(797)+t+e(660))}setControlHtml(t,e){const s=JL,i=this[s(520)](e);i&&i[s(622)]?i.player[s(619)](t):this.debugWarn(this[s(757)],"setControlHtml() windowIndex "+e+s(660))}clearControlHtml(t){const e=JL,s=this[e(520)](t);s&&s[e(622)]?s[e(622)].clearControlHtml():this[e(533)](this[e(757)],e(697)+t+e(660))}[JL(462)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)].getFlvMetaData():(this.debugWarn(this[e(757)],e(769)+t+e(660)),null)}[JL(650)](t){const e=JL,s=this[e(520)](t);return s&&s[e(622)]?s[e(622)][e(650)]():(this[e(533)](this[e(757)],e(708)+t+e(660)),null)}[JL(689)](t,e){const s=JL,i=this[s(520)](e);if(!i||!i[s(622)])return this[s(533)](this[s(757)],s(540)+e+s(660)),null;i[s(622)][s(689)](t)}updateAiFaceDetectLevel(t,e){const s=JL,i=this._getWindowItem(e);if(!i||!i[s(622)])return this[s(533)](this[s(757)],"updateAiFaceDetectLevel() windowIndex "+e+s(660)),null;i.player[s(773)](t)}[JL(721)](t,e){const s=JL,i=this._getWindowItem(e);if(!i||!i[s(622)])return this[s(533)](this[s(757)],s(515)+e+" is not exist"),null;i[s(622)].updateAiObjectDetectInterval(t)}[JL(760)](t,e){const s=JL,i=this[s(520)](e);if(!i||!i.player)return this[s(533)](this[s(757)],s(788)+e+s(660)),null;i.player[s(760)](t)}[JL(744)](t,e){const s=JL,i=this[s(520)](e);if(!i||!i[s(622)])return this[s(533)](this.LOG_TAG,"setCryptoKeyUrl() windowIndex "+e+s(660)),null;i[s(622)][s(744)](t)}[JL(672)](t,e){const s=JL,i=this[s(520)](e);if(!i||!i[s(622)])return this[s(533)](this[s(757)],"showErrorMessageTips() windowIndex "+e+s(660)),null;i[s(622)][s(672)](t)}[JL(522)](t){const e=JL,s=this[e(520)](t);if(!s||!s[e(622)])return this[e(533)](this.LOG_TAG,e(553)+t+" is not exist"),null;s.player[e(522)]()}destroySingle(t){return new Promise(((e,s)=>{const i=$L,r=this[i(520)](t);r?r[i(622)]&&r[i(622)][i(588)]()[i(516)]((()=>{r[i(622)]=null,e()}))[i(781)]((t=>{s(t)})):(s(i(624)),this[i(533)](this[i(757)],i(695)+t+i(660)))}))}[JL(638)](t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e;(function(t){const e=$e;return null!==t&&typeof t===e(532)&&!Array[e(327)](t)})(t)&&(s=t,t=null);const o=this[n(520)](t);if(o)if(o[n(622)])o[n(622)][n(588)]().then((()=>{const t=n;o.player=null;const e=this._createPlayer(o,s);o[t(622)]=e,i()})).catch((t=>{r(t)}));else{const t=this[n(504)](o,s);o.player=t,i()}else r("windowIndex is not exist"),this[n(533)](this[n(757)],n(695)+t+n(660))}))}[JL(488)](t){return new Promise(((e,s)=>{const i=$L;if(this[i(637)](this[i(757)],i(488),t),t)try{ge[i(617)](this[i(574)])[i(516)]((()=>{e()}))[i(781)]((t=>{const e=i;this[e(560)](this.LOG_TAG,e(653),t),s(t)}))}catch(t){this[i(560)](this[i(757)],"fullscreen request error",t),s(t)}else try{ge.exit()[i(516)]((()=>{e()}))[i(781)]((t=>{const e=i;this.debugError(this.LOG_TAG,e(552),t),s(t)}))}catch(t){this[i(560)](this.LOG_TAG,i(785),t),s(t)}}))}[JL(649)](t,e){const s=JL;this[s(637)](this[s(757)],s(573),e);const i=this._getWindowItem(e);this[s(603)][s(648)]((t=>{const e=s;t.uuid!==i[e(490)]&&this._handleWindowContainerFullscreen(t.uuid,!1)})),this[s(532)](i.uuid,t)}selectWindow(t){const e=JL;this[e(637)](this.LOG_TAG,e(607),t),this[e(602)](t)}selectNextWindow(t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]&&arguments[1];this[e(637)](this[e(757)],e(582),t,s);let i=!1;Ns(t)&&(s=t,t=null);let r=this[e(520)](t);if(r){const t=this._getWindowUuidList()||[],n=t[e(475)]((t=>t===r[e(490)]));let o=-1;if(n<t[e(791)]-1){o=t[n+1]}else s&&(o=t[0]);-1!==o&&(i=!0,this[e(602)](o))}return i}selectPrevWindow(t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]&&arguments[1];this[e(637)](this[e(757)],e(597),t,s);let i=!1;Ns(t)&&(s=t,t=null);let r=this[e(520)](t);if(r){const t=this[e(720)]()||[],n=t[e(475)]((t=>t===r[e(490)]));let o=-1;if(n>0){o=t[n-1]}else s&&(o=t[t.length-1]);return-1!==o&&(i=!0,this._handleWindowSelect(o)),i}}[JL(556)](t){const e=JL;this[e(637)](this[e(757)],e(556),t),this._innerArrangeWindow(t)}[JL(631)](t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]&&arguments[1];if(!t)return void this[e(533)](this[e(757)],e(700)+t+" is not valid");if([Lt[e(472)],Lt[e(563)]][e(570)](t))this._arrangeSpecialWindow(t);else{if(this._opt[e(665)]===t&&null===this[e(610)]&&Ri(s))return void this[e(533)](this[e(757)],"arrangeWindow() split "+t+e(780));this.specialLayoutType=null,this._arrangeWindow(t)}}[JL(741)](t){const e=JL;(t=Ts(t))<1||!Ls(t)?this[e(533)](this[e(757)],e(700)+t+" is not valid"):(t>this[e(687)][e(733)]&&(t=this[e(687)].maxSplit),this[e(687)][e(665)]=t,this.currentWindowIndex=0,this[e(687)][e(510)]?this._updateWindows$2():this[e(658)](),this[e(602)](this.currentWindowIndex))}[JL(524)](t){const e=JL;this[e(687)][e(733)]<=3&&t===Lt[e(563)]?this[e(533)](this.LOG_TAG,e(751)+t+e(654)+this[e(687)][e(733)]):this._opt[e(733)]<=2&&t===Lt[e(472)]?this[e(533)](this[e(757)],e(751)+t+e(654)+this[e(687)][e(733)]):this[e(610)]&&this[e(610)]===t?this[e(533)](this[e(757)],e(751)+t+e(780)):(this[e(610)]=t,t===Lt.special1?this[e(741)](3):t===Lt[e(563)]?this[e(741)](4):this[e(533)](this[e(757)],"_arrangeSpecialWindow() type "+t+e(688)))}[JL(555)](){const t=JL;return this[t(610)]?this[t(610)]:this[t(687)][t(665)]}[JL(642)](){const t=JL;if(this[t(610)]){let e=0;return this[t(610)]===Lt[t(472)]?e=9:this.specialLayoutType===Lt[t(563)]&&(e=16),e}return this._opt[t(665)]*this._opt[t(665)]}_getCurrentMaxSplitV2(){const t=JL;return this[t(610)]?this[t(676)]():this[t(687)][t(665)]*this._opt[t(665)]}[JL(676)](){const t=JL;let e=0;return this[t(610)]===Lt.special1?e=6:this[t(610)]===Lt[t(563)]&&(e=8),e}[JL(704)](){return this[JL(764)]}[JL(641)](){return this[JL(585)]}[JL(596)](t){const e=JL;let s=this._getWindowItem(t),i=this[e(535)](s.uuid),r=null;return s&&(r={index:i,$player:s[e(612)],$playerContainer:s.$playerContainer,player:s.player,uuid:s[e(490)]}),r}[JL(487)](t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]&&arguments[1];this.debugLog(this[e(757)],"getNextWindowItem",t,s);let i=null;Ns(t)&&(s=t,t=null);let r=this[e(520)](t);if(r){const t=this[e(720)]()||[],s=t[e(475)]((t=>t===r.uuid));let n=-1;if(n=s<t[e(791)]-1?s+1:0,-1!==n){const s=this[e(668)](t[n]);if(s){i={index:this[e(535)](s[e(490)]),$player:s[e(612)],$playerContainer:s[e(538)],player:s.player,uuid:s[e(490)]}}}}return i}[JL(753)](t){const e=JL;let s=arguments[e(791)]>1&&void 0!==arguments[1]&&arguments[1];this.debugLog(this[e(757)],"getPrevWindowItem",t,s);let i=null;Ns(t)&&(s=t,t=null);let r=this._getWindowItem(t);if(r){const t=this[e(720)]()||[],n=t.findIndex((t=>t===r[e(490)]));let o=-1;if(n>0?o=n-1:s&&(o=t[t[e(791)]-1]),-1!==o){const s=this[e(668)](t[o]);if(s){i={index:this._findWindowItemIndexByUuid(s[e(490)]),$player:s[e(612)],$playerContainer:s[e(538)],player:s.player,uuid:s.uuid}}}}return i}[JL(580)](){return this[JL(720)]()||[]}[JL(782)](t){const e=JL;let s=!1,i=this[e(520)](t);return i&&i[e(622)]&&(s=!0),s}[JL(520)](t){const e=JL;let s=null;const i=ei(t)&&16===t[e(791)];return s=i||!Ls(t)?this[e(668)](i?t:this[e(585)]):this[e(603)][t]||this[e(603)][this.currentWindowIndex],s}_getWindowUuidList(){const t=JL;return this.windowList[t(569)](((e,s)=>s<this[t(786)]()))[t(698)]((e=>e[t(490)]))}[JL(729)](t){const e=JL;return t&&t[e(490)]?this[e(535)](t.uuid):null}[JL(535)](t){const e=JL;return this[e(603)][e(475)]((e=>e.uuid===t))}_findWindowItemByUuid(t){const e=JL;return this[e(603)][e(659)]((s=>s[e(490)]===t))}[JL(718)](t){if(!t)return!1;return!!Pi(t,L)}debugLog(t){const e=JL;if(this[e(687)].debug&&this[e(519)]){for(var s=arguments[e(791)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this.debug[e(536)](t,...i)}}[JL(533)](t){const e=JL;if(this[e(687)].debug&&this.debug){for(var s=arguments[e(791)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(519)][e(480)](t,...i)}}[JL(560)](t){const e=JL;if(this.debug){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(519)][e(505)](t,...i)}}}return ZL.MULTI_EVENTS=Rt,ZL[JL(567)]={...K,...Rt},ZL[JL(706)]=Q,window[JL(730)]=ZL,window.JbProMulti=ZL,window.WebPlayerProMulti=ZL,ZL}));
