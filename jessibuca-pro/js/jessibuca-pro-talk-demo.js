!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self)["jessibuca-talk"]=e()}(this,(function(){"use strict";const t=e;function e(t,r){const i=s();return(e=function(t,e){return i[t-=384]})(t,r)}function s(){const t=["2092720wmiecm","forEach","length","off","618582AWyOwj","55920VxlodX","slice","apply","7plyMzF","148668GttZrk","449940tTyGzE","push","108386jNtyol","emit","47260hGVucY"];return(s=function(){return t})()}!function(t,s){const r=e,i=t();for(;;)try{if(190842===parseInt(r(395))/1+parseInt(r(387))/2+-parseInt(r(388))/3+-parseInt(r(397))/4+parseInt(r(393))/5+-parseInt(r(392))/6*(parseInt(r(391))/7)+-parseInt(r(398))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(s);class r{on(t,s,r){const i=e,o=this.e||(this.e={});return(o[t]||(o[t]=[]))[i(394)]({fn:s,ctx:r}),this}once(t,s,r){const i=this;function o(){const n=e;i.off(t,o);for(var a=arguments[n(385)],l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];s[n(390)](r,l)}return o._=s,this.on(t,o,r)}[t(396)](e){const s=t,r=((this.e||(this.e={}))[e]||[])[s(389)]();for(var i=arguments[s(385)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(let t=0;t<r[s(385)];t+=1)r[t].fn[s(390)](r[t].ctx,o);return this}[t(386)](e,s){const r=t,i=this.e||(this.e={});if(!e)return Object.keys(i)[r(384)]((t=>{delete i[t]})),void delete this.e;const o=i[e],n=[];if(o&&s)for(let t=0,e=o[r(385)];t<e;t+=1)o[t].fn!==s&&o[t].fn._!==s&&n[r(394)](o[t]);return n[r(385)]?i[e]=n:delete i[e],this}}const i=y;!function(t,e){const s=y,r=t();for(;;)try{if(775162===parseInt(s(414))/1+parseInt(s(398))/2*(-parseInt(s(450))/3)+parseInt(s(587))/4*(parseInt(s(675))/5)+-parseInt(s(567))/6*(-parseInt(s(670))/7)+-parseInt(s(502))/8+parseInt(s(612))/9*(parseInt(s(328))/10)+-parseInt(s(588))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(g);const o={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7};i(164),i(615),i(677),i(172),i(164),i(615),i(585),i(625),i(481),i(240);const n={player:i(402),playerAudio:i(366),playbackTF:i(472),talk:i(594),playVod:i(352)},a={mp4:i(474),webm:"webm",flv:i(563),mov:"mov"},l={flv:i(563),m7s:i(266),hls:i(356),webrtc:i(615),webTransport:i(585),nakedFlow:"nakedFlow",fmp4:i(290),mpeg4:i(281),aliyunRtc:i(677),ts:"ts",g711:i(510),pcm:"pcm",ps:"ps"};i(499),i(395),i(385),i(569),i(437),i(207),i(322),i(368);const c={mse:i(232),wcs:i(693),offscreen:i(421),wasm:i(307),simd:i(649),simdFFmpeg:i(287),mt:"mt",webrtc:i(615),hls:i(356),aliyunRtc:i(677),browser:i(680)},h={canvas:i(589),video:i(644)},u={debug:i(556),warn:"warn"},d={click:i(333),mouseDownAndUp:"mouseDownAndUp"},p="normal",f=(i(203),{normal:i(392),small:i(214)}),m={drop:i(613),accelerate:i(301)};i(485),i(206);i(526),i(260);function g(){const t=["jbprovm","webrtcChecking","white","playAudio","speed","playbackJustTime","m7s","timeout","talkStreamInactive","load-start","switch-url-success","mseAddSourceBufferError","isFmp4","message","red","decoder-pro-audio-player.js","5min","resize","playVodEndedAndReplay","mseDecodeError","multiMouseout","mpeg4","alaw","hlsError","webcodecsAudioInitTimeout","recordStart","log","simdFFmpeg","connecting","download","fmp4","webrtc-failed","网络超时重播失败","aiObjectDetectorInfo","videoInfo","#000","resetAudioDecode","不支持硬解码H265","video decoder initialization failed","self","AbortError","accelerate","mediaSourceAppendBufferError","worklet","playbackPause","playVodMp4UseSrc","clickInitPlayer","wasm","wcsDecodeError","playVodPauseOrResume","local-candidate","open","startstreaming",'video/mp4;codecs="hev1.2.4.L120.90"',"ulaw","created","playbackEndedAndReplay","电子放大","halfHour","warn","csrc","sei-in-time","WebTransport","playVodMp4Error","wasmError","image/png","点播MP4文件异常","multiDragenter","2270JpZoGs","flvDemuxBufferSizeTooLarge","track","decoderWorkerInit","webrtc-completed","click","initAudioCodec","TS流包大小异常","ws1006","talkGetUserMediaFail","4-1","tcp","mseSourceBufferError","tsPrivateData","leftUp","five-min","Unsupported audio format","sourceended","webcodecsDecodeConfigureError","remote-candidate","peer-connection","zoomNarrow","streamAbps",'video/mp4;codecs="hev1.3.E.L120.90"',"playVod","iframeIntervalTs","load","pause","hls","leftDown","mseSourceended","timeupdate","zooming","videoSmooth","simdDecodeError","playVodRateChange","multiMouseover","load-response-headers","playerAudio","initVideo","AliyunRtc","playVodCalcFpsError","focusFar","硬解码不支持G711a/u音频格式","blur","talkGetUserMediaTimeout","audioInfo","multiDrop","解析视频分辨率失败","streamQualityChange","webcodecsH265NotSupport","初始化解码器失败","video自动渲染失败","fiStop","webglContextLostError","30min","H264(AVC)","HLS","ALAW(g711a)","emptied","playing","MEDIA_ERR_ABORTED","endstreaming","Decoder failure","normal","websocketOpenTimeout","wcsWidthOrHeightChange","M7S","bufferByteLength","delta","75756MkADXe","audioChannelError","delayTimeoutRetryEnd","widthOrHeightChangeReplayDelayTime","player","playVodBufferedTime","left","videoCode","multiDragleave","multiMouseup","请求结束","webrtcFailed","codec","right-down","websocketStringMsg","tenMin","782990bUmgOa","videoRenderSupportScale","audio packet","seeking","webrtc不支持H265","zoomExpand","初始化解码worker超时","offscreen","mseSourceOpen","streamEndInner","g711u","oneHour","mediaSourceDecoderConfigurationError","idle","H265(HEVC)","MULAW","active","simdH264DecodeVideoWidthIsTooLarge","apertureFar","人脸识别","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C(wasm%E5%86%85%E9%83%A8%E4%BC%9A%E6%9A%82%E5%81%9C%E8%A7%A3%E7%A0%81)%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","aiOcclusionDetectResult","AAC","MPEG4","removeLoadingBgImage",'video/mp4;codecs="hev1.4.10.L120.90"',"volume","remote-outbound-rtp","workerEnd","sendMessage","empty","focusNear","close","videoPayload","streamVbps","playVodMp4UseSrcError","42BbDNMo","stream-parsed","flvScriptData","videoSEISyncPts","buffereos","playVodCanplay","playbackPauseOrResume","talkStreamError","A key frame is required after configure() or flush()","currentPts","faceDetectActive","isTs","isMpeg4","playback","ALAW","workerFetch","recordCreateError","image/webp","memoryLog","webFullscreen","delayTimeout","playVodVideoSeekedByMse","playbackTF","pauseAndNextPlayUseLastFrameShow","mp4","object","down","webrtc-closed",'video/mp4; codecs="hvc1.1.6.L120.90"',"no-audio-track","crashLog","mp4Vod","wasm初始化异常","playbackShowPrecisionChange","networkDelay","JessibucaPro","初始化worker失败","networkState","flvMetaData","播放地址不能为空","首帧解码超时","ceil","kBps","MEDIA_ERR_DECODE","webcodecsDecodeError","start","stats","resetVideoDecode","data-channel","FLV","遮挡物检查","failedToAsynchronouslyPrepareWasm","1304592obwdbT","fullScreenByStart","webgl2","mute","netBuf","webcodecsAudioDecodeError","playbackPreRateChange","switch-url-failed","g711","ghostWatermarkConfig","webrtcError","云台激活","play() failed because the user didn't interact with the document first","HEVC decoding is not supported","webrtc-connected","imageDetectActive","outbound-rtp","hls264UseOldDemuxer","pressureObserverCpu","recordBlob","right","isFlv","webrtcClosed","sourceopen","/crypto/","mediaSourceAudioNoDataTimeout","streamSuccess","videoSequenceHeader","play","audioDecode","webrtcOnConnectionStateChange","ptz","音频通道错误","加载超时重播失败","simdDecodeDelayTimeout","progress","av1","MEDIA_ERR_SRC_NOT_SUPPORTED","initDecoderWorkerTimeout","blob","videoElementPlayingFailed","Error Domain=NSOSStatusErrorDomain","controlSize","objectDetectActive","请求失败","init","fiveMin","volumechange","paused","等待音频数据超时","playbackTimeScroll","人脸识别激活","resetDecode","Decoder error","debug","fogClose","playVodVideoSeekingByMse","offline","recordCancel","inbound-rtp","qualitychange","flv","videoNalu","durationchange","3-4","6lOqSMk","playFailedAndPaused","FMP4","streamDts","streamError","tsPacketSizeError","streamRate","FSimd","webrtcCompleted","opus","streamMessage","videoTimeUpdate","playVodTime","destroy","decoder-pro-hard-not-wasm.js","webgl 上下文丢失","decoder-pro-old.js","multiMousemove","webTransport","videoCodec","48BElTtq","14145549XuiryR","canvas","aliyunRtcError","The user aborted a request","aacSequenceHeader","Webgl 渲染失败","talk","fetchErrorWorker","record","mp3","metadata","mtStreamStats","notSupportNewWasm","sender","heartTimeout","不支持该分辨率的视频","defaultStreamQuality","render","playType","webcodecsAudioNoDataTimeout","playVodEnded","webrtcIceCandidateError","jtt","playVodSeek","21510zYYWWs","drop","drawingRectInfo","webrtc","certificate","isWebrtcForSRS","wasmWidthOrHeightChange","Decoding error","audioNalu","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","isWebrtcForOthers","loadingTimeoutRetryEnd","stalled","worker","关闭电子放大","videoSEI","load-retry","isAliyunRtc","buffering","dynamicWatermarkConfig","decoderWorkerUncaughtError","mediaSourceAudioInitTimeout","mseSourceBufferFull","online","decoder-pro.js","mseError","videoDecode","退出全屏","MediaSource解码使用canvas渲染失败","cruiseStop","fetchSuccess","videoFrame","video","streamStats","video decode error","performance","playbackTimestamp","simd","isNakedFlow","none","MP3","checkFirstIFrame","mp4Error","subtitle-segments","error","isWebrtcForZLM","websocketClose","one-hour","isWebrtc","hls-level-loaded","fullscreenError","remove-buffer","mseWaitVideoCanplayTimeout","0000000000","webrtc-disconnected","talkStreamMsg","NV12","multiDragstart","1616377RdGZip","talkGetUserMediaSuccess","1-1","loadingTimeout","playbackRateChange","499190BUpTBh","visibilityChange","aliyunRtc","Invalid NAL unit size","remote-inbound-rtp","browser","MULAW(g711u)","focus","candidate-pair","初始化音频解码器失败","点播解码器异常","rtp","ten-min","播放超时重播失败","playbackSeek","Wasm","物品识别","metadata-parsed","wcs","wasmDecodeError","recording","videoRectContentClick","wiperClose","receiver","mediaSourceUseCanvasRenderPlayFailed","drawingRect","webrtcConnected","playVodTimeCache","ratechange",'video/mp4;codecs="hev1.1.6.L120.90"',"talkFailedAndStop","websocket","visibilityHiddenTimeout","mseHandle","websocketError","rightDown","NotAllowedError","updateForwardMaxRateDecodeIFrame","togglePerformancePanel","fetch","mseSourceStartStreaming","ended","#343434","image/jpeg","inView","multiSelected","mediaSourceBufferedIsZeroError","audioResumeState","playIsNotPauseOrUrlIsNull","解码失败","mseWorkerAddSourceBufferError","script","container","media-source","webrtc-checking","playVodFps","isM7sCrypto","streamEnd","initVideoCodec","talkStreamStart","suspend","g711a","stream","clearBuffer","downloadMemoryLog","websocketOpen","webcodecsUnsupportedConfigurationError","loading","left-down","webrtcStreamH265","simple","playbackEnd","timeUpdate","20251202","Webrtc","left-up","decoderWorkerInitError","点播MP4文件格式异常","webglAlignmentError","complete","性能面板激活","small","demuxed-track","talkStreamClose","playbackForwardMaxRateDecodeIFrame","playbackTime","decoder-pro-audio.js","audioCode","buffer","playVodPause","global","udp","hls-manifest-loaded","seeked","webrtcLowFps","Simd","Cannot call 'decode' on a closed codec",'video/mp4; codecs="hev1.1.6.L123.b0"',"waiting","mse","recordingTimestamp","notConnect","playbackStats","wasmUseVideoRenderError","fetchError","decode","sourceclose","flvVod","recordEnd","multiMousedown","3-1","destroyEnd","full","webgl","点播FLV文件异常","aiFaceDetectorInfo","playToRenderTimes","MEDIA_ERR_NETWORK","流异常","playVodWaiting","websocket1006Error","Failed to send video packet for decoding","#FFCC00","networkDelayTimeout","startInner","mseSourceEndStreaming","widthOrHeightChange"];return(g=function(){return t})()}function y(t,e){const s=g();return(y=function(t,e){return s[t-=156]})(t,e)}i(668),i(489),i(593),i(582),i(297),i(379),i(379),i(379),i(251),i(251),i(371),i(684),i(551),i(640),i(251),i(297),i(379),i(379),i(684),i(551),i(182),i(182),i(490),i(251),i(380),i(603),i(292),i(546),i(408),i(546),i(546),i(546),i(486),i(380),i(376),i(418),i(688),i(535),i(535),i(688),i(534),i(546),i(251),i(420),i(482),i(482),i(326),i(210),i(247),i(685),i(210),i(335);i(402),i(556),i(392),i(636),i(583),i(219),i(581),i(651),i(172),i(563),i(307),i(474),i(333),i(644),i(262),i(262),i(274),i(613);i(606),i(217),i(189),i(473),i(401),i(544),i(523),i(272),i(462),i(650),i(660),i(657),i(617),i(622),i(629),i(461),i(511),i(631),i(604),i(415),i(267),i(673),i(602),i(305),i(547),i(367),i(605),i(263),i(492),i(220),i(620),i(405),i(586),i(564),i(447),i(324),i(465),i(353),i(442),i(484),i(618),i(362),i(431),i(536),i(198),i(412),i(627),i(452),i(592),i(529),i(653),i(166),i(637),i(600),i(599),i(341),i(678),i(547),i(238),i(531),i(638),i(334),i(191),i(446),i(554),i(196),i(296),i(497),i(188),i(170),i(172),i(580),i(244),i(221),i(237),i(595),i(642),i(396),i(172),i(443),i(580),i(244),i(396),i(167),i(658),i(198),i(412);const b={fullscreenInner:"fullscreen$2",fullscreen:"fullscreen",fullScreenByStart:i(503),webFullscreen:"webFullscreen",decoderWorkerInit:i(331),play:"play",playing:i(388),pause:i(355),mute:i(505),load:"load",loading:i(200),zooming:i(360),drawingRect:i(158),drawingRectInfo:"drawingRectInfo",videoInfo:i(294),timeUpdate:"timeUpdate",audioInfo:i(374),log:i(286),error:i(656),kBps:i(492),timeout:i(267),delayTimeout:i(470),delayTimeoutRetryEnd:"delayTimeoutRetryEnd",loadingTimeout:"loadingTimeout",loadingTimeoutRetryEnd:i(623),stats:i(496),performance:i(647),videoSmooth:i(361),faceDetectActive:i(460),objectDetectActive:i(545),occlusionDetectActive:"occlusionDetectActive",imageDetectActive:i(517),record:i(596),recording:i(695),recordingTimestamp:i(233),recordStart:i(285),recordEnd:i(241),recordCreateError:i(466),recordBlob:i(521),recordCancel:i(560),buffer:i(221),videoFrame:i(643),videoSEI:i(627),videoSEISyncPts:i(453),start:i(495),startInner:i(257),metadata:i(598),resize:i(277),volumechange:i(549),volume:"volume",destroy:i(580),beforeDestroy:"beforeDestroy",streamEnd:"streamEnd",streamRate:i(573),streamAbps:i(350),streamVbps:i(448),streamDts:i(570),streamSuccess:i(528),streamMessage:i(577),streamError:i(571),streamStats:i(645),streamEndInner:i(423),mseSourceOpen:i(422),mseSourceClose:"mseSourceClose",mseSourceended:i(358),mseSourceStartStreaming:i(173),mseSourceEndStreaming:i(258),mseSourceBufferError:i(340),mseAddSourceBufferError:i(271),mseWorkerAddSourceBufferError:i(183),mseSourceBufferBusy:"mseSourceBufferBusy",mseSourceBufferFull:i(634),videoWaiting:"videoWaiting",videoTimeUpdate:i(578),videoSyncAudio:"videoSyncAudio",playToRenderTimes:"playToRenderTimes",playbackTime:i(218),playbackTimestamp:i(648),playbackTimeScroll:i(552),playbackPrecision:"playbackPrecision",playbackShowPrecisionChange:i(483),playbackJustTime:i(265),playbackStats:"playbackStats",playbackSeek:"playbackSeek",playbackPause:i(304),playbackPauseOrResume:i(456),playbackRateChange:i(674),playbackPreRateChange:i(508),playbackEndInner:"playbackEndInner",playbackEnd:i(204),playbackEndedAndReplay:i(316),playVodStats:"playVodStats",playVodPause:i(222),playVodPauseOrResume:i(309),playVodRateChange:i(363),playVodTime:i(579),playVodBufferedTime:"playVodBufferedTime",playVodTimeCache:i(160),playVodSeek:i(611),playVodSeeking:"playVodSeeking",playVodSeekEnd:"playVodSeekEnd",playVodVideoSeekingByMse:i(558),playVodVideoSeekedByMse:i(471),playVodCanplay:i(455),playVodWaiting:i(252),playVodEndedAndReplay:i(278),playVodEnded:i(608),ptz:i(533),streamQualityChange:i(377),visibilityChange:"visibilityChange",netBuf:i(506),close:"close",networkDelayTimeout:"networkDelayTimeout",togglePerformancePanel:i(171),viewResizeChange:"viewResizeChange",flvDemuxBufferSizeTooLarge:i(329),talkGetUserMediaSuccess:i(671),talkGetUserMediaFail:i(337),talkGetUserMediaTimeout:i(373),talkStreamStart:i(192),talkStreamOpen:"talkStreamOpen",talkStreamClose:i(216),talkStreamError:i(457),talkStreamInactive:i(268),talkStreamMsg:i(667),webrtcDisconnect:"webrtcDisconnect",webrtcFailed:i(409),webrtcClosed:i(524),webrtcChecking:i(261),webrtcConnected:i(159),webrtcCompleted:i(575),webrtcOnConnectionStateChange:"webrtcOnConnectionStateChange",webrtcOnIceConnectionStateChange:"webrtcOnIceConnectionStateChange",webrtcLowFps:i(227),crashLog:i(480),focus:i(682),blur:"blur",inView:i(177),visibilityHiddenTimeout:i(165),websocketOpen:i(198),websocketClose:i(658),websocketError:i(167),websocketStringMsg:i(412),aiObjectDetectorInfo:i(293),aiFaceDetectorInfo:i(248),aiOcclusionDetectResult:"aiOcclusionDetectResult",aiImageDetectResult:"aiImageDetectResult",playFailedAndPaused:"playFailedAndPaused",audioResumeState:i(180),webrtcStreamH265:i(202),flvMetaData:i(488),talkFailedAndStop:i(163),removeLoadingBgImage:i(438),memoryLog:i(468),downloadMemoryLog:i(197),pressureObserverCpu:i(520),currentPts:"currentPts",online:i(635),offline:i(559),networkState:"networkState",clickInitPlayer:i(306),audioSplitBuffer:"audioSplitBuffer",tsPrivateData:i(341),videoRectContentClick:"videoRectContentClick",hls264UseOldDemuxer:i(519)};i(354),i(205),i(294),i(656),i(492),i(267),i(673),i(470),i(400),i(568),i(469),i(530),i(355),i(496),i(647),i(285),i(241),i(560),i(466),i(361),i(533),i(377),i(480),i(682),i(372),i(165),i(676),i(198),i(412),i(180),i(256),i(532),i(627),i(453),i(190),i(488),i(459),i(177),i(487),i(440),i(306),i(614),i(696),i(293),i(435),i(689),i(235),i(648),i(456),i(508),i(674),i(483),i(608),i(309),i(363),i(579),i(403),i(611);const w={talkStreamClose:b[i(216)],talkStreamError:b[i(457)],talkStreamInactive:b[i(268)],talkGetUserMediaTimeout:b.talkGetUserMediaTimeout,talkFailedAndStop:b[i(163)],talkStreamMsg:b[i(667)]};i(205),i(374),i(656),i(495),i(673),i(623),i(470),i(400),i(530),i(505),i(496),i(249),i(480),i(198),i(658),i(568),i(180);const k={talkStreamError:b[i(457)],talkStreamClose:b[i(216)]},E={playError:i(181),playFailedError:"playFailedError",fetchError:"fetchError",fetchErrorWorker:i(595),websocketError:"websocketError",websocketOpenTimeout:i(393),webcodecsH265NotSupport:i(378),webcodecsDecodeError:i(494),webcodecsUnsupportedConfigurationError:i(199),webcodecsDecodeConfigureError:i(346),webcodecsAudioInitTimeout:i(284),webcodecsAudioNoDataTimeout:i(607),webcodecsAudioDecodeError:i(507),mediaSourceH265NotSupport:"mediaSourceH265NotSupport",mediaSourceAudioG711NotSupport:"mediaSourceAudioG711NotSupport",mediaSourceAudioInitTimeout:i(633),mediaSourceAudioNoDataTimeout:i(527),mediaSourceDecoderConfigurationError:i(426),mediaSourceFull:b[i(634)],mseSourceBufferError:b[i(340)],mseAddSourceBufferError:b[i(271)],mseWorkerAddSourceBufferError:b.mseWorkerAddSourceBufferError,mediaSourceAppendBufferError:i(302),mediaSourceTsIsMaxDiff:"mediaSourceTsIsMaxDiff",mediaSourceUseCanvasRenderPlayFailed:i(157),mediaSourceBufferedIsZeroError:i(179),wasmDecodeError:i(694),wasmUseVideoRenderError:i(236),simdH264DecodeVideoWidthIsTooLarge:"simdH264DecodeVideoWidthIsTooLarge",simdDecodeError:i(362),simdDecodeDelayTimeout:"simdDecodeDelayTimeout",hlsError:i(283),webrtcError:i(512),webrtcClosed:b[i(524)],webrtcIceCandidateError:i(609),webglAlignmentError:i(211),wasmWidthOrHeightChange:i(618),mseWidthOrHeightChange:"mseWidthOrHeightChange",wcsWidthOrHeightChange:i(394),widthOrHeightChange:i(259),tallWebsocketClosedByError:"tallWebsocketClosedByError",flvDemuxBufferSizeTooLarge:b.flvDemuxBufferSizeTooLarge,audioChannelError:i(399),webglContextLostError:i(382),videoElementPlayingFailed:i(542),videoElementPlayingFailedForWebrtc:"videoElementPlayingFailedForWebrtc",decoderWorkerInitError:i(209),decoderWorkerWasmError:"decoderWorkerWasmError",decoderWorkerUncaughtError:i(632),videoInfoError:"videoInfoError",streamEnd:b[i(190)],websocket1006Error:i(253),delayTimeout:b.delayTimeout,loadingTimeout:b[i(673)],networkDelayTimeout:b[i(256)],fullscreenError:i(662),aliyunRtcError:i(590),mseWaitVideoCanplayTimeout:i(664),initDecoderWorkerTimeout:i(540),notSupportNewWasm:"notSupportNewWasm",failedToAsynchronouslyPrepareWasm:i(501),playVodMp4Error:i(323),playVodMp4NotMoovError:"playVodMp4NotMoovError",playVodMp4UseSrcError:i(449),playVodMp4UseSrcVideoError:"playVodMp4UseSrcVideoError",playVodFlvError:"playVodFlvError",playVodMseDecodeVideoError:"playVodMseDecodeVideoError",playVodCalcFpsError:i(369),mp4Error:i(654),tsPacketSizeError:i(572),...k};i(237);const S={notConnect:i(234),open:i(311),close:"close",error:i(656)};i(444),i(245),i(289),i(541),i(289),i(541),i(384),i(428),i(437),i(428),i(436),i(386),i(681),i(652),i(436),i(464),i(429),i(246),i(504),i(421),i(232),i(356),i(615),i(589),i(397),i(478),i(230),i(162),i(313),i(351),i(439),i(174),i(311),Math[i(491)](40),i(425),i(318),i(413),i(548),i(659),i(687),i(343),i(383),i(276),i(425),i(318),i(548),i(522),i(476),i(404),i(208),i(201),i(411),i(404),i(342),i(357),i(168),i(381),i(419),i(349),i(432),i(370),i(445),i(641),i(557),i(697);const A={g711a:i(194),g711u:i(424),pcm:"pcm",opus:i(576)};i(325),i(176),i(467),i(239),i(525),i(345),i(312),i(390),i(562),i(231),i(359),i(161),i(624),i(537),i(656),i(212),i(565),i(387),i(174),i(355),i(226),i(417),i(193),i(549),i(538),i(458),i(229),i(391),i(619),i(555),i(515),i(591),i(300),i(200),i(388),i(550),i(580);const v={pcma:8,g711a:8,pcmu:0,g711u:0,jpeg:26,h264:96,h265:97,opus:98,aac:99},I={empty:i(444),rtp:"rtp",jtt:i(610)},T={tcp:i(339),udp:i(224)};i(195),i(463);const C={open:i(311),close:i(446),error:i(656),message:i(273)},_={worklet:i(303),script:i(184)},B={encType:A[i(194)],packetType:I[i(686)],packetTcpSendType:T.tcp,rtpSsrc:i(665),numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,frameDuration:20,debug:!1,debugLevel:u[i(319)],testMicrophone:!1,saveToTempFile:!1,audioBufferLength:160,engine:_[i(303)],checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4,audioConstraints:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},playAudio:!1,isG711a:!1,isG711u:!1,isPcm:!1,pcmConfig:{sampleRate:8e3,sampleBitsWidth:16},audioBufferDelay:500,jttSimNumber:null,jttChannelNumber:1,openWebsocketHeart:!1,websocketHeartInterval:15,websocketHeartContent:"",websocketOpenTimeout:8,supportLockScreenPlayAudio:!0,intervalUseWorker:!0},M={worklet:"worklet",script:i(184),active:i(430)};i(175),i(255),i(295),i(178),i(364),i(280),i(407),i(242),i(584),i(669),i(327),i(406),i(375),i(243),i(338),i(672),i(566),i(185),i(366),i(563),i(275),i(655),i(225),i(661),i(215),i(692),i(628),i(269),i(264),i(365),i(321),i(479),i(663),i(454),i(509),i(270),i(451),i(656),i(427),i(288),i(630),i(656),i(389),i(250),i(493),i(539),i(298),i(416),i(344),i(514),i(646),i(543),i(254),i(169),i(683),i(616),i(410),i(320),i(498),i(561),i(310),i(518),i(348),i(156),i(347),i(679),i(441),i(601),i(195),i(330),i(186),i(336),i(279),i(308),i(571),i(314),i(282),i(597);i(187),i(516),i(332),i(666),i(291),i(477),i(315),i(200),i(388),"object"==typeof window&&window.window===window?window:typeof self===i(475)&&self[i(299)]===self?self:typeof global===i(475)&&global[i(223)]===global&&global,i(639),i(513),i(317),i(626),i(213),i(433),i(553),i(691),i(500),i(690),i(228),i(574);const F=i(621);i(434);var D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var U=Object.freeze({__proto__:null,commonjsGlobal:D,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t},createCommonjsModule:function(t,e){return t(e={exports:{}},e.exports),e.exports},getCjsExportFromNamespace:function(t){return t&&t.default||t}}),L=W;function W(t,e){var s=R();return(W=function(t,e){return s[t-=388]})(t,e)}function R(){var t=["mozFullScreenElement","mozFullScreenEnabled","webkitFullscreenEnabled","bind","screenfull","off","document","mozRequestFullScreen","request","mozfullscreenchange","1912362gEMyOt","mozfullscreenerror","webkitRequestFullScreen","webkitFullscreenElement","exports","msFullscreenEnabled","35PfeCvs","1902828nhOatf","8466015lQyLuZ","webkitCancelFullScreen","then","undefined","addEventListener","change","object","mozCancelFullScreen","fullscreenerror","error","34624CeRhcm","exitFullscreen","isFullscreen","documentElement","963796jqFYEa","exit","1134911VLbDdD","webkitfullscreenchange","webkitfullscreenerror","3UgmEKM","length","webkitRequestFullscreen","requestFullscreen","fullscreenEnabled","477nBkQkv","fullscreenchange","msRequestFullscreen","removeEventListener","45521290sGhRue","createCommonjsModule","MSFullscreenChange","fullscreenElement"];return(R=function(){return t})()}!function(t,e){for(var s=W,r=t();;)try{if(981633===parseInt(s(411))/1+parseInt(s(437))/2*(-parseInt(s(414))/3)+-parseInt(s(409))/4+-parseInt(s(395))/5+-parseInt(s(394))/6*(parseInt(s(393))/7)+-parseInt(s(405))/8*(parseInt(s(419))/9)+parseInt(s(423))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(R),U[L(424)]((function(t){var e,s,r,i,o,n;e=W,s=typeof window!==e(398)&&typeof window[e(433)]!==e(398)?window[e(433)]:{},r=e(401)!==e(398)&&t[e(391)],i=function(){for(var t,r=e,i=[[r(417),r(406),"fullscreenElement",r(418),r(420),r(403)],[r(416),"webkitExitFullscreen",r(390),r(429),"webkitfullscreenchange","webkitfullscreenerror"],[r(389),r(396),"webkitCurrentFullScreenElement",r(396),r(412),r(413)],[r(434),r(402),r(427),r(428),r(436),r(388)],[r(421),"msExitFullscreen","msFullscreenElement",r(392),r(425),"MSFullscreenError"]],o=0,n=i[r(415)],a={};o<n;o++)if((t=i[o])&&t[1]in s){for(o=0;o<t.length;o++)a[i[0][o]]=t[o];return a}return!1}(),o={change:i.fullscreenchange,error:i[e(403)]},n={request:function(t,r){return new Promise(function(e,o){var n=W,a=function(){var t=W;this[t(432)](t(400),a),e()}[n(430)](this);this.on(n(400),a);var l=(t=t||s[n(408)])[i.requestFullscreen](r);l instanceof Promise&&l[n(397)](a).catch(o)}[e(430)](this))},exit:function(){return new Promise(function(t,e){var r=W;if(this[r(407)]){var o=function(){var e=r;this[e(432)](e(400),o),t()}[r(430)](this);this.on(r(400),o);var n=s[i[r(406)]]();n instanceof Promise&&n[r(397)](o).catch(e)}else t()}.bind(this))},toggle:function(t,s){var r=e;return this[r(407)]?this[r(410)]():this[r(435)](t,s)},onchange:function(t){var s=e;this.on(s(400),t)},onerror:function(t){var s=e;this.on(s(404),t)},on:function(t,r){var i=o[t];i&&s[e(399)](i,r,!1)},off:function(t,r){var i=o[t];i&&s[e(422)](i,r,!1)},raw:i},i?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(s[i[e(426)]])}},element:{enumerable:!0,get:function(){return s[i[e(426)]]}},isEnabled:{enumerable:!0,get:function(){return Boolean(s[i[e(418)]])}}}),r?t[e(391)]=n:window[e(431)]=n):r?t[e(391)]={isEnabled:!1}:window.screenfull={isEnabled:!1}})).isEnabled;const P=O;!function(t,e){const s=O,r=t();for(;;)try{if(947088===parseInt(s(336))/1+parseInt(s(329))/2*(parseInt(s(334))/3)+parseInt(s(340))/4*(parseInt(s(324))/5)+parseInt(s(316))/6+-parseInt(s(327))/7*(-parseInt(s(319))/8)+parseInt(s(330))/9*(-parseInt(s(315))/10)+-parseInt(s(337))/11)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(G);class x{constructor(t){const e=O;this[e(332)]=t,this._buffer_index=0,this[e(318)]=t[e(335)],this[e(328)]=8*t[e(335)],this._current_word=0,this[e(321)]=0}destroy(){this._buffer=null}[P(317)](){const t=P;let e=this[t(318)]-this[t(343)];if(e<=0)return void console[t(342)](t(331),this[t(318)],this._buffer_index);let s=Math.min(4,e),r=new Uint8Array(4);r[t(322)](this._buffer.subarray(this[t(343)],this._buffer_index+s)),this[t(325)]=new DataView(r[t(339)])[t(344)](0,!1),this[t(343)]+=s,this[t(321)]=8*s}readBits(t){const e=P;if(t>32&&console[e(342)](e(345)),t<=this._current_word_bits_left){let s=this[e(325)]>>>32-t;return this[e(325)]<<=t,this._current_word_bits_left-=t,s}let s=this[e(321)]?this[e(325)]:0;s>>>=32-this[e(321)];let r=t-this[e(321)];this._fillCurrentWord();let i=Math[e(338)](r,this[e(321)]),o=this[e(325)]>>>32-i;return this._current_word<<=i,this[e(321)]-=i,s=s<<i|o,s}readBool(){return 1===this[P(333)](1)}[P(341)](){return this.readBits(8)}[P(326)](){const t=P;let e;for(e=0;e<this[t(321)];e++)if(0!=(this._current_word&2147483648>>>e))return this[t(325)]<<=e,this[t(321)]-=e,e;return this[t(317)](),e+this[t(326)]()}[P(323)](){const t=P;let e=this[t(326)]();return this[t(333)](e+1)-1}[P(320)](){let t=this[P(323)]();return 1&t?t+1>>>1:-1*(t>>>1)}}function O(t,e){const s=G();return(O=function(t,e){return s[t-=315]})(t,e)}function G(){const t=["readBits","511923vVDdPX","byteLength","646452gmpNhO","66189090FrqYUU","min","buffer","40GnzLct","readByte","error","_buffer_index","getUint32","ExpGolomb: readBits() bits exceeded max 32bits!","20KLaVkU","10083540dmFWBN","_fillCurrentWord","_total_bytes","11133768lRshJj","readSEG","_current_word_bits_left","set","readUEG","778825pwUamR","_current_word","_skipLeadingZero","7SZkWEO","_total_bits","22hqlwTR","851337zTvmRj","ExpGolomb: _fillCurrentWord() but no bytes available","_buffer"];return(G=function(){return t})()}const N=j;!function(t,e){const s=j,r=t();for(;;)try{if(107366===-parseInt(s(521))/1+-parseInt(s(548))/2*(parseInt(s(529))/3)+-parseInt(s(480))/4+-parseInt(s(534))/5*(-parseInt(s(494))/6)+-parseInt(s(499))/7+parseInt(s(504))/8+-parseInt(s(519))/9*(-parseInt(s(515))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(z);const V=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1];function z(){const t=["read","ext_object_type","hasIncompleteData","buflen","3tetVFv","more than 2 numSubFrames Not Supported","userAgent","readNextAACFrame","firefox","49145nfikBX","subarray","channel_config","eof_flag_","data","log","Flv: AAC invalid sampling frequency index!","more than 2 numProgram Not Supported","current_syncword_offset_","other_data_present","chan_config","warn","navigator","length","15844CEbHWd","sampling_frequency","sampling_freq_index","destroy","object_type","getIncompleteData","readBool","sample_rate","sequenceHeader","data_","712604rZSlCA","look","Could not found ADTS syncword until payload end","bufpos","audioMuxVersionA is Not Supported","Flv: AAC invalid channel configuration","sbr","sampling_index","aac","unshift","readBits","indexOf","sampleRate: ","iserro","24ninkqR","mp4a.40.","frameLengthType = ","readByte","error","758177FchiYt","getLATMValue","AAC","allStreamsSameTimeFraming zero is Not Supported","findNextSyncwordOffset","905928hyyuqQ","read_golomb","set","audio_object_type","push","toLowerCase","profile: ","channel: ","byteLength","mp4a.40.2","channels","1887980DRDgqh","aacEncoderConfigurationRecord","has_last_incomplete_data","bufoff","18ASqLhP","more than 2 numLayer Not Supported","128403OSRMao","StreamMuxConfig Missing","Invalid sampling index: ","buffer"];return(z=function(){return t})()}N(481),N(505);function j(t,e){const s=z();return(j=function(t,e){return s[t-=478]})(t,e)}N(503),N(532),N(527),N(553);N(503),N(500),N(532),N(527),N(553);function q(){const t=["2303575tssvuc","shift","buffer","Error writing parameter set: buffer overflow","data","1977771YvkAdN","263201IAVNUS","byteLength","Error writing NALU from AVCC: buffer overflow","3872204YcbfMr","slice","push","52518MsPzsx","set","subarray","length","error","679qyMwjv","10344LJogqC","19260TamFza","2048624IJntTe","toString"];return(q=function(){return t})()}function H(t,e){const s=q();return(H=function(t,e){return s[t-=125]})(t,e)}!function(t,e){const s=H,r=t();for(;;)try{if(591067===-parseInt(s(125))/1+parseInt(s(139))/2+-parseInt(s(146))/3+-parseInt(s(128))/4+-parseInt(s(141))/5+parseInt(s(131))/6*(-parseInt(s(136))/7)+parseInt(s(137))/8*(parseInt(s(138))/9))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(q);const J=it;function Z(){}function Y(){return Date[it(629)]()}!function(t,e){const s=it,r=t();for(;;)try{if(619647===parseInt(s(669))/1+parseInt(s(496))/2+-parseInt(s(703))/3+parseInt(s(783))/4*(-parseInt(s(548))/5)+-parseInt(s(641))/6+parseInt(s(764))/7+parseInt(s(693))/8)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(K),(()=>{const t=it;try{if(typeof WebAssembly===t(788)&&typeof WebAssembly.instantiate===t(690)){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new(WebAssembly[t(787)])(e)instanceof WebAssembly[t(787)]}}catch(t){}})();J(687);J(662);J(755),J(744),J(758);function X(){const t=J,e=window[t(484)].userAgent.toLowerCase();return e&&/iphone|ipad|ipod|ios/[t(580)](e)}function K(){const t=["destination","resume","appendChild","call","setInt32","random","string","setAttribute","findLast","height","pow","not compiled with thread support","children","h265","Edg","VideoEncoder is not supported","log","NaN","format","userAgent","href","craNut","set","transferControlToOffscreen","PressureObserver","none","opacity","fillStyle","charAt","split","test","user-select","pps","addModule","connect","port","isEnabled","px 宋体","isTypeSupported","toUpperCase","src","bottom","getContext","audioWorklet","ended","substring","VideoFrame","[object Error]","ZB/s","0 KB/s","canvas","AAC","video","webgl","wheel","isFullscreen","download","green","error","QHBrowser","WebGL2RenderingContext","localhost","canConstructInDedicatedWorker","data-","createEvent","absolute","kSliceRSV_IRAP_VCL22","keys","QihooBrowser","illegal icc","https:","webkitFullscreenElement","-webkit-user-select","[object Number]","atob","createBufferSource","mousemove","close","open","now","useSIMD","lineWidth","origin","VideoDecoder","mseDecodeAudio","webm",";base64","hev1.1.6.L120.90","URL","createObjectURL","setUint16","6179688kQmOJm","hash","host","position","backgroundColor","TB/s","rgba(0,0,0,0)","true","application/asx","wow64","prototype","fontFamily","MULAW","documentElement","length","Edge","assign","div","protocol","pageY","onerror",'"2.1.9"',"onload","reduce","opera","canPlayType","innerHTML","save","71315SyYQMq","Bytes","fontSize","body","getDate","numberOfChannels",'video/mp4; codecs="',"touchstart","useMSE","ManagedMediaSource","repeat","putImageData","hev3","attachShadow","-webkit-text-size-adjust","push","scrollLeft","hostname",'"production"',"MediaStreamTrackGenerator","fillText","function","mimeTypes","experimental-webgl","10712064qCGkGh","width","touchmove","Reserved SBR extensions is not implemented","wcsDecodeAudio","data:","apply","KB/s","application/vnd.apple.mpegurl","removeAttribute","1968246GHpAZm","createElement","firefox","Chrome","sequenceHeader","click","setUint8","high","borderStyle","quality","content","360EE","hev4","numberOfFrames","element","version","mediaDevices","drawImage","pathname","borderWidth","fullscreenElement","edge","webkit-3d","floor","createBuffer","supported","dispatchEvent","container","contain","sampleRate","toLowerCase","100%","kSliceRSV_IRAP_VCL23","color","initEvent","angle","image","type","start","performance","strokeRect",'"delaytime"',"search","getImageData","memory","application/360softmgrplugin","subarray","ActiveXObject","text","-webkit-touch-callout","keyFrame","{y}-{m}-{d} {h}:{i}:{s}",'"development"',"demuxUseWorker","h264",'"2025-8-1"',"Safari","Anonymous","kSliceBLA_W_LP","status","getDay","5691693qRpMGT","getUint8","useWasm","match","getHours","not compiled with thread support, using thread emulation","getMinutes","line","min","borderColor","getMonth","WAVE","pageX","copyToChannel","chrome","createImageBitmap","isArray","hour","toDataURL","1028YYchnq","getTime","trim","shadowRoot","Instance","object","QQBrowser","insertBefore","copyright","right","dataset","createTextNode","noteOn","mousedown","setUint32","-o-user-select","fmt ","gpu","AudioData","substr","win64","location","data","join","safari","hvc","rect","xxxxxxxxxxxx4xxx","event","getFullYear","iFrame","round","f32-planar","isFFmpegSIMD","text/javascript","-moz-user-select","useWCS","360SE","scrollTop","imageSmoothingQuality","html","parse","clientY","MediaSource","crossOrigin","getUserMedia","clientX","moz-webgl","getElementById","stringify","MouseEvents","WebGLRenderingContext","target","AudioDecoder","mozGetUserMedia","display","isConfigSupported","wow32","GB/s","navigator","top","replace","hev5","kSliceBLA_W_RADL","max","charCodeAt","useOffscreen","application/mozilla-npqihooquicklogin","-webkit-tap-highlight-color","[object DOMException]","byteLength","496554uGCqGU","toFixed","RIFF","YB/s","imageSmoothingEnabled","hev2","left","filter","style","getAttribute","textAlign","undefined","restore","useMThreading","block","xxxx","MB/s","strokeStyle","playbackRate","mouseup","win32","getSeconds","touches","forEach","getMilliseconds","font","file","touchend","application/hwepass2001.installepass2001","slice","VideoEncoder.isConfigSupported() result is not supported","toString","getParameter","setInt8","[object Exception]","visibility","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","sps","ALAW","PB/s","validate","application/javascript","msGetUserMedia","px Arial","removeChild","indexOf","isView","fromCharCode","edg","setHours","revokeObjectURL","getPropertyValue","3230bvZdZM","hidden"];return(K=function(){return t})()}const Q=()=>{const t=J,e=window[t(484)][t(569)];return/MicroMessenger/i[t(580)](e)},$=()=>Q()&&function(){const t=J,e=window[t(484)][t(569)][t(733)]();return/android/i[t(580)](e)}();function tt(t){const e=J;const s=t.toString()[it(785)]().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],r=new Blob([s],{type:e(537)});return URL.createObjectURL(r)}function et(t){const e=J;let s="";if(typeof t===e(788))try{s=JSON[e(832)](t),s=JSON[e(824)](s)}catch(e){s=t}else s=t;return s}function st(t){return!0===t||t===J(648)}function rt(t){return!0!==t&&t!==J(648)}function it(t,e){const s=K();return(it=function(t,e){return s[t-=482]})(t,e)}function ot(){return Y()>=Number("1753977600000")}function nt(){const t=["1658845LYXHPa","lastOutput","resample","toSampleRate","slice","6wHNxET","channels","length","outputBuffer","bufferSlice","floor","subarray","ratioWeight","148141raGiiu","resampler","fromSampleRate","2577880OLjhVA","initialize","Invalid settings specified for the resampler.","outputBufferSize","initializeBuffers","destroy","linearInterpolation","tailExists","168crBeRb","27064300KPHMii","ceil","4590486eYTVFC","inputBufferSize","1728951MpmxoY","1hOPVAB","multiTap","Buffer was of incorrect sample length.","lastWeight","333388xKfXnY"];return(nt=function(){return t})()}function at(t,e){const s=nt();return(at=function(t,e){return s[t-=351]})(t,e)}const lt=at;!function(t,e){const s=at,r=t();for(;;)try{if(366091===-parseInt(s(362))/1*(-parseInt(s(366))/2)+-parseInt(s(361))/3+-parseInt(s(383))/4+parseInt(s(367))/5*(-parseInt(s(372))/6)+-parseInt(s(380))/7*(parseInt(s(356))/8)+-parseInt(s(359))/9+parseInt(s(357))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(nt);class ct{constructor(t){const e=at,{fromSampleRate:s,toSampleRate:r,channels:i,inputBufferSize:o}=t;if(!s||!r||!i)throw new Error(e(385));this.resampler=null,this[e(382)]=s,this[e(370)]=r,this[e(373)]=i||0,this[e(360)]=o,this[e(384)]()}[lt(353)](){const t=lt;this.resampler=null,this[t(382)]=null,this[t(370)]=null,this[t(373)]=null,this[t(360)]=null}[lt(384)](){const t=lt;this[t(382)]==this[t(370)]?(this[t(381)]=t=>t,this[t(379)]=1):(this.fromSampleRate<this.toSampleRate?(this[t(354)](),this[t(365)]=1):(this[t(363)](),this[t(355)]=!1,this.lastWeight=0),this[t(352)](),this[t(379)]=this[t(382)]/this[t(370)])}[lt(376)](t){const e=lt;try{return this[e(375)][e(378)](0,t)}catch(s){try{return this[e(375)][e(374)]=t,this[e(375)]}catch(s){return this[e(375)][e(371)](0,t)}}}initializeBuffers(){const t=lt;this.outputBufferSize=Math[t(358)](this.inputBufferSize*this[t(370)]/this[t(382)]/this[t(373)]*1.0000004768371582)+this[t(373)]+this.channels;try{this[t(375)]=new Float32Array(this.outputBufferSize),this[t(368)]=new Float32Array(this[t(373)])}catch(e){this[t(375)]=[],this[t(368)]=[]}}[lt(354)](){const t=lt;this[t(381)]=e=>{const s=t;let r,i,o,n,a,l,c,h,u,d=e[s(374)],p=this[s(373)];if(d%p!=0)throw new Error(s(364));if(d<=0)return[];for(r=this[s(351)],i=this[s(379)],o=this[s(365)],n=0,a=0,l=0,c=0,h=this[s(375)];o<1;o+=i)for(a=o%1,n=1-a,this[s(365)]=o%1,u=0;u<this[s(373)];++u)h[c++]=this[s(368)][u]*n+e[u]*a;for(o-=1,d-=p,l=Math.floor(o)*p;c<r&&l<d;){for(a=o%1,n=1-a,u=0;u<this.channels;++u)h[c++]=e[l+(u>0?u:0)]*n+e[l+(p+u)]*a;o+=i,l=Math[s(377)](o)*p}for(u=0;u<p;++u)this[s(368)][u]=e[l++];return this[s(376)](c)}}multiTap(){const t=lt;this[t(381)]=e=>{const s=t;let r,i,o,n,a,l,c,h,u,d,p,f=e[s(374)],m=this[s(373)];if(f%m!=0)throw new Error(s(364));if(f<=0)return[];for(r=this[s(351)],i=[],o=this[s(379)],n=0,l=0,c=0,h=!this[s(355)],this[s(355)]=!1,u=this.outputBuffer,d=0,p=0,a=0;a<m;++a)i[a]=0;do{if(h)for(n=o,a=0;a<m;++a)i[a]=0;else{for(n=this.lastWeight,a=0;a<m;++a)i[a]=this[s(368)][a];h=!0}for(;n>0&&l<f;){if(c=1+l-p,!(n>=c)){for(a=0;a<m;++a)i[a]+=e[l+(a>0?a:0)]*n;p+=n,n=0;break}for(a=0;a<m;++a)i[a]+=e[l++]*c;p=l,n-=c}if(0!==n){for(this.lastWeight=n,a=0;a<m;++a)this[s(368)][a]=i[a];this[s(355)]=!0;break}for(a=0;a<m;++a)u[d++]=i[a]/o}while(l<f&&d<r);return this.bufferSlice(d)}}[lt(369)](t){const e=lt;return this[e(382)]==this[e(370)]?this[e(379)]=1:(this.fromSampleRate<this[e(370)]?this.lastWeight=1:(this[e(355)]=!1,this[e(365)]=0),this.initializeBuffers(),this[e(379)]=this.fromSampleRate/this.toSampleRate),this[e(381)](t)}}function ht(t,e){const s=dt();return(ht=function(t,e){return s[t-=288]})(t,e)}function ut(t){const e=ht;let s=t[e(290)],r=new Int16Array(s);for(;s--;){let i=Math.max(-1,Math[e(289)](1,t[s]));r[s]=i<0?32768*i:32767*i}return r}function dt(){const t=["6490686aSsBrJ","1106710dfCmtX","346321vKXdkB","115480WuWnAP","1307943pkAfsX","max","7849770GDPOXc","2275605mdYIDw","min","length"];return(dt=function(){return t})()}function pt(t,e){const s=yt();return(pt=function(t,e){return s[t-=388]})(t,e)}!function(t,e){const s=ht,r=t();for(;;)try{if(787293===parseInt(s(293))/1+parseInt(s(292))/2+-parseInt(s(288))/3+-parseInt(s(294))/4+parseInt(s(297))/5+-parseInt(s(291))/6+parseInt(s(295))/7)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(dt),function(t,e){const s=pt,r=t();for(;;)try{if(536795===parseInt(s(390))/1*(parseInt(s(397))/2)+parseInt(s(406))/3*(parseInt(s(405))/4)+-parseInt(s(398))/5+parseInt(s(404))/6*(parseInt(s(393))/7)+parseInt(s(407))/8*(parseInt(s(402))/9)+-parseInt(s(399))/10*(parseInt(s(388))/11)+-parseInt(s(403))/12*(parseInt(s(389))/13))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(yt);const ft=132,mt=[255,511,1023,2047,4095,8191,16383,32767];function gt(t,e,s){for(let r=0;r<s;r++)if(t<=e[r])return r;return s}function yt(){const t=["length","7nLLPUM","call","ALAW","prototype","2ZgQAVy","2216565aGdWKF","3880wAakEG","MULAW","set","81CjXFIG","6324GkXsbZ","2128890TTyVli","4vvlfRU","1160931RJEveN","574552UngYIQ","8195qOMhyV","6695ACYYdD","152410ejMBZW","forEach"];return(yt=function(){return t})()}function bt(t){const e=pt,s=[];return Array[e(396)].slice[e(394)](t)[e(391)](((t,e)=>{s[e]=function(t){let e,s,r;return t>=0?e=213:(e=85,(t=-t-1)<0&&(t=32767)),s=gt(t,mt,8),s>=8?127^e:(r=s<<4,r|=s<2?t>>4&15:t>>s+3&15,r^e)}(t)})),s}function wt(t){const e=pt,s=[];return Array[e(396)].slice.call(t)[e(391)](((t,e)=>{s[e]=function(t){let e=0;t<0?(t=ft-t,e=127):(t+=ft,e=255);let s=gt(t,mt,8);return s>=8?127^e:(s<<4|t>>s+3&15)^e}(t)})),s}function kt(t){const e=pt,s=new Int16Array(t[e(392)]);return t[e(391)](((t,e)=>{s[e]=function(t){let e=((15&(t=~t))<<3)+ft;return e<<=(112&t)>>4,128&t?ft-e:e-ft}(t)})),s}function Et(t,e){const s=St();return(Et=function(t,e){return s[t-=413]})(t,e)}function St(){const t=["[❌❌❌][","330dBDDmE","length","2266203TPqmUi","[✅✅✅][","5101824WBZWbx","JbPro","debugLevel","[❗❗❗][","error","1170wXchAo","9448lbFrlt","_opt","15beqydx","debugUuid","warn","5710CqqMbr","log","1499012DoBJYO","debug","11VYtlxe","16104168eBhwCU","6489FkGNNr","1293SuwvCC"];return(St=function(){return t})()}!function(t,e){const s=Et,r=t();for(;;)try{if(580738===-parseInt(s(427))/1*(-parseInt(s(429))/2)+parseInt(s(431))/3+parseInt(s(422))/4*(parseInt(s(417))/5)+parseInt(s(433))/6+parseInt(s(426))/7*(-parseInt(s(415))/8)+parseInt(s(414))/9*(parseInt(s(420))/10)+parseInt(s(424))/11*(-parseInt(s(425))/12))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(St);class At{constructor(t){const e=Et;this[e(421)]=function(s){const r=e;if(t[r(416)][r(435)]==u[r(423)]){const e=t[r(416)][r(418)]?"["+t[r(416)].debugUuid+"]":"";for(var i=arguments[r(430)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[r(421)](r(434)+e+r(432)+s+"]",...o)}},this.warn=function(s){const r=e;if(t[r(416)][r(435)]==u[r(423)]||t[r(416)][r(435)]==u[r(419)]){const e=t[r(416)][r(418)]?"["+t[r(416)][r(418)]+"]":"";for(var i=arguments[r(430)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[r(421)](r(434)+e+r(436)+s+"]",...o)}},this[e(413)]=function(s){const r=e,i=t[r(416)][r(418)]?"["+t._opt[r(418)]+"]":"";for(var o=arguments.length,n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];console[r(413)]("JbPro"+i+r(428)+s+"]",...n)}}}function vt(t,e){const s=Ct();return(vt=function(t,e){return s[t-=277]})(t,e)}const It=vt;!function(t,e){const s=vt,r=t();for(;;)try{if(687496===parseInt(s(288))/1+parseInt(s(298))/2+parseInt(s(297))/3*(-parseInt(s(280))/4)+-parseInt(s(291))/5+-parseInt(s(282))/6*(parseInt(s(279))/7)+parseInt(s(287))/8*(parseInt(s(292))/9)+parseInt(s(277))/10*(parseInt(s(284))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Ct);class Tt{constructor(t){const e=vt;this[e(281)]=[],this.proxy=this.proxy[e(296)](this),this[e(286)]=t}[It(290)](){const t=It;this[t(281)][t(278)]((t=>t())),this[t(281)]=[],this[t(286)][t(289)](t(283),t(290)),this[t(286)]=null}[It(285)](t,e,s){const r=It;let i=arguments[r(293)]>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return;if(Array.isArray(e))return e[r(294)]((e=>this[r(285)](t,e,s,i)));t[r(295)](e,s,i);const o=()=>{const o=r;var n;(n=t.removeEventListener)&&typeof n===J(690)&&t[o(299)](e,s,i)};return this[r(281)].push(o),o}}function Ct(){const t=["1243iTZOAm","proxy","master","160856GhihvU","1071808yZbwsp","debugLog","destroy","3534240TPkcXP","603NBjJgm","length","map","addEventListener","bind","2744331xztvps","597180qAznAx","removeEventListener","71030pVIKvx","forEach","8477595wgGSae","4cyJGVI","destroys","6whnSSZ","Events"];return(Ct=function(){return t})()}function _t(){let t=null;const e=()=>{t&&(self.clearInterval(t),t=null)};self.onmessage=function(s){if("start"===s.data.event){const r=s.data.interval||16.6;e(),t=self.setInterval((()=>{self.postMessage({})}),r)}"stop"===s.data.event&&e()}}const Bt=Ft;function Mt(){const t=["4083570HZvxxt","10894304CrMPxd","510095QcnYmv","start","onmessage","interval","timerByWorkerClearTimeout","handleFn","24189318TWXUHq","postMessage","URL","timerByWorker","16vhWFkV","86558MmuXVy","terminate","destroy","1511379dRqkvD","11ycFIdZ","_initIntervalWorker","stop","timerByWorkerUrl","7071330uHCAoI","10OjjZpM"];return(Mt=function(){return t})()}function Ft(t,e){const s=Mt();return(Ft=function(t,e){return s[t-=161]})(t,e)}!function(t,e){const s=Ft,r=t();for(;;)try{if(745223===parseInt(s(178))/1*(parseInt(s(174))/2)+-parseInt(s(177))/3+-parseInt(s(173))/4*(-parseInt(s(163))/5)+parseInt(s(161))/6+parseInt(s(182))/7+parseInt(s(162))/8+-parseInt(s(169))/9*(parseInt(s(183))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Mt);class Dt{constructor(){const t=Ft;this[t(172)]=null,this[t(181)]=null,this.timerByWorkerClearTimeout=null,this.handleFn=null}[Bt(176)](){const t=Bt;this.timerByWorker&&(this[t(172)][t(175)](),this[t(172)]=null),this[t(167)]&&(clearTimeout(this[t(167)]),this[t(167)]=null),this[t(181)]&&(URL.revokeObjectURL(this[t(181)]),this[t(181)]=null),this.handleFn=null}[Bt(166)](t,e){const s=Bt;!this[s(172)]&&this[s(179)](e),this[s(172)].postMessage({event:s(164),interval:e}),this[s(168)]=t}stop(){const t=Bt;this[t(172)]&&this[t(172)][t(170)]({event:t(180)}),this[t(168)]=Z}[Bt(179)](t){const e=Bt,s=tt(_t);this[e(172)]=new Worker(s),this[e(181)]=s,this[e(167)]=setTimeout((()=>{const t=e;window[t(171)].revokeObjectURL(this.timerByWorkerUrl),this[t(181)]=null,this[t(167)]=null}),1e4),this.timerByWorker[e(165)]=t=>{this[e(168)]&&this.handleFn()}}}const Ut=Lt;function Lt(t,e){const s=Wt();return(Lt=function(t,e){return s[t-=304]})(t,e)}function Wt(){const t=["_audioElementPlay error","length","getChannelData","buffer list lock and buffer list is "," > ","sampleRate","_isDestroyed","set","_initWorkletScriptNode","_initIntervalScriptNode() and interval time is ","bufferList","click","AudioTalkLoader","appendChild","left","createScriptProcessor","forEach","interval","play"," and duration is ","clear","1935945sEyWKw","_getAutoAudioEngineType","events","_audioElementPlay","getBufferListDuration","worklet","mediaStreamAudioDestinationNode","isPcm","zero","debugWarn","onaudioprocess","createElement","TAG_NAME","pcmConfig","oneBufferDuration","srcObject","-100%","9769970fpUyzZ","_intervalScriptNode","pause","gainNode","_initScriptNode","then","isAudioPlaying","eventListenList","subarray","$audio","audioBufferSize","_initIntervalScriptNode() and _opt.intervalUseWorker is true and create intervalLoopWorker","sampleBitsWidth","2097174zJvcxd","createAudioContext: ","_initProcessScriptNode","start","_delayPlay","script","destination","isG711","duration","4CmOpue","outputBuffer","audioElementPlayTimeout","player"," and set lock to false","postMessage","close","9pCKaRx","data","AudioContext","1082034srQmds","canplay","bound","readyState","webkitAudioContext","value","_handleScriptNodeCallback","absolute","removeChild","push","bufferListLock"," is less than current time ","stashBuffer","_getAudioElementReadyState","disconnect","_opt","_supportAudioWorklet","buffer","createBufferSource","581546wFsOXz","currentTime","isG711a","parentNode","435080OGsyhX","395393pNHKpS","intervalUseWorker","createMediaStreamDestination","scriptStartTime","supportLockScreenPlayAudio","audioWorklet","destroy","scriptNode","closeAudio","fill","14HUFqjU","audioElementPlay","_bindAudioProxy","audioContext","scriptNodeInterval","init","addModule","isMute","gain","_createAudioContext","engineType"," and set bufferListLock to true","playG711","right","createBuffer","isG711u","_getAudioBufferSizeByType","play and readyState: ","debugLog","$container","_getAudioChannel","active","intervalLoopWorker","audio","playbackRate","playPcm","audioChannel","volume","removeEventListener","size","play success and remove document click event listener","play failed and add document click event listener","_initIntervalScriptNode","assign","connect","ended","createGain","_fillScriptNodeOutputBuffer","body"];return(Wt=function(){return t})()}!function(t,e){const s=Lt,r=t();for(;;)try{if(216277===parseInt(s(389))/1+parseInt(s(384))/2+-parseInt(s(365))/3*(-parseInt(s(355))/4)+parseInt(s(316))/5+-parseInt(s(346))/6+parseInt(s(399))/7*(parseInt(s(388))/8)+-parseInt(s(362))/9*(parseInt(s(333))/10))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Wt);class Rt{constructor(t){const e=Lt;this.TAG_NAME=e(307),this.player=t,this[e(402)]=this[e(408)](),this[e(409)]=this._getAutoAudioEngineType(),this[e(343)]=this[e(415)](),this[e(425)]=this[e(419)](),this.stashBuffer=new Float32Array(0),this[e(305)]=[],this[e(342)]=null,this.eventListenList=[],this[e(322)]=null,this[e(336)]=this[e(402)][e(435)](),this[e(336)][e(407)][e(370)]=1,this.scriptNode=null,this[e(375)]=!0,this[e(367)]={_audioElementPlay:this[e(319)].bind(this),_intervalScriptNode:this[e(334)].bind(this)},this[e(358)][e(380)][e(393)]&&X()&&(this[e(322)]=this[e(402)][e(391)](),this[e(342)]=document[e(327)](e(422)),Object[e(432)](this[e(342)].style,{position:e(372),left:e(332),top:e(332)}),t[e(418)]?t.$container[e(308)](this[e(342)]):document[e(437)][e(308)](this.$audio),this[e(357)]=null,this[e(401)](),this[e(358)][e(417)](this[e(328)],"create audio element")),this[e(392)]=0,this[e(403)]=null,this.intervalLoopWorker=null,this._initScriptNode(),this._isDestroyed=!1,this.player.debugLog(this.TAG_NAME,e(404))}async destroy(){const t=Lt;this._isDestroyed=!0,this[t(397)](),this[t(403)]&&(clearInterval(this[t(403)]),this[t(403)]=null),this[t(357)]&&(clearTimeout(this[t(357)]),this.audioElementPlayTimeout=null),this.eventListenList.length&&(this[t(340)][t(311)]((t=>{t()})),this[t(340)]=[]),this.$audio&&(this[t(342)][t(335)](),this[t(342)].srcObject=null,this[t(342)][t(387)]&&this[t(342)][t(387)][t(373)](this[t(342)]),this[t(342)]=null),this[t(402)]&&(await this[t(402)][t(361)](),this[t(402)]=null),this.gainNode&&(this[t(336)][t(379)](),this.gainNode=null),this[t(396)]&&(this[t(396)][t(379)](),this.scriptNode.onaudioprocess=null,this[t(396)]=null),this[t(322)]&&(this[t(322)].disconnect(),this[t(322)]=null),this[t(421)]&&(this[t(421)][t(395)](),this[t(421)]=null),this[t(367)]=null,this.bufferListLock=!0,this[t(358)][t(417)](this[t(328)],t(395))}[Ut(401)](){const t=Ut,{proxy:e}=this.player[t(318)],s=e(this[t(342)],t(366),(()=>{const e=t;this[e(358)].debugLog(this.TAG_NAME,e(366)),this[e(350)]&&this[e(319)]()}));this[t(340)][t(374)](s)}[Ut(400)](){const t=Ut;if(this.$audio){const e=this._getAudioElementReadyState();if(this[t(358)][t(417)](this.TAG_NAME,t(416)+e),!(0!==e||Q()&&X()))return this[t(358)][t(325)](this[t(328)],"readyState is 0 and set _delayPlay to true"),void(this[t(350)]=!0);this[t(319)]()}}[Ut(319)](){const t=Ut;this.$audio&&this[t(342)].play()[t(338)]((()=>{const e=t;this._delayPlay=!1,this[e(358)][e(417)](this[e(328)],"_audioElementPlay success and volume is ",this[e(342)][e(426)]),this[e(357)]=setTimeout((()=>{const t=e;this[t(357)]=null,this[t(444)]||!this[t(339)]()&&(this[t(358)][t(325)](this[t(328)],"play failed and retry play"),this._audioElementPlay())}),100),this[e(339)]()&&(this[e(358)][e(417)](this[e(328)],e(429)),document[e(427)](e(306),this[e(367)][e(319)]))})).catch((e=>{const s=t;this[s(358)].debugError(this[s(328)],s(438),e),this[s(358)].debugLog(this.TAG_NAME,s(430)),document.addEventListener(s(306),this[s(367)][s(319)])}))}[Ut(378)](){const t=Ut;let e=0;return this.$audio&&(e=this[t(342)][t(368)]),e}[Ut(339)](){const t=Ut;return this[t(342)]&&rt(this[t(342)].paused)&&rt(this[t(342)][t(434)])&&0!==this[t(342)][t(423)]&&0!==this[t(342)][t(368)]}[Ut(397)](){const t=Ut;this[t(396)]&&this[t(396)][t(379)](this[t(336)]),this[t(336)]&&(this.$audio?this.gainNode[t(379)](this[t(322)]):this[t(336)][t(379)](this[t(402)][t(352)])),this[t(315)]()}get[Ut(330)](){const t=Ut;return this[t(343)]/this[t(402)][t(443)]*1e3}[Ut(408)](){const t=Ut;let e=48e3;return this[t(353)]()?e=8e3:this[t(323)]()&&(e=this.player._opt[t(329)][t(443)]),this.player[t(417)](this[t(328)],t(347)+e),new(window[t(364)]||window[t(369)])({sampleRate:e})}[Ut(419)](){const t=Ut;let e=1;return(this.player[t(380)][t(386)]||this[t(358)][t(380)][t(414)])&&(e=1),e}[Ut(317)](){let t=M.script;return(()=>{const e=Lt;t=$()?M[e(420)]:(X()&&this.player[e(380)][e(393)]||function(){const t=J;return window[t(804)][t(659)]===t(620)||window.location[t(686)]===t(611)}()&&this._supportAudioWorklet(),M[e(351)])})(),t}_getAudioBufferSizeByType(){const t=Ut;return this[t(409)]===M[t(321)]?1024:this[t(409)]===M[t(420)]?4800:(this[t(409)],t(351),1024)}[Ut(381)](){const t=Ut;return this[t(402)]&&this[t(402)][t(394)]&&"function"==typeof this[t(402)][t(394)][t(405)]}[Ut(337)](){const t=Ut;this[t(409)]===M.worklet?this[t(446)]():this[t(409)]===M[t(420)]?this[t(431)]():this.engineType===M[t(351)]&&this[t(348)](),this[t(400)]()}[Ut(446)](){const t=Ut;this[t(358)][t(417)](this.TAG_NAME,"_initWorkletScriptNode()")}[Ut(431)](){const t=Ut;this[t(392)]=0;const e=1e3*this.audioBufferSize/this[t(402)][t(443)];this[t(358)][t(417)](this[t(328)],t(304)+e),this[t(358)][t(380)][t(390)]?(!this.intervalLoopWorker&&(this[t(358)][t(417)](this[t(328)],t(344)),this[t(421)]=new Dt),this[t(421)][t(312)](this[t(367)][t(334)],e)):this[t(403)]=setInterval(this[t(367)][t(334)],e),this[t(342)]?(this.gainNode[t(433)](this[t(322)]),this.$audio[t(331)]=this[t(322)].stream):this[t(336)][t(433)](this[t(402)].destination)}[Ut(334)](){const t=Ut;if(0===this[t(305)][t(439)]||this[t(406)]())return;const e=this.audioContext[t(383)](),s=this[t(402)][t(413)](this.audioChannel,this[t(343)],this[t(402)][t(443)]);this[t(371)](s,(()=>{const r=t;this[r(392)]<this[r(402)][r(385)]&&(this[r(358)].debugLog(r(364),"script start time "+this[r(392)]+r(376)+this[r(402)][r(385)]),this[r(392)]=this[r(402)][r(385)]),e[r(382)]=s,e[r(433)](this[r(336)]),e[r(349)](this.scriptStartTime),this.scriptStartTime+=s[r(354)]}))}[Ut(348)](){const t=Ut;this[t(358)][t(417)](this.TAG_NAME,"_initProcessScriptNode()");const e=this[t(402)][t(310)](this[t(343)],0,this[t(425)]);e[t(326)]=e=>{const s=e[t(356)];this._handleScriptNodeCallback(s)},e.connect(this[t(336)]),this[t(396)]=e,this.$audio?(this[t(336)].connect(this[t(322)]),this[t(342)][t(331)]=this[t(322)].stream):this[t(336)][t(433)](this.audioContext.destination)}[Ut(371)](t,e){const s=Ut;let r,i=arguments[s(439)]>2&&void 0!==arguments[2]&&arguments[2];e=e||Z,t[s(439)],i&&(r=t,this[s(343)]);const o=this.audioChannel;if(this[s(375)])return i?r.port[s(360)]({message:s(324)}):this[s(436)](t,o),void e();let n=this[s(305)].shift();n&&n[s(428)]>0?(i?r.port[s(360)]({message:s(363),buffer:n}):this[s(436)](t,o,n),e()):(rt(this[s(375)])&&(this[s(358)][s(417)](this.TAG_NAME,"_initProcessScriptNode() and bufferList length is "+this[s(305)][s(439)]+s(410)),this[s(375)]=!0),i?r.port[s(360)]({message:"zero"}):this._fillScriptNodeOutputBuffer(t,o),e())}_fillScriptNodeOutputBuffer(t,e,s){const r=Ut;if(1===e){const e=t.getChannelData(0);s?0===s[r(428)]?e[r(398)](0):e[r(445)](s.left):e[r(398)](0)}else if(2===e){const e=t.getChannelData(0),i=t[r(440)](1);s?0===s[r(428)]?(e[r(398)](0),i[r(398)](0)):(e[r(445)](s[r(309)]),i.set(s[r(412)])):(e.fill(0),i[r(398)](0))}}[Ut(406)](){const t=Ut;return 0===this.gainNode[t(407)][t(370)]}[Ut(320)](){const t=Ut;return this[t(305)][t(439)]*this[t(330)]}[Ut(315)](){this[Ut(305)]=[]}[Ut(313)](t){const e=Ut;this[e(375)]&&this[e(320)]()>=this[e(358)][e(380)].audioBufferDelay&&(this[e(358)].debugLog(this.TAG_NAME,e(441)+this[e(305)][e(439)]+e(314)+this.getBufferListDuration()+e(442)+this[e(358)][e(380)].audioBufferDelay+e(359)),this[e(375)]=!1),this[e(353)]()?this[e(411)](t):this[e(323)]()&&this.playPcm(t)}[Ut(411)](t){const e=Ut;let s=new Uint8Array(t),r=null;this.player[e(380)][e(386)]?r=function(t){const e=pt,s=new Int16Array(t[e(392)]);return t[e(391)](((t,e)=>{s[e]=function(t){let e,s;switch(e=(15&(t^=85))<<4,s=(112&t)>>4,s){case 0:e+=8;break;case 1:e+=264;break;default:e+=264,e<<=s-1}return 0!=(128&t)?e:-e}(t)})),s}(s):this[e(358)][e(380)].isG711u&&(r=kt(s)),!(r instanceof Int16Array)&&(r=new Int16Array(r));const i=new Int16Array(r[e(439)]+this.stashBuffer.length);for(i[e(445)](this[e(377)],0),i[e(445)](r,this[e(377)][e(439)]),this[e(377)]=i;this[e(377)][e(439)]>this[e(343)];){const t=this.stashBuffer[e(341)](0,this.audioBufferSize),s=new Float32Array(t[e(439)]);for(let e=0;e<t.length;e++)s[e]=t[e]/32768;this.bufferList.push({size:t[e(439)],left:s,right:null}),this.stashBuffer=this[e(377)].subarray(this[e(343)])}console.log("bufferList",this.bufferList[e(439)],"stashBuffer",this[e(377)].length)}[Ut(424)](t){const e=Ut;let s=null,r=this.player[e(380)][e(329)];const i=Number(r[e(345)]);32===i?s=function(t){let e=t[ht(290)],s=new Float32Array(e);for(;e--;){let r=t[e];s[e]=r>=2147483648?-(4294967296-r)/2147483648:r/2147483647}return s}(new Int32Array(t)):16===i?s=function(t){let e=t[ht(290)],s=new Float32Array(e);for(;e--;){let r=t[e];s[e]=r>=32768?-(65536-r)/32768:r/32767}return s}(new Int16Array(t)):8===i&&(s=function(t){let e=t[ht(290)],s=new Float32Array(e);for(;e--;){let r=t[e];s[e]=r>=128?-(256-r)/128:r/127}return s}(new Int8Array(t)));const o=new Float32Array(s[e(439)]+this[e(377)].length);for(o.set(this.stashBuffer,0),o[e(445)](s,this[e(377)].length),this[e(377)]=o;this[e(377)][e(439)]>this[e(343)];){const t=this[e(377)].subarray(0,this.audioBufferSize);this[e(305)][e(374)]({size:t[e(439)],left:t,right:null}),this[e(377)]=this[e(377)][e(341)](this[e(343)])}}[Ut(353)](){const t=Ut;return this[t(358)][t(380)][t(386)]||this[t(358)][t(380)][t(414)]}[Ut(323)](){const t=Ut;return this.player[t(380)][t(323)]}}function Pt(){const t=["4258485KOagBQ","6570263kDfilN","reduce","error","padStart","1049442ksLVKq","704870JDAgeG","6GIcNwn","hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ","length","951917FyoLan","1755PBjUOE","constructor","49760zaiWED","byteLength","99Eocchf","981dzkEbc","8084WICFwl","replace","set"];return(Pt=function(){return t})()}function xt(t,e){const s=Pt();return(xt=function(t,e){return s[t-=465]})(t,e)}function Ot(){class t extends AudioWorkletProcessor{constructor(t){super(),this._cursor=0,this._bufferSize=t.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(t,e,s){if(!t.length||!t[0].length)return!0;for(let e=0;e<t[0][0].length;e++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=t[0][0][e];return!0}}registerProcessor("talk-processor",t)}!function(t,e){const s=xt,r=t();for(;;)try{if(763566===parseInt(s(477))/1+-parseInt(s(472))/2+parseInt(s(467))/3+parseInt(s(484))/4*(-parseInt(s(478))/5)+parseInt(s(474))/6*(parseInt(s(468))/7)+-parseInt(s(480))/8*(parseInt(s(483))/9)+-parseInt(s(473))/10*(parseInt(s(482))/11))break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Pt);const Gt=Nt;function Nt(t,e){const s=Vt();return(Nt=function(t,e){return s[t-=386]})(t,e)}function Vt(){const t=["error","tempG711BufferList","stringify","talkGetUserMediaFail","220173vZEdAe","981zhJAVK","encType","jttSimNumber","308DJEBqi","numberChannels","webkitGetUserMedia","length","catch","_stopCheckGetUserMediaTimeout"," and sampleRate is ","getUserMedia2 success","mediaStreamSource","gainNode","webkitAudioContext","49ICijHM","userMediaStream","talkGetUserMediaSuccess","jttChannelNumber","talkStreamInactive","destination","pcm"," length is ","bufferSize","rtpPacket","empty","AudioContext","createBiquadFilter","close","worklet","disconnect","1759728hynYUR","getUserMedia3 success","_stopCheckWsOpenTimeout","tempRtpBufferList","audioBufferLength","_destroyed","binaryType","checkWsOpenTimeout","talk",".rtp","talkStreamClose","reject","testMicrophone","URL","jttSimNumber is null or length is not 12","\n            encType is ","setVolume","_doTalk","openWebsocketHeart","opusEncoder","socket error and requestAbort is true, so return","decode","audioPlayer","download","string","downloadJttFile","player","TAG_NAME","apply","getTracks","audioWorklet","audioContext","websocket open -> do talk","_handleStreamInactive","downloadFile","events","_sendTalkMsg","g711u","tempJttBufferList","createGain","_startCheckGetUserMediaTimeout"," and encType is ","packetType","forEach","talkStreamError","data","getUserMedia finally","addOpusToBuffer_1","_parseAudioMsg"," only support sampleRate 8000 and sampleBitsWidth 16","recorder","tempTimestamp","emitError","not support getUserMedia","downloadRtpFile","destroy","socketDestroyFnList","tempPcmBufferList","concat",'" string so return',"addOpusToBuffer","init","stop","getUserMedia fail","_getSequenceId","opusDecoder","revokeObjectURL","then","audioContext samplerate","stream oninactive","jttPacket","warn","onaudioprocess","buffer","toString","downloadG711File","createElement","addG711ToBuffer","eventType","packetType is ","debugLog"," and byteLength is ",", and sampleBitsWidth is ","resample","navigator","value","_initScriptProcessor","once","check getUserMedia timeout","talkStreamStart","connect","createJavaScriptNode","window.navigator.mediaDevices.getUserMedia is undefined and init function","getUserMediaTimeout","gain","call","jtt","_initMethods","getOption","_stopHeartInterval","workletRecorder","engine","mediaDevices","talk-processor","downloadPcmFile",".ogg","socket","websocketHeartInterval","requestAbort","_onaudioprocess","set","type","heartInterval","tempOpusBufferList","addPcmToBuffer","socketStatusOpen","_createWebSocket","onclose","rtpSsrc","getUserMedia3 fail","_startHeartInterval","href","61278fJfoHi","isDestroyed","debugWarn","28154ylowQy","3973060AWGFOl","onopen","script","message","saveToTempFile",'websocket handle message message is "',"wsUrl","resampler",".wav","addRtpToBuffer","opus","emit","createObjectURL","downloadOpusFile",".pcm","clearWorkletUrlTimeout","websocket close -> reject","oninactive","click","。\n            ","readyState","open","sampleRate","lowpass","protocols","getUserMedia","g711a","startTimestamp","assign","createScriptProcessor","toFixed","heart interval","talkStreamMsg","calcAudioBufferLength","now","biquadFilter","getUserMedia error","onerror","downloadOpusFile_1","talkStreamOpen","onmessage","stop checkGetUserMediaTimeout","debug","empty audio data",", rtp only support g711a or g711u or opus so set packetType to empty","talkGetUserMediaTimeout","tcp","notConnect","getUserMedia() got stream:","addJttToBuffer","checkGetUserMediaTimeout","isG711","msGetUserMedia","1220785KQkAgL","_log","audioBufferList","audioConstraints","reset","sampleBitsWidth","socketStatus","audio/wav","rtp","_encodeAudioData","44152zLIWKd","log","getChannelData","_opt","createMediaStreamSource","getUserMedia2 fail","send","_handleMessage","_sendClose"];return(Vt=function(){return t})()}!function(t,e){const s=Nt,r=t();for(;;)try{if(585930===parseInt(s(562))/1*(parseInt(s(470))/2)+-parseInt(s(547))/3+-parseInt(s(578))/4+-parseInt(s(524))/5+-parseInt(s(467))/6*(-parseInt(s(551))/7)+-parseInt(s(534))/8*(-parseInt(s(548))/9)+-parseInt(s(471))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(Vt);class zt extends r{constructor(t){const e=Nt;let s=arguments[e(554)]>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[e(537)]={},t&&(this.player=t),this[e(605)]=e(586);const r=et(B);this[e(537)]=Object[e(499)]({},r,s),!this[e(604)]&&(this[e(513)]=new At(this)),this.log(this[e(605)],"init and version is",'"7-1-2025"'),this[e(537)][e(493)]=parseInt(this[e(537)].sampleRate,10),this[e(537)].sampleBitsWidth=parseInt(this[e(537)].sampleBitsWidth,10),this[e(522)]()&&(8e3!==this[e(537)][e(493)]||16!==this[e(537)][e(529)])&&(this[e(416)](this[e(605)],e(593)+this._opt[e(549)]+e(557)+this[e(537)][e(493)]+e(427)+this[e(537)].sampleBitsWidth+e(490)+this[e(537)].encType+e(394)),this[e(537)].sampleRate=8e3,this[e(537)].sampleBitsWidth=16),this[e(537)][e(387)]===I[e(532)]&&this[e(537)].encType===A[e(568)]&&(this.warn(this[e(605)],e(424)+this._opt[e(387)]+e(386)+this[e(537)][e(549)]+e(515)),this[e(537)][e(387)]=I[e(572)]),this[e(537)][e(387)],e(441),this[e(537)][e(549)],e(481),this[e(609)]=null,this[e(560)]=null,this[e(395)]=null,this[e(445)]=null,this[e(506)]=null,this[e(563)]=null,this[e(486)]=null,this[e(570)]=512,this[e(537)][e(582)]=this[e(504)](),this[e(526)]=[],this[e(597)]=null,this[e(410)]=null,this[e(478)]=null,this[e(537)][e(549)],e(481),this.socket=null,this.socketStatus=S[e(518)],this.requestAbort=!1,this[e(401)]=[],this[e(559)]=null,this.heartInterval=null,this[e(521)]=null,this[e(477)]=null,this[e(498)]=0,this[e(585)]=null,this.sequenceId=0,this[e(396)]=null,this[e(583)]=!1,this[e(544)]=new Uint8Array(0),this[e(581)]=new Uint8Array(0),this[e(616)]=new Uint8Array(0),this[e(402)]=new Uint8Array(0),this[e(458)]=new Uint8Array(0),this[e(613)]=new Tt(this),this[e(600)]=null,this._initTalk();try{this.log(this[e(605)],e(406),JSON[e(545)](this[e(537)]))}catch(t){this[e(535)](this[e(605)],e(406),this[e(537)])}}[Gt(400)](){const t=Gt;this._destroyed=!0,this.clearWorkletUrlTimeout&&(clearTimeout(this.clearWorkletUrlTimeout),this[t(486)]=null),this[t(580)](),this[t(563)]&&(this.userMediaStream[t(607)]&&this[t(563)][t(607)]().forEach((e=>{e[t(407)]()})),this[t(563)]=null),this[t(559)]&&(this[t(559)][t(577)](),this[t(559)]=null),this[t(395)]&&(this[t(395)][t(577)](),this.recorder[t(417)]=null,this[t(395)]=null),this[t(506)]&&(this[t(506)][t(577)](),this[t(506)]=null),this[t(560)]&&(this[t(560)].disconnect(),this[t(560)]=null),this[t(445)]&&(this.workletRecorder[t(577)](),this[t(445)]=null),this.opusEncoder&&(this[t(597)].destroy(),this[t(597)]=null),this.opusDecoder&&(this[t(410)][t(400)](),this[t(410)]=null),this[t(478)]&&(this[t(478)][t(400)](),this[t(478)]=null),this[t(451)]&&((0===this[t(451)][t(491)]||1===this[t(451)][t(491)])&&(this.requestAbort=!0,this._sendClose(),this[t(451)][t(575)](1e3,"Client disconnecting")),this[t(401)][t(554)]&&(this.socketDestroyFnList[t(388)]((t=>t())),this[t(401)]=[]),this[t(451)][t(472)]=null,this[t(451)][t(511)]=null,this[t(451)][t(462)]=null,this[t(451)][t(508)]=null,this[t(451)]=null),this[t(530)]=S[t(518)],this[t(600)]&&(this[t(600)][t(400)](),this.audioPlayer=null),this[t(444)](),this[t(556)](),this[t(609)]=null,this[t(560)]=null,this.recorder=null,this[t(526)]=[],this.sequenceId=0,this[t(477)]=null,this[t(396)]=null,this[t(581)]=null,this.tempG711BufferList=null,this[t(402)]=null,this[t(458)]=null,this[t(498)]=0,this[t(535)](this[t(605)],t(400))}[Gt(528)](){}[Gt(580)](){const t=Gt;this.checkWsOpenTimeout&&(clearTimeout(this.checkWsOpenTimeout),this[t(585)]=null)}[Gt(468)](){return this._destroyed}[Gt(480)](t){const e=Gt,s=t[e(554)]+this.tempRtpBufferList[e(554)],r=new Uint8Array(s);r[e(455)](this.tempRtpBufferList,0),r[e(455)](t,this[e(581)][e(554)]),this[e(581)]=r}[Gt(422)](t){const e=Gt,s=t[e(554)]+this[e(544)][e(554)],r=new Uint8Array(s);r[e(455)](this.tempG711BufferList,0),r[e(455)](t,this[e(544)][e(554)]),this.tempG711BufferList=r}[Gt(459)](t){const e=Gt,s=t[e(554)]+this[e(402)][e(554)],r=new Uint8Array(s);r.set(this[e(402)],0),r[e(455)](t,this[e(402)][e(554)]),this.tempPcmBufferList=r}[Gt(520)](t){const e=Gt,s=t.length+this.tempJttBufferList[e(554)],r=new Uint8Array(s);r[e(455)](this.tempJttBufferList,0),r.set(t,this[e(616)].length),this.tempJttBufferList=r}[Gt(392)](t){const e=Gt;!this[e(410)]&&(this.opusDecoder=new OpusDecoder(this._opt[e(493)],this[e(537)][e(552)]));const s=this[e(410)][e(599)](t),r=new Uint8Array(s.buffer);this[e(459)](r)}[Gt(405)](t){const e=Gt,s=this[e(458)][e(554)]+1+t[e(554)],r=new Uint8Array(s);r[e(455)](this[e(458)],0),r[e(455)]([t[e(554)]],this[e(458)][e(554)]),r[e(455)](t,this.tempOpusBufferList.length+1),this[e(458)]=r}[Gt(399)](){const t=Gt;this[t(425)](this[t(605)],t(399));const e=new Blob([this.tempRtpBufferList]);try{const s=document[t(421)]("a");s[t(466)]=window[t(591)][t(483)](e),s[t(601)]=Date[t(505)]()+t(587),s[t(489)](),this[t(581)]=new Uint8Array(0),window[t(591)][t(411)](s.href)}catch(e){console[t(543)](t(399),e)}}downloadG711File(){const t=Gt;this[t(425)](this[t(605)],"downloadG711File");const e=new Blob([this[t(544)]]);try{const s=document[t(421)]("a");s.href=window[t(591)][t(483)](e),s[t(601)]=Date.now()+"."+this[t(537)][t(549)],s[t(489)](),this[t(544)]=new Uint8Array(0),window.URL[t(411)](s[t(466)])}catch(e){console[t(543)](t(420),e)}}[Gt(509)](){const t=Gt;this[t(425)](this.TAG_NAME,t(484)),this[t(449)]()}[Gt(484)](){const t=Gt;this[t(425)](this[t(605)],"downloadOpusFile");const e=function(t,e,s){const r=J,i=new Uint8Array([79,103,103,83,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new Uint8Array([79,112,117,115,72,101,97,100,1,0,0,0,0,0,0,0,0,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&s,s>>8&255,0,0,0,0]),n=new Uint8Array(i.length+o.length+t.length);return n[r(572)](i),n.set(o,i[r(655)]),n[r(572)](t,i.length+o.length),n}(this[t(458)],this[t(537)].sampleRate,this[t(537)][t(552)]),s=new Blob([e],{type:"audio/ogg"});try{const e=document.createElement("a");e[t(466)]=window[t(591)][t(483)](s),e.download=Date[t(505)]()+t(450),e[t(489)](),this[t(458)]=new Uint8Array(0),window[t(591)][t(411)](e[t(466)])}catch(e){console[t(543)](t(484),e)}}[Gt(449)](){const t=Gt;let e=arguments[t(554)]>0&&void 0!==arguments[0]&&arguments[0];this[t(425)](this[t(605)],t(449),this._opt[t(493)],this[t(537)][t(552)],this._opt[t(529)]);let s=new DataView(this[t(402)].buffer),r=null,i="";e?(s=function(t,e,s,r){const i=J;var o=function(t,e,s){const r=it;for(var i=0;i<s.length;i++)t.setUint8(e+i,s[r(490)](i))},n=e,a=r,l=new ArrayBuffer(44+t[i(495)]),c=new DataView(l),h=s,u=0;o(c,u,i(498)),u+=4,c[i(797)](u,36+t[i(495)],!0),o(c,u+=4,i(775)),o(c,u+=4,i(799)),u+=4,c[i(797)](u,16,!0),u+=4,c[i(640)](u,1,!0),u+=2,c[i(640)](u,h,!0),u+=2,c.setUint32(u,n,!0),u+=4,c[i(797)](u,h*n*(a/8),!0),u+=4,c[i(640)](u,h*(a/8),!0),u+=2,c[i(640)](u,a,!0),o(c,u+=2,i(805)),u+=4,c.setUint32(u,t[i(495)],!0),u+=4;for(let e=0;e<t[i(495)];)c[i(709)](u,t[i(765)](e)),u++,e++;return c}(s,this[t(537)][t(493)],this._opt[t(552)],this[t(537)].sampleBitsWidth),i=t(479),r=new Blob([s],{type:t(531)})):(i=t(485),r=new Blob([this.tempPcmBufferList]));try{const e=document[t(421)]("a");e[t(466)]=window[t(591)][t(483)](r),e[t(601)]=Date[t(505)]()+i,e.click(),this.tempPcmBufferList=new Uint8Array(0),window[t(591)][t(411)](e[t(466)])}catch(e){console[t(543)](t(399),e)}}[Gt(603)](){const t=Gt;this.debugLog(this.TAG_NAME,"downloadJttFile");const e=new Blob([this[t(616)]]);try{const s=document[t(421)]("a");s[t(466)]=window[t(591)][t(483)](e),s.download=Date[t(505)]()+".jtt",s[t(489)](),this[t(616)]=new Uint8Array(0),window[t(591)][t(411)](s[t(466)])}catch(e){console[t(543)](t(603),e)}}[Gt(612)](){const t=Gt;this[t(537)].packetType===I[t(532)]?this[t(399)]():this[t(537)].packetType===I[t(441)]?this[t(603)]():this[t(522)]()?this[t(420)]():this[t(537)][t(549)]===A[t(481)]?this.downloadOpusFile():this[t(537)].encType===A[t(568)]&&this[t(449)]()}[Gt(504)](){const t=Gt,{sampleRate:e,sampleBitsWidth:s,frameDuration:r}=this[t(537)];return this.isG711()?8*e*(r/1e3)/8:e*s*(r/1e3)/8}get socketStatusOpen(){const t=Gt;return this[t(530)]===S[t(492)]}log(){const t=Gt;for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];this[t(525)](t(535),...s)}[Gt(416)](){const t=Gt;for(var e=arguments[t(554)],s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];this[t(525)](t(416),...s)}error(){const t=Gt;for(var e=arguments[t(554)],s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];this[t(525)](t(543),...s)}[Gt(525)](t){const e=Gt;for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this.player?this.player[e(513)][t](...r):this[e(513)]?this[e(513)][t](...r):console[t](...r)}[Gt(409)](){return++this.sequenceId}_createWebSocket(t){return new Promise(((e,s)=>{const r=Nt,i=this.events.proxy;this[r(451)]=new WebSocket(this[r(477)],t[r(495)]||[]),this[r(451)][r(584)]="arraybuffer",this[r(482)](b[r(434)]);const o=i(this[r(451)],C[r(492)],(()=>{const t=r;this[t(530)]=S[t(492)],this._stopCheckWsOpenTimeout(),this[t(535)](this.TAG_NAME,t(610)),this.emit(b[t(510)]),e(),this[t(595)]()})),n=i(this.socket,C[r(474)],(t=>{const e=r;typeof t[e(390)]!==e(602)?rt(this[e(537)].playAudio)||this[e(541)](t[e(390)]):this.debugWarn(this[e(605)],e(476)+t[e(390)]+e(404))})),a=i(this[r(451)],C[r(575)],(t=>{const e=r;if(this[e(453)])return this[e(453)]=!1,void this[e(425)](this[e(605)],"socket close and requestAbort is true, so return");const i=this[e(530)];this[e(530)]=S[e(575)],this[e(416)](this.TAG_NAME,e(487),t),this[e(397)](b[e(588)]),i===S[e(518)]&&s(t)})),l=i(this[r(451)],C[r(543)],(t=>{const e=r;if(this.requestAbort)return this[e(453)]=!1,void this.debugLog(this[e(605)],e(598));const i=this[e(530)];this.socketStatus=S.error,this.error(this.TAG_NAME,"websocket error -> reject",t),this[e(397)](b[e(389)],t),i===S.notConnect&&s(t)}));this[r(401)].push(o,n,a,l)}))}[Gt(542)](){}_initTalk(){const t=Gt;this[t(442)](),this._opt[t(446)]===_[t(576)]?this._initWorklet():this._opt[t(446)]===_[t(473)]&&this[t(431)](),this[t(535)](this[t(605)],t(413),this[t(609)][t(493)])}[Gt(442)](){const t=Gt;this[t(609)]=new(window[t(573)]||window[t(561)])({sampleRate:48e3}),this[t(560)]=this[t(609)][t(617)](),this.gainNode[t(439)][t(430)]=1,this[t(506)]=this[t(609)][t(574)](),this.biquadFilter[t(456)]=t(494),this[t(506)].frequency[t(430)]=3e3,this[t(478)]=new ct({fromSampleRate:this.audioContext[t(493)],toSampleRate:this._opt[t(493)],channels:this[t(537)].numberChannels,inputBufferSize:this.bufferSize})}[Gt(431)](){const t=Gt,e=this[t(609)][t(500)]||this.audioContext[t(436)];this[t(395)]=e[t(606)](this[t(609)],[this[t(570)],this._opt[t(552)],this[t(537)][t(552)]]),this[t(395)][t(417)]=e=>this[t(454)](e)}_initWorklet(){const t=Gt,e=tt(Ot);this[t(609)][t(608)]&&this.audioContext[t(608)].addModule(e).then((()=>{const e=t,s=new AudioWorkletNode(this[e(609)],e(448),{processorOptions:{bufferSize:this.bufferSize}});s.connect(this[e(560)]),s.port[e(511)]=t=>{const s=e;"data"===t[s(390)][s(423)]&&this[s(533)](t.data[s(418)])},this[e(445)]=s})),this.clearWorkletUrlTimeout=setTimeout((()=>{const s=t;URL[s(411)](e),this[s(486)]=null}),1e4)}[Gt(454)](t){const e=Gt,s=t.inputBuffer[e(536)](0);this._encodeAudioData(new Float32Array(s))}[Gt(533)](t){const e=Gt;if(this[e(468)]())return;if(0===t[0]&&0===t[1])return void this.log(this[e(605)],e(514));const s=this[e(478)][e(428)](t);if(this._opt[e(549)]===A[e(481)]);else{let t=s;this[e(522)]()||16===this._opt[e(529)]?t=ut(s):8===this[e(537)][e(529)]?t=function(t){const e=ht;let s=t.length,r=new Int8Array(s);for(;s--;){let i=Math.max(-1,Math[e(289)](1,t[s]));const o=i<0?32768*i:32767*i;r[s]=parseInt(255/(65535/(32768+o)),10)}return r}(s):32===this[e(537)][e(529)]&&(t=function(t){const e=ht;let s=t[e(290)],r=new Int32Array(s);for(;s--;){let i=Math[e(296)](-1,Math[e(289)](1,t[s]));r[s]=i<0?2147483648*i:2147483647*i}return r}(s));let r=null;this[e(537)].encType===A[e(497)]?r=bt(t):this[e(537)].encType===A[e(615)]?r=wt(t):this[e(537)][e(549)]===A.pcm&&(r=t[e(418)]);const i=new Uint8Array(r);for(let t=0;t<i.length;t++){let s=this[e(526)][e(554)];this[e(526)][s++]=i[t],this[e(526)].length===this[e(537)][e(582)]&&(this[e(614)](new Uint8Array(this[e(526)])),this[e(526)]=[])}}}[Gt(393)](t){const e=Gt;let s=null;return this[e(537)][e(387)]!==I[e(532)]||!this[e(522)]()&&this[e(537)].enc!==A[e(481)]?this[e(537)][e(387)]===I[e(441)]&&this[e(522)]()?s=this[e(415)](t):this._opt[e(387)]===I[e(572)]&&(s=t):s=this[e(571)](t),s}[Gt(571)](t){const e=Gt,s=[];let r=0,i=0,o=0;const n=this._opt[e(463)],a=t[e(554)];this[e(537)][e(549)]===A[e(497)]?r=v[e(497)]:this[e(537)][e(549)]===A[e(615)]?r=v[e(615)]:this._opt[e(549)]===A[e(481)]&&(r=v[e(481)]),!this[e(498)]&&(this.startTimestamp=Y()),o=Y()-this.startTimestamp,i=this[e(409)]();let l=0;if(this[e(537)].packetTcpSendType===T[e(517)]){const t=a+12;s[l++]=255&t>>8,s[l++]=255&t>>0}s[l++]=128,s[l++]=128+r,s[l++]=i/256,s[l++]=i%256,s[l++]=o/65536/256,s[l++]=o/65536%256,s[l++]=o%65536/256,s[l++]=o%65536%256,s[l++]=n/65536/256,s[l++]=n/65536%256,s[l++]=n%65536/256,s[l++]=n%65536%256;let c=s[e(403)]([...t]),h=new Uint8Array(c[e(554)]);for(let t=0;t<c[e(554)];t++)h[t]=c[t];return h}[Gt(415)](t){const e=Gt,s=[],r=[48,49,99,100],i=[129,134];let o=0;const n=this[e(537)][e(550)],a=this._opt[e(565)];let l=0;const c=t[e(554)];!this[e(498)]&&(this[e(498)]=Y()),l=Y()-this[e(498)],o=this[e(409)](),s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[4]=i[0],s[5]=i[1],s[6]=o/256,s[7]=o%256;const h=function(t){const e=xt;if((t=t[e(465)](/\s/g,""))[e(476)]%2!=0)return console[e(470)](e(475),t[e(476)]),null;const s=new Uint8Array(t[e(476)]/2);for(let r=0;r<t[e(476)];r+=2){const e=parseInt(t.substr(r,2),16);s[r/2]=e}return s}(n);h&&(s[8]=h[0],s[9]=h[1],s[10]=h[2],s[11]=h[3],s[12]=h[4],s[13]=h[5]),s[14]=parseInt(a,16),s[15]=48,s[16]=255&l>>56,s[17]=255&l>>48,s[18]=255&l>>40,s[19]=255&l>>32,s[20]=255&l>>24,s[21]=255&l>>16,s[22]=255&l>>8,s[23]=255&l>>0,s[24]=c/256,s[25]=c%256;let u=s[e(403)]([...t]),d=new Uint8Array(u[e(554)]);for(let t=0;t<u.length;t++)d[t]=u[t];return d}[Gt(614)](t){const e=Gt;null===this.tempTimestamp&&(this[e(396)]=Y());const s=Y(),r=s-this[e(396)],i=this._parseAudioMsg(t);this.log(this.TAG_NAME,"send talk msg and diff is "+r+e(426)+i.byteLength+" and length is "+i[e(554)]+", and "+this[e(537)][e(549)]+e(569)+t.length),st(this[e(537)][e(475)])&&st(this[e(537)][e(513)])&&(this[e(537)][e(387)]===I[e(532)]?this.addRtpToBuffer(i):this._opt[e(387)]===I[e(441)]?this[e(520)](i):this.isG711()?this[e(422)](i):this[e(537)][e(549)]===A[e(568)]?this[e(459)](i):this[e(537)][e(549)]===A.opus&&this[e(405)](i)),i&&(this._opt[e(590)]?this[e(482)](b[e(503)],i[e(418)]):this[e(460)]?this[e(451)].send(i[e(418)]):this.emitError(E.tallWebsocketClosedByError)),this.tempTimestamp=s}[Gt(595)](){const t=Gt;this._getUserMedia(),this[t(537)][t(596)]&&this._startHeartInterval()}_getUserMedia(){const t=Gt;this[t(535)](this.TAG_NAME,t(496)),void 0===window[t(429)][t(447)]&&(window[t(429)][t(447)]={}),void 0===window[t(429)][t(447)][t(496)]&&(this[t(535)](this[t(605)],t(437)),window[t(429)][t(447)][t(496)]=function(e){const s=t;var r=navigator[s(496)]||navigator[s(553)]||navigator.mozGetUserMedia||navigator[s(523)];return r?new Promise((function(t,i){r[s(440)](navigator,e,t,i)})):Promise[s(589)](new Error("getUserMedia is not implemented in this browser"))}),this[t(537)][t(521)]&&this[t(618)](),window[t(429)].mediaDevices[t(496)]({audio:this[t(537)][t(527)],video:!1})[t(412)]((e=>{const s=t;this[s(535)](this[s(605)],"getUserMedia success"),this[s(563)]=e,this[s(559)]=this[s(609)][s(538)](e),this[s(559)].connect(this[s(506)]),this.recorder?(this[s(506)].connect(this[s(395)]),this[s(395)][s(435)](this.gainNode)):this[s(445)]&&(this.biquadFilter[s(435)](this[s(445)]),this[s(445)].connect(this[s(560)])),this[s(560)].connect(this.audioContext[s(567)]),this[s(482)](b[s(564)]),null===e[s(488)]&&(e[s(488)]=t=>{this[s(611)](t)})}))[t(555)]((e=>{const s=t;this.error(this.TAG_NAME,s(507),e[s(419)]()),this.emit(b[s(546)],e.toString())})).finally((()=>{const e=t;this[e(535)](this[e(605)],e(391)),this[e(556)]()}))}_getUserMedia2(){const t=Gt;this.log(this.TAG_NAME,t(496)),navigator[t(447)]?navigator[t(447)][t(496)]({audio:!0})[t(412)]((e=>{const s=t;this[s(535)](this[s(605)],"getUserMedia2 success")})):navigator.getUserMedia({audio:!0},this[t(535)](this[t(605)],t(558)),this[t(535)](this[t(605)],t(539)))}async _getUserMedia3(){const t=Gt;this[t(535)](this.TAG_NAME,"getUserMedia3");try{const e=await navigator[t(447)][t(496)]({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console[t(535)](t(519),e),this[t(535)](this.TAG_NAME,t(579))}catch(e){this[t(535)](this[t(605)],t(464))}}[Gt(611)](t){const e=Gt;this[e(563)]&&(this[e(416)](this[e(605)],e(414),t),this.emit(b[e(566)]))}_startCheckGetUserMediaTimeout(){const t=Gt;this[t(556)](),this[t(521)]=setTimeout((()=>{const e=t;this[e(535)](this[e(605)],e(433)),this[e(482)](b[e(516)])}),this[t(537)][t(438)])}_stopCheckGetUserMediaTimeout(){const t=Gt;this.checkGetUserMediaTimeout&&(this[t(535)](this.TAG_NAME,t(512)),clearTimeout(this[t(521)]),this[t(521)]=null)}[Gt(465)](){const t=Gt;this[t(457)]=setInterval((()=>{const e=t;this[e(535)](this[e(605)],e(502));let s=this[e(537)].websocketHeartContent;s=new Uint8Array(s),this[e(451)][e(540)](s.buffer)}),1e3*this[t(537)][t(452)])}_stopHeartInterval(){const t=Gt;this[t(457)]&&(this.log(this[t(605)],"stop heart interval"),clearInterval(this.heartInterval),this[t(457)]=null)}startTalk(t){const e=Gt;let s=arguments[e(554)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((r,i)=>{const o=e;if(!function(){const t=J;let e=!1;const s=window[t(484)];return s&&(e=!(!s[t(719)]||!s[t(719)].getUserMedia),!e&&(e=!!(s[t(828)]||s.webkitGetUserMedia||s[t(837)]||s[t(538)]))),e}())return i(o(398));if(this[o(537)].packetType===I[o(441)]){if(!this._opt[o(550)]||12!==(""+this[o(537)][o(550)])[o(554)])return i(o(592));if(!this._opt[o(565)]||2!==(""+this[o(537)].jttChannelNumber)[o(554)])return i("jttChannelNumber is null or length is not 2")}if(this[o(477)]=t,this[o(537)][o(590)])this[o(595)]();else{if(!this[o(477)])return i("wsUrl is null");if(ot())return i(decodeURIComponent(F));this[o(461)](s)[o(555)]((t=>{i(t)}))}this[o(432)](b[o(546)],(()=>{i(o(408))})),this[o(432)](b.talkGetUserMediaSuccess,(()=>{r()}))}))}[Gt(594)](t){const e=Gt;t=parseFloat(t)[e(501)](2),isNaN(t)||(t=function(t,e,s){const r=it;return Math.max(Math[r(772)](t,Math[r(489)](e,s)),Math[r(772)](e,s))}(t,0,1),this[e(560)][e(439)][e(430)]=t)}[Gt(522)](){const t=Gt;return this[t(537)][t(549)]===A[t(497)]||this[t(537)].encType===A[t(615)]}[Gt(443)](){return this[Gt(537)]}get volume(){const t=Gt;return this.gainNode?parseFloat(100*this[t(560)][t(439)][t(430)])[t(501)](0):null}[Gt(425)](t){const e=Gt;if(this[e(537)][e(513)]&&this[e(513)]){for(var s=arguments[e(554)],r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this.debug[e(535)](t,...r)}}[Gt(469)](t){const e=Gt;if(this[e(537)][e(513)]&&this.debug){for(var s=arguments[e(554)],r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this[e(513)][e(416)](t,...r)}}debugError(t){const e=Gt;if(this[e(513)]){for(var s=arguments[e(554)],r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this[e(513)][e(543)](t,...r)}}_handleMessage(t){const e=Gt;null===this[e(600)]&&(this.audioPlayer=new Rt(this)),this[e(600)].play(t)}[Gt(397)](t){const e=Gt;let s=arguments[e(554)]>1&&void 0!==arguments[1]?arguments[1]:"";this[e(482)](b[e(543)],t,s),this[e(482)](t,s)}}const jt=Jt;function qt(){const t=["debugLog","startTalk","_initTalk","talkStreamInactive stopTalk","toString","destroy()","_handleTalkStreamError","warn","catch","_handleTalkGetUserMediaTimeout","_initTalk this.talk is not null and destroy","talkWebsocketClosedByError -> stopTalk","LOG_TAG","setVolume","talkStreamError -> stopTalk","4EmDcSp","_handleTalkStreamClose","talkStreamError","downloadG711File","stringify","downloadPcmFile","setTalkVolume","7RtkZrm","forEach","WebPlayerProTalk","622194snVUWs","EVENTS","getTalkVolume","keys","_bindTalkEvents","talkGetUserMediaTimeout -> stopTalk","finally","error","420531MSVNqp","6163893TKHHWn","talk is not init","talkStreamError stopTalk","getOption","5230568oezgrz","off","5067555KtzGXg","downloadTempOpusFile","length","downloadTempRtpFile","_handleTalkStreamInactive","_opt","destroy","talkStreamClose stopTalk","downloadOpusFile","once","init","assign","emit","debugError","bound","then","JessibucaProTalk","stopTalk","talkGetUserMediaTimeout","bind","16fXHvZa","JbProTalk","talkGetUserMediaTimeout stopTalk","78602KoKSgR","tallWebsocketClosedByError","debug","talkWebsocketClosedByError stopTalk","talkFailedAndStop","talkStreamClose","downloadFile","debugWarn","downloadTempFile","24996140yfWznO","_handleTalkWebsocketClosedByError","talkStreamInactive","talk"];return(qt=function(){return t})()}!function(t,e){const s=Jt,r=t();for(;;)try{if(517889===parseInt(s(371))/1*(parseInt(s(374))/2)+parseInt(s(420))/3+-parseInt(s(402))/4*(-parseInt(s(427))/5)+parseInt(s(412))/6*(-parseInt(s(409))/7)+parseInt(s(425))/8+parseInt(s(421))/9+-parseInt(s(383))/10)break;r.push(r.shift())}catch(t){r.push(r.shift())}}(qt);class Ht extends r{constructor(){const t=Jt;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this[t(386)]=null,this._opt=e,this.LOG_TAG="JbProTalk",this[t(376)]=new At(this),this[t(441)]={_handleTalkStreamClose:this[t(403)][t(370)](this),_handleTalkStreamError:this[t(393)][t(370)](this),_handleTalkStreamInactive:this[t(431)][t(370)](this),_handleTalkGetUserMediaTimeout:this[t(396)][t(370)](this),_handleTalkWebsocketClosedByError:this[t(384)].bind(this)};try{this[t(387)](this[t(399)],t(437),JSON.stringify(e))}catch(s){this[t(387)](this.LOG_TAG,t(437),e)}}[jt(433)](){const t=jt;this.debugLog(this[t(399)],t(392)),this[t(426)](),this.talk&&(this.talk[t(433)](),this[t(386)]=null),this[t(441)]=null,this[t(387)](this[t(399)],"destroy")}_initTalk(){const t=jt;let e=arguments[t(429)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(386)]&&(this[t(387)](this[t(399)],t(397)),this[t(386)].destroy(),this[t(386)]=null);const s=Object[t(438)]({},et(this[t(432)]),e);this[t(432)]=s,this[t(386)]=new zt(null,s),this[t(387)](this[t(399)],t(389),this[t(386)][t(424)]()),this[t(416)]()}[jt(416)](){const t=jt;Object[t(415)](w)[t(410)]((e=>{const s=t;this[s(386)].on(w[e],(t=>{this[s(439)](e,t)}))}))}startTalk(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const o=Jt;try{this.debugLog(this[o(399)],o(388),t,JSON[o(406)](e))}catch(s){this.debugLog(this[o(399)],"startTalk",t,e)}if(this[o(389)](e),ot()){const t=decodeURIComponent(F);return this.debugError(this[o(399)],t),void i(t)}this[o(386)][o(388)](t,s)[o(442)]((()=>{const t=o;r(),this[t(386)][t(436)](b[t(379)],this[t(441)]._handleTalkStreamClose),this[t(386)][t(436)](b.talkStreamError,this[t(441)]._handleTalkStreamError),this[t(386)][t(436)](b[t(385)],this[t(441)][t(431)]),this[t(386)][t(436)](b[t(369)],this.bound._handleTalkGetUserMediaTimeout),this.talk.once(E[t(375)],this[t(441)][t(384)])})).catch((t=>{const e=o;this[e(381)](this[e(399)],"startTalk error",t,t[e(391)]()),this[e(368)]()[e(418)]((()=>{i(t)}))}))}))}[jt(368)](){return new Promise(((t,e)=>{const s=Jt;this[s(387)](this.LOG_TAG,"stopTalk()"),!this[s(386)]&&e(s(422)),this[s(386)][s(433)](),this[s(386)]=null,t()}))}[jt(414)](){return new Promise(((t,e)=>{const s=Jt;!this[s(386)]&&e(s(422)),t(this[s(386)].volume)}))}[jt(408)](t){return new Promise(((e,s)=>{const r=Jt;this.debugLog(this[r(399)],"setTalkVolume",t),!this.talk&&s(r(422)),this[r(386)][r(400)](t/100),e()}))}[jt(430)](){return new Promise(((t,e)=>{const s=Jt;this.talk?(this[s(386)].downloadRtpFile(),t()):e(s(422))}))}downloadTempG711File(){return new Promise(((t,e)=>{const s=Jt;this[s(386)]?(this[s(386)][s(405)](),t()):e(s(422))}))}downloadTempPcmFile(t){return new Promise(((e,s)=>{const r=Jt;this.talk?(this[r(386)][r(407)](t),e()):s(r(422))}))}[jt(428)](){return new Promise(((t,e)=>{const s=Jt;this[s(386)]?(this[s(386)][s(435)](),t()):e(s(422))}))}[jt(382)](){return new Promise(((t,e)=>{const s=Jt;this[s(386)]?(this[s(386)][s(380)](),t()):e(s(422))}))}[jt(387)](t){const e=jt;if(this._opt[e(376)]&&this.debug){for(var s=arguments[e(429)],r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this[e(376)].log(t,...r)}}[jt(381)](t){const e=jt;if(this._opt[e(376)]&&this[e(376)]){for(var s=arguments.length,r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this[e(376)][e(394)](t,...r)}}debugError(t){const e=jt;if(this.debug){for(var s=arguments[e(429)],r=new Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];this[e(376)][e(419)](t,...r)}}[jt(403)](){const t=jt;this[t(381)](this[t(399)],"talkStreamClose -> stopTalk"),this[t(368)]()[t(395)]((e=>{const s=t;this[s(381)](this[s(399)],s(434),e)}))[t(418)]((()=>{const e=t;this[e(439)](b[e(378)],b[e(379)])}))}[jt(393)](){const t=jt;this[t(440)](this.LOG_TAG,t(401)),this.stopTalk()[t(395)]((e=>{const s=t;this[s(381)](this.LOG_TAG,s(423),e)})).finally((()=>{const e=t;this[e(439)](b[e(378)],b[e(404)])}))}[jt(431)](){const t=jt;this[t(381)](this[t(399)],"talkStreamInactive -> stopTalk"),this[t(368)]().catch((e=>{const s=t;this.debugWarn(this.LOG_TAG,s(390),e)})).finally((()=>{const e=t;this[e(439)](b[e(378)],b.talkStreamInactive)}))}_handleTalkGetUserMediaTimeout(){const t=jt;this[t(381)](this[t(399)],t(417)),this.stopTalk().catch((e=>{const s=t;this.debugWarn(this[s(399)],s(373),e)}))[t(418)]((()=>{const e=t;this.emit(b.talkFailedAndStop,b[e(369)])}))}_handleTalkWebsocketClosedByError(){const t=jt;this[t(381)](this[t(399)],t(398)),this.stopTalk()[t(395)]((e=>{const s=t;this[s(381)](this[s(399)],s(377),e)}))[t(418)]((()=>{const e=t;this[e(439)](b[e(378)],E[e(375)])}))}}function Jt(t,e){const s=qt();return(Jt=function(t,e){return s[t-=367]})(t,e)}return Ht[jt(413)]=w,window[jt(367)]=Ht,window[jt(372)]=Ht,window[jt(411)]=Ht,Ht}));
