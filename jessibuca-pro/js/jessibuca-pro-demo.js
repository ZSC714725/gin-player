!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("crypto")):"function"==typeof define&&define.amd?define(["crypto"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["jessibuca-demo"]=e(t.crypto$1)}(this,(function(t){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=s(t);const n=tt;!function(t,e){const s=tt,i=t();for(;;)try{if(194818===-parseInt(s(533))/1*(parseInt(s(590))/2)+parseInt(s(263))/3+parseInt(s(481))/4+-parseInt(s(441))/5*(-parseInt(s(633))/6)+parseInt(s(379))/7+parseInt(s(353))/8*(-parseInt(s(268))/9)+-parseInt(s(439))/10*(parseInt(s(322))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bt);const o={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7},a=["",n(260),n(359),"hls",n(675),n(368),n(172),"ts"],h={fetch:n(359),hls:"hls",websocket:n(260),webrtc:n(675),webTransport:n(368),worker:n(317),aliyunRtc:"aliyunRtc",mp4Vod:n(407),flvVod:n(330),file:n(453)},l={player:n(262),playerAudio:n(549),playbackTF:n(192),talk:n(410),playVod:n(542)},c={mp4:n(360),webm:n(501),flv:n(315),mov:"mov"},d={flv:n(315),m7s:n(673),hls:n(390),webrtc:n(675),webTransport:n(368),nakedFlow:"nakedFlow",fmp4:"fmp4",mpeg4:"mpeg4",aliyunRtc:n(172),ts:"ts",g711:"g711",pcm:n(671),ps:"ps"},u={flv:n(194),m7s:n(550),hls:"HLS",fmp4:"FMP4",mpeg4:n(545),webrtc:n(223),webTransport:"WebTransport",nakedFlow:"裸流",aliyunRtc:n(286),ts:"TS"},p={mse:n(180),wcs:n(535),offscreen:n(331),wasm:n(332),simd:n(324),simdFFmpeg:n(507),mt:"mt",webrtc:"webrtc",hls:"hls",aliyunRtc:n(172),browser:n(469)},f={canvas:n(255),video:n(348)},m={debug:"debug",warn:n(279)},g={click:n(305),mouseDownAndUp:n(619)},y={normal:n(454),simple:"simple"},A={normal:"normal",small:n(280)},v={drop:n(219),accelerate:n(323)},b=n(228),S=n(645),E=36e5,w="/crypto/",T="jbprov";n(311);const I=1e4,k=n(278),_={nv12:1,i420:0},C=[n(522),"NV12"],D={playIsNotPauseOrUrlIsNull:n(351),webglAlignmentError:n(639),webglContextLostError:n(344),mediaSourceH265NotSupport:n(555),mseSourceBufferFull:n(398),mediaSourceAppendBufferError:n(196),mseSourceBufferError:n(610),mseAddSourceBufferError:"初始化解码器失败",mseWorkerAddSourceBufferError:n(196),mediaSourceDecoderConfigurationError:n(196),mediaSourceTsIsMaxDiff:n(334),mseWidthOrHeightChange:n(334),mediaSourceAudioG711NotSupport:"硬解码不支持G711a/u音频格式",mediaSourceAudioInitTimeout:n(363),mediaSourceAudioNoDataTimeout:n(556),mediaSourceUseCanvasRenderPlayFailed:"MediaSource解码使用canvas渲染失败",mediaSourceBufferedIsZeroError:n(334),webcodecsH265NotSupport:"不支持硬解码H265",webcodecsUnsupportedConfigurationError:n(196),webcodecsDecodeConfigureError:"初始化解码器失败",webcodecsDecodeError:n(610),webcodecsAudioInitTimeout:n(363),webcodecsAudioNoDataTimeout:n(556),wcsWidthOrHeightChange:"解码失败",wasmDecodeError:"解码失败",simdDecodeError:n(610),simdDecodeDelayTimeout:n(316),wasmWidthOrHeightChange:n(334),wasmUseVideoRenderError:"video自动渲染失败",videoElementPlayingFailed:n(524),simdH264DecodeVideoWidthIsTooLarge:n(571),networkDelayTimeout:n(188),fetchError:n(516),streamEnd:n(156),websocket1006Error:n(422),websocketError:n(516),webrtcError:n(516),hlsError:"请求失败",decoderWorkerInitError:"初始化worker失败",decoderWorkerWasmError:n(372),videoElementPlayingFailedForWebrtc:"video自动渲染失败",videoInfoError:n(618),webrtcStreamH265:n(622),delayTimeout:n(182),loadingTimeout:n(234),loadingTimeoutRetryEnd:n(234),delayTimeoutRetryEnd:"播放超时重播失败",flvDemuxBufferSizeTooLarge:"FLV待解封装buffer过大",audioChannelError:n(521),aliyunRtcError:n(516),mseWaitVideoCanplayTimeout:n(334),initDecoderWorkerTimeout:n(320),notSupportNewWasm:n(663),failedToAsynchronouslyPrepareWasm:n(663),playVodMp4Error:n(543),playVodMp4NotMoovError:"点播MP4文件格式异常",playVodFlvError:n(512),playVodMseDecodeVideoError:"点播解码器异常",mp4Error:n(514),tsPacketSizeError:n(434)},R={playType:l.player,videoBuffer:1e3,videoBufferDelay:1e3,networkDelay:1e4,isResize:!0,isFullResize:!1,isFlv:!1,isHls:!1,isFmp4:!1,isWebrtc:!1,isWebrtcForZLM:!1,isWebrtcForSRS:!1,webrtcForSRSBySDK:!1,webrtcForSRSByWhipWhep:!1,isWebrtcForOthers:!1,isNakedFlow:!1,isMpeg4:!1,isAliyunRtc:!1,isTs:!1,isPs:!1,debug:!1,debugLevel:m[n(419)],debugUuid:"",isMulti:!0,multiIndex:-1,hotKey:!1,loadingTimeout:10,heartTimeout:10,timeout:10,pageVisibilityHiddenTimeout:300,loadingTimeoutReplay:!0,heartTimeoutReplay:!0,loadingTimeoutReplayTimes:3,heartTimeoutReplayTimes:3,heartTimeoutReplayUseLastFrameShow:!0,replayUseLastFrameShow:!0,replayShowLoadingIcon:!1,supportDblclickFullscreen:!1,showBandwidth:!1,showPerformance:!1,mseCorrectTimeDuration:20,mseCorrectAudioTimeDuration:20,keepScreenOn:!0,isNotMute:!1,muted:!0,hasAudio:!0,hasVideo:!0,operateBtns:{fullscreen:!1,screenshot:!1,play:!1,audio:!1,record:!1,ptz:!1,quality:!1,zoom:!1,close:!1,scale:!1,performance:!1,logSave:!1,aiFace:!1,aiObject:!1,aiOcclusion:!1,fullscreenFn:null,fullscreenExitFn:null,screenshotFn:null,playFn:null,pauseFn:null,recordFn:null,recordStopFn:null},extendOperateBtns:[],contextmenuBtns:[],watermarkConfig:{},controlAutoHide:!1,controlAutoHideDelayTime:5,hasControl:!1,controlSize:A[n(454)],loadingIcon:!0,initShowLoadingIconInner:!1,loadingIconStyle:{},loadingText:"",background:"",poster:"",backgroundLoadingShow:!0,loadingBackground:"",loadingBackgroundWidth:0,loadingBackgroundHeight:0,decoder:n(606),decoderOld:n(548),decoderAudio:n(258),decoderHard:n(222),decoderHardNotWasm:n(502),wasmMp4RecorderDecoder:n(406),decoderWASM:"",isDecoderUseCDN:!1,url:"",rotate:0,mirrorRotate:"none",aspectRatio:n(190),playbackConfig:{playList:[],fps:"",autoCalcFps:!0,showControl:!0,controlType:y.normal,duration:0,startTime:"",showRateBtn:!1,rateConfig:[],showPrecision:"",showPrecisionBtn:!0,isCacheBeforeDecodeForFpsRender:!1,uiUsePlaybackPause:!1,isPlaybackPauseClearCache:!0,isUseFpsRender:!1,isUseLocalCalculateTime:!1,localOneFrameTimestamp:40,supportWheel:!1,useWCS:!1,useMSE:!1,useSIMD:!0},qualityConfig:[],defaultStreamQuality:"",scaleConfig:["拉伸","缩放","正常"],forceNoOffscreen:!0,hiddenAutoPause:!1,protocol:o.fetch,demuxType:d[n(315)],useWasm:!1,useOldWasm:!1,useMSE:!1,useWCS:!1,useSIMD:!0,isFFmpegSIMD:!1,useMThreading:!1,preferredHardDecode:!1,wcsUseVideoRender:!0,wcsUseWebgl2Render:!1,wasmUseVideoRender:!0,mseUseCanvasRender:!1,hlsUseCanvasRender:!1,webrtcUseCanvasRender:!1,useOffscreen:!1,useWebGPU:!1,useWebCanvas:!1,mseDecodeErrorReplay:!0,wcsDecodeErrorReplay:!0,wasmDecodeErrorReplay:!0,simdDecodeErrorReplay:!0,simdDecodeErrorReplayType:p[n(332)],autoWasm:!0,decoderErrorAutoWasm:!1,hardDecodingNotSupportAutoWasm:!0,webglAlignmentErrorReplay:!0,webglContextLostErrorReplay:!0,openWebglAlignment:!1,syncAudioAndVideo:!0,syncAudioAndVideoDiff:300,playbackDelayTime:1e3,playbackFps:25,playVodFps:25,playbackForwardMaxRateDecodeIFrame:4,calcPlaybackForwardMaxRateDecodeIFrame:!1,playbackCurrentTimeMove:!0,useVideoRender:!0,useCanvasRender:!1,videoRenderType:"",networkDelayTimeoutReplay:!1,recordType:c[n(360)],checkFirstIFrame:!0,nakedFlowFps:25,audioEngine:null,isShowRecordingUI:!0,isShowZoomingUI:!0,useFaceDetector:!1,useObjectDetector:!1,useImageDetector:!1,useOcclusionDetector:!1,ptzPositionConfig:{},ptzShowType:n(638),ptzClickType:g[n(305)],ptzStopEmitDelay:.3,ptzZoomShow:!1,ptzApertureShow:!1,ptzFocusShow:!1,ptzMoreArrowShow:!1,ptzCruiseShow:!1,ptzFogShow:!1,ptzWiperShow:!1,ptzSupportDraggable:!1,weiXinInAndroidAudioBufferSize:4800,isCryptoAudio:!1,isM7sCrypto:!1,isSm4Crypto:!1,isSm4CryptoH265V2:!1,isXorCrypto:!1,sm4CryptoKey:"",m7sCryptoKey:"",xorCryptoKey:"",cryptoKey:"",cryptoIV:"",cryptoKeyUrl:"",listenWindowResizeAuoResize:!0,orientationChangeResize:!1,useWebFullScreen:!1,ptsMaxDiff:3600,aiFaceDetectLevel:2,aiFaceDetectWidth:240,aiFaceDetectEmitBase64:!1,aiFaceDetectShowRect:!0,aiFaceDetectInterval:1e3,aiFaceDetectRectConfig:{},aiObjectDetectLevel:2,aiObjectDetectWidth:240,aiObjectDetectShowRect:!0,aiObjectDetectInterval:1e3,aiObjectDetectRectConfig:{},aiObjectDetectTarget:"",aiOcclusionDetectInterval:1e3,aiImageDetectDrop:!1,aiImageDetectActive:!1,videoRenderSupportScale:!0,mediaSourceTsIsMaxDiffReplay:!0,controlHtml:"",isH265:!1,isWebrtcH265:!1,supportLockScreenPlayAudio:!0,supportHls265:!0,hls264UseOldDemuxer:!1,hls265ForceFixLargeGap:!0,isEmitSEI:!1,pauseAndNextPlayUseLastFrameShow:!1,demuxUseWorker:!0,playFailedAndReplay:!0,showMessageConfig:{},videoElementPlayingFailedReplay:!0,mp4RecordUseWasm:!0,mseAutoCleanupSourceBuffer:!0,mseAutoCleanupMaxBackwardDuration:30,mseAutoCleanupMinBackwardDuration:10,widthOrHeightChangeReplay:!0,simdH264DecodeVideoWidthIsTooLargeReplay:!0,mediaSourceAudioG711NotSupportReplay:!0,mediaSourceAudioInitTimeoutReplay:!0,mediaSourceAudioNoDataTimeoutReplay:!0,mediaSourceUseCanvasRenderPlayFailedReplay:!0,mediaSourceUseCanvasRenderPlayFailedReplayType:f[n(348)],webcodecsAudioInitTimeoutReplay:!0,webcodecsAudioNoDataTimeoutReplay:!0,webcodecsAudioDecodeErrorReplay:!0,widthOrHeightChangeReplayDelayTime:0,ghostWatermarkConfig:{on:5,off:5,content:"",fontSize:12,color:n(159),opacity:.15,speed:.2},dynamicWatermarkConfig:{content:"",speed:.2,fontSize:12,color:n(159),opacity:.15},isDropSameTimestampGop:!1,mseDecodeAudio:!0,wcsDecodeAudio:!0,nakedFlowH265DemuxUseNew:!0,nakedFlowDemuxUseNew:!0,extendDomConfig:{html:"",showBeforePlay:!1,showAfterLoading:!0},disableContextmenu:!1,mseDecoderUseWorker:!0,openMemoryLog:!1,mainThreadFetchUseWorker:!0,playFailedAndPausedShowPlayBtn:!0,mseCorrectionTimestamp:!0,flvDemuxBufferSizeTooLargeReplay:!1,flvDemuxBufferSizeTooLargeEmitFailed:!1,flvDemuxBufferSizeMaxLarge:1048576,isCheckInView:!1,hiddenControl:!1,removeControl:!1,androidMobileFullscreenRotate:!0,recordWebMSupportSeek:!1,wasmPlayAudioUseVideoRender:!1,mseWaitVideoCanplayTimeout:6,mseWaitVideoCanplayAutoWasm:!0,zoomMaxScale:5,zoomSupportGestureInMobile:!1,zoomSupportGestureInMobileSpeed:.2,zoomSupportWheelInPc:!1,zoomSupportWheelInPcSpeed:.2,zoomCheckBorderRange:!1,drawingRectColor:n(199),drawingRectLineWidth:1,drawingRectEndRemoveDom:!0,videoSEISyncPtsDiff:.2,initShowPlayBtn:!1,playbackCheckStreamEnd:!0,autoUseSystemFullScreen:!0,playVodConfig:{showRateBtn:!1,rateConfig:[],useWCS:!1,useMSE:!0,useSIMD:!0,startTime:null},playVodForwardMaxRateDecodeIFrame:8,playVodEndedAndAutoReplay:!1,playVodEndedAndShowPlayBtn:!0,playVodMaxGopDuration:20,hotKeyVolumeStep:.05,hotKeySeekStep:5,websocketOpenTimeout:8,i18n:{},screenshotUseHighQuality:!1,requestAnimationFrameMaxDiff:800,isUseFileProtocol:!1,correctionConfigurationProfileIndication:!0,correctionConfigurationVersion:!0,demuxFlvUseV2:!1,wasmSimdFirstFrameDecodeDelayTimeout:5,streamMaxChunkSize:32768,delayFrameChasingPolicy:v.drop,delayFrameAccelerateDecodeMaxNum:8,isEmitTsPrivateData:!1,intervalUseWorker:!0,emitVideoContentClickEvent:!1,checkWebrtcLowFps:!0,checkWebrtcLowFpsDuration:5,webrtcLowFps:3,playVodMp4UseSrc:!0},L={playType:R[n(536)],playbackForwardMaxRateDecodeIFrame:R[n(436)],isMulti:R.isMulti,isM7sCrypto:R[n(661)],supportHls265:R.supportHls265,pauseAndNextPlayUseLastFrameShow:R[n(650)],replayUseLastFrameShow:R[n(205)],widthOrHeightChangeReplayDelayTime:R.widthOrHeightChangeReplayDelayTime,controlSize:R[n(329)],multiIndex:R.multiIndex,isFlv:R[n(232)],isFmp4:R[n(171)],isMpeg4:R[n(227)],isNakedFlow:R[n(649)],isHls:R.isHls,isWebrtc:R[n(490)],isWebrtcForZLM:R[n(562)],isWebrtcForSRS:R[n(473)],isWebrtcForOthers:R[n(342)],isAliyunRtc:R[n(266)],isTs:R[n(534)],ghostWatermarkConfig:R[n(327)],dynamicWatermarkConfig:R.dynamicWatermarkConfig,watermarkConfig:R[n(576)],defaultStreamQuality:R[n(209)],videoRenderSupportScale:R[n(243)],timeout:R[n(256)],loadingTimeout:R[n(513)],heartTimeout:R.heartTimeout,playVodMp4UseSrc:R[n(577)],url:"",container:"",playbackConfig:{},playVodConfig:{},fullscreenWatermarkConfig:{},playbackForwardMaxRatePlayAudio:!1,playOptions:{},isLive:!0,playFailedUseLastFrameShow:!0,playFailedAndPausedShowMessage:!0,isUseNewFullscreenWatermark:!0,websocket1006ErrorReplay:!0,websocket1006ErrorReplayDelayTime:1,streamErrorReplay:!1,streamErrorReplayDelayTime:1,streamEndReplay:!1,streamEndReplayDelayTime:1,networkDisconnectReplay:!0,loadingTimeoutRetryEndShowPlayBtn:!0,playFailedAndPausedShowPlayBtn:!1,initDecoderWorkerTimeout:10,checkIsMeaningfulRetryTimes:5,isPlayFailedAndPausedSaveLastIframeInfo:!0,playVodDecodeErrorAndStepTime:1},P={init:n(594),initVideo:n(397),render:n(274),playAudio:n(426),initAudio:"initAudio",kBps:"kBps",decode:n(540),audioCode:n(605),audioNalu:"audioNalu",audioAACSequenceHeader:"audioAACSequenceHeader",videoCode:n(656),videoCodec:"videoCodec",videoNalu:n(229),videoPayload:"videoPayload",audioPayload:n(587),wasmError:n(174),workerFetch:n(460),iframeIntervalTs:n(204),isDropping:"isDropping",workerEnd:n(328),networkDelay:n(644),playbackStreamVideoFps:n(667),wasmWidthOrHeightChange:n(602),simdDecodeError:n(640),simdH264DecodeVideoWidthIsTooLarge:n(526),simdDecodeDelayTimeout:"simdDecodeDelayTimeout",websocketOpen:n(292),websocketStringMsg:n(447),closeEnd:n(408),tempStream:"tempStream",videoSEI:n(245),flvScriptData:n(626),aacSequenceHeader:n(670),videoSequenceHeader:n(191),flvBufferData:n(484),checkFirstIFrame:n(300),mseHandle:n(566),mseFirstRenderTime:n(440),mseError:n(296),notSupportNewWasm:n(668),failedToAsynchronouslyPrepareWasm:"failedToAsynchronouslyPrepareWasm",mtStreamStats:n(287),tsError:n(201),tsPrivateData:n(226)};n(456);const x={audio:1,video:2},M={audio:8,video:9,scriptData:18},B={init:n(594),decode:n(540),audioDecode:n(464),videoDecode:n(386),initAudioCodec:n(588),initVideoCodec:n(337),close:n(284),updateConfig:n(474),resetDecode:"resetDecode",clearBuffer:n(177),resetAudioDecode:"resetAudioDecode",resetVideoDecode:n(162),fetchStream:n(308),sendWsMessage:n(472),mseUpdateVideoTimestamp:n(554),playbackIsPause:n(277),playVodFps:"playVodFps",updateForwardMaxRateDecodeIFrame:n(271)},F={fetch:n(359),destroy:n(570),destroyEnd:n(290),buffer:n(185),fetchError:"fetchError",fetchErrorWorker:n(202),fetchClose:n(628),fetchSuccess:"fetchSuccess",init:"init",bufferByteLength:n(246)},U={fetch:n(359),sendMessage:"sendMessage",destroy:n(570),destroyEnd:n(290),buffer:n(185),bufferByteLength:n(246),websocketError:n(546),websocketClose:n(611),websocketOpen:n(292),websocketStringMsg:n(447),init:n(594)},O={fullscreenInner:"fullscreen$2",fullscreen:n(396),fullScreenByStart:n(339),webFullscreen:"webFullscreen",decoderWorkerInit:n(592),play:n(632),playing:n(213),pause:n(455),mute:"mute",load:n(259),loading:"loading",zooming:n(499),drawingRect:"drawingRect",drawingRectInfo:n(282),videoInfo:n(155),timeUpdate:n(273),audioInfo:n(389),log:n(186),error:"error",kBps:n(596),timeout:n(256),delayTimeout:n(178),delayTimeoutRetryEnd:"delayTimeoutRetryEnd",loadingTimeout:n(513),loadingTimeoutRetryEnd:"loadingTimeoutRetryEnd",stats:n(506),performance:n(624),videoSmooth:n(374),faceDetectActive:n(377),objectDetectActive:n(458),occlusionDetectActive:"occlusionDetectActive",imageDetectActive:n(572),record:"record",recording:n(495),recordingTimestamp:n(461),recordStart:n(538),recordEnd:n(216),recordCreateError:n(388),recordBlob:n(417),recordCancel:n(476),buffer:n(185),videoFrame:n(343),videoSEI:n(245),videoSEISyncPts:n(376),start:n(367),startInner:n(381),metadata:n(318),resize:n(448),volumechange:n(161),volume:"volume",destroy:"destroy",beforeDestroy:n(183),streamEnd:"streamEnd",streamRate:n(445),streamAbps:"streamAbps",streamVbps:n(647),streamDts:n(669),streamSuccess:n(257),streamMessage:n(207),streamError:n(604),streamStats:n(508),streamEndInner:n(157),mseSourceOpen:n(525),mseSourceClose:"mseSourceClose",mseSourceended:"mseSourceended",mseSourceStartStreaming:"mseSourceStartStreaming",mseSourceEndStreaming:"mseSourceEndStreaming",mseSourceBufferError:n(240),mseAddSourceBufferError:n(621),mseWorkerAddSourceBufferError:n(609),mseSourceBufferBusy:n(598),mseSourceBufferFull:n(496),videoWaiting:"videoWaiting",videoTimeUpdate:n(432),videoSyncAudio:n(165),playToRenderTimes:n(221),playbackTime:n(366),playbackTimestamp:"playbackTimestamp",playbackTimeScroll:n(233),playbackPrecision:n(466),playbackShowPrecisionChange:n(498),playbackJustTime:n(614),playbackStats:"playbackStats",playbackSeek:"playbackSeek",playbackPause:n(378),playbackPauseOrResume:n(241),playbackRateChange:n(544),playbackPreRateChange:n(565),playbackEndInner:"playbackEndInner",playbackEnd:n(347),playbackEndedAndReplay:n(634),playVodStats:"playVodStats",playVodPause:n(652),playVodPauseOrResume:"playVodPauseOrResume",playVodRateChange:n(528),playVodTime:n(475),playVodBufferedTime:n(520),playVodTimeCache:"playVodTimeCache",playVodSeek:n(352),playVodSeeking:n(442),playVodSeekEnd:n(429),playVodVideoSeekingByMse:n(539),playVodVideoSeekedByMse:n(615),playVodCanplay:n(167),playVodWaiting:n(350),playVodEndedAndReplay:"playVodEndedAndReplay",playVodEnded:n(552),ptz:n(637),streamQualityChange:n(283),visibilityChange:n(418),netBuf:"netBuf",close:n(284),networkDelayTimeout:"networkDelayTimeout",togglePerformancePanel:"togglePerformancePanel",viewResizeChange:n(295),flvDemuxBufferSizeTooLarge:n(568),talkGetUserMediaSuccess:n(629),talkGetUserMediaFail:n(181),talkGetUserMediaTimeout:n(275),talkStreamStart:n(173),talkStreamOpen:n(613),talkStreamClose:n(384),talkStreamError:n(195),talkStreamInactive:n(231),talkStreamMsg:n(655),webrtcDisconnect:n(635),webrtcFailed:"webrtcFailed",webrtcClosed:n(293),webrtcChecking:"webrtcChecking",webrtcConnected:"webrtcConnected",webrtcCompleted:n(597),webrtcOnConnectionStateChange:n(404),webrtcOnIceConnectionStateChange:n(220),webrtcLowFps:"webrtcLowFps",crashLog:n(210),focus:"focus",blur:n(643),inView:n(306),visibilityHiddenTimeout:n(503),websocketOpen:n(292),websocketClose:"websocketClose",websocketError:"websocketError",websocketStringMsg:n(447),aiObjectDetectorInfo:n(582),aiFaceDetectorInfo:n(217),aiOcclusionDetectResult:n(254),aiImageDetectResult:"aiImageDetectResult",playFailedAndPaused:n(285),audioResumeState:n(346),webrtcStreamH265:n(488),flvMetaData:"flvMetaData",talkFailedAndStop:n(357),removeLoadingBgImage:n(299),memoryLog:"memoryLog",downloadMemoryLog:n(179),pressureObserverCpu:n(415),currentPts:n(459),online:n(480),offline:n(564),networkState:n(373),clickInitPlayer:n(468),audioSplitBuffer:n(509),tsPrivateData:n(226),videoRectContentClick:n(529),hls264UseOldDemuxer:"hls264UseOldDemuxer"},N={load:O[n(259)],timeUpdate:O.timeUpdate,videoInfo:O[n(155)],audioInfo:O[n(389)],error:O[n(160)],kBps:O[n(596)],start:O[n(367)],timeout:O[n(256)],loadingTimeout:O[n(513)],loadingTimeoutRetryEnd:O.loadingTimeoutRetryEnd,delayTimeout:O[n(178)],delayTimeoutRetryEnd:O.delayTimeoutRetryEnd,playFailedAndPaused:O[n(285)],fullscreen:O[n(396)],webFullscreen:O[n(557)],play:O.play,pause:O.pause,mute:O[n(238)],stats:O[n(506)],performance:O.performance,recordStart:O[n(538)],recordEnd:O[n(216)],recordBlob:O.recordBlob,recordCancel:O[n(476)],recordingTimestamp:O[n(461)],recordCreateError:O.recordCreateError,playToRenderTimes:O[n(221)],videoSmooth:O[n(374)],ptz:O.ptz,streamQualityChange:O.streamQualityChange,zooming:O[n(499)],crashLog:O[n(210)],focus:O.focus,blur:O.blur,visibilityHiddenTimeout:O[n(503)],visibilityChange:O[n(418)],websocketOpen:O[n(292)],websocketClose:O[n(611)],websocketStringMsg:O.websocketStringMsg,audioResumeState:O[n(346)],networkDelayTimeout:O[n(674)],webrtcOnConnectionStateChange:O[n(404)],webrtcOnIceConnectionStateChange:O.webrtcOnIceConnectionStateChange,videoSEI:O[n(245)],videoSEISyncPts:O.videoSEISyncPts,streamEnd:O[n(230)],flvMetaData:O[n(272)],currentPts:O.currentPts,inView:O[n(306)],networkState:O[n(373)],volume:O.volume,clickInitPlayer:O[n(468)],tsPrivateData:O[n(226)],drawingRectInfo:O[n(282)],videoRectContentClick:O[n(529)],aiObjectDetectorInfo:O[n(582)],aiFaceDetectorInfo:O[n(217)],aiOcclusionDetectResult:O[n(254)],aiImageDetectResult:O[n(477)],playbackSeek:O[n(612)],playbackStats:O[n(593)],playbackTimestamp:O[n(425)],playbackPauseOrResume:O[n(241)],playbackPreRateChange:O[n(565)],playbackRateChange:O.playbackRateChange,playbackShowPrecisionChange:O[n(498)],playbackEnd:O[n(347)],playVodEnded:O[n(552)],playVodPauseOrResume:O[n(168)],playVodRateChange:O[n(528)],playVodTime:O.playVodTime,playVodBufferedTime:O[n(520)],playVodSeek:O[n(352)],playVodSeeking:O[n(442)],playVodSeekEnd:O.playVodSeekEnd};n(384),n(231),n(275),n(655),n(259),n(273),n(389),n(160),n(596),n(367),n(256),n(513),n(482),n(178),n(505),n(238),n(506),n(292),n(611),n(285),n(346);const j={talkStreamError:O[n(195)],talkStreamClose:O.talkStreamClose},V={playError:n(176),playFailedError:n(345),fetchError:"fetchError",fetchErrorWorker:n(202),websocketError:n(546),websocketOpenTimeout:n(625),webcodecsH265NotSupport:n(665),webcodecsDecodeError:n(517),webcodecsUnsupportedConfigurationError:"webcodecsUnsupportedConfigurationError",webcodecsDecodeConfigureError:n(175),webcodecsAudioInitTimeout:n(553),webcodecsAudioNoDataTimeout:"webcodecsAudioNoDataTimeout",webcodecsAudioDecodeError:"webcodecsAudioDecodeError",mediaSourceH265NotSupport:n(446),mediaSourceAudioG711NotSupport:n(479),mediaSourceAudioInitTimeout:"mediaSourceAudioInitTimeout",mediaSourceAudioNoDataTimeout:n(560),mediaSourceDecoderConfigurationError:"mediaSourceDecoderConfigurationError",mediaSourceFull:O[n(496)],mseSourceBufferError:O.mseSourceBufferError,mseAddSourceBufferError:O[n(621)],mseWorkerAddSourceBufferError:O[n(609)],mediaSourceAppendBufferError:n(648),mediaSourceTsIsMaxDiff:n(478),mediaSourceUseCanvasRenderPlayFailed:"mediaSourceUseCanvasRenderPlayFailed",mediaSourceBufferedIsZeroError:n(212),wasmDecodeError:"wasmDecodeError",wasmUseVideoRenderError:n(303),simdH264DecodeVideoWidthIsTooLarge:n(526),simdDecodeError:n(640),simdDecodeDelayTimeout:n(531),hlsError:n(289),webrtcError:n(356),webrtcClosed:O[n(293)],webrtcIceCandidateError:"webrtcIceCandidateError",webglAlignmentError:n(251),wasmWidthOrHeightChange:n(602),mseWidthOrHeightChange:n(657),wcsWidthOrHeightChange:n(399),widthOrHeightChange:n(443),tallWebsocketClosedByError:n(252),flvDemuxBufferSizeTooLarge:O[n(568)],audioChannelError:n(307),webglContextLostError:n(288),videoElementPlayingFailed:n(608),videoElementPlayingFailedForWebrtc:n(269),decoderWorkerInitError:"decoderWorkerInitError",decoderWorkerWasmError:n(249),decoderWorkerUncaughtError:n(537),videoInfoError:n(400),streamEnd:O.streamEnd,websocket1006Error:"websocket1006Error",delayTimeout:O[n(178)],loadingTimeout:O[n(513)],networkDelayTimeout:O[n(674)],fullscreenError:n(623),aliyunRtcError:n(654),mseWaitVideoCanplayTimeout:n(603),initDecoderWorkerTimeout:n(504),notSupportNewWasm:n(668),failedToAsynchronouslyPrepareWasm:"failedToAsynchronouslyPrepareWasm",playVodMp4Error:"playVodMp4Error",playVodMp4NotMoovError:n(435),playVodMp4UseSrcError:n(547),playVodMp4UseSrcVideoError:n(487),playVodFlvError:n(437),playVodMseDecodeVideoError:n(617),playVodCalcFpsError:n(431),mp4Error:n(666),tsPacketSizeError:n(362),...j},W={notConnect:"notConnect",open:"open",close:"close",error:n(160)};n(428),n(579),n(248);const G={download:n(627),base64:"base64",blob:n(567)},z={download:"download",blob:n(567)},H={7:n(294),12:"H265(HEVC)",99:n(545)},K={h264:7,h265:12,mpeg4:99},q={h264:n(294),h265:n(321)},Y={PCM:1,AAC:10,ALAW:7,MULAW:8,MP3:2,OPUS:13,G711A:7,G711U:8,G722_1:12},Q={AAC:n(409),ALAW:n(452),MULAW:n(166),MP3:n(267)},J={10:n(409),7:n(383),8:n(310),2:n(267)},X={sps:7,pps:8,iFrame:5,kUnspecified:0,kSliceNonIDR:1,kSliceDPA:2,kSliceDPB:3,kSliceDPC:4,kSliceIDR:5,kSliceSEI:6,kSliceSPS:7,kSlicePPS:8,kSliceAUD:9,kEndOfSequence:10,kEndOfStream:11,kFiller:12,kSPSExt:13,kReserved0:14},$={pFrame:1,kSliceBLA_W_LP:16,kSliceBLA_W_RADL:17,kSliceBLA_N_LP:18,iFrame:19,kSliceIDR_W_RADL:19,nLp:20,kSliceIDR_N_LP:20,craNut:21,kSliceCRA_NUT:21,kSliceRSV_IRAP_VCL22:22,kSliceRSV_IRAP_VCL23:23,vps:32,kSliceVPS:32,sps:33,kSliceSPS:33,pps:34,kSlicePPS:34,kSliceAUD:35,sei:39,prefixSei:39,suffixSei:40},Z={full:0,auto:1,fullAuto:2};function tt(t,e){const s=bt();return(tt=function(t,e){return s[t-=155]})(t,e)}const et={webcodecs:n(370),webgl:n(170),webgl2:n(236),webgpu:"webgpu",offscreen:n(331),mse:n(180),hls:n(390),webrtc:n(675),canvas:n(255)},st={key:"key",delta:n(304)},it={avc:n(500),hvc:n(325),hev:'video/mp4; codecs="hev1.1.6.L123.b0"',hev2:n(585),hev3:n(297),hev4:'video/mp4;codecs="hev1.3.E.L120.90"',hev5:n(620)},rt={ended:n(494),open:n(200),closed:n(250)};Math[n(326)](40);const nt={esc:27,arrowUp:38,arrowDown:40,arrowLeft:37,arrowRight:39},ot={oneHour:"oneHour",halfHour:"halfHour",tenMin:"tenMin",fiveMin:n(253)},at={oneHour:"one-hour",halfHour:n(354),tenMin:n(382),fiveMin:n(489)};n(298),n(224);const ht=[n(394),n(416),"tenMin","fiveMin"],lt=["up","right",n(211),n(583),n(405),n(451),n(515),"right-down"],ct={up:"up",right:n(412),down:"down",left:"left",leftUp:n(491),leftDown:n(574),rightUp:n(385),rightDown:"rightDown",stop:"stop",fiStop:n(291),zoomExpand:n(203),zoomNarrow:n(403),apertureFar:n(392),apertureNear:n(660),focusFar:"focusFar",focusNear:"focusNear",cruiseStart:"cruiseStart",cruiseStop:n(493),fogOpen:n(430),fogClose:"fogClose",wiperOpen:"wiperOpen",wiperClose:"wiperClose"},dt=(n(387),n(424),n(671),{png:n(653),jpeg:"image/jpeg",webp:n(483)}),ut={sourceClose:n(375),sourceOpen:n(580),sourceended:n(616),startstreaming:"startstreaming",endstreaming:n(470),qualitychange:"qualitychange"},pt={canplay:n(523),waiting:n(358),timeUpdate:"timeupdate",ratechange:n(641),stalled:n(239),progress:n(338),loadedmetadata:n(270),error:"error",canplaythrough:n(486),complete:n(511),durationchange:"durationchange",emptied:n(631),ended:"ended",loadeddata:"loadeddata",loadstart:n(312),pause:n(455),play:"play",playing:n(213),seeked:n(519),seeking:n(242),suspend:"suspend",timeupdate:"timeupdate",volumechange:n(161),readystatechange:n(573)},ft={h264:n(457),h265:n(393),av1:n(471)},mt={keyframeIsRequiredError:n(518),canNotDecodeClosedCodec:"Cannot call 'decode' on a closed codec",unsupportedConfiguration:n(591),decoderFailure:n(335),decodingError:n(261),decoderError:n(559),hevcDecodingIsNotSupported:n(184)},gt={abortError:n(630),abortError2:n(164),abort:n(164)},yt={loading:"loading",playing:n(213),paused:n(421),destroy:n(570)},At={sequenceHeader:0,nalu:1},vt={keyFrame:1,interFrame:2};n(428),n(244),n(664);function bt(){const t=["Error Domain=NSOSStatusErrorDomain","offline","playbackPreRateChange","mseHandle","blob","flvDemuxBufferSizeTooLarge","wcsDecodeError","destroy","不支持该分辨率的视频","imageDetectActive","readystatechange","leftDown","3-1","watermarkConfig","playVodMp4UseSrc","multiMousemove","buffering","sourceopen","遮挡物检查激活","aiObjectDetectorInfo","left","loading",'video/mp4;codecs="hev1.1.6.L120.90"',"电子放大","audioPayload","initAudioCodec","hls-manifest-loaded","2QdCyim","Unsupported configuration","decoderWorkerInit","playbackStats","init","multiMouseup","kBps","webrtcCompleted","mseSourceBufferBusy","window","multiDragstart","人脸识别激活","wasmWidthOrHeightChange","mseWaitVideoCanplayTimeout","streamError","audioCode","decoder-pro.js","remove-buffer","videoElementPlayingFailed","mseWorkerAddSourceBufferError","解码失败","websocketClose","playbackSeek","talkStreamOpen","playbackJustTime","playVodVideoSeekedByMse","sourceended","playVodMseDecodeVideoError","解析视频分辨率失败","mouseDownAndUp",'video/mp4;codecs="hev1.4.10.L120.90"',"mseAddSourceBufferError","webrtc不支持H265","fullscreenError","performance","websocketOpenTimeout","flvScriptData","download","fetchClose","talkGetUserMediaSuccess","The user aborted a request","emptied","play","174yNAFQX","playbackEndedAndReplay","webrtcDisconnect","self","ptz","vertical","Webgl 渲染失败","simdDecodeError","ratechange","subtitle-playlist","blur","networkDelay","20251202","multiDblSelected","streamVbps","mediaSourceAppendBufferError","isNakedFlow","pauseAndNextPlayUseLastFrameShow","buffereos","playVodPause","image/png","aliyunRtcError","talkStreamMsg","videoCode","mseWidthOrHeightChange","global","object","apertureNear","isM7sCrypto","sei-in-time","wasm初始化异常","udp","webcodecsH265NotSupport","mp4Error","playbackStreamVideoFps","notSupportNewWasm","streamDts","aacSequenceHeader","pcm","MEDIA_ERR_ABORTED","m7s","networkDelayTimeout","webrtc","videoInfo","请求结束","streamEndInner","connecting","white","error","volumechange","resetVideoDecode","load-complete","AbortError","videoSyncAudio","MULAW(g711u)","playVodCanplay","playVodPauseOrResume","rtp","webgl","isFmp4","aliyunRtc","talkStreamStart","wasmError","webcodecsDecodeConfigureError","playIsNotPauseOrUrlIsNull","clearBuffer","delayTimeout","downloadMemoryLog","mse","talkGetUserMediaFail","播放超时重播失败","beforeDestroy","HEVC decoding is not supported","buffer","log","退出全屏","网络超时重播失败","webrtc-connected","default","videoSequenceHeader","playbackTF","remote-inbound-rtp","FLV","talkStreamError","初始化解码器失败","certificate","script","red","open","tsError","fetchErrorWorker","zoomExpand","iframeIntervalTs","replayUseLastFrameShow","container","streamMessage","Failed to send video packet for decoding","defaultStreamQuality","crashLog","down","mediaSourceBufferedIsZeroError","playing","created","#FFCC00","recordEnd","aiFaceDetectorInfo","video decoder initialization failed","drop","webrtcOnIceConnectionStateChange","playToRenderTimes","decoder-pro-hard.js","Webrtc","5min","3-4","tsPrivateData","isMpeg4","JessibucaPro","videoNalu","streamEnd","talkStreamInactive","isFlv","playbackTimeScroll","加载超时重播失败","webrtc-checking","webgl2","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","mute","stalled","mseSourceBufferError","playbackPauseOrResume","seeking","videoRenderSupportScale","tcp","videoSEI","bufferByteLength","outbound-rtp","full","decoderWorkerWasmError","closed","webglAlignmentError","tallWebsocketClosedByError","fiveMin","aiOcclusionDetectResult","canvas","timeout","streamSuccess","decoder-pro-audio.js","load","websocket","Decoding error","player","368820YASAmo","metadata-parsed","peer-connection","isAliyunRtc","MP3","9PVDbhL","videoElementPlayingFailedForWebrtc","loadedmetadata","updateForwardMaxRateDecodeIFrame","flvMetaData","timeUpdate","render","talkGetUserMediaTimeout","memory access out of bounds","playbackIsPause","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAIAAABKoV4MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVRYhe3NIQEAMAgAsHNLAPp3JMAFDW4wW4FFVZ0l3X237qHX6/V6vV6v1+v1er1er9frP0RmLvYPXx0DlQ6vy9kAAAAASUVORK5CYII=","warn","small","NotAllowedError","drawingRectInfo","streamQualityChange","close","playFailedAndPaused","AliyunRtc","mtStreamStats","webglContextLostError","hlsError","destroyEnd","fiStop","websocketOpen","webrtcClosed","H264(AVC)","viewResizeChange","mseError",'video/mp4;codecs="hev1.2.4.L120.90"',"10min","removeLoadingBgImage","checkFirstIFrame","webrtc-completed","codec","wasmUseVideoRenderError","delta","click","inView","audioChannelError","fetchStream","multiSelected","MULAW","jbprovm","loadstart","mseDecodeError","#000","flv","首帧解码超时","worker","metadata","switch-url-failed","初始化解码worker超时","H265(HEVC)","143CZypvy","accelerate","simd",'video/mp4; codecs="hvc1.1.6.L120.90"',"ceil","ghostWatermarkConfig","workerEnd","controlSize","flvVod","offscreen","wasm","transport","流异常","Decoder failure","load-start","initVideoCodec","progress","fullScreenByStart","Simd","active","isWebrtcForOthers","videoFrame","webgl 上下文丢失","playFailedError","audioResumeState","playbackEnd","video","sei","playVodWaiting","播放地址不能为空","playVodSeek","1299560PwaXKh","half-hour","worklet","webrtcError","talkFailedAndStop","waiting","fetch","mp4","remote-outbound-rtp","tsPacketSizeError","初始化音频解码器失败","multiMousedown","stream-parsed","playbackTime","start","webTransport","1-1","webcodecs","人脸识别","wasm解码失败","networkState","videoSmooth","sourceclose","videoSEISyncPts","faceDetectActive","playbackPause","1154118ssAgMW","multiMouseout","startInner","ten-min","ALAW","talkStreamClose","rightUp","videoDecode","g711a","recordCreateError","audioInfo","hls","playback","apertureFar","hevc","oneHour","MEDIA_ERR_SRC_NOT_SUPPORTED","fullscreen","initVideo","缓冲区已满","wcsWidthOrHeightChange","videoInfoError","multiDrop","audio packet","zoomNarrow","webrtcOnConnectionStateChange","left-up","jessibuca-pro-mp4-recorder-decoder.js","mp4Vod","closeEnd","AAC","talk","物品识别","right","mp3","hls-level-loaded","pressureObserverCpu","halfHour","recordBlob","visibilityChange","debug","decoder-pro-audio-player.js","paused","流异常结束","csrc","g711u","playbackTimestamp","playAudio","#343434","empty","playVodSeekEnd","fogOpen","playVodCalcFpsError","videoTimeUpdate","media-source","TS流包大小异常","playVodMp4NotMoovError","playbackForwardMaxRateDecodeIFrame","playVodFlvError","MEDIA_ERR_DECODE","168230dtmeOG","mseFirstRenderTime","23170eJPQzb","playVodSeeking","widthOrHeightChange","FSimd","streamRate","mediaSourceH265NotSupport","websocketStringMsg","resize","idle","webrtc-closed","right-up","ALAW(g711a)","file","normal","pause","Invalid NAL unit size","avc","objectDetectActive","currentPts","workerFetch","recordingTimestamp","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C(wasm%E5%86%85%E9%83%A8%E4%BC%9A%E6%9A%82%E5%81%9C%E8%A7%A3%E7%A0%81)%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","关闭电子放大","audioDecode","switch-url-success","playbackPrecision","play() failed because the user didn't interact with the document first","clickInitPlayer","browser","endstreaming","av1","sendWsMessage","isWebrtcForSRS","updateConfig","playVodTime","recordCancel","aiImageDetectResult","mediaSourceTsIsMaxDiff","mediaSourceAudioG711NotSupport","online","820004qeXUrL","loadingTimeoutRetryEnd","image/webp","flvBufferData","webrtc-disconnected","canplaythrough","playVodMp4UseSrcVideoError","webrtcStreamH265","five-min","isWebrtc","leftUp","alaw","cruiseStop","ended","recording","mseSourceBufferFull","multiDragenter","playbackShowPrecisionChange","zooming",'video/mp4; codecs="avc1.64002A"',"webm","decoder-pro-hard-not-wasm.js","visibilityHiddenTimeout","initDecoderWorkerTimeout","delayTimeoutRetryEnd","stats","simdFFmpeg","streamStats","audioSplitBuffer","data-channel","complete","点播FLV文件异常","loadingTimeout","点播MP4文件格式异常","left-down","请求失败","webcodecsDecodeError","A key frame is required after configure() or flush()","seeked","playVodBufferedTime","音频通道错误","I420","canplay","video自动渲染失败","mseSourceOpen","simdH264DecodeVideoWidthIsTooLarge","保存日志","playVodRateChange","videoRectContentClick","stream","simdDecodeDelayTimeout","inbound-rtp","51239BYTZvy","isTs","wcs","playType","decoderWorkerUncaughtError","recordStart","playVodVideoSeekingByMse","decode","flv-script-data","playVod","点播MP4文件异常","playbackRateChange","MPEG4","websocketError","playVodMp4UseSrcError","decoder-pro-old.js","playerAudio","M7S","track","playVodEnded","webcodecsAudioInitTimeout","mseUpdateVideoTimestamp","不支持硬解码H265","等待音频数据超时","webFullscreen","video decode error","Decoder error","mediaSourceAudioNoDataTimeout","sourcebuffer-created","isWebrtcForZLM"];return(bt=function(){return t})()}n(391),n(200),n(284),n(160);n(355),n(198);n(387),n(169),n(244),n(279),n(355);const St={worklet:n(355),script:n(198),active:n(341)},Et={name:"",index:0,icon:"",iconHover:"",iconTitle:"",activeIcon:"",activeIconHover:"",activeIconTitle:"",click:null,activeClick:null},wt={content:"",click:null,index:0};n(427),n(215),n(314),n(646),n(309),n(380),n(595),n(364),n(578),n(600),n(497),n(401),n(575),n(369),n(225),n(206),n(348);const Tt={keyFrame:1,interFrame:2};n(549),n(279),n(359),n(315),n(420);const It={SUBTITLE_SEGMENTS:"subtitle-segments",HLS_MANIFEST_LOADED:n(589),HLS_LEVEL_LOADED:n(414),DEMUXED_TRACK:"demuxed-track",FLV_SCRIPT_DATA:n(541),METADATA_PARSED:n(264),TTFB:"ttfb",LOAD_RETRY:"load-retry",LOAD_START:n(336),SPEED:"speed",LOAD_COMPLETE:n(163),LOAD_RESPONSE_HEADERS:"load-response-headers",SEI:n(349),SEI_IN_TIME:n(662),NO_AUDIO_TRACK:"no-audio-track",REMOVE_BUFFER:n(607),BUFFEREOS:n(651),SOURCEBUFFER_CREATED:n(561),SWITCH_URL_FAILED:n(319),SWITCH_URL_SUCCESS:n(465),SUBTITLE_PLAYLIST:n(642),STREAM_PARSED:n(365),ERROR:n(160)},kt=[0,160,240,320,480,640],_t=[0,160,240,320,480,640],Ct=["轻松","正常","较高","高"],Dt={idle:n(449),connecting:n(158),buffering:n(579),error:n(160),complete:"complete"},Rt={1:n(672),2:"MEDIA_ERR_NETWORK",3:n(438),4:n(395)},Lt={videoDecoderInitializationFailed:n(218),audioDecoderError:n(402),notSupportAudioFormat:"Unsupported audio format",playFailedBecauseNotNotInteractWithTheDocumentFirst:n(467),videoDecodeError:n(558),videoNSOSStatusErrorDomainError:n(563),failedToSendVideoPacketForDecoding:n(208)};n(281);const Pt={memoryAccessOutOfBounds:n(276)},xt={video:1,audio:2},Mt={PACKET_TYPE_SEQ_START:0,PACKET_TYPE_FRAMES:1,PACKET_TYPE_SEQ_END:2,PACKET_TYPE_FRAMESX:3,PACKET_TYPE_METADATA:4},Bt={FT_KEY:16,FT_INTER:32},Ft={CandidatePair:"candidate-pair",Certificate:n(197),Codec:n(302),Csrc:n(423),DataCahnnel:n(510),InboundRtp:n(532),LocalCandidate:"local-candidate",OutboundRtp:n(247),PeerConnection:n(265),Receiver:"receiver",RemoteCandidate:"remote-candidate",RemoteInboundRtp:n(193),RemoteOutboundRtp:n(361),Sender:"sender",Stream:n(530),Track:n(551),Transport:n(333),MediaSource:n(433)},Ut=9e4,Ot=45e4,Nt=9e4,jt={ws1006:"ws1006",mseDecodeError:n(313),wcsDecodeError:n(569),streamError:n(604)},Vt={StartCodePS:442,StartCodeSYS:443,StartCodeMAP:444,StartCodeVideo:480,StartCodeAudio:448,PrivateStreamCode:445,MEPGProgramEndCode:441},Wt={h264:27,h265:36,aac:15,g711a:144,g711u:145,mp3:3},Gt={map:1048576,video:10485760,audio:1048576,skip:1048576},zt={ulaw:"ulaw",alaw:n(492),mp3:n(413),opus:"opus"},Ht=48e3;n(235),n(189),n(301),n(485),n(450);const Kt={created:n(214),loading:n(584),playing:"playing"},qt="object"==typeof window&&window[n(599)]===window?window:"object"==typeof self&&self[n(636)]===self?self:typeof global===n(659)&&global[n(658)]===global?global:void 0,Yt={error:n(160)},Qt={play:"播放",pause:"暂停",audio:"",mute:"",screenshot:"截图",loading:"",fullscreen:"全屏",fullscreenExit:n(187),record:"录制",recordStop:"停止录制",narrow:"缩小",expand:"放大",ptz:"云台",ptzActive:"云台激活",zoom:n(586),zoomStop:n(463),close:"关闭",performance:"性能面板",performanceActive:"性能面板激活",face:n(371),faceActive:n(601),object:n(411),objectActive:"物品识别激活",occlusion:"遮挡物检查",occlusionActive:n(581),logSave:n(527)},Jt={wasm:"Wasm",simd:n(340),fSimd:n(444)},Xt=n(237),$t=n(462);function Zt(t,e){const s=te();return(Zt=function(t,e){return s[t-=105]})(t,e)}function te(){const t=["241608LDZomf","length","5537504pxhWBk","18fmoNul","2DuWGzV","187930dCgoqR","1062792TlgrGR","307115VjsyoR","[✅✅✅][","warn","debug","error","debugUuid","debugLevel","JbPro","log","3444112pvXlGm","50bpCXUE","126306AmjPEX","[❌❌❌][","_opt","[❗❗❗]["];return(te=function(){return t})()}!function(t,e){const s=Zt,i=t();for(;;)try{if(407895===-parseInt(s(105))/1+-parseInt(s(124))/2*(parseInt(s(116))/3)+-parseInt(s(120))/4*(parseInt(s(115))/5)+parseInt(s(126))/6+parseInt(s(122))/7+parseInt(s(114))/8+-parseInt(s(123))/9*(parseInt(s(125))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(te);class ee{constructor(t){const e=Zt;this[e(113)]=function(s){const i=e;if(t[i(118)].debugLevel==m[i(108)]){const e=t[i(118)][i(110)]?"["+t[i(118)][i(110)]+"]":"";for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console[i(113)](i(112)+e+i(106)+s+"]",...n)}},this[e(107)]=function(s){const i=e;if(t[i(118)][i(111)]==m[i(108)]||t[i(118)][i(111)]==m[i(107)]){const e=t[i(118)].debugUuid?"["+t._opt[i(110)]+"]":"";for(var r=arguments[i(121)],n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console.log(i(112)+e+i(119)+s+"]",...n)}},this[e(109)]=function(s){const i=e,r=t[i(118)][i(110)]?"["+t[i(118)][i(110)]+"]":"";for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];console[i(109)](i(112)+r+i(117)+s+"]",...o)}}}var se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ie(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function re(t,e){return t(e={exports:{}},e.exports),e.exports}var ne=Object.freeze({__proto__:null,commonjsGlobal:se,commonjsRequire:ie,unwrapExports:function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t},createCommonjsModule:re,getCjsExportFromNamespace:function(t){return t&&t.default||t}}),oe=ae;function ae(t,e){var s=le();return(ae=function(t,e){return s[t-=234]})(t,e)}!function(t,e){for(var s=ae,i=t();;)try{if(577429===-parseInt(s(244))/1+-parseInt(s(251))/2+-parseInt(s(262))/3+parseInt(s(239))/4*(-parseInt(s(234))/5)+parseInt(s(264))/6*(parseInt(s(260))/7)+-parseInt(s(235))/8+parseInt(s(282))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(le);var he=ne[oe(277)]((function(t){var e,s,i,r,n,o;e=ae,s=typeof window!==e(249)&&void 0!==window[e(284)]?window[e(284)]:{},i="undefined"!==e(261)&&t[e(246)],r=function(){for(var t,i=e,r=[["requestFullscreen",i(268),i(269),i(271),i(241),i(238)],["webkitRequestFullscreen",i(278),i(258),i(273),i(248),i(283)],[i(255),i(265),i(247),i(265),i(248),"webkitfullscreenerror"],[i(281),i(263),"mozFullScreenElement",i(266),"mozfullscreenchange",i(259)],[i(272),i(280),i(253),i(252),i(256),"MSFullscreenError"]],n=0,o=r.length,a={};n<o;n++)if((t=r[n])&&t[1]in s){for(n=0;n<t[i(270)];n++)a[r[0][n]]=t[n];return a}return!1}(),n={change:r[e(241)],error:r.fullscreenerror},o={request:function(t,i){return new Promise(function(e,n){var o=ae,a=function(){var t=ae;this.off(t(242),a),e()}[o(240)](this);this.on("change",a);var h=(t=t||s[o(250)])[r.requestFullscreen](i);h instanceof Promise&&h[o(274)](a)[o(237)](n)}[e(240)](this))},exit:function(){return new Promise(function(t,e){var i=ae;if(this[i(257)]){var n=function(){var e=i;this[e(236)](e(242),n),t()}[i(240)](this);this.on("change",n);var o=s[r.exitFullscreen]();o instanceof Promise&&o.then(n)[i(237)](e)}else t()}.bind(this))},toggle:function(t,s){var i=e;return this[i(257)]?this[i(275)]():this[i(267)](t,s)},onchange:function(t){var s=e;this.on(s(242),t)},onerror:function(t){var s=e;this.on(s(254),t)},on:function(t,i){var r=n[t];r&&s[e(245)](r,i,!1)},off:function(t,e){var i=n[t];i&&s.removeEventListener(i,e,!1)},raw:r},r?(Object[e(276)](o,{isFullscreen:{get:function(){return Boolean(s[r[e(269)]])}},element:{enumerable:!0,get:function(){return s[r[e(269)]]}},isEnabled:{enumerable:!0,get:function(){return Boolean(s[r[e(271)]])}}}),i?t[e(246)]=o:window[e(279)]=o):i?t[e(246)]={isEnabled:!1}:window[e(279)]={isEnabled:!1}}));function le(){var t=["change","isEnabled","576915RkalzJ","addEventListener","exports","webkitCurrentFullScreenElement","webkitfullscreenchange","undefined","documentElement","1570510fbGJTd","msFullscreenEnabled","msFullscreenElement","error","webkitRequestFullScreen","MSFullscreenChange","isFullscreen","webkitFullscreenElement","mozfullscreenerror","42cdfLGv","object","338721vkCymt","mozCancelFullScreen","260346okezCf","webkitCancelFullScreen","mozFullScreenEnabled","request","exitFullscreen","fullscreenElement","length","fullscreenEnabled","msRequestFullscreen","webkitFullscreenEnabled","then","exit","defineProperties","createCommonjsModule","webkitExitFullscreen","screenfull","msExitFullscreen","mozRequestFullScreen","25539201lkCGvJ","webkitfullscreenerror","document","50bOVXKu","7605112UJpOjR","off","catch","fullscreenerror","37956LDGwGm","bind","fullscreenchange"];return(le=function(){return t})()}he[oe(243)];const ce=de;function de(t,e){const s=pe();return(de=function(t,e){return s[t-=493]})(t,e)}!function(t,e){const s=de,i=t();for(;;)try{if(165873===-parseInt(s(512))/1+-parseInt(s(503))/2*(-parseInt(s(523))/3)+-parseInt(s(515))/4*(-parseInt(s(520))/5)+parseInt(s(494))/6+parseInt(s(507))/7+-parseInt(s(517))/8+parseInt(s(501))/9*(-parseInt(s(498))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pe);class ue{constructor(t){const e=de;this[e(495)]=t,this._buffer_index=0,this._total_bytes=t[e(518)],this[e(500)]=8*t[e(518)],this._current_word=0,this[e(506)]=0}[ce(499)](){this[ce(495)]=null}[ce(519)](){const t=ce;let e=this[t(516)]-this[t(502)];if(e<=0)return void console[t(496)](t(493),this[t(516)],this._buffer_index);let s=Math[t(521)](4,e),i=new Uint8Array(4);i[t(505)](this._buffer.subarray(this[t(502)],this[t(502)]+s)),this[t(522)]=new DataView(i[t(510)])[t(514)](0,!1),this[t(502)]+=s,this[t(506)]=8*s}[ce(511)](t){const e=ce;if(t>32&&console.error("ExpGolomb: readBits() bits exceeded max 32bits!"),t<=this[e(506)]){let s=this[e(522)]>>>32-t;return this[e(522)]<<=t,this[e(506)]-=t,s}let s=this._current_word_bits_left?this[e(522)]:0;s>>>=32-this._current_word_bits_left;let i=t-this[e(506)];this[e(519)]();let r=Math[e(521)](i,this[e(506)]),n=this._current_word>>>32-r;return this._current_word<<=r,this[e(506)]-=r,s=s<<r|n,s}[ce(509)](){return 1===this[ce(511)](1)}[ce(513)](){return this[ce(511)](8)}[ce(508)](){const t=ce;let e;for(e=0;e<this[t(506)];e++)if(0!=(this[t(522)]&2147483648>>>e))return this[t(522)]<<=e,this[t(506)]-=e,e;return this[t(519)](),e+this[t(508)]()}[ce(497)](){let t=this[ce(508)]();return this.readBits(t+1)-1}[ce(504)](){let t=this[ce(497)]();return 1&t?t+1>>>1:-1*(t>>>1)}}function pe(){const t=["ExpGolomb: _fillCurrentWord() but no bytes available","140916APFkMp","_buffer","error","readUEG","50MnoSJL","destroy","_total_bits","156951XUcRMK","_buffer_index","16014EqlYfg","readSEG","set","_current_word_bits_left","288659kzuCCn","_skipLeadingZero","readBool","buffer","readBits","177843wdmdWP","readByte","getUint32","10196UFbrdo","_total_bytes","1243704ROfahD","byteLength","_fillCurrentWord","395OmOgHn","min","_current_word","120wmYpUm"];return(pe=function(){return t})()}const fe=Le;!function(t,e){const s=Le,i=t();for(;;)try{if(647416===parseInt(s(397))/1+parseInt(s(390))/2+parseInt(s(365))/3*(-parseInt(s(387))/4)+-parseInt(s(406))/5*(parseInt(s(382))/6)+parseInt(s(417))/7*(-parseInt(s(363))/8)+-parseInt(s(411))/9*(parseInt(s(401))/10)+-parseInt(s(429))/11*(-parseInt(s(396))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ke);const me=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1],ge=me,ye=me;function Ae(t){let{profile:e,sampleRate:s,channel:i}=t;return new Uint8Array([175,0,e<<3|(14&s)>>1,(1&s)<<7|i<<3])}function ve(t){const e=Le,s=new Uint8Array(t[e(364)]+2);return s[e(384)]([175,1],0),s.set(t,2),s}function be(t){const e=Le;return Se(t)&&t[1]===At[e(368)]}function Se(t){return t[0]>>4===Y.AAC}function Ee(t,e){if(t===Le(423)){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}function we(t){const e=Le;let s=arguments[e(364)]>1&&void 0!==arguments[1]?arguments[1]:9e4;return 1024*s/t}function Te(t,e){const s=Le,i=t[s(364)];let r=0;for(;r+2<i&&(255!==t[r]||240!=(246&t[r+1]));)r++;if(r>=i)return;const n=r,o=[],a=(60&t[r+2])>>>2,h=me[a];if(!h)throw new Error("Invalid sampling index: "+a);const l=1+((192&t[r+2])>>>6),c=(1&t[r+2])<<2|(192&t[r+3])>>>6;let d,u,p=0;const f=we(h);for(;r+7<i;)if(255===t[r]&&240==(246&t[r+1])){if(u=(3&t[r+3])<<11|t[r+4]<<3|(224&t[r+5])>>5,i-r<u)break;d=2*(1&~t[r+1]),o[s(361)]({pts:e+p*f,data:t[s(375)](r+7+d,r+u)}),p++,r+=u}else r++;return{skip:n,remaining:r>=i?void 0:t[s(375)](r),frames:o,samplingFrequencyIndex:a,sampleRate:h,objectType:l,channelCount:c,originCodec:s(372)+l}}const Ie=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];function ke(){const t=["Flv: AAC invalid channel configuration","readNextAACFrame","6SjkmWb","error","set","more than 2 numProgram Not Supported","channel: ","4TOCKaD","destroy","byteLength","1512444mMyZDH","slice","channel_config","Could not found ADTS syncword until payload end","sampling_freq_index","bufpos","17804136BOXnrQ","612492AdfFfH","indexOf","audio_object_type","other_data_present","1108420OqmCYP","userAgent","has_last_incomplete_data","hasIncompleteData","frameLengthType = ","2483285upzmPI","iserro","sbr","data_","object_type","36ROchyf","sample_rate","allStreamsSameTimeFraming zero is Not Supported","readBits","readByte","sampling_index","455399HCtniz","android","chan_config","bufoff","current_syncword_offset_","sampling_frequency","mp4a.40.2","findNextSyncwordOffset","audioMuxVersionA is Not Supported","more than 2 numLayer Not Supported","profile: ","sampleRate: ","11NlrLtJ","readBool","unshift","push","log","8haYpKJ","length","3599682FqCtzP","read","aacEncoderConfigurationRecord","sequenceHeader","eof_flag_","Flv: AAC invalid sampling frequency index!","more than 2 numSubFrames Not Supported","mp4a.40.","ext_object_type","channels","subarray","navigator","buflen","getLATMValue",". Only frameLengthType = 0 Supported"];return(ke=function(){return t})()}function _e(t){const e=Le;let s=new Uint8Array(t),i=null,r=0,n=0,o=0,a=null;if(r=n=s[0]>>>3,o=(7&s[0])<<1|s[1]>>>7,o<0||o>=Ie.length)return void console.error(e(370));let h=Ie[o],l=(120&s[1])>>>3;if(l<0||l>=8)return void console[e(362)](e(380));5===r&&(a=(7&s[1])<<1|s[2]>>>7,s[2]);let c=qt[e(376)][e(402)].toLowerCase();return-1!==c[e(398)]("firefox")?o>=6?(r=5,i=new Array(4),a=o-3):(r=2,i=new Array(2),a=o):-1!==c[e(398)](e(418))?(r=2,i=new Array(2),a=o):(r=5,a=o,i=new Array(4),o>=6?a=o-3:1===l&&(r=2,i=new Array(2),a=o)),i[0]=r<<3,i[0]|=(15&o)>>>1,i[1]=(15&o)<<7,i[1]|=(15&l)<<3,5===r&&(i[1]|=(15&a)>>>1,i[2]=(1&a)<<7,i[2]|=8,i[3]=0),{audioType:"aac",config:i,sampleRate:h,channelCount:l,objectType:r,codec:"mp4a.40."+r,originalCodec:"mp4a.40."+n}}class Ce{constructor(t){const e=Le;this.buffer=t,this[e(377)]=t.length,this[e(395)]=0,this.bufoff=0,this[e(407)]=!1}[fe(366)](t){const e=fe;let s=0,i=0;for(;t;){if(t<0||this.bufpos>=this[e(377)])return this[e(407)]=!0,0;this[e(407)]=!1,i=this[e(420)]+t>8?8-this[e(420)]:t,s<<=i,s+=this.buffer[this.bufpos]>>8-this[e(420)]-i&255>>8-i,this.bufoff+=i,t-=i,8==this[e(420)]&&(this[e(395)]++,this[e(420)]=0)}return s}look(t){const e=fe;let s=this.bufpos,i=this[e(420)],r=this.read(t);return this[e(395)]=s,this.bufoff=i,r}read_golomb(){const t=fe;let e;for(e=0;0==this[t(366)](1)&&!this[t(407)];e++);return(1<<e)+this[t(366)](e)-1}}function De(t){const e=fe;let s=t[e(366)](5);return 31===s&&(s=t[e(366)](6)+32),s}function Re(t,e){const s=fe;return e.sampling_index=t[s(366)](4),15==e[s(416)]?t.read(24):Pe[e.sampling_index]}function Le(t,e){const s=ke();return(Le=function(t,e){return s[t-=359]})(t,e)}const Pe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,0,0,0],xe=[0,1,2,3,4,5,6,8];class Me{constructor(t){const e=fe;this[e(409)]=t,this[e(369)]=!1,this[e(421)]=this[e(424)](0),this[e(369)]&&console[e(383)](e(393))}[fe(424)](t){const e=fe;let s=t,i=this[e(409)];for(;;){if(s+7>=i[e(389)])return this[e(369)]=!0,i.byteLength;if(4095===(i[s+0]<<8|i[s+1])>>>4)return s;s++}}[fe(381)](){const t=fe;let e=this[t(409)],s=null;for(;null==s&&!this[t(369)];){let i=this[t(421)],r=(8&e[i+1])>>>3,n=(6&e[i+1])>>>1,o=1&e[i+1],a=(192&e[i+2])>>>6,h=(60&e[i+2])>>>2,l=(1&e[i+2])<<2|(192&e[i+3])>>>6,c=(3&e[i+3])<<11|e[i+4]<<3|(224&e[i+5])>>>5;if(e[i+6],i+c>this.data_[t(389)]){this.eof_flag_=!0,this[t(403)]=!0;break}let d=1===o?7:9,u=c-d;i+=d;let p=this[t(424)](i+u);if(this[t(421)]=p,0!==r&&1!==r||0!==n)continue;let f=e.subarray(i,i+u);s={},s.audio_object_type=a+1,s.sampling_freq_index=h,s[t(422)]=ge[h],s[t(392)]=l,s.data=f}return s}[fe(404)](){return this.has_last_incomplete_data}getIncompleteData(){const t=fe;return this[t(403)]?this.data_[t(375)](this[t(421)]):null}}class Be{constructor(t){const e=fe;this[e(409)]=t,this[e(369)]=!1,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&console[e(383)](e(393))}[fe(424)](t){const e=fe;let s=t,i=this.data_;for(;;){if(s+1>=i[e(389)])return this.eof_flag_=!0,i[e(389)];if(695===(i[s+0]<<3|i[s+1]>>>5))return s;s++}}getLATMValue(t){const e=fe;let s=t[e(414)](2),i=0;for(let r=0;r<=s;r++)i<<=8,i|=t[e(415)]();return i}readNextAACFrame(t){const e=fe;let s=this.data_,i=null;for(;null==i&&!this[e(369)];){let r=this[e(421)],n=(31&s[r+1])<<8|s[r+2];if(r+3+n>=this[e(409)][e(389)]){this.eof_flag_=!0,this[e(403)]=!0;break}let o=new ue(s[e(375)](r+3,r+3+n)),a=null;if(o.readBool()){if(null==t){console.warn("StreamMuxConfig Missing"),this.current_syncword_offset_=this[e(424)](r+3+n),o[e(388)]();continue}a=t}else{let t=o[e(359)]();if(t&&o[e(359)]()){console[e(383)](e(425)),o[e(388)]();break}if(t&&this[e(378)](o),!o.readBool()){console[e(383)](e(413)),o[e(388)]();break}if(0!==o.readBits(6)){console.error(e(371)),o[e(388)]();break}if(0!==o[e(414)](4)){console[e(383)](e(385)),o[e(388)]();break}if(0!==o.readBits(3)){console[e(383)](e(426)),o.destroy();break}let s=t?this[e(378)](o):0,i=o[e(414)](5);s-=5;let r=o[e(414)](4);s-=4;let n=o.readBits(4);s-=4,o[e(414)](3),s-=3,s>0&&o.readBits(s);let h=o[e(414)](3);if(0!==h){console.error(e(405)+h+e(379)),o[e(388)]();break}o[e(415)]();let l=o[e(359)]();if(l)if(t)this[e(378)](o);else{let t=0;for(;;){t<<=8;let s=o[e(359)]();if(t+=o[e(415)](),!s)break}console[e(362)](t)}o[e(359)]()&&o.readByte(),a={},a[e(399)]=i,a.sampling_freq_index=r,a[e(422)]=ge[a[e(394)]],a[e(392)]=n,a[e(400)]=l}let h=0;for(;;){let t=o[e(415)]();if(h+=t,255!==t)break}let l=new Uint8Array(h);for(let t=0;t<h;t++)l[t]=o.readByte();i={},i[e(399)]=a.audio_object_type,i[e(394)]=a[e(394)],i[e(422)]=ge[a[e(394)]],i[e(392)]=a[e(392)],i[e(400)]=a.other_data_present,i.data=l,this.current_syncword_offset_=this[e(424)](r+3+n)}return i}hasIncompleteData(){return this[fe(403)]}getIncompleteData(){const t=fe;return this[t(403)]?this[t(409)][t(375)](this[t(421)]):null}}function Fe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(t[e]<<24>>>0)+(t[e+1]<<16)+(t[e+2]<<8)+(t[e+3]||0)}function Ue(t){const e=Oe,s=t[e(472)];let i=2,r=0;for(;null!==t[i]&&void 0!==t[i]&&1!==t[i];)i++;if(i++,r=i+2,r>=s)return[];const n=[];for(;r<s;)switch(t[r]){case 0:if(0!==t[r-1]){r+=2;break}if(0!==t[r-2]){r++;break}i!==r-2&&n[e(478)](t.subarray(i,r-2));do{r++}while(1!==t[r]&&r<s);i=r+1,r=i+2;break;case 1:if(0!==t[r-1]||0!==t[r-2]){r+=3;break}i!==r-2&&n[e(478)](t[e(464)](i,r-2)),i=r+1,r=i+2;break;default:r+=3}return i<s&&n[e(478)](t[e(464)](i)),n}function Oe(t,e){const s=Ne();return(Oe=function(t,e){return s[t-=463]})(t,e)}function Ne(){const t=["1785574VzelLr","padStart","push","1385phXYuZ","slice","shift","10751148gNwVOL","30VHPMDv","toString","set","data","error","subarray","setUint32","buffer","11992EzYgpK","825798GYvdUf","33084Giflxx","byteLength","2584GyYixh","length","312KlrnrO","10841juOdxy","2306975cdWTaM"];return(Ne=function(){return t})()}function je(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(t.length<4)return[];const s=t.length,i=[];let r,n=0;for(;n+e<s;)if(r=Fe(t,n),3===e&&(r>>>=8),n+=e,r){if(n+r>s)break;i.push(t.subarray(n,n+r)),n+=r}return i}function Ve(t){const e=Oe,s=t.byteLength,i=[];let r=1;for(;r<s-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(i[e(478)](r+2),r+=2):r++;if(!i[e(472)])return t;const n=s-i[e(472)],o=new Uint8Array(n);let a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i[e(481)]()),o[r]=t[a];return o}function We(t){const e=Oe;let s=arguments[e(472)]>1&&void 0!==arguments[1]&&arguments[1];const i=t[e(472)];let r=s?2:1,n=0,o=0,a="";for(;255===t[r];)n+=255,r++;for(n+=t[r++];255===t[r];)o+=255,r++;if(o+=t[r++],5===n&&i>r+16)for(let s=0;s<16;s++)a+=t[r][e(484)](16)[e(477)](2,"0"),r++;return{payload:t[e(464)](r),type:n,size:o,uuid:a}}function Ge(t){const e=Oe,s=t[e(470)],i=new Uint8Array(4);i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s;const r=new Uint8Array(s+4);return r[e(485)](i,0),r[e(485)](t,4),r}!function(t,e){const s=Oe,i=t();for(;;)try{if(905599===parseInt(s(474))/1*(parseInt(s(473))/2)+parseInt(s(468))/3+-parseInt(s(467))/4*(parseInt(s(479))/5)+-parseInt(s(482))/6+-parseInt(s(476))/7+-parseInt(s(471))/8*(-parseInt(s(469))/9)+parseInt(s(483))/10*(parseInt(s(475))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ne);const ze=Qe;function He(){}function Ke(t){const e=Qe;let s=null;const i=[e(673),e(574),e(658),"webkit-3d"];let r=0;for(;!s&&r<i[e(569)];){const n=i[r];try{let e={preserveDrawingBuffer:!0};s=t.getContext(n,e)}catch(t){console.error(t),s=null}(!s||"function"!=typeof s[e(813)])&&(s=null),++r}return s}function qe(t){const e=Qe;let s=null;return s=t[e(799)](e(581)),s}function Ye(){const t=Qe;let e=arguments[t(569)]>0&&void 0!==arguments[0]?arguments[0]:"";const s=e[t(802)](","),i=atob(s[1]),r=s[0][t(752)](t(826),"").replace(";base64","");let n=i[t(569)],o=new Uint8Array(n);for(;n--;)o[n]=i[t(641)](n);return new File([o],t(801),{type:r})}function Qe(t,e){const s=os();return(Qe=function(t,e){return s[t-=496]})(t,e)}function Je(){return Date[Qe(546)]()}function Xe(t,e,s){const i=Qe;return Math[i(725)](Math[i(625)](t,Math[i(725)](e,s)),Math[i(625)](e,s))}function $e(t,e,s){const i=Qe;if(t)return typeof e===i(698)&&Object[i(850)](e)[i(570)]((s=>{$e(t,s,e[s])})),t[i(645)][e]=s,t}function Ze(t,e){const s=Qe;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)return 0;const r=getComputedStyle(t,null)[s(566)](e);return i?parseFloat(r):r}function ts(){const t=Qe;return performance&&typeof performance.now===t(628)?performance[t(546)]():Date[t(546)]()}function es(t){let e=0,s=ts();return i=>{if(!ws(i))return;e+=i;const r=ts(),n=r-s;n>=1e3&&(t(e/n*1e3),s=r,e=0)}}!function(t,e){const s=Qe,i=t();for(;;)try{if(991752===parseInt(s(751))/1*(parseInt(s(834))/2)+parseInt(s(550))/3*(parseInt(s(712))/4)+parseInt(s(614))/5+parseInt(s(604))/6*(parseInt(s(724))/7)+parseInt(s(702))/8+parseInt(s(529))/9*(-parseInt(s(565))/10)+parseInt(s(828))/11*(-parseInt(s(590))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(os),(()=>{const t=Qe;try{if(typeof WebAssembly===t(698)&&typeof WebAssembly[t(609)]===t(628)){const e=new(WebAssembly[t(733)])(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly[t(733)])return new(WebAssembly[t(713)])(e)instanceof WebAssembly[t(713)]}}catch(t){}})();const ss=ze(777),is=ze(530),rs=ze(608);ze(554),ze(777);const ns=ss===ze(771);function os(){const t=["forEach","requestVideoFrameCallback","lineWidth","hev1.1.6.L120.90","experimental-webgl","initEvent","height","reduce","nLp","sequenceHeader","target","webgl2","clientY","sps","readAsArrayBuffer","join","createObjectURL","charAt","borderStyle","touches","32446320qOScDF","innerHTML","removeAttribute",'video/mp4; codecs="',"isView","Bytes","isEnabled","contain","Anonymous","performance","start","toLowerCase","[object DOMException]","font","390Zzzpmr","true","download","connect",'"7-1-2025"',"instantiate","fromCharCode","toFixed","validate","opacity","4961035MkWPaL","isConfigSupported","toDataURL","content","KB/s","putImageData","setInt8","VideoEncoder.isConfigSupported is not a function","keyFrame","children","getImageData","min","f32-planar","onerror","function","strokeStyle","html","match","URL","documentElement","save","substr","mouseup","assign","mimeTypes","container","WebGL2RenderingContext","charCodeAt","repeat","getMonth","string","style","wcsDecodeAudio","canvas","green yuv","protocol","win64","useOffscreen","userAgent","getUserMedia","hour","quality","useMThreading","numberOfFrames","moz-webgl","QQBrowser","undefined","copyToChannel","color","9999999","setAttribute","xSpace","AAC","not compiled with thread support, using thread emulation","setInt32","canConstructInDedicatedWorker","div","application/asx","setUint8","webgl","-moz-user-select","If you want to help, upload a sample of this file to","msGetUserMedia","getDay","removeChild","YB/s","360EE","setHours","mousedown","push","VideoFrame","visibility","sampleRate","MediaSource","then","100%","getTime","width","Opera","localhost","audioWorklet","wheel","display","scrollTop","object","VideoEncoder.isConfigSupported() result is not supported","360","ActiveXObject","15575872fgafWK","useSIMD","mseDecodeAudio","craNut","block","text","imageSmoothingEnabled","Worker","right","createElement","5776412PbhutL","Instance","stringify","MULAW","ManagedMediaSource","PB/s","substring","isFFmpegSIMD","createImageBitmap","image","MediaStreamTrackGenerator","mousemove","81879SJUSVj","max","kSliceRSV_IRAP_VCL23","application/vnd.chromium.remoting-viewer","kSliceBLA_W_LP","QHBrowser","getUint8","pageX","xxxx","Module","touchend","getSeconds","ySpace","QihooBrowser","VideoDecoder","round","useMSE","getHours","webm","destination","close","px 宋体","PressureObserver","createBuffer","srcElement","rect","search","19395RegKou","replace","avc1.","shadowRoot","RIFF","not compiled with thread support","edg","toUpperCase","click","insertBefore","apply","application/mozilla-npqihooquicklogin","set","demuxUseWorker","showModalDialog","body","setInt16","pps","log","scrollLeft",'"delaytime"',"{y}-{m}-{d} {h}:{i}:{s}","application/hwepass2001.installepass2001","AudioDecoder","indexOf","high",'"production"',"version","pow","[object Exception]","kSliceBLA_W_RADL","revokeObjectURL","prototype","createEvent","hvc","Chrome","none","isArray","iFrame","getMinutes","Safari","overflow","image/png","-webkit-touch-callout","encTypeCode","port","NaN","restore","getContext","endsWith","file","split","getAttribute","hidden","getElementById","addModule","WAVE","toString","application/360softmgrplugin","application/javascript","readyState","supported","getParameter","isTypeSupported","useWasm","angle","getDate","strokeRect","isFullscreen","memory","hev5","https:","fontSize","kSliceBLA_N_LP","hev3","data:","VideoEncoder is not supported","11kdCxuO","getMilliseconds","trim","absolute","mediaDevices","transferControlToOffscreen","38MAgGKL","data","px Arial","fillText","slice","setUint16","webkitGetUserMedia","bottom","src","getFullYear","onload","useWCS","format","type","EB/s","random","keys","kSliceRSV_IRAP_VCL22","-webkit-text-size-adjust","0 KB/s","msFullscreenElement","green","navigator","gpu","-o-user-select","dataset","borderWidth","xxxxxxxxxxxx4xxx","win32","clientX","location","attachShadow","noteOn","status","fillStyle","filter","clearRect","event","test","createBufferSource","buffer","zIndex","left","atob","resume","MediaStream","floor","data-","drawImage","safari","hasAudio","531peZlEC",'"2.1.9"',"hostname","dingtalk","ended","objectFit","appendChild","pathname","line","chrome","TB/s","ALAW","href","element","top","document","h264","now","user-select","crossOrigin","copyright","3CXomYV","findLast","firefox","call",'"development"',"setUint32","backgroundColor","createTextNode","-ms-user-select","hev4","failed to asynchronously prepare wasm","touchmove","second","result","byteLength","307880ZcMDNJ","getPropertyValue","text/javascript","hev","length"];return(os=function(){return t})()}function as(){const t=ze;return/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i[t(516)](window[t(500)][t(652)][t(601)]())}function hs(){return!(as()||function(){const t=ze;return/ipad|android(?!.*mobile)|tablet|kindle|silk/i[t(516)](window.navigator[t(652)][t(601)]())}())}function ls(){const t=ze,e=window[t(500)][t(652)][t(601)]();return/android/i.test(e)}function cs(){const t=ze,e=window[t(500)][t(652)][t(601)]();return/firefox/i[t(516)](e)}function ds(){const t=ze,e=window[t(500)].userAgent[t(601)]()||"",s={type:"",version:""},i={IE:window[t(701)]||t(701)in window,Chrome:e[t(775)](t(538))>-1&&e.indexOf(t(527))>-1,Firefox:e[t(775)](t(552))>-1,Opera:e[t(775)]("opera")>-1,Safari:e[t(775)]("safari")>-1&&-1==e.indexOf("chrome"),Edge:e[t(775)]("edge")>-1||e[t(775)](t(757))>-1,QQBrowser:/qqbrowser/[t(516)](e),WeixinBrowser:/MicroMessenger/i[t(516)](e)};for(let r in i)if(i[r]){let i="";if("IE"===r){const s=e[t(631)](/(msie\s|trident.*rv:)([\w.]+)/);s&&s.length>2&&(i=e[t(631)](/(msie\s|trident.*rv:)([\w.]+)/)[2])}else if(r===t(786)){for(let e in navigator[t(638)])navigator[t(638)][e][t(847)]===t(809)&&(r=t(700));const s=e.match(/chrome\/([\d.]+)/);s&&s[t(569)]>1&&(i=s[1])}else if("Firefox"===r){const s=e[t(631)](/firefox\/([\d.]+)/);s&&s[t(569)]>1&&(i=s[1])}else if(r===t(692)){const t=e.match(/opera\/([\d.]+)/);t&&t.length>1&&(i=t[1])}else if(r===t(791)){const s=e[t(631)](/version\/([\d.]+)/);s&&s[t(569)]>1&&(i=s[1])}else if("Edge"===r){const s=e[t(631)](/edge\/([\d.]+)/)||e.match(/edg\/([\d.]+)/);s&&s[t(569)]>1&&(i=s[1])}else if(r===t(659)){const s=e[t(631)](/qqbrowser\/([\d.]+)/);s&&s[t(569)]>1&&(i=s[1])}s[t(847)]=r,s[t(778)]=parseInt(i)}return s}function us(){const t=ze,e=window[t(500)][t(652)][t(601)]();return e&&/iphone|ipad|ipod|ios/[t(516)](e)}function ps(){const t=ze,e=window[t(500)][t(652)];return!e.match(/Chrome/gi)&&!!e[t(631)](/Safari/gi)}function fs(t,e,s){const i=ze;if(0===arguments[i(569)])return null;var r,n=e||i(772);if(typeof t===i(698)?r=t:(10===(""+t)[i(569)]&&(t=1e3*parseInt(t)),t=+t,r=new Date(t)),s){const t=r[i(829)]();t>0&&(r=new Date(r[i(690)]()+(1e3-t)))}var o={y:r[i(843)](),m:r[i(643)]()+1,d:r[i(817)](),h:r[i(741)](),i:r[i(790)](),s:r[i(735)](),a:r[i(677)]()},a=n.replace(/{(y|m|d|h|i|s|a)+}/g,((t,e)=>{const s=i;var r=o[e];return"a"===e?["一","二","三","四","五","六","日"][r-1]:(t[s(569)]>0&&r<10&&(r="0"+r),r||0)}));return a}function ms(){return gs()}function gs(){const t=ze;let e=!1;return t(684)in qt&&"function"==typeof qt[t(684)]&&(e=!0),e}function ys(t){if(typeof t!==ze(644))return t;var e=Number(t);return isNaN(e)?t:e}function As(){const t=ze;return t(505)[t(752)](/[xy]/g,(function(e){const s=t;var i=16*Math[s(849)]()|0;return("x"==e?i:3&i|8)[s(808)](16)}))}function vs(t,e){let s,i,r=!1;return function n(){const o=Qe;for(var a=arguments[o(569)],h=new Array(a),l=0;l<a;l++)h[l]=arguments[l];if(r)return s=h,void(i=this);r=!0,t[o(761)](this,h),setTimeout((()=>{r=!1,s&&(n[o(761)](i,s),s=null,i=null)}),e)}}function bs(){return he[ze(819)]}function Ss(t){return bs()&&he[ze(542)]===t}function Es(t){const e=ze;if(null==t||""==t)return"0 Bytes";const s=new Array(e(595),"KB","MB","GB","TB","PB","EB","ZB","YB");let i=0;const r=parseFloat(t);i=Math[e(524)](Math[e(769)](r)/Math[e(769)](1024));var n=r/Math[e(779)](1024,i);return(n=n[e(611)](2))+s[i]}function ws(t){const e=ze;return"[object Number]"===Object[e(783)][e(808)].call(t)}function Ts(){const t=ze;let e=!1;return t(687)in qt&&qt[t(687)]&&(qt[t(687)][t(814)](it.hvc)||qt[t(687)][t(814)](it.hev)||qt[t(687)][t(814)](it.hev2)||qt[t(687)][t(814)](it.hev3)||qt[t(687)][t(814)](it.hev4)||qt[t(687)][t(814)](it.hev5))&&(e=!0),e}function Is(){const t=ze;let e=!1;return!(t(687)in qt)&&t(716)in qt&&qt[t(716)]&&(qt.ManagedMediaSource[t(814)](it[t(785)])||qt.ManagedMediaSource[t(814)](it[t(568)])||qt[t(716)][t(814)](it.hev2)||qt[t(716)][t(814)](it[t(825)])||qt[t(716)][t(814)](it[t(559)])||qt[t(716)][t(814)](it[t(821)]))&&(e=!0),e}function ks(){const t=ze,e=ds();return"chrome"===e[t(847)][t(601)]()&&e.version>=107}function _s(){let t=!1;return ze(722)in window&&(t=!0),t}function Cs(){let t=!1;return ze(523)in window&&(t=!0),t}function Ds(t,e){const s=ze;let i=window[s(632)][s(586)](e),r=window[s(544)][s(711)]("a");r[s(606)]=t,r.href=i;let n=window.document[s(784)]("MouseEvents");n[s(575)](s(759),!0,!0),r.dispatchEvent(n),setTimeout((()=>{const t=s;window[t(632)][t(782)](i)}),us()?1e3:0)}function Rs(t){return null==t}function Ls(t){return!0===t||!1===t}function Ps(t){return!Rs(t)}function xs(t){const e=ze;let s={left:"",right:"",top:"",bottom:"",opacity:1,backgroundColor:"",image:{src:"",width:"100",height:"60"},text:{content:"",fontSize:"14",color:"#000",width:"",height:""},rect:{color:e(499),lineWidth:2,width:"",height:"",fill:"",fillOpacity:.2},line:{x1:"",y1:"",x2:"",y2:"",color:e(499),lineWidth:2},polygon:{color:e(499),lineWidth:2,list:[],fill:"",fillOpacity:.2},html:""};const i=Object.assign(s[e(721)],t[e(721)]||{}),r=Object.assign(s[e(707)],t[e(707)]||{}),n=Object.assign(s[e(749)],t.rect||{}),o=Object[e(637)](s[e(537)],t[e(537)]||{});return s=Object.assign(s,t,{image:i,text:r,rect:n,line:o}),s}function Ms(t,e){const s=ze;let i={container:t||"",text:"",opacity:"",angle:"",color:"",fontSize:"",fontFamily:"",xSpace:"",ySpace:""};return i=Object[s(637)](i,e),{watermark_parent_node:i[s(639)],watermark_alpha:i[s(613)],watermark_angle:i[s(816)],watermark_fontsize:i[s(823)],watermark_color:i[s(662)],watermark_font:i.fontFamily,watermark_txt:i[s(707)],watermark_x_space:i[s(665)],watermark_y_space:i[s(736)]}}function Bs(t,e,s){return new Promise(((i,r)=>{const n=Qe;let o=xs(e);if(!o[n(721)][n(842)]&&!o.text[n(617)])return i(t);let a=document[n(711)]("canvas");a[n(691)]=e[n(691)],a.height=e.height;let h=a.getContext("2d");s&&(h[n(708)]=!0,h[n(708)]&&(h.imageSmoothingQuality=n(776)));let l=0,c=0;ws(o[n(520)])?l=o.left:ws(o.right)&&(l=a[n(691)]-o.right),ws(o[n(543)])?c=o.top:ws(o.bottom)&&(c=a[n(576)]-o[n(841)]);const d=new Image;d[n(842)]=t,d[n(844)]=()=>{const t=n;if(h.drawImage(d,0,0),o.image&&o[t(721)][t(842)]){const s=new Image;s[t(842)]=o[t(721)][t(842)],s.setAttribute(t(548),t(598)),s[t(844)]=()=>{const r=t;l-=o[r(721)].width,h[r(526)](s,l,c,o[r(721)].width,o[r(721)][r(576)]),i(a[r(616)](e.format,e[r(655)]))},s[t(627)]=t=>{r()}}else o[t(707)]&&o[t(707)][t(617)]&&(h.font=o[t(707)].fontSize+t(745),h[t(512)]=o.text[t(662)],h.textAlign="right",h[t(837)](o[t(707)][t(617)],l,c),i(a[t(616)](e.format,e[t(655)])))},d.onerror=t=>{r(t)}}))}function Fs(t){const e=ze;var s,i=0;if(0===t[e(569)])return i;for(s=0;s<t.length;s++)i=(i<<5)-i+t[e(641)](s),i|=0;return i}function Us(t,e,s){return new Promise(((i,r)=>{const n=Qe;if(!e[n(549)])return i(t);let o=document.createElement(n(647));o[n(691)]=e[n(691)],o[n(576)]=e[n(576)];let a=o.getContext("2d");s&&(a[n(708)]=!0,a[n(708)]&&(a.imageSmoothingQuality="high"));const h=new Image;h[n(842)]=t,h.onload=()=>{const t=n;a[t(526)](h,0,0);const s=Fs(e[t(549)]),r=a[t(624)](0,0,o[t(691)],o.height);(function(t,e){for(var s=t.data,i=0,r=0;r<32;r++){var n=e>>r&1,o=254&s[i]|n;s[i]=o,i+=4}})(r,s),a[t(619)](r,0,0),i(o[t(616)](e[t(846)],e[t(655)]))},h[n(627)]=t=>{r(t)}}))}function Os(t){const e=ze;var s;if(t>-1){var i=Math[e(524)](t/3600),r=Math[e(524)](t/60)%60,n=t%60;s=i<10?"0"+i+":":i+":",r<10&&(s+="0"),s+=r+":",(n=Math.round(n))<10&&(s+="0"),s+=n.toFixed(0)}return s}function Ns(t,e){return new VideoFrame(t,e)}function js(t,e){const s=ze;let i="";if(t>-1){const r=Math[s(524)](t/60)%60;let n=t%60;n=Math[s(739)](n),i=r<10?"0"+r+":":r+":",n<10&&(i+="0"),i+=n,!Rs(e)&&(e<10&&(e="0"+e),i+=":"+e)}return i}function Vs(t){const e=ze;let s="";if(t>-1){const i=Math[e(524)](t/60/60)%60;let r=Math[e(524)](t/60)%60,n=t%60;r=Math[e(739)](r),s=i<10?"0"+i+":":i+":",r<10&&(s+="0"),s+=r+":",n<10&&(s+="0"),s+=n}return s}function Ws(t,e){const s=ze,i=Math[s(524)](e/60)%60,r=Math[s(524)](e%60);return new Date(t)[s(681)](i,r,0,0)}function Gs(t,e){const s=ze,i=Math.floor(e/60/60)%60,r=Math[s(524)](e/60)%60,n=e%60;return new Date(t)[s(681)](i,r,n,0)}function zs(t){return(""+t).length}function Hs(t){const e=ze;return t&&0===Object[e(850)](t)[e(569)]}function Ks(t){return!Hs(t)}function qs(t){return"string"==typeof t}const Ys=()=>{const t=window[ze(500)].userAgent;return/MicroMessenger/i.test(t)},Qs=()=>{const t=ze,e=window[t(500)][t(652)];return/Chrome/i[t(516)](e)},Js=()=>Ys()&&ls(),Xs=()=>(()=>{const t=ze;return!(typeof window.dd===t(660)||!window.dd||!window.dd[t(778)])||navigator[t(652)][t(601)]()[t(775)](t(532))>-1})()&&ls();function $s(t){const e=ze,s=t||window.event;return s[e(580)]||s[e(748)]}function Zs(){return cs()&&function(){const t=ze,e=navigator.userAgent[t(601)]();return/macintosh|mac os x/i[t(516)](e)}()}function ti(t){return t&&typeof t===ze(628)}function ei(t){return t/2%4==0}function si(t){const e=ze;if(as()){let s=0,i=0;if(t[e(589)]&&1===t.touches[e(569)]){let r=t[e(589)][0];s=r[e(507)],i=r[e(582)]}return{posX:s,posY:i}}let s=0,i=0;const r=t||window[e(515)];return r[e(731)]||r.pageY?(s=r[e(731)],i=r.pageY):(r[e(507)]||r[e(582)])&&(s=t[e(507)]+document[e(633)][e(770)]+document[e(766)][e(770)],i=t[e(582)]+document[e(633)].scrollTop+document[e(766)][e(697)]),{posX:s,posY:i}}function ii(){let t=document[ze(711)]("video"),e=t.canPlayType("application/vnd.apple.mpegurl");return t=null,e}function ri(t){const e=ze;let s=Si(t[e(528)])&&(t[e(740)]||t[e(845)]&&!t[e(651)])&&Si(t.demuxUseWorker);return!!(Si(s)&&t[e(740)]&&t[e(704)]&&Si(t[e(764)]))||(!!(Si(s)&&t[e(845)]&&t[e(646)]&&Si(t.demuxUseWorker))||s)}function ni(t){const e=ze;let s=null,i=31&t[0];return(i===X[e(583)]||i===X[e(768)])&&(s=q[e(545)]),!s&&(i=(126&t[0])>>1,(i===$.vps||i===$[e(583)]||i===$[e(768)])&&(s=q.h265)),s}function oi(t){const e=ze;const s=function(t){const e=Qe;return t[e(830)]()[e(631)](/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1]}(t.toString()),i=new Blob([s],{type:e(810)});return URL[e(586)](i)}function ai(t){return oi(t)}function hi(t){t[ze(744)]()}function li(t){t[ze(744)]()}function ci(){const t=ze;return window[t(508)][t(649)]===t(822)||window.location.hostname===t(693)}function di(t){const e=ze,s=Object[e(783)][e(808)];return function(t){const i=e;switch(s[i(553)](t)){case"[object Error]":case i(780):case i(602):return!0;default:try{return t instanceof Error}catch(t){return!1}}}(t)?t.message:null==t?"":typeof t===e(698)?JSON[e(714)](t,null,2):String(t)}function ui(t,e){const s=ze,i=e?t.filter((t=>t[s(847)]===e)):t;if(i[s(569)]<2)return null;let r=[],n=[i[0]];for(let t=1;t<i[s(569)];t++){const e=i[t].ts-i[t-1].ts;e>0&&e<=150?n[s(683)](i[t]):(n[s(569)]>=10&&r[s(683)](n),n=[i[t]])}if(n.length>=10&&r.push(n),0===r[s(569)])return null;const o=r[s(577)](((t,e)=>e.length>t.length?e:t));let a=0;for(let t=1;t<o[s(569)];t++)a+=o[t].ts-o[t-1].ts;const h=a/(o[s(569)]-1);return Math.round(1e3/h)}function pi(t){const e=ze;for(var s=(t+"="[e(642)]((4-t[e(569)]%4)%4))[e(752)](/\-/g,"+")[e(752)](/_/g,"/"),i=window[e(521)](s),r=new Uint8Array(i.length),n=0;n<i[e(569)];++n)r[n]=i.charCodeAt(n);return r}function fi(t){const e=ze,s=/(msie|trident)/i[e(516)](navigator[e(652)]),i=document[e(711)]("a");let r=t;return s&&(i.setAttribute(e(541),r),r=i.href),i[e(664)](e(541),r),{origin:i.origin,href:i[e(541)],protocol:i[e(649)]?i[e(649)][e(752)](/:$/,""):"",host:i.host,search:i[e(750)]?i[e(750)][e(752)](/^\?/,""):"",hash:i.hash?i.hash[e(752)](/^#/,""):"",hostname:i[e(531)],port:i[e(796)],pathname:"/"===i[e(536)][e(587)](0)?i.pathname:"/"+i[e(536)]}}function mi(){const t=ze;return t(732)[t(752)](/[xy]/g,(function(e){const s=t;var i=16*Math.random()|0;return("x"==e?i:3&i|8)[s(808)](16)}))}function gi(t){const e=ze;let s="";if(typeof t===e(698))try{s=JSON[e(714)](t),s=JSON.parse(s)}catch(e){s=t}else s=t;return s}function yi(){return gi(L)}function Ai(){return gi(R)}function vi(t){const e=ze;return t[0]>>4===vt[e(622)]&&t[1]===At[e(579)]}function bi(t){return!0===t||"true"===t}function Si(t){return!0!==t&&t!==ze(605)}function Ei(t){return t.replace(/-([a-z])/g,(function(t,e){return e[Qe(758)]()}))}function wi(){return/iphone/i.test(navigator[ze(652)])}function Ti(){const t=ze;return window[t(599)]&&window[t(599)].memory?window[t(599)][t(820)]:null}function Ii(){const t=ze;try{var e=document[t(711)]("canvas");return!(!window[t(640)]||!e[t(799)](t(581)))}catch(t){return!1}}function ki(){const t=ze;let e=!1;return t(571)in HTMLVideoElement[t(783)]&&(e=!0),e}function _i(){const t=ze;let e=!1;return t(746)in qt&&typeof qt[t(746)]===t(628)&&(e=!0),e}function Ci(t){const e=ze,s=Math[e(725)](...t),i=Math[e(625)](...t);return t.filter((t=>t!==s&&t!==i))}function Di(t,e){const s=ze,i=je(t[s(838)](5));let r=!1;return i[s(570)]((t=>{const i=s,n=e?t[0]>>>1&63:31&t[0];(e&&(n===$[i(728)]||n===$[i(781)]||n===$[i(824)]||n===$[i(789)]||n===$[i(578)]||i(705),i(851),n===$[i(726)])||Si(e)&&n===X.iFrame)&&(r=!0)})),r}function Ri(){const t=ze;let e={down:t(682),move:t(723),up:t(636),click:t(759),wheel:t(695)};return as()&&(e={down:"touchstart",move:t(561),up:t(734),click:"click"}),e}function Li(t){const e=ze;return t&&!t.paused&&!t[e(533)]&&0!==t.playbackRate&&0!==t[e(811)]}function Pi(t){const e=ze;let s=arguments[e(569)]>1&&void 0!==arguments[1]?arguments[1]:{},i=8,r=!1;return t&&t[e(691)]&&t[e(576)]&&(r=t[e(691)]>=1920||t.height>=1080,t[e(795)]),s.useWCS?i=16:s[e(815)]&&(i=s[e(703)]?s[e(656)]?r?4:16:r?s[e(719)]?1:3:4:s[e(656)]?r?4:16:r?1:4),i}function xi(){const t=ze;for(var e=arguments[t(569)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(513)](Boolean))[t(569)]<2)return s[0];const r=new Uint8Array(s.reduce(((e,s)=>e+s[t(564)]),0));let n=0;return s.forEach((e=>{const s=t;r[s(763)](e,n),n+=e[s(564)]})),r}function Mi(){return bi(ns)}function Bi(){return Si(ns)}function Fi(){return Je()>=Number("1753977600000")}const Ui=Oi;function Oi(t,e){const s=Ni();return(Oi=function(t,e){return s[t-=209]})(t,e)}function Ni(){const t=["1944154ACjjFN","master","isArray","12QTEVbh","1284598vvcpkR","addEventListener","proxy","Events","200xIihEx","3603450NUCuwN","destroys","28255005ODBBwW","51028aNOeyX","removeEventListener","5122390lxSqJz","push","destroy","6902368XHDkZs"];return(Ni=function(){return t})()}!function(t,e){const s=Oi,i=t();for(;;)try{if(792644===-parseInt(s(223))/1+-parseInt(s(219))/2+-parseInt(s(210))/3+-parseInt(s(213))/4*(-parseInt(s(209))/5)+parseInt(s(222))/6*(parseInt(s(215))/7)+-parseInt(s(218))/8+parseInt(s(212))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ni);class ji{constructor(t){const e=Oi;this.destroys=[],this[e(225)]=this[e(225)].bind(this),this[e(220)]=t}[Ui(217)](){const t=Ui;this.destroys.forEach((t=>t())),this.destroys=[],this[t(220)].debugLog(t(226),"destroy"),this[t(220)]=null}proxy(t,e,s){const i=Ui;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return;if(Array[i(221)](e))return e.map((e=>this[i(225)](t,e,s,r)));t[i(224)](e,s,r);const n=()=>{const n=i;ti(t.removeEventListener)&&t[n(214)](e,s,r)};return this[i(211)][i(216)](n),n}}function Vi(){const t=["11757488IgFmYY","fullscreenInner","emit","fullscreen request error","request","change","off","fullscreen exit success","flvMetaData","jb-pro-fullscreen-web","decoderWorkerInit","78wlsZuz","includes","useWebFullScreen","then","useMSE","length","75556vGzyWY","debugLog","loaded","fullscreen request success","_opt","catch","stringify","7020398CdLnpu","playbackTimestamp","exit","playVodStats","keys","fullscreen","destroys","events","videoSEI","videoInfo","toString","3134328vlaGmh","videoSmooth","remove","5973428nxyfYU","emitError","resize","videoSEISyncPts","debugWarn","5gMjSIn","forEach","playToRenderTimes","listen decoderWorkerInit and set loaded true","117GsUlUz","add","audioInfo","player","debug","$container","webFullscreen","fullscreenError","debugError","1582230KoSPIL","382824FrIxBJ"];return(Vi=function(){return t})()}function Wi(t,e){const s=Vi();return(Wi=function(t,e){return s[t-=304]})(t,e)}!function(t,e){const s=Wi,i=t();for(;;)try{if(787266===parseInt(s(331))/1+parseInt(s(349))/2*(-parseInt(s(343))/3)+parseInt(s(312))/4*(parseInt(s(317))/5)+-parseInt(s(309))/6+parseInt(s(356))/7+parseInt(s(332))/8+-parseInt(s(321))/9*(parseInt(s(330))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Vi);const Gi=Hi;!function(t,e){const s=Hi,i=t();for(;;)try{if(861976===parseInt(s(245))/1*(-parseInt(s(249))/2)+-parseInt(s(232))/3*(parseInt(s(247))/4)+-parseInt(s(246))/5+-parseInt(s(234))/6*(-parseInt(s(251))/7)+parseInt(s(241))/8*(parseInt(s(233))/9)+-parseInt(s(243))/10*(-parseInt(s(237))/11)+-parseInt(s(231))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ki);class zi{on(t,e,s){const i=Hi,r=this.e||(this.e={});return(r[t]||(r[t]=[]))[i(236)]({fn:e,ctx:s}),this}once(t,e,s){const i=this;function r(){const n=Hi;i[n(242)](t,r);for(var o=arguments[n(239)],a=new Array(o),h=0;h<o;h++)a[h]=arguments[h];e[n(244)](s,a)}return r._=e,this.on(t,r,s)}[Gi(248)](t){const e=Gi,s=((this.e||(this.e={}))[t]||[])[e(250)]();for(var i=arguments[e(239)],r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(let t=0;t<s[e(239)];t+=1)s[t].fn[e(244)](s[t][e(235)],r);return this}off(t,e){const s=Gi,i=this.e||(this.e={});if(!t)return Object[s(238)](i)[s(240)]((t=>{delete i[t]})),void delete this.e;const r=i[t],n=[];if(r&&e)for(let t=0,i=r[s(239)];t<i;t+=1)r[t].fn!==e&&r[t].fn._!==e&&n.push(r[t]);return n[s(239)]?i[t]=n:delete i[t],this}}function Hi(t,e){const s=Ki();return(Hi=function(t,e){return s[t-=231]})(t,e)}function Ki(){const t=["length","forEach","10954736QarKVW","off","20SYNnys","apply","6EKCoxa","1238390JdZNQl","2882036ZdiAkA","emit","97506knPhkz","slice","8323GbDOBi","21211932rPgiUS","3gNXExL","9hNDYNR","8568uwnzEK","ctx","push","4527094ZiBsWD","keys"];return(Ki=function(){return t})()}var qi=Zi;!function(t,e){for(var s=Zi,i=t();;)try{if(420955===-parseInt(s(324))/1+parseInt(s(319))/2+parseInt(s(328))/3+parseInt(s(323))/4*(-parseInt(s(327))/5)+parseInt(s(317))/6*(parseInt(s(330))/7)+-parseInt(s(326))/8+-parseInt(s(329))/9*(-parseInt(s(316))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xi);var Yi=1e-6,Qi=typeof Float32Array!==qi(331)?Float32Array:Array,Ji=Math[qi(322)];function Xi(){var t=["823252XhtGnc","max","1996192vWgMFd","59945aNlNvf","1872915MFxFQi","16569nrgPFH","21rOZfTb","undefined","hypot","1770OkJKNi","1083252rPfmJg","length","1562456TteVui","abs","sqrt","random","260XKlDjs"];return(Xi=function(){return t})()}var $i=Math.PI/180;function Zi(t,e){var s=Xi();return(Zi=function(t,e){return s[t-=315]})(t,e)}Math[qi(315)]||(Math[qi(315)]=function(){for(var t=qi,e=0,s=arguments[t(318)];s--;)e+=arguments[s]*arguments[s];return Math[t(321)](e)});var tr=Object.freeze({__proto__:null,EPSILON:Yi,get ARRAY_TYPE(){return Qi},RANDOM:Ji,setMatrixArrayType:function(t){Qi=t},toRadian:function(t){return t*$i},equals:function(t,e){var s=qi;return Math.abs(t-e)<=Yi*Math[s(325)](1,Math.abs(t),Math[s(320)](e))}});function er(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sr(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=e[8],u=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],A=e[15],v=s[0],b=s[1],S=s[2],E=s[3];return t[0]=v*i+b*a+S*d+E*m,t[1]=v*r+b*h+S*u+E*g,t[2]=v*n+b*l+S*p+E*y,t[3]=v*o+b*c+S*f+E*A,v=s[4],b=s[5],S=s[6],E=s[7],t[4]=v*i+b*a+S*d+E*m,t[5]=v*r+b*h+S*u+E*g,t[6]=v*n+b*l+S*p+E*y,t[7]=v*o+b*c+S*f+E*A,v=s[8],b=s[9],S=s[10],E=s[11],t[8]=v*i+b*a+S*d+E*m,t[9]=v*r+b*h+S*u+E*g,t[10]=v*n+b*l+S*p+E*y,t[11]=v*o+b*c+S*f+E*A,v=s[12],b=s[13],S=s[14],E=s[15],t[12]=v*i+b*a+S*d+E*m,t[13]=v*r+b*h+S*u+E*g,t[14]=v*n+b*l+S*p+E*y,t[15]=v*o+b*c+S*f+E*A,t}function ir(){var t=["ARRAY_TYPE","cos","sqrt","2646YVDbaO","mat4(","2760LBJZxP","max","abs","275802ETnvtN","417763UVXZGR","tan","hypot","rightDegrees","2342792ekxZDT","15100SDpags","EPSILON","49rHeyzS","279BdaLRt","8253498FiElfO","downDegrees","sin","28drSWEG","102775winWuc"];return(ir=function(){return t})()}function rr(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3],a=i+i,h=r+r,l=n+n,c=i*a,d=i*h,u=i*l,p=r*h,f=r*l,m=n*l,g=o*a,y=o*h,A=o*l;return t[0]=1-(p+m),t[1]=d+A,t[2]=u-y,t[3]=0,t[4]=d-A,t[5]=1-(c+m),t[6]=f+g,t[7]=0,t[8]=u+y,t[9]=f-g,t[10]=1-(c+p),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}function nr(t,e){var s=or,i=e[0],r=e[1],n=e[2],o=e[4],a=e[5],h=e[6],l=e[8],c=e[9],d=e[10];return t[0]=Math[s(494)](i,r,n),t[1]=Math[s(494)](o,a,h),t[2]=Math[s(494)](l,c,d),t}function or(t,e){var s=ir();return(or=function(t,e){return s[t-=474]})(t,e)}function ar(t,e,s,i,r){var n,o=1/Math[or(493)](e/2);return t[0]=o/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(n=1/(i-r),t[10]=(r+i)*n,t[14]=2*r*i*n):(t[10]=-1,t[14]=-2*i),t}!function(t,e){for(var s=or,i=t();;)try{if(664990===parseInt(s(492))/1+-parseInt(s(486))/2*(-parseInt(s(488))/3)+parseInt(s(481))/4*(-parseInt(s(482))/5)+parseInt(s(491))/6*(-parseInt(s(476))/7)+parseInt(s(496))/8+parseInt(s(477))/9*(-parseInt(s(474))/10)+-parseInt(s(478))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ir);var hr=ar;function lr(t,e,s,i,r,n,o){var a=1/(e-s),h=1/(i-r),l=1/(n-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+s)*a,t[13]=(r+i)*h,t[14]=(o+n)*l,t[15]=1,t}var cr=lr;function dr(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t[4]=e[4]-s[4],t[5]=e[5]-s[5],t[6]=e[6]-s[6],t[7]=e[7]-s[7],t[8]=e[8]-s[8],t[9]=e[9]-s[9],t[10]=e[10]-s[10],t[11]=e[11]-s[11],t[12]=e[12]-s[12],t[13]=e[13]-s[13],t[14]=e[14]-s[14],t[15]=e[15]-s[15],t}var ur=sr,pr=dr,fr=Object.freeze({__proto__:null,create:function(){var t=or,e=new Qi(16);return tr[t(483)]!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},clone:function(t){var e=new Qi(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(t,e,s,i,r,n,o,a,h,l,c,d,u,p,f,m){var g=new(tr[or(483)])(16);return g[0]=t,g[1]=e,g[2]=s,g[3]=i,g[4]=r,g[5]=n,g[6]=o,g[7]=a,g[8]=h,g[9]=l,g[10]=c,g[11]=d,g[12]=u,g[13]=p,g[14]=f,g[15]=m,g},set:function(t,e,s,i,r,n,o,a,h,l,c,d,u,p,f,m,g){return t[0]=e,t[1]=s,t[2]=i,t[3]=r,t[4]=n,t[5]=o,t[6]=a,t[7]=h,t[8]=l,t[9]=c,t[10]=d,t[11]=u,t[12]=p,t[13]=f,t[14]=m,t[15]=g,t},identity:er,transpose:function(t,e){if(t===e){var s=e[1],i=e[2],r=e[3],n=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=s,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=n,t[11]=e[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],A=s*a-i*o,v=s*h-r*o,b=s*l-n*o,S=i*h-r*a,E=i*l-n*a,w=r*l-n*h,T=c*m-d*f,I=c*g-u*f,k=c*y-p*f,_=d*g-u*m,C=d*y-p*m,D=u*y-p*g,R=A*D-v*C+b*_+S*k-E*I+w*T;return R?(R=1/R,t[0]=(a*D-h*C+l*_)*R,t[1]=(r*C-i*D-n*_)*R,t[2]=(m*w-g*E+y*S)*R,t[3]=(u*E-d*w-p*S)*R,t[4]=(h*k-o*D-l*I)*R,t[5]=(s*D-r*k+n*I)*R,t[6]=(g*b-f*w-y*v)*R,t[7]=(c*w-u*b+p*v)*R,t[8]=(o*C-a*k+l*T)*R,t[9]=(i*k-s*C-n*T)*R,t[10]=(f*E-m*b+y*A)*R,t[11]=(d*b-c*E-p*A)*R,t[12]=(a*I-o*_-h*T)*R,t[13]=(s*_-i*I+r*T)*R,t[14]=(m*v-f*S-g*A)*R,t[15]=(c*S-d*v+u*A)*R,t):null},adjoint:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15];return t[0]=a*(u*y-p*g)-d*(h*y-l*g)+m*(h*p-l*u),t[1]=-(i*(u*y-p*g)-d*(r*y-n*g)+m*(r*p-n*u)),t[2]=i*(h*y-l*g)-a*(r*y-n*g)+m*(r*l-n*h),t[3]=-(i*(h*p-l*u)-a*(r*p-n*u)+d*(r*l-n*h)),t[4]=-(o*(u*y-p*g)-c*(h*y-l*g)+f*(h*p-l*u)),t[5]=s*(u*y-p*g)-c*(r*y-n*g)+f*(r*p-n*u),t[6]=-(s*(h*y-l*g)-o*(r*y-n*g)+f*(r*l-n*h)),t[7]=s*(h*p-l*u)-o*(r*p-n*u)+c*(r*l-n*h),t[8]=o*(d*y-p*m)-c*(a*y-l*m)+f*(a*p-l*d),t[9]=-(s*(d*y-p*m)-c*(i*y-n*m)+f*(i*p-n*d)),t[10]=s*(a*y-l*m)-o*(i*y-n*m)+f*(i*l-n*a),t[11]=-(s*(a*p-l*d)-o*(i*p-n*d)+c*(i*l-n*a)),t[12]=-(o*(d*g-u*m)-c*(a*g-h*m)+f*(a*u-h*d)),t[13]=s*(d*g-u*m)-c*(i*g-r*m)+f*(i*u-r*d),t[14]=-(s*(a*g-h*m)-o*(i*g-r*m)+f*(i*h-r*a)),t[15]=s*(a*u-h*d)-o*(i*u-r*d)+c*(i*h-r*a),t},determinant:function(t){var e=t[0],s=t[1],i=t[2],r=t[3],n=t[4],o=t[5],a=t[6],h=t[7],l=t[8],c=t[9],d=t[10],u=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*o-s*n)*(d*g-u*m)-(e*a-i*n)*(c*g-u*f)+(e*h-r*n)*(c*m-d*f)+(s*a-i*o)*(l*g-u*p)-(s*h-r*o)*(l*m-d*p)+(i*h-r*a)*(l*f-c*p)},multiply:sr,translate:function(t,e,s){var i,r,n,o,a,h,l,c,d,u,p,f,m=s[0],g=s[1],y=s[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(i=e[0],r=e[1],n=e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=e[8],u=e[9],p=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=h,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=p,t[11]=f,t[12]=i*m+a*g+d*y+e[12],t[13]=r*m+h*g+u*y+e[13],t[14]=n*m+l*g+p*y+e[14],t[15]=o*m+c*g+f*y+e[15]),t},scale:function(t,e,s){var i=s[0],r=s[1],n=s[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},rotate:function(t,e,s,i){var r,n,o,a,h,l,c,d,u,p,f,m,g,y,A,v,b,S,E,w,T,I,k,_,C=or,D=i[0],R=i[1],L=i[2],P=Math[C(494)](D,R,L);return P<tr[C(475)]?null:(D*=P=1/P,R*=P,L*=P,r=Math[C(480)](s),o=1-(n=Math[C(484)](s)),a=e[0],h=e[1],l=e[2],c=e[3],d=e[4],u=e[5],p=e[6],f=e[7],m=e[8],g=e[9],y=e[10],A=e[11],v=D*D*o+n,b=R*D*o+L*r,S=L*D*o-R*r,E=D*R*o-L*r,w=R*R*o+n,T=L*R*o+D*r,I=D*L*o+R*r,k=R*L*o-D*r,_=L*L*o+n,t[0]=a*v+d*b+m*S,t[1]=h*v+u*b+g*S,t[2]=l*v+p*b+y*S,t[3]=c*v+f*b+A*S,t[4]=a*E+d*w+m*T,t[5]=h*E+u*w+g*T,t[6]=l*E+p*w+y*T,t[7]=c*E+f*w+A*T,t[8]=a*I+d*k+m*_,t[9]=h*I+u*k+g*_,t[10]=l*I+p*k+y*_,t[11]=c*I+f*k+A*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},rotateX:function(t,e,s){var i=or,r=Math.sin(s),n=Math[i(484)](s),o=e[4],a=e[5],h=e[6],l=e[7],c=e[8],d=e[9],u=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+c*r,t[5]=a*n+d*r,t[6]=h*n+u*r,t[7]=l*n+p*r,t[8]=c*n-o*r,t[9]=d*n-a*r,t[10]=u*n-h*r,t[11]=p*n-l*r,t},rotateY:function(t,e,s){var i=or,r=Math.sin(s),n=Math[i(484)](s),o=e[0],a=e[1],h=e[2],l=e[3],c=e[8],d=e[9],u=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-c*r,t[1]=a*n-d*r,t[2]=h*n-u*r,t[3]=l*n-p*r,t[8]=o*r+c*n,t[9]=a*r+d*n,t[10]=h*r+u*n,t[11]=l*r+p*n,t},rotateZ:function(t,e,s){var i=or,r=Math[i(480)](s),n=Math[i(484)](s),o=e[0],a=e[1],h=e[2],l=e[3],c=e[4],d=e[5],u=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+c*r,t[1]=a*n+d*r,t[2]=h*n+u*r,t[3]=l*n+p*r,t[4]=c*n-o*r,t[5]=d*n-a*r,t[6]=u*n-h*r,t[7]=p*n-l*r,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,e,s){var i,r,n,o=or,a=s[0],h=s[1],l=s[2],c=Math.hypot(a,h,l);return c<tr[o(475)]?null:(a*=c=1/c,h*=c,l*=c,i=Math[o(480)](e),n=1-(r=Math[o(484)](e)),t[0]=a*a*n+r,t[1]=h*a*n+l*i,t[2]=l*a*n-h*i,t[3]=0,t[4]=a*h*n-l*i,t[5]=h*h*n+r,t[6]=l*h*n+a*i,t[7]=0,t[8]=a*l*n+h*i,t[9]=h*l*n-a*i,t[10]=l*l*n+r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,e){var s=Math[or(480)](e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=s,t[7]=0,t[8]=0,t[9]=-s,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,e){var s=or,i=Math[s(480)](e),r=Math[s(484)](e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){var s=or,i=Math[s(480)](e),r=Math[s(484)](e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:rr,fromQuat2:function(t,e){var s=new Qi(3),i=-e[0],r=-e[1],n=-e[2],o=e[3],a=e[4],h=e[5],l=e[6],c=e[7],d=i*i+r*r+n*n+o*o;return d>0?(s[0]=2*(a*o+c*i+h*n-l*r)/d,s[1]=2*(h*o+c*r+l*i-a*n)/d,s[2]=2*(l*o+c*n+a*r-h*i)/d):(s[0]=2*(a*o+c*i+h*n-l*r),s[1]=2*(h*o+c*r+l*i-a*n),s[2]=2*(l*o+c*n+a*r-h*i)),rr(t,e,s),t},getTranslation:function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},getScaling:nr,getRotation:function(t,e){var s=or,i=new Qi(3);nr(i,e);var r=1/i[0],n=1/i[1],o=1/i[2],a=e[0]*r,h=e[1]*n,l=e[2]*o,c=e[4]*r,d=e[5]*n,u=e[6]*o,p=e[8]*r,f=e[9]*n,m=e[10]*o,g=a+d+m,y=0;return g>0?(y=2*Math[s(485)](g+1),t[3]=.25*y,t[0]=(u-f)/y,t[1]=(p-l)/y,t[2]=(h-c)/y):a>d&&a>m?(y=2*Math[s(485)](1+a-d-m),t[3]=(u-f)/y,t[0]=.25*y,t[1]=(h+c)/y,t[2]=(p+l)/y):d>m?(y=2*Math.sqrt(1+d-a-m),t[3]=(p-l)/y,t[0]=(h+c)/y,t[1]=.25*y,t[2]=(u+f)/y):(y=2*Math[s(485)](1+m-a-d),t[3]=(h-c)/y,t[0]=(p+l)/y,t[1]=(u+f)/y,t[2]=.25*y),t},fromRotationTranslationScale:function(t,e,s,i){var r=e[0],n=e[1],o=e[2],a=e[3],h=r+r,l=n+n,c=o+o,d=r*h,u=r*l,p=r*c,f=n*l,m=n*c,g=o*c,y=a*h,A=a*l,v=a*c,b=i[0],S=i[1],E=i[2];return t[0]=(1-(f+g))*b,t[1]=(u+v)*b,t[2]=(p-A)*b,t[3]=0,t[4]=(u-v)*S,t[5]=(1-(d+g))*S,t[6]=(m+y)*S,t[7]=0,t[8]=(p+A)*E,t[9]=(m-y)*E,t[10]=(1-(d+f))*E,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,s,i,r){var n=e[0],o=e[1],a=e[2],h=e[3],l=n+n,c=o+o,d=a+a,u=n*l,p=n*c,f=n*d,m=o*c,g=o*d,y=a*d,A=h*l,v=h*c,b=h*d,S=i[0],E=i[1],w=i[2],T=r[0],I=r[1],k=r[2],_=(1-(m+y))*S,C=(p+b)*S,D=(f-v)*S,R=(p-b)*E,L=(1-(u+y))*E,P=(g+A)*E,x=(f+v)*w,M=(g-A)*w,B=(1-(u+m))*w;return t[0]=_,t[1]=C,t[2]=D,t[3]=0,t[4]=R,t[5]=L,t[6]=P,t[7]=0,t[8]=x,t[9]=M,t[10]=B,t[11]=0,t[12]=s[0]+T-(_*T+R*I+x*k),t[13]=s[1]+I-(C*T+L*I+M*k),t[14]=s[2]+k-(D*T+P*I+B*k),t[15]=1,t},fromQuat:function(t,e){var s=e[0],i=e[1],r=e[2],n=e[3],o=s+s,a=i+i,h=r+r,l=s*o,c=i*o,d=i*a,u=r*o,p=r*a,f=r*h,m=n*o,g=n*a,y=n*h;return t[0]=1-d-f,t[1]=c+y,t[2]=u-g,t[3]=0,t[4]=c-y,t[5]=1-l-f,t[6]=p+m,t[7]=0,t[8]=u+g,t[9]=p-m,t[10]=1-l-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,s,i,r,n,o){var a=1/(s-e),h=1/(r-i),l=1/(n-o);return t[0]=2*n*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*h,t[6]=0,t[7]=0,t[8]=(s+e)*a,t[9]=(r+i)*h,t[10]=(o+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n*2*l,t[15]=0,t},perspectiveNO:ar,perspective:hr,perspectiveZO:function(t,e,s,i,r){var n,o=1/Math[or(493)](e/2);return t[0]=o/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(n=1/(i-r),t[10]=r*n,t[14]=r*i*n):(t[10]=-1,t[14]=-i),t},perspectiveFromFieldOfView:function(t,e,s,i){var r=or,n=Math.tan(e.upDegrees*Math.PI/180),o=Math[r(493)](e[r(479)]*Math.PI/180),a=Math[r(493)](e.leftDegrees*Math.PI/180),h=Math[r(493)](e[r(495)]*Math.PI/180),l=2/(a+h),c=2/(n+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-h)*l*.5,t[9]=(n-o)*c*.5,t[10]=i/(s-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*s/(s-i),t[15]=0,t},orthoNO:lr,ortho:cr,orthoZO:function(t,e,s,i,r,n,o){var a=1/(e-s),h=1/(i-r),l=1/(n-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+s)*a,t[13]=(r+i)*h,t[14]=n*l,t[15]=1,t},lookAt:function(t,e,s,i){var r,n,o,a,h,l,c,d,u,p,f=or,m=e[0],g=e[1],y=e[2],A=i[0],v=i[1],b=i[2],S=s[0],E=s[1],w=s[2];return Math[f(490)](m-S)<Yi&&Math.abs(g-E)<tr[f(475)]&&Math[f(490)](y-w)<tr[f(475)]?er(t):(c=m-S,d=g-E,u=y-w,r=v*(u*=p=1/Math[f(494)](c,d,u))-b*(d*=p),n=b*(c*=p)-A*u,o=A*d-v*c,(p=Math[f(494)](r,n,o))?(r*=p=1/p,n*=p,o*=p):(r=0,n=0,o=0),a=d*o-u*n,h=u*r-c*o,l=c*n-d*r,(p=Math[f(494)](a,h,l))?(a*=p=1/p,h*=p,l*=p):(a=0,h=0,l=0),t[0]=r,t[1]=a,t[2]=c,t[3]=0,t[4]=n,t[5]=h,t[6]=d,t[7]=0,t[8]=o,t[9]=l,t[10]=u,t[11]=0,t[12]=-(r*m+n*g+o*y),t[13]=-(a*m+h*g+l*y),t[14]=-(c*m+d*g+u*y),t[15]=1,t)},targetTo:function(t,e,s,i){var r=e[0],n=e[1],o=e[2],a=i[0],h=i[1],l=i[2],c=r-s[0],d=n-s[1],u=o-s[2],p=c*c+d*d+u*u;p>0&&(c*=p=1/Math.sqrt(p),d*=p,u*=p);var f=h*u-l*d,m=l*c-a*u,g=a*d-h*c;return(p=f*f+m*m+g*g)>0&&(f*=p=1/Math.sqrt(p),m*=p,g*=p),t[0]=f,t[1]=m,t[2]=g,t[3]=0,t[4]=d*g-u*m,t[5]=u*f-c*g,t[6]=c*m-d*f,t[7]=0,t[8]=c,t[9]=d,t[10]=u,t[11]=0,t[12]=r,t[13]=n,t[14]=o,t[15]=1,t},str:function(t){return or(487)+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math[or(494)](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t[4]=e[4]+s[4],t[5]=e[5]+s[5],t[6]=e[6]+s[6],t[7]=e[7]+s[7],t[8]=e[8]+s[8],t[9]=e[9]+s[9],t[10]=e[10]+s[10],t[11]=e[11]+s[11],t[12]=e[12]+s[12],t[13]=e[13]+s[13],t[14]=e[14]+s[14],t[15]=e[15]+s[15],t},subtract:dr,multiplyScalar:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12]*s,t[13]=e[13]*s,t[14]=e[14]*s,t[15]=e[15]*s,t},multiplyScalarAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t[3]=e[3]+s[3]*i,t[4]=e[4]+s[4]*i,t[5]=e[5]+s[5]*i,t[6]=e[6]+s[6]*i,t[7]=e[7]+s[7]*i,t[8]=e[8]+s[8]*i,t[9]=e[9]+s[9]*i,t[10]=e[10]+s[10]*i,t[11]=e[11]+s[11]*i,t[12]=e[12]+s[12]*i,t[13]=e[13]+s[13]*i,t[14]=e[14]+s[14]*i,t[15]=e[15]+s[15]*i,t},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},equals:function(t,e){var s=or,i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],h=t[5],l=t[6],c=t[7],d=t[8],u=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],A=t[15],v=e[0],b=e[1],S=e[2],E=e[3],w=e[4],T=e[5],I=e[6],k=e[7],_=e[8],C=e[9],D=e[10],R=e[11],L=e[12],P=e[13],x=e[14],M=e[15];return Math.abs(i-v)<=tr[s(475)]*Math.max(1,Math[s(490)](i),Math.abs(v))&&Math[s(490)](r-b)<=tr[s(475)]*Math[s(489)](1,Math[s(490)](r),Math.abs(b))&&Math.abs(n-S)<=tr[s(475)]*Math[s(489)](1,Math[s(490)](n),Math.abs(S))&&Math[s(490)](o-E)<=tr[s(475)]*Math[s(489)](1,Math[s(490)](o),Math[s(490)](E))&&Math[s(490)](a-w)<=tr[s(475)]*Math[s(489)](1,Math[s(490)](a),Math.abs(w))&&Math[s(490)](h-T)<=tr[s(475)]*Math.max(1,Math[s(490)](h),Math.abs(T))&&Math[s(490)](l-I)<=tr[s(475)]*Math.max(1,Math[s(490)](l),Math[s(490)](I))&&Math.abs(c-k)<=tr[s(475)]*Math[s(489)](1,Math.abs(c),Math[s(490)](k))&&Math[s(490)](d-_)<=tr[s(475)]*Math.max(1,Math[s(490)](d),Math[s(490)](_))&&Math[s(490)](u-C)<=tr[s(475)]*Math[s(489)](1,Math.abs(u),Math[s(490)](C))&&Math.abs(p-D)<=tr[s(475)]*Math[s(489)](1,Math.abs(p),Math.abs(D))&&Math[s(490)](f-R)<=tr[s(475)]*Math[s(489)](1,Math.abs(f),Math[s(490)](R))&&Math.abs(m-L)<=tr[s(475)]*Math.max(1,Math[s(490)](m),Math[s(490)](L))&&Math[s(490)](g-P)<=tr[s(475)]*Math[s(489)](1,Math.abs(g),Math[s(490)](P))&&Math.abs(y-x)<=Yi*Math[s(489)](1,Math[s(490)](y),Math[s(490)](x))&&Math[s(490)](A-M)<=tr[s(475)]*Math[s(489)](1,Math[s(490)](A),Math[s(490)](M))},mul:ur,sub:pr});function mr(){var t=["786849AMPhZJ","sin","min","467790HXivQY","abs","sqrt","round","9AgihBt","max","floor","hypot","137584KzrpWE","vec3(","cos","RANDOM","1400624VGeNJl","ARRAY_TYPE","ceil","length","6iHXcxd","418750xYmCoV","95512EawlEs","EPSILON","33788bMpOUs"];return(mr=function(){return t})()}function gr(){var t=Er,e=new Qi(3);return tr[t(172)]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function yr(t){var e=t[0],s=t[1],i=t[2];return Math.hypot(e,s,i)}function Ar(t,e,s){var i=new Qi(3);return i[0]=t,i[1]=e,i[2]=s,i}function vr(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t}function br(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t}function Sr(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t}function Er(t,e){var s=mr();return(Er=function(t,e){return s[t-=163]})(t,e)}function wr(t,e){var s=Er,i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math[s(166)](i,r,n)}function Tr(t,e){var s=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return s*s+i*i+r*r}function Ir(t){var e=t[0],s=t[1],i=t[2];return e*e+s*s+i*i}function kr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}!function(t,e){for(var s=Er,i=t();;)try{if(112070===parseInt(s(177))/1+-parseInt(s(167))/2+parseInt(s(175))/3*(parseInt(s(179))/4)+parseInt(s(176))/5+-parseInt(s(183))/6+-parseInt(s(180))/7+parseInt(s(171))/8*(parseInt(s(163))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mr);var _r,Cr=vr,Dr=br,Rr=Sr,Lr=wr,Pr=Tr,xr=yr,Mr=Ir,Br=(_r=gr(),function(t,e,s,i,r,n){var o,a,h=Er;for(!e&&(e=3),!s&&(s=0),a=i?Math[h(182)](i*e+s,t[h(174)]):t[h(174)],o=s;o<a;o+=e)_r[0]=t[o],_r[1]=t[o+1],_r[2]=t[o+2],r(_r,_r,n),t[o]=_r[0],t[o+1]=_r[1],t[o+2]=_r[2];return t}),Fr=Object.freeze({__proto__:null,create:gr,clone:function(t){var e=new(tr[Er(172)])(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},length:yr,fromValues:Ar,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,s,i){return t[0]=e,t[1]=s,t[2]=i,t},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t},subtract:vr,multiply:br,divide:Sr,ceil:function(t,e){var s=Er;return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math[s(173)](e[2]),t},floor:function(t,e){var s=Er;return t[0]=Math[s(165)](e[0]),t[1]=Math[s(165)](e[1]),t[2]=Math.floor(e[2]),t},min:function(t,e,s){var i=Er;return t[0]=Math.min(e[0],s[0]),t[1]=Math.min(e[1],s[1]),t[2]=Math[i(182)](e[2],s[2]),t},max:function(t,e,s){var i=Er;return t[0]=Math[i(164)](e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math[i(164)](e[2],s[2]),t},round:function(t,e){var s=Er;return t[0]=Math[s(186)](e[0]),t[1]=Math[s(186)](e[1]),t[2]=Math[s(186)](e[2]),t},scale:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t},scaleAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t},distance:wr,squaredDistance:Tr,squaredLength:Ir,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:function(t,e){var s=e[0],i=e[1],r=e[2],n=s*s+i*i+r*r;return n>0&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},dot:kr,cross:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[0],a=s[1],h=s[2];return t[0]=r*h-n*a,t[1]=n*o-i*h,t[2]=i*a-r*o,t},lerp:function(t,e,s,i){var r=e[0],n=e[1],o=e[2];return t[0]=r+i*(s[0]-r),t[1]=n+i*(s[1]-n),t[2]=o+i*(s[2]-o),t},hermite:function(t,e,s,i,r,n){var o=n*n,a=o*(2*n-3)+1,h=o*(n-2)+n,l=o*(n-1),c=o*(3-2*n);return t[0]=e[0]*a+s[0]*h+i[0]*l+r[0]*c,t[1]=e[1]*a+s[1]*h+i[1]*l+r[1]*c,t[2]=e[2]*a+s[2]*h+i[2]*l+r[2]*c,t},bezier:function(t,e,s,i,r,n){var o=1-n,a=o*o,h=n*n,l=a*o,c=3*n*a,d=3*h*o,u=h*n;return t[0]=e[0]*l+s[0]*c+i[0]*d+r[0]*u,t[1]=e[1]*l+s[1]*c+i[1]*d+r[1]*u,t[2]=e[2]*l+s[2]*c+i[2]*d+r[2]*u,t},random:function(t,e){var s=Er;e=e||1;var i=2*tr[s(170)]()*Math.PI,r=2*tr[s(170)]()-1,n=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(i)*n,t[1]=Math[s(181)](i)*n,t[2]=r*e,t},transformMat4:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[3]*i+s[7]*r+s[11]*n+s[15];return o=o||1,t[0]=(s[0]*i+s[4]*r+s[8]*n+s[12])/o,t[1]=(s[1]*i+s[5]*r+s[9]*n+s[13])/o,t[2]=(s[2]*i+s[6]*r+s[10]*n+s[14])/o,t},transformMat3:function(t,e,s){var i=e[0],r=e[1],n=e[2];return t[0]=i*s[0]+r*s[3]+n*s[6],t[1]=i*s[1]+r*s[4]+n*s[7],t[2]=i*s[2]+r*s[5]+n*s[8],t},transformQuat:function(t,e,s){var i=s[0],r=s[1],n=s[2],o=s[3],a=e[0],h=e[1],l=e[2],c=r*l-n*h,d=n*a-i*l,u=i*h-r*a,p=r*u-n*d,f=n*c-i*u,m=i*d-r*c,g=2*o;return c*=g,d*=g,u*=g,p*=2,f*=2,m*=2,t[0]=a+c+p,t[1]=h+d+f,t[2]=l+u+m,t},rotateX:function(t,e,s,i){var r=Er,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[0],o[1]=n[1]*Math[r(169)](i)-n[2]*Math[r(181)](i),o[2]=n[1]*Math[r(181)](i)+n[2]*Math[r(169)](i),t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},rotateY:function(t,e,s,i){var r=Er,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[2]*Math[r(181)](i)+n[0]*Math[r(169)](i),o[1]=n[1],o[2]=n[2]*Math[r(169)](i)-n[0]*Math[r(181)](i),t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},rotateZ:function(t,e,s,i){var r=Er,n=[],o=[];return n[0]=e[0]-s[0],n[1]=e[1]-s[1],n[2]=e[2]-s[2],o[0]=n[0]*Math[r(169)](i)-n[1]*Math.sin(i),o[1]=n[0]*Math[r(181)](i)+n[1]*Math.cos(i),o[2]=n[2],t[0]=o[0]+s[0],t[1]=o[1]+s[1],t[2]=o[2]+s[2],t},angle:function(t,e){var s=Er,i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],h=e[2],l=Math[s(185)](i*i+r*r+n*n)*Math.sqrt(o*o+a*a+h*h),c=l&&kr(t,e)/l;return Math.acos(Math[s(182)](Math[s(164)](c,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t},str:function(t){return Er(168)+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},equals:function(t,e){var s=Er,i=t[0],r=t[1],n=t[2],o=e[0],a=e[1],h=e[2];return Math.abs(i-o)<=tr[s(178)]*Math.max(1,Math[s(184)](i),Math[s(184)](o))&&Math[s(184)](r-a)<=tr[s(178)]*Math[s(164)](1,Math[s(184)](r),Math[s(184)](a))&&Math.abs(n-h)<=Yi*Math[s(164)](1,Math[s(184)](n),Math[s(184)](h))},sub:Cr,mul:Dr,div:Rr,dist:Lr,sqrDist:Pr,len:xr,sqrLen:Mr,forEach:Br});function Ur(){var t=["1371261Mjucmp","28ncOHTP","10ejBjdF","349782PLxYwd","round","min","length","abs","ARRAY_TYPE","2sNDhlp","hypot","686806lXBnSt","448925VqZuSr","586161TTeAnE","ceil","floor","457656LphoLF","32GEFXjf","852940jGyrKJ","EPSILON","max","RANDOM","77cJgTMF","sqrt"];return(Ur=function(){return t})()}function Or(){var t=Nr,e=new Qi(4);return tr[t(262)]!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Nr(t,e){var s=Ur();return(Nr=function(t,e){return s[t-=248]})(t,e)}function jr(t,e,s){return t[0]=e[0]-s[0],t[1]=e[1]-s[1],t[2]=e[2]-s[2],t[3]=e[3]-s[3],t}function Vr(t,e,s){return t[0]=e[0]*s[0],t[1]=e[1]*s[1],t[2]=e[2]*s[2],t[3]=e[3]*s[3],t}function Wr(t,e,s){return t[0]=e[0]/s[0],t[1]=e[1]/s[1],t[2]=e[2]/s[2],t[3]=e[3]/s[3],t}function Gr(t,e){var s=Nr,i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return Math[s(264)](i,r,n,o)}function zr(t,e){var s=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],n=e[3]-t[3];return s*s+i*i+r*r+n*n}function Hr(t){var e=t[0],s=t[1],i=t[2],r=t[3];return Math.hypot(e,s,i,r)}function Kr(t){var e=t[0],s=t[1],i=t[2],r=t[3];return e*e+s*s+i*i+r*r}!function(t,e){for(var s=Nr,i=t();;)try{if(463605===parseInt(s(265))/1+-parseInt(s(263))/2*(parseInt(s(254))/3)+parseInt(s(255))/4*(-parseInt(s(266))/5)+parseInt(s(257))/6*(parseInt(s(252))/7)+-parseInt(s(271))/8*(-parseInt(s(267))/9)+-parseInt(s(256))/10*(parseInt(s(248))/11)+parseInt(s(270))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ur);var qr,Yr=jr,Qr=Vr,Jr=Wr,Xr=Gr,$r=zr,Zr=Hr,tn=Kr,en=(qr=Or(),function(t,e,s,i,r,n){var o,a,h=Nr;for(!e&&(e=4),!s&&(s=0),a=i?Math[h(259)](i*e+s,t.length):t[h(260)],o=s;o<a;o+=e)qr[0]=t[o],qr[1]=t[o+1],qr[2]=t[o+2],qr[3]=t[o+3],r(qr,qr,n),t[o]=qr[0],t[o+1]=qr[1],t[o+2]=qr[2],t[o+3]=qr[3];return t}),sn=Object.freeze({__proto__:null,create:Or,clone:function(t){var e=new(tr[Nr(262)])(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,s,i){var r=new Qi(4);return r[0]=t,r[1]=e,r[2]=s,r[3]=i,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,s,i,r){return t[0]=e,t[1]=s,t[2]=i,t[3]=r,t},add:function(t,e,s){return t[0]=e[0]+s[0],t[1]=e[1]+s[1],t[2]=e[2]+s[2],t[3]=e[3]+s[3],t},subtract:jr,multiply:Vr,divide:Wr,ceil:function(t,e){var s=Nr;return t[0]=Math[s(268)](e[0]),t[1]=Math[s(268)](e[1]),t[2]=Math[s(268)](e[2]),t[3]=Math[s(268)](e[3]),t},floor:function(t,e){var s=Nr;return t[0]=Math[s(269)](e[0]),t[1]=Math[s(269)](e[1]),t[2]=Math[s(269)](e[2]),t[3]=Math.floor(e[3]),t},min:function(t,e,s){var i=Nr;return t[0]=Math.min(e[0],s[0]),t[1]=Math[i(259)](e[1],s[1]),t[2]=Math[i(259)](e[2],s[2]),t[3]=Math[i(259)](e[3],s[3]),t},max:function(t,e,s){var i=Nr;return t[0]=Math[i(250)](e[0],s[0]),t[1]=Math.max(e[1],s[1]),t[2]=Math[i(250)](e[2],s[2]),t[3]=Math[i(250)](e[3],s[3]),t},round:function(t,e){var s=Nr;return t[0]=Math.round(e[0]),t[1]=Math[s(258)](e[1]),t[2]=Math[s(258)](e[2]),t[3]=Math[s(258)](e[3]),t},scale:function(t,e,s){return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t},scaleAndAdd:function(t,e,s,i){return t[0]=e[0]+s[0]*i,t[1]=e[1]+s[1]*i,t[2]=e[2]+s[2]*i,t[3]=e[3]+s[3]*i,t},distance:Gr,squaredDistance:zr,length:Hr,squaredLength:Kr,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:function(t,e){var s=Nr,i=e[0],r=e[1],n=e[2],o=e[3],a=i*i+r*r+n*n+o*o;return a>0&&(a=1/Math[s(253)](a)),t[0]=i*a,t[1]=r*a,t[2]=n*a,t[3]=o*a,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},cross:function(t,e,s,i){var r=s[0]*i[1]-s[1]*i[0],n=s[0]*i[2]-s[2]*i[0],o=s[0]*i[3]-s[3]*i[0],a=s[1]*i[2]-s[2]*i[1],h=s[1]*i[3]-s[3]*i[1],l=s[2]*i[3]-s[3]*i[2],c=e[0],d=e[1],u=e[2],p=e[3];return t[0]=d*l-u*h+p*a,t[1]=-c*l+u*o-p*n,t[2]=c*h-d*o+p*r,t[3]=-c*a+d*n-u*r,t},lerp:function(t,e,s,i){var r=e[0],n=e[1],o=e[2],a=e[3];return t[0]=r+i*(s[0]-r),t[1]=n+i*(s[1]-n),t[2]=o+i*(s[2]-o),t[3]=a+i*(s[3]-a),t},random:function(t,e){var s,i,r,n,o,a,h=Nr;e=e||1;do{o=(s=2*tr[h(251)]()-1)*s+(i=2*tr[h(251)]()-1)*i}while(o>=1);do{a=(r=2*Ji()-1)*r+(n=2*tr[h(251)]()-1)*n}while(a>=1);var l=Math[h(253)]((1-o)/a);return t[0]=e*s,t[1]=e*i,t[2]=e*r*l,t[3]=e*n*l,t},transformMat4:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=e[3];return t[0]=s[0]*i+s[4]*r+s[8]*n+s[12]*o,t[1]=s[1]*i+s[5]*r+s[9]*n+s[13]*o,t[2]=s[2]*i+s[6]*r+s[10]*n+s[14]*o,t[3]=s[3]*i+s[7]*r+s[11]*n+s[15]*o,t},transformQuat:function(t,e,s){var i=e[0],r=e[1],n=e[2],o=s[0],a=s[1],h=s[2],l=s[3],c=l*i+a*n-h*r,d=l*r+h*i-o*n,u=l*n+o*r-a*i,p=-o*i-a*r-h*n;return t[0]=c*l+p*-o+d*-h-u*-a,t[1]=d*l+p*-a+u*-o-c*-h,t[2]=u*l+p*-h+c*-a-d*-o,t[3]=e[3],t},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},equals:function(t,e){var s=Nr,i=t[0],r=t[1],n=t[2],o=t[3],a=e[0],h=e[1],l=e[2],c=e[3];return Math[s(261)](i-a)<=tr[s(249)]*Math[s(250)](1,Math[s(261)](i),Math.abs(a))&&Math[s(261)](r-h)<=tr[s(249)]*Math[s(250)](1,Math.abs(r),Math[s(261)](h))&&Math[s(261)](n-l)<=Yi*Math[s(250)](1,Math[s(261)](n),Math[s(261)](l))&&Math[s(261)](o-c)<=tr[s(249)]*Math[s(250)](1,Math[s(261)](o),Math[s(261)](c))},sub:Yr,mul:Qr,div:Jr,dist:Xr,sqrDist:$r,len:Zr,sqrLen:tn,forEach:en});function rn(t,e){var s=nn();return(rn=function(t,e){return s[t-=377]})(t,e)}function nn(){var t=["6886190poRhqY","430920TNoTAy","1374YKzLPe","4924632qJdcPJ","5600203oqQnGP","8XANmGP","298316DANLHO","27MbONjB","7192Zgzsow","980140mWGUmz"];return(nn=function(){return t})()}!function(t,e){for(var s=rn,i=t();;)try{if(464162===parseInt(s(383))/1+-parseInt(s(378))/2+-parseInt(s(384))/3*(-parseInt(s(380))/4)+-parseInt(s(381))/5+parseInt(s(385))/6+-parseInt(s(386))/7*(-parseInt(s(377))/8)+parseInt(s(379))/9*(-parseInt(s(382))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nn);const on=hn;function an(){const t=["getShaderInfoLog","TEXTURE_MAG_FILTER","_drawScene","uniformLocations","TEXTURE_MIN_FILTER","attachShader","_vtexture","BLEND","_buffers","LINEAR","vtexture","getProgramParameter","drawDom","FLOAT","13042070eFOjdy","isInited","FRAGMENT_SHADER","vertexPosition","enableVertexAttribArray","ONE_MINUS_SRC_ALPHA","rgbaTexture","ELEMENT_ARRAY_BUFFER","TEXTURE_2D","uProjectionMatrix","renderYUV","uTexture","render","height","getShaderParameter","pixelStorei","vTexture","LUMINANCE","STATIC_DRAW","_utexture","TEXTURE0","utexture","useProgram","COLOR_BUFFER_BIT","positions","width","log","\n            attribute vec4 aVertexPosition;\n            attribute vec2 aTexturePosition;\n            varying lowp vec2 vTexturePosition;\n            void main(void) {\n              gl_Position = aVertexPosition;\n              vTexturePosition = aTexturePosition;\n            }\n        ","createProgram","getAttribLocation","_ytexture","indices","\n            precision highp float;\n            varying highp vec2 vTexturePosition;\n            uniform int isyuv;\n            uniform sampler2D rgbaTexture;\n            uniform sampler2D yTexture;\n            uniform sampler2D uTexture;\n            uniform sampler2D vTexture;\n\n            const mat4 YUV2RGB = mat4( 1.1643828125, 0, 1.59602734375, -.87078515625,\n                                       1.1643828125, -.39176171875, -.81296875, .52959375,\n                                       1.1643828125, 2.017234375, 0, -1.081390625,\n                                       0, 0, 0, 1);\n\n\n            void main(void) {\n\n                if (isyuv>0) {\n\n                    highp float y = texture2D(yTexture,  vTexturePosition).r;\n                    highp float u = texture2D(uTexture,  vTexturePosition).r;\n                    highp float v = texture2D(vTexture,  vTexturePosition).r;\n                    gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;\n\n                } else {\n                    gl_FragColor =  texture2D(rgbaTexture, vTexturePosition);\n                }\n            }\n        ","562390siPzPi","bindTexture","1667727WELEBz","_initShaderProgram","isDomInited","_initBuffers","slice","yTexture","_calRect","3403594UZPVmL","TEXTURE_WRAP_T","TRIANGLES","texPosition","4bNKDYP","deleteBuffer","activeTexture","DEPTH_BUFFER_BIT","texturePosition","5128gJTYsV","texSubImage2D","destroy","2195481nWZJhN","compileShader","deleteProgram","vertexAttribPointer","_createTexture","isyuv","UNSIGNED_SHORT","texImage2D","An error occurred compiling the shaders: ","TEXTURE1","rgbatexture","program","RGBA","UNSIGNED_BYTE","texParameteri","clearColor","clear","deleteShader","TEXTURE_WRAP_S","_clear","concat","aTexturePosition","ytexture","enable","_loadShader","ARRAY_BUFFER","linkProgram","getUniformLocation","VERTEX_SHADER","50542118cugvhY","aVertexPosition","createTexture","8981UTAScP","attribLocations","_rgbatexture","deleteTexture","position","CLAMP_TO_EDGE","_programInfo","48zCdiSN","uniform1i","bindBuffer","uModelMatrix","blendFunc","getProgramInfoLog","createBuffer","drawElements","uViewMatrix","9AgLYJY","clearDepth","bufferData"];return(an=function(){return t})()}function hn(t,e){const s=an();return(hn=function(t,e){return s[t-=413]})(t,e)}!function(t,e){const s=hn,i=t();for(;;)try{if(911407===-parseInt(s(476))/1+-parseInt(s(483))/2+-parseInt(s(495))/3*(parseInt(s(487))/4)+-parseInt(s(474))/5*(-parseInt(s(415))/6)+parseInt(s(527))/7*(parseInt(s(492))/8)+parseInt(s(424))/9*(-parseInt(s(441))/10)+parseInt(s(524))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(an);class ln{constructor(t,e){const s=hn;this.gl=t,this[s(442)]=!1,this[s(478)]=!1,e&&this.gl[s(456)](this.gl.UNPACK_ALIGNMENT,1);const i=this[s(477)]();this._programInfo={program:i,attribLocations:{vertexPosition:t.getAttribLocation(i,s(525)),texturePosition:t[s(470)](i,s(516))},uniformLocations:{projectionMatrix:t[s(522)](i,s(450)),modelMatrix:t[s(522)](i,s(418)),viewMatrix:t[s(522)](i,s(423)),rgbatexture:t[s(522)](i,s(447)),ytexture:t.getUniformLocation(i,s(481)),utexture:t[s(522)](i,s(452)),vtexture:t.getUniformLocation(i,s(457)),isyuv:t[s(522)](i,s(500))}},this[s(435)]=this[s(479)](),this._rgbatexture=this[s(499)](),this[s(471)]=this._createTexture(),this[s(460)]=this._createTexture(),this[s(433)]=this[s(499)]()}[on(494)](){const t=on;this.gl[t(497)](this._programInfo.program),this.gl[t(488)](this[t(435)][t(531)]),this.gl[t(488)](this._buffers.texPosition),this.gl[t(488)](this._buffers[t(472)]),this.gl.deleteTexture(this[t(529)]),this.gl[t(530)](this._ytexture),this.gl.deleteTexture(this[t(460)]),this.gl[t(530)](this[t(433)]),this._programInfo=null,this[t(435)]=null,this[t(529)]=null,this[t(471)]=null,this[t(460)]=null,this[t(433)]=null,this.gl=null,this.isInited=!1,this[t(478)]=!1}[on(477)](){const t=on,e=t(468),s=t(473),i=this[t(519)](this.gl[t(523)],e),r=this._loadShader(this.gl[t(443)],s),n=this.gl[t(469)]();return this.gl[t(432)](n,i),this.gl[t(432)](n,r),this.gl[t(521)](n),this.gl[t(438)](n,this.gl.LINK_STATUS)?n:(console[t(467)]("Unable to initialize the shader program: "+this.gl[t(420)](n)),null)}[on(519)](t,e){const s=on,i=this.gl,r=i.createShader(t);return i.shaderSource(r,e),i[s(496)](r),i[s(455)](r,i.COMPILE_STATUS)?r:(console[s(467)](s(503)+i[s(427)](r)),i[s(512)](r),null)}_initBuffers(){const t=on,e=this.gl,s=e[t(421)]();e[t(417)](e[t(520)],s);const i=[-1,-1,1,-1,1,1,-1,1];e.bufferData(e[t(520)],new Float32Array(i),e[t(459)]);var r=[];r=r[t(515)]([0,1],[1,1],[1,0],[0,0]);const n=e[t(421)]();e[t(417)](e.ARRAY_BUFFER,n),e[t(426)](e[t(520)],new Float32Array(r),e[t(459)]);const o=e[t(421)]();e[t(417)](e[t(448)],o);return e[t(426)](e[t(448)],new Uint16Array([0,1,2,0,2,3]),e[t(459)]),{positions:i,position:s,texPosition:n,indices:o}}[on(499)](){const t=on;let e=this.gl[t(526)]();return this.gl.bindTexture(this.gl[t(449)],e),this.gl[t(509)](this.gl[t(449)],this.gl[t(428)],this.gl[t(436)]),this.gl[t(509)](this.gl[t(449)],this.gl[t(431)],this.gl[t(436)]),this.gl[t(509)](this.gl[t(449)],this.gl[t(513)],this.gl.CLAMP_TO_EDGE),this.gl[t(509)](this.gl[t(449)],this.gl[t(484)],this.gl[t(413)]),e}[on(429)](t,e,s){const i=on;this.gl.viewport(0,0,t,e),this.gl[i(518)](this.gl[i(434)]),this.gl[i(419)](this.gl.SRC_ALPHA,this.gl[i(446)]),this.gl.bindBuffer(this.gl[i(520)],this[i(435)][i(531)]),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this[i(435)].positions),this.gl.STATIC_DRAW),this.gl[i(498)](this[i(414)][i(528)][i(444)],2,this.gl.FLOAT,!1,0,0),this.gl[i(445)](this[i(414)][i(528)][i(444)]),this.gl[i(417)](this.gl[i(520)],this[i(435)][i(486)]),this.gl[i(498)](this[i(414)].attribLocations[i(491)],2,this.gl[i(440)],!1,0,0),this.gl.enableVertexAttribArray(this[i(414)][i(528)][i(491)]),this.gl[i(417)](this.gl.ELEMENT_ARRAY_BUFFER,this[i(435)].indices);s?(this.gl[i(489)](this.gl[i(461)]+3),this.gl[i(475)](this.gl[i(449)],this[i(471)]),this.gl[i(489)](this.gl.TEXTURE0+4),this.gl[i(475)](this.gl[i(449)],this[i(460)]),this.gl[i(489)](this.gl[i(461)]+5),this.gl[i(475)](this.gl[i(449)],this[i(433)])):(this.gl[i(489)](this.gl[i(461)]+2),this.gl[i(475)](this.gl[i(449)],this[i(529)])),this.gl[i(463)](this[i(414)][i(506)]),this.gl.uniform1i(this._programInfo[i(430)][i(505)],2),this.gl[i(416)](this._programInfo[i(430)][i(517)],3),this.gl[i(416)](this[i(414)][i(430)][i(462)],4),this.gl[i(416)](this[i(414)][i(430)][i(437)],5),this.gl[i(416)](this._programInfo[i(430)][i(500)],s?1:0),this.gl[i(422)](this.gl[i(485)],6,this.gl[i(501)],0)}[on(482)](t,e,s,i,r,n){let o=2*t/r-1,a=2*(n-e-i)/n-1,h=2*(t+s)/r-1,l=2*(n-e)/n-1;return[o,a,h,a,h,l,o,l]}[on(514)](){const t=on;this.gl[t(510)](0,0,0,1),this.gl[t(425)](1),this.gl[t(511)](this.gl[t(464)]|this.gl[t(490)])}[on(453)](t,e,s,i,r){const n=on;if(!this.gl)return;const o=this.gl;this[n(514)](),this[n(442)]?(o[n(489)](o.TEXTURE0),o[n(475)](o[n(449)],this[n(471)]),o[n(493)](o[n(449)],0,0,0,t,e,o[n(458)],o[n(508)],s),o[n(489)](o[n(504)]),o[n(475)](o[n(449)],this[n(460)]),o[n(493)](o.TEXTURE_2D,0,0,0,t/2,e/2,o[n(458)],o[n(508)],i),o[n(489)](o.TEXTURE2),o[n(475)](o[n(449)],this[n(433)]),o.texSubImage2D(o[n(449)],0,0,0,t/2,e/2,o.LUMINANCE,o[n(508)],r),this._buffers.positions=[-1,-1,1,-1,1,1,-1,1],this[n(429)](t,e,!0)):(this[n(442)]=!0,o[n(489)](o[n(461)]),o[n(475)](o[n(449)],this[n(471)]),o[n(502)](o.TEXTURE_2D,0,o[n(458)],t,e,0,o[n(458)],o.UNSIGNED_BYTE,s),o[n(489)](o[n(504)]),o.bindTexture(o[n(449)],this[n(460)]),o[n(502)](o[n(449)],0,o.LUMINANCE,t/2,e/2,0,o[n(458)],o[n(508)],i),o[n(489)](o.TEXTURE2),o.bindTexture(o[n(449)],this[n(433)]),o[n(502)](o[n(449)],0,o.LUMINANCE,t/2,e/2,0,o[n(458)],o[n(508)],r),this[n(435)][n(465)]=[-1,-1,1,-1,1,1,-1,1],this._drawScene(t,e,!0))}[on(451)](t,e,s){const i=on;let r=s[i(480)](0,t*e),n=s[i(480)](t*e,t*e*5/4),o=s.slice(t*e*5/4,t*e*3/2);this[i(453)](t,e,r,n,o)}[on(439)](t,e,s,i,r){const n=on;if(!this.gl)return;const o=this.gl;o.activeTexture(o[n(461)]),o[n(475)](o[n(449)],this._rgbatexture),this[n(478)]?o[n(493)](o[n(449)],0,0,0,o[n(507)],o.UNSIGNED_BYTE,r):(o[n(502)](o[n(449)],0,o[n(507)],o.RGBA,o.UNSIGNED_BYTE,r),this[n(478)]=!0),this[n(435)].positions=this._calRect(s,i,r[n(466)],r[n(454)],t,e),this._drawScene(t,e,!1)}}function cn(t,e){const s=pn();return(cn=function(t,e){return s[t-=456]})(t,e)}const dn=cn;!function(t,e){const s=cn,i=t();for(;;)try{if(504049===parseInt(s(495))/1+parseInt(s(498))/2+-parseInt(s(465))/3+parseInt(s(503))/4+parseInt(s(508))/5+-parseInt(s(483))/6+-parseInt(s(488))/7*(parseInt(s(513))/8))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pn);const un={YUV_I420:1,YUV_NV12:2,RGBA:3,DOM:4};function pn(){const t=["isDestroyed","writeTexture","_initMatrixGroupInfo","_drawScene","COPY_DST","byteLength","774433rUEBWX","clear","then","1072568krEbzV","copyExternalImageToTexture","setIndexBuffer","identity","setVertexBuffer","1129280ZiWgDc","destroy","_initTextureGroupInfo","queue","drawIndexed","3656450hmcSaA","renderYUV","INDEX","writeBuffer","GPUTextureUsage","1347104LPBhHA","fromValues","r8unorm","DOM","matrixGroupInfo","_initPipeline","submit","displayWidth","beginRenderPass","getCurrentTexture","format","end","createRenderPipelineAsync","device","VERTEX","yTexture","TEXTURE_BINDING","rgbaTexture","create","uint16","YUV_I420","render","setBindGroup","group1","gpu","YUV_NV12","linear","pipeline","depthTexture","getBindGroupLayout","\n                @group(1) @binding(0) var mySampler: sampler;\n                @group(1) @binding(1) var<uniform> pixelType: i32;\n                @group(1) @binding(2) var yTexture: texture_2d<f32>;\n                @group(1) @binding(3) var uTexture: texture_2d<f32>;\n                @group(1) @binding(4) var vTexture: texture_2d<f32>;\n                @group(1) @binding(5) var uvTexture: texture_2d<f32>;\n                @group(1) @binding(6) var rgbaTexture: texture_2d<f32>;\n\n                const YUV2RGB : mat4x4<f32> = mat4x4<f32>( 1.1643828125, 0, 1.59602734375, -.87078515625,\n                                                         1.1643828125, -.39176171875, -.81296875, .52959375,\n                                                         1.1643828125, 2.017234375, 0, -1.081390625,\n                                                         0, 0, 0, 1);\n\n                @fragment\n                fn main(\n                  @location(0) vTexturePosition: vec2<f32>\n                ) -> @location(0) vec4<f32> {\n                    if(pixelType == 1){\n                        var y : f32= textureSample(yTexture, mySampler, vTexturePosition).r;\n                        var u : f32 = textureSample(uTexture,  mySampler, vTexturePosition).r;\n                        var v : f32 = textureSample(vTexture, mySampler, vTexturePosition).r;\n\n                        return  vec4<f32>(y, u, v, 1.0)*YUV2RGB;\n                    } else if (pixelType == 2) {\n\n                        var y : f32= textureSample(yTexture, mySampler, vTexturePosition).r;\n                        var u : f32 = textureSample(uvTexture,  mySampler, vTexturePosition).r;\n                        var v : f32 = textureSample(uvTexture, mySampler, vTexturePosition).g;\n\n                        return  vec4<f32>(y, u, v, 1.0)*YUV2RGB;\n                    } else {\n\n                        return  textureSample(rgbaTexture, mySampler, vTexturePosition);\n                    }\n\n                }\n\n                ","hasInited","createBindGroup","_initBuffer","createView","float32x2","UNIFORM","2492406QMyWyv","renderYUV_NV12","\n\n                  @binding(0) @group(0) var<uniform> uModelMatrix : mat4x4<f32>;\n                  @binding(1) @group(0) var<uniform> uViewMatrix : mat4x4<f32>;\n                  @binding(2) @group(0) var<uniform> uProjectionMatrix : mat4x4<f32>;\n\n                  struct VertexOutput {\n                    @builtin(position) Position : vec4<f32>,\n                    @location(0) vTexturePosition : vec2<f32>,\n                  }\n\n                  @vertex\n                  fn main(\n                    @location(0) aVertexPosition : vec4<f32>,\n                    @location(1) aTexturePosition : vec2<f32>\n                  ) -> VertexOutput {\n                    var output : VertexOutput;\n                    var tmppos : vec4<f32> = uProjectionMatrix * uViewMatrix * uModelMatrix * aVertexPosition;\n                    output.Position = vec4<f32>(tmppos.x, tmppos.y, (tmppos.z+1.)/2., tmppos.w);  // webgl z [-1, 1],  webgpu z [0, 1],  这里z做下调整 z-webgpu = (z-webgl+1)/2\n                    output.vTexturePosition = aTexturePosition;\n                    return output;\n                  }\n\n                ","auto","createBuffer","slice","rg8unorm","group0","RENDER_ATTACHMENT","lookAt","uvTexture","createTexture","createShaderModule","GPUBufferUsage","depth24plus","textureGroupInfo","main","positionBuffer","885216aUechS","pixelTypeBuffer","buffers","group","vTexture","35yVsuft"];return(pn=function(){return t})()}class fn{constructor(t){const e=cn;this[e(537)]=t,this.pipeline=null,this[e(517)]=null,this[e(456)]=null,this[e(480)]=null,this.hasInited=!1,this[e(485)]=this[e(461)](),this[e(489)]=!1,this[e(518)]()[e(497)]((t=>{const s=e;this[s(489)]||(this[s(540)]=t,this[s(517)]=this[s(491)](),this.matrixGroupInfo&&(this[s(459)]=!0))}))}[dn(504)](){const t=dn;this[t(489)]=!1,this[t(537)]&&(this[t(537)].device[t(504)](),this[t(537)]=null),this[t(459)]=!1,this[t(540)]=null,this[t(517)]=null,this[t(456)]=null,this[t(480)]=null}[dn(461)](){const t=dn,e=this[t(537)][t(526)],s=new Float32Array([-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1]),i=e.createBuffer({size:s[t(494)],usage:window[t(478)][t(527)]|window[t(478)].COPY_DST});e[t(506)].writeBuffer(i,0,s);const r=new Float32Array([0,1,1,1,1,0,0,0]),n=e[t(469)]({size:r[t(494)],usage:window.GPUBufferUsage[t(527)]|window[t(478)][t(493)]});e[t(506)][t(511)](n,0,r);const o=new Uint16Array([0,1,2,0,2,3]),a=e[t(469)]({size:o[t(494)],usage:window[t(478)][t(510)]|window[t(478)][t(493)]});return e.queue[t(511)](a,0,o),{positionBuffer:i,texpositionBuffer:n,indexBuffer:a}}[dn(518)](){return new Promise(((t,e)=>{const s=cn,i=this[s(537)][s(526)],r=this[s(537)][s(523)],n=s(467),o=s(458),a={layout:s(468),vertex:{module:i[s(477)]({code:n}),entryPoint:s(481),buffers:[{arrayStride:12,attributes:[{shaderLocation:0,offset:0,format:"float32x3"}]},{arrayStride:8,attributes:[{shaderLocation:1,offset:0,format:s(463)}]}]},primitive:{topology:"triangle-list"},fragment:{module:i[s(477)]({code:o}),entryPoint:s(481),targets:[{format:r}]},depthStencil:{depthWriteEnabled:!0,depthCompare:"less",format:s(479)}};i[s(525)](a).then((e=>{t(e)})).catch((t=>{e(t)}))}))}[dn(491)](){const t=dn;if(!this.gpu)return null;const e=this[t(537)][t(526)],s=this[t(540)],i=fr[t(531)]();cr(i,-1,1,-1,1,.1,100);const r=fr[t(531)]();fr[t(501)](r);const n=fr[t(531)]();fr[t(474)](n,Ar(0,0,0),Fr[t(514)](0,0,-1),Fr[t(514)](0,1,0));const o=e[t(469)]({size:64,usage:window[t(478)][t(464)]|window.GPUBufferUsage[t(493)]});e[t(506)][t(511)](o,0,r);const a=e[t(469)]({size:64,usage:window.GPUBufferUsage.UNIFORM|window[t(478)].COPY_DST});e[t(506)][t(511)](a,0,n);const h=e[t(469)]({size:64,usage:window[t(478)][t(464)]|window[t(478)][t(493)]});e[t(506)][t(511)](h,0,i);return{modelMatrixBuffer:o,viewMatrixBuffer:a,projectMatrixBuffer:h,group:e[t(460)]({label:t(472),layout:s[t(457)](0),entries:[{binding:0,resource:{buffer:o}},{binding:1,resource:{buffer:a}},{binding:2,resource:{buffer:h}}]})}}[dn(505)](t,e){const s=dn,i=this[s(537)].device,r=this[s(540)],n=i[s(476)]({size:[t,e],format:"r8unorm",usage:window[s(512)][s(529)]|window[s(512)][s(493)]|window[s(512)][s(473)]}),o=i.createTexture({size:[t/2,e/2],format:s(515),usage:window[s(512)].TEXTURE_BINDING|window.GPUTextureUsage[s(493)]|window[s(512)].RENDER_ATTACHMENT}),a=i[s(476)]({size:[t/2,e/2],format:s(515),usage:window[s(512)][s(529)]|window[s(512)].COPY_DST|window[s(512)][s(473)]}),h=i[s(476)]({size:[t/2,e/2],format:s(471),usage:window.GPUTextureUsage[s(529)]|window.GPUTextureUsage[s(493)]|window[s(512)][s(473)]}),l=i.createTexture({size:[t,e],format:"rgba8unorm",usage:window[s(512)][s(529)]|window.GPUTextureUsage[s(493)]|window.GPUTextureUsage[s(473)]}),c=i[s(469)]({size:4,usage:window.GPUBufferUsage[s(464)]|window[s(478)][s(493)]}),d=i.createSampler({magFilter:s(539),minFilter:s(539)}),u=i[s(460)]({label:s(536),layout:r.getBindGroupLayout(1),entries:[{binding:0,resource:d},{binding:1,resource:{buffer:c}},{binding:2,resource:n[s(462)]()},{binding:3,resource:o[s(462)]()},{binding:4,resource:a[s(462)]()},{binding:5,resource:h[s(462)]()},{binding:6,resource:l.createView()}]});return{yTexture:n,uTexture:o,vTexture:a,uvTexture:h,rgbaTexture:l,pixelTypeBuffer:c,group:u}}_drawScene(){const t=dn,e=this[t(537)][t(526)],s=this[t(537)].context,i=e.createCommandEncoder(),r={colorAttachments:[{view:s[t(522)]()[t(462)](),clearValue:{r:0,g:0,b:0,a:0},loadOp:t(496),storeOp:"store"}],depthStencilAttachment:{view:this.depthTexture.createView(),depthClearValue:1,depthLoadOp:t(496),depthStoreOp:"store"}},n=i[t(521)](r);n.setPipeline(this[t(540)]),n[t(535)](0,this[t(517)][t(486)]),n[t(535)](1,this[t(480)][t(486)]),n[t(502)](0,this[t(485)][t(482)]),n[t(502)](1,this.buffers.texpositionBuffer),n[t(500)](this[t(485)].indexBuffer,t(532)),n[t(507)](6),n[t(524)](),e.queue[t(519)]([i.finish()])}[dn(509)](t,e,s){const i=dn;if(!this[i(537)])return;if(!this.hasInited)return;let r=s.slice(0,t*e),n=s[i(470)](t*e,t*e*5/4),o=s[i(470)](t*e*5/4,t*e*3/2);const a=this.gpu.device;!this.depthTexture&&(this[i(456)]=this[i(537)].device[i(476)]({size:[t,e],format:i(479),usage:window.GPUTextureUsage.RENDER_ATTACHMENT})),!this[i(480)]&&(this[i(480)]=this[i(505)](t,e)),a[i(506)][i(511)](this[i(480)][i(484)],0,new Uint32Array([un[i(533)]])),a.queue[i(490)]({texture:this[i(480)][i(528)]},r,{bytesPerRow:t,rowsPerImage:e},[t,e]),a.queue[i(490)]({texture:this[i(480)].uTexture},n,{bytesPerRow:t/2,rowsPerImage:e/2},[t/2,e/2]),a[i(506)].writeTexture({texture:this.textureGroupInfo[i(487)]},o,{bytesPerRow:t/2,rowsPerImage:e/2},[t/2,e/2]),this._drawScene()}[dn(466)](t,e,s){const i=dn;if(!this[i(537)])return;if(!this.hasInited)return;const r=this[i(537)][i(526)];!this[i(456)]&&(this.depthTexture=this.gpu[i(526)][i(476)]({size:[t,e],format:i(479),usage:window.GPUTextureUsage[i(473)]})),!this.textureGroupInfo&&(this[i(480)]=this[i(505)](t,e));let n=s[i(470)](0,t*e),o=s.slice(t*e,t*e*3/2);r.queue[i(511)](this[i(480)][i(484)],0,new Uint32Array([un[i(538)]])),r[i(506)][i(490)]({texture:this.textureGroupInfo[i(528)]},n,{bytesPerRow:t,rowsPerImage:e},[t,e]),r[i(506)][i(490)]({texture:this[i(480)][i(475)]},o,{bytesPerRow:t,rowsPerImage:e/2},[t/2,e/2]),this[i(492)]()}[dn(534)](t){const e=dn;if(!this[e(537)])return;if(!this[e(459)])return;const s=this.gpu[e(526)],i=t[e(520)],r=t.displayHeight;!this[e(456)]&&(this[e(456)]=this[e(537)][e(526)][e(476)]({size:[i,r],format:e(479),usage:window[e(512)][e(473)]})),!this.textureGroupInfo&&(this.textureGroupInfo=this[e(505)](i,r)),s[e(506)].writeBuffer(this[e(480)].pixelTypeBuffer,0,new Uint32Array([un[e(516)]])),s.queue[e(499)]({source:t},{texture:this.textureGroupInfo[e(530)]},[i,r]),this[e(492)]()}[dn(496)](){}}function mn(){const t=["createElement","5719ENdspu","left","composedPath","top","querySelectorAll","869260eTqjWd","split","length","26774KBNVuI","beforebegin","12edsiQg","div","removeChild","33QDlAXW","27vbRYWK","insertBefore","remove","getBoundingClientRect","innerHTML","clientWidth","children","from","documentElement","afterbegin","classList","beforeend","replace","parentElement","afterend","insertAdjacentHTML","forEach","7360533psIGzj","firstChild","257696zapshI","parentNode","replaceChild","keys","nextSibling","3088kchJWJ","clientHeight","59822MijjCl","setAttribute","transform","appendChild","style","firstElementChild","map","3231650ianjRt","max","indexOf","lastChild","height","width","4092VqZQVR","getComputedStyle","match","getPropertyValue"];return(mn=function(){return t})()}function gn(t,e){return t.classList.add(e)}function yn(t,e){const s=Sn;return t.classList[s(357)](e)}function An(t,e){return t[Sn(365)].contains(e)}function vn(t,e){const s=Sn;return e instanceof Element?t[s(384)](e):t[s(370)]("beforeend",String(e)),t.lastElementChild||t[s(391)]}function bn(t,e,s){const i=Sn;return t&&t[i(385)]&&Ps(e)&&(t[i(385)][e]=s),t}function Sn(t,e){const s=mn();return(Sn=function(t,e){return s[t-=341]})(t,e)}function En(t){const e=Sn,s=t[e(358)](),i=window.innerHeight||document[e(363)][e(380)],r=window.innerWidth||document.documentElement[e(360)],n=s[e(344)]<=i&&s[e(344)]+s.height>=0,o=s[e(342)]<=r&&s[e(342)]+s[e(393)]>=0;return n&&o}function wn(t,e){const s=Sn;return t[s(343)]&&t[s(343)]()[s(390)](e)>-1}function Tn(t){const e=Sn;let s=!1;return t&&(t.innerHTML="",t[e(375)]&&(t[e(375)].removeChild(t),s=!0)),s}function In(t){const e=Sn;let s=t.style[e(383)][e(396)](/scale\([0-9., ]*\)/g),i=null;if(s&&s[0]){i=s[0][e(367)]("scale(","")[e(367)](")","")[e(347)](",")}return i&&(i=i[e(387)]((t=>parseFloat(t.trim())))),i}function kn(t){const e=Sn;let s=arguments[e(348)]>1&&void 0!==arguments[1]?arguments[1]:e(366),i=arguments.length>2?arguments[2]:void 0;const r=document[e(398)](e(352));r[e(359)]=t;const n=document.createDocumentFragment();for(;r.firstChild;)n[e(384)](r.firstChild);switch(s){case e(350):i[e(375)][e(356)](n,i);break;case e(364):i[e(356)](n,i[e(373)]);break;case e(366):i[e(384)](n);break;case e(369):i[e(375)][e(356)](n,i[e(378)]);break;default:i.appendChild(n)}}!function(t,e){const s=Sn,i=t();for(;;)try{if(542187===parseInt(s(355))/1*(parseInt(s(381))/2)+parseInt(s(354))/3*(parseInt(s(374))/4)+-parseInt(s(346))/5*(parseInt(s(351))/6)+parseInt(s(341))/7*(-parseInt(s(379))/8)+-parseInt(s(372))/9+-parseInt(s(388))/10+parseInt(s(349))/11*(parseInt(s(394))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mn);const _n=Dn;function Cn(){const t=["join","-webkit-text-size-adjust","isFullResize","SingleWatermark","line","split","-moz-user-select","getVideoInfo","default","isResize","100%","shadowRootInnerDom","50090sUcGDX","polygon(","width","absolute","_removeDom","setAttribute","bound","right","fontSize","emitClickEvent","canvas","rgba(0,0,0,0)","position: absolute !important; width: 100% !important; height: 100% !important; top: 0 !important; left: 0 !important;","left","color","-ms-user-select","pointer-events: none !important;display: block !important;","getRenderType","random","-webkit-touch-callout","text","remove","forEach","12GixOYd","-o-user-select","destroy","player","display","shadowRoot","video","innerHTML","vertical","TAG_NAME","appendChild","scale(","px)","lineWidth","contain","position","settingLine","isDynamic","shadowRootRealDom","handleShadowRootInnerDomClick","-webkit-tap-highlight-color","sort","rect","insertBefore","_updateDom","mirrorRotate","deg)","backgroundColor","content","top","dataset","462opCPnC","44794xEsOzC","clipPath","user-select","fill","shadowRootDynamicDom","polygon","list","resize","fillOpacity","% - ","18jEqDDx","opacity","div","rotate","level","isArray","configList","dataContent","bottom","_resizeDomForCanvas","push","35546uNvDzX","height","borderStyle","length","html","_resizeDomForVideo","1025265ORNyAN","emit","_opt","102AHxqwM","aspectRatio"," rotateX(180deg)","9267936KddlxH","videoRectContentClick","children","sqrt","index"," rotate(","block"," rotateY(180deg)","padding","floor","calc(100% - ","none","src","image","map","_initDom","createElement","transform","stopPropagation","912FGSzqp","calc(","shadowRootInnerDomClick","objectFit","debugLog","style","addEventListener","getShowVideoRect","px 0","6681681iCgawL","237035PtfYhF","position: absolute; top: 0; left: 0; width: 0; height: 0;display: none;","0 0","overflow","scale"];return(Cn=function(){return t})()}function Dn(t,e){const s=Cn();return(Dn=function(t,e){return s[t-=277]})(t,e)}!function(t,e){const s=Dn,i=t();for(;;)try{if(575551===parseInt(s(330))/1*(-parseInt(s(340))/2)+-parseInt(s(357))/3*(-parseInt(s(298))/4)+-parseInt(s(392))/5*(parseInt(s(360))/6)+parseInt(s(351))/7*(parseInt(s(382))/8)+parseInt(s(391))/9+-parseInt(s(409))/10*(-parseInt(s(329))/11)+-parseInt(s(363))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cn);class Rn{constructor(t){const e=Dn;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this[e(301)]=t,this._opt=s,this[e(307)]=e(400),this[e(346)]=[],this[e(303)]=null,this[e(316)]=null,this[e(408)]=null,this.shadowRootDynamicDom=null,this[e(396)]=1,this[e(315)]=!1,this[e(281)]={shadowRootInnerDomClick:this[e(317)].bind(this)},this[e(378)](),s[e(284)]&&this[e(408)][e(388)]("click",this[e(281)].shadowRootInnerDomClick,!1),this[e(301)].debugLog(this.TAG_NAME,"int")}[_n(300)](){const t=_n;if(this[t(346)]=[],this.shadowRootInnerDom&&this._opt.emitClickEvent&&this[t(408)].removeEventListener("click",this[t(281)][t(384)],!1),this[t(408)]=null,this[t(334)]=null,this[t(315)]=!1,this.scale=1,this.shadowRoot){!Tn(this[t(316)])&&this[t(316)].remove(),this.shadowRoot[t(305)]="",this.shadowRoot=null,this.shadowRootRealDom=null}this[t(281)]=null,this[t(359)]=null,this[t(301)].debugLog(this[t(307)],t(300))}handleShadowRootInnerDomClick(t){const e=_n;t[e(381)](),t.preventDefault();const s=$s(t);if(s&&s.dataset){const t=s.dataset[e(326)];t&&this[e(301)][e(358)](O[e(364)],t)}}[_n(337)](){const t=_n;this[t(301)][t(386)](this[t(307)],"resize()"),this[t(301)][t(359)].aspectRatio===t(405)||as()?this[t(301)][t(292)]()===f[t(285)]?this[t(349)]():this[t(301)][t(292)]()===f[t(304)]&&this[t(356)]():this._resizeDomRatio()}_initDom(){const t=_n,e=this.player.$container;let s=null;const i=document[t(379)](t(342));let r=t(291);this[t(359)][t(284)]&&(r=t(287)),i[t(280)](t(387),r),s="function"==typeof i.attachShadow?i.attachShadow({mode:"open"}):i[t(303)]?i[t(303)]:i;const n=document[t(379)](t(342));n[t(280)](t(387),t(393)),s.appendChild(n);const o=e[t(365)],a=Math[t(372)](Math[t(293)]()*(o.length-1))+1;o[a]?e[t(321)](i,o[a]):e.appendChild(i),this[t(408)]=n,this.shadowRootRealDom=i,this[t(303)]=s}update(t){const e=_n;this._removeDom();let s=[];Array[e(345)](t)?s=t:Ks(t)&&s[e(350)](t);let i=s.map((t=>xs(t)));this[e(346)]=i,this._updateDom()}_resizeDomForVideo(){const t=_n,e=this[t(301)][t(404)]();if(!(e&&e[t(352)]>0&&e[t(277)]>0))return;let s=e[t(277)],i=e[t(352)];const r=this.player[t(359)],n=this.player[t(389)]();let o=n[t(352)],a=n[t(277)];const h=r[t(343)];let l=(a-s)/2,c=(o-i)/2;(270===h||90===h)&&(s=e[t(352)],i=e[t(277)]);const d=a/s,u=o/i;let p=d>u?u:d;Si(r.isResize)&&d!==u&&(p=d+","+u),r[t(399)]&&(p=d>u?d:u);let f=t(309)+p+")";r[t(323)]===t(374)&&h&&(f+=" rotate("+h+"deg)"),r[t(323)]===t(344)?f+=" rotateY(180deg)":r.mirrorRotate===t(306)&&(f+=t(362)),this[t(396)]=-1!==(""+p).indexOf(",")?d:p,this[t(408)][t(387)][t(380)]=f,this[t(408)][t(387)][t(288)]=l+"px",this[t(408)][t(387)][t(327)]=c+"px",this[t(408)][t(387)][t(277)]=e.width+"px",this[t(408)][t(387)].height=e.height+"px",this[t(408)][t(387)][t(302)]=t(369)}[_n(349)](){const t=_n,e=this[t(301)][t(404)]();if(!(e&&e[t(352)]>0&&e.width>0))return;const s=this[t(301)]._opt,i=this[t(301)][t(389)]();let r=i.width,n=i.height,o=e.width,a=e[t(352)];const h=s[t(343)];let l=(r-o)/2,c=(n-a)/2;(270===h||90===h)&&(o=e[t(352)],a=e.width);const d=r/o,u=n/a;let p=d>u?u:d;!s[t(406)]&&d!==u&&(p=d+","+u),s[t(399)]&&(p=d>u?d:u);let f=t(309)+p+")";s.mirrorRotate===t(374)&&h&&(f+=t(368)+h+t(324)),"level"===s.mirrorRotate?f+=t(370):s[t(323)]===t(306)&&(f+=t(362)),this.shadowRootInnerDom.style.height=e[t(352)]+"px",this.shadowRootInnerDom[t(387)][t(277)]=e[t(277)]+"px",this[t(408)].style.padding="0",this[t(408)].style.transform=f,this[t(408)][t(387)][t(288)]=l+"px",this[t(408)][t(387)][t(327)]=c+"px",this.shadowRootInnerDom[t(387)][t(302)]=t(369)}_resizeDomRatio(){const t=_n,e=this.player[t(404)]();if(!(e&&e[t(352)]>0&&e[t(277)]>0))return;const s=this[t(301)][t(359)][t(361)][t(402)](":")[t(377)](Number),i=this[t(301)][t(389)]();let r=i[t(277)],n=i.height,o=this[t(301)].getControlHeight();const a=e[t(277)]/e.height,h=s[0]/s[1];if(a>h){const s=h*e[t(352)]/e[t(277)];this.shadowRootInnerDom[t(387)][t(277)]=100*s+"%",this[t(408)][t(387)][t(352)]=t(373)+o+"px)",this[t(408)][t(387)][t(371)]="0 "+(r-r*s)/2+"px"}else{const s=e[t(277)]/h/e[t(352)];this[t(408)][t(387)].width="100%",this[t(408)].style[t(352)]=t(383)+100*s+t(339)+o+t(310),this[t(408)][t(387)][t(371)]=(n-n*s)/2+t(390)}this[t(408)].style.display=t(369)}[_n(322)](){const t=_n;this[t(303)]&&this.configList[t(297)]((e=>{const s=t,i=document.createElement("div");let r=null;if(e[s(376)]&&e[s(376)].src?(r=document.createElement("img"),r[s(387)].height=s(407),r[s(387)][s(277)]="100%",r[s(387)][s(385)]=s(312),r[s(375)]=e.image[s(375)]):e[s(295)]&&e[s(295)].content?r=document.createTextNode(e[s(295)][s(326)]):e.rect&&e.rect[s(289)]&&e[s(320)][s(277)]||e[s(355)]?r=document[s(379)](s(342)):e.line&&e.line.x1&&e[s(401)].y1&&e[s(401)].x2&&e[s(401)].y2?r=document[s(379)]("div"):e.polygon&&e[s(335)][s(336)]&&e.polygon[s(336)][s(354)]>=3&&(r=document[s(379)](s(342))),r){if(i[s(308)](r),i[s(387)].visibility="",i[s(387)][s(313)]="absolute",i[s(387)][s(302)]=s(369),i[s(387)][s(290)]="none",i[s(387)][s(403)]=s(374),i[s(387)]["-webkit-user-select"]=s(374),i[s(387)][s(299)]=s(374),i[s(387)][s(332)]=s(374),i[s(387)][s(294)]="none",i[s(387)][s(318)]=s(286),i[s(387)][s(398)]=s(374),i.style[s(294)]=s(374),i[s(387)][s(341)]=e[s(341)],Ps(e.left)&&(ws(e[s(288)])?i[s(387)][s(288)]=e.left+"px":i[s(387)][s(288)]=e[s(288)]),Ps(e.right)&&(ws(e[s(282)])?i[s(387)][s(282)]=e[s(282)]+"px":i[s(387)][s(282)]=e[s(282)]),Ps(e[s(327)])&&(ws(e.top)?i.style.top=e[s(327)]+"px":i[s(387)][s(327)]=e.top),Ps(e[s(348)])&&(ws(e.bottom)?i.style[s(348)]=e[s(348)]+"px":i.style[s(348)]=e[s(348)]),e[s(325)]&&(i[s(387)][s(325)]=e.backgroundColor),i[s(387)][s(395)]="hidden",i[s(387)].zIndex="9999999",e[s(376)]&&e.image[s(375)])i[s(387)][s(277)]=e[s(376)][s(277)]+"px",i.style[s(352)]=e[s(376)][s(352)]+"px",e[s(347)]&&(i.dataset[s(326)]=e[s(347)]);else if(e[s(295)]&&e.text[s(326)])i.style[s(283)]=e[s(295)].fontSize+"px",i[s(387)][s(289)]=e[s(295)][s(289)],e.text[s(277)]&&(i[s(387)][s(277)]=e[s(295)][s(277)]+"px"),e.text[s(352)]&&(i[s(387)][s(352)]=e[s(295)].height+"px"),e.dataContent&&(i[s(328)][s(326)]=e[s(347)]);else if(e[s(320)]&&e.rect[s(289)]&&e.rect[s(277)]){if(i[s(387)][s(277)]=e[s(320)].width+"px",i[s(387)][s(352)]=e[s(320)][s(352)]+"px",i[s(387)].borderWidth=e[s(320)][s(311)]+"px",i.style[s(353)]="solid",i[s(387)].borderColor=e.rect[s(289)],e[s(347)]&&(i[s(328)][s(326)]=e[s(347)]),e[s(320)][s(333)]){const t=document[s(379)]("div");t[s(387)][s(313)]="absolute",t[s(387)].width=s(407),t[s(387)][s(352)]=s(407),t[s(387)][s(325)]=e.rect.fill,e.rect[s(338)]&&(t[s(387)][s(341)]=e[s(320)][s(338)]),e[s(347)]&&(t[s(328)][s(326)]=e[s(347)]),i[s(308)](t)}}else if(e[s(355)])i[s(387)][s(277)]=s(407),i[s(387)].height=s(407),i[s(305)]=e.html;else if(e[s(401)]&&e.line.x1&&e[s(401)].y1&&e[s(401)].x2&&e.line.y2)this[s(314)](i,e.line);else if(e.polygon&&e.polygon[s(336)]&&e.polygon[s(336)][s(354)]>=3){i[s(387)][s(277)]="100%",i[s(387)][s(352)]=s(407);let t=e[s(335)].list;const r=e[s(335)][s(289)],n=e[s(335)][s(311)];if(t=t[s(319)](((t,e)=>{const i=s;return(t[i(367)]||0)-(e[i(367)]||0)})),e[s(335)][s(333)]){const r=document[s(379)](s(342));r[s(387)][s(313)]=s(278),r[s(387)][s(277)]=s(407),r[s(387)][s(352)]=s(407);const n=s(410)+t[s(377)]((t=>t.x+"px "+t.y+"px"))[s(397)](", ")+")";r[s(387)][s(331)]=n,r.style[s(325)]=e.polygon.fill,e[s(335)][s(338)]&&(r[s(387)][s(341)]=e[s(335)][s(338)]),i[s(308)](r)}t[s(297)](((e,o)=>{const a=s,h=document[a(379)]("div");if(o===t[a(354)]-1){const s=t[0],o={x1:e.x,y1:e.y,x2:s.x,y2:s.y,color:r,lineWidth:n};return this[a(314)](h,o),void i.appendChild(h)}const l=t[o+1],c={x1:e.x,y1:e.y,x2:l.x,y2:l.y,color:r,lineWidth:n};this[a(314)](h,c),i[a(308)](h)}))}this[s(315)]&&(this.shadowRootDynamicDom=i),this.shadowRootInnerDom[s(308)](i)}}))}[_n(314)](t,e){const s=_n,i=e.x1,r=e.y1,n=e.x2,o=e.y2;var a=Math[s(366)]((i-n)**2+(r-o)**2),h=180*Math.atan2(o-r,n-i)/Math.PI;t[s(387)].backgroundColor=e[s(289)],t.style[s(277)]=a+"px",t[s(387)].height=e[s(311)]+"px",t[s(387)][s(313)]=s(278),t[s(387)][s(327)]=r+"px",t.style[s(288)]=i+"px",t[s(387)][s(380)]="rotate("+h+s(324),t[s(387)].transformOrigin=s(394)}[_n(296)](){this._removeDom()}[_n(279)](){const t=_n;this[t(408)]&&(this.shadowRootInnerDom[t(305)]="")}}const Ln=xn;function Pn(){const t=["aiFaceDetectInterval","singleWatermark","push","_isDestroyed","getHasInit","screenshotByCurrentWatermark","updatePrevVideoElementStyleScale","encType","158224CtytxJ","canvas","setStreamFps","emitVideoContentClickEvent","fontSize","bufferList","addContentToCanvas","getCurrentTime","contentWatermark","9551925hScIES","getCanvasType","left","prevAiFaceDetectTime","dynamicWatermark","_resizeRatio","fillOpacity","imageDetector","getName","isVideoPlaying","prevTempAiContentListString","line","initFps","faceDetector","TAG_NAME","init","CommonVideo","dataContent","% - ","remove","updateVideoInfoByWebrtc","resizeLoadingBackground","streamFps","initCanvasViewSize","encTypeCode","screenshotByRect","px)","clearView","6079746XhRvZO","1681672fxxHwd","imageDetectActive","7aWYVnx","getBufferListLength","player","height","prevAiObjectDetectTime","type","100%","off","destroy","aspectRatio","802eamvtU","setRate","addAiContentToCanvas","tempAiContentList","aiObjectDetectInterval","control","zoom","map","faceDetectActive","color","check","_opt","doAddContentToWatermark","2701465DXWbqF","objectDetectActive","debugLog","getControlHeight","resize","data","ghostWatermark","updateVideoInfo","none","length","aiContentWatermark","_resizeRatio()","list","tempContentList","getVideoInfo","occlusionDetector","width","prevTempContentListString","text","getStreamFps","emit","stringify","zooming","fill","$videoElement","objectDetector","lineWidth","updateInitVideoPosition","i420","isPlaying","_resize","split","doAddAiContentToWatermark","doRender() and ai image detect result type is ","needAiCheck","occlusionDetectActive","polygon","prevAiOcclusionDetectTime","aiImageDetectResult","rect","197060HAYmfU","yuv","green","videoInfo","update","px 0","8385ZjvDjf","aiOcclusionDetectResult","getType","padding","style","calc(","forEach","updateVideoElementScaleByResize"];return(Pn=function(){return t})()}function xn(t,e){const s=Pn();return(xn=function(t,e){return s[t-=165]})(t,e)}!function(t,e){const s=xn,i=t();for(;;)try{if(585173===-parseInt(s(210))/1+parseInt(s(282))/2*(parseInt(s(216))/3)+parseInt(s(232))/4+-parseInt(s(170))/5+parseInt(s(269))/6+parseInt(s(272))/7*(parseInt(s(270))/8)+-parseInt(s(241))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Pn);class Mn extends zi{constructor(){const t=xn;super(),this.TAG_NAME="",this[t(213)]={width:null,height:null,encType:null,encTypeCode:null},this.init=!1,this[t(244)]=null,this.prevAiObjectDetectTime=null,this[t(207)]=null,this.contentWatermark=null,this[t(180)]=null,this[t(183)]=[],this[t(187)]="",this[t(285)]=[],this[t(251)]="",this[t(237)]=[],this[t(263)]=0,this[t(227)]=!1}[Ln(280)](){const t=Ln;this[t(227)]=!0,this.resetInit(),this[t(213)]={width:null,height:null,encType:null,encTypeCode:null},this[t(240)]&&(this.contentWatermark[t(280)](),this.contentWatermark=null),this[t(183)]=[],this[t(187)]="",this[t(180)]&&(this[t(180)].destroy(),this[t(180)]=null),this[t(285)]=[],this.prevTempAiContentListString="",this[t(244)]=null,this.prevAiObjectDetectTime=null,this.prevAiOcclusionDetectTime=null,this[t(263)]=0,this[t(279)]()}resetInit(){this[Ln(256)]=!1}[Ln(228)](){return this[Ln(256)]}[Ln(177)](t){const e=Ln;Ps(t[e(265)])&&(this[e(213)][e(231)]=H[t[e(265)]],this[e(213)].encTypeCode=t[e(265)]),Ps(t[e(231)])&&(this[e(213)].encType=t[e(231)]),Ps(t[e(186)])&&(this[e(213)][e(186)]=t.width),Ps(t[e(275)])&&(this[e(213)][e(275)]=t[e(275)]),Ps(this.videoInfo[e(231)])&&Ps(this[e(213)][e(275)])&&Ps(this[e(213)][e(186)])&&!this[e(256)]&&(this[e(274)].emit(O[e(213)],this[e(213)]),this.init=!0)}[Ln(261)](t){const e=Ln;this[e(177)](t),this[e(274)][e(190)](O[e(213)],this.videoInfo)}[Ln(184)](){return this[Ln(213)]}[Ln(268)](){const t=Ln;this.tempContentList=[],this[t(187)]="",this.tempAiContentList=[],this[t(251)]=""}resize(){const t=Ln;this.player.debugLog("CommonVideo","resize()"),"default"===this.player[t(168)][t(281)]||as()?this[t(200)]():this[t(246)](),this[t(240)]&&this[t(240)][t(174)](),this[t(180)]&&this[t(180)][t(174)](),this[t(274)][t(225)]&&this[t(274)][t(225)][t(174)](),this[t(274)][t(176)]&&this[t(274)][t(176)][t(174)](),this.player[t(245)]&&this[t(274)][t(245)][t(174)](),this.player[t(288)]&&this[t(274)][t(192)]&&(this[t(274)].zoom[t(197)](),this[t(274)][t(288)][t(230)](),this[t(274)][t(288)][t(223)]()),this[t(274)].control&&this[t(274)][t(287)][t(262)]()}[Ln(246)](){const t=Ln;this[t(274)][t(172)](t(257),t(181));const e=this[t(274)][t(168)][t(281)][t(201)](":")[t(289)](Number),s=this.player.getShowVideoRect();let i=s[t(186)],r=s.height,n=this[t(274)][t(173)]();const o=this[t(213)],a=o[t(186)]/o[t(275)],h=e[0]/e[1];if(this[t(218)]()===f[t(233)]&&(this[t(194)][t(220)][t(243)]="0",this[t(194)][t(220)].top="0",this[t(194)][t(220)].transform=t(178)),this[t(218)]()===f.video&&this[t(274)]._opt.videoRenderSupportScale&&(this[t(194)][t(220)].objectFit=t(193)),a>h){const e=h*o[t(275)]/o[t(186)];this[t(194)].style[t(186)]=100*e+"%",this.$videoElement[t(220)][t(275)]="calc(100% - "+n+t(267),this.$videoElement.style[t(219)]="0 "+(i-i*e)/2+"px"}else{const e=o[t(186)]/h/o[t(275)];this.$videoElement[t(220)].width=t(278),this.$videoElement.style[t(275)]=t(221)+100*e+t(259)+n+t(267),this[t(194)][t(220)][t(219)]=(r-r*e)/2+t(215)}}play(){}pause(){}[Ln(283)](t){}[Ln(218)](){return""}[Ln(242)](){return""}[Ln(239)](){return 0}[Ln(189)](){return this[Ln(263)]}[Ln(199)](){return!0}[Ln(250)](){return this.isPlaying()}getPlaybackQuality(){return null}[Ln(234)](t){const e=Ln;this[e(274)].debugLog(e(257),"setStreamFps",t),this.streamFps=t}[Ln(238)](){const t=Ln;let e=arguments[t(179)]>0&&void 0!==arguments[0]?arguments[0]:[];this[t(183)]=e,this.doAddContentToWatermark()}[Ln(284)](){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this[Ln(285)]=t,this.doAddAiContentToWatermark()}[Ln(169)](){const t=Ln;if(this.tempContentList[t(179)]>0){!this[t(240)]&&(this[t(240)]=new Rn(this[t(274)],{emitClickEvent:this[t(274)]._opt[t(235)]}),this[t(240)].resize());const e=JSON[t(191)](this[t(183)]);if(this.prevTempContentListString&&this[t(187)]===e)return;const s=[];this[t(183)][t(222)]((e=>{const i=t;let r={left:e.x||0,top:e.y||0};e[i(277)]===i(188)?(r[i(188)]={content:e.text,fontSize:e[i(236)]||"14",color:e[i(166)]||"#000"},r[i(258)]=e[i(258)]||""):e[i(277)]===i(209)?(r[i(209)]={width:e[i(186)],height:e[i(275)],color:e[i(166)]||i(212),lineWidth:e[i(196)]||2,fill:e[i(193)]||"",fillOpacity:e[i(247)]||.2},r.dataContent=e.dataContent||""):e[i(277)]===i(206)?r.polygon={list:e[i(182)],color:e[i(166)]||i(212),lineWidth:e[i(196)]||2,fill:e[i(193)],fillOpacity:e[i(247)]||.2}:e[i(277)]===i(252)&&(r.line={color:e[i(166)]||i(212),lineWidth:e.lineWidth||2,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),s[i(226)](r)})),this[t(240)][t(214)](s),this[t(187)]=e}else this[t(240)]&&this[t(240)][t(260)](),this[t(187)]=""}[Ln(202)](){const t=Ln;if(this[t(285)][t(179)]>0){!this[t(180)]&&(this.aiContentWatermark=new Rn(this[t(274)]),this.aiContentWatermark[t(174)]());const e=JSON[t(191)](this.tempAiContentList);if(this[t(251)]&&this[t(187)]===e)return;const s=this.tempAiContentList[t(289)]((e=>{const s=t;let i={left:e.x,top:e.y};return e[s(277)]===s(188)?i.text={content:e[s(188)],fontSize:e.fontSize,color:e[s(166)]}:e.type===s(209)&&(i[s(209)]={width:e[s(186)],height:e[s(275)],color:e[s(166)],lineWidth:e[s(196)]}),i}));this.aiContentWatermark.update(s),this[t(251)]=e}else this[t(180)]&&this[t(180)][t(260)](),this[t(251)]=""}getReadyStateInited(){return!0}[Ln(229)](){}[Ln(264)](){}bindMediaStream(){}[Ln(249)](){return this[Ln(255)]}[Ln(273)](){const t=Ln;let e=0;return this[t(237)]&&(e=this.bufferList[t(179)]),e}[Ln(266)](t){return null}[Ln(253)](){}needAiCheck(){const t=Ln;return this[t(274)].ai||this.player[t(165)]||this[t(274)][t(171)]||this[t(274)][t(205)]||this[t(274)][t(271)]}aiCheck(t){const e=Ln;let s=arguments[e(179)]>1&&void 0!==arguments[1]?arguments[1]:_[e(198)],i=t[e(211)],r=s;if(!this[e(204)]())return{yuv:i,format:C[r]};if(this.player[e(165)]&&this[e(274)].ai&&this[e(274)].ai[e(254)]){null===this.prevAiFaceDetectTime&&(this[e(244)]=Je());const n=Je();n-this[e(244)]>=this[e(274)][e(168)][e(224)]&&(i=this.player.ai[e(254)].detect({width:this[e(213)][e(186)],height:this[e(213)][e(275)],data:t[e(211)],ts:t.ts||0},s),r=_[e(198)],this.prevAiFaceDetectTime=n)}if(this[e(274)][e(171)]&&this[e(274)].ai&&this[e(274)].ai.objectDetector){null===this[e(276)]&&(this.prevAiObjectDetectTime=Je());const n=Je();n-this.prevAiObjectDetectTime>=this[e(274)][e(168)][e(286)]&&(i=this[e(274)].ai[e(195)].detect({width:this[e(213)].width,height:this[e(213)][e(275)],data:t[e(211)],ts:t.ts||0},s),r=_[e(198)],this[e(276)]=n)}if(this.player[e(205)]&&this[e(274)].ai&&this[e(274)].ai.occlusionDetector){null===this[e(207)]&&(this[e(207)]=Je());const i=Je();if(i-this.prevAiOcclusionDetectTime>=this[e(274)][e(168)].aiOcclusionDetectInterval){const r=this[e(274)].ai[e(185)].check({width:this[e(213)].width,height:this[e(213)].height,data:t[e(211)]},s);this[e(207)]=i,r&&this[e(274)][e(190)](O[e(217)],{ts:t.ts||0})}}if(this[e(274)][e(271)]&&this.player.ai&&this[e(274)].ai[e(248)]){const i=this[e(274)].ai[e(248)][e(167)]({width:this.videoInfo[e(186)],height:this[e(213)].height,data:t[e(211)]},s);if(i&&i[e(175)]&&(this[e(274)][e(190)](O[e(208)],{type:i[e(277)],ts:t.ts||0}),this[e(274)][e(168)].aiImageDetectDrop))return void this.player.debugLog(this[e(255)],e(203)+i[e(277)]+" and drop")}return{yuv:i,format:C[r]}}}var Bn=jn;!function(t,e){for(var s=jn,i=t();;)try{if(643435===-parseInt(s(225))/1*(-parseInt(s(214))/2)+-parseInt(s(209))/3*(-parseInt(s(204))/4)+parseInt(s(243))/5+-parseInt(s(210))/6+-parseInt(s(221))/7*(-parseInt(s(230))/8)+-parseInt(s(249))/9*(-parseInt(s(201))/10)+-parseInt(s(238))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Un);var Fn=typeof window===Bn(234)&&window.window===window?window:typeof self===Bn(234)&&self[Bn(235)]===self?self:typeof global===Bn(234)&&global.global===global?global:void 0;function Un(){var t=["8190QaFcWB","onloadend","string","88FroEyw","createElementNS","dispatchEvent","blob","createObjectURL","130794UwSOjy","314442EuRuSt","HEAD","initMouseEvent","could not download file","10oyeIAL","noopener","location","replace","rel","application/octet-stream","type","7hCXsrp","fromCharCode","test","href","24259rUhzdY","revokeObjectURL","error","download","onerror","8405192rVnQvF","prototype","createElement","send","object","self","GET","http://www.w3.org/1999/xhtml","29888001GQvdzd","MouseEvents","userAgent","origin","URL","2633575Eczwth","HTMLElement","webkitURL","safari","status","_blank","8298NknuIX","navigator","msSaveOrOpenBlob","warn","innerText","responseType","createEvent","data:attachment/file;","onload","undefined","click","name","target","document","downloading...","title","body"];return(Un=function(){return t})()}function On(t,e,s){var i=Bn,r=new XMLHttpRequest;r.open(i(236),t),r[i(189)]=i(207),r[i(192)]=function(){Gn(r.response,e,s)},r[i(229)]=function(){var t=i;console[t(227)](t(213))},r[i(233)]()}function Nn(t){var e=Bn,s=new XMLHttpRequest;s.open(e(211),t,!1);try{s[e(233)]()}catch(t){}return s[e(247)]>=200&&s[e(247)]<=299}function jn(t,e){var s=Un();return(jn=function(t,e){return s[t-=186]})(t,e)}function Vn(t){var e=Bn;try{t[e(206)](new MouseEvent(e(194)))}catch(i){var s=document[e(190)](e(239));s[e(212)](e(194),!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t[e(206)](s)}}var Wn=Fn[Bn(250)]&&/Macintosh/[Bn(223)](navigator[Bn(240)])&&/AppleWebKit/[Bn(223)](navigator[Bn(240)])&&!/Safari/[Bn(223)](navigator[Bn(240)]),Gn="object"!=typeof window||window!==Fn?function(){}:Bn(228)in HTMLAnchorElement[Bn(231)]&&!Wn?function(t,e,s){var i=Bn,r=Fn[i(242)]||Fn[i(245)],n=document[i(205)](i(237),"a");e=e||t[i(195)]||"download",n[i(228)]=e,n[i(218)]=i(215),typeof t===i(203)?(n[i(224)]=t,n[i(241)]!==location[i(241)]?Nn(n[i(224)])?On(t,e,s):Vn(n,n[i(196)]="_blank"):Vn(n)):(n[i(224)]=r[i(208)](t),setTimeout((function(){var t=i;r[t(226)](n[t(224)])}),4e4),setTimeout((function(){Vn(n)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){var i,r,n,o=Bn;if(e=e||t[o(195)]||"download",typeof t===o(203))if(Nn(t))On(t,e,s);else{var a=document[o(232)]("a");a[o(224)]=t,a.target=o(248),setTimeout((function(){Vn(a)}))}else navigator[o(186)]((i=t,n=Bn,void 0===(r=s)?r={autoBom:!1}:"object"!=typeof r&&(console[n(187)]("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String[n(222)](65279),i],{type:i[n(220)]}):i),e)}:function(t,e,s,i){var r=Bn;if((i=i||open("",r(248)))&&(i[r(197)][r(199)]=i[r(197)][r(200)][r(188)]=r(198)),typeof t===r(203))return On(t,e,s);var n=t[r(220)]===r(219),o=/constructor/i[r(223)](Fn[r(244)])||Fn[r(246)],a=/CriOS\/[\d]+/.test(navigator[r(240)]);if((a||n&&o||Wn)&&typeof FileReader!==r(193)){var h=new FileReader;h[r(202)]=function(){var t=r,e=h.result;e=a?e:e[t(217)](/^data:[^;]*;/,t(191)),i?i[t(216)][t(224)]=e:location=e,i=null},h.readAsDataURL(t)}else{var l=Fn[r(242)]||Fn.webkitURL,c=l[r(208)](t);i?i[r(216)]=c:location[r(224)]=c,i=null,setTimeout((function(){l[r(226)](c)}),4e4)}};function zn(t,e){const s=Kn();return(zn=function(t,e){return s[t-=137]})(t,e)}const Hn=zn;!function(t,e){const s=zn,i=t();for(;;)try{if(555373===parseInt(s(140))/1+-parseInt(s(208))/2+parseInt(s(152))/3+-parseInt(s(170))/4*(parseInt(s(189))/5)+parseInt(s(209))/6+parseInt(s(171))/7*(-parseInt(s(138))/8)+parseInt(s(143))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Kn);Hn(187),Hn(215),Hn(199),Hn(190),Hn(191);function Kn(){const t=["indices","uniform4f","resolution","uLineColor","ELEMENT_ARRAY_BUFFER","_initBuffers","drawElements","\n            precision highp float;\n            uniform float uLineWidth;\n            uniform vec4 uRect;\n            uniform vec3 uLineColor;\n            uniform vec2 uResolution;\n\n\n            float inBox(vec2 st, vec4 rect){\n\n                vec2 bl = step(rect.xy,st);\n                float pct = bl.x * bl.y;\n\n                vec2 tr = step(st, rect.zw);\n                pct *= tr.x * tr.y;\n\n                return pct;\n            }\n\n            void main(void) {\n\n                vec2 cur = gl_FragCoord.xy/uResolution;\n\n                float xlinewidth  = uLineWidth/uResolution.x;\n                float ylinewidth  = uLineWidth/uResolution.y;\n\n                // vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);\n                // vec4 inRect  = uRect + vec4(xlinewidth/2., ylinewidth/2., -1.*xlinewidth/2., -1.*ylinewidth/2.);\n\n                vec4 outRect = uRect + vec4(-1.*xlinewidth/2., -1.*ylinewidth/2., xlinewidth/2., ylinewidth/2.);\n                vec4 inRect  = uRect;\n\n                float a = inBox(cur, outRect);\n                float b = inBox(cur, inRect);\n\n                gl_FragColor = mix(vec4(0., 0., 0., 0.), vec4(uLineColor.rgb, 1.0), a-b);\n\n            }\n            ","7844kcJxOw","462175HvSyDW","getUniformLocation","getProgramInfoLog","ARRAY_BUFFER","bufferData","uLineWidth","deleteProgram","CLAMP_TO_EDGE","\n          attribute vec4 aVertexPosition;\n            void main(void) {\n              gl_Position = aVertexPosition;\n            }\n            ","createBuffer","TEXTURE_MAG_FILTER","bindBuffer","enable","createTexture","shaderProgram","An error occurred compiling the shaders: ","_initShaderProgram","getProgramParameter","805qliDMR","_drawScene","drawBox","compileShader","TEXTURE_WRAP_S","uniform3f","TRIANGLES","texParameteri","position","aVertexPosition","_createTexture","buffers","fromValues","LINEAR","UNPACK_ALIGNMENT","TEXTURE_MIN_FILTER","program","uRect","createProgram","1680684JvAHwo","444252thqzge","deleteShader","TEXTURE_2D","uResolution","SRC_ALPHA","shaderSource","_loadShader","vertexAttribPointer","rect","64VgXGfQ","createShader","322744IfDBcB","Unable to initialize the shader program: ","linecolor","15317973ECDGpS","uniform1f","uniform2f","UNSIGNED_SHORT","ONE_MINUS_SRC_ALPHA","deleteBuffer","uniformLocations","viewport","vertexPosition","422559fpmrDv","attachShader","pixelStorei","log","STATIC_DRAW","FRAGMENT_SHADER","LINK_STATUS","VERTEX_SHADER","programInfo","getShaderInfoLog"];return(Kn=function(){return t})()}function qn(t,e){const s=Yn();return(qn=function(t,e){return s[t-=212]})(t,e)}function Yn(){const t=["gpu","22NkJaKD","getContext","then","configure","WebGPU not support!!","getPreferredCanvasFormat","opaque","catch","34559DiXqkG","17234YUcCgI","497040iDxVGX","97765VCPJcF","requestDevice","156dLZFfS","11489036KzVZyT","4169397Ktbkfk",'WebGPU "adapter.requestDevice()" fail','WebGPU "context" create fail','WebGPU "navigator.gpu.requestAdapter()" fail',"2344UugkmI","4aGzQEy",'WebGPU "device" request fail',"13441710QONhzl","28BIKnXb","9azYDXE"];return(Yn=function(){return t})()}function Qn(t){return new Promise(((e,s)=>{const i=qn;navigator[i(220)]?navigator[i(220)].requestAdapter()[i(223)]((r=>{const n=i;r?r[n(233)]()[n(223)]((i=>{const o=n;if(i){const n=t[o(222)]("webgpu");if(n){const t=navigator[o(220)][o(226)]();n[o(224)]({device:i,format:t,alphaMode:o(227)}),e({adapter:r,device:i,context:n,format:t})}else s(o(212))}else s(o(216))})).catch((t=>{s(n(237))})):s('WebGPU "adapter" request fail is empty')}))[i(228)]((t=>{s(i(213))})):s(i(225))}))}function Jn(){const t=["drawingBufferHeight","vertexShader","26JwPDUT","useProgram","getShaderInfoLog","deleteTexture","fragmentShader","COMPILE_STATUS","linkProgram","NEAREST","6057354UGKVuZ","createTexture","texSubImage2D","deleteProgram","compileShader","UNSIGNED_BYTE","125852caSZCQ","ARRAY_BUFFER","153400AisohW","texParameteri","VERTEX_SHADER","deleteShader","enableVertexAttribArray","width","buffer","viewport","getProgramParameter","displayHeight","CLAMP_TO_EDGE","LINK_STATUS","37166436YZHMYF","shaderSource","clear","FLOAT","texture","\n            attribute vec2 xy;\n            varying highp vec2 uv;\n            void main(void) {\n                gl_Position = vec4(xy, 0.0, 1.0);\n                // Map vertex coordinates (-1 to +1) to UV coordinates (0 to 1).\n                // UV coordinates are Y-flipped relative to vertex coordinates.\n                uv = vec2((1.0 + xy.x) / 2.0, (1.0 - xy.y) / 2.0);\n            }\n        ","TRIANGLE_FAN","program","getShaderParameter","bindTexture","TEXTURE_2D","getAttribLocation","drawArrays","canvas","913PtqxgJ","TEXTURE_WRAP_S","STATIC_DRAW","5IXPmah","height","97769lcUYYT","isInited","drawingBufferWidth","\n             varying highp vec2 uv;\n             uniform sampler2D texture;\n             void main(void) {\n                gl_FragColor = texture2D(texture, uv);\n             }\n        ","810194lqfsef","18NMTNIg","clearColor","destroy","2061ELGiQK","deleteBuffer","createProgram","43064fkcIWl","createShader","attachShader"];return(Jn=function(){return t})()}function Xn(t,e){const s=Jn();return(Xn=function(t,e){return s[t-=387]})(t,e)}!function(t,e){const s=qn,i=t();for(;;)try{if(753599===parseInt(s(230))/1*(-parseInt(s(218))/2)+-parseInt(s(236))/3*(-parseInt(s(215))/4)+parseInt(s(232))/5*(parseInt(s(234))/6)+parseInt(s(229))/7*(-parseInt(s(214))/8)+-parseInt(s(219))/9*(-parseInt(s(217))/10)+-parseInt(s(221))/11*(-parseInt(s(231))/12)+-parseInt(s(235))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yn);const $n=Xn;!function(t,e){const s=Xn,i=t();for(;;)try{if(779678===parseInt(s(393))/1*(parseInt(s(409))/2)+parseInt(s(398))/3*(-parseInt(s(423))/4)+parseInt(s(391))/5*(-parseInt(s(417))/6)+parseInt(s(397))/7+-parseInt(s(404))/8*(parseInt(s(401))/9)+-parseInt(s(425))/10*(parseInt(s(388))/11)+parseInt(s(437))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jn);class Zn{constructor(t,e){const s=Xn;this[s(387)]=t,this.gl=e,this[s(394)]=!1;const i=s(442),r=s(396),n=e.createShader(e[s(427)]);if(e[s(438)](n,i),e.compileShader(n),!e[s(445)](n,e.COMPILE_STATUS))throw e[s(411)](n);const o=e[s(405)](e.FRAGMENT_SHADER);if(e.shaderSource(o,r),e[s(421)](o),!e[s(445)](o,e[s(414)]))throw e[s(411)](o);const a=e[s(403)]();if(e.attachShader(a,n),e[s(406)](a,o),e[s(415)](a),!e[s(433)](a,e[s(436)]))throw e.getProgramInfoLog(a);e[s(410)](a);const h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e[s(424)],new Float32Array([-1,-1,-1,1,1,1,1,-1]),e[s(390)]);const l=e[s(448)](a,"xy");e.vertexAttribPointer(l,2,e[s(440)],!1,0,0),e[s(429)](l);const c=e[s(418)]();e[s(446)](e.TEXTURE_2D,c),e.texParameteri(e[s(447)],e.TEXTURE_MAG_FILTER,e[s(416)]),e[s(426)](e[s(447)],e.TEXTURE_MIN_FILTER,e[s(416)]),e[s(426)](e.TEXTURE_2D,e[s(389)],e[s(435)]),e[s(426)](e.TEXTURE_2D,e.TEXTURE_WRAP_T,e[s(435)]),this.program=a,this[s(431)]=h,this[s(408)]=n,this[s(413)]=o,this.texture=c}[$n(400)](){const t=$n;this.gl[t(420)](this.program),this.gl[t(402)](this[t(431)]),this.gl[t(412)](this.texture),this.gl.deleteShader(this.vertexShader),this.gl[t(428)](this[t(413)]),this[t(444)]=null,this.buffer=null,this.vertexShader=null,this.fragmentShader=null,this[t(441)]=null,this.gl=null,this[t(394)]=!1,this[t(387)]=null}render(t){const e=$n;if(!this.canvas)return;this[e(387)][e(430)]=t.displayWidth,this[e(387)][e(392)]=t[e(434)];const s=this.gl;this.isInited?s[e(419)](s[e(447)],0,0,0,s.RGBA,s[e(422)],t):(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s[e(422)],t),this[e(394)]=!0),s[e(432)](0,0,s[e(395)],s[e(407)]),s[e(399)](1,0,0,1),s[e(439)](s.COLOR_BUFFER_BIT),s[e(449)](s[e(443)],0,4)}}const to=so;function eo(){const t=["$videoElement","render","initFps","_resize","padding","getType","6byNESd","1342tkaYXn","isWcsWebgpu","_resize()","context2D","createElement","11523clgfOL","webglcontextlost error","type","isDestroyedOrClosed","filename","transform","position","destroy","initCanvasViewSize","player","imageSmoothingEnabled","webgl2","isWebglContextLost","block","resize","isWcsWebgl2","init","toDataURL","split","proxyDestroyList","canvasVideo","_bindContextGlEvents","webglRender","base64","blob"," rotateX(180deg)","99597bITHoz","_initContext2D","mirrorRotate","3416742YQhMQO","none","debugWarn","CommonCanvasLoader and _initContextGl createContextGL error","$screenshotCanvasElement","length","getCanvasType","_initContextGl2","absolute","getContext","debugLog","isFullResize","contextGl","getStreamFps","webglcontextrestored","CommonCanvasLoader","bitmaprenderer","871367ucIADA","display","drawImage","openWebglAlignment","screenshotByCurrentWatermark","renderType","webGPURender","webglcontextlost","isResize"," rotate(","style","play","left","events","_initContextGl() createContextGL error","format","imageSmoothingQuality","6anDhFQ","webgl","screenshotWatermark","screenshot","png","3322056bEbrhr","string","push","deg)","$container","590415BtcZyZ","debugError","_createScreenShotCanvas","screenshotCopyrightWatermark","webglcontextlost error and destroy webglRectRender","createContextGL() version ","pause","videoInfo","screenshotCanvasContext","top","setStreamFps","undefined"," rotateY(180deg)","download","screenshotUseHighQuality","_initCanvasRender","screenshotByRect","webglcontextrestored ","webglContextLostError","then"," and next use context2d.draw render","_opt","scale(","_initContextGl","webglRectRender","getContextAttributes","18570IjakDB"," and next use webgl render","height","rotate","width","canvas","catch","stencil","webgpu","quality","webglcontextlost error reset and getContextAttributes().stencil is true","clearRect","webglcontextlost error, getContextAttributes().stencil is false","level","clearView","220QIxTGQ"];return(eo=function(){return t})()}function so(t,e){const s=eo();return(so=function(t,e){return s[t-=261]})(t,e)}!function(t,e){const s=so,i=t();for(;;)try{if(238241===-parseInt(s(329))/1*(parseInt(s(366))/2)+parseInt(s(303))/3*(parseInt(s(290))/4)+-parseInt(s(376))/5+parseInt(s(297))/6*(-parseInt(s(349))/7)+parseInt(s(371))/8+parseInt(s(332))/9+-parseInt(s(275))/10*(parseInt(s(298))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(eo);class io extends Mn{constructor(t){const e=so;super(),this[e(312)]=t;const s=document[e(302)](e(280));s[e(359)][e(309)]=e(340),s[e(359)][e(385)]=0,s.style[e(361)]=0,s[e(359)][e(350)]=e(333),this[e(291)]=s,this.$screenshotCanvasElement=null,this[e(384)]=null,t[e(375)].appendChild(this[e(291)]),this[e(301)]=null,this.contextGl=null,this[e(325)]=null,this[e(273)]=null,this[e(355)]=null,this.isWebglContextLost=!1,this[e(318)]=!1,this[e(299)]=!1,this[e(348)]=null,this[e(354)]=null,this[e(322)]=[],this[e(264)]()}[to(310)](){const t=to;if(super.destroy(),this[t(336)]&&(this[t(336)][t(277)]=0,this[t(336)].width=0,this[t(336)]=null),this[t(384)]=null,this[t(322)][t(337)]>0&&(this.proxyDestroyList.forEach((t=>{t&&t()})),this.proxyDestroyList=[]),this.webglRender&&(this[t(325)].destroy(),this[t(325)]=null),this[t(273)]&&(this[t(273)][t(310)](),this.webglRectRender=null),this[t(355)]&&(this[t(355)][t(310)](),this[t(355)]=null),this[t(348)]&&(this[t(348)]=null),this.contextGl&&(this[t(344)]=null),this[t(301)]&&this[t(291)]&&(this[t(301)][t(286)](0,0,this[t(291)][t(279)],this[t(291)].height),this[t(301)]=null),this.renderType=null,this[t(315)]=!1,this[t(299)]=!1,this[t(318)]=!1,this[t(383)]=null,this[t(291)]){this[t(291)][t(279)]=0,this[t(291)][t(277)]=0;!Tn(this.$videoElement)&&this[t(291)].remove(),this[t(291)]=null}this[t(319)]=!1}_createScreenShotCanvas(){const t=to,e=document.createElement("canvas");this.$screenshotCanvasElement=e,this.screenshotCanvasContext=e[t(341)]("2d"),this[t(312)][t(270)][t(263)]&&(this[t(384)][t(313)]=!0,this[t(384)][t(313)]&&(this[t(384)][t(365)]="high"))}[to(330)](){const t=to;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[t(301)]=this[t(291)][t(341)]("2d",e)}[to(272)](){const t=to;if(this[t(312)].events,this[t(344)]=Ke(this.$videoElement),!this[t(344)])throw this.player[t(377)](t(347),t(363)),new Error(t(335));this[t(324)](),this[t(325)]=new ln(this[t(344)],this[t(312)]._opt.openWebglAlignment)}[to(339)](){const t=to;if(this[t(344)]=qe(this[t(291)]),this[t(344)]){this[t(324)](2);try{this[t(325)]=new Zn(this.$videoElement,this[t(344)])}catch(e){this[t(312)][t(377)](t(347),"create webgl2Render error is "+e+t(269)),this[t(344)]=null,this[t(325)]=null,this._initContext2D()}}else this[t(312)][t(377)](t(347),"_initContextGl2() createContextGL2 error")}[to(324)](){const t=to;let e=arguments[t(337)]>0&&void 0!==arguments[0]?arguments[0]:1;const{proxy:s}=this[t(312)][t(362)],i=s(this.$videoElement,t(356),(s=>{const i=t;s.preventDefault(),this.player[i(377)](i(323),i(304),s),this.isWebglContextLost=!0,this[i(325)]&&(this[i(312)].debugLog(i(347),"webglcontextlost error and destroy webglRender"),this[i(325)][i(310)](),this[i(325)]=null),this[i(273)]&&(this[i(312)].debugLog("CommonCanvasLoader",i(380)),this.webglRectRender[i(310)](),this[i(273)]=null),this[i(344)]=null,setTimeout((()=>{const t=i;if(this[t(312)][t(342)](t(347),t(381)+e),1===e?this[t(344)]=Ke(this[t(291)]):2===e&&(this[t(344)]=qe(this[t(291)])),this.player[t(342)](t(347),"createContextGL success"),this.contextGl&&this[t(344)][t(274)]){const s=this[t(344)][t(274)]();s&&s[t(282)]?(1===e?this[t(325)]=new ln(this[t(344)],this[t(312)][t(270)][t(352)]):2===e&&(this[t(325)]=new Zn(this[t(291)],this.contextGl)),this.isWebglContextLost=!1,this.player.debugLog(t(347),t(285))):(this[t(312)].debugError("CommonCanvasLoader",t(287)),this[t(312)].emitError(V.webglContextLostError))}else this[t(312)][t(377)](t(347),"webglcontextlost error, getContextAttributes().stencil is false"),this[t(312)].emitError(V[t(267)])}),500)})),r=s(this[t(291)],t(346),(e=>{const s=t;e.preventDefault(),this[s(312)][s(342)]("CommonCanvasLoader",s(266),e)}));this.proxyDestroyList[t(373)](i,r)}_initContextGPU(){const t=to;Qn(this[t(291)])[t(268)]((e=>{const s=t;this._isDestroyed||this[s(312)].isDestroyedOrClosed()||(e?(this[s(355)]=new fn(e),this[s(312)][s(342)]("CommonCanvasLoader","webGPURender init success")):(this[s(312)][s(334)](s(347),"webGPURender init failed because context is null and next use webgl render"),this[s(354)]=et[s(367)],this[s(272)]()))}))[t(281)]((e=>{const s=t;this._isDestroyed||this.player[s(306)]()||(this[s(312)][s(334)](s(347),"createWebGPUContext error is "+e+s(276)),this[s(354)]=et[s(367)],this[s(272)]())}))}[to(311)](){const t=to;this[t(291)][t(359)].display=t(316),this[t(291)][t(279)]=this[t(383)][t(279)],this.$videoElement[t(277)]=this[t(383)].height,this[t(317)]()}[to(369)](t,e,s,i){const r=to;t=t||Je(),i=i||G.download;let n=.92;!dt[e]&&G[e]&&(i=e,e=r(370),s=void 0),typeof s===r(372)&&(i=s,s=void 0),typeof s!==r(387)&&(n=Number(s));const o=dt[e]||dt[r(370)],a=this[r(291)][r(320)](o,n);if(i===G[r(326)])return a;{const e=Ye(a);if(i===G.blob)return e;if(i===G[r(262)]){const s=o[r(321)]("/")[1];Gn(e,t+"."+s)}}}[to(368)](t){return new Promise(((e,s)=>{const i=so;qs(t)&&(t={filename:t}),(t=t||{}).width=this[i(383)][i(279)],t[i(277)]=this[i(383)].height,t[i(307)]=t[i(307)]||Je(),t.format=t[i(364)]?dt[t[i(364)]]:dt[i(370)],t.quality=Number(t[i(284)])||.92,t[i(305)]=t[i(305)]||G[i(262)];const r=this[i(291)][i(320)](t[i(364)],t.quality),n=this[i(312)][i(270)][i(263)];Bs(r,t,n)[i(268)]((s=>{const r=i;if(t.type===G[r(326)])e(s);else{const i=Ye(s);if(t[r(305)]===G[r(327)])e(i);else if(t.type===G[r(262)]){e();const s=t[r(364)][r(321)]("/")[1];Gn(i,t[r(307)]+"."+s)}}}))[i(281)]((t=>{s(t)}))}))}[to(379)](t){return new Promise(((e,s)=>{const i=so;if(qs(t)){(t=(t={filename:t})||{}).width=this[i(383)][i(279)],t[i(277)]=this[i(383)][i(277)],t[i(307)]=t[i(307)]||Je(),t.format=t[i(364)]?dt[t[i(364)]]:dt.png,t[i(284)]=Number(t.quality)||.92,t[i(305)]=t[i(305)]||G[i(262)];const r=this[i(291)][i(320)](t[i(364)],t.quality),n=this.player[i(270)][i(263)];Us(r,t,n).then((s=>{const r=i;if(t[r(305)]===G.base64)e(s);else{const i=Ye(s);if(t.type===G[r(327)])e(i);else if(t.type===G[r(262)]){e();const s=t[r(364)].split("/")[1];Gn(i,t[r(307)]+"."+s)}}}))[i(281)]((t=>{s(t)}))}}))}[to(353)](t){}[to(265)](t){const e=to;!this.$screenshotCanvasElement&&this[e(378)]();const s=this[e(291)];let i=this[e(336)];i[e(279)]=parseInt(t.width,10),i[e(277)]=parseInt(t[e(277)],10),this.screenshotCanvasContext[e(351)](s,t.x,t.y,i.width,i.height,0,0,i[e(279)],i[e(277)]);const r=dt[e(370)],n=i[e(320)](r,.92);return this[e(384)].clearRect(0,0,i.width,i[e(277)]),i[e(279)]=0,i[e(277)]=0,n}[to(292)](){}[to(289)](){super.clearView()}[to(360)](){}[to(382)](){}[to(294)](){const t=to;this.player[t(342)](t(323),t(300));const e=this[t(312)]._opt,s=this[t(312)].getShowVideoRect();let i=s[t(279)],r=s.height,n=this[t(291)][t(279)],o=this[t(291)][t(277)];const a=e[t(278)];let h=(i-n)/2,l=(r-o)/2;(270===a||90===a)&&(n=this.$videoElement[t(277)],o=this[t(291)][t(279)]);const c=i/n,d=r/o;let u=c>d?d:c;Si(e[t(357)])&&c!==d&&(u=c+","+d),e[t(343)]&&(u=c>d?c:d);let p=t(271)+u+")";e[t(331)]===t(333)&&a&&(p+=t(358)+a+t(374)),e.mirrorRotate===t(288)?p+=t(261):"vertical"===e.mirrorRotate&&(p+=t(328)),this[t(291)][t(359)][t(277)]=this[t(383)][t(277)]+"px",this[t(291)].style[t(279)]=this[t(383)].width+"px",this.$videoElement[t(359)][t(295)]="0",this[t(291)][t(359)][t(308)]=p,this[t(291)][t(359)][t(361)]=h+"px",this[t(291)][t(359)].top=l+"px"}[to(293)](){}[to(386)](t){}[to(345)](){return 25}[to(296)](){return f[to(280)]}[to(338)](){const t=to;let e=et[t(367)];return this.renderType===et.webgpu?e=et[t(283)]:this[t(354)]===et[t(280)]&&(e=et.canvas),this[t(318)]?e=et[t(314)]:this[t(299)]&&(e=et[t(283)]),e}}const ro=no;function no(t,e){const s=oo();return(no=function(t,e){return s[t-=202]})(t,e)}function oo(){const t=["isWcsWebgl2","246jbsFar","aiCheck","text","webGPURender init failed because context is null and next use webgl render","TAG_NAME","toString","_initContextGl2","_initWebglRenderForWCS","updateStats","doRender() and webcodecs context is lost","offscreen","contextGl","textBaseline","16EChkym","yuvList","_supportOffscreen","nv12","shift","clearRect","webcodecs","110JoHfZt","mseDecoder","getContext","webglRender","_initTempTextCanvas","mseUseCanvasRender","startRender","_initContextGPU","$video","currentTime","130144sbKllc","tempTextCanvasCtx","useOffscreen","tempTextCanvas","height","push"," doRender() and webcodecs render needAiCheck error: ","doRender webgpu render is not init","debugError","yuv","webgl","doRender webgl render context is lost ","mse","format","width","webGPURender init success","length","color","i420","videoFrame","isWcsWebgpu","21181116GMSEeT","_isDestroyed","hls","110601Fecunq","drawBox","webrtc","_opt","_initContextGl","render","clearView","doAddAiContentToWatermark","player","webGPURender","isDestroyedOrClosed","clear","init","_initCanvasRender","type","doRender webgpu render and error: ","2636640AoKxMt","tempContentList","renderType","then","isWebglContextLost","createWebGPUContext error is "," and next use webgl render","_initContext2D","wcsUseWebgl2Render","#008000","canvas","drawDom","isOldHls","_bindOffscreen","webgpu","fillStyle","isContextLost","useCanvasRender","doRender() and webgl context is lost","transferFromImageBitmap","debugWarn","237777EyHKIj","isWebrtcH264","output","doAddContentToWatermark","px Arial","doRender","drawImage","232opQvxM","copyTo","videoInfo","$videoElement","font","fillText","forEach","1909810phmeGc","useMSE","destroy","bitmaprenderer","lineWidth","useWebGPU","13310rgilHy","COLOR_BUFFER_BIT","debugLog","context2D"];return(oo=function(){return t})()}!function(t,e){const s=no,i=t();for(;;)try{if(564052===-parseInt(s(225))/1*(parseInt(s(250))/2)+parseInt(s(205))/3*(-parseInt(s(243))/4)+-parseInt(s(300))/5+parseInt(s(230))/6*(parseInt(s(260))/7)+parseInt(s(212))/8*(-parseInt(s(284))/9)+-parseInt(s(219))/10+parseInt(s(281))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(oo);class ao extends io{constructor(t){const e=no;super(t),this.TAG_NAME="CanvasVideoPlayer",this.yuvList=[],this[e(263)]=null,this[e(261)]=null,this[e(292)].debugLog(this[e(234)],e(296))}async[ro(221)](){const t=ro;this[t(244)]=[],this[t(263)]&&(this[t(261)][t(248)](0,0,this.tempTextCanvas.width,this.tempTextCanvas[t(264)]),this[t(263)][t(274)]=0,this[t(263)].height=0,this[t(263)]=null),super[t(221)](),this[t(292)][t(227)](this[t(234)],t(221))}[ro(297)](){const t=ro;this[t(292)][t(287)].useWCS&&!this[t(245)]()?(this[t(302)]=et.webcodecs,this[t(292)]._opt[t(224)]?Qn(this[t(215)]).then((e=>{const s=t;this._isDestroyed||this[s(292)][s(294)]()||(e?(this.webGPURender=new fn(e),this[s(280)]=!0,this[s(292)].debugLog(this[s(234)],s(275))):(this[s(292)][s(204)](this[s(234)],s(233)),this._initWebglRenderForWCS()))})).catch((()=>{const s=t;this[s(282)]||this[s(292)][s(294)]()||(this.player.debugWarn(this[s(234)],s(305)+e+s(306)),this[s(237)]())})):this[t(237)]()):this.player._opt[t(220)]&&this[t(292)]._opt[t(255)]?(this.renderType=et[t(272)],this[t(307)]()):this.player[t(312)]()&&this[t(292)]._opt[t(317)]?(this[t(302)]=et[t(283)],this[t(307)]()):this[t(292)][t(206)]()&&this.player[t(287)].webrtcUseCanvasRender?(this[t(302)]=et[t(286)],this._initContext2D()):this._supportOffscreen()?(this[t(302)]=et.offscreen,this._bindOffscreen()):this.player[t(287)][t(224)]?(this.renderType=et[t(314)],this[t(257)]()):this[t(292)][t(287)].useWebCanvas?(this[t(302)]=et[t(310)],this[t(307)]()):(this.renderType=et[t(270)],this[t(288)]())}_initWebglRenderForWCS(){const t=ro;this[t(292)][t(287)][t(308)]&&Ii()?(this[t(236)](),this[t(253)]&&(this[t(229)]=!0)):this._initContext2D()}[ro(245)](){const t=ro;return function(t){const e=Qe;return typeof t[e(833)]===e(628)}(this.$videoElement)&&this[t(292)]._opt[t(262)]}[ro(313)](){const t=ro;this[t(222)]=this[t(215)][t(252)](t(222))}[ro(289)](t){const e=ro;this._isDestroyed||(this[e(244)][e(265)](t),this[e(256)]())}[ro(256)](){const t=ro;for(;!(this[t(244)].length<=0);){const e=this[t(244)][t(247)]();this[t(210)](e)}}[ro(210)](t){const e=ro;if(this[e(302)]!==et[e(272)]){const s={ts:t.ts||0,fps:!0};this.player[e(238)](s)}let s=t.ts||0;switch(this[e(302)]===et[e(272)]&&(s=parseInt(1e3*t[e(258)][e(259)],10)+(this[e(292)][e(251)].firstRenderTime||0)),this[e(292)].updateCurrentPts(s),this[e(208)](),this[e(291)](),this.renderType){case et.offscreen:this.bitmaprenderer[e(203)](t.buffer);break;case et.webgl:case et.webgpu:case et[e(310)]:if(this[e(304)])return void this[e(292)].debugWarn(this[e(234)],e(202));const s=this[e(231)]({yuv:t[e(207)],ts:t.ts||0});if(!s)return;const i=s[e(269)];if(this.renderType===et[e(314)])try{if(!this[e(293)])return void this[e(292)][e(204)](this[e(234)],e(267));this[e(293)].renderYUV(this.$videoElement.width,this[e(215)][e(264)],i)}catch(t){this[e(292)][e(268)](this.TAG_NAME,e(299)+t[e(235)]())}else if(this[e(302)]===et[e(270)])try{this[e(253)].renderYUV(this[e(215)][e(274)],this[e(215)][e(264)],i)}catch(t){this[e(292)][e(268)](this[e(234)],e(271)+(this[e(241)]&&this.contextGl[e(316)]())+"  and error: "+t[e(235)]())}else if(this[e(302)]===et.canvas){const r=Ns(i,{format:s[e(273)],codedWidth:this[e(214)][e(274)],codedHeight:this[e(214)].height,timestamp:1e3*t.ts});this[e(228)][e(211)](r,0,0,this.$videoElement[e(274)],this[e(215)].height),hi(r)}break;case et.webcodecs:if(this.needAiCheck()){const s=t[e(279)];let i=new Uint8Array(s.allocationSize());s[e(213)](i)[e(303)]((()=>{const r=e,n="NV12"==s[r(273)]?_[r(246)]:_[r(278)],o=this[r(231)]({yuv:i,ts:t.ts||0},n);if(hi(s),o)try{const e=Ns(o[r(269)],{format:o.format,codedWidth:this[r(214)][r(274)],codedHeight:this[r(214)][r(264)],timestamp:1e3*t.ts});this.webGPURender?(this[r(293)][r(289)](e),hi(e)):this[r(253)]?(this[r(253)][r(289)](e),hi(e)):this[r(228)]?(this[r(228)][r(211)](e,0,0,this[r(215)][r(274)],this[r(215)][r(264)]),hi(e)):this[r(292)][r(204)](this[r(234)],r(239))}catch(t){this.player.debugWarn(this[r(234)],r(266)+t[r(235)]())}}))}else this[e(293)]?(this[e(293)][e(289)](t[e(279)]),hi(t[e(279)])):this[e(253)]?(this.webglRender[e(289)](t[e(279)]),hi(t.videoFrame)):this[e(228)]?(this[e(228)].drawImage(t[e(279)],0,0,this.$videoElement[e(274)],this[e(215)].height),hi(t[e(279)])):this[e(292)][e(204)](this.TAG_NAME,e(239));break;case et[e(272)]:this[e(228)][e(211)](t[e(258)],0,0,this[e(215)].width,this[e(215)][e(264)]);break;case et[e(283)]:this.context2D[e(211)](t[e(258)],0,0,this[e(215)][e(274)],this[e(215)][e(264)]);break;case et[e(286)]:this.context2D.drawImage(t[e(258)],0,0,this[e(215)].width,this[e(215)][e(264)])}}[ro(290)](){const t=ro;switch(super[t(290)](),this[t(302)]){case et[t(240)]:(function(t,e){const s=ze,i=document.createElement(s(647));i[s(691)]=t,i[s(576)]=e;const r=window[s(720)](i,0,0,t,e);return i.width=0,i[s(576)]=0,r})(this[t(215)][t(274)],this.$videoElement[t(264)])[t(303)]((e=>{const s=t;this[s(222)][s(203)](e)}));break;case et[t(270)]:this.contextGl[t(295)](this[t(241)][t(226)]);break;case et[t(314)]:this[t(293)][t(295)]();break;case et[t(310)]:this[t(228)].clearRect(0,0,this[t(215)][t(274)],this[t(215)][t(264)]);break;case et[t(249)]:this[t(293)]?this.webGPURender[t(295)]():this[t(241)]?this[t(241)][t(295)](this.contextGl[t(226)]):this[t(228)]&&this[t(228)][t(248)](0,0,this[t(215)].width,this[t(215)].height);break;case et[t(272)]:this[t(228)][t(248)](0,0,this.$videoElement[t(274)],this[t(215)][t(264)]);break;case et.hls:this[t(228)].clearRect(0,0,this[t(215)][t(274)],this[t(215)][t(264)]);break;case et.webrtc:this[t(228)][t(248)](0,0,this.$videoElement.width,this[t(215)][t(264)])}}[ro(254)](){const t=ro;this[t(263)]=document.createElement(t(310)),this[t(261)]=this.tempTextCanvas[t(252)]("2d"),this[t(263)][t(274)]=600,this[t(263)][t(264)]=20}doAddContentToCanvas(){const t=ro;this[t(301)][t(276)]>0&&this[t(228)]&&function(t){const e=ze;let{ctx:s,list:i}=t;s[e(634)](),(i||[]).forEach((t=>{const i=e;t[i(847)]===i(707)?(s[i(603)]=(t[i(823)]||12)+i(836),s.fillStyle=t[i(662)]||"green",s[i(837)](t[i(707)],t.x,t.y)):t[i(847)]===i(749)&&(s[i(629)]=t[i(662)]||i(499),s[i(572)]=t[i(572)]||2,s[i(818)](t.x,t.y,t[i(691)],t[i(576)]))})),s[e(798)]()}({ctx:this[t(228)],list:this[t(301)]})}doAddContentToWebGlCanvas(){const t=ro;this[t(301)][t(276)]>0&&this[t(241)]&&this.webglRectRender&&this[t(301)][t(218)]((e=>{const s=t,i=e.x,r=e.y;if("rect"===e[s(298)]){const t=e[s(274)],n=e[s(264)],o=function(t){const e=ze;return[parseInt(t[e(718)](1,3),16)/255,parseInt(t.substring(3,5),16)/255,parseInt(t[e(718)](5,7),16)/255,1]}(e[s(277)]||s(309)),a=e[s(223)]||4;if(!t||!n)return;this.webglRectRender[s(285)]({x:i,y:r,width:t,height:n,lineColor:o,lineWidth:a,canvasWidth:this[s(215)].width,canvasHeight:this[s(215)][s(264)]})}else if(e[s(298)]===s(232)){const t=e[s(232)]||"";if(!t)return;const n=e.fontSize||20,o=e[s(277)]||s(309);!this[s(263)]&&this[s(254)](),this[s(261)][s(248)](0,0,this[s(263)].width,this[s(263)][s(264)]),this[s(261)][s(216)]=n+s(209),this[s(261)][s(315)]=o,this.tempTextCanvasCtx[s(242)]="top",this[s(261)][s(217)](t,0,0),this[s(253)][s(311)](this.$videoElement[s(274)],this[s(215)][s(264)],i,r,this[s(263)])}}))}}function ho(t,e){const s=co();return(ho=function(t,e){return s[t-=114]})(t,e)}const lo=ho;function co(){const t=["renderedVideoFrames","isPause","mseDecoder","11xIDFFC"," and message is ","play and readyState: ","isHlsCanVideoPlay","_delayPlay","cancelVideoFrameCallback","use wcs render error","screenshotWatermark and toDataURL error","getType"," < 0, and buffered is ",",\n            e.message is ","screenshot and toDataURL error"," < 0 and check video is paused : ","png","requestVideoFrameCallback","mediaSourceBufferedIsZeroError","undefined","videoDecoderInitializationFailed","78gavaSw","_mseWorkerData","updateAudioInfo","detectAndFixStuckPlaybackStartTime","isAliyunRtc","videoElementPlayingFailedForWebrtc","playVodMseDecodeVideoError","code","screenshot failed, video is not ready and stats is ","getDuration","isMSECurrentMoreThanBufferedPause","rotate","play","getCurrentTime","playVodCanplay","height","isUseMSE","12814992kpfPjR","_isDestroyed","useVideoPlayAudio","wasmUseVideoRenderError","emit playVodWaiting","_detectAndFixStuckPlayback() and isStalled is ","use wcs code is ","ratechange","ratechange and video is paused and sent isMSEPlaybackRateChangePause true","i420","4704296bMBgJd","_detectAndFixStuckPlayback","$container","Video"," is ","output","videoCodec","pause","isPaused","blob","loadedmetadata","render","canplay and video is paused and isMSEPlaybackRateChangePause is ","trackGenerator","657146BMFGFE","loadedmetadata and is isPlayVodMp4UseVideoSrc and update duration ","clearReplayTimeout","videoBuffer","muted","checkSourceBufferStore","canplay and isPlayVodUseMSE and isEnded and return","channels","screenshot"," and current is ","write","doAddAiContentToWatermark","1636317tohfxA","Details: ","end","geLoadedTime","_clearCheckVodVideoWaiting","_times","canplayReceived","playback","true","createElement","screenshotWatermark","chrome","playVodTimeCache","pause and isNow is ","_detectAndFixStuckPlayback() and video is stuck and currentTime is ","string","visibilityChange is true and lastTime is "," ,canplayReceived is ","yuv","isPlayer","_checkVodVideoWaiting","initCanvasViewSize","canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play()","isCurrentTimeInBufferEnd","getTracks","isRenderRetryPlaying","clearPauseDelayTimeout","_resize","_replay","render and this.vwriter is null","2ZfqBLJ","canplay and isPlayVodUseMSE and playVodInitSeekRemoveBackgroundLock is true and next remove loading background","toLowerCase","canplay and video is paused and isMSECurrentMoreThanBufferedPause is ","removeAttribute","destroy","clearVisibilityChangePlayTimeout","paused","getVideoPlaybackQuality","isResize","isDestroyedOrClosed","mp4Decoder","_cancelVideoFrameCallback"," and isRetryPlaying is ","webkitDroppedFrameCount","currentTime","playVodVideoSeekingByMse","_play error render() error, video is paused and replay error and\n                            e.name is ","18AlXLbH","getVideoCurrentTime","videoHeight","isPlayVod",",\n                            e.message is ","checkVideoSourceBufferDelay ","stop","audioTrack","imageSmoothingEnabled","firstRenderTime","clear","codec",",\n                            e.toString() is ","contain","_play","handleRender","clearCheckVideoCanplayTimeout","on error","isRetryPlayingTimes","debugLog","emitError","copyTo","aiCheck","failedToSendVideoPacketForDecoding","video","supportVideoFrameCallbackHandle","boundVideoFrameCallback","getReadyStateInited","_handleUpdatePlaybackRate","16OloWwE","playbackRate","$screenshotCanvasElement",", height ","_delayEmitVodVideoWaiting","display","checkSourceBufferDelay and video is paused and sent isMSECurrentMoreThanBufferedPause true","init","getVideoBufferLastTime","base64","setCurrentTime","seeking","_getVideoCurrentTime"," and current time is ","totalVideoFrames","isMSEPlaybackRateChangePause","render() error, video is paused and replay error ","isWebrtcH264","videoInfo","stringify","top","timeUpdate","start","render() error, video is paused and readyState is ","_detectAndFixStuckPlayback() set detectAndFixStuckPlaybackStartTime is ","split","player","getLoadedPercent"," so set currentTime to ","null","_opt","format","replayTimeout","mediaTime","screenshot failed, video is not ready","seeked",", emit error and use canvas render","none","isOldHls","doAddContentToWatermark","playVod","pauseDelayTimeout","canplay and isPlayVodMp4UseVideoSrc and playVodInitSeekRemoveBackgroundLock is true and next remove loading background","isRenderRetryPlayingTimes","_delayEmitVodVideoWaitingInterval and player is destroyed or closed and return","mirrorRotate","fixMobileAutoFullscreen","name","_checkVodVideoWaiting and player is destroyed or closed and return"," and delay is ","fixMobileAutoFullscreen and isIOS ","isPlayback","forEach","audioTrackGenerator","NV12","screenshotUseHighQuality","_removeProgressProxyDestroy","toDataURL","_createScreenShotCanvas","toString","sampleRate","transform","playsinline","_checkVodVideoWaitingInterval","type"," ,currentTime is "," ,seek to ","_getVideoReadyState","bindMediaStream","then","allocationSize","updateDuration","isMseDecoderUseMain","render error","useMSE","quality","edge","drawImage","render() video is paused and replay success","getPlaybackQuality","off"," , diff is "," ,videoReadyState is ","isPlaying","getDecodePlaybackRate","src","canplay and isPlayVodMp4UseVideoSrc and isEnded and return","isPlayVodUseMSE","waiting and isDestroyedOrClosed,so return","canVideoTrackWritter"," and return;","vwriter","screenshotByRect and toDataURL error","_delayEmitVodVideoWaitingInterval","canplay and isDestroyedOrClosed,so return","_isNeedAddBackDropFilter","duration"," and emit error","videoFrame","max","length","blur(0px)","updateVideoInfo","playVodInitSeekRemoveBackgroundLock"," and update currentTime to ","getHasInit","getContext","h5-page"," so next try to play","srcObject"," rotate(","creationTime","checkVideoCanplayTimeout","padding","removeLoadingBgImage","_canScreenshot","bind","eventListenList","mseUseCanvasRender","Error Code "," and isAndroid ","canplay and video is paused and try to play","Video Info: ","updateCurrentPts","h264","getVideoBufferTimeRange","1709230oBiwfY","checkSourceBufferDelay","screenshotCanvasContext","mseWaitVideoCanplayTimeout","isVideoPlaying"," and bufferedLength is ","$videoElement","screenshotCopyrightWatermark","playVodWaiting","getVideoBufferRangeList","canvas","visibilityChangePlayTimeout","videoBufferDelay","videoFrameCallback","encTypeCode","screenshotByRect failed, video is not ready and stats is ","isMseDecoderUseWorker"," , try to seek ","not support requestVideoFrameCallback and use timeupdate event to update stats","updateStats","buffered","_play error and player is isDestroyedOrClosed and return","audioCodec","isEnded","fixChromeVideoFlashBug","clearView","style","isFullResize","cover","message","_clearDelayEmitVodVideoWaiting","video playback Rate change","filename","level","clearRect","progress","error","canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play() success","handleUpdatePlaybackRate and buffered is ","progressProxyDestroy","webrtcH264 and check video change width ","isRetryPlaying","mseDecoderUseWorker","_checkVodVideoWaiting and currentTime is "," -> ","checkVideoCanplayTimeout and video is not playing and buffer store is ","stalled","setAttribute","audio","push","waiting and currentTime is ","needAiCheck","TAG_NAME","getBufferMaxDelayTime","readyState","screenshotByCurrentWatermark","debugError",", retry times is ","backdropFilter","getLastBufferDelayEndTime","rate","videoElementPlayingFailed","floor","videoRenderSupportScale","width","91189qcGVGo","catch","download","nv12","5121070cxrWzm","_play error and\n            e.name is ","ended","appendChild","absolute"," and currentTime is ","_startVideoFrameCallback","close","handlePlayToRenderTimes","readyState is 0 and set _delayPlay to true and listen canplay event to play"," and retry play","videoWidth","videoStart","_removeProgressProxyDestroy()","droppedVideoFrames","isPlayUseMSE","_getBufferStore","awriter","debugWarn","videoNSOSStatusErrorDomainError","writable","left","mediaStream","emit","translateZ(0)","Mse Mine Type: ","isPlayVodMp4UseVideoSrc","webkitDecodedFrameCount"," and emit error to use canvas render","playVodMp4UseSrcError","corruptedVideoFrames","isMSEAudioDecoderError","indexOf","block","resize"];return(co=function(){return t})()}!function(t,e){const s=ho,i=t();for(;;)try{if(954415===-parseInt(s(262))/1+parseInt(s(304))/2*(-parseInt(s(274))/3)+parseInt(s(351))/4*(parseInt(s(477))/5)+-parseInt(s(221))/6*(-parseInt(s(161))/7)+parseInt(s(248))/8*(parseInt(s(322))/9)+-parseInt(s(165))/10*(-parseInt(s(203))/11)+-parseInt(s(238))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(co);class uo extends Mn{constructor(t){const e=ho;super(),this.player=t,this[e(148)]=e(251);const s=document[e(283)](e(346));s[e(266)]=!0,s.disablePictureInPicture=!0,ls()&&(s.poster="noposter"),s.style.position=e(169),s[e(122)][e(371)]=0,s.style[e(186)]=0,s[e(122)][e(356)]=e(388),this._delayPlay=!1,t[e(250)][e(168)](s),this[e(483)]=s,this.$screenshotCanvasElement=null,this[e(479)]=null,this[e(187)]=null,this[e(442)]=null,this[e(182)]=null,this[e(261)]=null,this.audioTrackGenerator=null,this[e(120)](),this[e(397)](),this[e(468)]=[],this[e(299)]=!1,this.isRenderRetryPlayingTimes=0,this[e(137)]=!1,this[e(340)]=0,this[e(280)]=!1,this[e(135)]=null,this[e(463)]=null,this[e(488)]=null,this[e(392)]=null,this.replayTimeout=null,this[e(224)]=null;const i=ki();this[e(347)]=null,this._checkVodVideoWaitingInterval=null,this[e(444)]=null,this[e(348)]=this[e(490)][e(467)](this);const{proxy:r}=this[e(377)].events,n=r(this[e(483)],pt.canplay,(()=>{const t=e;if(!this[t(239)])if(this[t(377)].isDestroyedOrClosed())this[t(377)][t(341)](this[t(148)],t(445));else{if(this[t(377)][t(341)](this[t(148)],"canplay"),this[t(377)][t(191)]())return this.player[t(391)].isEnded()?void this[t(377)][t(341)](this.TAG_NAME,t(437)):(this[t(377)][t(188)](O[t(235)]),void(this[t(377)].playVodInitSeekRemoveBackgroundLock&&(this[t(377)][t(454)]=!1,this[t(377)][t(341)](this.TAG_NAME,t(393)),this[t(377)][t(188)](O[t(465)]))));if(this[t(280)]=!0,this[t(377)].isPlayVodUseMSE()){if(this[t(377)][t(391)].isEnded())return void this[t(377)][t(341)](this[t(148)],t(268));this._clearDelayEmitVodVideoWaiting(),this[t(278)](),this[t(377)][t(188)](O[t(235)]),this[t(256)]()?(this.player.debugLog(this[t(148)],t(296)),this[t(483)]&&this[t(483)].play()[t(420)]((()=>{const e=t;this[e(377)].debugLog(this[e(148)],e(133)),this.player[e(188)](O[e(465)]),this[e(171)]()}))[t(162)]((e=>{const s=t;this[s(377)][s(341)](this.TAG_NAME,"canplay and isPlayVodUseMSE an isPaused , next call $videoElement.play() error",e,e[s(410)]())}))):this[t(377)].playVodInitSeekRemoveBackgroundLock&&(this[t(377)][t(454)]=!1,this[t(377)][t(341)](this[t(148)],t(305)),this.player.emit(O[t(465)]))}else this[t(207)]?(this[t(338)](),this._play()):this[t(483)][t(311)]&&(this[t(377)][t(366)]?(this.player[t(341)](this[t(148)],t(260)+this[t(377)][t(366)]+t(459)),this[t(377)].isMSEPlaybackRateChangePause=!1,this[t(336)]()):this[t(377)][t(231)]?(this[t(377)].debugLog(this[t(148)],t(307)+this.player[t(231)]+t(459)),this.player[t(231)]=!1,this[t(336)]()):(this[t(377)][t(183)](this[t(148)],t(472)),this[t(336)]()))}})),o=r(this[e(483)],pt[e(233)],(()=>{const t=e;this.player[t(341)](this[t(148)],t(233))})),a=r(this[e(483)],pt[e(255)],(()=>{const t=e;this[t(377)][t(341)](this[t(148)],t(255))})),h=r(this.$videoElement,pt.waiting,(()=>{const t=e;this[t(239)]||(this[t(377)][t(314)]()?this.player[t(341)](this[t(148)],t(439)):(this[t(377)].debugLog(this.TAG_NAME,t(146)+this.getCurrentTime()),this[t(377)][t(438)]()?Si(this[t(377)].mseDecoder[t(297)]())&&(this[t(355)](),this[t(294)]()):this[t(377)][t(191)]()&&(this.player.debugLog(this[t(148)],t(242)),this[t(377)][t(188)](O[t(485)]))))})),l=r(this[e(483)],pt[e(258)],(()=>{const t=e;if(this[t(377)][t(341)](this[t(148)],"loadedmetadata"),this[t(377)][t(191)]()){const e=this[t(483)][t(447)];e&&(this[t(377)][t(341)](this.TAG_NAME,t(263)+e),this[t(377)][t(391)][t(422)](e));const s={encTypeCode:this.player[t(315)][t(254)]};if(Si(ki())){const e=this.$videoElement[t(176)],i=this[t(483)][t(324)];s[t(160)]=e,s[t(236)]=i,this[t(453)](s),this[t(295)]()}else this[t(453)](s);if(this[t(377)][t(144)]){const e={encTypeCode:this[t(377)].mp4Decoder[t(118)]};this[t(377)][t(315)].audioTrack[t(333)]&&(e[t(269)]=this.player[t(315)][t(329)].channelCount,e[t(411)]=this[t(377)][t(315)][t(329)][t(411)]),this[t(377)][t(144)][t(223)](e)}}})),c=r(this.$videoElement,pt[e(372)],(s=>{const r=e;if(!this[r(239)]&&!this[r(377)].isDestroyedOrClosed()){if(Si(i)){const e=parseInt(1e3*this[r(234)](),10);if(t.isWebrtcH264()||this.player[r(389)]()||this[r(377)][r(225)]()||this.player[r(191)]())t.handleRender(),t[r(115)]({fps:!0,ts:e,dts:e}),this[r(377)][r(474)](e);else if(bi(this.player[r(381)][r(425)])&&Si(this[r(377)][r(381)][r(469)]))if(this.player[r(202)]){let t=parseInt(1e3*this[r(234)](),10)+(this[r(377)][r(202)][r(331)]||0);this[r(377)].updateCurrentPts(t)}else if(this[r(377)]._opt[r(138)]){let t=parseInt(1e3*this[r(234)](),10)+(this[r(377)]._mseWorkerData.firstRenderTime||0);this[r(377)][r(474)](t)}this[r(390)]()}this[r(377)][r(493)]()&&(this[r(377)].decoderWorker.updateVideoTimestamp(this.getCurrentTime()),this[r(350)]())}})),d=r(this.$videoElement,pt[e(132)],(t=>{const s=e;if(!this[s(483)][s(132)])return void this[s(377)][s(183)](this.TAG_NAME,s(339),t);let i={};if(this.player[s(237)]()&&(i=this.player.getMseMineType()),this.player[s(152)](this[s(148)],s(470)+this[s(483)][s(132)][s(228)]+" "+Rt[this[s(483)].error.code]+"; "+s(275)+this[s(483)][s(132)][s(125)]+"; "+s(473)+JSON[s(370)](this[s(369)])+"; "+s(190)+i[s(346)]+"; "),this[s(377)][s(191)]())return 4===this[s(483)].error.code?void this[s(377)][s(342)](V[s(194)]):void this[s(377)][s(342)](V.playVodMp4UseSrcVideoError);if(this[s(377)].isUseMSE()){this.$videoElement[s(132)].code;const t=this[s(483)][s(132)].message;return-1!==t[s(197)](Lt[s(220)])?this[s(377)].isMSEVideoDecoderInitializationFailedNotSupportHevc=!0:-1!==t.indexOf(Lt.audioDecoderError)?this[s(377)][s(196)]=!0:-1!==t[s(197)](Lt.notSupportAudioFormat)&&(this[s(377)].isMSENotSupportAudioFormat=!0),void(this.player[s(438)]()&&(-1!==t[s(197)](Lt.videoDecodeError)||-1!==t.indexOf(Lt[s(184)])||-1!==t[s(197)](Lt[s(345)]))&&this.player[s(342)](V[s(227)],t))}this[s(377)][s(206)]()})),u=r(this[e(483)],pt[e(142)],(()=>{this._detectAndFixStuckPlayback(!0)}));if(this.progressProxyDestroy=r(this[e(483)],pt[e(131)],(()=>{this[e(249)]()})),this[e(468)][e(145)](n,o,a,h,c,d,l,u),this.player.isUseMSE()){const t=r(this[e(483)],pt[e(245)],(()=>{const t=e;this[t(377)].debugLog(this[t(148)],t(127),this[t(483)]&&this[t(483)][t(352)]),this[t(483)]&&this[t(483)].paused&&(this[t(377)].debugWarn(this[t(148)],t(246)),this.player[t(366)]=!0)}));this[e(468)][e(145)](t),bi(this[e(377)][e(293)]())&&this.player.on(O.visibilityChange,(t=>{t&&(this.visibilityChangePlayTimeout=setTimeout((()=>{const t=ho;if(this[t(310)](),this[t(377)]&&this.player.isPlaying()&&this[t(483)]){const e=this[t(359)]();if(e-this[t(483)].currentTime>this[t(149)]()){const s=this[t(155)](1);this[t(377)][t(341)](this[t(148)],t(290)+e+t(170)+this[t(483)][t(319)]+t(379)+s),this[t(483)].currentTime=s}}}),300))}))}if(this[e(377)][e(438)]()||this[e(377)][e(191)]()){const t=r(this.$videoElement,pt[e(131)],(()=>{const t=e;this[t(377)][t(341)](this[t(148)],t(131)),this[t(377)].setPlayVodBufferedTime(1e3*this[t(277)]()),this.player[t(188)](O[t(286)],this[t(378)]())})),s=r(this.$videoElement,pt[e(362)],(()=>{const t=e;this[t(377)].debugLog(this.TAG_NAME,"seeking",this[t(483)][t(319)]),this[t(377)].isPlayVodUseMSE()&&this[t(377)][t(188)](O[t(320)],this[t(483)].currentTime)})),i=r(this[e(483)],pt[e(386)],(()=>{const t=e;this[t(377)][t(341)](this.TAG_NAME,t(386),this[t(483)].currentTime),this[t(377)][t(391)].isSeeking()&&this[t(377)][t(391)].removeSeekingTimestamp(),this[t(377)].emit(O.playVodVideoSeekedByMse,this[t(483)][t(319)])}));this[e(468)][e(145)](t,s,i)}this[e(171)](),this[e(377)][e(341)](this.TAG_NAME,e(358))}async[lo(309)](){const t=lo;if(super[t(309)](),this[t(338)](),this.clearReplayTimeout(),this.clearVisibilityChangePlayTimeout(),this.clearPauseDelayTimeout(),this[t(316)](),this[t(407)](),this.eventListenList[t(451)]&&(this.eventListenList[t(403)]((t=>{t()})),this.eventListenList=[]),this[t(299)]=!1,this[t(394)]=0,this[t(137)]=!1,this[t(340)]=0,this[t(280)]=!1,this[t(377)]._opt[t(159)]&&this[t(446)]()){const e=this.player[t(250)];e[t(122)][t(154)]=t(388),e[t(122)].transform="none"}if(this.$screenshotCanvasElement&&(this[t(353)][t(236)]=0,this.$screenshotCanvasElement.width=0,this.$screenshotCanvasElement=null),this[t(479)]=null,this[t(483)]){this[t(483)][t(255)]&&(this[t(483)][t(255)](),this[t(483)][t(266)]=!0),this[t(483)][t(319)]=0,this.$videoElement[t(460)]&&(this.$videoElement[t(460)]=null,this[t(483)][t(308)](t(460))),this.$videoElement.src&&(this.$videoElement[t(436)]="",this[t(483)][t(308)]("src"));try{this[t(483)].load()}catch(t){}!Tn(this.$videoElement)&&this[t(483)].remove(),this[t(483)]=null}if(this[t(261)]&&(this[t(261)].stop(),this.trackGenerator=null),this[t(404)]&&(this[t(404)].stop(),this.audioTrackGenerator=null),this[t(442)]){try{await this.vwriter[t(172)]()}catch(t){}this[t(442)]=null}if(this[t(182)]){try{await this[t(182)].close()}catch(t){}this.awriter=null}this._delayPlay=!1,this[t(187)]&&(this[t(187)][t(298)]().forEach((e=>e[t(328)]())),this[t(187)]=null),this.boundVideoFrameCallback=null,this[t(431)](),this[t(377)][t(341)](this.TAG_NAME,"destroy")}[lo(409)](){const t=lo,e=document.createElement(t(487));this[t(353)]=e,this[t(479)]=e[t(457)]("2d"),this[t(377)]._opt.screenshotUseHighQuality&&(this.screenshotCanvasContext.imageSmoothingEnabled=!0,this[t(479)][t(330)]&&(this[t(479)].imageSmoothingQuality="high"))}[lo(419)](){const t=lo;if(this[t(377)][t(440)]()&&_s()&&Cs()&&!this[t(187)]){this[t(377)][t(341)](this[t(148)],t(419)),this[t(261)]=new MediaStreamTrackGenerator({kind:t(346)}),this[t(377)][t(240)]()&&(this[t(404)]=new MediaStreamTrackGenerator({kind:t(144)}),this[t(182)]=this[t(404)][t(185)].getWriter());const e=[this[t(261)]];this.audioTrackGenerator&&e[t(145)](this[t(404)]),this[t(187)]=new MediaStream(e),this[t(483)][t(460)]=this[t(187)],this[t(442)]=this.trackGenerator[t(185)].getWriter()}}[lo(490)](t){const e=lo;let s=arguments[e(451)]>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isDestroyed)return;if(this[e(377)][e(314)]())return void this[e(377)][e(341)](this[e(148)],"videoFrameCallback() and isDestroyedOrClosed and return");this[e(377)][e(337)]();const i=parseInt(1e3*Math[e(450)](s[e(384)],this.getCurrentTime()),10)||0;if(this[e(377)][e(423)]()){const t=i+(this.player[e(202)]&&this.player[e(202)].firstRenderTime||0);this[e(377)][e(293)]()?this[e(377)][e(115)]({fps:!0,ts:t}):this[e(377)][e(402)]()?this[e(377)][e(281)][e(115)]({ts:t}):this[e(377)][e(325)]()&&this[e(377)][e(391)].updateStats({ts:t})}else if(this[e(377)][e(493)]()){!this[e(377)][e(279)][e(177)]&&(this.player[e(279)].videoStart=Je(),this[e(377)][e(173)]());const t=i+(this[e(377)]._mseWorkerData.firstRenderTime||0);if(this[e(377)][e(115)]({fps:!0,dfps:!0,ts:t,mseTs:i}),Si(this[e(456)]())&&s[e(160)]&&s[e(236)]){const t={width:s[e(160)],height:s.height};this[e(453)](t),this[e(295)]()}}if(this.player.isWebrtcH264()||this[e(377)][e(389)]()||this[e(377)][e(225)]()||this.player[e(191)]()){if(Si(this[e(456)]())&&s[e(160)]&&s.height){const t={width:s[e(160)],height:s[e(236)]};this.videoInfo[e(491)]||(this[e(377)].isWebrtcH264()?t[e(491)]=this.player.getWebrtcVideoCodec():(this[e(377)].isOldHlsUseVideoSrc()||this[e(377)][e(225)]()||this[e(377)][e(191)]())&&(t.encTypeCode=K[e(475)])),this[e(453)](t),this[e(295)]()}if((this.player[e(368)]()||this.player[e(225)]())&&this[e(369)][e(160)]&&this.videoInfo[e(236)]&&s[e(236)]&&s[e(160)]&&(this[e(369)][e(160)]!==s[e(160)]||this[e(369)][e(236)]!==s[e(236)])){this[e(377)][e(341)](this[e(148)],e(136)+this[e(369)].width+e(140)+s.width+e(354)+this[e(369)][e(236)]+e(140)+s.height);const t={width:s[e(160)],height:s.height};this.updateVideoInfoByWebrtc(t),this[e(199)]()}this[e(377)][e(115)]({fps:!0,ts:i,dts:i}),this.player.updateCurrentPts(i),this[e(390)]()}else if(bi(this[e(377)][e(381)][e(425)])&&Si(this[e(377)][e(381)].mseUseCanvasRender)){if(this.player.mseDecoder){let t=i+(this[e(377)][e(202)][e(331)]||0);this[e(377)][e(474)](t)}else if(this[e(377)]._opt[e(138)]){let t=i+(this[e(377)][e(222)][e(331)]||0);this[e(377)][e(474)](t)}this[e(390)]()}this[e(347)]=this[e(483)].requestVideoFrameCallback(this[e(348)])}fixChromeVideoFlashBug(){const t=lo;if(this[t(377)][t(381)].videoRenderSupportScale&&this[t(446)]()){const e=this[t(377)].$container;e[t(122)][t(154)]=t(452),e[t(122)][t(412)]=t(189)}}[lo(397)](){const t=lo,e=us(),s=ls();(e||s)&&(this[t(377)][t(341)](this.TAG_NAME,t(401)+e+t(471)+s),this.$videoElement.setAttribute("webkit-playsinline",t(282)),this[t(483)][t(143)](t(413),t(282)),this.$videoElement[t(143)]("x5-video-player-type",t(458)))}[lo(249)](t){const e=lo,s=this.$videoElement,i=s[e(116)],r=s[e(150)];if(this.player[e(341)](this[e(148)],e(243)+t+e(291)+this[e(280)]+e(433)+r+e(482)+i.length+" and startTime is "+(i[e(451)]>0?i[e(373)](0):e(380))+e(170)+s[e(319)]),t||Si(this[e(280)])||r<2){if(i[e(451)]>0&&s[e(319)]<i[e(373)](0))this[e(377)][e(183)](this[e(148)],e(288)+s[e(319)]+e(417)+i[e(373)](0)),s[e(319)]=i[e(373)](0),this[e(407)]();else if(this[e(377)][e(180)]()){null===this[e(224)]&&(this[e(224)]=Je(),this.player[e(341)](this[e(148)],e(375)+this.detectAndFixStuckPlaybackStartTime));const t=Je()-this[e(224)];t>=1e3*this.player[e(381)][e(480)]&&(this.player[e(183)](this.TAG_NAME,e(288)+s[e(319)]+e(432)+t+" and timeout"),this[e(377)].emit(V[e(480)],t))}}else this[e(407)]()}[lo(407)](){const t=lo;this.progressProxyDestroy&&(this[t(377)][t(341)](this[t(148)],t(178)),this[t(135)](),this[t(135)]=null),this.detectAndFixStuckPlaybackStartTime=null}[lo(446)](){const t=lo,e=ds()[t(415)][t(306)]();return e===t(285)||e===t(427)}[lo(256)](){const t=lo;let e=!0;return this.$videoElement&&(e=this[t(483)][t(311)]),e}[lo(201)](){return this.isPaused()}[lo(418)](){let t=0;return this.$videoElement&&(t=this.$videoElement.readyState),t}[lo(363)](){const t=lo;let e=0;return this[t(483)]&&(e=this.$videoElement[t(319)]),e}[lo(233)](){const t=lo;if(this.$videoElement){const e=this[t(418)]();if(this.player[t(341)](this.TAG_NAME,t(205)+e),0===e)return this.player.debugLog(this.TAG_NAME,t(174)),this[t(207)]=!0,void(null===this[t(463)]&&(this[t(463)]=setTimeout((()=>{const e=t;if(this.clearCheckVideoCanplayTimeout(),!this._isDestroyed&&!this[e(377)][e(314)]()&&Si(this[e(434)]())){const t=this[e(181)]();this[e(377)][e(183)](this[e(148)],e(141)+t+e(175)),this.$videoElement.currentTime=t,this[e(302)]()}}),1e3)));this._play()}}_play(){const t=lo;this[t(483)]&&this.$videoElement[t(233)]()[t(420)]((()=>{const e=t;this[e(207)]=!1,this[e(377)][e(341)](this.TAG_NAME,"_play success"),this[e(434)]()?(this[e(377)][e(188)](O.removeLoadingBgImage),this[e(171)](),this[e(340)]=0,this[e(137)]=!1):this[e(383)]=setTimeout((()=>{const t=e;this[t(264)](),this[t(302)]()}),100)}))[t(162)]((e=>{const s=t;this[s(239)]||(this[s(377)][s(314)]()?this[s(377)][s(341)](this.TAG_NAME,s(117)):(this[s(377)].debugLog(this[s(148)],s(166)+e.name+s(213)+e[s(125)]+",\n            e.toString() is "+e[s(410)]()),this[s(377)].debugError(this.TAG_NAME,"_play error",e),this[s(137)]=!1,this[s(383)]=setTimeout((()=>{const t=s;this[t(264)](),this[t(302)]()}),100)))}))}[lo(302)](){const t=lo;if(!this._isDestroyed)if(!this.isPlaying()&&Si(this[t(377)][t(314)]())&&Si(this[t(137)])){if(this[t(137)]=!0,this[t(340)]>=3){let e="";return void(this[t(377)][t(368)]()?(e="_replay(webrtc H264) then but not playing and retry play times is "+this.isRetryPlayingTimes+t(448),this[t(377)][t(152)](this[t(148)],e),this.player[t(342)](V[t(226)],e)):(e="_replay then but not playing and retry play times is "+this.isRetryPlayingTimes+t(193),this[t(377)].debugError(this[t(148)],e),this[t(377)].emitError(V.videoElementPlayingFailed,e)))}this[t(377)][t(183)](this.TAG_NAME,"_play then but not playing and retry play and isRetryPlayingTimes is "+this[t(340)]),this[t(336)](),this.isRetryPlayingTimes++}else this[t(377)].debugLog(this[t(148)],"_replay() and isPlaying is "+this[t(434)]()+t(317)+this.isRetryPlaying+" and isDestroyedOrClosed is "+this[t(377)][t(314)]()+t(441))}[lo(255)](t){const e=lo;this.player.debugLog(this.TAG_NAME,e(287)+t),this.isPlaying()&&(t?(this.$videoElement&&this.$videoElement.pause(),this._cancelVideoFrameCallback()):this[e(392)]=setTimeout((()=>{const t=e;this.clearPauseDelayTimeout(),this[t(483)]&&this.$videoElement[t(255)](),this._cancelVideoFrameCallback()}),100))}[lo(121)](){const t=lo;super.clearView(),this[t(483)]&&(this.$videoElement.pause(),this[t(483)][t(319)]=0,this.$videoElement[t(436)]&&(this.$videoElement.src="",this.$videoElement.removeAttribute(t(436))),this[t(483)][t(460)]&&(this[t(483)][t(460)]=null,this.$videoElement[t(308)](t(460))))}[lo(270)](t,e,s,i){const r=lo;if(!this._canScreenshot())return this[r(377)][r(183)](this.TAG_NAME,r(229)+this[r(418)]()),null;t=t||Je(),i=i||G[r(163)];let n=.92;!dt[e]&&G[e]&&(i=e,e="png",s=void 0),typeof s===r(289)&&(i=s,s=void 0),typeof s!==r(219)&&(n=Number(s));const o=this[r(483)];!this[r(353)]&&this[r(409)]();let a=this[r(353)];a[r(160)]=o.videoWidth,a.height=o.videoHeight,this[r(479)][r(428)](o,0,0,a[r(160)],a[r(236)]);const h=dt[e]||dt[r(216)];let l=k;try{l=a[r(408)](h,n)}catch(t){this[r(377)][r(341)](this[r(148)],r(214),t[r(410)](),t)}if(this[r(479)][r(130)](0,0,a[r(160)],a[r(236)]),a[r(160)]=0,a[r(236)]=0,i===G[r(360)])return l;{const e=Ye(l);if(i===G.blob)return e;if(i===G[r(163)]){const s=h[r(376)]("/")[1];Gn(e,t+"."+s)}}}[lo(284)](t){return new Promise(((e,s)=>{const i=ho;if(qs(t)&&(t={filename:t}),!this._canScreenshot())return this[i(377)][i(183)](this[i(148)],i(385)),s("screenshot failed, video is not ready");const r=this[i(483)];(t=t||{}).width=r[i(176)],t[i(236)]=r.videoHeight,t[i(128)]=t.filename||Je(),t[i(382)]=t[i(382)]?dt[t[i(382)]]:dt[i(216)],t[i(426)]=Number(t.quality)||.92,t[i(415)]=t.type||G[i(163)],!this[i(353)]&&this[i(409)]();let n=this.$screenshotCanvasElement;n[i(160)]=r.videoWidth,n.height=r.videoHeight,this[i(479)][i(428)](r,0,0,n[i(160)],n[i(236)]);let o=k;try{o=n[i(408)](t.format,t[i(426)])}catch(t){this.player.debugLog(this[i(148)],i(210),t[i(410)](),t)}this[i(479)][i(130)](0,0,n.width,n[i(236)]),n[i(160)]=0,n.height=0;const a=this[i(377)]._opt[i(406)];Bs(o,t,a).then((s=>{const r=i;if(t[r(415)]===G[r(360)])e(s);else{const i=Ye(s);if(t[r(415)]===G[r(257)])e(i);else if(t[r(415)]===G[r(163)]){e();const s=t[r(382)][r(376)]("/")[1];Gn(i,t.filename+"."+s)}}})).catch((t=>{s(t)}))}))}[lo(484)](t){return new Promise(((e,s)=>{const i=ho;if(qs(t)&&(t={filename:t}),!this[i(466)]())return this.player[i(183)](this.TAG_NAME,i(385)),s(i(385));const r=this[i(483)];(t=t||{}).width=r.videoWidth,t.height=r[i(324)],t[i(128)]=t.filename||Je(),t[i(382)]=t[i(382)]?dt[t[i(382)]]:dt[i(216)],t[i(426)]=Number(t[i(426)])||.92,t.type=t[i(415)]||G[i(163)],!this[i(353)]&&this._createScreenShotCanvas();let n=this[i(353)];n[i(160)]=r[i(176)],n[i(236)]=r[i(324)],this[i(479)][i(428)](r,0,0,n[i(160)],n[i(236)]);let o=k;try{o=n[i(408)](t[i(382)],t[i(426)])}catch(t){this[i(377)][i(341)](this[i(148)],"screenshotCopyrightWatermark and toDataURL error",t[i(410)](),t)}this.screenshotCanvasContext[i(130)](0,0,n[i(160)],n.height),n.width=0,n[i(236)]=0;const a=this[i(377)][i(381)][i(406)];Us(o,t,a)[i(420)]((s=>{const r=i;if(t.type===G[r(360)])e(s);else{const i=Ye(s);if(t[r(415)]===G.blob)e(i);else if(t.type===G[r(163)]){e();const s=t[r(382)][r(376)]("/")[1];Gn(i,t[r(128)]+"."+s)}}}))[i(162)]((t=>{s(t)}))}))}[lo(151)](t){}screenshotByRect(t){const e=lo;if(!this[e(466)]())return this[e(377)][e(183)](this[e(148)],e(492)+this._getVideoReadyState()),null;const s=this.$videoElement;!this[e(353)]&&this[e(409)]();let i=this[e(353)];i[e(160)]=parseInt(t[e(160)],10),i[e(236)]=parseInt(t[e(236)],10),this.screenshotCanvasContext[e(428)](s,t.x,t.y,i[e(160)],i.height,0,0,i.width,i.height);const r=dt[e(216)];let n=k;try{n=i[e(408)](r,.92)}catch(t){this.player[e(341)](this[e(148)],e(443),t[e(410)](),t)}return this.screenshotCanvasContext[e(130)](0,0,i[e(160)],i[e(236)]),i.width=0,i[e(236)]=0,n}initCanvasViewSize(){const t=lo;this[t(483)].style.display=t(198),this.resize()}[lo(332)](){const t=lo,e=this[t(483)],s=e[t(116)],i=s[t(451)]?s.end(s.length-1):0;e[t(319)]=i}[lo(259)](t){const e=lo;if(!this[e(239)])if(this[e(442)]){if(!this.$videoElement[e(460)]&&(this[e(483)][e(460)]=this[e(187)]),this[e(256)]()){const s=this[e(418)]();if(this[e(377)][e(183)](this.TAG_NAME,"render() error, video is paused and readyState is "+s),4===s&&Si(this.isRenderRetryPlaying)){if(this[e(299)]=!0,this.isRenderRetryPlayingTimes>3){const i=e(374)+s+e(153)+this[e(394)]+e(387);return this[e(377)][e(152)](this[e(148)],i),this[e(377)][e(342)](V[e(157)],i),void(t[e(449)]&&hi(t[e(449)]))}this[e(483)][e(233)]().then((()=>{const t=e;this[t(394)]=0,this[t(299)]=!1,this._startVideoFrameCallback(),this.player[t(341)](this[t(148)],t(429))}))[e(162)]((t=>{const s=e;this[s(299)]=!1,this[s(394)]++,this[s(377)].debugLog(this[s(148)],s(321)+t[s(398)]+s(326)+t.message+s(334)+t[s(410)]()),this[s(377)][s(152)](this[s(148)],s(367),t)}))}}if(this[e(377)].updateStats({fps:!0,ts:t.ts||0}),t[e(449)])if(this[e(147)]()){const s=t[e(449)];let i=new Uint8Array(s[e(421)]());s[e(343)](i).then((()=>{const r=e,n=s[r(382)]==r(405)?_[r(164)]:_[r(247)],o=this[r(344)]({yuv:i,ts:t.ts||0},n);if(hi(s),!o)return;const a=o[r(292)];try{const e=Ns(a,{format:o[r(382)],codedWidth:this[r(369)][r(160)],codedHeight:this[r(369)][r(236)],timestamp:1e3*t.ts});this.vwriter.write(e).then((()=>{hi(e)}))[r(162)]((t=>{}))}catch(t){this.player[r(152)](this[r(148)],r(209),t),this[r(377)][r(342)](V[r(241)],r(244)+t[r(228)]+r(204)+t[r(125)])}}))}else this.vwriter[e(272)](t[e(449)])[e(420)]((()=>{hi(t[e(449)])}))[e(162)]((t=>{}));else if(t.output){const s=this[e(344)]({yuv:t[e(253)],ts:t.ts||0});if(!s)return;const i=s[e(292)];try{const r=Ns(i,{format:s[e(382)],codedWidth:this[e(369)].width,codedHeight:this[e(369)][e(236)],timestamp:1e3*t.ts});this[e(442)][e(272)](r)[e(420)]((()=>{hi(r)}))[e(162)]((t=>{}))}catch(t){this[e(377)].debugError(this[e(148)],e(424),t),this[e(377)].emitError(V[e(241)],"code is "+t.code+" and message is "+t[e(125)])}}this[e(377)][e(474)](t.ts||0),this.doAddContentToWatermark(),this[e(273)]()}else this[e(377)][e(183)](this[e(148)],e(303))}[lo(301)](){const t=lo;this[t(377)].debugLog(this[t(148)],"_resize()");const e=this[t(377)][t(381)],s=e[t(232)],i=this[t(377)].getShowVideoRect();let r=i[t(160)],n=i[t(236)];this[t(483)][t(160)]=r,this.$videoElement[t(236)]=n,this[t(483)][t(122)][t(160)]=r+"px",this[t(483)][t(122)][t(236)]=n+"px",(270===s||90===s)&&(this[t(483)][t(160)]=n,this[t(483)][t(236)]=r,this[t(483)][t(122)][t(160)]=n+"px",this.$videoElement.style[t(236)]=r+"px");let o=this.$videoElement.width,a=this[t(483)][t(236)],h=Math[t(158)]((r-o)/2),l=Math.floor((n-a)/2),c=t(335);Si(e[t(313)])&&(c="fill"),e[t(123)]&&(c=t(124));let d="";e[t(396)]===t(388)&&s&&(d+=t(461)+s+"deg)"),e[t(396)]===t(129)?d+=" rotateY(180deg)":"vertical"===e[t(396)]&&(d+=" rotateX(180deg)"),this.player._opt[t(159)]&&(this[t(483)][t(122)].objectFit=c),this.$videoElement.style[t(412)]=d,this[t(483)][t(122)][t(464)]="0",this[t(483)][t(122)][t(186)]=h+"px",this[t(483)][t(122)].top=l+"px"}[lo(211)](){return f[lo(346)]}getCurrentTime(){return this[lo(483)].currentTime}isPlaying(){const t=lo;return this[t(483)]&&Si(this[t(483)][t(311)])&&Si(this.$videoElement[t(167)])&&0!==this[t(483)][t(352)]&&0!==this[t(483)].readyState}[lo(481)](){return this.isPlaying()}[lo(466)](){const t=lo;return this.$videoElement&&this[t(483)].readyState>=1}[lo(430)](){const t=lo;let e=null;if(this[t(483)]){if(ti(this.$videoElement[t(312)])){const s=this.$videoElement[t(312)]();e={droppedVideoFrames:s[t(179)]||s[t(195)]||0,totalVideoFrames:s[t(365)]||0,creationTime:s[t(462)]||Je()}}else e={droppedVideoFrames:this.$videoElement[t(318)]||0,totalVideoFrames:this[t(483)][t(192)]||0,creationTime:Je()};e&&(e[t(200)]=e[t(365)]-e[t(179)])}return e}setRate(t){const e=lo;this[e(483)]&&(this.$videoElement[e(352)]=t)}get[lo(156)](){const t=lo;let e=1;return this[t(483)]&&(e=this.$videoElement[t(352)]),e}[lo(338)](){const t=lo;this[t(463)]&&(clearTimeout(this.checkVideoCanplayTimeout),this[t(463)]=null)}[lo(264)](){const t=lo;this[t(383)]&&(clearTimeout(this[t(383)]),this[t(383)]=null)}clearVisibilityChangePlayTimeout(){const t=lo;this[t(488)]&&(clearTimeout(this[t(488)]),this[t(488)]=null)}[lo(300)](){const t=lo;this[t(392)]&&(clearTimeout(this[t(392)]),this[t(392)]=null)}[lo(316)](){const t=lo;this[t(347)]&&this[t(483)]&&(this[t(377)][t(341)](this[t(148)],"_cancelVideoFrameCallback() cancelVideoFrameCallback"),this[t(483)][t(208)](this.supportVideoFrameCallbackHandle),this[t(347)]=null)}[lo(171)](){const t=lo;ki()?!this[t(347)]&&(this[t(377)][t(341)](this.TAG_NAME,"support requestVideoFrameCallback and use videoFrameCallback"),this[t(347)]=this.$videoElement[t(217)](this[t(348)])):this[t(377)][t(183)](this.TAG_NAME,t(114))}[lo(181)](){const t=lo,e=this[t(483)];let s=0;return e[t(116)][t(451)]>0&&(s=e[t(116)][t(373)](0)),s}[lo(350)](){const t=lo,e=this[t(483)],s=e[t(116)];s[t(451)]&&s[t(373)](0);const i=s[t(451)]?s[t(276)](s[t(451)]-1):0;let r=e[t(319)];const n=i-r,o=this[t(149)]();if(this[t(377)][t(115)]({mseVideoBufferDelayTime:n}),n>o){const s=this[t(155)](1);this.player[t(341)](this[t(148)],"handleUpdatePlaybackRate and buffered is "+i+t(271)+r+" , delay buffer is more than "+o+t(252)+n+" and new time is "+s),e[t(319)]=s,r=e[t(319)]}else if(n<0&&0===i)return this[t(377)][t(183)](this.TAG_NAME,"handleUpdatePlaybackRate and delay buffer is "+i+" - current is "+r+" = "+n+t(215)+e.paused+" "),void this[t(377)][t(188)](V[t(218)],"video.buffered is empty");if(r>1){const s=this._getPlaybackRate(i-r);e[t(352)]!==s&&(this[t(377)].debugLog(this[t(148)],t(134)+i+t(364)+r+t(400)+(i-r)+"  set playbackRate is "+s+" "),e[t(352)]=s)}}_getPlaybackRate(t){const e=lo,s=this.$videoElement;let i=this[e(377)][e(381)].videoBufferDelay+this.player[e(381)].videoBuffer;const r=Math[e(450)](i,1e3),n=r/2;return t*=1e3,1===s[e(352)]?t>r?1.2:1:t<=n?1:s[e(352)]}[lo(323)](){const t=lo;let e=0;return this.$videoElement&&(e=this[t(483)][t(319)]),e}[lo(359)](){const t=lo,e=this[t(483)];let s=0;if(e){const i=e[t(116)];i.length&&i[t(373)](0);s=i[t(451)]?i[t(276)](i[t(451)]-1):0}return s}getVideoBufferDelayTime(){const t=lo,e=this[t(483)];const s=this[t(359)]()-e.currentTime;return s>0?s:0}[lo(478)](){const t=lo,e=this[t(483)];let s=0,i=0;return e[t(116)][t(451)]>0&&(i=e[t(116)][t(276)](e.buffered[t(451)]-1),s=i-e.currentTime),s<0&&(this[t(377)][t(183)](this[t(148)],t(327)+s+t(212)+i+t(416)+e[t(319)]+t(494)+e.currentTime+" to "+i),e[t(319)]=i,e[t(311)]&&(this[t(377)][t(183)](this[t(148)],t(357)),this[t(377)][t(231)]=!0),s=0),s}[lo(267)](){const t=lo,e=this[t(483)];let s=0;return e.buffered[t(451)]>0&&(s=e.currentTime-e.buffered[t(373)](0)),s}[lo(476)](){const t=lo,e=this[t(483)];let s=null;if(e){const i=e[t(116)],r=i[t(451)]?i[t(373)](0):0,n=i[t(451)]?i.end(i.length-1):0;s={start:r,end:n,diff:n-r}}return s}[lo(486)](){const t=lo,e=this[t(483)];let s=[];if(e){const i=e[t(116)];for(let e=0;e<i[t(451)];e++){let r=i[t(373)](e),n=i[t(276)](e);s[t(145)]({start:r,end:n})}}return s}[lo(435)](){const t=lo;let e=0;const s=this[t(483)];return s&&(e=s[t(352)]),e}[lo(149)](){const t=lo;let e=(this[t(377)][t(381)][t(265)]+this[t(377)][t(381)][t(489)])/1e3;return Math.max(5,e+3)}[lo(349)](){return this._getVideoReadyState()>=1}[lo(126)](){const t=lo;this[t(444)]&&(clearTimeout(this[t(444)]),this[t(444)]=null)}[lo(278)](){const t=lo;this[t(414)]&&(clearTimeout(this[t(414)]),this[t(414)]=null)}[lo(355)](){const t=lo;this[t(126)](),this[t(444)]=setTimeout((()=>{const e=t;this._isDestroyed||(this[e(377)][e(314)]()?this.player[e(341)](this[e(148)],e(395)):(this[e(377)][e(341)](this[e(148)],e(242)),this[e(377)][e(188)](O[e(485)])))}),100)}[lo(294)](){this._clearCheckVodVideoWaiting(),this._checkVodVideoWaitingInterval=setTimeout((()=>{const t=ho;this._isDestroyed||(this[t(377)][t(314)]()?this[t(377)][t(341)](this[t(148)],t(399)):this[t(483)]&&(this[t(377)].debugLog(this[t(148)],t(139)+this[t(483)][t(319)]+t(455)+(this.$videoElement.currentTime+.1)),this[t(483)].currentTime=this[t(483)][t(319)]+.1))}),4e3)}[lo(361)](t){const e=lo;this.$videoElement&&(this[e(483)].currentTime=t)}[lo(119)](){const t=lo;let e=!1;return this[t(483)]&&(e=this[t(483)].ended),e}[lo(277)](){const t=lo;let e=0;return this.$videoElement&&this.$videoElement[t(116)][t(451)]>0&&(e=this[t(483)].buffered[t(276)](this[t(483)][t(116)][t(451)]-1)),e}getDuration(){const t=lo;let e=0;return this[t(483)]&&(e=this[t(483)][t(447)]),e}[lo(378)](){const t=lo;let e=0;if(this[t(483)]){const s=this[t(230)]();s&&(e=this[t(277)]()/s)}return e}[lo(155)](){const t=lo;let e=arguments[t(451)]>0&&void 0!==arguments[0]?arguments[0]:1,s=this[t(483)][t(319)];const i=this[t(486)]();if(0===i.length)return s;const r=i[i[t(451)]-1];return s=r[t(276)]-r[t(373)]<1?r[t(373)]:r[t(276)]-(e||1),s}}function po(){let t=null;const e=()=>{t&&(self.clearInterval(t),t=null)};self.onmessage=function(s){if("start"===s.data.event){const i=s.data.interval||16.6;e(),t=self.setInterval((()=>{self.postMessage({})}),i)}"stop"===s.data.event&&e()}}const fo=go;function mo(){const t=["226888GEvFxf","stop","17631621sXLEjo","interval","revokeObjectURL","1765874FkWnxA","1158780lMKeTY","postMessage","destroy","51160bFebEg","terminate","50plnSJm","6TldDdD","246QsEjXH","timerByWorker","137106sfPkxt","112XPClTW","timerByWorkerClearTimeout","handleFn","timerByWorkerUrl","_initIntervalWorker","871640zEGxFP"];return(mo=function(){return t})()}function go(t,e){const s=mo();return(go=function(t,e){return s[t-=441]})(t,e)}!function(t,e){const s=go,i=t();for(;;)try{if(991515===parseInt(s(452))/1*(parseInt(s(455))/2)+parseInt(s(453))/3*(-parseInt(s(449))/4)+-parseInt(s(461))/5+parseInt(s(446))/6+parseInt(s(456))/7*(parseInt(s(462))/8)+parseInt(s(442))/9+parseInt(s(451))/10*(-parseInt(s(445))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mo);class yo{constructor(){const t=go;this[t(454)]=null,this.timerByWorkerUrl=null,this.timerByWorkerClearTimeout=null,this[t(458)]=null}[fo(448)](){const t=fo;this[t(454)]&&(this.timerByWorker[t(450)](),this.timerByWorker=null),this.timerByWorkerClearTimeout&&(clearTimeout(this[t(457)]),this[t(457)]=null),this[t(459)]&&(URL[t(444)](this[t(459)]),this[t(459)]=null),this.handleFn=null}[fo(443)](t,e){const s=fo;!this.timerByWorker&&this[s(460)](e),this[s(454)][s(447)]({event:"start",interval:e}),this.handleFn=t}[fo(441)](){const t=fo;this.timerByWorker&&this.timerByWorker[t(447)]({event:t(441)}),this[t(458)]=He}[fo(460)](t){const e=fo,s=ai(po);this.timerByWorker=new Worker(s),this[e(459)]=s,this[e(457)]=setTimeout((()=>{const t=e;window.URL[t(444)](this[t(459)]),this[t(459)]=null,this[t(457)]=null}),I),this[e(454)].onmessage=t=>{const s=e;this[s(458)]&&this[s(458)]()}}}function Ao(t,e){const s=bo();return(Ao=function(t,e){return s[t-=259]})(t,e)}const vo=Ao;function bo(){const t=["useWebGPU","CanvasVideoPlayback","stop"," pre fps is ","_initCanvasRender","$videoElement","isCacheBeforeDecodeForFpsRender","doRender webgl render context is lost ","_initContext2D","startRender$2","videoFrame","_requestAnimationFrameRequest","initVideo","1793910taNGdE","length","_renderFps","useWebCanvas","webGPURender","clearRect","_isDestroyed","initFps","playVod","isUseFpsRender","rate is","intervalUseWorker","initFps, has calc fps","buffer","listenPlaybackPause","_doRender","isPlaybackPauseClearCache","_sync","destroy","sync frame duration is ","playbackDelayTime","videoInfo","tfTs","clear","streamFps","width","cancelRequestAnimationFrameRequest"," and buffer length is ","renderType","renderYUV","_requestAnimationFramePrevTs","_doPlayEmpty"," and bufferList length is ","canvas","now","fps","contextGl","intervalPlaybackLoopWorker","delayTimeout","clearView","resume","398440RpACIY","I420","requestAnimationFrameMaxDiff","setStreamFps","preFps","setFps min","bufferList","toString","height","render animation frame duration is ","preSyncTimestamp","debugLog","pause","isPlaybackOnlyDecodeIFrame","_firstTimestamp"," >= 950ms and visibility is false","isWcsWebgl2","fps is","render$2","setRate","then","ceil","playbackConfig","handleRender","render","CanvasVideoPlayVod","ms and diffFps is ","drawImage","useWCS","_doPlay","initVideoDelay","747846mdTuaj","reset"," and playbackRate is ","_initContextGPU","shift","bound","webcodecs","TAG_NAME","player","playVodPause","startRender","_initContextGl","playbackRate","buffer size is ","playInterval","3967075bIzNdN","2360240ztaKRk","bind","debugWarn","init","4468203DjgOyu","floor","createImageBitmap"," and fragDuration is ","visibility","playback","setFps ","debugError","playbackPause","pushData, isPlaybackOnlyDecodeIFrame only decode iframe and ts is ","isContextLost","setFps","7YxURZI","setFps max","webgpu","push","1314066LnDmSV","_startfpsTime","ms and and page visibility is ","ms and fps is ","_stopSync","bufferSize","webgl","wcsUseWebgl2Render","updateStats","isPlayback","output","doRender webgpu render and error: ","getCanvasType","webglRender","_doSync","_startFpsTimestamp","listenPlayVodPause","_hasCalcFps","getStreamFps","context2D","updateCurrentPts","_opt","isPlayVod","24mUAPhy","_initContextGl2","_updateSync"," -> ","sync and _opt.intervalUseWorker is true and use IntervalWorker","rate"];return(bo=function(){return t})()}!function(t,e){const s=Ao,i=t();for(;;)try{if(401280===parseInt(s(337))/1+parseInt(s(404))/2+-parseInt(s(368))/3+parseInt(s(384))/4+parseInt(s(383))/5+parseInt(s(296))/6*(-parseInt(s(400))/7)+-parseInt(s(277))/8*(parseInt(s(388))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bo);class So extends io{constructor(t){const e=Ao;super(t),this[e(375)]=t[e(276)]()?e(362):e(284),this[e(343)]=[],this[e(382)]=null,this[e(331)]=1,this[e(341)]=1,t.isPlayVod()&&(this[e(331)]=25,this[e(341)]=25),this[e(320)]=0,this[e(380)]=1,this._firstTimestamp=null,this[e(298)]=0,this[e(405)]=null,this[e(269)]=null,this[e(271)]=!1,this[e(294)]=null,this._requestAnimationFramePrevTs=null,this[e(347)]=null,this.intervalPlaybackLoopWorker=null,this[e(373)]={listenPlaybackPause:this[e(310)][e(385)](this),listenPlayVodPause:this[e(270)][e(385)](this),_doSync:this[e(268)][e(385)](this),startRender$2:this[e(292)][e(385)](this)},this[e(376)][e(263)]()?this.player.on(O[e(396)],this[e(373)][e(310)]):this[e(376)][e(276)]()&&this[e(376)].on(O[e(377)],this[e(373)][e(270)]),this[e(376)][e(348)](this[e(375)],e(387))}async[vo(314)](){const t=vo;this[t(319)](),this._stopSync(),this[t(333)]&&(this[t(333)][t(314)](),this.intervalPlaybackLoopWorker=null),this[t(322)](),this[t(369)](),super[t(314)](),this.bound=null,this[t(376)][t(348)](this[t(375)],t(314))}[vo(369)](){const t=vo;this._firstTimestamp=null,this.playbackRate=1,this[t(331)]=1,this[t(341)]=1,this[t(320)]=null,this[t(298)]=0,this[t(405)]=null,this[t(269)]=null,this[t(271)]=!1}[vo(310)](t){const e=vo;t?(this[e(349)](),this[e(376)][e(393)][e(312)]&&this[e(319)]()):this.resume()}[vo(270)](t){t?this[vo(349)]():this.resume()}[vo(287)](){const t=vo;this[t(376)][t(275)][t(365)]?(this[t(324)]=et[t(374)],Ii()&&this[t(376)][t(275)][t(261)]?(this[t(278)](),this[t(267)]&&(this[t(353)]=!0)):this[t(291)]()):this[t(376)]._opt[t(283)]?(this[t(324)]=et[t(402)],this[t(371)]()):this[t(376)]._opt[t(299)]?(this[t(324)]=et[t(329)],this[t(291)]()):(this[t(324)]=et[t(260)],this[t(379)]())}[vo(313)](){const t=vo;this[t(408)]();for(let e=0;e<this[t(380)];e++)this[t(366)]();const e=Math[t(358)](1e3/this[t(331)]);this[t(376)][t(348)](this[t(375)],t(315)+e+t(407)+this[t(331)]+t(370)+this[t(380)]),this[t(376)]._opt[t(307)]?(!this[t(333)]&&(this[t(376)][t(348)](this.TAG_NAME,t(281)),this[t(333)]=new yo),this[t(333)].interval(this[t(373)][t(268)],e)):this.playInterval=setInterval(this.bound[t(268)],e)}[vo(268)](){const t=vo;let e=Date[t(330)]();!this[t(347)]&&(this[t(347)]=e);for(let e=0;e<this.playbackRate;e++)this[t(366)]();let s=e-this[t(347)];const i=Math[t(358)](1e3/this[t(331)]);let r=parseInt(s/i,10);if(r>1&&this[t(343)][t(297)]>0){this[t(376)][t(386)](this[t(375)],t(315)+s+t(406)+this[t(376)][t(392)]+t(391)+i+t(363)+r+t(328)+this[t(343)][t(297)]);const e=Si(this.player[t(392)])&&s>=950;e&&this[t(376)].debugLog(this[t(375)],"sync frame and diff is "+s+t(352));for(let s=0;s<r;s++)for(let s=0;s<this[t(380)];s++)e?this[t(327)]():this[t(366)]()}this.preSyncTimestamp=e}[vo(366)](){const t=vo;if(this[t(343)][t(297)]>0){const e=this[t(343)].shift();e&&e[t(309)]&&(this[t(311)](e[t(309)]),this.player[t(263)]()&&this[t(376)][t(393)][t(262)]({ts:e.ts,tfTs:e[t(318)]}),this[t(376)][t(274)](e.ts),this[t(376)][t(360)]())}}_doPlayEmpty(){const t=vo;if(this[t(343)][t(297)]>0){const e=this.bufferList[t(372)]();e&&e[t(309)]&&(this[t(376)][t(275)][t(365)]&&hi(e[t(309)]),this[t(376)][t(263)]()&&this[t(376)][t(393)].updateStats({ts:e.ts,tfTs:e[t(318)]}),this[t(376)].updateCurrentPts(e.ts),this.player[t(360)]())}}_stopSync(){const t=vo;this[t(382)]&&(clearInterval(this[t(382)]),this[t(382)]=null),this.intervalPlaybackLoopWorker&&this[t(333)][t(285)](),this.preSyncTimestamp=null}[vo(311)](t){const e=vo;if(this[e(376)]._opt[e(365)])if(this[e(267)])this[e(267)][e(361)](t),hi(t);else if(ti(t[e(390)]))try{t[e(390)]()[e(357)]((s=>{const i=e;this[i(273)][i(364)](s,0,0,this[i(288)][i(321)],this[i(288)].height),hi(t)}))}catch(t){}else this[e(273)][e(364)](t,0,0,this[e(288)][e(321)],this[e(288)].height),hi(t);else if(this[e(266)]()===et[e(260)])try{this.webglRender.renderYUV(this[e(288)][e(321)],this.$videoElement[e(345)],t)}catch(s){this.player[e(395)](this.TAG_NAME,e(290)+(this[e(332)]&&this.contextGl[e(398)]())+e(323)+t[e(297)]+" and error: "+s.toString())}else if(this[e(266)]()===et[e(402)])try{if(!this[e(300)])return void this.player[e(386)](this[e(375)],"doRender webgpu render is not init");this[e(300)][e(325)](this[e(288)][e(321)],this[e(288)][e(345)],t)}catch(t){this[e(376)].debugError(this[e(375)],e(265)+t[e(344)]())}else if(this[e(266)]()===et[e(329)]){const s=Ns(t,{format:e(338),codedWidth:this[e(317)].width,codedHeight:this[e(317)][e(345)],timestamp:0});this[e(273)][e(364)](s,0,0,this[e(288)][e(321)],this.$videoElement[e(345)]),hi(s)}}get[vo(282)](){return this[vo(380)]}get[vo(259)](){const t=vo;return this[t(343)][t(297)]}[vo(272)](){return this.streamFps}[vo(303)](){const t=vo;this[t(271)]?this.player[t(348)](this[t(375)],t(308)):this[t(376)].isPlayback()?(this[t(341)]=Xe(this[t(376)][t(393)].fps,1,100),this[t(331)]=this.preFps):this[t(376)][t(276)]()&&(this[t(341)]=Xe(this[t(376)].playVod[t(331)],1,100),this[t(331)]=this[t(341)])}[vo(399)](t){const e=vo;t!==this.fps&&(t>100&&this[e(376)].debugWarn(this[e(375)],e(401),t),t<0&&this.player[e(386)](this[e(375)],e(342),t),this[e(331)]=Xe(t,1,100),this[e(376)][e(348)](this[e(375)],e(394)+this[e(341)]+e(280)+this.fps),this.player[e(263)]()&&this[e(376)][e(393)].isUseFpsRender&&this[e(313)](),this[e(341)]=this[e(331)])}[vo(340)](t){const e=vo;this.player[e(348)](this[e(375)],e(340),t),this[e(271)]=!0,this[e(320)]=t,this[e(399)](t)}setRate(t){const e=vo;t!==this[e(380)]&&(this[e(376)][e(348)](this.TAG_NAME,e(356),t),this.playbackRate=t)}[vo(355)](t){const e=vo;if(this[e(302)])return;null===this[e(351)]&&(this[e(351)]=t.ts);const s={tfTs:t.ts-this[e(351)],ts:t.ts};t[e(293)]?s[e(309)]=t.videoFrame:s[e(309)]=t.output,this[e(343)][e(403)](s),this.startRender()}[vo(378)](){const t=vo;if(0===this[t(343)][t(297)])return;let e=null;for(;0!==this[t(343)][t(297)];){const s=this[t(343)][t(372)]();this[t(311)](s[t(309)]),e=s}this[t(376)][t(263)]()?this.player[t(393)][t(262)]({ts:e.ts,tfTs:e.tfTs}):this[t(376)][t(276)]()&&this[t(376)][t(304)].updateStats({ts:e.ts,tfTs:e[t(318)]}),this[t(376)][t(274)](e.ts),this[t(376)][t(360)]()}[vo(292)](){const t=vo;if(this[t(343)][t(297)]<=0)return void this[t(322)]();null===this[t(326)]&&(this[t(326)]=Je());const e=Je()-this[t(326)];if(e>=this[t(376)][t(275)].requestAnimationFrameMaxDiff)return this[t(376)][t(386)](this[t(375)],t(346)+e+"ms more than "+this[t(376)][t(275)][t(339)]+" and use startRender() instead"),this[t(378)](),void this[t(322)]();const s=this.bufferList[t(372)]();this[t(311)](s[t(309)]),this.player[t(263)]()?this[t(376)][t(393)][t(262)]({ts:s.ts,tfTs:s[t(318)]}):this[t(376)][t(276)]()&&this.player.playVod[t(262)]({ts:s.ts,tfTs:s[t(318)]}),this[t(376)].updateCurrentPts(s.ts),this[t(376)].handleRender(),this[t(326)]=Je(),this[t(294)]=requestAnimationFrame(this.bound[t(292)])}[vo(322)](){const t=vo;this[t(294)]&&(cancelAnimationFrame(this._requestAnimationFrameRequest),this[t(294)]=null),this._requestAnimationFramePrevTs=null}pushData(t){const e=vo;if(this[e(302)])return;null===this._firstTimestamp&&(this[e(351)]=t.ts);const s={tfTs:t.ts-this[e(351)],ts:t.ts};if(t[e(293)]?s[e(309)]=t[e(293)]:s[e(309)]=t[e(264)],this.player[e(350)]())return this[e(376)][e(348)](this.TAG_NAME,e(397),s.ts),this[e(311)](s[e(309)]),this[e(376)][e(274)](s.ts),this[e(376)][e(360)](),void(this[e(376)][e(263)]()&&this[e(376)][e(393)][e(262)]({ts:s.ts,tfTs:s.tfTs}));if(this[e(376)].isPlayback()){const t=this.player[e(275)][e(359)][e(289)];if(!t&&this[e(259)]>this.fps*this[e(380)]*2&&(this.player[e(386)](this[e(375)],e(381)+this[e(259)]),this[e(366)]()),this[e(343)][e(403)](s),!this[e(271)]){const t=ui(this.bufferList);null!==t&&t!==this[e(341)]&&(this[e(376)][e(348)](this[e(375)],"calc fps is "+t+e(286)+this.preFps+" and updatePreFps"),this[e(340)](t))}if(!t){const t=this[e(343)][e(297)],s=t/(this[e(331)]*this[e(380)]);s<=1?this.setFps(this[e(341)]):(this.setFps(this[e(331)]+Math[e(389)](s*this.playbackRate)),this[e(376)][e(386)](this[e(375)],e(306),s,e(354),this.fps,"bufferListLength is",t))}}}initVideo(){this._updateSync()}[vo(367)](){const t=vo,e=this[t(376)][t(275)][t(316)];e>0?this[t(334)]=setTimeout((()=>{this.initVideo()}),e):this[t(295)]()}[vo(335)](){const t=vo;super.clearView(),this[t(332)]&&this[t(332)][t(319)](this[t(332)].COLOR_BUFFER_BIT),this[t(300)]&&this[t(300)][t(319)](),this.context2D&&this[t(273)][t(301)](0,0,this[t(288)].width,this[t(288)][t(345)])}[vo(319)](){const t=vo;this[t(376)][t(275)][t(365)]&&this[t(343)].forEach((e=>{e[t(309)]&&hi(e.buffer)})),this[t(343)]=[]}[vo(279)](){const t=vo;this.player.isPlayback()&&this.player[t(393)][t(305)]&&this._sync()}[vo(336)](){this[vo(279)]()}[vo(349)](){const t=vo;this[t(376)].isPlayback()&&this[t(376)][t(393)][t(305)]&&this._stopSync()}}var Eo=To;function wo(){var t=["3neSkbZ","95598vcnLkV","5363061CVzGFS","10uKxroE","6tcgOGn","pushData","playback","309492bywJvI","destroy","VideoPlayback","player","updateStats","720755fUspYz","render","TAG_NAME","VideoPlayVod","2998629ulhaRB","8mMewUN","isPlayVod","1381820bzvwjq","1811866FEWzUD","isPlayback"];return(wo=function(){return t})()}function To(t,e){var s=wo();return(To=function(t,e){return s[t-=298]})(t,e)}!function(t,e){for(var s=To,i=t();;)try{if(246624===parseInt(s(310))/1+-parseInt(s(316))/2+parseInt(s(309))/3*(parseInt(s(306))/4)+parseInt(s(299))/5*(-parseInt(s(313))/6)+parseInt(s(307))/7+-parseInt(s(304))/8*(-parseInt(s(303))/9)+-parseInt(s(312))/10*(parseInt(s(311))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(wo);class Io extends uo{constructor(t){var e=To;super(t),this[e(301)]=t[e(308)]()?e(318):e(302)}async[Eo(317)](){super.destroy()}[Eo(314)](t){this[Eo(300)](t)}render$2(t){var e=Eo;this[e(300)](t),this[e(319)][e(308)]()?this.player[e(315)][e(298)]({ts:t.ts}):this.player[e(305)]()&&this[e(319)].playVod[e(298)]({ts:t.ts})}}const ko=Co;!function(t,e){const s=Co,i=t();for(;;)try{if(495034===-parseInt(s(347))/1*(parseInt(s(356))/2)+parseInt(s(353))/3+-parseInt(s(352))/4+-parseInt(s(348))/5+-parseInt(s(365))/6*(parseInt(s(366))/7)+parseInt(s(349))/8+-parseInt(s(368))/9*(-parseInt(s(355))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Do);class _o{constructor(t){const e=Co;return new(_o[e(371)](t[e(372)]))(t)}static[ko(371)](t){const e=ko;return t[e(364)]===l.playVod&&t[e(363)]&&t[e(362)]?uo:t[e(354)]?t[e(350)]?ao:uo:t[e(358)]&&Si(t[e(359)])?t[e(367)]?ao:uo:t[e(351)]&&Si(t[e(361)])?t.useCanvasRender?ao:uo:t.isAliyunRtc?uo:t[e(360)]?t[e(364)]===l[e(345)]?So:t.playType===l[e(369)]?!t[e(357)]&&t[e(346)]?Io:So:!t[e(357)]&&t[e(346)]?uo:ao:t[e(364)]===l.playbackTF||t.playType===l[e(369)]?So:t[e(370)]?uo:ao}}function Co(t,e){const s=Do();return(Co=function(t,e){return s[t-=345]})(t,e)}function Do(){const t=["isWebrtcH265","playVodMp4UseSrc","isFmp4","playType","563028XUjgQh","70kAcTaE","useCanvasRender","13454442ApiSne","playVod","wasmUseVideoRender","getLoaderFactory","_opt","playbackTF","wcsUseVideoRender","6203KkEZDW","4644955TRyRPC","11632wpQgZX","mseUseCanvasRender","isWebrtc","2968644VAuElc","1065459eEiadS","useMSE","20FdRwlT","78mtQEHZ","useOffscreen","isHls","supportHls265","useWCS"];return(Do=function(){return t})()}const Ro=Po;function Lo(){const t=["_destroyWorklet","audioPlayVodSeekingLock","audioResumeStateTimeout","initScriptNode","suspended","120501QtCYUR","encType","resetInit","3489238JDZEXA","running","port","volume","then","gain","play","audioContext","1082209EOkrlG","lastVolume","toString","postMessage","close","closeAudio","audioContextState","disconnect","bufferSize","clear bufferList","clear","mute","rateProcessor","depth","state","off","10VLHWhv","workletProcessorNode","audioInfo","volumechange","scriptNode","audioContextContextResumeLock","send close and wait 10ms destroy directly","closed","audioResumeState","isStateSuspended","_prevVolume","setVolume","initWorkletScriptNode","$audio","player","encTypeCode","AudioContext","toFixed","hasAudio","destination","audioEnabled","TAG_NAME","updateAudioInfo","mediaStreamAudioDestinationNode","isPlaying","finally","isStateRunning","init","value","bufferListLock","channels","pause","clearAudioResumeStateTimeout","debugLog","hasInitScriptNode","playing","workletWorkerCloseTimeout","_play","_destroyAudioContext","10075284XLJUjZ","resume","gainNode","_isDestroyed","1664voKSaG","getAudioInfo","createGain","length","985256cuvXgL","sampleRate","432027Czwplj","emit","destroy","3484061EnjGdP","initMobileScriptNode","bufferList"];return(Lo=function(){return t})()}function Po(t,e){const s=Lo();return(Po=function(t,e){return s[t-=126]})(t,e)}!function(t,e){const s=Po,i=t();for(;;)try{if(921766===-parseInt(s(185))/1+parseInt(s(177))/2+parseInt(s(163))/3+-parseInt(s(161))/4*(parseInt(s(201))/5)+-parseInt(s(153))/6+-parseInt(s(166))/7+-parseInt(s(157))/8*(-parseInt(s(174))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lo);class xo extends zi{constructor(t){const e=Po;super(),this.bufferList=[],this[e(143)]=!0,this[e(128)]=t,this[e(176)](),this.$audio=null,this[e(205)]=null,this[e(202)]=null,this.workletWorkerCloseTimeout=null,this.hasInitScriptNode=!1,this[e(137)]=null,this[e(184)]=new(window[e(130)]||window.webkitAudioContext)({sampleRate:Ht}),this[e(155)]=this[e(184)][e(159)](),this.gainNode[e(182)][e(142)]=0,this[e(211)]=null,this.playing=!1,this[e(132)]=!1,this[e(171)]=null,this.audioContextContextResumeLock=!1,this[e(170)]=!1,this[e(156)]=!1}async[Ro(165)](){const t=Ro;return this[t(156)]=!0,this.closeAudio(),await this[t(169)](),this[t(146)](),this[t(155)]&&(this[t(155)].disconnect(),this[t(155)]=null),this[t(205)]&&(this.scriptNode.disconnect(),this[t(205)].onaudioprocess=null,this[t(205)]=null),this.workletProcessorNode&&(this[t(202)][t(192)](),this[t(202)].port.onmessage=null,this[t(202)]=null),this[t(137)]&&(this[t(137)][t(192)](),this[t(137)]=null),await this[t(152)](),this[t(132)]=!1,this[t(149)]=!1,this[t(176)](),this[t(203)]=null,this[t(148)]=!1,this[t(211)]=null,this.audioContextContextResumeLock=!1,this[t(170)]=!1,this.bufferListLock=!1,this[t(200)](),!0}async _destroyAudioContext(){const t=Ro,e=this[t(184)];if(e){try{e.state!==t(173)&&await e.suspend(),e[t(199)]!==t(208)&&await e[t(189)](),e[t(133)]&&e[t(133)].disconnect(),this.audioContext=null}catch(e){this.player[t(147)](this[t(135)],"_destroyAudioContext",e[t(187)](),e)}return!0}}[Ro(169)](){return new Promise(((t,e)=>{const s=Po;this[s(202)]?(this[s(202)][s(179)][s(188)]({type:s(165)}),this[s(150)]=setTimeout((()=>{const e=s;this[e(128)][e(147)](this[e(135)],e(207)),this[e(150)]&&(clearTimeout(this[e(150)]),this.workletWorkerCloseTimeout=null),t()}),10)):t()}))}resetInit(){const t=Ro;this[t(203)]={encTypeCode:"",encType:"",channels:"",sampleRate:"",depth:""},this[t(141)]=!1}[Ro(158)](){return this[Ro(203)]}[Ro(136)](t){const e=Ro;t[e(129)]&&(this[e(203)][e(129)]=t[e(129)],this[e(203)][e(175)]=J[t[e(129)]]),t.channels&&(this[e(203)].channels=t[e(144)]),t[e(162)]&&(this.audioInfo[e(162)]=t[e(162)]),t[e(198)]&&(this[e(203)][e(198)]=t.depth),this[e(203)][e(162)]&&this[e(203)][e(144)]&&this[e(203)][e(175)]&&!this[e(141)]&&(this[e(128)][e(164)](O[e(203)],this[e(203)]),this[e(141)]=!0)}get[Ro(138)](){return this[Ro(149)]}get isMute(){const t=Ro;return!this[t(184)]||(0===this[t(155)][t(182)][t(142)]||this.isStateSuspended())}get[Ro(180)](){const t=Ro;return this[t(155)]?this.gainNode[t(182)].value:0}get[Ro(193)](){const t=Ro;return this[t(168)][t(160)]}get[Ro(191)](){const t=Ro;let e=null;return this[t(184)]&&(e=this.audioContext[t(199)]),e}getAudioContextSampleRate(){const t=Ro;return this[t(184)]&&this[t(184)][t(162)]||Ht}[Ro(172)](){}[Ro(167)](){}[Ro(126)](){}getEngineType(){return""}[Ro(196)](t){const e=Ro;t?(this[e(212)](0),this.clear()):this[e(212)](this[e(128)][e(186)]||.5)}[Ro(212)](t){const e=Ro;t=parseFloat(t)[e(131)](2),isNaN(t)||(this[e(134)](!0),t=Xe(t,0,1),null!==this[e(211)]&&this[e(211)]===t||(null===this[e(211)]?this[e(128)].emit(O[e(196)],0===t):0===this._prevVolume&&t>0?this.player[e(164)](O[e(196)],!1):this._prevVolume>0&&0===t&&this.player[e(164)](O[e(196)],!0),this[e(155)]&&(this.gainNode[e(182)].value=t),this[e(128)][e(164)](O[e(204)],this[e(128)][e(180)]),this[e(128)].emit(O[e(180)],this[e(128)][e(180)]),this[e(211)]=t))}[Ro(190)](){const t=Ro;this[t(148)]&&(this.scriptNode&&this.scriptNode[t(192)](this[t(155)]),this[t(202)]&&this.workletProcessorNode[t(192)](this[t(155)]),this[t(155)]&&(this[t(127)]?this.gainNode[t(192)](this[t(137)]):this[t(155)][t(192)](this[t(184)][t(133)]))),this[t(195)]()}[Ro(134)](t){const e=Ro;if(t&&this.isStateSuspended()){if(this.audioContextContextResumeLock)return;this[e(206)]=!0,this[e(184)][e(154)]()[e(181)]((()=>{const t=e;this[t(128)].emit(O[t(209)],{state:this[t(191)],isRunning:this[t(140)]()})}))[e(139)]((()=>{this[e(206)]=!1})),this.audioResumeStateTimeout=setTimeout((()=>{const t=e;this[t(146)](),this[t(156)]||(this[t(206)]=!1,this[t(210)]()&&this[t(128)][t(164)](O[t(209)],{state:this.audioContextState,isRunning:this.isStateRunning()}))}),1e3)}}[Ro(140)](){const t=Ro;return this[t(191)]===t(178)}[Ro(210)](){const t=Ro;return this[t(191)]===t(173)}[Ro(146)](){this[Ro(171)]&&(clearTimeout(this.audioResumeStateTimeout),this.audioResumeStateTimeout=null)}[Ro(195)](){const t=Ro;this.player[t(147)](this[t(135)],t(194)),this.bufferList=[],this[t(197)]&&(this[t(128)][t(147)](this[t(135)],"rateProcessor clear"),this[t(197)][t(195)]())}[Ro(183)](t,e){}[Ro(145)](){this[Ro(149)]=!1}[Ro(154)](){this[Ro(149)]=!0}setRate(t){}getAudioBufferSize(){return 0}[Ro(151)](t,e){}}const Mo=Oo;!function(t,e){const s=Oo,i=t();for(;;)try{if(416380===parseInt(s(407))/1+-parseInt(s(376))/2*(parseInt(s(354))/3)+-parseInt(s(398))/4+-parseInt(s(372))/5*(parseInt(s(345))/6)+-parseInt(s(340))/7*(-parseInt(s(346))/8)+-parseInt(s(397))/9*(-parseInt(s(322))/10)+parseInt(s(316))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Go);class Bo{constructor(){const t=Oo;this[t(314)]=new Float32Array,this._position=0,this[t(408)]=0}[Mo(362)](){this.clear(),this._vector=null}get[Mo(344)](){return this[Mo(314)]}get[Mo(331)](){return this[Mo(374)]}get startIndex(){return 2*this[Mo(374)]}get frameCount(){return this[Mo(408)]}get[Mo(300)](){const t=Mo;return 2*(this._position+this[t(408)])}clear(){const t=Mo;this[t(312)](this._frameCount),this[t(390)]()}[Mo(339)](t){this[Mo(408)]+=t}[Mo(352)](t,e){const s=Mo;let i=arguments[s(335)]>2&&void 0!==arguments[2]?arguments[2]:0;const r=2*(e=e||0);!(i>=0)&&(i=(t[s(335)]-r)/2);const n=2*i;this[s(347)](i+this._frameCount);const o=this[s(300)];this[s(344)][s(392)](t[s(301)](r,r+n),o),this[s(408)]+=i}[Mo(307)](t,e){const s=Mo;let i=arguments[s(335)]>2&&void 0!==arguments[2]?arguments[2]:0;e=e||0,!(i>=0)&&(i=t.frameCount-e),this.putSamples(t.vector,t[s(331)]+e,i)}[Mo(312)](t){const e=Mo;(!(t>=0)||t>this._frameCount)&&(t=this[e(303)]),this._frameCount-=t,this[e(374)]+=t}[Mo(360)](t){const e=Mo;let s=arguments[e(335)]>1&&void 0!==arguments[1]?arguments[1]:0;const i=2*s,r=this[e(315)];t[e(392)](this[e(314)][e(301)](r,r+i)),this[e(312)](s)}[Mo(366)](t){const e=Mo;let s=arguments[e(335)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[e(335)]>2&&void 0!==arguments[2]?arguments[2]:0;const r=this[e(315)]+2*s,n=2*i;t.set(this[e(314)][e(301)](r,r+n))}[Mo(347)](){const t=Mo;let e=arguments[t(335)]>0&&void 0!==arguments[0]?arguments[0]:0;const s=parseInt(2*e);if(this[t(314)].length<s){const e=new Float32Array(s);e[t(392)](this[t(314)][t(301)](this[t(315)],this[t(300)])),this[t(314)]=e,this[t(374)]=0}else this.rewind()}[Mo(349)](){const t=Mo;let e=arguments[t(335)]>0&&void 0!==arguments[0]?arguments[0]:0;this[t(347)](this._frameCount+e)}[Mo(390)](){const t=Mo;this[t(374)]>0&&(this[t(314)][t(392)](this._vector[t(301)](this[t(315)],this[t(300)])),this[t(374)]=0)}}class Fo{constructor(t){const e=Mo;t?(this[e(351)]=new Bo,this._outputBuffer=new Bo):this._inputBuffer=this[e(377)]=null}[Mo(362)](){const t=Mo;this[t(370)](),this._outputBuffer&&(this[t(377)].destroy(),this[t(377)]=null),this[t(351)]&&(this._inputBuffer[t(362)](),this[t(351)]=null)}get inputBuffer(){return this[Mo(351)]}set inputBuffer(t){this[Mo(351)]=t}get outputBuffer(){return this[Mo(377)]}set[Mo(368)](t){this[Mo(377)]=t}[Mo(370)](){const t=Mo;this[t(351)][t(370)](),this[t(377)].clear()}}class Uo extends Fo{constructor(t){const e=Mo;super(t),this[e(329)](),this[e(385)]=1}[Mo(362)](){super.destroy()}set[Mo(321)](t){this[Mo(385)]=t}[Mo(329)](){const t=Mo;this.slopeCount=0,this[t(333)]=0,this.prevSampleR=0}[Mo(361)](){const t=Mo,e=new Uo;return e.rate=this[t(385)],e}[Mo(403)](){const t=Mo,e=this._inputBuffer.frameCount;this[t(377)][t(349)](e/this._rate+1);const s=this[t(343)](e);this._inputBuffer[t(312)](),this[t(377)][t(339)](s)}[Mo(343)](){const t=Mo;let e=arguments[t(335)]>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e)return 0;const s=this[t(351)][t(344)],i=this[t(351)][t(315)],r=this[t(377)][t(344)],n=this._outputBuffer.endIndex;let o=0,a=0;for(;this[t(399)]<1;)r[n+2*a]=(1-this.slopeCount)*this[t(333)]+this[t(399)]*s[i],r[n+2*a+1]=(1-this.slopeCount)*this[t(363)]+this[t(399)]*s[i+1],a+=1,this[t(399)]+=this[t(385)];if(this.slopeCount-=1,1!==e)t:for(;;){for(;this[t(399)]>1;)if(this[t(399)]-=1,o+=1,o>=e-1)break t;const h=i+2*o;r[n+2*a]=(1-this.slopeCount)*s[h]+this.slopeCount*s[h+2],r[n+2*a+1]=(1-this[t(399)])*s[h+1]+this.slopeCount*s[h+3],a+=1,this[t(399)]+=this[t(385)]}return this[t(333)]=s[i+2*e-2],this[t(363)]=s[i+2*e-1],a}}function Oo(t,e){const s=Go();return(Oo=function(t,e){return s[t-=297]})(t,e)}const No=function(){};class jo{constructor(t,e){const s=Mo;let i=arguments[s(335)]>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:No;this[s(302)]=e,this.callback=r,this.sourceSound=t,this[s(409)]=i[s(371)];const n=i[s(309)]||.1;this[s(355)]=Math[s(394)](Math.max(n,.05),.2),this[s(367)]=Math[s(396)](this._sampleRate*this._bufferTime),this[s(348)]=1024,this[s(337)]=null,this[s(358)]=0,this[s(404)]=0,this[s(357)]=0,this._position=0}[Mo(362)](){const t=Mo;this[t(370)](),this[t(308)].destroy(),this[t(308)]=null,this[t(404)]=0,this[t(357)]=0,this[t(374)]=0}get[Mo(365)](){return this._pipe}get inputBuffer(){const t=Mo;return this[t(302)][t(298)]}get[Mo(368)](){const t=Mo;return this._pipe[t(368)]}get[Mo(331)](){return this[Mo(374)]}set[Mo(331)](t){const e=Mo;if(t>this[e(374)])throw new RangeError("New position may not be greater than current position");const s=this[e(357)]-(this._position-t);if(s<0)throw new RangeError(e(332));this[e(357)]=s,this._position=t}get sourcePosition(){return this._sourcePosition}set[Mo(320)](t){this[Mo(370)](),this._sourcePosition=t}[Mo(382)](){this[Mo(338)]()}[Mo(325)](){const t=Mo;let e=arguments[t(335)]>0&&void 0!==arguments[0]?arguments[0]:0;const s=new Float32Array(2*e),i=this[t(308)].extract(s,e,this[t(404)]);this._sourcePosition+=i,this[t(298)].putSamples(s,0,i)}[Mo(304)](){const t=Mo;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const s=2*this._defaultFrameLength;for(;this[t(368)][t(303)]<e;){const e=s-this.inputBuffer[t(303)];if(this.fillInputBuffer(e),this[t(298)][t(303)]<s)break;this[t(302)][t(403)]()}}[Mo(366)](t){const e=Mo;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this[e(304)](this[e(357)]+s);const i=Math[e(394)](s,this.outputBuffer[e(303)]-this.outputBufferPosition);this[e(368)].extract(t,this[e(357)],i);const r=this.outputBufferPosition+i;return this[e(357)]=Math[e(394)](this[e(367)],r),this[e(368)][e(312)](Math[e(388)](r-this[e(367)],0)),this[e(374)]+=i,i}[Mo(379)](t){const e=Mo;this[e(366)](t[e(386)],this[e(348)])}clear(){const t=Mo;this[t(302)][t(370)](),this[t(357)]=0}}const Vo=[[124,186,248,310,372,434,496,558,620,682,744,806,868,930,992,1054,1116,1178,1240,1302,1364,1426,1488,0],[-100,-75,-50,-25,25,50,75,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-20,-15,-10,-5,5,10,15,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-3,-2,-1,1,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Wo=-10/1.5;function Go(){const t=["endIndex","subarray","_pipe","frameCount","fillOutputBuffer","sampleReq","nominalSkip","putBuffer","sourceSound","bufferTime","calculateOverlapLength","clearMidBuffer","receive","preCalculateCorrelationReferenceStereo","_vector","startIndex","15614214IAHRuS","_intermediateBuffer","inputChunkSize","pitchOctaves","sourcePosition","rate","10ShemAS","seekWindowLength","skipFract","fillInputBuffer","tempo","calculateSequenceParameters","rateChange","reset","MIN_VALUE","position","New position falls outside of history buffer","prevSampleL","transposer","length","quickSeek","_sampleBuffer","callback","put","2177LIMZsn","outputChunkSize","autoSeqSetting","transpose","vector","77928TTEcyj","16824jtzSwG","ensureCapacity","_defaultFrameLength","ensureAdditionalCapacity","stretch","_inputBuffer","putSamples","autoSeekSetting","56157LCstwr","_bufferTime","_quickSeek","outputBufferPosition","_lastSampleSize","seekWindowMs","receiveSamples","clone","destroy","prevSampleR","refMidBuffer","pipe","extract","historyBufferSize","outputBuffer","calculateCrossCorrelationStereo","clear","sampleRate","170tESwZS","seekBestOverlapPositionStereo","_position","setParameters","66BLbRCv","_outputBuffer","virtualRate","handleSampleData","checkLimits","virtualPitch","onEnd","pitch","midBuffer","_rate","data","overlapStereo","max","_tempo","rewind","calculateEffectiveRateAndTempo","set","midBufferDirty","min","virtualTempo","floor","1324233ovxswg","2986844WEyppW","slopeCount","overlapLength","seekBestOverlapPositionStereoQuick","overlap","process","_sourcePosition","seekLength","sequenceMs","1766BfouTv","_frameCount","_sampleRate","overlapMs","inputBuffer","seekBestOverlapPosition"];return(Go=function(){return t})()}class zo extends Fo{constructor(t,e){const s=Mo;super(t),this[s(356)]=!0,this[s(393)]=!1,this[s(384)]=null,this[s(364)]=null,this.overlapLength=0,this.autoSeqSetting=!0,this[s(353)]=!0,this[s(389)]=1,this[s(375)](e,0,0,8)}destroy(){const t=Mo;this[t(370)](),super[t(362)]()}[Mo(370)](){super[Mo(370)](),this.clearMidBuffer(),this.refMidBuffer=null}[Mo(311)](){const t=Mo;this[t(393)]&&(this[t(393)]=!1),this[t(384)]=null}[Mo(375)](t,e,s,i){const r=Mo;t>0&&(this[r(371)]=t),i>0&&(this[r(297)]=i),e>0?(this[r(406)]=e,this[r(342)]=!1):this[r(342)]=!0,s>0?(this[r(359)]=s,this[r(353)]=!1):this[r(353)]=!0,this[r(327)](),this.calculateOverlapLength(this[r(297)]),this[r(326)]=this[r(389)]}set[Mo(326)](t){const e=Mo;let s;this[e(389)]=t,this[e(327)](),this.nominalSkip=this[e(389)]*(this[e(323)]-this.overlapLength),this[e(324)]=0,s=Math[e(396)](this[e(306)]+.5),this.sampleReq=Math[e(388)](s+this.overlapLength,this[e(323)])+this.seekLength}get[Mo(326)](){return this._tempo}get[Mo(318)](){return this[Mo(305)]}get[Mo(341)](){const t=Mo;return this.overlapLength+Math[t(388)](0,this[t(323)]-2*this[t(400)])}[Mo(310)](){const t=Mo;let e,s=arguments[t(335)]>0&&void 0!==arguments[0]?arguments[0]:0;e=this[t(371)]*s/1e3,e=e<16?16:e,e-=e%8,this[t(400)]=e,this[t(364)]=new Float32Array(2*this[t(400)]),this.midBuffer=new Float32Array(2*this.overlapLength)}[Mo(380)](t,e,s){return t<e?e:t>s?s:t}[Mo(327)](){const t=Mo;let e,s;this[t(342)]&&(e=150+-50*this[t(389)],e=this[t(380)](e,50,125),this.sequenceMs=Math.floor(e+.5)),this[t(353)]&&(s=28.333333333333332+Wo*this[t(389)],s=this[t(380)](s,15,25),this[t(359)]=Math[t(396)](s+.5)),this.seekWindowLength=Math[t(396)](this[t(371)]*this[t(406)]/1e3),this.seekLength=Math[t(396)](this[t(371)]*this.seekWindowMs/1e3)}set[Mo(336)](t){this[Mo(356)]=t}clone(){const t=Mo,e=new zo;return e[t(326)]=this[t(389)],e[t(375)](this.sampleRate,this[t(406)],this[t(359)],this.overlapMs),e}[Mo(299)](){const t=Mo;return this[t(356)]?this[t(401)]():this[t(373)]()}seekBestOverlapPositionStereo(){const t=Mo;let e,s,i,r=0;for(this.preCalculateCorrelationReferenceStereo(),e=0,s=Number[t(330)];r<this[t(405)];r+=1)i=this[t(369)](2*r,this[t(364)]),i>s&&(s=i,e=r);return e}[Mo(401)](){const t=Mo;let e,s,i,r,n,o=0;for(this[t(313)](),s=Number[t(330)],e=0,r=0,n=0;o<4;o+=1){let a=0;for(;Vo[o][a]&&(n=r+Vo[o][a],!(n>=this[t(405)]));)i=this[t(369)](2*n,this.refMidBuffer),i>s&&(s=i,e=n),a+=1;r=e}return e}[Mo(313)](){const t=Mo;let e,s,i=0;for(;i<this[t(400)];i+=1)s=i*(this[t(400)]-i),e=2*i,this.refMidBuffer[e]=this[t(384)][e]*s,this.refMidBuffer[e+1]=this[t(384)][e+1]*s}[Mo(369)](t,e){const s=Mo,i=this[s(351)][s(344)];t+=this[s(351)][s(315)];let r=0,n=2;const o=2*this[s(400)];let a;for(;n<o;n+=2)a=n+t,r+=i[a]*e[n]+i[a+1]*e[n+1];return r}[Mo(402)](t){this[Mo(387)](2*t)}[Mo(387)](t){const e=Mo,s=this._inputBuffer[e(344)];t+=this[e(351)][e(315)];const i=this._outputBuffer[e(344)],r=this[e(377)][e(300)];let n,o,a=0;const h=1/this[e(400)];let l,c,d;for(;a<this[e(400)];a+=1)o=(this[e(400)]-a)*h,l=a*h,n=2*a,c=n+t,d=n+r,i[d+0]=s[c+0]*l+this.midBuffer[n+0]*o,i[d+1]=s[c+1]*l+this[e(384)][n+1]*o}[Mo(403)](){const t=Mo;let e,s,i;if(null===this[t(384)]){if(this[t(351)][t(303)]<this.overlapLength)return;this[t(384)]=new Float32Array(2*this.overlapLength),this._inputBuffer[t(360)](this[t(384)],this[t(400)])}for(;this[t(351)].frameCount>=this.sampleReq;){e=this[t(299)](),this[t(377)][t(349)](this[t(400)]),this.overlap(Math.floor(e)),this[t(377)].put(this.overlapLength),s=this[t(323)]-2*this[t(400)],s>0&&this[t(377)][t(307)](this[t(351)],e+this[t(400)],s);const r=this._inputBuffer[t(315)]+2*(e+this[t(323)]-this[t(400)]);this[t(384)].set(this[t(351)][t(344)][t(301)](r,r+2*this[t(400)])),this[t(324)]+=this.nominalSkip,i=Math.floor(this.skipFract),this[t(324)]-=i,this[t(351)].receive(i)}}}const Ho=function(t,e){return(t>e?t-e:e-t)>1e-10};class Ko{constructor(t){const e=Mo;this[e(334)]=new Uo(!1),this[e(350)]=new zo(!1,t),this[e(351)]=new Bo,this._intermediateBuffer=new Bo,this[e(377)]=new Bo,this[e(385)]=0,this[e(389)]=0,this[e(381)]=1,this.virtualRate=1,this.virtualTempo=1,this[e(391)]()}destroy(){const t=Mo;this[t(370)](),this[t(351)].destroy(),this[t(317)][t(362)](),this[t(377)][t(362)](),this._inputBuffer=null,this._intermediateBuffer=null,this[t(377)]=null}clear(){const t=Mo;this[t(334)][t(370)](),this[t(350)][t(370)]()}clone(){const t=Mo,e=new Ko;return e[t(321)]=this[t(321)],e[t(326)]=this[t(326)],e}get[Mo(321)](){return this[Mo(385)]}set[Mo(321)](t){const e=Mo;this[e(378)]=t,this[e(391)]()}set[Mo(328)](t){this[Mo(385)]=1+.01*t}get[Mo(326)](){return this[Mo(389)]}set[Mo(326)](t){const e=Mo;this[e(395)]=t,this[e(391)]()}set tempoChange(t){this[Mo(326)]=1+.01*t}set[Mo(383)](t){const e=Mo;this.virtualPitch=t,this[e(391)]()}set[Mo(319)](t){this[Mo(383)]=Math.exp(.69314718056*t),this.calculateEffectiveRateAndTempo()}set pitchSemitones(t){this[Mo(319)]=t/12}get[Mo(298)](){return this[Mo(351)]}get[Mo(368)](){return this[Mo(377)]}[Mo(391)](){const t=Mo,e=this[t(389)],s=this._rate;this[t(389)]=this[t(395)]/this[t(381)],this[t(385)]=this[t(378)]*this[t(381)],Ho(this[t(389)],e)&&(this.stretch.tempo=this[t(389)]),Ho(this[t(385)],s)&&(this.transposer.rate=this[t(385)]),this[t(385)]>1?this[t(377)]!=this[t(334)].outputBuffer&&(this[t(350)][t(298)]=this[t(351)],this[t(350)][t(368)]=this[t(317)],this.transposer[t(298)]=this[t(317)],this[t(334)][t(368)]=this._outputBuffer):this[t(377)]!=this[t(350)][t(368)]&&(this[t(334)].inputBuffer=this[t(351)],this[t(334)][t(368)]=this[t(317)],this[t(350)][t(298)]=this[t(317)],this[t(350)][t(368)]=this[t(377)])}process(){const t=Mo;this[t(385)]>1?(this.stretch[t(403)](),this[t(334)][t(403)]()):(this[t(334)].process(),this[t(350)][t(403)]())}}const qo=Qo;function Yo(){const t=["audio","5bvCilu","length","Processor","shift","bufferListLock","6246675BbIthK","2500062lwcSZc","bufferList","7GrplaD","11ZFZbIO","extract","36043LqGvqh","channel"," and set bufferListLock to true "," and bufferList length is ","player","bufferSize","248808HWZbDa","632bjAKuf","3205272QxqxXE","3047708PlYZhh","3NQZJrM","7251060wyzrcY","extract and num is ","buffer","TAG_NAME","debugLog"];return(Yo=function(){return t})()}function Qo(t,e){const s=Yo();return(Qo=function(t,e){return s[t-=442]})(t,e)}!function(t,e){const s=Qo,i=t();for(;;)try{if(478472===parseInt(s(468))/1*(-parseInt(s(449))/2)+-parseInt(s(453))/3*(-parseInt(s(452))/4)+parseInt(s(460))/5*(parseInt(s(466))/6)+parseInt(s(443))/7*(parseInt(s(450))/8)+-parseInt(s(465))/9+parseInt(s(454))/10+-parseInt(s(469))/11*(parseInt(s(451))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yo);class Jo{constructor(t,e,s,i){const r=Qo;this[r(447)]=t,this[r(457)]=r(462),this[r(459)]=e,this[r(444)]=s,this[r(448)]=i}destroy(){const t=Qo;this[t(456)]=null,this[t(444)]=null}[qo(442)](t){const e=qo;let s=arguments[e(461)]>1&&void 0!==arguments[1]?arguments[1]:0;e(461);const i=this.audio[e(467)],r=s/this.bufferSize;let n=0,o=null;if(!r||i[e(461)]<r)return this[e(447)][e(458)](this.TAG_NAME,e(455)+r+" and numFrames is "+s+e(446)+i[e(461)]+e(445)),this.audio[e(464)]=!0,0;try{for(let s=0;s<r;s++){const s=i[e(463)](),r=s[e(456)][0],a=2===this.channel?s.buffer[1]:s[e(456)][0];for(let s=0;s<this[e(448)];s++){const e=2*(n+s);t[e]=r[s],t[e+1]=a[s]}n+=this[e(448)],null===o&&(o=s.ts)}}catch(t){return this[e(447)].debugWarn(this[e(457)],"extract()",t),0}return this.audio.tempAudioTimestamp=o,n}}function Xo(){const t=["soundTouch","345450udSuFm","1908393ptRloc","channels","1006670CqYGoO","1248924GIOiZR","getRate","provide","floor","audioBufferSize","setRate","filter","14691870xEURkg","processor","tempo","53405OBjVVh","destroy","342zxpVHB","player","214616kDaLiC","tempAudioTimestamp","rate","audio","prevAudioTs","sampleRate","extract","sampeRate","8ogGZQc"];return(Xo=function(){return t})()}const $o=Zo;function Zo(t,e){const s=Xo();return(Zo=function(t,e){return s[t-=127]})(t,e)}!function(t,e){const s=Zo,i=t();for(;;)try{if(318782===parseInt(s(131))/1+parseInt(s(141))/2+-parseInt(s(142))/3+-parseInt(s(145))/4+-parseInt(s(127))/5*(parseInt(s(129))/6)+-parseInt(s(144))/7+parseInt(s(139))/8*(parseInt(s(152))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Xo);class ta{constructor(t,e,s){const i=Zo;this[i(130)]=t,this.audio=e,this[i(138)]=s[i(136)],this[i(149)]=s[i(149)],this.soundTouch=new Ko(s[i(136)]),this[i(153)]=new Jo(t,e,s[i(143)],s[i(149)]),this.soundTouch[i(154)]=1,this[i(140)][i(133)]=1,this[i(151)]=new jo(this[i(153)],this.soundTouch,{sampleRate:s.sampleRate}),this[i(135)]=null}[$o(128)](){const t=$o;this[t(135)]=null,this.processor&&(this[t(153)][t(128)](),this[t(153)]=null),this[t(151)]&&(this[t(151)][t(128)](),this[t(151)]=null),this[t(140)]&&(this[t(140)][t(128)](),this[t(140)]=null)}[$o(146)](){return this[$o(140)].tempo}[$o(150)](t){const e=$o;(t=parseFloat(t))!==this[e(140)][e(154)]&&(this.soundTouch[e(154)]=t)}clear(){}[$o(147)](t){const e=$o;let s=new Float32Array(2*t),i=this[e(151)][e(137)](s,t),r=new Float32Array(i),n=new Float32Array(i);for(let t=0;t<i;t++)r[t]=s[2*t],n[t]=s[2*t+1];let o=this[e(134)][e(132)]||0;return null!==this.prevAudioTs&&o===this[e(135)]&&(o=this[e(135)]+Math[e(148)](1e3*this[e(149)]/this[e(138)]*this[e(146)]())),this.prevAudioTs=o,{size:i,left:r,right:n,ts:this.audio.tempAudioTimestamp||0}}}function ea(){class t extends AudioWorkletProcessor{constructor(){super(),this.audioBufferSize=1024,this.start=!1,this.channels=1,this.samplesArray=[],this.state=0,this.offset=0,this.port.onmessage=t=>{"init"===t.data.message?(this.audioBufferSize=t.data.audioBufferSize,this.start=t.data.start,this.channels=t.data.channels,this.state=0,this.offset=0,this.samplesArray=[]):"stop"===t.data.message?(this.start=!1,this.state=0,this.offset=0,this.samplesArray=[]):"data"===t.data.message?this.samplesArray.push(t.data.buffer):"zero"===t.data.message&&this.samplesArray.push({left:new Float32Array(this.audioBufferSize).fill(0),right:new Float32Array(this.audioBufferSize).fill(0)})}}process(t,e,s){const i=e[0][0],r=e[0][1];if(0===this.offset&&this.port.postMessage({message:"beep"}),0===this.state)this.state=1;else if(1===this.state&&this.samplesArray.length>=4)this.state=2;else if(2===this.state){const t=this.samplesArray[0];for(let e=0;e<i.length;e++)1===this.channels?i[e]=t.left[e+this.offset]:2===this.channels&&(i[e]=t.left[e+this.offset],r&&(r[e]=t.right[e+this.offset]))}else 1===this.channels?i.fill(0):2===this.channels&&(i.fill(0),r&&r.fill(0));return this.offset+=128,this.offset===this.audioBufferSize&&(this.offset=0,2===this.state&&this.samplesArray.shift(),0===this.samplesArray.length&&(this.state=0)),this.start}}registerProcessor("worklet-processor",t)}const sa=ra;function ia(){const t=[" and\n                        current video pts is "," less than diff :",",and bufferItem.size is 0 , and current playbackRate is ","postMessage","audioPlayVodSeekingLock and latest ts is ","srcObject"," more than ","destroy","isActiveEngineType","TAG_NAME","abs","map","calcPlaybackRateByBuffer","8YfibKL","onmessage","audio","fill","_getAudioElementReadyState","initWorkletScriptNode audioContext is null","buffer list is : ","debugLog","workletProcessorNode is null","initProcessScriptNode"," or playing is ","getAudioSyncVideoDiff","8350722OvVvsf","updatePlaybackRate ","audioPlayVodSeekingLock","1076994wjaknh","bufferList","now","_provide","sampleRate","zero","pause","gainNode","audioSyncVideoOption more than diff :","getChannelData","eventListenList","isPlaybackRateSpeed","mediaStreamAudioDestinationNode","length","audioWorklet","volume","createMediaStreamDestination","reset","visibility","workletUrl","scriptNode"," and set lock to false",", fill zero","2183084quOxqt","initWorkletScriptNode","_intervalScriptNode","revokeObjectURL","handleScriptNodeCallback","_audioElementPlay","calcPlaybackRateBySync","create audio element","onaudioprocess","buffer list lock and buffer list is ","set","isDestroyedOrClosed","debugWarn","clear","debugError","active","bufferListLock","prevEmitAudioSyncVideoOptionLogTimestamp","play has not init script node","intervalLoopWorker","clearWorkletUrlTimeout","engine active , audioSyncVideoOption\n                        item.ts is ","createBuffer","initProcessor"," set audioPlayVodSeekingLock to false","oneBufferDuration","audioElementPlay","play and readyState: ","getAutoAudioEngineType","hasInitScriptNode","worklet-processor","outputBuffer","workletProcessorNode","40012918wCSaxT","20TvoSGd","size","engine active , audioSyncVideoOption ","isMoreThanMinBufferDuration","getRenderCurrentPts","getAudioBufferSize","scriptNodeInterval","paused","AudioContext","initIntervalScriptNode","isPlaybackOnlyDecodeIFrame","getEngineType","12PYoSiF","getAudioBufferSizeByType","updatePlaybackRate","readyState is 0 and set _delayPlay to true","tierDownToProcessScript","shift","start","ended","canplay","body","buffer"," and channel is ","-100%","4CCHeFk","rateProcessor","initIntervalScriptNode audioBufferSize is ","weiXinInAndroidAudioBufferSize"," and fill zero"," > -","_audioElementPlay error","script start time ","defaultPlaybackRate","fillScriptNodeOutputBuffer","destination","_delayPlay","_isDestroyed",", and drop","rateUpdateThreshold","max","isAudioPlayer","addModule","$audio","createScriptProcessor","bind","worklet"," > ","audioEngine"," and\n                        first Buffer Item ts is ","engineType: ","289351FZSEtG","initWorkletScriptNode() player is destroyed","scriptStartTime",",\n                    and video is ","audioTimestamp","getCurrentVideoAndAudio","bufferList size is ","initProcessScriptNode audioBufferSize is ","isPlaying","initWorkletScriptNode audioBufferSize is "," , waiting and bufferList is ","9UHDVES","isPlayVodSeeking","videoBufferDelay","initIntervalScriptNode and _opt.intervalUseWorker is true and create intervalLoopWorker","floor",",\n                    and ts list is ","assign","openSyncAudioAndVideo","7737470VCTPNF","isAudioPlaying","initProcessor audioBufferSize is ","audioInfo","playing","9832949MvQKEy","player"," and end","lastRateUpdateTime","supportLockScreenPlayAudio","data","，audioBufferSize: ","audioElementPlayTimeout","_audioElementPlay success and volume is ","engineType","removeChild","getBufferListTimestamp","right","syncAudioAndVideoDiff","then","left","removeEventListener","appendChild","audioBufferSize","duration","absolute","$container","handleScriptNodeCallback() player is destroyed or closed","bound","getBufferListDuration","_opt","min",", run clear() and return","join","play failed and add document click event listener","toFixed","provide"," > 1000 and diff2 is ","style","currentTime","sin","playbackRate","bufferList lock and size is 0 and outputBufferLength is ","_bindAudioProxy","isPlayStream","script"," ,\n                    and audio is "," and use old audioTimestamp",", diff is ","stream","catch","play","createBufferSource","readyState","audioContext","channels","parentNode","port"," is less than current time "," and sampleRate is ","isMute","connect"];return(ia=function(){return t})()}function ra(t,e){const s=ia();return(ra=function(t,e){return s[t-=417]})(t,e)}!function(t,e){const s=ra,i=t();for(;;)try{if(855291===-parseInt(s(448))/1*(-parseInt(s(422))/2)+-parseInt(s(459))/3*(-parseInt(s(580))/4)+parseInt(s(614))/5*(parseInt(s(557))/6)+parseInt(s(472))/7*(parseInt(s(542))/8)+parseInt(s(554))/9+-parseInt(s(467))/10+parseInt(s(613))/11*(-parseInt(s(626))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ia);class na extends xo{constructor(t){const e=ra;super(t),this[e(538)]=e(622),this[e(574)](),this[e(423)]=null,this[e(620)]=null,this[e(481)]=this[e(608)](),this[e(490)]=this[e(627)](),this.$audio=null,this[e(567)]=[],this[e(576)]=null,this[e(600)]=null,this[e(599)]=null,this[e(495)]={_intervalScriptNode:this[e(582)].bind(this),_audioElementPlay:this[e(585)][e(442)](this)},this[e(473)]._opt[e(476)]&&us()&&(this[e(569)]=this[e(521)][e(573)](),this[e(440)]=document.createElement("audio"),Object[e(465)](this[e(440)][e(505)],{position:e(492),left:"-100%",top:e(421)}),t[e(493)]?t[e(493)][e(489)](this[e(440)]):document[e(418)].appendChild(this.$audio),this[e(479)]=null,this[e(510)](),this[e(473)][e(549)](this[e(538)],e(587))),this[e(473)][e(549)](this[e(538)],"init",e(447)+this[e(481)]+e(478)+this[e(490)])}async destroy(){const t=ra;return await super[t(536)](),this.audioElementPlayTimeout&&(clearTimeout(this[t(479)]),this[t(479)]=null),this.workletUrl&&(URL.revokeObjectURL(this.workletUrl),this[t(576)]=null),this[t(600)]&&(clearTimeout(this[t(600)]),this[t(600)]=null),this[t(620)]&&(clearInterval(this[t(620)]),this.scriptNodeInterval=null),this[t(599)]&&(this.intervalLoopWorker[t(536)](),this[t(599)]=null),this[t(567)][t(570)]&&(this.eventListenList.forEach((t=>{t()})),this.eventListenList=[]),this[t(440)]&&(this.$audio[t(563)](),this.$audio.srcObject=null,this[t(440)][t(523)]&&this[t(440)][t(523)][t(482)](this[t(440)]),this[t(440)]=null),this.rateProcessor&&(this[t(423)][t(536)](),this[t(423)]=null),this[t(574)](),this.bound=null,this.player[t(549)](this[t(538)],t(536)),!0}[sa(574)](){const t=sa;this[t(430)]=1,this[t(508)]=1,this[t(450)]=0,this[t(490)]=0,this[t(433)]=!1,this[t(481)]=St[t(512)],this[t(475)]=0,this[t(436)]=50,this[t(597)]=null}[sa(468)](){const t=sa;return this.$audio&&Si(this[t(440)][t(621)])&&Si(this[t(440)][t(633)])&&0!==this[t(440)].playbackRate&&0!==this[t(440)][t(520)]}[sa(510)](){const t=sa,{proxy:e}=this[t(473)].events,s=e(this[t(440)],t(417),(()=>{const e=t;this.player.debugLog(this.TAG_NAME,"canplay"),this[e(433)]&&this[e(585)]()}));this[t(567)].push(s)}_getAudioElementReadyState(){const t=sa;let e=0;return this[t(440)]&&(e=this[t(440)][t(520)]),e}audioElementPlay(){const t=sa;if(this.$audio){const e=this[t(546)]();if(this[t(473)][t(549)](this[t(538)],t(607)+e),!(0!==e||Ys()&&us()))return this[t(473)].debugWarn(this[t(538)],t(629)),void(this[t(433)]=!0);this._audioElementPlay()}}[sa(585)](){const t=sa;this[t(440)]&&this.$audio.play()[t(486)]((()=>{const e=t;this._delayPlay=!1,this[e(473)][e(549)](this.TAG_NAME,e(480),this[e(440)][e(572)]),this[e(479)]=setTimeout((()=>{const t=e;this[t(479)]=null,this[t(434)]||!this[t(468)]()&&(this[t(473)].debugWarn(this[t(538)],"play failed and retry play"),this._audioElementPlay())}),100),this[e(468)]()&&(this[e(473)][e(549)](this[e(538)],"play success and remove document click event listener"),document[e(488)]("click",this[e(495)][e(585)]))}))[t(517)]((e=>{const s=t;this[s(473)][s(594)](this[s(538)],s(428),e),this[s(473)][s(549)](this[s(538)],s(501)),document.addEventListener("click",this[s(495)][s(585)])}))}[sa(619)](){return this[sa(490)]}get oneBufferDuration(){const t=sa;return this[t(490)]/this[t(521)][t(561)]*1e3}get[sa(537)](){const t=sa;return this.engineType===St[t(595)]}[sa(496)](){const t=sa;return this[t(558)].length*this[t(605)]}[sa(617)](){const t=sa;return this.getBufferListDuration()>=100*this[t(508)]}[sa(603)](){const t=sa;this[t(473)][t(549)](this[t(538)],t(469)+this[t(490)]+t(526)+this[t(470)][t(561)]),this[t(423)]=new ta(this[t(473)],this,{channels:this.audioInfo[t(522)],audioBufferSize:this.audioBufferSize,sampleRate:this[t(521)][t(561)]})}getAutoAudioEngineType(){const t=sa;let e=this[t(473)][t(497)][t(445)]||St[t(512)];const s=()=>{const s=t;e=Js()?St[s(512)]:us()&&this[s(473)][s(497)][s(476)]||ci()&&this.supportAudioWorklet()?St.script:St[s(512)]};return this.player._opt[t(445)]&&(this[t(473)][t(497)][t(445)]===St[t(443)]&&ci()&&this.supportAudioWorklet()||this.player[t(497)][t(445)]===St[t(595)]||this[t(473)][t(497)][t(445)]===St[t(512)])?e=St[t(512)]:s(),e}[sa(627)](){const t=sa,e=this[t(481)],s=this[t(473)]._opt[t(425)];return e===St[t(443)]?1024:e===St[t(595)]?s||4800:(t(512),1024)}supportAudioWorklet(){const t=sa;return this[t(521)]&&this.audioContext[t(571)]&&"function"==typeof this[t(521)][t(571)][t(439)]}initScriptNode(){const t=sa;this.playing=!0,this.player.debugLog(this[t(538)],"initScriptNode"),this[t(609)]||(this[t(603)](),this[t(481)]===St.worklet?this[t(581)]():this[t(481)]===St.active?this[t(623)]():this.engineType===St.script&&this[t(551)](),this[t(606)]())}[sa(625)](){return this[sa(481)]}[sa(568)](){const t=sa;return this[t(508)]>this[t(430)]}[sa(551)](){const t=sa;this[t(473)][t(549)](this[t(538)],t(455)+this[t(490)]+" and channel is "+this[t(470)][t(522)]);const e=this[t(521)][t(441)](this[t(490)],0,this[t(470)].channels);e[t(588)]=e=>{const s=t,i=e[s(611)];this[s(584)](i)},e[t(528)](this[t(564)]),this[t(577)]=e,this[t(440)]?(this.gainNode.connect(this[t(569)]),this[t(440)].srcObject=this[t(569)][t(516)]):this[t(564)][t(528)](this[t(521)][t(432)]),this[t(609)]=!0}initIntervalScriptNode(){const t=sa;this[t(473)][t(549)](this[t(538)],t(424)+this[t(490)]+t(420)+this.audioInfo.channels),this.scriptStartTime=0;const e=1e3*this[t(490)]/this[t(521)][t(561)];this.player[t(497)].intervalUseWorker?(!this[t(599)]&&(this[t(473)][t(549)](this[t(538)],t(462)),this.intervalLoopWorker=new yo),this[t(599)].interval(this[t(495)][t(582)],e)):this[t(620)]=setInterval(this.bound[t(582)],e),this[t(440)]?(this.gainNode[t(528)](this[t(569)]),this[t(440)][t(534)]=this.mediaStreamAudioDestinationNode[t(516)]):this.gainNode.connect(this[t(521)].destination),this[t(609)]=!0}_intervalScriptNode(){const t=sa;if(0===this.bufferList[t(570)]||Si(this.playing)||Si(this[t(473)][t(456)]())||this[t(527)])return void(this.playing&&Si(this[t(527)])&&this[t(473)].debugLog(this[t(538)],"interval script node and bufferList is "+this.bufferList.length+t(552)+this[t(471)]));const e=this[t(521)][t(519)](),s=this.audioContext[t(602)](this[t(470)].channels,this[t(490)],this[t(521)][t(561)]);this[t(584)](s,(()=>{const i=t;this[i(450)]<this[i(521)].currentTime&&(this[i(473)][i(549)](this.TAG_NAME,i(429)+this[i(450)]+i(525)+this[i(521)][i(506)]),this[i(450)]=this[i(521)][i(506)]),e[i(419)]=s,e[i(528)](this[i(564)]),e[i(632)](this.scriptStartTime),this[i(450)]+=s[i(491)]}))}[sa(581)](){const t=sa;this[t(473)][t(549)](this[t(538)],t(457)+this.audioBufferSize+t(420)+this[t(470)].channels);let e=oi(ea);this[t(576)]=e,this[t(521)][t(571)][t(439)](e)[t(486)]((()=>{const e=t;if(this[e(434)])return;if(this[e(473)][e(591)]())return void this[e(473)][e(549)](this[e(538)],e(449));if(!this.audioContext)return void this[e(473)][e(592)](this[e(538)],e(547));let s=[1];2===this[e(470)][e(522)]&&(s=[1,1]);try{this[e(612)]=new AudioWorkletNode(this[e(521)],e(610),{numberOfOutputs:this[e(470)].channels,outputChannelCount:s})}catch(t){this[e(473)][e(594)](this[e(538)],"initWorkletScriptNode error",t),this[e(612)]=null,this[e(630)]()}this[e(612)]&&(this[e(612)][e(528)](this.gainNode),this[e(440)]?(this.gainNode[e(528)](this.mediaStreamAudioDestinationNode),this[e(440)][e(534)]=this.mediaStreamAudioDestinationNode[e(516)]):this[e(564)][e(528)](this[e(521)][e(432)]),this[e(609)]=!0,this[e(612)][e(524)][e(532)]({message:"init",audioBufferSize:this.audioBufferSize,start:!0,channels:this.audioInfo[e(522)]}),this[e(612)][e(524)][e(543)]=t=>{const s=e;this.workletProcessorNode?this[s(521)]?this[s(584)](this.workletProcessorNode,null,!0):this[s(612)][s(524)].postMessage({message:s(562)}):this.player.debugError(this[s(538)],s(550))})})),this[t(600)]=setTimeout((()=>{const e=t;URL[e(583)](this[e(576)]),this[e(576)]=null,this[e(600)]=null}),I)}[sa(630)](){const t=sa;this[t(473)].debugLog(this[t(538)],t(630)),this[t(481)]=St.script,this.audioBufferSize=this[t(627)](),this[t(551)](),this[t(606)]()}handleScriptNodeCallback(t,e){const s=sa;let i=arguments[s(570)]>2&&void 0!==arguments[2]&&arguments[2];e=e||He;let r,n=t[s(570)];i&&(r=t,n=this[s(490)]);const o=this[s(470)][s(522)];if(this[s(434)])return i?r[s(524)].postMessage({message:s(562)}):this[s(431)](t,o),void e();if(this[s(471)]&&this[s(473)][s(456)]()&&Si(this[s(527)])&&Si(this[s(596)])){if(this[s(473)]._opt,this[s(473)][s(591)]())return this[s(473)].debugLog(this[s(538)],s(494)),i?r.port.postMessage({message:s(562)}):this[s(431)](t,o),void e();if(this[s(473)][s(466)]()&&bi(this.player[s(575)])){const n=this[s(473)].getAudioSyncVideoDiff();if(n-this[s(473)]._opt[s(485)]>2e3){const a=this[s(473)][s(453)](),h=this[s(483)]();let l=!1;const c=Je();return null===this.prevEmitAudioSyncVideoOptionLogTimestamp&&(l=!0,this[s(597)]=c),(c-this[s(597)]>=1e3||l)&&(this.player[s(549)](this[s(538)],s(565)+n+s(451)+a.video+s(513)+a[s(544)]+s(458)+this[s(558)][s(570)]+s(464)+h[s(500)](",")+s(426)),this[s(597)]=c),i?r.port[s(532)]({message:s(562)}):this[s(431)](t,o),void e()}this[s(586)]()}let a=this[s(560)](n);if(0===a[s(615)])return Si(this[s(473)][s(624)]())&&this.player[s(549)](this[s(538)],s(454)+this.bufferList[s(570)]+" outputBufferLength is "+n+s(531)+this.playbackRate+s(579)),i?r[s(524)].postMessage({message:s(562)}):this[s(431)](t,o),void e();if(a&&a.ts){let t=a.ts;if(this[s(556)]){const e=Math[s(539)](a.ts-this.player[s(452)]);let i=0,r=null;this.bufferList[s(570)]&&(r=this[s(558)][0].ts,i=Math[s(539)](r-a.ts)),e>1e3||i>1e3?(this[s(473)][s(549)](this[s(538)],s(533)+a.ts+s(446)+r+" and\n                        current audio pts is "+this[s(473)][s(452)]+" and\n                        current video pts is "+this[s(473)][s(618)]()+", diff is "+e+s(504)+i+s(514)),t=this[s(473)][s(452)]):(this[s(473)].debugLog(this[s(538)],"audioPlayVodSeekingLock and latest ts is "+a.ts+s(446)+r+" and\n                        current audio pts is "+this[s(473)][s(452)]+s(529)+this[s(473)][s(618)]()+s(515)+e+" < 1000 and diff2 is "+i+s(604)),this[s(556)]=!1)}this.player.audioTimestamp=t}i?r.port[s(532)]({message:s(477),buffer:a}):this.fillScriptNodeOutputBuffer(t,o,a),e()}else this.bufferListLock&&this.playing&&this[s(473)][s(456)]()&&Si(this[s(527)])&&Si(this[s(473)].isPlaybackOnlyDecodeIFrame())&&Si(this[s(473)][s(460)]())&&this.player[s(549)](this[s(538)],s(509)+n+s(579)),i?r.port.postMessage({message:"zero"}):this[s(431)](t,o),e()}[sa(431)](t,e,s){const i=sa;if(1===e){const e=t[i(566)](0);s?0===s[i(615)]?e[i(545)](0):e[i(590)](s.left):e[i(545)](0)}else if(2===e){const e=t[i(566)](0),r=t[i(566)](1);s?0===s.size?(e.fill(0),r[i(545)](0)):(e[i(590)](s[i(487)]),r.set(s[i(484)])):(e[i(545)](0),r[i(545)](0))}}[sa(518)](t,e){const s=sa;this.isMute||(this[s(609)]?(this.hasAudio=!0,this[s(473)].latestAudioTimestamp=e,this.bufferList.push({buffer:t,ts:e}),this.bufferListLock&&this[s(496)]()>=150&&(this[s(473)][s(549)](this.TAG_NAME,s(589)+this[s(558)].length+" and duration is "+this[s(496)]()+s(444)+150+s(578)),this[s(596)]=!1),Si(this[s(473)][s(466)]())&&bi(this[s(473)][s(511)]())&&this.calcPlaybackRateByBuffer()):this[s(473)][s(592)](this.TAG_NAME,s(598)))}[sa(586)](){const t=sa;if(this[t(527)])return;if(!this.playing)return;if(this[t(473)][t(511)]()){const e=2e3,s=Math[t(463)](e/this.oneBufferDuration);if(this[t(558)][t(570)]>s)return this.player[t(549)](this.TAG_NAME,"bufferList length "+this[t(558)].length+t(535)+s+t(435)),void this[t(593)]()}const e=this.player[t(553)]();if(this[t(537)]){if(e<-this[t(473)][t(497)][t(485)]){this[t(473)][t(549)](this[t(538)],t(616)+-this.player[t(497)][t(485)]+t(530)+e+",\n                 and bufferlist is "+this[t(558)][t(570)]);const s=this.player[t(618)]();for(;this[t(558)][t(570)]>0;){const e=this[t(558)][0],i=e.ts-s;if(i>-this[t(473)]._opt.syncAudioAndVideoDiff/2){this[t(473)][t(452)]=e.ts,this[t(473)][t(549)](this[t(538)],t(601)+e.ts+" and currentVideoTimestamp is "+s+t(515)+i+t(427)+this[t(473)]._opt[t(485)]/2+t(474));break}this[t(558)][t(631)](),this.player[t(452)]=e.ts}}}else{let s=this[t(508)];if(e<-this[t(473)][t(497)].syncAudioAndVideoDiff){const i=Math[t(539)](e),r=.1,n=.5*this.defaultPlaybackRate,o=this[t(473)][t(497)].syncAudioAndVideoDiff,a=1e3;let h=r+(n-r)*Math.min(Math[t(437)]((i-o)/(a-o),0),1);s=parseFloat(this[t(430)]+h)[t(502)](1)}else if(e>-this.player[t(497)][t(485)]&&e<this.player[t(497)][t(485)]){const i=this[t(473)][t(497)].syncAudioAndVideoDiff/2;if(e>-i&&e<i)s=this[t(430)];else{const i=e-0,r=this[t(473)][t(497)].syncAudioAndVideoDiff,n=.1*Math[t(507)](i/r*Math.PI/2);s=Number((this[t(430)]-n)[t(502)](1)),Math[t(539)](this[t(508)]-s)<.1&&(s=this[t(508)])}}else if(e>this[t(473)][t(497)][t(485)]){const i=Math[t(539)](e),r=.1,n=.5*this[t(430)],o=this.player[t(497)].syncAudioAndVideoDiff,a=1e3;let h=r+(n-r)*Math[t(498)](Math[t(437)]((i-o)/(a-o),0),1);s=parseFloat(this[t(430)]-h)[t(502)](1);const l=.5*this[t(430)];s=Math[t(437)](s,l)}this[t(628)](s)}}[sa(541)](){const t=sa;if(this.isMute||!this.playing)return;let e=this[t(508)],s=1e3,i=5e3;this[t(438)]&&(s=this[t(473)]._opt[t(461)],i=this[t(473)][t(497)].videoBufferMax);const r=Math[t(463)](s/this[t(605)]),n=Math[t(463)](i/this.oneBufferDuration);if(this[t(558)][t(570)]>n)return this[t(473)][t(549)](this.TAG_NAME,t(548)+this[t(558)].length+t(444)+n+t(499)),void this[t(593)]();if(this[t(537)])return;const o=r/2,a=2*r,h=this[t(558)].length;if(h>o){const s=(h-o)/(a-o),i=.1,r=.3,n=Math.min(Math[t(437)](s,0),1),l=i+(r-i)*(1-Math.pow(1-n,2));e=Number((this[t(430)]+l)[t(502)](1))}else if(e!==this[t(430)]){const s=.1*(h/o);e=Number((this[t(430)]+s)[t(502)](1)),Math[t(539)](e-this[t(430)])<.1&&(e=this[t(430)])}this[t(628)](e)}[sa(628)](t){const e=sa;if(this[e(423)]&&this[e(508)]!==t){const s=Date[e(559)]();if(s-this[e(475)]<this.rateUpdateThreshold)return;Math.abs(this[e(508)]-t)>=.2&&this[e(473)][e(549)](this[e(538)],e(555)+t),this[e(508)]=t,this.rateProcessor.setRate(this[e(508)]),this[e(475)]=s}}[sa(560)](t){const e=sa;return this[e(423)][e(503)](t)}[sa(483)](){const t=sa;return this[t(558)][t(540)]((t=>t.ts))}}const oa=aa;function aa(t,e){const s=ha();return(aa=function(t,e){return s[t-=187]})(t,e)}function ha(){const t=["disconnect","audioContext","muted","13320760YSdVAp","awriter","isMute","isPlaying","encType","initScriptNode","_prevVolume","debugLog","stringify","644GcoyOC","$videoElement","isOldHls","initScriptNodeDelay","webrtcUseCanvasRender","audio","destroy","66912kkECNO","play audio error","audioTimestamp","aliyunRtcDecoder","off","getAudioBufferSize","destination","updateAudioInfo","play and this.awriter is null","aliyunRtcRemoteStream","5vetlvZ","write","TAG_NAME","player","8712mCAdSX","getAudioInfo","volume","channels","close","isAliyunRtc","sampleRate","Audio","lastVolume","webkitAudioContext","12feZncN","debugError","2nfrvIo","audioEnabled","34981yAULzU","emit","depth","$video","debugWarn","hlsUseCanvasRender","50028121OOWgoe","2465259eXhaLw","encTypeCode","Video","mute","resume","5211bDOHPP","getEngineType","video","pause","audioInfo","play","volumechange","_opt","5939964ePUAWL","setRate","init","resetInit","isWasmPlayAudioUseVideoRender"];return(ha=function(){return t})()}!function(t,e){const s=aa,i=t();for(;;)try{if(782305===parseInt(s(218))/1+-parseInt(s(216))/2*(-parseInt(s(225))/3)+-parseInt(s(238))/4*(-parseInt(s(200))/5)+parseInt(s(190))/6*(parseInt(s(255))/7)+parseInt(s(204))/8*(parseInt(s(230))/9)+parseInt(s(246))/10+parseInt(s(224))/11*(-parseInt(s(214))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ha);class la extends zi{constructor(t){const e=aa;super(),this[e(203)]=t,this[e(202)]=e(211),this.$video=t[e(232)][e(256)],this.player[e(257)]()&&this[e(203)][e(237)][e(223)]&&(this[e(221)]=this[e(203)].hlsDecoder[e(256)]),this[e(203)].isWebrtcH264()&&this[e(203)][e(237)][e(187)]&&(this[e(221)]=this[e(203)].webrtc[e(256)]),this[e(241)](),this._prevVolume=null,this[e(244)]=null,this[e(203)][e(242)]()&&(this[e(244)]=new(window.AudioContext||window[e(213)])({sampleRate:Ht})),this.player[e(253)]("Audio","init")}async[oa(189)](){const t=oa;return this[t(241)](),this.audioInfo=null,this[t(194)](),this.audioContext&&(this.audioContext[t(196)]&&this.audioContext[t(196)][t(243)](),await this[t(244)].close(),this[t(244)]=null),this[t(221)]=null,this._prevVolume=null,this[t(203)][t(253)](t(211),t(189)),!0}resetInit(){const t=oa;this.init=!1,this[t(234)]={encTypeCode:"",encType:"",channels:"",sampleRate:"",depth:""}}[oa(205)](){return this[oa(234)]}[oa(197)](t){const e=oa;t[e(226)]&&(this.audioInfo[e(226)]=t[e(226)],this[e(234)][e(250)]=J[t[e(226)]]),t[e(250)]&&(this.audioInfo[e(250)]=t[e(250)]),t[e(207)]&&(this[e(234)].channels=t.channels),t[e(210)]&&(this[e(234)].sampleRate=t[e(210)]),t[e(220)]&&(this[e(234)].depth=t[e(220)]),this[e(234)][e(210)]&&this[e(234)][e(207)]&&this[e(234)][e(250)]&&!this[e(240)]&&(this[e(203)][e(253)]("Audio",e(234),JSON[e(254)](this[e(234)])),this.player[e(219)](O[e(234)],this[e(234)]),this[e(240)]=!0)}get[oa(249)](){return!0}get[oa(206)](){const t=oa;return bi(this[t(221)][t(245)])?0:this.$video[t(206)]}get[oa(248)](){const t=oa;return 0===this[t(221)].volume||bi(this[t(221)][t(245)])}mute(t){const e=oa;this.setVolume(t?0:this.player[e(212)]||.5)}setVolume(t){const e=oa;t=parseFloat(t),isNaN(t)||(this.$video.muted&&(this[e(221)][e(245)]=!1),t=Xe(t,0,1),us()&&(this[e(221)][e(245)]=0===t),this[e(203)][e(209)]()&&this.player[e(193)]&&this.player[e(193)][e(199)]&&(this.player[e(193)][e(199)][e(245)]=0===t),null!==this[e(252)]&&this[e(252)]===t||(null===this[e(252)]?this.player[e(219)](O[e(228)],0===t):0===this._prevVolume&&t>0?this[e(203)][e(219)](O[e(228)],!1):this[e(252)]>0&&0===t&&this.player[e(219)](O[e(228)],!0),this.$video[e(206)]=t,this[e(203)][e(219)](O[e(236)],this.player[e(206)]),this[e(203)].emit(O[e(206)],this.player.volume),this[e(252)]=t))}clear(){}[oa(235)](t,e){const s=oa,i=this.player[s(232)][s(247)];if(i)if(t[s(208)])try{i[s(201)](t),li(t)}catch(t){this[s(203)][s(215)]("Video",s(191),t)}else try{this[s(203)][s(192)]=e;const r=function(t,e,s){const i=ze,r={...e,format:i(626)};r.numberOfFrames=t[0][i(569)];const n=s[i(747)](r.numberOfChannels,r[i(657)],r[i(686)]);for(let e=0;e<t[i(569)];e++){var o=new Float32Array(t[e]);n[i(661)](o,e,0)}const a=new Float32Array(r.numberOfFrames*t[i(569)]);for(let e=0;e<t.length;e++)a[i(763)](t[e],e*r.numberOfFrames);return r[i(835)]=a,new AudioData(r)}(t,{sampleRate:Ht,numberOfChannels:this[s(234)][s(207)],timestamp:1e3*e},this[s(244)]);i.write(r),li(r)}catch(t){this[s(203)][s(215)](s(227),"play audio error",t)}else this[s(203)][s(222)](s(211),s(198))}[oa(233)](){}[oa(229)](){}[oa(231)](){return oa(188)}isPlaybackRateSpeed(){return!1}[oa(239)](t){}[oa(251)](){}[oa(258)](){}[oa(217)](){this[oa(228)](!1)}[oa(195)](){return 2048}getAudioContextSampleRate(){const t=oa;return this[t(244)]&&this[t(244)][t(210)]||Ht}}const ca=ua;function da(){const t=["listenSeekEnd and update audioTimestamp to","play","7664591GASzfZ","clear","2640raXHTT","AudioPlaybackLoader","playVodPause","TAG_NAME","initScriptNode","isPlaybackPauseClearCache","audioTimestamp","194823ncXIxW","playbackPause","listenSeekEnd","audioPlayVodSeekingLock","AudioPlayVodLoader","5484DAFrkv","resume","3479KWNCHO","223932esHhop","isPlayVod","updatePlaybackRate","defaultPlaybackRate","bufferList","listenSeekEnd and clear bufferList","isPlayback","rateProcessor","initScriptNodeDelay","bind","slice","136QEhrHR",", and bufferList is ","661638MXuWQq","debugLog","450HOZhqZ","_opt","pause","bound","length","player","43812BDhYWq","listenSeekEnd and clear bufferList from index ","destroy","init","listenPlayVodPause","setRate","findIndex","delayTimeout","listenPlaybackPause","2975ncIiOR"];return(da=function(){return t})()}function ua(t,e){const s=da();return(ua=function(t,e){return s[t-=185]})(t,e)}!function(t,e){const s=ua,i=t();for(;;)try{if(488721===parseInt(s(211))/1+parseInt(s(224))/2+-parseInt(s(232))/3*(parseInt(s(222))/4)+parseInt(s(191))/5*(parseInt(s(208))/6)+-parseInt(s(210))/7*(-parseInt(s(196))/8)+parseInt(s(203))/9*(-parseInt(s(226))/10)+parseInt(s(194))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(da);class pa extends na{constructor(t){const e=ua;super(t),this[e(189)]=null,this[e(199)]=this[e(231)][e(217)]()?e(197):e(207),this[e(231)][e(217)]()?(this[e(229)][e(190)]=this[e(190)][e(220)](this),this[e(231)].on(O[e(204)],this[e(229)][e(190)])):this[e(231)][e(212)]()&&(this[e(229)][e(186)]=this[e(186)][e(220)](this),this.bound[e(205)]=this[e(205)][e(220)](this),this[e(231)].on(O[e(198)],this.bound[e(186)]),this.player.on(O.playVodSeekEnd,this[e(229)][e(205)])),this[e(231)][e(225)](this[e(199)],e(185))}async[ca(234)](){const t=ca;return this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null),await super[t(234)](),!0}listenPlaybackPause(t){const e=ca;t?(this[e(228)](),this[e(231)][e(217)]()&&this[e(231)].playback[e(201)]&&this[e(195)]()):this[e(209)]()}listenPlayVodPause(t){t?this[ca(228)]():this.resume()}[ca(205)](t){const e=ca;t*=1e3,this.player.debugLog(this[e(199)],e(192),t),this[e(231)][e(202)]=t,this[e(206)]=!0;const s=this[e(215)][e(188)]((e=>e.ts>=t));s>-1?(this[e(231)][e(225)](this[e(199)],e(233)+s+e(223)+this.bufferList[e(230)]+" and last time is "+this[e(215)][s].ts),this[e(215)]=this[e(215)][e(221)](s)):(this.player[e(225)](this[e(199)],e(216)),this[e(195)]())}[ca(219)](){const t=ca,e=this.player[t(227)].playbackDelayTime;e>0?this[t(189)]=setTimeout((()=>{this[t(200)]()}),e):this[t(200)]()}setRate(t){const e=ca;t!==this.defaultPlaybackRate&&this[e(218)]&&(this.player[e(225)](this[e(199)],e(187),t),this[e(214)]=t,this[e(213)](t))}[ca(193)](t,e){super[ca(193)](t,e)}}var fa=ma;function ma(t,e){var s=ga();return(ma=function(t,e){return s[t-=238]})(t,e)}function ga(){var t=["4014619Pyayeo","play","649530AwwtNO","916zQMzOE","pause","4468616SfUnSX","resume","27NHpYpp","1869895anokLt","6654HTHzUN","debugLog","84834StwRtO","12hOzqVN","destroy","2649380MdgRjC","TAG_NAME","AudioPlayerLoader","playing","isAudioPlayer","player"];return(ga=function(){return t})()}!function(t,e){for(var s=ma,i=t();;)try{if(296558===-parseInt(s(253))/1*(parseInt(s(252))/2)+parseInt(s(250))/3*(parseInt(s(244))/4)+-parseInt(s(249))/5+-parseInt(s(243))/6+-parseInt(s(241))/7+parseInt(s(246))/8+-parseInt(s(248))/9*(-parseInt(s(255))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ga);class ya extends na{constructor(t){var e=ma;super(t),this[e(256)]=e(257),this[e(239)]=!0,this[e(240)][e(251)](this.TAG_NAME,"init")}async[fa(254)](){var t=fa;return await super[t(254)](),!0}[fa(242)](t,e){var s=fa;Si(this[s(238)])||super[s(242)](t,e)}[fa(245)](){var t=fa;this[t(240)].debugLog(this.TAG_NAME,t(245)),this[t(238)]=!1,this.clear()}resume(){var t=fa;this[t(240)].debugLog(this.TAG_NAME,t(247)),this[t(238)]=!0}}function Aa(t,e){const s=va();return(Aa=function(t,e){return s[t-=112]})(t,e)}function va(){const t=["volumechange","resume","muted","11FPXJKo","isMute","533610XFJstL","_prevVolume","pause","emit","8EAMIFt","$video","3274662Vrqrgt","srcObject","debugWarn","_initAudioEvents","bindStream","player","1441818jYlqVQ","timeStamp","forEach","destroy","resetInit","TAG_NAME","updateStats","play","length","addEventListener","audio play error","162914ALrXwE","volume","lastVolume","1725IXPAhy","_handleClickPlay","18eRoFNb","4636lyDkuj","timeupdate","isPlaying","bind","click","2181368KakanA","debugLog","push","events","init","_boundHandleClickPlay","getEngineType","catch","5996180lMoItK","eventsDestroy","mute"];return(va=function(){return t})()}const ba=Aa;!function(t,e){const s=Aa,i=t();for(;;)try{if(703196===parseInt(s(135))/1*(parseInt(s(154))/2)+parseInt(s(137))/3+parseInt(s(160))/4*(parseInt(s(157))/5)+-parseInt(s(131))/6+-parseInt(s(143))/7+parseInt(s(115))/8*(-parseInt(s(159))/9)+parseInt(s(123))/10*(-parseInt(s(129))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(va);class Sa extends zi{constructor(t){const e=Aa;super(),this[e(148)]="AudioWebrtcPlayerLoader",this[e(136)]=new Audio,this[e(142)]=t,this.resetInit(),this[e(132)]=null,this[e(124)]=[],this._boundHandleClickPlay=this[e(158)][e(113)](this),this[e(140)](),this.player[e(116)](this[e(148)],e(119))}async destroy(){const t=Aa;return this[t(147)](),this.off(),this[t(124)][t(151)]&&(this[t(124)][t(145)]((t=>t())),this[t(124)]=[]),this[t(132)]=null,this[t(136)]&&(this[t(136)][t(133)](),this.$video.srcObject=null,this[t(136)]=null),this._boundHandleClickPlay=null,this[t(142)][t(116)](this[t(148)],t(146)),!0}[ba(140)](){const t=ba,{proxy:e}=this[t(142)][t(118)],s=e(this[t(136)],t(161),(e=>{const s=t,i=parseInt(e[s(144)],10);this[s(142)][s(149)]({ts:i}),this.player.handleRender()}));this.eventsDestroy[t(117)](s)}[ba(147)](){this[ba(119)]=!1}[ba(158)](){const t=ba;this[t(136)]&&(this[t(136)][t(150)](),document.removeEventListener(t(114),this[t(120)]))}[ba(141)](t){const e=ba;this[e(136)][e(138)]=t,this.$video.volume=1,this[e(136)].play()[e(122)]((t=>{const s=e;this[s(142)][s(139)](this.TAG_NAME,s(153),t),document[s(152)](s(114),this[s(120)])}))}[ba(121)](){return"audio"}get[ba(112)](){return!0}get[ba(155)](){const t=ba;return bi(this[t(136)][t(128)])?0:this[t(136)][t(155)]}get[ba(130)](){const t=ba;return 0===this[t(136)][t(155)]||bi(this[t(136)][t(128)])}[ba(125)](t){const e=ba;this.setVolume(t?0:this[e(142)][e(156)]||.5)}setVolume(t){const e=ba;t=parseFloat(t),isNaN(t)||null===this.$video||(this[e(136)][e(128)]&&(this.$video.muted=!1),t=Xe(t,0,1),us()&&(this[e(136)][e(128)]=0===t),null!==this[e(132)]&&this[e(132)]===t||(null===this[e(132)]?this[e(142)].emit(O[e(125)],0===t):0===this[e(132)]&&t>0?this[e(142)].emit(O.mute,!1):this[e(132)]>0&&0===t&&this[e(142)][e(134)](O[e(125)],!0),this[e(136)][e(155)]=t,this[e(142)][e(134)](O[e(126)],this[e(142)][e(155)]),this.player.emit(O[e(155)],this[e(142)][e(155)]),this[e(132)]=t))}[ba(133)](){}[ba(127)](){}audioEnabled(){this[ba(125)](!1)}}function Ea(){const t=["13GNpipe","isAliyunRtc","534572etnrUy","_opt","useMSE","7915504RtEgmJ","wasmPlayAudioUseVideoRender","1HaHyim","390qPIHFD","playbackTF","7113690JsWPGR","12PlWGcP","useWasm","mseDecodeAudio","9xGlvbr","playVodMp4UseSrc","playVod","useWCS","wcsDecodeAudio","playerAudio","264363XfAoCi","isWebrtcH265","isFmp4","getLoaderFactory","2201662lojUNq","playType","isHls","isWebrtc","3rdnVOa","supportHls265","4811856dzpgPr","19107372wIXEFP"];return(Ea=function(){return t})()}const wa=Ta;function Ta(t,e){const s=Ea();return(Ta=function(t,e){return s[t-=304]})(t,e)}!function(t,e){const s=Ta,i=t();for(;;)try{if(725166===parseInt(s(333))/1*(-parseInt(s(318))/2)+parseInt(s(322))/3*(parseInt(s(328))/4)+parseInt(s(304))/5+parseInt(s(305))/6*(-parseInt(s(324))/7)+-parseInt(s(331))/8*(-parseInt(s(308))/9)+parseInt(s(334))/10*(-parseInt(s(314))/11)+-parseInt(s(325))/12*(-parseInt(s(326))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ea);class Ia{constructor(t){const e=Ta;return new(Ia[e(317)](t[e(329)]))(t)}static[wa(317)](t){const e=wa;return t[e(319)]===l[e(310)]&&t[e(316)]&&t[e(309)]?la:t[e(319)]===l[e(335)]?t.useMSE&&t[e(307)]||t[e(311)]&&t.wcsDecodeAudio?la:pa:t[e(319)]===l[e(310)]?t[e(330)]&&t[e(307)]||t[e(311)]&&t[e(312)]?la:pa:t.playType===l[e(313)]?t[e(321)]?Sa:ya:t[e(320)]&&Si(t[e(323)])||t[e(321)]&&Si(t[e(315)])||t[e(330)]&&t.mseDecodeAudio||t[e(327)]||t[e(311)]&&t.wcsDecodeAudio||t[e(306)]&&t[e(332)]?la:na}}const ka=_a;function _a(t,e){const s=Da();return(_a=function(t,e){return s[t-=459]})(t,e)}!function(t,e){const s=_a,i=t();for(;;)try{if(225594===parseInt(s(534))/1+-parseInt(s(532))/2+-parseInt(s(467))/3+-parseInt(s(518))/4+parseInt(s(469))/5*(-parseInt(s(484))/6)+-parseInt(s(507))/7*(-parseInt(s(501))/8)+parseInt(s(463))/9*(parseInt(s(531))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Da);class Ca extends zi{constructor(t){const e=_a;super(),this.player=t,this[e(540)]=e(464),this[e(459)]=!1,this._requestAbort=!1,this[e(493)]=Dt[e(482)],this[e(504)]=null,this[e(486)]=new AbortController,this.streamRate=es((s=>{const i=e;t[i(514)](O[i(516)],(s/1e3)[i(536)](2))})),this[e(489)]=null,this[e(465)]=!1,t.debugLog(this.TAG_NAME,e(468))}async[ka(517)](){const t=ka;return this[t(465)]=!0,this[t(466)](),await this[t(492)](),this.off(),this[t(493)]=Dt.idle,this[t(523)]=null,this[t(511)](),this[t(474)].debugLog(this[t(540)],t(517)),!0}[ka(539)](){const t=ka;this.stopStreamRateInterval(),this[t(489)]=setInterval((()=>{this.streamRate&&this.streamRate(0)}),1e3)}stopStreamRateInterval(){const t=ka;this.streamRateInterval&&(clearInterval(this[t(489)]),this[t(489)]=null)}async[ka(492)](){const t=ka;if(this[t(504)])if(ti(this[t(504)][t(499)])&&Si(this[t(504)].locked))try{await this[t(504)][t(499)](),this[t(504)]=null,this[t(474)][t(535)](this[t(540)],t(520))}catch(e){this[t(474)][t(535)](this[t(540)],t(462),e[t(490)]())}else this[t(504)]=null}[ka(473)](t){const e=ka;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{demux:i}=this[e(474)];this[e(474)][e(510)][e(533)]=Je();const r=Object[e(485)]({signal:this.abortController.signal},{headers:s[e(513)]||{}});fetch(t,r)[e(461)]((t=>{const s=e;if(this[s(488)])return this[s(493)]=Dt[s(482)],void t[s(491)][s(498)]()[s(481)]((()=>{}));if(!this._isDestroyed){if(!function(t){const e=ze;return t.ok&&t[e(511)]>=200&&t[e(511)]<=299}(t))return this[s(474)][s(538)](this.TAG_NAME,s(529)+t[s(480)]+s(525)+t.ok+s(478)),this.abort(),void this[s(514)](V[s(528)],s(529)+t[s(480)]+s(525)+t.ok);if(this.emit(O[s(477)]),this.startStreamRateInterval(),typeof WritableStream!==ze(660))this[s(474)][s(535)](this[s(540)],"use WritableStream() to read stream"),this[s(504)]=new WritableStream({write:t=>{const e=s;if(!this[e(465)]&&!this[e(474)][e(483)]()){if(this[e(486)]&&this[e(486)][e(522)]&&this.abortController[e(522)][e(479)])return this[e(474)].debugLog(this[e(540)],e(460)),void(this[e(493)]=Dt[e(470)]);if(bi(this[e(488)]))return this[e(474)][e(535)](this[e(540)],e(541)),this[e(493)]=Dt[e(470)],void this[e(466)]();if(typeof t!==e(472))return this[e(493)]=Dt.buffering,this[e(523)]&&this[e(523)](8*t[e(506)]),i.dispatch(t);this[e(474)].debugWarn(this.TAG_NAME,'writableStream.write() and value is "'+t+e(494))}},close:()=>{const t=s;this._isDestroyed||(this[t(493)]=Dt[t(470)],this[t(474)][t(524)]()?(i.close(),this[t(474)].emit(O[t(515)],t(502))):this[t(474)].updateStreamEndInner())},abort:t=>{const e=s;if(this[e(465)])return;if(this[e(486)]&&this[e(486)].signal&&this[e(486)][e(522)][e(479)])return this[e(474)].debugLog(this.TAG_NAME,e(505)),void(this[e(493)]=Dt.complete);i.close();const r=t[e(490)]();-1===r[e(530)](gt[e(508)])&&-1===r[e(530)](gt[e(471)])&&t[e(495)]!==gt.abort&&(this[e(466)](),this.player[e(519)](V[e(528)],t))}}),t[s(491)][s(476)](this[s(504)])[s(481)]((t=>{const e=s;"AbortError"!==t[e(495)]&&this[e(474)][e(535)](this[e(540)],e(497),t.name,t[e(490)]())}));else{this[s(474)][s(535)](this[s(540)],s(512));const e=t[s(491)][s(475)](),r=()=>{const t=s;e[t(500)]()[t(461)]((e=>{const s=t;let{done:n,value:o}=e;if(!this._isDestroyed)return n?(this[s(493)]=Dt.complete,this[s(466)](),void(this[s(474)][s(524)]()?(i.close(),this[s(474)].emit(O[s(515)],s(502))):this[s(474)][s(487)]())):this[s(486)]&&this.abortController[s(522)]&&this[s(486)][s(522)].aborted?(this.player[s(535)](this[s(540)],"reader.read() and this.abortController.signal.aborted so return"),void(this._status=Dt.complete)):bi(this._requestAbort)?(this[s(474)][s(535)](this[s(540)],s(496)),this[s(493)]=Dt[s(470)],void this[s(466)]()):void("string"!=typeof o?(this[s(493)]=Dt[s(537)],this[s(523)]&&this[s(523)](8*o.byteLength),i[s(526)](o),r()):this[s(474)].debugWarn(this[s(540)],'reader.read() and value is "'+o+'" string so return'))}))[t(481)]((e=>{const s=t;if(this[s(486)]&&this.abortController[s(522)]&&this[s(486)].signal[s(479)])return this[s(474)][s(535)](this[s(540)],"reader.read().catch() and this.abortController.signal.aborted so return"),void(this[s(493)]=Dt.complete);i[s(499)]();const r=e[s(490)]();-1===r[s(530)](gt[s(508)])&&-1===r[s(530)](gt[s(471)])&&e[s(495)]!==gt[s(466)]&&(this[s(466)](),this[s(474)][s(519)](V.fetchError,e))}))};r()}}}))[e(481)]((t=>{const s=e;this.abortController&&this[s(486)][s(522)]&&this[s(486)][s(522)].aborted||"AbortError"!==t[s(495)]&&(i[s(499)](),this[s(466)](),this[s(514)](V[s(528)],t.toString()))}))}[ka(466)](){const t=ka;if(this[t(488)]=!0,this.abortController)try{this.abortController[t(466)](),this[t(486)]=null,this[t(474)].debugLog(this[t(540)],t(521))}catch(e){this[t(486)]=null,this[t(474)][t(535)](this[t(540)],t(527),e)}}[ka(509)](){return h[ka(503)]}getStreamBufferByteLength(){return 0}}function Da(){const t=["not support WritableStream and use getReader() to read stream","headers","emit","streamEnd","kBps","destroy","241832vrgHDq","emitError","close writableStream success","abortController.abort() success","signal","streamRate","isCheckStreamEnd"," and ok is ","dispatch","abortController.abort() error","fetchError","fetch response status is ","indexOf","10AihnIy","232382BJaedT","streamStart","407242kZCvEa","debugLog","toFixed","buffering","debugError","startStreamRateInterval","TAG_NAME","writableStream.write() and this._requestAbort is true so return","playing","writableStream.write() and this.abortController.signal.aborted so return","then","destroy and ignore writableStream.close()","1986318nCFkER","FetchStream","_isDestroyed","abort","562044kpPdWM","init","94665RSbHOa","complete","abortError2","string","fetchStream","player","getReader","pipeTo","streamSuccess"," and emit error and next abort()","aborted","status","catch","idle","isDestroyedOrClosed","54soyqgq","assign","abortController","updateStreamEndInner","_requestAbort","streamRateInterval","toString","body","_closeWritableStream","_status",'" string so return',"name","reader.read() and this._requestAbort is true so return","res.body.pipeTo() error","cancel","close","read","1056352bvXUiN","fetch done","fetch","writableStream","writableStream.abort() and this.abortController.signal.aborted so return","byteLength","7GYTPpt","abortError","getStreamType","_times","stopStreamRateInterval"];return(Da=function(){return t})()}function Ra(){function t(t){return!0===t||"true"===t}const e="The user aborted a request",s="AbortError",i="AbortError",r="fetch",n="destroy",o="destroyEnd",a="buffer",h="fetchError",l="fetchErrorWorker",c="fetchClose",d="fetchSuccess",u="init",p="bufferByteLength",f="idle",m="buffering",g="complete";let y=new class{constructor(){this.TAG_NAME="FetchWorker",this._requestAbort=!1,this._status=f,this.writableStream=null,this.isChrome=!1,this.abortController=new AbortController,this.debug=!1,this.debugLevel="warn",this.debugUuid=null,this.messageQueue=[],this.processInterval=null,this.prevEmitTimestamp=null,this.currentBuffer=null}destroy(){var t;this.abort(),this.writableStream&&("function"==typeof this.writableStream.close&&(!1===(t=this.writableStream.locked)||"false"===t)?this.writableStream.close().catch((t=>{})).finally((()=>{this.writableStream=null})):this.writableStream=null),this._status=f}fetchStream(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Object.assign({signal:this.abortController.signal},{headers:n.headers||{}});fetch(r,o).then((r=>{if(this._requestAbort)return this._status=f,void r.body.cancel();if(!function(t){return t.ok&&t.status>=200&&t.status<=299}(r))return this.abort(),void postMessage({cmd:h,message:`fetch response status is ${r.status} and ok is ${r.ok}`});const n=r.headers.get("content-length");if(postMessage({cmd:d,value:n}),"undefined"!=typeof WritableStream)this.debugLog(this.TAG_NAME,"use WritableStream() to read stream"),this.writableStream=new WritableStream({write:e=>this.abortController&&this.abortController.signal&&this.abortController.signal.aborted?(this.debugLog(this.TAG_NAME,"writableStream.write() and this.abortController.signal.aborted so return"),void(this._status=g)):t(this._requestAbort)?(this.debugLog(this.TAG_NAME,"writableStream.write() and this._requestAbort is true so return"),this._status=g,void this.abort()):void("string"!=typeof e?(this._status=m,this.messageQueue.push(e),this.processInterval||this._startMessageProcessor()):this.debugWarn(this.TAG_NAME,`writableStream.write() and value is "${e}" string so return`)),close:()=>{this._status=g,postMessage({cmd:c})},abort:t=>{if(this.abortController&&this.abortController.signal&&this.abortController.signal.aborted)return this.debugLog(this.TAG_NAME,"writableStream.abort() and this.abortController.signal.aborted so return"),void(this._status=g);const r=t.toString();-1===r.indexOf(e)&&-1===r.indexOf(s)&&t.name!==i&&(this.abort(),postMessage({cmd:l,message:t.toString()}))}}),r.body.pipeTo(this.writableStream).catch((t=>{"AbortError"!==t.name&&this.debugLog(this.TAG_NAME,"res.body.pipeTo() error",t.name,t.toString())}));else{const n=r.body.getReader(),o=()=>{n.read().then((e=>{let{done:s,value:i}=e;return s?(this._status=g,void postMessage({cmd:c})):this.abortController&&this.abortController.signal&&this.abortController.signal.aborted?(this.debugLog(this.TAG_NAME,"reader.read() and this.abortController.signal.aborted so return"),void(this._status=g)):t(this._requestAbort)?(this.debugLog(this.TAG_NAME,"reader.read() and this._requestAbort is true so return"),this._status=g,void this.abort()):void("string"!=typeof i?(this._status=m,this.messageQueue.push(i),this.processInterval||this._startMessageProcessor(),o()):this.debugWarn(this.TAG_NAME,`reader.read() and value is "${i}" string so return`))})).catch((t=>{if(this.abortController&&this.abortController.signal&&this.abortController.signal.aborted)return this.debugLog(this.TAG_NAME,"reader.read().catch() and this.abortController.signal.aborted so return"),void(this._status=g);const r=t.toString();-1===r.indexOf(e)&&-1===r.indexOf(s)&&t.name!==i&&(this.abort(),postMessage({cmd:l,message:t.toString()}))}))};o()}})).catch((t=>{this.abortController&&this.abortController.signal&&this.abortController.signal.aborted||"AbortError"!==t.name&&(this.abort(),postMessage({cmd:h,message:t.toString()}))}))}abort(){if(this._requestAbort=!0,this.abortController)try{this.abortController.abort(),this.abortController=null,this.debugLog(this.TAG_NAME,"abortController.abort() success")}catch(t){this.abortController=null,this.player.debugLog(this.TAG_NAME,"abortController.abort() error",t,t.toString())}}_startMessageProcessor(){this.processInterval||(this.processInterval=setInterval((()=>{this._processMessageQueue$2();const t=Date.now();null===this.prevEmitTimestamp&&(this.prevEmitTimestamp=t),t-this.prevEmitTimestamp>=1e3&&(this.prevEmitTimestamp=t,postMessage({cmd:p,value:this._getBufferLength()}))}),10))}_getBufferLength(){let t=0;for(let e=0;e<this.messageQueue.length;e++)t+=this.messageQueue[e].byteLength||0;return this.currentBuffer&&(t+=this.currentBuffer.byteLength||0),t}_processMessageQueue$2(){for(;this.messageQueue.length;){const t=this.messageQueue.shift(),e=new Uint8Array(t);postMessage({cmd:a,buffer:e},[e.buffer])}}debugLog(t){if(this.debug&&"debug"==this.debugLevel){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.debug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[❗❗❗][${t}]`,...s)}}debugError(t){const e=this.debugUuid?`[${this.debugUuid}]`:"";for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];console.error(`JbPro${e}[❌❌❌][${t}]`,...i)}};self.onmessage=e=>{const s=e.data;switch(s.cmd){case u:y.debug=t(s.debug),y.debugLevel=s.debugLevel,y.debugUuid=s.debugUuid;break;case r:y.isChrome=t(s.isChrome),y.fetchStream(s.url,JSON.parse(s.options));break;case n:y.destroy(),y=null,postMessage({cmd:o})}}}const La=xa;function Pa(){const t=["8ltYXKF","off","_isDestroyed","debugWarn","revokeObjectURL","player","1512597kKCGnq","29444676MXxtHW","terminate","143370ImUMVC","2338815iFqWjE","workerUrl","kBps","destroyResolve","playing","FetchStreamWorker","TAG_NAME","_stopStreamRateInterval","debugLog","12hDjmyG","2835mOTGrZ","send close but not response and destroy directly","onmessage","155931NstBtE","decoderWorkerCloseTimeout","workerClearTimeout","440230kVfKUn","40vzbShV","streamRateInterval","4DFTWEO","send destroy","init","streamRate","destroy","fetchWorker","_destroy","_initFetchWorker","825cQOYxP","postMessage"];return(Pa=function(){return t})()}function xa(t,e){const s=Pa();return(xa=function(t,e){return s[t-=261]})(t,e)}!function(t,e){const s=xa,i=t();for(;;)try{if(623686===-parseInt(s(294))/1*(-parseInt(s(271))/2)+parseInt(s(277))/3*(parseInt(s(261))/4)+parseInt(s(281))/5*(parseInt(s(290))/6)+-parseInt(s(297))/7+parseInt(s(298))/8*(parseInt(s(291))/9)+-parseInt(s(280))/10*(-parseInt(s(269))/11)+-parseInt(s(278))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Pa);class Ma extends zi{constructor(t){const e=xa;super(),this[e(287)]=e(286),this[e(276)]=t,this[e(285)]=!1,this[e(266)]=null,this.workerClearTimeout=null,this[e(282)]=null,this.destroyResolve=null,this[e(295)]=null,this.tempStreamBufferByteLength=0,this[e(264)]=es((s=>{const i=e;t.emit(O[i(283)],(s/1e3).toFixed(2))})),this[e(299)]=null,this[e(268)](),this._isDestroyed=!1,t[e(289)](this[e(287)],e(263))}[La(265)](){return new Promise(((t,e)=>{const s=xa;this.fetchWorker?(this[s(276)][s(289)](this.TAG_NAME,s(262)),this[s(266)][s(270)]({cmd:F.destroy}),this.destroyResolve=t,this.decoderWorkerCloseTimeout=setTimeout((()=>{const t=s;this[t(295)]=null,this[t(273)]||(this[t(276)][t(274)](this[t(287)],t(292)),this[t(267)]())}),2e3)):(this._destroy(),setTimeout((()=>{t()}),0))}))}[La(267)](){const t=La;this[t(272)](),this[t(295)]&&(clearTimeout(this[t(295)]),this[t(295)]=null),this[t(282)]&&(window.URL[t(275)](this.workerUrl),this[t(282)]=null),this[t(296)]&&(clearTimeout(this[t(296)]),this[t(296)]=null),this[t(288)](),this[t(264)]=null,this[t(266)]&&(this.fetchWorker[t(293)]=null,this[t(266)][t(279)](),this[t(266)]=null),this.tempStreamBufferByteLength=0,this.player[t(289)](this[t(287)],t(265)),this[t(273)]=!0,this[t(284)]&&(this[t(284)](),this[t(284)]=null)}_initFetchWorker(){let t=ai(Ra);const e=new Worker(t);this.workerUrl=t,this.workerClearTimeout=setTimeout((()=>{window.URL.revokeObjectURL(this.workerUrl),this.workerUrl=null,this.workerClearTimeout=null}),I),e.postMessage({cmd:F.init,debug:this.player._opt.debug,debugLevel:this.player._opt.debugLevel,debugUuid:this.player._opt.debugUuid}),e.onmessage=t=>{if(this._isDestroyed)return;const{demux:e}=this.player,s=t.data;switch(s.cmd){case F.buffer:if(this.player.isDestroyedOrClosed())return;this.streamRate&&this.streamRate(8*s.buffer.byteLength),e.dispatch(s.buffer);break;case F.fetchSuccess:this.emit(O.streamSuccess),this._startStreamRateInterval();break;case F.fetchClose:this.player.isCheckStreamEnd()?(e.close(),this.player.emit(O.streamEnd,"fetch done")):this.player.updateStreamEndInner();break;case F.fetchError:e.close(),this.emit(V.fetchError,s.message);break;case F.fetchErrorWorker:e.close(),this.player.emitError(V.fetchError,s.message);break;case F.bufferByteLength:this.tempStreamBufferByteLength=s.value;break;case F.destroyEnd:this._destroy()}},this.fetchWorker=e}_startStreamRateInterval(){this._stopStreamRateInterval(),this.streamRateInterval=setInterval((()=>{this.streamRate&&this.streamRate(0)}),1e3)}_stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}fetchStream(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.player._times.streamStart=Je(),this.fetchWorker.postMessage({cmd:F.fetch,url:t,isChrome:Qs(),options:JSON.stringify(e)})}getStreamType(){return h.fetch}getStreamBufferByteLength(){return this.tempStreamBufferByteLength}}function Ba(t,e){const s=Fa();return(Ba=function(t,e){return s[t-=369]})(t,e)}function Fa(){const t=["isDestroyedOrClosed","off","wsUrl","1987071ClAVmA","dispatch","debugLog","websocket send message is","emit","error","socket error","byteLength","fetchStream","isCheckStreamEnd","_stopCheckWsOpenTimeout","socket error:","TAG_NAME","socket close and code is ","binaryType","streamRateInterval","readyState","getStreamType","streamSuccess","WebsocketStream","player","websocket send message socket is null","3063438lMrbzZ","_startCheckWsOpenTimeout","streamStart","_isDestroyed","_closeWebSocket() socket is null or socket status is ","arraybuffer","websocketOpen","_opt","reason","send","open","sendMessage","socketDestroyFnList","socket close abnormally and code is ","websocket","websocket Open Timeout form ","protocols","string","6233035TPVISg","_createWebSocket","1NohHaq","code is ","_handleMessage","forEach","notConnect","debugError","streamRate","getStreamBufferByteLength","websocket send message error and  socket status is ","socket close and status is error, emit error and return","onerror",", and wasClean is ","onclose","socketStatus","websocketClose","websocketOpenTimeout","_closeWebSocket","Client disconnecting","_stopStreamRateInterval","code","websocketError","websocketStringMsg","data","900662CEzqeY","websocketFirstMessage","socket","wsErrorMsg","websocket handle message demux is null so return","length","wasClean",", and reason is ","_startStreamRateInterval","debugWarn","requestAbort","checkWsOpenTimeout","5528532VBbOYR","7199584xNLKKU","init","push","destroy","emitError","close","onopen","socket error and requestAbort is true","socket open","websocketFirstMsg","socket close and requestAbort is true, so return","updateStreamEndInner","websocket error","message","1527008RLtTsu"];return(Fa=function(){return t})()}const Ua=Ba;!function(t,e){const s=Ba,i=t();for(;;)try{if(660721===parseInt(s(443))/1*(-parseInt(s(370))/2)+parseInt(s(401))/3+-parseInt(s(397))/4+parseInt(s(441))/5+parseInt(s(382))/6+-parseInt(s(423))/7+-parseInt(s(383))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Fa);class Oa extends zi{constructor(t){const e=Ba;super(),this[e(421)]=t,this.TAG_NAME=e(420),this[e(372)]=null,this.socketStatus=W[e(447)],this[e(400)]=null,this[e(380)]=!1,this[e(435)]=[],this[e(449)]=es((s=>{t[e(405)](O.kBps,(s/1e3).toFixed(2))})),this[e(416)]=null,this[e(381)]=null,this[e(373)]="",this[e(426)]=!1,t.debugLog(this.TAG_NAME,e(384))}async[Ua(386)](){const t=Ua;this[t(426)]=!0,this[t(459)](),this._stopStreamRateInterval(),this[t(411)](),this[t(400)]=null,this[t(373)]="",this[t(399)](),this[t(421)][t(403)](this.TAG_NAME,t(386))}[Ua(378)](){const t=Ua;this[t(461)](),this[t(416)]=setInterval((()=>{const e=t;this.streamRate&&this[e(449)](0)}),1e3)}[Ua(461)](){const t=Ua;this[t(416)]&&(clearInterval(this[t(416)]),this[t(416)]=null)}[Ua(424)](){const t=Ua;this[t(411)](),this[t(381)]=setTimeout((()=>{const e=t;if(this[e(456)]===W.notConnect){const t=e(438)+this[e(421)][e(430)][e(458)]+"s and status is "+this[e(456)];this.player[e(448)](this[e(413)],t),this[e(405)](V.websocketOpenTimeout,t)}}),1e3*this[t(421)][t(430)][t(458)])}_stopCheckWsOpenTimeout(){const t=Ua;this[t(381)]&&(clearTimeout(this[t(381)]),this.checkWsOpenTimeout=null)}[Ua(442)](){const t=Ua;let e=arguments[t(375)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=this[t(421)],{events:{proxy:i},demux:r}=s,n=e[t(439)]||[];this[t(372)]=new WebSocket(this[t(400)],n),this[t(372)][t(415)]=t(428);const o=i(this.socket,t(433),(()=>{const s=t;this[s(426)]||(this.player[s(403)](this[s(413)],s(391)),this[s(411)](),this[s(456)]=W[s(433)],this.emit(O[s(419)]),this[s(421)][s(405)](O[s(429)]),this._startStreamRateInterval(),e[s(371)]&&this[s(434)](e[s(392)]))})),a=i(this[t(372)],t(396),(e=>{const s=t;this[s(426)]||this[s(421)][s(398)]()||(typeof e[s(369)]!==s(440)?(this.streamRate&&this.streamRate(8*e.data[s(408)]),this[s(445)](e.data)):this[s(421)][s(405)](O[s(464)],e[s(369)]))})),h=i(this[t(372)],t(388),(e=>{const s=t;if(this[s(426)])return;if(this[s(421)][s(398)]())return;if(this.player[s(403)](this.TAG_NAME,s(414)+e.code+s(377)+e[s(431)]+", and wasClean is "+e[s(376)]),bi(this[s(380)]))return this[s(380)]=!1,void this[s(421)][s(403)](this.TAG_NAME,s(393));if(this.socketStatus===W[s(406)]){const t=s(444)+e[s(462)]+s(377)+e[s(431)]+s(454)+e.wasClean+", and msg is "+this[s(373)];return this[s(421)][s(387)](V[s(463)],t),void this[s(421)][s(403)](this[s(413)],s(452))}let i=!1;1006===e[s(462)]&&(this[s(421)][s(448)](this.TAG_NAME,s(436)+e[s(462)]),i=!0),this.socketStatus=W[s(388)],this[s(421)][s(410)]()||i?(r.close(),this[s(421)][s(405)](O[s(457)],e[s(462)]),this.player.emit(O.streamEnd,e[s(462)])):this[s(421)][s(394)]()})),l=i(this[t(372)],t(406),(e=>{const s=t;if(this[s(426)])return;if(this[s(421)][s(398)]())return;if(bi(this[s(380)]))return this.requestAbort=!1,void this[s(421)][s(403)](this.TAG_NAME,s(390));this.player[s(448)](this.TAG_NAME,s(407),e[s(396)]),this[s(456)]=W.error;const i=e[s(396)]||s(395);this[s(373)]=i,r[s(388)](),this[s(421)].debugLog(this[s(413)],s(412),i)}));this[t(435)][t(385)](o,a,h,l)}[Ua(459)](){const t=Ua;!this.socket||0!==this[t(372)][t(417)]&&1!==this.socket.readyState?this[t(372)]&&this.player[t(403)](this[t(413)],t(427)+(this[t(372)]&&this[t(372)][t(417)])):(this[t(380)]=!0,this.socket.close(1e3,t(460))),this[t(435)][t(375)]&&(this[t(435)][t(446)]((t=>t())),this[t(435)]=[]),this.socket[t(389)]=null,this.socket.onmessage=null,this[t(372)][t(455)]=null,this[t(372)][t(453)]=null,this[t(372)]=null,this[t(456)]=W[t(447)],this[t(449)]=null}_handleMessage(t){const e=Ua,{demux:s}=this[e(421)];s?s[e(402)](t):this.player[e(379)](this[e(413)],e(374))}[Ua(409)](t,e){const s=Ua;this[s(421)]._times[s(425)]=Je(),this[s(400)]=t,this[s(442)](e)}sendMessage(t){const e=Ua;this[e(372)]?this.socketStatus===W[e(433)]?(this[e(421)][e(403)](this[e(413)],e(404),t),this.socket[e(432)](t)):this[e(421)][e(448)](this[e(413)],e(451)+this.socketStatus):this[e(421)][e(448)](this[e(413)],e(422))}[Ua(418)](){return h[Ua(437)]}[Ua(450)](){return 0}}function Na(){function t(t){return!0===t||"true"===t}const e="fetch",s="sendMessage",i="destroy",r="destroyEnd",n="buffer",o="websocketError",a="websocketClose",h="websocketOpen",l="websocketStringMsg",c="init",d="bufferByteLength";let u=new class{constructor(){this.TAG_NAME="WebsocketWorker",this.socket=null,this.wsUrl=null,this.requestAbort=!1,this.options={},this.debug=!1,this.debugLevel="warn",this.debugUuid=null,this.messageQueue=[],this.processInterval=null,this.MAX_CHUNK_SIZE=32768,this.currentBuffer=null,this.prevEmitTimestamp=null}destroy(){this._stopMessageProcessor(),!this.socket||0!==this.socket.readyState&&1!==this.socket.readyState||(this.requestAbort=!0,this.socket.close(1e3,"Client disconnecting")),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket=null}fetchStream(t,e){this.wsUrl=t,this.options=e||{},this._createWebSocket(e)}sendMessage(t){this.socket?1===this.socket.readyState?(this.debugLog(this.TAG_NAME,"send message",t),this.socket.send(t)):this.debugError(this.TAG_NAME,`send message error and  socket status is ${this.socket.readyState}`):this.debugError(this.TAG_NAME,"send message socket is null")}_createWebSocket(t){const e=t.protocols||[];this.socket=new WebSocket(this.wsUrl,e),this.socket.binaryType="arraybuffer",this.socket.onopen=this._handleWebsocketOpen.bind(this),this.socket.onclose=this._handleWebsocketClose.bind(this),this.socket.onerror=this._handleWebsocketError.bind(this),this.socket.onmessage=this._handleWebsocketMessage.bind(this)}_handleWebsocketOpen(){postMessage({cmd:h}),this.options&&this.options.websocketFirstMessage&&(this.debugLog(this.TAG_NAME,"send first message",this.options.websocketFirstMessage),this.sendMessage(this.options.websocketFirstMessage))}_handleWebsocketClose(e){if(t(this.requestAbort))return this.requestAbort=!1,void this.debugLog(this.TAG_NAME,"socket close and requestAbort is true, so return");postMessage({cmd:a,code:e.code,reason:e.reason,wasClean:e.wasClean})}_handleWebsocketError(e){t(this.requestAbort)?this.requestAbort=!1:postMessage({cmd:o,message:e.message})}_handleWebsocketMessage(t){this.messageQueue.push(t.data),this.processInterval||this._startMessageProcessor()}_startMessageProcessor(){this.processInterval||(this.processInterval=setInterval((()=>{this._processMessageQueue$2();const t=Date.now();null===this.prevEmitTimestamp&&(this.prevEmitTimestamp=t),t-this.prevEmitTimestamp>=1e3&&(this.prevEmitTimestamp=t,postMessage({cmd:d,value:this._getBufferLength()}))}),10))}_getBufferLength(){let t=0;for(let e=0;e<this.messageQueue.length;e++)t+=this.messageQueue[e].byteLength||0;return this.currentBuffer&&(t+=this.currentBuffer.byteLength||0),t}_stopMessageProcessor(){this.processInterval&&(clearInterval(this.processInterval),this.processInterval=null),this.messageQueue=[],this.currentBuffer=null,this.prevEmitTimestamp=null}_processMessageQueue(){try{let t=0;if(this.currentBuffer){if(!(this.currentBuffer.byteLength<=this.MAX_CHUNK_SIZE)){const t=this.currentBuffer.slice(0,this.MAX_CHUNK_SIZE);return this._handleMessage(t),void(this.currentBuffer=this.currentBuffer.slice(this.MAX_CHUNK_SIZE))}this._handleMessage(this.currentBuffer),t+=this.currentBuffer.byteLength,this.currentBuffer=null}for(;this.messageQueue.length>0&&t<this.MAX_CHUNK_SIZE;){const e=this.messageQueue[0];if("string"==typeof e){postMessage({cmd:l,value:e}),this.messageQueue.shift();continue}const s=this.MAX_CHUNK_SIZE-t;if(!(e.byteLength<=s)){if(0===t){const t=e.slice(0,this.MAX_CHUNK_SIZE);this._handleMessage(t),this.messageQueue[0]=e.slice(this.MAX_CHUNK_SIZE)}else this.currentBuffer=e,this.messageQueue.shift();break}this._handleMessage(e),t+=e.byteLength,this.messageQueue.shift()}}catch(t){this.debugError(this.TAG_NAME,"_processMessageQueue error:",t)}}_processMessageQueue$2(){for(;this.messageQueue.length;){const t=this.messageQueue.shift();"string"==typeof t?postMessage({cmd:l,value:t}):this._handleMessage(t)}}_handleMessage(t){const e=new Uint8Array(t);postMessage({cmd:n,buffer:e},[e.buffer])}debugLog(t){if(this.debug&&"debug"==this.debugLevel){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.debug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){const r=this.debugUuid?`[${this.debugUuid}]`:"";for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro${r}[❗❗❗][${t}]`,...s)}}debugError(t){const e=this.debugUuid?`[${this.debugUuid}]`:"";for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];console.error(`JbPro${e}[❌❌❌][${t}]`,...i)}};self.onmessage=n=>{const o=n.data;switch(o.cmd){case c:u.debug=t(o.debug),u.debugLevel=o.debugLevel,u.debugUuid=o.debugUuid,o.streamMaxChunkSize&&(u.MAX_CHUNK_SIZE=o.streamMaxChunkSize);break;case e:u.fetchStream(o.url,o.options);break;case i:u.destroy(),u=null,postMessage({cmd:r});break;case s:u.sendMessage(o.message)}}}const ja=Wa;function Va(){const t=["tempStreamBufferByteLength","toFixed","destroy","socketStatus","88285kDfEHh","2520381rrfEif","init","send close but not response and destroy directly","2415198ZPhBuJ","477441axjSCB","player","wsErrorMsg","16jEkuSw","streamRateInterval","27109020jblsZe","7OhCkjk","296FDOllo","destroyResolve","streamRate","onmessage","debugLog","486748fDBDUw","_isDestroyed","URL","workerUrl","workerClearTimeout","websocketWorker","wsUrl","send destroy","WebsocketStreamWorker","11xUbmZg","off","_stopStreamRateInterval","checkWsOpenTimeout","revokeObjectURL","_destroy","decoderWorkerCloseTimeout","_closeWebSocket","_stopCheckWsOpenTimeout","2521164CDmGOw","kBps","notConnect","debugWarn","terminate","TAG_NAME","_initWebsocketWorker"];return(Va=function(){return t})()}function Wa(t,e){const s=Va();return(Wa=function(t,e){return s[t-=172]})(t,e)}!function(t,e){const s=Wa,i=t();for(;;)try{if(682986===-parseInt(s(178))/1+parseInt(s(211))/2+parseInt(s(208))/3+-parseInt(s(173))/4*(-parseInt(s(207))/5)+parseInt(s(196))/6*(parseInt(s(172))/7)+-parseInt(s(215))/8*(-parseInt(s(212))/9)+-parseInt(s(217))/10*(parseInt(s(187))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Va);class Ga extends zi{constructor(t){const e=Wa;super(),this[e(213)]=t,this[e(201)]=e(186),this[e(184)]=null,this[e(206)]=W[e(198)],this.websocketWorker=null,this[e(182)]=null,this[e(181)]=null,this[e(174)]=null,this.decoderWorkerCloseTimeout=null,this[e(175)]=es((s=>{const i=e;t.emit(O[i(197)],(s/1e3)[i(204)](2))})),this[e(216)]=null,this[e(190)]=null,this[e(214)]="",this[e(203)]=0,this[e(202)](),this[e(179)]=!1,this.player[e(177)](this.TAG_NAME,e(209))}destroy(){return new Promise(((t,e)=>{const s=Wa;this[s(183)]?(this.player.debugLog(this[s(201)],s(185)),this[s(194)](),this[s(174)]=t,this[s(193)]=setTimeout((()=>{const t=s;this[t(193)]=null,this[t(179)]||(this.player[t(199)](this.TAG_NAME,t(210)),this._destroy())}),2e3)):(this[s(192)](),t())}))}[ja(192)](){const t=ja;this[t(188)](),this[t(195)](),this[t(193)]&&(clearTimeout(this[t(193)]),this[t(193)]=null),this[t(181)]&&(window[t(180)][t(191)](this[t(181)]),this[t(181)]=null),this.workerClearTimeout&&(clearTimeout(this[t(182)]),this[t(182)]=null),this[t(189)](),this[t(175)]=null,this[t(183)]&&(this[t(183)][t(176)]=null,this[t(183)][t(200)](),this.websocketWorker=null),this[t(184)]=null,this[t(214)]="",this[t(203)]=0,this[t(213)][t(177)](this[t(201)],t(205)),this[t(179)]=!0,this[t(174)]&&(this[t(174)](),this[t(174)]=null)}_initWebsocketWorker(){let t=ai(Na);const e=new Worker(t);this.workerUrl=t,this.workerClearTimeout=setTimeout((()=>{window.URL.revokeObjectURL(this.workerUrl),this.workerUrl=null,this.workerClearTimeout=null}),I),e.postMessage({cmd:U.init,debug:this.player._opt.debug,debugLevel:this.player._opt.debugLevel,debugUuid:this.player._opt.debugUuid,streamMaxChunkSize:this.player._opt.streamMaxChunkSize}),e.onmessage=t=>{if(this._isDestroyed)return;const{demux:e}=this.player,s=t.data;switch(s.cmd){case U.buffer:if(this.player.isDestroyedOrClosed())return;this.streamRate&&this.streamRate(8*s.buffer.byteLength),e.dispatch(s.buffer);break;case U.websocketOpen:this.player.debugLog(this.TAG_NAME,"socket open"),this._stopCheckWsOpenTimeout(),this.socketStatus=W.open,this.emit(O.streamSuccess),this.player.emit(O.websocketOpen),this._startStreamRateInterval();break;case U.websocketClose:if(this.player.isDestroyedOrClosed())return;if(this.player.debugLog(this.TAG_NAME,`socket close and code is ${s.code}, and reason is ${s.reason}, and wasClean is ${s.wasClean}`),this.socketStatus===W.error){const t=`code is ${s.code}, and reason is ${s.reason}, and wasClean is ${s.wasClean}, and msg is ${this.wsErrorMsg}`;return this.player.emitError(V.websocketError,t),void this.player.debugLog(this.TAG_NAME,"socket close and status is error, emit error and return")}let t=!1;1006===s.code&&(this.player.debugError(this.TAG_NAME,`socket close abnormally and code is ${s.code}`),t=!0),this.socketStatus=W.close,this.player.isCheckStreamEnd()||t?(e.close(),this.player.emit(O.websocketClose,s.code),this.player.emit(O.streamEnd,s.code)):this.player.updateStreamEndInner();break;case U.websocketError:if(this.player.isDestroyedOrClosed())return;this.player.debugError(this.TAG_NAME,"socket error",s.message),this.socketStatus=W.error;const i=s.message||"websocket error";this.wsErrorMsg=i,e.close(),this.player.debugLog(this.TAG_NAME,"socket error:",i);break;case U.destroyEnd:this._destroy();break;case U.websocketStringMsg:this.player.emit(O.websocketStringMsg,s.value);break;case U.bufferByteLength:this.tempStreamBufferByteLength=s.value}},this.websocketWorker=e}_startStreamRateInterval(){this._stopStreamRateInterval(),this.streamRateInterval=setInterval((()=>{this.streamRate&&this.streamRate(0)}),1e3)}_stopStreamRateInterval(){this.streamRateInterval&&(clearInterval(this.streamRateInterval),this.streamRateInterval=null)}_startCheckWsOpenTimeout(){this._stopCheckWsOpenTimeout(),this.checkWsOpenTimeout=setTimeout((()=>{if(this.checkWsOpenTimeout=null,!this._isDestroyed&&this.socketStatus===W.notConnect){const t=`websocket Open Timeout form ${this.player._opt.websocketOpenTimeout}s and status is ${this.socketStatus}`;this.player.debugError(this.TAG_NAME,t),this.emit(V.websocketOpenTimeout,t)}}),1e3*this.player._opt.websocketOpenTimeout)}_stopCheckWsOpenTimeout(){this.checkWsOpenTimeout&&(clearTimeout(this.checkWsOpenTimeout),this.checkWsOpenTimeout=null)}_closeWebSocket(){this.websocketWorker&&this.websocketWorker.postMessage({cmd:U.destroy})}fetchStream(t,e){this.player._times.streamStart=Je(),this.wsUrl=t,this.websocketWorker&&this.websocketWorker.postMessage({cmd:U.fetch,url:t,options:e})}sendMessage(t){this.websocketWorker&&this.websocketWorker.postMessage({cmd:U.sendMessage,message:t})}getStreamType(){return h.websocket}getStreamBufferByteLength(){return this.tempStreamBufferByteLength}}const za=Ha;function Ha(t,e){const s=Ka();return(Ha=function(t,e){return s[t-=164]})(t,e)}function Ka(){const t=["off","then","1398078DlApSt","392522BhqxID","emit","init","loadSource success","4ZrrTfg","destroy","fetchStream","8666505xydhBi","player","streamStart","98lwtDlg","5426310FAtqrL","hls","_times","294670efvzNH","getStreamBufferByteLength","488881JVkWQC","getStreamType","394360kdxvfZ","debugLog","HlsStream"];return(Ka=function(){return t})()}!function(t,e){const s=Ha,i=t();for(;;)try{if(460664===parseInt(s(172))/1+parseInt(s(180))/2+parseInt(s(179))/3+-parseInt(s(184))/4*(parseInt(s(170))/5)+-parseInt(s(167))/6+-parseInt(s(166))/7*(parseInt(s(174))/8)+parseInt(s(187))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ka);class qa extends zi{constructor(t){const e=Ha;super(),this[e(164)]=t,t.debugLog(e(176),e(182))}async[za(185)](){const t=za;return this[t(177)](),this[t(164)][t(175)]("HlsStream",t(185)),!0}[za(186)](t){const e=za,{hlsDecoder:s,debug:i}=this[e(164)];this[e(164)][e(169)][e(165)]=Je(),s.loadSource(t)[e(178)]((()=>{const t=e;this[t(164)][t(175)](t(176),t(183)),this[t(181)](O.streamSuccess)})).catch((t=>{this[e(181)](V.hlsError,t)}))}[za(173)](){return h[za(168)]}[za(171)](){return 0}}const Ya=Qa;function Qa(t,e){const s=Ja();return(Qa=function(t,e){return s[t-=340]})(t,e)}function Ja(){const t=["/webrtc/play","getStreamType",", and new url is: ","location","webrctUrl","343268iPvFai","replace","WebrtcStream","loadSource success","513240imkQzL","getStreamBufferByteLength","catch","loadSource error","_times","loadSource","destroy","788316WKvett","then","emit","indexOf","512235ponECE","webrtc","1310792EkOESy","search","init","238RmSHZl","original url is ","streamSuccess","3837270YZbMVJ","player","isWebrtcForM7S","44592PqOcPX","debugLog","5ftveAx","length"];return(Ja=function(){return t})()}!function(t,e){const s=Qa,i=t();for(;;)try{if(360980===parseInt(s(370))/1+parseInt(s(352))/2+parseInt(s(346))/3+parseInt(s(374))/4*(-parseInt(s(363))/5)+-parseInt(s(358))/6+-parseInt(s(355))/7*(parseInt(s(361))/8)+parseInt(s(350))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ja);class Xa extends zi{constructor(t){const e=Qa;super(),this[e(359)]=t,this[e(369)]=null,t.debugLog(e(372),e(354))}async[Ya(345)](){const t=Ya;return this.webrctUrl=null,this.off(),this[t(359)][t(362)]("WebrtcStream","destroy"),!0}fetchStream(t){const e=Ya;let s=arguments[e(364)]>1&&void 0!==arguments[1]?arguments[1]:{};const{webrtc:i,debug:r}=this[e(359)];if(this[e(359)][e(343)].streamStart=Je(),this[e(369)]=t[e(371)]("webrtc:",window[e(368)].protocol),this.player[e(360)]()&&-1===this[e(369)][e(349)](e(365))){const s=new URL(this.webrctUrl),i=e(365)+s.pathname;this[e(369)]=s.origin+i+s[e(353)],this[e(359)][e(362)](e(372),e(356)+t+e(367)+this[e(369)])}i[e(344)](this[e(369)],s)[e(347)]((()=>{const t=e;this[t(359)][t(362)]("WebrtcStream",t(373)),this[t(348)](O[t(357)])}))[e(341)]((t=>{const s=e;this[s(359)].debugError("WebrtcStream",s(342),t),this[s(348)](V.webrtcError,t)}))}[Ya(366)](){return h[Ya(351)]}[Ya(340)](){return 0}}function $a(t,e){const s=th();return($a=function(t,e){return s[t-=405]})(t,e)}const Za=$a;function th(){const t=["streamEnd","streamSuccess","then","_times","abort","wtUrl","765jmDDpu","_createWebTransport","replace","stopStreamRateInterval","startStreamRateInterval","ready","fetchStream","close","off","streamRateInterval","init","streamStart","10FNOEvJ","1411322SxmQDG",'" string so return',"createBidirectionalStream","590148Azvgtt","readable","emit","50fXIzAP","fetch done","6TGikav","debugWarn","catch","kBps","1400Uevaau","destroy","toFixed","_isDestroyed","streamRate","TAG_NAME","transport","201738miyQVP","_createWebTransport-ready","debugLog","dispatch","https:","player","1325443BeYzsr","96572FgEbVj","WebTransportLoader","505168Nmzhtz","byteLength"];return(th=function(){return t})()}!function(t,e){const s=$a,i=t();for(;;)try{if(313714===parseInt(s(407))/1+-parseInt(s(432))/2+parseInt(s(423))/3+-parseInt(s(430))/4*(-parseInt(s(410))/5)+-parseInt(s(412))/6*(parseInt(s(429))/7)+-parseInt(s(416))/8*(parseInt(s(440))/9)+parseInt(s(452))/10*(-parseInt(s(453))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(th);class eh extends zi{constructor(t){const e=$a;super(),this.player=t,this[e(422)]=null,this[e(439)]=null,this[e(420)]=es((s=>{const i=e;t[i(409)](O[i(415)],(s/1e3)[i(418)](2))})),this[e(449)]=null,this[e(419)]=!1,t[e(425)](e(431),e(450))}async[Za(417)](){const t=Za;return this._isDestroyed=!0,this[t(438)](),this[t(448)](),this[t(428)].debugLog("WebTransportLoader",t(417)),!0}[Za(444)](){const t=Za;this[t(443)](),this[t(449)]=setInterval((()=>{this[t(420)]&&this.streamRate(0)}),1e3)}[Za(443)](){const t=Za;this[t(449)]&&(clearInterval(this[t(449)]),this.streamRateInterval=null)}[Za(441)](){const t=Za,e=this.player,{demux:s}=e;try{this[t(422)]=new WebTransport(this[t(439)]),this[t(422)][t(445)][t(436)]((()=>{const e=t;this[e(409)](O[e(435)]),this.startStreamRateInterval(),this[e(422)][e(406)]()[e(436)]((t=>{const i=e;t[i(408)].pipeTo(new WritableStream({write:t=>{const e=i;if(!this[e(419)]){if("string"!=typeof t)return this[e(420)]&&this.streamRate(8*t[e(433)]),s[e(426)](t);this[e(428)][e(413)](this[e(421)],'writableStream.write() and value is "'+t+e(405))}},close:()=>{const t=i;this[t(419)]||(s[t(447)](),this[t(428)].emit(O[t(434)],t(411)))},abort:t=>{const e=i;this[e(419)]||s[e(447)]()}}))}))}))[t(414)]((e=>{const s=t;this[s(428)][s(413)](s(431),s(424),e)}))}catch(e){this[t(428)][t(413)]("WebTransportLoader",t(441),e)}}[Za(446)](t){const e=Za;this[e(428)][e(437)][e(451)]=Je(),this[e(439)]=t[e(442)](/^wt:/,e(427)),this[e(441)]()}[Za(438)](){const t=Za;if(this[t(422)])try{this[t(422)][t(447)](),this[t(422)]=null}catch(e){this[t(422)]=null}}getStreamType(){return h.webTransport}getStreamBufferByteLength(){return 0}}function sh(){const t=["1290970wBeLHg","debugLog","websocket","length","20974NQKtGE","20158941oEyKuU","destroy","_opt","4013500IrFtno","getStreamBufferByteLength","fetchStream","workerFetchStream","sendMessage","_times","decoderWorker","protocol","off","fetch","396bLSoLM","1096xPFCao","WorkerStream","23330ooiHoW","worker","player","219kYdRLz","51485caldTC","init","1773732VGeEFN","workUrl","10KjmKlg"];return(sh=function(){return t})()}const ih=rh;function rh(t,e){const s=sh();return(rh=function(t,e){return s[t-=177]})(t,e)}!function(t,e){const s=rh,i=t();for(;;)try{if(708222===parseInt(s(201))/1+parseInt(s(205))/2*(parseInt(s(195))/3)+parseInt(s(179))/4+-parseInt(s(200))/5*(-parseInt(s(198))/6)+-parseInt(s(196))/7*(parseInt(s(190))/8)+-parseInt(s(189))/9*(parseInt(s(192))/10)+-parseInt(s(206))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sh);class nh extends zi{constructor(t){const e=rh;super(),this[e(194)]=t,this[e(199)]=null,t[e(202)](e(191),e(197))}async[ih(177)](){const t=ih;return this.workUrl=null,this[t(187)](),this.player.debugLog("WorkerStream",t(177)),!0}[ih(183)](t){const e=ih;this[e(194)][e(185)].workerSendMessage(t)}[ih(181)](t){const e=ih;let s=arguments[e(204)]>1&&void 0!==arguments[1]?arguments[1]:{};this[e(199)]=t,this[e(194)][e(184)].streamStart=Je(),this[e(194)][e(185)][e(182)](t,s)}getStreamType(){const t=ih,e=this[t(194)][t(178)][t(186)]===o.fetch?h[t(188)]:h[t(203)];return h[t(193)]+" "+e}[ih(180)](){return 0}}const oh=ah;function ah(t,e){const s=hh();return(ah=function(t,e){return s[t-=359]})(t,e)}function hh(){const t=["emit","loadSource success","debugError","init","off","248eqFEyx","121671BBEAJw","catch","aliyunRtcError","fetchStream","3201fopSiI","2961708dkfvXP","streamStart","streamSuccess","loadSource error","TAG_NAME","13326oDYear","debugLog","1580lNdtnl","7bwhtyP","107196OLlpCj","player","3113649PVHLKV","60182BgcBaN","AliyunRtcLoader","destroy","52fISepZ","_times","690ArazsP","getStreamBufferByteLength"];return(hh=function(){return t})()}!function(t,e){const s=ah,i=t();for(;;)try{if(241872===parseInt(s(366))/1*(-parseInt(s(370))/2)+-parseInt(s(367))/3*(-parseInt(s(373))/4)+parseInt(s(375))/5*(parseInt(s(363))/6)+-parseInt(s(369))/7+-parseInt(s(382))/8*(-parseInt(s(383))/9)+-parseInt(s(365))/10*(parseInt(s(387))/11)+-parseInt(s(388))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(hh);class lh extends zi{constructor(t){const e=ah;super(),this[e(362)]=e(371),this[e(368)]=t,t.debugLog(this.TAG_NAME,e(380))}async[oh(372)](){const t=oh;return this[t(381)](),this[t(368)][t(364)](this[t(362)],t(372)),!0}[oh(386)](t){const e=oh,{aliyunRtcDecoder:s}=this.player;this[e(368)][e(374)][e(359)]=Je(),s.loadSource(t).then((()=>{const t=e;this.player[t(364)](this[t(362)],t(378)),this[t(377)](O[t(360)])}))[e(384)]((t=>{const s=e;this[s(368)][s(379)](this.TAG_NAME,s(361),t),this[s(377)](V[s(385)],t)}))}getStreamType(){return h.aliyunRtc}[oh(376)](){return 0}}const ch=uh;function dh(){const t=["1928672fcgUtD","emitError","6crHMRL","catch","1888691AFsvgt","destroy","debugLog","1248235AGjihq","805590ycLMbF","fetchStream","_times","init","TAG_NAME","86722gDfMkf","then","406128sLYqzq","12960aHovAF","player","45pcklrz","off","mp4Vod","streamSuccess"];return(dh=function(){return t})()}function uh(t,e){const s=dh();return(uh=function(t,e){return s[t-=424]})(t,e)}!function(t,e){const s=uh,i=t();for(;;)try{if(152913===-parseInt(s(431))/1*(parseInt(s(442))/2)+-parseInt(s(444))/3+-parseInt(s(445))/4+-parseInt(s(436))/5+-parseInt(s(437))/6+-parseInt(s(433))/7+-parseInt(s(429))/8*(-parseInt(s(425))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dh);class ph extends zi{constructor(t){const e=uh;super(),this[e(441)]="MP4StreamLoader",this[e(424)]=t,t[e(435)](this.TAG_NAME,e(440))}[ch(434)](){const t=ch;this[t(426)](),this[t(424)].debugLog(this.TAG_NAME,t(434))}[ch(438)](t){const e=ch,{mp4Decoder:s}=this.player;this[e(424)][e(439)].streamStart=Je(),s.loadSource(t)[e(443)]((()=>{const t=e;this.player[t(435)](this[t(441)],"loadSource success"),this.emit(O[t(428)])}))[e(432)]((t=>{const s=e;this.player[s(430)](V.playVodMp4Error,t)}))}getStreamType(){return h[ch(427)]}getStreamBufferByteLength(){return 0}}function fh(t,e){var s=mh();return(fh=function(t,e){return s[t-=184]})(t,e)}function mh(){var t=["37324XkRtnu","getStreamBufferByteLength","2Lhxbiq","1188838vZOcJj","12IvQSkn","594GXnxyu","EmptyLoader","5115170GVmFwt","debugLog","545217NDzoyK","16152180YefCKx","init","player","914696RtpJoM","fetchStream","TAG_NAME","29348396wBfwsF","54CVezWj"];return(mh=function(){return t})()}var gh=fh;!function(t,e){for(var s=fh,i=t();;)try{if(872093===-parseInt(s(185))/1*(-parseInt(s(186))/2)+-parseInt(s(192))/3*(-parseInt(s(187))/4)+-parseInt(s(190))/5+-parseInt(s(188))/6*(-parseInt(s(201))/7)+parseInt(s(196))/8*(parseInt(s(200))/9)+parseInt(s(193))/10+-parseInt(s(199))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mh);class yh{constructor(t){var e=fh;this.player=t,this[e(198)]=e(189),this[e(195)][e(191)](this.TAG_NAME,e(194))}destroy(){var t=fh;this[t(195)][t(191)](this.TAG_NAME,"destroy")}[gh(197)](){}[gh(184)](){return 0}}const Ah=vh;function vh(t,e){const s=bh();return(vh=function(t,e){return s[t-=129]})(t,e)}function bh(){const t=["22biCTWY","TAG_NAME","emit","3201660lligYI","streamSuccess","7810290fPwakY","3090360zAlupK","1516AwyvMa","init","_times","off","player","396IlQhHU","1388iyQdMI","playVodFlvError","destroy","16TKqXtD","4955CwJBft","1480701CKyOVR","1645191JkLeyI","getStreamType","debugLog","then"];return(bh=function(){return t})()}!function(t,e){const s=vh,i=t();for(;;)try{if(380866===-parseInt(s(134))/1*(-parseInt(s(135))/2)+-parseInt(s(140))/3+-parseInt(s(129))/4*(-parseInt(s(139))/5)+-parseInt(s(151))/6+-parseInt(s(148))/7+-parseInt(s(138))/8*(parseInt(s(141))/9)+-parseInt(s(150))/10*(-parseInt(s(145))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bh);class Sh extends zi{constructor(t){const e=vh;super(),this[e(146)]="FlvVodStreamLoader",this[e(133)]=t,t.debugLog(this.TAG_NAME,e(130))}destroy(){const t=vh;this[t(132)](),this.player[t(143)](this[t(146)],t(137))}fetchStream(t){const e=vh,{flvVodDecoder:s}=this[e(133)];this[e(133)][e(131)].streamStart=Je(),s.loadSource(t)[e(144)]((()=>{const t=e;this[t(133)][t(143)](this[t(146)],"loadSource success"),this[t(147)](O[t(149)])})).catch((t=>{const s=e;this[s(147)](V[s(136)],t)}))}[Ah(142)](){return h.flvVod}getStreamBufferByteLength(){return 0}}const Eh=wh;function wh(t,e){const s=Th();return(wh=function(t,e){return s[t-=424]})(t,e)}function Th(){const t=["2823531aCmKPw","webrtc","2LFYhDv","aliyunRtc","162ojPVWX","4473490DEfwJj","2025540IDEbHs","12396654nDuomf","playVod","playerAudio","hls","1078522PPlWad","61585rjLvZy","16rHKlsH","63158750bcQsir","getLoaderFactory","fetch","player","_opt"];return(Th=function(){return t})()}!function(t,e){const s=wh,i=t();for(;;)try{if(801686===-parseInt(s(435))/1*(parseInt(s(425))/2)+-parseInt(s(433))/3+-parseInt(s(439))/4+parseInt(s(426))/5*(-parseInt(s(437))/6)+-parseInt(s(438))/7*(parseInt(s(427))/8)+-parseInt(s(440))/9+parseInt(s(428))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Th);class Ih{constructor(t){const e=wh;return new(Ih[e(429)](t[e(432)]))(t)}static[Eh(429)](t){const e=Eh,{protocol:s,useWasm:i,playType:r,useWCS:n,useMSE:a,demuxUseWorker:h,mainThreadFetchUseWorker:c,isFmp4:d,isFlv:u,isUseFileProtocol:p,useMThreading:f}=t;return Fi()?yh:r===l[e(441)]&&d?ph:r===l.playVod&&u?Sh:s===o[e(424)]?qa:s===o[e(434)]?Xa:s===o.webTransport?eh:s===o[e(436)]?lh:s===o[e(430)]?r===l[e(442)]?nh:r===l[e(431)]?i&&!ri(t)?p?Ca:nh:h?nh:c?Ma:Ca:n||a?h?nh:c?Ma:Ca:p?Ca:nh:s===o.websocket?r===l.playerAudio?nh:r===l.player?i&&!ri(t)?p?Oa:nh:h?nh:c?Ga:Oa:n||a?h?nh:c?Ga:Oa:p?Oa:nh:void 0}}function kh(t,e){var s=Rh();return(kh=function(t,e){return s[t-=355]})(t,e)}var _h=kh;!function(t,e){for(var s=kh,i=t();;)try{if(306753===-parseInt(s(787))/1+-parseInt(s(816))/2*(-parseInt(s(414))/3)+parseInt(s(696))/4*(parseInt(s(586))/5)+-parseInt(s(852))/6*(parseInt(s(509))/7)+-parseInt(s(963))/8+-parseInt(s(653))/9*(parseInt(s(478))/10)+-parseInt(s(1120))/11*(parseInt(s(1130))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Rh);var Ch=ne[_h(639)]((function(t,e){!function(e){var s=kh;s(358)==s(358)?t[s(1127)]=e():"undefined"===s(429)&&(void 0)[s(1057)]?(void 0)([],e):(typeof window!==s(585)?window:typeof se!==s(585)?ne[s(613)]:"undefined"!=typeof self?self:this)[s(436)]=e()}((function(){return function t(e,s,i){var r=kh;function n(r,a){var h=kh;if(!s[r]){if(!e[r]){var l=h(429)==typeof ne[h(768)]&&ne[h(768)];if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c[h(839)]=h(609),c}var d=s[r]={exports:{}};e[r][0][h(471)](d[h(1127)],(function(t){return n(e[r][1][t]||t)}),d,d[h(1127)],t,e,s,i)}return s[r][h(1127)]}for(var o="function"==r(429)&&ne[r(768)],a=0;a<i[r(779)];a++)n(i[a]);return n}({1:[function(t,e,s){var i=kh;Object[i(379)](s,i(943),{value:!0});var r,n,o,a=t(i(923)),h=t(i(837)),l=t(i(923)),c=t(i(1109))[i(708)];n=r||(r={}),o=i,n[n.STATE_TAG=1]="STATE_TAG",n[n[o(871)]=2]=o(871),n[n.STATE_CONTENT=3]=o(456);var d=function(){var t=i;function e(){var t=kh;this[t(676)]=new(a[t(671)])(0),this._tag_stack=[],this[t(460)]=r[t(446)],this[t(1145)]=0,this[t(670)]=0,this[t(1160)]=c,this[t(367)]=[]}return e.prototype[t(643)]=function(e){var s=t;this[s(516)](e);var i=this[s(367)];return this[s(367)]=[],i},e[t(1125)][t(516)]=function(e){var s=t;for(this[s(676)]=l[s(802)]([this[s(676)],new(a[s(671)])(e)]);this[s(1145)]<this[s(676)][s(779)]&&(this[s(460)]!==r[s(446)]||this.readTag())&&(this[s(460)]!==r.STATE_SIZE||this[s(1112)]())&&(this[s(460)]!==r[s(456)]||this.readContent()););},e[t(1125)].getSchemaInfo=function(e){var s=t;return this[s(1160)][e]||{name:s(996),level:-1,type:s(996),description:s(996)}},e[t(1125)][t(764)]=function(){var e=t;if(this[e(1145)]>=this[e(676)][e(779)])return!1;var s=a[e(428)](this[e(676)],this[e(1145)]);if(null==s)return!1;var i=this[e(676)][e(361)](this[e(1145)],this[e(1145)]+s[e(779)]).reduce((function(t,s,i,r){var n=e;return t+s*Math[n(451)](16,2*(r[n(779)]-1-i))}),0),n=this.getSchemaInfo(i),o={EBML_ID:i[e(432)](16),schema:n,type:n[e(1098)],name:n[e(518)],level:n[e(791)],tagStart:this[e(670)],tagEnd:this[e(670)]+s.length,sizeStart:this[e(670)]+s[e(779)],sizeEnd:null,dataStart:null,dataEnd:null,dataSize:null,data:null};return this[e(788)][e(526)](o),this[e(1145)]+=s[e(779)],this._total+=s[e(779)],this[e(460)]=r[e(871)],!0},e[t(1125)][t(1112)]=function(){var e=t;if(this[e(1145)]>=this[e(676)][e(779)])return!1;var s=a[e(428)](this[e(676)],this._cursor);if(null==s)return!1;var i=this._tag_stack[this[e(788)].length-1];return i.sizeEnd=i[e(562)]+s[e(779)],i.dataStart=i[e(1047)],i[e(982)]=s[e(767)],-1===s[e(767)]?(i[e(554)]=-1,"m"===i[e(1098)]&&(i[e(404)]=!0)):i[e(554)]=i[e(1047)]+s.value,this[e(1145)]+=s.length,this._total+=s[e(779)],this[e(460)]=r[e(456)],!0},e.prototype[t(840)]=function(){var e=t,s=this[e(788)][this[e(788)].length-1];if("m"===s[e(1098)]){if(s[e(355)]=!1,this[e(367)].push(s),this._state=r.STATE_TAG,0===s[e(982)]){var i=Object[e(441)]({},s,{isEnd:!0});this[e(367)][e(526)](i),this._tag_stack[e(659)]()}return!0}if(this[e(676)][e(779)]<this._cursor+s[e(982)])return!1;var n=this[e(676)].slice(this[e(1145)],this[e(1145)]+s[e(982)]);switch(this[e(676)]=this[e(676)].slice(this[e(1145)]+s[e(982)]),s[e(966)]=n,s[e(1098)]){case"u":s[e(767)]=n[e(784)](0,n[e(779)]);break;case"i":s[e(767)]=n[e(647)](0,n.length);break;case"f":s[e(767)]=4===s[e(982)]?n[e(726)](0):8===s[e(982)]?n.readDoubleBE(0):(console[e(382)](e(620)+s[e(982)]+e(925)),0);break;case"s":s[e(767)]=n[e(432)](e(665));break;case"8":s[e(767)]=n[e(432)](e(836));break;case"b":s[e(767)]=n;break;case"d":s[e(767)]=a[e(482)](new(h[e(909)])(n)[e(655)]())}if(null===s.value)throw new Error(e(680)+s[e(1098)]);for(this[e(367)].push(s),this[e(670)]+=s[e(982)],this[e(460)]=r.STATE_TAG,this[e(1145)]=0,this._tag_stack[e(659)]();this._tag_stack[e(779)]>0;){var o=this[e(788)][this[e(788)][e(779)]-1];if(o.dataEnd<0)return this._tag_stack.pop(),!0;if(this[e(670)]<o.dataEnd)break;if("m"!==o[e(1098)])throw new Error(e(827));i=Object.assign({},o,{isEnd:!0});this[e(367)][e(526)](i),this[e(788)].pop()}return!0},e}();s[i(470)]=d},{"./tools":5,"int64-buffer":15,"matroska/lib/schema":17}],2:[function(t,e,s){var i=kh;Object[i(379)](s,i(943),{value:!0});var r=t("./tools"),n=t(i(923)),o=t(i(1109))[i(708)],a=function(){var t=i;function e(){var t=kh;this[t(1160)]=o,this._buffers=[],this[t(449)]=[]}return e[t(1125)].encode=function(e){var s=t,i=this;return r[s(802)](e.reduce((function(t,e){var r=s;return t.concat(i[r(686)](e))}),[]))[s(371)]},e[t(1125)].encodeChunk=function(e){var s=t;return"m"===e[s(1098)]?e[s(355)]?this[s(991)](e):this[s(907)](e):this[s(362)](e),this[s(1139)]()},e[t(1125)].flush=function(){var e=t,s=this[e(1092)];return this[e(1092)]=[],s},e[t(1125)][t(363)]=function(e){for(var s=t,i=Object[s(958)](this[s(1160)])[s(632)](Number),r=0;r<i[s(779)];r++){var o=i[r];if(this[s(1160)][o][s(518)]===e)return new(n[s(671)])(o[s(432)](16),"hex")}return null},e[t(1125)][t(362)]=function(e){var s=t,i=e[s(518)],n=this[s(363)](i),o=e[s(966)];if(null==n)throw new Error(s(867)+i);var a=r[s(611)](n,o);this._stack.length>0?this[s(449)][this[s(449)][s(779)]-1][s(1159)][s(526)]({tagId:n,elm:e,children:[],data:a}):this._buffers=this[s(1092)][s(802)](a)},e[t(1125)].startTag=function(e){var s=t,i=e[s(518)],o=this[s(363)](i);if(null==o)throw new Error("No schema entry found for "+i);if(e[s(404)]){var a=r[s(611)](o,new(n[s(671)])(0),e[s(404)]);this[s(1092)]=this[s(1092)][s(802)](a)}else{var h={tagId:o,elm:e,children:[],data:null};this._stack.length>0&&this[s(449)][this[s(449)][s(779)]-1][s(1159)][s(526)](h),this[s(449)].push(h)}},e[t(1125)][t(991)]=function(e){var s=t;e[s(518)];var i=this._stack[s(659)]();if(null==i)throw new Error(s(644));if(i[s(792)][s(518)]!==e[s(518)])throw new Error("EBML structure is broken");var n=i.children[s(1049)]((function(t,e){if(null===e[s(966)])throw new Error("EBML structure is broken");return t.concat(e.data)}),[]),o=r[s(802)](n);"m"===i.elm[s(1098)]?i[s(966)]=r.encodeTag(i[s(769)],o,i[s(792)][s(404)]):i[s(966)]=r.encodeTag(i[s(769)],o),this[s(449)][s(779)]<1&&(this[s(1092)]=this[s(1092)][s(802)](i[s(966)]))},e}();s[i(470)]=a},{"./tools":5,"matroska/lib/schema":17}],3:[function(t,e,s){var i,r,n=kh,o=this&&this[n(895)]||(i=n,r=Object[i(1059)]||{__proto__:[]}instanceof Array&&function(t,e){t[i(815)]=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},function(t,e){var s=i;function n(){this[kh(550)]=t}r(t,e),t[s(1125)]=null===e?Object.create(e):(n[s(1125)]=e[s(1125)],new n)});Object[n(379)](s,n(943),{value:!0});var a=t(n(1123)),h=t(n(923)),l=function(t){var e=n;function s(){var e=kh,s=t.call(this)||this;return s[e(398)]="",s[e(1138)]=!1,s[e(530)]=!1,s[e(1014)]=[],s.stack=[],s[e(412)]=0,s[e(445)]=[0,0],s[e(373)]=[0,0],s[e(543)]=0,s.lastClusterPosition=0,s[e(652)]=1e6,s[e(1107)]=0,s[e(493)]=[],s[e(1008)]=[],s.firstVideoBlockRead=!1,s[e(617)]=!1,s[e(811)]={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null},s.trackTypes=[],s[e(638)]=[],s[e(1006)]=[],s[e(395)]={type:e(405)},s[e(890)]=!1,s[e(1110)]=!1,s[e(455)]=!1,s[e(626)]=!1,s[e(669)]=!0,s[e(599)]=!0,s}return o(s,t),s.prototype[e(442)]=function(){var t=e;for(this[t(890)]=!0,this[t(612)]();this[t(532)].length;)this[t(532)][t(659)](),this[t(1110)]&&console.groupEnd();this[t(1110)]&&this[t(1138)]&&this[t(398)]&&console[t(1056)]()},s.prototype[e(612)]=function(){var t=e,s=this.chunks;if(this.chunks=[],this[t(530)]){if(!this[t(669)])return;var i=this[t(543)],r=this.duration,n=this[t(652)];this[t(1137)](t(498),{timecode:i,data:s}),this[t(1137)]("duration",{timecodeScale:n,duration:r})}else{this[t(530)]=!0,this[t(493)]=s;var o=this[t(435)][t(905)](1),a=this.trackTypes[t(905)](2);if(this.trackInfo=o>=0&&a>=0?{type:t(826),trackNumber:o}:o>=0?{type:t(1087),trackNumber:o}:a>=0?{type:"audio",trackNumber:a}:{type:t(405)},!this.use_segment_info)return;this.emit(t(977),{data:s,metadataSize:this[t(1107)]})}},s.prototype[e(682)]=function(t){var s=e,i=this,r=!1;if(!this[s(890)]){if("m"===t.type)if(t.isEnd)this[s(532)][s(659)]();else{var n=this[s(532)][this.stack[s(779)]-1];if(null!=n&&n.level>=t[s(791)]){this.stack[s(659)](),this[s(1110)]&&console[s(1056)](),n[s(554)]=t.dataEnd,n[s(982)]=t.dataEnd-n[s(1071)],n[s(404)]=!1;var o=Object[s(441)]({},n,{name:n[s(518)],type:n[s(1098)],isEnd:!0});this.chunks[s(526)](o)}this.stack.push(t)}if("m"===t.type&&t.name==s(934))0!=this[s(412)]&&console[s(382)](s(648)),this[s(412)]=t[s(1071)],this[s(1137)](s(989),this.segmentOffset);else if("b"===t[s(1098)]&&t[s(518)]===s(1073)){var a=h[s(704)](t[s(966)]),l=a[s(459)],c=a[s(1037)],d=a[s(540)];if(1===this[s(435)][c]){if(!this[s(713)]&&(this.firstVideoBlockRead=!0,"both"===this[s(395)].type||this[s(395)][s(1098)]===s(1087))){var u=this[s(543)]+l;this[s(1008)][s(526)]({CueTrack:c,CueClusterPosition:this[s(437)],CueTime:u}),this[s(1137)]("cue_info",{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:this.lastClusterTimecode}),this[s(1137)](s(776),{CueTrack:c,CueClusterPosition:this[s(437)],CueTime:u})}this[s(445)]=[this[s(445)][1],l]}else if(2===this.trackTypes[c]){if(!this[s(617)]&&(this[s(617)]=!0,this[s(395)][s(1098)]===s(785))){u=this[s(543)]+l;this.cues.push({CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:u}),this.emit(s(732),{CueTrack:c,CueClusterPosition:this[s(437)],CueTime:this.lastClusterTimecode}),this[s(1137)](s(776),{CueTrack:c,CueClusterPosition:this.lastClusterPosition,CueTime:u})}this[s(373)]=[this[s(373)][1],l]}this.use_duration_every_simpleblock&&this[s(1137)]("duration",{timecodeScale:this[s(652)],duration:this[s(458)]}),this[s(626)]&&d[s(777)]((function(t){var e=s;if(t[e(361)](3,6)[e(432)](e(774))===e(746)){var r=h[e(637)](t),n=new Blob([r],{type:e(590)}),o=i.duration;i[e(1137)](e(975),{currentTime:o,webp:n})}}))}else"m"===t[s(1098)]&&t[s(518)]===s(651)&&!1===t.isEnd?(this[s(713)]=!1,this[s(617)]=!1,this[s(612)](),this[s(1137)](s(1054),t[s(990)]),this[s(437)]=t[s(990)]):"u"===t[s(1098)]&&t[s(518)]===s(523)?this[s(543)]=t[s(767)]:"u"===t[s(1098)]&&t[s(518)]===s(628)?this[s(652)]=t.value:"m"===t[s(1098)]&&t[s(518)]===s(450)?t.isEnd?(this[s(435)][this[s(811)].TrackNumber]=this[s(811)][s(1135)],this[s(638)][this[s(811)].TrackNumber]=this[s(811)][s(1055)],this[s(1006)][this[s(811)][s(1043)]]=this[s(811)][s(760)]):this[s(811)]={TrackNumber:-1,TrackType:-1,DefaultDuration:null,CodecDelay:null}:"u"===t[s(1098)]&&t[s(518)]===s(1135)?this[s(811)].TrackType=t[s(767)]:"u"===t[s(1098)]&&"TrackNumber"===t[s(518)]?this[s(811)][s(1043)]=t[s(767)]:"u"===t[s(1098)]&&t[s(518)]===s(760)?this[s(811)][s(760)]=t[s(767)]:"u"===t.type&&t[s(518)]===s(1055)?this[s(599)]?(console[s(382)](s(870)),r=!0):this[s(811)][s(1055)]=t[s(767)]:t[s(518)]===s(996)&&console[s(382)](t);!this[s(530)]&&t.dataEnd>0&&(this[s(1107)]=t[s(554)]),!r&&this[s(1014)][s(526)](t),this[s(1110)]&&this[s(735)](t)}},Object[e(379)](s.prototype,e(458),{get:function(){var t=e;if(this[t(395)][t(1098)]===t(405))return console[t(382)]("no video, no audio track"),0;var s,i=0,r=0,n=0,o=this.trackDefaultDuration[this[t(395)][t(1037)]];typeof o===t(504)?i=o:this.trackInfo.type===t(826)?this.last2SimpleBlockAudioTrackTimecode[1]>this.last2SimpleBlockVideoTrackTimecode[1]?(i=(this.last2SimpleBlockAudioTrackTimecode[1]-this[t(373)][0])*this[t(652)],typeof(s=this[t(1006)][this[t(435)][t(905)](2)])===t(504)&&(r=s),n=this[t(373)][1]):(i=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this[t(652)],typeof(s=this[t(1006)][this[t(435)][t(905)](1)])===t(504)&&(r=s),n=this.last2SimpleBlockVideoTrackTimecode[1]):this.trackInfo[t(1098)]===t(1087)?(i=(this.last2SimpleBlockVideoTrackTimecode[1]-this.last2SimpleBlockVideoTrackTimecode[0])*this[t(652)],typeof(s=this[t(1006)][this[t(395)][t(1037)]])===t(504)&&(r=s),n=this[t(445)][1]):"audio"===this.trackInfo[t(1098)]&&(i=(this[t(373)][1]-this[t(373)][0])*this[t(652)],typeof(s=this[t(1006)][this.trackInfo[t(1037)]])===t(504)&&(r=s),n=this[t(373)][1]);var a=((this[t(543)]+n)*this[t(652)]+i-r)/this.timecodeScale;return Math[t(356)](a)},enumerable:!0,configurable:!0}),s[e(1125)].addListener=function(s,i){var r=e;return t[r(1125)].addListener[r(471)](this,s,i)},s[e(1125)].put=function(t){var s=e;!this[s(1138)]&&(this[s(1138)]=!0,this.logging&&this[s(398)]&&console[s(1158)](this.logGroup)),"m"===t.type?t[s(355)]?console.groupEnd():console.group(t[s(518)]+":"+t[s(990)]):"b"===t.type?console.log(t[s(518)],t[s(1098)]):console.log(t[s(518)],t[s(990)],t[s(1098)],t[s(767)])},s}(a[n(921)]);s.default=l},{"./tools":5,events:13}],4:[function(t,e,s){var i=kh;Object.defineProperty(s,"__esModule",{value:!0});var r=t(i(396));s.Decoder=r.default;var n=t("./EBMLEncoder");s[i(1064)]=n[i(470)];var o=t(i(862));s[i(1094)]=o[i(470)];var a=t(i(923));s[i(494)]=a;var h=t(i(995))[i(634)];s[i(634)]=h},{"../package.json":18,"./EBMLDecoder":1,"./EBMLEncoder":2,"./EBMLReader":3,"./tools":5}],5:[function(t,e,s){var i=kh;Object[i(379)](s,i(943),{value:!0});var r=t(i(837)),n=t(i(881)),o=t(i(1099)),a=t(i(489)),h=t("ebml-block");function l(t){var e=i;return t[e(1049)]((function(t,i){var r=e;return"b"!==i.type||i[r(518)]!==r(1073)?t:s.ebmlBlock(i[r(966)])[r(540)][r(705)]((function(t){var e=r;return t[e(361)](3,6)[e(432)](e(774))===e(746)}))?t.concat(i):t}),[])}function c(t){var e=i,r=d("VP8 ",t),n=y([new s.Buffer(e(640),e(665)),r]);return d(e(465),n)}function d(t,e){var r=i,n=new(s[r(671)])(4);return n[r(488)](e.byteLength,0),y([new(s[r(671)])(t[r(534)](0,4),r(665)),n,e,new(s[r(671)])(e[r(1118)]%2==0?0:1)])}function u(t,e){for(var s=i,r=-1,n=0;n<e[s(779)];n++){var o=e[n];if(o[s(518)]===t){if("m"!==o[s(1098)])return void e[s(1026)](n,1);if(o[s(355)]){if(-1==r)throw new Error(s(569)+t+" closing element before finding the start");return void e[s(1026)](r,n-r+1)}r=n}}}function p(t,e){for(var s=i,r=[],n=-1,o=0;o<e.length;o++){var a=e[o];if(a.name===t){if("m"!==a[s(1098)]){r[s(526)](e[o]);break}if(a.isEnd){if(-1==n)throw new Error(s(569)+t+s(869));r=e[s(361)](n,o+1);break}n=o}}return r}function f(t){var e=i,s=new(n[e(470)]);return t[e(1049)]((function(t,i){return t[e(802)](s.encode([i]))}),[])[e(1049)]((function(t,s){return t+s[e(1118)]}),0)}function m(t,e,r){var n,o,a=i,h=r[a(458)],l=r[a(424)],c=r[a(1008)],d=t[a(361)](0);if(typeof h===a(504)){var u=!1;d[a(777)]((function(t){var e=a;"f"===t.type&&t[e(518)]===e(915)&&(u=!0,t[e(966)]=b(h,8))})),!u&&g(d,a(677),[{name:a(915),type:"f",data:b(h,8)}])}Array[a(542)](c)&&g(d,a(961),(n=e,o=[],c.forEach((function(t){var e=kh,s=t[e(983)],i=t.CueClusterPosition,r=t[e(447)];o.push({name:"CuePoint",type:"m",isEnd:!1}),o.push({name:"CueTime",type:"u",data:A(r)}),o[e(526)]({name:e(1020),type:"m",isEnd:!1}),o[e(526)]({name:e(983),type:"u",data:A(s)}),o.push({name:"CueClusterPosition",type:"u",data:A(i+n)}),o[e(526)]({name:e(1020),type:"m",isEnd:!0}),o[e(526)]({name:"CuePoint",type:"m",isEnd:!0})})),o));var p,f,m=[];return Array[a(542)](l)&&(console.warn(a(883)),p=e,f=[],l.forEach((function(t){var e=kh;f.push({name:e(712),type:"m",isEnd:!1}),f[e(526)]({name:e(1086),type:"b",data:new s.Buffer([31,67,182,117])}),f[e(526)]({name:e(759),type:"u",data:A(t+p)}),f[e(526)]({name:"Seek",type:"m",isEnd:!0})})),m=f),g(d,a(556),m,!0),d}function g(t,e,s,r){var n=i;void 0===r&&(r=!1);for(var o=-1,a=0;a<t.length;a++){var h=t[a];if("m"===h[n(1098)]&&h[n(518)]===e&&!1===h[n(355)]){o=a;break}}o>=0?Array[n(1125)][n(1026)].apply(t,[o+1,0][n(802)](s)):r?[][n(802)]([{name:e,type:"m",isEnd:!1}],s,[{name:e,type:"m",isEnd:!0}])[n(832)]().forEach((function(e){t[n(448)](e)})):(t[n(526)]({name:e,type:"m",isEnd:!1}),s.forEach((function(e){t[n(526)](e)})),t[n(526)]({name:e,type:"m",isEnd:!0}))}function y(t){for(var e=i,r=0,n=0;r<t[e(779)];++r)n+=t[r].length;var o=s[e(671)][e(886)](n),a=0;for(r=0;r<t[e(779)];++r){var h=t[r];h[e(1031)](o,a),a+=h.length}return o}function A(t){for(var e=i,n=1;t>=Math[e(451)](2,8*n);n++);if(n>=7)return console.warn("7bit or more bigger uint not supported."),new r.Uint64BE(t)[e(397)]();var o=new(s[e(671)])(n);return o.writeUIntBE(t,0,n),o}function v(t){for(var e=i,n=1;t>=Math[e(451)](2,8*n);n++);if(n>=7)return console[e(382)](e(1074)),new(r[e(909)])(t)[e(397)]();var o=new(s[e(671)])(n);return o[e(725)](t,0,n),o}function b(t,e){var r,n=i;if(void 0===e&&(e=8),8===e)return(r=new(s[n(671)])(8))[n(956)](t,0),r;if(4===e)return(r=new(s[n(671)])(4))[n(948)](t,0),r;throw new Error(n(749))}s.Buffer=o[i(671)],s.readVint=a[i(428)],s[i(536)]=a.writeVint,s.ebmlBlock=h,s[i(812)]=function(t){var e=i;return s.ebmlBlock(new(s[e(671)])(t))},s[i(611)]=function(t,e,r){var n=i;return void 0===r&&(r=!1),y([t,r?new(s[n(671)])(n(753),"hex"):s[n(536)](e.length),e])},s[i(615)]=function(t){var e=i;return l(t)[e(1049)]((function(t,i){var r=e;return s[r(704)](i[r(966)])[r(540)].reduce((function(t,e){var s=r,i=c(e),n=new Blob([i],{type:s(590)});return t[s(802)](n)}),t)}),[])},s[i(1171)]=l,s.VP8BitStreamToRiffWebPBuffer=c,s[i(897)]=d,s[i(711)]=function(t,e,r){var o=i,a=p(o(436),t),h=f(a)+12,l=t[t.length-1][o(554)]-h,c=p(o(677),t);u(o(915),c),c[o(1026)](1,0,{name:o(915),type:"f",data:b(e,8)});for(var d=f(c),m=p(o(739),t),g=f(m),y=47,v=[],S=5+15*r[o(779)],E=[],w=-1,T=function(t){var e=o,i=y,n=i+d,a=n+g,c=a+S-l;if((v=[])[e(526)]({name:e(556),type:"m",isEnd:!1}),v.push({name:e(712),type:"m",isEnd:!1}),v[e(526)]({name:"SeekID",type:"b",data:new(s[e(671)])([21,73,169,102])}),v.push({name:e(759),type:"u",data:A(i)}),v.push({name:e(712),type:"m",isEnd:!0}),v.push({name:"Seek",type:"m",isEnd:!1}),v.push({name:e(1086),type:"b",data:new(s[e(671)])([22,84,174,107])}),v[e(526)]({name:e(759),type:"u",data:A(n)}),v[e(526)]({name:"Seek",type:"m",isEnd:!0}),v.push({name:"Seek",type:"m",isEnd:!1}),v[e(526)]({name:"SeekID",type:"b",data:new(s[e(671)])([28,83,187,107])}),v.push({name:e(759),type:"u",data:A(a)}),v[e(526)]({name:e(712),type:"m",isEnd:!0}),v.push({name:e(556),type:"m",isEnd:!0}),y=f(v),(E=[])[e(526)]({name:"Cues",type:"m",isEnd:!1}),r.forEach((function(t){var s=e,i=t.CueTrack,r=t.CueClusterPosition,n=t[s(447)];E[s(526)]({name:s(1142),type:"m",isEnd:!1}),E[s(526)]({name:"CueTime",type:"u",data:A(n)}),E[s(526)]({name:s(1020),type:"m",isEnd:!1}),E[s(526)]({name:s(983),type:"u",data:A(i)}),r-=h,r+=c,E[s(526)]({name:s(781),type:"u",data:A(r)}),E[s(526)]({name:s(1020),type:"m",isEnd:!0}),E.push({name:s(1142),type:"m",isEnd:!0})})),E[e(526)]({name:e(961),type:"m",isEnd:!0}),S=f(E),w===c)return"break";if(w=c,9===t)throw new Error("Failed to converge to a stable metadata size")},I=0;I<10;I++){if(T(I)===o(385))break}var k=[][o(802)][o(1068)]([],[a,{name:o(934),type:"m",isEnd:!1,unknownSize:!0},v,c,m,E]);return(new n.default)[o(545)](k)},s[i(1155)]=u,s[i(1035)]=p,s.putRefinedMetaData=function(t,e){var r=i;Array[r(542)](e.cueInfos)&&!Array.isArray(e.cues)&&(console[r(382)](r(1153)),e.cues=e[r(408)]);for(var o=[],a=[],h=0;h<t[r(779)];h++){var l=t[h];if("m"===l[r(1098)]&&l[r(518)]===r(934)){if(o=t[r(361)](0,h),a=t[r(361)](h),l[r(404)]){a[r(1001)]();break}throw new Error("this metadata is not streaming webm file")}}if(!(a[a.length-1][r(554)]>0))throw new Error(r(737));var c=a[a[r(779)]-1][r(554)],d=o[o[r(779)]-1].dataEnd,u=(new(n[r(470)]))[r(545)](o)[r(1118)]-d,p=c-a[0][r(990)];a[0][r(990)],a[0].tagStart;var f,g=new s.Buffer([24,83,128,103]),y=new(s[r(671)])(r(753),"hex"),A=g.byteLength+y[r(1118)],v=p;for(f=1;f<20;f++){var b=m(a,u+(d+A+v-c),e),S=(new(n[r(470)]))[r(545)](b)[r(1118)];if(S===v)return(new n.default).encode([][r(802)](o,[{type:"m",name:r(934),isEnd:!1,unknownSize:!0}],b));v=S}throw new Error("unable to refine metadata, stable size could not be found in "+f+r(541))},s[i(802)]=y,s.encodeValueToBuffer=function(t){var e=i,n=new(s[e(671)])(0);if("m"===t[e(1098)])return t;switch(t[e(1098)]){case"u":n=A(t[e(767)]);break;case"i":n=v(t[e(767)]);break;case"f":n=b(t[e(767)]);break;case"s":n=new(s[e(671)])(t[e(767)],e(665));break;case"8":n=new(s[e(671)])(t[e(767)],e(836));break;case"b":n=t[e(767)];break;case"d":n=new(r[e(909)])(t[e(767)][e(1097)]().toString())[e(397)]()}return Object.assign({},t,{data:n})},s[i(861)]=A,s[i(492)]=v,s[i(1011)]=b,s[i(482)]=function(t){var e=i;return t instanceof Date?t:new Date(new Date(e(434))[e(1097)]()+Number(t)/1e3/1e3)}},{"./EBMLEncoder":2,"buffer/":8,"ebml-block":9,"ebml/lib/ebml/tools":12,"int64-buffer":15}],6:[function(t,e,s){var i=kh;s[i(1118)]=function(t){var e=c(t),s=e[0],i=e[1];return 3*(s+i)/4-i},s[i(700)]=function(t){for(var e,s=i,r=c(t),a=r[0],h=r[1],l=new o((f=a,m=h,3*(f+m)/4-m)),d=0,u=h>0?a-4:a,p=0;p<u;p+=4)e=n[t[s(473)](p)]<<18|n[t.charCodeAt(p+1)]<<12|n[t.charCodeAt(p+2)]<<6|n[t[s(473)](p+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;var f,m;return 2===h&&(e=n[t.charCodeAt(p)]<<2|n[t[s(473)](p+1)]>>4,l[d++]=255&e),1===h&&(e=n[t[s(473)](p)]<<10|n[t[s(473)](p+1)]<<4|n[t[s(473)](p+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e),l},s[i(664)]=function(t){for(var e,s=i,n=t[s(779)],o=n%3,a=[],h=16383,l=0,c=n-o;l<c;l+=h)a[s(526)](d(t,l,l+h>c?c:l+h));1===o?(e=t[n-1],a[s(526)](r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return a[s(462)]("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a=i(528),h=0,l=a[i(779)];h<l;++h)r[h]=a[h],n[a[i(473)](h)]=h;function c(t){var e=i,s=t[e(779)];if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t[e(905)]("=");return-1===r&&(r=s),[r,r===s?0:4-r%4]}function d(t,e,s){for(var n,o,a=i,h=[],l=e;l<s;l+=3)n=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),h.push(r[(o=n)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return h[a(462)]("")}n["-"[i(473)](0)]=62,n["_"[i(473)](0)]=63},{}],7:[function(t,e,s){var i=kh;(function(e){var i=kh,r=t(i(773)),n=t(i(810)),o=t(i(846));function a(){return l[i(807)]?2147483647:1073741823}function h(t,e){var s=i;if(a()<e)throw new RangeError(s(941));return l[s(807)]?(t=new Uint8Array(e))[s(815)]=l[s(1125)]:(null===t&&(t=new l(e)),t[s(779)]=e),t}function l(t,e,s){var r=i;if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,s);if(typeof t===r(504)){if(typeof e===r(430))throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return c(this,t,e,s)}function c(t,e,s,r){var n=i;if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!==n(585)&&e instanceof ArrayBuffer?function(t,e,s,r){var n=i;if(e.byteLength,s<0||e[n(1118)]<s)throw new RangeError(n(747));if(e[n(1118)]<s+(r||0))throw new RangeError(n(754));e=void 0===s&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,s):new Uint8Array(e,s,r);return l[n(807)]?(t=e)[n(815)]=l.prototype:t=p(t,e),t}(t,e,s,r):typeof e===n(430)?function(t,e,s){var r=i;if(("string"!=typeof s||""===s)&&(s=r(836)),!l.isEncoding(s))throw new TypeError(r(661));var n=0|m(e,s),o=(t=h(t,n))[r(912)](e,s);return o!==n&&(t=t[r(361)](0,o)),t}(t,e,s):function(t,e){var s=i;if(l[s(422)](e)){var r=0|f(e[s(779)]);return 0===(t=h(t,r))[s(779)]||e[s(1031)](t,0,0,r),t}if(e){if(typeof ArrayBuffer!==s(585)&&e.buffer instanceof ArrayBuffer||s(779)in e)return"number"!=typeof e[s(779)]||(n=e[s(779)])!=n?h(t,0):p(t,e);if(e[s(1098)]===s(671)&&o(e[s(966)]))return p(t,e[s(966)])}var n;throw new TypeError(s(364))}(t,e)}function d(t){var e=i;if(typeof t!==e(504))throw new TypeError(e(627));if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(d(e),t=h(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var s=0;s<e;++s)t[s]=0;return t}function p(t,e){var s=i,r=e[s(779)]<0?0:0|f(e[s(779)]);t=h(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t){var e=i;if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum "+e(377)+a()[e(432)](16)+e(571));return 0|t}function m(t,e){var s=i;if(l[s(422)](t))return t.length;if(typeof ArrayBuffer!==s(585)&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer[s(1018)](t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t[s(779)];if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case s(592):return r;case s(836):case s(1168):case void 0:return N(t)[s(779)];case"ucs2":case s(1149):case s(889):case s(411):return 2*r;case s(774):return r>>>1;case s(858):return j(t)[s(779)];default:if(n)return N(t)[s(779)];e=(""+e)[s(863)](),n=!0}}function g(t,e,s){var n,o,a,h,l=i,c=!1;if((void 0===e||e<0)&&(e=0),e>this[l(779)])return"";if((void 0===s||s>this[l(779)])&&(s=this.length),s<=0)return"";if((s>>>=0)<=(e>>>=0))return"";for(t||(t=l(836));;)switch(t){case l(774):return _(this,e,s);case l(836):case l(1168):return w(this,e,s);case l(665):return I(this,e,s);case l(949):case l(592):return k(this,e,s);case"base64":return n=this,a=s,h=void 0,h=i,0===(o=e)&&a===n[h(779)]?r[h(664)](n):r.fromByteArray(n.slice(o,a));case"ucs2":case l(1149):case l(889):case"utf-16le":return C(this,e,s);default:if(c)throw new TypeError(l(619)+t);t=(t+"")[l(863)](),c=!0}}function y(t,e,s){var i=t[e];t[e]=t[s],t[s]=i}function A(t,e,s,r,n){var o=i;if(0===t[o(779)])return-1;if(typeof s===o(430)?(r=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=n?0:t[o(779)]-1),s<0&&(s=t[o(779)]+s),s>=t.length){if(n)return-1;s=t[o(779)]-1}else if(s<0){if(!n)return-1;s=0}if(typeof e===o(430)&&(e=l[o(538)](e,r)),l[o(422)](e))return 0===e.length?-1:v(t,e,s,r,n);if(typeof e===o(504))return e&=255,l[o(807)]&&typeof Uint8Array[o(1125)][o(905)]===o(429)?n?Uint8Array[o(1125)].indexOf[o(471)](t,e,s):Uint8Array[o(1125)][o(819)][o(471)](t,e,s):v(t,[e],s,r,n);throw new TypeError(o(507))}function v(t,e,s,r,n){var o,a=i,h=1,l=t[a(779)],c=e.length;if(void 0!==r&&((r=String(r)[a(863)]())===a(748)||r===a(1149)||r===a(889)||r===a(411))){if(t.length<2||e[a(779)]<2)return-1;h=2,l/=2,c/=2,s/=2}function d(t,e){var s=a;return 1===h?t[e]:t[s(908)](e*h)}if(n){var u=-1;for(o=s;o<l;o++)if(d(t,o)===d(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*h}else-1!==u&&(o-=o-u),u=-1}else for(s+c>l&&(s=l-c),o=s;o>=0;o--){for(var p=!0,f=0;f<c;f++)if(d(t,o+f)!==d(e,f)){p=!1;break}if(p)return o}return-1}function b(t,e,s,r){var n=i;s=Number(s)||0;var o=t[n(779)]-s;r?(r=Number(r))>o&&(r=o):r=o;var a=e[n(779)];if(a%2!=0)throw new TypeError(n(495));r>a/2&&(r=a/2);for(var h=0;h<r;++h){var l=parseInt(e[n(534)](2*h,2),16);if(isNaN(l))return h;t[s+h]=l}return h}function S(t,e,s,r){return V(function(t){for(var e=i,s=[],r=0;r<t.length;++r)s[e(526)](255&t[e(473)](r));return s}(e),t,s,r)}function E(t,e,s,r){return V(function(t,e){for(var s,r,n,o=i,a=[],h=0;h<t.length&&!((e-=2)<0);++h)r=(s=t.charCodeAt(h))>>8,n=s%256,a[o(526)](n),a.push(r);return a}(e,t.length-s),t,s,r)}function w(t,e,s){var r=i;s=Math[r(602)](t[r(779)],s);for(var n=[],o=e;o<s;){var a,h,l,c,d=t[o],u=null,p=d>239?4:d>223?3:d>191?2:1;if(o+p<=s)switch(p){case 1:d<128&&(u=d);break;case 2:128==(192&(a=t[o+1]))&&((c=(31&d)<<6|63&a)>127&&(u=c));break;case 3:a=t[o+1],h=t[o+2],128==(192&a)&&128==(192&h)&&((c=(15&d)<<12|(63&a)<<6|63&h)>2047&&(c<55296||c>57343)&&(u=c));break;case 4:a=t[o+1],h=t[o+2],l=t[o+3],128==(192&a)&&128==(192&h)&&128==(192&l)&&((c=(15&d)<<18|(63&a)<<12|(63&h)<<6|63&l)>65535&&c<1114112&&(u=c))}null===u?(u=65533,p=1):u>65535&&(u-=65536,n[r(526)](u>>>10&1023|55296),u=56320|1023&u),n[r(526)](u),o+=p}return function(t){var e=i,s=t[e(779)];if(s<=T)return String[e(601)][e(1068)](String,t);var r="",n=0;for(;n<s;)r+=String[e(601)][e(1068)](String,t[e(361)](n,n+=T));return r}(n)}s.Buffer=l,s[i(452)]=function(t){return+t!=t&&(t=0),l.alloc(+t)},s.INSPECT_MAX_BYTES=50,l[i(807)]=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){var t=i;try{var e=new Uint8Array(1);return e[t(815)]={__proto__:Uint8Array[t(1125)],foo:function(){return 42}},42===e[t(1143)]()&&typeof e.subarray===t(429)&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),s[i(987)]=a(),l[i(873)]=8192,l[i(1002)]=function(t){var e=i;return t[e(815)]=l[e(1125)],t},l.from=function(t,e,s){return c(null,t,e,s)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l[i(815)]=Uint8Array,typeof Symbol!==i(585)&&Symbol[i(1072)]&&l[Symbol[i(1072)]]===l&&Object.defineProperty(l,Symbol[i(1072)],{value:null,configurable:!0})),l.alloc=function(t,e,s){return r=null,o=e,a=s,l=i,d(n=t),n<=0?h(r,n):void 0!==o?typeof a===l(430)?h(r,n)[l(660)](o,a):h(r,n).fill(o):h(r,n);var r,n,o,a,l},l[i(886)]=function(t){return u(null,t)},l[i(916)]=function(t){return u(null,t)},l[i(422)]=function(t){return!(null==t||!t[i(744)])},l[i(1162)]=function(t,e){var s=i;if(!l[s(422)](t)||!l[s(422)](e))throw new TypeError(s(1019));if(t===e)return 0;for(var r=t.length,n=e[s(779)],o=0,a=Math[s(602)](r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},l[i(968)]=function(t){var e=i;switch(String(t)[e(863)]()){case e(774):case e(836):case e(1168):case"ascii":case e(949):case e(592):case"base64":case"ucs2":case e(1149):case e(889):case e(411):return!0;default:return!1}},l[i(802)]=function(t,e){var s,r=i;if(!o(t))throw new TypeError(r(891));if(0===t[r(779)])return l[r(820)](0);if(void 0===e)for(e=0,s=0;s<t[r(779)];++s)e+=t[s][r(779)];var n=l[r(886)](e),a=0;for(s=0;s<t[r(779)];++s){var h=t[s];if(!l.isBuffer(h))throw new TypeError(r(891));h[r(1031)](n,a),a+=h[r(779)]}return n},l[i(1118)]=m,l[i(1125)][i(744)]=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},l.prototype.swap32=function(){var t=this[i(779)];if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},l[i(1125)][i(1039)]=function(){var t=i,e=this[t(779)];if(e%8!=0)throw new RangeError(t(900));for(var s=0;s<e;s+=8)y(this,s,s+7),y(this,s+1,s+6),y(this,s+2,s+5),y(this,s+3,s+4);return this},l[i(1125)][i(432)]=function(){var t=i,e=0|this.length;return 0===e?"":0===arguments[t(779)]?w(this,0,e):g[t(1068)](this,arguments)},l.prototype[i(1148)]=function(t){var e=i;if(!l[e(422)](t))throw new TypeError(e(872));return this===t||0===l[e(1162)](this,t)},l[i(1125)][i(402)]=function(){var t=i,e="",r=s.INSPECT_MAX_BYTES;return this[t(779)]>0&&(e=this[t(432)](t(774),0,r)[t(885)](/.{2}/g)[t(462)](" "),this[t(779)]>r&&(e+=" ... ")),"<Buffer "+e+">"},l[i(1125)].compare=function(t,e,s,r,n){var o=i;if(!l[o(422)](t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===s&&(s=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this[o(779)]),e<0||s>t[o(779)]||r<0||n>this[o(779)])throw new RangeError(o(413));if(r>=n&&e>=s)return 0;if(r>=n)return-1;if(e>=s)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(r>>>=0),h=(s>>>=0)-(e>>>=0),c=Math[o(602)](a,h),d=this[o(361)](r,n),u=t[o(361)](e,s),p=0;p<c;++p)if(d[p]!==u[p]){a=d[p],h=u[p];break}return a<h?-1:h<a?1:0},l[i(1125)][i(951)]=function(t,e,s){return-1!==this[i(905)](t,e,s)},l[i(1125)][i(905)]=function(t,e,s){return A(this,t,e,s,!0)},l.prototype[i(819)]=function(t,e,s){return A(this,t,e,s,!1)},l[i(1125)][i(912)]=function(t,e,s,r){var n=i;if(void 0===e)r=n(836),s=this[n(779)],e=0;else if(void 0===s&&"string"==typeof e)r=e,s=this[n(779)],e=0;else{if(!isFinite(e))throw new Error(n(1154));e|=0,isFinite(s)?(s|=0,void 0===r&&(r=n(836))):(r=s,s=void 0)}var o=this[n(779)]-e;if((void 0===s||s>o)&&(s=o),t.length>0&&(s<0||e<0)||e>this[n(779)])throw new RangeError("Attempt to write outside buffer bounds");r||(r=n(836));for(var a,h,l,c,d,u,p=!1;;)switch(r){case"hex":return b(this,t,e,s);case n(836):case n(1168):return d=e,u=s,V(N(t,(c=this)[i(779)]-d),c,d,u);case"ascii":return S(this,t,e,s);case n(949):case n(592):return S(this,t,e,s);case n(858):return a=this,h=e,l=s,V(j(t),a,h,l);case"ucs2":case n(1149):case n(889):case n(411):return E(this,t,e,s);default:if(p)throw new TypeError(n(619)+r);r=(""+r)[n(863)](),p=!0}},l[i(1125)][i(814)]=function(){var t=i;return{type:t(671),data:Array[t(1125)][t(361)][t(471)](this[t(806)]||this,0)}};var T=4096;function I(t,e,s){var r=i,n="";s=Math[r(602)](t[r(779)],s);for(var o=e;o<s;++o)n+=String[r(601)](127&t[o]);return n}function k(t,e,s){var r=i,n="";s=Math[r(602)](t[r(779)],s);for(var o=e;o<s;++o)n+=String[r(601)](t[o]);return n}function _(t,e,s){var r=t[i(779)];(!e||e<0)&&(e=0),(!s||s<0||s>r)&&(s=r);for(var n="",o=e;o<s;++o)n+=O(t[o]);return n}function C(t,e,s){for(var r=i,n=t[r(361)](e,s),o="",a=0;a<n[r(779)];a+=2)o+=String[r(601)](n[a]+256*n[a+1]);return o}function D(t,e,s){var r=i;if(t%1!=0||t<0)throw new RangeError(r(443));if(t+e>s)throw new RangeError(r(842))}function R(t,e,s,r,n,o){var a=i;if(!l.isBuffer(t))throw new TypeError(a(566));if(e>n||e<o)throw new RangeError('"value" argument is out of bounds');if(s+r>t.length)throw new RangeError(a(1044))}function L(t,e,s,r){var n=i;e<0&&(e=65535+e+1);for(var o=0,a=Math[n(602)](t[n(779)]-s,2);o<a;++o)t[s+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(t,e,s,r){var n=i;e<0&&(e=4294967295+e+1);for(var o=0,a=Math[n(602)](t[n(779)]-s,4);o<a;++o)t[s+o]=e>>>8*(r?o:3-o)&255}function x(t,e,s,r,n,o){var a=i;if(s+r>t.length)throw new RangeError(a(1044));if(s<0)throw new RangeError("Index out of range")}function M(t,e,s,r,o){var a=i;return!o&&x(t,0,s,4),n[a(912)](t,e,s,r,23,4),s+4}function B(t,e,s,i,r){return!r&&x(t,0,s,8),n.write(t,e,s,i,52,8),s+8}l[i(1125)][i(361)]=function(t,e){var s,r=i,n=this[r(779)];if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l[r(807)])(s=this[r(828)](t,e))[r(815)]=l[r(1125)];else{var o=e-t;s=new l(o,void 0);for(var a=0;a<o;++a)s[a]=this[a+t]}return s},l[i(1125)][i(1105)]=function(t,e,s){t|=0,e|=0,s||D(t,e,this[i(779)]);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},l[i(1125)][i(784)]=function(t,e,s){t|=0,e|=0,!s&&D(t,e,this[i(779)]);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},l.prototype[i(598)]=function(t,e){return e||D(t,1,this[i(779)]),this[t]},l[i(1125)][i(879)]=function(t,e){return e||D(t,2,this[i(779)]),this[t]|this[t+1]<<8},l[i(1125)][i(908)]=function(t,e){return e||D(t,2,this[i(779)]),this[t]<<8|this[t+1]},l[i(1125)].readUInt32LE=function(t,e){return e||D(t,4,this[i(779)]),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l[i(1125)][i(1090)]=function(t,e){return e||D(t,4,this[i(779)]),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype[i(1122)]=function(t,e,s){var r=i;t|=0,e|=0,s||D(t,e,this[r(779)]);for(var n=this[t],o=1,a=0;++a<e&&(o*=256);)n+=this[t+a]*o;return n>=(o*=128)&&(n-=Math[r(451)](2,8*e)),n},l.prototype[i(647)]=function(t,e,s){var r=i;t|=0,e|=0,s||D(t,e,this[r(779)]);for(var n=e,o=1,a=this[t+--n];n>0&&(o*=256);)a+=this[t+--n]*o;return a>=(o*=128)&&(a-=Math[r(451)](2,8*e)),a},l[i(1125)][i(850)]=function(t,e){return e||D(t,1,this[i(779)]),128&this[t]?-1*(255-this[t]+1):this[t]},l[i(1125)][i(479)]=function(t,e){e||D(t,2,this[i(779)]);var s=this[t]|this[t+1]<<8;return 32768&s?4294901760|s:s},l[i(1125)][i(1082)]=function(t,e){e||D(t,2,this[i(779)]);var s=this[t+1]|this[t]<<8;return 32768&s?4294901760|s:s},l[i(1125)][i(1169)]=function(t,e){return e||D(t,4,this[i(779)]),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l[i(1125)][i(360)]=function(t,e){return e||D(t,4,this[i(779)]),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l[i(1125)].readFloatLE=function(t,e){return e||D(t,4,this[i(779)]),n.read(this,t,!0,23,4)},l[i(1125)].readFloatBE=function(t,e){var s=i;return e||D(t,4,this[s(779)]),n[s(682)](this,t,!1,23,4)},l[i(1125)][i(582)]=function(t,e){var s=i;return e||D(t,8,this.length),n[s(682)](this,t,!0,52,8)},l[i(1125)][i(508)]=function(t,e){return e||D(t,8,this[i(779)]),n.read(this,t,!1,52,8)},l[i(1125)][i(857)]=function(t,e,s,r){(t=+t,e|=0,s|=0,r)||R(this,t,e,s,Math[i(451)](2,8*s)-1,0);var n=1,o=0;for(this[e]=255&t;++o<s&&(n*=256);)this[e+o]=t/n&255;return e+s},l.prototype.writeUIntBE=function(t,e,s,i){(t=+t,e|=0,s|=0,i)||R(this,t,e,s,Math.pow(2,8*s)-1,0);var r=s-1,n=1;for(this[e+r]=255&t;--r>=0&&(n*=256);)this[e+r]=t/n&255;return e+s},l.prototype.writeUInt8=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,1,255,0),l[r(807)]||(t=Math[r(356)](t)),this[e]=255&t,e+1},l[i(1125)][i(502)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,65535,0),l[r(807)]?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l[i(1125)][i(657)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,65535,0),l[r(807)]?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,4294967295,0),l[r(807)]?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},l[i(1125)][i(399)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,4294967295,0),l[r(807)]?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l.prototype[i(950)]=function(t,e,s,r){if(t=+t,e|=0,!r){var n=Math[i(451)](2,8*s-1);R(this,t,e,s,n-1,-n)}var o=0,a=1,h=0;for(this[e]=255&t;++o<s&&(a*=256);)t<0&&0===h&&0!==this[e+o-1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},l[i(1125)][i(725)]=function(t,e,s,r){if(t=+t,e|=0,!r){var n=Math[i(451)](2,8*s-1);R(this,t,e,s,n-1,-n)}var o=s-1,a=1,h=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===h&&0!==this[e+o+1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},l.prototype[i(1083)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,1,127,-128),l[r(807)]||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l[i(1125)].writeInt16LE=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,32767,-32768),l[r(807)]?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l[i(1125)][i(693)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,2,32767,-32768),l[r(807)]?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l[i(1125)][i(457)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,2147483647,-2147483648),l[r(807)]?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},l[i(1125)][i(675)]=function(t,e,s){var r=i;return t=+t,e|=0,s||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l[r(807)]?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},l[i(1125)][i(1132)]=function(t,e,s){return M(this,t,e,!0,s)},l[i(1125)][i(948)]=function(t,e,s){return M(this,t,e,!1,s)},l.prototype[i(971)]=function(t,e,s){return B(this,t,e,!0,s)},l[i(1125)].writeDoubleBE=function(t,e,s){return B(this,t,e,!1,s)},l[i(1125)][i(1031)]=function(t,e,s,r){var n=i;if(s||(s=0),r||0===r||(r=this[n(779)]),e>=t.length&&(e=t[n(779)]),e||(e=0),r>0&&r<s&&(r=s),r===s)return 0;if(0===t[n(779)]||0===this[n(779)])return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError(n(947));r>this.length&&(r=this[n(779)]),t[n(779)]-e<r-s&&(r=t[n(779)]-e+s);var o,a=r-s;if(this===t&&s<e&&e<r)for(o=a-1;o>=0;--o)t[o+e]=this[o+s];else if(a<1e3||!l[n(807)])for(o=0;o<a;++o)t[o+e]=this[o+s];else Uint8Array[n(1125)].set.call(t,this.subarray(s,s+a),e);return a},l[i(1125)][i(660)]=function(t,e,s,r){var n,o=i;if(typeof t===o(430)){if(typeof e===o(430)?(r=e,e=0,s=this[o(779)]):typeof s===o(430)&&(r=s,s=this.length),1===t.length){var a=t[o(473)](0);a<256&&(t=a)}if(void 0!==r&&typeof r!==o(430))throw new TypeError(o(724));if(typeof r===o(430)&&!l[o(968)](r))throw new TypeError(o(619)+r)}else typeof t===o(504)&&(t&=255);if(e<0||this[o(779)]<e||this[o(779)]<s)throw new RangeError(o(720));if(s<=e)return this;if(e>>>=0,s=void 0===s?this[o(779)]:s>>>0,t||(t=0),typeof t===o(504))for(n=e;n<s;++n)this[n]=t;else{var h=l[o(422)](t)?t:N(new l(t,r).toString()),c=h[o(779)];for(n=0;n<s-e;++n)this[n+e]=h[n%c]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(t){var e,s,r=i;if((t=(e=t,s=i,e[s(433)]?e[s(433)]():e[s(1102)](/^\s+|\s+$/g,""))[r(1102)](F,""))[r(779)]<2)return"";for(;t[r(779)]%4!=0;)t+="=";return t}function O(t){var e=i;return t<16?"0"+t[e(432)](16):t[e(432)](16)}function N(t,e){var s=i;e=e||1/0;for(var r,n=t.length,o=null,a=[],h=0;h<n;++h){if((r=t[s(473)](h))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(h+1===n){(e-=3)>-1&&a[s(526)](239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a[s(526)](239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;a[s(526)](r)}else if(r<2048){if((e-=2)<0)break;a[s(526)](r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a[s(526)](r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(s(512));if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function j(t){return r[i(700)](U(t))}function V(t,e,s,r){for(var n=i,o=0;o<r&&!(o+s>=e[n(779)]||o>=t[n(779)]);++o)e[o+s]=t[o];return o}})[i(471)](this,void 0!==ne[i(613)]?se:"undefined"!=typeof self?self:typeof window!==i(585)?window:{})},{"base64-js":6,ieee754:14,isarray:16}],8:[function(t,e,s){var i=kh,r=t(i(773)),n=t(i(810));s[i(671)]=h,s[i(452)]=function(t){return+t!=t&&(t=0),h[i(820)](+t)},s[i(667)]=50;var o=2147483647;function a(t){var e=i;if(t>o)throw new RangeError('The value "'+t+e(727));var s=new Uint8Array(t);return s.__proto__=h[e(1125)],s}function h(t,e,s){var r=i;if(typeof t===r(504)){if(typeof e===r(430))throw new TypeError(r(1126));return d(t)}return l(t,e,s)}function l(t,e,s){var r=i;if(typeof t===r(430))return function(t,e){var s=i;if(("string"!=typeof e||""===e)&&(e=s(836)),!h[s(968)](e))throw new TypeError(s(619)+e);var r=0|f(t,e),n=a(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}(t,e);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw TypeError(r(813)+r(688)+typeof t);if(O(t,ArrayBuffer)||t&&O(t[r(371)],ArrayBuffer))return function(t,e,s){var r,n=i;if(e<0||t[n(1118)]<e)throw new RangeError(n(391));if(t.byteLength<e+(s||0))throw new RangeError(n(622));r=void 0===e&&void 0===s?new Uint8Array(t):void 0===s?new Uint8Array(t,e):new Uint8Array(t,e,s);return r[n(815)]=h[n(1125)],r}(t,e,s);if(typeof t===r(504))throw new TypeError(r(499));var n=t[r(954)]&&t[r(954)]();if(null!=n&&n!==t)return h[r(538)](n,e,s);var o=function(t){var e=i;if(h.isBuffer(t)){var s=0|p(t[e(779)]),r=a(s);return 0===r.length||t[e(1031)](r,0,0,s),r}if(void 0!==t[e(779)])return"number"!=typeof t[e(779)]||N(t[e(779)])?a(0):u(t);if(t[e(1098)]===e(671)&&Array[e(542)](t.data))return u(t[e(966)])}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol[r(687)]])return h[r(538)](t[Symbol[r(687)]](r(430)),e,s);throw new TypeError(r(813)+r(688)+typeof t)}function c(t){var e=i;if(typeof t!==e(504))throw new TypeError(e(741));if(t<0)throw new RangeError(e(475)+t+e(727))}function d(t){return c(t),a(t<0?0:0|p(t))}function u(t){for(var e=t[i(779)]<0?0:0|p(t.length),s=a(e),r=0;r<e;r+=1)s[r]=255&t[r];return s}function p(t){var e=i;if(t>=o)throw new RangeError(e(497)+e(377)+o[e(432)](16)+" bytes");return 0|t}function f(t,e){var s=i;if(h[s(422)](t))return t.length;if(ArrayBuffer[s(1018)](t)||O(t,ArrayBuffer))return t.byteLength;if(typeof t!==s(430))throw new TypeError(s(721)+"Received type "+typeof t);var r=t[s(779)],n=arguments[s(779)]>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case s(665):case s(949):case s(592):return r;case s(836):case s(1168):return B(t).length;case s(748):case s(1149):case s(889):case"utf-16le":return 2*r;case s(774):return r>>>1;case s(858):return F(t)[s(779)];default:if(o)return n?-1:B(t).length;e=(""+e)[s(863)](),o=!0}}function m(t,e,s){var n,o,a,h,l=i,c=!1;if((void 0===e||e<0)&&(e=0),e>this[l(779)])return"";if((void 0===s||s>this[l(779)])&&(s=this[l(779)]),s<=0)return"";if((s>>>=0)<=(e>>>=0))return"";for(t||(t=l(836));;)switch(t){case"hex":return k(this,e,s);case l(836):case l(1168):return E(this,e,s);case l(665):return T(this,e,s);case l(949):case"binary":return I(this,e,s);case"base64":return n=this,a=s,h=void 0,h=i,0===(o=e)&&a===n[h(779)]?r[h(664)](n):r.fromByteArray(n[h(361)](o,a));case l(748):case l(1149):case l(889):case"utf-16le":return _(this,e,s);default:if(c)throw new TypeError(l(619)+t);t=(t+"").toLowerCase(),c=!0}}function g(t,e,s){var i=t[e];t[e]=t[s],t[s]=i}function y(t,e,s,r,n){var o=i;if(0===t[o(779)])return-1;if(typeof s===o(430)?(r=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),N(s=+s)&&(s=n?0:t.length-1),s<0&&(s=t.length+s),s>=t[o(779)]){if(n)return-1;s=t[o(779)]-1}else if(s<0){if(!n)return-1;s=0}if(typeof e===o(430)&&(e=h[o(538)](e,r)),h[o(422)](e))return 0===e[o(779)]?-1:A(t,e,s,r,n);if(typeof e===o(504))return e&=255,typeof Uint8Array[o(1125)][o(905)]===o(429)?n?Uint8Array.prototype[o(905)][o(471)](t,e,s):Uint8Array.prototype[o(819)][o(471)](t,e,s):A(t,[e],s,r,n);throw new TypeError("val must be string, number or Buffer")}function A(t,e,s,r,n){var o,a=i,h=1,l=t[a(779)],c=e.length;if(void 0!==r&&((r=String(r)[a(863)]())===a(748)||r===a(1149)||r===a(889)||r===a(411))){if(t.length<2||e[a(779)]<2)return-1;h=2,l/=2,c/=2,s/=2}function d(t,e){var s=a;return 1===h?t[e]:t[s(908)](e*h)}if(n){var u=-1;for(o=s;o<l;o++)if(d(t,o)===d(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*h}else-1!==u&&(o-=o-u),u=-1}else for(s+c>l&&(s=l-c),o=s;o>=0;o--){for(var p=!0,f=0;f<c;f++)if(d(t,o+f)!==d(e,f)){p=!1;break}if(p)return o}return-1}function v(t,e,s,r){var n=i;s=Number(s)||0;var o=t.length-s;r?(r=Number(r))>o&&(r=o):r=o;var a=e.length;r>a/2&&(r=a/2);for(var h=0;h<r;++h){var l=parseInt(e[n(534)](2*h,2),16);if(N(l))return h;t[s+h]=l}return h}function b(t,e,s,r){return U(function(t){for(var e=i,s=[],r=0;r<t.length;++r)s[e(526)](255&t[e(473)](r));return s}(e),t,s,r)}function S(t,e,s,r){return U(function(t,e){for(var s,r,n,o=i,a=[],h=0;h<t[o(779)]&&!((e-=2)<0);++h)r=(s=t.charCodeAt(h))>>8,n=s%256,a[o(526)](n),a[o(526)](r);return a}(e,t[i(779)]-s),t,s,r)}function E(t,e,s){var r=i;s=Math[r(602)](t[r(779)],s);for(var n=[],o=e;o<s;){var a,h,l,c,d=t[o],u=null,p=d>239?4:d>223?3:d>191?2:1;if(o+p<=s)switch(p){case 1:d<128&&(u=d);break;case 2:128==(192&(a=t[o+1]))&&((c=(31&d)<<6|63&a)>127&&(u=c));break;case 3:a=t[o+1],h=t[o+2],128==(192&a)&&128==(192&h)&&((c=(15&d)<<12|(63&a)<<6|63&h)>2047&&(c<55296||c>57343)&&(u=c));break;case 4:a=t[o+1],h=t[o+2],l=t[o+3],128==(192&a)&&128==(192&h)&&128==(192&l)&&((c=(15&d)<<18|(63&a)<<12|(63&h)<<6|63&l)>65535&&c<1114112&&(u=c))}null===u?(u=65533,p=1):u>65535&&(u-=65536,n[r(526)](u>>>10&1023|55296),u=56320|1023&u),n[r(526)](u),o+=p}return function(t){var e=i,s=t[e(779)];if(s<=w)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<s;)r+=String[e(601)].apply(String,t[e(361)](n,n+=w));return r}(n)}s[i(987)]=o,h[i(807)]=function(){var t=i;try{var e=new Uint8Array(1);return e[t(815)]={__proto__:Uint8Array[t(1125)],foo:function(){return 42}},42===e[t(1143)]()}catch(t){return!1}}(),!h.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&typeof console[i(1048)]===i(429)&&console.error(i(978)+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object[i(379)](h[i(1125)],i(380),{enumerable:!0,get:function(){var t=i;if(h[t(422)](this))return this[t(371)]}}),Object[i(379)](h[i(1125)],"offset",{enumerable:!0,get:function(){var t=i;if(h[t(422)](this))return this[t(922)]}}),typeof Symbol!==i(585)&&null!=Symbol[i(1072)]&&h[Symbol[i(1072)]]===h&&Object[i(379)](h,Symbol[i(1072)],{value:null,configurable:!0,enumerable:!1,writable:!1}),h[i(873)]=8192,h[i(538)]=function(t,e,s){return l(t,e,s)},h[i(1125)][i(815)]=Uint8Array.prototype,h[i(815)]=Uint8Array,h[i(820)]=function(t,e,s){return n=e,o=s,h=i,c(r=t),r<=0?a(r):void 0!==n?typeof o===h(430)?a(r).fill(n,o):a(r)[h(660)](n):a(r);var r,n,o,h},h[i(886)]=function(t){return d(t)},h[i(916)]=function(t){return d(t)},h[i(422)]=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h[i(1162)]=function(t,e){var s=i;if(O(t,Uint8Array)&&(t=h[s(538)](t,t[s(771)],t[s(1118)])),O(e,Uint8Array)&&(e=h.from(e,e.offset,e[s(1118)])),!h[s(422)](t)||!h[s(422)](e))throw new TypeError(s(911));if(t===e)return 0;for(var r=t[s(779)],n=e[s(779)],o=0,a=Math[s(602)](r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},h[i(968)]=function(t){var e=i;switch(String(t)[e(863)]()){case e(774):case e(836):case"utf-8":case"ascii":case"latin1":case e(592):case e(858):case e(748):case e(1149):case e(889):case"utf-16le":return!0;default:return!1}},h[i(802)]=function(t,e){var s,r=i;if(!Array.isArray(t))throw new TypeError(r(891));if(0===t[r(779)])return h[r(820)](0);if(void 0===e)for(e=0,s=0;s<t[r(779)];++s)e+=t[s][r(779)];var n=h[r(886)](e),o=0;for(s=0;s<t[r(779)];++s){var a=t[s];if(O(a,Uint8Array)&&(a=h[r(538)](a)),!h[r(422)](a))throw new TypeError(r(891));a[r(1031)](n,o),o+=a[r(779)]}return n},h.byteLength=f,h[i(1125)][i(744)]=!0,h.prototype[i(1065)]=function(){var t=i,e=this.length;if(e%2!=0)throw new RangeError(t(583));for(var s=0;s<e;s+=2)g(this,s,s+1);return this},h[i(1125)][i(681)]=function(){var t=this[i(779)];if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},h.prototype[i(1039)]=function(){var t=i,e=this[t(779)];if(e%8!=0)throw new RangeError(t(900));for(var s=0;s<e;s+=8)g(this,s,s+7),g(this,s+1,s+6),g(this,s+2,s+5),g(this,s+3,s+4);return this},h[i(1125)].toString=function(){var t=i,e=this[t(779)];return 0===e?"":0===arguments[t(779)]?E(this,0,e):m.apply(this,arguments)},h[i(1125)][i(937)]=h[i(1125)][i(432)],h.prototype[i(1148)]=function(t){var e=i;if(!h[e(422)](t))throw new TypeError(e(872));return this===t||0===h[e(1162)](this,t)},h[i(1125)][i(402)]=function(){var t=i,e="",r=s.INSPECT_MAX_BYTES;return e=this.toString(t(774),0,r).replace(/(.{2})/g,"$1 ")[t(433)](),this.length>r&&(e+=" ... "),t(1070)+e+">"},h[i(1125)][i(1162)]=function(t,e,s,r,n){var o=i;if(O(t,Uint8Array)&&(t=h[o(538)](t,t[o(771)],t[o(1118)])),!h[o(422)](t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+o(1146)+typeof t);if(void 0===e&&(e=0),void 0===s&&(s=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this[o(779)]),e<0||s>t.length||r<0||n>this[o(779)])throw new RangeError(o(413));if(r>=n&&e>=s)return 0;if(r>=n)return-1;if(e>=s)return 1;if(this===t)return 0;for(var a=(n>>>=0)-(r>>>=0),l=(s>>>=0)-(e>>>=0),c=Math[o(602)](a,l),d=this[o(361)](r,n),u=t[o(361)](e,s),p=0;p<c;++p)if(d[p]!==u[p]){a=d[p],l=u[p];break}return a<l?-1:l<a?1:0},h.prototype[i(951)]=function(t,e,s){return-1!==this[i(905)](t,e,s)},h[i(1125)][i(905)]=function(t,e,s){return y(this,t,e,s,!0)},h[i(1125)][i(819)]=function(t,e,s){return y(this,t,e,s,!1)},h[i(1125)][i(912)]=function(t,e,s,r){var n=i;if(void 0===e)r=n(836),s=this.length,e=0;else if(void 0===s&&typeof e===n(430))r=e,s=this[n(779)],e=0;else{if(!isFinite(e))throw new Error(n(1154));e>>>=0,isFinite(s)?(s>>>=0,void 0===r&&(r=n(836))):(r=s,s=void 0)}var o=this[n(779)]-e;if((void 0===s||s>o)&&(s=o),t[n(779)]>0&&(s<0||e<0)||e>this.length)throw new RangeError(n(931));r||(r=n(836));for(var a,h,l,c,d,u,p=!1;;)switch(r){case n(774):return v(this,t,e,s);case n(836):case n(1168):return d=e,u=s,U(B(t,(c=this)[i(779)]-d),c,d,u);case n(665):return b(this,t,e,s);case"latin1":case n(592):return b(this,t,e,s);case"base64":return a=this,h=e,l=s,U(F(t),a,h,l);case n(748):case n(1149):case n(889):case"utf-16le":return S(this,t,e,s);default:if(p)throw new TypeError(n(619)+r);r=(""+r)[n(863)](),p=!0}},h[i(1125)][i(814)]=function(){var t=i;return{type:t(671),data:Array[t(1125)][t(361)][t(471)](this._arr||this,0)}};var w=4096;function T(t,e,s){var r=i,n="";s=Math[r(602)](t.length,s);for(var o=e;o<s;++o)n+=String[r(601)](127&t[o]);return n}function I(t,e,s){var r=i,n="";s=Math.min(t[r(779)],s);for(var o=e;o<s;++o)n+=String.fromCharCode(t[o]);return n}function k(t,e,s){var r=t[i(779)];(!e||e<0)&&(e=0),(!s||s<0||s>r)&&(s=r);for(var n="",o=e;o<s;++o)n+=M(t[o]);return n}function _(t,e,s){for(var r=i,n=t.slice(e,s),o="",a=0;a<n[r(779)];a+=2)o+=String[r(601)](n[a]+256*n[a+1]);return o}function C(t,e,s){var r=i;if(t%1!=0||t<0)throw new RangeError(r(443));if(t+e>s)throw new RangeError(r(842))}function D(t,e,s,r,n,o){var a=i;if(!h.isBuffer(t))throw new TypeError(a(566));if(e>n||e<o)throw new RangeError(a(761));if(s+r>t[a(779)])throw new RangeError(a(1044))}function R(t,e,s,r,n,o){var a=i;if(s+r>t[a(779)])throw new RangeError(a(1044));if(s<0)throw new RangeError(a(1044))}function L(t,e,s,r,o){var a=i;return e=+e,s>>>=0,!o&&R(t,0,s,4),n[a(912)](t,e,s,r,23,4),s+4}function P(t,e,s,r,o){var a=i;return e=+e,s>>>=0,!o&&R(t,0,s,8),n[a(912)](t,e,s,r,52,8),s+8}h.prototype.slice=function(t,e){var s=i,r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this[s(828)](t,e);return n[s(815)]=h[s(1125)],n},h[i(1125)][i(1105)]=function(t,e,s){t>>>=0,e>>>=0,s||C(t,e,this[i(779)]);for(var r=this[t],n=1,o=0;++o<e&&(n*=256);)r+=this[t+o]*n;return r},h[i(1125)][i(784)]=function(t,e,s){t>>>=0,e>>>=0,!s&&C(t,e,this[i(779)]);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},h.prototype[i(598)]=function(t,e){return t>>>=0,e||C(t,1,this[i(779)]),this[t]},h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},h[i(1125)].readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this[i(779)]),this[t]<<8|this[t+1]},h[i(1125)][i(581)]=function(t,e){return t>>>=0,e||C(t,4,this[i(779)]),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h[i(1125)][i(1090)]=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,s){var r=i;t>>>=0,e>>>=0,s||C(t,e,this.length);for(var n=this[t],o=1,a=0;++a<e&&(o*=256);)n+=this[t+a]*o;return n>=(o*=128)&&(n-=Math[r(451)](2,8*e)),n},h[i(1125)][i(647)]=function(t,e,s){var r=i;t>>>=0,e>>>=0,s||C(t,e,this.length);for(var n=e,o=1,a=this[t+--n];n>0&&(o*=256);)a+=this[t+--n]*o;return a>=(o*=128)&&(a-=Math[r(451)](2,8*e)),a},h.prototype[i(850)]=function(t,e){return t>>>=0,e||C(t,1,this[i(779)]),128&this[t]?-1*(255-this[t]+1):this[t]},h[i(1125)][i(479)]=function(t,e){t>>>=0,e||C(t,2,this[i(779)]);var s=this[t]|this[t+1]<<8;return 32768&s?4294901760|s:s},h[i(1125)][i(1082)]=function(t,e){t>>>=0,e||C(t,2,this[i(779)]);var s=this[t+1]|this[t]<<8;return 32768&s?4294901760|s:s},h[i(1125)].readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h[i(1125)][i(360)]=function(t,e){return t>>>=0,e||C(t,4,this[i(779)]),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h[i(1125)][i(929)]=function(t,e){var s=i;return t>>>=0,e||C(t,4,this[s(779)]),n[s(682)](this,t,!0,23,4)},h[i(1125)][i(726)]=function(t,e){var s=i;return t>>>=0,e||C(t,4,this[s(779)]),n[s(682)](this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){var s=i;return t>>>=0,e||C(t,8,this.length),n[s(682)](this,t,!0,52,8)},h[i(1125)][i(508)]=function(t,e){return t>>>=0,e||C(t,8,this.length),n.read(this,t,!1,52,8)},h[i(1125)].writeUIntLE=function(t,e,s,r){(t=+t,e>>>=0,s>>>=0,r)||D(this,t,e,s,Math[i(451)](2,8*s)-1,0);var n=1,o=0;for(this[e]=255&t;++o<s&&(n*=256);)this[e+o]=t/n&255;return e+s},h[i(1125)][i(1005)]=function(t,e,s,r){(t=+t,e>>>=0,s>>>=0,r)||D(this,t,e,s,Math[i(451)](2,8*s)-1,0);var n=s-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+s},h[i(1125)].writeUInt8=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,1,255,0),this[e]=255&t,e+1},h[i(1125)][i(502)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h[i(1125)][i(657)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype[i(488)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h[i(1125)].writeUInt32BE=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h[i(1125)][i(950)]=function(t,e,s,i){if(t=+t,e>>>=0,!i){var r=Math.pow(2,8*s-1);D(this,t,e,s,r-1,-r)}var n=0,o=1,a=0;for(this[e]=255&t;++n<s&&(o*=256);)t<0&&0===a&&0!==this[e+n-1]&&(a=1),this[e+n]=(t/o>>0)-a&255;return e+s},h.prototype[i(725)]=function(t,e,s,r){if(t=+t,e>>>=0,!r){var n=Math[i(451)](2,8*s-1);D(this,t,e,s,n-1,-n)}var o=s-1,a=1,h=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===h&&0!==this[e+o+1]&&(h=1),this[e+o]=(t/a>>0)-h&255;return e+s},h[i(1125)].writeInt8=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h[i(1125)][i(1016)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h[i(1125)][i(693)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h[i(1125)].writeInt32LE=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h[i(1125)][i(675)]=function(t,e,s){return t=+t,e>>>=0,s||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h[i(1125)].writeFloatLE=function(t,e,s){return L(this,t,e,!0,s)},h[i(1125)][i(948)]=function(t,e,s){return L(this,t,e,!1,s)},h.prototype[i(971)]=function(t,e,s){return P(this,t,e,!0,s)},h[i(1125)][i(956)]=function(t,e,s){return P(this,t,e,!1,s)},h[i(1125)][i(1031)]=function(t,e,s,r){var n=i;if(!h[n(422)](t))throw new TypeError(n(1077));if(s||(s=0),r||0===r||(r=this[n(779)]),e>=t[n(779)]&&(e=t.length),e||(e=0),r>0&&r<s&&(r=s),r===s)return 0;if(0===t[n(779)]||0===this.length)return 0;if(e<0)throw new RangeError(n(935));if(s<0||s>=this[n(779)])throw new RangeError("Index out of range");if(r<0)throw new RangeError(n(947));r>this[n(779)]&&(r=this.length),t[n(779)]-e<r-s&&(r=t[n(779)]-e+s);var o=r-s;if(this===t&&typeof Uint8Array[n(1125)][n(796)]===n(429))this[n(796)](e,s,r);else if(this===t&&s<e&&e<r)for(var a=o-1;a>=0;--a)t[a+e]=this[a+s];else Uint8Array[n(1125)][n(778)][n(471)](t,this[n(828)](s,r),e);return o},h.prototype[i(660)]=function(t,e,s,r){var n,o=i;if("string"==typeof t){if(typeof e===o(430)?(r=e,e=0,s=this.length):typeof s===o(430)&&(r=s,s=this[o(779)]),void 0!==r&&typeof r!==o(430))throw new TypeError(o(724));if(typeof r===o(430)&&!h[o(968)](r))throw new TypeError(o(619)+r);if(1===t.length){var a=t[o(473)](0);(r===o(836)&&a<128||"latin1"===r)&&(t=a)}}else typeof t===o(504)&&(t&=255);if(e<0||this[o(779)]<e||this[o(779)]<s)throw new RangeError(o(720));if(s<=e)return this;if(e>>>=0,s=void 0===s?this.length:s>>>0,t||(t=0),typeof t===o(504))for(n=e;n<s;++n)this[n]=t;else{var l=h[o(422)](t)?t:h[o(538)](t,r),c=l[o(779)];if(0===c)throw new TypeError('The value "'+t+o(1021));for(n=0;n<s-e;++n)this[n+e]=l[n%c]}return this};var x=/[^+/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t[i(432)](16):t.toString(16)}function B(t,e){var s=i;e=e||1/0;for(var r,n=t[s(779)],o=null,a=[],h=0;h<n;++h){if((r=t[s(473)](h))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a[s(526)](239,191,189);continue}if(h+1===n){(e-=3)>-1&&a[s(526)](239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a[s(526)](239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;a[s(526)](r)}else if(r<2048){if((e-=2)<0)break;a[s(526)](r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a[s(526)](r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(s(512));if((e-=4)<0)break;a[s(526)](r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function F(t){return r[i(700)](function(t){var e=i;if((t=(t=t[e(425)]("=")[0])[e(433)]()[e(1102)](x,""))[e(779)]<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,s,r){for(var n=i,o=0;o<r&&!(o+s>=e.length||o>=t[n(779)]);++o)e[o+s]=t[o];return o}function O(t,e){var s=i;return t instanceof e||null!=t&&null!=t.constructor&&null!=t[s(550)].name&&t[s(550)][s(518)]===e[s(518)]}function N(t){return t!=t}},{"base64-js":6,ieee754:14}],9:[function(t,e,s){var i=kh,r=t("./lib/buffer-reader");e[i(1127)]=function(t){var e=i,s={},n=new r(t);s[e(1037)]=n[e(573)](),s.timecode=n[e(882)]();var o=n[e(513)]();s[e(378)]=!!(8&o),s[e(548)]=!!(128&o),s[e(709)]=!!(1&o);var a=(6&o)>>1;return s[e(540)]=function(t,e){var s=i;if(!e)return[t.nextBuffer()];var r,n,o=[],a=t[s(513)]()+1;if(2===e){if(t[s(779)]%a!=0)throw new Error(s(985));for(n=t[s(779)]/a,r=0;r<a;r++)o[s(526)](t.nextBuffer(n));return o}var h=[];if(1===e)for(r=0;r<a-1;r++){var l;n=0;do{n+=l=t[s(513)]()}while(255===l);h.push(n)}else if(3===e)for(n=t[s(573)](),h[s(526)](n),r=1;r<a-1;r++)n+=t[s(763)](),h[s(526)](n);for(r=0;r<a-1;r++)o[s(526)](t.nextBuffer(h[r]));return o[s(526)](t[s(817)]()),o}(n,a),s}},{"./lib/buffer-reader":10}],10:[function(t,e,s){var i=kh,r=t(i(932));function n(t){this[i(371)]=t,this.offset=0}n[i(1125)].nextInt16BE=function(){var t=i,e=this[t(371)].readInt16BE(this[t(771)]);return this.offset+=2,e},n[i(1125)][i(513)]=function(){var t=i,e=this[t(371)].readUInt8(this[t(771)]);return this[t(771)]+=1,e},n[i(1125)].nextUIntV=function(){var t=i,e=r(this.buffer,this.offset);return this.offset+=e.length,e[t(767)]},n[i(1125)][i(763)]=function(){var t=i,e=r(this.buffer,this[t(771)],!0);return this[t(771)]+=e.length,e[t(767)]},n[i(1125)].nextBuffer=function(t){var e=i,s=t?this[e(371)].slice(this.offset,this[e(771)]+t):this[e(371)].slice(this[e(771)]);return this[e(771)]+=t||this.length,s},Object[i(379)](n[i(1125)],i(779),{get:function(){var t=i;return this[t(371)][t(779)]-this[t(771)]}}),e[i(1127)]=n},{"./vint":11}],11:[function(t,e,s){var i=kh;e[i(1127)]=function(t,e,s){var r=i;e=e||0;for(var n=1;n<=8&&!(t[e]>=Math.pow(2,8-n));n++);if(n>8)throw new Error(r(715)+n+" "+t[r(432)](r(774),e,e+n));if(e+n>t[r(779)])return null;var o,a=t[e]&(1<<8-n)-1;for(o=1;o<n;o++){if(7===o&&a>=Math[r(451)](2,45)&&t[e+7]>0)return{length:n,value:-1};a*=Math.pow(2,8),a+=t[e+o]}return s&&(a-=Math[r(451)](2,7*n-1)-1),{length:n,value:a}}},{}],12:[function(t,e,s){var i=kh;(function(t){var s={readVint:function(t,e){var s=kh;e=e||0;for(var i=1;i<=8&&!(t[e]>=Math[s(451)](2,8-i));i++);if(i>8)throw new Error(s(715)+i+" "+t.toString(s(774),e,e+i));if(e+i>t.length)return null;for(var r=t[e]&(1<<8-i)-1,n=1;n<i;n++){if(7===n&&r>=Math[s(451)](2,45)&&t[e+7]>0)return{length:i,value:-1};r*=Math[s(451)](2,8),r+=t[e+n]}return{length:i,value:r}},writeVint:function(e){var s=kh;if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);for(var i=1;i<=8&&!(e<Math[s(451)](2,7*i)-1);i++);for(var r=new t(i),n=1;n<=i;n++){var o=255&e;r[i-n]=o,e-=o,e/=Math[s(451)](2,8)}return r[0]=r[0]|1<<8-i,r}};e[kh(1127)]=s})[i(471)](this,t(i(371))[i(671)])},{buffer:7}],13:[function(t,e,s){var i=kh;function r(){var t=kh;this._events=this[t(591)]||{},this[t(841)]=this._maxListeners||void 0}function n(t){return typeof t===i(429)}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e[i(1127)]=r,r[i(921)]=r,r.prototype[i(591)]=void 0,r[i(1125)][i(841)]=void 0,r.defaultMaxListeners=10,r[i(1125)][i(553)]=function(t){var e=i;if(typeof t!==i(504)||t<0||isNaN(t))throw TypeError(e(924));return this[e(841)]=t,this},r[i(1125)][i(1137)]=function(t){var e,s,r,h,l,c,d=i;if(this._events||(this[d(591)]={}),t===d(1048)&&(!this._events[d(1048)]||o(this[d(591)].error)&&!this._events[d(1048)][d(779)])){if((e=arguments[1])instanceof Error)throw e;var u=new Error(d(522)+e+")");throw u[d(561)]=e,u}if(a(s=this[d(591)][t]))return!1;if(n(s))switch(arguments[d(779)]){case 1:s.call(this);break;case 2:s[d(471)](this,arguments[1]);break;case 3:s[d(471)](this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice[d(471)](arguments,1),s.apply(this,h)}else if(o(s))for(h=Array[d(1125)][d(361)][d(471)](arguments,1),r=(c=s[d(361)]()).length,l=0;l<r;l++)c[l][d(1068)](this,h);return!0},r.prototype[i(1041)]=function(t,e){var s,h=i;if(!n(e))throw TypeError(h(1004));return this._events||(this._events={}),this[h(591)][h(928)]&&this[h(1137)](h(928),t,n(e[h(1078)])?e[h(1078)]:e),this[h(591)][t]?o(this[h(591)][t])?this._events[t][h(526)](e):this[h(591)][t]=[this[h(591)][t],e]:this[h(591)][t]=e,o(this[h(591)][t])&&!this[h(591)][t][h(728)]&&((s=a(this[h(841)])?r.defaultMaxListeners:this[h(841)])&&s>0&&this[h(591)][t].length>s&&(this[h(591)][t].warned=!0,console[h(1048)]("(node) warning: possible EventEmitter memory "+h(559)+h(780),this[h(591)][t][h(779)]),typeof console[h(838)]===h(429)&&console.trace())),this},r[i(1125)].on=r[i(1125)][i(1041)],r[i(1125)].once=function(t,e){var s=i;if(!n(e))throw TypeError("listener must be a function");var r=!1;function o(){var s=kh;this[s(381)](t,o),!r&&(r=!0,e[s(1068)](this,arguments))}return o[s(1078)]=e,this.on(t,o),this},r[i(1125)][i(381)]=function(t,e){var s,r,a,h,l=i;if(!n(e))throw TypeError(l(1004));if(!this[l(591)]||!this[l(591)][t])return this;if(a=(s=this[l(591)][t])[l(779)],r=-1,s===e||n(s[l(1078)])&&s[l(1078)]===e)delete this._events[t],this[l(591)].removeListener&&this[l(1137)](l(381),t,e);else if(o(s)){for(h=a;h-- >0;)if(s[h]===e||s[h][l(1078)]&&s[h][l(1078)]===e){r=h;break}if(r<0)return this;1===s[l(779)]?(s[l(779)]=0,delete this[l(591)][t]):s[l(1026)](r,1),this[l(591)].removeListener&&this[l(1137)](l(381),t,e)}return this},r[i(1125)][i(1085)]=function(t){var e,s,r=i;if(!this[r(591)])return this;if(!this[r(591)][r(381)])return 0===arguments.length?this._events={}:this[r(591)][t]&&delete this[r(591)][t],this;if(0===arguments[r(779)]){for(e in this[r(591)])e!==r(381)&&this[r(1085)](e);return this[r(1085)](r(381)),this._events={},this}if(n(s=this[r(591)][t]))this.removeListener(t,s);else if(s)for(;s[r(779)];)this[r(381)](t,s[s[r(779)]-1]);return delete this[r(591)][t],this},r[i(1125)][i(865)]=function(t){var e=i;return this[e(591)]&&this[e(591)][t]?n(this[e(591)][t])?[this[e(591)][t]]:this[e(591)][t].slice():[]},r.prototype.listenerCount=function(t){var e=i;if(this[e(591)]){var s=this._events[t];if(n(s))return 1;if(s)return s[e(779)]}return 0},r[i(789)]=function(t,e){return t.listenerCount(e)}},{}],14:[function(t,e,s){var i=kh;s.read=function(t,e,s,i,r){var n,o,a=kh,h=8*r-i-1,l=(1<<h)-1,c=l>>1,d=-7,u=s?r-1:0,p=s?-1:1,f=t[e+u];for(u+=p,n=f&(1<<-d)-1,f>>=-d,d+=h;d>0;n=256*n+t[e+u],u+=p,d-=8);for(o=n&(1<<-d)-1,n>>=-d,d+=i;d>0;o=256*o+t[e+u],u+=p,d-=8);if(0===n)n=1-c;else{if(n===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,i),n-=c}return(f?-1:1)*o*Math[a(451)](2,n-i)},s[i(912)]=function(t,e,s,r,n,o){var a,h,l,c=i,d=8*o-n-1,u=(1<<d)-1,p=u>>1,f=23===n?Math.pow(2,-24)-Math[c(451)](2,-77):0,m=r?0:o-1,g=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math[c(392)](e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,a=u):(a=Math[c(356)](Math[c(936)](e)/Math[c(546)]),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?f/l:f*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=u?(h=0,a=u):a+p>=1?(h=(e*l-1)*Math[c(451)](2,n),a+=p):(h=e*Math[c(451)](2,p-1)*Math[c(451)](2,n),a=0));n>=8;t[s+m]=255&h,m+=g,h/=256,n-=8);for(a=a<<n|h,d+=n;d>0;t[s+m]=255&a,m+=g,a/=256,d-=8);t[s+m-g]|=128*y}},{}],15:[function(t,e,s){var i=kh;(function(t){var e=kh;!function(e){var s,i=kh,r=i(585),n=r!==typeof t&&t,o=r!==typeof Uint8Array&&Uint8Array,a=r!==typeof ArrayBuffer&&ArrayBuffer,h=[0,0,0,0,0,0,0,0],l=Array[i(542)]||function(t){var e=i;return!!t&&e(1116)==Object.prototype[e(432)].call(t)},c=4294967296;function d(t,l,d){var E=i,w=l?0:4,T=l?4:0,I=l?0:3,k=l?1:2,_=l?2:1,C=l?3:0,D=l?A:b,R=l?v:S,L=M[E(1125)],P="is"+t,x="_"+P;return L[E(371)]=void 0,L[E(771)]=0,L[x]=!0,L[E(655)]=B,L[E(432)]=function(t){var e=E,s=this[e(371)],i=this.offset,r=U(s,i+w),n=U(s,i+T),o="",a=!d&&2147483648&r;a&&(r=~r,n=c-n),t=t||10;for(;;){var h=r%t*c+n;if(r=Math[e(356)](r/t),n=Math[e(356)](h/t),o=(h%t)[e(432)](t)+o,!r&&!n)break}return a&&(o="-"+o),o},L[E(814)]=B,L[E(689)]=u,n&&(L[E(397)]=p),o&&(L.toArrayBuffer=f),M[P]=function(t){return!(!t||!t[x])},e[t]=M,M;function M(t,e,i,n){return this instanceof M?function(t,e,i,n,l){var d=E;o&&a&&(e instanceof a&&(e=new o(e)),n instanceof a&&(n=new o(n)));if(!(e||i||n||s))return void(t[d(371)]=y(h,0));if(!m(e,i)){l=i,n=e,i=0,e=new(s||Array)(8)}if(t[d(371)]=e,t[d(771)]=i|=0,r===typeof n)return;d(430)===typeof n?function(t,e,s,i){var r=0,n=s.length,o=0,a=0;"-"===s[0]&&r++;var h=r;for(;r<n;){var l=parseInt(s[r++],i);if(!(l>=0))break;a=a*i+l,o=o*i+Math.floor(a/c),a%=c}h&&(o=~o,a?a=c-a:o++),F(t,e+w,o),F(t,e+T,a)}(e,i,n,l||10):m(n,l)?g(e,i,n,l):d(504)===typeof l?(F(e,i+w,n),F(e,i+T,l)):n>0?D(e,i,n):n<0?R(e,i,n):g(e,i,h,0)}(this,t,e,i,n):new M(t,e,i,n)}function B(){var t=E,e=this.buffer,s=this[t(771)],i=U(e,s+w),r=U(e,s+T);return d||(i|=0),i?i*c+r:r}function F(t,e,s){t[e+C]=255&s,s>>=8,t[e+_]=255&s,s>>=8,t[e+k]=255&s,s>>=8,t[e+I]=255&s}function U(t,e){return 16777216*t[e+I]+(t[e+k]<<16)+(t[e+_]<<8)+t[e+C]}}function u(t){var e=i,r=this[e(371)],n=this[e(771)];return s=null,!1!==t&&0===n&&8===r[e(779)]&&l(r)?r:y(r,n)}function p(e){var r=i,o=this.buffer,a=this[r(771)];if(s=n,!1!==e&&0===a&&8===o[r(779)]&&t.isBuffer(o))return o;var h=new n(8);return g(h,0,o,a),h}function f(t){var e=this[i(371)],r=this.offset,n=e.buffer;if(s=o,!1!==t&&0===r&&n instanceof a&&8===n.byteLength)return n;var h=new o(8);return g(h,0,e,r),h.buffer}function m(t,e){var s=i,r=t&&t[s(779)];return e|=0,r&&e+8<=r&&s(430)!==typeof t[e]}function g(t,e,s,i){e|=0,i|=0;for(var r=0;r<8;r++)t[e++]=255&s[i++]}function y(t,e){var s=i;return Array[s(1125)][s(361)][s(471)](t,e,e+8)}function A(t,e,s){for(var i=e+8;i>e;)t[--i]=255&s,s/=256}function v(t,e,s){var i=e+8;for(s++;i>e;)t[--i]=255&-s^255,s/=256}function b(t,e,s){for(var i=e+8;e<i;)t[e++]=255&s,s/=256}function S(t,e,s){var i=e+8;for(s++;e<i;)t[e++]=255&-s^255,s/=256}d(i(605),!0,!0),d(i(909),!0,!1),d(i(945),!1,!0),d(i(723),!1,!1)}(typeof s===e(358)&&typeof s[e(594)]!==e(430)?s:this||{})})[i(471)](this,t(i(371))[i(671)])},{buffer:7}],16:[function(t,e,s){var i=kh,r={}.toString;e[i(1127)]=Array[i(542)]||function(t){var e=i;return r.call(t)==e(1116)}},{}],17:[function(t,e,s){var i=kh,r={128:{name:"ChapterDisplay",level:4,type:"m",multiple:!0,minver:1,webm:!0,description:"Contains all possible strings to use for the chapter display."},131:{name:i(1135),level:3,type:"u",mandatory:!0,minver:1,range:"1-254",description:"A set of track types coded on 8 bits (1: video, 2: audio, 3: complex, 0x10: logo, 0x11: subtitle, 0x12: buttons, 0x20: control)."},133:{name:i(668),cppname:"ChapterString",level:5,type:"8",mandatory:!0,minver:1,webm:!0,description:i(484)},134:{name:i(734),level:3,type:"s",mandatory:!0,minver:1,description:i(798)},136:{name:i(854),cppname:"TrackFlagDefault",level:3,type:"u",mandatory:!0,minver:1,default:1,range:i(918),description:i(910)},137:{name:i(608),level:5,type:"u",mandatory:!0,multiple:!0,minver:1,webm:!1,range:i(1060),description:i(467)},145:{name:"ChapterTimeStart",level:4,type:"u",mandatory:!0,minver:1,webm:!0,description:i(1170)},146:{name:i(597),level:4,type:"u",minver:1,webm:!1,description:i(1134)},150:{name:i(1106),level:5,type:"u",mandatory:!0,minver:2,webm:!1,description:i(1151)},151:{name:i(691),level:5,type:"u",mandatory:!0,webm:!1,description:"The Position of the Cluster containing the referenced Block."},152:{name:i(899),level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:i(918),description:"If a chapter is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)"},16980:{name:i(981),level:6,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(1088)},16981:{name:i(646),level:6,type:"b",minver:1,webm:!1,description:"Settings that might be needed by the decompressor. For Header Stripping (ContentCompAlgo=3), the bytes that were removed from the beggining of each frames of the track."},17026:{name:i(1156),level:1,type:"s",mandatory:!0,default:i(1093),minver:1,description:i(998)},17029:{name:i(630),level:1,type:"u",mandatory:!0,default:1,minver:1,description:i(383)},17030:{name:"EBMLVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:i(1009)},17031:{name:i(878),level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The version of DocType interpreter used to create the file."},17476:{name:i(803),level:2,type:"b",multiple:!0,minver:1,webm:!1,bytesize:16,description:i(672)},17505:{name:i(1066),level:2,type:"d",minver:1,description:i(1119)},17540:{name:i(472),level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(918),description:"Indication to know if this is the default/original language to use for the given tag. (1 bit)"},17541:{name:i(610),level:4,type:"b",minver:1,webm:!1,description:i(521)},17543:{name:i(933),level:4,type:"8",minver:1,webm:!1,description:i(1029)},17545:{name:i(915),level:2,type:"f",minver:1,range:i(1136),description:i(1111)},17816:{name:"ChapterFlagEnabled",level:4,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(918),description:i(1015)},18016:{name:i(574),level:3,type:"s",mandatory:!0,minver:1,webm:!1,description:"MIME type of the file."},18017:{name:"FileUsedStartTime",level:3,type:"u",divx:!0,description:"DivX font extension"},18018:{name:i(656),level:3,type:"u",divx:!0,description:"DivX font extension"},18037:{name:i(1012),level:3,type:"b",webm:!1,description:i(606)},20529:{name:"ContentEncodingOrder",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(662)},20530:{name:i(756),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(1060),description:i(699)},20531:{name:i(898),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(1081)},20532:{name:i(387),level:5,type:"m",minver:1,webm:!1,description:i(444)},20533:{name:i(604),level:5,type:"m",minver:1,webm:!1,description:i(722)},21368:{name:i(539),level:4,type:"u",minver:1,default:1,range:i(1060),description:i(786)},22100:{name:i(973),level:4,type:"8",mandatory:!1,minver:3,webm:!0,description:i(1080)},22337:{name:"WritingApp",level:2,type:"8",mandatory:!0,minver:1,description:i(757)},22612:{name:"SilentTracks",cppname:i(794),level:2,type:"m",minver:1,webm:!1,description:i(997)},25152:{name:"ContentEncoding",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(1108)},25188:{name:"BitDepth",cppname:i(772),level:4,type:"u",minver:1,range:i(1060),description:i(366)},25906:{name:i(423),level:3,type:"b",multiple:!0,webm:!1,description:i(694)},26148:{name:i(830),level:3,type:"m",multiple:!0,minver:1,webm:!1,description:"The track identification for the given Chapter Codec."},26897:{name:"ChapProcessCommand",cppname:i(483),level:5,type:"m",multiple:!0,minver:1,webm:!1,description:"Contains all the commands associated to the Atom."},26914:{name:i(1114),cppname:"ChapterProcessTime",level:6,type:"u",mandatory:!0,minver:1,webm:!1,description:i(510)},26916:{name:i(952),level:2,type:"m",multiple:!0,minver:1,webm:!1,description:i(799)},26931:{name:i(808),cppname:i(570),level:6,type:"b",mandatory:!0,minver:1,webm:!1,description:i(614)},26948:{name:i(1101),cppname:i(685),level:4,type:"m",multiple:!0,minver:1,webm:!1,description:i(464)},26965:{name:"ChapProcessCodecID",cppname:i(1172),level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(469)},29555:{name:i(967),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(800)},29572:{name:i(959),level:2,type:"8",minver:1,webm:!1,description:i(848)},29766:{name:i(765),cppname:i(629),level:3,type:"u",minver:1,webm:!1,range:i(1060),description:i(511)},2459272:{name:"CodecName",level:3,type:"8",minver:1,description:i(783)},408125543:{name:"Segment",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:i(818)},17530:{name:i(490),level:4,type:"s",mandatory:!0,minver:1,webm:!1,default:i(718),description:i(984)},17827:{name:"TagName",level:4,type:"8",mandatory:!0,minver:1,webm:!1,description:"The name of the Tag that is going to be stored."},26568:{name:i(673),cppname:"TagSimple",level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(1113)},25542:{name:i(403),level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:"A unique ID to identify the Attachment(s) the tags belong to. If the value is 0 at this level, the tags apply to all the attachments in the Segment."},25540:{name:i(944),level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(1053)},25545:{name:i(645),level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(1062)},25541:{name:i(743),level:4,type:"u",multiple:!0,minver:1,webm:!1,default:0,description:i(517)},25546:{name:i(957),cppname:i(1024),level:4,type:"s",minver:1,webm:!1,strong:i(805),description:'An  string that can be used to display the logical level of the target like "ALBUM", "TRACK", "MOVIE", "CHAPTER", etc (see TargetType).'},26826:{name:i(1161),cppname:i(666),level:4,type:"u",minver:1,webm:!1,default:50,description:i(834)},25536:{name:i(809),cppname:i(1013),level:3,type:"m",mandatory:!0,minver:1,webm:!1,description:"Contain all UIDs where the specified meta data apply. It is empty to describe everything in the segment."},307544935:{name:i(969),level:1,type:"m",multiple:!0,minver:1,webm:!1,description:i(357)},17677:{name:"ChapProcessPrivate",cppname:i(1128),level:5,type:"b",minver:1,webm:!1,description:'Some optional data attached to the ChapProcessCodecID information. For ChapProcessCodecID = 1, it is the "DVD level" equivalent.'},17278:{name:i(454),cppname:i(1e3),level:5,type:"s",multiple:!0,minver:1,webm:!1,description:i(1141)},17276:{name:i(406),cppname:"ChapterLanguage",level:5,type:"s",mandatory:!0,multiple:!0,minver:1,webm:!0,default:i(719),description:i(1061)},143:{name:"ChapterTrack",level:4,type:"m",minver:1,webm:!1,description:i(1033)},25539:{name:i(866),level:4,type:"u",minver:1,webm:!1,description:i(1028)},28348:{name:"ChapterSegmentEditionUID",level:4,type:"u",minver:1,webm:!1,range:i(1060),description:i(1003)},28263:{name:i(584),level:4,type:"b",minver:1,webm:!1,range:">0",bytesize:16,description:i(1084)},29636:{name:i(1152),level:4,type:"u",mandatory:!0,minver:1,webm:!0,range:i(1060),description:i(481)},182:{name:i(684),level:3,recursive:"1",type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:"Contains the atom information to use as the chapter atom (apply to all tracks)."},17885:{name:i(740),level:3,type:"u",minver:1,webm:!1,default:0,range:i(918),description:i(579)},17883:{name:i(525),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:i(918),description:"If a flag is set (1) the edition should be used as the default one. (1 bit)"},17853:{name:"EditionFlagHidden",level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,range:i(918),description:i(821)},17852:{name:i(410),level:3,type:"u",minver:1,webm:!1,range:i(1060),description:i(955)},17849:{name:i(707),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!0,description:i(970)},272869232:{name:"Chapters",level:1,type:"m",minver:1,webm:!0,description:i(703)},18094:{name:i(603),level:3,type:"u",mandatory:!0,minver:1,webm:!1,range:"not 0",description:"Unique ID representing the file, as random as possible."},18012:{name:i(535),level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:i(520)},18030:{name:"FileName",level:3,type:"8",mandatory:!0,minver:1,webm:!1,description:"Filename of the attached file."},18046:{name:i(894),level:3,type:"8",minver:1,webm:!1,description:i(795)},24999:{name:"AttachedFile",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:i(415)},423732329:{name:i(829),level:1,type:"m",minver:1,webm:!1,description:i(563)},235:{name:i(853),level:5,type:"u",webm:!1,default:0,description:i(902)},21343:{name:"CueRefNumber",level:5,type:"u",webm:!1,default:1,range:i(1060),description:i(505)},219:{name:i(1167),level:4,type:"m",multiple:!0,minver:2,webm:!1,description:"The Clusters containing the required referenced Blocks."},234:{name:i(702),level:4,type:"u",minver:2,webm:!1,default:0,description:i(825)},178:{name:i(500),level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:i(790)},240:{name:i(730),level:4,type:"u",mandatory:!1,minver:4,webm:!1,description:i(1045),position:i(370)},241:{name:i(781),level:4,type:"u",mandatory:!0,minver:1,description:"The position of the Cluster containing the required Block.",position:"segment"},247:{name:i(983),level:4,type:"u",mandatory:!0,minver:1,range:i(1060),description:i(1095)},183:{name:"CueTrackPositions",level:3,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contain positions for different tracks corresponding to the timestamp."},179:{name:"CueTime",level:3,type:"u",mandatory:!0,minver:1,description:i(506)},187:{name:i(1142),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Contains all information relative to a seek point in the segment."},475249515:{name:i(961),level:1,type:"m",minver:1,description:i(974)},18406:{name:"ContentSigHashAlgo",level:6,type:"u",minver:1,webm:!1,default:0,description:i(485)},18405:{name:i(589),level:6,type:"u",minver:1,webm:!1,default:0,description:"The algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - RSA"},18404:{name:"ContentSigKeyID",level:6,type:"b",minver:1,webm:!1,description:i(572)},18403:{name:i(537),level:6,type:"b",minver:1,webm:!1,description:"A cryptographic signature of the contents."},18402:{name:i(616),level:6,type:"b",minver:1,webm:!1,description:"For public key algorithms this is the ID of the public key the the data was encrypted with."},18401:{name:i(939),level:6,type:"u",minver:1,webm:!1,default:0,description:i(600)},28032:{name:i(625),level:3,type:"m",minver:1,webm:!1,description:i(394)},196:{name:i(580),level:3,type:"b",divx:!0,bytesize:16,description:i(994)},199:{name:"TrickMasterTrackUID",level:3,type:"u",divx:!0,description:i(994)},198:{name:i(468),level:3,type:"u",divx:!0,default:0,description:i(994)},193:{name:"TrickTrackSegmentUID",level:3,type:"b",divx:!0,bytesize:16,description:"DivX trick track extenstions"},192:{name:"TrickTrackUID",level:3,type:"u",divx:!0,description:i(994)},237:{name:i(419),level:5,type:"u",mandatory:!0,multiple:!0,minver:3,webm:!1,range:i(1060),description:i(851)},233:{name:i(576),level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all tracks whose Blocks need to be combined to create this virtual track"},230:{name:i(926),level:6,type:"u",mandatory:!0,minver:3,webm:!1,description:i(1067)},229:{name:"TrackPlaneUID",level:6,type:"u",mandatory:!0,minver:3,webm:!1,range:"not 0",description:i(401)},228:{name:i(557),level:5,type:"m",mandatory:!0,multiple:!0,minver:3,webm:!1,description:i(607)},227:{name:i(486),level:4,type:"m",minver:3,webm:!1,description:"Contains the list of all video plane tracks that need to be combined to create this 3D track"},226:{name:i(695),level:3,type:"m",minver:3,webm:!1,description:i(1079)},32123:{name:i(847),cppname:i(930),level:4,type:"b",webm:!1,description:i(1017)},159:{name:"Channels",cppname:i(427),level:4,type:"u",mandatory:!0,minver:1,default:1,range:"not 0",description:i(775)},30901:{name:i(1075),cppname:"AudioOutputSamplingFreq",level:4,type:"f",minver:1,default:i(979),range:"> 0",description:i(976)},181:{name:i(972),cppname:i(906),level:4,type:"f",mandatory:!0,minver:1,default:8e3,range:i(1136),description:i(919)},225:{name:i(742),cppname:"TrackAudio",level:3,type:"m",minver:1,description:"Audio settings."},2327523:{name:"FrameRate",cppname:i(960),level:4,type:"f",range:"> 0",strong:i(901),description:"Number of frames per second.  only."},3126563:{name:i(527),cppname:i(679),level:4,type:"f",webm:!1,range:i(1136),description:"Gamma Value."},3061028:{name:i(547),cppname:i(477),level:4,type:"b",minver:1,webm:!1,bytesize:4,description:"Same value as in AVI (32 bits)."},21683:{name:i(729),cppname:i(359),level:4,type:"u",minver:1,default:0,description:i(624)},21682:{name:i(884),cppname:i(1124),level:4,type:"u",minver:1,default:0,description:i(946)},21690:{name:"DisplayHeight",cppname:i(942),level:4,type:"u",minver:1,default:i(496),range:i(1060),description:i(503)},21680:{name:i(417),cppname:i(375),level:4,type:"u",minver:1,default:i(1022),range:"not 0",description:i(575)},21725:{name:i(466),cppname:"VideoPixelCropRight",level:4,type:"u",minver:1,default:0,description:i(835)},21708:{name:i(877),cppname:"VideoPixelCropLeft",level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove on the left of the image."},21691:{name:i(555),cppname:i(1157),level:4,type:"u",minver:1,default:0,description:"The number of video pixels to remove at the top of the image."},21674:{name:i(1050),cppname:i(993),level:4,type:"u",minver:1,default:0,description:i(551)},186:{name:i(496),cppname:"VideoPixelHeight",level:4,type:"u",mandatory:!0,minver:1,range:i(1060),description:i(593)},176:{name:"PixelWidth",cppname:i(388),level:4,type:"u",mandatory:!0,minver:1,range:i(1060),description:i(480)},21433:{name:"OldStereoMode",level:4,type:"u",maxver:"0",webm:!1,divx:!1,description:"DEPRECATED, DO NOT USE. Bogus StereoMode value used in old versions of libmatroska. (0: mono, 1: right eye, 2: left eye, 3: both eyes)."},21440:{name:"AlphaMode",cppname:i(426),level:4,type:"u",minver:3,webm:!0,default:0,description:i(1133)},21432:{name:i(633),cppname:i(875),level:4,type:"u",minver:3,webm:!0,default:0,description:i(733)},154:{name:i(1165),cppname:i(892),level:4,type:"u",mandatory:!0,minver:2,webm:!0,default:0,range:i(918),description:"Set if the video is interlaced. (1 bit)"},224:{name:i(823),cppname:"TrackVideo",level:3,type:"m",minver:1,description:i(1096)},26277:{name:"TrackTranslateTrackID",level:4,type:"b",mandatory:!0,minver:1,webm:!1,description:i(389)},26303:{name:i(940),level:4,type:"u",mandatory:!0,minver:1,webm:!1,description:"The chapter codec using this ID (0: Matroska Script, 1: DVD-menu)."},26364:{name:i(515),level:4,type:"u",multiple:!0,minver:1,webm:!1,description:i(1038)},22203:{name:"SeekPreRoll",level:3,type:"u",mandatory:!0,multiple:!1,default:0,minver:4,webm:!0,description:"After a discontinuity, SeekPreRoll is the duration in nanoseconds of the data the decoder must decode before the decoded data is valid."},22186:{name:"CodecDelay",level:3,type:"u",multiple:!1,default:0,minver:4,webm:!0,description:i(752)},28587:{name:i(999),level:3,type:"u",multiple:!0,minver:1,webm:!1,description:i(1103)},170:{name:"CodecDecodeAll",level:3,type:"u",mandatory:!0,minver:2,webm:!1,default:1,range:"0-1",description:"The codec can decode potentially damaged data (1 bit)."},2536e3:{name:i(384),level:3,type:"s",multiple:!0,webm:!1,description:"A URL to download about the codec used."},3883072:{name:i(635),level:3,type:"s",multiple:!0,webm:!1,description:i(962)},3839639:{name:"CodecSettings",level:3,type:"8",webm:!1,description:i(368)},25506:{name:i(1163),level:3,type:"b",minver:1,description:"Private data only known to the codec."},2274716:{name:"Language",cppname:i(701),level:3,type:"s",minver:1,default:i(719),description:i(920)},21358:{name:"Name",cppname:i(1140),level:3,type:"8",minver:1,description:i(849)},21998:{name:i(390),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:"The maximum value of BlockAdditions for this track."},21375:{name:i(1052),level:3,type:"i",webm:!1,default:0,description:i(558)},2306383:{name:"TrackTimecodeScale",level:3,type:"f",mandatory:!0,minver:1,maxver:"3",webm:!1,default:1,range:"> 0",description:i(420)},2313850:{name:"DefaultDecodedFieldDuration",cppname:i(887),level:3,type:"u",minver:4,range:i(1060),description:i(859)},2352003:{name:"DefaultDuration",cppname:i(782),level:3,type:"u",minver:1,range:"not 0",description:i(876)},28152:{name:i(529),cppname:i(1147),level:3,type:"u",minver:1,webm:!1,description:i(980)},28135:{name:i(1089),cppname:i(1115),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(804)},156:{name:"FlagLacing",cppname:i(372),level:3,type:"u",mandatory:!0,minver:1,default:1,range:"0-1",description:i(418)},21930:{name:i(706),cppname:i(1117),level:3,type:"u",mandatory:!0,minver:1,default:0,range:i(918),description:i(374)},185:{name:i(914),cppname:i(938),level:3,type:"u",mandatory:!0,minver:2,webm:!0,default:1,range:"0-1",description:"Set if the track is usable. (1 bit)"},29637:{name:i(491),level:3,type:"u",mandatory:!0,minver:1,range:i(1060),description:"A unique ID to identify the Track. This should be kept the same when making a direct stream copy of the Track to another file."},215:{name:"TrackNumber",level:3,type:"u",mandatory:!0,minver:1,range:i(1060),description:"The track number as used in the Block Header (using more than 127 tracks is not encouraged, though the design allows an unlimited number)."},174:{name:i(450),level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:"Describes a track with all elements."},374648427:{name:i(739),level:1,type:"m",multiple:!0,minver:1,description:i(1036)},175:{name:i(663),level:2,type:"b",multiple:!0,webm:!1,description:i(623)},202:{name:i(1063),level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:i(994)},201:{name:i(678),level:4,type:"u",multiple:!1,mandatory:!0,minver:0,webm:!1,divx:!0,description:i(994)},200:{name:i(596),level:3,type:"m",multiple:!1,minver:0,webm:!1,divx:!0,description:"DivX trick track extenstions"},207:{name:i(578),level:5,type:"u",default:0,description:"The (scaled) duration to apply to the element."},206:{name:"Delay",cppname:i(683),level:5,type:"u",default:0,description:i(690)},203:{name:i(365),cppname:i(750),level:5,type:"u",default:0,description:i(766)},205:{name:"FrameNumber",cppname:i(770),level:5,type:"u",default:0,description:i(1046)},204:{name:"LaceNumber",cppname:i(880),level:5,type:"u",minver:1,default:0,divx:!1,description:i(988)},232:{name:i(560),level:4,type:"m",multiple:!0,minver:1,divx:!1,description:i(588)},142:{name:i(461),level:3,type:"m",minver:1,divx:!1,description:i(400)},30114:{name:"DiscardPadding",level:3,type:"i",minver:4,webm:!0,description:i(904)},164:{name:"CodecState",level:3,type:"b",minver:2,webm:!1,description:i(833)},253:{name:i(1025),level:3,type:"i",webm:!1,description:i(964)},251:{name:"ReferenceBlock",level:3,type:"i",multiple:!0,minver:1,description:i(868)},250:{name:"ReferencePriority",cppname:i(531),level:3,type:"u",mandatory:!0,minver:1,webm:!1,default:0,description:i(1027)},155:{name:i(710),level:3,type:"u",minver:1,default:i(565),description:i(888)},165:{name:"BlockAdditional",level:5,type:"b",mandatory:!0,minver:1,webm:!1,description:i(1150)},238:{name:"BlockAddID",level:5,type:"u",mandatory:!0,minver:1,webm:!1,default:1,range:i(1060),description:i(519)},166:{name:"BlockMore",level:4,type:"m",mandatory:!0,multiple:!0,minver:1,webm:!1,description:"Contain the BlockAdditional and some parameters."},30113:{name:"BlockAdditions",level:3,type:"m",minver:1,webm:!1,description:i(1166)},162:{name:i(714),level:3,type:"b",webm:!1,description:"A Block with no data. It must be stored in the stream at the place the real Block should be in display order. (see Block Virtual)"},161:{name:i(1069),level:3,type:"b",mandatory:!0,minver:1,description:i(801)},160:{name:i(369),level:2,type:"m",multiple:!0,minver:1,description:i(793)},163:{name:i(1073),level:2,type:"b",multiple:!0,minver:2,webm:!0,divx:!0,description:i(431)},171:{name:i(1042),cppname:i(856),level:2,type:"u",minver:1,description:i(654),position:i(1034)},167:{name:"Position",cppname:i(755),level:2,type:"u",minver:1,webm:!1,description:"The Position of the Cluster in the segment (0 in live broadcast streams). It might help to resynchronise offset on damaged streams.",position:i(864)},22743:{name:"SilentTrackNumber",cppname:i(1010),level:3,type:"u",multiple:!0,minver:1,webm:!1,description:i(860)},231:{name:i(523),cppname:i(1058),level:2,type:"u",mandatory:!0,minver:1,description:i(1051)},524531317:{name:i(651),level:1,type:"m",multiple:!0,minver:1,description:i(843)},19840:{name:i(855),level:2,type:"8",mandatory:!0,minver:1,description:i(1121)},31657:{name:"Title",level:2,type:"8",minver:1,webm:!1,description:"General name of the segment."},2807730:{name:i(376),level:2,type:"u",mandatory:!0,minver:4,default:"1000000000",description:i(674)},2807729:{name:"TimecodeScale",level:2,type:"u",mandatory:!0,minver:1,default:"1000000",description:i(568)},27045:{name:"ChapterTranslateID",level:3,type:"b",mandatory:!0,minver:1,webm:!1,description:i(642)},27071:{name:i(649),level:3,type:"u",mandatory:!0,minver:1,webm:!1,description:i(731)},27132:{name:i(587),level:3,type:"u",multiple:!0,minver:1,webm:!1,description:i(797)},4096955:{name:i(845),level:2,type:"8",minver:1,webm:!1,description:i(463)},4110627:{name:i(421),level:2,type:"b",minver:1,webm:!1,bytesize:16,description:i(476)},3965867:{name:i(440),level:2,type:"8",minver:1,webm:!1,description:i(1131)},3979555:{name:i(716),level:2,type:"b",minver:1,webm:!1,bytesize:16,description:"A unique ID to identify the previous chained segment (128 bits)."},29604:{name:i(992),level:2,type:"b",minver:1,webm:!1,range:i(1060),bytesize:16,description:"A randomly generated unique ID to identify the current segment between many others (128 bits)."},357149030:{name:i(677),level:1,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(692)},21420:{name:i(759),level:3,type:"u",mandatory:!0,minver:1,description:"The position of the element in the segment in octets (0 = first level 1 element).",position:i(864)},21419:{name:i(1086),level:3,type:"b",mandatory:!0,minver:1,description:"The binary ID corresponding to the element name.",type2:"ebmlID"},19899:{name:i(712),cppname:"SeekPoint",level:2,type:"m",mandatory:!0,multiple:!0,minver:1,description:i(552)},290298740:{name:i(556),cppname:i(751),level:1,type:"m",multiple:!0,minver:1,description:"Contains the position of other level 1 elements."},32379:{name:i(1100),level:2,type:"m",multiple:!0,webm:!1,i:i(1040),description:"A list consists of a number of consecutive elements that represent one case where data is used in signature. Ex:  means that the BlockAdditional of all Blocks in all Clusters is used for encryption."},32347:{name:"SignatureElements",level:1,type:"m",webm:!1,description:i(824)},32437:{name:i(1144),level:1,type:"b",webm:!1,description:i(577)},32421:{name:"SignaturePublicKey",level:1,type:"b",webm:!1,description:i(564)},32410:{name:i(416),level:1,type:"u",webm:!1,description:i(965)},32394:{name:i(636),level:1,type:"u",webm:!1,description:i(1091)},458458727:{name:i(474),level:-1,type:"m",multiple:!0,webm:!1,description:i(758)},191:{name:i(409),level:-1,type:"b",minver:1,webm:!1,description:i(844),crc:!0},236:{name:i(831),level:-1,type:"b",minver:1,description:i(917)},17139:{name:i(1007),level:1,type:"u",mandatory:!0,default:8,minver:1,description:"The maximum length of the sizes you'll find in this file (8 or less in Matroska). This does not override the element size indicated at the beginning of an element. Elements that have an indicated size which is larger than what is allowed by EBMLMaxSizeLength shall be considered invalid."},17138:{name:"EBMLMaxIDLength",level:1,type:"u",mandatory:!0,default:4,minver:1,description:"The maximum length of the IDs you'll find in this file (4 or less in Matroska)."},17143:{name:"EBMLReadVersion",level:1,type:"u",mandatory:!0,default:1,minver:1,description:"The minimum EBML version a parser has to support to read this file."},440786851:{name:"EBML",level:"0",type:"m",mandatory:!0,multiple:!0,minver:1,description:i(438)}},n={},o={byEbmlID:r,byName:n};for(var a in r){n[r[a][i(518)][i(1102)]("-","_")]=parseInt(a,10)}e[i(1127)]=o},{}],18:[function(t,e,s){var i=kh;e[i(1127)]={name:"ts-ebml",version:i(893),description:i(903),scripts:{setup:i(487),init:i(595),update:i(698),reset:i(986),mkdir:i(549),clean:"rm -rf lib/* dist/* test/*.js; mkdir -p dist",build:i(717),start:"http-server . -s & tsc -w -p .& watchify lib/example_seekable.js -o test/example_seekable.js",stop:i(439),browserify:i(874),watchify:i(544),test:i(533),example:"tsc; browserify lib/example_seekable.js -o test/example_seekable.js",examples:i(745),examples_bsd:"tsc; for file in `find lib -name 'example_*.js' -type f -print`; do browserify lib/$(basename $file) -o test/$(basename $file); done",check:"tsc -w --noEmit -p ./",lint:i(501),doc:i(1030)},repository:{type:i(913),url:i(650)},keywords:["ebml",i(631),i(393),"matrosika",i(975)],author:i(1032),license:i(822),bugs:{url:i(618)},homepage:i(1164),dependencies:{buffer:i(453),commander:"^2.11.0",ebml:"^2.2.1","ebml-block":i(658),events:i(1023),"int64-buffer":i(641),matroska:i(697)},devDependencies:{"@types/commander":i(621),"@types/qunit":i(1104),browserify:i(514),empower:"^1.2.3","espower-cli":"^1.1.0","power-assert":i(762),"power-assert-formatter":i(953),"qunit-tap":i(1076),qunitjs:i(386),tslint:i(1129),typedoc:i(738),typescript:i(407),watchify:"^3.7.0"},bin:i(567),main:i(927),typings:i(736)}},{}]},{},[4])(4)}))})),Dh=ne[_h(896)](Ch);function Rh(){var t=["ChapterCountry","shift","_augment","The EditionUID to play from the segment linked in ChapterSegmentUID.","listener must be a function","writeUIntBE","trackCodecDelay","EBMLMaxSizeLength","cues","The version of EBML parser used to create the file.","ClusterSilentTrackNumber","createFloatBuffer","FileReferral","TagTargets","chunks","Specify wether the chapter is enabled. It can be enabled/disabled by a Control Track. When disabled, the movie should skip all the content between the TimeStart and TimeEnd of this chapter (see flag notes). (1 bit)","writeInt16LE","Table of horizontal angles for each successive channel, see appendix.","isView","Arguments must be Buffers","CueTrackPositions",'" is invalid for argument "value"',"PixelWidth","^1.1.1","TagTargetType","ReferenceVirtual","splice","This frame is referenced and has the specified cache priority. In cache only a frame of the same or higher priority can replace this frame. A value of 0 means the frame is not referenced.",'Specify the physical equivalent of this ChapterAtom like "DVD" (60) or "SIDE" (50), see complete list of values.',"The value of the Element.","typedoc --mode modules --out doc --disableOutputCheck","copy","legokichi duckscallion","List of tracks on which the chapter applies. If this element is not present, all tracks apply","prevCluster","extractElement","A top-level block of information with many tracks described.","trackNumber","Specify an edition UID on which this translation applies. When not specified, it means for all editions found in the segment.","swap64","Cluster|Block|BlockAdditional","addListener","PrevSize","TrackNumber","Index out of range","The relative position of the referenced block inside the cluster with 0 being the first possible position for an element inside that cluster.","The number of the frame to generate from this lace with this delay (allow you to generate many frames from the same Block/Frame).","sizeEnd","error","reduce","PixelCropBottom","Absolute timestamp of the cluster (based on TimecodeScale).","TrackOffset","A unique ID to identify the Chapter(s) the tags belong to. If the value is 0 at this level, the tags apply to all chapters in the Segment.","cluster_ptr","DefaultDuration","groupEnd","amd","ClusterTimecode","setPrototypeOf","not 0","The languages corresponding to the string, in the bibliographic ISO-639-2 form.","A unique ID to identify the EditionEntry(s) the tags belong to. If the value is 0 at this level, the tags apply to all editions in the Segment.","ReferenceTimeCode","Encoder","swap16","DateUTC","The kind of plane this track corresponds to (0: left eye, 1: right eye, 2: background).","apply","Block","<Buffer ","dataStart","species","SimpleBlock","7bit or more bigger uint not supported.","OutputSamplingFrequency","^1.5.1","argument should be a Buffer","listener","Operation that needs to be applied on tracks to create this virtual track. For more details look at the Specification Notes on the subject.","A unique string ID to identify the Chapter. Use for WebVTT cue identifier storage.","A value describing what kind of transformation has been done. Possible values: 0 - compression, 1 - encryption","readInt16BE","writeInt8","A segment to play in place of this chapter. Edition ChapterSegmentEditionUID should be used for this segment, otherwise no edition is used.","removeAllListeners","SeekID","video","The compression algorithm used. Algorithms that have been specified so far are: 0 - zlib,   3 - Header Stripping","MinCache","readUInt32BE","Signature algorithm used (1=RSA, 2=elliptic).","_buffers","matroska","Reader","The track for which a position is given.","Video settings.","getTime","type","buffer/","SignatureElementList","ChapProcess","replace","Specify that this track is an overlay track for the Track specified (in the u-integer). That means when this track has a gap (see SilentTracks) the overlay track should be used instead. The order of multiple TrackOverlay matters, the first one is the one that should be used. If not found it should be the second, etc.","^2.0.31","readUIntLE","CueRefTime","metadataSize","Settings for one content encoding like compression or encryption.","matroska/lib/schema","logging","Duration of the segment (based on TimecodeScale).","readSize","Contains general information about the target.","ChapProcessTime","TrackMinCache","[object Array]","TrackFlagForced","byteLength","Date of the origin of timestamp (value 0), i.e. production date.","5489swtqVq",'Muxing application or library ("libmatroska-0.4.3").',"readIntLE","events","VideoDisplayUnit","prototype",'The "string" argument must be of type string. Received type number',"exports","ChapterProcessPrivate","^3.15.1","2304sHJZqT","An escaped filename corresponding to the previous segment.","writeFloatLE","Alpha Video Mode. Presence of this element indicates that the BlockAdditional element could contain Alpha data.","Timestamp of the end of Chapter (timestamp excluded, not scaled).","TrackType","> 0","emit","hasLoggingStarted","flush","TrackName","The countries corresponding to the string, same 2 octets as in Internet domains.","CuePoint","foo","Signature","_cursor","Received type ","TrackMaxCache","equals","ucs-2","Interpreted by the codec as it wishes (using the BlockAddID).","Timestamp of the referenced Block.","ChapterUID","putRefinedMetaData: info.cueInfos property is deprecated. please use info.cues","Buffer.write(string, encoding, offset[, length]) is no longer supported","removeElement","DocType","VideoPixelCropTop","groupCollapsed","children","_schema","TargetTypeValue","compare","CodecPrivate","https://github.com/legokichi/ts-ebml#readme","FlagInterlaced","Contain additional blocks to complete the main one. An EBML parser that has no knowledge of the Block structure could still see and use/skip these data.","CueReference","utf-8","readInt32LE","Timestamp of the start of Chapter (not scaled).","WebPBlockFilter","ChapterProcessCodecID","isEnd","floor","Element containing elements specific to Tracks/Chapters. A list of valid tags can be found here.","object","VideoAspectRatio","readInt32BE","slice","writeTag","getSchemaInfo","First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.","BlockAdditionID","Bits per sample, mostly used for PCM.","_result","A string describing the encoding setting used.","BlockGroup","clusterRelative","buffer","TrackFlagLacing","last2SimpleBlockAudioTrackTimecode","Set if that track MUST be active during playback. There can be many forced track for a kind (audio, video or subs), the player should select the one which language matches the user preference or the default + forced track. Overlay MAY happen between a forced and non-forced track of the same kind. (1 bit)","VideoDisplayWidth","TimecodeScaleDenominator","size: 0x","invisible","defineProperty","parent","removeListener","warn","The minimum DocType version an interpreter has to support to read this file.","CodecDownloadURL","break","^2.4.0","ContentCompression","VideoPixelWidth","The binary value used to represent this track in the chapter codec data. The format depends on the ChapProcessCodecID used.","MaxBlockAdditionID",'"offset" is outside of buffer bounds',"abs","mkv","Settings for several content encoding mechanisms like compression or encryption.","trackInfo","./EBMLDecoder","toBuffer","logGroup","writeUInt32BE","Contains slices description.","The trackUID number of the track representing the plane.","inspect","TagAttachmentUID","unknownSize","nothing","ChapLanguage","^2.4.2","cueInfos","CRC-32","EditionUID","utf-16le","segmentOffset","out of range index","9GTSBno","An attached file.","SignatureHash","DisplayWidth","Set if the track may contain blocks using lacing. (1 bit)","TrackJoinUID","DEPRECATED, DO NOT USE. The scale to apply on this track to work at normal speed in relation with other tracks (mostly used to adjust video speed when the audio length differs).","NextUID","isBuffer","SignedElement","clusterPtrs","split","VideoAlphaMode","AudioChannels","readVint","function","string","Similar to SimpleBlock Structure","toString","trim","2001-01-01T00:00:00.000Z","trackTypes","EBML","lastClusterPosition","Set the EBML characteristics of the data to follow. Each EBML document has to start with this.","killall -- node */tsc -w -p","PrevFilename","assign","stop","offset is not uint","Settings describing the compression used. Must be present if the value of ContentEncodingType is 0 and absent otherwise. Each block must be decompressable even if no previous block is available in order not to prevent seeking.","last2SimpleBlockVideoTrackTimecode","STATE_TAG","CueTime","unshift","_stack","TrackEntry","pow","SlowBuffer","^5.0.7","ChapCountry","use_duration_every_simpleblock","STATE_CONTENT","writeInt32LE","duration","timecode","_state","Slices","join","An escaped filename corresponding to the next segment.","Contains all the commands associated to the Atom.","RIFF","PixelCropRight","UID of the Track to apply this chapter too. In the absense of a control track, choosing this chapter will select the listed Tracks and deselect unlisted tracks. Absense of this element indicates that the Chapter should be applied to any currently used Tracks.","TrickTrackFlag","Contains the type of the codec used for the processing. A value of 0 means native Matroska processing (to be defined), a value of 1 means the DVD command set is used. More codec IDs can be added later.","default","call","TagDefault","charCodeAt","SignatureSlot",'The value "',"A unique ID to identify the next chained segment (128 bits).","VideoColourSpace","2010UysMvv","readInt16LE","Width of the encoded video frames in pixels.","A unique ID to identify the Chapter.","convertEBMLDateToJSDate","ChapterProcessCommand","Contains the string to use as the chapter atom.","The hash algorithm used for the signature. A value of '0' means that the contents have not been signed but only encrypted. Predefined values: 1 - SHA1-160 2 - MD5","TrackCombinePlanes","npm install -g http-server;","writeUInt32LE","ebml/lib/ebml/tools","TagLanguage","TrackUID","createIntBuffer","metadatas","tools","Invalid hex string","PixelHeight","Attempt to allocate Buffer larger than maximum ","cluster",'The "value" argument must not be of type number. Received type number',"CueDuration","tslint -c ./tslint.json --project ./tsconfig.json --type-check","writeUInt16LE","Height of the video frames to display. The default value is only valid when DisplayUnit is 0.","number","Number of the referenced Block of Track X in the specified Cluster.","Absolute timestamp according to the segment time base.","val must be string, number or Buffer","readDoubleBE","7gXYQRy","Defines when the process command should be handled (0: during the whole chapter, 1: before starting playback, 2: after playback of the chapter).","The UID of an attachment that is used by this codec.","Invalid code point","nextUInt8","^13.1.0","TrackTranslateEditionUID","readChunk","A unique ID to identify the Track(s) the tags belong to. If the value is 0 at this level, the tags apply to all tracks in the Segment.","name","An ID to identify the BlockAdditional level.","The data of the file.","The values of the Tag if it is binary. Note that this cannot be used in the same SimpleTag as TagString.",'Uncaught, unspecified "error" event. (',"Timecode","filter","EditionFlagDefault","push","GammaValue","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","MaxCache","metadataloaded","FlagReferenced","stack","tsc; espower lib/test.js > lib/test.tmp; mv -f lib/test.tmp lib/test.js; browserify lib/test.js -o test/test.js","substr","FileData","writeVint","ContentSignature","from","CueBlockNumber","frames"," iterations!","isArray","lastClusterTimecode","watchify lib/index.js --standalone EBML -o dist/EBMl.js -v","encode","LN2","ColourSpace","keyframe","mkdir lib dist 2>/dev/null","constructor","The number of video pixels to remove at the bottom of the image (for HDTV content).","Contains a single seek entry to an EBML element.","setMaxListeners","dataEnd","PixelCropTop","SeekHead","TrackPlane","A value to add to the Block's Timestamp. This can be used to adjust the playback offset of a track.","leak detected. %d listeners added. ","TimeSlice","context","sizeStart","Contain attached files.","The public key to use with the algorithm (in the case of a PKI-based signature).","TrackDuration",'"buffer" argument must be a Buffer instance',"./lib/cli.js","Timestamp scale in nanoseconds (1.000.000 means all timestamps in the segment are expressed in milliseconds).","Detected ","ChapterProcessData"," bytes","This is the ID of the private key the data was signed with.","nextUIntV","FileMimeType","Width of the video frames to display. The default value is only valid when DisplayUnit is 0.","TrackJoinBlocks","The signature of the data (until a new.","SliceDuration","Specify if the chapters can be defined multiple times and the order to play them is enforced. (1 bit)","TrickMasterTrackSegmentUID","readUInt32LE","readDoubleLE","Buffer size must be a multiple of 16-bits","ChapterSegmentUID","undefined","380585hsUkZN","ChapterTranslateEditionUID","Contains extra time information about the data contained in the Block. While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback.","ContentSigAlgo","image/webp","_events","binary","Height of the encoded video frames in pixels.","nodeName","npm run update; npm run mkdir; npm run build","ReferenceFrame","ChapterTimeEnd","readUInt8","drop_default_duration","The encryption algorithm used. The value '0' means that the contents have not been encrypted but only signed. Predefined values: 1 - DES, 2 - 3DES, 3 - Twofish, 4 - Blowfish, 5 - AES","fromCharCode","min","FileUID","ContentEncryption","Uint64BE","A binary value that a track/codec can refer to when the attachment is needed.","Contains a video plane track that need to be combined to create this 3D track","ChapterTrackNumber","MODULE_NOT_FOUND","TagBinary","encodeTag","emit_segment_info","commonjsGlobal","Contains the command information. The data should be interpreted depending on the ChapProcessCodecID value. For ChapProcessCodecID = 1, the data correspond to the binary DVD cell pre/post commands.","WebPFrameFilter","ContentEncKeyID","firstAudioBlockRead","https://github.com/legokichi/ts-ebml/issues","Unknown encoding: ","cannot read ","^2.9.1",'"length" is outside of buffer bounds',"Similar to EncryptedBlock Structure)","Specify the possible modifications to the aspect ratio (0: free resizing, 1: keep aspect ratio, 2: fixed).","ContentEncodings","use_webp",'"size" argument must be a number',"TimecodeScale","TrackAttachmentLink","DocTypeReadVersion","webm","map","StereoMode","version","CodecInfoURL","SignatureAlgo","VP8BitStreamToRiffWebPBuffer","trackDefaultDuration","createCommonjsModule","WEBP","^0.1.9","The binary value used to represent this segment in the chapter codec data. The format depends on the ChapProcessCodecID used.","decode","EBML structure is broken","TagEditionUID","ContentCompSettings","readIntBE","Multiple segments detected!","ChapterTranslateCodec","git+https://github.com/legokichi/ts-ebml.git","Cluster","timecodeScale","7047enzdUw","Size of the previous Cluster, in octets. Can be useful for backward playing.","toNumber","FileUsedEndTime","writeUInt16BE","^1.1.0","pop","fill",'"encoding" must be a valid string encoding',"Tells when this modification was used during encoding/muxing starting with 0 and counting upwards. The decoder/demuxer has to start with the highest order number it finds and work its way down. This value has to be unique over all ContentEncodingOrder elements in the segment.","EncryptedBlock","fromByteArray","ascii","TagTargetTypeValue","INSPECT_MAX_BYTES","ChapString","use_segment_info","_total","Buffer","A randomly generated unique ID that all segments related to each other must use (128 bits).","SimpleTag","Timestamp scale numerator, see TimecodeScale.","writeInt32BE","_buffer","Info","ReferenceOffset","VideoGamma","unknown tag type:","swap32","read","SliceDelay","ChapterAtom","ChapterProcess","encodeChunk","toPrimitive","or Array-like Object. Received type ","toArray","The (scaled) delay to apply to the element.","CueRefCluster","Contains miscellaneous general information and statistics on the file.","writeInt16BE","An element ID whose data will be used to compute the signature.","TrackOperation","28praVED","^2.2.3","npm run reset; npm update","A bit field that describes which elements have been modified in this way. Values (big endian) can be OR'ed. Possible values: 1 - all frame contents, 2 - the track's private data, 4 - the next ContentEncoding (next ContentEncodingOrder. Either the data inside ContentCompression and/or ContentEncryption)","toByteArray","TrackLanguage","CueCodecState","A system to define basic menus and partition data. For more detailed information, look at the Chapters Explanation.","ebmlBlock","some","FlagForced","EditionEntry","byEbmlID","discardable","BlockDuration","makeMetadataSeekable","Seek","firstVideoBlockRead","BlockVirtual","Unrepresentable length: ","PrevUID","npm run clean   && tsc    -p .; npm run browserify","und","eng","Out of range index",'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ',"Settings describing the encryption used. Must be present if the value of ContentEncodingType is 1 and absent otherwise.","Int64LE","encoding must be a string","writeIntBE","readFloatBE",'" is invalid for option "size"',"warned","AspectRatioType","CueRelativePosition","The chapter codec using this ID (0: Matroska Script, 1: DVD-menu).","cue_info","Stereo-3D video mode (0: mono, 1: side by side (left eye is first), 2: top-bottom (right eye is first), 3: top-bottom (left eye is first), 4: checkboard (right is first), 5: checkboard (left is first), 6: row interleaved (right is first), 7: row interleaved (left is first), 8: column interleaved (right is first), 9: column interleaved (left is first), 10: anaglyph (cyan/red), 11: side by side (right eye is first), 12: anaglyph (green/magenta), 13 both eyes laced in one Block (left eye is first), 14 both eyes laced in one Block (right eye is first)) . There are some more details on 3D support in the Specification Notes.","CodecID","put","./lib/index.d.ts","metadata dataEnd has wrong number","^0.5.3","Tracks","EditionFlagOrdered",'"size" argument must be of type number',"Audio","TagTrackUID","_isBuffer","tsc; for file in `find lib -name 'example_*.js' -type f -printf '%f\\n'`; do browserify lib/$file -o test/$file; done","9d012a","'offset' is out of bounds","ucs2","float type bits must 4bytes or 8bytes","SliceBlockAddID","SeekHeader","CodecDelay is The codec-built-in delay in nanoseconds. This value must be subtracted from each block timestamp in order to get the actual timestamp. The value should be small so the muxing of tracks with the same actual timestamp are in the same Cluster.","01ffffffffffffff","'length' is out of bounds","ClusterPosition","ContentEncodingScope",'Writing application ("mkvmerge-0.3.3").',"Contain signature of some (coming) elements in the stream.","SeekPosition","CodecDelay",'"value" argument is out of bounds',"^1.4.4","nextIntV","readTag","AttachmentLink","The ID of the BlockAdditional element (0 is the main Block).","value","commonjsRequire","tagId","SliceFrameNumber","offset","AudioBitDepth","base64-js","hex","Numbers of channels in the track.","cue","forEach","set","length","Use emitter.setMaxListeners() to increase limit.","CueClusterPosition","TrackDefaultDuration","A human-readable string specifying the codec.","readUIntBE","audio","Number of the Block in the specified Cluster.","63872EOmYhw","_tag_stack","listenerCount","The duration of the block according to the segment time base. If missing the track's DefaultDuration does not apply and no duration information is available in terms of the cues.","level","elm","Basic container of information containing a single Block or BlockVirtual, and information specific to that Block/VirtualBlock.","ClusterSilentTracks","A human-friendly name for the attached file.","copyWithin","Specify an edition UID on which this correspondance applies. When not specified, it means for all editions found in the segment.","An ID corresponding to the codec, see the codec page for more info.","A tuple of corresponding ID used by chapter codecs to represent this segment.","Element containing elements specific to Tracks/Chapters.","Block containing the actual data to be rendered and a timestamp relative to the Cluster Timecode. (see Block Structure)","concat","SegmentFamily","The minimum number of frames a player should be able to cache during playback. If set to 0, the reference pseudo-cache system is not used.","informational","_arr","TYPED_ARRAY_SUPPORT","ChapProcessData","Targets","ieee754","currentTrack","readBlock","The first argument must be one of type string, Buffer, ArrayBuffer, Array, ","toJSON","__proto__","277162WGwcIp","nextBuffer","This element contains all other top-level (level 1) elements. Typically a Matroska file is composed of 1 segment.","lastIndexOf","alloc","If an edition is hidden (1), it should not be available to the user interface (but still to Control Tracks; see flag notes). (1 bit)","MIT","Video","Contains elements that will be used to compute the signature.","The position of the Codec State corresponding to this Cue element. 0 means that the data is taken from the initial Track Entry.","both","parent element is not master element","subarray","Attachments","TrackTranslate","Void","reverse","The new codec state to use. Data interpretation is private to the codec. This information should always be referenced by a seek entry.","A number to indicate the logical level of the target (see TargetType).","The number of video pixels to remove on the right of the image.","utf8","int64-buffer","trace","code","readContent","_maxListeners","Trying to access beyond buffer length","The lower level element containing the (monolithic) Block structure.","The CRC is computed on all the data of the Master element it's in. The CRC element should be the first in it's parent master for easier reading. All level 1 elements should include a CRC-32. The CRC in use is the IEEE CRC32 Little Endian","NextFilename","isarray","ChannelPositions","A filename corresponding to this segment.","A human-readable track name.","readInt8","The trackUID number of a track whose blocks are used to create this virtual track.","781098ARilQC","CueRefCodecState","FlagDefault","MuxingApp","ClusterPrevSize","writeUIntLE","base64","The period in nanoseconds (not scaled by TimcodeScale)\nbetween two successive fields at the output of the decoding process (see the notes)","One of the track number that are not used from now on in the stream. It could change later if not specified as silent in a further Cluster.","createUIntBuffer","./EBMLReader","toLowerCase","segment","listeners","ChapterPhysicalEquiv","No schema entry found for ","Timestamp of another frame used as a reference (ie: B or P frame). The timestamp is relative to the block it's attached to."," closing element before finding the start","DefaultDuration detected!, remove it","STATE_SIZE","Argument must be a Buffer","poolSize","browserify lib/index.js --standalone EBML -o dist/EBML.js","VideoStereoMode","Number of nanoseconds (not scaled via TimecodeScale) per frame ('frame' in the Matroska sense -- one element put into a (Simple)Block).","PixelCropLeft","DocTypeVersion","readUInt16LE","SliceLaceNumber","./EBMLEncoder","nextInt16BE","append cluster pointers to seekhead is deprecated. please use cues","DisplayUnit","match","allocUnsafe","TrackDefaultDecodedFieldDuration",'The duration of the Block (based on TimecodeScale). This element is mandatory when DefaultDuration is set for the track (but can be omitted as other default values). When not written and with no DefaultDuration, the value is assumed to be the difference between the timestamp of this Block and the timestamp of the next Block in "display" order (not coding order). This element can be useful at the end of a Track (as there is not other Block available), or when there is a break in a track like for subtitle tracks. When set to 0 that means the frame is not a keyframe.',"utf16le","ended",'"list" argument must be an Array of Buffers',"VideoFlagInterlaced","2.0.2","FileDescription","__extends","unwrapExports","createRIFFChunk","ContentEncodingType","ChapterFlagHidden","Buffer size must be a multiple of 64-bits","Informational","The position of the Codec State corresponding to this referenced element. 0 means that the data is taken from the initial Track Entry.","ebml decoder and encoder","Duration in nanoseconds of the silent data added to the Block (padding at the end of the Block for positive value, at the beginning of the Block for negative value). The duration of DiscardPadding is not calculated in the duration of the TrackEntry and should be discarded during playback.","indexOf","AudioSamplingFreq","startTag","readUInt16BE","Int64BE","Set if that track (audio, video or subs) SHOULD be active if no language found matches the user preference. (1 bit)",'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array',"write","git","FlagEnabled","Duration","allocUnsafeSlow","Used to void damaged data, to avoid unexpected behaviors when using damaged data. The content is discarded. Also used to reserve space in a sub-element for later use.","0-1","Sampling frequency in Hz.","Specifies the language of the track in the Matroska languages form.","EventEmitter","byteOffset","./tools","n must be a positive number"," octets float. failback to 0","TrackPlaneType","./lib/index.js","newListener","readFloatLE","AudioPosition","Attempt to write outside buffer bounds","./vint","TagString","Segment","targetStart out of bounds","log","toLocaleString","TrackFlagEnabled","ContentEncAlgo","TrackTranslateCodec","Invalid typed array length","VideoDisplayHeight","__esModule","TagChapterUID","Uint64LE","How DisplayWidth & DisplayHeight should be interpreted (0: pixels, 1: centimeters, 2: inches, 3: Display Aspect Ratio).","sourceEnd out of bounds","writeFloatBE","latin1","writeIntLE","includes","ChapterTranslate","^1.4.1","valueOf","A unique ID to identify the edition. It's useful for tagging an edition.","writeDoubleBE","TargetType","keys","SegmentFilename","VideoFrameRate","Cues","A URL to find information about the codec used.","1556504OWqKDX","Relative position of the data that should be in position of the virtual block.","Hash algorithm used (1=SHA1-160, 2=MD5).","data","Tag","isEncoding","Tags","Contains all information about a segment edition.","writeDoubleLE","SamplingFrequency","ChapterStringUID",'A top-level element to speed seeking access. All entries are local to the segment. Should be mandatory for non "live" streams.',"webp","Real output sampling frequency in Hz (used for SBR techniques).","metadata","This browser lacks typed array (Uint8Array) support which is required by ","Sampling Frequency","The maximum cache size required to store referenced frames in and the current frame. 0 means no cache is needed.","ContentCompAlgo","dataSize","CueTrack","Specifies the language of the tag specified, in the Matroska languages form.","Fixed-Size Lacing Error","rm -rf node_modules","kMaxLength","The reverse number of the frame in the lace (0 is the last frame, 1 is the next to last, etc). While there are a few files in the wild with this element, it is no longer in use and has been deprecated. Being able to interpret this element is not required for playback.","segment_offset","tagStart","endTag","SegmentUID","VideoPixelCropBottom","DivX trick track extenstions","../package.json","unknown","The list of tracks that are not used in that part of the stream. It is useful when using overlay tracks on seeking. Then you should decide what track to use.","A string that describes the type of document that follows this EBML header. 'matroska' in our case or 'webm' for webm files.","TrackOverlay"];return(Rh=function(){return t})()}function Lh(t,e){var s=xh();return(Lh=function(t,e){return s[t-=147]})(t,e)}!function(t,e){for(var s=Lh,i=t();;)try{if(535634===parseInt(s(372))/1+-parseInt(s(221))/2*(parseInt(s(473))/3)+parseInt(s(464))/4+-parseInt(s(255))/5*(parseInt(s(201))/6)+parseInt(s(224))/7*(-parseInt(s(353))/8)+-parseInt(s(176))/9+-parseInt(s(259))/10*(-parseInt(s(453))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xh);var Ph=re((function(t){var e=Lh;function s(t,e){var n=Lh;if(!t)throw n(434);e=e||{type:n(244)},e=new i(t,e);var o=this;function a(s){var i=n;s&&(e[i(333)]=function(){var t=i;s(),s=e[t(333)]=null});var o=new r(t,e);(g=new o(t,e)).record(),u(i(161)),!e[i(261)]&&console.log(i(365),g[i(479)][i(444)],i(580),e.type)}function h(t){var s=n;if(t=t||function(){},g){if("paused"===o[s(422)])return o[s(407)](),void setTimeout((function(){h(t)}),1);o[s(422)]!==s(161)&&!e[s(261)]&&console[s(492)]('Recording state should be: "recording", however current state is: ',o[s(422)]),!e[s(261)]&&console[s(393)](s(388)+e[s(428)]+s(316)),e[s(428)]!==s(552)?g[s(535)](i):(g[s(535)](),i()),u(s(368))}else m();function i(i){var r=s;if(g){Object[r(156)](g)[r(555)]((function(t){"function"!=typeof g[t]&&(o[t]=g[t])}));var n=g.blob;if(!n){if(!i)throw"Recording failed.";g.blob=n=i}if(n&&!e[r(261)]&&console.log(n[r(428)],"->",b(n.size)),t){var a;try{a=p.createObjectURL(n)}catch(t){}"function"==typeof t[r(408)]?t[r(408)](o,a):t(a)}e[r(485)]&&c((function(t){var s=r,i={};i[e.type+s(412)]=t,P[s(331)](i)}))}else typeof t.call===r(252)?t[r(408)](o,""):t("")}}function l(t){var e=n;postMessage((new FileReaderSync)[e(158)](t))}function c(t,s){var i=n;if(!t)throw i(584);var r=s?s[i(413)]:(g||{}).blob;if(!r)return!e[i(261)]&&console[i(492)](i(456)),void setTimeout((function(){c(t,s)}),1e3);if("undefined"==typeof Worker||navigator[i(425)]){var o=new FileReader;o[i(158)](r),o[i(292)]=function(e){t(e.target.result)}}else{var a=function(t){var e=i;try{var s=p[e(375)](new Blob([t[e(443)](),e(206)+t.name+e(318)],{type:e(557)})),r=new Worker(s);return p[e(207)](s),r}catch(t){}}(l);a.onmessage=function(e){t(e[i(186)])},a[i(339)](r)}}function d(t){var e=n;t=t||0,o.state!==e(222)?o[e(422)]!==e(368)&&(t>=o[e(196)]?h(o[e(554)]):(t+=1e3,setTimeout((function(){d(t)}),1e3))):setTimeout((function(){d(t)}),1e3)}function u(t){var e=n;o&&(o[e(422)]=t,"function"==typeof o[e(193)][e(408)]?o[e(193)].call(o,t):o[e(193)](t))}var f=n(163)+e[n(428)]+n(177);function m(){var t=n;!0!==e[t(261)]&&console[t(492)](f)}var g,y={startRecording:function(s){var r=n;return!e[r(261)]&&console[r(393)](r(342),o.version),s&&(e=new i(t,s)),!e[r(261)]&&console[r(393)]("started recording "+e[r(428)]+r(316)),g?(g.clearRecordedData(),g[r(512)](),u("recording"),o[r(196)]&&d(),o):(a((function(){o[r(196)]&&d()})),o)},stopRecording:h,pauseRecording:function(){var t=n;g?o[t(422)]===t(161)?(u(t(222)),g[t(237)](),!e[t(261)]&&console[t(393)](t(334))):!e[t(261)]&&console[t(492)](t(336),o[t(422)]):m()},resumeRecording:function(){var t=n;g?o[t(422)]===t(222)?(u("recording"),g[t(389)](),!e[t(261)]&&console.log(t(424))):!e[t(261)]&&console[t(492)](t(153),o[t(422)]):m()},initRecorder:a,setRecordingDuration:function(t,e){var s=n;if(void 0===t)throw s(509);if("number"!=typeof t)throw"recordingDuration must be a number.";return o[s(196)]=t,o[s(554)]=e||function(){},{onRecordingStopped:function(t){o[s(554)]=t}}},clearRecordedData:function(){var t=n;g?(g.clearRecordedData(),!e[t(261)]&&console[t(393)]("Cleared old recorded data.")):m()},getBlob:function(){if(g)return g[n(413)];m()},getDataURL:c,toURL:function(){var t=n;if(g)return p[t(375)](g[t(413)]);m()},getInternalRecorder:function(){return g},save:function(t){g?S(g[n(413)],t):m()},getFromDisk:function(t){var i=n;g?s[i(285)](e[i(428)],t):m()},setAdvertisementArray:function(t){var s=n;e.advertisement=[];for(var i=t.length,r=0;r<i;r++)e.advertisement[s(275)]({duration:r,image:t[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){var t=n;"recording"===o[t(422)]&&!e[t(261)]&&console.warn("Stop an active recorder."),g&&typeof g[t(530)]===t(252)&&g.clearRecordedData(),g=null,u("inactive"),o[t(413)]=null},onStateChanged:function(t){var s=n;!e.disableLogs&&console[s(393)](s(234),t)},state:n(398),getState:function(){return o[n(422)]},destroy:function(){var t=n,s=e.disableLogs;e={disableLogs:!0},o[t(191)](),u(t(540)),y=o=null,I[t(386)]&&(I.AudioContextConstructor[t(363)](),I[t(386)]=null),e[t(261)]=s,!e[t(261)]&&console[t(393)](t(495))},version:n(152)};if(!this)return o=y,y;for(var A in y)this[A]=y[A];return o=this,y}function i(t,s){var i=e;return s.recorderType||s[i(428)]||(s[i(147)]&&s[i(244)]?s[i(428)]=i(244):s.audio&&!s[i(244)]&&(s[i(428)]=i(147))),s.recorderType&&!s.type&&(s.recorderType===R||s[i(240)]===D||"function"!==i(401)&&s.recorderType===F?s[i(428)]=i(244):s.recorderType===x?s[i(428)]=i(552):s[i(240)]===C?s[i(428)]="audio":s[i(240)]===_&&(w(t,i(147)).length&&w(t,"video")[i(382)]?s[i(428)]=i(244):!w(t,i(147))[i(382)]&&w(t,"video")[i(382)]?s.type=i(244):w(t,i(147))[i(382)]&&!w(t,i(244))[i(382)]&&(s[i(428)]=i(147)))),"function"!==i(401)&&"undefined"!=typeof MediaRecorder&&i(325)in MediaRecorder[i(519)]&&(!s[i(571)]&&(s[i(571)]=i(266)),!s[i(428)]&&(s[i(428)]=s[i(571)][i(526)]("/")[0]),s[i(399)]),!s[i(428)]&&(s[i(571)]&&(s[i(428)]=s[i(571)][i(526)]("/")[0]),!s[i(428)]&&(s.type=i(147))),s}function r(t,s){var i,r=e;return(y||f||m)&&(i=C),"undefined"!=typeof MediaRecorder&&r(325)in MediaRecorder[r(519)]&&!y&&(i=_),s[r(428)]===r(244)&&(y||m)&&(i=R,"function"!==r(401)&&typeof ReadableStream!==r(401)&&(i=F)),s[r(428)]===r(552)&&(i=x),s[r(428)]===r(337)&&(i=D),k()&&i!==D&&i!==x&&"undefined"!=typeof MediaRecorder&&r(325)in MediaRecorder.prototype&&(w(t,r(244))[r(382)]||w(t,r(147))[r(382)])&&(s[r(428)]===r(147)?typeof MediaRecorder[r(329)]===r(252)&&MediaRecorder.isTypeSupported(r(488))&&(i=_):typeof MediaRecorder[r(329)]===r(252)&&MediaRecorder[r(329)](r(266))&&(i=_)),t instanceof Array&&t.length&&(i=B),s[r(240)]&&(i=s[r(240)]),!s[r(261)]&&!!i&&!!i[r(444)]&&console[r(393)](r(269),i[r(444)]||i.constructor[r(444)]),!i&&A&&(i=_),i}function n(t){var i=e;this[i(332)]=function(e){e&&(t=e)},this[i(450)]={audio:!0,video:!0},this[i(262)]=function(){var e,r=i,n=this.mediaType,o=this.mimeType||{audio:null,video:null,gif:null};if(typeof n[r(147)]!==r(252)&&k()&&!w(t,r(147))[r(382)]&&(n[r(147)]=!1),"function"!=typeof n[r(244)]&&k()&&!w(t,"video").length&&(n[r(244)]=!1),typeof n[r(552)]!==r(252)&&k()&&!w(t,r(244))[r(382)]&&(n[r(552)]=!1),!n[r(147)]&&!n[r(244)]&&!n[r(552)])throw r(322);if(n[r(147)]&&(e=null,typeof n.audio===r(252)&&(e=n[r(147)]),this[r(583)]=new s(t,{type:"audio",bufferSize:this[r(314)],sampleRate:this[r(487)],numberOfAudioChannels:this[r(347)]||2,disableLogs:this[r(261)],recorderType:e,mimeType:o[r(147)],timeSlice:this[r(210)],onTimeStamp:this[r(558)]}),!n[r(244)]&&this[r(583)][r(262)]()),n[r(244)]){e=null,"function"==typeof n.video&&(e=n.video);var a=t;if(k()&&n[r(147)]&&typeof n[r(147)]===r(252)){var h=w(t,r(244))[0];g?((a=new v).addTrack(h),e&&e===R&&(e=_)):(a=new v)[r(148)](h)}this[r(419)]=new s(a,{type:r(244),video:this[r(244)],canvas:this[r(337)],frameInterval:this.frameInterval||10,disableLogs:this[r(261)],recorderType:e,mimeType:o[r(244)],timeSlice:this[r(210)],onTimeStamp:this[r(558)],workerPath:this[r(463)],webAssemblyPath:this[r(440)],frameRate:this[r(257)],bitrate:this[r(182)]}),!n[r(147)]&&this[r(419)][r(262)]()}if(n[r(147)]&&n[r(244)]){var l=this,c=!0===k();(n.audio instanceof C&&n[r(244)]||!0!==n[r(147)]&&!0!==n.video&&n.audio!==n.video)&&(c=!1),!0===c?(l.audioRecorder=null,l.videoRecorder[r(262)]()):l[r(419)][r(551)]((function(){var t=r;l[t(583)][t(551)]((function(){var e=t;l[e(419)].startRecording(),l[e(583)].startRecording()}))}))}n.gif&&(e=null,"function"==typeof n[r(552)]&&(e=n[r(552)]),this.gifRecorder=new s(t,{type:r(552),frameRate:this[r(257)]||200,quality:this[r(560)]||10,disableLogs:this[r(261)],recorderType:e,mimeType:o.gif}),this.gifRecorder[r(262)]())},this[i(575)]=function(t){var e=i;t=t||function(){},this[e(583)]&&this[e(583)][e(575)]((function(s){t(s,e(147))})),this[e(419)]&&this.videoRecorder[e(575)]((function(e){t(e,"video")})),this.gifRecorder&&this[e(391)][e(575)]((function(s){t(s,e(552))}))},this[i(228)]=function(){var t=i;this.audioRecorder&&this.audioRecorder[t(228)](),this.videoRecorder&&this[t(419)][t(228)](),this[t(391)]&&this.gifRecorder[t(228)]()},this[i(407)]=function(){var t=i;this[t(583)]&&this.audioRecorder.resumeRecording(),this[t(419)]&&this[t(419)].resumeRecording(),this[t(391)]&&this[t(391)].resumeRecording()},this.getBlob=function(t){var e=i,s={};return this.audioRecorder&&(s[e(147)]=this[e(583)][e(359)]()),this.videoRecorder&&(s.video=this[e(419)].getBlob()),this[e(391)]&&(s.gif=this.gifRecorder[e(359)]()),t&&t(s),s},this[i(360)]=function(){var t=i;this[t(583)]&&(this[t(583)][t(360)](),this[t(583)]=null),this[t(419)]&&(this[t(419)][t(360)](),this[t(419)]=null),this[t(391)]&&(this[t(391)][t(360)](),this[t(391)]=null)},this[i(271)]=function(t){var e=i;function s(t,s){var i=e;if("undefined"!=typeof Worker){var r=function(t){var s,i=e,r=p[i(375)](new Blob([t[i(443)](),i(206)+t[i(444)]+i(318)],{type:i(557)})),n=new Worker(r);if(void 0!==p)s=p;else{if(typeof webkitURL===i(401))throw i(532);s=webkitURL}return s[i(207)](r),n}((function(t){postMessage((new FileReaderSync).readAsDataURL(t))}));r[i(562)]=function(t){s(t[i(186)])},r[i(339)](t)}else{var n=new FileReader;n[i(158)](t),n.onload=function(t){var e=i;s(t[e(417)][e(251)])}}}this[e(359)]((function(i){var r=e;i[r(147)]&&i[r(244)]?s(i.audio,(function(e){s(i[r(244)],(function(s){t({audio:e,video:s})}))})):i.audio?s(i[r(147)],(function(e){t({audio:e})})):i[r(244)]&&s(i[r(244)],(function(e){t({video:e})}))}))},this[i(188)]=function(){var t=i;s.writeToDisk({audio:this[t(583)],video:this.videoRecorder,gif:this[t(391)]})},this[i(226)]=function(t){var e=i;!!(t=t||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this[e(583)][e(226)](typeof t[e(147)]===e(411)?t[e(147)]:""),!!t[e(244)]&&this.videoRecorder&&this[e(419)][e(226)]("string"==typeof t.video?t[e(244)]:""),t.gif&&this.gifRecorder&&this[e(391)][e(226)](typeof t[e(552)]===e(411)?t[e(552)]:"")}}s[e(541)]=e(152),e(304)!==e(401)&&(t[e(427)]=s),"undefined"===e(252)&&(void 0)[e(498)]&&(void 0)(e(469),[],(function(){return s})),s[e(285)]=function(t,s){var i=e;if(!s)throw i(328);console[i(393)](i(446)+(t===i(367)?i(178):t+" blob ")+i(455)),P[i(415)]((function(e,r){var n=i;t!==n(367)&&r===t+"Blob"&&s&&s(e),t===n(367)&&s&&s(e,r.replace(n(412),""))}))},s.writeToDisk=function(t){var s=e;console.log(s(209)),(t=t||{}).audio&&t[s(244)]&&t.gif?t[s(147)][s(271)]((function(e){var i=s;t[i(244)].getDataURL((function(s){var r=i;t[r(552)][r(271)]((function(t){P[r(331)]({audioBlob:e,videoBlob:s,gifBlob:t})}))}))})):t[s(147)]&&t[s(244)]?t[s(147)].getDataURL((function(e){var i=s;t.video[i(271)]((function(t){P[i(331)]({audioBlob:e,videoBlob:t})}))})):t[s(147)]&&t[s(552)]?t[s(147)][s(271)]((function(e){var i=s;t[i(552)][i(271)]((function(t){P[i(331)]({audioBlob:e,gifBlob:t})}))})):t[s(244)]&&t[s(552)]?t[s(244)][s(271)]((function(e){var i=s;t[i(552)][i(271)]((function(t){P[i(331)]({videoBlob:e,gifBlob:t})}))})):t[s(147)]?t[s(147)][s(271)]((function(t){P[s(331)]({audioBlob:t})})):t[s(244)]?t[s(244)][s(271)]((function(t){P[s(331)]({videoBlob:t})})):t.gif&&t[s(552)][s(271)]((function(t){P[s(331)]({gifBlob:t})}))},n[e(285)]=s[e(285)],n[e(188)]=s[e(188)],"function"!==e(401)&&(s[e(539)]=n);var o,a,h=e(274);o=void 0!==ne[e(247)]?ne[e(247)]:null,a=e,o&&typeof window===a(401)&&typeof ne[a(247)]!==a(401)&&(ne[a(247)][a(490)]={userAgent:h,getUserMedia:function(){}},!ne[a(247)].console&&(ne[a(247)][a(302)]={}),(typeof se[a(302)][a(393)]===a(401)||void 0===se[a(302)].error)&&(ne[a(247)].console.error=ne[a(247)][a(302)][a(393)]=se[a(302)][a(393)]||function(){var t=a;console[t(393)](arguments)}),typeof document===a(401)&&(o.document={documentElement:{appendChild:function(){return""}}},document[a(376)]=document[a(480)]=document[a(349)]=function(){var t={getContext:function(){return t},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return t},o[a(204)]=function(){}),typeof location===a(401)&&(o[a(378)]={protocol:a(295),href:"",hash:""}),"undefined"==typeof screen&&(o[a(387)]={width:0,height:0}),typeof p===a(401)&&(o[a(483)]={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),o[a(213)]=ne[a(247)]);var l=window[e(308)];if(typeof l===e(401))if(typeof webkitRequestAnimationFrame!==e(401))l=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame!==e(401))l=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)l=msRequestAnimationFrame;else if(typeof l===e(401)){var c=0;l=function(t,s){var i=e,r=(new Date)[i(327)](),n=Math.max(0,16-(r-c)),o=setTimeout((function(){t(r+n)}),n);return c=r+n,o}}var d=window[e(458)];void 0===d&&(typeof webkitCancelAnimationFrame!==e(401)?d=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame!==e(401)?d=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?d=msCancelAnimationFrame:typeof d===e(401)&&(d=function(t){clearTimeout(t)}));var u=window[e(297)];typeof u===e(401)&&("undefined"!=typeof webkitAudioContext&&(u=webkitAudioContext),typeof mozAudioContext!==e(401)&&(u=mozAudioContext));var p=window[e(483)];typeof p===e(401)&&typeof webkitURL!==e(401)&&(p=webkitURL),typeof navigator!==e(401)&&void 0===navigator[e(199)]&&(void 0!==navigator[e(189)]&&(navigator[e(199)]=navigator[e(189)]),typeof navigator[e(425)]!==e(401)&&(navigator[e(199)]=navigator.mozGetUserMedia));var f=!(-1===navigator[e(208)][e(436)]("Edge")||!navigator.msSaveBlob&&!navigator[e(320)]),m=!!window[e(238)]||-1!==navigator[e(208)][e(436)](e(426)),g=navigator[e(208)][e(573)]()[e(436)](e(305))>-1&&e(344)in window&&/ rv:/[e(559)](navigator[e(208)]),y=!m&&!f&&!!navigator[e(189)]||E()||-1!==navigator[e(208)][e(573)]().indexOf(e(242)),A=/^((?!chrome|android).)*safari/i[e(559)](navigator[e(208)]);A&&!y&&-1!==navigator.userAgent[e(436)](e(203))&&(A=!1,y=!0);var v=window[e(418)];function b(t){var s=e,i=[s(232),"KB","MB","GB","TB"];if(0===t)return s(165);var r=parseInt(Math[s(296)](Math.log(t)/Math[s(393)](1e3)),10);return(t/Math[s(429)](1e3,r)).toPrecision(3)+" "+i[r]}function S(t,s){var i=e;if(!t)throw i(335);if(!t[i(428)])try{t[i(428)]=i(266)}catch(t){}var r=(t.type||i(266))[i(526)]("/")[1];if(-1!==r[i(436)](";")&&(r=r[i(526)](";")[0]),s&&-1!==s.indexOf(".")){var n=s.split(".");s=n[0],r=n[1]}var o=(s||Math[i(198)](9999999999*Math[i(309)]())+888888888)+"."+r;if(typeof navigator.msSaveOrOpenBlob!==i(401))return navigator[i(320)](t,o);if(void 0!==navigator[i(550)])return navigator.msSaveBlob(t,o);var a=document[i(376)]("a");a[i(313)]=p[i(375)](t),a.download=o,a[i(243)]=i(493),(document[i(474)]||document[i(545)])[i(508)](a),typeof a[i(175)]===i(252)?a[i(175)]():(a[i(417)]=i(352),a.dispatchEvent(new MouseEvent(i(175),{view:window,bubbles:!0,cancelable:!0}))),p.revokeObjectURL(a.href)}function E(){var t=e;return"undefined"!=typeof window&&typeof window[t(315)]===t(304)&&"renderer"===window[t(315)].type||(!("undefined"==typeof process||typeof process.versions!==t(304)||!process[t(576)][t(184)])||typeof navigator===t(304)&&"string"==typeof navigator[t(208)]&&navigator[t(208)].indexOf(t(482))>=0)}function w(t,s){var i=e;return t&&t[i(256)]?t[i(256)]()[i(190)]((function(t){return t[i(300)]===(s||"audio")})):[]}function T(t,s){var i=e;"srcObject"in s?s.srcObject=t:i(531)in s?s[i(531)]=t:s[i(323)]=t}void 0===v&&"undefined"!=typeof webkitMediaStream&&(v=webkitMediaStream),typeof v!==e(401)&&void 0===v.prototype.stop&&(v[e(519)][e(535)]=function(){var t=e;this[t(256)]()[t(555)]((function(e){e[t(535)]()}))}),"function"!==e(401)&&(s[e(362)]=S,s[e(256)]=w,s[e(369)]=function(t,s){var i=e;if(typeof EBML===i(401))throw new Error(i(500));var r=new(EBML[i(565)]),n=new EBML.Decoder,o=EBML[i(254)],a=new FileReader;a[i(292)]=function(t){var e=i;n[e(279)](this[e(251)])[e(555)]((function(t){r.read(t)})),r[e(535)]();var a=o[e(179)](r[e(312)],r[e(548)],r[e(515)]),h=this.result.slice(r.metadataSize),l=new Blob([a,h],{type:"video/webm"});s(l)},a.readAsArrayBuffer(t)},s.bytesToSize=b,s[e(227)]=E);var I={};function k(){var t=e;if(g||A||f)return!0;navigator[t(435)];var s,i,r=navigator[t(208)],n=""+parseFloat(navigator[t(435)]),o=parseInt(navigator.appVersion,10);return(y||m)&&(s=r[t(436)]("Chrome"),n=r[t(181)](s+7)),-1!==(i=n[t(436)](";"))&&(n=n[t(181)](0,i)),-1!==(i=n[t(436)](" "))&&(n=n.substring(0,i)),o=parseInt(""+n,10),isNaN(o)&&(n=""+parseFloat(navigator[t(435)]),o=parseInt(navigator[t(435)],10)),o>=49}function _(t,s){var i=e,r=this;if(typeof t===i(401))throw i(276);if(typeof MediaRecorder===i(401))throw i(319);if((s=s||{mimeType:i(266)})[i(428)]===i(147)){var n;if(w(t,"video").length&&w(t,i(147))[i(382)])navigator[i(425)]?(n=new v).addTrack(w(t,i(147))[0]):n=new v(w(t,i(147))),t=n;(!s[i(571)]||-1===s.mimeType.toString()[i(573)]()[i(436)]("audio"))&&(s[i(571)]=i(y?488:460)),s[i(571)]&&s[i(571)].toString()[i(573)]()!==i(460)&&navigator[i(425)]&&(s.mimeType="audio/ogg")}var o,a=[];function h(){var t=i;r[t(324)].push((new Date)[t(327)]()),typeof s[t(558)]===t(252)&&s[t(558)](r[t(324)][r[t(324)].length-1],r[t(324)])}function l(t){var e=i;return o&&o.mimeType?o[e(571)]:t[e(571)]||e(266)}function c(){a=[],o=null,r[i(324)]=[]}this[i(164)]=function(){return a},this[i(512)]=function(){var e=i;r[e(413)]=null,r[e(530)](),r[e(324)]=[],d=[],a=[];var n=s;!s[e(261)]&&console[e(393)](e(167),n),o&&(o=null),y&&!k()&&(n="video/vp8"),"function"==typeof MediaRecorder[e(329)]&&n[e(571)]&&!MediaRecorder[e(329)](n.mimeType)&&(!s.disableLogs&&console[e(492)](e(585),n[e(571)]),n.mimeType=s[e(428)]===e(147)?"audio/webm":e(266));try{o=new MediaRecorder(t,n),s.mimeType=n.mimeType}catch(e){o=new MediaRecorder(t)}n[e(571)]&&!MediaRecorder.isTypeSupported&&e(273)in o&&!1===o[e(273)](n.mimeType)&&!s.disableLogs&&console.warn(e(585),n.mimeType),o[e(205)]=function(t){var i=e;if(t[i(186)]&&d[i(275)]("ondataavailable: "+b(t[i(186)][i(239)])),typeof s[i(210)]!==i(351))!t[i(186)]||!t[i(186)][i(239)]||t[i(186)].size<100||r.blob?r[i(561)]&&(r[i(561)](new Blob([],{type:l(n)})),r.recordingCallback=null):(r.blob=s.getNativeBlob?t.data:new Blob([t[i(186)]],{type:l(n)}),r[i(561)]&&(r[i(561)](r[i(413)]),r[i(561)]=null));else if(t[i(186)]&&t[i(186)][i(239)]&&(a[i(275)](t[i(186)]),h(),typeof s[i(205)]===i(252))){var o=s[i(229)]?t[i(186)]:new Blob([t[i(186)]],{type:l(n)});s[i(205)](o)}},o[e(155)]=function(){d[e(275)]("started")},o[e(384)]=function(){var t=e;d[t(275)](t(222))},o[e(310)]=function(){var t=e;d[t(275)](t(311))},o[e(518)]=function(){var t=e;d[t(275)](t(368))},o[e(577)]=function(t){var i=e;t&&(!t.name&&(t.name=i(568)),d.push(i(416)+t),s[i(261)]||(-1!==t[i(444)][i(443)]()[i(573)]()[i(436)]("invalidstate")?console.error(i(343),t):-1!==t[i(444)].toString()[i(573)]().indexOf(i(317))?console.error(i(523),n[i(571)],i(510),t):-1!==t[i(444)][i(443)]()[i(573)]()[i(436)](i(250))?console[i(421)](i(529),t):t[i(444)]===i(149)?console[i(421)](i(286),t):t.name===i(439)?console.error(i(281),t):t.name===i(462)?console[i(421)](i(200),t):t[i(444)]===i(294)?console[i(421)]("The UA cannot provide the codec or recording option that has been requested.",t):console[i(421)](i(457),t)),function(t){var e=i;if(!r.manuallyStopped&&o&&o[e(422)]===e(398))return delete s[e(358)],void o[e(494)](6e5);setTimeout(void 0,1e3)}(),o[i(422)]!==i(398)&&o[i(422)]!==i(368)&&o[i(535)]())},typeof s[e(210)]===e(351)?(h(),o[e(494)](s[e(210)])):o.start(36e5),s[e(333)]&&s[e(333)]()},this[i(324)]=[],this[i(535)]=function(t){var e=i;t=t||function(){},r[e(321)]=!0,o&&(this[e(561)]=t,"recording"===o[e(422)]&&o[e(535)](),typeof s[e(210)]===e(351)&&setTimeout((function(){var t=e;r[t(413)]=new Blob(a,{type:l(s)}),r.recordingCallback(r[t(413)])}),100))},this[i(237)]=function(){var t=i;o&&o.state===t(161)&&o[t(237)]()},this[i(389)]=function(){var t=i;o&&o[t(422)]===t(222)&&o.resume()},this.clearRecordedData=function(){var t=i;o&&o[t(422)]===t(161)&&r[t(535)](c),c()},this[i(183)]=function(){return o},this[i(413)]=null,this[i(171)]=function(){var t=i;return o&&o[t(422)]||t(398)};var d=[];this[i(404)]=function(){return d},typeof s[i(499)]===i(401)&&(s.checkForInactiveTracks=!1);r=this;(function e(){var n=i;if(o&&!1!==s.checkForInactiveTracks)return!1===function(){var e=i;if("active"in t){if(!t[e(180)])return!1}else if(e(451)in t&&t[e(451)])return!1;return!0}()?(!s[n(261)]&&console[n(393)](n(567)),void r[n(535)]()):void setTimeout(e,1e3)})(),this[i(444)]=i(220),this.toString=function(){return this[i(444)]}}function C(t,i){var r=e;if(!w(t,r(147))[r(382)])throw r(330);var n,o=this,a=[],h=[],l=!1,c=0,d=2,u=(i=i||{})[r(472)];function f(){var e=r;if(!1===i.checkForInactiveTracks)return!0;if(e(180)in t){if(!t[e(180)])return!1}else if(e(451)in t&&t[e(451)])return!1;return!0}function m(t,e){var s=r;function i(t,e){var s,i=Lh,r=t[i(347)],n=t[i(380)].slice(0),o=t[i(553)][i(340)](0),a=t[i(487)],h=t[i(371)],l=t[i(472)];function c(t,e,s){var r,n,o=i,a=Math[o(198)](t[o(382)]*(e/s)),h=[],l=Number((t[o(382)]-1)/(a-1));h[0]=t[0];for(var c=1;c<a-1;c++){var d=c*l,u=Number(Math[o(296)](d))[o(267)](),p=Number(Math[o(534)](d))[o(267)](),f=d-u;h[c]=(r=t[u],n=t[p],r+(n-r)*f)}return h[a-1]=t[t[o(382)]-1],h}function d(t,e){for(var s=i,r=new Float64Array(e),n=0,o=t[s(382)],a=0;a<o;a++){var h=t[a];r[s(556)](h,n),n+=h[s(382)]}return r}function u(t,e,s){for(var r=i,n=s[r(382)],o=0;o<n;o++)t[r(197)](e+o,s[r(270)](o))}2===r&&(n=d(n,h),o=d(o,h),l&&(n=c(n,l,a),o=c(o,l,a))),1===r&&(n=d(n,h),l&&(n=c(n,l,a))),l&&(a=l),2===r&&(s=function(t,e){for(var s=i,r=t[s(382)]+e[s(382)],n=new Float64Array(r),o=0,a=0;a<r;)n[a++]=t[o],n[a++]=e[o],o++;return n}(n,o)),1===r&&(s=n);var p=s.length,f=new ArrayBuffer(44+2*p),m=new DataView(f);u(m,0,i(475)),m[i(291)](4,36+2*p,!0),u(m,8,i(432)),u(m,12,i(306)),m[i(291)](16,16,!0),m[i(476)](20,1,!0),m[i(476)](22,r,!0),m.setUint32(24,a,!0),m[i(291)](28,a*r*2,!0),m[i(476)](32,2*r,!0),m.setUint16(34,16,!0),u(m,36,i(186)),m[i(291)](40,2*p,!0);for(var g=p,y=44,A=0;A<g;A++)m.setInt16(y,32767*s[A],!0),y+=2;if(e)return e({buffer:f,view:m});postMessage({buffer:f,view:m})}if(t.noWorker)i(t,(function(t){var s=Lh;e(t[s(214)],t[s(288)])}));else{var n,o,a,h,l=(n=i,o=r,a=p.createObjectURL(new Blob([n[o(443)](),";this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:o(557)})),(h=new Worker(a))[o(574)]=a,h);l[s(562)]=function(t){var i=s;e(t[i(186)][i(214)],t[i(186)][i(288)]),p[i(207)](l[i(574)]),l[i(543)]()},l[s(339)](t)}}!0===i[r(461)]&&(d=1),1===i[r(347)]&&(d=1),(!d||d<1)&&(d=2),!i[r(261)]&&console[r(393)]("StereoAudioRecorder is set to record number of channels: "+d),typeof i[r(499)]===r(401)&&(i[r(499)]=!0),this[r(512)]=function(){var t=r;if(!1===f())throw t(501);E(),I=S=!1,l=!0,typeof i[t(210)]!==t(401)&&_()},this[r(535)]=function(t){t=t||function(){},l=!1,m({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:d,internalInterleavedLength:c,leftBuffers:a,rightBuffers:1===d?[]:h,noWorker:i.noWorker},(function(e,s){var i=Lh;o.blob=new Blob([s],{type:"audio/wav"}),o[i(214)]=new ArrayBuffer(s[i(214)][i(570)]),o[i(288)]=s,o[i(487)]=u||b,o.bufferSize=v,o[i(382)]=c,I=!1,t&&t(o[i(413)])}))},typeof s[r(547)]===r(401)&&(s.Storage={AudioContextConstructor:null,AudioContext:window[r(297)]||window[r(579)]}),(!s[r(547)][r(386)]||s[r(547)][r(386)].state===r(154))&&(s[r(547)][r(386)]=new(s[r(547)].AudioContext));var g=s[r(547)][r(386)],y=g[r(445)](t),A=[0,256,512,1024,2048,4096,8192,16384],v=void 0===i.bufferSize?4096:i[r(314)];if(-1===A.indexOf(v)&&!i[r(261)]&&console[r(393)](r(468)+JSON[r(414)](A,null,"\t")),g[r(467)])n=g.createJavaScriptNode(v,d,d);else{if(!g[r(504)])throw"WebAudio API has no support on this browser.";n=g[r(504)](v,d,d)}y[r(236)](n),!i[r(314)]&&(v=n[r(314)]);var b=void 0!==i.sampleRate?i[r(487)]:g.sampleRate||44100;(b<22050||b>96e3)&&!i[r(261)]&&console[r(393)](r(433)),!i[r(261)]&&i[r(472)]&&console[r(393)]("Desired sample-rate: "+i[r(472)]);var S=!1;function E(){var t=r;a=[],h=[],c=0,I=!1,l=!1,S=!1,g=null,o.leftchannel=a,o[t(272)]=h,o[t(347)]=d,o[t(472)]=u,o[t(487)]=b,o[t(253)]=c,k={left:[],right:[],recordingLength:0}}function T(){var t=r;n&&(n[t(447)]=null,n[t(241)](),n=null),y&&(y[t(241)](),y=null),E()}this.pause=function(){S=!0},this[r(389)]=function(){var t=r;if(!1===f())throw t(501);if(!l)return!i.disableLogs&&console.log(t(246)),void this.record();S=!1},this[r(530)]=function(){var t=r;i[t(499)]=!1,l&&this[t(535)](T),T()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var I=!1;n[r(447)]=function(t){var e=r;if(!S)if(!1===f()&&(!i[e(261)]&&console.log(e(567)),n[e(241)](),l=!1),l){!I&&(I=!0,i[e(496)]&&i[e(496)](),i[e(333)]&&i[e(333)]());var s=t[e(366)].getChannelData(0),u=new Float32Array(s);if(a[e(275)](u),2===d){var p=t[e(366)][e(524)](1),m=new Float32Array(p);h[e(275)](m)}c+=v,o[e(253)]=c,void 0!==i.timeSlice&&(k[e(253)]+=v,k[e(185)][e(275)](u),2===d&&k[e(173)][e(275)](m))}else y&&(y[e(241)](),y=null)},g[r(195)]?n[r(236)](g.createMediaStreamDestination()):n[r(236)](g[r(355)]),this.leftchannel=a,this[r(272)]=h,this[r(347)]=d,this[r(472)]=u,this[r(487)]=b,o[r(253)]=c;var k={left:[],right:[],recordingLength:0};function _(){var t=r;l&&typeof i[t(205)]===t(252)&&typeof i[t(210)]!==t(401)&&(k[t(185)][t(382)]?(m({desiredSampRate:u,sampleRate:b,numberOfAudioChannels:d,internalInterleavedLength:k.recordingLength,leftBuffers:k[t(185)],rightBuffers:1===d?[]:k.right},(function(e,s){var r=t,n=new Blob([s],{type:r(471)});i[r(205)](n),setTimeout(_,i[r(210)])})),k={left:[],right:[],recordingLength:0}):setTimeout(_,i.timeSlice))}}function D(t,s){var i=e;if(typeof html2canvas===i(401))throw i(420);!(s=s||{}).frameInterval&&(s[i(381)]=10);var r=!1;[i(480),"mozCaptureStream",i(293)][i(555)]((function(t){var e=i;t in document.createElement(e(337))&&(r=!0)}));var n,o,a,h=!(!window[i(400)]&&!window[i(189)]||!window[i(151)]),l=50,c=navigator.userAgent[i(549)](/Chrom(e|ium)\/([0-9]+)\./);if(h&&c&&c[2]&&(l=parseInt(c[2],10)),h&&l<52&&(r=!1),s[i(489)]&&(r=!1),r)if(!s.disableLogs&&console[i(393)](i(278)),t instanceof HTMLCanvasElement)n=t;else{if(!(t instanceof CanvasRenderingContext2D))throw i(303);n=t[i(337)]}else navigator[i(425)]&&!s[i(261)]&&console[i(421)](i(396));this[i(512)]=function(){var t=i;if(a=!0,r&&!s.useWhammyRecorder){var e;t(480)in n?e=n[t(480)](25):"mozCaptureStream"in n?e=n.mozCaptureStream(25):"webkitCaptureStream"in n&&(e=n[t(293)](25));try{var h=new v;h[t(148)](w(e,t(244))[0]),e=h}catch(t){}if(!e)throw t(497);(o=new _(e,{mimeType:s[t(571)]||t(266)})).record()}else m[t(527)]=[],f=(new Date)[t(327)](),p();s.initCallback&&s[t(333)]()},this[i(377)]=function(e){var r=i;if(t[r(544)][r(573)]()===r(337)){var n=m[r(527)][r(382)];m[r(527)][r(555)]((function(t,e){var i=r,o=n-e;!s[i(261)]&&console[i(393)](o+"/"+n+i(373)),s[i(298)]&&s[i(298)](o,n);var a=t.image[i(403)](i(517),1);m[i(527)][e][i(441)]=a})),!s[r(261)]&&console[r(393)](r(215)),e()}else e()},this.stop=function(t){var e=i;a=!1;var n=this;r&&o?o[e(535)](t):this[e(377)]((function(){m.compile((function(e){var i=Lh;!s.disableLogs&&console[i(393)](i(280)),n.blob=e,n.blob[i(555)]&&(n[i(413)]=new Blob([],{type:i(266)})),t&&t(n[i(413)]),m[i(527)]=[]}))}))};var d=!1;function u(){m.frames=[],a=!1,d=!1}function p(){var e,r,n,o=i;if(d)return f=(new Date)[o(327)](),setTimeout(p,500);if("canvas"===t.nodeName[o(573)]()){var h=(new Date)[o(327)]()-f;return f=(new Date).getTime(),m.frames[o(275)]({image:(e=i,r=document.createElement(e(337)),n=r[e(159)]("2d"),r[e(402)]=t[e(402)],r[e(423)]=t[e(423)],n[e(506)](t,0,0),r),duration:h}),void(a&&setTimeout(p,s[o(381)]))}html2canvas(t,{grabMouse:typeof s[o(233)]===o(401)||s[o(233)],onrendered:function(t){var e=o,i=(new Date)[e(327)]()-f;if(!i)return setTimeout(p,s.frameInterval);f=(new Date).getTime(),m[e(527)][e(275)]({image:t.toDataURL(e(517),1),duration:i}),a&&setTimeout(p,s[e(381)])}})}this.pause=function(){d=!0,o instanceof _&&o[i(237)]()},this[i(389)]=function(){var t=i;d=!1,o instanceof _?o[t(389)]():!a&&this[t(512)]()},this.clearRecordedData=function(){a&&this[i(535)](u),u()},this[i(444)]=i(150),this[i(443)]=function(){return this[i(444)]};var f=(new Date)[i(327)](),m=new(L[i(212)])(100)}function R(t,s){var i=e;function r(t){var e=i;t=typeof t!==e(401)?t:10;var s=(new Date)[e(327)]()-c;return s?a?(c=(new Date)[e(327)](),setTimeout(r,100)):(c=(new Date)[e(327)](),l[e(222)]&&l.play(),p[e(506)](l,0,0,u[e(402)],u[e(423)]),d[e(527)][e(275)]({duration:s,image:u.toDataURL(e(517))}),void(!o&&setTimeout(r,t,t))):setTimeout(r,t,t)}function n(t,e,s,r,n){var o=i,a=document[o(376)](o(337));a[o(402)]=u[o(402)],a[o(423)]=u[o(423)];var h,l,c,d,p=a[o(159)]("2d"),f=[],m=-1===e,g=e&&e>0&&e<=t[o(382)]?e:t[o(382)],y=0,A=0,v=0,b=Math.sqrt(Math.pow(255,2)+Math[o(429)](255,2)+Math[o(429)](255,2)),S=s&&s>=0&&s<=1?s:0,E=r&&r>=0&&r<=1?r:0,w=!1;c=-1,d=(h={length:g,functionToLoop:function(e,s){var i,r,n,a=o,h=function(){!w&&n-i<=n*E||(m&&(w=!0),f[Lh(275)](t[s])),e()};if(w)h();else{var l=new Image;l.onload=function(){var t=Lh;p[t(506)](l,0,0,u.width,u[t(423)]);var e=p[t(370)](0,0,u[t(402)],u[t(423)]);i=0,r=e[t(186)][t(382)],n=e.data.length/4;for(var s=0;s<r;s+=4){var o={r:e[t(186)][s],g:e[t(186)][s+1],b:e[t(186)][s+2]};Math.sqrt(Math.pow(o.r-y,2)+Math.pow(o.g-A,2)+Math[t(429)](o.b-v,2))<=b*S&&i++}h()},l[a(578)]=t[s][a(441)]}},callback:function(){var e=o;(f=f.concat(t[e(340)](g)))[e(382)]<=0&&f[e(275)](t[t[e(382)]-1]),n(f)}})[(l=i)(382)],function t(){var e=l;++c!==d?setTimeout((function(){h[e(364)](t,c)}),1):h[e(520)]()}()}!(s=s||{}).frameInterval&&(s.frameInterval=10),!s[i(261)]&&console.log("Using frames-interval:",s[i(381)]),this[i(512)]=function(){var e=i;!s[e(402)]&&(s[e(402)]=320),!s[e(423)]&&(s.height=240),!s[e(244)]&&(s.video={width:s[e(402)],height:s[e(423)]}),!s.canvas&&(s.canvas={width:s[e(402)],height:s.height}),u.width=s[e(337)].width||320,u[e(423)]=s.canvas[e(423)]||240,p=u[e(159)]("2d"),s.video&&s[e(244)]instanceof HTMLVideoElement?(l=s.video[e(258)](),s[e(333)]&&s[e(333)]()):(l=document.createElement(e(244)),T(t,l),l[e(283)]=function(){var t=e;s.initCallback&&s[t(333)]()},l[e(402)]=s[e(244)][e(402)],l.height=s[e(244)][e(423)]),l[e(537)]=!0,l[e(538)](),c=(new Date).getTime(),d=new(L[e(212)]),!s[e(261)]&&(console[e(393)]("canvas resolutions",u[e(402)],"*",u[e(423)]),console[e(393)](e(513),l[e(402)]||u[e(402)],"*",l[e(423)]||u[e(423)])),r(s[e(381)])};var o=!1;this.stop=function(t){t=t||function(){},o=!0;var e=this;setTimeout((function(){var i=Lh;n(d[i(527)],-1,null,null,(function(r){var n=i;d[n(527)]=r,s[n(160)]&&s[n(160)].length&&(d[n(527)]=s[n(160)].concat(d[n(527)])),d.compile((function(s){var i=n;e.blob=s,e[i(413)][i(555)]&&(e[i(413)]=new Blob([],{type:i(266)})),t&&t(e[i(413)])}))}))}),10)};var a=!1;function h(){d[i(527)]=[],o=!0,a=!1}this[i(237)]=function(){a=!0},this.resume=function(){a=!1,o&&this[i(512)]()},this[i(530)]=function(){!o&&this[i(535)](h),h()},this[i(444)]=i(410),this[i(443)]=function(){return this[i(444)]};var l,c,d,u=document.createElement(i(337)),p=u[i(159)]("2d")}void 0!==u?I.AudioContext=u:typeof webkitAudioContext!==e(401)&&(I[e(297)]=webkitAudioContext),"function"!==e(401)&&(s[e(547)]=I),"function"!==e(401)&&(s[e(220)]=_),"function"!==e(401)&&(s[e(478)]=C),s.CanvasRecorder=D,"function"!==e(401)&&(s[e(410)]=R);var L=function(){var t=e;function s(t){var e=Lh;this[e(527)]=[],this[e(548)]=t||1,this.quality=.8}function i(e){var s=t;function i(t,e,s){var i=Lh;return[{data:t,id:231}].concat(s[i(187)]((function(t){var s=i,r=function(t){var e=Lh,s=0;if(t[e(522)]&&(s|=128),t[e(307)]&&(s|=8),t[e(525)]&&(s|=t[e(525)]<<1),t[e(405)]&&(s|=1),t[e(566)]>127)throw"TrackNumber > 127 not supported";return[128|t[e(566)],t[e(581)]>>8,255&t.timecode,s].map((function(t){return String.fromCharCode(t)})).join("")+t.frame}({discardable:0,frame:t.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math[s(198)](e)});return e+=t[s(548)],{data:r,id:163}})))}function r(t){for(var e=[];t>0;)e.push(255&t),t>>=8;return new Uint8Array(e.reverse())}function n(t){var e=Lh,s=[];t=(t[e(382)]%8?new Array(9-t[e(382)]%8)[e(507)]("0"):"")+t;for(var i=0;i<t.length;i+=8)s[e(275)](parseInt(t.substr(i,8),2));return new Uint8Array(s)}function o(t){for(var e,s=Lh,i=[],a=0;a<t[s(382)];a++){var h=t[a][s(186)];"object"==typeof h&&(h=o(h)),"number"==typeof h&&(h=n(h.toString(2))),"string"==typeof h&&(e=void 0,e=Lh,h=new Uint8Array(h[e(526)]("")[e(187)]((function(t){return t.charCodeAt(0)}))));var l=h[s(239)]||h.byteLength||h[s(382)],c=Math[s(534)](Math[s(534)](Math[s(393)](l)/Math.log(2))/8),d=l.toString(2),u=new Array(7*c+7+1-d.length).join("0")+d,p=new Array(c).join("0")+"1"+u;i[s(275)](r(t[a].id)),i.push(n(p)),i[s(275)](h)}return new Blob(i,{type:s(266)})}function a(t,e){var s=Lh;return parseInt(t[s(172)](e+4,4).split("")[s(187)]((function(t){var e=s,i=t[e(270)](0)[e(443)](2);return new Array(8-i[e(382)]+1)[e(507)]("0")+i}))[s(507)](""),2)}function h(t){for(var e=Lh,s=0,i={};s<t.length;){var r=t[e(172)](s,4),n=a(t,s),o=t[e(172)](s+4+4,n);s+=8+n,i[r]=i[r]||[],r===e(475)||"LIST"===r?i[r][e(275)](h(o)):i[r].push(o)}return i}var l=new function(t){var e=Lh,s=function(t){var e=Lh;if(!t[0])return void postMessage({error:e(225)});for(var s=t[0][e(402)],i=t[0][e(423)],r=t[0][e(548)],n=1;n<t[e(382)];n++)r+=t[n].duration;return{duration:r,width:s,height:i}}(t);if(!s)return[];for(var r,n,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:e(223),id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:e(248),id:19840},{data:e(248),id:22337},{data:(r=s[e(548)],n=Lh,[][n(340)][n(408)](new Uint8Array(new Float64Array([r])[n(214)]),0)[n(187)]((function(t){var e=n;return String[e(284)](t)}))[n(338)]()[n(507)]("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:e(516),id:2274716},{data:"V_VP8",id:134},{data:e(486),id:2459272},{data:1,id:131},{id:224,data:[{data:s.width,id:176},{data:s[e(423)],id:186}]}]}]}]}],h=0,l=0;h<t[e(382)];){var c=[],d=0;do{c[e(275)](t[h]),d+=t[h][e(548)],h++}while(h<t.length&&d<3e4);var u={id:524531317,data:i(l,0,c)};a[1][e(186)].push(u),l+=d}return o(a)}(e[s(187)]((function(t){var e=s,i=function(t){for(var e=Lh,s=t[e(475)][0][e(390)][0],i=s[e(436)]("*"),r=0,n=[];r<4;r++)n[r]=s[e(270)](i+3+r);return{width:16383&(n[1]<<8|n[0]),height:16383&(n[3]<<8|n[2]),data:s,riff:t}}(h(atob(t[e(441)][e(340)](23))));return i[e(548)]=t[e(548)],i})));postMessage(l)}return s.prototype[t(219)]=function(e,s){var i=t;if(i(337)in e&&(e=e[i(337)]),i(403)in e&&(e=e[i(403)]("image/webp",this[i(560)])),!/^data:image\/webp;base64,/gi[i(559)](e))throw i(290);this.frames[i(275)]({image:e,duration:s||this[i(548)]})},s[t(519)][t(231)]=function(e){var s,r,n,o,a=t,h=(s=i,n=p[(r=t)(375)](new Blob([s[r(443)](),r(206)+s[r(444)]+r(318)],{type:r(557)})),o=new Worker(n),p[r(207)](n),o);h[a(562)]=function(t){var s=a;t.data.error?console[s(421)](t[s(186)].error):e(t[s(186)])},h[a(339)](this[a(527)])},{Video:s}}();s[e(174)]=L;var P={init:function(){var t=e,s=this;if("undefined"!=typeof indexedDB&&typeof indexedDB[t(563)]!==t(401)){var i,r=this[t(168)]||location[t(313)][t(354)](/\/|:|#|%|\.|\[|\]/g,""),n=indexedDB.open(r,1);n.onerror=s.onError,n[t(452)]=function(){var e=t;((i=n[e(251)])[e(577)]=s[e(245)],i[e(383)])?1!==i[e(541)]?i[e(383)](1)[e(452)]=function(){o(i),a()}:a():a()},n[t(341)]=function(e){var s=t;o(e.target[s(251)])}}else console[t(421)](t(350));function o(e){var i=t;e[i(502)](s[i(169)])}function a(){var e=t,r=i[e(385)]([s[e(169)]],"readwrite");function n(t){var i=e;r[i(356)](s.dataStoreName).get(t)[i(452)]=function(e){var r=i;s[r(520)]&&s[r(520)](e[r(417)][r(251)],t)}}s.videoBlob&&r[e(356)](s[e(169)])[e(536)](s[e(202)],"videoBlob"),s[e(217)]&&r.objectStore(s.dataStoreName)[e(536)](s[e(217)],e(217)),s.audioBlob&&r[e(356)](s[e(169)])[e(536)](s[e(395)],"audioBlob"),n("audioBlob"),n(e(202)),n(e(217))}},Fetch:function(t){return this[e(520)]=t,this.init(),this},Store:function(t){var s=e;return this[s(395)]=t[s(395)],this.videoBlob=t[s(202)],this.gifBlob=t[s(217)],this[s(263)](),this},onError:function(t){var s=e;console[s(421)](JSON[s(414)](t,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function x(t,s){var i=e;if("undefined"==typeof GIFEncoder){var r=document[i(376)](i(442));r[i(578)]=i(459),(document.body||document[i(545)])[i(508)](r)}s=s||{};var n=t instanceof CanvasRenderingContext2D||t instanceof HTMLCanvasElement;this.record=function(){var t=i;typeof GIFEncoder!==t(401)&&c?(!n&&(!s[t(402)]&&(s.width=u.offsetWidth||320),!s.height&&(s.height=u[t(230)]||240),!s.video&&(s.video={width:s[t(402)],height:s.height}),!s[t(337)]&&(s[t(337)]={width:s[t(402)],height:s[t(423)]}),a[t(402)]=s.canvas.width||320,a[t(423)]=s[t(337)].height||240,u[t(402)]=s[t(244)][t(402)]||320,u.height=s[t(244)][t(423)]||240),(f=new GIFEncoder)[t(569)](0),f[t(438)](s.frameRate||200),f[t(361)](s[t(560)]||10),f[t(494)](),"function"==typeof s[t(481)]&&s[t(481)](),Date[t(449)](),m=l((function e(i){var r=t;if(!0!==g.clearedRecordedData){if(o)return setTimeout((function(){e(i)}),100);m=l(e),void 0===typeof p&&(p=i),i-p<90||(!n&&u[r(222)]&&u[r(538)](),!n&&h.drawImage(u,0,0,a[r(402)],a[r(423)]),s[r(166)]&&s[r(166)](a.toDataURL(r(521))),f[r(216)](h),p=i)}})),s.initCallback&&s.initCallback()):setTimeout(g[t(512)],1e3)},this[i(535)]=function(t){var e=i;t=t||function(){},m&&d(m),Date[e(449)](),this[e(413)]=new Blob([new Uint8Array(f[e(514)]().bin)],{type:"image/gif"}),t(this[e(413)]),f.stream()[e(484)]=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this[i(530)]=function(){g[i(249)]=!0,f&&(f.stream().bin=[])},this[i(444)]=i(572),this[i(443)]=function(){return this[i(444)]};var a=document.createElement("canvas"),h=a[i(159)]("2d");n&&(t instanceof CanvasRenderingContext2D?a=(h=t).canvas:t instanceof HTMLCanvasElement&&(h=t.getContext("2d"),a=t));var c=!0;if(!n){var u=document[i(376)](i(244));u[i(537)]=!0,u[i(448)]=!0,u.playsInline=!0,c=!1,u[i(283)]=function(){c=!0},T(t,u),u[i(538)]()}var p,f,m=null,g=this}function M(t,s){var i,r,n=e,o=n(274);i=typeof ne[n(247)]!==n(401)?ne[n(247)]:null,"function"===(r=n)(401)&&i&&typeof window===r(401)&&typeof ne[r(247)]!==r(401)&&(ne[r(247)][r(490)]={userAgent:o,getUserMedia:function(){}},!se[r(302)]&&(se[r(302)]={}),(typeof ne[r(247)].console.log===r(401)||void 0===se.console.error)&&(ne[r(247)].console[r(421)]=ne[r(247)].console[r(393)]=ne[r(247)][r(302)].log||function(){console.log(arguments)}),typeof document===r(401)&&(i.document={documentElement:{appendChild:function(){return""}}},document[r(376)]=document[r(480)]=document[r(349)]=function(){var t={getContext:function(){return t},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return t},i.HTMLVideoElement=function(){}),typeof location===r(401)&&(i[r(378)]={protocol:r(295),href:"",hash:""}),typeof screen===r(401)&&(i[r(387)]={width:0,height:0}),typeof p===r(401)&&(i[r(483)]={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),i[r(213)]=ne[r(247)]),s=s||n(218);var a=[],h=!1,l=document[n(376)](n(337)),c=l[n(159)]("2d");l[n(243)][n(503)]=0,l.style[n(465)]=n(379),l[n(243)][n(170)]=-1,l[n(243)][n(374)]=n(268),l.style[n(185)]="-1000em",l.className=s,(document[n(474)]||document.documentElement)[n(508)](l),this[n(261)]=!1,this[n(381)]=10,this[n(402)]=360,this[n(423)]=240,this[n(437)]=!0;var d=this,u=window[n(297)];typeof u===n(401)&&(typeof webkitAudioContext!==n(401)&&(u=webkitAudioContext),typeof mozAudioContext!==n(401)&&(u=mozAudioContext));var p=window[n(483)];typeof p===n(401)&&typeof webkitURL!==n(401)&&(p=webkitURL),typeof navigator!==n(401)&&typeof navigator[n(199)]===n(401)&&(typeof navigator.webkitGetUserMedia!==n(401)&&(navigator[n(199)]=navigator[n(189)]),typeof navigator.mozGetUserMedia!==n(401)&&(navigator[n(199)]=navigator[n(425)]));var f=window[n(418)];typeof f===n(401)&&typeof webkitMediaStream!==n(401)&&(f=webkitMediaStream),void 0!==f&&void 0===f[n(519)].stop&&(f[n(519)][n(535)]=function(){var t=n;this.getTracks()[t(555)]((function(e){e[t(535)]()}))});var m={};function g(){var t=n;if(!h){var e=a[t(382)],s=!1,i=[];if(a[t(555)]((function(e){var r=t;!e.stream&&(e[r(514)]={}),e[r(514)][r(194)]?s=e:i.push(e)})),s)l[t(402)]=s[t(514)].width,l[t(423)]=s[t(514)][t(423)];else if(i[t(382)]){l.width=e>1?2*i[0][t(402)]:i[0][t(402)];var r=1;(3===e||4===e)&&(r=2),(5===e||6===e)&&(r=3),(7===e||8===e)&&(r=4),(9===e||10===e)&&(r=5),l[t(423)]=i[0][t(423)]*r}else l[t(402)]=d[t(402)]||360,l.height=d.height||240;s&&s instanceof HTMLVideoElement&&y(s),i[t(555)]((function(t,e){y(t,e)})),setTimeout(g,d[t(381)])}}function y(t,e){var s=n;if(!h){var i=0,r=0,o=t.width,a=t[s(423)];1===e&&(i=t[s(402)]),2===e&&(r=t[s(423)]),3===e&&(i=t[s(402)],r=t[s(423)]),4===e&&(r=2*t.height),5===e&&(i=t[s(402)],r=2*t[s(423)]),6===e&&(r=3*t[s(423)]),7===e&&(i=t[s(402)],r=3*t[s(423)]),typeof t[s(514)][s(185)]!==s(401)&&(i=t[s(514)][s(185)]),void 0!==t[s(514)].top&&(r=t[s(514)][s(374)]),typeof t.stream[s(402)]!==s(401)&&(o=t[s(514)][s(402)]),void 0!==t[s(514)][s(423)]&&(a=t.stream[s(423)]),c.drawImage(t,i,r,o,a),"function"==typeof t[s(514)][s(505)]&&t[s(514)][s(505)](c,i,r,o,a,e)}}function A(t){var e,i,r,o=n,a=document[o(376)]("video");return e=t,i=a,(r=n)(323)in i?i[r(323)]=e:"mozSrcObject"in i?i[r(531)]=e:i[r(323)]=e,a[o(430)]=s,a[o(537)]=!0,a.volume=0,a[o(402)]=t[o(402)]||d[o(402)]||360,a[o(423)]=t[o(423)]||d[o(423)]||240,a[o(538)](),a}function v(e){var s=n;a=[],(e=e||t)[s(555)]((function(t){var e=s;if(t[e(256)]()[e(190)]((function(t){var s=e;return t.kind===s(244)})).length){var i=A(t);i[e(514)]=t,a[e(275)](i)}}))}typeof u!==n(401)?m[n(297)]=u:typeof webkitAudioContext!==n(401)&&(m.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){g()},this[n(277)]=function(e){var s=n;if(!e)throw"First parameter is required.";!(e instanceof Array)&&(e=[e]),e[s(555)]((function(e){var i=s,r=new f;if(e[i(256)]()[i(190)]((function(t){var e=i;return t[e(300)]===e(244)})).length){var n=A(e);n[i(514)]=e,a.push(n),r[i(148)](e[i(256)]().filter((function(t){var e=i;return t[e(300)]===e(244)}))[0])}if(e[i(256)]()[i(190)]((function(t){var e=i;return t[e(300)]===e(147)})).length){var o=d[i(326)][i(445)](e);d[i(406)]=d[i(326)][i(195)](),o[i(236)](d.audioDestination),r[i(148)](d[i(406)].stream[i(256)]().filter((function(t){var e=i;return t[e(300)]===e(147)}))[0])}t[i(275)](r)}))},this[n(157)]=function(){var t=n;a=[],h=!0,d[t(392)]&&(d[t(392)].disconnect(),d.gainNode=null),d[t(477)][t(382)]&&(d[t(477)][t(555)]((function(e){e[t(241)]()})),d[t(477)]=[]),d[t(406)]&&(d[t(406)][t(241)](),d[t(406)]=null),d[t(326)]&&d[t(326)][t(363)](),d.audioContext=null,c[t(260)](0,0,l[t(402)],l.height),l[t(514)]&&(l[t(514)].stop(),l[t(514)]=null)},this[n(431)]=function(t){t&&!(t instanceof Array)&&(t=[t]),v(t)},this.name=n(511),this[n(443)]=function(){return this[n(444)]},this.getMixedStream=function(){var e=n;h=!1;var s=function(){var t,e=n;v(),e(480)in l?t=l[e(480)]():e(349)in l?t=l.mozCaptureStream():!d[e(261)]&&console.error(e(282));var s=new f;return t[e(256)]()[e(190)]((function(t){return"video"===t[e(300)]}))[e(555)]((function(t){s[e(148)](t)})),l[e(514)]=s,s}(),i=function(){var e=n;!m[e(386)]&&(m[e(386)]=new(m[e(297)])),d[e(326)]=m.AudioContextConstructor,d.audioSources=[],!0===d[e(437)]&&(d.gainNode=d[e(326)].createGain(),d[e(392)][e(236)](d[e(326)][e(355)]),d[e(392)][e(397)][e(582)]=0);var s=0;if(t[e(555)]((function(t){var i=e;if(t.getTracks()[i(190)]((function(t){var e=i;return t[e(300)]===e(147)})).length){s++;var r=d[i(326)][i(445)](t);!0===d[i(437)]&&r.connect(d[i(392)]),d[i(477)][i(275)](r)}})),!s)return;return d[e(406)]=d[e(326)][e(195)](),d[e(477)][e(555)]((function(t){var s=e;t[s(236)](d[s(406)])})),d[e(406)][e(514)]}();return i&&i[e(256)]().filter((function(t){return"audio"===t[e(300)]}))[e(555)]((function(t){s[e(148)](t)})),t[e(555)]((function(t){t.fullcanvas})),s}}function B(t,s){var i=e;t=t||[];var r,n,o=this;!(s=s||{elementClass:i(218),mimeType:i(266),video:{width:360,height:240}})[i(381)]&&(s.frameInterval=10),!s[i(244)]&&(s.video={}),!s[i(244)][i(402)]&&(s[i(244)].width=360),!s.video[i(423)]&&(s.video[i(423)]=240),this[i(512)]=function(){var e,o,a=i;r=new M(t,s[a(289)]||a(218)),(e=i,o=[],t[e(555)]((function(t){var s=e;w(t,s(244))[s(555)]((function(t){o[s(275)](t)}))})),o)[a(382)]&&(r[a(381)]=s[a(381)]||10,r[a(402)]=s[a(244)][a(402)]||360,r[a(423)]=s[a(244)][a(423)]||240,r[a(192)]()),s[a(409)]&&typeof s[a(409)]===a(252)&&s[a(409)](r.getMixedStream()),(n=new _(r.getMixedStream(),s))[a(512)]()},this[i(535)]=function(t){var e=i;n&&n[e(535)]((function(s){var i=e;o[i(413)]=s,t(s),o[i(530)]()}))},this.pause=function(){n&&n.pause()},this[i(389)]=function(){n&&n[i(389)]()},this[i(530)]=function(){var t=i;n&&(n.clearRecordedData(),n=null),r&&(r[t(157)](),r=null)},this.addStreams=function(e){var o=i;if(!e)throw o(434);!(e instanceof Array)&&(e=[e]),t[o(287)](e),n&&r&&(r.appendStreams(e),s[o(409)]&&typeof s[o(409)]===o(252)&&s.previewStream(r[o(542)]()))},this[i(431)]=function(t){r&&(t&&!(t instanceof Array)&&(t=[t]),r[i(431)](t))},this[i(211)]=function(){return r},this[i(444)]=i(348),this.toString=function(){return this[i(444)]}}function F(t,s){var i,r,n,o=e;function a(e,l){var c=o;if(!s[c(463)]&&!l)return i=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js")[c(470)]((function(t){var s=c;t.arrayBuffer()[s(470)]((function(t){a(e,t)}))}));if(!s[c(463)]&&l instanceof ArrayBuffer){var d=new Blob([l],{type:c(533)});s[c(463)]=p[c(375)](d)}!s[c(463)]&&console[c(421)](c(346)),(r=new Worker(s[c(463)])).postMessage(s[c(440)]||c(162)),r[c(454)](c(564),(function(e){var o=c;"READY"===e[o(186)]?(r[o(339)]({width:s[o(402)],height:s[o(423)],bitrate:s[o(182)]||1200,timebaseDen:s[o(257)]||30,realtime:s[o(546)]}),new ReadableStream({start:function(e){var r=Lh,n=document[r(376)](r(337)),o=document[r(376)](r(244)),a=!0;o.srcObject=t,o.muted=!0,o.height=s[r(423)],o[r(402)]=s[r(402)],o[r(466)]=0,o[r(357)]=function(){var t=r;n[t(402)]=s[t(402)],n[t(423)]=s[t(423)];var h=n[t(159)]("2d"),l=1e3/s[t(257)],c=setInterval((function(){var r=t;if(i&&(clearInterval(c),e[r(363)]()),a&&(a=!1,s[r(528)]&&s[r(528)]()),h.drawImage(o,0,0),e[r(265)].state!==r(154))try{e[r(491)](h[r(370)](0,0,s[r(402)],s.height))}catch(t){}}),l)},o.play()}})[o(264)](new WritableStream({write:function(t){var e=o;i?console[e(421)]("Got image, but recorder is finished!"):r[e(339)](t[e(186)].buffer,[t[e(186)][e(214)]])}}))):e[o(186)]&&!n&&h[o(275)](e[o(186)])}))}(typeof ReadableStream===o(401)||typeof WritableStream===o(401))&&console[o(421)]("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(s=s||{}).width=s.width||640,s[o(423)]=s[o(423)]||480,s[o(257)]=s[o(257)]||30,s[o(182)]=s[o(182)]||1200,s[o(546)]=s[o(546)]||!0,this[o(512)]=function(){var e=o;h=[],n=!1,this[e(413)]=null,a(t),typeof s[e(333)]===e(252)&&s.initCallback()},this.pause=function(){n=!0},this[o(389)]=function(){n=!1};var h=[];this[o(535)]=function(t){i=!0;var e,s,n=this;e=function(){var e=Lh;n.blob=new Blob(h,{type:e(266)}),t(n[e(413)])},s=o,r?(r[s(454)](s(564),(function(t){var i=s;null===t.data&&(r[i(543)](),r=null,e&&e())})),r.postMessage(null)):e&&e()},this[o(444)]="WebAssemblyRecorder",this[o(443)]=function(){return this.name},this[o(530)]=function(){h=[],n=!1,this.blob=null},this[o(413)]=null}"function"!==e(401)&&(s[e(301)]=P),s[e(572)]=x,"function"===e(401)&&(e(304)!==e(401)&&(t[e(427)]=M),"undefined"===e(252)&&(void 0)[e(498)]&&(void 0)("MultiStreamsMixer",[],(function(){return M}))),"function"!==e(401)&&(s.MultiStreamRecorder=B),"function"!==e(401)&&(s.RecordRTCPromisesHandler=function(t,i){var r=e;if(!this)throw r(299);if(typeof t===r(401))throw r(276);var n=this;n[r(235)]=new s(t,i),this[r(262)]=function(){return new Promise((function(t,e){var s=Lh;try{n[s(235)][s(262)](),t()}catch(t){e(t)}}))},this[r(575)]=function(){return new Promise((function(t,e){var s=Lh;try{n[s(235)][s(575)]((function(i){var r=s;n[r(413)]=n[r(235)][r(359)](),n[r(413)]&&n[r(413)].size?t(i):e(r(394),n[r(413)])}))}catch(t){e(t)}}))},this[r(228)]=function(){return new Promise((function(t,e){var s=Lh;try{n[s(235)].pauseRecording(),t()}catch(t){e(t)}}))},this[r(407)]=function(){return new Promise((function(t,e){var s=Lh;try{n[s(235)].resumeRecording(),t()}catch(t){e(t)}}))},this.getDataURL=function(t){return new Promise((function(t,e){var s=Lh;try{n[s(235)][s(271)]((function(e){t(e)}))}catch(t){e(t)}}))},this[r(359)]=function(){return new Promise((function(t,e){var s=Lh;try{t(n[s(235)][s(359)]())}catch(t){e(t)}}))},this[r(183)]=function(){return new Promise((function(t,e){var s=Lh;try{t(n[s(235)][s(183)]())}catch(t){e(t)}}))},this[r(191)]=function(){return new Promise((function(t,e){var s=Lh;try{t(n.recordRTC[s(191)]())}catch(t){e(t)}}))},this.destroy=function(){return new Promise((function(t,e){var s=Lh;try{t(n[s(235)][s(360)]())}catch(t){e(t)}}))},this[r(171)]=function(){return new Promise((function(t,e){var s=Lh;try{t(n[s(235)][s(171)]())}catch(t){e(t)}}))},this.blob=null,this[r(541)]="5.6.2"}),"function"!==e(401)&&(s[e(345)]=F)}));function xh(){var t=["Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45","push",'First argument "MediaStream" is required.',"appendStreams","Your browser supports both MediRecorder API and canvas.captureStream!","decode","Recording finished!","A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.","Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features","onloadedmetadata","fromCharCode","getFromDisk","The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.","concat","view","elementClass","Input must be formatted properly as a base64 encoded DataURI of type image/webp","setUint32","onload","webkitCaptureStream","GenericError","file:","floor","AudioContext","onEncodingCallback",'Use "new RecordRTCPromisesHandler()"',"kind","DiskStorage","console","Please pass either HTMLCanvasElement or CanvasRenderingContext2D.","object","firefox","fmt ","invisible","requestAnimationFrame","random","onresume","resumed","metadatas","href","bufferSize","process"," stream.","notsupported","(eee.data);}","Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.","msSaveOrOpenBlob","manuallyStopped","MediaStream must have either audio or video tracks.","srcObject","timestamps","requestData","audioContext","getTime","callback is mandatory.","isTypeSupported","Your stream has no audio tracks.","Store","addStream","initCallback","Paused recording.","Blob object is required.","Unable to pause the recording. Recording state: ","canvas","reverse","postMessage","slice","onupgradeneeded","RecordRTC version: ","The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.","netscape","WebAssemblyRecorder","workerPath parameter is missing.","numberOfAudioChannels","MultiStreamRecorder","mozCaptureStream","IndexedDB API are not available in this browser.","number","_blank","8AMwdgH","replace","destination","objectStore","onplaying","timeslice","getBlob","destroy","setQuality","invokeSaveAsDialog","close","functionToLoop","Initialized recorderType:","inputBuffer","all","stopped","getSeekableBlob","getImageData","internalInterleavedLength","412972nnAagP"," frames remaining","top","createObjectURL","createElement","getWebPImages","location","absolute","leftBuffers","frameInterval","length","setVersion","onpause","transaction","AudioContextConstructor","screen","Stopped recording ","resume","WEBP","gifRecorder","gainNode","log","Empty blob.","audioBlob","Canvas recording is NOT supported in Firefox.","gain","inactive","bitsPerSecond","webkitRTCPeerConnection","undefined","width","toDataURL","getAllStates","discardable","audioDestination","resumeRecording","call","previewStream","WhammyRecorder","string","Blob","blob","stringify","Fetch","error: ","target","MediaStream","videoRecorder","Please link: https://www.webrtc-experiment.com/screenshot.js","error","state","height","Resumed recording.","mozGetUserMedia","OPR/","exports","type","pow","className","resetVideoStreams","WAVE","sample-rate must be under range 22050 and 96000.","First parameter is required.","appVersion","indexOf","useGainNode","setDelay","IllegalStreamModification","webAssemblyPath","image","script","toString","name","createMediaStreamSource","Getting recorded ","onaudioprocess","autoplay","now","mediaType","ended","onsuccess","4169jTIWCs","addEventListener"," from disk!","Blob encoder did not finish its job yet.","MediaRecorder Error","cancelAnimationFrame","https://www.webrtc-experiment.com/gif-recorder.js","audio/ogg","leftChannel","OtherRecordingError","workerPath","3507804vTNRgG","position","volume","createJavaScriptNode","Legal values for buffer-size are ","RecordRTC","then","audio/wav","desiredSampRate","425511sQBQQs","body","RIFF","setUint16","audioSources","StereoAudioRecorder","constructor","captureStream","onGifRecordingStarted","Electron","URL","bin","autoWriteToDisk","VP8","sampleRate","audio/webm","useWhammyRecorder","navigator","enqueue","warn","display:none;opacity:0;color:transparent;","start","RecordRTC is destroyed.","onAudioProcessStarted","captureStream API are NOT available.","amd","checkForInactiveTracks","Please link: https://www.webrtc-experiment.com/EBML.js","Please make sure MediaStream is active.","createObjectStore","opacity","createScriptProcessor","onRender","drawImage","join","appendChild","recordingDuration is required.",") is not supported.","MultiStreamsMixer","record","video width/height","stream","cues","und","image/webp","onstop","prototype","callback","image/png","keyframe","MIME type (","getChannelData","lacing","split","frames","onVideoProcessStarted","MediaRecorder security error","clearRecordedData","mozSrcObject","Neither URL nor webkitURL detected.","text/javascript","ceil","stop","put","muted","play","MRecordRTC","destroyed","version","getMixedStream","terminate","nodeName","documentElement","realtime","Storage","duration","match","msSaveBlob","initRecorder","gif","rightBuffers","onRecordingStopped","forEach","set","application/javascript","onTimeStamp","test","quality","recordingCallback","onmessage","open","message","Reader","trackNum","MediaStream seems stopped.","UnknownError","setRepeat","byteLength","mimeType","GifRecorder","toLowerCase","workerURL","stopRecording","versions","onerror","src","webkitAudioContext","for output-type:","timecode","value","audioRecorder","Pass a callback function over getDataURL.","MediaRecorder API seems unable to record mimeType:","audio","addTrack","OutOfMemory","CanvasRecorder","chrome","5.6.2","Unable to resume the recording. Recording state: ","closed","onstart","keys","releaseStreams","readAsDataURL","getContext","advertisement","recording","https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm",'It seems that recorder is destroyed or "startRecording" is not invoked for ',"getArrayOfBlobs","0 Bytes","onGifPreview","Passing following config over MediaRecorder API.","dbName","dataStoreName","zIndex","getState","substr","right","Whammy","click","2259216kTZEbQ"," recorder.","blobs","makeMetadataSeekable","active","substring","bitrate","getInternalRecorder","electron","left","data","map","writeToDisk","webkitGetUserMedia","filter","reset","startDrawingFrames","onStateChanged","fullcanvas","createMediaStreamDestination","recordingDuration","setUint8","round","getUserMedia","Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.","6nzsVfG","videoBlob","CriOS","HTMLVideoElement","ondataavailable","this.onmessage =  function (eee) {","revokeObjectURL","userAgent","Writing recorded blob(s) to disk!","timeSlice","getMixer","Video","window","buffer","Generating WebM","addFrame","gifBlob","multi-streams-mixer","add","MediaStreamRecorder","4pHPXLv","paused","webm","4494511oBROlP","Something went wrong. Maybe WebP format is not supported in the current browser.","save","isElectron","pauseRecording","getNativeBlob","offsetHeight","compile","Bytes","showMousePointer","Recorder state changed:","recordRTC","connect","pause","opera","size","recorderType","disconnect","chrome/","style","video","onError","Seems recording has been restarted.","commonjsGlobal","whammy","clearedRecordedData","security","result","function","recordingLength","tools","364355eWGKSw","getTracks","frameRate","cloneNode","13070qYffLd","clearRect","disableLogs","startRecording","init","pipeTo","_controlledReadableStream","video/webm","toFixed","-1000em","Using recorderType:","charCodeAt","getDataURL","rightchannel","canRecordMimeType"];return(xh=function(){return t})()}const Mh=Bh;function Bh(t,e){const s=Uh();return(Bh=function(t,e){return s[t-=228]})(t,e)}!function(t,e){const s=Bh,i=t();for(;;)try{if(464624===parseInt(s(261))/1*(-parseInt(s(244))/2)+-parseInt(s(259))/3+parseInt(s(231))/4*(parseInt(s(266))/5)+-parseInt(s(250))/6*(-parseInt(s(249))/7)+parseInt(s(229))/8+-parseInt(s(241))/9*(-parseInt(s(235))/10)+-parseInt(s(230))/11*(parseInt(s(262))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Uh);class Fh{static[Mh(248)](t){let e=t,s=e[Mh(263)],i=new Uint8Array(s),r=0;for(let t=0;t<s;t++)t>=2&&3===e[t]&&0===e[t-1]&&0===e[t-2]||(i[r]=e[t],r++);return new Uint8Array(i.buffer,0,r)}static[Mh(256)](t){const e=Mh;let s=Fh[e(248)](t),i=new ue(s);i[e(258)]();let r=i[e(258)]();i[e(258)]();let n=i[e(258)]();i[e(252)]();let o=Fh[e(233)](r),a=Fh[e(228)](n),h=1,l=420,c=[0,420,422,444],d=8;if((100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r||138===r||144===r)&&(h=i.readUEG(),3===h&&i[e(245)](1),h<=3&&(l=c[h]),d=i[e(252)]()+8,i[e(252)](),i[e(245)](1),i.readBool())){let t=3!==h?8:12;for(let s=0;s<t;s++)i[e(238)]()&&(s<6?Fh._skipScalingList(i,16):Fh._skipScalingList(i,64))}i[e(252)]();let u=i[e(252)]();if(0===u)i[e(252)]();else if(1===u){i[e(245)](1),i[e(255)](),i.readSEG();let t=i[e(252)]();for(let s=0;s<t;s++)i[e(255)]()}let p=i[e(252)]();i[e(245)](1);let f=i[e(252)](),m=i[e(252)](),g=i[e(245)](1);0===g&&i.readBits(1),i.readBits(1);let y=0,A=0,v=0,b=0;i[e(238)]()&&(y=i[e(252)](),A=i.readUEG(),v=i[e(252)](),b=i[e(252)]());let S=1,E=1,w=0,T=!0,I=0,k=0;if(i[e(238)]()){if(i[e(238)]()){let t=i[e(258)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(S=s[t-1],E=r[t-1]):255===t&&(S=i[e(258)]()<<8|i.readByte(),E=i[e(258)]()<<8|i[e(258)]())}if(i[e(238)]()&&i[e(238)](),i[e(238)]()&&(i.readBits(4),i[e(238)]()&&i.readBits(24)),i[e(238)]()&&(i[e(252)](),i[e(252)]()),i[e(238)]()){let t=i[e(245)](32),s=i.readBits(32);T=i[e(238)](),I=s,k=2*t,w=I/k}}let _=1;(1!==S||1!==E)&&(_=S/E);let C=0,D=0;if(0===h)C=1,D=2-g;else{C=3===h?1:2,D=(1===h?2:1)*(2-g)}let R=16*(f+1),L=16*(m+1)*(2-g);R-=(y+A)*C,L-=(v+b)*D;let P=Math[e(264)](R*_);return i[e(251)](),i=null,{profile_string:o,level_string:a,bit_depth:d,ref_frames:p,chroma_format:l,chroma_format_string:Fh[e(254)](l),frame_rate:{fixed:T,fps:w,fps_den:k,fps_num:I},sar_ratio:{width:S,height:E},codec_size:{width:R,height:L},present_size:{width:P,height:L}}}static[Mh(234)](t){const e=Mh;let s=t[e(265)](1,4),i=e(246);for(let t=0;t<3;t++){let r=s[t][e(236)](16);r[e(260)]<2&&(r="0"+r),i+=r}let r=Fh[e(248)](t),n=new ue(r);n[e(258)]();let o=n[e(258)]();n.readByte();let a=n[e(258)]();n.readUEG();let h=Fh[e(233)](o),l=Fh[e(228)](a),c=1,d=420,u=[0,420,422,444],p=8,f=8;if((100===o||110===o||122===o||244===o||44===o||83===o||86===o||118===o||128===o||138===o||144===o)&&(c=n.readUEG(),3===c&&n.readBits(1),c<=3&&(d=u[c]),p=n[e(252)]()+8,f=n[e(252)]()+8,n[e(245)](1),n[e(238)]())){let t=3!==c?8:12;for(let s=0;s<t;s++)n.readBool()&&(s<6?Fh[e(257)](n,16):Fh[e(257)](n,64))}n.readUEG();let m=n[e(252)]();if(0===m)n[e(252)]();else if(1===m){n[e(245)](1),n[e(255)](),n.readSEG();let t=n[e(252)]();for(let s=0;s<t;s++)n[e(255)]()}let g=n[e(252)]();n[e(245)](1);let y=n.readUEG(),A=n[e(252)](),v=n[e(245)](1);0===v&&n.readBits(1),n[e(245)](1);let b=0,S=0,E=0,w=0;n[e(238)]()&&(b=n[e(252)](),S=n[e(252)](),E=n[e(252)](),w=n[e(252)]());let T=1,I=1,k=0,_=!0,C=0,D=0;if(n[e(238)]()){if(n[e(238)]()){let t=n[e(258)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(T=s[t-1],I=i[t-1]):255===t&&(T=n.readByte()<<8|n.readByte(),I=n[e(258)]()<<8|n[e(258)]())}if(n[e(238)]()&&n[e(238)](),n.readBool()&&(n[e(245)](4),n[e(238)]()&&n[e(245)](24)),n[e(238)]()&&(n.readUEG(),n[e(252)]()),n[e(238)]()){let t=n[e(245)](32),s=n[e(245)](32);_=n.readBool(),C=s,D=2*t,k=C/D}}let R=1;(1!==T||1!==I)&&(R=T/I);let L=0,P=0;if(0===c)L=1,P=2-v;else{L=3===c?1:2,P=(1===c?2:1)*(2-v)}let x=16*(y+1),M=16*(A+1)*(2-v);x-=(b+S)*L,M-=(E+w)*P;let B=Math[e(264)](x*R);return n.destroy(),n=null,{codec_mimetype:i,profile_idc:o,level_idc:a,profile_string:h,level_string:l,chroma_format_idc:c,bit_depth:p,bit_depth_luma:p,bit_depth_chroma:f,ref_frames:g,chroma_format:d,chroma_format_string:Fh[e(254)](d),frame_rate:{fixed:_,fps:k,fps_den:D,fps_num:C},sar_ratio:{width:T,height:I},codec_size:{width:x,height:M},present_size:{width:B,height:M}}}static[Mh(257)](t,e){let s=8,i=8,r=0;for(let n=0;n<e;n++)0!==i&&(r=t.readSEG(),i=(s+r+256)%256),s=0===i?s:i}static getProfileString(t){const e=Mh;switch(t){case 66:return e(243);case 77:return e(247);case 88:return e(242);case 100:return"High";case 110:return e(237);case 122:return e(232);case 244:return e(240);default:return e(239)}}static[Mh(228)](t){return(t/10).toFixed(1)}static[Mh(254)](t){const e=Mh;switch(t){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return e(253);default:return e(239)}}}function Uh(){const t=["ceil","subarray","2785cEbWRk","getLevelString","1239224YhqPcg","159830deHJUD","4072zWmKAu","High422","getProfileString","parseSPS$2","1664550Wryzrq","toString","High10","readBool","Unknown","High444","27odvBva","Extended","Baseline","2JdcqfQ","readBits","avc1.","Main","_ebsp2rbsp","12355JFAGwt","1458yWRgPp","destroy","readUEG","4:4:4","getChromaFormatString","readSEG","parseSPS","_skipScalingList","readByte","569268fzpjlS","length","211189uBhbWo","648rciwvE","byteLength"];return(Uh=function(){return t})()}function Oh(t,e){const s=jh();return(Oh=function(t,e){return s[t-=274]})(t,e)}const Nh=Oh;!function(t,e){const s=Oh,i=t();for(;;)try{if(717955===parseInt(s(290))/1*(parseInt(s(280))/2)+-parseInt(s(286))/3+parseInt(s(288))/4+-parseInt(s(275))/5*(parseInt(s(283))/6)+parseInt(s(291))/7*(-parseInt(s(279))/8)+-parseInt(s(274))/9+parseInt(s(278))/10*(parseInt(s(282))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jh);Nh(276),Nh(292);function jh(){const t=["3736852NzjFfM","bufpos","1002031hcWddz","12502HUrfYs","read_golomb","5804541vjkHWo","25dEnNxE","read","iserro","14188180hmTYLn","3440cupOjW","2JImLof","bufoff","11pVLxyf","26034dluDXo","length","buffer","3607449HTbuRW","buflen"];return(jh=function(){return t})()}const Vh=Wh;!function(t,e){const s=Wh,i=t();for(;;)try{if(957070===parseInt(s(422))/1+-parseInt(s(415))/2+parseInt(s(418))/3+-parseInt(s(396))/4*(parseInt(s(394))/5)+-parseInt(s(398))/6*(parseInt(s(419))/7)+-parseInt(s(408))/8*(parseInt(s(412))/9)+-parseInt(s(407))/10*(-parseInt(s(402))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Gh);Vh(400),Vh(399),Vh(409),Vh(417),Vh(390),Vh(401),Vh(420),Vh(414);function Wh(t,e){const s=Gh();return(Wh=function(t,e){return s[t-=390]})(t,e)}function Gh(){const t=["skipUEG","_data","buffer","6462cericx","set","skipScalingList","3102044CbTmOM","_bytesAvailable","readUEG","2322378GTjwam","4188506RarUXy","readUByte","Cannot read more than 32 bits","1446069tcesZN","_loadWord","readEG","_word","ExpGolomb data params is required","subarray","15ZXDSwX","readBits","771152zPjQpp","No bytes available","12cWTjps","skipLZ","skipBits","readBool","6259KlunRI","_bitsAvailable","getUint32","floor","byteLength","43310tmiCQF","4472NYrIXB"];return(Gh=function(){return t})()}const zh=Qh;function Hh(t){const e=Qh;let s=arguments[e(206)]>1&&void 0!==arguments[1]?arguments[1]:{};const i={};let r=function(){let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]}();const n=new DataView(t.buffer);let o=n[e(199)](0),a=n[e(199)](1);if(n[e(199)](2),n[e(199)](3),1!==o){if(!s[e(250)])return console[e(171)]("Invalid AVCDecoderConfigurationRecord, invalid version "+o+e(241)),{};{console[e(175)](e(200)+o+", correct to 1");let t=252&n[e(199)](0)|1;n[e(185)](0,t)}}if(0===a){if(!s[e(172)])return console[e(171)]("Invalid parseAVCDecoderConfigurationRecord, AVC profile (0) detected, and return"),{};console[e(175)](e(195)),n[e(185)](1,66)}const h=1+(3&n[e(199)](4));if(3!==h&&4!==h)return{};let l=31&n[e(199)](5);if(0===l)return{};let c=6;for(let s=0;s<l;s++){let o=n[e(173)](c,!r);if(c+=2,0===o)continue;let a=new Uint8Array(t[e(236)],c,o);c+=o;let h=Fh[e(202)](a);if(0!==s)continue;i.sps=a,i[e(188)]=1e3,i.codecWidth=h[e(237)].width,i[e(215)]=h[e(237)][e(253)],i[e(217)]=h[e(168)][e(222)],i[e(235)]=h[e(168)][e(253)],i[e(205)]=h[e(246)],i[e(244)]=h[e(196)],i[e(225)]=h[e(161)],i[e(247)]=h.chroma_format,i[e(170)]=h[e(182)],i[e(218)]=h[e(211)],(!1===h[e(211)][e(198)]||0===h[e(211)].fps_num||0===h[e(211)][e(251)])&&(i[e(218)]={fixed:!0,fps:25,fps_num:25e3,fps_den:1e3});let l=i[e(218)][e(251)],d=i.frameRate.fps_num;i[e(259)]=i.timescale*(l/d);let u=a[e(183)](1,4),p=e(221);for(let t=0;t<3;t++){let s=u[t][e(256)](16);s[e(206)]<2&&(s="0"+s),p+=s}i.codec=p}let d=n[e(199)](c);if(0===d)return{};c++;for(let s=0;s<d;s++){let s=n[e(173)](c,!r);if(c+=2,0===s)continue;let o=new Uint8Array(t[e(236)],c,s);c+=s,i[e(230)]=o}if(i.videoType=ft[e(220)],i[e(242)]){const t=i[e(242)][e(179)],s=new Uint8Array([t>>>24&255,t>>>16&255,t>>>8&255,255&t]),r=new Uint8Array(t+4);r[e(197)](s,0),r[e(197)](i[e(242)],4),i[e(242)]=r}if(i[e(230)]){const t=i[e(230)][e(179)],s=new Uint8Array([t>>>24&255,t>>>16&255,t>>>8&255,255&t]),r=new Uint8Array(t+4);r[e(197)](s,0),r.set(i[e(230)],4),i.pps=r}return i}function Kh(t){const e=Qh;let{sps:s,pps:i}=t,r=8+s[e(179)]+1+2+i[e(179)],n=!1;const o=Fh[e(232)](s);66!==s[3]&&77!==s[3]&&88!==s[3]&&(n=!0,r+=4);let a=new Uint8Array(r);a[0]=1,a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=255,a[5]=225;let h=s[e(179)];a[6]=h>>>8,a[7]=255&h;let l=8;a[e(197)](s,8),l+=h,a[l]=1;let c=i[e(179)];a[l+1]=c>>>8,a[l+2]=255&c,a[e(197)](i,l+3),l+=3+c,n&&(a[l]=252|o[e(194)],a[l+1]=248|o[e(174)]-8,a[l+2]=248|o[e(227)]-8,a[l+3]=0,l+=4);const d=[23,0,0,0,0],u=new Uint8Array(d[e(206)]+a[e(179)]);return u[e(197)](d,0),u.set(a,d[e(206)]),u}function qh(t,e){const s=Qh;let i=[];i[0]=e?23:39,i[1]=1,i[2]=0,i[3]=0,i[4]=0;const r=new Uint8Array(i.length+t.byteLength);return r[s(197)](i,0),r.set(t,i[s(206)]),r}function Yh(t){return 31&t[0]}function Qh(t,e){const s=Zh();return(Qh=function(t,e){return s[t-=160]})(t,e)}function Jh(t){return t===X[Qh(177)]}function Xh(t){return!function(t){const e=Qh;return t===X[e(242)]||t===X[e(230)]}(t)&&!Jh(t)}function $h(t){return t===X.iFrame}!function(t,e){const s=Qh,i=t();for(;;)try{if(231567===-parseInt(s(164))/1*(parseInt(s(234))/2)+-parseInt(s(255))/3*(-parseInt(s(184))/4)+parseInt(s(192))/5+parseInt(s(254))/6+parseInt(s(163))/7*(parseInt(s(243))/8)+-parseInt(s(223))/9+parseInt(s(240))/10*(-parseInt(s(212))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Zh);zh(213),zh(178);function Zh(){const t=["JbPro[xxx][✅✅✅][parseAVCDecoderConfigurationRecord] AVC profile (0) detected, correct to Baseline Profile (66)","level_string","set","fixed","getUint8","JbPro[xxx][✅✅✅][parseAVCDecoderConfigurationRecord] invalid version ","setInt16","parseSPS","findNextStartCodeOffset","Error parsing slice header:","profile","length","Could not find H264 startcode until payload end!","Strange AVCDecoderConfigurationRecord: PPS Count = ","readBit","avc_ref_frames","frame_rate","11VgQHdw","readBits","push","codecHeight","kReserved0","presentWidth","frameRate","Strange NaluLengthSizeMinusOne: ","h264","avc1.","width","2532213HXRUVP","read","bitDepth","skipBits","bit_depth_chroma","currentStartcodeOffset","iFrame","pps","ceil","parseSPS$2","Invalid AVCDecoderConfigurationRecord version !== 1 || avcProfile === 0","325302zvsxVb","presentHeight","buffer","codec_size","type","codecWidth","1885010shcuMl",", valid version is 1 and return","sps","3354376QkmPpO","level"," Strange AVCDecoderConfigurationRecord: SPS Count = ","profile_string","chromaFormat","nb_sps","kSliceNonIDR","correctionConfigurationVersion","fps_den","shift","height","675498LAulgK","3GpLKdr","toString","eofFlag","nalu","refSampleDuration","videoType","bit_depth","readUEG","7INgNDS","1HzJFiD","sliceType","data","skipScalingList","present_size","fps_num","sarRatio","error","correctionConfigurationProfileIndication","getUint16","bit_depth_luma","log","avcc","kSliceSEI","readUE","byteLength","Invalid AVCDecoderConfigurationRecord: No SPS","skipUEG","sar_ratio","subarray","699824bRUbTx","setUint8","pos","bit","timescale","compat","read_golomb","readUByte","786200RJYssb","readBool","chroma_format_idc"];return(Zh=function(){return t})()}class tl{constructor(t){const e=zh;this[e(166)]=t,this[e(257)]=!1,this[e(228)]=this[e(203)](0),this.eofFlag&&console[e(171)](e(207))}[zh(203)](t){const e=zh;let s=t,i=this.data;for(;;){if(s+3>=i.byteLength)return this[e(257)]=!0,i.byteLength;let t=i[s+0]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3],r=i[s+0]<<16|i[s+1]<<8|i[s+2];if(1===t||1===r)return s;s++}}readNextNaluPayload(){const t=zh;let e=this[t(166)],s=null;for(;null==s&&!this[t(257)];){let i=this[t(228)];i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3;let r=31&e[i],n=(128&e[i])>>>7,o=this[t(203)](i);this[t(228)]=o,r>=X[t(216)]||0===n&&(s={type:r,data:e[t(183)](i,o)})}return s}}class el{constructor(t){const e=zh;let s=t[e(166)][e(179)];this[e(238)]=t.type,this.data=new Uint8Array(4+s),new DataView(this[e(166)][e(236)]).setUint32(0,s),this[e(166)][e(197)](t.data,4)}}function sl(t,e){const s=rl();return(sl=function(t,e){return s[t-=449]})(t,e)}const il=sl;!function(t,e){const s=sl,i=t();for(;;)try{if(578152===-parseInt(s(457))/1*(-parseInt(s(454))/2)+parseInt(s(450))/3*(-parseInt(s(462))/4)+-parseInt(s(463))/5+-parseInt(s(459))/6+parseInt(s(468))/7+-parseInt(s(469))/8+parseInt(s(460))/9*(parseInt(s(453))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rl);il(458),il(465),il(452),il(461),il(467);function rl(){const t=["m_len","length","60qReJLA","GetBYTE","2749818UHUquW","1935WZVeyU","GetUE","26084WSrivo","3270990NHyfNk","m_byte","GetBit","m_data","GetSE","5371527rIuvuY","3193384rfgGdD","m_bits","m_zeros","75EqWpPI","m_idx","GetWord","58340bTtrAv","7706ZMZhIV"];return(rl=function(){return t})()}function nl(t,e){const s=ol();return(nl=function(t,e){return s[t-=200]})(t,e)}function ol(){const t=["336ToBtsc","GetWord","6SpDepQ","1966878Mkniup","36fkrENr","GetUE","1370336ASxjys","SPSParser sps_max_sub_layers_minus1 > 6","warn","42133LHNlBJ","SPSParser chroma_format_idc > 3","1279885yIKlyW","byteLength","19200HMWAWw","93558RlFZSk","73656IXrxoo","10AtguvC","buffer"];return(ol=function(){return t})()}function al(){const t=["30UaMXpC","push","18MbuFSS","110ZdzAvM","readBits","readBool",".1.L","destroy","buffer","400054Jbjzkc","byteLength","toFixed","1715OSzbAh","6008UuXNSy","4:4:4","readUEG","210132cEBXvr","136510BsioAj","readSEG","hvc1.","readByte","83869ffwXEM","4286359QgHYpm","75604FiYdcz",".B0"];return(al=function(){return t})()}!function(t,e){const s=nl,i=t();for(;;)try{if(169931===parseInt(s(208))/1+parseInt(s(209))/2+-parseInt(s(216))/3*(parseInt(s(207))/4)+parseInt(s(205))/5*(parseInt(s(214))/6)+parseInt(s(203))/7*(-parseInt(s(212))/8)+parseInt(s(215))/9*(parseInt(s(210))/10)+-parseInt(s(200))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ol),function(t,e){const s=cl,i=t();for(;;)try{if(140044===-parseInt(s(391))/1+-parseInt(s(379))/2+parseInt(s(370))/3*(parseInt(s(393))/4)+-parseInt(s(387))/5*(parseInt(s(372))/6)+parseInt(s(382))/7*(parseInt(s(383))/8)+-parseInt(s(386))/9*(parseInt(s(373))/10)+parseInt(s(392))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(al);const hl=t=>{const e=cl;let s=t,i=s[e(380)],r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(378)],0,n)},ll=t=>{const e=cl;switch(t){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return e(384);default:return"Unknown"}};function cl(t,e){const s=al();return(cl=function(t,e){return s[t-=369]})(t,e)}function dl(){const t=["4:2:0","10650078sBfimC","183375vEeDkn","readSEG","52859330PGHwCf","readByte","byteLength","getProfileString","toFixed","hvc1.","parseSPS","Main10","645UfXmqc","SCC","9908WiVazY","240zViBme","buffer","getLevelString","Unknown","5356595VQNCmH","destroy","5255551MBlWpN","54367rnXUlE","readUEG","4:2:2","readBits","parsePPS","54ryjYaS","_ebsp2rbsp","readBool",".B0"];return(dl=function(){return t})()}function ul(t,e){const s=dl();return(ul=function(t,e){return s[t-=119]})(t,e)}const pl=ul;!function(t,e){const s=ul,i=t();for(;;)try{if(922906===-parseInt(s(130))/1*(-parseInt(s(135))/2)+-parseInt(s(120))/3*(-parseInt(s(122))/4)+parseInt(s(127))/5+parseInt(s(140))/6+parseInt(s(129))/7+-parseInt(s(123))/8*(-parseInt(s(141))/9)+-parseInt(s(143))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dl);class fl{static _ebsp2rbsp(t){const e=ul;let s=t,i=s[e(145)],r=new Uint8Array(i),n=0;for(let t=0;t<i;t++)t>=2&&3===s[t]&&0===s[t-1]&&0===s[t-2]||(r[n]=s[t],n++);return new Uint8Array(r[e(124)],0,n)}static parseVPS(t){const e=ul;let s=fl[e(136)](t),i=new ue(s);return i[e(144)](),i.readByte(),i.readBits(4),i[e(133)](2),i[e(133)](6),{num_temporal_layers:i.readBits(3)+1,temporal_id_nested:i[e(137)]()}}static[pl(149)](t){const e=pl;let s=fl[e(136)](t),i=new ue(s);i.readByte(),i[e(144)]();let r=0,n=0,o=0,a=0;i[e(133)](4);let h=i[e(133)](3);i[e(137)]();let l=i[e(133)](2),c=i[e(137)](),d=i[e(133)](5),u=i.readByte(),p=i[e(144)](),f=i[e(144)](),m=i[e(144)](),g=i[e(144)](),y=i.readByte(),A=i[e(144)](),v=i[e(144)](),b=i.readByte(),S=i[e(144)](),E=i[e(144)](),w=[],T=[];for(let t=0;t<h;t++)w.push(i.readBool()),T.push(i[e(137)]());if(h>0)for(let t=h;t<8;t++)i[e(133)](2);for(let t=0;t<h;t++)w[t]&&(i[e(144)](),i.readByte(),i.readByte(),i[e(144)](),i[e(144)](),i[e(144)](),i[e(144)](),i.readByte(),i[e(144)](),i[e(144)](),i[e(144)]()),T[t]&&i[e(144)]();i[e(131)]();let I=i[e(131)]();3==I&&i.readBits(1);let k=i.readUEG(),_=i[e(131)]();i[e(137)]()&&(r+=i[e(131)](),n+=i[e(131)](),o+=i.readUEG(),a+=i.readUEG());let C=i.readUEG(),D=i[e(131)](),R=i[e(131)]();for(let t=i[e(137)]()?0:h;t<=h;t++)i[e(131)](),i[e(131)](),i[e(131)]();if(i[e(131)](),i[e(131)](),i[e(131)](),i.readUEG(),i.readUEG(),i[e(131)](),i[e(137)]()){if(i[e(137)]())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++){if(i[e(137)]()){let s=Math.min(64,1<<4+(t<<1));t>1&&i[e(142)]();for(let t=0;t<s;t++)i.readSEG()}else i[e(131)]()}}i[e(137)](),i.readBool(),i[e(137)]()&&(i[e(144)](),i[e(131)](),i[e(131)](),i[e(137)]());let L=i.readUEG(),P=0;for(let t=0;t<L;t++){let s=!1;if(0!==t&&(s=i.readBool()),s){t===L&&i[e(131)](),i.readBool(),i[e(131)]();let s=0;for(let t=0;t<=P;t++){let t=i.readBool(),r=!1;!t&&(r=i[e(137)]()),(t||r)&&s++}P=s}else{let t=i[e(131)](),s=i[e(131)]();P=t+s;for(let s=0;s<t;s++)i[e(131)](),i.readBool();for(let t=0;t<s;t++)i[e(131)](),i[e(137)]()}}if(i[e(137)]()){let t=i[e(131)]();for(let s=0;s<t;s++){for(let t=0;t<R+4;t++)i.readBits(1);i[e(133)](1)}}let x=!1,M=0,B=1,F=1,U=!1,O=1,N=1;if(i[e(137)](),i[e(137)](),i[e(137)]()){if(i[e(137)]()){let t=i[e(144)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<=16?(B=s[t-1],F=r[t-1]):255===t&&(B=i[e(133)](16),F=i.readBits(16))}if(i.readBool()&&i[e(137)](),i[e(137)]()){i[e(133)](3),i[e(137)](),i[e(137)]()&&(i.readByte(),i[e(144)](),i[e(144)]())}if(i[e(137)]()&&(i[e(131)](),i.readUEG()),i.readBool(),i[e(137)](),i[e(137)](),x=i.readBool(),x&&(i[e(131)](),i[e(131)](),i[e(131)](),i.readUEG()),i[e(137)]()){if(O=i[e(133)](32),N=i[e(133)](32),i[e(137)]()&&i[e(131)](),i[e(137)]()){let t=!1,s=!1,r=!1;t=i[e(137)](),s=i[e(137)](),(t||s)&&(r=i[e(137)](),r&&(i[e(144)](),i[e(133)](5),i.readBool(),i[e(133)](5)),i[e(133)](4),i[e(133)](4),r&&i[e(133)](4),i[e(133)](5),i.readBits(5),i.readBits(5));for(let n=0;n<=h;n++){let n=i[e(137)]();U=n;let o=!0,a=1;!n&&(o=i[e(137)]());let h=!1;if(o?i[e(131)]():h=i[e(137)](),!h&&(a=i[e(131)]()+1),t){for(let t=0;t<a;t++)i[e(131)](),i[e(131)](),r&&(i[e(131)](),i[e(131)]());i[e(137)]()}if(s){for(let t=0;t<a;t++)i[e(131)](),i[e(131)](),r&&(i[e(131)](),i[e(131)]());i[e(137)]()}}}}i[e(137)]()&&(i[e(137)](),i[e(137)](),i.readBool(),M=i[e(131)](),i[e(131)](),i[e(131)](),i[e(131)](),i[e(131)]())}i[e(137)]();let j=e(148)+d+".1.L"+E+e(138),V=k-(r+n)*(1===I||2===I?2:1),W=_-(o+a)*(1===I?2:1),G=1;return 1!==B&&1!==F&&(G=B/F),i[e(128)](),i=null,{codec_mimetype:j,profile_string:fl.getProfileString(d),level_string:fl[e(125)](E),profile_idc:d,bit_depth:C+8,ref_frames:1,chroma_format:I,chroma_format_string:fl.getChromaFormatString(I),general_level_idc:E,general_profile_space:l,general_tier_flag:c,general_profile_idc:d,general_profile_compatibility_flags_1:u,general_profile_compatibility_flags_2:p,general_profile_compatibility_flags_3:f,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:y,general_constraint_indicator_flags_3:A,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:b,general_constraint_indicator_flags_6:S,min_spatial_segmentation_idc:M,constant_frame_rate:0,chroma_format_idc:I,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:D,frame_rate:{fixed:U,fps:N/O,fps_den:O,fps_num:N},sar_ratio:{width:B,height:F},codec_size:{width:V,height:W},present_size:{width:V*G,height:W}}}static[pl(134)](t){const e=pl;let s=fl[e(136)](t),i=new ue(s);i.readByte(),i[e(144)](),i[e(131)](),i[e(131)](),i.readBool(),i.readBool(),i[e(133)](3),i[e(137)](),i[e(137)](),i.readUEG(),i[e(131)](),i.readSEG(),i[e(137)](),i[e(137)](),i.readBool()&&i[e(131)](),i[e(142)](),i[e(142)](),i[e(137)](),i[e(137)](),i[e(137)](),i[e(137)]();let r=i[e(137)](),n=i[e(137)](),o=1;return n&&r?o=0:n?o=3:r&&(o=2),{parallelismType:o}}static getChromaFormatString(t){const e=pl;switch(t){case 0:return"4:0:0";case 1:return e(139);case 2:return e(132);case 3:return"4:4:4";default:return e(126)}}static[pl(146)](t){const e=pl;switch(t){case 1:return"Main";case 2:return e(119);case 3:return"MainSP";case 4:return"Rext";case 9:return e(121);default:return e(126)}}static getLevelString(t){return(t/30)[pl(147)](1)}}const ml=gl;function gl(t,e){const s=wl();return(gl=function(t,e){return s[t-=494]})(t,e)}function yl(t){const e=gl;let s=arguments[e(637)]>1&&void 0!==arguments[1]?arguments[1]:{};const i=t;if(i[e(637)]<22)return console[e(554)]("Invalid HEVCDecoderConfigurationRecord, lack of data! "+i[e(637)]+e(517)),{};let r={codecWidth:0,codecHeight:0,videoType:ft.h265,timescale:1e3},n=function(){const t=e;let s=new ArrayBuffer(2);return new DataView(s)[t(618)](0,256,!0),256===new Int16Array(s)[0]}(),o=new DataView(i.buffer),a=o[e(595)](0),h=31&o[e(595)](1);if(1!==a&&0!==a){if(!s[e(633)])return console[e(554)](e(555)+a+e(596)),{};{console.log("JbPro[xxx][✅✅✅][parseHEVCDecoderConfigurationRecord] invalid version "+a+e(552));let t=252&o[e(595)](0)|1;o[e(570)](0,t)}}if(0===h){if(!s[e(509)])return console[e(554)](e(635)+h+", valid hevc profile is Main Profile (1), Main 10 Profile (2),Main Still Picture Profile (3)"),{};{console[e(549)]("JbPro[xxx][✅✅✅][parseHEVCDecoderConfigurationRecord] invalid HEVC profile "+h+e(535));let t=224&o[e(595)](1)|1;o[e(570)](1,t)}}let l=1+(3&o[e(595)](21));if(3!==l&&4!==l)return console.error("Invalid HEVCDecoderConfigurationRecord, Strange NaluLengthSizeMinusOne: "+(l-1)+e(502)+l+" ,"),{};let c=o[e(595)](22);for(let t=0,s=23;t<c;t++){let t=63&o[e(595)](s+0),a=o[e(551)](s+1,!n);s+=3;for(let h=0;h<a;h++){let a=o[e(551)](s+0,!n);if(0===h)if(33===t){s+=2;let t=new Uint8Array(i[e(579)],s,a),n=fl[e(591)](t);r[e(550)]=n.codec_size[e(558)],r[e(606)]=n.codec_size[e(560)],r[e(602)]=n[e(638)][e(558)],r[e(541)]=n[e(638)][e(560)],r.profile=n[e(608)],r[e(533)]=n.level_string,r.bitDepth=n.bit_depth,r[e(636)]=n.chroma_format,r.sarRatio=n[e(545)],r[e(546)]=n[e(616)],(!1===n.frame_rate[e(598)]||0===n[e(616)][e(586)]||0===n[e(616)].fps_den)&&(r[e(546)]={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3});let o=r[e(546)][e(500)],h=r.frameRate[e(586)];r[e(594)]=r.timescale*(o/h),r.codec=n.codec_mimetype,s+=a}else s+=2+a;else s+=2+a}}return r[e(522)]=new Uint8Array(i),r}function Al(t){const e=gl;let{vps:s,pps:i,sps:r}=t,n={configurationVersion:1};const o=(t=>{const e=cl;let s=hl(t),i=new ue(s);return i[e(390)](),i.readByte(),i[e(374)](4),i[e(374)](2),i[e(374)](6),{num_temporal_layers:i.readBits(3)+1,temporal_id_nested:i[e(375)]()}})(s),a=(t=>{const e=cl;let s=hl(t),i=new ue(s);i[e(390)](),i[e(390)]();let r=0,n=0,o=0,a=0;i.readBits(4);let h=i.readBits(3);i[e(375)]();let l=i[e(374)](2),c=i[e(375)](),d=i[e(374)](5),u=i[e(390)](),p=i[e(390)](),f=i[e(390)](),m=i[e(390)](),g=i.readByte(),y=i[e(390)](),A=i[e(390)](),v=i[e(390)](),b=i[e(390)](),S=i[e(390)](),E=i[e(390)](),w=[],T=[];for(let t=0;t<h;t++)w.push(i[e(375)]()),T[e(371)](i.readBool());if(h>0)for(let t=h;t<8;t++)i[e(374)](2);for(let t=0;t<h;t++)w[t]&&(i.readByte(),i[e(390)](),i.readByte(),i.readByte(),i[e(390)](),i[e(390)](),i[e(390)](),i[e(390)](),i[e(390)](),i[e(390)](),i[e(390)]()),w[t]&&i[e(390)]();i[e(385)]();let I=i[e(385)]();3==I&&i[e(374)](1);let k=i[e(385)](),_=i.readUEG();i[e(375)]()&&(r+=i.readUEG(),n+=i[e(385)](),o+=i[e(385)](),a+=i[e(385)]());let C=i.readUEG(),D=i.readUEG(),R=i[e(385)]();for(let t=i[e(375)]()?0:h;t<=h;t++)i[e(385)](),i[e(385)](),i[e(385)]();if(i[e(385)](),i[e(385)](),i[e(385)](),i[e(385)](),i[e(385)](),i[e(385)](),i[e(375)]()&&i[e(375)]())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++)if(i.readBool()){let e=Math.min(64,1<<4+(t<<1));t>1&&i.readSEG();for(let t=0;t<e;t++)i.readSEG()}else i[e(385)]();i.readBool(),i.readBool(),i[e(375)]()&&(i.readByte(),i[e(385)](),i[e(385)](),i[e(375)]());let L=i[e(385)](),P=0;for(let t=0;t<L;t++){let s=!1;if(0!==t&&(s=i.readBool()),s){t===L&&i[e(385)](),i.readBool(),i[e(385)]();let s=0;for(let t=0;t<=P;t++){let t=i[e(375)](),r=!1;!t&&(r=i[e(375)]()),(t||r)&&s++}P=s}else{let t=i[e(385)](),s=i[e(385)]();P=t+s;for(let s=0;s<t;s++)i[e(385)](),i[e(375)]();for(let t=0;t<s;t++)i[e(385)](),i[e(375)]()}}if(i[e(375)]()){let t=i[e(385)]();for(let s=0;s<t;s++){for(let t=0;t<R+4;t++)i[e(374)](1);i[e(374)](1)}}let x=!1,M=0,B=1,F=1,U=!1,O=1,N=1;if(i[e(375)](),i[e(375)](),i[e(375)]()){if(i[e(375)]()){let t=i[e(390)](),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(B=s[t-1],F=r[t-1]):255===t&&(B=i.readBits(16),F=i[e(374)](16))}if(i[e(375)]()&&i[e(375)](),i[e(375)]()&&(i[e(374)](3),i[e(375)](),i[e(375)]()&&(i[e(390)](),i[e(390)](),i[e(390)]())),i[e(375)]()&&(i[e(385)](),i[e(385)]()),i[e(375)](),i[e(375)](),i[e(375)](),x=i[e(375)](),x&&(r+=i[e(385)](),n+=i[e(385)](),o+=i[e(385)](),a+=i[e(385)]()),i[e(375)]()&&(O=i[e(374)](32),N=i[e(374)](32),i[e(375)]()&&(i[e(385)](),i.readBool()))){let t=!1,s=!1,r=!1;t=i[e(375)](),s=i[e(375)](),(t||s)&&(r=i.readBool(),r&&(i[e(390)](),i[e(374)](5),i[e(375)](),i[e(374)](5)),i[e(374)](4),i[e(374)](4),r&&i.readBits(4),i[e(374)](5),i[e(374)](5),i[e(374)](5));for(let n=0;n<=h;n++){let n=i.readBool();U=n;let o=!1,a=1;!n&&(o=i[e(375)]());let h=!1;if(o?i[e(388)]():h=i.readBool(),!h&&(cpbcnt=i[e(385)]()+1),t)for(let t=0;t<a;t++)i.readUEG(),i[e(385)](),r&&(i[e(385)](),i[e(385)]());if(s)for(let t=0;t<a;t++)i.readUEG(),i[e(385)](),r&&(i.readUEG(),i[e(385)]())}}i.readBool()&&(i[e(375)](),i[e(375)](),i.readBool(),M=i[e(385)](),i[e(385)](),i[e(385)](),i[e(385)](),i.readUEG())}i.readBool();let j=e(389)+d+e(376)+E+e(369),V=k,W=_,G=1;return 1!==B&&1!==F&&(G=B/F),i[e(377)](),i=null,{codec_mimetype:j,level_string:(z=E,(z/30)[cl(381)](1)),profile_idc:d,bit_depth:C+8,ref_frames:1,chroma_format:I,chroma_format_string:ll(I),general_level_idc:E,general_profile_space:l,general_tier_flag:c,general_profile_idc:d,general_profile_compatibility_flags_1:u,general_profile_compatibility_flags_2:p,general_profile_compatibility_flags_3:f,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:y,general_constraint_indicator_flags_3:A,general_constraint_indicator_flags_4:v,general_constraint_indicator_flags_5:b,general_constraint_indicator_flags_6:S,min_spatial_segmentation_idc:M,constant_frame_rate:0,chroma_format_idc:I,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:D,frame_rate:{fixed:U,fps:N/O,fps_den:O,fps_num:N},sar_ratio:{width:B,height:F},codec_size:{width:V,height:W},present_size:{width:V*G,height:W}};var z})(r),h=(t=>{const e=cl;let s=hl(t),i=new ue(s);i[e(390)](),i.readByte(),i.readUEG(),i[e(385)](),i.readBool(),i.readBool(),i[e(374)](3),i[e(375)](),i[e(375)](),i[e(385)](),i[e(385)](),i.readSEG(),i[e(375)](),i.readBool(),i[e(375)]()&&i[e(385)](),i[e(388)](),i[e(388)](),i[e(375)](),i[e(375)](),i[e(375)](),i[e(375)]();let r=i[e(375)](),n=i[e(375)](),o=1;return n&&r?o=0:n?o=3:r&&(o=2),{parallelismType:o}})(i);n=Object[e(540)](n,o,a,h);let l=23+(5+s.byteLength)+(5+r.byteLength)+(5+i[e(530)]),c=new Uint8Array(l);c[0]=1,c[1]=(3&n[e(589)])<<6|(n[e(580)]?1:0)<<5|31&n.general_profile_idc,c[2]=n[e(562)]||0,c[3]=n[e(563)]||0,c[4]=n[e(524)]||0,c[5]=n[e(557)]||0,c[6]=n.general_constraint_indicator_flags_1||0,c[7]=n[e(623)]||0,c[8]=n.general_constraint_indicator_flags_3||0,c[9]=n[e(631)]||0,c[10]=n[e(525)]||0,c[11]=n.general_constraint_indicator_flags_6||0,c[12]=60,c[13]=240|(3840&n[e(567)])>>8,c[14]=255&n.min_spatial_segmentation_idc,c[15]=252|3&n[e(531)],c[16]=252|3&n.chroma_format_idc,c[17]=248|7&n[e(590)],c[18]=248|7&n.bit_depth_chroma_minus8,c[19]=0,c[20]=0,c[21]=(3&n.constant_frame_rate)<<6|(7&n[e(610)])<<3|(n[e(632)]?1:0)<<2|3,c[22]=3,c[23]=128|$[e(506)],c[24]=0,c[25]=1,c[26]=(65280&s[e(530)])>>8,c[27]=(255&s[e(530)])>>0,c[e(520)](s,28),c[23+(5+s[e(530)])+0]=128|$[e(617)],c[23+(5+s.byteLength)+1]=0,c[23+(5+s.byteLength)+2]=1,c[23+(5+s[e(530)])+3]=(65280&r.byteLength)>>8,c[23+(5+s.byteLength)+4]=(255&r[e(530)])>>0,c[e(520)](r,23+(5+s[e(530)])+5),c[23+(5+s.byteLength+5+r.byteLength)+0]=128|$[e(516)],c[23+(5+s[e(530)]+5+r.byteLength)+1]=0,c[23+(5+s[e(530)]+5+r[e(530)])+2]=1,c[23+(5+s[e(530)]+5+r[e(530)])+3]=(65280&i[e(530)])>>8,c[23+(5+s[e(530)]+5+r[e(530)])+4]=(255&i[e(530)])>>0,c[e(520)](i,23+(5+s.byteLength+5+r[e(530)])+5);const d=[28,0,0,0,0],u=new Uint8Array(d[e(637)]+c.byteLength);return u[e(520)](d,0),u.set(c,d.length),u}function vl(t,e){const s=gl;let i=[];i[0]=e?28:44,i[1]=1,i[2]=0,i[3]=0,i[4]=0;const r=new Uint8Array(i.length+t[s(530)]);return r.set(i,0),r[s(520)](t,i[s(637)]),r}function bl(t){return(126&t[0])>>1}function Sl(t){return!((e=t)>=32&&e<=40);var e}function El(t){return t>=16&&t<=21}function wl(){const t=["conf_win_top_offset","6qUvJOj","min_spatial_segmentation_idc","conf_win_left_offset","sps_max_sub_layers_minus1","setUint8","Could not find H265 startcode until payload end!","general_non_packed_constraint_flag","generalProfileSpace","generalLevelIdc","chroma_format","profile_compatibility_flags","general_level_idc","15726UNydJj","buffer","general_tier_flag","from","sub_layer_profile_compatibility_flag","read_golomb","constantFrameRate","parseHEVCDecoderVPSAndSPSAndPPS and sps tag is ","fps_num","setUint32","bitDepth","general_profile_space","bit_depth_luma_minus8","parseSPS","general_constraint_indicator_flags","165346CBSiwh","refSampleDuration","getUint8",", valid version is 1 or 0","profile_space","fixed","hev1.1.6.L93.B0","look","sub_layer_profile_space","presentWidth","currentStartcodeOffset","readUEG","1385096UklhGB","codecHeight","pic_height_in_luma_samples","profile_string","data","num_temporal_layers","readNextNaluPayload","general_interlaced_source_flag","profile_tier_level","lengthSizeMinusOne","type","frame_rate","sps","setInt16","conf_win_right_offset","32akHKwO","max","sei","general_constraint_indicator_flags_2","45870aLtmMB","371388WuWiSN","avgFrameRate","bitDepthLumaMinus8","conf_win_bottom_offset","temporalIdNested","timescale","general_constraint_indicator_flags_4","temporal_id_nested","correctionConfigurationVersion","configurationVersion","Invalid HEVCDecoderConfigurationRecord: invalid HEVC profile ","chromaFormat","length","present_size","generalTierFlag","eofFlag","chroma_format_idc","sub_layer_interlaced_source_flag"," < 23","255265sQfbnk","general_profile_idc","fps_den","pic_width_in_luma_samples"," and naluLengthSize is ","codec_size","read","generalProfileCompatibilityFlags","vps","h265","findNextStartCodeOffset","correctionConfigurationProfileIndication","986877jDjQVF","sub_layer_profile_present_flag","parseHEVCDecoderVPSAndSPSAndPPS and vpsTag is ","readUByte","general_frame_only_constraint_flag","generalProfileIdc","pps"," < 22","sub_layer_progressive_source_flag","bitDepthChromaMinus8","set","slice","hvcc","psps","general_profile_compatibility_flags_3","general_constraint_indicator_flags_5","sub_layer_profile_idc","general_progressive_source_flag","sub_layer_level_present_flag","level_idc","byteLength","parallelismType","subarray","level","readBits",", correct to Main Profile (1)","sub_layer_level_idc","numTemporalLayers","sub_layer_frame_only_constraint_flag","warn","assign","presentHeight","sub_layer_tier_flag","7fIYlHH","arrayBuffer.length ","sar_ratio","frameRate","parseHEVCDecoderConfigurationRecord$2","630XTZllS","log","codecWidth","getUint16",", correct to 1","separate_colour_plane_flag","error","Invalid HEVCDecoderConfigurationRecord,invalid version ","push","general_profile_compatibility_flags_4","width","profile","height","bit_depth","general_profile_compatibility_flags_1","general_profile_compatibility_flags_2","sub_layer_non_packed_constraint_flag"];return(wl=function(){return t})()}!function(t,e){const s=gl,i=t();for(;;)try{if(101471===-parseInt(s(593))/1+-parseInt(s(625))/2+-parseInt(s(578))/3*(parseInt(s(620))/4)+parseInt(s(498))/5*(-parseInt(s(566))/6)+-parseInt(s(543))/7*(-parseInt(s(605))/8)+parseInt(s(510))/9+parseInt(s(548))/10*(parseInt(s(624))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(wl);class Tl{constructor(t){const e=gl;this[e(609)]=t,this[e(494)]=!1,this.currentStartcodeOffset=this[e(508)](0),this[e(494)]&&console[e(554)](e(571))}findNextStartCodeOffset(t){const e=gl;let s=t,i=this.data;for(;;){if(s+3>=i.byteLength)return this[e(494)]=!0,i[e(530)];let t=i[s+0]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3],r=i[s+0]<<16|i[s+1]<<8|i[s+2];if(1===t||1===r)return s;s++}}[ml(611)](){const t=ml;let e=this[t(609)],s=null;for(;null==s&&!this.eofFlag;){let i=this[t(603)];i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3;let r=e[i]>>1&63,n=(128&e[i])>>>7,o=this[t(508)](i);this[t(603)]=o,0===n&&(s={type:r,data:e[t(532)](i,o)})}return s}}class Il{constructor(t){const e=ml;let s=t[e(609)][e(530)];this[e(615)]=t.type,this[e(609)]=new Uint8Array(4+s),new DataView(this[e(609)][e(579)])[e(587)](0,s),this[e(609)][e(520)](t.data,4)}}const kl=_l;function _l(t,e){const s=Cl();return(_l=function(t,e){return s[t-=105]})(t,e)}function Cl(){const t=["timescale","codecWidth","destroy","2376858cYwNRA","originalCodec","config","1672oVExrn","_isDestroyed","getCorrectionConfiguration","isRecording","handleAddNaluTrack","assign","_recordingTimestamp","videoType","750270iLFhUq","701635akobbd","avcc","getToTalByteLength","initMetaData","h264","stopRecordAndSave","_reset","presentWidth","audioCodeId","slice","TAG_NAME","handleAddAudioTrack","677873Vusssf","sps","presentHeight","depth","recorderCommon","recordingInterval","recordTime","player","_isRecording","startRecord","channelCount","codec","initAudioMetaData","isH264","initAudioAacExtraData","codecHeight","fileName","audioMetaInfo","h265","1885044OYlxfK","refSampleDuration","33054aVrhzJ","metaInfo","codecId","sampleRate","pps","extraData","vps","startRecordingInterval","1001622KyBIDG","setFileName","recording"];return(Cl=function(){return t})()}!function(t,e){const s=_l,i=t();for(;;)try{if(376667===parseInt(s(143))/1+parseInt(s(113))/2+parseInt(s(130))/3+parseInt(s(162))/4+-parseInt(s(131))/5+-parseInt(s(119))/6+parseInt(s(105))/7*(-parseInt(s(122))/8))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cl);class Dl extends zi{constructor(t){const e=_l;super(),this[e(141)]=e(147),this[e(150)]=t,this[e(159)]="",this[e(151)]=!1,this[e(128)]=0,this[e(148)]=null,this[e(144)]=null,this.pps=null,this[e(111)]=null,this.codecId=null,this[e(139)]=null,this[e(106)]={codecWidth:0,codecHeight:0,presentWidth:0,presentHeight:0,refSampleDuration:0,timescale:1e3,avcc:null,videoType:""},this[e(160)]={timescale:1e3,sampleRate:0,refSampleDuration:0,channelCount:0,codec:"",originalCodec:"",audioType:"",extraData:new Uint8Array(0)},this[e(123)]=!1}[kl(118)](){const t=kl;this._isDestroyed=!0,this[t(137)](),this[t(144)]=null,this[t(109)]=null,this.vps=null,this[t(107)]=null,this[t(139)]=null,this.metaInfo=null,this[t(160)]=null}get[kl(156)](){const t=kl;return this[t(107)]===K[t(135)]}get isH265(){return this[kl(107)]===K.h265}[kl(114)](t){this.fileName=t}get[kl(125)](){return this[kl(151)]}get[kl(115)](){return this[kl(151)]}get[kl(149)](){return this[kl(128)]}[kl(152)](){}[kl(126)](t,e,s,i){}[kl(142)](t,e){}handleAddTrack(t){}[kl(136)](){}[kl(112)](){}isWasmMp4(){return!1}stopRecordingInterval(){const t=kl;this.recordingInterval&&(clearInterval(this[t(148)]),this[t(148)]=null)}[kl(133)](){return 0}[kl(137)](){this[kl(159)]="",this._isRecording=!1,this._recordingTimestamp=0,this.stopRecordingInterval()}[kl(134)](t,e){const s=kl;let i;const r=t[s(140)](5);this[s(107)]=e,this[s(106)][s(132)]=r;const n=this[s(150)][s(124)]();if(e===K[s(135)])i=Hh(r,n);else if(e===K[s(161)]){i=function(t){const e=gl;let s=23;const i=t[s];if((63&i)!==$[e(506)])return console[e(539)](e(512)+i),{};s+=2,s+=1;const r=t[s+1]|t[s]<<8;s+=2;const n=t[e(521)](s,s+r);s+=r;const o=t[s];if((63&o)!==$[e(617)])return console[e(539)](e(585)+o),{};s+=2,s+=1;const a=t[s+1]|t[s]<<8;s+=2;const h=t.slice(s,s+a);s+=a;const l=t[s];if((63&l)!==$[e(516)])return console[e(539)]("parseHEVCDecoderVPSAndSPSAndPPS and pps tag is "+l),{};s+=2,s+=1;const c=t[s+1]|t[s]<<8;s+=2;const d=t[e(521)](s,s+c),u=new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,255&a]),p=new Uint8Array([c>>>24&255,c>>>16&255,c>>>8&255,255&c]),f=new Uint8Array([r>>>24&255,r>>>16&255,r>>>8&255,255&r]),m=new Uint8Array(a+4);m[e(520)](u,0),m[e(520)](h,4);const g=new Uint8Array(c+4);g[e(520)](p,0),g[e(520)](d,4);const y=new Uint8Array(r+4);return y[e(520)](f,0),y[e(520)](n,4),{sps:m,pps:g,vps:y}}(r);const t=yl(r,n);i=Object[s(127)](i,t)}i&&(i[s(111)]&&(this[s(111)]=i.vps),i.pps&&(this.pps=i[s(109)]),i[s(144)]&&(this[s(144)]=i.sps),i[s(138)]&&(this[s(106)][s(138)]=i[s(138)]),i[s(145)]&&(this[s(106)][s(145)]=i[s(145)]),i[s(117)]&&(this[s(106)][s(117)]=i[s(117)]),i[s(158)]&&(this[s(106)].codecHeight=i[s(158)]),i[s(116)]&&(this[s(106)].timescale=i.timescale),i[s(163)]&&(this[s(106)][s(163)]=i[s(163)]),i[s(129)]&&(this[s(106)][s(129)]=i[s(129)]))}[kl(155)](t,e){const s=kl;this[s(139)]=e;const i=t[0]>>1&1;let r=null;e===Y.AAC?(r=function(t){const e=fe;let s={},i=new Ce(t);return i[e(366)](16),s[e(410)]=De(i),s[e(412)]=Re(i,s),s[e(419)]=i[e(366)](4),s.chan_config<xe[e(364)]&&(s[e(374)]=xe[s.chan_config]),s[e(408)]=-1,s.ps=-1,(5==s[e(410)]||29==s[e(410)])&&(29==s[e(410)]&&(s.ps=1),s[e(373)]=5,s[e(408)]=1,s[e(412)]=Re(i,s),s.object_type=De(i)),{...s,channelCount:s.channels,sampleRate:s[e(412)]}}(t),r&&(r[s(153)]&&(this[s(160)][s(153)]=r.channelCount),r[s(154)]&&(this[s(160)][s(154)]=r.codec),r[s(120)]&&(this[s(160)][s(120)]=r[s(120)]),r.config&&(this[s(160)][s(121)]=r[s(121)]),r[s(108)]&&(this[s(160)][s(108)]=r[s(108)]),this[s(160)].sampleRate&&this[s(160)][s(116)]&&(this.audioMetaInfo[s(163)]=1024/this[s(160)][s(108)]*this[s(160)][s(116)])),this[s(160)].depth=i?16:8,this[s(160)][s(110)]=t[s(140)](2)):this[s(160)][s(146)]=0===i?8:16}[kl(157)](t){const e=kl;this[e(160)][e(110)]=new Uint8Array(t)}}const Rl=Ll;function Ll(t,e){const s=Pl();return(Ll=function(t,e){return s[t-=338]})(t,e)}function Pl(){const t=["forEach","RecorderRTC","startRecord and video mediaStream","recordEnd","getAudioTracks","mediaStream","_startCanvasRender","toString","_reset","requestVideoFrameCallback","_initCanvasRender","isOldHls","bound","height","fileName","destroy","read","$videoElement","getToTalByteLength","initMetaData","ondataavailable","metadataSize","useWCS","stopRecordingInterval","recordWebMSupportSeek","makeMetadataSeekable","recordBlob","size","canvasRenderInterval","videoFrameCallback","TAG_NAME","recording","startRecord","recordCancel","stopRecordAndSave","224122CwEfFf","284312bLvPfo","decode","use setInterval","video","canvas","stop recording and totalDuration is ","cues","result","_isRecording","audio","mediaStreamAudioDestinationNode","metadatas","canvasElementCtx","video/webm;codecs=h264","startRecordingInterval","cancelVideoFrameCallback","record timestamp :","1gqaEdB","invokeSaveAsDialog","download","emit","isStateSuspended","_stopSupportVideoFrameCallback","startRecording","captureStream","startRecord and render type is canvas and use captureStream","debugError","clearRect","getSeekableBlob","797916urgyuw","hasAudio","startRecord and use local canvas render video and captureStream","start recording","_opt","getType","stop","enabled","webm","canvasElement is null","blob","recordStart","_recordingTimestamp","getTotalDuration","setFileName","Reader","totalByteLength","can not create stream","emitError","startCanvasRender error","onload","canvasElement","stopRecording","use video frame callback","528640ukZdDM","_stopCanvasRender","save","Decoder","3022120tFuugy","debug","debugLog","recordingInterval","133950TBmFhF","videoStream","recordTime","supportVideoFrameCallbackHandle","length","getVideoInfo","stream","bind","drawImage","RecordRTCLoader","startRecord error and can not create stream","video/webm","520136VwhqlA","width","player","_removeCanvasRender","recorder is not ready","slice","setInterval","recordCreateError","_isDestroyed","_startRecordingTimestamp","recorder"];return(Pl=function(){return t})()}!function(t,e){const s=Ll,i=t();for(;;)try{if(125112===-parseInt(s(380))/1*(-parseInt(s(362))/2)+parseInt(s(424))/3+-parseInt(s(436))/4+-parseInt(s(416))/5+-parseInt(s(392))/6+-parseInt(s(363))/7+parseInt(s(420))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Pl);class xl extends Dl{constructor(t){const e=Ll;super(t),this[e(357)]=e(433),this[e(408)]=0,this[e(445)]=null,this[e(355)]=null,this[e(427)]=null,this[e(413)]=null,this.canvasElementCtx=null,this[e(339)]={videoFrameCallback:this.videoFrameCallback[e(431)](this)},t[e(422)](e(448),"init")}[Rl(342)](){const t=Rl;super[t(342)](),this._reset(),this[t(339)]=null,this[t(438)][t(422)](t(448),"destroy")}[Rl(455)](){const t=Rl;super[t(455)](),this[t(417)](),this._stopSupportVideoFrameCallback(),this[t(439)](),this.totalByteLength=0,this._startRecordingTimestamp=null,this[t(446)]&&(this[t(446)].destroy(),this[t(446)]=null)}[Rl(391)](t){const e=Rl,s=new(Dh[e(407)]),i=new(Dh[e(419)]),r=Dh.tools,n=new FileReader;return new Promise(((o,a)=>{const h=e;n[h(412)]=function(t){const e=h;i[e(364)](this.result)[e(447)]((function(t){s[e(343)](t)})),s[e(398)]();const n=r[e(352)](s[e(374)],s.duration,s[e(369)]),a=this[e(370)][e(441)](s[e(348)]),l=new Blob([n,a],{type:e(435)});o(l)},n.readAsArrayBuffer(t)}))}[Rl(359)](){const t=Rl,e={type:"video",mimeType:t(376),timeSlice:1e3,onTimeStamp:e=>{const s=t;this.player&&this[s(438)].debugLog(s(448),s(379)+e),null===this[s(445)]&&(this[s(445)]=e),this[s(404)]=(e-this._startRecordingTimestamp)/1e3},ondataavailable:e=>{const s=t;this.totalByteLength+=e[s(354)],this[s(438)]&&this.player.debugLog("RecorderRTC",s(347),e.size)},disableLogs:!this[t(438)][t(396)][t(421)]};try{let s=null;if(this[t(438)].getRenderType()===f.canvas)s=this.player[t(366)].$videoElement[t(387)](25),this[t(438)][t(422)](this.TAG_NAME,t(388));else if(this[t(438)][t(366)][t(452)])s=this[t(438)].video.mediaStream,this[t(438)][t(422)](this[t(357)],t(449));else{if(Si(this[t(453)]()))return void this.player[t(410)](O[t(443)],t(411));this.player[t(338)]()?s=this[t(413)].captureStream(25):this.player[t(396)].useMSE?s=this.canvasElement[t(387)](25):this[t(438)]._opt[t(349)]?s=this[t(413)][t(387)](25):this.player.isWebrtcH264()?s=this[t(438)].webrtc[t(425)]:this[t(438)].isAliyunRtc()&&(s=this[t(413)].captureStream(25)),this[t(438)].debugLog(this[t(357)],t(394))}if(!s)return this[t(438)][t(389)]("RecorderRTC",t(434)),void this[t(438)][t(410)](O.recordCreateError,t(409));if(this[t(438)][t(372)]&&this[t(438)][t(372)][t(373)]&&this[t(438)][t(372)][t(373)][t(430)]&&!this.player[t(372)][t(384)]()&&this[t(438)][t(372)][t(393)]&&this[t(438)][t(396)][t(393)]){const e=this[t(438)][t(372)][t(373)][t(430)];if(e[t(451)]()[t(428)]>0){const i=e[t(451)]()[0];i&&i[t(399)]&&s.addTrack(i)}}this[t(446)]=Ph(s,e)}catch(e){return this.player[t(389)](t(448),"startRecord error",e[t(454)](),e),void this[t(438)][t(410)](O[t(443)],e[t(454)]())}this[t(446)]&&(this[t(371)]=!0,this[t(438)][t(383)](O[t(358)],!0),this.recorder[t(386)](),this.player[t(422)](t(448),t(395)),this[t(438)][t(383)](O[t(403)]),this[t(377)]())}startRecordingInterval(){const t=Rl;this[t(350)](),this[t(423)]=window[t(442)]((()=>{const e=t;this[e(438)].emit(O.recordingTimestamp,this[e(404)])}),1e3)}[Rl(361)](){const t=Rl;let e=arguments[t(428)]>0&&void 0!==arguments[0]?arguments[0]:z[t(382)],s=arguments.length>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;(!this.recorder||!this[n(371)])&&r(n(440)),s&&this[n(406)](s),this.recorder[n(414)]((()=>{const t=n;this[t(438)][t(422)]("RecorderRTC",t(368)+this[t(405)]()+"s");const s=(this[t(341)]||Je())+"."+c[t(400)];if(this[t(438)][t(396)][t(351)]){const r=this[t(446)].getBlob();this[t(391)](r).then((r=>{const n=t;e===z[n(402)]?(i(r),this[n(438)][n(383)](O[n(353)],r)):(i(),Ph[n(381)](r,s)),this[n(438)].emit(O[n(450)]),this._reset(),this[n(438)][n(383)](O[n(358)],!1)}))}else{if(e===z[t(402)]){const e=this[t(446)].getBlob();i(e),this.player.emit(O.recordBlob,e)}else i(),this[t(446)][t(418)](s);this[t(438)][t(383)](O.recordEnd),this[t(455)](),this[t(438)][t(383)](O.recording,!1)}}))}))}cancelRecord(){return new Promise(((t,e)=>{const s=Ll;if(this[s(438)][s(422)](this[s(357)],"cancel recording"),!this[s(446)]||!this[s(371)])return t();this[s(446)][s(414)]((()=>{const e=s;this._reset(),this[e(438)].emit(O[e(358)],!1),this[e(438)].emit(O[e(360)]),t()}))}))}[Rl(345)](){return this[Rl(408)]}getTotalDuration(){return this[Rl(426)]}[Rl(397)](){return c[Rl(400)]}[Rl(346)](){}[Rl(453)](){const t=Rl;return this[t(457)](),this[t(413)]?(ki()?(this[t(438)][t(422)](this[t(357)],t(415)),this[t(427)]=this.player[t(366)][t(344)][t(456)](this[t(339)][t(356)])):(this[t(438)].debugLog(this.TAG_NAME,t(365)),this._stopCanvasRender(),this[t(355)]=setInterval((()=>{const e=t;this[e(375)]&&this[e(375)][e(432)](this[e(438)][e(366)].$videoElement,0,0,this.canvasElement[e(437)],this[e(413)][e(340)])}),40)),!0):(this[t(438)][t(389)](this.TAG_NAME,t(401)),!1)}[Rl(457)](){const t=Rl,e=this[t(438)][t(429)]();!this[t(413)]&&e&&(this.canvasElement=document.createElement(t(367)),this[t(375)]=this.canvasElement.getContext("2d"),e[t(437)]&&e[t(340)]&&(this[t(413)][t(437)]=e.width,this.canvasElement.height=e.height))}[Rl(439)](){const t=Rl;this[t(375)]&&(this[t(375)][t(390)](0,0,this[t(413)][t(437)],this[t(413)].height),this[t(375)]=null),this[t(413)]&&(this[t(413)][t(437)]=0,this[t(413)][t(340)]=0,this.canvasElement=null)}_stopCanvasRender(){const t=Rl;this[t(355)]&&(clearInterval(this[t(355)]),this.canvasRenderInterval=null)}[Rl(385)](){const t=Rl;this[t(427)]&&this[t(438)][t(366)][t(344)]&&(this.player[t(366)][t(344)][t(378)](this[t(427)]),this[t(427)]=null)}[Rl(356)](){const t=Rl;this[t(444)]||(this[t(438)].isDestroyedOrClosed()?this.player[t(422)](this.TAG_NAME,"videoFrameCallback() player is destroyed"):(this[t(375)]&&this.canvasElementCtx[t(432)](this[t(438)][t(366)][t(344)],0,0,this[t(413)][t(437)],this[t(413)][t(340)]),this[t(427)]=this[t(438)][t(366)][t(344)].requestVideoFrameCallback(this[t(339)][t(356)])))}}function Ml(){const t=["mp3","3220gpHOrq","7176983fLooQT","slice","flags","1240kpDOPA","init","trak","edts","stts","trex","config","generateInitSegment","tfdt","10RUdfng","mdia","type","hvcC","STSZ","traf","10GlCkkk","isLeading","sampleRate","constants","stss","avcC","moov","288837orACfc","size","STSD_PREFIX","stbl","STTS","concat","duration","length","prototype","codecWidth","chunkOffset","data","hasRedundancy","num","avc","hdlr","stco","FTYP","hvc1","HDLR_VIDEO","audio","dref","sampleDelte","call","dinf","tfhd","stsz","sequenceNumber","codecHeight","192459VmCMDE","samples","sdtp","box","avcc","isNonSync","refSampleDuration","trun",".mp3","smhd","dependsOn","elst","vmhd","VMHD","avc1","codec","STCO","stsc","types","DREF","set","HDLR_AUDIO","byteLength","mdat","2364960XVRLkB","mfhd","push","charCodeAt","moof","mvhd","mdhd","1225584TOjClW","esds","STSC","cts","channelCount","9226TSeILE","isDependedOn","tkhd","presentHeight","stsd","timescale","1314CXgkSu","mvex"];return(Ml=function(){return t})()}const Bl=Fl;function Fl(t,e){const s=Ml();return(Fl=function(t,e){return s[t-=193]})(t,e)}!function(t,e){const s=Fl,i=t();for(;;)try{if(163583===-parseInt(s(275))/1+parseInt(s(262))/2*(parseInt(s(204))/3)+-parseInt(s(249))/4*(-parseInt(s(253))/5)+parseInt(s(246))/6*(-parseInt(s(240))/7)+-parseInt(s(228))/8+-parseInt(s(235))/9+-parseInt(s(268))/10*(-parseInt(s(250))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ml);class Ul{static[Bl(254)](){const t=Bl;Ul[t(222)]={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],free:[],edts:[],elst:[],stss:[]};for(let e in Ul[t(222)])Ul[t(222)].hasOwnProperty(e)&&(Ul.types[e]=[e[t(231)](0),e[t(231)](1),e[t(231)](2),e[t(231)](3)]);let e=Ul[t(271)]={};e[t(292)]=new Uint8Array([105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,97,118,99,49,109,112,52,49,0,0,0,0]),e[t(277)]=new Uint8Array([0,0,0,0,0,0,0,1]),e[t(279)]=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(237)]=e[t(220)]=e.STTS,e[t(266)]=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e[t(194)]=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e[t(225)]=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e[t(223)]=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(217)]=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static[Bl(207)](t){const e=Bl;let s=8,i=null,r=Array[e(283)][e(251)][e(198)](arguments,1),n=r[e(282)];for(let t=0;t<n;t++)s+=r[t].byteLength;i=new Uint8Array(s),i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i.set(t,4);let o=8;for(let t=0;t<n;t++)i[e(224)](r[t],o),o+=r[t][e(226)];return i}static[Bl(260)](t,e,s){const i=Bl;let r=Ul[i(207)](Ul.types.ftyp,Ul.constants.FTYP),n=Ul[i(207)](Ul.types.free),o=8,a=new Uint8Array;s+o>=Math.pow(2,32)-1?(o=16,a=new Uint8Array(s+o),a.set(new Uint8Array([0,0,0,1]),0),a.set(Ul[i(222)][i(227)],4),a[i(224)](new Uint8Array([s+8>>>56&255,s+8>>>48&255,s+8>>>40&255,s+8>>>32&255,s+8>>>24&255,s+8>>>16&255,s+8>>>8&255,s+8&255]),8)):(a=new Uint8Array(s+o),a[0]=s+8>>>24&255,a[1]=s+8>>>16&255,a[2]=s+8>>>8&255,a[3]=s+8&255,a[i(224)](Ul[i(222)][i(227)],4));for(let t=0;t<e[i(282)];t++){let s=e[t];s[i(281)]=s[i(210)]*s.sequenceNumber;for(let t=0;t<s[i(202)];t++){let e=s[i(205)][t];e[i(285)]=r[i(226)]+n[i(226)]+o;let h=e[i(286)];a[i(224)](h,o),o+=h.byteLength}}let h=Ul[i(274)](t,e),l=new Uint8Array(r[i(226)]+h[i(226)]+a[i(226)]+n[i(226)]);return l[i(224)](r,0),l[i(224)](n,r[i(226)]),l.set(a,r[i(226)]+n[i(226)]),l[i(224)](h,r[i(226)]+a[i(226)]+n.byteLength),l}static[Bl(274)](t,e){const s=Bl;let i=t[s(245)],r=t[s(281)],n=e[s(282)],o=Ul[s(233)](i,r),a=new Uint8Array;for(let t=0;t<n;t++){let i=Ul.trak(e[t]),r=new Uint8Array(i[s(226)]+a[s(226)]);r[s(224)](a,0),r[s(224)](i,a[s(226)]),a=new Uint8Array(r[s(226)]),a[s(224)](r,0)}return Ul[s(207)](Ul[s(222)][s(274)],o,a)}static mvhd(t,e){const s=Bl;return Ul.box(Ul[s(222)][s(233)],new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3]))}static[Bl(255)](t){const e=Bl;return Ul.box(Ul[e(222)][e(255)],Ul[e(242)](t),Ul[e(263)](t))}static[Bl(242)](t){const e=Bl;let s=t.id,i=t[e(281)],r=t.presentWidth,n=t[e(243)];return"video"===t.type?Ul[e(207)](Ul[e(222)][e(242)],new Uint8Array([0,0,0,15,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,n>>>8&255,255&n,0,0])):t[e(264)]===e(195)?Ul[e(207)](Ul[e(222)].tkhd,new Uint8Array([0,0,0,15,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0])):void 0}static[Bl(256)](t,e){const s=Bl;return Ul[s(207)](Ul[s(222)][s(256)],Ul.elst(t,e))}static elst(t,e){const s=Bl;let i=0;for(let r=0;r<e;r++)"video"===t[r][s(264)]&&(i+=t[r][s(281)]);let r=t[e][s(281)];return 0===i&&(i=t[e][s(210)]),Ul[s(207)](Ul[s(222)][s(215)],new Uint8Array([0,0,0,0,0,0,0,2,i>>>24&255,i>>>16&255,i>>>8&255,255&i,255,255,255,255,0,1,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,1,0,0]))}static[Bl(263)](t){const e=Bl;return Ul[e(207)](Ul[e(222)][e(263)],Ul.mdhd(t),Ul[e(290)](t),Ul.minf(t))}static[Bl(234)](t){const e=Bl;let s=t[e(245)]/t[e(210)],i=s*t[e(281)]/t[e(245)];return Ul.box(Ul[e(222)][e(234)],new Uint8Array([0,0,0,0,206,186,253,168,206,186,253,168,s>>>24&255,s>>>16&255,s>>>8&255,255&s,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static[Bl(290)](t){const e=Bl;let s=null;return s="audio"===t[e(264)]?Ul.constants[e(225)]:Ul[e(271)][e(194)],Ul.box(Ul.types[e(290)],s)}static minf(t){const e=Bl;let s=null;return s="audio"===t[e(264)]?Ul[e(207)](Ul[e(222)][e(213)],Ul[e(271)].SMHD):Ul.box(Ul[e(222)][e(216)],Ul[e(271)][e(217)]),Ul[e(207)](Ul[e(222)].minf,s,Ul[e(199)](),Ul[e(278)](t))}static[Bl(199)](){const t=Bl;return Ul.box(Ul[t(222)].dinf,Ul[t(207)](Ul[t(222)][t(196)],Ul[t(271)].DREF))}static[Bl(278)](t){const e=Bl;let s=t[e(205)],i=[{No:1,num:0,sampleDelte:1,chunkNo:1,duration:s[0][e(281)]}],r=[s[0][e(281)]],n=s[e(282)];for(let t=0;t<n;t++)for(let n=0;n<i[e(282)];n++)s[t][e(281)]===i[n][e(281)]?i[n].num++:r.indexOf(s[t][e(281)])<0&&(r[e(230)](s[t][e(281)]),i[e(230)]({No:2,num:0,sampleDelte:1,chunkNo:t+1,duration:s[t][e(281)]}));return Ul[e(207)](Ul[e(222)].stbl,Ul[e(244)](t),Ul[e(257)](i),Ul[e(272)](s),Ul[e(221)](i),Ul.stsz(s),Ul.stco(i,s))}static[Bl(257)](t){const e=Bl;let s=t[e(282)],i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i[e(226)],n=new Uint8Array(r+8*s);n[e(224)](i,0);for(let i=0;i<s;i++)n.set(new Uint8Array([t[i].num>>>24&255,t[i].num>>>16&255,t[i][e(288)]>>>8&255,255&t[i][e(288)],t[i][e(197)]>>>24&255,t[i].sampleDelte>>>16&255,t[i][e(197)]>>>8&255,255&t[i][e(197)]]),r),r+=8;return Ul[e(207)](Ul[e(222)][e(257)],n)}static[Bl(272)](t){const e=Bl;let s=[],i=t[e(282)];for(let e=0;e<i;e++)!0===t[e].isKeyframe&&s.push(e+1);let r=s[e(282)],n=new Uint8Array([0,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r]),o=n[e(226)],a=new Uint8Array(o+4*r);a.set(n,0);for(let t=0;t<r;t++)a.set(new Uint8Array([s[t]>>>24&255,s[t]>>>16&255,s[t]>>>8&255,255&s[t]]),o),o+=4;return Ul[e(207)](Ul[e(222)][e(272)],a)}static stsc(t){const e=Bl;let s=t[e(282)],i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i[e(226)],n=new Uint8Array(r+12*s);n.set(i,0);for(let i=0;i<s;i++){let s=t[i].chunkNo,o=t[i][e(288)],a=t[i][e(197)];n[e(224)](new Uint8Array([s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a]),r),r+=12}return Ul.box(Ul[e(222)][e(221)],n)}static stsz(t){const e=Bl;let s=t.length,i=new Uint8Array([0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r=i[e(226)],n=new Uint8Array(r+4*s);n.set(i,0);for(let i=0;i<s;i++){let s=t[i][e(286)][e(226)];n[e(224)](new Uint8Array([s>>>24&255,s>>>16&255,s>>>8&255,255&s]),r),r+=4}return Ul.box(Ul.types[e(201)],n)}static[Bl(291)](t,e){const s=Bl;let i=e[0][s(285)];return Ul[s(207)](Ul[s(222)].stco,new Uint8Array([0,0,0,0,0,0,0,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i]))}static stsd(t){const e=Bl;return"audio"===t[e(264)]?"mp3"===t[e(219)]?Ul.box(Ul.types[e(244)],Ul[e(271)].STSD_PREFIX,Ul[e(248)](t)):Ul[e(207)](Ul.types[e(244)],Ul[e(271)][e(277)],Ul.mp4a(t)):t.videoType===e(289)?Ul[e(207)](Ul[e(222)].stsd,Ul[e(271)][e(277)],Ul[e(218)](t)):Ul[e(207)](Ul[e(222)][e(244)],Ul[e(271)][e(277)],Ul[e(193)](t))}static mp3(t){const e=Bl;let s=t[e(239)],i=t[e(270)],r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return Ul[e(207)](Ul.types[e(212)],r)}static mp4a(t){const e=Bl;let s=t.channelCount,i=t.sampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return Ul[e(207)](Ul.types.mp4a,r,Ul[e(236)](t))}static[Bl(236)](t){const e=Bl;let s=t[e(259)]||[],i=s.length,r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i])[e(280)](s).concat([6,1,2]));return Ul[e(207)](Ul[e(222)][e(236)],r)}static avc1(t){const e=Bl;let s=t[e(208)],i=t[e(284)],r=t[e(203)],n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return Ul[e(207)](Ul.types[e(218)],n,Ul[e(207)](Ul[e(222)][e(273)],s))}static[Bl(193)](t){const e=Bl;let s=t[e(208)];const i=t[e(284)],r=t[e(203)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,13,106,101,115,115,105,98,117,99,97,45,112,114,111,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return Ul.box(Ul.types[e(193)],n,Ul[e(207)](Ul[e(222)][e(265)],s))}static[Bl(247)](t){const e=Bl;return Ul[e(207)](Ul[e(222)][e(247)],Ul.trex(t))}static[Bl(258)](t){const e=Bl;let s=t.id,i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return Ul[e(207)](Ul[e(222)][e(258)],i)}static[Bl(232)](t,e){const s=Bl;return Ul[s(207)](Ul[s(222)][s(232)],Ul[s(229)](t[s(202)]),Ul[s(267)](t,e))}static mfhd(t){const e=Bl;let s=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return Ul[e(207)](Ul[e(222)].mfhd,s)}static[Bl(267)](t,e){const s=Bl;let i=t.id,r=Ul[s(207)](Ul.types[s(200)],new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),n=Ul[s(207)](Ul[s(222)][s(261)],new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),o=Ul[s(206)](t),a=Ul[s(211)](t,o.byteLength+16+16+8+16+8+8);return Ul.box(Ul.types.traf,r,n,a,o)}static sdtp(t){const e=Bl;let s=t[e(205)]||[],i=s[e(282)],r=new Uint8Array(4+i);for(let t=0;t<i;t++){let i=s[t][e(252)];r[t+4]=i[e(269)]<<6|i[e(214)]<<4|i[e(241)]<<2|i.hasRedundancy}return Ul[e(207)](Ul[e(222)][e(206)],r)}static[Bl(211)](t,e){const s=Bl;let i=t[s(205)]||[],r=i[s(282)],n=12+16*r,o=new Uint8Array(n);e+=8+n,o.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);for(let t=0;t<r;t++){let e=i[t].duration,r=i[t][s(276)],n=i[t].flags,a=i[t][s(238)];o.set([e>>>24&255,e>>>16&255,e>>>8&255,255&e,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n[s(269)]<<2|n[s(214)],n.isDependedOn<<6|n[s(287)]<<4|n[s(209)],0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*t)}return Ul[s(207)](Ul.types[s(211)],o)}static[Bl(227)](t){return Ul[Bl(207)](Ul.types.mdat,t)}}Ul[Bl(254)]();const Ol=jl;function Nl(){const t=["bufferList","recordingTimestamp","_formatAudioFmp4Track","debugLog","cancelRecord","setFileName","totalAudioDuration","cancel recording","video","recordEnd","size","samples","9mVfVlH","pts","6787098vwwVGO","isRecording","totalDuration","cacheTrack","getTotalDuration","pps","destroy","recordBlob","_reset","data","_formatFmp4Track","handleAddAudioTrack","audioBufferList","isH265","sequenceNumber","getToTalByteLength","emit","TAG_NAME","stop recording fail, isRecording is false ","length","_handleAddFmp4Track, is h264 and this.sps or this.pps is null ","2919XVnDOj","2632950ofdLRC","364lfJatC","audioCacheTrack","player","totalByteLength","_handleAddFmp4Track, is h265 and this.sps or this.pps or this.vps is null ","68235kXXqWp","9990167dtzAnn","getType","debugError","dts","_isRecording","_startRecordingInterval","assign","sps","application/octet-stream","stopRecordingInterval","stopRecordAndSave","duration","stop recording fail, this.bufferList.length is 0 ","handleAddNaluTrack","init","recorderMP4","download","push","36hNstxG","8fQbKXe","cts","stop recording and totalDuration is ","byteLength","originalDts","set","isH264","recording","1684102QrFsfJ","9407909xPexSi","mp4","totalAudioByteLength","generateInitSegment","4008AvARIv","_handleAddFmp4Track","audio","metaInfo","_handleAddFmp4Track, isRecording is false ","recordingInterval","vps"];return(Nl=function(){return t})()}function jl(t,e){const s=Nl();return(jl=function(t,e){return s[t-=291]})(t,e)}!function(t,e){const s=jl,i=t();for(;;)try{if(994951===-parseInt(s(299))/1+parseInt(s(304))/2*(parseInt(s(346))/3)+-parseInt(s(348))/4*(-parseInt(s(353))/5)+parseInt(s(325))/6+parseInt(s(300))/7*(parseInt(s(291))/8)+parseInt(s(323))/9*(-parseInt(s(347))/10)+-parseInt(s(354))/11*(parseInt(s(372))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Nl);class Vl extends Dl{constructor(t){const e=jl;super(t),this[e(342)]=e(369),this._reset(),t[e(314)](this[e(342)],e(368))}destroy(){const t=jl;super[t(331)](),this[t(333)](),this[t(350)].debugLog(this[t(342)],"destroy")}[Ol(333)](){const t=Ol;super._reset(),this[t(327)]=0,this[t(317)]=0,this[t(351)]=0,this.totalAudioByteLength=0,this.bufferList=[],this[t(337)]=[],this[t(328)]={},this[t(349)]={},this[t(339)]=0,this.audioSequenceNumber=0}startRecord(){const t=Ol;this[t(358)]=!0,this[t(350)][t(341)](O.recording,!0),this[t(350)].debugLog(this[t(342)],"start recording"),this.player[t(341)](O.recordStart),this[t(359)]()}[Ol(359)](){const t=Ol;this[t(363)](),this[t(309)]=window.setInterval((()=>{const e=t;this[e(350)].emit(O[e(312)],this[e(329)]())}),1e3)}[Ol(335)](t,e,s,i){const r=Ol;return{id:1,sequenceNumber:++this.sequenceNumber,size:t[r(294)],dts:s,cts:i,isKeyframe:e,data:t,duration:0,flags:{isLeading:0,dependsOn:e?2:1,isDependedOn:e?1:0,hasRedundancy:0,isNonSync:e?0:1}}}[Ol(313)](t,e){const s=Ol;return{id:2,sequenceNumber:++this.audioSequenceNumber,size:t[s(294)],dts:e,pts:e,cts:0,data:new Uint8Array(t),duration:0,originalDts:e,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}}[Ol(367)](t,e,s,i){const r=Ol;this[r(328)].id&&s>=this.cacheTrack[r(357)]?(this[r(328)][r(365)]=s-this[r(328)][r(357)],this._handleAddFmp4Track(this[r(328)])):this.cacheTrack={},this[r(328)]=this._formatFmp4Track(t,e,s,i)}[Ol(336)](t,e){}[Ol(305)](t){const e=Ol;if(!this[e(326)])return void this[e(350)][e(356)](this[e(342)],e(308));if((null===this[e(361)]||null===this[e(330)])&&this[e(297)])return void this.player[e(356)](this[e(342)],e(345));if((null===this[e(361)]||null===this.pps||null===this[e(310)])&&this[e(338)])return void this[e(350)][e(356)](this[e(342)],e(352));const s=Object[e(360)]({},t);s[e(324)]=s.dts+s[e(292)];const i=s[e(334)];if(s.isKeyframe)if(this[e(297)]){const t=new Uint8Array(this[e(361)][e(294)]+this[e(330)][e(294)]);t.set(this[e(361)],0),t[e(296)](this.pps,this[e(361)][e(294)]);const r=new Uint8Array(t[e(294)]+i.byteLength);r.set(t,0),r[e(296)](i,t[e(294)]),s[e(334)]=r}else if(this[e(338)]){const t=new Uint8Array(this[e(361)][e(294)]+this[e(330)][e(294)]+this[e(310)][e(294)]);t.set(this[e(310)],0),t[e(296)](this.sps,this[e(310)][e(294)]),t[e(296)](this[e(330)],this.vps.byteLength+this[e(361)][e(294)]);const r=new Uint8Array(t[e(294)]+i.byteLength);r[e(296)](t,0),r.set(i,t[e(294)]),s[e(334)]=r}s[e(321)]=s[e(334)][e(294)],this[e(327)]+=s.duration,this[e(351)]+=s[e(334)].byteLength,s[e(365)]=0,s[e(295)]=s.dts,delete s.id,delete s[e(339)],this[e(311)][e(371)](s)}_handleAddFmp4AudioTrack(t){const e=Ol,s=Object.assign({},t);s[e(324)]=s.dts+s[e(292)],s[e(321)]=s[e(334)][e(294)],this[e(317)]+=s.duration,this.totalAudioByteLength+=s[e(334)][e(294)],s[e(365)]=0,s[e(295)]=s[e(357)],delete s.id,delete s.sequenceNumber,this[e(337)][e(371)](s)}[Ol(329)](){return this.totalDuration/1e3}[Ol(355)](){return c[Ol(301)]}[Ol(340)](){const t=Ol;return this.totalByteLength+this[t(302)]}[Ol(364)](){const t=Ol;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z[t(370)],s=arguments[t(344)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;if(!this.isRecording)return this[n(350)][n(356)](this.TAG_NAME,n(343)),r(n(343));if(0===this[n(311)][n(344)])return this[n(350)][n(356)](this.TAG_NAME,n(366)),r(n(366));s&&this[n(316)](s);const o={id:1,type:n(319),sps:this[n(361)],pps:this[n(330)],samples:this.bufferList,sequenceNumber:this[n(311)][n(344)],length:0,addSampleNum:1,duration:0,...this[n(307)]},a={id:2,type:n(306),sequenceNumber:this.audioBufferList.length,samples:this[n(337)],...this.audioMetaInfo},h=[o];a[n(322)][n(344)]>0&&h[n(371)](a);const l=Ul[n(303)]({timescale:1e3,duration:this[n(327)]},h,this[n(351)]+this[n(302)]);this.player[n(314)](this.TAG_NAME,n(293)+this.getTotalDuration()+"s");const d=new Blob([l],{type:n(362)});if(e===z.blob)i(d),this.player[n(341)](O[n(332)],d);else{i();Ds((this.fileName||Je())+"."+c[n(301)],d)}this[n(350)][n(341)](O[n(320)]),this[n(333)](),this.player.emit(O[n(298)],!1)}))}[Ol(315)](){return new Promise(((t,e)=>{const s=jl;if(this[s(350)][s(314)](this[s(342)],s(318)),!this[s(326)])return t();this._reset(),this[s(350)].emit(O[s(298)],!1),this.player[s(341)](O.recordCancel),t()}))}_getBufferTs(t){}}function Wl(){const t=["358302XJjZHX","replace","set","reduce","1544DlqXaa","1546360antMWA","toString","byteLength","length","18539keEhid","substr","padStart","2785EWUMES","1277136YjiBGi","10Ommecu","constructor","7500sdgwMC","3015IHUIXJ","784548dEAyuc"];return(Wl=function(){return t})()}function Gl(){const t=Yl;for(var e=arguments[t(411)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];const r=s[0][t(418)];return s[t(406)](((e,s)=>{const i=t,n=new r((0|e[i(410)])+(0|s[i(410)]));return n[i(424)](e,0),n[i(424)](s,0|e[i(410)]),n}),new r)}function zl(t){const e=Yl,s=t[0].constructor;return t[e(406)](((t,i)=>{const r=e,n=new s((0|t[r(410)])+(0|i[r(410)]));return n[r(424)](t,0),n[r(424)](i,0|t[r(410)]),n}),new s)}function Hl(t){const e=Yl;if((t=t[e(423)](/\s/g,""))[e(411)]%2!=0)return console.error("hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ",t[e(411)]),null;const s=new Uint8Array(t[e(411)]/2);for(let i=0;i<t.length;i+=2){const r=parseInt(t[e(413)](i,2),16);s[i/2]=r}return s}function Kl(t,e){return 255&t[e]}function ql(t,e){return 255&t[e]|t[e+1]<<8&65280}function Yl(t,e){const s=Wl();return(Yl=function(t,e){return s[t-=406]})(t,e)}!function(t,e){const s=Yl,i=t();for(;;)try{if(203137===-parseInt(s(412))/1*(parseInt(s(417))/2)+parseInt(s(421))/3+-parseInt(s(407))/4*(-parseInt(s(415))/5)+parseInt(s(422))/6+-parseInt(s(416))/7+parseInt(s(408))/8+-parseInt(s(420))/9*(parseInt(s(419))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wl);const Ql=Xl;function Jl(){const t=["32ksVDxu","recording","header","_setStartTime","startRecordingInterval","totalByteLength","FlvRecorderLoader","subarray","fileName","download","videoSequenceHeader","emit","_getBufferTs","getToTalByteLength","aacSequenceHeader","5346yapEmH","byteLength","audio","video","172401iSOziy","totalDuration","recordStart","recordEnd","48RGyvZW","type","cancel recording","3130DMmxxa","getTotalDuration","currentTime","34993WcBcNr","setUint32","stop recording and totalDuration is ","debugError","42pzYoSE","recordCancel","stopRecordingInterval","_createFlvTag","addVideoSequenceHeader","buffer","start recording","bufferList","_init","_isRecording","stop recording fail, this.bufferList.length is 0 ","cancelRecord","init","destroy","player","recordingInterval","flvMetaData","blob","isRecording","addAudio","debugLog","904aOTEnc","stop recording fail, isRecording is false ","524rEdDbW","_createFlvPacket","_reset","application/octet-stream","hasVideo","setInterval","hasAudio","payload","startTime","push","timestamp","_setStartTime is ","492530ZeHZaY","startRecord","scriptData","6263856uBFQQb","concat","TAG_NAME","2441ErEKeb","310583lqSUCa","flv","set","setFileName","addMetaData","length","_createBufferItem"];return(Jl=function(){return t})()}function Xl(t,e){const s=Jl();return(Xl=function(t,e){return s[t-=411]})(t,e)}!function(t,e){const s=Xl,i=t();for(;;)try{if(393151===parseInt(s(459))/1*(-parseInt(s(441))/2)+parseInt(s(486))/3*(parseInt(s(467))/4)+-parseInt(s(453))/5*(-parseInt(s(418))/6)+parseInt(s(414))/7*(-parseInt(s(439))/8)+parseInt(s(456))/9+-parseInt(s(411))/10*(parseInt(s(482))/11)+parseInt(s(490))/12*(-parseInt(s(460))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jl);class $l extends Dl{constructor(t){const e=Xl;super(t),this[e(458)]=e(473),this.player=t,this[e(426)](),this[e(432)].debugLog(this.TAG_NAME,e(430))}[Ql(431)](){const t=Ql;super[t(431)](),this[t(426)](),this[t(432)][t(438)](this[t(458)],t(431))}[Ql(426)](){const t=Ql;this[t(447)]=!1,this.hasVideo=!1,this.startTime=null,this[t(413)]=0,this.prevTimestamp=0,this[t(472)]=0,this[t(487)]=0,this.flvMetaData=null,this.aacSequenceHeader=null,this[t(477)]=null,this[t(425)]=[]}[Ql(443)](){const t=Ql;super[t(443)](),this[t(426)]()}[Ql(454)](){const t=Ql;this[t(427)]=!0,this[t(432)][t(478)](O[t(468)],!0),this[t(432)][t(438)](this[t(458)],t(424)),this[t(432)][t(478)](O[t(488)]),this[t(471)]()}startRecordingInterval(){const t=Ql;this[t(420)](),this[t(433)]=window[t(446)]((()=>{const e=t;this[e(432)][e(478)](O.recordingTimestamp,this[e(412)]())}),1e3)}[Ql(464)](t){this[Ql(434)]=t}addAACSequenceHeader(t){this[Ql(481)]=t}[Ql(422)](t){this.videoSequenceHeader=t}addVideo(t,e){const s=Ql;this[s(470)](e);const i=this[s(479)](e);this[s(445)]=!0,this[s(466)](t,M[s(485)],i)}[Ql(437)](t,e){const s=Ql;this[s(470)](e);const i=this[s(479)](e);this[s(447)]=!0,this[s(466)](t,M.audio,i)}[Ql(470)](t){const e=Ql;null===this[e(449)]&&this[e(427)]&&(this[e(449)]=t,this[e(432)][e(438)](this[e(458)],e(452)+t))}_getBufferTs(t){const e=Ql;t>this.currentTime&&(this[e(413)]=t);let s=0;return this.startTime&&t>=this[e(449)]&&(s=t-this.startTime),s>this.prevTimestamp?this.prevTimestamp=s:s=this.prevTimestamp,s}[Ql(466)](t,e,s){const i=Ql,r=this[i(442)](t,e,s),n=this[i(421)](r);this[i(472)]+=n[i(483)],this[i(425)].push(n)}[Ql(421)](t){const e=Ql;let s=11+t[e(469)][e(465)],i=new Uint8Array(s+4),r=new DataView(i[e(423)]);return i[0]=t[e(469)][e(491)],i[1]=t[e(469)][e(465)]>>16&255,i[2]=t[e(469)].length>>8&255,i[3]=255&t[e(469)][e(465)],i[4]=t[e(469)][e(451)]>>16&255,i[5]=t.header.timestamp>>8&255,i[6]=255&t[e(469)][e(451)],i[7]=t.header.timestamp>>24&255,i[8]=0,i[9]=0,i[10]=0,r[e(415)](s,s),i[e(462)](t[e(448)][e(474)](0,t[e(469)][e(465)]),11),i}[Ql(442)](){const t=Ql;let e=arguments[t(465)]>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments[t(465)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[t(465)]>2&&void 0!==arguments[2]?arguments[2]:0;return{header:{length:e?e.length:0,timestamp:i,type:s},payload:e}}stopRecordAndSave(){const t=Ql;let e=arguments[t(465)]>0&&void 0!==arguments[0]?arguments[0]:z[t(476)],s=arguments[t(465)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;if(!this.isRecording)return this[n(432)][n(417)](this[n(458)],n(440)),r(n(440));if(0===this.bufferList[n(465)])return this[n(432)][n(417)](this[n(458)],n(428)),r(n(428));s&&this[n(463)](s);const o=new Uint8Array([70,76,86,1,0,0,0,0,9,0,0,0,0]);this[n(445)]&&(o[4]|=1),this.hasAudio&&(o[4]|=4);let a=[o];if(this[n(434)]){const t=this[n(442)](this[n(434)],M[n(455)]),e=this[n(421)](t);a[n(450)](e)}if(this.videoSequenceHeader){const t=this._createFlvPacket(this[n(477)],M[n(485)]),e=this[n(421)](t);a.push(e)}if(this[n(481)]){const t=this[n(442)](this[n(481)],M[n(484)]),e=this[n(421)](t);a.push(e)}const h=zl(a[n(457)](this[n(425)]));this[n(432)][n(438)](this[n(458)],n(416)+this[n(412)]()+"s");const l=new Blob([h],{type:n(444)});if(e===z[n(435)])i(l),this.player[n(478)](O.recordBlob,l);else{i();Ds((this[n(475)]||Je())+"."+c[n(461)],l)}this[n(432)][n(478)](O[n(489)]),this[n(443)](),this[n(432)][n(478)](O.recording,!1)}))}[Ql(429)](){return new Promise(((t,e)=>{const s=Xl;if(this[s(432)][s(438)](this[s(458)],s(492)),!this[s(436)])return t();this[s(443)](),this[s(432)][s(478)](O.recording,!1),this[s(432)][s(478)](O[s(419)]),t()}))}[Ql(412)](){const t=Ql;let e=0;return null!==this[t(449)]&&null!==this[t(413)]&&(e=this[t(413)]-this.startTime),Math.round(e/1e3)}getType(){return c[Ql(461)]}[Ql(480)](){return this.totalByteLength}}const Zl=ec;function tc(){const t=["data","3460yrQzOe","4870672WzuuKx","state","TAG_NAME","set","811237YXgAdw","399096nwqSRe","8WWvHDc","fisrtStartCodeOffset","length","reset","46gsURhL","parsedOffset","player","versionLayer","2631453iGnxNz","debugLog","9KImdGS","isDestroyed","init","findFirstStartCode","31316736RNPGZo","off","destroy","Init","emit","findSecondStartCode","tempBuffer","20ppnldC","dispatch","9044840TawLVw","stats","secondStartCodeOffset","slice"];return(tc=function(){return t})()}function ec(t,e){const s=tc();return(ec=function(t,e){return s[t-=448]})(t,e)}!function(t,e){const s=ec,i=t();for(;;)try{if(613862===parseInt(s(482))/1*(parseInt(s(471))/2)+parseInt(s(451))/3+parseInt(s(472))/4+parseInt(s(464))/5*(parseInt(s(477))/6)+-parseInt(s(476))/7*(-parseInt(s(478))/8)+parseInt(s(453))/9*(parseInt(s(466))/10)+-parseInt(s(457))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tc);const sc={init:0,findFirstStartCode:1,findSecondStartCode:2};class ic extends zi{constructor(t){const e=ec;super(),this[e(449)]=t,this.TAG_NAME="Mp3Demux",this[e(454)]=!1,this[e(481)](),this[e(463)]=new Uint8Array(0),this[e(449)][e(452)](this[e(474)],e(455))}[Zl(459)](){const t=Zl;this[t(454)]=!0,this[t(458)](),this[t(481)](),this[t(449)][t(452)](this[t(474)],t(459))}[Zl(481)](){const t=Zl;this[t(467)]=sc[t(455)],this[t(463)]=null,this[t(448)]=0,this[t(450)]=0}[Zl(465)](t,e){const s=Zl;let i=new Uint8Array(this.tempBuffer.length+t[s(480)]);for(i[s(475)](this.tempBuffer,0),i.set(t,this[s(463)][s(480)]),this[s(463)]=i;!this[s(454)];){if(this[s(473)]==sc[s(460)]){let t=!1;for(;this.tempBuffer[s(480)]-this[s(448)]>=2&&!this[s(454)];)if(255==this[s(463)][this.parsedOffset]){if(!(!1&this[s(463)][this[s(448)]+1])){this[s(450)]=this[s(463)][this.parsedOffset+1],this.state=sc[s(456)],this.fisrtStartCodeOffset=this[s(448)],this[s(448)]+=2,t=!0;break}this[s(448)]++}else this[s(448)]++;if(t)continue;break}if(this[s(473)]==sc[s(456)]){let t=!1;for(;this[s(463)][s(480)]-this[s(448)]>=2&&!this.isDestroyed;)if(255==this[s(463)][this[s(448)]]){if(this.tempBuffer[this.parsedOffset+1]==this.versionLayer){this[s(473)]=sc.findSecondStartCode,this[s(468)]=this[s(448)],this.parsedOffset+=2,t=!0;break}this[s(448)]++}else this[s(448)]++;if(t)continue;break}if(this[s(473)]==sc[s(462)]){let t=this.tempBuffer[s(469)](this[s(479)],this.secondStartCodeOffset);this[s(461)](s(470),t,e),this[s(463)]=this[s(463)].slice(this[s(468)]),this[s(479)]=0,this.parsedOffset=2,this.state=sc[s(456)]}}}}const rc=oc;function nc(){const t=["duration","sendAudioFrame","sendVideoFrame","1092020Fcmwlv","emitError","fileName","audioCodeId","avcc","2375892DgHwLv","dispatch","getTotalDuration","totalByteLength","stop recording fail, isRecording is false ","toString","_handleAddAudioTrack","64Rifpny","5268389imXvQW","debugError","byteLength","getVideoInfo","hasVideo","pendingAudioFrames","extraData","cacheTrack","recordBlob","pendingVideoFrames","blob","stopRecordingInterval","recordEnd","destroy","recorderWasmMP4","codecId","debugLevel","wasmMp4RecorderDecoder","emit","cancelRecord","1SgjDrY","TAG_NAME","payload","stop recording and totalDuration is ","isWasmMp4","1186137UAIeUl","stopRecord","3265150IcDQEm","handleAddAudioTrack","wasmMp4RecorderStarted","_opt","recording","debug","863986OxyqNW","_recordingTimestamp","setInterval","hasAudio","setFileName","startRecord","mp4","length","width","getToTalByteLength","data","wasmMp4Recorder","stopRecordAndSave","isIFrame","_prevHandleAddNaluTrack","init","getAudioInfo","dts","forEach","recordCancel","player","recordingTimestamp","audio","recordStart","height","recordingInterval","121zMwSPK","6Vptdcv","depth","push","mp3Demuxer","then","isRecording","sampleRate","debugLog","474246hadOcO","_prevHandleAddAudioTrack","getType","encTypeCode","MP3","audioCacheTrack","cts","debugUuid","handleAddNaluTrack","_reset","finally","startRecordingInterval","totalAudioDuration","cancel recording","totalAudioByteLength","metaInfo","stopRecord error","JessibucaProMp4Recorder","_isRecording","stop recording fail, recording time is 0 ","round"];return(nc=function(){return t})()}function oc(t,e){const s=nc();return(oc=function(t,e){return s[t-=359]})(t,e)}!function(t,e){const s=oc,i=t();for(;;)try{if(392588===-parseInt(s(377))/1*(parseInt(s(390))/2)+-parseInt(s(382))/3+parseInt(s(454))/4+parseInt(s(384))/5+parseInt(s(417))/6*(parseInt(s(462))/7)+parseInt(s(461))/8*(parseInt(s(425))/9)+parseInt(s(449))/10*(-parseInt(s(416))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nc);class ac extends Dl{constructor(t){const e=oc;super(t),this[e(378)]=e(371),this[e(434)](),this[e(401)]=null,this[e(420)]=null,this[e(386)]=!1,this[e(362)]=[],this[e(366)]=[],t[e(424)](this.TAG_NAME,e(405))}[rc(370)](){const t=rc;super[t(370)](),this[t(420)]&&(this.mp3Demuxer[t(370)](),this.mp3Demuxer=null),this[t(434)](),this.player.debugLog(this[t(378)],t(370))}[rc(434)](){const t=rc;super[t(434)](),this[t(364)]={},this[t(430)]={},this[t(437)]=0,this[t(457)]=0,this[t(439)]=0,this.hasAudio=!1,this[t(361)]=!1}[rc(427)](){return c[rc(396)]}[rc(381)](){return!0}[rc(456)](){return this[rc(391)]/1e3}[rc(399)](){return this[rc(457)]+this.totalAudioByteLength}startRecord(){const t=rc,e=this[t(410)],s=this[t(410)][t(406)](),i=this.player[t(360)](),r={};if(this[t(372)]){const e={type:this[t(372)],width:i[t(398)],height:i[t(414)],extraData:this[t(440)][t(453)]};r.video=e,this[t(361)]=!0}if(s.encTypeCode){const e={type:s.encTypeCode,sampleRate:s[t(423)],channels:s.channels,extraData:this.audioMetaInfo[t(363)],depth:s[t(418)]};this[t(452)]=s[t(428)],r[t(412)]=e,this[t(393)]=!0}this[t(401)]=new(window[t(442)])({debug:e[t(387)][t(389)],debugLevel:e._opt[t(373)],debugUuid:e[t(387)][t(432)],decoder:e[t(387)][t(374)],name:b,buildTime:S}),this[t(401)].on(t(411),(e=>{const s=t;this[s(391)]=Math[s(445)](e/1e3)})),this[t(443)]=!0,this.wasmMp4Recorder[t(395)](r)[t(421)]((()=>{const e=t;this[e(410)][e(375)](O[e(388)],!0),this.wasmMp4RecorderStarted=!0,this[e(410)][e(424)](this.TAG_NAME,"start recording"),this[e(410)][e(375)](O[e(413)]),this[e(436)]()})).catch((e=>{const s=t;this[s(443)]=!1,this[s(410)][s(463)](this[s(378)],"startRecord error",e[s(459)](),e),this[s(410)][s(450)](O.recordCreateError,e[s(459)]())}))}[rc(436)](){const t=rc;this[t(368)](),this[t(415)]=window[t(392)]((()=>{const e=t;this[e(410)].emit(O[e(411)],this.recordTime)}),1e3)}[rc(402)](){const t=rc;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.download,s=arguments[t(397)]>1?arguments[1]:void 0;return new Promise(((i,r)=>{const n=t;return this[n(422)]?0===this._recordingTimestamp?(this.player.debugError(this[n(378)],n(444)),r(n(444))):(s&&this[n(394)](s),void this.wasmMp4Recorder[n(383)]()[n(421)]((t=>{const s=n;if(this[s(410)][s(424)](this[s(378)],s(380)+this[s(456)]()+"s"),e===z[s(367)])i(t),this[s(410)][s(375)](O[s(365)],t);else{i();Ds((this[s(451)]||Je())+"."+c[s(396)],t)}})).catch((t=>{const e=n;this[e(410)][e(463)](this[e(378)],e(441),t),r(t)}))[n(435)]((()=>{const t=n;this[t(410)][t(375)](O[t(369)]),this[t(434)](),this[t(410)][t(375)](O[t(388)],!1)}))):(this[n(410)][n(463)](this[n(378)],n(458)),r(n(458)))}))}[rc(376)](){return new Promise(((t,e)=>{const s=oc;if(this.player[s(424)](this[s(378)],s(438)),!this[s(422)]||0===this[s(391)])return t();this.wasmMp4Recorder[s(383)]()[s(421)]((e=>{t()})).catch((t=>{const i=s;this[i(410)][i(463)](this[i(378)],i(441),t),e(t)}))[s(435)]((()=>{const t=s;this[t(434)](),this[t(410)].emit(O[t(388)],!1),this.player[t(375)](O[t(409)])}))}))}[rc(385)](t,e){const s=rc;Si(this[s(393)])||(this.wasmMp4RecorderStarted?(this[s(362)][s(397)]>0&&(this[s(362)][s(408)]((t=>{const e=s;this[e(426)](t[e(379)],t[e(407)])})),this.pendingAudioFrames=[]),this[s(426)](t,e)):this[s(362)][s(419)]({payload:t,dts:e}))}[rc(426)](t,e){const s=rc;this[s(452)]===Y[s(429)]?(!this[s(420)]&&(this.mp3Demuxer=new ic(this.player),this.mp3Demuxer.on(s(400),((t,e)=>{this[s(460)](t,e)}))),this[s(420)][s(455)](t,e)):this[s(460)](t,e)}[rc(460)](t,e){const s=rc;this.audioCacheTrack.id&&e>=this.audioCacheTrack.dts?(this.audioCacheTrack[s(446)]=e-this[s(430)].dts,this[s(437)]+=this[s(430)][s(446)],this[s(439)]+=this[s(430)][s(379)][s(359)],this[s(401)][s(447)](this[s(430)].payload,this[s(430)][s(407)])):this[s(430)]={},this.audioCacheTrack={id:2,payload:t,dts:e}}[rc(433)](t,e,s,i){const r=rc;Si(this.hasVideo)||(this[r(386)]?(this[r(366)][r(397)]>0&&(this[r(366)][r(408)]((t=>{const e=r;this[e(404)](t[e(379)],t[e(403)],t.dts,t[e(431)])})),this[r(366)]=[]),this[r(404)](t,e,s,i)):this.pendingVideoFrames[r(419)]({payload:t,isIFrame:e,dts:s,cts:i}))}[rc(404)](t,e,s,i){const r=rc;this[r(364)].id&&s>=this[r(364)].dts?(this.cacheTrack[r(446)]=s-this[r(364)][r(407)],this[r(457)]+=this.cacheTrack[r(379)][r(359)],this[r(401)][r(448)](this[r(364)].payload,this.cacheTrack.isIFrame,this[r(364)][r(407)],this[r(364)][r(431)])):this.cacheTrack={},this[r(364)]={id:1,payload:t,isIFrame:e,dts:s,cts:i}}}const hc=lc;function lc(t,e){const s=dc();return(lc=function(t,e){return s[t-=306]})(t,e)}!function(t,e){const s=lc,i=t();for(;;)try{if(574714===-parseInt(s(324))/1*(-parseInt(s(314))/2)+-parseInt(s(311))/3+parseInt(s(307))/4+parseInt(s(306))/5+-parseInt(s(309))/6*(parseInt(s(310))/7)+parseInt(s(319))/8*(-parseInt(s(322))/9)+parseInt(s(315))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dc);class cc{constructor(t){const e=lc;return new(cc[e(308)](t,t[e(321)]))(t)}static[hc(308)](t,e){const s=hc;if(t[s(320)]()||t[s(313)]()||t.isAliyunRtc())return xl;if(e[s(316)]===c[s(318)]){if(e.useWasm||e.useMSE||e[s(312)])return window[s(323)]&&e[s(317)]?ac:Vl}else if(e[s(316)]===c.flv)return $l;return xl}}function dc(){const t=["useWCS","isWebrtcH264","18830BjqFFZ","3324520CIbYSi","recordType","mp4RecordUseWasm","mp4","4645608wtbVLR","isOldHls","_opt","9XOqwco","JessibucaProMp4Recorder","115iMSyuK","5083680rmWmLa","1370928lUNJpu","getLoaderFactory","12OwPzZA","3401328xsGzQV","1942266vggznZ"];return(dc=function(){return t})()}function uc(t,e){const s=mc();return(uc=function(t,e){return s[t-=127]})(t,e)}function pc(t,e,s){let i=t;if(e+s<i[uc(137)]){for(;s--;)if(128!=(192&i[++e]))return!1;return!0}return!1}function fc(t){const e=uc;let s=[],i=t,r=0,n=t[e(137)];for(;r<n;)if(i[r]<128)s.push(String[e(130)](i[r])),++r;else{if(i[r]<192);else if(i[r]<224){if(pc(i,r,1)){let t=(31&i[r])<<6|63&i[r+1];if(t>=128){s[e(128)](String[e(130)](65535&t)),r+=2;continue}}}else if(i[r]<240){if(pc(i,r,2)){let t=(15&i[r])<<12|(63&i[r+1])<<6|63&i[r+2];if(t>=2048&&55296!=(63488&t)){s[e(128)](String[e(130)](65535&t)),r+=3;continue}}}else if(i[r]<248&&pc(i,r,3)){let t=(7&i[r])<<18|(63&i[r+1])<<12|(63&i[r+2])<<6|63&i[r+3];if(t>65536&&t<1114112){t-=65536,s[e(128)](String[e(130)](t>>>10|55296)),s[e(128)](String[e(130)](1023&t|56320)),r+=4;continue}}s[e(128)](String[e(130)](65533)),++r}return s[e(139)]("")}function mc(){const t=["72RLKNrv","length","1297060JSAHjp","join","1445340SRxOex","291775RRvXUK","98541ITmptc","push","690AtPiju","fromCharCode","567134KqZrvS","16870HLtnIJ","3NDXKkQ","1052632ALncXo","33puGpnn"];return(mc=function(){return t})()}!function(t,e){const s=uc,i=t();for(;;)try{if(163557===-parseInt(s(141))/1+parseInt(s(131))/2*(-parseInt(s(133))/3)+parseInt(s(134))/4+-parseInt(s(140))/5+parseInt(s(129))/6*(parseInt(s(132))/7)+parseInt(s(136))/8*(parseInt(s(127))/9)+-parseInt(s(138))/10*(-parseInt(s(135))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mc);const gc=vc;!function(t,e){const s=vc,i=t();for(;;)try{if(448445===-parseInt(s(412))/1+parseInt(s(410))/2*(-parseInt(s(409))/3)+-parseInt(s(425))/4+parseInt(s(416))/5+parseInt(s(403))/6*(-parseInt(s(401))/7)+-parseInt(s(415))/8+parseInt(s(402))/9*(parseInt(s(414))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bc);let yc=function(){const t=vc;let e=new ArrayBuffer(2);return new DataView(e)[t(424)](0,256,!0),256===new Int16Array(e)[0]}();class Ac{static[gc(429)](t,e,s){const i=gc;let r={};try{let n=Ac[i(405)](t,e,s),o=Ac.parseValue(t,e+n[i(413)],s-n[i(413)]);r[n.data]=o[i(411)]}catch(t){console.error(i(404),t[i(419)]())}return r}static[gc(398)](t,e,s){const i=gc;let r=Ac[i(428)](t,e,s),n=Ac[i(405)](t,e+r[i(413)],s-r.size),o=n[i(408)];return{data:{name:r[i(411)],value:n[i(411)]},size:r[i(413)]+n[i(413)],objectEnd:o}}static[gc(421)](t,e,s){return Ac[gc(398)](t,e,s)}static[gc(428)](t,e,s){let i,r=new DataView(t,e,s).getUint16(0,!yc);return i=r>0?fc(new Uint8Array(t,e+2,r)):"",{data:i,size:2+r}}static[gc(406)](t,e,s){const i=gc;let r,n=new DataView(t,e,s)[i(417)](0,!yc);return r=n>0?fc(new Uint8Array(t,e+4,n)):"",{data:r,size:4+n}}static[gc(423)](t,e,s){const i=gc;let r=new DataView(t,e,s),n=r[i(426)](0,!yc);return n+=60*r.getInt16(8,!yc)*1e3,{data:new Date(n),size:10}}static parseValue(t,e,s){const i=gc;let r,n=new DataView(t,e,s),o=1,a=n.getUint8(0),h=!1;try{switch(a){case 0:r=n[i(426)](1,!yc),o+=8;break;case 1:r=!!n[i(420)](1),o+=1;break;case 2:{let n=Ac[i(428)](t,e+1,s-1);r=n[i(411)],o+=n[i(413)];break}case 3:{r={};let a=0;for(9==(16777215&n[i(417)](s-4,!yc))&&(a=3);o<s-4;){let n=Ac.parseObject(t,e+o,s-o-a);if(n.objectEnd)break;r[n[i(411)][i(422)]]=n[i(411)][i(427)],o+=n.size}if(o<=s-3){9===(16777215&n[i(417)](o-1,!yc))&&(o+=3)}break}case 8:{r={},o+=4;let a=0;for(9==(16777215&n[i(417)](s-4,!yc))&&(a=3);o<s-8;){let n=Ac.parseVariable(t,e+o,s-o-a);if(n[i(408)])break;r[n.data[i(422)]]=n[i(411)].value,o+=n[i(413)]}if(o<=s-3){9===(16777215&n[i(417)](o-1,!yc))&&(o+=3)}break}case 9:r=void 0,o=1,h=!0;break;case 10:{r=[];let a=n[i(417)](1,!yc);o+=4;for(let n=0;n<a;n++){let n=Ac[i(405)](t,e+o,s-o);r[i(399)](n[i(411)]),o+=n[i(413)]}break}case 11:{let n=Ac.parseDate(t,e+1,s-1);r=n[i(411)],o+=n[i(413)];break}case 12:{let n=Ac[i(428)](t,e+1,s-1);r=n.data,o+=n[i(413)];break}default:o=s,console[i(407)](i(404),i(400)+a)}}catch(t){console[i(418)](i(404),t[i(419)]())}return{data:r,size:o,objectEnd:h}}}function vc(t,e){const s=bc();return(vc=function(t,e){return s[t-=398]})(t,e)}function bc(){const t=["2UgScvv","data","355384BvdhSW","size","10SSRpEM","4600560VTHwCK","2002525jtLBzu","getUint32","error","toString","getUint8","parseVariable","name","parseDate","setInt16","2375580HlqDij","getFloat64","value","parseString","parseScriptData","parseObject","push","Unsupported AMF value type ","7NvQzdA","25772337KEYHVW","3846738ALZeOz","AMF","parseValue","parseLongString","warn","objectEnd","1950543MyrPfg"];return(bc=function(){return t})()}function Sc(t,e){const s=Ec();return(Sc=function(t,e){return s[t-=169]})(t,e)}function Ec(){const t=["24557630IKvPml","parseScriptData","buffer","28350HZPoCg","5HnaviI","6lfavED","11809536tLeyZz","2203532ssCuvx","AAC","G711U","2715664khVArl","G711A","byteOffset","3078045twiSEv","MP3","9459079fwPQyk","9utKNLl"];return(Ec=function(){return t})()}function wc(t){const e=Sc;return Ac[e(183)](t[e(184)],t[e(177)],t.byteLength)}!function(t,e){const s=Sc,i=t();for(;;)try{if(853653===-parseInt(s(185))/1+-parseInt(s(172))/2+-parseInt(s(178))/3+-parseInt(s(175))/4*(-parseInt(s(169))/5)+-parseInt(s(170))/6*(-parseInt(s(180))/7)+-parseInt(s(171))/8+parseInt(s(181))/9*(parseInt(s(182))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ec);const Tc=kc;function Ic(){const t=["videoSequenceHeader","playVod","onerror and ignore filename: ","isCacheBeforeDecodeForFpsRender","decoderWorkerUncaughtError","mseFirstRenderTime","has not loaded and destroy directly","workerEnd","workerSendMessage","clearWorkBuffer","mseHandle","_initDecoderWorker","render","netBuf","onmessage and workerFetch response fetch error but stream is null","webgl2","wcsDecodeAudio","cts","updateConfig","seekingTimestamp","payload","hasVideo","networkDelayTimeout","1610346yOzPJq","recorder","playback","updateMetaData","100400DtYKcq","emit","length","cryptoIV","videoStart","websocketError","useWCS","isPlaybackOnlyDecodeIFrame","isRecordTypeFlv","playbackTF","_opt","networkDelay","updateVideoInfo","isDecoderUseCDN","_times","workerClearTimeout","has loaded and post message to destroy","type","useWasm","1966482fPUhyB","demuxStart",".wasm","decoderAudio","has loaded but decoderWorker is null and destroy directly","http","initFps",", and filename: ","closeEnd","listenPlaybackEvents","checkFirstIFrame","debugLog","codecId","websocketClose","wasmWidthOrHeightChange","delay","decoderOld","_destroy","playbackIsPause","addMetaData","streamAbps","simdDecodeError","key","cryptoKey","URL","decoderWorker","firstRenderTime","Uncaught ","playVodFps","getCanvasRenderType","size","mseCorrectAudioTimeDuration","fetchErrorWorker","streamSuccess","decodeAudio","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","value","websocketOpenTimeout","46910KBTiWz","playVodPause","filename: ","isEmitTsPrivateData","delayFrameAccelerateDecodeMaxNum","code","flvScriptData","audioChannelError","playType","onmessageerror","reload","wasmSimdFirstFrameDecodeDelayTimeout","isSm4Crypto","srcObject","onmessage render but video has not init","debug","revokeObjectURL","mseAutoCleanupMaxBackwardDuration","videoSEI","emitVideoSei","byteLength","isTs","audio"," or height ","channels","recordType","clearBuffer","isDestroyedOrClosed","audio channel is ","buffer",",height:","delayFrameChasingPolicy","6VUlVXa","isSm4CryptoH265V2","mseDecoderUseWorker","streamEnd","video","updateForwardMaxRateDecodeIFrame","_isDestroyed","isVideoInited","useMSE","isM7sCrypto","removeSeekingTimestamp","streamVbps","workerFetch","isPlayer","updateAudioInfo","visibility","onmessage:","playAudio","isUseFpsRender","stringify","updatePlaybackIsPause","5NIBXWK","videoCodec","streamDts","streamRate","sm4CryptoKey","handleRender","getAudioContextSampleRate","demuxFlvUseV2","_decodeVideoNoDelay","destroyLock","isPlayback","openWebglAlignment","destroyResolve","decoderHardNotWasm","decode","updatePlayVodFps","decoderWorkerInitError","hasAudio","calcPlaybackForwardMaxRateDecodeIFrame","protocols","init","_decodeAudioNoDelay","toFixed","decoder-pro-audio.wasm","application/javascript","getHasInit","debugWarn","onmessage playAudio but audio is null","simdDecodeDelayTimeout","width:","increaseLocalTimestamp","emitError","mseAutoCleanupMinBackwardDuration","_mseWorkerData","initVideo","decoderWorkerCloseTimeout","129023SUrnmR","bindMediaStream","videoPayload","notSupportNewWasm","debugError","isDestroyed","onmessage","1881lqAIur","send close but not response and destroy directly","playbackStreamVideoFps","init and decoder url is ","mseError","videoBuffer","onMetaData","stream","max","error","cmd","initMetaData",",message: ","updateWorkConfig","message","data","updateVideoTimestamp","pushData","videoBufferDelay","streamEndInner","sampleRate","onerror","addVideo","mseDecodeAudio","setStreamFps","isDropSameTimestampGop","decodeStart","isCryptoAudio","playbackPause","isFlv","debugLevel","TAG_NAME","updateStats","websocketStringMsg","isIFrame","websocketOpen","decoderCheckFirstIFrame","useOffscreen","videoNalu","nakedFlowH265DemuxUseNew","destroy","indexOf","play","correctionConfigurationVersion","workerUrl","decoderWorkerInit","workerFetchStream","onmessage and workerFetch response stream end but player is null","failedToAsynchronouslyPrepareWasm","isRecording","terminate","2254808hJhvcE","isWasmMp4","visibilityChange","isMpeg4","initCanvasViewSize","render$2","memoryAccessOutOfBounds","fetchStream","decodeVideo","mp4","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","isPlayVod","initAudioAacExtraData","emitTsPrivateData","decoderUrl","fetchError","2650QDaKrl","_initWork","initScriptNode","kBps","addVideoSequenceHeader","isDropping","isMseDecoderUseWorker","wasm://","playbackForwardMaxRateDecodeIFrame","player","isNakedFlow","handlePlayToRenderTimes","_clearCloseTimeout","90xJOEsW","msg","onerror and decoder url is ","createObjectURL","playbackConfig","simdH264DecodeVideoWidthIsTooLarge","isCheckStreamEnd","postMessage","isFmp4","audioDecode","webgl","tsError",'importScripts("',"videoCode","initAudio","isPs","isHevc","streamStats","useMThreading","audioNalu","audioCode","$videoElement","updateStreamEndInner"];return(Ic=function(){return t})()}function kc(t,e){const s=Ic();return(kc=function(t,e){return s[t-=345]})(t,e)}!function(t,e){const s=kc,i=t();for(;;)try{if(295049===-parseInt(s(608))/1+parseInt(s(519))/2*(-parseInt(s(551))/3)+-parseInt(s(383))/4*(-parseInt(s(572))/5)+parseInt(s(458))/6+-parseInt(s(481))/7+-parseInt(s(462))/8*(parseInt(s(412))/9)+-parseInt(s(399))/10*(-parseInt(s(615))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ic);class _c{constructor(t){const e=kc;this.player=t,this[e(363)]=e(506),this.destroyResolve=null,this[e(477)]=null,this[e(376)]=null;let s=t[e(472)].decoder;if(this[e(607)]=null,this._isDestroyed=!1,this[e(581)]=!1,Si(this[e(408)][e(472)][e(480)])?s=this[e(408)][e(472)].demuxUseWorker?this[e(408)][e(472)][e(355)]||this[e(408)]._opt.wcsDecodeAudio||Si(this[e(408)][e(472)][e(589)])?t[e(472)][e(585)]:t[e(472)].decoderHard:t[e(472)][e(484)]:this[e(408)][e(472)].useOldWasm&&(s=t[e(472)][e(497)]),this.decoderUrl=s,0===s[e(373)](e(486))&&this[e(408)][e(472)][e(475)]){const t=new Blob([e(424)+s+'")'],{type:e(596)});s=window[e(505)][e(415)](t),this[e(376)]=s,this[e(477)]=setTimeout((()=>{const t=e;window[t(505)].revokeObjectURL(this.workerUrl),this.workerUrl=null,this[t(477)]=null}),I)}this.decoderWorker=new Worker(s),this._initDecoderWorker(),this._listenPlaybackEvents(),t[e(492)](e(506),e(618)+this[e(397)]),t.on(O[e(385)],(()=>{const s=e;this[s(345)]({key:s(566),value:t.visibility})}))}[Tc(372)](){return new Promise(((t,e)=>{const s=kc;if(this[s(581)]=!0,this.player.loaded)if(this[s(408)][s(492)](s(506),s(478)),this[s(506)]){const e={};this[s(408)][s(405)]()&&(e[s(558)]=this[s(408)].isMseVideoStateInited()),this[s(506)][s(419)]({cmd:B.close,options:e}),this.destroyResolve=t,this[s(411)](),this[s(607)]=setTimeout((()=>{const t=s;this[t(607)]=null,this[t(557)]||(this[t(408)][t(598)]("decoderWorker",t(616)),this._destroy())}),2e3)}else this.player[s(598)](s(506),s(485)),this[s(498)](),setTimeout((()=>{t()}),0);else this[s(408)][s(492)](s(506),s(441)),this[s(498)](),setTimeout((()=>{t()}),0)}))}isDestroying(){return this[Tc(581)]}[Tc(613)](){return this[Tc(557)]}[Tc(498)](){const t=Tc;this[t(411)](),this[t(376)]&&(window[t(505)][t(535)](this[t(376)]),this.workerUrl=null),this[t(477)]&&(clearTimeout(this[t(477)]),this[t(477)]=null),this.decoderWorker&&(this[t(506)][t(353)]=null,this.decoderWorker[t(528)]=null,this.decoderWorker.onmessage=null,this[t(506)][t(382)](),this[t(506)]=null),this[t(408)][t(492)]("decoderWorker","destroy"),this.destroyResolve&&(this[t(584)](),this[t(584)]=null),this[t(581)]=!1,this[t(557)]=!0}_listenPlaybackEvents(){const t=Tc;this.player[t(516)]()&&(this[t(408)][t(492)](this[t(363)],t(490)),this.player.on(O[t(360)],(e=>{this[t(571)](e)})))}[Tc(446)](){const t=Tc;this[t(408)],this[t(506)].onerror=e=>{const s=t,i=e.filename||"",r=e[s(346)]||"",n=i&&(-1!==i.indexOf(s(483))||-1!==i[s(373)](s(406))),o=i&&-1!==i[s(373)](s(595)),a=-1!==r[s(373)](s(508));n&&o&&-1!==r[s(373)](Pt[s(389)])?this[s(408)][s(492)]("decoderWorker",s(437)+i+s(627)+r,e):(this[s(408)][s(612)]("decoderWorker",s(414)+this[s(397)]+s(488)+i+",message: "+r,e),n?this.player[s(603)](V.decoderWorkerWasmError,"filename: "+i+s(627)+r):a?this[s(408)][s(603)](V[s(439)],s(521)+i+s(627)+r):this[s(408)][s(603)](V[s(588)],s(521)+i+s(627)+r))},this.decoderWorker[t(528)]=e=>{const s=t;this.player.debugError("decoderWorker",s(528),e)},this[t(506)][t(614)]=e=>{const s=t,i=e[s(347)];if(!this[s(557)])switch(i[s(625)]){case P[s(592)]:this.player.debugLog("decoderWorker",s(567),P[s(592)]),this[s(506)]&&this[s(400)](),this.player[s(463)](O[s(377)]),this[s(408)][s(463)](O.load);break;case P[s(425)]:this.player.debugLog(s(506),s(567),P.videoCode,i[s(524)]),!this[s(408)]._times[s(358)]&&(this[s(408)]._times[s(358)]=Je()),this[s(408)][s(555)][s(474)]({encTypeCode:i[s(524)]});break;case P.videoCodec:this.player.debugLog(s(506),s(567),P[s(573)],i[s(493)]),this[s(408)][s(459)]&&this[s(408)][s(459)][s(626)](i[s(548)],i[s(493)]),this.player[s(555)][s(474)]({encTypeCode:i.codecId});break;case P.audioCode:this[s(408)].debugLog(s(506),"onmessage:",P[s(432)],i[s(524)]),this[s(408)][s(541)]&&this[s(408)][s(541)][s(565)]({encTypeCode:i[s(524)]});break;case P.audioAACSequenceHeader:this[s(408)][s(492)]("decoderWorker","onmessage:",P.audioAACSequenceHeader),this[s(408)][s(459)]&&this[s(408)].recorder[s(395)](i[s(548)]);break;case P[s(606)]:if(this[s(408)].debugLog(s(506),"onmessage:",P[s(606)],s(601)+i.w+s(549)+i.h),Rs(i.w)||Rs(i.h))return void this[s(408)][s(603)](V.videoInfoError,"video width "+i.w+s(542)+i.h+" is empty");if(this[s(408)][s(555)][s(609)](),this.player[s(555)].updateVideoInfo({width:i.w,height:i.h}),!(this.player._opt[s(583)]||ei(i.w)||this.player.getCanvasRenderType()!==et[s(422)]&&this[s(408)][s(510)]()!==et[s(450)]))return void this[s(408)][s(603)](V.webglAlignmentError);this.player[s(555)][s(387)](),this.player[s(582)]()?(this[s(408)][s(555)][s(487)](),this[s(408)][s(555)].initVideoDelay()):this[s(408)][s(394)]();break;case P[s(426)]:if(this[s(408)][s(492)](s(506),s(567),P[s(426)],"channels:"+i.channels+",sampleRate:"+i[s(352)]),i.channels>2)return void this[s(408)][s(603)](V[s(526)],s(547)+i[s(543)]+", max is 2");this[s(408)][s(541)]&&(this[s(408)][s(541)].updateAudioInfo(i),this[s(408)][s(472)][s(527)]===l[s(408)]?this[s(408)].audio[s(401)]():this.player[s(472)][s(527)]===l[s(471)]?this[s(408)][s(541)][s(401)]():this[s(408)][s(394)]()&&this.player.audio[s(401)]());break;case P[s(447)]:if(this[s(408)].isDestroyedOrClosed())return;if(!this[s(408)][s(555)])return void this[s(408)][s(598)](s(506),"onmessage render but video is null");if(this[s(408)][s(564)]()){if(Si(this[s(408)].video[s(597)]()))return void this[s(408)][s(598)](s(506),s(533));this[s(408)][s(555)][s(447)](i),this[s(408)][s(577)](),this.player[s(364)]({dfps:!0,buf:i[s(496)]}),!this[s(408)][s(476)][s(466)]&&(this.player[s(476)][s(466)]=Je(),this[s(408)][s(410)]())}else if(this[s(408)][s(582)]())this[s(408)][s(364)]({dfps:!0}),Si(this[s(408)].playbackPause)?(this[s(408)][s(460)].isUseLocalCalculateTime&&this[s(408)][s(460)][s(602)](),this[s(408)][s(460)][s(569)]?this[s(408)][s(555)][s(349)](i):this[s(408)][s(555)][s(388)](i)):this.player.playback.isPlaybackPauseNotClearCacheAndCacheBeforeDecode()&&this[s(408)].playback[s(569)]&&this[s(408)][s(555)].pushData(i);else if(this[s(408)][s(394)]())if(this[s(408)][s(436)].isSeeking()){const t=this.player.playVod[s(454)];Math.abs(i.ts-t)<500&&(this[s(408)][s(436)][s(561)](),this[s(408)].updateStats({dfps:!0}),this[s(408)].video[s(388)](i))}else this[s(408)].updateStats({dfps:!0}),this[s(408)][s(555)][s(388)](i);break;case P[s(370)]:this[s(408)][s(459)]&&this[s(408)].recorder[s(381)]&&this[s(408)][s(472)][s(544)]===c[s(392)]&&this[s(408)].recorder.handleAddNaluTrack(i[s(548)],i[s(366)],i.ts,i[s(452)]);break;case P[s(431)]:this[s(408)].recorder&&this[s(408)].recorder[s(381)]&&this[s(408)]._opt[s(544)]===c[s(392)]&&this[s(408)].recorder.isWasmMp4()&&this[s(408)][s(459)].handleAddAudioTrack(i.buffer,i.ts);break;case P[s(610)]:const{webcodecsDecoder:t,mseDecoder:e}=this[s(408)];if(this[s(408)].updateStats({buf:i[s(496)]}),this[s(408)][s(472)].useWCS&&!this[s(408)][s(472)][s(369)]){const e=new Uint8Array(i[s(455)]);t[s(391)](e,i.ts,i[s(366)],i[s(452)])}else if(this.player[s(472)][s(559)]){const t=new Uint8Array(i[s(455)]);e[s(391)](t,i.ts,i[s(366)],i[s(452)])}break;case P.audioPayload:if(this[s(408)][s(472)][s(559)]){const t=new Uint8Array(i[s(455)]);this.player.mseDecoder[s(515)](t,i.ts,i[s(452)])}else if(this[s(408)][s(472)][s(468)]&&!this[s(408)][s(472)].useOffscreen){const t=new Uint8Array(i[s(455)]);this[s(408)].webcodecsDecoder.decodeAudio(t,i.ts,i[s(452)])}break;case P[s(568)]:if(this[s(408)][s(546)]())return;if(!this.player[s(541)])return void this[s(408)][s(598)]("decoderWorker",s(599));if(!this.player[s(472)][s(456)])return void this[s(408)][s(577)]();this[s(408)][s(472)].playType===l[s(408)]?this[s(408)][s(541)][s(374)](i[s(548)],i.ts):this[s(408)][s(472)][s(527)]===l[s(471)]?(Si(this[s(408)][s(360)])||this[s(408)][s(460)][s(393)]()&&this[s(408)].playback[s(569)])&&this[s(408)][s(541)][s(374)](i[s(548)],i.ts):this[s(408)][s(394)]()&&Si(this[s(408)][s(520)])&&this[s(408)].audio.play(i.buffer,i.ts);break;case P[s(563)]:if(i[s(479)]===O[s(514)])this[s(408)][s(622)]?this[s(408)][s(622)][s(463)](O[s(514)]):this[s(408)][s(598)](s(506),"onmessage and workerFetch response stream success but stream is null");else if(i.type===O[s(575)])this[s(408)].emit(O[s(402)],(i[s(517)]/1e3)[s(594)](2));else if(i[s(479)]===O[s(554)])this[s(408)]?(i[s(517)]===h.websocket&&this[s(408)].emit(O[s(494)],i[s(413)]),this.player[s(463)](O[s(554)],i[s(413)])):this[s(408)][s(598)]("decoderWorker",s(379));else if(i[s(479)]===O[s(351)])this[s(408)][s(434)]();else if(i[s(479)]===V[s(467)])this[s(408)][s(603)](V[s(467)],i[s(517)]);else if(i[s(479)]===V[s(518)])this.player&&this[s(408)][s(622)]?this[s(408)][s(622)].emit(V.websocketOpenTimeout,i[s(413)]):this[s(408)][s(598)](s(506),"onmessage and workerFetch response websocketOpenTimeout but stream is null");else if(i[s(479)]===V[s(398)])this[s(408)]&&this[s(408)][s(622)]?this[s(408)].stream.emit(V[s(398)],i[s(517)]):this[s(408)][s(598)](s(506),s(449));else if(i[s(479)]===V[s(513)])this[s(408)][s(603)](V[s(398)],i[s(517)]);else if(i[s(479)]===O[s(501)])this.player.updateStats({abps:i[s(517)]});else if(i[s(479)]===O[s(562)])!this[s(408)][s(476)][s(482)]&&(this.player._times.demuxStart=Je()),this.player[s(364)]({vbps:i.value});else if(i[s(479)]===O[s(574)])this.player.updateStats({dts:i[s(517)]});else if(i[s(479)]===O[s(448)])this.player[s(364)]({netBuf:i.value});else if(i[s(479)]===O[s(457)])this.player[s(463)](O[s(457)],i[s(517)]);else if(i[s(479)]===O[s(429)]){const t=JSON.parse(i.value);this[s(408)].updateStats({workerStats:t})}else i[s(479)]===O[s(367)]&&this[s(408)][s(463)](O[s(367)]);break;case P.iframeIntervalTs:this[s(408)]&&(this[s(408)].videoIframeIntervalTs=i[s(517)]);break;case P[s(404)]:this[s(408)]&&this[s(408)][s(364)]({isDropping:!0});break;case P.checkFirstIFrame:this[s(408)][s(368)]();break;case P[s(617)]:this[s(408)]&&this[s(408)].video&&this[s(408)][s(555)][s(356)](i.value);break;case P[s(417)]:this[s(408)][s(603)](V[s(417)],i[s(517)]);break;case P[s(495)]:this[s(408)][s(603)](V[s(495)],i[s(517)]);break;case P[s(502)]:this[s(408)][s(603)](V[s(502)]);break;case P.simdDecodeDelayTimeout:this.player[s(603)](V[s(600)]);break;case P.workerEnd:this.player[s(492)](s(506),s(567),P[s(442)]),Bi()&&(this[s(408)][s(372)](),console[s(624)](decodeURIComponent($t)),alert(decodeURIComponent(Xt)),window.location[s(529)]());break;case P[s(489)]:this[s(408)].debugLog(s(506),s(567),P[s(489)]),this[s(498)]();break;case P.tempStream:this.player&&this.player.pushTempStream(i[s(548)]);break;case P[s(537)]:if(this.player){const t=new Uint8Array(i[s(548)]),e=We(Ve(t),i[s(428)]);this[s(408)][s(538)]({ts:i.ts,data:e.payload,type:e[s(479)],uuid:e.uuid,size:e[s(511)],originData:t})}break;case P.tsPrivateData:this.player&&this[s(408)][s(396)](new Uint8Array(i[s(548)]));break;case P[s(525)]:if(this[s(408)]){if(this.player[s(470)]()){const t=new Uint8Array(i[s(548)]);this.player[s(459)][s(500)](t)}const t=wc(new Uint8Array(i[s(548)]));t&&t[s(621)]&&this[s(408)][s(461)](t[s(621)])}break;case P.aacSequenceHeader:if(this[s(408)]&&this[s(408)][s(470)]()){const t=new Uint8Array(i[s(548)]);this.player[s(459)].addAACSequenceHeader(t,i.ts)}break;case P[s(435)]:if(this[s(408)]&&this[s(408)].isRecordTypeFlv()){const t=new Uint8Array(i[s(548)]);this[s(408)].recorder[s(403)](t,i.ts)}break;case P.flvBufferData:if(this[s(408)]&&this.player[s(470)]()&&this[s(408)].recording){const t=new Uint8Array(i[s(548)]);i[s(479)]===x[s(555)]?this[s(408)].recorder[s(354)](t,i.ts):i.type===x[s(541)]&&this[s(408)][s(459)].addAudio(t,i.ts)}break;case P[s(445)]:this[s(408)]&&(this[s(408)][s(492)](s(506),s(567),P[s(445)]),this[s(408)][s(555)][s(433)][s(532)]=i[s(445)]);break;case P[s(440)]:this[s(408)]&&(this[s(408)][s(492)](s(506),s(567),P.mseFirstRenderTime,i[s(517)]),this[s(408)][s(605)][s(507)]=Number(i[s(517)]));break;case P[s(619)]:this[s(408)]&&(this[s(408)][s(492)](s(506),s(567),P[s(619)],i[s(517)],i[s(413)]),this.player.emitError(i.value,i[s(413)]));break;case P[s(611)]:this[s(408)]&&(this[s(408)][s(492)](this.TAG_NAME,s(567),P.notSupportNewWasm),this[s(408)].emitError(V.notSupportNewWasm));break;case P[s(380)]:this[s(408)]&&(this[s(408)].debugLog(this[s(363)],"onmessage:",P[s(380)]),this.player.emitError(V[s(380)]));break;case P[s(365)]:this[s(408)]&&this[s(408)].emit(O[s(365)],i[s(517)]);break;case P[s(423)]:this[s(408)]&&(this[s(408)][s(492)](this[s(363)],"onmessage:",P[s(423)],i.value,i[s(413)]),this.player[s(603)](i[s(517)],i[s(413)]));break;default:this.player[i.cmd]&&this[s(408)][i[s(625)]](i)}}}_initWork(){const t=Tc,e={debug:this[t(408)][t(472)][t(534)],debugLevel:this[t(408)][t(472)][t(362)],debugUuid:this.player[t(472)].debugUuid,useOffscreen:this[t(408)]._opt[t(369)],useWCS:this[t(408)][t(472)][t(468)],useMSE:this.player[t(472)][t(559)],useWasm:this[t(408)][t(472)][t(480)],videoBuffer:this[t(408)][t(472)][t(620)],videoBufferDelay:this.player._opt[t(350)],openWebglAlignment:this[t(408)][t(472)][t(583)],playType:this[t(408)][t(472)][t(527)],hasAudio:this[t(408)][t(472)][t(589)],hasVideo:this[t(408)]._opt[t(456)],playbackRate:1,playVodRate:1,playbackFps:this.player._opt[t(416)].fps,playbackAutoCalcFps:this[t(408)][t(472)][t(416)].autoCalcFps,playbackForwardMaxRateDecodeIFrame:this[t(408)]._opt[t(407)],calcPlaybackForwardMaxRateDecodeIFrame:this.player._opt[t(590)],playbackIsCacheBeforeDecodeForFpsRender:this[t(408)][t(472)].playbackConfig[t(438)],sampleRate:this[t(408)][t(541)]&&this.player[t(541)][t(578)]()||Ht,audioBufferSize:this[t(408)][t(541)]&&this.player[t(541)].getAudioBufferSize()||1024,networkDelay:this.player[t(472)][t(473)],visibility:this[t(408)].visibility,useSIMD:this[t(408)][t(472)].useSIMD,useMThreading:this.player[t(472)][t(430)],isFFmpegSIMD:this[t(408)]._opt.isFFmpegSIMD,recordType:this[t(408)][t(472)].recordType,checkFirstIFrame:this[t(408)][t(472)][t(491)],isM7sCrypto:this[t(408)][t(472)][t(560)],isXorCrypto:this[t(408)]._opt.isXorCrypto,isSm4Crypto:this.player[t(472)][t(531)],isSm4CryptoH265V2:this[t(408)][t(472)][t(552)],sm4CryptoKey:this[t(408)][t(472)][t(576)],isCryptoAudio:this[t(408)]._opt[t(359)],isFlv:this[t(408)][t(472)][t(361)],isFmp4:this[t(408)][t(472)][t(420)],isMpeg4:this.player[t(472)].isMpeg4,isTs:this.player._opt[t(540)],isPs:this[t(408)][t(472)].isPs,isNakedFlow:this.player._opt[t(409)],isHls265:this[t(408)].isUseHls265(),isEmitSEI:this.player[t(472)].isEmitSEI,isRecordTypeFlv:this[t(408)][t(470)](),isWasmMp4:this.player[t(459)]&&this[t(408)][t(459)][t(384)]()||!1,isChrome:Qs(),isFirefox:cs(),supportMSEDecodeHevc:Ts(),isDropSameTimestampGop:this[t(408)][t(472)][t(357)],mseDecodeAudio:this.player[t(472)][t(355)],wcsDecodeAudio:this.player[t(472)][t(451)],nakedFlowH265DemuxUseNew:this[t(408)][t(472)][t(371)],mseDecoderUseWorker:this[t(408)][t(472)][t(553)],mseAutoCleanupMinBackwardDuration:this.player._opt[t(604)],mseAutoCleanupMaxBackwardDuration:this[t(408)][t(472)][t(536)],mseCorrectTimeDuration:this[t(408)]._opt.mseCorrectTimeDuration,mseCorrectAudioTimeDuration:this[t(408)]._opt[t(512)],nakedFlowDemuxUseNew:this[t(408)][t(472)].nakedFlowDemuxUseNew,nakedFlowFps:this[t(408)][t(472)].nakedFlowFps,checkStreamEnd:this[t(408)][t(418)](),websocketOpenTimeout:this[t(408)]._opt.websocketOpenTimeout,correctionConfigurationProfileIndication:this[t(408)][t(472)].correctionConfigurationProfileIndication,correctionConfigurationVersion:this[t(408)][t(472)][t(375)],demuxFlvUseV2:this[t(408)]._opt[t(579)],wasmSimdFirstFrameDecodeDelayTimeout:this[t(408)][t(472)][t(530)],delayFrameChasingPolicy:this.player[t(472)][t(550)],delayFrameAccelerateDecodeMaxNum:this[t(408)][t(472)][t(523)],isEmitTsPrivateData:this[t(408)][t(472)][t(522)]};this[t(506)][t(419)]({cmd:B[t(592)],opt:JSON[t(570)](e)}),this[t(408)][t(472)][t(504)]&&this.player._opt[t(504)][t(539)]>0&&this[t(408)][t(472)][t(465)]&&this.player[t(472)][t(465)][t(539)]>0&&(this[t(345)]({key:"cryptoKey",value:this[t(408)][t(472)][t(504)]}),this[t(345)]({key:t(465),value:this[t(408)]._opt[t(465)]}))}decodeVideo(t,e,s){const i=Tc;this[i(408)][i(564)]()?this[i(580)](t,e,s):this[i(408)][i(582)]()?this[i(408)][i(469)]()?s&&this[i(580)](t,e,s):this._decodeVideoNoDelay(t,e,s):this[i(408)][i(394)]()&&this[i(580)](t,e,s)}_decodeVideo(t,e,s){const i=Tc,r={type:x[i(555)],ts:Math[i(623)](e,0),isIFrame:s};this[i(506)][i(419)]({cmd:B[i(586)],buffer:t,options:r},[t[i(548)]])}[Tc(580)](t,e,s){const i=Tc;this[i(408)][i(364)]({p2dfps:!0}),this[i(506)].postMessage({cmd:B.videoDecode,buffer:t,ts:Math[i(623)](e,0),isIFrame:s},[t[i(548)]])}[Tc(515)](t,e){const s=Tc;this[s(408)][s(564)]()?this[s(593)](t,e):this.player[s(582)]()?this[s(408)][s(469)]()||this[s(593)](t,e):this[s(408)][s(394)]()&&this[s(593)](t,e)}_decodeAudio(t,e){const s=Tc,i={type:x.audio,ts:Math[s(623)](e,0)};this[s(506)].postMessage({cmd:B.decode,buffer:t,options:i},[t[s(548)]])}_decodeAudioNoDelay(t,e){const s=Tc;this[s(506)][s(419)]({cmd:B[s(421)],buffer:t,ts:Math.max(e,0)},[t[s(548)]])}[Tc(345)](t){const e=Tc;this[e(506)]&&this.decoderWorker[e(419)]({cmd:B[e(453)],key:t[e(503)],value:t[e(517)]})}[Tc(378)](t){const e=Tc;let s=arguments[e(464)]>1&&void 0!==arguments[1]?arguments[1]:{};const{_opt:i}=this.player;let r=[];s[e(591)]&&(r=s[e(591)],delete s[e(591)]);const n={protocol:i.protocol,isFlv:i[e(361)],isFmp4:i[e(420)],isMpeg4:i[e(386)],isNakedFlow:i[e(409)],isTs:i[e(540)],isPs:i[e(427)],options:s};this[e(506)][e(419)]({cmd:B[e(390)],url:t,protocols:r,opt:JSON.stringify(n)})}[Tc(444)](){const t=Tc;let e=arguments[t(464)]>0&&void 0!==arguments[0]&&arguments[0];this.decoderWorker[t(419)]({cmd:B[t(545)],needClear:e})}[Tc(443)](t){const e=Tc;this[e(506)][e(419)]({cmd:B.sendWsMessage,message:t})}[Tc(348)](t){this[Tc(506)].postMessage({cmd:B.mseUpdateVideoTimestamp,message:t})}[Tc(571)](t){const e=Tc;this[e(506)].postMessage({cmd:B[e(499)],isPause:t})}[Tc(587)](t){const e=Tc;this.decoderWorker[e(419)]({cmd:B[e(509)],fps:t})}[Tc(368)](){this[Tc(444)]()}[Tc(556)](t){const e=Tc;this[e(506)].postMessage({cmd:B[e(556)],rate:t})}[Tc(411)](){const t=Tc;this[t(607)]&&(clearTimeout(this.decoderWorkerCloseTimeout),this[t(607)]=null)}}const Cc=Dc;function Dc(t,e){const s=Rc();return(Dc=function(t,e){return s[t-=343]})(t,e)}function Rc(){const t=["onerror and decoder url is ","checkInterval","_handleRender","debugError","playbackTF","pushTempStream","recorder","mseAutoCleanupMaxBackwardDuration","nakedFlowDemuxUseNew","streamEnd","5318750yxEKXk","addVideo","websocketStringMsg","demuxWorkerUrl","mtDemuxerWorkerInit","isRecordTypeFlv","8vxjgcq","parse","updateStats","visibility","isStreamByProtocol","isDropSameTimestampGop","getAudioBufferSize","filename","simdDecodeError","playVod","_handleSimdH264DecodeVideoWidthIsTooLarge","addAACSequenceHeader","notSupportNewWasm","isPlayer","delay","sampleRate","simdDecodeDelayTimeout","videoCodec","isEmitTsPrivateData","updateVideoInfo","cmd","load","streamEndInner","isDestroying","decoderScript init ,has not load decoder and next start interval check","playing","setStreamFps","isFlv","mtDecoderWorkerInit","cryptoKey",", max is ","_stopCheckDecoder","isUseHls265","delayFrameAccelerateDecodeMaxNum","mseCorrectTimeDuration","fps","application/javascript","byteLength","initVideoDelay","hasVideo","audioAACSequenceHeader","decoderWorkerInitError","init and decoder window name is ","filename: ","isSm4Crypto","onmessage and workerFetch response stream success but stream is null","fetchStream","_handleMtStreamStats","networkDelayTimeout","websocketOpenTimeout","isMpeg4","_decodeAudioNoDelay","_initDecoderWorker","recordType","toString","videoInfoError","_handleDecoderInit","getAudioContextSampleRate","workerUrl","sendWsMessage","render$2","isRecording","isM7sCrypto","videoBuffer","init","wasmWidthOrHeightChange","20682657zRGttF","websocketOpen","updateForwardMaxRateDecodeIFrame","initFps","code","playbackPause","then","_isDestroyed","useWCS","5327091PRTuVf","_handleAudioCode"," is empty","debugWarn","videoStart","correctionConfigurationLevelIndication","demuxFlvUseV2","_decodeVideoNoDelay","clearWorkBuffer","tempStream","_listenPlaybackEvents","isIFrame","workerFetch","toFixed","has loaded and post message to destroy","destroyLock","audioCode","debugUuid","sm4CryptoKey","indexOf","_initDemuxWorker","handleAddAudioTrack","message","isHevc","onmessage render but video is null","mseAutoCleanupMinBackwardDuration","bindMediaStream","useMSE","decoderMtWorker","wasmSimdFirstFrameDecodeDelayTimeout","1248506VRakjn","fetchError","stringify","pushData","mp4","msg","init and window decoder name is "," and decoder is loaded","video width ","Uncaught ","onmessage:","TAG_NAME","tsError","audio channel is ","playback","emit","videoPayload","handlePlayToRenderTimes","type","playbackForwardMaxRateDecodeIFrame","debugLevel","_handleVideoCode","isPlaybackOnlyDecodeIFrame","isUseLocalCalculateTime","1779124mmdcMG","addVideoSequenceHeader","emitTsPrivateData","decodeVideo"," and mtType is ","destroy","decoder-pro-f-simd-mt.js","nakedFlowFps","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","kBps","closeEnd","_destroy","checkFirstIFrame","isFFmpegSIMD","isXorCrypto","fSimd","isFmp4","networkDelay","playVodPause","cts","load decoder error ","websocketError","size","send close but not response and destroy directly","updateStreamEndInner","payload","protocols","videoBufferDelay","decodeStart","websocket","isCryptoAudio","reload","streamRate","Decoder","bind",", and filename: ","value","6pAUlEM"," and decoderScriptId is ","_initWork","playAudio","windiwDecoderName","loadScript init , has not load decoder and next start interval check","_handleSimdDecodeError","_newDecoderWorker","_handleWorkerEnd","webgl","netBuf"," and decoder is not loaded next load it","channels","onMetaData","fetchErrorWorker","getCanvasRenderType","decoderUrl","debug","_handleNotSupportNewWasm","calcPlaybackForwardMaxRateDecodeIFrame","addAudio","updatePlaybackIsPause"," and decoder is not loaded"," has loaded,init and decoder is ","_handlePlayAudio","onmessage","isCacheBeforeDecodeForFpsRender","revokeObjectURL","isDestroyed","MtDecoderWorker MtDemuxWorker","workerClearTimeout","videoIframeIntervalTs","abs","location","debugLog","decoderWorkerCloseTimeout","updateConfig","isNakedFlow","decoder-pro-simd-mt.js","width:","mtStreamStats","http","decoder","playType","render","isPlayVod","_handleInitAudio","_startCheckDecoder","destroyed","simdH264DecodeVideoWidthIsTooLarge","workerEnd","playbackIsPause","isEmitSEI","updateWorkConfig","hasAudio","initMetaData","demuxStart","has loaded but decoderWorker is null and destroy directly","initVideo","audioPayload","data","webgl2","protocol","useWasm",",message: ","emitError","correctionConfigurationProfileIndication","audioNalu","flvBufferData","bound","codecId","webglAlignmentError","p2dfps","iframeIntervalTs","stream","onerror","openWebglAlignment","uuid","video","initScriptNode","updateAudioInfo","TAG_NAME_DEMUX","decoderHardNotWasm","player","decoderCheckFirstIFrame","removeSeekingTimestamp","isPlayback","_opt","terminate","getElementById","useOffscreen",",sampleRate:","_handleInit","wasm","buffer","isDropping","audio","_handleWasmWidthOrHeightChange","videoSEI","_handleInitVideo","aacSequenceHeader","_handleAudioAACSequenceHeader","_tempMtStreamStats","1400334vQjJBP","onmessage and workerFetch response fetch error but stream is null","error","JessibucaProMt","useSIMD","initCanvasViewSize","initAudio","delayFrameChasingPolicy","isSeeking","isWasmMp4","play","onmessageerror","streamAbps","_handleSimdDecodeDelayTimeout","isPs","cryptoIV","seekingTimestamp","websocketClose","_handleVideoCodec","nakedFlowH265DemuxUseNew","559774wyWKrX","length","postMessage","updateVideoTimestamp","streamStats","_clearCloseTimeout","MtDecoderWorker","streamSuccess","tsPrivateData","updatePlayVodFps","isDestroyedOrClosed","has not loaded and destroy directly","playbackConfig","videoSequenceHeader","demuxWorker","handleRender","isUseFpsRender","destroyResolve","_times","visibilityChange","decoderScriptId","initAudioAacExtraData","simd","URL"];return(Rc=function(){return t})()}!function(t,e){const s=Dc,i=t();for(;;)try{if(714120===-parseInt(s(528))/1+parseInt(s(344))/2+-parseInt(s(405))/3*(-parseInt(s(368))/4)+parseInt(s(562))/5+parseInt(s(508))/6+parseInt(s(643))/7+-parseInt(s(568))/8*(parseInt(s(634))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Rc);class Lc{constructor(t){const e=Dc;this[e(488)]=t,this.TAG_NAME=e(534),this[e(486)]=e(434),this[e(671)]=null,this[e(542)]=null,this[e(626)]=null,this[e(565)]=t._opt[e(487)],this[e(435)]=null,this[e(553)]=null,this[e(641)]=!1,this.mtDecoderWorkerInit=!1,this.mtDemuxerWorkerInit=!1,this._tempMtStreamStats=null,this.decoderWorkerCloseTimeout=null,this[e(658)]=!1;let s=t[e(492)][e(447)],i=Jt[e(498)];s.indexOf(e(374))>-1?i=Jt[e(383)]:s[e(662)](e(443))>-1&&(i=Jt[e(550)]);const r=e(511)+i+e(401);if(this[e(409)]=r,this.decoderScriptId=r+"Id",this[e(474)]={_handleDecoderInit:this[e(624)].bind(this),_handleVideoCode:this[e(365)][e(402)](this),_handleVideoCodec:this[e(526)][e(402)](this),_handleAudioCode:this[e(644)][e(402)](this),_handleAudioAACSequenceHeader:this._handleAudioAACSequenceHeader[e(402)](this),_handleInitVideo:this._handleInitVideo[e(402)](this),_handleInitAudio:this[e(451)][e(402)](this),_handleRender:this[e(554)].bind(this),_handlePlayAudio:this._handlePlayAudio[e(402)](this),_handleSimdH264DecodeVideoWidthIsTooLarge:this[e(578)][e(402)](this),_handleWasmWidthOrHeightChange:this._handleWasmWidthOrHeightChange[e(402)](this),_handleSimdDecodeError:this[e(411)][e(402)](this),_handleWorkerEnd:this[e(413)].bind(this),_handleNotSupportNewWasm:this[e(423)][e(402)](this),_handleMtStreamStats:this[e(615)][e(402)](this),_handleSimdDecodeDelayTimeout:this[e(521)].bind(this)},this[e(488)].debugLog(this[e(355)],e(610)+r+e(406)+this[e(548)]),r in window)this[e(412)](),this[e(488)][e(439)](this[e(355)],"init and decoder is "+s+e(372)+i+e(351));else{document[e(494)](this[e(548)])?(this[e(488)][e(439)](this[e(355)],"script "+this[e(548)]+e(428)+s+" and mtType is "+i+e(427)),r in window?this._newDecoderWorker():(this[e(488)][e(439)](this[e(355)],e(592)),this[e(452)]())):(this[e(488)][e(439)](this[e(355)],"init and decoder is "+s+e(372)+i+e(416)),(n=s,o=this.decoderScriptId,new Promise(((t,e)=>{const s=Qe,i=document[s(711)]("script");if(i.type=s(567),i[s(842)]=n,i[s(844)]=t,i[s(627)]=e,o){i.id=o;const t=document[s(805)](o);t&&document[s(766)][s(678)](t)}document.body[s(535)](i)})))[e(640)]((()=>{const t=e;r in window?this[t(412)]():(this[t(488)][t(439)](this[t(355)],t(410)),this[t(452)]())})).catch((t=>{const s=e;this.player[s(555)](this.TAG_NAME,s(388)+t,t),this[s(488)][s(470)](V[s(609)],t[s(622)]())})))}var n,o;this._listenPlaybackEvents()}destroy(){return new Promise(((t,e)=>{const s=Dc;if(this[s(658)]=!0,this[s(488)].loaded)if(this.player[s(439)](this[s(355)],s(657)),this[s(542)]){const e={};this[s(542)].postMessage({cmd:B.close,options:e}),this.destroyResolve=t,this[s(533)](),this.decoderWorkerCloseTimeout=setTimeout((()=>{const t=s;this[t(440)]=null,this[t(641)]||(this.player[t(646)](this.TAG_NAME,t(391)),this[t(379)]())}),2e3)}else this.player.debugWarn(this.TAG_NAME,s(462)),this[s(379)](),setTimeout((()=>{t()}),0);else this[s(488)][s(439)](this.TAG_NAME,s(539)),this[s(379)](),setTimeout((()=>{t()}),0)}))}[Cc(379)](){const t=Cc;this._stopCheckDecoder(),this[t(626)]&&(window[t(551)][t(432)](this.workerUrl),this[t(626)]=null),this.workerClearTimeout&&(clearTimeout(this[t(435)]),this[t(435)]=null),this[t(671)]&&(this[t(671)].destroy(),this[t(671)]=null),this.demuxWorker&&(this.demuxWorker[t(480)]=null,this[t(542)][t(519)]=null,this[t(542)].onmessage=null,this[t(542)][t(493)](),this[t(542)]=null),this[t(409)]=null,this[t(548)]=null,this[t(507)]=null,this[t(474)]=null,this[t(488)][t(439)](this[t(355)],t(453)),this[t(545)]&&(this.destroyResolve(),this[t(545)]=null),this[t(658)]=!1,this[t(641)]=!0}_clearCloseTimeout(){const t=Cc;this.decoderWorkerCloseTimeout&&(clearTimeout(this[t(440)]),this[t(440)]=null)}_newDecoderWorker(){const t=Cc;this.decoderMtWorker=new window[this.windiwDecoderName](this[t(488)],{sampleRate:this.player[t(501)]&&this.player[t(501)][t(625)]()||Ht,audioBufferSize:this.player[t(501)]&&this[t(488)][t(501)][t(574)]()||1024}),this[t(620)](),this[t(488)][t(572)]()?(this[t(488)].debugLog(this[t(355)],"stream by protocol is "+this[t(488)].getStreamByProtocol()+", not init demux worker"),this[t(566)]=!0):this._initDemuxWorker()}_startCheckDecoder(){this.checkInterval=setInterval((()=>{const t=Dc;this.windiwDecoderName in window&&(this.player[t(439)](this.TAG_NAME,t(350)+this[t(409)]+t(351)),this._stopCheckDecoder(),this[t(412)]())}),200)}[Cc(599)](){const t=Cc;this[t(553)]&&(clearInterval(this[t(553)]),this[t(553)]=null)}[Cc(591)](){return!1}[Cc(433)](){return this[Cc(641)]}[Cc(653)](){const t=Cc;this[t(488)].isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender()&&(this.player[t(439)](this[t(355)],"listenPlaybackEvents"),this[t(488)].on(O[t(639)],(e=>{this[t(426)](e)})))}[Cc(620)](){const t=Cc;this[t(671)].on(P[t(632)],this.bound[t(624)]),this[t(671)].on(P.videoCode,this.bound[t(365)]),this.decoderMtWorker.on(P.videoCodec,this.bound[t(526)]),this.decoderMtWorker.on(P[t(659)],this[t(474)]._handleAudioCode),this[t(671)].on(P[t(608)],this[t(474)][t(506)]),this[t(671)].on(P[t(463)],this[t(474)][t(504)]),this.decoderMtWorker.on(P[t(514)],this[t(474)][t(451)]),this.decoderMtWorker.on(P.render,this[t(474)][t(554)]),this[t(671)].on(P[t(408)],this[t(474)][t(429)]),this[t(671)].on(P[t(454)],this[t(474)][t(578)]),this[t(671)].on(P[t(633)],this[t(474)][t(502)]),this.decoderMtWorker.on(P.simdDecodeError,this[t(474)][t(411)]),this[t(671)].on(P[t(455)],this[t(474)][t(413)]),this[t(671)].on(P[t(580)],this[t(474)][t(423)]),this[t(671)].on(P[t(445)],this[t(474)][t(615)]),this[t(671)].on(P[t(584)],this[t(474)]._handleSimdDecodeDelayTimeout)}[Cc(663)](){const t=Cc;let e=this[t(565)];if(0===e.indexOf(t(446))&&this[t(488)][t(492)].isDecoderUseCDN){const s=new Blob(['importScripts("'+e+'")'],{type:t(604)});e=window.URL.createObjectURL(s),this[t(626)]=e,this[t(435)]=setTimeout((()=>{const e=t;window[e(551)][e(432)](this[e(626)]),this[e(626)]=null,this[e(435)]=null}),I)}this[t(542)]=new Worker(e),this[t(488)][t(439)](this[t(355)],"init demux worker and decoder url is "+this[t(565)]),this[t(488)].on(O[t(547)],(()=>{const e=t;this.updateWorkConfig({key:"visibility",value:this[e(488)][e(571)]})})),this.demuxWorker[t(480)]=e=>{const s=t,i=e[s(575)]||"",r=e[s(665)]||"",n=-1!==r[s(662)](s(353));this[s(488)][s(555)](this[s(486)],s(552)+this[s(421)]+s(403)+i+s(469)+r,e),n?this.player[s(470)](V.decoderWorkerUncaughtError,s(611)+i+s(469)+r):this[s(488)][s(470)](V[s(609)],s(611)+i+s(469)+r)},this.demuxWorker[t(519)]=e=>{const s=t;this[s(488)][s(555)](this[s(486)],s(519),e)},this[t(542)][t(430)]=e=>{const s=t,i=e[s(465)];if(!this._isDestroyed)switch(i[s(588)]){case P[s(632)]:this[s(488)][s(439)](this[s(486)],"onmessage:",P[s(632)]),this.demuxWorker&&this[s(407)](),this[s(566)]=!0,this[s(497)]();break;case P.videoNalu:this[s(488)][s(558)]&&this[s(488)][s(558)][s(629)]&&this.player[s(492)].recordType===c.mp4&&this[s(488)].recorder.handleAddNaluTrack(i[s(499)],i[s(654)],i.ts,i.cts);break;case P[s(472)]:this.player[s(558)]&&this.player[s(558)][s(629)]&&this[s(488)]._opt[s(621)]===c[s(348)]&&this[s(488)][s(558)][s(517)]()&&this[s(488)][s(558)][s(664)](i[s(499)],i.ts);break;case P[s(360)]:this[s(488)].updateStats({buf:i[s(582)]}),this[s(371)](new Uint8Array(i[s(393)]),i.ts,i.isIFrame,i[s(387)]);break;case P[s(464)]:this.decodeAudio(new Uint8Array(i[s(393)]),i.ts);break;case P[s(655)]:if(i[s(362)]===O[s(535)])this[s(488)].stream?this[s(488)][s(479)][s(359)](O[s(535)]):this[s(488)][s(646)](this[s(486)],s(613));else if(i[s(362)]===O[s(400)])this[s(488)].emit(O[s(377)],(i[s(404)]/1e3)[s(656)](2));else if(i[s(362)]===O.streamEnd)this.player?(i[s(404)]===h[s(397)]&&this.player[s(359)](O[s(525)],i[s(349)]),this[s(488)][s(359)](O[s(561)],i[s(349)])):this[s(488)].debugWarn(this[s(486)],"onmessage and workerFetch response stream end but player is null");else if(i.type===O[s(590)])this[s(488)][s(392)]();else if(i[s(362)]===V[s(389)])this[s(488)][s(470)](V.websocketError,i[s(404)]);else if(i[s(362)]===V[s(617)])this[s(488)]&&this[s(488)][s(479)]?this[s(488)][s(479)].emit(V[s(617)],i.msg):this[s(488)].debugWarn(this[s(486)],"onmessage and workerFetch response websocketOpenTimeout but stream is null");else if(i.type===V.fetchError)this[s(488)]&&this[s(488)][s(479)]?this[s(488)][s(479)].emit(V[s(345)],i[s(404)]):this[s(488)].debugWarn(this[s(486)],s(509));else if(i.type===V[s(419)])this.player[s(470)](V[s(345)],i[s(404)]);else if(i[s(362)]===O[s(520)])this[s(488)][s(570)]({abps:i.value});else if(i[s(362)]===O.streamVbps)!this[s(488)][s(546)].demuxStart&&(this[s(488)][s(546)][s(461)]=Je()),this[s(488)][s(570)]({vbps:i[s(404)]});else if(i[s(362)]===O.streamDts)this[s(488)][s(570)]({dts:i[s(404)]});else if(i[s(362)]===O[s(415)])this[s(488)][s(570)]({netBuf:i[s(404)]});else if(i[s(362)]===O[s(616)])this.player[s(359)](O.networkDelayTimeout,i[s(404)]);else if(i[s(362)]===O[s(532)]){let t=JSON[s(569)](i.value);this[s(507)]&&(t[s(477)]=null,t=Object.assign(t,this[s(507)])),this[s(488)][s(570)]({workerStats:t})}else i[s(362)]===O[s(635)]&&this[s(488)][s(359)](O[s(635)]);break;case P[s(478)]:this[s(488)]&&(this[s(488)][s(436)]=i[s(404)]);break;case P[s(500)]:this[s(488)]&&this.player[s(570)]({isDropping:!0});break;case P.checkFirstIFrame:this[s(488)][s(489)]();break;case P.playbackStreamVideoFps:this[s(488)]&&this[s(488)][s(483)]&&this.player.video[s(594)](i[s(404)]);break;case P[s(455)]:this.player[s(439)](this.TAG_NAME_DEMUX,s(354),P[s(455)]),Bi()&&(this[s(488)].destroy(),console.error(decodeURIComponent($t)),alert(decodeURIComponent(Xt)),window[s(438)][s(399)]());break;case P[s(378)]:this.player[s(439)](this[s(486)],s(354),P.closeEnd),this._destroy();break;case P[s(652)]:this[s(488)]&&this[s(488)][s(557)](i[s(499)]);break;case P[s(503)]:if(this[s(488)]){const t=new Uint8Array(i[s(499)]),e=We(Ve(t),i[s(666)]);this[s(488)].emitVideoSei({ts:i.ts,data:e[s(393)],type:e[s(362)],uuid:e[s(482)],size:e[s(390)],originData:t})}break;case P[s(536)]:this[s(488)]&&this[s(488)][s(370)](new Uint8Array(i[s(499)]));break;case P.flvScriptData:if(this[s(488)]){if(this[s(488)][s(567)]()){const t=new Uint8Array(i[s(499)]);this[s(488)][s(558)].addMetaData(t)}const t=wc(new Uint8Array(i.buffer));t&&t[s(418)]&&this[s(488)].updateMetaData(t.onMetaData)}break;case P[s(505)]:if(this.player&&this[s(488)].isRecordTypeFlv()){const t=new Uint8Array(i[s(499)]);this.player.recorder[s(579)](t,i.ts)}break;case P[s(541)]:if(this.player&&this.player[s(567)]()){const t=new Uint8Array(i[s(499)]);this[s(488)][s(558)][s(369)](t,i.ts)}break;case P[s(473)]:if(this[s(488)]&&this[s(488)][s(567)]()&&this[s(488)].recording){const t=new Uint8Array(i.buffer);i[s(362)]===x[s(483)]?this[s(488)][s(558)][s(563)](t,i.ts):i[s(362)]===x.audio&&this.player[s(558)][s(425)](t,i.ts)}break;case P[s(564)]:this[s(488)]&&this[s(488)][s(359)](O[s(564)],i[s(404)]);break;case P[s(356)]:this.player&&(this[s(488)].debugLog(this[s(486)],s(354),P[s(356)],i.value,i[s(349)]),this.player[s(470)](i[s(404)],i[s(349)]));break;default:this.player[i.cmd]&&this[s(488)][i[s(588)]](i)}}}[Cc(371)](t,e,s){const i=Cc;i(529),this.player[i(581)]()?this._decodeVideoNoDelay(t,e,s):this[i(488)].isPlayback()?this[i(488)][i(366)]()?s&&this[i(650)](t,e,s):this[i(650)](t,e,s):this[i(488)][i(450)]()&&this[i(650)](t,e,s)}[Cc(650)](t,e,s){this.player.updateStats({p2dfps:!0}),this.decoderMtWorker.decodeVideo(t,e,s)}decodeAudio(t,e){const s=Cc;this[s(488)][s(581)]()?this[s(619)](t,e):this[s(488)].isPlayback()?this[s(488)][s(366)]()||this[s(619)](t,e):this.player[s(450)]()&&this[s(619)](t,e)}_decodeAudioNoDelay(t,e){this[Cc(671)].decodeAudio(t,e)}[Cc(651)](){const t=Cc;bi(this[t(488)]._opt[t(380)])&&this[t(671)].clearBuffer()}[Cc(531)](){}[Cc(537)](){}[Cc(489)](){this[Cc(651)]()}[Cc(636)](){}[Cc(497)](){const t=Cc;this[t(596)]&&this[t(566)]&&(this[t(488)].emit(O.decoderWorkerInit),this[t(488)][t(359)](O[t(589)]))}_handleDecoderInit(){const t=Cc;this._isDestroyed||(this[t(488)][t(439)](this[t(355)],"onmessage:",P.init),this[t(596)]=!0,this._handleInit())}_handleVideoCode(t){const e=Cc;this[e(641)]||(this[e(488)][e(439)](this.TAG_NAME,e(354),P.videoCode,t[e(638)]),!this[e(488)][e(546)][e(396)]&&(this[e(488)][e(546)][e(396)]=Je()),this[e(488)].video.updateVideoInfo({encTypeCode:t.code}))}[Cc(526)](t){const e=Cc;this[e(641)]||(this[e(488)][e(439)](this[e(355)],e(354),P[e(585)],t[e(475)]),this[e(488)][e(558)]&&this[e(488)][e(558)][e(460)](t[e(499)],t.codecId),this[e(488)][e(483)][e(587)]({encTypeCode:t[e(475)]}))}[Cc(644)](t){const e=Cc;this._isDestroyed||(this[e(488)].debugLog(this[e(355)],"onmessage:",P[e(659)],t.code),this[e(488)][e(501)]&&this[e(488)][e(501)][e(485)]({encTypeCode:t[e(638)]}))}_handleAudioAACSequenceHeader(t){const e=Cc;this[e(641)]||(this.player[e(439)](this[e(355)],e(354),P[e(608)]),this[e(488)][e(558)]&&this[e(488)][e(558)][e(549)](t[e(499)]))}[Cc(504)](t){const e=Cc;this[e(641)]||(this.player.debugLog(this[e(355)],e(354),P[e(463)],e(444)+t.w+",height:"+t.h),Rs(t.w)||Rs(t.h)?this[e(488)][e(470)](V[e(623)],e(352)+t.w+" or height "+t.h+e(645)):(this.player.video[e(669)](),this[e(488)][e(483)][e(587)]({width:t.w,height:t.h}),this[e(488)][e(492)][e(481)]||ei(t.w)||this[e(488)][e(420)]()!==et[e(414)]&&this[e(488)][e(420)]()!==et[e(466)]?(this.player[e(483)][e(513)](),this.player[e(491)]()?(this[e(488)][e(483)][e(637)](),this[e(488)][e(483)].initVideoDelay()):this.player[e(450)]()&&(this[e(488)][e(483)][e(637)](),this.player.video[e(606)]())):this.player[e(470)](V[e(476)])))}[Cc(451)](t){const e=Cc;this[e(641)]||(this[e(488)][e(439)](this.TAG_NAME,"onmessage:",P[e(514)],"channels:"+t[e(417)]+e(496)+t[e(583)]),t[e(417)]>2?this.player[e(470)](V.audioChannelError,e(357)+t.channels+e(598)+2):this.player.audio&&(this[e(488)][e(501)][e(485)](t),this[e(488)][e(492)].playType===l.player?this[e(488)][e(501)][e(484)]():this[e(488)][e(492)][e(448)]===l[e(556)]?this[e(488)].audio.initScriptNode():this.player[e(450)]()&&this[e(488)][e(501)][e(484)]()))}[Cc(554)](t){const e=Cc;if(!this[e(641)]&&!this[e(488)].isDestroyedOrClosed())if(this[e(488)][e(483)]){if(this.player[e(581)]()){if(Si(this.player[e(483)].getHasInit()))return void this[e(488)][e(646)](this[e(355)],"onmessage render but video has not init");this[e(488)][e(483)][e(449)](t),this[e(488)][e(543)](),this[e(488)][e(570)]({dfps:!0}),!this[e(488)][e(546)].videoStart&&(this[e(488)][e(546)][e(647)]=Je(),this[e(488)][e(361)]())}else if(this[e(488)][e(491)]())this[e(488)][e(570)]({dfps:!0}),Si(this[e(488)].playbackPause)?(this[e(488)][e(358)][e(367)]&&this[e(488)][e(358)].increaseLocalTimestamp(),this.player[e(358)][e(544)]?this[e(488)][e(483)][e(347)](t):this[e(488)][e(483)][e(628)](t)):this[e(488)].playback[e(376)]()&&this[e(488)][e(358)][e(544)]&&this[e(488)][e(483)][e(347)](t);else if(this[e(488)][e(450)]())if(this[e(488)].playVod[e(516)]()){const s=this[e(488)][e(577)][e(524)];Math[e(437)](t.ts-s)<500&&(this.player.playVod[e(490)](),this.player[e(570)]({dfps:!0}),this[e(488)][e(483)][e(628)](t))}else this[e(488)].updateStats({dfps:!0}),this[e(488)][e(483)].render$2(t)}else this[e(488)][e(646)](this[e(355)],e(667))}[Cc(429)](t){const e=Cc;if(!this[e(641)]&&!this[e(488)][e(538)]())if(this[e(488)].audio){if(this.player[e(593)]&&this[e(488)][e(501)]||!this[e(488)][e(483)])if(!this.player[e(492)].hasVideo&&this.player[e(543)](),this[e(488)][e(492)][e(448)]===l.player)this[e(488)].audio[e(518)](t.buffer,t.ts);else if(this.player[e(492)][e(448)]===l[e(556)])Si(this[e(488)].playbackPause)?this.player[e(501)][e(518)](t.buffer,t.ts):this[e(488)][e(358)][e(376)]()&&this[e(488)][e(358)][e(544)]&&this[e(488)][e(501)][e(518)](t[e(499)],t.ts);else if(this[e(488)][e(450)]()&&Si(this[e(488)][e(386)])){if(this[e(488)][e(577)][e(516)]())return;this[e(488)][e(501)].play(t[e(499)],t.ts)}}else this.player.debugWarn(this[e(355)],"onmessage playAudio but audio is null")}[Cc(578)](t){const e=Cc;this[e(641)]||this[e(488)][e(470)](V[e(454)],t)}[Cc(502)](t){const e=Cc;this[e(641)]||this[e(488)][e(470)](V.wasmWidthOrHeightChange,t)}[Cc(411)](){const t=Cc;this[t(641)]||this.player.emitError(V[t(576)])}[Cc(413)](){const t=Cc;this[t(641)]||(this[t(488)][t(439)](this[t(355)],t(354),P.workerEnd),Bi()&&(this.player[t(373)](),console[t(510)](decodeURIComponent($t)),alert(decodeURIComponent(Xt)),window[t(438)][t(399)]()))}_handleNotSupportNewWasm(t){const e=Cc;this._isDestroyed||(this[e(488)][e(439)](this[e(355)],e(354),P.notSupportNewWasm),this.player.emitError(V.notSupportNewWasm))}_handleMtStreamStats(t){const e=Cc;this._isDestroyed||(this[e(507)]=t)}[Cc(521)](){const t=Cc;this._isDestroyed||this[t(488)][t(470)](V[t(584)])}[Cc(407)](){const t=Cc,e={debug:this[t(488)][t(492)][t(422)],debugLevel:this[t(488)][t(492)][t(364)],debugUuid:this[t(488)]._opt[t(660)],useOffscreen:this[t(488)][t(492)][t(495)],useWasm:this.player._opt[t(468)],useWCS:this.player[t(492)][t(642)],useMSE:this.player[t(492)][t(670)],videoBuffer:this[t(488)][t(492)][t(631)],videoBufferDelay:this[t(488)][t(492)][t(395)],openWebglAlignment:this.player[t(492)].openWebglAlignment,playType:this.player[t(492)].playType,hasAudio:this[t(488)][t(492)][t(459)],hasVideo:this.player[t(492)][t(607)],playbackRate:1,playVodRate:1,playbackFps:this[t(488)][t(492)][t(540)][t(603)],playbackAutoCalcFps:this.player[t(492)].playbackConfig.autoCalcFps,playbackForwardMaxRateDecodeIFrame:this[t(488)][t(492)][t(363)],calcPlaybackForwardMaxRateDecodeIFrame:this.player[t(492)][t(424)],playbackIsCacheBeforeDecodeForFpsRender:this.player[t(492)][t(540)][t(431)],sampleRate:this[t(488)][t(501)]&&this[t(488)].audio[t(625)]()||Ht,audioBufferSize:this[t(488)][t(501)]&&this.player.audio[t(574)]()||1024,networkDelay:this[t(488)][t(492)][t(385)],visibility:this[t(488)][t(571)],useSIMD:this[t(488)]._opt[t(512)],useMThreading:this[t(488)][t(492)].useMThreading,isFFmpegSIMD:this[t(488)][t(492)][t(381)],recordType:this[t(488)][t(492)].recordType,checkFirstIFrame:this[t(488)][t(492)].checkFirstIFrame,isM7sCrypto:this[t(488)][t(492)][t(630)],isXorCrypto:this.player._opt[t(382)],isSm4Crypto:this[t(488)]._opt[t(612)],isSm4CryptoH265V2:this[t(488)]._opt.isSm4CryptoH265V2,sm4CryptoKey:this[t(488)][t(492)][t(661)],isCryptoAudio:this[t(488)]._opt[t(398)],isFlv:this[t(488)]._opt[t(595)],isFmp4:this[t(488)][t(492)].isFmp4,isMpeg4:this[t(488)][t(492)][t(618)],isTs:this[t(488)][t(492)].isTs,isPs:this[t(488)][t(492)].isPs,isNakedFlow:this[t(488)]._opt[t(442)],isHls265:this[t(488)][t(600)](),isEmitSEI:this[t(488)][t(492)][t(457)],isRecordTypeFlv:this[t(488)][t(567)](),isWasmMp4:this[t(488)][t(558)]&&this[t(488)][t(558)][t(517)]()||!1,isChrome:Qs(),isFirefox:cs(),supportMSEDecodeHevc:Ts(),isDropSameTimestampGop:this[t(488)][t(492)][t(573)],mseDecodeAudio:this.player[t(492)].mseDecodeAudio,wcsDecodeAudio:this[t(488)][t(492)].wcsDecodeAudio,nakedFlowH265DemuxUseNew:this[t(488)]._opt[t(527)],mseDecoderUseWorker:this[t(488)]._opt.mseDecoderUseWorker,mseAutoCleanupMinBackwardDuration:this.player[t(492)][t(668)],mseAutoCleanupMaxBackwardDuration:this[t(488)][t(492)][t(559)],mseCorrectTimeDuration:this[t(488)]._opt[t(602)],mseCorrectAudioTimeDuration:this[t(488)]._opt.mseCorrectAudioTimeDuration,nakedFlowDemuxUseNew:this.player[t(492)][t(560)],nakedFlowFps:this[t(488)][t(492)][t(375)],checkStreamEnd:this.player.isCheckStreamEnd(),websocketOpenTimeout:this.player[t(492)].websocketOpenTimeout,correctionConfigurationProfileIndication:this[t(488)][t(492)][t(471)],correctionConfigurationLevelIndication:this[t(488)][t(492)][t(648)],demuxFlvUseV2:this[t(488)][t(492)][t(649)],wasmSimdFirstFrameDecodeDelayTimeout:this[t(488)][t(492)][t(343)],delayFrameChasingPolicy:this[t(488)][t(492)][t(515)],delayFrameAccelerateDecodeMaxNum:this.player[t(492)][t(601)],isEmitTsPrivateData:this[t(488)]._opt[t(586)]};this[t(542)].postMessage({cmd:B[t(632)],opt:JSON[t(346)](e)}),this.player[t(492)][t(597)]&&this[t(488)][t(492)][t(597)][t(605)]>0&&this[t(488)]._opt[t(523)]&&this.player[t(492)][t(523)].byteLength>0&&(this.updateWorkConfig({key:t(597),value:this[t(488)][t(492)][t(597)]}),this[t(458)]({key:t(523),value:this[t(488)][t(492)][t(523)]}))}[Cc(458)](t){const e=Cc;this.demuxWorker&&this[e(542)][e(530)]({cmd:B[e(441)],key:t.key,value:t[e(404)]})}workerSendMessage(t){const e=Cc;this[e(542)].postMessage({cmd:B[e(627)],message:t})}workerFetchStream(t){const e=Cc;let s=arguments[e(529)]>1&&void 0!==arguments[1]?arguments[1]:{};const{_opt:i}=this[e(488)];let r=[];s[e(394)]&&(r=s[e(394)],delete s.protocols);const n={protocol:i[e(467)],isFlv:i[e(595)],isFmp4:i[e(384)],isMpeg4:i[e(618)],isNakedFlow:i[e(442)],isTs:i.isTs,isPs:i[e(522)],options:s};this[e(542)][e(530)]({cmd:B[e(614)],url:t,protocols:r,opt:JSON[e(346)](n)})}updatePlaybackIsPause(t){const e=Cc;this.demuxWorker.postMessage({cmd:B[e(456)],isPause:t})}}var Pc=sd;!function(t,e){for(var s=sd,i=t();;)try{if(106728===-parseInt(s(387))/1+parseInt(s(324))/2+parseInt(s(390))/3+-parseInt(s(354))/4*(-parseInt(s(371))/5)+parseInt(s(326))/6+parseInt(s(377))/7+-parseInt(s(344))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jc);var xc,Mc="application/json, text/javascript",Bc=Pc(318),Fc=/^(?:text|application)\/xml/i,Uc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Oc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Nc=/^\s*$/,jc={},Vc={},Wc="",Gc={type:Pc(396),beforeSend:zc,success:zc,error:zc,complete:zc,context:null,xhr:function(){return new(window[Pc(349)])},accepts:{json:Mc,xml:"application/xml, text/xml",html:Bc,text:Pc(356),"*":"*/".concat("*")},crossDomain:!1,timeout:0,username:null,password:null,processData:!0,promise:zc,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};function zc(){}var Hc=function(t,e){var s=Pc;typeof t===s(367)&&(e=t,t=void 0);var i=td({},e=e||{});for(var r in Gc)void 0===i[r]&&(i[r]=Gc[r]);try{var n={},o=new Promise((function(t,e){n[s(400)]=t,n.reject=e}));o.resolve=n[s(400)],o[s(358)]=n[s(358)],i[s(351)]=o}catch(t){i[s(351)]={resolve:zc,reject:zc}}var a=Oc.exec(window[s(373)][s(347)][s(378)]())||[];i[s(362)]=((t||i.url||window[s(373)][s(347)])+"").replace(/#.*$/,"").replace(/^\/\//,a[1]+"//");var h=i[s(362)];!i[s(372)]&&(i[s(372)]=/^([\w-]+:)?\/\/([^\/]+)/.test(i[s(362)])&&RegExp.$2!==window.location[s(347)]);var l=i.dataType;if(l===s(385)){if(!/=\?/[s(380)](i[s(362)])){var c=(i.jsonp||s(355))+"=?";i.url=Xc(i[s(362)],c)}return function(t){var e,s=Pc,i=t.jsonpCallback||s(385)+rd(),r=window[s(343)][s(336)](s(321)),n={abort:function(){i in window&&(window[i]=null)}},o=window[s(343)][s(316)](s(395))[0]||window[s(343)][s(340)];function a(i){var r=s;window[r(334)](e),n[r(361)](),Yc(i[r(416)],n,i.type,t),h()}function h(){var t=s;r[t(345)]?r[t(345)]():r[t(384)]=r[t(331)]=r[t(413)]=null,r[t(325)]&&r[t(325)][t(381)](r),r=null,delete window[i]}return r[s(413)]=function(t){a(t)},window[i]=function(i){window[s(334)](e),Kc(i,n,t),h()},$c(t),r.src=t[s(362)].replace(/=\?/,"="+i),r.src=Xc(r[s(382)],"_="+(new Date)[s(397)]()),r[s(398)]=!0,t[s(363)]&&(r[s(408)]=t.scriptCharset),o[s(406)](r,o.firstChild),t[s(409)]>0&&(e=window.setTimeout((function(){var e=s;n[e(361)](),Yc(e(409),n,"timeout",t),h()}),t[s(409)])),t[s(351)].abort=function(){n.abort()},t[s(351)][s(375)]=n,t[s(351)]}(i)}$c(i);var d=i[s(364)][l]||i[s(364)]["*"],u={};/^([\w-]+:)\/\//[s(380)](i.url)?RegExp.$1:window[s(373)][s(386)];var p,f=Gc[s(375)]();!i[s(372)]&&!u[s(330)]&&(u[s(330)]=s(349)),i[s(417)]&&(jc[h]&&(u["If-Modified-Since"]=jc[h]),Vc[h]&&(u[s(327)]=Vc[h])),d&&(u[s(403)]=d,d.indexOf(",")>-1&&(d=d[s(357)](",",2)[0]),f.overrideMimeType&&f[s(360)](d));var m=!/^(?:GET|HEAD)$/[s(380)](i[s(416)].toUpperCase());if((i.data&&m&&!1!==i[s(421)]||e.contentType)&&(u[s(353)]=i.contentType),!1===i[s(342)]&&!m){var g=/([?&])_=[^&]*/;i.url=g[s(380)](h)?h[s(366)](g,s(415)+rd()):h+(/\?/[s(380)](h)?"&":"?")+"_="+rd()}i[s(352)]=td(u,i[s(352)]||{}),f.onreadystatechange=function(){var t,e,r=s;if(4===f[r(405)]){clearTimeout(p);var n,o=!1;if(f.status>=200&&f.status<300||304===f.status){if(Wc=f[r(328)](),i[r(417)]){var a=Qc(r(323));a&&(jc[h]=a),(a=Qc(r(374)))&&(Vc[h]=a)}l=l||(t=f[r(399)](r(368)),e=Pc,t&&(t===Bc?e(376):t===Mc?e(418):Fc[e(380)](t)&&e(333))||"text"),n=f[r(350)];try{l===r(333)?n=f[r(379)]:l===r(418)&&(n=Nc.test(n)?null:JSON[r(337)](n))}catch(t){o=t}o?Yc(o,r(369),f,i):Kc(n,f,i)}else Yc(null,"error",f,i)}};var y=!(s(398)in i)||i[s(398)];if(f[s(407)](i[s(416)],i[s(362)],y,i[s(332)],i.password),i[s(346)])for(var A in i[s(346)])f[A]=i[s(346)][A];for(var A in i[s(393)]&&f[s(360)]&&f.overrideMimeType(i[s(393)]),i[s(352)])void 0!==i[s(352)][A]&&f[s(410)](A,i[s(352)][A]+"");return!1===function(t,e){var s=Pc,i=e.context;if(!1===e[s(420)][s(389)](i,t,e))return!1}(f,i)?(f.abort(),!1):(i.timeout>0&&(p=window[s(392)]((function(){var t=s;f[t(331)]=null,f.abort(),Yc(null,t(409),f,i)}),i[s(409)])),f[s(370)](i[s(338)]?i[s(338)]:null),i[s(351)][s(361)]=function(){f[s(361)]()},i[s(351)])};function Kc(t,e,s){var i=Pc,r=s[i(329)],n="success";s[i(320)][i(389)](r,t,n,e),s[i(351)][i(400)](t,n,e),qc(n,e,s)}function qc(t,e,s){var i=Pc,r=s[i(329)];s[i(322)][i(389)](r,e,t)}function Yc(t,e,s,i){var r=Pc,n=i[r(329)];i[r(359)][r(389)](n,s,e,t),i[r(351)][r(358)](s,e,t),qc(e,s,i)}function Qc(t){var e,s=Pc;if(!xc){for(xc={};e=Uc[s(348)](Wc);)xc[e[1].toLowerCase()]=e[2];e=xc[t[s(378)]()]}return null===e?null:e}function Jc(){var t=["success","script","complete","Last-Modified","375704XiPjeP","parentNode","146526aruudk","If-None-Match","getAllResponseHeaders","context","X-Requested-With","onreadystatechange","username","xml","clearTimeout","name","createElement","parse","data","%20","documentElement","join","cache","document","2477544kJWjep","clearAttributes","xhrFields","href","exec","XMLHttpRequest","responseText","promise","headers","Content-Type","52fQAfXQ","callback","text/plain","split","reject","error","overrideMimeType","abort","url","scriptCharset","accepts","value","replace","object","content-type","parseerror","send","57265cIkaBc","crossDomain","location","etag","xhr","html","565929XotfQd","toLowerCase","responseXML","test","removeChild","src","getJSON","onload","jsonp","protocol","91546TeKvmf","length","call","197874Dqfzba","hasOwnProperty","setTimeout","mimeType","function","head","GET","getTime","async","getResponseHeader","resolve","add","POST","Accept","processData","readyState","insertBefore","open","charset","timeout","setRequestHeader","ajaxSetup","[object Array]","onerror","push","$1_=","type","ifModified","json","post","beforeSend","contentType","getElementsByTagName","prototype","text/html","slice"];return(Jc=function(){return t})()}function Xc(t,e){return(t+"&"+e)[Pc(366)](/[&?]{1,2}/,"?")}function $c(t){var e,s,i,r,n=Pc;ed(t)&&!(t[n(338)]instanceof FormData)&&t[n(404)]&&(t[n(338)]=(e=t[n(338)],(r=[])[(i=Pc)(401)]=function(t,e){this[i(414)](encodeURIComponent(t)+"="+encodeURIComponent(e))},Zc(r,e,s),r[i(341)]("&")[i(366)](i(339),"+"))),t[n(338)]&&(!t.type||t[n(416)].toUpperCase()===n(396))&&(t[n(362)]=Xc(t[n(362)],t[n(338)]))}function Zc(t,e,s,i){var r,n,o=Pc,a=(r=e,n=Pc,Object[n(317)].toString[n(389)](r)===n(412));for(var h in e){var l=e[h];i&&(h=s?i:i+"["+(a?"":h)+"]"),!i&&a?t[o(401)](l[o(335)],l[o(365)]):(s?a(l):ed(l))?Zc(t,l,s,h):t[o(401)](h,l)}}function td(t){for(var e=Pc,s=Array[e(317)][e(319)],i=s.call(arguments,1),r=0,n=i[e(388)];r<n;r++){var o=i[r]||{};for(var a in o)o[e(391)](a)&&void 0!==o[a]&&(t[a]=o[a])}return t}function ed(t){var e=Pc,s=typeof t;return s===e(394)||s===e(367)&&!!t}function sd(t,e){var s=Jc();return(sd=function(t,e){return s[t-=316]})(t,e)}function id(t){return"function"==typeof t}function rd(){return(new Date).getTime()}Hc.get=function(t,e,s,i){return id(e)&&(i=i||s,s=e,e=void 0),Hc({url:t,data:e,success:s,dataType:i})},Hc[Pc(419)]=function(t,e,s,i){var r=Pc;return id(e)&&(i=i||s,s=e,e=void 0),Hc({type:r(402),url:t,data:e,success:s,dataType:i})},Hc[Pc(383)]=function(t,e,s){var i=Pc;return id(e)&&(s=e,e=void 0),Hc({url:t,data:e,success:s,dataType:i(418)})},Hc[Pc(411)]=function(t,e){return e?td(td(t,Gc),e):td(Gc,t)};var nd=Nd;function od(t){return parseInt(t)===t}function ad(t){var e=Nd;if(!od(t[e(270)]))return!1;for(var s=0;s<t[e(270)];s++)if(!od(t[s])||t[s]<0||t[s]>255)return!1;return!0}function hd(t,e){var s=Nd;if(t.buffer&&t.name===s(319))return e&&(t=t[s(318)]?t[s(318)]():Array[s(314)][s(318)][s(311)](t)),t;if(Array.isArray(t)){if(!ad(t))throw new Error(s(280)+t);return new Uint8Array(t)}if(od(t[s(270)])&&ad(t))return new Uint8Array(t);throw new Error(s(305))}function ld(t){return new Uint8Array(t)}function cd(t,e,s,i,r){var n=Nd;(null!=i||null!=r)&&(t=t[n(318)]?t[n(318)](i,r):Array[n(314)].slice.call(t,i,r)),e[n(325)](t,s)}!function(t,e){for(var s=Nd,i=t();;)try{if(828747===parseInt(s(303))/1+parseInt(s(273))/2+parseInt(s(302))/3*(-parseInt(s(265))/4)+parseInt(s(310))/5*(parseInt(s(313))/6)+-parseInt(s(266))/7*(-parseInt(s(295))/8)+-parseInt(s(298))/9+-parseInt(s(282))/10*(-parseInt(s(281))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jd);var dd,ud,pd={toBytes:function(t){var e=Nd,s=[],i=0;for(t=encodeURI(t);i<t[e(270)];){var r=t[e(271)](i++);37===r?(s.push(parseInt(t[e(264)](i,2),16)),i+=2):s[e(320)](r)}return hd(s)},fromBytes:function(t){for(var e=Nd,s=[],i=0;i<t[e(270)];){var r=t[i];r<128?(s[e(320)](String[e(327)](r)),i++):r>191&&r<224?(s.push(String[e(327)]((31&r)<<6|63&t[i+1])),i+=2):(s.push(String.fromCharCode((15&r)<<12|(63&t[i+1])<<6|63&t[i+2])),i+=3)}return s[e(293)]("")}},fd=(ud=(dd=Nd)(301),{toBytes:function(t){for(var e=Nd,s=[],i=0;i<t[e(270)];i+=2)s[e(320)](parseInt(t[e(264)](i,2),16));return s},fromBytes:function(t){for(var e=dd,s=[],i=0;i<t[e(270)];i++){var r=t[i];s[e(320)](ud[(240&r)>>4]+ud[15&r])}return s[e(293)]("")}}),md={16:10,24:12,32:14},gd=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],yd=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ad=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],vd=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],bd=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Sd=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Ed=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],wd=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Td=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Id=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],kd=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],_d=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Cd=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Dd=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],Rd=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Ld(t){for(var e=Nd,s=[],i=0;i<t[e(270)];i+=4)s[e(320)](t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]);return s}var Pd=function(t){var e=Nd;if(!(this instanceof Pd))throw Error(e(287));Object[e(296)](this,e(304),{value:hd(t,!0)}),this[e(322)]()};Pd.prototype[nd(322)]=function(){var t=nd,e=md[this[t(304)].length];if(null==e)throw new Error(t(263));this[t(309)]=[],this[t(278)]=[];for(var s=0;s<=e;s++)this._Ke[t(320)]([0,0,0,0]),this._Kd.push([0,0,0,0]);var i,r=4*(e+1),n=this.key[t(270)]/4,o=Ld(this[t(304)]);for(s=0;s<n;s++)i=s>>2,this[t(309)][i][s%4]=o[s],this[t(278)][e-i][s%4]=o[s];for(var a,h=0,l=n;l<r;){if(a=o[n-1],o[0]^=yd[a>>16&255]<<24^yd[a>>8&255]<<16^yd[255&a]<<8^yd[a>>24&255]^gd[h]<<24,h+=1,8!=n)for(s=1;s<n;s++)o[s]^=o[s-1];else{for(s=1;s<n/2;s++)o[s]^=o[s-1];a=o[n/2-1],o[n/2]^=yd[255&a]^yd[a>>8&255]<<8^yd[a>>16&255]<<16^yd[a>>24&255]<<24;for(s=n/2+1;s<n;s++)o[s]^=o[s-1]}for(s=0;s<n&&l<r;)c=l>>2,d=l%4,this[t(309)][c][d]=o[s],this[t(278)][e-c][d]=o[s++],l++}for(var c=1;c<e;c++)for(var d=0;d<4;d++)a=this._Kd[c][d],this[t(278)][c][d]=_d[a>>24&255]^Cd[a>>16&255]^Dd[a>>8&255]^Rd[255&a]},Pd[nd(314)][nd(316)]=function(t){var e=nd;if(16!=t[e(270)])throw new Error(e(288));for(var s=this[e(309)].length-1,i=[0,0,0,0],r=Ld(t),n=0;n<4;n++)r[n]^=this._Ke[0][n];for(var o=1;o<s;o++){for(n=0;n<4;n++)i[n]=vd[r[n]>>24&255]^bd[r[(n+1)%4]>>16&255]^Sd[r[(n+2)%4]>>8&255]^Ed[255&r[(n+3)%4]]^this[e(309)][o][n];r=i[e(318)]()}var a,h=ld(16);for(n=0;n<4;n++)a=this[e(309)][s][n],h[4*n]=255&(yd[r[n]>>24&255]^a>>24),h[4*n+1]=255&(yd[r[(n+1)%4]>>16&255]^a>>16),h[4*n+2]=255&(yd[r[(n+2)%4]>>8&255]^a>>8),h[4*n+3]=255&(yd[255&r[(n+3)%4]]^a);return h},Pd[nd(314)].decrypt=function(t){var e=nd;if(16!=t.length)throw new Error(e(307));for(var s=this[e(278)][e(270)]-1,i=[0,0,0,0],r=Ld(t),n=0;n<4;n++)r[n]^=this[e(278)][0][n];for(var o=1;o<s;o++){for(n=0;n<4;n++)i[n]=wd[r[n]>>24&255]^Td[r[(n+3)%4]>>16&255]^Id[r[(n+2)%4]>>8&255]^kd[255&r[(n+1)%4]]^this[e(278)][o][n];r=i[e(318)]()}var a,h=ld(16);for(n=0;n<4;n++)a=this[e(278)][s][n],h[4*n]=255&(Ad[r[n]>>24&255]^a>>24),h[4*n+1]=255&(Ad[r[(n+3)%4]>>16&255]^a>>16),h[4*n+2]=255&(Ad[r[(n+2)%4]>>8&255]^a>>8),h[4*n+3]=255&(Ad[255&r[(n+1)%4]]^a);return h};var xd=function(t){var e=nd;if(!(this instanceof xd))throw Error("AES must be instanitated with `new`");this[e(277)]=e(291),this.name=e(328),this[e(284)]=new Pd(t)};xd[nd(314)][nd(316)]=function(t){var e=nd;if((t=hd(t))[e(270)]%16!=0)throw new Error(e(317));for(var s=ld(t.length),i=ld(16),r=0;r<t[e(270)];r+=16)cd(t,i,0,r,r+16),cd(i=this._aes[e(316)](i),s,r);return s},xd.prototype[nd(308)]=function(t){var e=nd;if((t=hd(t)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var s=ld(t[e(270)]),i=ld(16),r=0;r<t[e(270)];r+=16)cd(t,i,0,r,r+16),cd(i=this[e(284)][e(308)](i),s,r);return s};var Md=function(t,e){var s=nd;if(!(this instanceof Md))throw Error(s(287));if(this.description=s(326),this[s(283)]=s(290),e){if(16!=e[s(270)])throw new Error("invalid initialation vector size (must be 16 bytes)")}else e=ld(16);this[s(297)]=hd(e,!0),this[s(284)]=new Pd(t)};Md[nd(314)].encrypt=function(t){var e=nd;if((t=hd(t)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var s=ld(t[e(270)]),i=ld(16),r=0;r<t.length;r+=16){cd(t,i,0,r,r+16);for(var n=0;n<16;n++)i[n]^=this._lastCipherblock[n];this._lastCipherblock=this[e(284)][e(316)](i),cd(this[e(297)],s,r)}return s},Md[nd(314)][nd(308)]=function(t){var e=nd;if((t=hd(t))[e(270)]%16!=0)throw new Error(e(269));for(var s=ld(t.length),i=ld(16),r=0;r<t[e(270)];r+=16){cd(t,i,0,r,r+16),i=this[e(284)].decrypt(i);for(var n=0;n<16;n++)s[r+n]=i[n]^this._lastCipherblock[n];cd(t,this[e(297)],0,r,r+16)}return s};var Bd=function(t,e,s){var i=nd;if(!(this instanceof Bd))throw Error("AES must be instanitated with `new`");if(this.description=i(324),this[i(283)]="cfb",e){if(16!=e[i(270)])throw new Error(i(272))}else e=ld(16);!s&&(s=1),this[i(286)]=s,this._shiftRegister=hd(e,!0),this[i(284)]=new Pd(t)};Bd[nd(314)][nd(316)]=function(t){var e=nd;if(t[e(270)]%this[e(286)]!=0)throw new Error(e(306));for(var s,i=hd(t,!0),r=0;r<i[e(270)];r+=this[e(286)]){s=this._aes[e(316)](this[e(321)]);for(var n=0;n<this.segmentSize;n++)i[r+n]^=s[n];cd(this[e(321)],this[e(321)],0,this[e(286)]),cd(i,this[e(321)],16-this[e(286)],r,r+this.segmentSize)}return i},Bd[nd(314)].decrypt=function(t){var e=nd;if(t.length%this.segmentSize!=0)throw new Error(e(323));for(var s,i=hd(t,!0),r=0;r<i[e(270)];r+=this[e(286)]){s=this._aes[e(316)](this._shiftRegister);for(var n=0;n<this.segmentSize;n++)i[r+n]^=s[n];cd(this[e(321)],this[e(321)],0,this[e(286)]),cd(t,this[e(321)],16-this[e(286)],r,r+this[e(286)])}return i};var Fd=function(t,e){var s=nd;if(!(this instanceof Fd))throw Error(s(287));if(this[s(277)]=s(268),this.name=s(299),e){if(16!=e[s(270)])throw new Error(s(329))}else e=ld(16);this[s(331)]=hd(e,!0),this[s(274)]=16,this._aes=new Pd(t)};Fd.prototype[nd(316)]=function(t){for(var e=nd,s=hd(t,!0),i=0;i<s.length;i++)16===this[e(274)]&&(this[e(331)]=this._aes[e(316)](this[e(331)]),this[e(274)]=0),s[i]^=this._lastPrecipher[this[e(274)]++];return s},Fd[nd(314)][nd(308)]=Fd[nd(314)][nd(316)];var Ud=function(t){var e=nd;if(!(this instanceof Ud))throw Error("Counter must be instanitated with `new`");0!==t&&!t&&(t=1),typeof t===e(312)?(this[e(330)]=ld(16),this.setValue(t)):this[e(294)](t)};Ud.prototype.setValue=function(t){var e=nd;if("number"!=typeof t||parseInt(t)!=t)throw new Error(e(292));if(t>Number[e(289)])throw new Error(e(300));for(var s=15;s>=0;--s)this[e(330)][s]=t%256,t=parseInt(t/256)},Ud.prototype[nd(294)]=function(t){var e=nd;if(16!=(t=hd(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this[e(330)]=t},Ud[nd(314)][nd(315)]=function(){for(var t=nd,e=15;e>=0;e--){if(255!==this[t(330)][e]){this[t(330)][e]++;break}this[t(330)][e]=0}};var Od=function(t,e){var s=nd;if(!(this instanceof Od))throw Error(s(287));this[s(277)]=s(279),this[s(283)]=s(267),!(e instanceof Ud)&&(e=new Ud(e)),this[s(330)]=e,this[s(285)]=null,this[s(276)]=16,this[s(284)]=new Pd(t)};function Nd(t,e){var s=jd();return(Nd=function(t,e){return s[t-=263]})(t,e)}function jd(){var t=["_Ke","45SugGoo","call","number","360174BoQpZq","prototype","increment","encrypt","invalid plaintext size (must be multiple of 16 bytes)","slice","Uint8Array","push","_shiftRegister","_prepare","invalid ciphertext size (must be segmentSize bytes)","Cipher Feedback","set","Cipher Block Chaining","fromCharCode","ecb","invalid initialation vector size (must be 16 bytes)","_counter","_lastPrecipher","invalid key size (must be 16, 24 or 32 bytes)","substr","78092TZKncV","2058742ECdNnc","ctr","Output Feedback","invalid ciphertext size (must be multiple of 16 bytes)","length","charCodeAt","invalid initialation vector size (must be 16 size)","370304owKqbj","_lastPrecipherIndex","PKCS#7 padding byte out of range","_remainingCounterIndex","description","_Kd","Counter","Array contains invalid value: ","1441NTGtWk","125810xZheEO","name","_aes","_remainingCounter","segmentSize","AES must be instanitated with `new`","invalid plaintext size (must be 16 bytes)","MAX_SAFE_INTEGER","cbc","Electronic Code Block","invalid counter value (must be an integer)","join","setBytes","8bEnOef","defineProperty","_lastCipherblock","14046507Vcqmcz","ofb","integer value out of safe range","0123456789abcdef","192mUQfBe","971312lLqDRE","key","unsupported array-like object","invalid plaintext size (must be segmentSize bytes)","invalid ciphertext size (must be 16 bytes)","decrypt"];return(jd=function(){return t})()}Od[nd(314)].encrypt=function(t){for(var e=nd,s=hd(t,!0),i=0;i<s[e(270)];i++)16===this[e(276)]&&(this[e(285)]=this[e(284)][e(316)](this[e(330)][e(330)]),this[e(276)]=0,this[e(330)].increment()),s[i]^=this[e(285)][this[e(276)]++];return s},Od[nd(314)][nd(308)]=Od[nd(314)][nd(316)];const Vd={AES:Pd,Counter:Ud,ModeOfOperation:{ecb:xd,cbc:Md,cfb:Bd,ofb:Fd,ctr:Od},utils:{hex:fd,utf8:pd},padding:{pkcs7:{pad:function(t){var e=nd,s=16-(t=hd(t,!0))[e(270)]%16,i=ld(t[e(270)]+s);cd(t,i);for(var r=t.length;r<i.length;r++)i[r]=s;return i},strip:function(t){var e=nd;if((t=hd(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var s=t[t[e(270)]-1];if(s>16)throw new Error(e(275));for(var i=t[e(270)]-s,r=0;r<s;r++)if(t[i+r]!==s)throw new Error("PKCS#7 invalid padding byte");var n=ld(i);return cd(t,n,0,0,i),n}}},_arrayTest:{coerceArray:hd,createArray:ld,copyArray:cd}};var Wd=Hd;!function(t,e){for(var s=Hd,i=t();;)try{if(357566===parseInt(s(346))/1*(-parseInt(s(336))/2)+-parseInt(s(297))/3+parseInt(s(317))/4+parseInt(s(350))/5*(parseInt(s(328))/6)+-parseInt(s(314))/7+parseInt(s(311))/8+parseInt(s(349))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zd);var Gd=ne[Wd(363)]((function(t,e){var s,i,n;s=ne[Wd(316)],i=function(){var t=t||function(t,e){var s,i=Hd;if("undefined"!=typeof window&&window[i(320)]&&(s=window[i(320)]),typeof self!==i(319)&&self[i(320)]&&(s=self[i(320)]),"undefined"!=typeof globalThis&&globalThis[i(320)]&&(s=globalThis[i(320)]),!s&&typeof window!==i(319)&&window[i(353)]&&(s=window[i(353)]),!s&&typeof ne[i(316)]!==i(319)&&se[i(320)]&&(s=ne[i(316)][i(320)]),!s&&typeof ne[i(298)]===i(326))try{s=r.default}catch(t){}var n=function(){var t=i;if(s){if("function"==typeof s[t(339)])try{return s.getRandomValues(new Uint32Array(1))[0]}catch(t){}if(typeof s[t(321)]===t(326))try{return s[t(321)](4).readInt32LE()}catch(t){}}throw new Error(t(307))},o=Object[i(315)]||function(){function t(){}return function(e){var s,i=Hd;return t.prototype=e,s=new t,t[i(304)]=null,s}}(),a={},h=a[i(325)]={},l=h[i(330)]={extend:function(t){var e=Hd,s=o(this);return t&&s[e(327)](t),(!s[e(354)]("init")||this[e(333)]===s[e(333)])&&(s.init=function(){var t=e;s[t(341)][t(333)].apply(this,arguments)}),s[e(333)][e(304)]=s,s[e(341)]=this,s},create:function(){var t=Hd,e=this[t(364)]();return e[t(333)][t(308)](e,arguments),e},init:function(){},mixIn:function(t){var e=Hd;for(var s in t)t[e(354)](s)&&(this[s]=t[s]);t[e(354)](e(301))&&(this[e(301)]=t.toString)},clone:function(){var t=Hd;return this.init[t(304)][t(364)](this)}},c=h[i(355)]=l[i(364)]({init:function(t,e){var s=i;t=this.words=t||[],this[s(335)]=null!=e?e:4*t[s(358)]},toString:function(t){return(t||u)[i(306)](this)},concat:function(t){var e=i,s=this[e(309)],r=t.words,n=this[e(335)],o=t[e(335)];if(this[e(342)](),n%4)for(var a=0;a<o;a++){var h=r[a>>>2]>>>24-a%4*8&255;s[n+a>>>2]|=h<<24-(n+a)%4*8}else for(var l=0;l<o;l+=4)s[n+l>>>2]=r[l>>>2];return this.sigBytes+=o,this},clamp:function(){var e=i,s=this[e(309)],r=this[e(335)];s[r>>>2]&=4294967295<<32-r%4*8,s.length=t[e(356)](r/4)},clone:function(){var t=i,e=l[t(357)][t(340)](this);return e[t(309)]=this[t(309)][t(299)](0),e},random:function(t){for(var e=i,s=[],r=0;r<t;r+=4)s[e(361)](n());return new(c[e(333)])(s,t)}}),d=a[i(345)]={},u=d[i(343)]={stringify:function(t){for(var e=i,s=t[e(309)],r=t[e(335)],n=[],o=0;o<r;o++){var a=s[o>>>2]>>>24-o%4*8&255;n[e(361)]((a>>>4)[e(301)](16)),n[e(361)]((15&a)[e(301)](16))}return n.join("")},parse:function(t){for(var e=i,s=t[e(358)],r=[],n=0;n<s;n+=2)r[n>>>3]|=parseInt(t[e(347)](n,2),16)<<24-n%8*4;return new(c[e(333)])(r,s/2)}},p=d.Latin1={stringify:function(t){for(var e=i,s=t[e(309)],r=t[e(335)],n=[],o=0;o<r;o++){var a=s[o>>>2]>>>24-o%4*8&255;n[e(361)](String[e(348)](a))}return n[e(310)]("")},parse:function(t){for(var e=i,s=t[e(358)],r=[],n=0;n<s;n++)r[n>>>2]|=(255&t[e(337)](n))<<24-n%4*8;return new c.init(r,s)}},f=d[i(365)]={stringify:function(t){var e=i;try{return decodeURIComponent(escape(p[e(306)](t)))}catch(t){throw new Error(e(360))}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},m=h[i(296)]=l.extend({reset:function(){var t=i;this._data=new(c[t(333)]),this[t(305)]=0},_append:function(t){var e=i;typeof t==e(344)&&(t=f[e(318)](t)),this[e(323)][e(300)](t),this[e(305)]+=t[e(335)]},_process:function(e){var s,r=i,n=this[r(323)],o=n.words,a=n.sigBytes,h=this[r(322)],l=a/(4*h),d=(l=e?t[r(356)](l):t.max((0|l)-this._minBufferSize,0))*h,u=t.min(4*d,a);if(d){for(var p=0;p<d;p+=h)this[r(324)](o,p);s=o[r(303)](0,d),n[r(335)]-=u}return new(c[r(333)])(s,u)},clone:function(){var t=i,e=l[t(357)][t(340)](this);return e[t(323)]=this[t(323)][t(357)](),e},_minBufferSize:0});h[i(331)]=m[i(364)]({cfg:l.extend(),init:function(t){var e=i;this[e(313)]=this.cfg.extend(t),this[e(312)]()},reset:function(){var t=i;m[t(312)][t(340)](this),this[t(332)]()},update:function(t){var e=i;return this._append(t),this[e(329)](),this},finalize:function(t){var e=i;return t&&this[e(362)](t),this[e(352)]()},blockSize:16,_createHelper:function(t){return function(e,s){var i=Hd;return new t.init(s)[i(351)](e)}},_createHmacHelper:function(t){return function(e,s){var i=Hd;return new(g[i(359)][i(333)])(t,s)[i(351)](e)}}});var g=a.algo={};return a}(Math);return t},"object"===(n=Hd)(338)?t.exports=i():"undefined"===n(326)&&(void 0)[n(334)]?(void 0)([],i):s[n(302)]=i()}));function zd(){var t=["slice","concat","toString","CryptoJS","splice","prototype","_nDataBytes","stringify","Native crypto module could not be used to get secure random number.","apply","words","join","1001400AxcFEC","reset","cfg","4777920xurCBk","create","commonjsGlobal","753932oqnrwW","parse","undefined","crypto","randomBytes","blockSize","_data","_doProcessBlock","lib","function","mixIn","12JSoueM","_process","Base","Hasher","_doReset","init","amd","sigBytes","2bLFJfw","charCodeAt","object","getRandomValues","call","$super","clamp","Hex","string","enc","164729mcpMkw","substr","fromCharCode","13275729eITGFu","23770gffNPo","finalize","_doFinalize","msCrypto","hasOwnProperty","WordArray","ceil","clone","length","HMAC","Malformed UTF-8 data","push","_append","createCommonjsModule","extend","Utf8","BufferedBlockAlgorithm","1780176qIjMWN","commonjsRequire"];return(zd=function(){return t})()}function Hd(t,e){var s=zd();return(Hd=function(t,e){return s[t-=296]})(t,e)}var Kd=qd;function qd(t,e){var s=Yd();return(qd=function(t,e){return s[t-=437]})(t,e)}function Yd(){var t=["80OXSxDJ","clone","3219292CcPRRL","x64","words","createCommonjsModule","143XXzGaM","Word","594157VprtxR","push","extend","low","create","./core","1704ahOEJz","3eGUdBb","sigBytes","slice","682792qHsBdB","WordArray","CryptoJS","838476ahWFRL","1960908GdNSAX","commonjsGlobal","high","Base","7sllkIR","2855886KqhBkp","object","lib","17525uBACjk","call","length","exports"];return(Yd=function(){return t})()}!function(t,e){for(var s=qd,i=t();;)try{if(922340===parseInt(s(467))/1+parseInt(s(461))/2*(-parseInt(s(440))/3)+parseInt(s(439))/4*(-parseInt(s(455))/5)+-parseInt(s(452))/6*(-parseInt(s(451))/7)+parseInt(s(443))/8+parseInt(s(446))/9*(parseInt(s(459))/10)+parseInt(s(465))/11*(parseInt(s(447))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Yd);ne[Kd(464)]((function(t,e){var s,i,r;s=ne[Kd(448)],i=function(t){return i=(s=t)[(e=qd)(454)],r=i[e(450)],n=i[e(444)],(o=s[e(462)]={})[e(466)]=r[e(469)]({init:function(t,s){var i=e;this.high=t,this[i(470)]=s}}),o[e(444)]=r[e(469)]({init:function(t,s){var i=e;t=this[i(463)]=t||[],null!=s?this.sigBytes=s:this[i(441)]=8*t.length},toX32:function(){for(var t=e,s=this[t(463)],i=s[t(457)],r=[],o=0;o<i;o++){var a=s[o];r[t(468)](a[t(449)]),r[t(468)](a[t(470)])}return n[t(437)](r,this[t(441)])},clone:function(){for(var t=e,s=r.clone[t(456)](this),i=s[t(463)]=this[t(463)][t(442)](0),n=i[t(457)],o=0;o<n;o++)i[o]=i[o][t(460)]();return s}}),t;var e,s,i,r,n,o},(r=qd)(453)==r(453)?t[r(458)]=i(Gd):i(s[r(445)])}));var Qd=Xd;function Jd(){var t=["CryptoJS","1219100zNIUuM","createCommonjsModule","prototype","function","4767497nmsDZQ","./core","15594YRrTfZ","byteOffset","buffer","amd","lib","172hqySBV","WordArray","1029351kjrOJp","8eLEXqu","exports","call","2751672XLDpnr","14042889mUmulR","5765384PUDnhD","object","init","byteLength"];return(Jd=function(){return t})()}function Xd(t,e){var s=Jd();return(Xd=function(t,e){return s[t-=328]})(t,e)}!function(t,e){for(var s=Xd,i=t();;)try{if(539434===-parseInt(s(341))/1+parseInt(s(339))/2*(-parseInt(s(334))/3)+parseInt(s(342))/4*(-parseInt(s(328))/5)+-parseInt(s(345))/6+parseInt(s(332))/7+parseInt(s(347))/8+parseInt(s(346))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Jd);ne[Qd(329)]((function(t,e){var s,i,r;s=se,i=function(t){var e=Xd;return function(){var e=Xd;if(typeof ArrayBuffer==e(331)){var s=t[e(338)][e(340)],i=s.init,r=s[e(349)]=function(t){var s=e;if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t[s(336)],t[s(335)],t[s(350)])),t instanceof Uint8Array){for(var r=t[s(350)],n=[],o=0;o<r;o++)n[o>>>2]|=t[o]<<24-o%4*8;i[s(344)](this,n,r)}else i.apply(this,arguments)};r[e(330)]=s}}(),t[e(338)].WordArray},(r=Xd)(348)==r(348)?t[r(343)]=i(Gd):"undefined"===r(331)&&(void 0)[r(337)]?(void 0)([r(333)],i):i(s[r(351)])}));var $d=Zd;function Zd(t,e){var s=tu();return(Zd=function(t,e){return s[t-=479]})(t,e)}function tu(){var t=["343ievWIL","lib","push","commonjsGlobal","1892910dYwYoo","sigBytes","object","join","156296tZtztE","fromCharCode","./core","words","enc","4fLdyQl","64740NUJNhU","396ULGmgk","create","6838745rYhdus","2117256mrcJJu","Utf16","2025674SyuTgZ","Utf16BE","amd","length","83402uzchxQ","function","exports","CryptoJS","createCommonjsModule"];return(tu=function(){return t})()}!function(t,e){for(var s=Zd,i=t();;)try{if(787094===parseInt(s(507))/1+-parseInt(s(503))/2+parseInt(s(501))/3+-parseInt(s(496))/4*(-parseInt(s(500))/5)+parseInt(s(487))/6+-parseInt(s(483))/7*(parseInt(s(491))/8)+parseInt(s(498))/9*(parseInt(s(497))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tu);ne[$d(482)]((function(t,e){var s,i,r,n=$d;s=ne[n(486)],i=function(t){var e=n;return function(){var e=Zd,s=t,i=s[e(484)].WordArray,r=s[e(495)];function n(t){return t<<8&4278255360|t>>>8&16711935}r[e(502)]=r[e(504)]={stringify:function(t){for(var s=e,i=t[s(494)],r=t[s(488)],n=[],o=0;o<r;o+=2){var a=i[o>>>2]>>>16-o%4*8&65535;n[s(485)](String[s(492)](a))}return n.join("")},parse:function(t){for(var s=e,r=t[s(506)],n=[],o=0;o<r;o++)n[o>>>1]|=t.charCodeAt(o)<<16-o%2*16;return i[s(499)](n,2*r)}},r.Utf16LE={stringify:function(t){for(var s=e,i=t[s(494)],r=t[s(488)],o=[],a=0;a<r;a+=2){var h=n(i[a>>>2]>>>16-a%4*8&65535);o[s(485)](String.fromCharCode(h))}return o[s(490)]("")},parse:function(t){for(var s=e,r=t.length,o=[],a=0;a<r;a++)o[a>>>1]|=n(t.charCodeAt(a)<<16-a%2*16);return i[s(499)](o,2*r)}}}(),t[e(495)][e(502)]},(r=Zd)(489)==r(489)?t[r(480)]=i(Gd):"undefined"===r(479)&&(void 0)[r(505)]?(void 0)([r(493)],i):i(s[r(481)])}));function eu(t,e){var s=iu();return(eu=function(t,e){return s[t-=184]})(t,e)}var su=eu;function iu(){var t=["2BEOHXO","_reverseMap","join","Base64","amd","./core","object","_map","8469JylPIi","enc","indexOf","701832laTAId","WordArray","create","exports","128530FAxthZ","commonjsGlobal","clamp","57064iuCzDz","length","5cVvbuK","143PPxxjY","838033rmfKsQ","860400hlahEB","16iaOywq","1024728hiQTVh","charCodeAt","CryptoJS","charAt","createCommonjsModule"];return(iu=function(){return t})()}!function(t,e){for(var s=eu,i=t();;)try{if(178056===-parseInt(s(209))/1+parseInt(s(191))/2*(parseInt(s(202))/3)+-parseInt(s(184))/4+-parseInt(s(211))/5*(-parseInt(s(186))/6)+-parseInt(s(213))/7+-parseInt(s(185))/8*(parseInt(s(199))/9)+parseInt(s(206))/10*(parseInt(s(212))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(iu);ne[su(190)]((function(t,e){var s,i,r,n=su;s=ne[n(207)],i=function(t){var e,s,i,r=n;return e=eu,i=(s=t).lib[e(203)],s[e(200)][e(194)]={stringify:function(t){var s=e,i=t.words,r=t.sigBytes,n=this[s(198)];t[s(208)]();for(var o=[],a=0;a<r;a+=3)for(var h=(i[a>>>2]>>>24-a%4*8&255)<<16|(i[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|i[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)o.push(n[s(189)](h>>>6*(3-l)&63));var c=n.charAt(64);if(c)for(;o[s(210)]%4;)o.push(c);return o[s(193)]("")},parse:function(t){var s=e,r=t[s(210)],n=this._map,o=this._reverseMap;if(!o){o=this[s(192)]=[];for(var a=0;a<n[s(210)];a++)o[n.charCodeAt(a)]=a}var h=n.charAt(64);if(h){var l=t[s(201)](h);-1!==l&&(r=l)}return function(t,s,r){for(var n=e,o=[],a=0,h=0;h<s;h++)if(h%4){var l=r[t.charCodeAt(h-1)]<<h%4*2|r[t[n(187)](h)]>>>6-h%4*2;o[a>>>2]|=l<<24-a%4*8,a++}return i[n(204)](o,a)}(t,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t[r(200)][r(194)]},(r=eu)(197)==r(197)?t[r(205)]=i(Gd):i(s[r(188)])}));var ru=ou;function nu(){var t=["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_","create","_safe_map","charCodeAt","_map","clamp","899333dGoJMg","charAt","20HyMWdb","385ZroXWU","amd","CryptoJS","push","78120tlvssC","function","15138145rqdJtI","object","14682eYsPCG","join","6rcvabG","words","exports","WordArray","createCommonjsModule","./core","commonjsGlobal","855122gVhOQB","sigBytes","4006720JKFFsi","enc","8GfkdHz","indexOf","4621029Yqlmjj","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","_reverseMap","length"];return(nu=function(){return t})()}!function(t,e){for(var s=ou,i=t();;)try{if(500902===parseInt(s(197))/1+-parseInt(s(217))/2*(parseInt(s(210))/3)+parseInt(s(183))/4+parseInt(s(200))/5*(parseInt(s(208))/6)+-parseInt(s(187))/7*(-parseInt(s(185))/8)+parseInt(s(204))/9*(-parseInt(s(199))/10)+-parseInt(s(206))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nu);ne[ru(214)]((function(t,e){var s,i,r,n=ru;s=ne[n(216)],i=function(t){var e,s,i,r=n;return e=ou,i=(s=t).lib[e(213)],s[e(184)].Base64url={stringify:function(t,s){var i=e;void 0===s&&(s=!0);var r=t[i(211)],n=t[i(182)],o=s?this[i(193)]:this[i(195)];t[i(196)]();for(var a=[],h=0;h<n;h+=3)for(var l=(r[h>>>2]>>>24-h%4*8&255)<<16|(r[h+1>>>2]>>>24-(h+1)%4*8&255)<<8|r[h+2>>>2]>>>24-(h+2)%4*8&255,c=0;c<4&&h+.75*c<n;c++)a[i(203)](o[i(198)](l>>>6*(3-c)&63));var d=o.charAt(64);if(d)for(;a[i(190)]%4;)a[i(203)](d);return a[i(209)]("")},parse:function(t,s){var r=e;void 0===s&&(s=!0);var n=t[r(190)],o=s?this[r(193)]:this[r(195)],a=this[r(189)];if(!a){a=this[r(189)]=[];for(var h=0;h<o[r(190)];h++)a[o[r(194)](h)]=h}var l=o.charAt(64);if(l){var c=t[r(186)](l);-1!==c&&(n=c)}return function(t,s,r){for(var n=e,o=[],a=0,h=0;h<s;h++)if(h%4){var l=r[t[n(194)](h-1)]<<h%4*2|r[t[n(194)](h)]>>>6-h%4*2;o[a>>>2]|=l<<24-a%4*8,a++}return i[n(192)](o,a)}(t,n,a)},_map:e(188),_safe_map:e(191)},t[r(184)].Base64url},"object"===(r=ou)(207)?t[r(212)]=i(Gd):"undefined"===r(205)&&(void 0)[r(201)]?(void 0)([r(215)],i):i(s[r(202)])}));function ou(t,e){var s=nu();return(ou=function(t,e){return s[t-=182]})(t,e)}var au=hu;function hu(t,e){var s=lu();return(hu=function(t,e){return s[t-=169]})(t,e)}function lu(){var t=["MD5","25JfLlcL","WordArray","_createHelper","createCommonjsModule","floor","_hash","448960cwIsgz","_nDataBytes","object","call","clone","extend","CryptoJS","28918ZALZtf","1187148AEdEJU","lib","277380ghvsWx","_data","exports","7JbrHtJ","sigBytes","sin","abs","amd","2449791fnvSKG","113867dBmOke","69kRmRym","init","245252OcqIRt","44YKERQL","length","./core"];return(lu=function(){return t})()}!function(t,e){for(var s=hu,i=t();;)try{if(222270===-parseInt(s(197))/1+parseInt(s(185))/2*(parseInt(s(198))/3)+-parseInt(s(200))/4*(-parseInt(s(172))/5)+parseInt(s(186))/6*(-parseInt(s(191))/7)+parseInt(s(178))/8+-parseInt(s(196))/9+-parseInt(s(188))/10*(-parseInt(s(201))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(lu);ne[au(175)]((function(t,e){var s,i,r;s=se,i=function(t){return function(e){var s=hu,i=t,r=i[s(187)],n=r[s(173)],o=r.Hasher,a=i.algo,h=[];!function(){for(var t=s,i=0;i<64;i++)h[i]=4294967296*e[t(194)](e[t(193)](i+1))|0}();var l=a[s(171)]=o[s(183)]({_doReset:function(){var t=s;this[t(177)]=new(n[t(199)])([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;s<16;s++){var i=e+s,r=t[i];t[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var n=this._hash.words,o=t[e+0],a=t[e+1],l=t[e+2],f=t[e+3],m=t[e+4],g=t[e+5],y=t[e+6],A=t[e+7],v=t[e+8],b=t[e+9],S=t[e+10],E=t[e+11],w=t[e+12],T=t[e+13],I=t[e+14],k=t[e+15],_=n[0],C=n[1],D=n[2],R=n[3];_=c(_,C,D,R,o,7,h[0]),R=c(R,_,C,D,a,12,h[1]),D=c(D,R,_,C,l,17,h[2]),C=c(C,D,R,_,f,22,h[3]),_=c(_,C,D,R,m,7,h[4]),R=c(R,_,C,D,g,12,h[5]),D=c(D,R,_,C,y,17,h[6]),C=c(C,D,R,_,A,22,h[7]),_=c(_,C,D,R,v,7,h[8]),R=c(R,_,C,D,b,12,h[9]),D=c(D,R,_,C,S,17,h[10]),C=c(C,D,R,_,E,22,h[11]),_=c(_,C,D,R,w,7,h[12]),R=c(R,_,C,D,T,12,h[13]),D=c(D,R,_,C,I,17,h[14]),_=d(_,C=c(C,D,R,_,k,22,h[15]),D,R,a,5,h[16]),R=d(R,_,C,D,y,9,h[17]),D=d(D,R,_,C,E,14,h[18]),C=d(C,D,R,_,o,20,h[19]),_=d(_,C,D,R,g,5,h[20]),R=d(R,_,C,D,S,9,h[21]),D=d(D,R,_,C,k,14,h[22]),C=d(C,D,R,_,m,20,h[23]),_=d(_,C,D,R,b,5,h[24]),R=d(R,_,C,D,I,9,h[25]),D=d(D,R,_,C,f,14,h[26]),C=d(C,D,R,_,v,20,h[27]),_=d(_,C,D,R,T,5,h[28]),R=d(R,_,C,D,l,9,h[29]),D=d(D,R,_,C,A,14,h[30]),_=u(_,C=d(C,D,R,_,w,20,h[31]),D,R,g,4,h[32]),R=u(R,_,C,D,v,11,h[33]),D=u(D,R,_,C,E,16,h[34]),C=u(C,D,R,_,I,23,h[35]),_=u(_,C,D,R,a,4,h[36]),R=u(R,_,C,D,m,11,h[37]),D=u(D,R,_,C,A,16,h[38]),C=u(C,D,R,_,S,23,h[39]),_=u(_,C,D,R,T,4,h[40]),R=u(R,_,C,D,o,11,h[41]),D=u(D,R,_,C,f,16,h[42]),C=u(C,D,R,_,y,23,h[43]),_=u(_,C,D,R,b,4,h[44]),R=u(R,_,C,D,w,11,h[45]),D=u(D,R,_,C,k,16,h[46]),_=p(_,C=u(C,D,R,_,l,23,h[47]),D,R,o,6,h[48]),R=p(R,_,C,D,A,10,h[49]),D=p(D,R,_,C,I,15,h[50]),C=p(C,D,R,_,g,21,h[51]),_=p(_,C,D,R,w,6,h[52]),R=p(R,_,C,D,f,10,h[53]),D=p(D,R,_,C,S,15,h[54]),C=p(C,D,R,_,a,21,h[55]),_=p(_,C,D,R,v,6,h[56]),R=p(R,_,C,D,k,10,h[57]),D=p(D,R,_,C,y,15,h[58]),C=p(C,D,R,_,T,21,h[59]),_=p(_,C,D,R,m,6,h[60]),R=p(R,_,C,D,E,10,h[61]),D=p(D,R,_,C,l,15,h[62]),C=p(C,D,R,_,b,21,h[63]),n[0]=n[0]+_|0,n[1]=n[1]+C|0,n[2]=n[2]+D|0,n[3]=n[3]+R|0},_doFinalize:function(){var t=s,i=this[t(189)],r=i.words,n=8*this[t(179)],o=8*i[t(192)];r[o>>>5]|=128<<24-o%32;var a=e[t(176)](n/4294967296),h=n;r[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),r[14+(o+64>>>9<<4)]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),i[t(192)]=4*(r[t(169)]+1),this._process();for(var l=this[t(177)],c=l.words,d=0;d<4;d++){var u=c[d];c[d]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return l},clone:function(){var t=s,e=o.clone[t(181)](this);return e[t(177)]=this._hash[t(182)](),e}});function c(t,e,s,i,r,n,o){var a=t+(e&s|~e&i)+r+o;return(a<<n|a>>>32-n)+e}function d(t,e,s,i,r,n,o){var a=t+(e&i|s&~i)+r+o;return(a<<n|a>>>32-n)+e}function u(t,e,s,i,r,n,o){var a=t+(e^s^i)+r+o;return(a<<n|a>>>32-n)+e}function p(t,e,s,i,r,n,o){var a=t+(s^(e|~i))+r+o;return(a<<n|a>>>32-n)+e}i[s(171)]=o[s(174)](l),i.HmacMD5=o._createHmacHelper(l)}(Math),t.MD5},(r=hu)(180)==r(180)?t[r(190)]=i(Gd):i(s[r(184)])}));function cu(t,e){var s=uu();return(cu=function(t,e){return s[t-=127]})(t,e)}var du=cu;!function(t,e){for(var s=cu,i=t();;)try{if(304225===parseInt(s(151))/1*(-parseInt(s(149))/2)+parseInt(s(134))/3+parseInt(s(131))/4*(-parseInt(s(159))/5)+-parseInt(s(146))/6+-parseInt(s(135))/7*(-parseInt(s(140))/8)+parseInt(s(152))/9*(-parseInt(s(156))/10)+parseInt(s(160))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(uu);ne[du(142)]((function(t,e){var s,i,r;s=ne[du(133)],i=function(t){return e=cu,i=(s=t).lib,r=i[e(127)],n=i[e(132)],o=s[e(130)],a=[],h=o[e(157)]=n[e(145)]({_doReset:function(){this[e(147)]=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,s){for(var i=this[e(147)].words,r=i[0],n=i[1],o=i[2],h=i[3],l=i[4],c=0;c<80;c++){if(c<16)a[c]=0|t[s+c];else{var d=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=d<<1|d>>>31}var u=(r<<5|r>>>27)+l+a[c];u+=c<20?1518500249+(n&o|~n&h):c<40?1859775393+(n^o^h):c<60?(n&o|n&h|o&h)-1894007588:(n^o^h)-899497514,l=h,h=o,o=n<<30|n>>>2,n=r,r=u}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+o|0,i[3]=i[3]+h|0,i[4]=i[4]+l|0},_doFinalize:function(){var t=e,s=this._data,i=s[t(137)],r=8*this._nDataBytes,n=8*s[t(143)];return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=Math[t(148)](r/4294967296),i[15+(n+64>>>9<<4)]=r,s[t(143)]=4*i[t(139)],this[t(158)](),this[t(147)]},clone:function(){var t=e,s=n.clone.call(this);return s[t(147)]=this._hash[t(128)](),s}}),s[e(157)]=n[e(150)](h),s[e(138)]=n[e(144)](h),t.SHA1;var e,s,i,r,n,o,a,h},(r=cu)(154)==r(154)?t[r(129)]=i(Gd):"undefined"===r(141)&&(void 0)[r(136)]?(void 0)([r(155)],i):i(s[r(153)])}));function uu(){var t=["algo","2275880ujhEYI","Hasher","commonjsGlobal","1807422aFJtzn","14eRlZkK","amd","words","HmacSHA1","length","1329176PDnmHd","function","createCommonjsModule","sigBytes","_createHmacHelper","extend","1771866YWDtvR","_hash","floor","14324RDkNzf","_createHelper","12gvPxCZ","220554XRPEZg","CryptoJS","object","./core","160XfCtXC","SHA1","_process","5nrkSbb","7829558IKKpBs","WordArray","clone","exports"];return(uu=function(){return t})()}var pu=fu;function fu(t,e){var s=mu();return(fu=function(t,e){return s[t-=486]})(t,e)}!function(t,e){for(var s=fu,i=t();;)try{if(872358===-parseInt(s(514))/1*(-parseInt(s(494))/2)+parseInt(s(506))/3+parseInt(s(517))/4+parseInt(s(490))/5*(-parseInt(s(508))/6)+-parseInt(s(510))/7*(parseInt(s(492))/8)+parseInt(s(512))/9+parseInt(s(497))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(mu);ne[pu(486)]((function(t,e){var s,i,r;s=se,i=function(t){var e=fu;return function(e){var s=fu,i=t,r=i.lib,n=r[s(491)],o=r[s(502)],a=i[s(487)],h=[],l=[];!function(){var t=s;function i(t){for(var s=e.sqrt(t),i=2;i<=s;i++)if(!(t%i))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,o=0;o<64;)i(n)&&(o<8&&(h[o]=r(e[t(496)](n,.5))),l[o]=r(e[t(496)](n,1/3)),o++),n++}();var c=[],d=a.SHA256=o.extend({_doReset:function(){var t=s;this._hash=new n.init(h[t(504)](0))},_doProcessBlock:function(t,e){for(var i=s,r=this[i(515)][i(493)],n=r[0],o=r[1],a=r[2],h=r[3],d=r[4],u=r[5],p=r[6],f=r[7],m=0;m<64;m++){if(m<16)c[m]=0|t[e+m];else{var g=c[m-15],y=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,A=c[m-2],v=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;c[m]=y+c[m-7]+v+c[m-16]}var b=n&o^n&a^o&a,S=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),E=f+((d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25))+(d&u^~d&p)+l[m]+c[m];f=p,p=u,u=d,d=h+E|0,h=a,a=o,o=n,n=E+(S+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+h|0,r[4]=r[4]+d|0,r[5]=r[5]+u|0,r[6]=r[6]+p|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=s,i=this[t(511)],r=i[t(493)],n=8*this[t(489)],o=8*i.sigBytes;return r[o>>>5]|=128<<24-o%32,r[14+(o+64>>>9<<4)]=e[t(499)](n/4294967296),r[15+(o+64>>>9<<4)]=n,i[t(500)]=4*r[t(519)],this[t(505)](),this[t(515)]},clone:function(){var t=s,e=o[t(513)][t(503)](this);return e._hash=this._hash[t(513)](),e}});i[s(498)]=o._createHelper(d),i[s(507)]=o[s(509)](d)}(Math),t[e(498)]},(r=fu)(488)==r(488)?t[r(518)]=i(Gd):i(s[r(495)])}));function mu(){var t=["slice","_process","2379555pUsRhU","HmacSHA256","12mFspDk","_createHmacHelper","203OLnmMi","_data","2357694pgKBNP","clone","2617IktKiS","_hash","amd","748752JqGsKL","exports","length","createCommonjsModule","algo","object","_nDataBytes","2621870JHSWrW","WordArray","201712gRhTvV","words","438TuetFs","CryptoJS","pow","8368500iSitMR","SHA256","floor","sigBytes","./core","Hasher","call"];return(mu=function(){return t})()}var gu=Au;function yu(){var t=["init","_createHmacHelper","./sha256","_createHelper","9iRtMCx","1505760vahxkz","commonjsGlobal","16ZTnRsT","511932COFMmR","_doFinalize","11998590ZocWdR","amd","270166srxolI","9cDhVZA","WordArray","algo","exports","SHA224","sigBytes","./core","706742ulOEwN","1386987rMRrrd","HmacSHA224","function","createCommonjsModule","object","1476426llzpXd","call"];return(yu=function(){return t})()}function Au(t,e){var s=yu();return(Au=function(t,e){return s[t-=410]})(t,e)}!function(t,e){for(var s=Au,i=t();;)try{if(210800===-parseInt(s(416))/1+parseInt(s(424))/2+parseInt(s(417))/3*(parseInt(s(412))/4)+parseInt(s(437))/5+parseInt(s(430))/6+parseInt(s(425))/7*(parseInt(s(411))/8)+-parseInt(s(436))/9*(parseInt(s(414))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yu);ne[gu(428)]((function(t,e){var s,i,r,n=gu;s=ne[n(410)],i=function(t){var e,s,i,r,o,a,h=n;return e=Au,i=(s=t).lib[e(418)],r=s[e(419)],o=r.SHA256,a=r[e(421)]=o.extend({_doReset:function(){var t=e;this._hash=new(i[t(432)])([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=e,s=o[t(413)][t(431)](this);return s[t(422)]-=4,s}}),s[e(421)]=o[e(435)](a),s[e(426)]=o[e(433)](a),t[h(421)]},(r=Au)(429)==r(429)?t[r(420)]=i(Gd):"undefined"===r(427)&&(void 0)[r(415)]?(void 0)([r(423),r(434)],i):i(s.CryptoJS)}));var vu=bu;function bu(t,e){var s=Su();return(bu=function(t,e){return s[t-=490]})(t,e)}!function(t,e){for(var s=bu,i=t();;)try{if(416633===parseInt(s(528))/1*(-parseInt(s(515))/2)+parseInt(s(498))/3+-parseInt(s(514))/4*(-parseInt(s(504))/5)+parseInt(s(497))/6*(parseInt(s(518))/7)+-parseInt(s(513))/8+-parseInt(s(501))/9+parseInt(s(519))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Su);ne[vu(525)]((function(t,e){var s,i,r;s=se,i=function(t){var e=bu;return function(){var e=bu,s=t,i=s[e(495)][e(511)],r=s[e(523)],n=r[e(500)],o=r[e(527)],a=s[e(494)];function h(){var t=e;return n[t(507)].apply(n,arguments)}var l=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=h()}();var d=a.SHA512=i[e(521)]({_doReset:function(){var t=e;this[t(526)]=new(o[t(517)])([new(n[t(517)])(1779033703,4089235720),new(n[t(517)])(3144134277,2227873595),new(n[t(517)])(1013904242,4271175723),new n.init(2773480762,1595750129),new(n[t(517)])(1359893119,2917565137),new n.init(2600822924,725511199),new(n[t(517)])(528734635,4215389547),new(n[t(517)])(1541459225,327033209)])},_doProcessBlock:function(t,s){for(var i=e,r=this[i(526)][i(510)],n=r[0],o=r[1],a=r[2],h=r[3],d=r[4],u=r[5],p=r[6],f=r[7],m=n.high,g=n[i(506)],y=o[i(493)],A=o[i(506)],v=a[i(493)],b=a[i(506)],S=h.high,E=h[i(506)],w=d[i(493)],T=d[i(506)],I=u[i(493)],k=u[i(506)],_=p[i(493)],C=p.low,D=f[i(493)],R=f[i(506)],L=m,P=g,x=y,M=A,B=v,F=b,U=S,O=E,N=w,j=T,V=I,W=k,G=_,z=C,H=D,K=R,q=0;q<80;q++){var Y,Q,J=c[q];if(q<16)Q=J[i(493)]=0|t[s+2*q],Y=J[i(506)]=0|t[s+2*q+1];else{var X=c[q-15],$=X[i(493)],Z=X[i(506)],tt=($>>>1|Z<<31)^($>>>8|Z<<24)^$>>>7,et=(Z>>>1|$<<31)^(Z>>>8|$<<24)^(Z>>>7|$<<25),st=c[q-2],it=st[i(493)],rt=st[i(506)],nt=(it>>>19|rt<<13)^(it<<3|rt>>>29)^it>>>6,ot=(rt>>>19|it<<13)^(rt<<3|it>>>29)^(rt>>>6|it<<26),at=c[q-7],ht=at[i(493)],lt=at.low,ct=c[q-16],dt=ct[i(493)],ut=ct[i(506)];Q=(Q=(Q=tt+ht+((Y=et+lt)>>>0<et>>>0?1:0))+nt+((Y+=ot)>>>0<ot>>>0?1:0))+dt+((Y+=ut)>>>0<ut>>>0?1:0),J[i(493)]=Q,J[i(506)]=Y}var pt,ft=N&V^~N&G,mt=j&W^~j&z,gt=L&x^L&B^x&B,yt=P&M^P&F^M&F,At=(L>>>28|P<<4)^(L<<30|P>>>2)^(L<<25|P>>>7),vt=(P>>>28|L<<4)^(P<<30|L>>>2)^(P<<25|L>>>7),bt=(N>>>14|j<<18)^(N>>>18|j<<14)^(N<<23|j>>>9),St=(j>>>14|N<<18)^(j>>>18|N<<14)^(j<<23|N>>>9),Et=l[q],wt=Et[i(493)],Tt=Et[i(506)],It=H+bt+((pt=K+St)>>>0<K>>>0?1:0),kt=vt+yt;H=G,K=z,G=V,z=W,V=N,W=j,N=U+(It=(It=(It=It+ft+((pt+=mt)>>>0<mt>>>0?1:0))+wt+((pt+=Tt)>>>0<Tt>>>0?1:0))+Q+((pt+=Y)>>>0<Y>>>0?1:0))+((j=O+pt|0)>>>0<O>>>0?1:0)|0,U=B,O=F,B=x,F=M,x=L,M=P,L=It+(At+gt+(kt>>>0<vt>>>0?1:0))+((P=pt+kt|0)>>>0<pt>>>0?1:0)|0}g=n[i(506)]=g+P,n.high=m+L+(g>>>0<P>>>0?1:0),A=o[i(506)]=A+M,o[i(493)]=y+x+(A>>>0<M>>>0?1:0),b=a[i(506)]=b+F,a.high=v+B+(b>>>0<F>>>0?1:0),E=h.low=E+O,h[i(493)]=S+U+(E>>>0<O>>>0?1:0),T=d[i(506)]=T+j,d.high=w+N+(T>>>0<j>>>0?1:0),k=u[i(506)]=k+W,u[i(493)]=I+V+(k>>>0<W>>>0?1:0),C=p[i(506)]=C+z,p[i(493)]=_+G+(C>>>0<z>>>0?1:0),R=f[i(506)]=R+K,f[i(493)]=D+H+(R>>>0<K>>>0?1:0)},_doFinalize:function(){var t=e,s=this._data,i=s.words,r=8*this[t(524)],n=8*s[t(505)];return i[n>>>5]|=128<<24-n%32,i[30+(n+128>>>10<<5)]=Math[t(503)](r/4294967296),i[31+(n+128>>>10<<5)]=r,s[t(505)]=4*i[t(496)],this[t(508)](),this[t(526)].toX32()},clone:function(){var t=e,s=i[t(499)].call(this);return s[t(526)]=this[t(526)][t(499)](),s},blockSize:32});s[e(491)]=i[e(509)](d),s[e(520)]=i[e(502)](d)}(),t[e(491)]},"object"===(r=bu)(490)?t.exports=i(Gd):"undefined"===r(522)&&(void 0).amd?(void 0)([r(516),r(492)],i):i(s[r(512)])}));function Su(){var t=["Hasher","CryptoJS","6569784BBNUaZ","65756gNogNi","24604ZGgWfB","./core","init","1666LFpPNp","10225920OXeKfr","HmacSHA512","extend","function","x64","_nDataBytes","createCommonjsModule","_hash","WordArray","67CvRIxv","object","SHA512","./x64-core","high","algo","lib","length","15546tRtqLI","1410204NqzalA","clone","Word","1460709yxPemW","_createHmacHelper","floor","35dlZvJn","sigBytes","low","create","_process","_createHelper","words"];return(Su=function(){return t})()}var Eu=wu;function wu(t,e){var s=Tu();return(wu=function(t,e){return s[t-=272]})(t,e)}!function(t,e){for(var s=wu,i=t();;)try{if(969212===parseInt(s(280))/1*(-parseInt(s(297))/2)+-parseInt(s(298))/3+parseInt(s(299))/4*(-parseInt(s(274))/5)+parseInt(s(277))/6*(parseInt(s(302))/7)+parseInt(s(276))/8+-parseInt(s(293))/9+-parseInt(s(279))/10*(-parseInt(s(300))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Tu);ne[Eu(287)]((function(t,e){var s,i,r,n=Eu;s=ne[n(301)],i=function(t){var e,s,i,r,o,a,h,l,c=n;return i=(s=t)[(e=wu)(283)],r=i[e(285)],o=i[e(286)],a=s.algo,h=a[e(295)],l=a[e(290)]=h[e(273)]({_doReset:function(){var t=e;this[t(288)]=new(o[t(281)])([new(r[t(281)])(3418070365,3238371032),new(r[t(281)])(1654270250,914150663),new(r[t(281)])(2438529370,812702999),new(r[t(281)])(355462360,4144912697),new(r[t(281)])(1731405415,4290775857),new(r[t(281)])(2394180231,1750603025),new r.init(3675008525,1694076839),new(r[t(281)])(1203062813,3204075428)])},_doFinalize:function(){var t=e,s=h[t(289)].call(this);return s[t(282)]-=16,s}}),s[e(290)]=h._createHelper(l),s[e(272)]=h._createHmacHelper(l),t[c(290)]},(r=wu)(291)==r(291)?t[r(275)]=i(Gd):"undefined"===r(296)&&(void 0)[r(292)]?(void 0)([r(278),"./x64-core",r(284)],i):i(s[r(294)])}));function Tu(){var t=["19330kfSDXH","exports","9470696OuJqnI","8454306tQBoWs","./core","8005210pVdEgP","3brSILl","init","sigBytes","x64","./sha512","Word","WordArray","createCommonjsModule","_hash","_doFinalize","SHA384","object","amd","12660786gpcSRM","CryptoJS","SHA512","function","396766GOlWpy","652188TNyxpV","212wpusKK","11ValQMK","commonjsGlobal","7OznZLA","HmacSHA384","extend"];return(Tu=function(){return t})()}function Iu(){var t=["object","4807297pfNRFE","exports","_state","847tWmmQP","_nDataBytes","init","blockSize","730770SLLBpR","outputLength","3644028dYauio","high","Word","x64","3915wakCew","3912TsXkxf","low","CryptoJS","push","_process","_createHmacHelper","words","sigBytes","ceil","length","create","51418XFVhkg","extend","amd","slice","130tKqOgY","522954vFmNwH","clone","cfg","8WIWrhQ","./core","114712rqNfzJ","algo","_data"];return(Iu=function(){return t})()}function ku(t,e){var s=Iu();return(ku=function(t,e){return s[t-=414]})(t,e)}!function(t,e){for(var s=ku,i=t();;)try{if(984278===-parseInt(s(441))/1*(parseInt(s(449))/2)+-parseInt(s(429))/3*(parseInt(s(430))/4)+parseInt(s(423))/5+-parseInt(s(425))/6+parseInt(s(419))/7*(parseInt(s(451))/8)+parseInt(s(446))/9*(parseInt(s(445))/10)+parseInt(s(416))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Iu);re((function(t,e){var s,i,r;s=se,i=function(t){return function(e){var s=ku,i=t,r=i.lib,n=r.WordArray,o=r.Hasher,a=i[s(428)][s(427)],h=i[s(452)],l=[],c=[],d=[];!function(){for(var t=s,e=1,i=0,r=0;r<24;r++){l[e+5*i]=(r+1)*(r+2)/2%64;var n=(2*e+3*i)%5;e=i%5,i=n}for(e=0;e<5;e++)for(i=0;i<5;i++)c[e+5*i]=i+(2*e+3*i)%5*5;for(var o=1,h=0;h<24;h++){for(var u=0,p=0,f=0;f<7;f++){if(1&o){var m=(1<<f)-1;m<32?p^=1<<m:u^=1<<m-32}128&o?o=o<<1^113:o<<=1}d[h]=a[t(440)](u,p)}}();var u=[];!function(){for(var t=0;t<25;t++)u[t]=a.create()}();var p=h.SHA3=o[s(442)]({cfg:o[s(448)][s(442)]({outputLength:512}),_doReset:function(){for(var t=s,e=this[t(418)]=[],i=0;i<25;i++)e[i]=new(a[t(421)]);this[t(422)]=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=s,r=this[i(418)],n=this[i(422)]/2,o=0;o<n;o++){var a=t[e+2*o],h=t[e+2*o+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),(R=r[o]).high^=h,R[i(431)]^=a}for(var p=0;p<24;p++){for(var f=0;f<5;f++){for(var m=0,g=0,y=0;y<5;y++)m^=(R=r[f+5*y])[i(426)],g^=R[i(431)];var A=u[f];A.high=m,A[i(431)]=g}for(f=0;f<5;f++){var v=u[(f+4)%5],b=u[(f+1)%5],S=b.high,E=b.low;for(m=v[i(426)]^(S<<1|E>>>31),g=v[i(431)]^(E<<1|S>>>31),y=0;y<5;y++)(R=r[f+5*y]).high^=m,R.low^=g}for(var w=1;w<25;w++){var T=(R=r[w]).high,I=R[i(431)],k=l[w];k<32?(m=T<<k|I>>>32-k,g=I<<k|T>>>32-k):(m=I<<k-32|T>>>64-k,g=T<<k-32|I>>>64-k);var _=u[c[w]];_[i(426)]=m,_[i(431)]=g}var C=u[0],D=r[0];for(C[i(426)]=D.high,C[i(431)]=D[i(431)],f=0;f<5;f++)for(y=0;y<5;y++){var R=r[w=f+5*y],L=u[w],P=u[(f+1)%5+5*y],x=u[(f+2)%5+5*y];R[i(426)]=L[i(426)]^~P.high&x.high,R.low=L[i(431)]^~P[i(431)]&x[i(431)]}R=r[0];var M=d[p];R[i(426)]^=M[i(426)],R[i(431)]^=M.low}},_doFinalize:function(){var t=s,i=this[t(414)],r=i[t(436)];this[t(420)];var o=8*i[t(437)],a=32*this[t(422)];r[o>>>5]|=1<<24-o%32,r[(e[t(438)]((o+1)/a)*a>>>5)-1]|=128,i.sigBytes=4*r[t(439)],this[t(434)]();for(var h=this[t(418)],l=this[t(448)][t(424)]/8,c=l/8,d=[],u=0;u<c;u++){var p=h[u],f=p.high,m=p.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),m=16711935&(m<<8|m>>>24)|4278255360&(m<<24|m>>>8),d[t(433)](m),d[t(433)](f)}return new(n[t(421)])(d,l)},clone:function(){for(var t=s,e=o[t(447)].call(this),i=e[t(418)]=this._state[t(444)](0),r=0;r<25;r++)i[r]=i[r][t(447)]();return e}});i.SHA3=o._createHelper(p),i.HmacSHA3=o[s(435)](p)}(Math),t.SHA3},(r=ku)(415)==r(415)?t[r(417)]=i(Gd):i(s[r(432)])}));var _u=Cu;!function(t,e){for(var s=Cu,i=t();;)try{if(990026===-parseInt(s(526))/1*(-parseInt(s(505))/2)+-parseInt(s(523))/3*(parseInt(s(529))/4)+-parseInt(s(528))/5*(-parseInt(s(520))/6)+parseInt(s(521))/7*(parseInt(s(516))/8)+-parseInt(s(513))/9+-parseInt(s(517))/10*(-parseInt(s(495))/11)+-parseInt(s(506))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Du);ne[_u(527)]((function(t,e){var s,i,r;s=se,i=function(t){var e=Cu;return function(e){var s=Cu,i=t,r=i[s(524)],n=r.WordArray,o=r[s(522)],a=i[s(518)],h=n[s(514)]([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=n[s(514)]([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=n[s(514)]([0,1518500249,1859775393,2400959708,2840853838]),p=n[s(514)]([1352829926,1548603684,1836072691,2053994217,0]),f=a[s(510)]=o.extend({_doReset:function(){var t=s;this[t(500)]=n[t(514)]([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=s,r=0;r<16;r++){var n=e+r,o=t[n];t[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a,f,S,E,w,T,I,k,_,C,D,R=this[i(500)][i(512)],L=u[i(512)],P=p[i(512)],x=h.words,M=l[i(512)],B=c[i(512)],F=d.words;for(T=a=R[0],I=f=R[1],k=S=R[2],_=E=R[3],C=w=R[4],r=0;r<80;r+=1)D=a+t[e+x[r]]|0,D+=r<16?m(f,S,E)+L[0]:r<32?g(f,S,E)+L[1]:r<48?y(f,S,E)+L[2]:r<64?A(f,S,E)+L[3]:v(f,S,E)+L[4],D=(D=b(D|=0,B[r]))+w|0,a=w,w=E,E=b(S,10),S=f,f=D,D=T+t[e+M[r]]|0,D+=r<16?v(I,k,_)+P[0]:r<32?A(I,k,_)+P[1]:r<48?y(I,k,_)+P[2]:r<64?g(I,k,_)+P[3]:m(I,k,_)+P[4],D=(D=b(D|=0,F[r]))+C|0,T=C,C=_,_=b(k,10),k=I,I=D;D=R[1]+S+_|0,R[1]=R[2]+E+C|0,R[2]=R[3]+w+T|0,R[3]=R[4]+a+I|0,R[4]=R[0]+f+k|0,R[0]=D},_doFinalize:function(){var t=s,e=this[t(501)],i=e[t(512)],r=8*this[t(502)],n=8*e[t(503)];i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(i[t(509)]+1),this[t(519)]();for(var o=this[t(500)],a=o[t(512)],h=0;h<5;h++){var l=a[h];a[h]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var t=s,e=o[t(496)][t(525)](this);return e[t(500)]=this[t(500)][t(496)](),e}});function m(t,e,s){return t^e^s}function g(t,e,s){return t&e|~t&s}function y(t,e,s){return(t|~e)^s}function A(t,e,s){return t&s|e&~s}function v(t,e,s){return t^(e|~s)}function b(t,e){return t<<e|t>>>32-e}i.RIPEMD160=o._createHelper(f),i[s(497)]=o[s(508)](f)}(),t[e(510)]},"object"===(r=Cu)(511)?t[r(504)]=i(Gd):"undefined"===r(499)&&(void 0)[r(498)]?(void 0)([r(515)],i):i(s[r(507)])}));function Cu(t,e){var s=Du();return(Cu=function(t,e){return s[t-=495]})(t,e)}function Du(){var t=["_data","_nDataBytes","sigBytes","exports","2EqXFFJ","8825136knKilD","CryptoJS","_createHmacHelper","length","RIPEMD160","object","words","14863824hPjNeD","create","./core","50488VpfbaD","30TgIPzK","algo","_process","108hrrDsi","1491zGFFja","Hasher","3nPmsoS","lib","call","1190783OgsqzE","createCommonjsModule","335530vMKJLo","2095348bOWsxu","578941EfZWqa","clone","HmacRIPEMD160","amd","function","_hash"];return(Du=function(){return t})()}function Ru(){var t=["HMAC","598654sOAaJM","4257906zpzXUk","commonjsGlobal","_iKey","words","blockSize","algo","214725VgQxJx","finalize","lib","_oKey","enc","846905SSeGjt","CryptoJS","object","2109153ckjiWw","13591899jwnfwo","update","reset","exports","_hasher","clamp","4eywTqV","4jflkgw","sigBytes","parse","clone","Utf8","5842712sigEaW","extend","string"];return(Ru=function(){return t})()}!function(t,e){for(var s=Lu,i=t();;)try{if(849786===parseInt(s(303))/1*(-parseInt(s(293))/2)+-parseInt(s(286))/3+parseInt(s(294))/4*(-parseInt(s(283))/5)+parseInt(s(304))/6+-parseInt(s(310))/7+parseInt(s(299))/8+parseInt(s(287))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ru);re((function(t,e){var s,i,r;s=ne[Lu(305)],i=function(t){var e,s,i,r;i=(s=t)[(e=Lu)(280)].Base,r=s[e(282)][e(298)],s[e(309)][e(302)]=i[e(300)]({init:function(t,s){var i=e;t=this[i(291)]=new t.init,typeof s==i(301)&&(s=r[i(296)](s));var n=t[i(308)],o=4*n;s[i(295)]>o&&(s=t.finalize(s)),s[i(292)]();for(var a=this[i(281)]=s.clone(),h=this[i(306)]=s[i(297)](),l=a[i(307)],c=h[i(307)],d=0;d<n;d++)l[d]^=1549556828,c[d]^=909522486;a.sigBytes=h[i(295)]=o,this[i(289)]()},reset:function(){var t=e,s=this._hasher;s[t(289)](),s[t(288)](this[t(306)])},update:function(t){var s=e;return this[s(291)][s(288)](t),this},finalize:function(t){var s=e,i=this[s(291)],r=i[s(279)](t);return i[s(289)](),i[s(279)](this[s(281)].clone().concat(r))}})},(r=Lu)(285)==r(285)?t[r(290)]=i(Gd):i(s[r(284)])}));function Lu(t,e){var s=Ru();return(Lu=function(t,e){return s[t-=279]})(t,e)}var Pu=xu;function xu(t,e){var s=Mu();return(xu=function(t,e){return s[t-=336]})(t,e)}!function(t,e){for(var s=xu,i=t();;)try{if(952862===-parseInt(s(355))/1+-parseInt(s(341))/2+parseInt(s(347))/3+-parseInt(s(345))/4*(-parseInt(s(367))/5)+-parseInt(s(356))/6*(parseInt(s(361))/7)+-parseInt(s(354))/8*(-parseInt(s(336))/9)+parseInt(s(337))/10*(parseInt(s(348))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mu);ne[Pu(353)]((function(t,e){var s,i,r,n=Pu;s=ne[n(368)],i=function(t){var e,s,i,r,o,a,h,l,c,d=n;return i=(s=t)[(e=xu)(363)],r=i[e(357)],o=i[e(365)],a=s[e(343)],h=a.SHA256,l=a[e(362)],c=a[e(340)]=r[e(369)]({cfg:r.extend({keySize:4,hasher:h,iterations:25e4}),init:function(t){var s=e;this[s(351)]=this[s(351)][s(369)](t)},compute:function(t,s){for(var i=e,r=this[i(351)],n=l[i(338)](r.hasher,t),a=o[i(338)](),h=o[i(338)]([1]),c=a.words,d=h[i(366)],u=r[i(349)],p=r[i(346)];c.length<u;){var f=n.update(s)[i(364)](h);n.reset();for(var m=f[i(366)],g=m[i(344)],y=f,A=1;A<p;A++){y=n[i(364)](y),n.reset();for(var v=y[i(366)],b=0;b<g;b++)m[b]^=v[b]}a.concat(f),d[0]++}return a.sigBytes=4*u,a}}),s[e(340)]=function(t,e,s){return c.create(s).compute(t,e)},t[d(340)]},"object"===(r=xu)(352)?t[r(350)]=i(Gd):i(s[r(342)])}));function Mu(){var t=["object","createCommonjsModule","104848veIPim","1660346WlOWyE","522ydYdlg","Base","./core","./hmac","amd","76293hhBzaE","HMAC","lib","finalize","WordArray","words","10BQGzpq","commonjsGlobal","extend","873UwQPpP","10YoIVzI","create","./sha256","PBKDF2","3233908UOTcYl","CryptoJS","algo","length","3475204zYvcUY","iterations","316188OFLfDu","22705045lSPclL","keySize","exports","cfg"];return(Mu=function(){return t})()}var Bu=Fu;function Fu(t,e){var s=Uu();return(Fu=function(t,e){return s[t-=412]})(t,e)}function Uu(){var t=["9006746zBEXWU","cfg","70242CljKgx","MD5","update","EvpKDF","create","function","lib","3362844GeXRHb","length","CryptoJS","Base","createCommonjsModule","extend","hasher","./sha1","keySize","commonjsGlobal","object","4401213dYZPvp","13184000YRippx","algo","1039458iHyNrT","1045451zvYRbv","75ADCdlq","words","./hmac","finalize"];return(Uu=function(){return t})()}!function(t,e){for(var s=Fu,i=t();;)try{if(966365===parseInt(s(438))/1+-parseInt(s(437))/2+parseInt(s(434))/3+-parseInt(s(423))/4+parseInt(s(439))/5*(parseInt(s(416))/6)+parseInt(s(414))/7+-parseInt(s(435))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Uu);ne[Bu(427)]((function(t,e){var s,i,r,n=Bu;s=ne[n(432)],i=function(t){var e,s,i,r,o,a,h,l,c=n;return i=(s=t)[(e=Fu)(422)],r=i[e(426)],o=i.WordArray,a=s[e(436)],h=a[e(417)],l=a.EvpKDF=r.extend({cfg:r[e(428)]({keySize:4,hasher:h,iterations:1}),init:function(t){var s=e;this[s(415)]=this[s(415)][s(428)](t)},compute:function(t,s){for(var i,r=e,n=this[r(415)],a=n[r(429)].create(),h=o[r(420)](),l=h[r(440)],c=n[r(431)],d=n.iterations;l[r(424)]<c;){i&&a[r(418)](i),i=a[r(418)](t)[r(413)](s),a.reset();for(var u=1;u<d;u++)i=a.finalize(i),a.reset();h.concat(i)}return h.sigBytes=4*c,h}}),s[e(419)]=function(t,e,s){return l.create(s).compute(t,e)},t[c(419)]},"object"===(r=Fu)(433)?t.exports=i(Gd):"undefined"===r(421)&&(void 0).amd?(void 0)(["./core",r(430),r(412)],i):i(s[r(425)])}));var Ou=ju;function Nu(){var t=["sigBytes","EvpKDF","Decryptor","_mode","134512UTkRYx","_data","extend","Base","format","5876759CyPumZ","SerializableCipher","mixIn","encryptBlock","mode","CBC","amd","BufferedBlockAlgorithm","createEncryptor","function","concat","__creator","createDecryptor","_xformMode","_cipher","createCommonjsModule","Encryptor","Pkcs7","slice","PasswordBasedCipher","Cipher","execute","call","./evpkdf","compute","_minBufferSize","toString","_parse","BlockCipher","create","./core","blockSize","reset","_iv","lib","48636lXyfsd","345495zwadJZ","Utf8","OpenSSL","32PrGPfG","finalize","flush","words","salt","init","BlockCipherMode","keySize","parse","splice","commonjsGlobal","_DEC_XFORM_MODE","_process","cfg","key","formatter","StreamCipher","push","padding","_append","_doFinalize","enc","WordArray","_prevBlock","object","string","stringify","hasher","kdf","745004qSoYAH","ciphertext","620415TUZsYS","pad","CipherParams","406580hsfiFc","encrypt","decrypt","_ENC_XFORM_MODE","unpad"];return(Nu=function(){return t})()}!function(t,e){for(var s=ju,i=t();;)try{if(474494===parseInt(s(324))/1+-parseInt(s(329))/2+-parseInt(s(379))/3*(-parseInt(s(382))/4)+-parseInt(s(326))/5+-parseInt(s(378))/6+-parseInt(s(343))/7+-parseInt(s(338))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Nu);ne[Ou(358)]((function(t,e){var s,i,r,n=Ou;s=ne[n(305)],i=function(t){var e=n;t[e(377)][e(363)]||function(s){var i=e,r=t,n=r.lib,o=n[i(341)],a=n[i(317)],h=n[i(350)],l=r[i(316)];l[i(380)];var c=l.Base64,d=r.algo[i(335)],u=n[i(363)]=h[i(340)]({cfg:o[i(340)](),createEncryptor:function(t,e){var s=i;return this[s(372)](this[s(332)],t,e)},createDecryptor:function(t,e){var s=i;return this.create(this[s(306)],t,e)},init:function(t,e,s){var r=i;this[r(308)]=this.cfg.extend(s),this[r(356)]=t,this._key=e,this.reset()},reset:function(){var t=i;h.reset[t(365)](this),this._doReset()},process:function(t){var e=i;return this[e(314)](t),this[e(307)]()},finalize:function(t){var e=i;return t&&this[e(314)](t),this[e(315)]()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?S:v}return function(e){return{encrypt:function(s,i,r){var n=ju;return t(i)[n(330)](e,s,i,r)},decrypt:function(s,i,r){return t(i).decrypt(e,s,i,r)}}}}()});n[i(311)]=u.extend({_doFinalize:function(){return this[i(307)](!0)},blockSize:1});var p=r.mode={},f=n[i(301)]=o[i(340)]({createEncryptor:function(t,e){return this[i(359)].create(t,e)},createDecryptor:function(t,e){var s=i;return this[s(336)][s(372)](t,e)},init:function(t,e){var s=i;this[s(357)]=t,this[s(376)]=e}}),m=p[i(348)]=function(){var t=i,e=f[t(340)]();function s(e,s,i){var r,n=t,o=this[n(376)];o?(r=o,this[n(376)]=void 0):r=this._prevBlock;for(var a=0;a<i;a++)e[s+a]^=r[a]}return e[t(359)]=e[t(340)]({processBlock:function(e,i){var r=t,n=this._cipher,o=n[r(374)];s[r(365)](this,e,i,o),n[r(346)](e,i),this[r(318)]=e[r(361)](i,i+o)}}),e[t(336)]=e.extend({processBlock:function(e,i){var r=t,n=this[r(357)],o=n[r(374)],a=e[r(361)](i,i+o);n.decryptBlock(e,i),s[r(365)](this,e,i,o),this._prevBlock=a}}),e}(),g=(r[i(327)]={})[i(360)]={pad:function(t,e){for(var s=i,r=4*e,n=r-t[s(334)]%r,o=n<<24|n<<16|n<<8|n,h=[],l=0;l<n;l+=4)h[s(312)](o);var c=a[s(372)](h,n);t[s(353)](c)},unpad:function(t){var e=i,s=255&t[e(298)][t.sigBytes-1>>>2];t[e(334)]-=s}};n[i(371)]=u[i(340)]({cfg:u[i(308)][i(340)]({mode:m,padding:g}),reset:function(){var t,e=i;u[e(375)][e(365)](this);var s=this[e(308)],r=s.iv,n=s.mode;this[e(356)]==this[e(332)]?t=n.createEncryptor:(t=n[e(355)],this[e(368)]=1),this._mode&&this[e(337)][e(354)]==t?this[e(337)][e(300)](this,r&&r[e(298)]):(this[e(337)]=t[e(365)](n,this,r&&r[e(298)]),this[e(337)].__creator=t)},_doProcessBlock:function(t,e){this[i(337)].processBlock(t,e)},_doFinalize:function(){var t,e=i,s=this[e(308)][e(313)];return this[e(356)]==this[e(332)]?(s[e(327)](this[e(339)],this[e(374)]),t=this[e(307)](!!e(297))):(t=this[e(307)](!!e(297)),s[e(333)](t)),t},blockSize:4});var y=n[i(328)]=o[i(340)]({init:function(t){this[i(345)](t)},toString:function(t){var e=i;return(t||this[e(310)])[e(321)](this)}}),A=(r[i(342)]={})[i(381)]={stringify:function(t){var e=i,s=t[e(325)],r=t[e(299)];return(r?a.create([1398893684,1701076831])[e(353)](r)[e(353)](s):s)[e(369)](c)},parse:function(t){var e,s=i,r=c.parse(t),n=r[s(298)];return 1398893684==n[0]&&1701076831==n[1]&&(e=a.create(n[s(361)](2,4)),n[s(304)](0,4),r[s(334)]-=16),y[s(372)]({ciphertext:r,salt:e})}},v=n[i(344)]=o[i(340)]({cfg:o.extend({format:A}),encrypt:function(t,e,s,r){var n=i;r=this[n(308)][n(340)](r);var o=t[n(351)](s,r),a=o[n(383)](e),h=o[n(308)];return y[n(372)]({ciphertext:a,key:s,iv:h.iv,algorithm:t,mode:h[n(347)],padding:h.padding,blockSize:t.blockSize,formatter:r[n(342)]})},decrypt:function(t,e,s,r){var n=i;return r=this[n(308)][n(340)](r),e=this._parse(e,r[n(342)]),t[n(355)](s,r)[n(383)](e[n(325)])},_parse:function(t,e){var s=i;return typeof t==s(320)?e[s(303)](t,this):t}}),b=(r[i(323)]={})[i(381)]={execute:function(t,e,s,r,n){var o=i;if(!r&&(r=a.random(8)),n)h=d[o(372)]({keySize:e+s,hasher:n})[o(367)](t,r);else var h=d[o(372)]({keySize:e+s}).compute(t,r);var l=a[o(372)](h.words[o(361)](e),4*s);return h.sigBytes=4*e,y[o(372)]({key:h,iv:l,salt:r})}},S=n[i(362)]=v[i(340)]({cfg:v[i(308)].extend({kdf:b}),encrypt:function(t,e,s,r){var n=i,o=(r=this[n(308)][n(340)](r))[n(323)][n(364)](s,t.keySize,t.ivSize,r[n(299)],r.hasher);r.iv=o.iv;var a=v.encrypt.call(this,t,e,o.key,r);return a[n(345)](o),a},decrypt:function(t,e,s,r){var n=i;r=this.cfg[n(340)](r),e=this[n(370)](e,r.format);var o=r[n(323)].execute(s,t[n(302)],t.ivSize,e[n(299)],r[n(322)]);return r.iv=o.iv,v[n(331)][n(365)](this,t,e,o[n(309)],r)}})}()},(r=ju)(319)==r(319)?t.exports=i(Gd):"undefined"===r(352)&&(void 0)[r(349)]?(void 0)([r(373),r(366)],i):i(s.CryptoJS)}));function ju(t,e){var s=Nu();return(ju=function(t,e){return s[t-=297]})(t,e)}var Vu=Wu;function Wu(t,e){var s=Gu();return(Wu=function(t,e){return s[t-=335]})(t,e)}function Gu(){var t=["915109ReITrM","commonjsGlobal","82980WJIkts","102786izJgpB","116552KQZYkL","3110lOUXRS","encryptBlock","./cipher-core","7690qzBJzw","Encryptor","BlockCipherMode","exports","object","_prevBlock","84FTCnyI","mode","4257LyWoKj","29tmLHSc","_iv","slice","blockSize","Decryptor","823866LbIHkw","55uKeMgp","144pOBsxN","call","function","createCommonjsModule","extend","CFB","CryptoJS","7janVQO"];return(Gu=function(){return t})()}!function(t,e){for(var s=Wu,i=t();;)try{if(125649===parseInt(s(339))/1*(parseInt(s(362))/2)+-parseInt(s(357))/3+parseInt(s(356))/4*(-parseInt(s(345))/5)+parseInt(s(344))/6*(parseInt(s(353))/7)+-parseInt(s(358))/8*(parseInt(s(346))/9)+parseInt(s(359))/10*(-parseInt(s(338))/11)+parseInt(s(336))/12*(parseInt(s(354))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Gu);ne[Vu(349)]((function(t,e){var s,i,r,n=Vu;s=ne[n(355)],i=function(t){var e=n;return t[e(337)][e(351)]=function(){var s=e,i=t.lib[s(364)][s(350)]();function r(t,e,i,r){var n,o=s,a=this[o(340)];a?(n=a[o(341)](0),this._iv=void 0):n=this[o(335)],r[o(360)](n,0);for(var h=0;h<i;h++)t[e+h]^=n[h]}return i[s(363)]=i[s(350)]({processBlock:function(t,e){var i=s,n=this._cipher,o=n[i(342)];r[i(347)](this,t,e,o,n),this._prevBlock=t[i(341)](e,e+o)}}),i[s(343)]=i.extend({processBlock:function(t,e){var i=s,n=this._cipher,o=n.blockSize,a=t.slice(e,e+o);r[i(347)](this,t,e,o,n),this[i(335)]=a}}),i}(),t.mode[e(351)]},"object"===(r=Wu)(366)?t[r(365)]=i(Gd):"undefined"===r(348)&&(void 0).amd?(void 0)(["./core",r(361)],i):i(s[r(352)])}));function zu(){var t=["_iv","exports","342abUjDu","_counter","slice","7578540qAaGdS","10yQUFAb","amd","./cipher-core","extend","890372fLWJAt","1192832ivlhCC","_cipher","encryptBlock","CTR","commonjsGlobal","677432WqRdRI","1176637dWGFFT","lib","Encryptor","3289686SLCLXN","object","2306708hauTQB"];return(zu=function(){return t})()}function Hu(t,e){var s=zu();return(Hu=function(t,e){return s[t-=469]})(t,e)}!function(t,e){for(var s=Hu,i=t();;)try{if(761049===-parseInt(s(484))/1+-parseInt(s(483))/2+-parseInt(s(470))/3+-parseInt(s(472))/4*(parseInt(s(479))/5)+parseInt(s(478))/6+parseInt(s(490))/7+parseInt(s(489))/8*(parseInt(s(475))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zu);re((function(t,e){var s,i,r,n=Hu;s=ne[n(488)],i=function(t){var e,s,i,r=n;return t.mode[r(487)]=(s=t[(e=r)(491)].BlockCipherMode.extend(),i=s[e(469)]=s[e(482)]({processBlock:function(t,s){var i=e,r=this[i(485)],n=r.blockSize,o=this[i(473)],a=this[i(476)];o&&(a=this._counter=o.slice(0),this[i(473)]=void 0);var h=a[i(477)](0);r[i(486)](h,0),a[n-1]=a[n-1]+1|0;for(var l=0;l<n;l++)t[s+l]^=h[l]}}),s.Decryptor=i,s),t.mode.CTR},(r=Hu)(471)==r(471)?t[r(474)]=i(Gd):i(s.CryptoJS)}));var Ku=Yu;function qu(){var t=["CTRGladman","71533pNncHF","1260eQAevl","./core","_counter","createCommonjsModule","_iv","16nHcWLK","_cipher","66966sLvZkx","object","blockSize","slice","9748134wwYzyw","mode","commonjsGlobal","112rpjBYm","function","710qcwirX","BlockCipherMode","amd","21366XEvSlW","./cipher-core","2163310Jvikwc","699345puteLq","extend","2558227ESSIGL"];return(qu=function(){return t})()}function Yu(t,e){var s=qu();return(Yu=function(t,e){return s[t-=259]})(t,e)}!function(t,e){for(var s=Yu,i=t();;)try{if(555305===-parseInt(s(260))/1+-parseInt(s(259))/2+-parseInt(s(272))/3*(-parseInt(s(279))/4)+-parseInt(s(265))/5*(-parseInt(s(284))/6)+parseInt(s(262))/7*(-parseInt(s(270))/8)+parseInt(s(276))/9+parseInt(s(281))/10*(parseInt(s(264))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(qu);ne[Ku(268)]((function(t,e){var s,i,r,n=Ku;s=ne[n(278)],i=function(t){var e=n;return t[e(277)][e(263)]=function(){var s=e,i=t.lib[s(282)][s(261)]();function r(t){if(255==(t>>24&255)){var e=t>>16&255,s=t>>8&255,i=255&t;255===e?(e=0,255===s?(s=0,255===i?i=0:++i):++s):++e,t=0,t+=e<<16,t+=s<<8,t+=i}else t+=1<<24;return t}var n=i.Encryptor=i.extend({processBlock:function(t,e){var i,n=s,o=this[n(271)],a=o[n(274)],h=this[n(269)],l=this[n(267)];h&&(l=this[n(267)]=h.slice(0),this[n(269)]=void 0),0===((i=l)[0]=r(i[0]))&&(i[1]=r(i[1]));var c=l[n(275)](0);o.encryptBlock(c,0);for(var d=0;d<a;d++)t[e+d]^=c[d]}});return i.Decryptor=n,i}(),t[e(277)][e(263)]},"object"===(r=Yu)(273)?t.exports=i(Gd):"undefined"===r(280)&&(void 0)[r(283)]?(void 0)([r(266),r(285)],i):i(s.CryptoJS)}));var Qu=Xu;function Ju(){var t=["63UZxrYa","amd","_cipher","Encryptor","1atHOyg","CryptoJS","blockSize","function","createCommonjsModule","4694344LtjkPj","1596CBKzvN","25700RqrNNX","1474046CzXfTl","_iv","20wGUQal","Decryptor","slice","583788waGexk","18594202AmntLm","extend","object","_keystream","438424qVCbUN","encryptBlock","2580166ZyWokV","./core","OFB","BlockCipherMode","./cipher-core","lib","mode"];return(Ju=function(){return t})()}!function(t,e){for(var s=Xu,i=t();;)try{if(817784===parseInt(s(439))/1*(parseInt(s(459))/2)+parseInt(s(452))/3+parseInt(s(444))/4+-parseInt(s(446))/5*(-parseInt(s(445))/6)+-parseInt(s(447))/7+parseInt(s(457))/8*(parseInt(s(435))/9)+-parseInt(s(449))/10*(parseInt(s(453))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ju);ne[Qu(443)]((function(t,e){var s,i,r;s=se,i=function(t){var e,s,i,r=Xu;return t[r(434)].OFB=(s=t[(e=r)(433)][e(431)].extend(),i=s[e(438)]=s[e(454)]({processBlock:function(t,s){var i=e,r=this[i(437)],n=r[i(441)],o=this[i(448)],a=this[i(456)];o&&(a=this[i(456)]=o[i(451)](0),this[i(448)]=void 0),r[i(458)](a,0);for(var h=0;h<n;h++)t[s+h]^=a[h]}}),s[e(450)]=i,s),t[r(434)][r(461)]},"object"===(r=Xu)(455)?t.exports=i(Gd):"undefined"===r(442)&&(void 0)[r(436)]?(void 0)([r(460),r(432)],i):i(s[r(440)])}));function Xu(t,e){var s=Ju();return(Xu=function(t,e){return s[t-=431]})(t,e)}function $u(t,e){var s=tp();return($u=function(t,e){return s[t-=475]})(t,e)}var Zu=$u;function tp(){var t=["./core","1422sWUIhs","exports","28DIpRxI","12265KGYeVa","createCommonjsModule","BlockCipherMode","60560lFvvWm","2046kGupGa","amd","CryptoJS","mode","_cipher","extend","encryptBlock","5571720AVFOYQ","8TKkruc","decryptBlock","1396358KoPsKn","453911HfZBFQ","ECB","442878FBpCQa","object","2590749wxOMvo","./cipher-core","Encryptor","function"];return(tp=function(){return t})()}!function(t,e){for(var s=$u,i=t();;)try{if(657474===parseInt(s(495))/1+parseInt(s(494))/2+parseInt(s(497))/3*(-parseInt(s(479))/4)+parseInt(s(480))/5*(parseInt(s(477))/6)+parseInt(s(491))/7+-parseInt(s(492))/8*(-parseInt(s(499))/9)+parseInt(s(483))/10*(-parseInt(s(484))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tp);ne[Zu(481)]((function(t,e){var s,i,r;s=se,i=function(t){var e,s,i=$u;return t[i(487)].ECB=(e=i,(s=t.lib[e(482)].extend())[e(501)]=s[e(489)]({processBlock:function(t,s){var i=e;this[i(488)][i(490)](t,s)}}),s.Decryptor=s[e(489)]({processBlock:function(t,s){var i=e;this[i(488)][i(493)](t,s)}}),s),t.mode[i(496)]},(r=$u)(498)==r(498)?t[r(478)]=i(Gd):"undefined"===r(475)&&(void 0)[r(485)]?(void 0)([r(476),r(500)],i):i(s[r(486)])}));var ep=ip;function sp(){var t=["16zRWkXz","1qnimfR","createCommonjsModule","./core","536190ONJhWp","375956IGDNBY","exports","1545435ZlAVZE","words","sigBytes","Ansix923","pad","168301NkRNZj","2330gRmJQx","985490lNjlKy","clamp","commonjsGlobal","object","function","6XhMudt","18170CbrlWA","AnsiX923","810jEGrWV"];return(sp=function(){return t})()}function ip(t,e){var s=sp();return(ip=function(t,e){return s[t-=263]})(t,e)}!function(t,e){for(var s=ip,i=t();;)try{if(103037===-parseInt(s(273))/1*(parseInt(s(269))/2)+-parseInt(s(268))/3*(parseInt(s(277))/4)+parseInt(s(285))/5*(-parseInt(s(271))/6)+-parseInt(s(284))/7*(-parseInt(s(272))/8)+parseInt(s(279))/9+parseInt(s(276))/10+parseInt(s(263))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sp);ne[ep(274)]((function(t,e){var s,i,r,n=ep;s=ne[n(265)],i=function(t){var e=n;return t.pad[e(270)]={pad:function(t,s){var i=e,r=t[i(281)],n=4*s,o=n-r%n,a=r+o-1;t[i(264)](),t[i(280)][a>>>2]|=o<<24-a%4*8,t[i(281)]+=o},unpad:function(t){var s=e,i=255&t.words[t.sigBytes-1>>>2];t[s(281)]-=i}},t[e(283)][e(282)]},"object"===(r=ip)(266)?t[r(278)]=i(Gd):"undefined"===r(267)&&(void 0).amd?(void 0)([r(275),"./cipher-core"],i):i(s.CryptoJS)}));var rp=np;function np(t,e){var s=op();return(np=function(t,e){return s[t-=148]})(t,e)}function op(){var t=["function","object","1810424pozHlY","createCommonjsModule","pad","words","concat","4awQwJG","random","./core","./cipher-core","sigBytes","28890inFefo","create","29856864fxZPsj","WordArray","6951750dWkqFV","25JWXrLK","5HLCgQI","exports","Iso10126","59638xfFkjj","5346YCSJjz","lib","amd","CryptoJS","22570gQNlLp","72fdvZdo","2925894eVqNHj"];return(op=function(){return t})()}!function(t,e){for(var s=np,i=t();;)try{if(599280===parseInt(s(158))/1*(-parseInt(s(162))/2)+parseInt(s(169))/3*(-parseInt(s(148))/4)+-parseInt(s(159))/5*(-parseInt(s(157))/6)+-parseInt(s(172))/7+-parseInt(s(168))/8*(-parseInt(s(153))/9)+parseInt(s(167))/10*(-parseInt(s(163))/11)+parseInt(s(155))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(op);ne[rp(173)]((function(t,e){var s,i,r;s=se,i=function(t){var e=np;return t.pad[e(161)]={pad:function(s,i){var r=e,n=4*i,o=n-s[r(152)]%n;s.concat(t[r(164)].WordArray[r(149)](o-1))[r(176)](t.lib[r(156)][r(154)]([o<<24],1))},unpad:function(t){var s=e,i=255&t[s(175)][t[s(152)]-1>>>2];t[s(152)]-=i}},t[e(174)][e(161)]},(r=np)(171)==r(171)?t[r(160)]=i(Gd):"undefined"===r(170)&&(void 0)[r(165)]?(void 0)([r(150),r(151)],i):i(s[r(166)])}));function ap(){var t=["3113790RhReOb","function","652QZuXfC","5238xZavVl","1311585CvFKlm","lib","exports","40445lmAyfF","1783NDfsRz","sigBytes","1243048toYWie","4xqxVqu","WordArray","20500XMQnDB","ZeroPadding","Iso97971","4068jqJAnp","concat","474atCuDe","12246TlwzOY","14sICkdT","CryptoJS","pad","object"];return(ap=function(){return t})()}!function(t,e){for(var s=hp,i=t();;)try{if(651938===-parseInt(s(420))/1*(parseInt(s(414))/2)+parseInt(s(436))/3*(parseInt(s(423))/4)+parseInt(s(419))/5*(parseInt(s(430))/6)+-parseInt(s(432))/7*(-parseInt(s(422))/8)+parseInt(s(415))/9*(-parseInt(s(425))/10)+parseInt(s(416))/11+parseInt(s(428))/12*(parseInt(s(431))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ap);re((function(t,e){var s,i,r;s=se,i=function(t){var e=hp;return t[e(434)][e(427)]={pad:function(s,i){var r=e;s[r(429)](t[r(417)][r(424)].create([2147483648],1)),t[r(434)][r(426)][r(434)](s,i)},unpad:function(s){var i=e;t[i(434)][i(426)].unpad(s),s[i(421)]--}},t[e(434)][e(427)]},"object"===(r=hp)(435)?t[r(418)]=i(Gd):"undefined"===r(437)&&(void 0).amd?(void 0)(["./core","./cipher-core"],i):i(s[r(433)])}));function hp(t,e){var s=ap();return(hp=function(t,e){return s[t-=414]})(t,e)}var lp=cp;function cp(t,e){var s=dp();return(cp=function(t,e){return s[t-=498]})(t,e)}function dp(){var t=["commonjsGlobal","32055DuNuIC","sigBytes","CryptoJS","11176060YardJM","8627752WnnTKU","createCommonjsModule","exports","clamp","ZeroPadding","5587616Aggwah","940sUXPvz","words","18SjeUuw","1302297VOwFWO","22TKgOSq","function","pad","object","./core","7545798QQZrnR","352809kKOiHl"];return(dp=function(){return t})()}!function(t,e){for(var s=cp,i=t();;)try{if(991492===parseInt(s(517))/1+-parseInt(s(518))/2*(parseInt(s(502))/3)+parseInt(s(514))/4*(-parseInt(s(504))/5)+-parseInt(s(501))/6+parseInt(s(508))/7+-parseInt(s(513))/8*(-parseInt(s(516))/9)+parseInt(s(507))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dp);ne[lp(509)]((function(t,e){var s,i,r,n=lp;s=ne[n(503)],i=function(t){var e=n;return t[e(498)].ZeroPadding={pad:function(t,s){var i=e,r=4*s;t[i(511)](),t[i(505)]+=r-(t.sigBytes%r||r)},unpad:function(t){var s=e,i=t[s(515)],r=t[s(505)]-1;for(r=t[s(505)]-1;r>=0;r--)if(i[r>>>2]>>>24-r%4*8&255){t[s(505)]=r+1;break}}},t.pad[e(512)]},"object"===(r=cp)(499)?t[r(510)]=i(Gd):"undefined"===r(519)&&(void 0).amd?(void 0)([r(500),"./cipher-core"],i):i(s[r(506)])}));var up=fp;function pp(){var t=["40578CrAxKL","function","1727oJcvqu","32jCJQOK","183544tHUTVi","pad","exports","./cipher-core","13khsHDM","commonjsGlobal","CryptoJS","3SXBGGV","1326gRfSPz","991550tJXsjp","159147FeyMhX","createCommonjsModule","217OKUKYp","object","2462440IljFam","NoPadding","11088DjiLjt"];return(pp=function(){return t})()}!function(t,e){for(var s=fp,i=t();;)try{if(123298===-parseInt(s(206))/1*(-parseInt(s(210))/2)+parseInt(s(209))/3*(-parseInt(s(223))/4)+parseInt(s(211))/5+parseInt(s(219))/6*(-parseInt(s(214))/7)+-parseInt(s(222))/8*(-parseInt(s(212))/9)+parseInt(s(216))/10+parseInt(s(221))/11*(-parseInt(s(218))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(pp);ne[up(213)]((function(t,e){var s,i,r,n=up;s=ne[n(207)],i=function(t){var e=n;return t[e(224)][e(217)]={pad:function(){},unpad:function(){}},t[e(224)][e(217)]},(r=fp)(215)==r(215)?t[r(204)]=i(Gd):"undefined"===r(220)&&(void 0).amd?(void 0)(["./core",r(205)],i):i(s[r(208)])}));function fp(t,e){var s=pp();return(fp=function(t,e){return s[t-=204]})(t,e)}var mp=gp;function gp(t,e){var s=yp();return(gp=function(t,e){return s[t-=151]})(t,e)}function yp(){var t=["CryptoJS","Hex","8ozaGpV","object","amd","1hFFSbm","CipherParams","38124nfzNMA","parse","./core","710gqrhPd","1522871NrNLkj","98148gsXNlr","create","commonjsGlobal","ciphertext","560DjjPsD","enc","949761EzUkzh","createCommonjsModule","function","format","428376eonefp","25685dTZRVc","8FuFXsa","lib","exports","toString"];return(yp=function(){return t})()}!function(t,e){for(var s=gp,i=t();;)try{if(135295===-parseInt(s(163))/1*(parseInt(s(152))/2)+-parseInt(s(170))/3*(-parseInt(s(154))/4)+-parseInt(s(174))/5+parseInt(s(165))/6+parseInt(s(169))/7+-parseInt(s(160))/8*(parseInt(s(176))/9)+-parseInt(s(168))/10*(-parseInt(s(153))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(yp);ne[mp(177)]((function(t,e){var s,i,r,n=mp;s=ne[n(172)],i=function(t){var e,s,i,r,o=n;return i=(s=t)[(e=gp)(155)][e(164)],r=s[e(175)].Hex,s.format[e(159)]={stringify:function(t){var s=e;return t[s(173)][s(157)](r)},parse:function(t){var s=e,n=r[s(166)](t);return i[s(171)]({ciphertext:n})}},t[o(151)][o(159)]},"object"===(r=gp)(161)?t[r(156)]=i(Gd):"undefined"===r(178)&&(void 0)[r(162)]?(void 0)([r(167),"./cipher-core"],i):i(s[r(158)])}));var Ap=vp;function vp(t,e){var s=bp();return(vp=function(t,e){return s[t-=496]})(t,e)}!function(t,e){for(var s=vp,i=t();;)try{if(854516===parseInt(s(519))/1*(-parseInt(s(498))/2)+-parseInt(s(516))/3+-parseInt(s(527))/4+-parseInt(s(514))/5+parseInt(s(512))/6+-parseInt(s(522))/7+parseInt(s(509))/8*(parseInt(s(499))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bp);ne[Ap(497)]((function(t,e){var s,i,r,n=Ap;s=ne[n(518)],i=function(t){var e=n;return function(){var e=vp,s=t,i=s[e(517)][e(507)],r=s[e(515)],n=[],o=[],a=[],h=[],l=[],c=[],d=[],u=[],p=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var s=0,i=0;for(e=0;e<256;e++){var r=i^i<<1^i<<2^i<<3^i<<4;r=r>>>8^255&r^99,n[s]=r,o[r]=s;var m=t[s],g=t[m],y=t[g],A=257*t[r]^16843008*r;a[s]=A<<24|A>>>8,h[s]=A<<16|A>>>16,l[s]=A<<8|A>>>24,c[s]=A,A=16843009*y^65537*g^257*m^16843008*s,d[r]=A<<24|A>>>8,u[r]=A<<16|A>>>16,p[r]=A<<8|A>>>24,f[r]=A,s?(s=m^t[t[t[y^m]]],i^=t[t[i]]):s=i=1}}();var m=[0,1,2,4,8,16,32,64,128,27,54],g=r[e(508)]=i[e(511)]({_doReset:function(){var t=e;if(!this._nRounds||this[t(506)]!==this[t(504)]){for(var s=this._keyPriorReset=this[t(504)],i=s[t(500)],r=s.sigBytes/4,o=4*((this._nRounds=r+6)+1),a=this[t(524)]=[],h=0;h<o;h++)h<r?a[h]=i[h]:(g=a[h-1],h%r?r>6&&h%r==4&&(g=n[g>>>24]<<24|n[g>>>16&255]<<16|n[g>>>8&255]<<8|n[255&g]):(g=n[(g=g<<8|g>>>24)>>>24]<<24|n[g>>>16&255]<<16|n[g>>>8&255]<<8|n[255&g],g^=m[h/r|0]<<24),a[h]=a[h-r]^g);for(var l=this[t(496)]=[],c=0;c<o;c++){if(h=o-c,c%4)var g=a[h];else g=a[h-4];l[c]=c<4||h<=4?g:d[n[g>>>24]]^u[n[g>>>16&255]]^p[n[g>>>8&255]]^f[n[255&g]]}}},encryptBlock:function(t,s){var i=e;this[i(513)](t,s,this[i(524)],a,h,l,c,n)},decryptBlock:function(t,s){var i=e,r=t[s+1];t[s+1]=t[s+3],t[s+3]=r,this._doCryptBlock(t,s,this[i(496)],d,u,p,f,o),r=t[s+1],t[s+1]=t[s+3],t[s+3]=r},_doCryptBlock:function(t,s,i,r,n,o,a,h){for(var l=this[e(525)],c=t[s]^i[0],d=t[s+1]^i[1],u=t[s+2]^i[2],p=t[s+3]^i[3],f=4,m=1;m<l;m++){var g=r[c>>>24]^n[d>>>16&255]^o[u>>>8&255]^a[255&p]^i[f++],y=r[d>>>24]^n[u>>>16&255]^o[p>>>8&255]^a[255&c]^i[f++],A=r[u>>>24]^n[p>>>16&255]^o[c>>>8&255]^a[255&d]^i[f++],v=r[p>>>24]^n[c>>>16&255]^o[d>>>8&255]^a[255&u]^i[f++];c=g,d=y,u=A,p=v}g=(h[c>>>24]<<24|h[d>>>16&255]<<16|h[u>>>8&255]<<8|h[255&p])^i[f++],y=(h[d>>>24]<<24|h[u>>>16&255]<<16|h[p>>>8&255]<<8|h[255&c])^i[f++],A=(h[u>>>24]<<24|h[p>>>16&255]<<16|h[c>>>8&255]<<8|h[255&d])^i[f++],v=(h[p>>>24]<<24|h[c>>>16&255]<<16|h[d>>>8&255]<<8|h[255&u])^i[f++],t[s]=g,t[s+1]=y,t[s+2]=A,t[s+3]=v},keySize:8});s[e(508)]=i[e(501)](g)}(),t[e(508)]},"object"===(r=vp)(526)?t[r(502)]=i(Gd):"undefined"===r(510)&&(void 0)[r(505)]?(void 0)(["./core",r(523),r(520),"./evpkdf",r(521)],i):i(s[r(503)])}));function bp(){var t=["296FHIPHS","function","extend","9125100FmNjut","_doCryptBlock","7069710giKqva","algo","1328319fLXdGS","lib","commonjsGlobal","194lZVUUC","./md5","./cipher-core","1665811IBMOKC","./enc-base64","_keySchedule","_nRounds","object","219812ZvLYHy","_invKeySchedule","createCommonjsModule","12914OLvWlB","665505UuywCq","words","_createHelper","exports","CryptoJS","_key","amd","_keyPriorReset","BlockCipher","AES"];return(bp=function(){return t})()}var Sp=Ep;function Ep(t,e){var s=wp();return(Ep=function(t,e){return s[t-=220]})(t,e)}function wp(){var t=["./enc-base64","exports","1032spkHTf","324364kyBzJa","_rBlock","_des2","./evpkdf","call","./cipher-core","commonjsGlobal","6102387YvhIzE","DES","./core","_des1","_des3","_lBlock","_subKeys","length","33WYMvmp","1MBhrzq","36gbknyb","decryptBlock","object","BlockCipher","createCommonjsModule","create","383360uqrFhg","./md5","encryptBlock","slice","CryptoJS","_createHelper","createEncryptor","207240bYkgVQ","133528CGuHHN","329qnBnUq","_invSubKeys","_doCryptBlock","amd","1560054MVBchJ","_key","TripleDES","540180pUKJJo"];return(wp=function(){return t})()}!function(t,e){for(var s=Ep,i=t();;)try{if(555234===-parseInt(s(257))/1*(-parseInt(s(234))/2)+-parseInt(s(256))/3*(-parseInt(s(241))/4)+-parseInt(s(237))/5*(-parseInt(s(258))/6)+parseInt(s(230))/7*(-parseInt(s(229))/8)+parseInt(s(248))/9+-parseInt(s(221))/10+-parseInt(s(228))/11*(parseInt(s(240))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(wp);ne[Sp(262)]((function(t,e){var s,i,r;s=ne[Sp(247)],i=function(t){return function(){var e=Ep,s=t,i=s.lib,r=i.WordArray,n=i[e(261)],o=s.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=n.extend({_doReset:function(){for(var t=e,s=this[t(235)].words,i=[],r=0;r<56;r++){var n=a[r]-1;i[r]=s[n>>>5]>>>31-n%32&1}for(var o=this[t(254)]=[],c=0;c<16;c++){var d=o[c]=[],u=l[c];for(r=0;r<24;r++)d[r/6|0]|=i[(h[r]-1+u)%28]<<31-r%6,d[4+(r/6|0)]|=i[28+(h[r+24]-1+u)%28]<<31-r%6;for(d[0]=d[0]<<1|d[0]>>>31,r=1;r<7;r++)d[r]=d[r]>>>4*(r-1)+3;d[7]=d[7]<<5|d[7]>>>27}var p=this[t(231)]=[];for(r=0;r<16;r++)p[r]=o[15-r]},encryptBlock:function(t,s){var i=e;this._doCryptBlock(t,s,this[i(254)])},decryptBlock:function(t,s){this[e(232)](t,s,this._invSubKeys)},_doCryptBlock:function(t,s,i){var r=e;this[r(253)]=t[s],this[r(242)]=t[s+1],p[r(245)](this,4,252645135),p[r(245)](this,16,65535),f[r(245)](this,2,858993459),f.call(this,8,16711935),p[r(245)](this,1,1431655765);for(var n=0;n<16;n++){for(var o=i[n],a=this[r(253)],h=this._rBlock,l=0,u=0;u<8;u++)l|=c[u][((h^o[u])&d[u])>>>0];this[r(253)]=h,this[r(242)]=a^l}var m=this[r(253)];this[r(253)]=this._rBlock,this[r(242)]=m,p[r(245)](this,1,1431655765),f[r(245)](this,8,16711935),f.call(this,2,858993459),p.call(this,16,65535),p[r(245)](this,4,252645135),t[s]=this[r(253)],t[s+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function p(t,s){var i=e,r=(this[i(253)]>>>t^this[i(242)])&s;this[i(242)]^=r,this[i(253)]^=r<<t}function f(t,s){var i=e,r=(this[i(242)]>>>t^this[i(253)])&s;this._lBlock^=r,this[i(242)]^=r<<t}s[e(249)]=n._createHelper(u);var m=o[e(236)]=n.extend({_doReset:function(){var t=e,s=this[t(235)].words;if(2!==s[t(255)]&&4!==s[t(255)]&&s[t(255)]<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var i=s[t(224)](0,2),n=s[t(255)]<4?s[t(224)](0,2):s[t(224)](2,4),o=s[t(255)]<6?s[t(224)](0,2):s[t(224)](4,6);this[t(251)]=u[t(227)](r[t(220)](i)),this[t(243)]=u[t(227)](r[t(220)](n)),this[t(252)]=u[t(227)](r[t(220)](o))},encryptBlock:function(t,s){var i=e;this[i(251)][i(223)](t,s),this[i(243)][i(259)](t,s),this[i(252)][i(223)](t,s)},decryptBlock:function(t,s){var i=e;this[i(252)].decryptBlock(t,s),this[i(243)].encryptBlock(t,s),this[i(251)][i(259)](t,s)},keySize:6,ivSize:2,blockSize:2});s[e(236)]=n[e(226)](m)}(),t.TripleDES},(r=Ep)(260)==r(260)?t[r(239)]=i(Gd):i(s[r(225)])}));function Tp(t,e){var s=Ip();return(Tp=function(t,e){return s[t-=468]})(t,e)}function Ip(){var t=["RC4","144uMfAlg","cfg","lib","extend","algo","object","./md5","./core","words","exports","drop","_key","CryptoJS","commonjsGlobal","6PqOidt","./cipher-core","call","704565GTriwu","1088535xSgwta","195AsbqBG","RC4Drop","sigBytes","105234ZqdngJ","amd","537248GgqhPe","function","1508215DbQcHk","8ZJZsqy","_doReset","44oTxUFh","240910bDaTdZ"];return(Ip=function(){return t})()}!function(t,e){for(var s=Tp,i=t();;)try{if(211941===parseInt(s(473))/1*(parseInt(s(486))/2)+parseInt(s(476))/3+parseInt(s(478))/4+-parseInt(s(480))/5*(parseInt(s(468))/6)+parseInt(s(472))/7+parseInt(s(481))/8*(parseInt(s(471))/9)+parseInt(s(484))/10*(parseInt(s(483))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ip);re((function(t,e){var s,i,r,n=Tp;s=ne[n(499)],i=function(t){var e=n;return function(){var e=Tp,s=t,i=s[e(488)].StreamCipher,r=s[e(490)],n=r[e(485)]=i.extend({_doReset:function(){for(var t=e,s=this[t(497)],i=s[t(494)],r=s[t(475)],n=this._S=[],o=0;o<256;o++)n[o]=o;o=0;for(var a=0;o<256;o++){var h=o%r,l=i[h>>>2]>>>24-h%4*8&255;a=(a+n[o]+l)%256;var c=n[o];n[o]=n[a],n[a]=c}this._i=this._j=0},_doProcessBlock:function(t,s){var i=e;t[s]^=o[i(470)](this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,s=this._j,i=0,r=0;r<4;r++){s=(s+t[e=(e+1)%256])%256;var n=t[e];t[e]=t[s],t[s]=n,i|=t[(t[e]+t[s])%256]<<24-8*r}return this._i=e,this._j=s,i}s[e(485)]=i._createHelper(n);var a=r[e(474)]=n.extend({cfg:n[e(487)][e(489)]({drop:192}),_doReset:function(){var t=e;n[t(482)][t(470)](this);for(var s=this[t(487)][t(496)];s>0;s--)o[t(470)](this)}});s[e(474)]=i._createHelper(a)}(),t[e(485)]},(r=Tp)(491)==r(491)?t[r(495)]=i(Gd):"undefined"===r(479)&&(void 0)[r(477)]?(void 0)([r(493),"./enc-base64",r(492),"./evpkdf",r(469)],i):i(s[r(498)])}));var kp=Cp;function _p(){var t=["call","1518627PgYsRe","./md5","./evpkdf","2556567wtxAbT","Rabbit","createCommonjsModule","CryptoJS","106099oaUlik","function","110ceAtle","_createHelper","234540ZHulEK","./cipher-core","object","_key","103124vxHpYs","cfg","extend","200KKCCiy","amd","words","1261272VkkIsW","48kkGjCA","algo","StreamCipher"];return(_p=function(){return t})()}!function(t,e){for(var s=Cp,i=t();;)try{if(289863===-parseInt(s(399))/1+-parseInt(s(395))/2+parseInt(s(384))/3+parseInt(s(402))/4*(-parseInt(s(393))/5)+-parseInt(s(406))/6*(parseInt(s(391))/7)+-parseInt(s(405))/8+parseInt(s(387))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_p);ne[kp(389)]((function(t,e){var s,i,r;s=se,i=function(t){var e=Cp;return function(){var e=Cp,s=t,i=s.lib[e(382)],r=s[e(407)],n=[],o=[],a=[],h=r[e(388)]=i[e(401)]({_doReset:function(){for(var t=e,s=this[t(398)][t(404)],i=this[t(400)].iv,r=0;r<4;r++)s[r]=16711935&(s[r]<<8|s[r]>>>24)|4278255360&(s[r]<<24|s[r]>>>8);var n=this._X=[s[0],s[3]<<16|s[2]>>>16,s[1],s[0]<<16|s[3]>>>16,s[2],s[1]<<16|s[0]>>>16,s[3],s[2]<<16|s[1]>>>16],o=this._C=[s[2]<<16|s[2]>>>16,4294901760&s[0]|65535&s[1],s[3]<<16|s[3]>>>16,4294901760&s[1]|65535&s[2],s[0]<<16|s[0]>>>16,4294901760&s[2]|65535&s[3],s[1]<<16|s[1]>>>16,4294901760&s[3]|65535&s[0]];for(this._b=0,r=0;r<4;r++)l[t(383)](this);for(r=0;r<8;r++)o[r]^=n[r+4&7];if(i){var a=i.words,h=a[0],c=a[1],d=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=d>>>16|4294901760&u,f=u<<16|65535&d;for(o[0]^=d,o[1]^=p,o[2]^=u,o[3]^=f,o[4]^=d,o[5]^=p,o[6]^=u,o[7]^=f,r=0;r<4;r++)l.call(this)}},_doProcessBlock:function(t,s){var i=e,r=this._X;l[i(383)](this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;o<4;o++)n[o]=16711935&(n[o]<<8|n[o]>>>24)|4278255360&(n[o]<<24|n[o]>>>8),t[s+o]^=n[o]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,s=0;s<8;s++)o[s]=e[s];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,s=0;s<8;s++){var i=t[s]+e[s],r=65535&i,n=i>>>16,h=((r*r>>>17)+r*n>>>15)+n*n,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[s]=h^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}s.Rabbit=i[e(394)](h)}(),t[e(388)]},"object"===(r=Cp)(397)?t.exports=i(Gd):"undefined"===r(392)&&(void 0)[r(403)]?(void 0)(["./core","./enc-base64",r(385),r(386),r(396)],i):i(s[r(390)])}));function Cp(t,e){var s=_p();return(Cp=function(t,e){return s[t-=382]})(t,e)}var Dp=Rp;function Rp(t,e){var s=Lp();return(Rp=function(t,e){return s[t-=260]})(t,e)}function Lp(){var t=["770zlWBYG","./evpkdf","StreamCipher","algo","1110wGitoG","cfg","77124GsSAkL","_createHelper","CryptoJS","call","./core","24732QxPtOS","10194247qVYIXn","8VtXmZN","createCommonjsModule","object","1332956ZyfAFJ","commonjsGlobal","words","718120PuZDdM","5skvcYE","8863044hAMZEO","12wJqyxT","./md5","amd","exports","function","./enc-base64","RabbitLegacy","3074532XkdXcQ"];return(Lp=function(){return t})()}!function(t,e){for(var s=Rp,i=t();;)try{if(747908===-parseInt(s(275))/1+-parseInt(s(278))/2*(-parseInt(s(281))/3)+-parseInt(s(288))/4*(-parseInt(s(279))/5)+parseInt(s(280))/6+parseInt(s(271))/7*(-parseInt(s(272))/8)+parseInt(s(270))/9*(parseInt(s(263))/10)+parseInt(s(289))/11*(-parseInt(s(265))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lp);ne[Dp(273)]((function(t,e){var s,i,r;s=ne[Dp(276)],i=function(t){return function(){var e=Rp,s=t,i=s.lib[e(261)],r=s[e(262)],n=[],o=[],a=[],h=r[e(287)]=i.extend({_doReset:function(){var t=e,s=this._key[t(277)],i=this[t(264)].iv,r=this._X=[s[0],s[3]<<16|s[2]>>>16,s[1],s[0]<<16|s[3]>>>16,s[2],s[1]<<16|s[0]>>>16,s[3],s[2]<<16|s[1]>>>16],n=this._C=[s[2]<<16|s[2]>>>16,4294901760&s[0]|65535&s[1],s[3]<<16|s[3]>>>16,4294901760&s[1]|65535&s[2],s[0]<<16|s[0]>>>16,4294901760&s[2]|65535&s[3],s[1]<<16|s[1]>>>16,4294901760&s[3]|65535&s[0]];this._b=0;for(var o=0;o<4;o++)l[t(268)](this);for(o=0;o<8;o++)n[o]^=r[o+4&7];if(i){var a=i[t(277)],h=a[0],c=a[1],d=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),u=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),p=d>>>16|4294901760&u,f=u<<16|65535&d;for(n[0]^=d,n[1]^=p,n[2]^=u,n[3]^=f,n[4]^=d,n[5]^=p,n[6]^=u,n[7]^=f,o=0;o<4;o++)l.call(this)}},_doProcessBlock:function(t,e){var s=this._X;l.call(this),n[0]=s[0]^s[5]>>>16^s[3]<<16,n[1]=s[2]^s[7]>>>16^s[5]<<16,n[2]=s[4]^s[1]>>>16^s[7]<<16,n[3]=s[6]^s[3]>>>16^s[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function l(){for(var t=this._X,e=this._C,s=0;s<8;s++)o[s]=e[s];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,s=0;s<8;s++){var i=t[s]+e[s],r=65535&i,n=i>>>16,h=((r*r>>>17)+r*n>>>15)+n*n,l=((4294901760&i)*i|0)+((65535&i)*i|0);a[s]=h^l}t[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,t[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,t[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,t[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,t[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,t[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,t[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,t[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}s[e(287)]=i[e(266)](h)}(),t.RabbitLegacy},"object"===(r=Rp)(274)?t[r(284)]=i(Gd):"undefined"===r(285)&&(void 0)[r(283)]?(void 0)([r(269),r(286),r(282),r(260),"./cipher-core"],i):i(s[r(267)])}));const Pp=xp;function xp(t,e){const s=Mp();return(xp=function(t,e){return s[t-=264]})(t,e)}!function(t,e){const s=xp,i=t();for(;;)try{if(263923===-parseInt(s(276))/1+-parseInt(s(293))/2+parseInt(s(289))/3*(parseInt(s(275))/4)+-parseInt(s(284))/5+-parseInt(s(291))/6+parseInt(s(274))/7*(parseInt(s(279))/8)+parseInt(s(285))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mp);ne[Pp(273)]((function(t,e){const s=Pp;!function(e,s,i){const r=xp;r(268)==r(268)?t.exports=s(Gd):"undefined"===r(280)&&(void 0).amd?(void 0)([r(283),r(288),r(272),r(267),r(286)],s):s(e[r(266)])}(ne[s(281)],(function(t){const e=s;return function(){const e=xp;var s=t,i=s[e(292)][e(290)],r=s.algo;const n=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function l(t,s){const i=e;let r=s>>24&255,n=s>>16&255,o=s>>8&255,a=255&s,h=t[i(277)][0][r]+t.sbox[1][n];return h^=t.sbox[2][o],h+=t[i(277)][3][a],h}function c(t,s,i){const r=e;let o,a=s,h=i;for(let e=0;e<n;++e)a^=t[r(278)][e],h=l(t,a)^h,o=a,a=h,h=o;return o=a,a=h,h=o,h^=t.pbox[16],a^=t[r(278)][17],{left:a,right:h}}var d=r.Blowfish=i[e(264)]({_doReset:function(){const t=e;if(this[t(270)]!==this._key){var s=this._keyPriorReset=this[t(294)],i=s[t(282)],r=s[t(265)]/4;!function(t,s,i){const r=e;for(let e=0;e<4;e++){t[r(277)][e]=[];for(let s=0;s<256;s++)t[r(277)][e][s]=a[e][s]}let n=0;for(let e=0;e<18;e++)t.pbox[e]=o[e]^s[n],n++,n>=i&&(n=0);let h=0,l=0,d=0;for(let e=0;e<18;e+=2)d=c(t,h,l),h=d[r(271)],l=d[r(287)],t.pbox[e]=h,t[r(278)][e+1]=l;for(let e=0;e<4;e++)for(let s=0;s<256;s+=2)d=c(t,h,l),h=d[r(271)],l=d[r(287)],t.sbox[e][s]=h,t[r(277)][e][s+1]=l}(h,i,r)}},encryptBlock:function(t,s){const i=e;var r=c(h,t[s],t[s+1]);t[s]=r[i(271)],t[s+1]=r[i(287)]},decryptBlock:function(t,s){var i=function(t,s,i){const r=e;let n,o=s,a=i;for(let e=17;e>1;--e)o^=t[r(278)][e],a=l(t,o)^a,n=o,o=a,a=n;return n=o,o=a,a=n,a^=t.pbox[1],o^=t[r(278)][0],{left:o,right:a}}(h,t[s],t[s+1]);t[s]=i.left,t[s+1]=i.right},blockSize:2,keySize:4,ivSize:2});s[e(269)]=i._createHelper(d)}(),t[e(269)]}))}));function Mp(){const t=["right","./enc-base64","18tVEFqp","BlockCipher","275640EBZvbD","lib","199860qerzYm","_key","extend","sigBytes","CryptoJS","./evpkdf","object","Blowfish","_keyPriorReset","left","./md5","createCommonjsModule","35OUIxfk","267676KRyMnf","307415KXAMoP","sbox","pbox","521976nDqpUq","function","commonjsGlobal","words","./core","1681665ElIVzt","2932128ugsBzC","./cipher-core"];return(Mp=function(){return t})()}var Bp=Fp;function Fp(t,e){var s=Up();return(Fp=function(t,e){return s[t-=439]})(t,e)}function Up(){var t=["./pad-ansix923","./tripledes","./pad-iso10126","./ripemd160","./sha512","./format-hex","./mode-ctr-gladman","45053FtUkeO","CryptoJS","./mode-cfb","./rabbit","44787UJeUum","object","192OpUQYG","exports","1535454rgscaV","./rabbit-legacy","./pbkdf2","./pad-zeropadding","./lib-typedarrays","64488hvSBrW","./mode-ctr","2054QcpmbG","amd","./md5","createCommonjsModule","./evpkdf","function","./hmac","./sha1","./blowfish","71384ZeNxMs","./cipher-core","54955HMvhdy","./enc-utf16","8QfVJAf","3565630pxWAAC","./sha224","./mode-ofb","91cMJGqW","./sha256","./enc-base64","./rc4","14xdYNDX","11tESSIv","./sha384","./core"];return(Up=function(){return t})()}!function(t,e){for(var s=Fp,i=t();;)try{if(212407===-parseInt(s(472))/1*(parseInt(s(461))/2)+-parseInt(s(476))/3*(parseInt(s(453))/4)+-parseInt(s(451))/5*(-parseInt(s(478))/6)+parseInt(s(457))/7*(-parseInt(s(449))/8)+-parseInt(s(480))/9+-parseInt(s(454))/10*(parseInt(s(462))/11)+-parseInt(s(485))/12*(-parseInt(s(440))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Up);var Op=ne[Bp(443)]((function(t,e){var s,i,r;s=se,i=function(t){return t},"object"===(r=Fp)(477)?t[r(479)]=Gd:"undefined"===r(445)&&(void 0)[r(441)]?(void 0)([r(464),"./x64-core",r(484),r(452),r(459),"./enc-base64url",r(442),r(447),r(458),r(455),r(469),r(463),"./sha3",r(468),r(446),r(482),r(444),r(450),r(474),r(439),r(471),r(456),"./mode-ecb",r(465),r(467),"./pad-iso97971",r(483),"./pad-nopadding",r(470),"./aes",r(466),r(460),r(475),r(481),r(448)],i):s[r(473)]=s[r(473)]}));function Np(t,e){const s=Wp();return(Np=function(t,e){return s[t-=357]})(t,e)}function jp(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function Vp(t){const e=Np,s=[];for(let i=0;i<t[e(379)];i+=1)s[i>>>2]|=t[i]<<24-i%4*8;return Op[e(364)][e(373)][e(365)](s,t[e(379)])}function Wp(){const t=["toString","Counter","catch","207896hfAZNN","93917XZRQyi","length","includes","8830262BjaCJe","72iMHmbD","7269YHRsCJ","slice","6nspSHz","decrypt","5599uWBZIQ","ctr","10ZtDXCI","byteLength","lib","create","ModeOfOperation","set","663445CJBVkz","1004zRxCvF","get","5604sGAAjc","8469460csGctp","WordArray"];return(Wp=function(){return t})()}!function(t,e){const s=Np,i=t();for(;;)try{if(655990===parseInt(s(378))/1*(-parseInt(s(362))/2)+-parseInt(s(383))/3*(-parseInt(s(369))/4)+-parseInt(s(368))/5*(-parseInt(s(358))/6)+parseInt(s(381))/7+-parseInt(s(377))/8*(-parseInt(s(382))/9)+-parseInt(s(372))/10+parseInt(s(360))/11*(-parseInt(s(371))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wp),function(t,e){const s=Qp,i=t();for(;;)try{if(973225===parseInt(s(439))/1*(-parseInt(s(449))/2)+parseInt(s(432))/3*(-parseInt(s(447))/4)+-parseInt(s(436))/5*(-parseInt(s(428))/6)+parseInt(s(434))/7+parseInt(s(427))/8+parseInt(s(448))/9*(parseInt(s(441))/10)+-parseInt(s(435))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(of);const Gp=16,zp=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],Hp=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function Kp(t){const e=Qp,s=[];for(let i=0,r=t[e(422)];i<r;i+=2)s[e(437)](parseInt(t[e(424)](i,2),16));return s}function qp(t){const e=Qp;return t[e(452)]((t=>1===(t=t[e(433)](16)).length?"0"+t:t)).join("")}function Yp(t){const e=Qp,s=[];for(let i=0,r=t.length;i<r;i++){const r=t[e(426)](i);if(r<=127)s[e(437)](r);else if(r<=2047)s[e(437)](192|r>>>6),s[e(437)](128|63&r);else if(r<=55295||r>=57344&&r<=65535)s.push(224|r>>>12),s.push(128|r>>>6&63),s[e(437)](128|63&r);else{if(!(r>=65536&&r<=1114111))throw s[e(437)](r),new Error(e(425));i++,s[e(437)](240|r>>>18&28),s[e(437)](128|r>>>12&63),s[e(437)](128|r>>>6&63),s[e(437)](128|63&r)}}return s}function Qp(t,e){const s=of();return(Qp=function(t,e){return s[t-=421]})(t,e)}function Jp(t){const e=Qp,s=[];for(let i=0,r=t[e(422)];i<r;i++)t[i]>=240&&t[i]<=247?(s.push(String[e(450)](((7&t[i])<<18)+((63&t[i+1])<<12)+((63&t[i+2])<<6)+(63&t[i+3]))),i+=3):t[i]>=224&&t[i]<=239?(s[e(437)](String[e(450)](((15&t[i])<<12)+((63&t[i+1])<<6)+(63&t[i+2]))),i+=2):t[i]>=192&&t[i]<=223?(s[e(437)](String.fromCodePoint(((31&t[i])<<6)+(63&t[i+1]))),i++):s[e(437)](String.fromCodePoint(t[i]));return s[e(440)]("")}function Xp(t,e){const s=31&e;return t<<s|t>>>32-s}function $p(t){return(255&zp[t>>>24&255])<<24|(255&zp[t>>>16&255])<<16|(255&zp[t>>>8&255])<<8|255&zp[255&t]}function Zp(t){return t^Xp(t,2)^Xp(t,10)^Xp(t,18)^Xp(t,24)}function tf(t){return t^Xp(t,13)^Xp(t,23)}function ef(t,e,s){const i=new Array(4),r=new Array(4);for(let e=0;e<4;e++)r[0]=255&t[4*e],r[1]=255&t[4*e+1],r[2]=255&t[4*e+2],r[3]=255&t[4*e+3],i[e]=r[0]<<24|r[1]<<16|r[2]<<8|r[3];for(let t,e=0;e<32;e+=4)t=i[1]^i[2]^i[3]^s[e+0],i[0]^=Zp($p(t)),t=i[2]^i[3]^i[0]^s[e+1],i[1]^=Zp($p(t)),t=i[3]^i[0]^i[1]^s[e+2],i[2]^=Zp($p(t)),t=i[0]^i[1]^i[2]^s[e+3],i[3]^=Zp($p(t));for(let t=0;t<16;t+=4)e[t]=i[3-t/4]>>>24&255,e[t+1]=i[3-t/4]>>>16&255,e[t+2]=i[3-t/4]>>>8&255,e[t+3]=255&i[3-t/4]}function sf(t,e,s){const i=new Array(4),r=new Array(4);for(let e=0;e<4;e++)r[0]=255&t[0+4*e],r[1]=255&t[1+4*e],r[2]=255&t[2+4*e],r[3]=255&t[3+4*e],i[e]=r[0]<<24|r[1]<<16|r[2]<<8|r[3];i[0]^=2746333894,i[1]^=1453994832,i[2]^=1736282519,i[3]^=2993693404;for(let t,s=0;s<32;s+=4)t=i[1]^i[2]^i[3]^Hp[s+0],e[s+0]=i[0]^=tf($p(t)),t=i[2]^i[3]^i[0]^Hp[s+1],e[s+1]=i[1]^=tf($p(t)),t=i[3]^i[0]^i[1]^Hp[s+2],e[s+2]=i[2]^=tf($p(t)),t=i[0]^i[1]^i[2]^Hp[s+3],e[s+3]=i[3]^=tf($p(t));if(0===s)for(let t,s=0;s<16;s++)t=e[s],e[s]=e[31-s],e[31-s]=t}function rf(t,e,s){const i=Qp;let{padding:r=i(438),mode:n,iv:o=[],output:a=i(423)}=arguments[i(422)]>3&&void 0!==arguments[3]?arguments[3]:{};if("cbc"===n&&("string"==typeof o&&(o=Kp(o)),16!==o[i(422)]))throw new Error(i(444));if("string"==typeof e&&(e=Kp(e)),16!==e[i(422)])throw new Error(i(421));if(t=typeof t===i(423)?0!==s?Yp(t):Kp(t):[...t],("pkcs#5"===r||r===i(438))&&0!==s){const e=Gp-t[i(422)]%Gp;for(let s=0;s<e;s++)t[i(437)](e)}const h=new Array(32);sf(e,h,s);const l=[];let c=o,d=t[i(422)],u=0;for(;d>=Gp;){const e=t[i(442)](u,u+16),r=new Array(16);if(n===i(430))for(let t=0;t<Gp;t++)0!==s&&(e[t]^=c[t]);ef(e,r,h);for(let t=0;t<Gp;t++)n===i(430)&&0===s&&(r[t]^=c[t]),l[u+t]=r[t];"cbc"===n&&(c=0!==s?r:e),d-=Gp,u+=Gp}if(("pkcs#5"===r||r===i(438))&&0===s){const t=l[i(422)],e=l[t-1];for(let s=1;s<=e;s++)if(l[t-s]!==e)throw new Error(i(445));l[i(429)](t-e,e)}return a!==i(431)?0!==s?qp(l):Jp(l):l}function nf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function of(){const t=["join","10dsRezu","slice","set","iv is invalid","padding is invalid","includes","523980UsFadi","17211483wanHmD","2aWjljD","fromCodePoint","arrayBuffer.length","map","byteLength","key is invalid","length","string","substr","input is not supported","codePointAt","2458432zsizdK","10300782MIhEai","splice","cbc","array","15YyRERi","toString","7032872liGBxr","34436083tFjgux","5nomRPe","push","pkcs#7","182431fNTtTD"];return(of=function(){return t})()}function af(t,e,s){const i=lf;for(let r=2;r<t.length;++r){const n=r-2,o=e[n%e[i(247)]],a=s[n%s[i(247)]];t[r]=t[r]^o^a}return t}function hf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}function lf(t,e){const s=cf();return(lf=function(t,e){return s[t-=243]})(t,e)}function cf(){const t=["184aVZlLb","105785yFNNLK","byteLength","677529IbqwSD","includes","816348owrgfs","114989tRAPDL","36eouxOA","62594cyWPoF","set","130RSuYsZ","192304QWUsWN","503889SfevqG","slice","length"];return(cf=function(){return t})()}function df(){var t=["length","slice","byteLength","includes","iv is error!","13703229KRDjeR","105kdoqRQ","min","data is error!","cipher is error!","881616JLILzw","log","4242184SLwTZH","3573050GACDGZ","15919cbCPPN","ceil","73194TbbBDh","126992DsbKxv","42vtAZXP","sm4 key is error!"];return(df=function(){return t})()}function uf(t,e){var s=df();return(uf=function(t,e){return s[t-=262]})(t,e)}function pf(t){return t[3]|t[2]<<8|t[1]<<16|t[0]<<24}!function(t,e){const s=lf,i=t();for(;;)try{if(265144===parseInt(s(256))/1+parseInt(s(244))/2+-parseInt(s(245))/3+parseInt(s(255))/4*(-parseInt(s(249))/5)+-parseInt(s(253))/6+parseInt(s(254))/7*(-parseInt(s(248))/8)+parseInt(s(251))/9*(parseInt(s(243))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cf),function(t,e){for(var s=uf,i=t();;)try{if(657840===-parseInt(s(277))/1+-parseInt(s(279))/2*(-parseInt(s(281))/3)+parseInt(s(275))/4+parseInt(s(276))/5+parseInt(s(273))/6+parseInt(s(269))/7*(-parseInt(s(280))/8)+-parseInt(s(268))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(df);const ff=new Array(214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72),mf=new Array(2746333894,1453994832,1736282519,2993693404),gf=new Array(462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257);function yf(t,e,s,i,r){var n=uf,o=r;o=e+r>t[n(263)]&&i+r<=s[n(263)]?t[n(263)]-e:i+r>s[n(263)]&&e+r<=t[n(263)]?s[n(263)]-i:e+r<=t[n(263)]&&i+r<=s[n(263)]?r:s[n(263)]<t[n(263)]?s[n(263)]-i:t[n(263)]-i;for(var a=0;a<o;a++)s[a+i]=t[a+e]}function Af(t){return new Array(t>>24&255,t>>16&255,t>>8&255,255&t)}function vf(t,e){var s=uf;return e+3<t.length?t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]:e+2<t.length?t[e+1]<<16|t[e+2]<<8|t[e+3]:e+1<t[s(263)]?t[e]<<8|t[e+1]:t[e]}function bf(t){var e=new Array(36),s=function(t){for(var e=uf,s=Math[e(278)](t[e(263)]/4),i=new Array(s),r=0;r<t[e(263)];r++)t[r]=255&t[r];for(r=0;r<i[e(263)];r++)i[r]=vf(t,4*r);return i}(t);e[0]=s[0]^mf[0],e[1]=s[1]^mf[1],e[2]=s[2]^mf[2],e[3]=s[3]^mf[3];for(var i=new Array(32),r=0;r<32;r++)e[r+4]=e[r]^Sf(e[r+1]^e[r+2]^e[r+3]^gf[r]),i[r]=e[r+4];return i}function Sf(t){var e=new Array(4),s=Af(t);e[0]=ff[255&s[0]],e[1]=ff[255&s[1]],e[2]=ff[255&s[2]],e[3]=ff[255&s[3]];var i=vf(e,0);return i^(i<<13|i>>>19)^(i<<23|i>>>9)}function Ef(t,e){var s=new Array(36);s[0]=vf(e,0),s[1]=vf(e,4),s[2]=vf(e,8),s[3]=vf(e,12);for(var i=0;i<32;i++)s[i+4]=s[i]^wf(s[i+1]^s[i+2]^s[i+3]^t[i]);var r=new Array(4);for(i=35;i>=32;i--)r[35-i]=s[i];return function(t){for(var e=uf,s=new Array(4*t[e(263)]),i=0;i<t[e(263)];i++)yf(Af(t[i]),0,s,4*i,4);return s}(r)}function wf(t){var e=Af(t),s=new Array(4);s[0]=ff[255&e[0]],s[1]=ff[255&e[1]],s[2]=ff[255&e[2]],s[3]=ff[255&e[3]];var i=vf(s,0);return i^(i<<2|i>>>30)^(i<<10|i>>>22)^(i<<18|i>>>14)^(i<<24|i>>>8)}function Tf(t,e,s){var i=uf;if(null==t||null==t||t.length%16!=0)return console[i(274)]("sm4 key is error!"),null;if(null==s||null==s||s[i(263)]<=0)return console[i(274)](i(272)),null;if(null==e||null==e||e.length%16!=0)return console[i(274)](i(267)),null;for(var r=bf(t),n=Math.ceil(s[i(263)]/16),o=new Array(s.length),a=e[i(264)](),h=0;h<n;h++){a=Ef(r,a);var l=new Array(16),c=16*h,d=Math[i(270)](c+16,s[i(263)]);yf(s,c,l,0,d-c);for(var u=0;u<d-c;u++)o[c+u]=l[u]^a[u]}return o}function If(){const t=[", vs start is ","emitVideoSei","_doDecodeByMp4"," -> new dts ","prevPlaybackCacheLoopTimestamp",", and set streamFps is 25",",and ts list is ","updateStats","byteLength","isSm4CryptoH265V2","isM7sCrypto","h265","setStreamFps","networkDelay","getVideoBufferListLength",", and bufferList length is ","pushBuffer() audio ts is ","isPlayVod","samples","loop demux diff time is ","dts is ","height","_calcDecodeFps","some"," < 15，maybe play slowly","preDelayTimestamp","isDestroyedOrClosed","decoderWorker","dropping","isPlaybackOnlyDecodeIFrame","ms and fragDuration is ","_isEnhancedH265Header","_reset","intervalPlaybackLoopWorker","initPlaybackCacheLoop() and fragDuration is ","_tempSampleTsList","filter","nalUnitSize",", _opt.networkDelay is ","_decodeNext","clearBuffer","size","useWCS","decoderCheckFirstIFrame","geVodLoadedTime"," and\n                    ts is ","addAACSequenceHeader","hasIframeInBufferList","delay","isStreamTypeNotWorker","isRateMoreThanMaxRate","debugLog",",ts List length is ","isIFrame","pushLatestDelay","isUseMSE","playbackStreamVideoFps",",\n                    diff is "," and notDroppingDelayTs is ","useWCS, page visibility is false and\n                                history interval diff is ","now","PACKET_TYPE_FRAMESX","loop() bufferList is empty and reset delay to -1","off","TAG_NAME","...","sm4CryptoKey"," and bufferList length is ","initInterval() and is vod mp4 so return","player","dts","isSm4Crypto","isXorCrypto","demux() isVideoSequenceHeader is true and isHevc is ","playbackCacheLoop visibility is ","preTimestamp"," and dropBuffer$2()"," > timestamp is ","bufferStartLocalTs",", clear and use base fps update ","join","forEach","intervalUseWorker",", ts List length is ","worker",", isVideoSequenceHeader is true","setInterval()","correctSamplePts","getInputByteLength","1152mNjyVj","useMSE","660UGpsKK","_basefps","_doDecodeByTs","doPlaybackCacheLoop"," and set dropping is true","preIframeTs","getAudioBufferLength","isEmitSEI","ms and diffFps is ","AAC","payload","_playbackCacheLoop","initPlaybackCacheLoop","_loop","encTypeCode","decodeVideo","calcPlaybackStreamFps()  video fps is ","startTimestamp","isXorCrypto cryptoKey.length is ","getAudioBufferListLength","delayFrameAccelerateDecodeMaxNum",", delay is ","playVod","FT_KEY","prevPayloadBufferSize","calcDelayFrameAccelerateDecodeMaxNum"," null","_calcDecodeFps()  _tempSampleTsList is more than ","old dts ","playbackStreamAudioFps","slice","getDelayFrameAccelerateDecodeMaxNum","getStreamType","2148nhZqqw","dropBuffer$2","mseDecodeAudio","debugWarn","concat","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","type","calcPlaybackStreamFps, calc streamVideoFps is ","\n                    and resetAllDelay()","getBufferListVideoTsList","isStreamTsMoreThanLocal","interval","playbackPause"," less than ","playbackStreamFps","getNotDroppingDelayTs","push","ceil","debugError","_loop delay is ","pushBuffer() video\n                    ts is ","_isDestroyed"," and ignore","cryptoPayload","_doDecodeByFmp4","updateVideoInfo","_doDecode","getDelay"," and bufferStartDts is ","prevEmitNetworkDelayTimestamp","handleRecording","1854PoZOAL","resetDelay","calcPlaybackStreamFps"," pushBuffer audio ts is ","535660GHSwds",", old base fps is ","cryptoKey","isRecordTypeFlv","_postMessageToLoopWorker",", and ts list is "," less than (or equal) preTs is ","isFFmpegSIMD","isDemuxDecodeFirstIIframeInit","getVideoBufferLength",",\n                                delay is ","updateNalUnitSize","isAV1 is true, not support and can contact author wx:bosswancheng","suffixSei","firstTimestamp","getBufferListLength","stringify","calcNetworkDelay","_doDecoderDecode","calcPlaybackStreamFps, bufferListLength  is ","getVideoInfo",", playbackStreamFps is ","intervalPlayerLoopWorker","dropBuffer$2() _opt.delayFrameChasingPolicy is accelerate and iframe index ","visibility","bufferStartDts"," ,delay is ","bufferList","11251WurKny","dropBuffer$2() iFrameIndex is "," so decode all frame previous","handleAddNaluTrack","videoIframeIntervalTs","calcIframeIntervalTimestamp","preLoopTimestamp","findIndex","set","isPlayVodMp4","useOffscreen"," and new delay is ","pushBuffer() video ts is "," or cryptoIV.length is "," and prevPayloadBufferSize is "," and nalUnitSize is ","ms and return ","handleAddAudioTrack","audio","kSliceSEI","shift",", and waiting calc","delayFrameChasingPolicy","resetAllDelay"," ,buffer list is ","bound","getIsStreamTsMoreThanLocal","map","isPlaybackCacheBeforeDecodeForFpsRender","videoBuffer","mp4","_loop isPushDropping is true and bufferList length is ","cryptoIV"," and has iFrame,buffer length is ","accelerate","dropBuffer$2() isAllIframeInBufferList() is true, and index is ",", data.type is ","emit","isHistoryIntervalDiffTimeAllLarge","useMSE, page visibility is false and\n                                history interval diff is ",",local diff is ","isDropping"," more than ","indexOf","updateHistoryIntervalDiffTimeList","fromCharCode","findSei","stop","getMaxDelayTs","recording","updateBaseFps","170vgMurd"," and sync frame duration is ","isM7sCrypto cryptoKey.length is ","  and\n                                bufferList is ","_doDecodeByPs","_interval","find","_doDecodeByHls","pushLatestDelay is ","videoInfo.encTypeCode is ","pushBuffer","28091xtCbLo","oldDts","4964xdwfvU","_calcDecodeFps()  streamVideoFps is null and sample list length is ","preTimestampDuration","9ELjlRO"," > maxDelayTs ","addVideo","destroy","decodeAudio","isAllIframeInBufferList","historyIntervalDiffTimeList","isPlayer",", data.isIFrame is ","isWasmMp4","isPushDropping","_opt","cts","hls","correctSamplePts dts and list is ","_calcDecodeFps()  video fps is ","recorder","_loop is dropping and data.ts is ","875UKgcIn","getPlaybackRate","_doDecodeByHls() player is destroyed or closed","10787023PLrHdq","initInterval() and is hls and support hls265 so return","clearStopInterval","calcNetworkDelay dts is ","playType","38093HTtGKf","isPlayVodUseMSE","checkFirstIFrame","useWasm","pushBuffer() video and isIFrame is ","getDelayNotUpdateDelay() and preDelayTimestamp is ","initInterval","networkDelayTimeout","cryptoPayloadAudio","handlePlaybackPause","bind","getDelayNotUpdateDelay"," ,and new bufferList length is ","length",",start dts is ","wcsDecodeAudio","isPlayback","delay is more than networkDelay and now dts ","PACKET_TYPE_FRAMES","video","stopId","pts","encType","listenPlaybackEvents"];return(If=function(){return t})()}const kf=_f;function _f(t,e){const s=If();return(_f=function(t,e){return s[t-=234]})(t,e)}!function(t,e){const s=_f,i=t();for(;;)try{if(628222===-parseInt(s(397))/1*(-parseInt(s(448))/2)+-parseInt(s(334))/3*(-parseInt(s(461))/4)+-parseInt(s(482))/5*(-parseInt(s(365))/6)+parseInt(s(459))/7*(-parseInt(s(299))/8)+-parseInt(s(464))/9*(parseInt(s(369))/10)+parseInt(s(490))/11*(parseInt(s(301))/12)+-parseInt(s(485))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(If);class Cf extends zi{constructor(t){const e=_f;super(),this.TAG_NAME="CommonDemux",this.player=t,this._reset(),this[e(510)]=null,this.intervalPlaybackLoopWorker=null,this[e(391)]=null,this[e(422)]={_interval:this[e(453)].bind(this),_playbackCacheLoop:this[e(312)][e(500)](this),handlePlaybackPause:this[e(499)][e(500)](this)},this[e(496)](),this[e(513)](),this._isDestroyed=!1}[kf(467)](){const t=kf;this._isDestroyed=!0,this.clearStopInterval(),this[t(243)]&&(this.intervalPlaybackLoopWorker.destroy(),this[t(243)]=null),this[t(391)]&&(this[t(391)][t(467)](),this.intervalPlayerLoopWorker=null),this[t(242)](),this[t(273)](),this.bound=null}_reset(){const t=kf;this[t(396)]=[],this[t(302)]=25,this.historyIntervalDiffTimeList=[],this[t(245)]=[],this[t(348)]=null,this[t(330)]=null,this[t(266)]=null,this[t(383)]=null,this[t(318)]=null,this[t(394)]=null,this[t(288)]=null,this[t(235)]=null,this[t(403)]=null,this[t(306)]=null,this.preTimestamp=null,this.preTimestampDuration=0,this[t(325)]=0,this[t(363)]=null,this[t(518)]=null,this[t(344)]=!1,this.delay=-1,this[t(264)]=-1,this.dropping=!1,this[t(474)]=!1,this[t(247)]=null,this[t(326)]=null}listenPlaybackEvents(){const t=kf;this[t(279)][t(339)]()&&this[t(279)][t(259)]()&&(this[t(279)].debugLog(this.TAG_NAME,t(513)),this[t(279)].on(O[t(346)],this[t(422)][t(499)]))}[kf(438)](){const t=kf;return this[t(238)]||this[t(474)]}[kf(361)](t,e){const s=kf;if(!t||!this[s(279)][s(377)]())return-1;if(e===x[s(415)])return this.delay;if(this[s(235)]&&this[s(235)]>t)return this.preDelayTimestamp-t>1e3&&this[s(279)][s(337)](this[s(274)],"getDelay() and preDelayTimestamp is "+this[s(235)]+s(287)+t+s(439)+(this[s(235)]-t)+s(413)+this.delay),this.preDelayTimestamp=t,this[s(258)];if(this.firstTimestamp){if(t){const e=Date[s(270)]()-this.startTimestamp,i=t-this.firstTimestamp;e>=i?(this.isStreamTsMoreThanLocal=!1,this[s(258)]=e-i):(this[s(344)]=!0,this[s(258)]=i-e)}}else this[s(383)]=t,this[s(318)]=Date[s(270)](),this[s(258)]=-1;return this[s(235)]=t,this.delay}[kf(501)](t,e){const s=kf;if(!t||!this[s(279)][s(377)]())return-1;if(e===x[s(415)])return this.pushLatestDelay;if(this[s(235)]&&this.preDelayTimestamp-t>1e3)return this[s(279)].debugWarn(this[s(274)],s(495)+this[s(235)]+s(287)+t+s(439)+(this.preDelayTimestamp-t)+"ms and return -1"),-1;if(this[s(383)]){let e=-1;if(t){const i=Date[s(270)]()-this[s(318)],r=t-this[s(383)];e=i>=r?i-r:r-i}return e}return-1}[kf(366)](){const t=kf;this[t(383)]=null,this[t(318)]=null,this[t(258)]=-1,this.dropping=!1}[kf(420)](){const t=kf;this.resetDelay(),this[t(235)]=null}[kf(496)](){const t=kf;this.player[t(406)]()?this.player[t(261)](this[t(274)],t(278)):this.player.isUseHls265()?this[t(279)][t(261)](this[t(274)],t(486)):-1===this[t(279)][t(333)]()[t(440)](h[t(294)])?this[t(279)][t(425)]()?this[t(279)][t(261)](this.TAG_NAME,"initInterval() and playback and playbackIsCacheBeforeDecodeForFpsRender is true so return"):(this[t(279)][t(261)](this.TAG_NAME,t(296)),this._loop(),this[t(279)][t(475)][t(292)]?(!this.intervalPlayerLoopWorker&&(this[t(279)].debugLog(this[t(274)],"initInterval and _opt.intervalUseWorker is true and use IntervalWorker"),this[t(391)]=new yo),this[t(391)][t(345)](this.bound[t(453)],20)):this[t(510)]=setInterval(this[t(422)][t(453)],20)):this.player[t(261)](this[t(274)],"initInterval() and is worker stream so return")}[kf(453)](){const t=kf;if(this[t(355)])return;let e=Date[t(270)]();!this[t(403)]&&(this[t(403)]=e);const s=e-this[t(403)];this[t(441)](s),s>100&&this[t(279)][t(337)](this[t(274)],t(533)+s),this[t(314)](),this[t(403)]=e}clearStopInterval(){const t=kf;this[t(510)]&&(clearInterval(this.stopId),this[t(510)]=null),this[t(243)]&&this[t(243)][t(444)](),this.intervalPlayerLoopWorker&&this[t(391)].stop(),this[t(518)]=null}startPlaybackLoopInterval(){this.initPlaybackCacheLoop()}[kf(441)](t){const e=kf;this[e(470)][e(503)]>5&&this[e(470)][e(417)](),this[e(470)][e(350)](t)}[kf(435)](){const t=kf;if(this.historyIntervalDiffTimeList[t(503)]<5)return!1;for(let e=0;e<this[t(470)][t(503)];e++)if(this.historyIntervalDiffTimeList[e]<900)return!1;return!0}[kf(313)](){const t=kf;this[t(487)]();for(let e=0;e<this[t(279)].getPlaybackRate();e++)this[t(304)]();const e=Math.ceil(1e3/this[t(348)]);this.player[t(261)](this[t(274)],t(244)+e+t(390)+this[t(348)]),this[t(279)][t(475)].intervalUseWorker?(!this[t(243)]&&(this.player[t(261)](this.TAG_NAME,"initPlaybackCacheLoop and _opt.intervalUseWorker is true and use IntervalWorker"),this[t(243)]=new yo),this[t(243)][t(345)](this[t(422)][t(312)],e)):this[t(510)]=setInterval(this[t(422)][t(312)],e)}[kf(312)](){const t=kf,e=Je();!this[t(518)]&&(this[t(518)]=e);const s=Math[t(351)](1e3/this[t(348)]);for(let e=0;e<this.player[t(483)]();e++)this[t(304)]();let i=e-this.prevPlaybackCacheLoopTimestamp,r=parseInt(i/s);if(r>1&&this.bufferList[t(503)]>0){this[t(279)].debugWarn(this.TAG_NAME,t(284)+this.player.visibility+t(449)+i+t(240)+s+t(309)+r+t(529)+this[t(396)][t(503)]);for(let e=0;e<r;e++)for(let e=0;e<this.player.getPlaybackRate();e++)this[t(304)]()}this[t(518)]=e}[kf(304)](){const t=kf;let e=null;if(this.bufferList.length)if(e=this[t(396)][t(417)](),e[t(340)]===x[t(509)]){this.player[t(239)]()?e[t(263)]&&this._doDecoderDecode(e):this[t(387)](e);let s=this[t(396)][0];for(;s&&s[t(340)]===x[t(415)];)this.bufferList[t(417)](),this[t(279)].isPlaybackOnlyDecodeIFrame()||this[t(387)](s),s=this[t(396)][0]}else if(e[t(340)]===x.audio){this.player.isPlaybackOnlyDecodeIFrame()||this[t(387)](e);let s=this.bufferList[0];for(;s;){if(e=this[t(396)].shift(),e[t(340)]===x[t(509)]){this[t(279)][t(239)]()?e[t(263)]&&this[t(387)](e):this[t(387)](e),s=null;break}e.type===x[t(415)]&&(this._doDecoderDecode(e),s=this[t(396)][0])}}}[kf(314)](){const t=kf;let e;const s=this[t(279)][t(475)][t(426)],i=this.getMaxDelayTs(),r=this[t(279)][t(475)][t(489)]===l[t(279)];if(this[t(396)].length){if(this[t(474)])return void this[t(279)][t(337)](this[t(274)],t(428)+this.bufferList[t(503)]);if(this[t(238)]){for(e=this[t(396)][t(417)](),this.player[t(337)](this[t(274)],t(481)+e.ts+t(433)+e[t(340)]+t(472)+e.isIFrame+t(322)+this[t(258)]+t(421)+this[t(396)][t(503)]);!e.isIFrame&&this[t(396)].length;)e=this.bufferList.shift();const s=this[t(501)](e.ts,e[t(340)]);e[t(263)]&&s<=this[t(349)]()&&(this[t(279)][t(261)](this[t(274)],"_loop data isIFrame is true and delay is "+this[t(258)]),this[t(238)]=!1,this[t(387)](e),this[t(249)](e))}else if(this[t(279)][t(506)]()||this[t(279)].isPlayUseMSE()||0===s||this[t(279)][t(531)]())for(;this[t(396)][t(503)];)e=this[t(396)][t(417)](),this[t(387)](e);else if(e=this[t(396)][0],-1===this[t(361)](e.ts,e[t(340)]))this.player[t(261)](this[t(274)],"delay is -1 and ts is "+e.ts+" type is "+e[t(340)]+t(277)+this.bufferList[t(503)]),this[t(396)].shift(),this._doDecoderDecode(e),this._decodeNext(e);else if(this.delay>i&&r)this.hasIframeInBufferList()?(this[t(279)][t(337)](this[t(274)],t(353)+this.delay+t(465)+i+t(430)+this.bufferList[t(503)]+t(305)),this[t(420)](),this[t(238)]=!0,this.player.updateStats({isDropping:!0})):(this.bufferList[t(417)](),this[t(387)](e),this[t(249)](e));else for(;this.bufferList[t(503)]&&(e=this.bufferList[0],this.getDelay(e.ts,e.type)>s);)this[t(396)][t(417)](),this[t(387)](e),e[t(340)]===x[t(509)]&&this._decodeNext(e)}else-1!==this.delay&&this.player[t(261)](this.TAG_NAME,t(272)),this[t(420)]()}[kf(360)](t,e,s,i){const r=kf;let n=arguments[r(503)]>4&&void 0!==arguments[4]?arguments[4]:0;const o=this[r(279)];let a={ts:s,cts:n,type:e,isIFrame:!1};this[r(279)].isPlayer()?(e===x[r(509)]&&o[r(475)][r(489)]===l[r(279)]&&this[r(386)](s),o[r(475)][r(252)]&&!o[r(475)][r(407)]?(e===x.video&&(a[r(263)]=i),this[r(458)](t,a)):o._opt[r(300)]?(e===x[r(509)]&&(a.isIFrame=i),this.pushBuffer(t,a)):(e===x[r(509)]&&(a[r(263)]=i),this[r(458)](t,a))):this[r(279)].isPlayback()?(e===x[r(509)]&&(a[r(263)]=i),this[r(279)][r(425)]()?this[r(458)](t,a):this.player[r(239)]()?e===x[r(509)]&&i&&this[r(458)](t,a):1===this.player[r(483)]()?this[r(458)](t,a):this[r(458)](t,a,!1)):this[r(279)][r(531)]()&&(e===x[r(509)]&&(a[r(263)]=i),this[r(458)](t,a))}[kf(455)](t,e,s,i){const r=kf;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments[r(503)]>5&&void 0!==arguments[5]?arguments[5]:r(477);if(this[r(355)])return;if(this[r(279)][r(236)]())return void this.player[r(261)](this[r(274)],r(484));let a=!1;if(e===x[r(415)]&&be(t)&&(this[r(279)][r(261)](this[r(274)],o+r(368)+s+", isAacCodecPacket is true"),a=!0,this[r(279)][r(372)]())){const e=new Uint8Array(t);this[r(279)].recorder[r(256)](e,s)}let h=!1;if(e===x[r(509)]&&i&&vi(t)&&(this[r(279)][r(261)](this.TAG_NAME,o+" pushBuffer video ts is "+s+r(295)),h=!0,this[r(279)][r(372)]())){const e=new Uint8Array(t);this[r(279)][r(480)].addVideoSequenceHeader(e,s)}this[r(279)][r(446)]&&Si(h)&&Si(a)&&this[r(364)](t,e,s,i,n),this[r(279)][r(475)][r(308)]&&e===x[r(509)]&&this[r(443)](t,s),e===x.video?this.player.isPlayVod()&&Si(this[r(279)].isPlayVodUseMSE())&&this[r(279)].playVod&&this.player[r(323)][r(260)]()?i&&this[r(387)]({ts:s,cts:n,payload:t,type:x.video,isIFrame:i}):this[r(387)]({ts:s,cts:n,payload:t,type:x[r(509)],isIFrame:i}):e===x[r(415)]&&(this.player.isPlayVod()&&Si(this[r(279)][r(491)]())&&this[r(279)].playVod&&this[r(279)][r(323)][r(260)]()||this._doDecoderDecode({ts:s,payload:t,type:x[r(415)]}))}[kf(358)](t,e,s,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this[kf(360)](t,e,s,i,r)}[kf(303)](t,e,s,i){const r=kf;let n=arguments[r(503)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(360)](t,e,s,i,n)}[kf(452)](t,e,s,i){const r=kf;let n=arguments[r(503)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(360)](t,e,s,i,n)}[kf(516)](t,e,s,i){const r=kf;let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this[r(455)](t,e,s,i,n,r(427))}_decodeNext(t){const e=kf;if(t.ts,0===this[e(396)][e(503)])return;let s=this[e(396)][0];const i=t.type===x[e(509)]&&vi(t[e(311)]);if(t[e(340)]===x.audio&&s.type===x[e(509)]||i)return this.bufferList.shift(),void this[e(387)](s);if(t.type===x[e(509)])for(;s&&s.type===x.audio;)this.bufferList[e(417)](),this[e(387)](s),s=this[e(396)][0]}_doDecoderDecode(t){const e=kf,s=this[e(279)],{webcodecsDecoder:i,mseDecoder:r}=s;this.player.isPlayer()&&this[e(279)].updateStats({buf:this[e(258)]}),t.type===x[e(415)]?s[e(475)].hasAudio&&(s[e(475)][e(300)]&&s._opt[e(336)]?r[e(468)](t[e(311)],t.ts):s[e(475)][e(252)]&&s[e(475)][e(505)]?i[e(468)](t.payload,t.ts):s[e(237)]&&s[e(237)][e(468)](t[e(311)],t.ts)):t[e(340)]===x[e(509)]&&(s[e(475)].useWCS&&!s[e(475)][e(407)]?i[e(316)](t[e(311)],t.ts,t.isIFrame,t[e(476)]):s[e(475)][e(300)]?r[e(316)](t.payload,t.ts,t[e(263)],t.cts):s[e(237)]&&s.decoderWorker[e(316)](t.payload,t.ts,t[e(263)]))}[kf(458)](t,e){const s=kf;let i=!(arguments[s(503)]>2&&void 0!==arguments[2])||arguments[2];if(this[s(355)])return;const r=this.player[s(471)](),n=this[s(445)]();if(e[s(340)]===x[s(415)]&&be(t)){if(this.player.debugLog(this[s(274)],s(530)+e.ts+", isAacCodecPacket is true"),this.player[s(372)]()){const i=new Uint8Array(t);this.player.recorder[s(256)](i,e.ts)}this[s(387)]({ts:e.ts,payload:t,type:x[s(415)]})}else if(e[s(340)]===x[s(509)]&&e[s(263)]&&vi(t)){if(this[s(279)][s(261)](this[s(274)],s(409)+e.ts+s(295)),this[s(279)].isRecordTypeFlv()){const i=new Uint8Array(t);this[s(279)][s(480)].addVideoSequenceHeader(i,e.ts)}this[s(387)]({ts:e.ts,payload:t,type:x[s(509)],isIFrame:e[s(263)],cts:e[s(476)]})}else{if(this[s(279)][s(446)]&&this[s(364)](t,e[s(340)],e.ts,e[s(263)],e[s(476)]),this.player[s(475)].isEmitSEI&&e[s(340)]===x[s(509)]&&this[s(443)](t,e.ts),r&&(e[s(340)]===x[s(509)]&&(null!==this.preTimestamp&&this[s(285)]>=e.ts&&(this[s(279)][s(337)](this.TAG_NAME,s(494)+e.isIFrame+s(255)+e.ts+s(375)+this[s(285)]+" and\n                    payloadBufferSize is "+t.byteLength+s(411)+this[s(325)]),this[s(285)]-e.ts>E&&(this.player[s(337)](this[s(274)],s(354)+e.ts+", preTimestamp is "+this[s(285)]+s(267)+(this[s(285)]-e.ts)+" more than "+E+s(342)),this.resetAllDelay())),this.preTimestamp>0&&(this[s(463)]=e.ts-this.preTimestamp),this.prevPayloadBufferSize=t.byteLength,this.preTimestamp=e.ts),this[s(279)][s(377)]())){let t=this[s(501)](e.ts,e[s(340)]);this[s(264)]=t,this[s(258)]>0&&t>n&&this.delay<n&&this[s(257)]()&&!1===this[s(474)]&&(this.player[s(337)](this[s(274)],s(456)+t+" > "+n+", bufferList is "+this[s(396)][s(503)]+", delay is "+this[s(258)]+s(286)),this.dropBuffer$2()),this[s(435)]()&&Si(this.player[s(393)])&&(this[s(279)][s(475)][s(300)]?this[s(257)]()&&!1===this[s(474)]&&(this[s(279)][s(337)](this.TAG_NAME,s(436)+this[s(470)].join(",")+s(451)+this[s(396)][s(503)]+s(379)+this[s(258)]+" and dropBuffer$2()"),this[s(335)]()):this[s(257)]()&&!1===this.isPushDropping&&(this.player[s(337)](this[s(274)],s(269)+this.historyIntervalDiffTimeList[s(290)](",")+s(451)+this[s(396)].length+s(379)+this[s(258)]+s(286)),this[s(335)]()))}i?e[s(340)]===x[s(415)]?this[s(396)].push({ts:e.ts,payload:t,type:x.audio}):e.type===x[s(509)]&&this[s(396)].push({ts:e.ts,cts:e.cts,payload:t,type:x.video,isIFrame:e[s(263)]}):e.type===x.video?this._doDecoderDecode({ts:e.ts,cts:e[s(476)],payload:t,type:x.video,isIFrame:e[s(263)]}):e[s(340)]===x[s(415)]&&this[s(387)]({ts:e.ts,payload:t,type:x[s(415)]}),this[s(367)]()}}[kf(367)](){const t=kf;if(this[t(279)][t(425)]()&&Rs(this[t(266)])){let e=ui(this.bufferList,x[t(509)]);if(e>0){const s=this[t(343)](this.bufferList);this[t(279)][t(261)](this[t(274)],t(317)+e+", ts List length is "+s[t(503)]+t(374)+JSON.stringify(s)),e<15&&this[t(279)][t(337)](this[t(274)],t(341)+e+" < 15, maybe play slowly"),this[t(266)]=e,this.player[t(509)]&&this.player[t(509)][t(526)](this.playbackStreamVideoFps),this.playbackStreamFps=e,this.initPlaybackCacheLoop()}else{const e=100;if(this[t(396)][t(503)]>=e){const s=this[t(343)](this[t(396)]);this[t(279)][t(337)](this.TAG_NAME,t(388)+this.bufferList[t(503)]+t(439)+e+",ts List length is "+s[t(503)]+t(520)+JSON.stringify(s)+t(519)),this[t(266)]=25,this[t(279)][t(509)]&&this[t(279)][t(509)][t(526)](this[t(266)]),this[t(348)]=this[t(266)],this[t(313)]()}}}}dropBuffer$2(){const t=kf;if(this[t(396)][t(503)]>0){let e=this.bufferList[t(404)]((e=>{const s=t;return bi(e[s(263)])&&e.type===x[s(509)]}));if(this[t(469)]())for(let s=0;s<this[t(396)][t(503)];s++){const i=this[t(396)][s],r=this.getDelayNotUpdateDelay(i.ts,i[t(340)]);if(r>=this[t(349)]()){this[t(279)][t(261)](this[t(274)],t(432)+s+" and tempDelay is "+r+t(268)+this[t(349)]()),e=s;break}}if(e>=0){this[t(474)]=!0,this[t(279)][t(521)]({isDropping:!0});const s=this[t(396)][t(503)];if(this.player[t(475)][t(419)]===v[t(431)]&&e<=this[t(332)]()){this.player[t(261)](this[t(274)],t(392)+e+t(347)+this[t(332)]()+t(399));this[t(396)][t(331)](0,e-1)[t(291)]((e=>{this[t(387)](e)}))}this[t(396)]=this.bufferList[t(331)](e);const i=this[t(396)][t(417)]();this[t(420)](),this.getDelay(i.ts,i.type),this[t(387)](i),this[t(474)]=!1,this[t(279)][t(261)](this[t(274)],t(398)+e+",and old bufferList length is "+s+t(502)+this.bufferList[t(503)]+t(408)+this.delay+" ")}else this[t(474)]=!1}0===this[t(396)][t(503)]&&(this[t(474)]=!1)}[kf(250)](){const t=kf;let e=arguments[t(503)]>0&&void 0!==arguments[0]&&arguments[0];this.player[t(261)](this[t(274)],"clearBuffer,buffer length is "+this[t(396)][t(503)]+", need clear is "+e+" and _opt.checkFirstIFrame is "+this[t(279)][t(475)][t(492)]),e&&(this[t(396)]=[]),this[t(279)].isPlayer()&&(this[t(420)](),bi(this.player[t(475)][t(492)])&&(this[t(238)]=!0,this[t(279)][t(521)]({isDropping:!0}))),this[t(279)][t(253)]()}[kf(386)](t){const e=kf;if(!(this.player.isDemuxDecodeFirstIIframeInit()&&t>0))return;null===this.bufferStartDts?(this[e(394)]=t,this.bufferStartLocalTs=Je()):t<this[e(394)]&&(this[e(279)].debugWarn(this.TAG_NAME,e(488)+t+e(362)+this.bufferStartDts),this.bufferStartDts=t,this.bufferStartLocalTs=Je());let s=t-this[e(394)],i=Je()-this.bufferStartLocalTs,r=i>s?i-s:0;if(r>this[e(279)][e(475)].networkDelay&&this.player[e(475)][e(489)]===l[e(279)]){let n=!1;const o=Je();null===this[e(363)]&&(n=!0,this[e(363)]=o),(o-this[e(363)]>=1e3||n)&&(this[e(279)][e(337)](this[e(274)],e(507)+t+e(504)+this.bufferStartDts+e(514)+s+e(437)+i+e(395)+r+e(248)+this[e(279)][e(475)][e(527)]),this[e(279)][e(434)](O[e(497)],r),this[e(363)]=o)}this[e(279)][e(521)]({netBuf:r})}calcIframeIntervalTimestamp(t){const e=kf;if(null===this[e(306)])this[e(306)]=t;else if(this[e(306)]<t){const s=t-this[e(306)];this[e(279)]&&(this[e(279)][e(401)]=s),this[e(306)]=t}}calcBufferFps(t){}[kf(349)](){const t=kf;return this.player._opt[t(426)]+this[t(279)][t(475)].videoBufferDelay/2}[kf(445)](){const t=kf;return this[t(279)][t(475)][t(426)]+this[t(279)][t(475)].videoBufferDelay}getPushLatestDelay(){return this[kf(264)]}[kf(378)](){const t=kf;let e=0;return this.bufferList[t(291)]((s=>{const i=t;s.type===x[i(509)]&&(e+=1)})),e}[kf(307)](){const t=kf;let e=0;return this[t(396)].forEach((s=>{const i=t;s.type===x[i(415)]&&(e+=1)})),e}[kf(257)](){const t=kf;return this[t(396)][t(537)]((e=>{const s=t;return e.type===x[s(509)]&&e[s(263)]}))}isAllIframeInBufferList(){const t=kf,e=this.getVideoBufferLength();let s=0;return this.bufferList[t(291)]((e=>{const i=t;e[i(340)]===x[i(509)]&&e[i(263)]&&(s+=1)})),e===s}[kf(298)](){return 0}[kf(423)](){return this[kf(344)]}close(){}reset(){}[kf(443)](t,e){const s=kf;let i=arguments[s(503)]>2&&void 0!==arguments[2]&&arguments[2],r=4;Ps(this.nalUnitSize)&&(r=this[s(247)]);const n=je(t[s(331)](5),r);if(Si(i)){const t=this.player[s(389)]();t&&t[s(512)]&&(i=t[s(512)]===q[s(525)])}n[s(291)]((t=>{const r=s,n=i?t[0]>>>1&63:31&t[0],o=i&&(n===$[r(382)]||n===$.prefixSei),a=Si(i)&&n===X[r(416)];if(o||a){const s=We(Ve(t),i);this[r(279)][r(515)]({ts:e,data:s[r(311)],originData:t,type:s[r(340)],uuid:s.uuid,size:s[r(251)]})}}))}handleRecording(t,e,s,i,r){const n=kf;if(this[n(279)][n(372)]()){const i=new Uint8Array(t);e===x[n(509)]?this[n(279)][n(480)][n(466)](i,s):e===x.audio&&this.player[n(480)].addAudio(i,s)}else if(this[n(279)].isRecordTypeMp4()){const o=new Uint8Array(t);if(this[n(279)][n(480)][n(473)]()){if(e===x[n(509)])this[n(279)][n(480)][n(400)](o.slice(5),i,s,r);else if(e===x.audio){const e=new Uint8Array(t);this.player[n(480)][n(414)](Se(e)?e.slice(2):e[n(331)](1),s)}}else e===x.video&&this.player[n(480)][n(400)](o.slice(5),i,s,r)}}[kf(380)](t){const e=kf,s=15&t[0];this.player.video[e(359)]({encTypeCode:s});const i=s===K[e(525)];this[e(247)]=function(t,e){const s=Oe;let i=null;return e?t[s(472)]>=28&&(i=1+(3&t[26])):t[s(472)]>=12&&(i=1+(3&t[9])),i}(t,i),this.player[e(261)](this[e(274)],e(283)+i+e(412)+this[e(247)])}[kf(357)](t,e){const s=kf;let i=this.player,r=t;if(i[s(475)][s(524)])if(i[s(475)][s(371)]&&i._opt.cryptoKey.byteLength>0&&i[s(475)][s(429)]&&i[s(475)][s(429)][s(522)]>0){const e=this[s(279)][s(509)][s(389)]();e[s(315)]?r=function(t,e,s){const i=Np;let r=arguments[i(379)]>3&&void 0!==arguments[3]&&arguments[3];e=new Uint8Array(e),s=new Uint8Array(s);const n=t[i(363)];let o=5;for(;o<n;){let a=jp(t.slice(o,o+4));if(a>n)break;let h=t[o+4],l=!1;if(r?(h=h>>>1&63,l=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][i(380)](h)):(h&=31,l=1===h||5===h),l){const r=t.slice(o+4+2,o+4+a);let n=new(Vd[i(366)][i(361)])(e,new(Vd[i(375)])(s));const h=n[i(359)](r);n=null,t[i(367)](h,o+4+2)}o=o+4+a}return t}(t,i[s(475)][s(371)],i[s(475)][s(429)],e[s(315)]===K[s(525)]):i[s(337)](this.TAG_NAME,s(457)+e.encTypeCode)}else i.debugError(this[s(274)],s(450)+(i[s(475)][s(371)]&&i._opt.cryptoKey[s(522)])+s(410)+(i[s(475)][s(429)]&&i[s(475)].cryptoIV[s(522)])+s(327));else if(i[s(475)][s(281)])if(i[s(475)][s(276)]){const e=this[s(279)][s(509)][s(389)]()[s(315)]===K[s(525)],n=this[s(279)][s(475)][s(523)];r=i[s(475)][s(371)]&&i._opt[s(371)][s(522)]>0&&i[s(475)][s(429)]&&i._opt[s(429)][s(522)]>0?function(t,e,s){var i=uf;let r=arguments[i(263)]>3&&void 0!==arguments[3]&&arguments[3],n=arguments[i(263)]>4&&void 0!==arguments[4]&&arguments[4];e=new Uint8Array(e),s=new Uint8Array(s);const o=t[i(265)];let a=5;for(;a<o;){let h=pf(t[i(264)](a,a+4));if(h>o)break;let l=t[a+4],c=!1,d=2;if(r?(n&&(d=3),l=l>>>1&63,c=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][i(266)](l)):(l&=31,c=1===l||5===l),c){const r=Tf(e,s,t[i(264)](a+4+d,a+4+h));t.set(r,a+4+d)}a=a+4+h}return t}(t,i[s(475)][s(371)],i._opt.cryptoIV,e,n):function(t,e){const s=Qp;let i=arguments[s(422)]>2&&void 0!==arguments[2]&&arguments[2],r=arguments[s(422)]>3&&void 0!==arguments[3]&&arguments[3];const n=t[s(453)];let o=new Uint8Array(t.slice(0,5)),a=5;for(;a<n;){const h=t.slice(a,a+4);let l=nf(h);if(l>n){const e=new Uint8Array(o.length+t[s(422)]-a);e[s(443)](o,0),e[s(443)](t[s(442)](a),o.length),o=e;break}let c=t[a+4],d=!1,u=2;if(i?(r&&(u=3),c=c>>>1&63,d=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][s(446)](c)):(c&=31,d=1===c||5===c),d){const i=rf(t[s(442)](a+4+u,a+4+l),e,0,{padding:"none",output:s(431)});let r=i[i[s(422)]-1];if(r>0&&r<16){let t=!0;for(let e=1;e<=r;e++)if(i[i[s(422)]-e]!==r){t=!1;break}t&&i.splice(i.length-r,r)}const n=new Uint8Array(u);n[s(443)](t[s(442)](a+4,a+4+u),0);const h=Ge(Gl(n,new Uint8Array(i))),c=new Uint8Array(o[s(422)]+h.length);c[s(443)](o,0),c[s(443)](h,o[s(422)]),o=c}else{const e=t.slice(a+4,a+4+l),i=new Uint8Array(o.length+4+e[s(422)]);i[s(443)](o,0),i.set(h,o.length),i[s(443)](e,o[s(422)]+4),o=i}a=a+4+l}return o}(t,i._opt[s(276)],e,n)}else!i[s(475)][s(276)]&&i[s(352)](this.TAG_NAME,"isSm4Crypto opt.sm4CryptoKey is null");else if(i._opt[s(282)])if(i[s(475)][s(371)]&&i[s(475)][s(371)][s(522)]>0&&i[s(475)][s(429)]&&i[s(475)][s(429)][s(522)]>0){const e=this[s(279)][s(509)][s(389)]();r=function(t,e,s){const i=lf;let r=arguments[i(247)]>3&&void 0!==arguments[3]&&arguments[3];const n=t[i(250)];let o=5;for(;o<n;){let a=hf(t[i(246)](o,o+4));if(a>n)break;let h=t[o+4],l=!1;if(r?(h=h>>>1&63,l=[0,1,2,3,4,5,6,7,8,9,16,17,18,19,20,21][i(252)](h)):(h&=31,l=1===h||5===h),l){const r=af(t[i(246)](o+4,o+4+a),e,s);t[i(257)](r,o+4)}o=o+4+a}return t}(t,i._opt[s(371)],i._opt[s(429)],e.encTypeCode===K[s(525)])}else i[s(352)](this.TAG_NAME,"isXorCrypto opt.xorCryptoKey is null");return r}[kf(498)](t){const e=kf;let s=this[e(279)];if(Si(s[e(475)].isCryptoAudio))return t;let i=t;if(s[e(475)][e(524)])if(s[e(475)].cryptoKey&&s[e(475)][e(371)][e(522)]>0&&s[e(475)][e(429)]&&s._opt[e(429)][e(522)]>0){t[0]>>4===Y[e(310)]&&(i=function(t,e,s){const i=Np;if(t[i(363)]<=30)return t;const r=t[i(357)](32);let n=new(Vd.ModeOfOperation[i(361)])(e,new Vd.Counter(s));const o=n.decrypt(r);return n=null,t.set(o,32),t}(t,s[e(475)][e(371)],s[e(475)][e(429)]))}else s[e(352)](this[e(274)],e(450)+(s[e(475)].cryptoKey&&s[e(475)][e(371)][e(522)])+e(410)+(s[e(475)].cryptoIV&&s._opt.cryptoIV[e(522)])+" null");else if(s[e(475)].isXorCrypto)if(s[e(475)][e(371)]&&s[e(475)].cryptoKey[e(522)]>0&&s[e(475)][e(429)]&&s[e(475)][e(429)][e(522)]>0){t[0]>>4===Y.AAC&&(i=function(t,e,s){const i=lf;if(t.byteLength<=30)return t;const r=af(t.slice(30),e,s);return t[i(257)](r,30),t}(t,s[e(475)].cryptoKey,s._opt[e(429)]))}else s[e(352)](this.TAG_NAME,e(319)+(s[e(475)][e(371)]&&s[e(475)][e(371)][e(522)])+e(410)+(s[e(475)][e(429)]&&s[e(475)][e(429)].byteLength)+e(327));return i}_decodeEnhancedH265Video(t,e){const s=kf,i=t[0],r=48&i,n=15&i,o=t[s(331)](1,5),a=new ArrayBuffer(4),h=new Uint32Array(a),l="a"==String[s(442)](o[0]);if(n===Mt.PACKET_TYPE_SEQ_START){if(r===Bt[s(324)]){const e=t[s(331)](5);if(l)this[s(279)].debugError(this[s(274)],s(381));else{const t=new Uint8Array(5+e[s(503)]);t[s(405)]([28,0,0,0,0],0),t.set(e,5),this[s(380)](t),this[s(279)][s(261)](this[s(274)],"demux() isVideoSequenceHeader(enhancedH265) is true and nalUnitSize is "+this[s(247)]),this[s(360)](t,x[s(509)],0,!0,0)}}}else if(n===Mt[s(508)]){let i=t,n=0;const o=r===Bt[s(324)];if(o&&this[s(402)](e),l)this[s(279)][s(352)](this[s(274)],s(381));else{h[0]=t[4],h[1]=t[3],h[2]=t[2],h[3]=0,n=h[0];i=vl(t.slice(8),o),i=this[s(357)](i,o),this[s(360)](i,x[s(509)],e,o,n)}}else if(n===Mt[s(271)]){const i=r===Bt[s(324)],n=t.slice(5);i&&this[s(402)](e);let o=vl(n,i);o=this.cryptoPayload(o,i),this._doDecode(o,x[s(509)],e,i,0)}else this[s(279)][s(261)](this.TAG_NAME,"demux() isEnhancedH265Header is true and packetEx is "+n+s(356))}[kf(241)](t){return 128==(128&t)}[kf(499)](t){const e=kf;bi(t)?this[e(487)]():this.startPlaybackLoopInterval()}[kf(536)](t){const e=kf,s=t[e(424)]((t=>{const s=e;return{ts:t[s(280)]||t[s(511)],type:t.type}}));this._tempSampleTsList=this._tempSampleTsList[e(338)](s);let i=ui(this._tempSampleTsList,x.video);if(i){const t=this.getBufferListVideoTsList(this[e(245)]);let s="";s=t[e(503)]>100?JSON[e(385)](t[e(331)](0,100))+e(275):JSON.stringify(t),this[e(279)][e(261)](this[e(274)],e(479)+i+e(370)+this[e(302)]+e(262)+t[e(503)]+", and ts list is "+s),i<15&&this[e(279)].debugWarn(this.TAG_NAME,e(479)+i+e(234)),this[e(302)]=i,this._tempSampleTsList=[],this[e(373)](e(447),{baseFps:this[e(302)]})}else{this.player[e(261)](this.TAG_NAME,e(462)+this[e(245)][e(503)]);const t=100;if(this._tempSampleTsList[e(503)]>=t){const s=this[e(343)](this[e(245)]);return this[e(279)][e(337)](this[e(274)],e(328)+t+e(293)+s[e(503)]+e(374)+JSON[e(385)](s)+e(289)+this[e(302)]),this._tempSampleTsList=[],this[e(373)]("updateBaseFps",{baseFps:this[e(302)]}),!0}if(this[e(245)].length>t/2){const s=this[e(343)](this[e(245)]);this[e(279)][e(337)](this[e(274)],"_calcDecodeFps()  _tempSampleTsList is more than "+t/2+e(293)+s[e(503)]+", and ts list is "+JSON.stringify(s)+e(418))}}return null!==i}_postMessageToLoopWorker(){}_isUseWorker(){const t=kf;return!this[t(279)][t(265)]()}[kf(384)](){const t=kf;return this.bufferList[t(503)]}getBufferLength(){const t=kf;let e={video:0,audio:0};return this[t(396)].forEach((s=>{const i=t;s[i(340)]===x.video?e.video+=1:s[i(340)]===x[i(415)]&&(e.audio+=1)})),e}getVideoBufferDuration(){const t=kf,e=this[t(396)][t(454)]((e=>{const s=t;return e[s(340)]===x[s(509)]})),s=function(t,e){if(ti(t[ze(551)]))return t.findLast(e);for(let s=t.length-1;s>=0;s--)if(e(t[s],s,t))return t[s]}(this.bufferList,(t=>t.type===x.video));return e&&s?parseInt(s.ts-e.ts,10):0}[kf(528)](){let t=0;return this[kf(396)].forEach((e=>{e.type===x.video&&(t+=1)})),t}[kf(320)](){const t=kf;let e=0;return this[t(396)][t(291)]((s=>{s[t(340)]===x.audio&&(e+=1)})),e}[kf(254)](){return 0}[kf(297)](t){const e=kf;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const i=t[e(532)]||[];let r=!1;for(let t=0;t<i[e(503)]-1;t++){const n=i[t],o=i[t+1];n[e(460)]=n.dts,o.oldDts=o[e(280)],n[e(280)]>=o[e(280)]&&(r=!0,o.dts=n.dts+s)}if(r){const t=i[e(424)]((t=>{const s=e;return t.oldDts===t[s(280)]?s(534)+t[s(280)]:s(329)+t[s(460)]+s(517)+t[s(280)]}));this.player[e(261)](this.TAG_NAME,e(478)+t[e(290)](","))}}[kf(332)](){const t=kf;if(this[t(326)])return this[t(326)];const e=this.player[t(389)]();if(e&&e.width&&e[t(535)]){const s=this[t(279)][t(475)];return this[t(326)]=function(t){return Pi(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e,{useWCS:s[t(252)],useWasm:s[t(493)],useSIMD:s.useSIMD,isFFmpegSIMD:s[t(376)],useMThreading:s.useMThreading}),this[t(326)]}return this[t(279)][t(475)][t(321)]}[kf(343)](){const t=kf;return(arguments[t(503)]>0&&void 0!==arguments[0]?arguments[0]:[])[t(246)]((e=>{const s=t;return e[s(340)]===x[s(509)]}))[t(424)]((t=>parseInt(t.ts,10)))}}const Df=Rf;function Rf(t,e){const s=Bf();return(Rf=function(t,e){return s[t-=110]})(t,e)}!function(t,e){const s=Rf,i=t();for(;;)try{if(683034===parseInt(s(110))/1*(parseInt(s(146))/2)+parseInt(s(158))/3*(-parseInt(s(116))/4)+parseInt(s(130))/5*(-parseInt(s(128))/6)+-parseInt(s(131))/7+-parseInt(s(114))/8*(parseInt(s(141))/9)+-parseInt(s(136))/10+parseInt(s(112))/11*(parseInt(s(148))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Bf);var Lf=function(t,e,s,i){return new(s||(s=Promise))((function(r,n){const o=Rf;function a(t){const e=Rf;try{l(i[e(142)](t))}catch(t){n(t)}}function h(t){const e=Rf;try{l(i[e(143)](t))}catch(t){n(t)}}function l(t){const e=Rf;var i;t.done?r(t[e(133)]):(i=t[e(133)],i instanceof s?i:new s((function(t){t(i)})))[e(122)](a,h)}l((i=i[o(135)](t,e||[]))[o(142)]())}))};const Pf=Symbol(32),xf=Symbol(16),Mf=Symbol(8);function Bf(){const t=["6292216WpvsGx","read","value","consume","apply","2097460Xzcsry","byteLength","set","U32","length","4149COkDXb","next","throw","writeU32","close","69650nECckO","consumed","8843016CxtlGM","resolve","writeU8","byteOffset","buffer","flush","write","__awaiter","EOF","pull","69cZIQGn","U16","19IQWEVL","need","44LRtcZP","number","5432pSDuGk","Unsupported type","70852mtVEqE","call","malloc","readU16","reject","readU32","then","lastReadPromise","return","readU8","subarray","copyWithin","138GdKoez","demand","238535Rnjxer"];return(Bf=function(){return t})()}class Ff{constructor(t){const e=Df;this.g=t,this[e(147)]=0,t&&(this[e(111)]=t[e(142)]()[e(133)])}setG(t){const e=Df;this.g=t,this[e(129)](t[e(142)]().value,!0)}[Df(134)](){const t=Df;this[t(152)]&&this[t(147)]&&(this[t(152)][t(127)](0,this[t(147)]),this[t(152)]=this.buffer[t(126)](0,this.buffer[t(140)]-this[t(147)]),this[t(147)]=0)}[Df(129)](t,e){const s=Df;return e&&this[s(134)](),this.need=t,this[s(153)]()}[Df(132)](t){return Lf(this,void 0,void 0,(function*(){const e=Rf;return this[e(123)]&&(yield this[e(123)]),this[e(123)]=new Promise(((s,i)=>{const r=e;var n;this[r(120)]=i,this[r(149)]=t=>{delete this[r(123)],delete this.resolve,delete this.need,s(t)};this.demand(t,!0)||null===(n=this[r(157)])||void 0===n||n[r(117)](this,t)}))}))}[Df(121)](){return this[Df(132)](Pf)}[Df(119)](){return this.read(xf)}[Df(125)](){return this[Df(132)](Mf)}[Df(145)](){const t=Df;var e;this.g&&this.g[t(124)](),this.buffer&&this[t(152)][t(126)](0,0),null===(e=this.reject)||void 0===e||e.call(this,new Error(t(156))),delete this[t(123)]}[Df(153)](){const t=Df;if(!this[t(152)]||!this[t(111)])return;let e=null;const s=this.buffer[t(126)](this[t(147)]);let i=0;const r=e=>s[t(140)]<(i=e);if(typeof this[t(111)]===t(113)){if(r(this[t(111)]))return;e=s[t(126)](0,i)}else if(this[t(111)]===Pf){if(r(4))return;e=s[0]<<24|s[1]<<16|s[2]<<8|s[3]}else if(this.need===xf){if(r(2))return;e=s[0]<<8|s[1]}else if(this[t(111)]===Mf){if(r(1))return;e=s[0]}else if("buffer"in this.need){if(t(151)in this[t(111)]){if(r(this[t(111)][t(137)]-this[t(111)].byteOffset))return;new Uint8Array(this[t(111)][t(152)],this[t(111)].byteOffset)[t(138)](s[t(126)](0,i)),e=this[t(111)]}else if(this.g)return void this.g[t(143)](new Error(t(115)))}else{if(r(this[t(111)][t(137)]))return;new Uint8Array(this[t(111)])[t(138)](s[t(126)](0,i)),e=this.need}return this[t(147)]+=i,this.g?this[t(129)](this.g[t(142)](e)[t(133)],!0):this.resolve&&this[t(149)](e),e}[Df(154)](t){const e=Df;if(t instanceof Uint8Array?this[e(118)](t[e(140)]).set(t):e(152)in t?this[e(118)](t[e(137)])[e(138)](new Uint8Array(t[e(152)],t.byteOffset,t[e(137)])):this[e(118)](t[e(137)])[e(138)](new Uint8Array(t)),!this.g&&!this.resolve)return new Promise((t=>this[e(157)]=t));this[e(153)]()}[Df(144)](t){const e=Df;this[e(118)](4)[e(138)]([t>>24&255,t>>16&255,t>>8&255,255&t]),this[e(153)]()}writeU16(t){const e=Df;this[e(118)](2)[e(138)]([t>>8&255,255&t]),this[e(153)]()}[Df(150)](t){const e=Df;this[e(118)](1)[0]=t,this[e(153)]()}[Df(118)](t){const e=Df;if(this[e(152)]){const s=this[e(152)][e(140)],i=s+t;if(i<=this[e(152)].buffer.byteLength-this[e(152)][e(151)])this[e(152)]=new Uint8Array(this[e(152)][e(152)],this[e(152)][e(151)],i);else{const t=new Uint8Array(i);t.set(this[e(152)]),this[e(152)]=t}return this.buffer[e(126)](s,i)}return this[e(152)]=new Uint8Array(t),this[e(152)]}}function Uf(){const t=["length","updateStats","_times","_isEnhancedH265Header","1135oKxxka","30ccAlTQ","close","payload.length is ","updateMetaData","demux() codecId is ","TAG_NAME","demuxStart","11694ZGWuAr","cryptoPayload","demux() type is ","player","updateNalUnitSize","write","debugLog","2763639WdArRt","byteLength","audio","21UhJGVs","video","1047079NXOXdu","_doDecode","init","dispatch","_decodeEnhancedH265Video","2vPObMR","FlvDemux","buffer","hasAudio","demux","recorder","onMetaData","addMetaData","84236otwEon","isRecordTypeFlv","24ivNslh","3403328zQknvO"," less than 6 and ignore","dispatch() this.input is null","destroy","22096685jFgjCu","96RxkaYc","input","hasVideo","350191rQmSvw","demux() isIFrame is false and unit type is IDR and update to true","getInputByteLength","_opt","debugWarn","slice"];return(Uf=function(){return t})()}Ff[Df(139)]=Pf,Ff[Df(159)]=xf,Ff.U8=Mf;const Of=Nf;function Nf(t,e){const s=Uf();return(Nf=function(t,e){return s[t-=133]})(t,e)}!function(t,e){const s=Nf,i=t();for(;;)try{if(888994===-parseInt(s(135))/1*(-parseInt(s(170))/2)+parseInt(s(186))/3*(parseInt(s(178))/4)+parseInt(s(145))/5*(-parseInt(s(153))/6)+parseInt(s(163))/7*(parseInt(s(181))/8)+-parseInt(s(160))/9*(-parseInt(s(146))/10)+parseInt(s(165))/11*(-parseInt(s(180))/12)+-parseInt(s(185))/13)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Uf);class jf extends Cf{constructor(t){const e=Nf;super(t),this[e(151)]=e(171),this[e(133)]=new Ff(this[e(174)]()),t[e(159)](this.TAG_NAME,e(167))}[Of(184)](){const t=Of;super[t(184)](),this[t(133)]&&(this[t(133)].close(),this[t(133)]=null),this[t(156)].debugLog(this[t(151)],t(184))}[Of(168)](t){const e=Of;this.input?this[e(133)][e(158)](t):this[e(156)].debugWarn(this.TAG_NAME,e(183))}*demux(){const t=Of;yield 9;const e=new ArrayBuffer(4),s=new Uint8Array(e),i=new Uint32Array(e),r=this[t(156)];for(;;){if(!this.input)return;s[3]=0;const e=yield 15,n=e[4];s[0]=e[7],s[1]=e[6],s[2]=e[5];const o=i[0];s[0]=e[10],s[1]=e[9],s[2]=e[8],s[3]=e[11];let a=i[0];const h=(yield o)[t(140)]();if(!r)return;switch(n){case M[t(162)]:if(r[t(138)][t(173)]&&(r.updateStats({abps:h.byteLength}),h[t(161)]>0)){let e=this.cryptoPayloadAudio(h);this[t(166)](e,x[t(162)],a)}break;case M[t(164)]:if(r[t(138)][t(134)]&&h.length>=6){let e=a;r[t(142)]({vbps:8*h[t(161)],dts:e}),!r[t(143)][t(152)]&&(r[t(143)][t(152)]=Je());const s=h[0];if(this[t(144)](s))this[t(169)](h,e);else{const e=15&s;let r=(s>>4&15)===Tt.keyFrame;const n=e===K.h265,o=e===K.h264;if(Si(n||o))return void this[t(156)][t(139)](this[t(151)],t(150)+e+" and ignore");Si(r)&&bi(Di(h,n))&&(this[t(156)][t(159)](this[t(151)],t(136)),r=!0),r&&(this.calcIframeIntervalTimestamp(a),null===this.nalUnitSize&&vi(h)&&this[t(157)](h)),i[0]=h[4],i[1]=h[3],i[2]=h[2],i[3]=0;let l=i[0],c=this[t(154)](h,r);this[t(166)](c,x[t(164)],a,r,l)}}else h.length<6&&r[t(139)](this[t(151)],t(148)+h[t(141)]+t(182));break;case M.scriptData:if(this.player[t(179)]()){const e=new Uint8Array(h);this[t(156)][t(175)][t(177)](e)}const e=wc(h);e&&e[t(176)]&&r[t(149)](e[t(176)]);break;default:r[t(159)](this.TAG_NAME,t(155)+n)}}}[Of(147)](){const t=Of;this[t(133)]&&(this[t(133)][t(147)](),this.input=null)}[Of(137)](){const t=Of;let e=0;return this[t(133)]&&this[t(133)].buffer&&(e=this[t(133)][t(172)][t(161)]),e}}const Vf=Gf;function Wf(){const t=["input","1062xbdpBx","TAG_NAME","demux() type is ","1932214ClIYjI","destroy","cryptoPayload","20548180XrrFGC","recorder","h265","slice","_decodeEnhancedH265Video","byteLength","1820564zoZzVn","_opt","demux","dispatch() this.flvDemux is null","3Cifivv","keyFrame","hasAudio","_doDecode","length","cryptoPayloadAudio","dispatchFlvData","flvStreamBuffer","flvDemux","init","video","debugLog","_times","h264","calcIframeIntervalTimestamp","hasVideo"," and ignore","getInputByteLength","updateNalUnitSize","11yrmpIh","4478193pVawoo","value","isRecordTypeFlv","close","FlvDemuxV2","5234782AupVdQ"," less than 6 and ignore","audio","next","set","6258656bIhirg","scriptData","debugWarn","demuxStart","player","nalUnitSize","12605rwMuSX","1OIwako","updateStats","dispatch","_isEnhancedH265Header","addMetaData","payload.length is ","onMetaData"];return(Wf=function(){return t})()}function Gf(t,e){const s=Wf();return(Gf=function(t,e){return s[t-=165]})(t,e)}!function(t,e){const s=Gf,i=t();for(;;)try{if(547704===parseInt(s(224))/1*(-parseInt(s(174))/2)+-parseInt(s(187))/3*(parseInt(s(183))/4)+parseInt(s(223))/5*(parseInt(s(171))/6)+parseInt(s(212))/7+-parseInt(s(217))/8+-parseInt(s(207))/9+parseInt(s(177))/10*(parseInt(s(206))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Wf);class zf extends Cf{constructor(t){const e=Gf;super(t),this.TAG_NAME=e(211),this[e(170)]=this[e(185)](),this[e(194)]=null,this[e(195)]=this[e(193)](this[e(170)]),t[e(198)](this[e(172)],e(196))}destroy(){const t=Gf;super[t(175)](),this[t(210)](),this[t(170)]=null,this.flvDemux=null,this[t(221)][t(198)](this[t(172)],"destroy")}[Vf(193)](t){let e=t.next();return s=>{const i=Gf;let r=new Uint8Array(s);if(this[i(194)]){let t=new Uint8Array(this.flvStreamBuffer[i(191)]+r[i(191)]);t.set(this[i(194)]),t[i(216)](r,this[i(194)][i(191)]),r=t,this[i(194)]=null}for(;r[i(191)]>=e[i(208)];){let s=r[i(180)](e[i(208)]);e=t[i(215)](r[i(180)](0,e[i(208)])),r=s}r[i(191)]>0&&(this.flvStreamBuffer=r)}}[Vf(165)](t){const e=Vf;this.flvDemux?this[e(195)](t):this[e(221)][e(219)](this[e(172)],e(186))}*[Vf(185)](){const t=Vf;yield 9;const e=new ArrayBuffer(4),s=new Uint8Array(e),i=new Uint32Array(e),r=this[t(221)];for(;;){if(!this[t(195)])return;s[3]=0;const e=yield 15,n=e[4];s[0]=e[7],s[1]=e[6],s[2]=e[5];const o=i[0];s[0]=e[10],s[1]=e[9],s[2]=e[8],s[3]=e[11];let a=i[0];const h=(yield o)[t(180)]();if(!r)return;switch(n){case M.audio:if(r[t(184)][t(189)]&&(r.updateStats({abps:h[t(182)]}),h[t(182)]>0)){let e=this[t(192)](h);this[t(190)](e,x[t(214)],a)}break;case M[t(197)]:if(r[t(184)][t(202)]&&h[t(191)]>=6){let e=a;r[t(225)]({vbps:8*h[t(182)],dts:e}),!r[t(199)][t(220)]&&(r._times.demuxStart=Je());const s=h[0];if(this[t(166)](s))this[t(181)](h,e);else{const e=15&s;let r=(s>>4&15)===Tt[t(188)];const n=e===K[t(179)],o=e===K[t(200)];if(Si(n||o))return void this[t(221)][t(219)](this[t(172)],"demux() codecId is "+e+t(203));Si(r)&&bi(Di(h,n))&&(this[t(221)][t(198)](this.TAG_NAME,"demux() isIFrame is false and unit type is IDR and update to true"),r=!0),r&&(this[t(201)](a),null===this[t(222)]&&vi(h)&&this[t(205)](h)),i[0]=h[4],i[1]=h[3],i[2]=h[2],i[3]=0;let l=i[0],c=this[t(176)](h,r);this[t(190)](c,x[t(197)],a,r,l)}}else h[t(191)]<6&&r[t(219)](this.TAG_NAME,t(168)+h.length+t(213));break;case M[t(218)]:if(this[t(221)][t(209)]()){const e=new Uint8Array(h);this[t(221)][t(178)][t(167)](e)}const e=wc(h);e&&e[t(169)]&&r.updateMetaData(e[t(169)]);break;default:r[t(198)](this.TAG_NAME,t(173)+n)}}}[Vf(210)](){this[Vf(194)]&&(this.flvStreamBuffer=null)}[Vf(204)](){const t=Vf;let e=0;return this.flvStreamBuffer&&(e=this[t(194)].byteLength),e}}const Hf=Kf;function Kf(t,e){const s=qf();return(Kf=function(t,e){return s[t-=134]})(t,e)}function qf(){const t=["cryptoPayload","buffer","TAG_NAME","hasVideo","debugLog","_decodeEnhancedH265Video","destroy","and return","init","dispatch","34098LgdMhL","calcIframeIntervalTimestamp","dv byteLength is","2542784QVyGzA","_times","495WNXuxc","audio","33XmLTKP","8eajsEZ","debugWarn","_opt","_doDecode","getUint32","player","279290FOHcvy","video","172906aMxJVc","getUint8","378086NipCyH","7145487fzFlWb","byteLength","M7sDemux","updateStats","cryptoPayloadAudio","demuxStart","5269831nUmxOn"];return(qf=function(){return t})()}!function(t,e){const s=Kf,i=t();for(;;)try{if(486637===-parseInt(s(150))/1+parseInt(s(148))/2*(parseInt(s(139))/3)+-parseInt(s(135))/4+parseInt(s(137))/5*(parseInt(s(168))/6)+-parseInt(s(157))/7*(-parseInt(s(140))/8)+-parseInt(s(151))/9+parseInt(s(146))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(qf);class Yf extends Cf{constructor(t){const e=Kf;super(t),this[e(160)]=e(153),t[e(162)](this[e(160)],e(166))}[Hf(164)](){const t=Hf;super[t(164)](),this[t(145)].debugLog(this[t(160)],t(164))}[Hf(167)](t){const e=Hf;var s;(s=t)&&ArrayBuffer[ze(594)](s)&&(t=t[e(159)]);const i=this[e(145)],r=new DataView(t),n=r[e(149)](0),o=r[e(144)](1,!1),a=new ArrayBuffer(4),h=new Uint32Array(a);switch(n){case x[e(138)]:if(i._opt.hasAudio){const s=new Uint8Array(t,5);if(i.updateStats({abps:s[e(152)]}),s.byteLength>0){const t=this[e(155)](s);this[e(143)](t,n,o)}}break;case x[e(147)]:if(i[e(142)][e(161)])if(!i[e(136)][e(156)]&&(i[e(136)][e(156)]=Je()),r[e(152)]>=11){const s=new Uint8Array(t,5);let a=o;i[e(154)]({vbps:8*s[e(152)],dts:a});const l=s[0];if(this._isEnhancedH265Header(l))this[e(163)](s,o);else{const t=r[e(149)](5)>>4==1;t&&this[e(169)](o),h[0]=s[4],h[1]=s[3],h[2]=s[2],h[3]=0;let i=h[0],a=this[e(158)](s,t);this[e(143)](a,n,o,t,i)}}else this[e(145)][e(141)](this[e(160)],e(167),e(134),r[e(152)],e(165))}}}function Qf(){var t=["271369jSlNkL","debugLog","14780oAXidL","player","30776BqIquZ","1496988tCZDkL","6WeWHCU","198tqCRXg","95281ygDYlw","24wYKxLS","destroy","1694IOQonJ","1783135uqFeri","172044mjxFBG","TAG_NAME"];return(Qf=function(){return t})()}function Jf(t,e){var s=Qf();return(Jf=function(t,e){return s[t-=395]})(t,e)}!function(t,e){for(var s=Jf,i=t();;)try{if(257641===parseInt(s(409))/1*(parseInt(s(407))/2)+-parseInt(s(406))/3+-parseInt(s(399))/4+parseInt(s(398))/5+-parseInt(s(395))/6*(parseInt(s(401))/7)+parseInt(s(405))/8*(parseInt(s(408))/9)+-parseInt(s(403))/10*(-parseInt(s(397))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Qf);class Xf extends jf{constructor(t){var e=Jf;super(t),this[e(400)]="WebTransportDemux",t[e(402)](this[e(400)],"init")}destroy(){var t=Jf;super.destroy(),this[t(404)][t(402)](this[t(400)],t(396))}}const $f=Zf;function Zf(t,e){const s=em();return(Zf=function(t,e){return s[t-=429]})(t,e)}!function(t,e){const s=Zf,i=t();for(;;)try{if(971901===parseInt(s(446))/1*(parseInt(s(442))/2)+parseInt(s(443))/3+parseInt(s(454))/4+parseInt(s(452))/5*(parseInt(s(439))/6)+parseInt(s(429))/7+-parseInt(s(436))/8*(parseInt(s(451))/9)+-parseInt(s(433))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(em);class tm{constructor(t){const e=Zf;this[e(441)]=t,this.index=0,this[e(440)]=8*t[e(447)]}get bitsAvailable(){return this[Zf(440)]-this.index}skipBits(t){const e=Zf;if(this.bitsAvailable<t)return!1;this[e(449)]+=t}[$f(448)](t){const e=$f;let s=!(arguments[e(430)]>1&&void 0!==arguments[1])||arguments[1];return this[e(432)](t,this[e(449)],s)}[$f(432)](t,e){const s=$f;let i=!(arguments[s(430)]>2&&void 0!==arguments[2])||arguments[2];if(this[s(435)]<t)return 0;const r=e%8,n=this[s(441)][e/8|0]&255>>>r,o=8-r;if(o>=t)return i&&(this[s(449)]+=t),n>>o-t;{i&&(this[s(449)]+=o);const r=t-o;return n<<r|this.getBits(r,e+o,i)}}[$f(445)](){const t=$f;let e;for(e=0;e<this[t(440)]-this[t(449)];++e)if(0!==this[t(432)](1,this[t(449)]+e,!1))return this[t(449)]+=e,e;return e}[$f(437)](){const t=$f;this[t(434)](1+this[t(445)]())}[$f(444)](){const t=$f;this[t(434)](1+this[t(445)]())}[$f(453)](){const t=$f,e=this[t(445)]();return this[t(448)](e+1)-1}[$f(431)](){const t=this[$f(453)]();return 1&t?1+t>>>1:-1*(t>>>1)}[$f(455)](){return 1===this[$f(448)](1)}readUByte(){const t=$f;let e=arguments[t(430)]>0&&void 0!==arguments[0]?arguments[0]:1;return this[t(448)](8*e)}[$f(450)](){return this.readBits(16)}[$f(438)](){return this[$f(448)](32)}}function em(){const t=["skipLZ","4861CnPUmC","byteLength","readBits","index","readUShort","33885XjdDOF","35OsCpnW","readUEG","2917332KUokle","readBoolean","6335028rGyEtP","length","readEG","getBits","20961910iuBAQB","skipBits","bitsAvailable","3488AMYZVJ","skipUEG","readUInt","1509738VJsVuB","bitLength","data","314PNCouZ","1652271EfWXoB","skipEG"];return(em=function(){return t})()}const sm=rm;function im(){const t=["slice","audio","units","error","streamAudioType","7PliCxj","calcIframeIntervalTimestamp","1036566VbitnP","sps","init","tempNaluBufferList","getNaluAudioDts","handleAudioG711ANalu","vps","h264","handleVideoH265NaluList isSendSeqHeader is false","player","_times","revokeObjectURL","naluList.length === 0","uuid","isSendSeqHeader","iFrame","readUEG","10cznWLs","1885466bBhOBc","extractH265SEI","isIFrame","extractH264SEI","handleNALu","33840AKHXtf","ALAW","prefixSei","handleVideoH264NaluList","destroy","handleVideoH265Frames","handleVideoH265Nalu","click","createObjectURL","audioBufferSize","downloadNakedFlowFile","kSliceIDR","handleAudioG711UNalu","byteLength","handleAddNaluStartCode","now","nakedFlowH265DemuxUseNew","dispatch naluArray.length === 0","isSendAACSeqHeader","10127784YNPaoY","isEmitSEI","handleVideoFrames streamVideoType is null","extractNALu","set","URL","getNaluDts","subarray","forEach","extractNALu$2","streamVideoType","NakedFlowDemux","h265 naluList.length === 0","type","demuxStart","738LnqnxU","_preDoDecode","debugWarn","TAG_NAME","reduce","1786626iiALZw","size","readBits","debugLog","lastBuf","push","pendingUnits","_doDecode","handleAudioAACNalu","1umOzhp","kSliceNonIDR","handleVideoH264Frames","handleVideoNalu","reset","emitVideoSei","extractH265PPS","handleVideoFrames","handleVideoH264Nalu","parseVideo264Header","nakedFlowFps","extractNALu$3","downloadTempNalu","addNaluToBuffer","311036VVhqvn","length","_opt","localDts","isfms","handleVideoH265Frames_1","video","href","payload","218490fTTJaY","pps","readUByte","getAudioContextSampleRate","kSliceSEI","parseVideo265Header","extractH264PPS","updateStats","handleVideoH265NaluList","4CpXOWu"];return(im=function(){return t})()}function rm(t,e){const s=im();return(rm=function(t,e){return s[t-=456]})(t,e)}!function(t,e){const s=rm,i=t();for(;;)try{if(174251===parseInt(s(541))/1*(-parseInt(s(555))/2)+parseInt(s(470))/3+-parseInt(s(462))/4*(parseInt(s(564))/5)+-parseInt(s(532))/6*(parseInt(s(468))/7)+parseInt(s(493))/8*(-parseInt(s(527))/9)+-parseInt(s(487))/10*(parseInt(s(488))/11)+parseInt(s(512))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(im);class nm extends Cf{constructor(t){const e=rm;super(t),this[e(530)]=e(523),this.player=t,this[e(545)](),this.tempNaluBufferList=new Uint8Array(0),t[e(535)](this[e(530)],e(472))}[sm(497)](){const t=sm;super.destroy(),this[t(545)](),this[t(479)][t(535)](this[t(530)],t(497))}[sm(545)](){const t=sm;this[t(536)]=null,this.vps=null,this[t(471)]=null,this[t(565)]=null,this[t(522)]=null,this[t(467)]=null,this[t(473)]=null,this[t(538)]={},this[t(558)]=0,this.localAudioDts=0,this[t(484)]=!1,this[t(511)]=!1}dispatch(t){const e=sm;this[e(479)];const s=new Uint8Array(t);if(this[e(479)][e(557)].nakedFlowDemuxUseNew){const t=this.extractNALu$3(s);if(0===t.length)return void this.player.debugLog(this[e(530)],e(510));this[e(548)](t)}else this[e(521)](s)}[sm(554)](t){const e=sm,s=t[e(506)]+this[e(473)].byteLength,i=new Uint8Array(s);i.set(this.tempNaluBufferList,0),i[e(516)](t,this[e(473)][e(506)]),this[e(473)]=i}[sm(503)](){const t=sm,e=new Blob([this[t(473)]]);try{const s=document.createElement("a");s[t(562)]=window[t(517)][t(501)](e),s.download=Date[t(508)]()+".h264",s[t(500)](),window[t(517)][t(481)](s.href)}catch(e){console[t(466)](t(553),e)}}[sm(518)](){const t=sm,e=this[t(479)]._opt[t(551)];return this.localDts=this[t(558)]+parseInt(1e3/e,10),this.localDts}[sm(474)](){const t=sm,e=this[t(479)].audio[t(456)](),s=this[t(479)][t(464)][t(502)];return this[t(558)]+parseInt(s/e*1e3)}[sm(515)](t){const e=sm;let s,i,r=0,n=t.byteLength,o=0,a=[];for(;r<n;)switch(s=t[r++],o){case 0:0===s&&(o=1);break;case 1:o=0===s?2:0;break;case 2:case 3:0===s?o=3:1===s&&r<n?(t[r],i&&a[e(537)](t[e(519)](i,r-o-1)),i=r,o=0):o=0}return i&&a[e(537)](t[e(519)](i,n)),a}[sm(521)](t){const e=sm;let s=null;if(!t||t.byteLength<1)return;this[e(536)]?(s=new Uint8Array(t[e(506)]+this[e(536)][e(556)]),s[e(516)](this.lastBuf),s[e(516)](new Uint8Array(t),this[e(536)][e(556)])):s=new Uint8Array(t);let i=0,r=-1,n=-2;const o=new Array;for(let t=0;t<s.length;t+=2){const i=s[t],a=s[t+1];0==r&&0==i&&0==a?o.push(t-1):1==a&&0==i&&0==r&&0==n&&o[e(537)](t-2),n=i,r=a}if(o[e(556)]>1)for(let t=0;t<o[e(556)]-1;++t){const r=s[e(519)](o[t],o[t+1]+1);this[e(492)](r),i=o[t+1]}else i=o[0];if(0!=i&&i<s[e(556)])this[e(536)]=s[e(519)](i);else{!this.lastBuf&&(this.lastBuf=s);const i=new Uint8Array(this[e(536)][e(556)]+t[e(506)]);i[e(516)](this[e(536)]),i[e(516)](new Uint8Array(t),this.lastBuf[e(556)]),this[e(536)]=i}}[sm(552)](t){const e=sm;let s,i,r=0,n=t[e(506)],o=0,a=[],h=new Uint8Array(t);if(this.lastBuf){const t=new Uint8Array(h[e(506)]+this.lastBuf.byteLength);t.set(this[e(536)]),t[e(516)](h,this[e(536)][e(506)]),h=t,n=h[e(506)],this[e(536)]=null}for(;r<n;)switch(s=h[r++],o){case 0:0===s&&(o=1);break;case 1:o=0===s?2:0;break;case 2:case 3:0===s?o=3:1===s&&r<n?(i!=r-o-1&&a.push(h[e(519)](i,r-o-1)),i=r,o=0):o=0}return i<n&&(this[e(536)]=h[e(519)](i,n)),a}[sm(492)](t){const e=sm;t[e(506)]<4||(t=t[e(463)](4),this.handleVideoNalu(t))}[sm(544)](t){const e=sm,s=new Uint8Array(t);if(!this[e(522)]&&(this[e(522)]=ni(s)),this.streamVideoType===q[e(477)]){const t=this.handleAddNaluStartCode(s),i=this[e(515)](t);if(0===i[e(556)])return void this[e(479)].debugWarn(this.TAG_NAME,e(544),e(482));const r=[];if(i[e(520)]((t=>{const s=e,i=Yh(t);i===X[s(565)]||i===X[s(471)]?this.handleVideoH264Nalu(t):Xh(i)&&r[s(537)](t)})),1===r[e(556)])this[e(549)](r[0]);else{if(function(t){if(0===t[Qh(206)])return!1;const e=Yh(t[0]);for(let s=1;s<t.length;s++)if(e!==Yh(t[s]))return!1;return!0}(r)){const t=Yh(r[0]),s=$h(t);this[e(496)](r,s,t)}else r.forEach((t=>{this[e(549)](t)}))}}else if(this[e(522)]===q.h265)if(this[e(479)][e(557)][e(509)]){const t=this[e(507)](s),i=this[e(515)](t);if(0===i[e(556)])return void this[e(479)][e(529)](this[e(530)],e(544),e(524));const r=[];if(i[e(520)]((t=>{const s=e,i=bl(t);i===$[s(565)]||i===$[s(471)]||i===$[s(476)]?this[s(499)](t):Sl(i)&&r[s(537)](t)})),1===r[e(556)])this[e(499)](r[0]);else{if(function(t){const e=gl;if(0===t[e(637)])return!1;const s=bl(t[0]);for(let i=1;i<t[e(637)];i++)if(s!==bl(t[i]))return!1;return!0}(r)){const t=bl(r[0]),s=El(t);this[e(461)](r,s,t)}else r[e(520)]((t=>{this[e(499)](t)}))}}else{bl(s)===$[e(565)]?this.extractH265PPS(s):this[e(499)](s)}else this[e(479)].debugWarn(this[e(530)]," this.streamVideoType is null")}[sm(459)](t){const e=sm,s=this.handleAddNaluStartCode(t);this[e(515)](s)[e(520)]((t=>{const s=e;Jh(Yh(t))?this.extractH264SEI(t):this[s(549)](t)}))}[sm(547)](t){const e=sm,s=this[e(507)](t);this.extractNALu(s)[e(520)]((t=>{const s=e,i=bl(t);i===$[gl(622)]?this[s(489)](t):this[s(499)](t)}))}[sm(491)](t){const e=sm,s=this[e(507)](t);this.extractNALu(s)[e(520)]((t=>{this[e(549)](t)}))}[sm(489)](t){const e=sm,s=this[e(507)](t);this[e(515)](s)[e(520)]((t=>{this[e(499)](t)}))}handleAddNaluStartCode(t){const e=sm,s=[0,0,0,1],i=new Uint8Array(t[e(556)]+s[e(556)]);return i[e(516)](s),i.set(t,s.length),i}[sm(540)](t){const e=sm;if(!t||t.byteLength<1)return;!this[e(467)]&&(this[e(467)]=Q.AAC);let s=new Uint8Array(t);const i=s[e(463)](0,7);if(s=s[e(463)](7),!this[e(511)]){const t=(192&i[2])>>6,s=(60&i[2])>>2,r=(1&i[2])<<2|(192&i[3])>>6,n=new Uint8Array([175,0,t<<3|(14&s)>>1,(1&s)<<7|r<<3]);this[e(511)]=!0,this[e(539)](n,x[e(464)],0,!1,0)}const r=this[e(474)](),n=new Uint8Array(s.length+2);n.set([175,1],0),n[e(516)](s,2),this[e(539)](n,x[e(464)],r,!1,0)}[sm(475)](t){const e=sm;if(!t||t[e(506)]<1)return;!this[e(467)]&&(this[e(467)]=Q[e(494)]);let s=new Uint8Array(t);const i=this[e(474)](),r=new Uint8Array(s.length+1);r[e(516)]([114],0),r[e(516)](s,1),this[e(539)](r,x.audio,i,!1,0)}[sm(505)](t){const e=sm;if(!t||t[e(506)]<1)return;!this[e(467)]&&(this[e(467)]=Q.MULAW);let s=new Uint8Array(t);const i=this[e(474)](),r=new Uint8Array(s[e(556)]+1);r[e(516)]([130],0),r[e(516)](s,1),this._doDecode(r,x.audio,i,!1,0)}handleAudioMp3Nalu(t){const e=sm;if(!t||t.byteLength<1)return;!this[e(467)]&&(this[e(467)]=Q.MP3);let s=new Uint8Array(t);const i=this[e(474)](),r=new Uint8Array(s[e(556)]+1);r[e(516)]([32],0),r[e(516)](s,1),this[e(539)](r,x[e(464)],i,!1,0)}[sm(549)](t){const e=sm,s=Yh(t);switch(s){case X.sps:this[e(471)]=t;break;case X.pps:this.pps=t}if(this[e(484)]){if(this.sps&&this[e(565)]){const t=Kh({sps:this[e(471)],pps:this[e(565)]}),s=this.localDts;this._doDecode(t,x[e(561)],s,!0,0),this.sps=null,this[e(565)]=null}if(Xh(s)){!this[e(479)][e(480)].demuxStart&&(this[e(479)][e(480)][e(526)]=Je());const i=$h(s),r=this.getNaluDts(),n=function(t,e){const s=Qh;let i=[];i[0]=e?23:39,i[1]=1,i[2]=0,i[3]=0,i[4]=0,i[5]=t[s(179)]>>24&255,i[6]=t[s(179)]>>16&255,i[7]=t.byteLength>>8&255,i[8]=255&t[s(179)];const r=new Uint8Array(i[s(206)]+t[s(179)]);return r[s(197)](i,0),r.set(t,i.length),r}(t,i);this[e(528)](n,x.video,r,i,0)}else this[e(479)][e(529)](this[e(530)],"handleVideoH264Nalu is avc seq head nalType is "+s)}else if(this[e(471)]&&this[e(565)]){this[e(484)]=!0;const t=Kh({sps:this[e(471)],pps:this.pps});this[e(539)](t,x[e(561)],0,!0,0),this[e(471)]=null,this[e(565)]=null}}[sm(496)](t,e,s){const i=sm;if(this[i(484)]){!this.player._times[i(526)]&&(this.player[i(480)][i(526)]=Je());const s=this[i(518)](),r=qh(t[i(531)](((t,e)=>{const s=i,r=Ge(t),n=Ge(e),o=new Uint8Array(r[s(506)]+n[s(506)]);return o.set(r,0),o[s(516)](n,r[s(506)]),o})),e);this[i(528)](r,x.video,s,e,0)}else this[i(479)][i(529)](this[i(530)],"handleVideoH264NaluList isSendSeqHeader is false")}[sm(499)](t){const e=sm,s=bl(t);switch(s){case $.vps:this.vps=t;break;case $.sps:this[e(471)]=t;break;case $[e(565)]:this[e(565)]=t}if(this[e(484)]){if(this.vps&&this[e(471)]&&this[e(565)]){const t=Al({vps:this[e(476)],sps:this[e(471)],pps:this[e(565)]}),s=this[e(558)];this[e(539)](t,x.video,s,!0,0),this[e(476)]=null,this[e(471)]=null,this[e(565)]=null}if(Sl(s)){!this[e(479)][e(480)].demuxStart&&(this[e(479)][e(480)].demuxStart=Je());const i=El(s),r=this[e(518)](),n=function(t,e){const s=gl;let i=[];i[0]=e?28:44,i[1]=1,i[2]=0,i[3]=0,i[4]=0,i[5]=t.byteLength>>24&255,i[6]=t[s(530)]>>16&255,i[7]=t[s(530)]>>8&255,i[8]=255&t[s(530)];const r=new Uint8Array(i[s(637)]+t[s(530)]);return r[s(520)](i,0),r[s(520)](t,i.length),r}(t,i);this[e(528)](n,x[e(561)],r,i,0)}}else if(this[e(476)]&&this[e(471)]&&this[e(565)]){this[e(484)]=!0;const t=Al({vps:this[e(476)],sps:this[e(471)],pps:this.pps});this._doDecode(t,x[e(561)],0,!0,0),this[e(476)]=null,this[e(471)]=null,this[e(565)]=null}}[sm(461)](t,e,s){const i=sm;if(this[i(484)]){!this[i(479)][i(480)][i(526)]&&(this[i(479)][i(480)][i(526)]=Je());const s=this[i(518)](),r=vl(t[i(531)](((t,e)=>{const s=i,r=Ge(t),n=Ge(e),o=new Uint8Array(r[s(506)]+n.byteLength);return o[s(516)](r,0),o[s(516)](n,r[s(506)]),o})),e);this[i(528)](r,x[i(561)],s,e,0)}else this.player[i(529)](this[i(530)],i(478))}_preDoDecode(t,e,s,i,r){const n=sm;this[n(479)][n(460)]({vbps:8*t[n(506)],dts:s}),i&&this[n(469)](s),this[n(539)](t,x[n(561)],s,i,r)}getInputByteLength(){const t=sm;let e=0;return this.lastBuf&&(e=this[t(536)][t(506)]),e}[sm(548)](t){const e=sm;if(!this.streamVideoType)for(let s of t)if(this[e(522)]=ni(s),this.streamVideoType)break;this[e(522)]?this[e(522)]===q[e(477)]?this[e(543)](t):this[e(522)]===q.h265&&this[e(498)](t):this.player[e(529)](this[e(530)],e(514))}handleVideoH264Frames(t){const e=sm;let s=[],i=[],r=!1,n=!1;this.pendingUnits[e(465)]&&(s=this[e(538)][e(465)],n=this[e(538)].vcl,r=this.pendingUnits[e(485)],this.pendingUnits={});let o={};for(let a of t){if(a.byteLength<4)continue;const t=Yh(a);let h=!1,l=t===X[e(504)];(t===X[e(542)]||t===X[e(504)])&&(o=this.parseVideo264Header(a),h=!0),s[e(556)]&&n&&(o[e(559)]||!h)&&(i[e(537)]({units:s,isIFrame:r}),s=[],r=!1,n=!1),s.push(a),r=r||l,n=n||h}s[e(556)]&&(this.pendingUnits={units:s,vcl:n,iFrame:r}),i[e(520)]((t=>{const s=e,i=t[s(465)],r=t[s(490)];let n=null,o=null;if(i[s(520)]((t=>{const e=s,i=31&t[0];switch(i){case X.pps:this[e(565)]=t;break;case X[e(471)]:this[e(471)]=t;break;case X[e(457)]:o=t}if(Xh(i)){const s=Ge(t);if(n){const t=new Uint8Array(n[e(506)]+s[e(506)]);t.set(n,0),t[e(516)](s,n[e(506)]),n=t}else n=s}})),!this[s(484)]&&this[s(471)]&&this[s(565)]){this[s(484)]=!0;const t=Kh({sps:this.sps,pps:this[s(565)]});this[s(539)](t,x.video,0,!0,0),this[s(471)]=null,this[s(565)]=null}if(this.isSendSeqHeader){if(this[s(471)]&&this[s(565)]){const t=Kh({sps:this[s(471)],pps:this[s(565)]}),e=this[s(558)];this._doDecode(t,x[s(561)],e,!0,0),this[s(471)]=null,this.pps=null}if(n){!this[s(479)][s(480)][s(526)]&&(this.player[s(480)].demuxStart=Je());const t=this[s(518)](),e=qh(n,r);if(this[s(479)][s(557)].isEmitSEI&&o){const e=We(Ve(o),!1);this[s(479)][s(546)]({ts:t,type:e[s(525)],data:e[s(563)],originData:o,uuid:e[s(483)],size:e.size})}this._preDoDecode(e,x.video,t,r,0)}}}))}handleVideoH265Frames(t){const e=sm;let s=[],i=[],r=!1,n=!1;this[e(538)][e(465)]&&(s=this.pendingUnits[e(465)],n=this[e(538)].vcl,r=this.pendingUnits.iFrame,this[e(538)]={});let o={};for(let a of t){if(a[e(506)]<4)continue;const t=bl(a);let h=!1,l=El(t);Sl(t)&&(o=this[e(458)](a),h=!0),s[e(556)]&&n&&(o[e(559)]||!h)&&(i.push({units:s,isIFrame:r}),s=[],r=!1,n=!1),s[e(537)](a),r=r||l,n=n||h}s[e(556)]&&(this.pendingUnits={units:s,vcl:n,iFrame:r}),i[e(520)]((t=>{const s=e,i=t.units,r=t[s(490)];let n=null,o=null;if(i[s(520)]((t=>{const e=s,i=t[0]>>>1&63;switch(i){case $[e(565)]:this.pps=t;break;case $[e(471)]:this[e(471)]=t;break;case $[e(476)]:this[e(476)]=t;break;case $.suffixSei:case $[e(495)]:o=t}if(Sl(i)){const s=Ge(t);if(n){const t=new Uint8Array(n[e(506)]+s[e(506)]);t[e(516)](n,0),t[e(516)](s,n[e(506)]),n=t}else n=s}})),!this[s(484)]&&this[s(471)]&&this[s(565)]&&this[s(476)]){this.isSendSeqHeader=!0;const t=Al({sps:this[s(471)],pps:this.pps,vps:this[s(476)]});this._doDecode(t,x[s(561)],0,!0,0),this[s(471)]=null,this[s(565)]=null,this.vps=null}if(this.isSendSeqHeader){if(this[s(471)]&&this[s(565)]&&this[s(476)]){const t=Al({sps:this.sps,pps:this[s(565)],vps:this[s(476)]}),e=this[s(558)];this[s(539)](t,x[s(561)],e,!0,0),this[s(471)]=null,this[s(565)]=null,this.vps=null}if(n){!this[s(479)][s(480)][s(526)]&&(this[s(479)]._times[s(526)]=Je());const t=this[s(518)](),e=vl(n,r);if(this[s(479)]._opt[s(513)]&&o){const e=We(Ve(o),!0);this.player[s(546)]({ts:t,type:e[s(525)],data:e[s(563)],originData:o,uuid:e[s(483)],size:e[s(533)]})}this[s(528)](e,x[s(561)],t,r,0)}}}))}[sm(560)](t){const e=sm;t[e(520)]((t=>{this[e(544)](t)}))}[sm(550)](t){const e=sm,s=new tm(t);s[e(566)]();return{isfms:0===s[e(486)](),sType:s.readUEG()}}[sm(458)](t){const e=sm,s=new tm(t);return s[e(566)](),{nalType:s[e(534)](6),isfms:0===s[e(534)](1),sType:s[e(534)](3)}}}function om(t,e){var s=hm();return(om=function(t,e){return s[t-=270]})(t,e)}var am=om;function hm(){var t=["player","10NSyGdm","1620248sfktwt","41636fBhghn","destroy","341KZiCGq","283419jAhRXd","debugLog","964104qDWRyv","86230kyzMjt","3398Cocctu","TAG_NAME","10325088kpfycy","912YjOuXs","937zYSrGI","152twRBwy"];return(hm=function(){return t})()}!function(t,e){for(var s=om,i=t();;)try{if(815863===-parseInt(s(274))/1*(-parseInt(s(270))/2)+parseInt(s(284))/3+-parseInt(s(278))/4*(parseInt(s(277))/5)+parseInt(s(273))/6*(parseInt(s(279))/7)+-parseInt(s(275))/8*(parseInt(s(282))/9)+parseInt(s(285))/10*(parseInt(s(281))/11)+-parseInt(s(272))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(hm);class lm extends Cf{constructor(t){var e=om;super(t),this[e(276)]=t,this[e(271)]="EmptyDemux",t[e(283)](this[e(271)],"init")}[am(280)](){var t=am;super[t(280)](),this.player.debugLog(this[t(271)],t(280))}}var cm=pm;!function(t,e){for(var s=pm,i=t();;)try{if(609030===parseInt(s(1338))/1*(-parseInt(s(513))/2)+parseInt(s(566))/3*(parseInt(s(1642))/4)+parseInt(s(654))/5*(-parseInt(s(1275))/6)+parseInt(s(726))/7*(parseInt(s(1400))/8)+parseInt(s(1298))/9+-parseInt(s(1640))/10+parseInt(s(656))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(um);var dm=re((function(t,e){var s,r,n=pm,o=(s=new Date,r=4,{setLogLevel:function(t){var e=pm;r=t==this[e(1166)]?1:t==this[e(1492)]?2:t==this[e(1366)]?3:(this[e(886)],4)},debug:function(t,e){var i=pm;void 0===console.debug&&(console[i(1166)]=console.log),1>=r&&console.debug("["+o.getDurationString(new Date-s,1e3)+"]","["+t+"]",e)},log:function(t,e){var s=pm;this.debug(t[s(1140)])},info:function(t,e){var i=pm;2>=r&&console.info("["+o[i(1123)](new Date-s,1e3)+"]","["+t+"]",e)},warn:function(t,e){3>=r&&console.warn("["+o.getDurationString(new Date-s,1e3)+"]","["+t+"]",e)},error:function(t,e){var i=pm;4>=r&&console[i(886)]("["+o[i(1123)](new Date-s,1e3)+"]","["+t+"]",e)}});o.getDurationString=function(t,e){var s,i=pm;function r(t,e){for(var s=pm,i=(""+t)[s(1071)](".");i[0][s(496)]<e;)i[0]="0"+i[0];return i[s(924)](".")}t<0?(s=!0,t=-t):s=!1;var n=t/(e||1),o=Math[i(1407)](n/3600);n-=3600*o;var a=Math.floor(n/60),h=1e3*(n-=60*a);return h-=1e3*(n=Math[i(1407)](n)),h=Math.floor(h),(s?"-":"")+o+":"+r(a,2)+":"+r(n,2)+"."+r(h,3)},o.printRanges=function(t){var e=pm,s=t.length;if(s>0){for(var i="",r=0;r<s;r++)r>0&&(i+=","),i+="["+o.getDurationString(t[e(719)](r))+","+o[e(1123)](t.end(r))+"]";return i}return e(632)},e[n(1281)]=o;var a=function(t){var e=n;if(!(t instanceof ArrayBuffer))throw e(1380);this[e(674)]=t,this[e(485)]=new DataView(t),this[e(970)]=0};a[n(626)][n(769)]=function(){return this.position},a[n(626)][n(1176)]=function(){var t=n;return this[t(674)][t(545)]},a.prototype.getLength=function(){var t=n;return this.buffer[t(545)]},a.prototype.seek=function(t){var e=n,s=Math[e(533)](0,Math[e(532)](this.buffer[e(545)],t));return this[e(970)]=isNaN(s)||!isFinite(s)?0:s,!0},a.prototype[n(635)]=function(){return this[n(769)]()>=this.getEndPosition()},a[n(626)].readAnyInt=function(t,e){var s=n,i=0;if(this[s(970)]+t<=this[s(674)][s(545)]){switch(t){case 1:i=e?this.dataview[s(1523)](this.position):this[s(485)][s(1669)](this[s(970)]);break;case 2:i=e?this[s(485)][s(1237)](this.position):this[s(485)][s(1342)](this.position);break;case 3:if(e)throw"No method for reading signed 24 bits values";i=this[s(485)][s(1669)](this[s(970)])<<16,i|=this[s(485)][s(1669)](this[s(970)]+1)<<8,i|=this[s(485)][s(1669)](this.position+2);break;case 4:i=e?this.dataview[s(804)](this[s(970)]):this[s(485)].getUint32(this[s(970)]);break;case 8:if(e)throw s(1289);i=this.dataview[s(904)](this[s(970)])<<32,i|=this[s(485)][s(904)](this.position+4);break;default:throw"readInt method not implemented for size: "+t}return this[s(970)]+=t,i}throw"Not enough bytes in buffer"},a[n(626)][n(1550)]=function(){return this[n(1499)](1,!1)},a[n(626)][n(969)]=function(){return this[n(1499)](2,!1)},a.prototype[n(891)]=function(){return this.readAnyInt(3,!1)},a[n(626)][n(1095)]=function(){return this[n(1499)](4,!1)},a[n(626)].readUint64=function(){return this[n(1499)](8,!1)},a.prototype[n(869)]=function(t){var e=n;if(this[e(970)]+t<=this[e(674)][e(545)]){for(var s="",i=0;i<t;i++)s+=String.fromCharCode(this[e(1550)]());return s}throw"Not enough bytes in buffer"},a.prototype[n(875)]=function(){for(var t=n,e=[];;){var s=this.readUint8();if(0===s)break;e[t(1520)](s)}return String[t(1001)].apply(null,e)},a[n(626)][n(1048)]=function(){return this[n(1499)](1,!0)},a[n(626)].readInt16=function(){return this[n(1499)](2,!0)},a[n(626)][n(1283)]=function(){return this[n(1499)](4,!0)},a[n(626)][n(1359)]=function(){return this[n(1499)](8,!1)},a[n(626)].readUint8Array=function(t){for(var e=n,s=new Uint8Array(t),i=0;i<t;i++)s[i]=this[e(1550)]();return s},a[n(626)][n(569)]=function(t){for(var e=n,s=new Int16Array(t),i=0;i<t;i++)s[i]=this[e(1110)]();return s},a[n(626)][n(594)]=function(t){for(var e=n,s=new Int16Array(t),i=0;i<t;i++)s[i]=this[e(969)]();return s},a.prototype[n(749)]=function(t){for(var e=new Uint32Array(t),s=0;s<t;s++)e[s]=this.readUint32();return e},a[n(626)][n(1168)]=function(t){for(var e=n,s=new Int32Array(t),i=0;i<t;i++)s[i]=this[e(1283)]();return s},"object"!==n(793)&&(e.MP4BoxStream=a);var h=function(t,e,s){var i=n;this[i(1343)]=e||0,t instanceof ArrayBuffer?this[i(674)]=t:"object"==typeof t?(this[i(1307)]=t,e&&(this[i(1343)]+=e)):this.buffer=new ArrayBuffer(t||0),this[i(970)]=0,this[i(1695)]=null==s?h.LITTLE_ENDIAN:s};h.prototype={},h[n(626)][n(769)]=function(){return this.position},h[n(626)][n(1330)]=function(t){var e=n;if(this._dynamicSize){var s=this[e(1343)]+this[e(970)]+t,i=this[e(724)][e(545)];if(s<=i)s>this[e(1699)]&&(this._byteLength=s);else{for(i<1&&(i=1);s>i;)i*=2;var r=new ArrayBuffer(i),o=new Uint8Array(this[e(724)]);new Uint8Array(r,0,o[e(496)])[e(562)](o),this[e(674)]=r,this._byteLength=s}}},h.prototype._trimAlloc=function(){var t=n;if(this[t(1699)]!=this._buffer[t(545)]){var e=new ArrayBuffer(this._byteLength),s=new Uint8Array(e),i=new Uint8Array(this[t(724)],0,s[t(496)]);s[t(562)](i),this[t(674)]=e}},h[n(499)]=!1,h.LITTLE_ENDIAN=!0,h[n(626)][n(1699)]=0,Object[n(854)](h.prototype,n(545),{get:function(){return this._byteLength-this._byteOffset}}),Object[n(854)](h[n(626)],n(674),{get:function(){var t=n;return this[t(721)](),this[t(724)]},set:function(t){var e=n;this[e(724)]=t,this._dataView=new DataView(this[e(724)],this[e(1343)]),this._byteLength=this[e(724)][e(545)]}}),Object.defineProperty(h[n(626)],n(1157),{get:function(){return this._byteOffset},set:function(t){var e=n;this[e(1343)]=t,this[e(771)]=new DataView(this[e(724)],this[e(1343)]),this[e(1699)]=this._buffer.byteLength}}),Object[n(854)](h[n(626)],n(1307),{get:function(){return this._dataView},set:function(t){var e=n;this[e(1343)]=t[e(1157)],this[e(724)]=t[e(674)],this[e(771)]=new DataView(this._buffer,this._byteOffset),this._byteLength=this[e(1343)]+t.byteLength}}),h.prototype[n(636)]=function(t){var e=n,s=Math.max(0,Math[e(532)](this[e(545)],t));this.position=isNaN(s)||!isFinite(s)?0:s},h[n(626)][n(1700)]=function(){var t=n;return this[t(970)]>=this[t(1699)]},h.prototype[n(1674)]=function(t){var e=n;this._realloc(1*t);var s=new Uint8Array(this[e(724)],this[e(1157)]+this[e(970)],t);return this.position+=1*t,s},h[n(626)][n(1168)]=function(t,e){var s=n;t=null==t?this[s(545)]-this[s(970)]/4:t;var i=new Int32Array(t);return h[s(1626)](i[s(674)],0,this.buffer,this.byteOffset+this.position,t*i[s(510)]),h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=i[s(545)],i},h[n(626)][n(569)]=function(t,e){var s=n;t=null==t?this[s(545)]-this[s(970)]/2:t;var i=new Int16Array(t);return h[s(1626)](i[s(674)],0,this[s(674)],this[s(1157)]+this.position,t*i[s(510)]),h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=i[s(545)],i},h.prototype[n(1572)]=function(t){var e=n;t=null==t?this[e(545)]-this[e(970)]:t;var s=new Int8Array(t);return h[e(1626)](s.buffer,0,this.buffer,this[e(1157)]+this.position,t*s[e(510)]),this.position+=s[e(545)],s},h[n(626)][n(749)]=function(t,e){var s=n;t=null==t?this.byteLength-this[s(970)]/4:t;var i=new Uint32Array(t);return h[s(1626)](i[s(674)],0,this.buffer,this[s(1157)]+this.position,t*i[s(510)]),h.arrayToNative(i,null==e?this[s(1695)]:e),this[s(970)]+=i[s(545)],i},h[n(626)].readUint16Array=function(t,e){var s=n;t=null==t?this.byteLength-this.position/2:t;var i=new Uint16Array(t);return h[s(1626)](i.buffer,0,this.buffer,this[s(1157)]+this.position,t*i.BYTES_PER_ELEMENT),h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=i[s(545)],i},h[n(626)][n(1104)]=function(t){var e=n;t=null==t?this.byteLength-this.position:t;var s=new Uint8Array(t);return h[e(1626)](s.buffer,0,this[e(674)],this.byteOffset+this[e(970)],t*s[e(510)]),this.position+=s.byteLength,s},h.prototype[n(1115)]=function(t,e){var s=n;t=null==t?this[s(545)]-this.position/8:t;var i=new Float64Array(t);return h.memcpy(i[s(674)],0,this[s(674)],this[s(1157)]+this[s(970)],t*i[s(510)]),h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=i[s(545)],i},h[n(626)][n(1059)]=function(t,e){var s=n;t=null==t?this[s(545)]-this[s(970)]/4:t;var i=new Float32Array(t);return h[s(1626)](i[s(674)],0,this[s(674)],this[s(1157)]+this.position,t*i[s(510)]),h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=i.byteLength,i},h[n(626)].readInt32=function(t){var e=n,s=this._dataView[e(804)](this[e(970)],null==t?this[e(1695)]:t);return this[e(970)]+=4,s},h.prototype[n(1110)]=function(t){var e=n,s=this._dataView[e(1237)](this.position,null==t?this[e(1695)]:t);return this[e(970)]+=2,s},h.prototype[n(1048)]=function(){var t=n,e=this[t(771)][t(1523)](this[t(970)]);return this.position+=1,e},h[n(626)][n(1095)]=function(t){var e=n,s=this[e(771)].getUint32(this[e(970)],null==t?this[e(1695)]:t);return this.position+=4,s},h[n(626)].readUint16=function(t){var e=n,s=this[e(771)][e(1342)](this[e(970)],null==t?this[e(1695)]:t);return this.position+=2,s},h.prototype.readUint8=function(){var t=n,e=this[t(771)][t(1669)](this.position);return this[t(970)]+=1,e},h.prototype[n(495)]=function(t){var e=n,s=this[e(771)][e(720)](this[e(970)],null==t?this[e(1695)]:t);return this[e(970)]+=4,s},h[n(626)].readFloat64=function(t){var e=n,s=this._dataView[e(1451)](this[e(970)],null==t?this[e(1695)]:t);return this[e(970)]+=8,s},h.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,h[n(1626)]=function(t,e,s,i,r){var o=n,a=new Uint8Array(t,e,r),h=new Uint8Array(s,i,r);a[o(562)](h)},h[n(1639)]=function(t,e){var s=n;return e==this[s(1695)]?t:this[s(1571)](t)},h[n(1063)]=function(t,e){var s=n;return this[s(1695)]==e?t:this[s(1571)](t)},h[n(1571)]=function(t){for(var e=n,s=new Uint8Array(t[e(674)],t[e(1157)],t.byteLength),i=0;i<t[e(545)];i+=t[e(510)])for(var r=i+t[e(510)]-1,o=i;r>o;r--,o++){var a=s[o];s[o]=s[r],s[r]=a}return t},h[n(626)][n(855)]=0,String[n(1150)]=function(t){for(var e=n,s=[],i=0;i<t[e(496)];i++)s[i]=t[i];return String.fromCharCode[e(1030)](null,s)},h[n(626)].readString=function(t,e){var s=n;return null==e||e==s(1124)?String[s(1150)][s(1030)](null,[this[s(1674)](null==t?this[s(545)]-this[s(970)]:t)]):new TextDecoder(e)[s(1278)](this[s(1674)](t))},h.prototype[n(875)]=function(t){var e=n,s=this[e(545)]-this[e(970)],i=new Uint8Array(this[e(724)],this._byteOffset+this[e(970)]),r=s;null!=t&&(r=Math.min(t,s));for(var o=0;o<r&&0!==i[o];o++);var a=String[e(1150)].apply(null,[this.mapUint8Array(o)]);return null!=t?this.position+=r-o:o!=s&&(this.position+=1),a};var l=Math.pow(2,32);h[n(626)].readInt64=function(){var t=n;return this.readInt32()*l+this[t(1095)]()},h[n(626)][n(1290)]=function(){return this[n(1095)]()*l+this.readUint32()},h.prototype.readInt64=function(){var t=n;return this[t(1095)]()*l+this[t(1095)]()},h[n(626)][n(891)]=function(){var t=n;return(this[t(1550)]()<<16)+(this[t(1550)]()<<8)+this.readUint8()},"object"!==n(793)&&(e.DataStream=h),h[n(626)].save=function(t){var e=n,s=new Blob([this.buffer]);if(!window.URL||!URL[e(864)])throw e(1378);var i=window.URL.createObjectURL(s),r=document[e(1210)]("a");document.body[e(1267)](r),r.setAttribute("href",i),r[e(1420)]("download",t),r[e(1420)](e(505),e(529)),r[e(1518)](),window[e(850)][e(829)](i)},h[n(626)][n(786)]=!0,Object[n(854)](h[n(626)],n(543),{get:function(){return this[n(786)]},set:function(t){var e=n;!t&&this._trimAlloc(),this[e(786)]=t}}),h[n(626)][n(1179)]=function(t){var e=n,s=new ArrayBuffer(this[e(1699)]-t),i=new Uint8Array(s),r=new Uint8Array(this[e(724)],t,i[e(496)]);i[e(562)](r),this[e(674)]=s,this[e(970)]-=t},h[n(626)][n(1530)]=function(t,e){var s=n;if(this[s(1330)](4*t[s(496)]),t instanceof Int32Array&&this[s(1157)]+this[s(970)]%t[s(510)]===0)h[s(1626)](this[s(724)],this.byteOffset+this.position,t[s(674)],0,t.byteLength),this.mapInt32Array(t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this[s(1548)](t[i],e)},h[n(626)][n(1505)]=function(t,e){var s=n;if(this._realloc(2*t[s(496)]),t instanceof Int16Array&&this[s(1157)]+this[s(970)]%t[s(510)]===0)h.memcpy(this._buffer,this[s(1157)]+this[s(970)],t[s(674)],0,t[s(545)]),this[s(867)](t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this[s(1474)](t[i],e)},h.prototype.writeInt8Array=function(t){var e=n;if(this[e(1330)](1*t[e(496)]),t instanceof Int8Array&&this[e(1157)]+this.position%t.BYTES_PER_ELEMENT===0)h[e(1626)](this[e(724)],this[e(1157)]+this[e(970)],t[e(674)],0,t[e(545)]),this.mapInt8Array(t[e(496)]);else for(var s=0;s<t[e(496)];s++)this[e(835)](t[s])},h[n(626)][n(1309)]=function(t,e){var s=n;if(this[s(1330)](4*t[s(496)]),t instanceof Uint32Array&&this.byteOffset+this[s(970)]%t.BYTES_PER_ELEMENT===0)h[s(1626)](this._buffer,this.byteOffset+this[s(970)],t[s(674)],0,t[s(545)]),this[s(1494)](t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this.writeUint32(t[i],e)},h.prototype[n(1145)]=function(t,e){var s=n;if(this[s(1330)](2*t[s(496)]),t instanceof Uint16Array&&this[s(1157)]+this[s(970)]%t[s(510)]===0)h[s(1626)](this[s(724)],this[s(1157)]+this[s(970)],t[s(674)],0,t[s(545)]),this[s(1347)](t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this[s(1461)](t[i],e)},h[n(626)].writeUint8Array=function(t){var e=n;if(this[e(1330)](1*t[e(496)]),t instanceof Uint8Array&&this[e(1157)]+this[e(970)]%t.BYTES_PER_ELEMENT===0)h[e(1626)](this[e(724)],this[e(1157)]+this[e(970)],t[e(674)],0,t[e(545)]),this.mapUint8Array(t[e(496)]);else for(var s=0;s<t[e(496)];s++)this[e(680)](t[s])},h[n(626)][n(737)]=function(t,e){var s=n;if(this[s(1330)](8*t[s(496)]),t instanceof Float64Array&&this[s(1157)]+this.position%t.BYTES_PER_ELEMENT===0)h[s(1626)](this[s(724)],this[s(1157)]+this[s(970)],t[s(674)],0,t[s(545)]),this.mapFloat64Array(t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this[s(758)](t[i],e)},h[n(626)][n(878)]=function(t,e){var s=n;if(this._realloc(4*t[s(496)]),t instanceof Float32Array&&this[s(1157)]+this[s(970)]%t[s(510)]===0)h[s(1626)](this._buffer,this[s(1157)]+this.position,t[s(674)],0,t[s(545)]),this[s(647)](t[s(496)],e);else for(var i=0;i<t[s(496)];i++)this[s(1191)](t[i],e)},h[n(626)].writeInt32=function(t,e){var s=n;this[s(1330)](4),this._dataView[s(871)](this.position,t,null==e?this.endianness:e),this[s(970)]+=4},h[n(626)][n(1474)]=function(t,e){var s=n;this[s(1330)](2),this._dataView[s(1600)](this[s(970)],t,null==e?this[s(1695)]:e),this[s(970)]+=2},h[n(626)][n(835)]=function(t){var e=n;this[e(1330)](1),this[e(771)].setInt8(this[e(970)],t),this.position+=1},h.prototype.writeUint32=function(t,e){var s=n;this[s(1330)](4),this[s(771)][s(754)](this[s(970)],t,null==e?this[s(1695)]:e),this.position+=4},h[n(626)][n(1461)]=function(t,e){var s=n;this._realloc(2),this[s(771)][s(1410)](this[s(970)],t,null==e?this[s(1695)]:e),this[s(970)]+=2},h.prototype.writeUint8=function(t){var e=n;this[e(1330)](1),this[e(771)][e(1246)](this[e(970)],t),this[e(970)]+=1},h.prototype[n(1191)]=function(t,e){var s=n;this[s(1330)](4),this[s(771)][s(1084)](this[s(970)],t,null==e?this.endianness:e),this[s(970)]+=4},h[n(626)][n(758)]=function(t,e){var s=n;this._realloc(8),this[s(771)][s(1357)](this[s(970)],t,null==e?this[s(1695)]:e),this[s(970)]+=8},h[n(626)][n(1091)]=function(t,e,s){var i=n;null==s&&(s=t.length);for(var r=0;r<t[i(496)]&&r<s;r++)this[i(1461)](t[i(1099)](r),e);for(;r<s;r++)this[i(1461)](0)},h[n(626)].writeString=function(t,e,s){var i=n,r=0;if(null==e||e==i(1124))if(null!=s){var o=Math[i(532)](t[i(496)],s);for(r=0;r<o;r++)this[i(680)](t.charCodeAt(r));for(;r<s;r++)this.writeUint8(0)}else for(r=0;r<t[i(496)];r++)this[i(680)](t[i(1099)](r));else this[i(1308)](new TextEncoder(e).encode(t.substring(0,s)))},h[n(626)][n(859)]=function(t,e){var s=n,i=0;if(null!=e){var r=Math[s(532)](t[s(496)],e);for(i=0;i<r;i++)this.writeUint8(t[s(1099)](i));for(;i<e;i++)this[s(680)](0)}else{for(i=0;i<t[s(496)];i++)this[s(680)](t.charCodeAt(i));this[s(680)](0)}},h[n(626)][n(1534)]=function(t,e){for(var s=n,i=0;i<t[s(496)];i+=2){var r=t[i+1];this.writeType(r,e[t[i]],e)}},h[n(626)][n(1023)]=function(t,e,s){var i,r=n;if("function"==typeof t)return t(this,e);if("object"==typeof t&&!(t instanceof Array))return t[r(562)](this,e,s);var o=null,a=r(1124),l=this.position;switch(typeof t==r(1227)&&/:/.test(t)&&(i=t[r(1071)](":"),t=i[0],o=parseInt(i[1])),"string"==typeof t&&/,/.test(t)&&(i=t[r(1071)](","),t=i[0],a=parseInt(i[1])),t){case r(616):this[r(680)](e);break;case"int8":this[r(835)](e);break;case"uint16":this[r(1461)](e,this[r(1695)]);break;case"int16":this[r(1474)](e,this.endianness);break;case r(1252):this[r(903)](e,this[r(1695)]);break;case r(1473):this[r(1548)](e,this.endianness);break;case r(1528):this.writeFloat32(e,this[r(1695)]);break;case r(1045):this.writeFloat64(e,this[r(1695)]);break;case r(1297):this[r(1461)](e,h[r(499)]);break;case"int16be":this[r(1474)](e,h[r(499)]);break;case"uint32be":this.writeUint32(e,h[r(499)]);break;case r(1155):this[r(1548)](e,h[r(499)]);break;case"float32be":this.writeFloat32(e,h[r(499)]);break;case r(947):this[r(758)](e,h[r(499)]);break;case r(1035):this.writeUint16(e,h[r(1053)]);break;case"int16le":this[r(1474)](e,h[r(1053)]);break;case"uint32le":this.writeUint32(e,h[r(1053)]);break;case r(1401):this[r(1548)](e,h.LITTLE_ENDIAN);break;case r(717):this[r(1191)](e,h[r(1053)]);break;case r(1160):this[r(758)](e,h.LITTLE_ENDIAN);break;case r(1306):this[r(859)](e,o);break;case r(1227):this[r(525)](e,a,o);break;case r(1314):this.writeUCS2String(e,this[r(1695)],o);break;case r(1397):this[r(1091)](e,h.LITTLE_ENDIAN,o);break;case r(1199):this[r(1091)](e,h[r(499)],o);break;default:if(3==t.length){for(var c=t[1],d=0;d<e[r(496)];d++)this.writeType(c,e[d]);break}this[r(1534)](t,e)}null!=o&&(this[r(970)]=l,this[r(1330)](o),this[r(970)]=l+o)},h[n(626)].writeUint64=function(t){var e=n,s=Math[e(1407)](t/l);this.writeUint32(s),this[e(903)](4294967295&t)},h.prototype[n(1121)]=function(t){var e=n;this.writeUint8((16711680&t)>>16),this[e(680)]((65280&t)>>8),this[e(680)](255&t)},h[n(626)].adjustUint32=function(t,e){var s=n,i=this[s(970)];this[s(636)](t),this[s(903)](e),this[s(636)](i)},h[n(626)][n(615)]=function(t,e){var s=n;this[s(1330)](4*t);var i=new Int32Array(this[s(724)],this[s(1157)]+this[s(970)],t);return h[s(1639)](i,null==e?this.endianness:e),this.position+=4*t,i},h[n(626)][n(867)]=function(t,e){var s=n;this[s(1330)](2*t);var i=new Int16Array(this._buffer,this[s(1157)]+this[s(970)],t);return h[s(1639)](i,null==e?this[s(1695)]:e),this.position+=2*t,i},h[n(626)][n(1556)]=function(t){var e=n;this[e(1330)](1*t);var s=new Int8Array(this[e(724)],this[e(1157)]+this.position,t);return this.position+=1*t,s},h.prototype[n(1494)]=function(t,e){var s=n;this[s(1330)](4*t);var i=new Uint32Array(this._buffer,this[s(1157)]+this[s(970)],t);return h[s(1639)](i,null==e?this.endianness:e),this[s(970)]+=4*t,i},h.prototype[n(1347)]=function(t,e){var s=n;this[s(1330)](2*t);var i=new Uint16Array(this[s(724)],this[s(1157)]+this.position,t);return h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=2*t,i},h[n(626)][n(1013)]=function(t,e){var s=n;this[s(1330)](8*t);var i=new Float64Array(this[s(724)],this[s(1157)]+this[s(970)],t);return h.arrayToNative(i,null==e?this.endianness:e),this[s(970)]+=8*t,i},h[n(626)][n(647)]=function(t,e){var s=n;this._realloc(4*t);var i=new Float32Array(this[s(724)],this[s(1157)]+this[s(970)],t);return h[s(1639)](i,null==e?this[s(1695)]:e),this[s(970)]+=4*t,i};var c=function(t){var e=n;this[e(592)]=[],this[e(1691)]=-1,t&&(this[e(517)](t),this[e(1691)]=0)};c[n(626)]=new h(new ArrayBuffer,0,h.BIG_ENDIAN),c[n(626)][n(743)]=function(){var t,e=n;return this[e(1691)]>-1||(this[e(592)][e(496)]>0?0===(t=this[e(592)][0])[e(1597)]?(this.buffer=t,this[e(1691)]=0,o.debug(e(1332),"Stream ready for parsing"),!0):(this[e(675)](),!1):(this[e(675)](),!1))},ArrayBuffer[n(816)]=function(t,e){var s=n;o[s(1166)](s(1235),s(999)+(t[s(545)]+e[s(545)]));var i=new Uint8Array(t[s(545)]+e[s(545)]);return i[s(562)](new Uint8Array(t),0),i[s(562)](new Uint8Array(e),t[s(545)]),i.buffer},c[n(626)].reduceBuffer=function(t,e,s){var i,r=n;return(i=new Uint8Array(s))[r(562)](new Uint8Array(t,e,s)),i.buffer.fileStart=t[r(1597)]+e,i[r(674)].usedBytes=0,i[r(674)]},c[n(626)].insertBuffer=function(t){for(var e=n,s=!0,i=0;i<this[e(592)][e(496)];i++){var r=this.buffers[i];if(t[e(1597)]<=r[e(1597)]){if(t[e(1597)]===r[e(1597)]){if(t[e(545)]>r.byteLength){this[e(592)][e(645)](i,1),i--;continue}}else t[e(1597)]+t[e(545)]<=r[e(1597)]||(t=this[e(1162)](t,0,r.fileStart-t.fileStart)),o[e(1166)](e(1332),"Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t[e(545)]+")"),this.buffers[e(645)](i,0,t),0===i&&(this[e(674)]=t);s=!1;break}if(t.fileStart<r.fileStart+r.byteLength){var a=r[e(1597)]+r[e(545)]-t[e(1597)],h=t[e(545)]-a;if(!(h>0)){s=!1;break}t=this.reduceBuffer(t,a,h)}}s&&(o[e(1166)](e(1332),e(1066)+t.fileStart+e(1241)+t[e(545)]+")"),this[e(592)][e(1520)](t),0===i&&(this.buffer=t))},c.prototype[n(675)]=function(t){var e,s,i,r,a,h=n,l=[],c="";for(i=0,r=0,e=0;e<this.buffers[h(496)];e++)s=this.buffers[e],0===e?(a={},l[h(1520)](a),a.start=s[h(1597)],a[h(476)]=s[h(1597)]+s[h(545)],c+="["+a[h(719)]+"-"):a[h(476)]===s.fileStart?a[h(476)]=s[h(1597)]+s[h(545)]:((a={})[h(719)]=s[h(1597)],c+=l[l.length-1][h(476)]-1+"], ["+a.start+"-",a[h(476)]=s[h(1597)]+s.byteLength,l[h(1520)](a)),i+=s[h(1014)],r+=s[h(545)];l.length>0&&(c+=a.end-1+"]");var d=t?o[h(1492)]:o[h(1166)];0===this.buffers[h(496)]?d(h(1332),"No more buffer in memory"):d("MultiBufferStream",""+this[h(592)][h(496)]+h(759)+i+"/"+r+h(1610)+c)},c[n(626)].cleanBuffers=function(){var t,e,s=n;for(t=0;t<this[s(592)].length;t++)(e=this[s(592)][t])[s(1014)]===e.byteLength&&(o[s(1166)]("MultiBufferStream",s(690)+t),this[s(592)].splice(t,1),t--)},c.prototype[n(1413)]=function(){var t,e=n;if(this[e(1691)]+1<this[e(592)].length){if((t=this[e(592)][this[e(1691)]+1])[e(1597)]===this[e(674)][e(1597)]+this[e(674)][e(545)]){var s=this[e(674)][e(545)],i=this[e(674)][e(1014)],r=this[e(674)][e(1597)];return this[e(592)][this[e(1691)]]=ArrayBuffer.concat(this[e(674)],t),this.buffer=this.buffers[this[e(1691)]],this[e(592)][e(645)](this[e(1691)]+1,1),this[e(674)][e(1014)]=i,this[e(674)][e(1597)]=r,o[e(1166)](e(1276),"Concatenating buffer for box parsing (length: "+s+"->"+this.buffer[e(545)]+")"),!0}return!1}return!1},c.prototype.findPosition=function(t,e,s){var i,r=n,a=null,h=-1;for(i=!0===t?0:this[r(1691)];i<this.buffers[r(496)]&&(a=this[r(592)][i]).fileStart<=e;)h=i,s&&(a[r(1597)]+a[r(545)]<=e?a[r(1014)]=a[r(545)]:a[r(1014)]=e-a[r(1597)],this.logBufferLevel()),i++;return-1!==h?(a=this[r(592)][h]).fileStart+a.byteLength>=e?(o[r(1166)]("MultiBufferStream",r(1479)+h),h):-1:-1},c.prototype[n(1310)]=function(t){var e,s,i,r=n,o=void 0!==t?t:this[r(1691)];if(s=this[r(592)][o],this[r(592)][r(496)]>o+1)for(e=o+1;e<this[r(592)][r(496)]&&(i=this[r(592)][e]).fileStart===s[r(1597)]+s[r(545)];e++)s=i;return s[r(1597)]+s[r(545)]},c.prototype[n(890)]=function(t){var e=n,s=this[e(910)](!0,t,!1);return-1!==s?this[e(1310)](s):t},c[n(626)][n(807)]=function(t){var e=n;this[e(674)][e(1014)]+=t,this[e(675)]()},c[n(626)].setAllUsedBytes=function(){var t=n;this[t(674)][t(1014)]=this[t(674)][t(545)],this[t(675)]()},c.prototype[n(636)]=function(t,e,s){var i,r=n;return-1!==(i=this[r(910)](e,t,s))?(this.buffer=this.buffers[i],this[r(1691)]=i,this[r(970)]=t-this[r(674)][r(1597)],o[r(1166)]("MultiBufferStream",r(1189)+this[r(970)]),!0):(o[r(1166)](r(1332),r(1500)+t+r(1050)),!1)},c.prototype[n(769)]=function(){var t=n;if(-1===this[t(1691)]||null===this[t(592)][this.bufferIndex])throw t(860);return this[t(592)][this[t(1691)]][t(1597)]+this[t(970)]},c[n(626)][n(857)]=function(){return this[n(545)]},c[n(626)].getEndPosition=function(){var t=n;if(-1===this[t(1691)]||null===this[t(592)][this[t(1691)]])throw t(860);return this[t(592)][this[t(1691)]][t(1597)]+this.byteLength},c[n(626)][n(1232)]=function(){this[n(592)]=[],this.bufferIndex=-1},n(844)!==n(793)&&(e[n(1332)]=c);var d=function(){var t=n,e=[];e[3]=t(987),e[4]=t(921),e[5]=t(684),e[6]=t(1192),this[t(1504)]=function(t){return e[t]};var s=this,i={};return this[t(1236)]=function(s){var r,n,a,h=t,l=0;for(r=s.readUint8(),a=s[h(1550)]();128&a;)l=(127&a)<<7,a=s[h(1550)]();return l+=127&a,o[h(1166)](h(1096),"Found "+(e[r]||h(657)+r)+", size "+l+h(1201)+s.getPosition()),(n=e[r]?new i[e[r]](l):new(i[h(660)])(l))[h(800)](s),n},i[t(660)]=function(e,s){var i=t;this.tag=e,this[i(531)]=s,this[i(953)]=[]},i.Descriptor[t(626)][t(800)]=function(e){var s=t;this[s(1344)]=e[s(1104)](this[s(531)])},i[t(660)][t(626)][t(1198)]=function(e){for(var s=t,i=0;i<this.descs.length;i++)if(this.descs[i][s(599)]==e)return this[s(953)][i];return null},i[t(660)][t(626)][t(662)]=function(e){for(var i=t,r=e[i(970)];e[i(970)]<r+this.size;){var n=s[i(1236)](e);this[i(953)].push(n)}},i[t(987)]=function(e){i[t(660)].call(this,3,e)},i[t(987)][t(626)]=new(i[t(660)]),i[t(987)][t(626)][t(800)]=function(e){var s=t;if(this[s(948)]=e.readUint16(),this[s(964)]=e[s(1550)](),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=e.readUint16(),this[s(531)]-=2):this[s(691)]=0,64&this[s(964)]){var i=e[s(1550)]();this[s(850)]=e[s(869)](i),this[s(531)]-=i+1}else this[s(850)]="";32&this[s(964)]?(this[s(1371)]=e.readUint16(),this[s(531)]-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(e)},i[t(987)][t(626)].getOTI=function(e){var s=t,i=this[s(1198)](4);return i?i[s(1039)]:0},i[t(987)][t(626)][t(794)]=function(e){var s=t,i=this.findDescriptor(4);if(!i)return null;var r=i[s(1198)](5);if(r&&r[s(1344)]){var n=(248&r[s(1344)][0])>>3;return 31===n&&r[s(1344)][s(496)]>=2&&(n=32+((7&r[s(1344)][0])<<3)+((224&r.data[1])>>5)),n}return null},i[t(921)]=function(e){var s=t;i[s(660)][s(1689)](this,4,e)},i[t(921)][t(626)]=new i.Descriptor,i[t(921)].prototype.parse=function(e){var s=t;this[s(1039)]=e.readUint8(),this[s(984)]=e[s(1550)](),this[s(1385)]=0!=(this.streamType>>1&1),this[s(984)]=this[s(984)]>>>2,this.bufferSize=e[s(891)](),this[s(1684)]=e.readUint32(),this.avgBitrate=e.readUint32(),this[s(531)]-=13,this[s(662)](e)},i[t(684)]=function(e){var s=t;i[s(660)][s(1689)](this,5,e)},i[t(684)][t(626)]=new(i[t(660)]),i[t(1192)]=function(e){var s=t;i[s(660)][s(1689)](this,6,e)},i[t(1192)].prototype=new(i[t(660)]),this};"undefined"!==n(844)&&(e[n(1096)]=d);var u={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:[n(1467),"idat",n(1251),"skip",n(1502),"strk"],FULL_BOXES:["hmhd",n(809),"iods",n(806),n(958),"ipro",n(1273)],CONTAINER_BOXES:[[n(1666),[n(889),n(1079)]],[n(889)],[n(836)],[n(1577)],[n(1477)],["dinf"],["stbl",[n(518),n(1589)]],[n(1411),["trex"]],[n(1592),[n(796)]],[n(796),[n(1078),"sgpd","sbgp"]],[n(883)],[n(1588)],[n(1693)],["mfra",[n(537)]],[n(1502)],[n(1180)],[n(1516)],[n(949)],[n(1067)],[n(1441)],[n(580)],[n(1097)],[n(972)],[n(1004),[n(1362)]],[n(1022),[n(780)]],[n(1475)],[n(1218)],[n(1503)],["etyp",[n(1686)]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){var t=n;u.FullBox.prototype=new(u[t(1127)]),u[t(498)][t(626)]=new(u[t(1127)]),u[t(1393)][t(626)]=new(u[t(1127)]),u.TrackGroupTypeBox[t(626)]=new(u[t(1549)]),u[t(767)][t(1353)]((function(t){u.createBoxCtor(t)})),u[t(1405)][t(1353)]((function(e){u[t(879)](e)})),u[t(502)].forEach((function(e){u[t(1098)](e[0],null,e[1])}))},Box:function(t,e,s){this.type=t,this.size=e,this.uuid=s},FullBox:function(t,e,s){var i=n;u[i(1127)][i(1689)](this,t,e,s),this[i(964)]=0,this[i(778)]=0},ContainerBox:function(t,e,s){var i=n;u[i(1127)][i(1689)](this,t,e,s),this[i(1034)]=[]},SampleEntry:function(t,e,s,i){var r=n;u[r(498)][r(1689)](this,t,e),this[r(493)]=s,this[r(719)]=i},SampleGroupEntry:function(t){this[n(507)]=t},TrackGroupTypeBox:function(t,e){var s=n;u[s(1549)][s(1689)](this,t,e)},createBoxCtor:function(t,e){var s=n;u[s(1082)][s(1520)](t),u[t+"Box"]=function(e){var i=s;u[i(1127)][i(1689)](this,t,e)},u[t+"Box"][s(626)]=new(u[s(1127)]),e&&(u[t+"Box"].prototype[s(800)]=e)},createFullBoxCtor:function(t,e){var s=n;u[t+"Box"]=function(e){var s=pm;u.FullBox[s(1689)](this,t,e)},u[t+s(1127)][s(626)]=new u.FullBox,u[t+"Box"][s(626)][s(800)]=function(t){var i=s;this[i(1037)](t),e&&e[i(1689)](this,t)}},addSubBoxArrays:function(t){if(t){this[n(1256)]=t;for(var e=t.length,s=0;s<e;s++)this[t[s]+"s"]=[]}},createContainerBoxCtor:function(t,e,s){var i=n;u[t+i(1127)]=function(e){var r=i;u[r(498)].call(this,t,e),u[r(701)][r(1689)](this,s)},u[t+"Box"][i(626)]=new(u[i(498)]),e&&(u[t+"Box"].prototype.parse=e)},createMediaSampleEntryCtor:function(t,e,s){var i=n;u[i(1386)][t]=[],u[t+"SampleEntry"]=function(t,e){var r=i;u[r(1393)][r(1689)](this,t,e),u[r(701)].call(this,s)},u[t+i(1393)][i(626)]=new(u[i(1393)]),e&&(u[t+i(1393)][i(626)][i(800)]=e)},createSampleEntryCtor:function(t,e,s,i){var r=n;u[r(1386)][t][r(1520)](e),u[e+r(1393)]=function(s){var n=r;u[t+"SampleEntry"].call(this,e,s),u[n(701)][n(1689)](this,i)},u[e+r(1393)].prototype=new(u[t+r(1393)]),s&&(u[e+r(1393)][r(626)][r(800)]=s)},createEncryptedSampleEntryCtor:function(t,e,s){var i=n;u.createSampleEntryCtor[i(1689)](this,t,e,s,[i(1441)])},createSampleGroupCtor:function(t,e){var s=n;u[t+s(702)]=function(e){var i=s;u[i(702)][i(1689)](this,t,e)},u[t+"SampleGroupEntry"][s(626)]=new(u[s(702)]),e&&(u[t+s(702)][s(626)][s(800)]=e)},createTrackGroupCtor:function(t,e){var s=n;u[t+s(1701)]=function(e){var i=s;u[i(1701)][i(1689)](this,t,e)},u[t+s(1701)][s(626)]=new(u[s(1701)]),e&&(u[t+s(1701)][s(626)][s(800)]=e)},createUUIDBox:function(t,e,s,i){var r=n;u[r(1529)][r(1520)](t),u[r(1136)][t]=function(i){var n=r;e?u[n(1549)][n(1689)](this,"uuid",i,t):s?u[n(498)][n(1689)](this,n(601),i,t):u[n(1127)][n(1689)](this,n(601),i,t)},u[r(1136)][t][r(626)]=e?new u.FullBox:s?new(u[r(498)]):new(u[r(1127)]),i&&(e?u[r(1136)][t][r(626)][r(800)]=function(t){var e=r;this[e(1037)](t),i&&i[e(1689)](this,t)}:u.UUIDBoxes[t].prototype[r(800)]=i)}};function p(t,e){this.x=t,this.y=e}function f(t,e){var s=n;this[s(1171)]=t,this[s(1508)]=e}u[n(1450)](),u[n(1351)]=1,u.TKHD_FLAG_IN_MOVIE=2,u[n(1537)]=4,u[n(1151)]=1,u[n(980)]=2,u[n(698)]=8,u[n(1680)]=16,u[n(1650)]=32,u[n(1509)]=65536,u.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,u.TRUN_FLAGS_DATA_OFFSET=1,u[n(1681)]=4,u[n(483)]=256,u[n(1230)]=512,u.TRUN_FLAGS_FLAGS=1024,u[n(1173)]=2048,u.Box[n(626)][n(692)]=function(t){var e=n;return this.addBox(new(u[t+e(1127)]))},u[n(1127)][n(626)][n(1615)]=function(t){var e=n;return this.boxes.push(t),this[t[e(1143)]+"s"]?this[t.type+"s"].push(t):this[t[e(1143)]]=t,t},u[n(1127)][n(626)].set=function(t,e){return this[t]=e,this},u[n(1127)][n(626)][n(846)]=function(t,e){var s=n,i=e||s(1486);return!this[i]&&(this[i]=[]),this[i][s(1520)](t),this},n(844)!==n(793)&&(e.BoxParser=u),u[n(975)]=function(t){return u[n(1061)](t)},u[n(1061)]=function(t){for(var e=n,s="",i=0;i<16;i++){var r=t.readUint8().toString(16);s+=1===r[e(496)]?"0"+r:r}return s},u[n(591)]=function(t,e,s){var i,r,a,h=n,l=t[h(769)](),c=0;if(t[h(1176)]()-l<8)return o.debug("BoxParser",h(1169)),{code:u.ERR_NOT_ENOUGH_DATA};if(s&&s<8)return o[h(1166)]("BoxParser",h(1238)),{code:u.ERR_NOT_ENOUGH_DATA};var d=t[h(1095)](),p=t[h(869)](4);if(o[h(1166)](h(1345),h(777)+p+h(1662)+d+h(1201)+l),c=8,p==h(601)){if(t[h(1176)]()-t[h(769)]()<16||s-c<16)return t[h(636)](l),o[h(1166)](h(1345),h(1093)),{code:u[h(808)]};a=u[h(975)](t),c+=16}if(1==d){if(t.getEndPosition()-t.getPosition()<8||s&&s-c<8)return t[h(636)](l),{code:u[h(808)]};d=t.readUint64(),c+=8}else if(0===d)if(s)d=s;else if(p!==h(1467))return i=new(u[h(1127)])(p,d),{code:u.OK,box:i,size:i.size};return 0!==d&&d<c||0!==d&&s&&d>s?{code:u.ERR_NOT_ENOUGH_DATA,type:p,size:d,hdr_size:c,start:l}:0!==d&&l+d>t.getEndPosition()?(t[h(636)](l),{code:u[h(808)],type:p,size:d,hdr_size:c,start:l}):e?{code:u.OK,type:p,size:d,hdr_size:c,start:l}:(u[p+h(1127)]?i=new(u[p+h(1127)])(d):p!==h(601)?(i=new(u[h(1127)])(p,d))[h(913)]=!0:u.UUIDBoxes[a]?i=new u.UUIDBoxes[a](d):((i=new(u[h(1127)])(p,d))[h(601)]=a,i[h(913)]=!0),i.hdr_size=c,i.start=l,i[h(1090)]===u[h(1127)][h(626)][h(1090)]&&i[h(1143)]!==h(1467)&&i[h(805)](t),i[h(800)](t),(r=t[h(769)]()-(i[h(719)]+i[h(531)]))<0?t[h(636)](i[h(719)]+i[h(531)]):r>0&&0!==i.size&&t[h(636)](i.start+i[h(531)]),{code:u.OK,box:i,size:i[h(531)]})},u[n(1127)][n(626)].parse=function(t){var e=n;this[e(1143)]!=e(1467)?this.data=t[e(1104)](this[e(531)]-this[e(493)]):0===this.size?t[e(636)](t[e(1176)]()):t[e(636)](this.start+this[e(531)])},u[n(1127)][n(626)][n(805)]=function(t){var e=n;this[e(1344)]=t[e(1104)](this.size-this[e(493)]),t[e(970)]-=this[e(531)]-this[e(493)]},u[n(1549)][n(626)][n(805)]=function(t){var e=n;this.parseFullHeader(t),this[e(1344)]=t[e(1104)](this.size-this[e(493)]),this[e(493)]-=4,t[e(970)]-=this[e(531)]-this[e(493)]},u[n(1549)][n(626)][n(1037)]=function(t){var e=n;this[e(778)]=t[e(1550)](),this[e(964)]=t[e(891)](),this[e(493)]+=4},u[n(1549)].prototype[n(800)]=function(t){var e=n;this[e(1037)](t),this[e(1344)]=t[e(1104)](this[e(531)]-this[e(493)])},u.ContainerBox[n(626)][n(800)]=function(t){for(var e,s,i=n;t[i(769)]()<this[i(719)]+this.size;){if((e=u[i(591)](t,!1,this[i(531)]-(t[i(769)]()-this[i(719)]))).code!==u.OK)return;if(s=e[i(1318)],this.boxes[i(1520)](s),this[i(1256)]&&-1!=this[i(1256)][i(556)](s[i(1143)]))this[this[i(1256)][this[i(1256)][i(556)](s.type)]+"s"][i(1520)](s);else{var r=s[i(1143)]!==i(601)?s[i(1143)]:s[i(601)];this[r]||(this[r]=s)}}},u[n(1127)][n(626)][n(1557)]=function(t){var e=n;this[e(1193)]=t[e(969)]();var s=[];s[0]=this[e(1193)]>>10&31,s[1]=this[e(1193)]>>5&31,s[2]=31&this[e(1193)],this[e(1673)]=String[e(1001)](s[0]+96,s[1]+96,s[2]+96)},u.SAMPLE_ENTRY_TYPE_VISUAL=n(1599),u[n(1603)]=n(1085),u[n(630)]="Hint",u[n(1105)]=n(548),u.SAMPLE_ENTRY_TYPE_SUBTITLE=n(833),u[n(619)]=n(713),u.SAMPLE_ENTRY_TYPE_TEXT=n(1122),u[n(1393)].prototype.parseHeader=function(t){var e=n;t[e(1104)](6),this[e(1328)]=t.readUint16(),this[e(493)]+=8},u[n(1393)][n(626)][n(800)]=function(t){var e=n;this[e(765)](t),this[e(1344)]=t.readUint8Array(this[e(531)]-this[e(493)])},u[n(1393)][n(626)][n(805)]=function(t){var e=n;this.parseHeader(t),this[e(1344)]=t.readUint8Array(this.size-this.hdr_size),this[e(493)]-=8,t[e(970)]-=this[e(531)]-this.hdr_size},u[n(1393)][n(626)][n(909)]=function(t){var e=n;u[e(498)].prototype[e(800)][e(1689)](this,t)},u[n(1542)](u[n(630)]),u[n(1542)](u[n(1105)]),u[n(1542)](u[n(1594)]),u[n(1542)](u[n(619)]),u.createMediaSampleEntryCtor(u[n(631)]),u.createMediaSampleEntryCtor(u[n(1526)],(function(t){var e,s=n;this[s(765)](t),t.readUint16(),t[s(969)](),t.readUint32Array(3),this[s(1002)]=t[s(969)](),this[s(1403)]=t[s(969)](),this.horizresolution=t[s(1095)](),this[s(1040)]=t[s(1095)](),t[s(1095)](),this[s(1531)]=t[s(969)](),e=Math[s(532)](31,t[s(1550)]()),this.compressorname=t[s(869)](e),e<31&&t[s(869)](31-e),this.depth=t[s(969)](),t[s(969)](),this.parseFooter(t)})),u[n(1542)](u[n(1603)],(function(t){var e=n;this[e(765)](t),t[e(749)](2),this.channel_count=t.readUint16(),this[e(1490)]=t.readUint16(),t[e(969)](),t.readUint16(),this[e(1327)]=t[e(1095)]()/65536,this[e(909)](t)})),u[n(653)](u[n(1526)],n(1535)),u[n(653)](u[n(1526)],n(1375)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),u[n(653)](u[n(1526)],n(1300)),u.createSampleEntryCtor(u[n(1526)],"av01"),u[n(653)](u[n(1526)],n(973)),u[n(653)](u[n(1526)],"hvc1"),u[n(653)](u[n(1526)],n(606)),u[n(653)](u[n(1526)],n(1521)),u[n(653)](u[n(1526)],n(695)),u[n(653)](u[n(1526)],n(539)),u[n(653)](u[n(1526)],n(1284)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_VISUAL,n(831)),u[n(653)](u[n(1526)],n(578)),u.createSampleEntryCtor(u[n(1526)],n(1346)),u.createSampleEntryCtor(u[n(1526)],n(1617)),u[n(653)](u[n(1526)],"vp08"),u[n(653)](u[n(1526)],n(1663)),u.createSampleEntryCtor(u[n(1526)],n(1260)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),u[n(653)](u[n(1526)],n(575)),u[n(653)](u[n(1526)],n(530)),u[n(653)](u[n(1526)],"uncv"),u.createSampleEntryCtor(u[n(1603)],"mp4a"),u[n(653)](u[n(1603)],n(1598)),u[n(653)](u[n(1603)],"ac-4"),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_AUDIO,n(665)),u.createSampleEntryCtor(u[n(1603)],n(1240)),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),u.createSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),u[n(653)](u[n(1603)],n(1468)),u.createSampleEntryCtor(u[n(1603)],"mhm2"),u.createEncryptedSampleEntryCtor(u[n(1526)],n(1088)),u[n(1408)](u[n(1603)],n(549)),u.createEncryptedSampleEntryCtor(u[n(1594)],"encu"),u[n(1408)](u.SAMPLE_ENTRY_TYPE_SYSTEM,n(514)),u[n(1408)](u[n(631)],n(1632)),u.createEncryptedSampleEntryCtor(u.SAMPLE_ENTRY_TYPE_METADATA,"encm"),u[n(577)](n(520),(function(t){var e=n,s=16*(1+(1&(1&t[e(1550)]())));this[e(689)]=[];for(var i=0;i<3;i++)this[e(689)][i]=16==s?t[e(969)]():t[e(1095)]()})),u[n(577)](n(992),(function(t){var e=n;this[e(617)]=t[e(1550)]()})),u[n(879)](n(710),(function(t){var e=n;this[e(874)]=t[e(875)]();var s=this[e(531)]-this.hdr_size-(this[e(874)][e(496)]+1);this[e(1458)]=t.readUint8Array(s)})),u.createBoxCtor(n(880),(function(t){var e=n,s=t[e(1550)]();if(!(s>>7&!1)&&(this[e(778)]=127&s,1===this[e(778)]&&(s=t[e(1550)](),this.seq_profile=s>>5&7,this[e(1250)]=31&s,s=t[e(1550)](),this[e(1431)]=s>>7&1,this.high_bitdepth=s>>6&1,this[e(623)]=s>>5&1,this[e(608)]=s>>4&1,this.chroma_subsampling_x=s>>3&1,this[e(609)]=s>>2&1,this[e(935)]=3&s,s=t[e(1550)](),this[e(925)]=s>>5&7,0===this[e(925)]))){if(this[e(1469)]=s>>4&1,1===this[e(1469)])this[e(837)]=15&s;else if(this[e(1485)]=15&s,0!==this[e(1485)])return;var i=this[e(531)]-this.hdr_size-4;this[e(628)]=t.readUint8Array(i)}})),u[n(577)](n(651),(function(t){var e,s,i=n;for(this[i(763)]=t[i(1550)](),this[i(668)]=t.readUint8(),this.profile_compatibility=t[i(1550)](),this[i(1164)]=t.readUint8(),this[i(845)]=3&t[i(1550)](),this.nb_SPS_nalus=31&t[i(1550)](),s=this[i(531)]-this[i(493)]-6,this[i(686)]=[],e=0;e<this.nb_SPS_nalus;e++)this[i(686)][e]={},this[i(686)][e][i(496)]=t[i(969)](),this.SPS[e][i(1042)]=t[i(1104)](this[i(686)][e].length),s-=2+this.SPS[e].length;for(this[i(1677)]=t[i(1550)](),s--,this[i(731)]=[],e=0;e<this[i(1677)];e++)this[i(731)][e]={},this[i(731)][e][i(496)]=t[i(969)](),this[i(731)][e][i(1042)]=t[i(1104)](this[i(731)][e][i(496)]),s-=2+this[i(731)][e][i(496)];s>0&&(this[i(756)]=t.readUint8Array(s))})),u[n(577)]("btrt",(function(t){var e=n;this[e(1578)]=t[e(1095)](),this[e(1684)]=t[e(1095)](),this[e(1427)]=t[e(1095)]()})),u.createFullBoxCtor(n(1113),(function(t){var e=n,s=t[e(1550)]();this[e(1687)]=128==(128&s),this.intra_pred_used=64==(64&s),this[e(900)]=(63&s)>>2,t.readUint24()})),u[n(577)](n(477),(function(t){var e,s=n;for(this.channel_count=t[s(969)](),this[s(950)]=[],this[s(1544)]=[],this.channel_associations=[],e=0;e<this[s(736)];e++)this.channel_indexes[s(1520)](t.readUint16()),this[s(1544)][s(1520)](t.readUint16()),this[s(840)][s(1520)](t[s(969)]())})),u[n(577)]("clap",(function(t){var e=n;this[e(1661)]=t[e(1095)](),this[e(979)]=t[e(1095)](),this[e(694)]=t[e(1095)](),this.cleanApertureHeightD=t[e(1095)](),this[e(934)]=t[e(1095)](),this.horizOffD=t.readUint32(),this.vertOffN=t.readUint32(),this[e(1325)]=t[e(1095)]()})),u[n(577)](n(1624),(function(t){var e=n;this[e(1100)]=t[e(969)](),this[e(621)]=t[e(969)]()})),u[n(879)](n(1649),(function(t){var e=n;1&this[e(964)]&&(this[e(1394)]=t.readInt32()),2&this[e(964)]&&(this[e(1585)]=t.readInt32()),4&this.flags&&(this.pos_z=t.readInt32()),8&this.flags&&(0==this[e(778)]?16&this.flags?(this[e(627)]=t[e(1283)](),this[e(639)]=t[e(1283)](),this.quat_z=t.readInt32()):(this[e(627)]=t[e(1110)](),this[e(639)]=t[e(1110)](),this[e(1263)]=t[e(1110)]()):this.version),32&this[e(964)]&&(this.id=t[e(1095)]())})),u.createFullBoxCtor(n(906),(function(t){var e=n;this[e(1459)]=t[e(1283)](),this.principal_point_x=t.readInt32(),this[e(1349)]=t[e(1283)](),1&this[e(964)]&&(this.focal_length_y=t[e(1283)](),this[e(733)]=t[e(1283)]())})),u[n(577)](n(1384),(function(t){var e=n;for(this[e(1161)]=t[e(1095)](),this.component_types=[],this.component_type_urls=[],i=0;i<this[e(1161)];i++){var s=t[e(969)]();this[e(1591)][e(1520)](s),s>=32768&&this[e(1015)].push(t[e(875)]())}})),u.createFullBoxCtor(n(1628),(function(t){var e,s,i=n;if(e=t.readUint32(),this[i(1341)]=[],0===this[i(778)])for(s=0;s<e;s++)this[i(1341)][i(1520)](t[i(1290)]())})),u[n(879)]("CoLL",(function(t){var e=n;this[e(607)]=t.readUint16(),this[e(593)]=t[e(969)]()})),u[n(577)](n(1149),(function(t){var e=n;if(this[e(1076)]=t[e(869)](4),"nclx"===this[e(1076)]){this[e(762)]=t[e(969)](),this[e(872)]=t[e(969)](),this[e(1259)]=t[e(969)]();var s=t[e(1550)]();this[e(1364)]=s>>7}else(this[e(1076)]===e(1223)||"prof"===this[e(1076)])&&(this[e(927)]=t[e(1104)](this[e(531)]-4))})),u[n(879)](n(1512),(function(t){var e=n;this[e(1557)](t),this[e(1547)]=t.readCString()})),u.createFullBoxCtor(n(693),(function(t){var e=n;0===this[e(778)]&&(this.compositionToDTSShift=t[e(1283)](),this[e(797)]=t[e(1283)](),this.greatestDecodeToDisplayDelta=t[e(1283)](),this[e(600)]=t.readInt32(),this[e(1607)]=t[e(1283)]())})),u[n(879)]("ctts",(function(t){var e,s,i=n;if(e=t[i(1095)](),this[i(1421)]=[],this.sample_offsets=[],0===this.version)for(s=0;s<e;s++){this[i(1421)][i(1520)](t[i(1095)]());var r=t[i(1283)]();this.sample_offsets[i(1520)](r)}else if(1==this[i(778)])for(s=0;s<e;s++)this[i(1421)][i(1520)](t.readUint32()),this[i(817)][i(1520)](t.readInt32())})),u.createBoxCtor("dac3",(function(t){var e=n,s=t[e(1550)](),i=t[e(1550)](),r=t[e(1550)]();this[e(1225)]=s>>6,this.bsid=s>>1&31,this[e(574)]=(1&s)<<2|i>>6&3,this.acmod=i>>3&7,this[e(936)]=i>>2&1,this[e(494)]=3&i|r>>5&7})),u[n(577)](n(700),(function(t){var e=n,s=t[e(969)]();this[e(735)]=s>>3,this[e(1302)]=7&s,this.ind_subs=[];for(var i=0;i<this[e(1302)]+1;i++){var r={};this[e(1174)].push(r);var o=t.readUint8(),a=t[e(1550)](),h=t[e(1550)]();r[e(1225)]=o>>6,r[e(634)]=o>>1&31,r[e(574)]=(1&o)<<4|a>>4&15,r[e(766)]=a>>1&7,r[e(936)]=1&a,r[e(1311)]=h>>1&15,r.num_dep_sub>0&&(r[e(1541)]=(1&h)<<8|t.readUint8())}})),u[n(879)](n(1387),(function(t){var e=n,s=[],i=[e(755),e(1406),e(1553),"SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE",e(1231)];for(this[e(1037)](t);;){var r=t[e(1550)](),o=Math[e(532)](127&r,i[e(496)]-1);if(o?t[e(1104)](t[e(891)]()):(t[e(1104)](13),this[e(1327)]=t[e(1095)]()>>12,t[e(1104)](20)),s.push(i[o]),128&r)break}this.numMetadataBlocks=s[e(496)]+" ("+s[e(924)](", ")+")"})),u[n(577)]("dimm",(function(t){var e=n;this[e(1629)]=t[e(1290)]()})),u[n(577)](n(605),(function(t){var e=n;this[e(1175)]=t[e(1095)]()})),u[n(577)]("dmed",(function(t){this[n(1629)]=t.readUint64()})),u.createBoxCtor(n(1102),(function(t){var e=n;if(this[e(1233)]=t[e(1550)](),this[e(1200)]=t[e(1550)](),this.PreSkip=t.readUint16(),this[e(583)]=t[e(1095)](),this[e(1106)]=t.readInt16(),this[e(1533)]=t[e(1550)](),0!==this[e(1533)]){this[e(1190)]=t.readUint8(),this[e(1425)]=t[e(1550)](),this[e(481)]=[];for(var s=0;s<this.OutputChannelCount;s++)this[e(481)][s]=t[e(1550)]()}})),u.createFullBoxCtor(n(1158),(function(t){var e,s,i=n;this[i(1486)]=[];for(var r=t[i(1095)](),o=0;o<r;o++){if((e=u[i(591)](t,!1,this.size-(t.getPosition()-this[i(719)])))[i(501)]!==u.OK)return;s=e[i(1318)],this[i(1486)].push(s)}})),u[n(577)]("drep",(function(t){this[n(1629)]=t.readUint64()})),u[n(879)](n(1620),(function(t){var e=n;this[e(915)]=t[e(869)](this[e(531)]-this.hdr_size)})),u[n(879)](n(826),(function(t){var e=n;this[e(1486)]=[];for(var s=t[e(1095)](),i=0;i<s;i++){var r={};this[e(1486)][e(1520)](r),1===this[e(778)]?(r.segment_duration=t[e(1290)](),r[e(508)]=t.readInt64()):(r[e(1595)]=t[e(1095)](),r[e(508)]=t[e(1283)]()),r[e(1258)]=t[e(1110)](),r[e(1261)]=t[e(1110)]()}})),u[n(879)](n(1133),(function(t){var e=n;1==this[e(778)]?(this[e(824)]=t.readUint32(),this[e(646)]=t[e(1290)](),this.event_duration=t.readUint32(),this.id=t[e(1095)](),this.scheme_id_uri=t[e(875)](),this[e(799)]=t.readCString()):(this.scheme_id_uri=t.readCString(),this[e(799)]=t[e(875)](),this.timescale=t[e(1095)](),this[e(512)]=t[e(1095)](),this[e(1245)]=t[e(1095)](),this.id=t[e(1095)]());var s=this[e(531)]-this[e(493)]-(16+(this[e(1433)][e(496)]+1)+(this[e(799)][e(496)]+1));1==this[e(778)]&&(s-=4),this.message_data=t.readUint8Array(s)})),u.createEntityToGroupCtor=function(t,e){var s=n;u[t+"Box"]=function(e){var s=pm;u[s(1549)][s(1689)](this,t,e)},u[t+s(1127)][s(626)]=new(u[s(1549)]),u[t+s(1127)][s(626)][s(800)]=function(t){var r=s;if(this[r(1037)](t),e)e[r(1689)](this,t);else for(this.group_id=t[r(1095)](),this[r(1428)]=t.readUint32(),this.entity_ids=[],i=0;i<this[r(1428)];i++){var n=t[r(1095)]();this[r(484)][r(1520)](n)}}},u[n(521)](n(526)),u[n(521)](n(1313)),u[n(521)](n(1139)),u.createEntityToGroupCtor(n(1092)),u[n(521)]("brst"),u[n(521)](n(487)),u[n(521)](n(1333)),u.createEntityToGroupCtor("favc"),u[n(521)](n(1355)),u[n(521)](n(559)),u.createEntityToGroupCtor(n(848)),u[n(521)]("slid"),u[n(521)](n(1119)),u[n(521)](n(1282)),u[n(521)](n(582)),u.createEntityToGroupCtor(n(1488)),u.createFullBoxCtor(n(792),(function(t){var e=n,s=t[e(1104)](this[e(531)]-this[e(493)]),i=new d;this[e(585)]=i.parseOneDescriptor(new h(s.buffer,0,h[e(499)]))})),u.createBoxCtor(n(732),(function(t){var e=n;this[e(1437)]=t[e(1550)](),this.fieldOrdering=t[e(1550)]()})),u[n(577)]("frma",(function(t){var e=n;this[e(1423)]=t[e(869)](4)})),u[n(577)](n(1125),(function(t){var e=n,s=this.size-this[e(493)];this[e(1676)]=t[e(869)](4),this[e(1692)]=t[e(1095)](),s-=8,this[e(1560)]=[];for(var i=0;s>=4;)this[e(1560)][i]=t[e(869)](4),s-=4,i++})),u.createFullBoxCtor(n(534),(function(t){var e=n;0===this[e(778)]&&(t[e(1095)](),this[e(1178)]=t[e(869)](4),t[e(749)](3),this.name=t[e(869)](this.size-this[e(493)]-20),"\0"===this[e(611)][this[e(611)].length-1]&&(this[e(611)]=this.name.slice(0,-1)))})),u.createBoxCtor("hvcC",(function(t){var e,s,i,r,o=n;this.configurationVersion=t.readUint8(),r=t[o(1550)](),this[o(1074)]=r>>6,this[o(1291)]=(32&r)>>5,this.general_profile_idc=31&r,this[o(716)]=t[o(1095)](),this.general_constraint_indicator=t[o(1104)](6),this[o(1287)]=t[o(1550)](),this.min_spatial_segmentation_idc=4095&t.readUint16(),this[o(579)]=3&t[o(1550)](),this[o(1554)]=3&t[o(1550)](),this[o(1679)]=7&t.readUint8(),this[o(1101)]=7&t[o(1550)](),this[o(1641)]=t[o(969)](),r=t[o(1550)](),this.constantFrameRate=r>>6,this[o(1627)]=(13&r)>>3,this.temporalIdNested=(4&r)>>2,this[o(845)]=3&r,this[o(1152)]=[];var a=t[o(1550)]();for(e=0;e<a;e++){var h=[];this[o(1152)].push(h),r=t[o(1550)](),h[o(602)]=(128&r)>>7,h[o(968)]=63&r;var l=t[o(969)]();for(s=0;s<l;s++){var c={};h[o(1520)](c),i=t[o(969)](),c.data=t[o(1104)](i)}}})),u[n(879)](n(976),(function(t){var e,s=n;0===this.version?this[s(818)]=t[s(969)]():this.entry_count=t[s(1095)](),this[s(482)]=[];for(var i=0;i<this.entry_count;i++){if((e=u[s(591)](t,!1,this[s(531)]-(t.getPosition()-this[s(719)])))[s(501)]!==u.OK)return;e[s(1318)][s(1143)],s(1008),this[s(482)][i]=e[s(1318)]}})),u[n(879)](n(1399),(function(t){var e,s=n;e=t[s(1550)](),this[s(519)]=e>>4&15,this.length_size=15&e,e=t[s(1550)](),this[s(1675)]=e>>4&15,1===this[s(778)]||2===this[s(778)]?this[s(1032)]=15&e:this[s(1032)]=0,this[s(959)]=[];var i=0;if(this[s(778)]<2)i=t[s(969)]();else{if(2!==this[s(778)])throw s(1697);i=t.readUint32()}for(var r=0;r<i;r++){var o={};if(this[s(959)].push(o),this[s(778)]<2)o[s(1495)]=t[s(969)]();else{if(2!==this[s(778)])throw"version of iloc box not supported";o[s(1495)]=t[s(1095)]()}switch(1===this[s(778)]||2===this.version?o[s(554)]=15&t[s(969)]():o[s(554)]=0,o[s(1328)]=t[s(969)](),this.base_offset_size){case 0:o.base_offset=0;break;case 4:o[s(940)]=t[s(1095)]();break;case 8:o.base_offset=t[s(1290)]();break;default:throw s(595)}var a=t[s(969)]();o[s(587)]=[];for(var h=0;h<a;h++){var l={};if(o[s(587)][s(1520)](l),1===this.version||2===this[s(778)])switch(this[s(1032)]){case 0:l[s(821)]=0;break;case 4:l[s(821)]=t[s(1095)]();break;case 8:l[s(821)]=t[s(1290)]();break;default:throw s(640)}switch(this[s(519)]){case 0:l.extent_offset=0;break;case 4:l[s(1382)]=t[s(1095)]();break;case 8:l[s(1382)]=t.readUint64();break;default:throw s(640)}switch(this.length_size){case 0:l[s(1655)]=0;break;case 4:l.extent_length=t[s(1095)]();break;case 8:l[s(1655)]=t[s(1290)]();break;default:throw s(640)}}}})),u[n(577)](n(787),(function(t){var e=n,s=t[e(1550)]();this.reserved=s>>7,this[e(560)]=1&s})),u[n(879)]("infe",(function(t){var e=n;if((0===this[e(778)]||1===this[e(778)])&&(this[e(1495)]=t[e(969)](),this[e(659)]=t.readUint16(),this[e(870)]=t.readCString(),this[e(745)]=t[e(875)](),this[e(1361)]=t[e(875)]()),1===this.version)return this[e(1011)]=t[e(869)](4),void t[e(636)](this.start+this.size);this[e(778)]>=2&&(2===this[e(778)]?this[e(1495)]=t[e(969)]():3===this[e(778)]&&(this[e(1495)]=t[e(1095)]()),this[e(659)]=t[e(969)](),this[e(696)]=t[e(869)](4),this.item_name=t[e(875)](),this[e(696)]===e(699)?(this[e(745)]=t.readCString(),this.content_encoding=t.readCString()):this.item_type===e(1012)&&(this[e(1269)]=t[e(875)]()))})),u[n(879)]("ipma",(function(t){var e,s,i=n;for(entry_count=t[i(1095)](),this.associations=[],e=0;e<entry_count;e++){var r={};this.associations[i(1520)](r),this[i(778)]<1?r.id=t[i(969)]():r.id=t[i(1095)]();var o=t[i(1550)]();for(r.props=[],s=0;s<o;s++){var a=t[i(1550)](),h={};r[i(983)][i(1520)](h),h.essential=(128&a)>>7==1,1&this.flags?h[i(1142)]=(127&a)<<8|t[i(1550)]():h.property_index=127&a}}})),u.createFullBoxCtor(n(1693),(function(t){var e,s,i=n;for(this.references=[];t.getPosition()<this[i(719)]+this[i(531)];){if((e=u[i(591)](t,!0,this[i(531)]-(t.getPosition()-this[i(719)])))[i(501)]!==u.OK)return;(s=0===this[i(778)]?new u.SingleItemTypeReferenceBox(e[i(1143)],e[i(531)],e.hdr_size,e.start):new(u[i(839)])(e[i(1143)],e[i(531)],e[i(493)],e[i(719)]))[i(1090)]===u.Box[i(626)][i(1090)]&&s[i(1143)]!==i(1467)&&s[i(805)](t),s[i(800)](t),this[i(547)].push(s)}})),u[n(577)](n(1352),(function(t){var e=n;this[e(1532)]=3&t[e(1550)]()})),u[n(879)](n(746),(function(t){var e=n;this.image_width=t[e(1095)](),this[e(951)]=t[e(1095)]()})),u.createFullBoxCtor(n(1362),(function(t){var e=n;this[e(727)]=t[e(875)](),this.value=t[e(875)]()})),u[n(879)](n(1622),(function(t){var e=n,s=t[e(1550)]();this[e(492)]=[];for(var i=0;i<s;i++){var r={};this[e(492)][i]=r,r[e(923)]=t[e(1095)]();var o=t.readUint8();switch(r[e(813)]=o>>7,r[e(1358)]=127&o,r[e(1358)]){case 0:r[e(507)]=t.readString(4);break;case 1:r[e(507)]=t[e(869)](4),r[e(842)]=t.readUint32();break;case 2:case 3:break;case 4:r[e(1277)]=t.readUint32()}}})),u[n(577)](n(1033),(function(t){var e=n;this[e(1242)]=t[e(969)]()})),u[n(577)]("maxr",(function(t){var e=n;this.period=t.readUint32(),this[e(1525)]=t[e(1095)]()})),p[n(626)][n(1396)]=function(){return"("+this.x+","+this.y+")"},u[n(577)](n(962),(function(t){var e=n;this[e(1315)]=[],this[e(1315)][0]=new p(t[e(969)](),t[e(969)]()),this[e(1315)][1]=new p(t[e(969)](),t[e(969)]()),this[e(1315)][2]=new p(t[e(969)](),t[e(969)]()),this[e(652)]=new p(t.readUint16(),t[e(969)]()),this[e(1446)]=t[e(1095)](),this[e(1070)]=t[e(1095)]()})),u[n(879)](n(1462),(function(t){var e=n;1==this[e(778)]?(this[e(937)]=t[e(1290)](),this.modification_time=t.readUint64(),this[e(824)]=t[e(1095)](),this[e(1391)]=t[e(1290)]()):(this[e(937)]=t[e(1095)](),this[e(920)]=t[e(1095)](),this.timescale=t[e(1095)](),this[e(1391)]=t[e(1095)]()),this[e(1557)](t),t[e(969)]()})),u[n(879)](n(1561),(function(t){var e=n;1&this[e(964)]&&(this[e(778)]=1),1==this[e(778)]?this[e(1062)]=t[e(1290)]():this.fragment_duration=t[e(1095)]()})),u[n(879)](n(849),(function(t){var e=n;this[e(1034)]=[],u.ContainerBox[e(626)][e(800)].call(this,t)})),u[n(879)]("mfhd",(function(t){var e=n;this[e(1185)]=t[e(1095)]()})),u[n(879)](n(945),(function(t){var e=n;this[e(1021)]=t[e(1095)]()})),u[n(879)](n(1207),(function(t){var e=n;this[e(919)]=t[e(1550)]()})),u.createFullBoxCtor(n(1513),(function(t){var e=n;1==this[e(778)]?(this[e(937)]=t[e(1290)](),this[e(920)]=t.readUint64(),this[e(824)]=t[e(1095)](),this[e(1391)]=t[e(1290)]()):(this.creation_time=t.readUint32(),this[e(920)]=t[e(1095)](),this[e(824)]=t[e(1095)](),this.duration=t.readUint32()),this[e(1470)]=t.readUint32(),this[e(670)]=t.readUint16()>>8,t.readUint16(),t.readUint32Array(2),this[e(1439)]=t[e(749)](9),t[e(749)](6),this[e(946)]=t.readUint32()})),u[n(577)](n(1625),(function(t){var e=n;this.packetssent=t[e(1095)]()})),u.createBoxCtor(n(678),(function(t){this[n(663)]=t.readUint64()})),u.createFullBoxCtor(n(782),(function(t){var e=n,s=t[e(1095)]();this.padbits=[];for(var i=0;i<Math[e(1407)]((s+1)/2);i++)this[e(1376)]=t[e(1550)]()})),u[n(577)](n(649),(function(t){var e=n;this[e(1068)]=t[e(1095)](),this[e(715)]=t[e(1095)]()})),u.createBoxCtor(n(868),(function(t){var e=n;this[e(1146)]=t[e(869)](this[e(531)]-this[e(493)])})),u[n(577)]("payt",(function(t){var e=n;this[e(884)]=t[e(1095)]();var s=t[e(1550)]();this.rtpmap_string=t[e(869)](s)})),u[n(879)](n(1087),(function(t){var e=n,s=(this.size-this.hdr_size)/8;this.rate=[],this[e(1498)]=[];for(var i=0;i<s;i++)this[e(1470)][i]=t[e(1095)](),this[e(1498)][i]=t.readUint32()})),u[n(879)]("pitm",(function(t){var e=n;0===this[e(778)]?this[e(1181)]=t.readUint16():this[e(1181)]=t[e(1095)]()})),u[n(879)](n(751),(function(t){var e,s=n;for(this.num_channels=t.readUint8(),this[s(929)]=[],e=0;e<this.num_channels;e++)this[s(929)][e]=t[s(1550)]()})),u[n(577)](n(478),(function(t){var e=n;this.bytes=t[e(1095)]()})),u[n(879)](n(1688),(function(t){var e=n;if(this[e(541)]=t.readUint16(),this[e(1587)]=[],2&this[e(964)])for(var s=0;s<this[e(541)];s++)this[e(1587)][s]=t[e(969)]()})),u.createFullBoxCtor(n(986),(function(t){var e=n;this[e(1672)]=t[e(1095)](),this[e(1652)]=t[e(1290)](),0===this[e(778)]?this.media_time=t[e(1095)]():this.media_time=t[e(1290)]()})),u[n(879)](n(1079),(function(t){var e=n;if(this[e(790)]=u.parseHex16(t),this[e(778)]>0){var s=t[e(1095)]();this[e(1132)]=[];for(var i=0;i<s;i++)this[e(1132)][i]=u[e(1061)](t)}var r=t[e(1095)]();r>0&&(this[e(1344)]=t[e(1104)](r))})),u[n(879)](n(1226),(function(t){var e=n;this[e(1002)]=t[e(1095)](),this.height=t.readUint32()})),u[n(879)]("enof",(function(t){var e=n;this[e(1002)]=t[e(1095)](),this[e(1403)]=t.readUint32()})),u[n(879)]("prof",(function(t){var e=n;this.width=t.readUint32(),this[e(1403)]=t[e(1095)]()})),u[n(1098)]("tapt",null,["clef",n(1264),n(1426)]),u.createBoxCtor(n(673),(function(t){var e=n;this[e(1430)]=t[e(869)](4),this.sdptext=t.readString(this.size-this.hdr_size-4)})),u[n(879)](n(1478),(function(t){var e=n;1&this[e(964)]&&(this[e(750)]=t[e(1095)](),this[e(1372)]=t[e(1095)]());var s=t[e(1095)]();this.offset=[];for(var i=0;i<s;i++)0===this[e(778)]?this.offset[i]=t.readUint32():this[e(779)][i]=t[e(1290)]()})),u.createFullBoxCtor(n(672),(function(t){var e=n;1&this[e(964)]&&(this[e(750)]=t.readUint32(),this[e(1372)]=t[e(1095)]()),this.default_sample_info_size=t.readUint8();var s=t[e(1095)]();if(this[e(671)]=[],0===this[e(1089)])for(var i=0;i<s;i++)this[e(671)][i]=t[e(1550)]()})),u.createSampleEntryCtor(u[n(1105)],n(1685),(function(t){var e=n;this[e(765)](t),this[e(1361)]=t[e(875)](),this[e(1271)]=t[e(875)](),this[e(909)](t)})),u[n(653)](u[n(1105)],n(942),(function(t){var e=n;this.parseHeader(t),this[e(1361)]=t[e(875)](),this[e(1698)]=t.readCString(),this[e(1694)]=t[e(875)](),this.parseFooter(t)})),u[n(653)](u[n(1594)],"sbtt",(function(t){var e=n;this[e(765)](t),this.content_encoding=t.readCString(),this[e(1271)]=t.readCString(),this[e(909)](t)})),u[n(653)](u[n(1594)],n(637),(function(t){var e=n;this[e(765)](t),this.namespace=t[e(875)](),this[e(1694)]=t.readCString(),this[e(1460)]=t[e(875)](),this[e(909)](t)})),u[n(653)](u.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",(function(t){var e=n;this.parseHeader(t),this.content_encoding=t[e(875)](),this.mime_format=t[e(875)](),this[e(909)](t)})),u.createSampleEntryCtor(u[n(1594)],"tx3g",(function(t){var e=n;this[e(765)](t),this.displayFlags=t[e(1095)](),this.horizontal_justification=t.readInt8(),this.vertical_justification=t.readInt8(),this[e(957)]=t[e(1104)](4),this[e(544)]=t[e(569)](4),this[e(882)]=t[e(1104)](12),this[e(909)](t)})),u[n(653)](u.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",(function(t){this[n(765)](t),this.parseFooter(t)})),u[n(500)](n(729),(function(t){var e,s=n,i=t[s(969)]();for(this[s(1696)]=t.readUint16(),this.sample_offset=[],e=0;e<i;e++)this.sample_offset[e]=t[s(1095)]();var r=this[s(1009)]-4-4*i;for(this[s(892)]=[],this.num_total_samples=[],e=0;e<r/4;e++)this.num_output_samples[e]=t[s(969)](),this[s(907)][e]=t[s(969)]()})),u[n(500)](n(1445),(function(t){var e=n;this[e(1025)]=t[e(1550)](),this[e(1006)]=t[e(1550)](),this[e(1543)]=t[e(969)](),this.avgFrameRate=t[e(969)]()})),u[n(500)](n(571),(function(t){var e=n;this[e(1010)]=t[e(969)](),this.layerNumber=t[e(1550)]();var s=t[e(1550)]();this[e(1257)]=s>>7,this[e(1017)]=s>>6&1,this[e(1257)]&&(this[e(1391)]=t.readUint32()),this[e(1017)]&&(this[e(1006)]=t[e(1550)](),this[e(1543)]=t.readUint16(),this.avgFrameRate=t[e(969)]()),this.dependency=[];for(var i=t[e(1550)](),r=0;r<i;r++){var o={};this[e(1440)][e(1520)](o),o[e(1678)]=t[e(1550)](),o[e(1025)]=t[e(1550)](),o[e(1010)]=t[e(969)]()}})),u[n(500)](n(1060),(function(t){})),u.createSampleGroupCtor(n(658),(function(t){})),u.createSampleGroupCtor(n(1086),(function(t){var e=n;this.roll_distance=t[e(1110)]()})),u[n(500)](n(1005),(function(t){var e=n,s=t.readUint8();this[e(1671)]=s>>7,this[e(553)]=127&s})),u[n(500)](n(991),(function(t){var e=n;if(this[e(1183)]=t.readUint16(),this[e(1009)]!==2+(1===this[e(1183)]?2:6*this[e(1183)])+9)this[e(1344)]=t[e(1104)](this[e(1009)]-2);else{if(1===this.operation_point_count)this[e(1206)]=t[e(969)]();else{this[e(1206)]=[],this.available_bitrate=[];for(var s=0;s<this[e(1183)];s++)this.available_bitrate[s]=t[e(1095)](),this[e(1206)][s]=t[e(969)]()}this[e(1326)]=t[e(1095)](),this[e(1643)]=t[e(1095)](),this[e(1356)]=t[e(1550)]()}})),u[n(500)]("roll",(function(t){var e=n;this[e(1294)]=t[e(1110)]()})),u[n(702)].prototype.parse=function(t){var e=n;this.data=t[e(1104)](this[e(1009)])},u[n(500)]("scif",(function(t){})),u[n(500)](n(1383),(function(t){})),u[n(500)](n(803),(function(t){var e=n;this[e(978)]=t[e(1550)]();var s=t[e(1550)]();this[e(1244)]=s>>4,this[e(1457)]=15&s,this[e(1296)]=t.readUint8(),this[e(1279)]=t[e(1550)](),this.KID=u[e(1061)](t),this[e(644)]=0,this[e(922)]=0,1===this[e(1296)]&&0===this[e(1279)]&&(this[e(644)]=t[e(1550)](),this[e(922)]=t[e(1104)](this[e(644)]))})),u.createSampleGroupCtor(n(863),(function(t){})),u.createSampleGroupCtor(n(667),(function(t){var e=n,s=t[e(1550)]();this[e(1304)]=63&s})),u[n(500)](n(491),(function(t){var e=t[n(1550)]();this.level_independently_decodable=e>>7})),u[n(500)](n(1354),(function(t){})),u[n(500)](n(1094),(function(t){})),u[n(500)]("vipr",(function(t){})),u[n(879)](n(1589),(function(t){var e=n;this.grouping_type=t[e(869)](4),1===this.version?this.grouping_type_parameter=t[e(1095)]():this[e(842)]=0,this.entries=[];for(var s=t[e(1095)](),i=0;i<s;i++){var r={};this[e(1486)][e(1520)](r),r[e(825)]=t[e(1283)](),r.group_description_index=t[e(1283)]()}})),f[n(626)].toString=function(){var t=n;return t(812)+this[t(1171)]+t(801)+this[t(1508)]+"]"},u[n(879)](n(993),(function(t){var e,s=n;for(this.component_count=t[s(969)](),this.component_index=[],e=0;e<this.component_count;e++)this.component_index[s(1520)](t[s(969)]());var i=t[s(1550)]();for(this[s(1667)]=128==(128&i),this[s(865)]=t[s(1095)](),this.num_bad_cols=t[s(1095)](),this[s(1447)]=t[s(1095)](),this[s(1670)]=[],this[s(852)]=[],this[s(1538)]=[],e=0;e<this[s(865)];e++)this.bad_rows[s(1520)](t[s(1095)]());for(e=0;e<this.num_bad_cols;e++)this[s(852)][s(1520)](t.readUint32());for(e=0;e<this[s(1447)];e++){var r=t.readUint32(),o=t[s(1095)]();this[s(1538)][s(1520)](new f(r,o))}})),u[n(879)](n(618),(function(t){var e=n;this.scheme_type=t[e(869)](4),this.scheme_version=t[e(1095)](),1&this.flags&&(this.scheme_uri=t[e(869)](this.size-this[e(493)]-8))})),u[n(577)]("sdp ",(function(t){var e=n;this[e(966)]=t.readString(this[e(531)]-this[e(493)])})),u[n(879)](n(1388),(function(t){var e,s=n,i=this[s(531)]-this[s(493)];this[s(714)]=[],this.sample_depends_on=[],this[s(1202)]=[],this[s(1007)]=[];for(var r=0;r<i;r++)e=t[s(1550)](),this[s(714)][r]=e>>6,this.sample_depends_on[r]=e>>4&3,this[s(1202)][r]=e>>2&3,this.sample_has_redundancy[r]=3&e})),u[n(879)](n(589)),u[n(879)](n(518),(function(t){var e=n;this[e(507)]=t[e(869)](4),o[e(1166)](e(1345),e(965)+this[e(507)]),1===this[e(778)]?this.default_length=t.readUint32():this[e(490)]=0,this[e(778)]>=2&&(this[e(604)]=t.readUint32()),this[e(1486)]=[];for(var s=t[e(1095)](),i=0;i<s;i++){var r;r=u[this[e(507)]+e(702)]?new(u[this[e(507)]+"SampleGroupEntry"])(this.grouping_type):new(u[e(702)])(this[e(507)]),this[e(1486)][e(1520)](r),1===this.version&&0===this.default_length?r[e(1009)]=t[e(1095)]():r[e(1009)]=this[e(490)],r[e(1090)]===u[e(702)][e(626)][e(1090)]&&(r[e(1344)]=t[e(1104)](r.description_length),t.position-=r.description_length),r.parse(t)}})),u[n(879)](n(1322),(function(t){var e=n;this.reference_ID=t[e(1095)](),this.timescale=t[e(1095)](),0===this[e(778)]?(this.earliest_presentation_time=t.readUint32(),this.first_offset=t.readUint32()):(this[e(740)]=t[e(1290)](),this.first_offset=t[e(1290)]()),t[e(969)](),this[e(547)]=[];for(var s=t.readUint16(),i=0;i<s;i++){var r={};this[e(547)].push(r);var o=t[e(1095)]();r[e(681)]=o>>31&1,r[e(1645)]=2147483647&o,r[e(858)]=t[e(1095)](),o=t.readUint32(),r[e(1456)]=o>>31&1,r[e(1239)]=o>>28&7,r[e(1272)]=268435455&o}})),u[n(856)]=function(t,e,s,i){var r=n;u[r(1127)][r(1689)](this,t,e),this[r(493)]=s,this[r(719)]=i},u[n(856)][n(626)]=new u.Box,u.SingleItemTypeReferenceBox[n(626)][n(800)]=function(t){var e=n;this[e(1055)]=t[e(969)]();var s=t[e(969)]();this[e(547)]=[];for(var i=0;i<s;i++)this.references[i]={},this.references[i][e(1656)]=t[e(969)]()},u[n(839)]=function(t,e,s,i){u[n(1127)].call(this,t,e),this.hdr_size=s,this.start=i},u[n(839)][n(626)]=new(u[n(1127)]),u[n(839)].prototype.parse=function(t){var e=n;this[e(1055)]=t.readUint32();var s=t[e(969)]();this[e(547)]=[];for(var i=0;i<s;i++)this[e(547)][i]={},this[e(547)][i][e(1656)]=t.readUint32()},u[n(879)]("SmDm",(function(t){var e=n;this[e(1129)]=t[e(969)](),this[e(576)]=t[e(969)](),this.primaryGChromaticity_x=t[e(969)](),this[e(642)]=t.readUint16(),this[e(1047)]=t.readUint16(),this[e(536)]=t[e(969)](),this[e(1623)]=t[e(969)](),this[e(795)]=t[e(969)](),this[e(622)]=t[e(1095)](),this[e(1038)]=t[e(1095)]()})),u[n(879)](n(683),(function(t){var e=n;this[e(974)]=t.readUint16(),t[e(969)]()})),u[n(879)](n(516),(function(t){var e=n;this.subsegments=[];for(var s=t[e(1095)](),i=0;i<s;i++){var r={};this[e(748)].push(r),r[e(1416)]=[];for(var o=t[e(1095)](),a=0;a<o;a++){var h={};r[e(1416)].push(h),h[e(1205)]=t[e(1550)](),h.range_size=t[e(891)]()}}})),u[n(879)]("stco",(function(t){var e,s=n;if(e=t[s(1095)](),this[s(1341)]=[],0===this[s(778)])for(var i=0;i<e;i++)this[s(1341)][s(1520)](t[s(1095)]())})),u[n(879)]("stdp",(function(t){var e=n,s=(this.size-this[e(493)])/2;this.priority=[];for(var i=0;i<s;i++)this.priority[i]=t[e(969)]()})),u[n(879)](n(620)),u[n(879)](n(614),(function(t){var e=n;this[e(1044)]=t[e(969)](),this[e(1564)]=t[e(969)](),this[e(1277)]=t[e(1095)]();var s=(this[e(531)]-this.hdr_size-8)/4;this[e(1027)]=[];for(var i=0;i<s;i++)this.attribute_list[i]=t[e(1095)]()})),u.createFullBoxCtor(n(1065),(function(t){var e,s,i=n;if(e=t[i(1095)](),this.first_chunk=[],this[i(1046)]=[],this.sample_description_index=[],0===this[i(778)])for(s=0;s<e;s++)this[i(703)][i(1520)](t[i(1095)]()),this[i(1046)][i(1520)](t.readUint32()),this[i(1635)][i(1520)](t[i(1095)]())})),u.createFullBoxCtor(n(1323),(function(t){var e,s,i,r,o=n;for(this.entries=[],i=t[o(1095)](),e=1;e<=i;e++){if((s=u.parseOneBox(t,!0,this.size-(t.getPosition()-this.start)))[o(501)]!==u.OK)return;u[s.type+o(1393)]?((r=new(u[s[o(1143)]+"SampleEntry"])(s[o(531)])).hdr_size=s[o(493)],r[o(719)]=s.start):r=new(u[o(1393)])(s[o(1143)],s[o(531)],s[o(493)],s[o(719)]),r[o(1090)]===u.SampleEntry[o(626)][o(1090)]&&r[o(805)](t),r[o(800)](t),this[o(1486)][o(1520)](r)}})),u[n(879)](n(1514),(function(t){var e=n;this[e(507)]=t[e(1095)]();var s=t[e(969)]();this.group_description_index=[];for(var i=0;i<s;i++)this[e(540)][i]=t[e(1095)]()})),u[n(879)](n(1320),(function(t){var e,s,i=n;if(e=t.readUint32(),this[i(1016)]=[],this.sync_sample_numbers=[],0===this[i(778)])for(s=0;s<e;s++)this.shadowed_sample_numbers[i(1520)](t[i(1095)]()),this[i(1031)][i(1520)](t[i(1095)]())})),u[n(879)](n(1519),(function(t){var e,s,i=n;if(s=t.readUint32(),0===this[i(778)])for(this[i(1363)]=[],e=0;e<s;e++)this[i(1363)][i(1520)](t[i(1095)]())})),u[n(879)](n(697),(function(t){var e,s=n;if(this.sample_sizes=[],0===this[s(778)])for(this[s(568)]=t[s(1095)](),this[s(825)]=t[s(1095)](),e=0;e<this[s(825)];e++)0===this.sample_size?this[s(1209)][s(1520)](t[s(1095)]()):this[s(1209)][e]=this.sample_size})),u[n(879)](n(747),(function(t){var e,s,i,r=n;if(e=t[r(1095)](),this[r(1421)]=[],this[r(1197)]=[],0===this.version)for(s=0;s<e;s++)this[r(1421)][r(1520)](t[r(1095)]()),(i=t[r(1283)]())<0&&(i=1),this[r(1197)].push(i)})),u.createFullBoxCtor(n(1536),(function(t){var e=n,s=t[e(1095)]();this[e(989)]=3&s,this[e(1350)]=t[e(1095)]();var i,r,o=t[e(1095)]();for(this[e(1506)]=t[e(869)](o),this[e(1034)]=[];t.getPosition()<this[e(719)]+this[e(531)];){if((i=u[e(591)](t,!1,this.size-(t[e(769)]()-this[e(719)])))[e(501)]!==u.OK)return;r=i[e(1318)],this[e(1034)][e(1520)](r),this[r[e(1143)]]=r}})),u[n(577)](n(666),(function(t){var e=n;u[e(1214)][e(626)][e(800)][e(1689)](this,t)})),u.createFullBoxCtor("stz2",(function(t){var e,s,i=n;if(this.sample_sizes=[],0===this[i(778)])if(this[i(978)]=t[i(891)](),this[i(1337)]=t[i(1550)](),s=t[i(1095)](),4===this[i(1337)])for(e=0;e<s;e+=2){var r=t[i(1550)]();this.sample_sizes[e]=r>>4&15,this[i(1209)][e+1]=15&r}else if(8===this[i(1337)])for(e=0;e<s;e++)this[i(1209)][e]=t[i(1550)]();else if(16===this[i(1337)])for(e=0;e<s;e++)this[i(1209)][e]=t.readUint16()})),u[n(879)](n(789),(function(t){var e,s,i,r,o=n;for(i=t[o(1095)](),this[o(1486)]=[],e=0;e<i;e++){var a={};if(this.entries[e]=a,a[o(1243)]=t[o(1095)](),a[o(1052)]=[],(r=t.readUint16())>0)for(s=0;s<r;s++){var h={};a[o(1052)][o(1520)](h),1==this[o(778)]?h[o(531)]=t[o(1095)]():h[o(531)]=t[o(969)](),h[o(1480)]=t[o(1550)](),h[o(1182)]=t[o(1550)](),h[o(898)]=t[o(1095)]()}}})),u[n(879)]("tenc",(function(t){var e=n;if(t[e(1550)](),0===this.version)t.readUint8();else{var s=t[e(1550)]();this[e(1135)]=s>>4&15,this[e(785)]=15&s}this[e(822)]=t[e(1550)](),this[e(877)]=t[e(1550)](),this.default_KID=u.parseHex16(t),1===this[e(822)]&&0===this[e(877)]&&(this[e(1647)]=t[e(1550)](),this[e(669)]=t[e(1104)](this[e(1647)]))})),u[n(879)]("tfdt",(function(t){var e=n;1==this[e(778)]?this[e(967)]=t[e(1290)]():this[e(967)]=t[e(1095)]()})),u[n(879)]("tfhd",(function(t){var e=n,s=0;this[e(1103)]=t.readUint32(),this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(1151)]?(this[e(1644)]=t[e(1290)](),s+=8):this[e(1644)]=0,this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(980)]?(this[e(1524)]=t.readUint32(),s+=4):this[e(1524)]=0,this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(698)]?(this.default_sample_duration=t[e(1095)](),s+=4):this[e(1334)]=0,this[e(531)]-this[e(493)]>s&&this[e(964)]&u.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=t[e(1095)](),s+=4):this.default_sample_size=0,this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(1650)]?(this.default_sample_flags=t.readUint32(),s+=4):this[e(811)]=0})),u[n(879)](n(537),(function(t){var e=n;this[e(923)]=t[e(1095)](),t[e(891)]();var s=t[e(1550)]();this[e(1558)]=s>>4&3,this[e(941)]=s>>2&3,this[e(1217)]=3&s,this[e(1486)]=[];for(var i=t[e(1095)](),r=0;r<i;r++)1===this[e(778)]?(this[e(1175)]=t[e(1290)](),this[e(955)]=t.readUint64()):(this[e(1175)]=t[e(1095)](),this[e(955)]=t[e(1095)]()),this[e(1651)]=t[e(489)+8*(this[e(1558)]+1)](),this[e(990)]=t[e(489)+8*(this[e(941)]+1)](),this[e(1329)]=t[e(489)+8*(this.length_size_of_sample_num+1)]()})),u[n(879)]("tkhd",(function(t){var e=n;1==this[e(778)]?(this[e(937)]=t[e(1290)](),this[e(920)]=t.readUint64(),this[e(1103)]=t.readUint32(),t[e(1095)](),this[e(1391)]=t[e(1290)]()):(this[e(937)]=t[e(1095)](),this.modification_time=t[e(1095)](),this[e(1103)]=t[e(1095)](),t[e(1095)](),this.duration=t[e(1095)]()),t[e(749)](2),this[e(791)]=t.readInt16(),this[e(1564)]=t[e(1110)](),this.volume=t[e(1110)]()>>8,t[e(969)](),this[e(1439)]=t[e(1168)](9),this[e(1002)]=t.readUint32(),this[e(1403)]=t[e(1095)]()})),u.createBoxCtor(n(1601),(function(t){var e=n;this[e(1175)]=t[e(1095)]()})),u[n(577)](n(1419),(function(t){var e=n;this[e(1175)]=t[e(1095)]()})),u[n(577)]("totl",(function(t){var e=n;this.bytessent=t[e(1095)]()})),u[n(577)](n(1463),(function(t){this[n(1629)]=t.readUint32()})),u[n(577)](n(1415),(function(t){var e=n;this[e(1629)]=t[e(1290)]()})),u.TrackGroupTypeBox[n(626)].parse=function(t){var e=n;this[e(1037)](t),this.track_group_id=t[e(1095)]()},u[n(995)](n(527)),u[n(783)]=function(t,e,s,i){var r=n;u[r(1127)][r(1689)](this,t,e),this[r(493)]=s,this[r(719)]=i},u[n(783)][n(626)]=new u.Box,u[n(783)][n(626)][n(800)]=function(t){var e=n;this[e(1636)]=t[e(749)]((this.size-this[e(493)])/4)},u[n(551)].prototype.parse=function(t){for(var e,s,i=n;t[i(769)]()<this[i(719)]+this[i(531)];){if((e=u[i(591)](t,!0,this[i(531)]-(t[i(769)]()-this[i(719)]))).code!==u.OK)return;(s=new(u[i(783)])(e[i(1143)],e.size,e[i(493)],e[i(719)])).write===u[i(1127)][i(626)][i(1090)]&&"mdat"!==s[i(1143)]&&s.parseDataAndRewind(t),s[i(800)](t),this[i(1034)][i(1520)](s)}},u.createFullBoxCtor("trep",(function(t){var e=n;for(this[e(923)]=t[e(1095)](),this[e(1034)]=[];t[e(769)]()<this.start+this[e(531)];){if(ret=u[e(591)](t,!1,this[e(531)]-(t.getPosition()-this[e(719)])),ret[e(501)]!==u.OK)return;box=ret[e(1318)],this[e(1034)].push(box)}})),u[n(879)](n(1203),(function(t){var e=n;this[e(1103)]=t[e(1095)](),this[e(1524)]=t.readUint32(),this.default_sample_duration=t[e(1095)](),this[e(1228)]=t[e(1095)](),this.default_sample_flags=t[e(1095)]()})),u[n(577)](n(1452),(function(t){this[n(1629)]=t.readUint64()})),u.createFullBoxCtor(n(1078),(function(t){var e=n,s=0;if(this[e(825)]=t[e(1095)](),s+=4,this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(1187)]?(this.data_offset=t.readInt32(),s+=4):this[e(888)]=0,this[e(531)]-this[e(493)]>s&&this[e(964)]&u[e(1681)]?(this[e(847)]=t[e(1095)](),s+=4):this.first_sample_flags=0,this[e(1402)]=[],this[e(568)]=[],this[e(564)]=[],this[e(772)]=[],this[e(531)]-this[e(493)]>s)for(var i=0;i<this[e(825)];i++)this.flags&u[e(483)]&&(this[e(1402)][i]=t[e(1095)]()),this.flags&u[e(1230)]&&(this[e(568)][i]=t.readUint32()),this.flags&u[e(688)]&&(this[e(564)][i]=t[e(1095)]()),this.flags&u.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this[e(772)][i]=t[e(1095)]():this[e(772)][i]=t[e(1283)]())})),u.createFullBoxCtor("tsel",(function(t){var e=n;this.switch_group=t[e(1095)]();var s=(this.size-this[e(493)]-4)/4;this[e(1027)]=[];for(var i=0;i<s;i++)this[e(1027)][i]=t[e(1095)]()})),u[n(879)](n(1147),(function(t){var e=n;this[e(1215)]=t[e(875)]()})),u.createBoxCtor("tyco",(function(t){var e=n,s=(this.size-this.hdr_size)/4;this[e(1560)]=[];for(var i=0;i<s;i++)this.compatible_brands[i]=t[e(869)](4)})),u[n(879)](n(557),(function(t){var e=n;this.lang=t.readCString(),this[e(611)]=t[e(875)](),this[e(479)]=t[e(875)](),this.tags=t[e(875)]()})),u[n(879)](n(1373),(function(t){var e,s=n;if(this[s(1559)]=t[s(1095)](),1==this[s(778)]);else if(0==this.version){for(this[s(1161)]=t[s(1095)](),this.component_index=[],this.component_bit_depth_minus_one=[],this[s(558)]=[],this.component_align_size=[],e=0;e<this[s(1161)];e++)this.component_index.push(t[s(969)]()),this[s(832)][s(1520)](t[s(1550)]()),this[s(558)].push(t[s(1550)]()),this[s(1417)][s(1520)](t[s(1550)]());this[s(1510)]=t[s(1550)](),this[s(1566)]=t.readUint8(),this[s(1444)]=t[s(1550)]();var i=t[s(1550)]();this[s(682)]=i>>7&1,this.block_pad_lsb=i>>6&1,this.block_little_endian=i>>5&1,this[s(1365)]=i>>4&1,this[s(1539)]=i>>3&1,this.pixel_size=t[s(1095)](),this[s(996)]=t[s(1095)](),this[s(1324)]=t.readUint32(),this[s(1418)]=t[s(1095)](),this.num_tile_rows_minus_one=t[s(1095)]()}})),u[n(879)](n(1517),(function(t){var e=n;1!==this.flags&&(this[e(633)]=t[e(875)]())})),u[n(879)]("urn ",(function(t){var e=n;this.name=t.readCString(),this[e(531)]-this[e(493)]-this[e(611)][e(496)]-1>0&&(this[e(633)]=t[e(875)]())})),u[n(1e3)](n(581),!0,!1,(function(t){var e=n;this[e(1614)]=t[e(869)](this[e(531)]-this[e(493)])[e(876)](/&/g,"&amp;")[e(876)](/</g,"&lt;")[e(876)](/>/g,e(480))[e(876)](/"/g,e(1466))[e(876)](/'/g,"&#039;")})),u.createUUIDBox(n(528),!0,!1,(function(t){var e=n;this.system_id=u[e(1061)](t);var s=t[e(1095)]();s>0&&(this[e(1344)]=t[e(1104)](s))})),u.createUUIDBox(n(567),!0,!1),u[n(1e3)](n(1058),!0,!1,(function(t){var e=n;this[e(1583)]=t[e(891)](),this[e(977)]=t.readUint8(),this[e(873)]=u[e(1061)](t)})),u[n(1e3)](n(1455),!0,!1,(function(t){var e=n;this[e(1081)]=t[e(1550)](),this.entries=[];for(var s=0;s<this[e(1081)];s++){var i={},r=0,o=0;1===this[e(778)]?(r=t[e(1290)](),o=t[e(1290)]()):(r=t[e(1095)](),o=t[e(1095)]()),i[e(1265)]=r,i[e(1481)]=o,this[e(1486)][e(1520)](i)}})),u.createUUIDBox(n(1348),!0,!1,(function(t){var e=n;1===this[e(778)]?(this.absolute_time=t.readUint64(),this.duration=t[e(1290)]()):(this[e(1265)]=t[e(1095)](),this.duration=t[e(1095)]())})),u[n(879)](n(1540),(function(t){var e=n;this[e(1567)]=t[e(969)](),this[e(707)]=t[e(594)](3)})),u[n(879)](n(773),(function(t){var e,s=n;1===this[s(778)]?(this[s(1559)]=t.readUint8(),this[s(1205)]=t[s(1550)](),e=t[s(1550)](),this[s(475)]=e>>4,this[s(761)]=e>>1&7,this[s(1212)]=1&e,this[s(1432)]=t.readUint8(),this[s(552)]=t[s(1550)](),this[s(1262)]=t.readUint8(),this[s(1186)]=t.readUint16(),this[s(561)]=t[s(1104)](this[s(1186)])):(this[s(1559)]=t[s(1550)](),this[s(1205)]=t.readUint8(),e=t[s(1550)](),this.bitDepth=e>>4&15,this[s(1586)]=15&e,e=t[s(1550)](),this[s(761)]=e>>4&15,this[s(814)]=e>>1&7,this[s(1212)]=1&e,this.codecIntializationDataSize=t[s(969)](),this[s(561)]=t[s(1104)](this.codecIntializationDataSize))})),u[n(577)](n(488),(function(t){var e=n;this[e(1146)]=t[e(869)](this[e(531)]-this[e(493)])})),u[n(879)](n(1379),(function(t){var e,s,i=n,r={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(t){var e=pm;this[e(1608)]=t[e(1550)](),this.num_held_bits=8},stream_read_2_bytes:function(t){var e=pm;this[e(1608)]=t.readUint16(),this[e(624)]=16},extract_bits:function(t){var e=pm,s=this[e(1608)]>>this[e(624)]-t&(1<<t)-1;return this[e(624)]-=t,s}};if(r[i(1083)](t),r[i(1036)](5),this[i(845)]=r[i(1036)](2),this[i(641)]=r.extract_bits(1),this[i(641)]){if(r[i(1565)](t),this[i(930)]=r[i(1036)](9),this[i(1288)]=r[i(1036)](3),this[i(655)]=r[i(1036)](2),this[i(1554)]=r[i(1036)](2),r[i(1083)](t),this[i(730)]=r[i(1036)](3),r[i(1036)](5),r[i(1565)](t),r[i(1036)](2),this[i(1064)]=r[i(1036)](6),this[i(1563)]=r[i(1036)](7),this[i(1291)]=r[i(1036)](1),this.general_level_idc=t[i(1550)](),r[i(1083)](t),this[i(603)]=r[i(1036)](1),this.ptl_multilayer_enabled_flag=r[i(1036)](1),this.general_constraint_info=new Uint8Array(this[i(1064)]),this[i(1064)]){for(e=0;e<this[i(1064)]-1;e++){var o=r[i(1036)](6);r.stream_read_1_bytes(t);var a=r[i(1036)](2);this[i(1220)][e]=o<<2|a}this[i(1220)][this[i(1064)]-1]=r.extract_bits(6)}else r[i(1036)](6);if(this[i(1288)]>1){for(r[i(1083)](t),this[i(1637)]=0,s=this[i(1288)]-2;s>=0;--s){var h=r[i(1036)](1);this.ptl_sublayer_present_mask|=h<<s}for(s=this[i(1288)];s<=8&&this.num_sublayers>1;++s)r[i(1036)](1);for(this[i(1442)]=[],s=this[i(1288)]-2;s>=0;--s)this[i(1637)]&1<<s&&(this.sublayer_level_idc[s]=t[i(1550)]())}if(this[i(971)]=t[i(1550)](),this[i(1295)]=[],this[i(971)])for(e=0;e<this[i(971)];e++)this[i(1295)][i(1520)](t[i(1095)]());this[i(1389)]=t[i(969)](),this[i(1266)]=t[i(969)](),this.avg_frame_rate=t[i(969)]()}this[i(1152)]=[];var l=t[i(1550)]();for(e=0;e<l;e++){var c=[];this[i(1152)][i(1520)](c),r[i(1083)](t),c.completeness=r[i(1036)](1),r.extract_bits(2),c[i(968)]=r[i(1036)](5);var d=1;for(13!=c[i(968)]&&12!=c[i(968)]&&(d=t[i(969)]()),s=0;s<d;s++){var u=t[i(969)]();c[i(1520)]({data:t[i(1104)](u),length:u})}}})),u[n(879)]("vvnC",(function(t){var e=n,s=strm[e(1550)]();this[e(845)]=3&s})),u[n(1393)].prototype[n(650)]=function(){return!1},u[n(1393)][n(626)][n(596)]=function(){return!1},u[n(1393)].prototype.isSubtitle=function(){return!1},u.SampleEntry.prototype.isMetadata=function(){return!1},u[n(1393)].prototype[n(1575)]=function(){return!1},u.SampleEntry[n(626)][n(1612)]=function(){var t=n;return this.type[t(876)](".","")},u.SampleEntry.prototype[n(711)]=function(){return""},u[n(1393)][n(626)][n(497)]=function(){return""},u[n(1393)][n(626)].getChannelCount=function(){return""},u[n(1393)][n(626)][n(1619)]=function(){return""},u[n(1393)][n(626)].getSampleSize=function(){return""},u[n(1219)].prototype[n(650)]=function(){return!0},u.VisualSampleEntry.prototype[n(711)]=function(){return this[n(1002)]},u[n(1219)][n(626)][n(497)]=function(){return this[n(1403)]},u[n(685)][n(626)][n(596)]=function(){return!0},u.AudioSampleEntry[n(626)][n(997)]=function(){return this[n(736)]},u[n(685)].prototype[n(1619)]=function(){return this[n(1327)]},u[n(685)][n(626)][n(503)]=function(){return this[n(1490)]},u[n(1224)][n(626)][n(1568)]=function(){return!0},u.MetadataSampleEntry.prototype.isMetadata=function(){return!0},u[n(1130)]=function(t,e){var s=n,i=Number(t)[s(1396)](16);for(e=typeof e===s(793)||null===e?e=2:e;i.length<e;)i="0"+i;return i},u[n(1596)][n(626)][n(1612)]=u[n(1213)][n(626)][n(1612)]=u[n(1299)][n(626)][n(1612)]=u[n(901)][n(626)][n(1612)]=function(){var t=n,e=u[t(1393)][t(626)][t(1612)].call(this);return this.avcC?e+"."+u.decimalToHex(this[t(651)][t(668)])+u.decimalToHex(this[t(651)].profile_compatibility)+u.decimalToHex(this.avcC[t(1164)]):e},u.hev1SampleEntry[n(626)][n(1612)]=u[n(881)][n(626)].getCodec=function(){var t,e=n,s=u[e(1393)].prototype[e(1612)].call(this);if(this[e(1163)]){switch(s+=".",this[e(1163)][e(1074)]){case 0:s+="";break;case 1:s+="A";break;case 2:s+="B";break;case 3:s+="C"}s+=this[e(1163)][e(1563)],s+=".";var i=this.hvcC[e(716)],r=0;for(t=0;t<32&&(r|=1&i,31!=t);t++)r<<=1,i>>=1;s+=u[e(1130)](r,0),s+=".",0===this[e(1163)][e(1291)]?s+="L":s+="H",s+=this[e(1163)][e(1287)];var o=!1,a="";for(t=5;t>=0;t--)(this[e(1163)][e(908)][t]||o)&&(a="."+u[e(1130)](this[e(1163)].general_constraint_indicator[t],0)+a,o=!0);s+=a}return s},u[n(1634)].prototype[n(1612)]=u[n(1248)][n(626)][n(1612)]=function(){var t,e=n,s=u[e(1393)][e(626)][e(1612)][e(1689)](this);if(this.vvcC){s+="."+this[e(1379)][e(1563)],this.vvcC[e(1291)]?s+=".H":s+=".L",s+=this.vvcC.general_level_idc;var i="";if(this[e(1379)].general_constraint_info){var r,o=[],a=0;for(a|=this.vvcC[e(1496)]<<7,a|=this[e(1379)][e(911)]<<6,t=0;t<this.vvcC.general_constraint_info[e(496)];++t)a|=this.vvcC.general_constraint_info[t]>>2&63,o[e(1520)](a),a&&(r=t),a=this[e(1379)][e(1220)][t]>>2&3;if(void 0===r)i=e(1545);else{i=".C";var h=e(1621),l=0,c=0;for(t=0;t<=r;++t)for(l=l<<8|o[t],c+=8;c>=5;){i+=h[l>>c-5&31],l&=(1<<(c-=5))-1}c&&(i+=h[31&(l<<=5-c)])}}s+=i}return s},u.mp4aSampleEntry.prototype[n(1612)]=function(){var t=n,e=u.SampleEntry[t(626)][t(1612)].call(this);if(this[t(792)]&&this[t(792)][t(585)]){var s=this[t(792)][t(585)][t(1668)](),i=this.esds[t(585)].getAudioConfig();return e+"."+u[t(1130)](s)+(i?"."+i:"")}return e},u.stxtSampleEntry.prototype[n(1612)]=function(){var t=n,e=u[t(1393)].prototype.getCodec.call(this);return this[t(1271)]?e+"."+this[t(1271)]:e},u.vp08SampleEntry.prototype.getCodec=u[n(1605)][n(626)][n(1612)]=function(){var t=n,e=u[t(1393)][t(626)][t(1612)][t(1689)](this),s=this[t(773)].level;0==s&&(s="00");var i=this[t(773)].bitDepth;return 8==i&&(i="08"),e+".0"+this.vpcC[t(1559)]+"."+s+"."+i},u.av01SampleEntry.prototype.getCodec=function(){var t,e=n,s=u[e(1393)][e(626)][e(1612)][e(1689)](this),i=this[e(880)].seq_level_idx_0;return i<10&&(i="0"+i),2===this[e(880)].seq_profile&&1===this[e(880)][e(1204)]?t=1===this.av1C[e(623)]?"12":"10":this.av1C[e(752)]<=2&&(t=1===this[e(880)].high_bitdepth?"10":"08"),s+"."+this[e(880)][e(752)]+"."+i+(this.av1C[e(1431)]?"H":"M")+"."+t},u[n(1127)][n(626)][n(1653)]=function(t,e){var s=n;this[s(531)]+=8,this[s(531)]>l&&(this.size+=8),this[s(1143)]===s(601)&&(this.size+=16),o.debug(s(704),"Writing box "+this[s(1143)]+s(1515)+this[s(531)]+s(1201)+t[s(769)]()+(e||"")),this[s(531)]>l?t[s(903)](1):(this[s(522)]=t[s(769)](),t[s(903)](this[s(531)])),t[s(525)](this[s(1143)],null,4),"uuid"===this[s(1143)]&&t[s(1308)](this.uuid),this[s(531)]>l&&t[s(1270)](this[s(531)])},u[n(1549)].prototype.writeHeader=function(t){var e=n;this[e(531)]+=4,u[e(1127)].prototype[e(1653)][e(1689)](this,t," v="+this[e(778)]+e(722)+this[e(964)]),t[e(680)](this[e(778)]),t.writeUint24(this.flags)},u[n(1127)][n(626)][n(1090)]=function(t){var e=n;this[e(1143)]===e(1467)?this[e(1344)]&&(this[e(531)]=this[e(1344)][e(496)],this[e(1653)](t),t[e(1308)](this[e(1344)])):(this[e(531)]=this[e(1344)]?this[e(1344)].length:0,this.writeHeader(t),this[e(1344)]&&t[e(1308)](this.data))},u[n(498)].prototype[n(1090)]=function(t){var e=n;this[e(531)]=0,this.writeHeader(t);for(var s=0;s<this[e(1034)][e(496)];s++)this[e(1034)][s]&&(this[e(1034)][s][e(1090)](t),this[e(531)]+=this.boxes[s][e(531)]);o[e(1166)](e(704),e(1472)+this[e(1143)]+e(887)+this[e(531)]),t[e(1370)](this[e(522)],this.size)},u[n(783)].prototype[n(1090)]=function(t){var e=n;this.size=4*this.track_ids.length,this[e(1653)](t),t[e(1309)](this[e(1636)])},u[n(834)][n(626)][n(1090)]=function(t){var e,s=n;for(this[s(531)]=7,e=0;e<this[s(686)].length;e++)this[s(531)]+=2+this.SPS[e][s(496)];for(e=0;e<this[s(731)][s(496)];e++)this[s(531)]+=2+this[s(731)][e][s(496)];for(this[s(756)]&&(this[s(531)]+=this[s(756)][s(496)]),this[s(1653)](t),t[s(680)](this[s(763)]),t.writeUint8(this[s(668)]),t[s(680)](this[s(1003)]),t[s(680)](this[s(1164)]),t[s(680)](this[s(845)]+252),t[s(680)](this[s(686)][s(496)]+224),e=0;e<this[s(686)][s(496)];e++)t[s(1461)](this[s(686)][e][s(496)]),t[s(1308)](this[s(686)][e][s(1042)]);for(t[s(680)](this[s(731)][s(496)]),e=0;e<this.PPS[s(496)];e++)t.writeUint16(this[s(731)][e][s(496)]),t.writeUint8Array(this[s(731)][e][s(1042)]);this.ext&&t[s(1308)](this.ext)},u[n(546)][n(626)][n(1090)]=function(t){var e,s=n;for(this[s(778)]=0,this[s(964)]=0,this[s(531)]=4+8*this.chunk_offsets[s(496)],this[s(1653)](t),t.writeUint32(this[s(1341)][s(496)]),e=0;e<this[s(1341)][s(496)];e++)t.writeUint64(this[s(1341)][e])},u[n(1335)][n(626)][n(1090)]=function(t){var e=n;this.version=0,this[e(964)]=0,this[e(531)]=20,this[e(1653)](t),t.writeInt32(this[e(1648)]),t[e(1548)](this[e(797)]),t.writeInt32(this.greatestDecodeToDisplayDelta),t.writeInt32(this[e(600)]),t[e(1548)](this[e(1607)])},u[n(1072)].prototype[n(1090)]=function(t){var e,s=n;for(this[s(778)]=0,this[s(964)]=0,this[s(531)]=4+8*this[s(1421)][s(496)],this[s(1653)](t),t[s(903)](this[s(1421)][s(496)]),e=0;e<this[s(1421)][s(496)];e++)t[s(903)](this[s(1421)][e]),1===this[s(778)]?t[s(1548)](this[s(817)][e]):t[s(903)](this.sample_offsets[e])},u[n(1216)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=4,this.writeHeader(t),t[e(903)](this[e(1486)][e(496)]);for(var s=0;s<this[e(1486)][e(496)];s++)this[e(1486)][s].write(t),this[e(531)]+=this[e(1486)][s][e(531)];o[e(1166)](e(704),e(1472)+this[e(1143)]+" with new size "+this[e(531)]),t[e(1370)](this[e(522)],this[e(531)])},u[n(1465)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=this.extended_language[e(496)],this[e(1653)](t),t[e(525)](this.extended_language)},u.elstBox[n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this.flags=0,this[e(531)]=4+12*this.entries[e(496)],this[e(1653)](t),t[e(903)](this[e(1486)][e(496)]);for(var s=0;s<this[e(1486)][e(496)];s++){var i=this[e(1486)][s];t[e(903)](i[e(1595)]),t[e(1548)](i[e(508)]),t.writeInt16(i[e(1258)]),t[e(1474)](i[e(1261)])}},u[n(1222)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=16+this[e(1339)][e(496)]+(this.scheme_id_uri[e(496)]+1)+(this[e(799)][e(496)]+1),this[e(1653)](t),t[e(859)](this[e(1433)]),t[e(859)](this[e(799)]),t.writeUint32(this.timescale),t[e(903)](this[e(512)]),t[e(903)](this[e(1245)]),t.writeUint32(this.id),t.writeUint8Array(this[e(1339)])},u[n(1214)].prototype[n(1090)]=function(t){var e=n;this.size=8+4*this[e(1560)].length,this[e(1653)](t),t[e(525)](this[e(1676)],null,4),t.writeUint32(this[e(1692)]);for(var s=0;s<this[e(1560)][e(496)];s++)t[e(525)](this[e(1560)][s],null,4)},u[n(1172)][n(626)][n(1090)]=function(t){var e=n;this[e(531)]=20+this[e(611)].length+1,this[e(778)]=0,this[e(964)]=0,this[e(1653)](t),t.writeUint32(0),t.writeString(this[e(1178)],null,4),t[e(903)](0),t[e(903)](0),t[e(903)](0),t[e(859)](this[e(611)])},u[n(1116)][n(626)][n(1090)]=function(t){var e,s,i=n;for(this[i(531)]=23,e=0;e<this.nalu_arrays[i(496)];e++)for(this.size+=3,s=0;s<this[i(1152)][e][i(496)];s++)this[i(531)]+=2+this[i(1152)][e][s].data.length;for(this[i(1653)](t),t[i(680)](this[i(763)]),t[i(680)](this[i(1074)]<<6+this[i(1291)]<<5+this.general_profile_idc),t.writeUint32(this[i(716)]),t[i(1308)](this[i(908)]),t[i(680)](this[i(1287)]),t[i(1461)](this.min_spatial_segmentation_idc+(15<<24)),t[i(680)](this.parallelismType+252),t[i(680)](this[i(1554)]+252),t[i(680)](this.bit_depth_luma_minus8+248),t[i(680)](this.bit_depth_chroma_minus8+248),t.writeUint16(this[i(1641)]),t[i(680)]((this.constantFrameRate<<6)+(this[i(1627)]<<3)+(this.temporalIdNested<<2)+this[i(845)]),t[i(680)](this[i(1152)][i(496)]),e=0;e<this[i(1152)].length;e++)for(t[i(680)]((this.nalu_arrays[e][i(602)]<<7)+this[i(1152)][e][i(968)]),t[i(1461)](this.nalu_arrays[e][i(496)]),s=0;s<this[i(1152)][e][i(496)];s++)t[i(1461)](this[i(1152)][e][s].data[i(496)]),t.writeUint8Array(this.nalu_arrays[e][s][i(1344)])},u[n(895)].prototype[n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=this[e(727)][e(496)]+1+(this[e(799)][e(496)]+1),this[e(1653)](t),t.writeCString(this[e(727)]),t[e(859)](this[e(799)])},u[n(1051)][n(626)][n(1090)]=function(t){var e=n;this[e(531)]=20,this[e(964)]=0,this.version=0,this.writeHeader(t),t[e(903)](this[e(937)]),t[e(903)](this[e(920)]),t[e(903)](this[e(824)]),t[e(903)](this[e(1391)]),t[e(1461)](this[e(1193)]),t[e(1461)](0)},u[n(866)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=4,this.writeHeader(t),t[e(903)](this.fragment_duration)},u[n(728)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this.size=4,this[e(1653)](t),t[e(903)](this[e(1185)])},u[n(893)][n(626)][n(1090)]=function(t){var e=n;this.version=0,this[e(964)]=0,this[e(531)]=96,this.writeHeader(t),t[e(903)](this[e(937)]),t.writeUint32(this[e(920)]),t[e(903)](this[e(824)]),t.writeUint32(this[e(1391)]),t[e(903)](this.rate),t[e(1461)](this[e(670)]<<8),t[e(1461)](0),t[e(903)](0),t.writeUint32(0),t[e(1309)](this.matrix),t[e(903)](0),t[e(903)](0),t[e(903)](0),t[e(903)](0),t.writeUint32(0),t.writeUint32(0),t[e(903)](this[e(946)])},u.SampleEntry[n(626)][n(1653)]=function(t){var e=n;this[e(531)]=8,u.Box.prototype[e(1653)].call(this,t),t[e(680)](0),t.writeUint8(0),t[e(680)](0),t.writeUint8(0),t[e(680)](0),t[e(680)](0),t[e(1461)](this[e(1328)])},u[n(1393)][n(626)][n(1593)]=function(t){for(var e=n,s=0;s<this[e(1034)][e(496)];s++)this[e(1034)][s][e(1090)](t),this.size+=this[e(1034)][s][e(531)];o[e(1166)](e(704),e(1472)+this[e(1143)]+e(887)+this.size),t[e(1370)](this[e(522)],this[e(531)])},u[n(1393)][n(626)][n(1090)]=function(t){var e=n;this[e(1653)](t),t[e(1308)](this[e(1344)]),this.size+=this[e(1344)].length,o[e(1166)]("BoxWriter",e(1472)+this.type+e(887)+this[e(531)]),t[e(1370)](this.sizePosition,this[e(531)])},u[n(1219)][n(626)][n(1090)]=function(t){var e=n;this[e(1653)](t),this[e(531)]+=70,t[e(1461)](0),t[e(1461)](0),t[e(903)](0),t.writeUint32(0),t.writeUint32(0),t[e(1461)](this[e(1002)]),t.writeUint16(this[e(1403)]),t.writeUint32(this[e(1422)]),t.writeUint32(this[e(1040)]),t[e(903)](0),t.writeUint16(this.frame_count),t.writeUint8(Math[e(532)](31,this.compressorname.length)),t[e(525)](this[e(1234)],null,31),t.writeUint16(this[e(1404)]),t[e(1474)](-1),this[e(1593)](t)},u.AudioSampleEntry[n(626)][n(1090)]=function(t){var e=n;this[e(1653)](t),this[e(531)]+=20,t[e(903)](0),t[e(903)](0),t[e(1461)](this.channel_count),t.writeUint16(this.samplesize),t[e(1461)](0),t[e(1461)](0),t[e(903)](this[e(1327)]<<16),this.writeFooter(t)},u.stppSampleEntry[n(626)][n(1090)]=function(t){var e=n;this.writeHeader(t),this.size+=this[e(1698)][e(496)]+1+this[e(1694)][e(496)]+1+this[e(1460)].length+1,t[e(859)](this[e(1698)]),t[e(859)](this[e(1694)]),t[e(859)](this[e(1460)]),this[e(1593)](t)},u[n(702)][n(626)][n(1090)]=function(t){t[n(1308)](this.data)},u.sbgpBox.prototype[n(1090)]=function(t){var e=n;this[e(778)]=1,this[e(964)]=0,this[e(531)]=12+8*this[e(1486)][e(496)],this[e(1653)](t),t[e(525)](this[e(507)],null,4),t[e(903)](this[e(842)]),t.writeUint32(this.entries[e(496)]);for(var s=0;s<this[e(1486)][e(496)];s++){var i=this.entries[s];t[e(1548)](i[e(825)]),t[e(1548)](i[e(540)])}},u[n(1511)][n(626)][n(1090)]=function(t){var e,s,i=n;for(this[i(964)]=0,this[i(531)]=12,e=0;e<this.entries[i(496)];e++)s=this[i(1486)][e],1===this[i(778)]&&(0===this[i(490)]&&(this[i(531)]+=4),this[i(531)]+=s[i(1344)].length);for(this[i(1653)](t),t[i(525)](this[i(507)],null,4),1===this[i(778)]&&t.writeUint32(this.default_length),this[i(778)]>=2&&t[i(903)](this.default_sample_description_index),t[i(903)](this[i(1486)][i(496)]),e=0;e<this.entries.length;e++)s=this[i(1486)][e],1===this[i(778)]&&0===this[i(490)]&&t[i(903)](s.description_length),s[i(1090)](t)},u[n(1489)].prototype[n(1090)]=function(t){var e=n;this.version=0,this.flags=0,this[e(531)]=20+12*this[e(547)][e(496)],this[e(1653)](t),t[e(903)](this[e(555)]),t[e(903)](this[e(824)]),t[e(903)](this.earliest_presentation_time),t.writeUint32(this.first_offset),t[e(1461)](0),t[e(1461)](this[e(547)].length);for(var s=0;s<this[e(547)][e(496)];s++){var i=this[e(547)][s];t[e(903)](i.reference_type<<31|i[e(1645)]),t.writeUint32(i[e(858)]),t[e(903)](i[e(1456)]<<31|i[e(1239)]<<28|i[e(1272)])}},u[n(708)][n(626)].write=function(t){var e=n;this[e(778)]=0,this[e(964)]=1,this.size=4,this[e(1653)](t),t.writeUint16(this[e(974)]),t[e(1461)](0)},u[n(588)].prototype[n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=4+4*this[e(1341)][e(496)],this[e(1653)](t),t[e(903)](this.chunk_offsets[e(496)]),t[e(1309)](this[e(1341)])},u[n(764)].prototype[n(1090)]=function(t){var e,s=n;for(this[s(778)]=0,this[s(964)]=0,this[s(531)]=4+12*this[s(703)][s(496)],this[s(1653)](t),t[s(903)](this.first_chunk[s(496)]),e=0;e<this[s(703)][s(496)];e++)t.writeUint32(this.first_chunk[e]),t.writeUint32(this.samples_per_chunk[e]),t[s(903)](this[s(1635)][e])},u[n(629)][n(626)][n(1090)]=function(t){var e,s=n;for(this.version=0,this[s(964)]=0,this.size=0,this[s(1653)](t),t[s(903)](this[s(1486)][s(496)]),this[s(531)]+=4,e=0;e<this.entries[s(496)];e++)this[s(1486)][e][s(1090)](t),this[s(531)]+=this[s(1486)][e].size;o[s(1166)]("BoxWriter",s(1472)+this[s(1143)]+" with new size "+this.size),t[s(1370)](this.sizePosition,this[s(531)])},u[n(1657)].prototype[n(1090)]=function(t){var e,s=n;for(this.version=0,this[s(964)]=0,this[s(531)]=4+8*this.shadowed_sample_numbers.length,this[s(1653)](t),t.writeUint32(this[s(1016)][s(496)]),e=0;e<this[s(1016)][s(496)];e++)t.writeUint32(this.shadowed_sample_numbers[e]),t[s(903)](this[s(1031)][e])},u[n(1268)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=4+4*this[e(1363)][e(496)],this[e(1653)](t),t[e(903)](this.sample_numbers[e(496)]),t.writeUint32Array(this.sample_numbers)},u.stszBox[n(626)][n(1090)]=function(t){var e,s=n,i=!0;if(this[s(778)]=0,this[s(964)]=0,this[s(1209)][s(496)]>0)for(e=0;e+1<this[s(1209)][s(496)];){if(this[s(1209)][e+1]!==this[s(1209)][0]){i=!1;break}e++}else i=!1;this.size=8,!i&&(this[s(531)]+=4*this[s(1209)][s(496)]),this.writeHeader(t),i?t[s(903)](this[s(1209)][0]):t.writeUint32(0),t[s(903)](this[s(1209)][s(496)]),!i&&t[s(1309)](this[s(1209)])},u[n(1019)][n(626)].write=function(t){var e,s=n;for(this[s(778)]=0,this[s(964)]=0,this[s(531)]=4+8*this[s(1421)][s(496)],this[s(1653)](t),t[s(903)](this[s(1421)][s(496)]),e=0;e<this[s(1421)][s(496)];e++)t[s(903)](this[s(1421)][e]),t[s(903)](this[s(1197)][e])},u[n(1582)][n(626)][n(1090)]=function(t){var e=n,s=Math[e(1562)](2,32)-1;this[e(778)]=this[e(967)]>s?1:0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(t),1===this.version?t[e(1270)](this[e(967)]):t[e(903)](this[e(967)])},u[n(1195)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this.size=4,this[e(964)]&u[e(1151)]&&(this.size+=8),this[e(964)]&u[e(980)]&&(this[e(531)]+=4),this[e(964)]&u[e(698)]&&(this.size+=4),this[e(964)]&u.TFHD_FLAG_SAMPLE_SIZE&&(this[e(531)]+=4),this[e(964)]&u[e(1650)]&&(this[e(531)]+=4),this[e(1653)](t),t[e(903)](this[e(1103)]),this[e(964)]&u[e(1151)]&&t[e(1270)](this[e(1644)]),this.flags&u.TFHD_FLAG_SAMPLE_DESC&&t[e(903)](this[e(1524)]),this[e(964)]&u.TFHD_FLAG_SAMPLE_DUR&&t.writeUint32(this[e(1334)]),this[e(964)]&u.TFHD_FLAG_SAMPLE_SIZE&&t.writeUint32(this[e(1228)]),this[e(964)]&u[e(1650)]&&t[e(903)](this[e(811)])},u.tkhdBox[n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this.size=80,this[e(1653)](t),t[e(903)](this[e(937)]),t[e(903)](this.modification_time),t[e(903)](this[e(1103)]),t[e(903)](0),t.writeUint32(this[e(1391)]),t[e(903)](0),t[e(903)](0),t[e(1474)](this[e(791)]),t[e(1474)](this[e(1564)]),t.writeInt16(this[e(670)]<<8),t.writeUint16(0),t[e(1530)](this.matrix),t[e(903)](this.width),t.writeUint32(this[e(1403)])},u[n(916)].prototype[n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=20,this.writeHeader(t),t[e(903)](this[e(1103)]),t[e(903)](this[e(1524)]),t.writeUint32(this[e(1334)]),t[e(903)](this[e(1228)]),t[e(903)](this[e(811)])},u[n(1682)].prototype[n(1090)]=function(t){var e=n;this[e(778)]=0,this.size=4,this[e(964)]&u[e(1187)]&&(this[e(531)]+=4),this[e(964)]&u[e(1681)]&&(this[e(531)]+=4),this[e(964)]&u[e(483)]&&(this.size+=4*this[e(1402)].length),this[e(964)]&u.TRUN_FLAGS_SIZE&&(this.size+=4*this[e(568)][e(496)]),this[e(964)]&u[e(688)]&&(this[e(531)]+=4*this[e(564)].length),this.flags&u[e(1173)]&&(this[e(531)]+=4*this[e(772)][e(496)]),this[e(1653)](t),t[e(903)](this[e(825)]),this[e(964)]&u[e(1187)]&&(this[e(1321)]=t[e(769)](),t[e(1548)](this[e(888)])),this[e(964)]&u[e(1681)]&&t[e(903)](this.first_sample_flags);for(var s=0;s<this[e(825)];s++)this[e(964)]&u[e(483)]&&t.writeUint32(this[e(1402)][s]),this.flags&u.TRUN_FLAGS_SIZE&&t.writeUint32(this[e(568)][s]),this.flags&u[e(688)]&&t[e(903)](this[e(564)][s]),this[e(964)]&u[e(1173)]&&(0===this[e(778)]?t.writeUint32(this[e(772)][s]):t[e(1548)](this[e(772)][s]))},u[n(988)][n(626)][n(1090)]=function(t){var e=n;this.version=0,this[e(633)]?(this[e(964)]=0,this.size=this[e(633)][e(496)]+1):(this[e(964)]=1,this.size=0),this[e(1653)](t),this.location&&t[e(859)](this[e(633)])},u[n(1683)][n(626)][n(1090)]=function(t){var e=n;this[e(778)]=0,this[e(964)]=0,this[e(531)]=this.name[e(496)]+1+(this.location?this[e(633)][e(496)]+1:0),this[e(1653)](t),t[e(859)](this[e(611)]),this.location&&t[e(859)](this[e(633)])},u[n(1664)].prototype[n(1090)]=function(t){var e=n;this.version=0,this.flags=1,this.size=8,this[e(1653)](t),t[e(1461)](this[e(1567)]),t[e(1145)](this[e(707)])},u[n(1072)][n(626)].unpack=function(t){var e,s,i,r=n;for(i=0,e=0;e<this.sample_counts[r(496)];e++)for(s=0;s<this.sample_counts[e];s++)t[i].pts=t[i][r(917)]+this[r(817)][e],i++},u[n(1019)][n(626)].unpack=function(t){var e,s,i,r=n;for(i=0,e=0;e<this[r(1421)][r(496)];e++)for(s=0;s<this[r(1421)][e];s++)0===i?t[i][r(917)]=0:t[i].dts=t[i-1][r(917)]+this.sample_deltas[e],i++},u.stcoBox[n(626)][n(798)]=function(t){var e,s=n;for(e=0;e<this[s(1341)].length;e++)t[e][s(779)]=this[s(1341)][e]},u[n(764)][n(626)][n(798)]=function(t){var e,s,i,r,o,a=n;for(r=0,o=0,e=0;e<this.first_chunk[a(496)];e++)for(s=0;s<(e+1<this.first_chunk.length?this.first_chunk[e+1]:1/0);s++)for(o++,i=0;i<this[a(1046)][e];i++){if(!t[r])return;t[r][a(1604)]=this.sample_description_index[e],t[r][a(1449)]=o,r++}},u.stszBox[n(626)][n(798)]=function(t){var e,s=n;for(e=0;e<this[s(1209)][s(496)];e++)t[e].size=this[s(1209)][e]},u.DIFF_BOXES_PROP_NAMES=[n(1034),n(1486),n(547),n(1052),"items","item_infos",n(587),n(1501),n(748),n(1416),n(802),n(741),n(585),"levels"],u[n(625)]=[n(1560),"matrix",n(707),n(1421),n(1421),n(1197),"first_chunk",n(1046),"sample_sizes",n(1341),n(817),n(1635),n(1402)],u.boxEqualFields=function(t,e){var s,i=n;if(t&&!e)return!1;for(s in t)if(!(u[i(931)][i(556)](s)>-1||t[s]instanceof u[i(1127)]||e[s]instanceof u.Box||void 0===t[s]||typeof e[s]===i(793)||"function"==typeof t[s]||typeof e[s]===i(961)||t.subBoxNames&&t.subBoxNames[i(556)](s[i(939)](0,4))>-1||e.subBoxNames&&e[i(1256)][i(556)](s.slice(0,4))>-1||s===i(1344)||"start"===s||"size"===s||s===i(937)||s===i(920)||u.DIFF_PRIMITIVE_ARRAY_PROP_NAMES[i(556)](s)>-1||t[s]===e[s]))return!1;return!0},u[n(705)]=function(t,e){var s=n;if(!u[s(1316)](t,e))return!1;for(var i=0;i<u[s(931)][s(496)];i++){var r=u[s(931)][i];if(t[r]&&e[r]&&!u[s(705)](t[r],e[r]))return!1}return!0};var m=function(){};m.prototype[n(1165)]=function(t){var e,s,i=n,r=new a(t[i(674)]);for(e=[];!r[i(635)]();)(s=u[i(591)](r,!1))[i(501)]===u.OK&&"vttc"===s.box[i(1143)]&&e[i(1520)](s[i(1318)]);return e},m[n(626)][n(1497)]=function(t,e,s){var i=n;function r(t,e,s){var i=pm;return s=s||"0",(t+="")[i(496)]>=e?t:new Array(e-t[i(496)]+1).join(s)+t}function o(t){var e=pm,s=Math[e(1407)](t/3600),i=Math[e(1407)]((t-3600*s)/60),n=Math[e(1407)](t-3600*s-60*i),o=Math.floor(1e3*(t-3600*s-60*i-n));return r(s,2)+":"+r(i,2)+":"+r(n,2)+"."+r(o,3)}for(var a=this[i(1165)](s),h="",l=0;l<a[i(496)];l++){var c=a[l];h+=o(t)+i(712)+o(e)+"\r\n",h+=c[i(868)][i(1146)]}return h};var g=function(){};g[n(626)].parseSample=function(t){var e,s=n,i={};i[s(723)]=[];var r=new a(t[s(1344)][s(674)]);if(t[s(1052)]&&0!==t[s(1052)][s(496)]){if(i[s(1527)]=r.readString(t[s(1052)][0][s(531)]),t[s(1052)][s(496)]>1)for(e=1;e<t[s(1052)][s(496)];e++)i[s(723)][e]=r[s(1104)](t[s(1052)][e][s(531)])}else i[s(1527)]=r[s(869)](t.data.length);return typeof DOMParser!==s(793)&&(i[s(1211)]=(new DOMParser)[s(1443)](i[s(1527)],"application/xml")),i};var y=function(){};y[n(626)][n(1165)]=function(t){var e=n;return new a(t[e(1344)][e(674)])[e(869)](t[e(1344)][e(496)])},y[n(626)][n(504)]=function(t){var e=n,s=new a(t[e(674)]);return s[e(1095)](),s[e(875)]()},n(844)!==n(793)&&(e[n(1690)]=g,e[n(815)]=y);var A=function(t){var e=n;this.stream=t||new c,this[e(1034)]=[],this[e(524)]=[],this[e(1377)]=[],this[e(1374)]=!1,this[e(676)]=!1,this[e(1613)]=null,this[e(838)]=!1,this[e(944)]=null,this[e(1274)]=!1,this.onSegment=null,this[e(981)]=null,this[e(1654)]=null,this[e(1073)]=!1,this[e(1148)]=[],this[e(1368)]=[],this[e(827)]=!1,this[e(1255)]=!1,this.nextMoofNumber=0,this[e(1360)]=!1,this[e(760)]=null,this[e(612)]=!1};A.prototype[n(1232)]=function(){var t=n;this.stream&&(this[t(1606)][t(1232)](),this[t(1606)]=null),this[t(1034)]=[],this[t(524)]=[],this.moofs=[],this[t(1374)]=!1,this[t(676)]=!1,this.onMoovStart=null,this[t(838)]=!1,this[t(944)]=null,this.readySent=!1,this.onSegment=null,this[t(981)]=null,this[t(1654)]=null,this.sampleListBuilt=!1,this[t(1148)]=[],this[t(1368)]=[],this.isFragmentationInitialized=!1,this[t(1255)]=!1,this[t(598)]=0,this[t(1360)]=!1,this[t(760)]=null,this[t(612)]=!1,this[t(1666)]=null,this[t(1125)]=null,this.items=[],this[t(753)]=[]},A[n(626)][n(523)]=function(t,e,s){var i=n,r=this.getTrackById(t);if(r){var o={};this[i(1148)][i(1520)](o),o.id=t,o.user=e,o[i(889)]=r,r[i(926)]=0,o[i(725)]=null,o[i(509)]=1e3,o[i(918)]=!0,s&&(s[i(928)]&&(o[i(509)]=s.nbSamples),s[i(918)]&&(o.rapAlignement=s[i(918)]))}},A.prototype[n(1436)]=function(t){for(var e=n,s=-1,i=0;i<this[e(1148)].length;i++){this[e(1148)][i].id==t&&(s=i)}s>-1&&this[e(1148)][e(645)](s,1)},A[n(626)].setExtractionOptions=function(t,e,s){var i=n,r=this[i(998)](t);if(r){var o={};this.extractedTracks.push(o),o.id=t,o[i(1412)]=e,o[i(889)]=r,r[i(926)]=0,o[i(509)]=1e3,o.samples=[],s&&s[i(928)]&&(o[i(509)]=s.nbSamples)}},A[n(626)].unsetExtractionOptions=function(t){for(var e=n,s=-1,i=0;i<this[e(1368)][e(496)];i++){this[e(1368)][i].id==t&&(s=i)}s>-1&&this[e(1368)][e(645)](s,1)},A.prototype[n(800)]=function(){var t,e,s=n;if(!this[s(542)]||this.restoreParsePosition())for(;;){if(this[s(861)]&&this.hasIncompleteMdat()){if(this[s(954)]())continue;return}if(this[s(1392)]&&this[s(1392)](),(t=u[s(591)](this[s(1606)],false)).code===u.ERR_NOT_ENOUGH_DATA){if(this[s(610)]){if(this[s(610)](t))continue;return}return}var i;switch(i=(e=t[s(1318)])[s(1143)]!==s(601)?e.type:e[s(601)],this[s(1034)][s(1520)](e),i){case s(1467):this[s(524)].push(e);break;case s(1592):this[s(1377)][s(1520)](e);break;case"moov":this[s(676)]=!0,0===this[s(524)][s(496)]&&(this[s(1374)]=!0);default:this[i],this[i]=e}this[s(1555)]&&this.updateUsedBytes(e,t)}},A[n(626)][n(1381)]=function(t){var e=n;if(null==t)throw e(820);if(void 0===t[e(1597)])throw e(1049);return 0===t[e(545)]?(this.stream[e(675)](),!1):(t.usedBytes=0,this.stream[e(517)](t),this[e(1606)][e(675)](),!!this[e(1606)][e(743)]())},A[n(626)].appendBuffer=function(t,e){var s,i=n;if(this[i(1381)](t))return this.parse(),this[i(676)]&&!this.moovStartSent&&(this[i(838)]=!0,this[i(1613)]&&this[i(1613)]()),this[i(1666)]?(!this.sampleListBuilt&&(this[i(1590)](),this.sampleListBuilt=!0),this.updateSampleLists(),this[i(944)]&&!this[i(1274)]&&(this[i(1274)]=!0,this[i(944)](this[i(757)]())),this.processSamples(e),this[i(1144)]?(s=this.nextSeekPosition,this[i(1144)]=void 0):s=this[i(1114)],this[i(1606)][i(890)]&&(s=this[i(1606)][i(890)](s))):s=this[i(1114)]?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this[i(612)]&&(this[i(760)](this[i(1322)]),this[i(612)]=!0),this[i(849)]&&(this[i(1429)]&&!this[i(1360)]&&(this.flattenItemInfo(),this[i(1360)]=!0),this[i(897)]&&this[i(897)](this[i(1611)])),this.stream[i(1056)]&&(this[i(1606)].logBufferLevel(),this[i(1606)].cleanBuffers(),this[i(1606)].logBufferLevel(!0)),s},A[n(626)][n(757)]=function(){var t,e,s,i,r,o,a=n,h={},l=new Date(a(1476)).getTime();if(this.moov)for(h.hasMoov=!0,h[a(1391)]=this.moov[a(1513)][a(1391)],h.timescale=this[a(1666)][a(1513)].timescale,h[a(550)]=null!=this[a(1666)][a(1411)],h[a(550)]&&this.moov[a(1411)][a(1561)]&&(h[a(1062)]=this.moov[a(1411)][a(1561)][a(1062)]),h[a(1374)]=this[a(1374)],h.hasIOD=null!=this[a(1666)].iods,h[a(1029)]=[],h[a(1029)][a(1520)](this[a(1125)][a(1676)]),h[a(1029)]=h[a(1029)][a(816)](this[a(1125)][a(1560)]),h.created=new Date(l+1e3*this[a(1666)][a(1513)][a(937)]),h.modified=new Date(l+1e3*this[a(1666)].mvhd.modification_time),h[a(1120)]=[],h.audioTracks=[],h[a(776)]=[],h[a(742)]=[],h[a(1108)]=[],h[a(1196)]=[],h[a(664)]=[],t=0;t<this.moov[a(1438)][a(496)];t++){if(o=(s=this.moov.traks[t])[a(1577)][a(1477)][a(1156)][a(1323)][a(1486)][0],i={},h[a(1120)][a(1520)](i),i.id=s[a(1301)][a(1103)],i[a(611)]=s.mdia[a(534)][a(611)],i[a(547)]=[],s[a(1588)])for(e=0;e<s.tref[a(1034)][a(496)];e++)r={},i.references[a(1520)](r),r.type=s.tref.boxes[e][a(1143)],r.track_ids=s[a(1588)].boxes[e][a(1636)];s[a(836)]&&(i[a(1292)]=s[a(836)][a(826)][a(1486)]),i[a(506)]=new Date(l+1e3*s[a(1301)][a(937)]),i.modified=new Date(l+1e3*s.tkhd.modification_time),i[a(486)]=s[a(1301)][a(1391)],i[a(1551)]=h[a(824)],i[a(791)]=s[a(1301)][a(791)],i[a(1564)]=s[a(1301)][a(1564)],i[a(670)]=s[a(1301)].volume,i.matrix=s[a(1301)][a(1439)],i[a(1581)]=s[a(1301)].width/65536,i[a(1659)]=s[a(1301)].height/65536,i.timescale=s[a(1577)][a(1462)][a(824)],i.cts_shift=s[a(1577)][a(1477)][a(1156)][a(693)],i[a(1391)]=s.mdia[a(1462)][a(1391)],i[a(1579)]=s[a(1579)],i[a(1153)]=o.getCodec(),i[a(1362)]=s[a(1004)]&&s.udta[a(768)][a(496)]?s[a(1004)][a(768)][0]:{schemeURI:"",value:""},i[a(1193)]=s.mdia[a(1620)]?s[a(1577)][a(1620)][a(915)]:s.mdia.mdhd[a(1673)],i[a(509)]=s[a(1414)][a(496)],i.size=s[a(734)],i.bitrate=8*i[a(531)]*i[a(824)]/i.samples_duration,o[a(596)]()?(i[a(1143)]=a(1484),h[a(1665)][a(1520)](i),i[a(1484)]={},i[a(1484)].sample_rate=o[a(1619)](),i[a(1484)].channel_count=o[a(997)](),i.audio[a(568)]=o[a(503)]()):o[a(650)]()?(i[a(1143)]=a(963),h[a(776)][a(1520)](i),i[a(963)]={},i[a(963)][a(1002)]=o[a(711)](),i[a(963)][a(1403)]=o[a(497)]()):o.isSubtitle()?(i.type=a(1434),h.subtitleTracks.push(i)):o.isHint()?(i.type=a(1454),h[a(1196)][a(1520)](i)):o[a(1546)]()?(i.type=a(1454),h.metadataTracks[a(1520)](i)):(i[a(1143)]=a(1454),h.otherTracks.push(i))}else h[a(956)]=!1;if(h.mime="",h[a(956)]&&h.tracks){for(h[a(776)]&&h[a(776)][a(496)]>0?h[a(699)]+=a(1247):h.audioTracks&&h[a(1665)][a(496)]>0?h.mime+='audio/mp4; codecs="':h.mime+='application/mp4; codecs="',t=0;t<h[a(1120)][a(496)];t++)0!==t&&(h[a(699)]+=","),h[a(699)]+=h.tracks[t][a(1153)];h[a(699)]+=a(1340),h[a(699)]+=this[a(1125)][a(1560)][a(924)](),h.mime+='"'}return h},A[n(626)].setNextSeekPositionFromSample=function(t){var e=n;t&&(this[e(1144)]?this[e(1144)]=Math[e(532)](t[e(779)]+t[e(718)],this[e(1144)]):this.nextSeekPosition=t[e(779)]+t[e(718)])},A[n(626)][n(896)]=function(t){var e,s,i=n;if(this[i(1255)]){if(this[i(827)]&&null!==this[i(515)])for(e=0;e<this[i(1148)][i(496)];e++){var r=this[i(1148)][e];for(s=r[i(889)];s.nextSample<s.samples.length&&this[i(1255)];){o[i(1166)](i(1276),i(597)+r.id+" for sample "+s.nextSample);var a=this[i(1057)](r.id,s[i(926)],r[i(725)]);if(!a)break;if(r.segmentStream=a,s[i(926)]++,(s.nextSample%r[i(509)]==0||t||s[i(926)]>=s[i(1414)][i(496)])&&(this[i(515)]&&this[i(515)](r.id,r[i(1412)],r.segmentStream.buffer,s[i(926)],t||s[i(926)]>=s[i(1414)][i(496)]),r[i(725)]=null,r!==this[i(1148)][e]))break}}if(null!==this[i(981)])for(e=0;e<this.extractedTracks[i(496)];e++){var h=this.extractedTracks[e];for(s=h.trak;s.nextSample<s[i(1414)].length&&this[i(1255)];){o.debug("ISOFile",i(613)+h.id+" sample #"+s.nextSample);var l=this.getSample(s,s[i(926)]);if(!l){this.setNextSeekPositionFromSample(s.samples[s[i(926)]]);break}if(s.nextSample++,h[i(1414)][i(1520)](l),(s[i(926)]%h[i(509)]==0||s[i(926)]>=s[i(1414)][i(496)])&&(o[i(1166)](i(1276),i(1638)+h.id+i(932)+s.nextSample),this.onSamples&&this[i(981)](h.id,h[i(1412)],h[i(1414)]),h[i(1414)]=[],h!==this.extractedTracks[e]))break}}}},A[n(626)][n(1286)]=function(t){var e=n,s=this[e(902)](t,!0);return s[e(496)]?s[0]:null},A[n(626)][n(902)]=function(t,e){var s=[];return A._sweep.call(this,t,s,e),s},A[n(775)]=function(t,e,s){var i=n;for(var r in this[i(1143)]&&this[i(1143)]==t&&e.push(this),this.boxes){if(e[i(496)]&&s)return;A._sweep[i(1689)](this[i(1034)][r],t,e,s)}},A[n(626)][n(1280)]=function(t){var e=n,s=this[e(998)](t);return s?s[e(1414)]:void 0},A[n(626)][n(538)]=function(t,e){var s=n,i=this[s(998)](t);return this[s(1018)](i,e)},A[n(626)].releaseUsedSamples=function(t,e,s){var i=n,r=this.getTrackById(t);r[i(1453)]||(r[i(1453)]=0);for(var o=r[i(1453)];o<e;o++)this.releaseSample(r,o);r.lastValidSample=e,s&&(this.boxes=[],this[i(524)]=[],this[i(1377)]=[],this[i(1026)]=0)},A.prototype[n(638)]=function(t){var e=n,s=this[e(998)](t);const i=s[e(1414)],r=i[i.length-1];r[e(1344)]=null,r[e(479)]=null,r[e(718)]=0,s[e(1414)]=[],s.samples[e(1520)](r),s[e(926)]=s[e(1414)].length,this[e(1034)]=[],this[e(524)]=[],this[e(1377)]=[],this[e(1026)]=0},A[n(626)][n(719)]=function(){this[n(1255)]=!0,this.processSamples(!1)},A[n(626)][n(679)]=function(){this[n(1255)]=!1},A[n(626)].flush=function(){var t=n;this[t(1305)](),this[t(896)](!0),this[t(1606)][t(1056)](),this[t(1606)][t(675)](!0)},A[n(626)].seekTrack=function(t,e,s){var i,r,o,a=n,h=0,l=0;if(0===s[a(1414)][a(496)])return{offset:0,time:0};for(i=0;i<s[a(1414)].length;i++){if(r=s[a(1414)][i],0===i)l=0,o=r[a(824)];else if(r[a(1424)]>t*r.timescale){l=i-1;break}e&&r[a(1208)]&&(h=i)}for(e&&(l=h),t=s[a(1414)][l][a(1424)],s[a(926)]=l;s.samples[l][a(718)]===s[a(1414)][l][a(531)]&&s.samples[l+1];)l++;return{offset:s[a(1414)][l][a(779)]+s[a(1414)][l][a(718)],time:t/o}},A[n(626)][n(1331)]=function(t){var e,s=n;return t[s(1414)]?((e=t.samples[t[s(1414)][s(496)]-1])[s(1424)]+e[s(1391)])/e.timescale:1/0},A.prototype.seek=function(t,e){var s,i,r,o=n,a=this[o(1666)],h={offset:1/0,time:1/0};if(this[o(1666)]){for(r=0;r<a[o(1438)].length;r++)s=a.traks[r],t>this[o(1331)](s)||((i=this[o(1483)](t,e,s))[o(779)]<h.offset&&(h[o(779)]=i[o(779)]),i.time<h[o(1175)]&&(h.time=i.time));return h[o(779)]===1/0?h={offset:this[o(1114)],time:0}:h[o(779)]=this.stream[o(890)](h[o(779)]),h}throw o(1630)},A.prototype[n(744)]=function(t){for(var e=n,s=0;s<this.boxes[e(496)]&&s<t.boxes[e(496)];){var i=this[e(1034)][s],r=t[e(1034)][s];if(!u.boxEqual(i,r))return!1;s++}return!0},"undefined"!==n(844)&&(e[n(1276)]=A),A[n(626)].lastBoxStartPosition=0,A.prototype.parsingMdat=null,A[n(626)][n(1114)]=0,A[n(626)].discardMdatData=!1,A[n(626)][n(610)]=function(t){var e,s=n;return t[s(1143)]===s(1467)?(e=new(u[t.type+s(1127)])(t[s(531)]),this[s(1580)]=e,this[s(1034)][s(1520)](e),this[s(524)].push(e),e[s(719)]=t[s(719)],e[s(493)]=t[s(493)],this[s(1606)][s(807)](e[s(493)]),this[s(1395)]=e[s(719)]+e[s(531)],this.stream.seek(e[s(719)]+e[s(531)],!1,this[s(1170)])?(this[s(1580)]=null,!0):(this[s(676)]?this[s(1114)]=this.stream.findEndContiguousBuf():this[s(1114)]=e[s(719)]+e.size,!1)):(t.type===s(1666)&&(this[s(676)]=!0,0===this.mdats[s(496)]&&(this[s(1374)]=!0)),!!this[s(1606)][s(1413)]&&this[s(1606)].mergeNextBuffer()?(this[s(1114)]=this[s(1606)][s(1176)](),!0):(t.type?this[s(676)]?this[s(1114)]=this[s(1606)][s(1176)]():this.nextParsePosition=this[s(1606)][s(769)]()+t.size:this[s(1114)]=this.stream[s(1176)](),!1))},A[n(626)].hasIncompleteMdat=function(){return null!==this[n(1580)]},A.prototype[n(954)]=function(){var t,e=n;return t=this[e(1580)],this[e(1606)][e(636)](t[e(719)]+t[e(531)],!1,this[e(1170)])?(o.debug(e(1276),e(1117)),this.parsingMdat=null,!0):(this.nextParsePosition=this[e(1606)][e(1310)](),!1)},A[n(626)][n(542)]=function(){var t=n;return this[t(1606)][t(636)](this[t(1395)],!0,this.discardMdatData)},A[n(626)][n(1392)]=function(){var t=n;this.lastBoxStartPosition=this[t(1606)][t(769)]()},A[n(626)].updateUsedBytes=function(t,e){var s=n;this[s(1606)][s(807)]&&(t[s(1143)]===s(1467)?(this[s(1606)].addUsedBytes(t[s(493)]),this[s(1170)]&&this.stream[s(807)](t[s(531)]-t[s(493)])):this.stream[s(807)](t[s(531)]))},A.prototype.add=u[n(1127)].prototype[n(692)],A[n(626)][n(1615)]=u[n(1127)][n(626)].addBox,A[n(626)][n(1041)]=function(t){var e=n,s=t||{};this[e(692)](e(1125)).set(e(1676),s.brands&&s[e(1029)][0]||e(1126)).set(e(1692),0)[e(562)](e(1560),s[e(1029)]||[e(1126)]);var i=this.add(e(1666));return i.add(e(1513)).set(e(824),s.timescale||600).set("rate",s.rate||65536)[e(562)](e(937),0)[e(562)](e(920),0)[e(562)](e(1391),s[e(1391)]||0).set(e(670),s[e(1002)]?0:256).set(e(1439),[65536,0,0,0,65536,0,0,0,1073741824]).set(e(946),1),i[e(692)](e(1411)),this},A.prototype[n(1077)]=function(t){var e=n;!this[e(1666)]&&this[e(1041)](t);var s=t||{};s.width=s[e(1002)]||320,s.height=s[e(1403)]||320,s.id=s.id||this[e(1666)][e(1513)][e(946)],s[e(1143)]=s[e(1143)]||e(1535);var i=this[e(1666)].add(e(889));this[e(1666)].mvhd[e(946)]=s.id+1,i[e(692)](e(1301))[e(562)]("flags",u[e(1351)]|u[e(1069)]|u[e(1537)])[e(562)](e(937),0)[e(562)](e(920),0).set(e(1103),s.id).set("duration",s[e(1391)]||0).set(e(791),s.layer||0)[e(562)](e(1564),0)[e(562)]("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0])[e(562)]("width",s[e(1002)]<<16)[e(562)]("height",s[e(1403)]<<16);var r=i[e(692)](e(1577));r.add(e(1462))[e(562)]("creation_time",0)[e(562)]("modification_time",0)[e(562)](e(824),s[e(824)]||1)[e(562)](e(1391),s[e(994)]||0)[e(562)]("language",s.language||e(709)),r[e(692)](e(534)).set("handler",s[e(534)]||e(1111))[e(562)](e(611),s[e(611)]||e(819)),r[e(692)](e(1620)).set(e(915),s[e(1193)]||e(1312));var o=r[e(692)](e(1477));if(void 0!==u[s[e(1143)]+e(1393)]){var h=new(u[s[e(1143)]+e(1393)]);h[e(1328)]=1;var l="";for(var c in u[e(1386)])for(var d=u[e(1386)][c],p=0;p<d[e(496)];p++)if(d[e(556)](s.type)>-1){l=c;break}switch(l){case"Visual":if(o[e(692)](e(1540))[e(562)](e(1567),0)[e(562)](e(707),[0,0,0]),h[e(562)]("width",s[e(1002)]).set("height",s.height).set(e(1422),72<<16)[e(562)](e(1040),72<<16)[e(562)](e(1531),1)[e(562)](e(1234),s[e(1143)]+" Compressor")[e(562)](e(1404),24),s[e(1128)]){var f=new(u[e(834)]);f[e(800)](new a(s.avcDecoderConfigRecord)),h.addBox(f)}else if(s.hevcDecoderConfigRecord){var m=new(u[e(1116)]);m[e(800)](new a(s[e(511)])),h.addBox(m)}break;case e(1085):o[e(692)](e(683))[e(562)](e(974),s[e(974)]||0),h[e(562)]("channel_count",s[e(736)]||2)[e(562)](e(1490),s[e(1490)]||16)[e(562)](e(1327),s[e(1327)]||65536);break;case e(739):o[e(692)](e(843));break;case e(833):if(o[e(692)](e(620)),s[e(1143)]===e(637))h[e(562)](e(1698),s[e(1698)]||"nonamespace")[e(562)](e(1694),s.schema_location||"").set(e(1460),s[e(1460)]||"");break;case e(548):case e(713):default:o[e(692)](e(809))}s.description&&h[e(1615)](s[e(479)]),s[e(1107)]&&s[e(1107)][e(1353)]((function(t){h[e(1615)](t)})),o[e(692)](e(1409))[e(692)](e(1158))[e(846)]((new(u[e(988)]))[e(562)](e(964),1));var g=o[e(692)](e(1156));return g[e(692)](e(1323))[e(846)](h),g[e(692)]("stts").set(e(1421),[])[e(562)](e(1197),[]),g.add(e(1065)).set("first_chunk",[]).set("samples_per_chunk",[])[e(562)](e(1635),[]),g[e(692)]("stco")[e(562)](e(1341),[]),g[e(692)](e(697)).set(e(1209),[]),this[e(1666)][e(1411)][e(692)](e(1203))[e(562)](e(1103),s.id).set(e(1524),s[e(1524)]||1)[e(562)](e(1334),s[e(1334)]||0)[e(562)](e(1228),s[e(1228)]||0)[e(562)](e(811),s[e(811)]||0),this.buildTrakSampleLists(i),s.id}},u[n(1127)][n(626)].computeSize=function(t){var e=n,s=t||new h;s[e(1695)]=h[e(499)],this.write(s)},A[n(626)][n(1054)]=function(t,e,s){var i=n,r=s||{},o={},a=this[i(998)](t);if(null!==a){o.number=a[i(1414)].length,o[i(1103)]=a[i(1301)][i(1103)],o[i(824)]=a[i(1577)][i(1462)][i(824)],o[i(1604)]=r[i(1635)]?r[i(1635)]-1:0,o.description=a[i(1577)][i(1477)][i(1156)][i(1323)][i(1486)][o[i(1604)]],o[i(1344)]=e,o[i(531)]=e[i(545)],o[i(718)]=o[i(531)],o[i(1391)]=r.duration||1,o.cts=r[i(1424)]||0,o[i(917)]=r[i(917)]||0,o[i(1208)]=r[i(1208)]||!1,o[i(714)]=r[i(714)]||0,o[i(1317)]=r.depends_on||0,o[i(1080)]=r[i(1080)]||0,o[i(643)]=r[i(643)]||0,o[i(1254)]=r[i(1254)]||0,o[i(779)]=0,o[i(1052)]=r[i(1052)],a[i(1414)][i(1520)](o),a.samples_size+=o[i(531)],a.samples_duration+=o.duration,void 0===a[i(1293)]&&(a[i(1293)]=r[i(917)]),this[i(896)]();var h=this[i(1159)](o);return this[i(1615)](h),h[i(1398)](),h.trafs[0][i(1188)][0][i(888)]=h.size+8,this[i(692)](i(1467))[i(1344)]=new Uint8Array(e),o}},A.prototype[n(1159)]=function(t){var e=n,s=0;s=t.is_sync?1<<25:65536;var i=new(u[e(952)]);i[e(692)](e(1137)).set("sequence_number",this[e(598)]),this[e(598)]++;var r=i[e(692)](e(796)),o=this[e(998)](t[e(1103)]);return r.add("tfhd")[e(562)](e(1103),t.track_id).set(e(964),u[e(853)]),r[e(692)]("tfdt")[e(562)]("baseMediaDecodeTime",t[e(917)]-(o[e(1293)]||0)),r.add("trun").set(e(964),u[e(1187)]|u.TRUN_FLAGS_DURATION|u[e(1230)]|u.TRUN_FLAGS_FLAGS|u[e(1173)])[e(562)](e(888),0)[e(562)](e(847),0)[e(562)](e(825),1)[e(562)]("sample_duration",[t[e(1391)]])[e(562)]("sample_size",[t[e(531)]]).set(e(564),[s])[e(562)](e(772),[t[e(1424)]-t[e(917)]]),i},A.prototype.lastMoofIndex=0,A[n(626)].samplesDataSize=0,A[n(626)][n(1435)]=function(){var t,e,s,i,r,o,a=n;for(this[a(1573)]=this.moov[a(1513)][a(1391)],this[a(1666)][a(1513)][a(1391)]=0,t=0;t<this[a(1666)][a(1438)][a(496)];t++){(e=this.moov[a(1438)][t])[a(1301)].duration=0,e[a(1577)][a(1462)][a(1391)]=0,(e[a(1577)].minf[a(1156)].stco||e.mdia.minf[a(1156)].co64)[a(1341)]=[],(s=e[a(1577)][a(1477)].stbl[a(1065)]).first_chunk=[],s[a(1046)]=[],s[a(1635)]=[],(e[a(1577)].minf[a(1156)].stsz||e.mdia.minf[a(1156)].stz2).sample_sizes=[],(i=e.mdia.minf[a(1156)][a(747)])[a(1421)]=[],i[a(1197)]=[],(r=e.mdia[a(1477)][a(1156)][a(661)])&&(r[a(1421)]=[],r[a(817)]=[]),o=e[a(1577)].minf[a(1156)][a(1519)];var h=e.mdia[a(1477)].stbl[a(1034)][a(556)](o);-1!=h&&(e[a(1577)][a(1477)].stbl[a(1034)][h]=null)}},A[n(1024)]=function(t,e,s,i,r){var o,a,h,l,c=n;function d(t,e,s){var i=pm;this[i(507)]=t,this.grouping_type_parameter=e,this.sbgp=s,this[i(885)]=-1,this[i(1028)]=-1}for(e&&(e[c(1109)]=[]),!t[c(1109)]&&(t[c(1109)]=[]),a=0;a<s[c(496)];a++){for(l=s[a][c(507)]+"/"+s[a][c(842)],h=new d(s[a][c(507)],s[a][c(842)],s[a]),e&&(e[c(1109)][l]=h),!t[c(1109)][l]&&(t[c(1109)][l]=h),o=0;o<i[c(496)];o++)i[o][c(507)]===s[a][c(507)]&&(h[c(479)]=i[o],h[c(479)][c(1576)]=!0);if(r)for(o=0;o<r.length;o++)r[o][c(507)]===s[a][c(507)]&&(h[c(1464)]=r[o],h[c(1464)][c(1576)]=!0,h[c(535)]=!0)}if(e){if(r)for(a=0;a<r[c(496)];a++)!r[a][c(1576)]&&r[a][c(778)]>=2&&(l=r[a][c(507)]+"/0",(h=new d(r[a][c(507)],0))[c(535)]=!0,!e[c(1109)][l]&&(e.sample_groups_info[l]=h))}else for(a=0;a<i[c(496)];a++)!i[a].used&&i[a][c(778)]>=2&&(l=i[a].grouping_type+"/0",h=new d(i[a][c(507)],0),!t[c(1109)][l]&&(t[c(1109)][l]=h))},A[n(1618)]=function(t,e,s,i){var r,o,a=n;for(r in e[a(1522)]=[],i){var h;if(e[a(1522)][r]={},e[a(1522)][r][a(507)]=i[r][a(507)],e.sample_groups[r][a(842)]=i[r][a(842)],s>=i[r][a(885)]&&(i[r][a(885)]<0&&(i[r][a(885)]=0),i[r][a(1028)]++,i[r][a(1028)]<=i[r][a(1589)][a(1486)][a(496)]-1&&(i[r][a(885)]+=i[r][a(1589)][a(1486)][i[r].entry_index][a(825)])),i[r][a(1028)]<=i[r][a(1589)][a(1486)][a(496)]-1?e[a(1522)][r][a(540)]=i[r][a(1589)].entries[i[r][a(1028)]][a(540)]:e.sample_groups[r][a(540)]=-1,0!==e[a(1522)][r][a(540)])h=i[r].fragment_description?i[r][a(1464)]:i[r].description,e.sample_groups[r][a(540)]>0?(o=e[a(1522)][r][a(540)]>65535?(e[a(1522)][r][a(540)]>>16)-1:e[a(1522)][r].group_description_index-1,h&&o>=0&&(e.sample_groups[r][a(479)]=h[a(1486)][o])):h&&h[a(778)]>=2&&h[a(604)]>0&&(e[a(1522)][r][a(479)]=h[a(1486)][h[a(604)]-1])}},A[n(1075)]=function(t,e,s){var i=n;e&&(t?(e[i(714)]=t[i(714)][s],e.depends_on=t[i(1633)][s],e[i(1080)]=t[i(1202)][s],e[i(643)]=t[i(1007)][s]):(e[i(714)]=0,e.depends_on=0,e[i(1080)]=0,e[i(643)]=0))},A[n(626)][n(1590)]=function(){var t,e,s=n;for(t=0;t<this[s(1666)].traks[s(496)];t++)e=this.moov.traks[t],this[s(677)](e)},A.prototype[n(677)]=function(t){var e,s,i,r,o,a,h,l,c,d,u,p,f,m,g,y,v,b,S,E,w,T,I,k,_=n;if(t[_(1414)]=[],t[_(1579)]=0,t[_(734)]=0,s=t[_(1577)].minf[_(1156)][_(1491)]||t[_(1577)][_(1477)][_(1156)].co64,i=t[_(1577)].minf[_(1156)][_(1065)],r=t[_(1577)].minf[_(1156)].stsz||t[_(1577)][_(1477)].stbl.stz2,o=t[_(1577)][_(1477)][_(1156)][_(747)],a=t[_(1577)].minf[_(1156)][_(661)],h=t[_(1577)][_(1477)][_(1156)][_(1519)],l=t[_(1577)].minf[_(1156)].stsd,c=t[_(1577)][_(1477)].stbl[_(789)],p=t[_(1577)].minf.stbl.stdp,d=t[_(1577)][_(1477)][_(1156)].sbgps,u=t[_(1577)][_(1477)][_(1156)].sgpds,b=-1,S=-1,E=-1,w=-1,T=0,I=0,k=0,A.initSampleGroups(t,null,d,u),typeof r!==_(793)){for(e=0;e<r[_(1209)][_(496)];e++){var C={};C[_(841)]=e,C[_(1103)]=t.tkhd[_(1103)],C[_(824)]=t.mdia[_(1462)].timescale,C.alreadyRead=0,t[_(1414)][e]=C,C[_(531)]=r.sample_sizes[e],t[_(734)]+=C[_(531)],0===e?(m=1,f=0,C.chunk_index=m,C.chunk_run_index=f,v=i[_(1046)][f],y=0,g=f+1<i[_(703)][_(496)]?i.first_chunk[f+1]-1:1/0):e<v?(C[_(1449)]=m,C[_(1493)]=f):(m++,C[_(1449)]=m,y=0,m<=g||(g=++f+1<i[_(703)].length?i[_(703)][f+1]-1:1/0),C[_(1493)]=f,v+=i[_(1046)][f]),C[_(1604)]=i.sample_description_index[C.chunk_run_index]-1,C[_(479)]=l[_(1486)][C.description_index],C[_(779)]=s[_(1341)][C[_(1449)]-1]+y,y+=C[_(531)],e>b&&(S++,b<0&&(b=0),b+=o.sample_counts[S]),e>0?(t[_(1414)][e-1].duration=o[_(1197)][S],t[_(1579)]+=t[_(1414)][e-1][_(1391)],C[_(917)]=t.samples[e-1].dts+t[_(1414)][e-1][_(1391)]):C[_(917)]=0,a?(e>=E&&(w++,E<0&&(E=0),E+=a.sample_counts[w]),C.cts=t[_(1414)][e][_(917)]+a[_(817)][w]):C[_(1424)]=C[_(917)],h?(e==h[_(1363)][T]-1?(C[_(1208)]=!0,T++):(C[_(1208)]=!1,C[_(1254)]=0),c&&c[_(1486)][I][_(1243)]+k==e+1&&(C[_(1052)]=c[_(1486)][I].subsamples,k+=c[_(1486)][I][_(1243)],I++)):C.is_sync=!0,A[_(1075)](t[_(1577)][_(1477)][_(1156)].sdtp,C,C[_(841)]),C[_(1254)]=p?p.priority[e]:0,c&&c[_(1486)][I][_(1243)]+k==e&&(C[_(1052)]=c[_(1486)][I][_(1052)],k+=c.entries[I][_(1243)]),(d[_(496)]>0||u.length>0)&&A[_(1618)](t,C,e,t[_(1109)])}e>0&&(t[_(1414)][e-1][_(1391)]=Math[_(533)](t[_(1577)][_(1462)][_(1391)]-t.samples[e-1][_(917)],0),t[_(1579)]+=t[_(1414)][e-1][_(1391)])}},A[n(626)][n(1305)]=function(){var t,e,s,i,r,o,a,h,l,c,d,p,f,m,g,y=n;if(void 0!==this[y(1666)])for(;this[y(1026)]<this[y(1377)][y(496)];)if(l=this[y(1377)][this[y(1026)]],this.lastMoofIndex++,"moof"==l[y(1143)])for(c=l,t=0;t<c.trafs[y(496)];t++){for(d=c[y(565)][t],p=this[y(998)](d[y(1319)][y(1103)]),f=this.getTrexById(d[y(1319)].track_id),i=d[y(1319)][y(964)]&u[y(980)]?d[y(1319)][y(1524)]:f?f[y(1524)]:1,r=d[y(1319)][y(964)]&u[y(698)]?d[y(1319)][y(1334)]:f?f[y(1334)]:0,o=d[y(1319)][y(964)]&u.TFHD_FLAG_SAMPLE_SIZE?d.tfhd.default_sample_size:f?f[y(1228)]:0,a=d[y(1319)][y(964)]&u[y(1650)]?d[y(1319)].default_sample_flags:f?f[y(811)]:0,d[y(1329)]=0,d[y(960)][y(496)]>0&&A[y(1024)](p,d,d[y(960)],p.mdia[y(1477)][y(1156)][y(862)],d[y(862)]),e=0;e<d[y(1188)][y(496)];e++){var v=d[y(1188)][e];for(s=0;s<v.sample_count;s++){(m={}).moof_number=this[y(1026)],m[y(1336)]=d[y(1329)],d[y(1329)]++,m[y(841)]=p.samples.length,d.first_sample_index=p[y(1414)].length,p[y(1414)].push(m),m.track_id=p[y(1301)][y(1103)],m[y(824)]=p[y(1577)][y(1462)][y(824)],m.description_index=i-1,m[y(479)]=p[y(1577)].minf.stbl.stsd[y(1486)][m[y(1604)]],m[y(531)]=o,v[y(964)]&u.TRUN_FLAGS_SIZE&&(m[y(531)]=v[y(568)][s]),p[y(734)]+=m[y(531)],m[y(1391)]=r,v[y(964)]&u[y(483)]&&(m[y(1391)]=v[y(1402)][s]),p[y(1579)]+=m[y(1391)],p.first_traf_merged||s>0?m[y(917)]=p[y(1414)][p.samples.length-2].dts+p[y(1414)][p.samples[y(496)]-2][y(1391)]:(d.tfdt?m[y(917)]=d[y(1141)].baseMediaDecodeTime:m[y(917)]=0,p[y(774)]=!0),m[y(1424)]=m[y(917)],v[y(964)]&u[y(1173)]&&(m[y(1424)]=m[y(917)]+v[y(772)][s]),g=a,v[y(964)]&u[y(688)]?g=v[y(564)][s]:0===s&&v.flags&u[y(1681)]&&(g=v[y(847)]),m[y(1208)]=!(g>>16&1),m[y(714)]=g>>26&3,m.depends_on=g>>24&3,m[y(1080)]=g>>22&3,m[y(643)]=g>>20&3,m[y(1254)]=65535&g;var b=!!(d[y(1319)][y(964)]&u[y(1151)]),S=!!(d[y(1319)][y(964)]&u[y(853)]),E=!!(v.flags&u[y(1187)]),w=0;w=b?d[y(1319)][y(1644)]:S?c[y(719)]:0===e?c.start:h,m[y(779)]=0===e&&0===s?E?w+v[y(888)]:w:h,h=m[y(779)]+m[y(531)],(d.sbgps.length>0||d.sgpds.length>0||p.mdia.minf.stbl[y(960)][y(496)]>0||p[y(1577)][y(1477)][y(1156)][y(862)][y(496)]>0)&&A[y(1618)](p,m,m[y(1336)],d.sample_groups_info)}}if(d[y(789)]){p[y(781)]=!0;var T=d.first_sample_index;for(e=0;e<d[y(789)][y(1486)][y(496)];e++)T+=d[y(789)][y(1486)][e][y(1243)],(m=p[y(1414)][T-1])[y(1052)]=d[y(789)][y(1486)][e][y(1052)]}}},A[n(626)].getSample=function(t,e){var s,i=n,r=t.samples[e];if(!this.moov)return null;if(r[i(1344)]){if(r[i(718)]==r[i(531)])return r}else r[i(1344)]=new Uint8Array(r.size),r[i(718)]=0,this.samplesDataSize+=r[i(531)],o[i(1166)](i(1276),i(1285)+e+" on track #"+t.tkhd[i(1103)]+i(1390)+r.size+i(1118)+this[i(1177)]+")");for(;;){var a=this[i(1606)].findPosition(!0,r.offset+r.alreadyRead,!1);if(!(a>-1))return null;var l=(s=this[i(1606)][i(592)][a]).byteLength-(r.offset+r[i(718)]-s[i(1597)]);if(r[i(531)]-r[i(718)]<=l)return o[i(1166)](i(1276),i(1303)+e+i(1487)+r[i(718)]+i(1609)+(r[i(779)]+r[i(718)]-s[i(1597)])+i(1229)+(r[i(531)]-r.alreadyRead)+i(706)+r[i(531)]+")"),h[i(1626)](r[i(1344)][i(674)],r[i(718)],s,r.offset+r[i(718)]-s.fileStart,r.size-r[i(718)]),s[i(1014)]+=r[i(531)]-r[i(718)],this[i(1606)].logBufferLevel(),r[i(718)]=r[i(531)],r;if(0===l)return null;o[i(1166)]("ISOFile","Getting sample #"+e+i(738)+r[i(718)]+i(1609)+(r.offset+r[i(718)]-s[i(1597)])+i(1229)+l+" full size: "+r.size+")"),h[i(1626)](r[i(1344)].buffer,r[i(718)],s,r.offset+r[i(718)]-s[i(1597)],l),r[i(718)]+=l,s[i(1014)]+=l,this[i(1606)].logBufferLevel()}},A[n(626)][n(1112)]=function(t,e){var s=n,i=t[s(1414)][e];return i[s(1344)]?(this[s(1177)]-=i[s(531)],i[s(1344)]=null,i[s(479)]=null,delete i[s(1254)],delete i[s(1317)],delete i[s(1604)],delete i[s(643)],delete i[s(1080)],delete i[s(714)],delete i[s(1208)],delete i[s(570)],delete i.number_in_traf,delete i[s(824)],delete i[s(1424)],delete i[s(917)],delete i[s(779)],delete i[s(531)],delete i.track_id,delete i.duration,i[s(718)]=0,i.size):0},A[n(626)].getAllocatedSampleDataSize=function(){return this[n(1177)]},A[n(626)][n(933)]=function(){var t=n;const e=this[t(1606)][t(592)]||[];let s=0;return e[t(1353)]((e=>{const i=e[t(545)];s+=i})),s},A.prototype[n(573)]=function(){var t,e=n,s="";for(t=0;t<this[e(1666)][e(1438)][e(496)];t++){t>0&&(s+=","),s+=this[e(1666)][e(1438)][t].mdia[e(1477)].stbl[e(1323)].entries[0][e(1612)]()}return s},A[n(626)][n(648)]=function(t){var e,s=n;if(!this.moov||!this[s(1666)][s(1411)])return null;for(e=0;e<this[s(1666)][s(1411)][s(938)].length;e++){var i=this[s(1666)][s(1411)][s(938)][e];if(i[s(1103)]==t)return i}return null},A[n(626)][n(998)]=function(t){var e=n;if(void 0===this.moov)return null;for(var s=0;s<this[e(1666)][e(1438)][e(496)];s++){var i=this[e(1666)].traks[s];if(i[e(1301)][e(1103)]==t)return i}return null},A.prototype.items=[],A[n(626)][n(753)]=[],A.prototype[n(590)]=0,A[n(626)][n(1429)]=function(){var t,e,s,i=n,r=this.items,o=this[i(753)],a=this.meta;if(null!=a&&void 0!==a[i(534)]&&void 0!==a[i(976)]){for(t=0;t<a.iinf[i(482)][i(496)];t++)(s={}).id=a.iinf[i(482)][t][i(1495)],r[s.id]=s,s.ref_to=[],s[i(611)]=a.iinf.item_infos[t].item_name,a[i(976)][i(482)][t][i(1569)]>0&&(s[i(1584)]=a[i(563)].protections[a[i(976)][i(482)][t][i(1569)]-1]),a[i(976)].item_infos[t][i(696)]?s[i(1143)]=a[i(976)][i(482)][t][i(696)]:s[i(1143)]=i(699),s[i(745)]=a[i(976)].item_infos[t][i(745)],s.content_encoding=a[i(976)][i(482)][t].content_encoding;if(a[i(1218)])for(t=0;t<a[i(1218)][i(1034)][i(496)];t++)entity_group={},entity_group.id=a[i(1218)][i(1034)][t][i(1552)],entity_group[i(484)]=a[i(1218)][i(1034)][t][i(484)],entity_group[i(1143)]=a[i(1218)].boxes[t][i(1143)],o[entity_group.id]=entity_group;if(a.iloc)for(t=0;t<a.iloc[i(959)][i(496)];t++){var h=a[i(1399)][i(959)][t];for(s=r[h[i(1495)]],0!==h[i(1328)]&&(s[i(586)]=a[i(1409)][i(1034)][h[i(1328)]-1]),h.construction_method,s[i(587)]=[],s[i(531)]=0,e=0;e<h[i(587)][i(496)];e++)s[i(587)][e]={},s[i(587)][e][i(779)]=h[i(587)][e].extent_offset+h[i(940)],s[i(587)][e][i(496)]=h[i(587)][e][i(1655)],s[i(587)][e].alreadyRead=0,s.size+=s.extents[e].length}if(a[i(914)]&&(r[a[i(914)][i(1181)]][i(1507)]=!0),a[i(1693)])for(t=0;t<a[i(1693)].references[i(496)];t++){var l=a.iref[i(547)][t];for(e=0;e<l[i(547)][i(496)];e++)r[l.from_item_ID][i(828)][i(1520)]({type:l[i(1143)],id:l[i(547)][e]})}if(a.iprp)for(var c=0;c<a[i(1022)][i(784)][i(496)];c++){var d=a[i(1022)][i(784)][c];for(t=0;t<d[i(1501)][i(496)];t++){var u=d[i(1501)][t];if(!(s=r[u.id])&&(s=o[u.id]),s)for(void 0===s[i(1253)]&&(s[i(1253)]={},s.properties[i(1034)]=[]),e=0;e<u.props[i(496)];e++){var p=u[i(983)][e];if(p.property_index>0&&p.property_index-1<a[i(1022)].ipco[i(1034)][i(496)]){var f=a[i(1022)][i(1475)][i(1034)][p[i(1142)]-1];s[i(1253)][f.type]=f,s.properties[i(1034)][i(1520)](f)}}}}}},A[n(626)][n(1020)]=function(t){var e,s,i=n;if(!this[i(849)])return null;if(!(s=this[i(959)][t])[i(1344)]&&s[i(531)])s[i(1344)]=new Uint8Array(s[i(531)]),s[i(718)]=0,this.itemsDataSize+=s.size,o[i(1166)](i(1276),i(1154)+t+i(1390)+s[i(531)]+i(1118)+this.itemsDataSize+")");else if(s[i(718)]===s[i(531)])return s;for(var r=0;r<s[i(587)][i(496)];r++){var a=s[i(587)][r];if(a[i(718)]!==a.length){var l=this[i(1606)][i(910)](!0,a[i(779)]+a.alreadyRead,!1);if(!(l>-1))return null;var c=(e=this.stream.buffers[l])[i(545)]-(a.offset+a[i(718)]-e.fileStart);if(!(a[i(496)]-a[i(718)]<=c))return o[i(1166)]("ISOFile",i(912)+t+i(1631)+r+" partial data (alreadyRead: "+a[i(718)]+i(1609)+(a.offset+a[i(718)]-e.fileStart)+" read size: "+c+i(1471)+a[i(496)]+i(1646)+s[i(531)]+")"),h.memcpy(s[i(1344)][i(674)],s[i(718)],e,a[i(779)]+a[i(718)]-e[i(1597)],c),a[i(718)]+=c,s.alreadyRead+=c,e[i(1014)]+=c,this.stream[i(675)](),null;o.debug("ISOFile","Getting item #"+t+" extent #"+r+" data (alreadyRead: "+a[i(718)]+" offset: "+(a[i(779)]+a[i(718)]-e.fileStart)+i(1229)+(a[i(496)]-a[i(718)])+" full extent size: "+a[i(496)]+i(1646)+s[i(531)]+")"),h[i(1626)](s[i(1344)].buffer,s.alreadyRead,e,a[i(779)]+a.alreadyRead-e[i(1597)],a[i(496)]-a[i(718)]),e.usedBytes+=a[i(496)]-a[i(718)],this[i(1606)].logBufferLevel(),s[i(718)]+=a[i(496)]-a[i(718)],a[i(718)]=a[i(496)]}}return s.alreadyRead===s.size?s:null},A[n(626)][n(1616)]=function(t){var e=n,s=this.items[t];if(s[e(1344)]){this[e(590)]-=s[e(531)],s[e(1344)]=null,s[e(718)]=0;for(var i=0;i<s[e(587)][e(496)];i++){s[e(587)][i][e(718)]=0}return s[e(531)]}return 0},A[n(626)][n(897)]=function(t){var e=n;for(var s in this[e(959)]){var i=this[e(959)][s];this[e(1020)](i.id),t&&!i[e(584)]&&(t(i),i.sent=!0,i[e(1344)]=null)}},A.prototype[n(1194)]=function(t){var e=n;for(var s in this.items){var i=this[e(959)][s];if(i.name===t)return i.id}return-1},A.prototype[n(572)]=function(){var t=n;return this[t(849)]?this.meta[t(534)][t(1178)]:null},A[n(626)][n(788)]=function(){var t=n;return this.meta&&this[t(849)][t(914)]?this[t(1020)](this.meta[t(914)].item_id):null},A.prototype[n(851)]=function(t){var e=n,s=t||{},i=null;if(null==(i=s[e(985)]?this.getItem(s[e(985)]):this[e(788)]()))return null;var r=new A;r[e(1170)]=!1;var o={type:i[e(1143)],description_boxes:i[e(1253)].boxes};i.properties[e(746)]&&(o[e(1002)]=i[e(1253)].ispe.image_width,o[e(1403)]=i.properties[e(746)][e(951)]);var a=r[e(1077)](o);return a?(r[e(1054)](a,i[e(1344)]),r):null},A[n(626)][n(1090)]=function(t){for(var e=n,s=0;s<this[e(1034)].length;s++)this[e(1034)][s][e(1090)](t)},A[n(626)][n(1057)]=function(t,e,s){var i=n,r=this[i(998)](t),a=this.getSample(r,e);if(null==a)return this[i(1043)](r.samples[e]),null;var l=s||new h;l[i(1695)]=h.BIG_ENDIAN;var c=this.createSingleSampleMoof(a);c[i(1090)](l),c[i(565)][0][i(1188)][0][i(888)]=c[i(531)]+8,o[i(1166)]("MP4Box",i(1658)+c[i(565)][0].truns[0][i(888)]),l[i(1370)](c[i(565)][0][i(1188)][0].data_offset_position,c[i(565)][0][i(1188)][0].data_offset);var d=new(u[i(1184)]);return d[i(1344)]=a[i(1344)],d[i(1090)](l),l},A[n(1138)]=function(t,e,s,i){var r,a=n;o[a(1166)](a(1276),a(1367));var l=new h;l[a(1695)]=h[a(499)],t.write(l);var c=e[a(692)](a(1411));for(s&&c[a(692)](a(1561))[a(562)](a(1062),s),r=0;r<e.traks.length;r++)c[a(692)](a(1203))[a(562)]("track_id",e[a(1438)][r].tkhd[a(1103)])[a(562)](a(1524),1)[a(562)](a(1334),i)[a(562)](a(1228),0)[a(562)](a(811),65536);return e[a(1090)](l),l[a(674)]},A[n(626)][n(1221)]=function(t){var e=n,s=new h;s[e(1695)]=h[e(499)],this[e(1090)](s),s[e(1221)](t)},A.prototype[n(1131)]=function(){var t=n,e=new h;return e[t(1695)]=h.BIG_ENDIAN,this[t(1090)](e),e.buffer},A[n(626)].initializeSegmentation=function(){var t,e,s,i,r=n;for(this.onSegment,!this.isFragmentationInitialized&&(this.isFragmentationInitialized=!0,this[r(598)]=0,this[r(1435)]()),e=[],t=0;t<this.fragmentedTracks[r(496)];t++){var o=new(u[r(1167)]);o[r(1513)]=this[r(1666)].mvhd,o[r(1034)][r(1520)](o[r(1513)]),s=this[r(998)](this[r(1148)][t].id),o[r(1034)][r(1520)](s),o[r(1438)][r(1520)](s),(i={}).id=s[r(1301)].track_id,i.user=this[r(1148)][t].user,i.buffer=A[r(1138)](this[r(1125)],o,this.moov.mvex&&this[r(1666)][r(1411)][r(1561)]?this[r(1666)].mvex[r(1561)][r(1062)]:void 0,this.moov[r(1438)][t][r(1414)][r(496)]>0?this.moov[r(1438)][t][r(1414)][0][r(1391)]:0),e.push(i)}return e},A.prototype[n(1602)]=function(){var t=n,e={};return e.moov=this.moov,this.moov&&this[t(1666)][t(1438)]&&this[t(1666)][t(1438)][t(496)]>1&&(e[t(1249)]=this[t(1666)][t(1438)][0][t(1414)].length,e[t(1448)]=this.moov[t(1438)][1].samples[t(496)]),e},u[n(1127)][n(626)][n(823)]=function(t){var e=n;this.size+=8,this[e(531)]>l&&(this[e(531)]+=8),this.type===e(601)&&(this[e(531)]+=16),t[e(830)](t.indent+e(894)+this[e(531)]),t[e(830)](t.indent+"type:"+this[e(1143)])},u[n(1549)][n(626)][n(823)]=function(t){var e=n;this[e(531)]+=4,u.Box[e(626)].printHeader[e(1689)](this,t),t.log(t.indent+"version:"+this[e(778)]),t[e(830)](t[e(1134)]+"flags:"+this[e(964)])},u[n(1127)].prototype.print=function(t){this[n(823)](t)},u[n(498)].prototype[n(1570)]=function(t){var e=n;this[e(823)](t);for(var s=0;s<this[e(1034)].length;s++)if(this[e(1034)][s]){var i=t[e(1134)];t[e(1134)]+=" ",this[e(1034)][s].print(t),t[e(1134)]=i}},A.prototype[n(1570)]=function(t){var e=n;t[e(1134)]="";for(var s=0;s<this[e(1034)][e(496)];s++)this.boxes[s]&&this[e(1034)][s][e(1570)](t)},u.mvhdBox.prototype.print=function(t){var e=n;u[e(1549)][e(626)][e(823)][e(1689)](this,t),t[e(830)](t[e(1134)]+e(905)+this[e(937)]),t.log(t[e(1134)]+"modification_time: "+this.modification_time),t[e(830)](t.indent+"timescale: "+this[e(824)]),t[e(830)](t[e(1134)]+e(943)+this[e(1391)]),t.log(t[e(1134)]+"rate: "+this.rate),t.log(t[e(1134)]+e(1574)+(this[e(670)]>>8)),t[e(830)](t[e(1134)]+e(899)+this[e(1439)][e(924)](", ")),t.log(t[e(1134)]+e(770)+this[e(946)])},u.tkhdBox[n(626)][n(1570)]=function(t){var e=n;u[e(1549)][e(626)].printHeader[e(1689)](this,t),t[e(830)](t[e(1134)]+e(905)+this.creation_time),t[e(830)](t.indent+e(810)+this[e(920)]),t[e(830)](t.indent+e(982)+this.track_id),t[e(830)](t[e(1134)]+e(943)+this.duration),t[e(830)](t[e(1134)]+e(1574)+(this.volume>>8)),t[e(830)](t[e(1134)]+e(899)+this.matrix[e(924)](", ")),t[e(830)](t[e(1134)]+e(1369)+this[e(791)]),t.log(t.indent+"alternate_group: "+this[e(1564)]),t[e(830)](t[e(1134)]+e(1482)+this[e(1002)]),t[e(830)](t.indent+e(1660)+this[e(1403)])};var v={};v[n(687)]=function(t,e){var s=void 0===t||t,i=new A(e);return i.discardMdatData=!s,i},n(844)!==n(793)&&(e.createFile=v[n(687)])}));function um(){var t=["boxEqualFields","depends_on","box","tfhd","stsh","data_offset_position","sidx","stsd","tile_align_size","vertOffD","maximum_bitrate","samplerate","data_reference_index","sample_number","_realloc","getTrackDuration","MultiBufferStream","eqiv","default_sample_duration","cslgBox","number_in_traf","field_size","13mvvIZw","message_data",'"; profiles="',"chunk_offsets","getUint16","_byteOffset","data","BoxParser","vvs1","mapUint16Array","6d1d9b0542d544e680e2141daff757b2","principal_point_y","stereo_scheme","TKHD_FLAG_ENABLED","irot","forEach","tsas","fobr","discard_priority","setFloat64","assignment_type","readInt64","itemListBuilt","content_encoding","kind","sample_numbers","full_range_flag","block_reversed","warn","Generating initialization segment","extractedTracks","layer: ","adjustUint32","OCR_ES_ID","aux_info_type_parameter","uncC","isProgressive","avc2","padbits","moofs","DataStream.save: Can't create object URL.","vvcC","Needs an array buffer","checkBuffer","extent_offset","scnm","cmpd","upStream","sampleEntryCodes","dfLa","sdtp","max_picture_width"," of size ","duration","saveParsePosition","SampleEntry","pos_x","lastBoxStartPosition","toString","u16stringle","computeSize","iloc","8YfgKwr","int32le","sample_duration","height","depth","FULL_BOXES","PADDING","floor","createEncryptedSampleEntryCtor","dinf","setUint16","mvex","user","mergeNextBuffer","samples","tpyl","ranges","component_align_size","num_tile_cols_minus_one","tmin","setAttribute","sample_counts","horizresolution","data_format","cts","CoupledCount","enof","avgBitrate","num_entities_in_group","flattenItemInfo","descriptionformat","seq_tier_0","colourPrimaries","scheme_id_uri","subtitles","resetTables","unsetSegmentOptions","fieldCount","traks","matrix","dependency","sinf","sublayer_level_idc","parseFromString","block_size","avll","max_display_mastering_luminance","num_bad_pixels","moovVideoNum","chunk_index","initialize","getFloat64","trpy","lastValidSample","metadata","d4807ef2ca3946958e5426cb9e46a79f","starts_with_SAP","skip_byte_block","aux_subtype","focal_length_x","auxiliary_mime_types","writeUint16","mdhd","tpay","fragment_description","elngBox","&quot;","mdat","mhm1","initial_presentation_delay_present","rate"," full extent size: ","Adjusting box ","int32","writeInt16","ipco","1904-01-01T00:00:00Z","minf","saio","Found position in existing buffer #","priority","absolute_duration","width: ","seekTrack","audio","reserved_2","entries"," data (alreadyRead: ","prgr","sidxBox","samplesize","stco","info","chunk_run_index","mapUint32Array","item_ID","ptl_frame_only_constraint","getText","initial_delay","readAnyInt","Position ","associations","meco","j2kH","getDescriptorName","writeInt16Array","stereo_indication_type","primary","bad_pixel_column","TFHD_FLAG_DUR_EMPTY","sampling_type","sgpdBox","cprt","mvhd","stsg"," of size: ","hinf","url ","click","stss","push","hvt1","sample_groups","getInt8","default_sample_description_index","bytes","SAMPLE_ENTRY_TYPE_VISUAL","documentString","float32","UUIDs","writeInt32Array","frame_count","angle","ChannelMappingFamily","writeStruct","avc1","stvi","TKHD_FLAG_IN_PREVIEW","bad_pixels","pad_unknown","vmhd","chan_loc","createMediaSampleEntryCtor","avgBitRate","channel_types",".CA","isMetadata","notice","writeInt32","FullBox","readUint8","movie_timescale","group_id","APPLICATION","chroma_format_idc","updateUsedBytes","mapInt8Array","parseLanguage","length_size_of_traf_num","profile","compatible_brands","mehd","pow","general_profile_idc","alternate_group","stream_read_2_bytes","interleave_type","graphicsmode","isSubtitle","protection_index","print","flipArrayEndianness","readInt8Array","initial_duration","volume: ","isHint","used","mdia","bufferSizeDB","samples_duration","parsingMdat","track_width","tfdtBox","default_AlgorithmID","protection","pos_y","colorSpace","item_count","tref","sbgp","buildSampleLists","component_types","moof","writeFooter","SAMPLE_ENTRY_TYPE_SUBTITLE","segment_duration","avc1SampleEntry","fileStart","ac-3","Visual","setInt16","tmax","getPerformanceInfo","SAMPLE_ENTRY_TYPE_AUDIO","description_index","vp09SampleEntry","stream","compositionEndTime","held_bits"," offset: "," bytes), continuous ranges: ","onItem","getCodec","onMoovStart","LiveServerManifest","addBox","releaseItem","vvcN","setSampleGroupProperties","getSampleRate","elng","ABCDEFGHIJKLMNOPQRSTUVWXYZ234567","leva","whitePointChromaticity_x","clli","npck","memcpy","numTemporalLayers","co64","bytessent","Cannot seek: moov not received!"," extent #","enct","sample_depends_on","vvc1SampleEntry","sample_description_index","track_ids","ptl_sublayer_present_mask","Sending samples on track #","arrayToNative","9257160laVpev","avgFrameRate","12DtNliB","minimum_bitrate","base_data_offset","referenced_size"," full item size: ","default_constant_IV_size","compositionToDTSShift","cmex","TFHD_FLAG_SAMPLE_FLAGS","traf_number","ntp_timestamp","writeHeader","onError","extent_length","to_item_ID","stshBox","Adjusting data_offset with new value ","track_height","height: ","cleanApertureWidthN","' and size ","vp09","vmhdBox","audioTracks","moov","correction_applied","getOTI","getUint8","bad_rows","num_leading_samples_known","ref_track_id","languageString","mapUint8Array","base_offset_size","major_brand","nb_PPS_nalus","subSeqDirectionFlag","bit_depth_luma_minus8","TFHD_FLAG_SAMPLE_SIZE","TRUN_FLAGS_FIRST_FLAG","trunBox","urn Box","maxBitrate","mett","tyco","all_ref_pics_intra","prdi","call","XMLSubtitlein4Parser","bufferIndex","minor_version","iref","schema_location","endianness","first_output_sample","version of iloc box not supported","namespace","_byteLength","isEof","TrackGroupTypeBox","bitDepth","end","cdef","pmax","description","&gt;","ChannelMapping","item_infos","TRUN_FLAGS_DURATION","entity_ids","dataview","movie_duration","dobr","vttC","readUint","default_length","tele","levels","hdr_size","bit_rate_code","readFloat32","length","getHeight","ContainerBox","BIG_ENDIAN","createSampleGroupCtor","code","CONTAINER_BOXES","getSampleSize","parseConfig","target","created","grouping_type","media_time","nb_samples","BYTES_PER_ELEMENT","hevcDecoderConfigRecord","presentation_time_delta","6966BtpIlI","encs","onSegment","ssix","insertBuffer","sgpd","offset_size","a1lx","createEntityToGroupCtor","sizePosition","setSegmentOptions","mdats","writeString","aebr","msrc","d08a4f1810f34a82b6c832d8aba183d3","_self","mjpg","size","min","max","hdlr","is_fragment","primaryBChromaticity_y","tfra","getTrackSample","dvh1","group_description_index","step_count","restoreParsePosition","dynamicSize","box_record","byteLength","co64Box","references","Metadata","enca","isFragmented","trefBox","transferCharacteristics","num_leading_samples","construction_method","reference_ID","indexOf","udes","component_format","iaug","axis","codecIntializationData","set","ipro","sample_flags","trafs","620751Sbvmva","a2394f525a9b4f14a2446c427c648df4","sample_size","readInt16Array","moof_number","avss","getMetaHandler","getCodecs","bsmod","mjp2","primaryRChromaticity_y","createBoxCtor","vvi1","parallelismType","rinf","a5d40b30e81411ddba2f0800200c9a66","wbbr","InputSampleRate","sent","esd","source","extents","stcoBox","senc","itemsDataSize","parseOneBox","buffers","maxFALL","readUint16Array","Error reading base offset size","isAudio","Creating media fragment on track #","nextMoofNumber","tag","compositionStartTime","uuid","completeness","ptl_frame_only_constraint_flag","default_group_description_index","dmax","hev1","maxCLL","monochrome","chroma_subsampling_y","processIncompleteBox","name","sidxSent","Exporting on track #","stri","mapInt32Array","uint8","op_index","schm","SAMPLE_ENTRY_TYPE_SYSTEM","sthd","max_pic_average_light_level","luminanceMax","twelve_bit","num_held_bits","DIFF_PRIMITIVE_ARRAY_PROP_NAMES","prototype","quat_x","configOBUs","stsdBox","SAMPLE_ENTRY_TYPE_HINT","SAMPLE_ENTRY_TYPE_TEXT","(empty)","location","bsid","isEos","seek","stpp","removeUsedSamples","quat_y","Error reading extent index","ptl_present_flag","primaryGChromaticity_y","has_redundancy","constant_IV_size","splice","presentation_time","mapFloat32Array","getTrexById","pasp","isVideo","avcC","white_point","createSampleEntryCtor","5176615kLrxwi","constant_frame_rate","15216399GKyRXM","Descriptor ","mvif","item_protection_index","Descriptor","ctts","parseRemainingDescriptors","packetssent","otherTracks","ec-3","styp","sync","AVCProfileIndication","default_constant_IV","volume","sample_info_size","saiz","rtp ","buffer","logBufferLevel","moovStartFound","buildTrakSampleLists","nump","stop","writeUint8","reference_type","component_little_endian","smhd","DecoderSpecificInfo","AudioSampleEntry","SPS","createFile","TRUN_FLAGS_FLAGS","layer_size","Removing buffer #","dependsOn_ES_ID","add","cslg","cleanApertureHeightN","lhe1","item_type","stsz","TFHD_FLAG_SAMPLE_DUR","mime","dec3","addSubBoxArrays","SampleGroupEntry","first_chunk","BoxWriter","boxEqual"," full size: ","opcolor","smhdBox","und","auxC","getWidth"," --\x3e ","System","is_leading","vSpacing","general_profile_compatibility","float32le","alreadyRead","start","getFloat32","_trimAlloc"," f=","resources","_buffer","segmentStream","479584uUzunn","schemeURI","mfhdBox","alst","bit_depth_minus8","PPS","fiel","skew_factor","samples_size","data_rate","channel_count","writeFloat64Array"," partial data (alreadyRead: ","Hint","earliest_presentation_time","seekPoints","subtitleTracks","initialized","equal","content_type","ispe","stts","subsegments","readUint32Array","aux_info_type","pixi","seq_profile","entity_groups","setUint32","STREAMINFO","ext","getInfo","writeFloat64"," stored buffer(s) (","onSidx","chromaSubsampling","colour_primaries","configurationVersion","stscBox","parseHeader","acmod","BASIC_BOXES","kinds","getPosition","next_track_id: ","_dataView","sample_composition_time_offset","vpcC","first_traf_merged","_sweep","videoTracks","Found box of type '","version","offset","ipma","has_fragment_subsamples","padb","TrackReferenceTypeBox","ipmas","default_skip_byte_block","_dynamicSize","imir","getPrimaryItem","subs","system_id","layer","esds","undefined","getAudioConfig","whitePointChromaticity_y","traf","leastDecodeToDisplayDelta","unpack","value","parse",", column: ","seekLists","seig","getInt32","parseDataAndRewind","xml ","addUsedBytes","ERR_NOT_ENOUGH_DATA","nmhd","modification_time: ","default_sample_flags","[row: ","padding_flag","transferFunction","Textin4Parser","concat","sample_offsets","entry_count","Track created with MP4Box.js","Buffer must be defined and non empty","extent_index","default_isProtected","printHeader","timescale","sample_count","elst","isFragmentationInitialized","ref_to","revokeObjectURL","log","vvc1","component_bit_depth_minus_one","Subtitle","avcCBox","writeInt8","edts","initial_presentation_delay_minus_one","moovStartSent","SingleItemTypeReferenceBoxLarge","channel_associations","number","grouping_type_parameter","hmhd","object","lengthSizeMinusOne","addEntry","first_sample_flags","pano","meta","URL","itemToFragmentedTrackFile","bad_columns","TFHD_FLAG_DEFAULT_BASE_IS_MOOF","defineProperty","failurePosition","SingleItemTypeReferenceBox","getLength","subsegment_duration","writeCString","Error accessing position in the MultiBufferStream","hasIncompleteMdat","sgpds","stsa","createObjectURL","num_bad_rows","mehdBox","mapInt16Array","payl","readString","item_name","setInt32","transfer_characteristics","default_KID","aux_type","readCString","replace","default_Per_Sample_IV_Size","writeFloat32Array","createFullBoxCtor","av1C","hvc1SampleEntry","style_record","vttc","payloadID","last_sample_in_run","error"," with new size ","data_offset","trak","getEndFilePositionAfter","readUint24","num_output_samples","mvhdBox","size:","kindBox","processSamples","processItems","codec_specific_parameters","matrix: ","max_ref_per_pic","avc4SampleEntry","getBoxes","writeUint32","getUint32","creation_time: ","cmin","num_total_samples","general_constraint_indicator","parseFooter","findPosition","ptl_multilayer_enabled","Getting item #","has_unparsed_data","pitm","extended_language","trexBox","dts","rapAlignement","bits_per_pixel","modification_time","DecoderConfigDescriptor","constant_IV","track_ID","join","reserved_1","nextSample","ICC_profile","nbSamples","bits_per_channels","ols_idx","DIFF_BOXES_PROP_NAMES"," for sample ","getStreamBufferSize","horizOffN","chroma_sample_position","lfeon","creation_time","trexs","slice","base_offset","length_size_of_trun_num","metx","duration: ","onReady","mfro","next_track_id","float64be","ES_ID","strk","channel_indexes","image_height","moofBox","descs","processIncompleteMdat","moof_offset","hasMoov","bg_color_rgba","bxml","items","sbgps","function","mdcv","video","flags","Found Sample Groups of type ","sdptext","baseMediaDecodeTime","nalu_type","readUint16","position","ptl_num_sub_profiles","trgr","dav1","balance","parseUUID","iinf","default_IV_size","reserved","cleanApertureWidthD","TFHD_FLAG_SAMPLE_DESC","onSamples","track_id: ","props","streamType","itemId","prft","ES_Descriptor","url Box","single_view_allowed","trun_number","rash","a1op","sbpm","media_duration","createTrackGroupCtor","row_align_size","getChannelCount","getTrackById","Trying to create a new buffer of size: ","createUUIDBox","fromCharCode","width","profile_compatibility","udta","rap ","accurateStatisticsFlag","sample_has_redundancy","infe","description_length","subSequenceIdentifier","extension_type","uri ","mapFloat64Array","usedBytes","component_type_urls","shadowed_sample_numbers","avgRateFlag","getSample","sttsBox","getItem","_size","iprp","writeType","initSampleGroups","layerNumber","lastMoofIndex","attribute_list","entry_index","brands","apply","sync_sample_numbers","index_size","lsel","boxes","uint16le","extract_bits","parseFullHeader","luminanceMin","oti","vertresolution","init","nalu","setNextSeekPositionFromSample","switch_group","float64","samples_per_chunk","primaryBChromaticity_x","readInt8","Buffer must have a fileStart property"," not found in buffered data","mdhdBox","subsamples","LITTLE_ENDIAN","addSample","from_item_ID","cleanBuffers","createFragment","8974dbce7be74c5184f97148f9882554","readFloat32Array","dtrt","parseHex16","fragment_duration","nativeToEndian","num_bytes_constraint_info","stsc","Appending new buffer (fileStart: ","strd","hSpacing","TKHD_FLAG_IN_MOVIE","min_display_mastering_luminance","split","cttsBox","sampleListBuilt","general_profile_space","process_sdtp","colour_type","addTrack","trun","pssh","is_depended_on","fragment_count","boxCodes","stream_read_1_bytes","setFloat32","Audio","prol","pdin","encv","default_sample_info_size","write","writeUCS2String","altr","Not enough bytes left in the parent box to parse a UUID box","tscl","readUint32","MPEG4DescriptorParser","schi","createContainerBoxCtor","charCodeAt","max_content_light_level","bit_depth_chroma_minus8","dOps","track_id","readUint8Array","SAMPLE_ENTRY_TYPE_METADATA","OutputGain","description_boxes","metadataTracks","sample_groups_info","readInt16","vide","releaseSample","ccst","nextParsePosition","readFloat64Array","hvcCBox","Found 'mdat' end in buffered data"," (total: ","ster","tracks","writeUint24","Text","getDurationString","ASCII","ftyp","iso4","Box","avcDecoderConfigRecord","primaryRChromaticity_x","decimalToHex","getBuffer","kid","emsg","indent","default_crypt_byte_block","UUIDBoxes","mfhd","writeInitializationSegment","albc","msg","tfdt","property_index","type","nextSeekPosition","writeUint16Array","text","txtC","fragmentedTracks","colr","fromCharCodeUint8","TFHD_FLAG_BASE_DATA_OFFSET","nalu_arrays","codec","Allocating item #","int32be","stbl","byteOffset","dref","createSingleSampleMoof","float64le","component_count","reduceBuffer","hvcC","AVCLevelIndication","parseSample","debug","moovBox","readInt32Array","Not enough data in stream to parse the type and size of the box","discardMdatData","bad_pixel_row","hdlrBox","TRUN_FLAGS_CTS_OFFSET","ind_subs","time","getEndPosition","samplesDataSize","handler","shift","hnti","item_id","discardable","operation_point_count","mdatBox","sequence_number","codecIntializationDataSize","TRUN_FLAGS_DATA_OFFSET","truns","Repositioning parser at buffer position: ","StreamCount","writeFloat32","SLConfigDescriptor","language","hasItem","tfhdBox","hintTracks","sample_deltas","findDescriptor","u16stringbe","OutputChannelCount"," at position ","sample_is_depended_on","trex","high_bitdepth","level","target_rate_share","mskC","is_sync","sample_sizes","createElement","document","videoFullRangeFlag","avc2SampleEntry","ftypBox","config","drefBox","length_size_of_sample_num","grpl","VisualSampleEntry","general_constraint_info","save","emsgBox","rICC","SubtitleSampleEntry","fscod","clef","string","default_sample_size"," read size: ","TRUN_FLAGS_SIZE","RESERVED","destroy","Version","compressorname","ArrayBuffer","parseOneDescriptor","getInt16","Not enough bytes left in the parent box to parse a new box","SAP_type","Opus"," - Length: ","layer_id","sample_delta","crypt_byte_block","event_duration","setUint8",'video/mp4; codecs="',"vvi1SampleEntry","moovAudioNum","seq_level_idx_0","free","uint32","properties","degradation_priority","sampleProcessingStarted","subBoxNames","durationFlag","media_rate_integer","matrix_coefficients","avs3","media_rate_fraction","matrixCoefficients","quat_z","prof","absolute_time","max_picture_height","appendChild","stssBox","item_uri_type","writeUint64","mime_format","SAP_delta_time","mere","readySent","6EtqNMD","ISOFile","sub_track_id","decode","Per_Sample_IV_Size","getTrackSamplesInfo","Log","tsyn","readInt32","dvhe","Allocating sample #","getBox","general_level_idc","num_sublayers","No method for reading signed 64 bits values","readUint64","general_tier_flag","edits","first_dts","roll_distance","general_sub_profile_idc","isProtected","uint16be","4884984kyCIQE","avc3SampleEntry","avc4","tkhd","num_ind_sub","Getting sample #","NAL_unit_type","updateSampleLists","cstring","dataView","writeUint8Array","writeUint32Array","findEndContiguousBuf","num_dep_sub","fr-FR","afbr","u16string","display_primaries"];return(um=function(){return t})()}function pm(t,e){var s=um();return(pm=function(t,e){return s[t-=475]})(t,e)}dm[cm(1281)],dm.MP4BoxStream,dm.DataStream,dm[cm(1332)],dm[cm(1096)],dm[cm(1345)],dm.XMLSubtitlein4Parser,dm[cm(815)],dm.ISOFile,dm[cm(687)];const fm=mm;function mm(t,e){const s=gm();return(mm=function(t,e){return s[t-=212]})(t,e)}function gm(){const t=["3688264TlqKxc","length","Memory","reduce","26488XSYiYv","player","byteLength","every","init error","init","slice","transport","wasm not supported","5sIVOCp","map","276691qtTplV","exports","object","1128bPXDkA","16VRMXWL","33Qgroqb","parse","set","message","instance","function","not support wasm","2034084OSzaSE","TAG_NAME","2kphAHp","755380FsTFoo","1298097XsDNoY","debugLog","instantiate","Module","destroy","debugWarn","Instance","memory","then","3813093pdhMfA"];return(gm=function(){return t})()}function ym(t){return t[mm(247)](((t,e)=>256*t+e))}function Am(t){const e=mm,s=[101,103,119,99],i=t[e(245)]-28,r=t[e(213)](i,i+s[e(245)]);return s[e(251)](((t,e)=>t===r[e]))}!function(t,e){const s=mm,i=t();for(;;)try{if(572989===parseInt(s(218))/1+-parseInt(s(232))/2*(parseInt(s(234))/3)+-parseInt(s(244))/4*(-parseInt(s(216))/5)+-parseInt(s(221))/6*(-parseInt(s(248))/7)+-parseInt(s(222))/8*(parseInt(s(243))/9)+parseInt(s(233))/10*(-parseInt(s(223))/11)+parseInt(s(230))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gm);fm(238),fm(214);function vm(){const t=["forEach","425784wGhXNs","length","4929750WzgiIw","234wvziQf","3452600osbsdN","call","5286070DaOhmO","24iQXRns","154gcBZMo","set","slice","MULAW","214941IroTsv","ALAW","3421ftGYiq","prototype","178264xvkDWo"];return(vm=function(){return t})()}function bm(t,e){const s=vm();return(bm=function(t,e){return s[t-=329]})(t,e)}function Sm(t){const e=bm,s=new Uint8Array(t.length+1);return s[e(344)]([114],0),s.set(t,1),s}function Em(t){const e=bm,s=new Uint8Array(t[e(336)]+1);return s[e(344)]([130],0),s[e(344)](t,1),s}function wm(){var t=["12dACOgC","6118090YEDfmD","exports","5667XpZhlb","9522Fuglqq","465340IXgCTC","1304Vexpwm","defineProperty","__esModule","14297173rGEiIR","1268lrJDyG","5330206aSVUAp","unwrapExports","1iejWmf","1090118CdkVWJ","default","6YUbVyn"];return(wm=function(){return t})()}!function(t,e){const s=bm,i=t();for(;;)try{if(539738===-parseInt(s(331))/1*(-parseInt(s(338))/2)+-parseInt(s(329))/3*(-parseInt(s(342))/4)+-parseInt(s(339))/5+-parseInt(s(335))/6+-parseInt(s(343))/7*(-parseInt(s(333))/8)+-parseInt(s(337))/9+parseInt(s(341))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vm);var Tm=Im;function Im(t,e){var s=wm();return(Im=function(t,e){return s[t-=461]})(t,e)}!function(t,e){for(var s=Im,i=t();;)try{if(392800===-parseInt(s(475))/1*(parseInt(s(476))/2)+-parseInt(s(465))/3*(-parseInt(s(472))/4)+parseInt(s(467))/5+-parseInt(s(461))/6*(-parseInt(s(473))/7)+parseInt(s(468))/8*(parseInt(s(466))/9)+parseInt(s(463))/10+-parseInt(s(471))/11*(parseInt(s(462))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(wm);var km=re((function(t){var e=Im;t[e(464)]=function(t,e,s){return e in t?Object[Im(469)](t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t},t[e(464)][e(470)]=!0,t[e(464)][e(477)]=t[e(464)]})),_m=ne[Tm(474)](km);function Cm(){const t=["mp3","240185BDaBtt","3936264qwaxfb","14015052UIHJvA","error","channel_count","482178OGdcIt","set","2252496PIxkMy","length","6FuRjgt","11kLdaSP","818540phbkIG","buffer","28fYjSqc","21oKRsBR","44332770pdilhR","object_type"];return(Cm=function(){return t})()}function Dm(t,e){const s=Cm();return(Dm=function(t,e){return s[t-=219]})(t,e)}!function(t,e){const s=Dm,i=t();for(;;)try{if(871403===-parseInt(s(232))/1+parseInt(s(219))/2*(parseInt(s(223))/3)+-parseInt(s(227))/4*(parseInt(s(225))/5)+parseInt(s(221))/6+-parseInt(s(228))/7*(parseInt(s(233))/8)+-parseInt(s(234))/9+parseInt(s(229))/10*(parseInt(s(224))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cm);const Rm=[44100,48e3,32e3,0],Lm=[22050,24e3,16e3,0],Pm=[11025,12e3,8e3,0],xm=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],Mm=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],Bm=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1];function Fm(t){const e=Dm;if(t[e(222)]<4)return void console[e(235)]("Invalid MP3 packet, header missing!");let s=new Uint8Array(t[e(226)]),i=null;if(255!==s[0])return void console[e(235)]("Invalid MP3 packet, first byte != 0xFF ");let r=s[1]>>>3&3,n=(6&s[1])>>1,o=(240&s[2])>>>4,a=(12&s[2])>>>2,h=3!==(s[3]>>>6&3)?2:1,l=0,c=0,d=e(231);switch(r){case 0:l=Pm[a];break;case 2:l=Lm[a];break;case 3:l=Rm[a]}switch(n){case 1:o<Bm[e(222)]&&(c=Bm[o]);break;case 2:o<Mm[e(222)]&&(c=Mm[o]);break;case 3:o<xm.length&&(c=xm[o])}return i={bitRate:c,sampleRate:l,channelCount:h,codec:d,originalCodec:d,audioType:e(231)},i}function Um(t){const e=Dm,s=new Uint8Array(t[e(222)]+1);return s.set([32],0),s[e(220)](t,1),s}function Om(t,e){const s=jm();return(Om=function(t,e){return s[t-=151]})(t,e)}const Nm=Om;function jm(){const t=["start","_opt","206SkXGiI","764024xHaQZR","revokeObjectURL","BIG_ENDIAN","_doDecodeByFmp4","78VAQHhV","TAG_NAME","reset","write","394990KYmaMi","createFile","onSamples() trackId error","set","ALAW","includes","updateStats","tempFmp4List","alaw","1038Vpphav","byteLength","duration","4598808qAxAaI","hasAudio","calcIframeIntervalTimestamp","avcC","find","createElement","DataStream","data","getSeqHeader","onReady","Fmp4Demux","destroy","flush","debugError","mp4Box","name","tracks","onSamples","isMP3","click","video","sample_rate","_listenMp4Box","cts","dispatch","config","videoTrackId","mp4a","createObjectURL","AAC","offset","downloadFmp4File","MP3","isG711A","entries","33476047xyOTVU","codec","debugLog","203855MMvqVb","replace","indexOf","isHevc","bind","stsd","4784xsYZTT","cryptoPayload","timescale","videoTracks","hvcC","getStreamBufferSize","fileStart","stop","setExtractionOptions","333MywUTY","removeUsedSamples","onError","isAAC","debugWarn","buffer","audioTracks","href","audio","7798JzIBYw","ulaw","isG711U","length","audioTrackId","isG711","download","player","mp4Box onError","onReady and audioTrack is","seqHeader","MULAW","aacADTSHeader","audioTrackType"];return(jm=function(){return t})()}!function(t,e){const s=Om,i=t();for(;;)try{if(735659===-parseInt(s(203))/1+parseInt(s(202))/2*(-parseInt(s(220))/3)+parseInt(s(223))/4+-parseInt(s(162))/5*(parseInt(s(207))/6)+-parseInt(s(186))/7*(parseInt(s(168))/8)+-parseInt(s(177))/9*(parseInt(s(211))/10)+parseInt(s(159))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jm);class Vm extends Cf{constructor(t){const e=Om;super(t),this[e(208)]=e(233),this[e(193)]=t,this.mp4Box=dm[e(212)](),this.reset(),this._listenMp4Box(),t[e(161)](this[e(208)],"init")}destroy(){const t=Om;this.mp4Box&&(this.mp4Box[t(175)](),this[t(237)][t(235)](),this[t(237)][t(234)](),this[t(237)][t(232)]=null,this[t(237)][t(179)]=null,this[t(237)][t(240)]=null,this[t(237)]=null),this[t(209)](),this.audioTrackType=null,this.player[t(161)](this[t(208)],"destroy")}[Nm(209)](){const t=Nm;this[t(218)]=[],this.offset=0,this.videoTrackId=null,this[t(190)]=null,this[t(165)]=!1,this[t(199)]=null}[Nm(245)](){const t=Nm;this[t(237)][t(232)]=this.onReady[t(166)](this),this[t(237)][t(179)]=this[t(179)][t(166)](this),this[t(237)][t(240)]=this.onSamples.bind(this)}[Nm(232)](t){const e=Nm;this[e(193)][e(161)](this[e(208)],e(232));const s=t[e(171)][0];let i=t[e(183)][0];if(s){this.videoTrackId=s.id;const t=this[e(231)](s);t&&(this[e(193)][e(161)](this[e(208)],e(196)),this._doDecodeByFmp4(t,x.video,0,!0,0)),this[e(237)][e(176)](s.id)}if(!i&&(i=(t[e(239)]||[])[e(227)]((t=>"SoundHandler"===t[e(238)]))),i&&this.player[e(201)][e(224)]){this[e(190)]=i.id;const t=i[e(185)]||{},s=i[e(160)]||"";let r="";if(s.includes("mp3")?r=Y[e(156)]:s[e(216)](e(151))?r=Y[e(153)]:s[e(216)](e(187))?r=Y[e(197)]:r[e(216)](e(219))&&(r=Y[e(215)]),r&&i.id){if(this[e(199)]=r,this[e(193)][e(161)](this[e(208)],e(195),J[r]),this[e(237)][e(176)](i.id),this[e(180)]()){const s=ye[e(164)](t[e(244)]),r=i[e(160)][e(163)]("mp4a.40.",""),n={profile:parseInt(r,10),sampleRate:s,channel:t.channel_count},o=Ae(n);this[e(193)].debugLog(this.TAG_NAME,e(198),o,e(248),n),this._doDecodeByFmp4(o,x[e(185)],0,!1,0)}}else this[e(193)][e(181)](this.TAG_NAME,"invalid codec",s)}this.mp4Box[e(200)]()}[Nm(179)](t){const e=Nm;this[e(193)][e(236)](this[e(208)],e(194),t)}[Nm(240)](t,e,s){const i=Nm;if(t===this[i(249)]){for(const t of s){const e=t[i(230)],s=t.is_sync,r=1e3*t[i(246)]/t[i(170)];t[i(222)],t.timescale,this[i(193)][i(217)]({vbps:8*e[i(221)],dts:r}),s&&this[i(225)](r);let n=null;n=this[i(165)]?vl(e,s):qh(e,s);let o=this[i(169)](n,s);this[i(206)](o,x[i(243)],r,s,0)}this[i(237)].removeUsedSamples(t)}else if(t===this[i(190)]){if(this.player[i(201)][i(224)]){for(const t of s){const e=t[i(230)];this[i(193)][i(217)]({abps:e[i(221)]});const s=1e3*t[i(246)]/t.timescale;t[i(222)],t[i(170)];let r=null;this.isAAC()?r=ve(e):this.isG711A()?r=Sm(e):this.isG711U()?r=Em(e):this[i(241)]()&&(r=Um(e));const n=this.cryptoPayloadAudio(r);this[i(206)](n,x.audio,s,!1,0)}this[i(237)][i(178)](t)}}else this[i(193)][i(181)](this[i(208)],i(213),t)}[Nm(231)](t){const e=Nm,s=this.mp4Box.getTrackById(t.id);for(const t of s.mdia.minf.stbl[e(167)][e(158)])if(t[e(226)]||t[e(172)]){const s=new(dm[e(229)])(void 0,0,dm[e(229)][e(205)]);let i=[];t[e(226)]?(t[e(226)].write(s),i=[23,0,0,0,0]):(this[e(165)]=!0,t[e(172)][e(210)](s),i=[28,0,0,0,0]);const r=new Uint8Array(s.buffer,8),n=new Uint8Array(i[e(189)]+r[e(189)]);return n[e(214)](i,0),n[e(214)](r,i[e(189)]),n}return null}[Nm(247)](t){const e=Nm;let s=new Uint8Array(t);s.buffer[e(174)]=this[e(154)],this[e(154)]+=s[e(221)],this[e(237)].appendBuffer(s[e(182)])}[Nm(155)](){const t=Nm,e=new Blob(this[t(218)],{type:'video/mp4; codecs="avc1.640028,mp4a.40.2"'}),s=URL[t(152)](e),i=document[t(228)]("a");i[t(184)]=s,i[t(192)]=Je()+".fmp4",i[t(242)](),URL[t(204)](s)}getInputByteLength(){const t=Nm;let e=0;return this[t(237)]&&(e=this[t(237)][t(173)]()),e}[Nm(180)](){const t=Nm;return this[t(199)]===Y[t(153)]}[Nm(241)](){const t=Nm;return this[t(199)]===Y[t(156)]}[Nm(191)](){const t=Nm;return this[t(199)]===Y[t(197)]||this[t(199)]===Y[t(215)]}[Nm(157)](){const t=Nm;return this[t(199)]===Y[t(215)]}[Nm(188)](){const t=Nm;return this[t(199)]===Y[t(197)]}}function Wm(t,e){var s=zm();return(Wm=function(t,e){return s[t-=233]})(t,e)}!function(t,e){for(var s=Wm,i=t();;)try{if(132845===parseInt(s(236))/1*(-parseInt(s(240))/2)+parseInt(s(248))/3+-parseInt(s(238))/4*(-parseInt(s(243))/5)+parseInt(s(244))/6+parseInt(s(234))/7*(-parseInt(s(245))/8)+-parseInt(s(249))/9+parseInt(s(239))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zm);class Gm extends Cf{constructor(t){var e=Wm;super(t),this[e(237)]=t,this[e(246)]=e(241),this[e(237)].debugLog(this[e(247)],e(235))}destroy(){var t=Wm;super[t(242)](),this[t(237)][t(233)](this[t(247)],t(242))}}function zm(){var t=["Mpeg4Demux","destroy","276255UPfwYr","1280106YYbROf","323944YXyRBu","TAG_NAME","LOG_NAME","171675zrATWS","339894LhyfNv","debugLog","28DRFpFT","init","122CWEuLJ","player","4ZCmJTE","1003300LBhhfJ","1534gvJGhg"];return(zm=function(){return t})()}function Hm(t,e){var s=Km();return(Hm=function(t,e){return s[t-=476]})(t,e)}function Km(){var t=["594546hwXyKV","forEach","174OugAwo","45997iGaVtb","4690188BYtTty","reduce","1349436ajhotY","length","byteLength","filter","530730iOYaJp","set","24FgSkzB","525uFhUfo","2361000bXEFAa"];return(Km=function(){return t})()}function qm(){for(var t=Hm,e=arguments[t(489)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(476)](Boolean))[t(489)]<2)return s[0];const r=new Uint8Array(s[t(487)](((e,s)=>e+s[t(490)]),0));let n=0;return s[t(483)]((e=>{var s=t;r[s(478)](e,n),n+=e[s(490)]})),r}!function(t,e){for(var s=Hm,i=t();;)try{if(183997===parseInt(s(480))/1*(-parseInt(s(484))/2)+parseInt(s(482))/3+parseInt(s(488))/4+-parseInt(s(477))/5+-parseInt(s(479))/6*(-parseInt(s(485))/7)+parseInt(s(481))/8+-parseInt(s(486))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Km);const Ym=Jm;!function(t,e){const s=Jm,i=t();for(;;)try{if(666498===parseInt(s(326))/1+-parseInt(s(283))/2+-parseInt(s(319))/3*(parseInt(s(309))/4)+parseInt(s(312))/5+parseInt(s(289))/6+-parseInt(s(282))/7+-parseInt(s(314))/8*(parseInt(s(281))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ig);const Qm={kMPEG1Audio:3,kMPEG2Audio:4,kPrivateData:5,kPESPrivateData:6,kADTSAAC:15,kLOASAAC:17,kAC3:129,kEAC3:135,kMetadata:21,kSCTE35:134,kH264:27,kH265:36,G711A:144,G711U:145,G722:146,G723:147,G729:153,OPUS:156};function Jm(t,e){const s=ig();return(Jm=function(t,e){return s[t-=278]})(t,e)}class Xm{constructor(){const t=Jm;this.slices=[],this[t(316)]=0,this[t(332)]=0,this[t(290)]=0}}class $m{constructor(){const t=Jm;this[t(278)]=null,this[t(311)]=null,this[t(286)]=null,this[t(290)]=null}}class Zm{constructor(){const t=Jm;this[t(278)]=null,this[t(305)]=null,this[t(300)]=null,this.data=null,this.pts=null,this.nearest_pts=null,this[t(323)]=null}}const tg=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];class eg{constructor(){const t=Jm;this[t(330)]=null,this.duration=null,this[t(291)]=null,this[t(285)]=null,this[t(293)]=null,this.videoCodec=null,this[t(280)]=null,this[t(292)]=null,this[t(295)]=null,this.audioChannelCount=null,this[t(331)]=null,this.height=null,this.fps=null,this[t(302)]=null,this.level=null,this[t(327)]=null,this[t(299)]=null,this.sarNum=null,this[t(322)]=null,this[t(333)]=null,this[t(313)]=null,this.segmentCount=null,this[t(329)]=null,this[t(328)]=null}isComplete(){const t=Jm;let e=!1===this[t(291)]||!0===this.hasAudio&&null!=this[t(293)]&&null!=this[t(295)]&&null!=this.audioChannelCount,s=!1===this[t(285)]||!0===this.hasVideo&&null!=this.videoCodec&&null!=this[t(331)]&&null!=this[t(288)]&&null!=this[t(279)]&&null!=this[t(302)]&&null!=this[t(315)]&&null!=this[t(327)]&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this[t(322)];return null!=this[t(330)]&&e&&s}isSeekable(){return!0===this[Jm(329)]}getNearestKeyframe(t){const e=Jm;if(null==this.keyframesIndex)return null;let s=this[e(328)],i=this[e(320)](s.times,t);return{index:i,milliseconds:s.times[i],fileposition:s.filepositions[i]}}[Ym(320)](t,e){const s=Ym;let i=0,r=t[s(308)]-1,n=0,o=0,a=r;for(e<t[0]&&(i=0,o=a+1);o<=a;){if(n=o+Math[s(324)]((a-o)/2),n===r||e>=t[n]&&e<t[n+1]){i=n;break}t[n]<e?o=n+1:a=n-1}return i}}class sg{constructor(t){const e=Ym;let s=null,i=t[e(294)],r=t[e(294)],n=t[e(303)],o=t[e(296)],a=0,h=navigator[e(306)][e(304)]();-1!==h[e(284)](e(318))?n>=6?(r=5,s=new Array(4),a=n-3):(r=2,s=new Array(2),a=n):-1!==h.indexOf(e(297))?(r=2,s=new Array(2),a=n):(r=5,a=n,s=new Array(4),n>=6?a=n-3:1===o&&(r=2,s=new Array(2),a=n)),s[0]=r<<3,s[0]|=(15&n)>>>1,s[1]=(15&n)<<7,s[1]|=(15&o)<<3,5===r&&(s[1]|=(15&a)>>>1,s[2]=(1&a)<<7,s[2]|=8,s[3]=0),this[e(307)]=s,this[e(310)]=tg[n],this.sampling_index=n,this[e(287)]=o,this[e(321)]=r,this[e(325)]=i,this[e(301)]=e(317)+r,this[e(298)]=e(317)+i}}function ig(){const t=["videoDataRate","audioCodec","audio_object_type","audioSampleRate","channel_config","android","original_codec_mimetype","chromaFormat","len","codec_mimetype","profile","sampling_freq_index","toLowerCase","stream_id","userAgent","config","length","4BdPjtn","sampling_rate","data","6369130PHxVrI","segments","17088MizHgW","level","total_length","mp4a.40.","firefox","175008acjyiE","_search","object_type","sarDen","dts","floor","original_object_type","206899tDJawA","refFrames","keyframesIndex","hasKeyframesIndex","mimeType","width","expected_length","metadata","pid","fps","audioDataRate","3294LGfzjF","7205688dHIjvA","159978LLHSfm","indexOf","hasVideo","stream_type","channel_count","height","6811548qnEylO","random_access_indicator","hasAudio"];return(ig=function(){return t})()}const rg=og;function ng(){const t=["loas_previous_frame","AAC: Detected pts overlapped, ","ID3 ","kSliceIDR","video_track_","reset","set","has_video_","ms, PES pts: ","channel_config","originalCodec","AC3: Bit Stream Identification changed from ","parsePES: packet_start_code_prefix should be 1 but with value ","audioSampleRateIndex","sampling_freq_index","kADTSAAC","sort","pes_slice_queues_","Opus: SamplingFrequencyIndex changed from ","3311133EBymUQ","audio_track_","kSlicePPS",", stream_id=","_getTimestamp","dispatchAudioMediaSegment","debugLog",", pts=","video_metadata_changed_","ac-3","Opus","g711a","sps","last_pcr_","common_pids","smpte2038_pids",'video/mp2t; codecs="',"emitSectionSlices","mseDecodeAudio","kSliceCRA_NUT","_isTsPacketSizeValid","Generated first AudioSpecificConfig for mimeType: ","syncOffset","payload","elementary_stream_priority_indicator","height","video_metadata_","H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment",", not start with 0x47, so break"," is not corresponded to PAT!","getInputByteLength","type","probe","isHevc","_doDecodeVideo","channel_mode","parsePPS","adts_aac","expected: ","handleSectionSlice","payload_unit_start_indicator","h264","parseSPS$2","avcc","parseSMPTE2038MetadataPayload","updateVideoInfo","timescale","TAG_NAME","959217olsgDL","stringify","sampling_frequency","asynchronous_klv_pids","opus","G711A","kAC3","KLVA","handlePESSlice","parseLOASAACPayload","stream_type","video","Generated first HEVCDecoderConfigurationRecord for mimeType: ","frameRate","_preDoDecode","_doDecodeByTs","kH264","kMPEG2Audio","tsPacketSize","hvcc","TAG","handlePESSlice: packet_start_code_prefix should be 1 but with value ","fps","sar_ratio","SMPTE 2038 Metadata: pid=","length","sarNum","hasIncompleteData","dts","program_pmt_pid","parseSCTE35","parsePESPrivateDataPayload()","file_position","Malformed PES: PES_packet_length < 3 + PES_header_data_length"," is not corresponded to PMT!","random_access_indicator","bit_stream_identification","codec_size","sample_rate","1503172ileUVx","MP3: Channel count changed from ","AAC: SamplingFrequencyIndex changed from ","readNextNaluPayload","level_string","parseAsynchronousKLVMetadataPayload","G711U","AAC: AudioObjectType changed from ","aac","audio_object_type","slices",", sampleRate: ","kSliceSPS","cryptoPayload","kSliceIDR_N_LP","concat","Synchronous KLV Metadata: pid=","scte_35_pids","presentHeight","parseH264Payload","AAC: Unknown pts","parseMP3Payload","kSliceNonIDR","audio_init_segment_dispatched_","371652xGbVOm","bit_stream_mode","pid_stream_type","20prueBL","26iPUEyS","total_length","parseVPS","profile","Audio: Audio Codecs changed from ","Video: Present resolution width changed from ","forEach","3106fqGXQK","Opus: Channel count changed from ","kPESPrivateData","h265","dispatchVideoMediaSegment","profile_string","byteLength","dispatchAudioInitSegment","bitDepth","isIFrame","parseADTSAACPayload","Video: Codec mimeType changed from ","push","version_number","_remainingPacketData","readNextAACFrame","nearest_pts","network_pid","player","match","dispatchVideoInitSegment","AAC: Channel configuration changed from ","details","parseH265Payload","min","mp3","destroy","detectAudioMetadataChange","codec","ac3","audio","parsePMT","Parsed first PMT: ","current_pmt_pid_","config","present_size","clearSlices","emitTsPrivateData","AAC","chromaFormat","pes_private_data_pids","39352VJHuZw","parsePAT"," to ","pcr_pid","kSliceVPS","Asynchronous KLV Metadata: pid=","loas_aac","audio_metadata_changed_","aacADTSHeader profile: ","isEmitTsPrivateData","object_type","timed_id3_pids","fromCharCode","abs","parsePMT: table_id ","codecWidth","eac3","parseEAC3Payload","chroma_format","Generated first AVCDecoderConfigurationRecord for mimeType: ","timestamp_offset_","program_pmt_map_","getIncompleteData","level","program_number","parseChunks() sync_byte = ","width","cryptoPayloadAudio","Unsupported stream. type: ","kMetadata","original_codec_mimetype","last_pcr_base_","kLOASAAC","ts_packet_size","7029920nKNxuq","parseAC3Payload","parsePES","current_program_","parseChunks","debugWarn","parsePAT: table_id ","channelCount","first_parse_","low_frequency_effects_channel_on","init","TsDemux","cts","sarDen","len",", dts=","synchronous_klv_pids","video_init_segment_dispatched_","samples","parseOpusPayload","H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment","kH265","sync_offset","expected_length","duration_","channel_count","_initPmt","correctSamplePts","audioSampleRate","parseG711Payload","kSCTE35","sampling_index","refSampleDuration","stream_id","g711u","pat_","parseSynchronousKLVMetadataPayload","frame_rate","pps","sarRatio","updateStats","EAC3: Unsupported codec","783haNosW","emitPESSlices","Opus: Unsupported codec","_opt","duration","timescale_","kEAC3","detectVideoMetadataChange","kSliceIDR_W_RADL","MP3: AudioObjectType changed from ","vps","codec_mimetype","section_slice_queues_","pmt_","subarray","audio_last_sample_pts_","kMPEG1Audio","from","calcIframeIntervalTimestamp","MP3: SamplingFrequencyIndex changed from ","hasAudio","getNearestTimestampMilliseconds","aac_last_incomplete_data_","dispatchAudioVideoMediaSegment","debugError","audio_metadata_","_getPcrBase","floor",", syncOffset = ","has_audio_","dispatchPESPrivateDataDescriptor","dispatch","parseSPS","_doDecodeAudio","pid","isInitSegmentDispatched","Not Supported Opus channel count.","parseTimedID3MetadataPayload","codecHeight","Video: Coded Resolution changed from ","Timed ID3 Metadata: pid=",", channel: ","parseSection","videoCodec","AC3: Low Frequency Effects Channel On changed from ","bit_depth","AC3: Unsupported codec","data","isFirstDispatch and tsPacketSize = "];return(ng=function(){return t})()}function og(t,e){const s=ng();return(og=function(t,e){return s[t-=428]})(t,e)}!function(t,e){const s=og,i=t();for(;;)try{if(250540===parseInt(s(635))/1*(parseInt(s(628))/2)+-parseInt(s(561))/3+-parseInt(s(600))/4+parseInt(s(627))/5*(parseInt(s(624))/6)+-parseInt(s(513))/7+parseInt(s(676))/8*(parseInt(s(445))/9)+parseInt(s(710))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ng);class ag extends Cf{constructor(t){const e=og;super(t),this[e(653)]=t,this[e(560)]=e(721),this[e(499)](),this[e(457)]={},this[e(697)]={},this[e(511)]={},this.media_info_=new eg,this[e(438)]={version_number:0,network_pid:0,program_map_pid:{}},this[e(539)]={vps:null,sps:null,pps:null,details:null},this[e(470)]={codec:null,audio_object_type:null,sampling_freq_index:null,sampling_frequency:null,channel_config:null},this[e(498)]={type:e(572),id:1,sequenceNumber:0,samples:[],length:0},this[e(514)]={type:e(665),id:2,sequenceNumber:0,samples:[],length:0},this[e(653)].debugLog(this.TAG_NAME,e(720))}destroy(){const t=og;this[t(499)](),super[t(661)](),this[t(653)].debugLog(this.TAG_NAME,t(661))}[rg(499)](){const t=rg;this[t(718)]=!0,this[t(579)]=0,this[t(535)]=0,this.pmt_=null,this.config_=null,this.media_info_=null,this.timescale_=90,this[t(734)]=0,this[t(438)]=null,this[t(713)]=null,this[t(668)]=-1,this[t(697)]=null,this[t(511)]=null,this[t(457)]=null,this[t(539)]=null,this[t(470)]=null,this[t(526)]=null,this[t(707)]=NaN,this.timestamp_offset_=0,this[t(460)]=void 0,this[t(467)]=null,this[t(501)]=!1,this[t(474)]=!1,this.video_init_segment_dispatched_=!1,this.audio_init_segment_dispatched_=!1,this[t(521)]=!1,this[t(683)]=!1,this[t(494)]=null,this[t(498)]=null,this[t(514)]=null,this._remainingPacketData=null}[rg(545)](t){const e=rg;let s=new Uint8Array(t),i=-1,r=188;if(s[e(641)]<=3*r)return{needMoreData:!0};for(;-1===i;){let t=Math.min(1e3,s[e(641)]-3*r);for(let e=0;e<t;){if(71===s[e]&&71===s[e+r]&&71===s[e+2*r]){i=e;break}e++}if(-1===i)if(188===r)r=192;else{if(192!==r)break;r=204}}return-1===i?{match:!1}:(192===r&&i>=4&&(i-=4),{match:!0,consumed:0,ts_packet_size:r,sync_offset:i})}_initPmt(){return{program_number:0,version_number:0,pcr_pid:0,pid_stream_type:{},common_pids:{h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,eac3:void 0,mp3:void 0,g711a:void 0,g711u:void 0},pes_private_data_pids:{},timed_id3_pids:{},synchronous_klv_pids:{},asynchronous_klv_pids:{},scte_35_pids:{},smpte2038_pids:{}}}[rg(533)](){const t=rg;return 188===this.tsPacketSize||192===this[t(579)]||204===this.tsPacketSize}[rg(476)](t){const e=rg;let s=new Uint8Array(t);this[e(649)]&&(s=qm(this[e(649)],s),this[e(649)]=null);let i=s.buffer;const r=this[e(714)](i);r?this[e(649)]=s.subarray(r):s[e(586)]<this[e(579)]&&(this[e(649)]=s)}[rg(714)](t){const e=rg;let s=0;if(this[e(718)]){this.first_parse_=!1;const i=this[e(545)](t);i[e(654)]&&(this[e(579)]=i[e(709)],this[e(535)]=i[e(732)]),s=this[e(535)],this[e(653)][e(519)](this[e(560)],e(493)+this.tsPacketSize+e(473)+this[e(535)]),Si(this[e(533)]())&&this[e(653)].emitError(V.tsPacketSizeError,this[e(579)])}if(!Si(this[e(533)]())){for(;s+this[e(579)]<=t[e(641)];){192===this.tsPacketSize&&(s+=4);const i=new Uint8Array(t,s,188);let r=i[0];if(71!==r){this.player[e(715)](this[e(560)],e(701)+r+e(541));break}let n=(64&i[1])>>>6;i[1];let o=(31&i[1])<<8|i[2],a=(48&i[3])>>>4,h=15&i[3],l=!(!this[e(458)]||this[e(458)].pcr_pid!==o),c={},d=4;if(2==a||3==a){let t=i[4];if(t>0&&(l||3==a)){c.discontinuity_indicator=(128&i[5])>>>7,c[e(596)]=(64&i[5])>>>6,c[e(537)]=(32&i[5])>>>5;let t=(16&i[5])>>>4;if(t){let t=300*this[e(471)](i)+((1&i[10])<<8|i[11]);this.last_pcr_=t}if(this[e(653)][e(448)][e(685)]){if(1===(2&i[5])>>>1){let s=6;t&&(s+=6),(8&i[5])>>>3&&(s+=6),(4&i[5])>>>2&&(s+=1);let r=i[s],n=i[e(459)](s+1,s+1+r);this[e(653)][e(672)](n)}}}if(2==a||5+t===188){s+=188,204===this[e(579)]&&(s+=16);continue}d=5+t}if(1==a||3==a)if(0===o||o===this[e(668)]||null!=this[e(458)]&&this[e(458)][e(626)][o]===Qm[e(433)]){let i=188-d;this.handleSectionSlice(t,s+d,i,{pid:o,payload_unit_start_indicator:n,continuity_conunter:h,random_access_indicator:c[e(596)]})}else if(null!=this[e(458)]&&null!=this[e(458)][e(626)][o]){let i=188-d,r=this[e(458)].pid_stream_type[o];(o===this[e(458)].common_pids[e(554)]||o===this.pmt_[e(527)][e(638)]||o===this[e(458)].common_pids[e(550)]||o===this[e(458)][e(527)][e(682)]||o===this[e(458)][e(527)].ac3||o===this[e(458)][e(527)][e(692)]||o===this[e(458)][e(527)][e(565)]||o===this[e(458)][e(527)].mp3||o===this[e(458)][e(527)][e(524)]||o===this[e(458)][e(527)][e(437)]||!0===this.pmt_[e(675)][o]||!0===this[e(458)][e(687)][o]||!0===this[e(458)][e(726)][o]||!0===this[e(458)][e(564)][o])&&this[e(569)](t,s+d,i,{pid:o,stream_type:r,payload_unit_start_indicator:n,continuity_conunter:h,random_access_indicator:c[e(596)]})}s+=188,204===this[e(579)]&&(s+=16)}return this[e(468)](),s}}[rg(552)](t,e,s,i){const r=rg;let n=new Uint8Array(t,e,s),o=this[r(457)][i[r(479)]];if(i[r(553)]){let a=n[0];if(null!=o&&0!==o[r(629)]){let n=new Uint8Array(t,e+1,Math[r(659)](s,a));o[r(610)][r(647)](n),o[r(629)]+=n[r(641)],o[r(629)]===o[r(733)]?this[r(530)](o,i):this[r(671)](o,i)}for(let h=1+a;h<n.byteLength;){if(255===n[h+0])break;let a=(15&n[h+1])<<8|n[h+2];this.section_slice_queues_[i[r(479)]]=new Xm,o=this[r(457)][i[r(479)]],o.expected_length=a+3,o[r(596)]=i[r(596)];let l=new Uint8Array(t,e+h,Math[r(659)](s-h,o[r(733)]-o[r(629)]));o.slices[r(647)](l),o[r(629)]+=l[r(641)],o[r(629)]===o[r(733)]?this[r(530)](o,i):o.total_length>=o[r(733)]&&this[r(671)](o,i),h+=l[r(641)]}}else if(null!=o&&0!==o[r(629)]){let n=new Uint8Array(t,e,Math[r(659)](s,o.expected_length-o[r(629)]));o[r(610)].push(n),o.total_length+=n.byteLength,o.total_length===o.expected_length?this.emitSectionSlices(o,i):o.total_length>=o.expected_length&&this[r(671)](o,i)}}handlePESSlice(t,e,s,i){const r=rg;let n=new Uint8Array(t,e,s),o=n[0]<<16|n[1]<<8|n[2];n[3];let a=n[4]<<8|n[5];if(i[r(553)]){if(1!==o)return void this[r(653)][r(715)](this[r(560)],r(582)+o);let t=this.pes_slice_queues_[i[r(479)]];t&&(0===t[r(733)]||t[r(733)]===t[r(629)]?this.emitPESSlices(t,i):this[r(671)](t,i)),this.pes_slice_queues_[i[r(479)]]=new Xm,this[r(511)][i.pid][r(596)]=i.random_access_indicator}if(null==this.pes_slice_queues_[i[r(479)]])return;let h=this[r(511)][i[r(479)]];h[r(610)].push(n),i.payload_unit_start_indicator&&(h[r(733)]=0===a?0:a+6),h[r(629)]+=n.byteLength,h[r(733)]>0&&h[r(733)]===h.total_length?this[r(446)](h,i):h[r(733)]>0&&h[r(733)]<h[r(629)]&&this.clearSlices(h,i)}[rg(530)](t,e){const s=rg;let i=new Uint8Array(t.total_length);for(let e=0,r=0;e<t[s(610)][s(586)];e++){let n=t.slices[e];i[s(500)](n,r),r+=n.byteLength}t[s(610)]=[],t[s(733)]=-1,t[s(629)]=0;let r={};r[s(479)]=e[s(479)],r[s(492)]=i,r.file_position=t[s(593)],r[s(596)]=t[s(596)],this[s(487)](r)}[rg(446)](t,e){const s=rg;let i=new Uint8Array(t[s(629)]);for(let e=0,r=0;e<t[s(610)][s(586)];e++){let n=t[s(610)][e];i.set(n,r),r+=n[s(641)]}t.slices=[],t.expected_length=-1,t[s(629)]=0;let r=new $m;r[s(479)]=e[s(479)],r.data=i,r[s(571)]=e[s(571)],r[s(596)]=t[s(596)],this.parsePES(r)}[rg(671)](t){const e=rg;t[e(610)]=[],t[e(733)]=-1,t[e(629)]=0}[rg(487)](t){const e=rg;let s=t.data,i=t[e(479)];0===i?this[e(677)](s):i===this[e(668)]?this[e(666)](s):null!=this[e(458)]&&this[e(458)][e(617)][i]&&this.parseSCTE35(s)}[rg(712)](t){const e=rg;let s=t[e(492)],i=s[0]<<16|s[1]<<8|s[2],r=s[3],n=s[4]<<8|s[5];if(1===i){if(188!==r&&190!==r&&191!==r&&240!==r&&241!==r&&255!==r&&242!==r&&248!==r){s[6];let i,o,a=(192&s[7])>>>6,h=s[8];(2===a||3===a)&&(i=this[e(517)](s,9),o=3===a?this._getTimestamp(s,14):i);let l,c=9+h;if(0!==n){if(n<3+h)return void this.player[e(715)](this[e(560)],e(594));l=n-3-h}else l=s[e(641)]-c;let d=s[e(459)](c,c+l);switch(t[e(571)]){case Qm.kMPEG1Audio:case Qm[e(578)]:this[e(621)](d,i);break;case Qm[e(637)]:this[e(458)].common_pids.opus===t.pid?this[e(729)](d,i):this[e(458)][e(527)][e(664)]===t[e(479)]?this[e(711)](d,i):this[e(458)][e(527)].eac3===t[e(479)]?this[e(693)](d,i):this[e(458)][e(564)][t[e(479)]]?this[e(605)](d,t[e(479)],r):this[e(458)][e(528)][t[e(479)]]?this[e(557)](d,i,o,t[e(479)],r):this.parsePESPrivateDataPayload(d,i,o,t[e(479)],r);break;case Qm[e(509)]:this.parseADTSAACPayload(d,i);break;case Qm[e(708)]:this[e(570)](d,i);break;case Qm[e(567)]:this[e(711)](d,i);break;case Qm[e(451)]:this[e(693)](d,i);break;case Qm[e(705)]:this.pmt_[e(687)][t[e(479)]]?this.parseTimedID3MetadataPayload(d,i,o,t.pid,r):this[e(458)][e(726)][t.pid]&&this.parseSynchronousKLVMetadataPayload(d,i,o,t[e(479)],r);break;case Qm[e(577)]:this.parseH264Payload(d,i,o,t[e(596)]);break;case Qm[e(731)]:this.parseH265Payload(d,i,o,t[e(596)]);break;case Qm[e(566)]:this.parseG711Payload(d,i,!0);break;case Qm.G711U:this[e(432)](d,i,!1);break;default:this[e(653)][e(715)](this[e(560)],e(704)+t[e(571)]+", pid: "+t[e(479)])}}else if((188===r||191===r||240===r||241===r||255===r||242===r||248===r)&&t[e(571)]===Qm[e(637)]){let i,o=6;i=0!==n?n:s[e(641)]-o;let a=s.subarray(o,o+i);this.parsePESPrivateDataPayload(a,void 0,void 0,t[e(479)],r)}}else this[e(653)][e(469)](this[e(560)],e(506)+i)}parsePAT(t){const e=rg;let s=t[0];if(0!==s)return void Log.e(this[e(581)],e(716)+s+e(542));let i=(15&t[1])<<8|t[2];t[3],t[4];let r=(62&t[5])>>>1,n=1&t[5],o=t[6];t[7];let a=null;if(1===n&&0===o)a={version_number:0,network_pid:0,program_pmt_pid:{}},a[e(648)]=r;else if(a=this.pat_,null==a)return;let h=i-5-4,l=-1,c=-1;for(let s=8;s<8+h;s+=4){let i=t[s]<<8|t[s+1],r=(31&t[s+2])<<8|t[s+3];0===i?a[e(652)]=r:(a[e(590)][i]=r,-1===l&&(l=i),-1===c&&(c=r))}1===n&&0===o&&(null==this.pat_&&this[e(653)][e(519)](this[e(560)],"Parsed first PAT: "+JSON[e(562)](a)),this[e(438)]=a,this[e(713)]=l,this[e(668)]=c)}[rg(666)](t){const e=rg;let s=t[0];if(2!==s)return void this.player[e(469)](this[e(560)],e(690)+s+e(595));let i,r=(15&t[1])<<8|t[2],n=t[3]<<8|t[4],o=(62&t[5])>>>1,a=1&t[5],h=t[6];if(t[7],1===a&&0===h)i=this[e(429)](),i[e(700)]=n,i[e(648)]=o,this[e(697)][n]=i;else if(i=this[e(697)][n],null==i)return;i[e(679)]=(31&t[8])<<8|t[9];let l=(15&t[10])<<8|t[11],c=12+l,d=r-9-l-4;for(let s=c;s<c+d;){let r=t[s],n=(31&t[s+1])<<8|t[s+2],o=(15&t[s+3])<<8|t[s+4];i[e(626)][n]=r;let a=i.common_pids.h264||i[e(527)][e(638)],h=i.common_pids[e(550)]||i.common_pids[e(682)]||i.common_pids[e(664)]||i.common_pids[e(692)]||i.common_pids.opus||i.common_pids.mp3||i[e(527)][e(524)]||i.common_pids[e(437)];if(r!==Qm.kH264||a)if(r!==Qm[e(731)]||a)if(r!==Qm[e(509)]||h)if(r!==Qm[e(708)]||h)if(r!==Qm[e(567)]||h)if(r!==Qm[e(451)]||h)if(r!==Qm[e(461)]&&r!==Qm[e(578)]||h)if(r!==Qm[e(566)]||h)if(r!==Qm.G711U||h)if(r===Qm[e(637)]){if(i[e(675)][n]=!0,o>0){for(let r=s+5;r<s+5+o;){let s=t[r+0],o=t[r+1];if(5===s){let s=String[e(688)](...Array[e(462)](t[e(459)](r+2,r+2+o)));"VANC"===s?i[e(528)][n]=!0:s===e(523)?i[e(527)][e(565)]=n:s===e(568)&&(i[e(564)][n]=!0)}else if(127===s&&n===i[e(527)][e(565)]){let s=null;if(128===t[r+2]&&(s=t[r+3]),null==s){Log.e(this.TAG,e(481));continue}const i={codec:e(565),channel_count:0==(15&s)?2:15&s,channel_config_code:s,sample_rate:48e3},n={codec:"opus",meta:i};0==this.audio_init_segment_dispatched_?(this[e(470)]=i,this[e(642)](n)):this[e(662)](n)&&(this[e(518)](),this[e(642)](n))}r+=2+o}let a=t[e(459)](s+5,s+5+o);this[e(475)](n,r,a)}}else if(r===Qm[e(705)]){if(o>0)for(let r=s+5;r<s+5+o;){let s=t[r+0],o=t[r+1];if(38===s){let s=t[r+2]<<8|t[r+3]<<0,o=null;65535===s&&(o=String[e(688)](...Array[e(462)](t[e(459)](r+4,r+4+4))));let a=null;if(255===t[r+4+(65535===s?4:0)]){let i=4+(65535===s?4:0)+1;a=String[e(688)](...Array.from(t[e(459)](r+i,r+i+4)))}o===e(496)&&a===e(496)?i[e(687)][n]=!0:a===e(568)&&(i[e(726)][n]=!0)}r+=2+o}}else r===Qm.kSCTE35&&(i[e(617)][n]=!0);else i.common_pids[e(437)]=n;else i.common_pids[e(524)]=n;else i[e(527)][e(660)]=n;else i[e(527)].eac3=n;else i[e(527)].ac3=n;else i[e(527)].loas_aac=n;else i[e(527)][e(550)]=n;else i[e(527)].h265=n;else i.common_pids[e(554)]=n;s+=5+o}n===this[e(713)]&&(null==this[e(458)]&&this.player[e(519)](this[e(560)],e(667)+JSON.stringify(i)),this[e(458)]=i,(i[e(527)][e(554)]||i[e(527)][e(638)])&&(this[e(501)]=!0),(i[e(527)].adts_aac||i[e(527)][e(682)]||i[e(527)].ac3||i.common_pids.opus||i[e(527)].mp3||i[e(527)][e(524)]||i.common_pids[e(437)])&&(this[e(474)]=!0))}[rg(591)](t){}[rg(619)](t,e,s,i){const r=rg;let n=new tl(t),o=null,a=null,h=[],l=0,c=!1;for(;null!=(o=n.readNextNaluPayload());){let t=new el(o);if(t.type===X[r(612)]){let e=Fh[r(555)](o[r(492)]);this[r(727)]?!0===this[r(452)](t,e)&&(this[r(653)][r(519)](this[r(560)],r(730)),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:t,pps:void 0,details:e}):(this[r(539)].sps=t,this.video_metadata_.details=e)}else t[r(544)]===X[r(515)]?(!this[r(727)]||this[r(521)])&&(this[r(539)].pps=t,this[r(539)][r(525)]&&this[r(539)][r(441)]&&(this[r(521)]&&this[r(639)](),this[r(655)]())):(t[r(544)]===X[r(497)]||t[r(544)]===X[r(622)]&&1===i)&&(c=!0);this.video_init_segment_dispatched_&&(h.push(t),l+=t[r(492)][r(641)])}let d=Math[r(472)](e/this[r(450)]),u=Math[r(472)](s/this[r(450)]);if(h[r(586)]){let t=this[r(498)];for(let t=0;t<h[r(586)];t++){let e=h[t];if(null==a)a=e[r(492)];else{let t=new Uint8Array(a.byteLength+e[r(492)][r(641)]);t.set(a,0),t[r(500)](e.data,a.byteLength),a=t}}let e={length:l,isIFrame:c,dts:u,pts:d,cts:d-u,payload:a,type:x.video,isHevc:!1};t.samples[r(647)](e),t[r(586)]=a[r(641)]}}[rg(658)](t,e,s,i){const r=rg;let n=new Tl(t),o=null,a=null,h=[],l=0,c=!1;for(;null!=(o=n[r(603)]());){let t=new Il(o);if(t[r(544)]===$[r(680)]){if(!this[r(727)]){let e=fl[r(630)](o.data);this.video_metadata_[r(455)]=t,this[r(539)][r(657)]={...this[r(539)][r(657)],...e}}}else if(t[r(544)]===$[r(612)]){let e=fl[r(477)](o[r(492)]);this[r(727)]?!0===this.detectVideoMetadataChange(t,e)&&(this[r(653)][r(519)](this[r(560)],r(540)),this[r(521)]=!0,this[r(539)]={vps:void 0,sps:t,pps:void 0,details:e}):(this[r(539)].sps=t,this[r(539)][r(657)]={...this.video_metadata_[r(657)],...e})}else if(t.type===$[r(515)]){if(!this[r(727)]||this[r(521)]){let e=fl[r(549)](o.data);this[r(539)][r(441)]=t,this[r(539)][r(657)]={...this[r(539)].details,...e},this[r(539)][r(455)]&&this.video_metadata_[r(525)]&&this[r(539)][r(441)]&&(this[r(521)]&&this[r(639)](),this.dispatchVideoInitSegment())}}else(t.type===$[r(453)]||t[r(544)]===$[r(614)]||t[r(544)]===$[r(532)])&&(c=!0);this.video_init_segment_dispatched_&&(h[r(647)](t),l+=t[r(492)][r(641)])}let d=Math[r(472)](e/this[r(450)]),u=Math[r(472)](s/this[r(450)]);if(h[r(586)]){let t=this[r(498)];for(let t=0;t<h.length;t++){let e=h[t];if(null==a)a=e[r(492)];else{let t=new Uint8Array(a.byteLength+e[r(492)][r(641)]);t[r(500)](a,0),t.set(e.data,a[r(641)]),a=t}}let e={type:x[r(572)],length:l,isIFrame:c,dts:u,pts:d,cts:d-u,payload:a,isHevc:!0};t.samples[r(647)](e),t[r(586)]=a[r(641)]}}[rg(452)](t,e){const s=rg;if(e[s(456)]!==this[s(539)].details[s(456)])return this[s(653)].debugLog(this[s(560)],s(646)+(this[s(539)][s(657)][s(456)]+" to ")+e[s(456)]),!0;if(e[s(598)][s(702)]!==this[s(539)][s(657)][s(598)][s(702)]||e[s(598)].height!==this[s(539)].details[s(598)].height){let t=this[s(539)][s(657)][s(598)],i=e[s(598)];return this[s(653)][s(519)](this[s(560)],s(484)+(t[s(702)]+"x")+t.height+s(678)+i[s(702)]+"x"+i[s(538)]),!0}return e[s(670)].width!==this[s(539)][s(657)][s(670)][s(702)]&&(this.player[s(519)](this[s(560)],s(633)+(this[s(539)][s(657)][s(670)][s(702)]+" to ")+e[s(670)].width),!0)}[rg(480)](){const t=rg;return this.has_video_&&this[t(474)]?this[t(727)]&&this.audio_init_segment_dispatched_:this[t(501)]&&!this[t(474)]?this[t(727)]:!(this[t(501)]||!this.has_audio_)&&this[t(623)]}dispatchVideoInitSegment(){const t=rg;let e=this.video_metadata_[t(657)],s={};s[t(544)]="video",s.id=this[t(498)].id,s.timescale=1e3,s[t(449)]=this[t(734)],s.codecWidth=e[t(598)][t(702)],s[t(483)]=e[t(598)].height,s.presentWidth=e[t(670)][t(702)],s[t(618)]=e[t(670)][t(538)],s.profile=e[t(640)],s[t(699)]=e[t(604)],s[t(643)]=e[t(490)],s[t(674)]=e[t(694)],s[t(442)]=e[t(584)],s.frameRate=e[t(440)];let i=s.frameRate.fps_den,r=s.frameRate.fps_num;s[t(435)]=i/r*1e3,s[t(663)]=e.codec_mimetype;let n=!1;if(this[t(539)][t(455)]){n=!0;let e=this.video_metadata_.vps[t(492)][t(459)](4),i=this[t(539)][t(525)][t(492)][t(459)](4),r=this[t(539)][t(441)][t(492)][t(459)](4);s[t(580)]=Al({vps:e,sps:i,pps:r}),0==this[t(727)]&&this[t(653)][t(519)](this.TAG_NAME,t(573)+s.codec),s[t(580)]&&this[t(576)](s[t(580)],x[t(572)],0,!0,0)}else{let e=this[t(539)][t(525)][t(492)][t(459)](4),i=this[t(539)].pps[t(492)][t(459)](4);s[t(556)]=Kh({sps:e,pps:i}),0==this[t(727)]&&this[t(653)][t(519)](this[t(560)],t(695)+s[t(663)]),s[t(556)]&&this._doDecodeByTs(s[t(556)],x[t(572)],0,!0,0)}this[t(727)]=!0,this.video_metadata_changed_=!1;let o=this.media_info_;o.hasVideo=!0,o[t(702)]=s[t(691)],o[t(538)]=s[t(483)],o[t(583)]=s[t(574)][t(583)],o[t(631)]=s[t(631)],o.level=s[t(699)],o.refFrames=e.ref_frames,o.chromaFormat=e.chroma_format_string,o[t(587)]=s[t(442)][t(702)],o[t(723)]=s[t(442)].height,o.videoCodec=s[t(663)],o[t(465)]&&o.audioCodec?o.mimeType=t(529)+o.videoCodec+","+o.audioCodec+'"':o.mimeType=t(529)+o[t(488)]+'"',this.player[t(572)][t(558)]({width:s[t(691)],height:s[t(483)],encTypeCode:n?K.h265:K.h264})}[rg(639)](){const t=rg;this[t(480)]()&&this[t(498)][t(586)]&&this[t(575)]()}[rg(518)](){const t=rg;this[t(480)]()&&this[t(514)].length&&this._preDoDecode()}[rg(468)](){const t=rg;this.isInitSegmentDispatched()&&(this.audio_track_[t(586)]||this[t(498)][t(586)])&&this[t(575)]()}[rg(645)](t,e){const s=rg;if(this[s(501)]&&!this[s(727)])return;if(this[s(467)]){let e=new Uint8Array(t.byteLength+this[s(467)][s(641)]);e.set(this[s(467)],0),e[s(500)](t,this[s(467)][s(641)]),t=e}let i,r;if(null!=e&&(r=e/this[s(450)]),"aac"===this[s(470)][s(663)]){if(null==e&&null!=this[s(460)])i=1024/this[s(470)][s(563)]*1e3,r=this[s(460)]+i;else if(null==e)return void this.player[s(715)](this[s(560)],s(620));if(this[s(467)]&&this.audio_last_sample_pts_){i=1024/this[s(470)].sampling_frequency*1e3;let t=this[s(460)]+i;Math[s(689)](t-r)>1&&(this.player[s(715)](this.TAG_NAME,s(495)+(s(551)+t+"ms, PES pts: ")+r+"ms"),r=t)}}let n,o=new Me(t),a=null,h=r;for(;null!=(a=o[s(650)]());){i=1024/a[s(563)]*1e3;const t={codec:s(608),data:a};0==this[s(623)]?(this[s(470)]={codec:"aac",audio_object_type:a[s(609)],sampling_freq_index:a.sampling_freq_index,sampling_frequency:a[s(563)],channel_config:a[s(503)]},this[s(642)](t)):this[s(662)](t)&&(this.dispatchAudioMediaSegment(),this[s(642)](t)),n=h;let e=Math[s(472)](h);const r=new Uint8Array(a.data[s(586)]+2);r[s(500)]([175,1],0),r[s(500)](a[s(492)],2);let o={payload:r,length:r.byteLength,pts:e,dts:e,type:x[s(665)]};this[s(514)].samples[s(647)](o),this[s(514)][s(586)]+=r[s(641)],h+=i}o[s(588)]()&&(this[s(467)]=o[s(698)]()),n&&(this[s(460)]=n)}[rg(570)](t,e){const s=rg;if(this.has_video_&&!this[s(727)])return;if(this[s(467)]){let e=new Uint8Array(t[s(641)]+this.aac_last_incomplete_data_[s(641)]);e[s(500)](this[s(467)],0),e[s(500)](t,this.aac_last_incomplete_data_.byteLength),t=e}let i,r;if(null!=e&&(r=e/this[s(450)]),"aac"===this[s(470)][s(663)]){if(null==e&&null!=this[s(460)])i=1024/this[s(470)][s(563)]*1e3,r=this[s(460)]+i;else if(null==e)return void this[s(653)][s(715)](this[s(560)],s(620));if(this[s(467)]&&this[s(460)]){i=1024/this[s(470)][s(563)]*1e3;let t=this.audio_last_sample_pts_+i;Math.abs(t-r)>1&&(this.player[s(715)](this[s(581)],s(495)+"expected: "+t+s(502)+r+"ms"),r=t)}}let n,o=new Be(t),a=null,h=r;for(;null!=(a=o.readNextAACFrame(Rs(this[s(494)])?void 0:this.loas_previous_frame));){this[s(494)]=a,i=1024/a[s(563)]*1e3;const t={codec:s(608),data:a};0==this[s(623)]?(this[s(470)]={codec:s(608),audio_object_type:a[s(609)],sampling_freq_index:a[s(508)],sampling_frequency:a[s(563)],channel_config:a[s(503)]},this[s(642)](t)):this.detectAudioMetadataChange(t)&&(this[s(518)](),this[s(642)](t)),n=h;let e=Math[s(472)](h);const r=new Uint8Array(a[s(492)][s(586)]+2);r[s(500)]([175,1],0),r[s(500)](a[s(492)],2);let o={payload:r,length:r[s(641)],pts:e,dts:e,type:x[s(665)]};this[s(514)][s(728)][s(647)](o),this.audio_track_.length+=r.byteLength,h+=i}o[s(588)]()&&(this.aac_last_incomplete_data_=o[s(698)]()),n&&(this.audio_last_sample_pts_=n)}[rg(711)](t,e){}[rg(693)](t,e){}[rg(729)](t,e){}parseMP3Payload(t,e){const s=rg;if(this.has_video_&&!this[s(727)])return;let i=[44100,48e3,32e3,0],r=[22050,24e3,16e3,0],n=[11025,12e3,8e3,0],o=t[1]>>>3&3,a=(6&t[1])>>1,h=(t[2],(12&t[2])>>>2),l=3!==(t[3]>>>6&3)?2:1,c=0,d=34;switch(s(660),o){case 0:c=n[h];break;case 2:c=r[h];break;case 3:c=i[h]}switch(a){case 1:d=34,s(586);break;case 2:d=33;break;case 3:d=32}const u={};u[s(686)]=d,u.sample_rate=c,u[s(428)]=l,u.data=t;const p={codec:s(660),data:u};0==this[s(623)]?(this[s(470)]={codec:s(660),object_type:d,sample_rate:c,channel_count:l},this[s(642)](p)):this[s(662)](p)&&(this[s(518)](),this[s(642)](p));const f=new Uint8Array(t.length+1);f[s(500)]([32],0),f[s(500)](t,1);let m={payload:f,length:f[s(641)],pts:e/this[s(450)],dts:e/this[s(450)],type:x[s(665)]};this[s(514)][s(728)][s(647)](m),this[s(514)].length+=f[s(641)]}parseG711Payload(t,e,s){const i=rg;if(this[i(501)]&&!this.video_init_segment_dispatched_)return;const r={};r[i(599)]=8e3,r[i(428)]=1;const n={codec:i(s?524:437)};0==this.audio_init_segment_dispatched_?(this[i(470)]={codec:n.codec,sample_rate:r[i(599)],channel_count:r[i(428)]},this[i(642)](n)):this[i(662)](n)&&(this.dispatchAudioMediaSegment(),this[i(642)](n));const o=new Uint8Array(t[i(586)]+1),a=s?[114]:[130];o[i(500)](a,0),o[i(500)](t,1);let h={payload:o,length:o.byteLength,pts:Math.floor(e/this.timescale_),dts:Math[i(472)](e/this[i(450)]),type:x[i(665)]};this.audio_track_[i(728)][i(647)](h),this[i(514)].length+=o[i(641)]}[rg(662)](t){const e=rg;if(t[e(663)]!==this[e(470)][e(663)])return this.player[e(519)](this[e(560)],e(632)+(this[e(470)][e(663)]+e(678)+t[e(663)])),!0;if(t[e(663)]===e(608)&&this[e(470)][e(663)]===e(608)){const s=t[e(492)];if(s[e(609)]!==this[e(470)][e(609)])return this[e(653)][e(519)](this[e(560)],e(607)+(this.audio_metadata_[e(609)]+e(678)+s[e(609)])),!0;if(s.sampling_freq_index!==this[e(470)].sampling_freq_index)return this[e(653)].debugLog(this[e(560)],e(602)+(this.audio_metadata_[e(508)]+e(678)+s[e(508)])),!0;if(s[e(503)]!==this[e(470)][e(503)])return this[e(653)].debugLog(this.TAG_NAME,e(656)+(this[e(470)].channel_config+" to ")+s[e(503)]),!0}else if(t.codec===e(522)&&this[e(470)].codec===e(522)){const s=t[e(492)];if(s[e(563)]!==this[e(470)][e(563)])return this[e(653)][e(519)](this[e(560)],"AC3: Sampling Frequency changed from "+(this[e(470)][e(563)]+e(678)+s.sampling_frequency)),!0;if(s[e(597)]!==this.audio_metadata_[e(597)])return this[e(653)][e(519)](this.TAG_NAME,e(505)+(this.audio_metadata_.bit_stream_identification+e(678)+s[e(597)])),!0;if(s[e(625)]!==this.audio_metadata_[e(625)])return this[e(653)].debugLog(this[e(560)],"AC3: BitStream Mode changed from "+(this[e(470)].bit_stream_mode+e(678)+s[e(625)])),!0;if(s[e(548)]!==this[e(470)][e(548)])return this[e(653)][e(519)](this[e(560)],"AC3: Channel Mode changed from "+(this[e(470)][e(548)]+e(678)+s.channel_mode)),!0;if(s.low_frequency_effects_channel_on!==this.audio_metadata_[e(719)])return this[e(653)].debugLog(this[e(560)],e(489)+(this[e(470)][e(719)]+e(678)+s[e(719)])),!0}else if(t[e(663)]===e(565)&&"opus"===this[e(470)].codec){const s=t.meta;if(s.sample_rate!==this[e(470)][e(599)])return this[e(653)].debugLog(this.TAG_NAME,e(512)+(this[e(470)][e(599)]+" to ")+s[e(599)]),!0;if(s.channel_count!==this[e(470)][e(428)])return this.player[e(519)](this.TAG_NAME,e(636)+(this.audio_metadata_[e(428)]+e(678)+s[e(428)])),!0}else if(t[e(663)]===e(660)&&"mp3"===this.audio_metadata_[e(663)]){const s=t[e(492)];if(s[e(686)]!==this[e(470)][e(686)])return this[e(653)].debugLog(this[e(560)],e(454)+(this[e(470)].object_type+e(678)+s[e(686)])),!0;if(s[e(599)]!==this[e(470)][e(599)])return this[e(653)][e(519)](this[e(560)],e(464)+(this[e(470)][e(599)]+e(678)+s[e(599)])),!0;if(s[e(428)]!==this[e(470)][e(428)])return this[e(653)][e(519)](this[e(560)],e(601)+(this[e(470)][e(428)]+" to ")+s[e(428)]),!0}return!1}dispatchAudioInitSegment(t){const e=rg;let s={};s.type=e(665),s.id=this.audio_track_.id,s[e(559)]=1e3,s[e(449)]=this[e(734)];let i="";if("aac"===this[e(470)][e(663)]){let r=t.codec===e(608)?t[e(492)]:null,n=new sg(r);s[e(431)]=n.sampling_rate,s[e(507)]=n[e(434)],s[e(717)]=n[e(428)],s[e(663)]=n[e(456)],s[e(504)]=n[e(706)],s[e(669)]=n[e(669)],s[e(435)]=1024/s[e(431)]*s[e(559)],i=Y[e(673)];const o=Ae({profile:this.player._opt[e(531)]?n[e(686)]:n.original_object_type,sampleRate:s[e(507)],channel:s[e(717)]});this[e(653)][e(519)](this[e(560)],e(684)+n.object_type+e(611)+s[e(507)]+e(486)+s[e(717)]),this[e(576)](o,x.audio,0,!1,0)}else this[e(470)][e(663)]===e(522)?this.player[e(715)](this.TAG_NAME,e(491)):"ec-3"===this[e(470)].codec?this.player[e(715)](this[e(560)],e(444)):this[e(470)][e(663)]===e(565)?this[e(653)][e(715)](this[e(560)],e(447)):this[e(470)][e(663)]===e(660)?(s[e(431)]=this[e(470)][e(599)],s[e(717)]=this[e(470)][e(428)],s.codec=e(660),s[e(504)]=e(660),s.config=void 0,i=Y.MP3):this[e(470)][e(663)]===e(524)?(s.audioSampleRate=this.audio_metadata_[e(599)],s.channelCount=this[e(470)].channel_count,s[e(663)]=e(524),s[e(504)]=e(524),s[e(669)]=void 0,i=Y[e(566)]):"g711u"===this[e(470)][e(663)]&&(s[e(431)]=this[e(470)][e(599)],s.channelCount=this.audio_metadata_[e(428)],s[e(663)]=e(437),s[e(504)]="g711u",s.config=void 0,i=Y[e(606)]);0==this[e(623)]&&this[e(653)][e(519)](this[e(560)],e(534)+s[e(663)]),this[e(623)]=!0,this[e(521)]=!1,i&&this[e(653)].audio.updateAudioInfo({encTypeCode:i,channels:s.channelCount,sampleRate:s.audioSampleRate})}[rg(475)](t,e,s){const i=rg;let r={};r[i(479)]=t,r[i(571)]=e,r.descriptor=s}parsePESPrivateDataPayload(t,e,s,i,r){const n=rg;this.player[n(519)](this[n(560)],n(592));let o=new Zm;if(o[n(479)]=i,o[n(436)]=r,o[n(724)]=t[n(641)],o.data=t,null!=e){let t=Math[n(472)](e/this[n(450)]);o.pts=t}else o[n(651)]=this[n(466)]();if(null!=s){let t=Math[n(472)](s/this[n(450)]);o[n(589)]=t}}[rg(482)](t,e,s,i,r){const n=rg;this[n(653)][n(519)](this.TAG_NAME,n(485)+i+n(520)+e+", dts="+s+", stream_id="+r)}[rg(439)](t,e,s,i,r){const n=rg;this[n(653)][n(519)](this[n(560)],n(616)+i+n(520)+e+n(725)+s+n(516)+r)}parseAsynchronousKLVMetadataPayload(t,e,s){const i=rg;this[i(653)][i(519)](this[i(560)],i(681)+e+i(516)+s)}[rg(557)](t,e,s,i,r){const n=rg;this[n(653)][n(519)](this.TAG_NAME,n(585)+i+", pts="+e+n(725)+s+n(516)+r)}[rg(466)](){const t=rg;if(null!=this[t(460)])return Math[t(472)](this[t(460)]);if(null!=this[t(526)]){return Math[t(472)](this[t(526)]/300/this.timescale_)}}[rg(575)](){const t=rg,e=this[t(498)],s=this.audio_track_;let i=e[t(728)];this[t(430)](e),this.correctSamplePts(s),s.samples[t(586)]>0&&(i=e[t(728)][t(615)](s.samples),i=i[t(510)](((e,s)=>e[t(589)]-s.dts))),i[t(634)]((e=>{const s=t,i=new Uint8Array(e.payload);delete e[s(536)],e[s(544)]===x[s(572)]?this._doDecodeVideo({...e,payload:i}):e[s(544)]===x[s(665)]&&this._doDecodeAudio({...e,payload:i})})),e[t(728)]=[],e.length=0,s[t(728)]=[],s.length=0}[rg(547)](t){const e=rg,s=new Uint8Array(t.payload);let i=null;i=t[e(546)]?vl(s,t[e(644)]):qh(s,t[e(644)]),this[e(653)][e(443)]({dts:t[e(589)],vbps:8*i[e(641)]}),t.isIFrame&&this[e(463)](t[e(589)]);let r=this[e(613)](i,t[e(644)]);this[e(576)](r,x[e(572)],t[e(589)],t.isIFrame,t[e(722)])}[rg(478)](t){const e=rg,s=new Uint8Array(t.payload);this[e(653)].updateStats({abps:s.byteLength});let i=this[e(703)](s);this[e(576)](i,x.audio,t[e(589)],!1,0)}[rg(543)](){const t=rg;return this[t(649)]&&this[t(649)].byteLength||0}[rg(471)](t){const e=rg;let s=33554432*t[6]+131072*t[7]+512*t[8]+2*t[9]+(128&t[10])/128+this[e(696)];return s+4294967296<this.last_pcr_base_&&(s+=8589934592,this[e(696)]+=8589934592),this[e(707)]=s,s}[rg(517)](t,e){const s=rg;let i=536870912*(14&t[e])+4194304*(255&t[e+1])+16384*(254&t[e+2])+128*(255&t[e+3])+(254&t[e+4])/2+this[s(696)];return i+4294967296<this[s(707)]&&(i+=8589934592),i}}function hg(t,e){const s=cg();return(hg=function(t,e){return s[t-=187]})(t,e)}const lg=hg;function cg(){const t=["5816Hqoksy","type","videoBuffer","AAC","5765pvzPpc","6189407FMdsbU","h265","debugError","getUint8","9480276uECafZ","reduce","channelCount","startTime","sps","1AssShh",", channel: ","decProgramStreamMap","audioTrack","Short buffer","demux","vps","1880puAltM","video type: ","parsePESPacket","isG711A","byteLength","video","init","debugWarn","unknow video stream type: ","_parseVideoData","dts","profile","g711a","4550931EaycCh","StartCodeAudio","videoTrack","pts","close","player",", sampleRate:","set","StartCodeVideo","currentPTS","getInputByteLength","g711u","sampleRateIndex","MP3","mp3","G711U","_doDecodeByPs","h264","_isSendVideoSeqHeader","pps","push","demuxAudio","8YVbzxm","_cleanup","isDestroyedOrClosed","length","subarray","1748174hDDBGX","tmp8","videoBufferSize","isG711U","destroy","slice","isHevc","TAG_NAME","3107055WZWwSb","audio","Demux error:","Invalid audio size","dispatch() this.input is null","debugLog","unknow audio stream type: ","updateStats","getUint16","sampleRate","buffer",",sampleRateIndex: ","_doDecodeAudio","cleanup","isIFrame","channel","StartCodeMAP","hasAudio","input","_isSendAACSeqHeader","byteOffset","PSDemux","isAAC","calcIframeIntervalTimestamp","map","Insufficient data for header","_opt","audioTrack: ","forEach","_init","_parseAudioData","_doDecodeVideo","StartCodePS","aac seq header","MEPGProgramEndCode","240867wJuMGU","_isDestroyed","demuxVideo"];return(cg=function(){return t})()}!function(t,e){const s=hg,i=t();for(;;)try{if(913420===parseInt(s(195))/1*(-parseInt(s(242))/2)+-parseInt(s(250))/3+-parseInt(s(288))/4*(-parseInt(s(292))/5)+-parseInt(s(190))/6+-parseInt(s(293))/7*(parseInt(s(237))/8)+-parseInt(s(215))/9+-parseInt(s(202))/10*(-parseInt(s(285))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cg);class dg extends Cf{constructor(t){const e=hg;super(t),this[e(249)]=e(271),this[e(279)](),this[e(268)]=new Ff(this[e(200)]()),t[e(255)](this.TAG_NAME,e(208))}[lg(246)](){const t=lg;super[t(246)](),this.close(),this[t(279)](),this.player.debugLog(this[t(249)],t(246))}[lg(279)](){const t=lg;this[t(198)]={type:null,channelCount:"",channels:0,sampleRate:"",sampleRateIndex:-1},this[t(217)]={type:null,sps:null,pps:null,vps:null},this[t(269)]=!1,this[t(233)]=!1,this[t(218)]=0,this[t(212)]=0,this[t(243)]=new Uint8Array(4),this.dv=new DataView(this[t(243)].buffer),this[t(290)]=[],this[t(244)]=0,this[t(224)]=0,this.startTime=0}dispatch(t){const e=lg;this[e(268)]?this[e(268)].write(t):this.player[e(209)](this.TAG_NAME,e(254))}*[lg(200)](){const t=lg,e=this.tmp8,s=this.dv;try{let i=!0;for(;!this[t(286)]&&!this.player[t(239)]();){if(e[t(240)]<4){this[t(220)][t(209)](this[t(249)],t(275)),yield e;continue}yield e;const r=s.getUint32(0);if(i){if(r!==Vt.StartCodePS){yield e.length;continue}i=!1}switch(r){case Vt[t(282)]:yield 9,yield e[t(241)](0,1);const i=7&s[t(189)](0);yield i;break;case Vt[t(266)]:yield e[t(241)](0,2);const n=s[t(258)](0);if(n>Gt[t(274)]||n<0){this[t(220)].debugWarn(this[t(249)],"Invalid MAP size"),yield e;continue}const o=yield n;this.decProgramStreamMap(o);break;case Vt[t(223)]:yield e[t(241)](0,2);const a=s[t(258)](0);if(a>Gt[t(207)]||a<0){this.player[t(209)](this.TAG_NAME,"Invalid video size"),yield e;continue}this[t(287)](yield a);break;case Vt[t(216)]:yield e[t(241)](0,2);const h=s[t(258)](0);if(h>Gt[t(251)]||h<0){this[t(220)][t(209)](this[t(249)],t(253)),yield e;continue}this[t(236)](yield h);break;case Vt[t(284)]:return this.player[t(255)](this.TAG_NAME,t(284),r),void this[t(238)]();default:yield e[t(241)](0,2);const l=s[t(258)](0);if(l>Gt.skip||l<0){this.player[t(209)](this[t(249)],"Invalid skip size"),yield e;continue}yield l}}}catch(e){throw this[t(220)][t(188)](this[t(249)],t(252),e),this[t(238)](),e}}[lg(204)](t){const e=lg;if(t[e(240)]<4)throw new Error(e(199));const s=t[1],i=s>>7==1,r=(64&s)>>6==1,n=t[2];if(t[e(240)]<n+3)throw new Error(e(199));const o=t[e(241)](3,3+n);return i&&o[e(240)]>4&&(this.pts=(14&o[0])<<29|o[1]<<22|(254&o[2])<<14|o[3]<<7|o[4]>>1,r&&o[e(240)]>9?this[e(212)]=(14&o[5])<<29|o[6]<<22|(254&o[7])<<14|o[8]<<7|o[9]>>1:this.dts=this[e(218)]),t[e(241)](3+n)}[lg(197)](t){const e=lg,s=new DataView(t[e(260)],t[e(270)],t[e(206)]),i=t[e(240)];let r=2;const n=s[e(258)](r);r+=2,r+=n;let o=s.getUint16(r);for(r+=2;o>0&&!(i<=r+1);){const n=t[r];r++;const a=t[r];if(r++,a>=224&&a<=239?this[e(217)][e(289)]||(n===Wt.h264?this[e(217)][e(289)]=K[e(232)]:n===Wt[e(187)]?this[e(217)].type=K[e(187)]:this.player[e(209)](this[e(249)],e(210)+n),this.player[e(255)](this[e(249)],e(203)+this.videoTrack.type)):a>=192&&a<=223&&(this.audioTrack[e(289)]||(n===Wt.aac?this[e(198)][e(289)]=Y.AAC:n===Wt[e(214)]?this[e(198)][e(289)]=Y.G711A:n===Wt[e(226)]?this.audioTrack[e(289)]=Y[e(230)]:n===Wt[e(229)]?this[e(198)][e(289)]=Wt[e(229)]:this[e(220)][e(209)](this.TAG_NAME,e(256)+n),(this[e(205)]()||this[e(245)]())&&(this.audioTrack[e(192)]=1,this.audioTrack[e(259)]=8e3),this[e(220)][e(255)](this.TAG_NAME,e(277)+JSON.stringify(this[e(198)])))),i<=r+1)break;const h=s[e(258)](r);r+=2,r+=h,o-=4+h}}demuxVideo(t){const e=lg,s=this[e(204)](t),i=this[e(290)];if(!this.startTime)if(this[e(248)]()){if((126&s[4])>>1!=32)return!1;this[e(193)]=Date.now(),this.currentPTS=this[e(218)]}else{if(7!=(15&s[4]))return!1;this.startTime=Date.now(),this.currentPTS=this[e(218)]}if(this.currentPTS==this[e(218)])return this[e(244)]+=s[e(240)],i[e(235)](s.slice()),!1;if(i.length&&this[e(224)]!=this[e(218)]){let t=0,s=!0;this[e(248)]()?(126&i[0][4])>>1!=32&&(s=!1):1==(15&i[0][4])&&(s=!1);const r=1==i[e(240)]?i[0]:i[e(191)](((s,i)=>{const r=e;return s[r(241)](t)[r(222)](i),t+=i[r(240)],s}),new Uint8Array(this[e(244)])),n=this.pts/90,o=this.dts/90;this[e(220)][e(257)]({dts:o,vbps:8*r[e(206)]}),this._parseVideoData(r,{isIFrame:s,dts:o,pts:n}),i[e(240)]=0}this[e(244)]+=s[e(240)],i.push(s[e(247)]()),this.currentPTS=this[e(218)]}[lg(236)](t){const e=lg;if(!this[e(220)][e(276)][e(267)])return;const s=this.parsePESPacket(t);this.player[e(257)]({abps:8*s[e(206)]}),this[e(280)](s,this[e(212)]/90)}[lg(211)](t,e){const s=lg,i=Ue(t),r=this[s(248)]();if(0===i.length)return;let n=null,o=e[s(264)];const a=e[s(212)],h=e[s(218)],l=h-a;i[s(278)]((t=>{const e=s,i=r?t[0]>>>1&63:31&t[0];switch(i){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==i||r&&5===i)break;!o&&(this.player[e(255)](this[e(249)],"not I frame and set I frame"),o=!0);break;case 32:if(!r)break;!this[e(217)][e(201)]&&(this[e(217)][e(201)]=t);break;case 7:case 33:if(!r&&7!==i||r&&7===i)break;!this[e(217)][e(194)]&&(this.videoTrack.sps=t);break;case 8:case 34:if(!r&&8!==i||r&&8===i)break;!this[e(217)][e(234)]&&(this[e(217)][e(234)]=t)}if(r&&Sl(i)||!r&&Xh(i)){const s=Ge(t);if(n){const t=new Uint8Array(n[e(206)]+s[e(206)]);t[e(222)](n,0),t[e(222)](s,n[e(206)]),n=t}else n=s}}));let c=null;r?this[s(217)][s(194)]&&this[s(217)].pps&&this[s(217)][s(201)]&&(c=Al({vps:this[s(217)][s(201)],sps:this.videoTrack.sps,pps:this[s(217)][s(234)]})):this[s(217)].sps&&this[s(217)].pps&&(c=Kh({sps:this.videoTrack[s(194)],pps:this.videoTrack.pps})),c&&!this._isSendVideoSeqHeader&&(this.player[s(255)](this[s(249)],"video seq header"),this[s(231)](c,x.video,0,!0,0),this._isSendVideoSeqHeader=!0),n&&this._doDecodeVideo(n,{pts:h,dts:a,cts:l,isIFrame:o})}[lg(280)](t,e){const s=lg;if(this.audioTrack[s(289)])if(this[s(272)]()){if(!this[s(269)]){this._isSendAACSeqHeader=!0;const e=function(t){const e=1+((192&t[2])>>>6),s=(60&t[2])>>>2,i=(1&t[2])<<2|(192&t[3])>>>6,r=new Uint8Array([(3&e)<<3|(14&s)>>1,(1&s)<<7|(15&i)<<3]);return{profile:e,sampleRateIndex:s,sampleRate:ge[s],channel:i,audioSpecificConfig:r}}(t[s(241)](0,7));this[s(198)]=Object.assign(this.audioTrack,{description:e.audioSpecificConfig,sampleRate:e[s(259)],channels:e[s(265)]});const i=Ae({profile:e[s(213)],sampleRate:e[s(227)],channel:e[s(265)]});this[s(220)][s(255)](this[s(249)],s(283),"profile: "+e[s(213)]+s(221)+e[s(259)]+s(261)+e.sampleRateIndex+s(196)+e[s(265)]),this._doDecodeByPs(i,x[s(251)],0,!1,0)}if(this[s(269)]){let i=ve(t[s(241)](7));this[s(262)](i,e)}}else{let i;this[s(205)]()?i=Sm(t):this[s(245)]()?i=Em(t):this.isMP3()&&(i=Um(t)),this[s(262)](i,e)}}[lg(281)](t,e){const s=lg,i=new Uint8Array(t);let r=null;r=this[s(248)]()?vl(i,e[s(264)]):qh(i,e[s(264)]),e[s(264)]&&this[s(273)](e[s(212)]),this._doDecodeByPs(r,x[s(207)],e[s(212)],e[s(264)],e.cts)}[lg(262)](t,e){const s=lg,i=this.cryptoPayloadAudio(t);this._doDecodeByPs(i,x[s(251)],e,!1,0)}[lg(248)](){const t=lg;return this[t(217)][t(289)]===K.h265}isAAC(){const t=lg;return this[t(198)][t(289)]===Y[t(291)]}[lg(205)](){const t=lg;return this[t(198)][t(289)]===Y.G711A}[lg(245)](){const t=lg;return this.videoTrack[t(289)]===Y[t(230)]}isMP3(){const t=lg;return this[t(198)].type===Y[t(228)]}_cleanup(){const t=lg;this[t(220)][t(255)](this[t(249)],t(263))}[lg(219)](){const t=lg;this[t(268)]&&(this.input[t(219)](),this.input=null)}[lg(225)](){const t=lg;let e=0;return this.input&&this[t(268)][t(260)]&&(e=this[t(268)].buffer[t(206)]),e}}!function(t,e){const s=bg,i=t();for(;;)try{if(341490===parseInt(s(481))/1+-parseInt(s(482))/2*(parseInt(s(484))/3)+-parseInt(s(477))/4*(-parseInt(s(478))/5)+-parseInt(s(476))/6*(-parseInt(s(480))/7)+parseInt(s(483))/8*(-parseInt(s(474))/9)+-parseInt(s(472))/10*(-parseInt(s(475))/11)+-parseInt(s(479))/12*(parseInt(s(473))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vg);const ug={h264:2,h264_plug:4,h265:12},pg={h264:1,h265:2},fg={g711u:10,g711a:14,aac:26},mg={sampleRate_4000:1,sampleRate_8000:2,sampleRate_11025:3,sampleRate_16000:4,sampleRate_20000:5,sampleRate_22050:6,sampleRate_32000:7,sampleRate_44100:8,sampleRate_48000:9},gg={sampleRate_4000:1,sampleRate_8000:2,sampleRate_11025:3,sampleRate_16000:4,sampleRate_20000:5,sampleRate_22050:6,sampleRate_24000:7,sampleRate_32000:8,sampleRate_44100:9,sampleRate_48000:10},yg={g711u:2,g711a:1,aac:3},Ag=[252,253,254,240,251,241,0,0,255,0];function vg(){const t=["1536180cNluKT","958068fKRwoj","24535sMaQLQ","462073qKakdC","242rbmVgc","23752qXPpQM","2955QXpqhi","1150dGYsdf","208epcWhd","216KcHNUp","35563nVBRqF","618mheeva","8zDatvQ"];return(vg=function(){return t})()}function bg(t,e){const s=vg();return(bg=function(t,e){return s[t-=472]})(t,e)}const Sg={audio:192,video:224},Eg={video:1,audio:16};function wg(t){return 90===t[0]&&76===t[1]&&65===t[2]&&86===t[3]}function Tg(t){const e=kg;let s=null;switch(t){case fg[e(513)]:s=Y[e(491)];break;case fg[e(501)]:s=Y.G711A;break;case fg.aac:s=Y[e(514)];break;case ug[e(490)]:case ug.h264_plug:s=K[e(490)];break;case ug[e(492)]:s=K[e(492)]}return s}function Ig(t){const e=kg;let s=null;switch(t){case mg.sampleRate_4000:s=4e3;break;case mg[e(500)]:s=8e3;break;case mg[e(511)]:s=11025;break;case mg[e(493)]:s=16e3;break;case mg[e(494)]:s=2e4;break;case mg.sampleRate_22050:s=22050;break;case mg[e(506)]:s=32e3;break;case mg[e(516)]:s=44100;break;case mg.sampleRate_48000:s=48e3}return s}function kg(t,e){const s=Cg();return(kg=function(t,e){return s[t-=489]})(t,e)}function _g(t){return 0===t[0]&&0===t[1]&&1===t[2]}function Cg(){const t=["G711U","h265","sampleRate_16000","sampleRate_20000","76010FTJJeS","slice","sampleRate_24000","2836431opabKt","length","sampleRate_8000","g711a","2621316wVuEIX","204236oqRfnk","7iNLXVX","2302088stbwuy","sampleRate_32000","240800TtHpaQ","6EckGyd","aac","21265jYAqvK","sampleRate_11025","942nWfjFI","g711u","AAC","result","sampleRate_44100","index","h264"];return(Cg=function(){return t})()}!function(t,e){const s=kg,i=t();for(;;)try{if(412847===parseInt(s(507))/1+-parseInt(s(503))/2*(-parseInt(s(508))/3)+parseInt(s(502))/4+parseInt(s(510))/5*(-parseInt(s(512))/6)+-parseInt(s(504))/7*(-parseInt(s(505))/8)+-parseInt(s(498))/9+parseInt(s(495))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cg);const Dg=Rg;function Rg(t,e){const s=Lg();return(Rg=function(t,e){return s[t-=233]})(t,e)}function Lg(){const t=["application/octet-stream","playbackStreamFps","video","G711U","frame data length is not equal, frame data length: ","startTimestamp","_isAAC","545170MaWWlI",", pts: ","updatePlaybackStreamFps","dts","h265","samplingFrequencyIndex","TAG_NAME","set","objectType","slice","headLength","_parseExtHeadFromData","_handlePacket","sampleRateIndex","_zlPsStreamParse","_hasInitAudio"," and frameLength is ","indexOf","depth","_doDecodeAudio","CommonDemux","data length is not enough for head length, head length: ","frame type is not support, frameType: ","3313040nxbuFf","_remainingPacketData",", channel: ",", fps: ","length","dataLength",".aac","isTendaPs","_isH265","_doDecode","AAC","type","not I frame and set I frame","_isG711U","debugWarn","updatePlaybackStreamFps() and fps is ","_hasInitVideo","vps","12FHDNnw","audio","_parseAudioData","forEach","lastVideoIncreaseRelativeTimestamp","video seq header","isPlaybackCacheBeforeDecodeForFpsRender","payload length: ","index","setStreamFps","relativeTimestamp","hasAudio","1478442UCYkgB","audio_init_segment_dispatched_","debugLog","isIFrame","init and isTendaPs:","lastAudioRelativeTimestamp","downloadTempFile","data length is not enough for one frame, frameLength: ","channelCount","video info type: ",", data length: ","11311850xvpXQy","_parseVideoData","audio info ","59749IzWmGi","width","videoTrack","updateStats","_parseHeadFromData","video_init_segment_dispatched_","height","channels","lastAudioIncreaseRelativeTimestamp","calcIframeIntervalTimestamp","_zlStreamParse","audioTrack","player","hasVideo","lastVideoRelativeTimestamp","_doDecodeByTenda","3hWHfDa","fps","h264","sampleRate","_opt","12LgBDpN",", sampleRate:","_doDecodeVideo","tempBufferList","_isH264","pps","_isG711A",", isIFrame: ","destroy","byteLength","2624056iwgCVI","_parsePesHeadFromData","6838821WyUnoB","result","sps","frameLength","codec"];return(Lg=function(){return t})()}!function(t,e){const s=Rg,i=t();for(;;)try{if(469278===parseInt(s(294))/1*(-parseInt(s(315))/2)+-parseInt(s(310))/3*(parseInt(s(325))/4)+-parseInt(s(339))/5*(-parseInt(s(268))/6)+-parseInt(s(280))/7+-parseInt(s(250))/8+parseInt(s(327))/9+parseInt(s(291))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Lg);class Pg extends Cf{constructor(t){const e=Rg;super(t),this[e(233)]="TendaDemux",this[e(251)]=null,this[e(299)]=!1,this[e(281)]=!1,this[e(296)]={width:0,height:0,sps:null,pps:null,vps:null,type:null,fps:0},this[e(305)]={channels:0,type:null,sampleRate:0,sampleRateIndex:-1,duration:0},this[e(308)]=0,this[e(285)]=0,this[e(272)]=0,this.lastAudioIncreaseRelativeTimestamp=0,this[e(318)]=[],this[e(337)]=null,t[e(282)](this[e(233)],e(284),t[e(314)][e(257)])}[Dg(323)](){const t=Dg;super[t(323)](),this[t(251)]=null,this[t(299)]=!1,this.audio_init_segment_dispatched_=!1,this[t(296)]=null,this[t(305)]=null,this.lastVideoRelativeTimestamp=0,this[t(285)]=0,this[t(272)]=0,this[t(302)]=0,this[t(318)]=[],this[t(306)].debugLog(this.TAG_NAME,t(323))}[Dg(238)](t){const e=Dg;let s=0;for(s=0;s<t[e(254)];)switch(t[s]){case 128:(!this[e(296)][e(295)]||!this[e(296)][e(300)])&&(this[e(296)].width=8*Kl(t,s+2),this.videoTrack[e(300)]=8*Kl(t,s+3)),s+=4;break;case 129:!this[e(296)][e(261)]&&(this[e(296)][e(311)]=Kl(t,s+3),this[e(296)][e(261)]=Tg(Kl(t,s+2)),this[e(306)].debugLog(this[e(233)],e(289)+this[e(296)].type+", fps: "+this[e(296)][e(311)]),this.updatePlaybackStreamFps(this[e(296)][e(311)])),s+=4;break;case 130:(!this.videoTrack[e(295)]||!this[e(296)][e(300)])&&(this.videoTrack[e(295)]=ql(t,s+4),this.videoTrack[e(300)]=ql(t,s+6)),s+=8;break;case 131:!this[e(305)][e(261)]&&(this[e(305)][e(301)]=Kl(t,s+1),this[e(305)].type=Tg(Kl(t,s+2)),this[e(305)].sampleRate=Ig(Kl(t,s+3)),this.audioTrack[e(240)]=ye.indexOf(this[e(305)][e(313)])),s+=4;break;case 136:s+=8;break;case 135:s+=4}}[Dg(298)](t){const e=Dg;if(t[e(254)]<24)return this.player[e(282)](this[e(233)],e(248)+24+e(290)+t[e(254)]),{length:0};const s=t[4];t[5],t[6],t[7],t[8],t[9],t[10],t[11];const i=t[12]|t[13]<<8|t[14]<<16|t[15]<<24,r=t[16]|t[17]<<8|t[18]<<16|t[19]<<24,n=t[20]|t[21]<<8,o=t[22];if(t[e(254)]<i)return this.player.debugLog(this[e(233)],e(287)+i+e(290)+t[e(254)]),{length:0};if(o>0){let s=t[e(236)](24,24+o);this._parseExtHeadFromData(s)}let a=null,h=!1,l=!1,c=!1;s===Ag[1]?(h=!0,a=x[e(334)]):s===Ag[0]?(l=!0,a=x[e(334)]):s===Ag[2]?(c=!0,a=x[e(334)]):s===Ag[3]?a=x.audio:this.player[e(282)](this[e(233)],e(249)+s+e(243)+i);let d=n,u=0;if(a===x.video||a===x[e(269)]){let t=a===x[e(334)]?this.lastVideoRelativeTimestamp:this[e(285)];u=n<t?65535-t+n:n-t,d=(a===x[e(334)]?this[e(272)]:this[e(302)])+u,a===x.video?(this[e(272)]=d,this.lastVideoRelativeTimestamp=n):(this.lastAudioIncreaseRelativeTimestamp=d,this[e(285)]=n)}return{type:a,isIFrame:h,isPFrame:l,isBFrame:c,timestamp:r,relativeTimestamp:d,streamRelativeTimestamp:n,frameLength:i,headLength:24+o,extHeadLength:o,duration:u}}[Dg(326)](t){const e=Dg,s=t[3];let i={frameLength:0};if(s!==Sg.audio&&s!==Sg[e(334)])return i;const r=t.slice(0,32)[e(236)](19),n=r[0],o=r[4]|r[3]<<8|r[2]<<16|r[1]<<24,a=32+(r[8]|r[7]<<8|r[6]<<16|r[5]<<24);if(t[e(254)]<a)return this[e(306)][e(282)](this.TAG_NAME,e(287)+a+e(290)+t[e(254)]),i;i[e(330)]=a;const h=t.slice(32,a);if(n===Eg[e(269)]){if(!this[e(305)].type){const t=r[9],s=r[10],i=r[11],n=r[12];this[e(305)][e(261)]=function(t){const e=kg;let s=null;switch(t){case yg[e(513)]:s=Y[e(491)];break;case yg[e(501)]:s=Y.G711A;break;case yg[e(509)]:s=Y[e(514)]}return s}(t),this[e(305)].channels=s,this[e(305)][e(313)]=function(t){const e=kg;let s=null;switch(t){case gg.sampleRate_4000:s=4e3;break;case gg[e(500)]:s=8e3;break;case gg.sampleRate_11025:s=11025;break;case gg[e(493)]:s=16e3;break;case gg[e(494)]:s=2e4;break;case gg.sampleRate_22050:s=22050;break;case gg[e(497)]:s=24e3;break;case gg[e(506)]:s=32e3;break;case gg.sampleRate_44100:s=44100;break;case gg.sampleRate_48000:s=48e3}return s}(n),this[e(305)].sampleRateIndex=ye[e(244)](this.audioTrack[e(313)]),this.audioTrack[e(245)]=function(t){let e=null;switch(t){case 1:e=8;break;case 2:e=16;break;case 3:e=32}return e}(i),this[e(306)].debugLog(this.TAG_NAME,e(293)+JSON.stringify(this.audioTrack))}this._handlePacket(h,{type:x[e(269)],pts:o,relativeTimestamp:o})}else if(n===Eg[e(334)]){!this[e(296)][e(261)]&&(this[e(296)][e(261)]=function(t){const e=kg;let s=null;switch(t){case pg[e(490)]:s=K[e(490)];break;case pg.h265:s=K[e(492)]}return s}(r[9]),this[e(296)][e(311)]=r[11],this[e(306)][e(282)](this.TAG_NAME,"video info type: "+this[e(296)].type+e(253)+this[e(296)][e(311)]),this[e(341)](this[e(296)][e(311)]));const t=r[10],s=1===t,i=2===t;this[e(239)](h,{type:x.video,isIFrame:s,isPFrame:i,pts:o,relativeTimestamp:o})}return i}dispatch(t){const e=Dg;let s=new Uint8Array(t);this[e(251)]&&(s=xi(this._remainingPacketData,s),this[e(251)]=null),this._isTendaPs()?this[e(241)](s):this[e(304)](s)}[Dg(304)](t){const e=Dg,s=function(t){const e=kg;let s={result:!1,index:0};if(t.length<4)return s;if(wg(t))return s.result=!0,s;for(let i=1;i<t[e(499)]-3;i++)if(wg(t[e(496)](i,i+4))){s[e(515)]=!0,s[e(489)]=i;break}return!s[e(515)]&&(s[e(489)]=t[e(499)]-3),s}(t);if(s.result){const i=s[e(276)];let r=t[e(236)](i);const n=this[e(298)](r);if(0===n[e(254)])return void(this._remainingPacketData=r);const o=n[e(330)]-n[e(237)]-8;n[e(255)]=o;const a=n.headLength+o,h=n.headLength+o+8;if(function(t,e){let s=!1;return t[kg(499)]<8||122!==(i=t)[0]||108!==i[1]||97!==i[2]||118!==i[3]?s:(t[4]|t[5]<<8|t[6]<<16|t[7]<<24)===e||s;var i}(r.slice(a,h),n.frameLength)){const t=n[e(237)],s=r[e(236)](t,t+o);return s[e(254)]===o?this[e(239)](s,n):this[e(306)][e(264)](this.TAG_NAME,e(336)+s[e(254)]+", dataLength: "+o),r=r[e(236)](n[e(330)]),void this[e(304)](r)}this._remainingPacketData=r}else if(s[e(276)]){const i=t[e(236)](s.index);this[e(251)]=i}else this[e(251)]=t}[Dg(241)](t){const e=Dg,s=function(t){const e=kg;let s={result:!1,index:0};if(t.length<3)return s;if(_g(t))return s[e(515)]=!0,s;for(let i=1;i<t[e(499)]-2;i++)if(_g(t[e(496)](i,i+3))){s[e(515)]=!0,s[e(489)]=i;break}return!s.result&&(s[e(489)]=t[e(499)]-2),s}(t);let i=null;if(s[e(328)]){const r=s.index;i=t.slice(r);const n=this[e(326)](i);return 0===n.frameLength?void(this[e(251)]=t):(i=i[e(236)](n[e(330)]),void this[e(241)](i))}s[e(276)]?this._remainingPacketData=t.slice(s[e(276)]):this._remainingPacketData=t}_handlePacket(t,e){const s=Dg;e[s(261)]===x[s(334)]?this[s(306)][s(314)][s(307)]&&this[s(292)](t,e):e[s(261)]===x.audio&&this[s(306)][s(314)][s(279)]&&this[s(270)](t,e)}_parseVideoData(t,e){const s=Dg;if(!this[s(296)].type)return;const i=Ue(t),r=this[s(258)]();if(0===i[s(254)])return;let n=null,o=e[s(283)],a=e[s(278)];i[s(271)]((t=>{const e=s,i=r?t[0]>>>1&63:31&t[0];switch(i){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==i||r&&5===i)break;!o&&(this[e(306)][e(282)](this.TAG_NAME,e(262)),o=!0);break;case 32:if(!r)break;!this[e(296)][e(267)]&&(this[e(296)][e(267)]=t);break;case 7:case 33:if(!r&&7!==i||r&&7===i)break;!this[e(296)][e(329)]&&(this.videoTrack[e(329)]=t);break;case 8:case 34:if(!r&&8!==i||r&&8===i)break;!this[e(296)][e(320)]&&(this[e(296)][e(320)]=t)}if(r&&Sl(i)||!r&&Xh(i)){const s=Ge(t);if(n){const t=new Uint8Array(n[e(324)]+s[e(324)]);t[e(234)](n,0),t[e(234)](s,n[e(324)]),n=t}else n=s}}));let h=null;r?this[s(296)][s(329)]&&this[s(296)].pps&&this[s(296)][s(267)]&&(h=Al({vps:this[s(296)][s(267)],sps:this[s(296)][s(329)],pps:this[s(296)].pps})):this[s(296)][s(329)]&&this[s(296)][s(320)]&&(h=Kh({sps:this[s(296)][s(329)],pps:this[s(296)][s(320)]})),h&&!this[s(299)]&&(this[s(306)][s(282)](this[s(233)],s(273)),this[s(309)](h,x[s(334)],0,!0,0),this[s(299)]=!0),n&&(this.player.debugLog(this[s(233)],s(275)+n.byteLength+s(322)+o+s(340)+a),this[s(317)](n,{pts:a,dts:a,isIFrame:o}))}_parseAudioData(t,e){const s=Dg;if(this.audioTrack[s(261)])if(this[s(338)]()){if(!this.audio_init_segment_dispatched_){const i=Te(t,e[s(278)]);if(i&&(this[s(305)][s(331)]=i.codec,!this.audio_init_segment_dispatched_)){const t=Ae({profile:i.objectType,sampleRate:i[s(344)],channel:i[s(288)]});this[s(306)][s(282)](this[s(233)],"aac seq header","profile: "+i[s(235)]+s(316)+i[s(313)]+",sampleRateIndex: "+i.samplingFrequencyIndex+s(252)+i[s(288)]),this.audio_init_segment_dispatched_=!0,this[s(309)](t,x[s(269)],0,!1,0)}}this[s(281)]&&this[s(246)](t[s(236)](7),e[s(278)])}else this[s(246)](t,e.relativeTimestamp)}[Dg(317)](t,e){const s=Dg,i=new Uint8Array(t);let r=null;r=this[s(258)]()?vl(i,e[s(283)]):qh(i,e[s(283)]),this[s(306)].updateStats({dts:e[s(342)],vbps:r[s(324)]}),e[s(283)]&&this[s(303)](e[s(342)]),this._doDecodeByTenda(r,x[s(334)],e[s(342)],e[s(283)],0)}[Dg(246)](t,e){const s=Dg,i=new Uint8Array(t);this[s(306)][s(297)]({abps:i[s(324)]});let r=null;this[s(338)]()?(r=new Uint8Array(i[s(254)]+2),r.set([175,1],0),r[s(234)](i,2)):this[s(321)]()?(r=new Uint8Array(i.length+1),r[s(234)]([114],0),r.set(i,1)):this[s(263)]()&&(r=new Uint8Array(i[s(254)]+1),r[s(234)]([130],0),r[s(234)](i,1)),this[s(309)](r,x.audio,e,!1,0)}[Dg(242)](){const t=Dg;return this[t(305)][t(261)]&&this[t(305)].sampleRate&&this.audioTrack.channels}[Dg(266)](){const t=Dg;return this.videoTrack[t(261)]&&this[t(296)][t(329)]&&this[t(296)][t(320)]}[Dg(258)](){const t=Dg;return this[t(296)][t(261)]===K[t(343)]}[Dg(319)](){const t=Dg;return this.videoTrack[t(261)]===K[t(312)]}[Dg(338)](){const t=Dg;return this[t(305)][t(261)]===Y[t(260)]}[Dg(321)](){const t=Dg;return this.audioTrack[t(261)]===Y.G711A}_isG711U(){const t=Dg;return this.audioTrack.type===Y[t(335)]}_isTendaPs(){const t=Dg;return bi(this[t(306)][t(314)].isTendaPs)}getInputByteLength(){const t=Dg;return this[t(251)]&&this._remainingPacketData[t(324)]||0}[Dg(341)](t){const e=Dg;this.player[e(274)]()&&(this[e(306)][e(282)](e(247),e(265)+t),this[e(333)]=t,this[e(306)][e(334)]&&this[e(306)][e(334)][e(277)](this.playbackStreamFps),this.initPlaybackCacheLoop())}[Dg(309)](t,e,s,i){const r=Dg;let n=arguments[r(254)]>4&&void 0!==arguments[4]?arguments[4]:0;this[r(259)](t,e,s,i,n)}[Dg(286)](){const t=Dg;if(0===this[t(318)][t(254)])return;const e=zl(this[t(318)]),s=new Blob([e],{type:t(332)});Ds(Je()+t(256),s)}}const xg=Bg;function Mg(){const t=["demuxType","webTransport","isWebrtcH265","tenda","1453146CZITQn","mpeg4","1048628IuJDIi","flv","_opt","3YOPEXS","15949656zVhssE","getLoaderFactory","3512616jrocMF","50055xkCCpO","nakedFlow","46506FJsUQk","469aMJZYt","m7s","1765876ilGsEx","fmp4"];return(Mg=function(){return t})()}function Bg(t,e){const s=Mg();return(Bg=function(t,e){return s[t-=154]})(t,e)}!function(t,e){const s=Bg,i=t();for(;;)try{if(528703===-parseInt(s(164))/1+-parseInt(s(162))/2+parseInt(s(167))/3*(parseInt(s(156))/4)+parseInt(s(171))/5+-parseInt(s(173))/6*(-parseInt(s(154))/7)+-parseInt(s(170))/8+parseInt(s(168))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mg);class Fg{constructor(t){return new(Fg[Bg(169)](t))(t)}static[xg(169)](t){const e=xg,s=t[e(166)][e(158)];return Fi()?lm:s===e(161)?Pg:s===d[e(155)]?Yf:s===d[e(165)]||t[e(160)]()?t[e(166)].demuxFlvUseV2?zf:jf:s===d[e(159)]?Xf:s===d[e(172)]?nm:s===d[e(157)]&&Si(t.isPlayVod())?Vm:s===d[e(163)]?Gm:s===d.ts?ag:s===d.ps?dg:lm}}function Ug(){const t=["length","2437006qQSozM","buffer","222466WzoTFd","150130iBWoRe","9WubPnl","getUint32","byteLength","opus","346187WKyOGp","1333920yrUlDE","1565XIllAX","1434128LrlrnC","getInt16","OpusHead","3972aBallW","7unjrRw","72BbqLNs","byteOffset"];return(Ug=function(){return t})()}function Og(t,e){const s=Ug();return(Og=function(t,e){return s[t-=389]})(t,e)}!function(t,e){const s=Og,i=t();for(;;)try{if(179731===-parseInt(s(407))/1+parseInt(s(401))/2*(parseInt(s(403))/3)+-parseInt(s(394))/4*(parseInt(s(390))/5)+parseInt(s(389))/6+-parseInt(s(395))/7*(-parseInt(s(391))/8)+-parseInt(s(396))/9*(parseInt(s(402))/10)+parseInt(s(399))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ug);const Ng=jg;function jg(t,e){const s=Vg();return(jg=function(t,e){return s[t-=208]})(t,e)}function Vg(){const t=["isAudioDecodeStateClosed","decoder","AAC","isG711","1345191MOeArq","updateVideoInfo","configure audio error","9EIAqxG","prevDts","handlePlayToRenderTimes","mp3","videoStart","configure","closed","16ayKiKO","close","handleError","videoInfo","stringify","OPUS","isDecodeFirstIIframe","decoder.configure() and codec is "," so drop this frame","numberOfChannels","version","play","reset","code","isOpus","hevcDecodingIsNotSupported","ulaw",", old height is ","codecWidth","now","isSeeking"," and return","webcodecsDecodeError","handleRender","updatePrevHandleDecodeTimestamp","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","updateAudioInfo","debugLog","isPlayVod","checkFirstIFrame","isDestroyedOrClosed","needInitAudio","init","channelCount","emit","audioSourceNoDataCheckTimeout","lastDecodedTs","1936102vLgmak","_times","handleDecodeAudio","hasInit","emitError","1420790GnWGrR","VideoDecoder first frame is not iFrame","decodeVideo and webcodecs configure is","audioSourceBufferCheckTimeout","decodeAudio and has already initialized and payload is aac codec packet so drop this frame","configured","isAAC","MP3","getDecodeDiffTimes","codec","pushData","unconfigured","updateMediaSourceDuration"," , payload is ","recorder","initDecoderAudio","decodingError","TAG_NAME","hasAudioInit","state","AudioDecoder handleError：","render$2","prevTimestamp","ms, video is stuck","updateStats","initAudioAacExtraData","4261930uiLbiN","initCanvasViewSize","flush","timestamp","_isDestroyed","wcsWidthOrHeightChange","debugWarn","prefer-hardware","decodeStart","isWidthOrHeightChanged","decoderError","isPlayback","indexOf","webcodecsH265NotSupport","1212XSsjLU"," more than ",",\n                         new width is ","key","hasAudio","isAudioDecodeStateUnConfigured","video","decodeVideo: video width or height is changed,\n                        old width is ","delta","player","isDecodeStateClosed","_opt","debugError","isAudioDecodeStateConfigured","configure error","934wisARG","MULAW","sequenceHeader","decodeAudio and has already initialized and payload is not opus comment packets and type is ","24082696XtyEPQ","h264","decoderFailure","isUseFpsRender","handleDecode","unsupportedConfiguration","decodeVideo() player is destroyed","isInitInfo","getCorrectionConfiguration","VideoDecoder handleError：","VideoDecoder:","updateVideoInfo: ","opus","width ","toString","codedWidth","width","increaseLocalTimestamp","height","seekingTimestamp","removeSeekingTimestamp","isPlayer","hardwareAcceleration","handleDecode() isDecodeFirstIIframe is false and return","_clearAudioSourceBufferCheckTimeout","lastPushToDecodeTs","isMp3","decodeVideo","4IZxiqr","decode","webcodecsUnsupportedConfigurationError","off","initMetaData","playbackPause","initDecoder","_clearAudioNoDataCheckTimeout","WebcodecsDecoder not support hevc decode","playVod","playback","sampleRate","5297292jCNaPW","audio","handleErrorAudio","handleDecode() player is destroyed and return","decodeDiffTimestamp","render","isAudioInitInfo","optimizeForLatency","audioInfo","destroy","webcodecsDecodeConfigureError","slice","webcodecsAudioDecodeError",", new height is ","recordType","decoderAudio","decodeVideo and payload is too small , payload length is ","prevHandleDecodeTimestamp","isDecodeStateConfigured","webcodecsAudioNoDataTimeout","AudioDecoder isDecodeStateClosed true","codecHeight","byteLength","mp4"];return(Vg=function(){return t})()}!function(t,e){const s=jg,i=t();for(;;)try{if(493640===parseInt(s(245))/1*(-parseInt(s(230))/2)+parseInt(s(317))/3*(parseInt(s(277))/4)+parseInt(s(369))/5+-parseInt(s(289))/6+-parseInt(s(364))/7*(parseInt(s(327))/8)+parseInt(s(320))/9*(-parseInt(s(216))/10)+parseInt(s(249))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Vg);class Wg extends zi{constructor(t){const e=jg;super(),this[e(239)]=t,this.TAG_NAME="Webcodecs",this.reset(),this.isDecodeFirstIIframe=!!Si(t[e(241)][e(356)]),this[e(314)]=null,this.decoderAudio=null,this.audioSourceBufferCheckTimeout=null,this[e(362)]=null,this[e(283)](),this[e(358)]()&&this.initDecoderAudio(),this._isDestroyed=!1,t.debugLog(this.TAG_NAME,e(359))}async destroy(){const t=jg;if(this[t(220)]=!0,this[t(284)](),this[t(273)](),this[t(314)]){if(this[t(367)])try{await this[t(314)][t(218)]()}catch(t){}Si(this[t(240)]())&&this[t(314)].close(),this.decoder=null}if(this[t(304)]){if(this[t(208)])try{await this[t(304)][t(218)]()}catch(t){}Si(this[t(313)]())&&this[t(304)][t(328)](),this[t(304)]=null}this[t(339)](),this[t(280)](),this[t(239)][t(354)](this[t(386)],t(298))}[Ng(339)](){const t=Ng;this[t(212)]=null,this[t(293)]=null,this[t(306)]=null,this[t(321)]=null,this[t(367)]=!1,this[t(256)]=!1,this[t(295)]=!1,this[t(375)]=!1,this[t(275)]=!1,this.isOpus=!1,this[t(316)]=!1,this[t(333)]=!1,this[t(225)]=!1,this[t(274)]=null,this[t(363)]=null}[Ng(283)](){const t=Ng,e=this;this[t(314)]=new VideoDecoder({output(s){e[t(253)](s)},error(t){e.handleError(t)}})}[Ng(384)](){const t=Ng,e=this;this[t(304)]=new AudioDecoder({output(s){e[t(366)](s)},error(s){e[t(291)](s)}})}[Ng(358)](){const t=Ng;return this[t(239)]._opt[t(234)]&&this[t(239)][t(241)].wcsDecodeAudio}[Ng(253)](t){const e=Ng;if(this[e(220)])hi(t);else{if(this[e(239)][e(357)]())return this[e(239)][e(354)](this.TAG_NAME,e(292)),void hi(t);if(Si(this[e(333)]))return this[e(239)][e(354)](this[e(386)],e(272)),void hi(t);if(this[e(358)]()&&Si(this[e(208)]))return null===this[e(372)]&&(this[e(372)]=setTimeout((()=>{this[e(273)](),this._isDestroyed||this.player.emit(V.webcodecsAudioInitTimeout)}),1e3)),void hi(t);if(this[e(363)]=t[e(219)],this.player[e(270)]())this[e(351)](),this[e(239)].updateStats({dfps:!0}),!this[e(239)][e(365)][e(324)]&&(this[e(239)][e(365)][e(324)]=Je(),this[e(239)][e(322)]()),this[e(239)][e(236)][e(294)]({videoFrame:t,ts:t[e(219)]}),this[e(239)][e(350)]();else if(this[e(239)][e(227)]())this[e(239)][e(214)]({dfps:!0}),Si(this[e(239)][e(282)])?(this[e(239)].playback.isUseLocalCalculateTime&&this[e(239)][e(287)][e(266)](),this[e(239)][e(287)][e(252)]?this[e(239)].video[e(379)]({videoFrame:t,ts:t[e(219)]}):this[e(239)][e(236)][e(211)]({videoFrame:t,ts:t[e(219)]})):this[e(239)].playback[e(352)]()&&this[e(239)][e(287)].isUseFpsRender&&this[e(239)][e(236)].pushData({videoFrame:t,ts:t[e(219)]});else if(this[e(239)][e(355)]())if(this[e(239)].playVod[e(347)]()){const s=this[e(239)][e(286)][e(268)];Math.abs(s-t[e(219)])<500?(this[e(239)].playVod[e(269)](),this.player.updateStats({dfps:!0}),this[e(239)][e(236)][e(211)]({videoFrame:t,ts:t[e(219)]})):hi(t)}else this.player[e(214)]({dfps:!0}),this[e(239)].video.render$2({videoFrame:t,ts:t[e(219)]})}}[Ng(329)](t){const e=Ng;this.player[e(242)](this[e(386)],e(258),t.code,t);const s=t.toString();-1!==s[e(228)](mt[e(254)])?this[e(239)][e(368)](V[e(279)],s):-1!==s[e(228)](mt[e(251)])||-1!==s[e(228)](mt[e(385)])?this.player[e(368)](V[e(349)],s):-1!==s[e(228)](mt[e(226)])?this[e(239)][e(368)](V[e(349)],s):-1!==s[e(228)](mt.hevcDecodingIsNotSupported)&&this[e(239)][e(368)](V[e(229)],s)}handleDecodeAudio(t){const e=Ng;if(this[e(220)])li(t);else{if(this[e(239)][e(357)]()&&this[e(239)][e(354)](this[e(386)],"handleDecodeAudio() player is destroyed"),Si(this.isDecodeFirstIIframe))return this[e(239)][e(354)](this[e(386)],"handleDecodeAudio() isDecodeFirstIIframe is false and return"),void li(t);this.player[e(270)]()?this[e(239)][e(290)][e(338)](t,t[e(219)]):this[e(239)][e(227)]()?this[e(239)][e(290)][e(338)](t,t.timestamp):this.player.isPlayVod()&&(this[e(239)][e(286)][e(347)]()?li(t):this[e(239)][e(290)][e(338)](t,t[e(219)]))}}handleErrorAudio(t){const e=Ng;this[e(239)][e(242)](this[e(386)],e(210),t[e(340)],t),this[e(239)][e(361)](V[e(301)])}[Ng(276)](t,e,s,i){const r=Ng;if(!this._isDestroyed)if(this.player.isDestroyedOrClosed())this[r(239)][r(222)](this.TAG_NAME,r(255));else if(this[r(367)])if(!this[r(333)]&&s&&(this[r(333)]=!0),this[r(333)]){if(this.isDecodeStateClosed())return void this[r(239)][r(222)](this[r(386)],"VideoDecoder isDecodeStateClosed true");if(s&&0===t[1]){const e=15&t[0];let s={},i=t[r(300)](5);const n=this[r(239)].getCorrectionConfiguration();e===K[r(250)]?s=Hh(i,n):e===K.h265&&(s=yl(i,n));const o=this[r(239)][r(236)][r(330)];o&&o[r(265)]&&o[r(267)]&&s&&s[r(345)]&&s[r(310)]&&(s[r(345)]!==o[r(265)]||s.codecHeight!==o.height)&&(this[r(239)].debugWarn(this.TAG_NAME,r(237)+o[r(265)]+r(344)+o[r(267)]+r(232)+s.codecWidth+r(302)+s[r(310)]+",\n                         and emit change event"),this[r(225)]=!0,this[r(239)][r(368)](V[r(221)],r(262)+o[r(265)]+"->"+o.height+" height "+s[r(345)]+"->"+s.codecHeight))}if(this[r(225)])return void this[r(239)][r(222)](this[r(386)],"decodeVideo: video width or height is changed, and return");if(vi(t))return void this[r(239)][r(354)](this[r(386)],"decodeVideo and payload is video sequence header so drop this frame");if(t[r(311)]<12)return void this[r(239)][r(222)](this.TAG_NAME,r(305)+t[r(311)]+r(348));let i=!1,n=Date[r(346)]();!this[r(212)]&&(this[r(212)]=n,i=!0);const o=n-this[r(212)];this[r(293)]=o,o>85&&!i&&this.player[r(270)]()&&this[r(239)][r(354)](this[r(386)],"decodeVideo diff time is "+o+r(231)+85+r(213));const a=t[r(300)](5),h=new EncodedVideoChunk({data:a,timestamp:e,type:s?st[r(233)]:st[r(238)]});this[r(239)][r(214)]({p2dfps:!0}),this[r(274)]=e;try{this[r(314)][r(278)](h)}catch(t){const e=t.toString();this[r(239)].debugError(this[r(386)],r(259),t,e),-1!==e[r(228)](mt.keyframeIsRequiredError)?this[r(239)][r(368)](V[r(349)],e):-1!==e[r(228)](mt.canNotDecodeClosedCodec)&&this.player[r(368)](V[r(349)],e)}this.prevTimestamp=n}else this[r(239)].debugLog(this[r(386)],r(370));else if(s&&t[1]===At[r(247)]){const e=15&t[0];if(this.player[r(236)][r(318)]({encTypeCode:e}),e===K.h265&&!ks()){const t=ds();return this.player.debugWarn(this[r(386)],r(285),t.type,t[r(337)]),void this[r(239)].emitError(V[r(229)])}!this[r(239)][r(365)][r(224)]&&(this[r(239)][r(365)][r(224)]=Je());let s=null,i=null;const n=t.slice(5),o=this[r(239)][r(257)]();if(e===K[r(250)]?(i=Hh(n,o),s={codec:i.codec,description:n}):e===K.h265&&(i=yl(n,o),s={codec:i[r(378)],description:n}),!s||s&&!s[r(378)]||i&&0===i.codecWidth&&0===i[r(310)])return this[r(239)][r(222)](this[r(386)],r(371),JSON[r(331)](s)),void this[r(239)][r(368)](V.webcodecsDecodeConfigureError,"configure or configure.code is null");s.codedHeight=i[r(310)],s[r(264)]=i[r(345)],!this[r(256)]&&(this[r(239)][r(354)](this[r(386)],r(260)+i[r(345)]+","+i[r(310)]),this[r(239)].video[r(318)]({width:i[r(345)],height:i[r(310)]}),this[r(239)][r(236)][r(217)](),this[r(256)]=!0),this[r(239)].recorder&&this.player[r(241)][r(303)]===c[r(312)]&&this[r(239)][r(383)][r(281)](t,e),this.player[r(236)].bindMediaStream(),this[r(239)][r(354)](this[r(386)],r(334)+s[r(378)]);try{s[r(296)]=!0,s[r(271)]=r(223),this[r(314)][r(325)](s),this[r(367)]=!0}catch(t){this.player[r(242)](this.TAG_NAME,r(244),t[r(340)],t);const e=t.toString();-1!==e[r(228)](mt[r(342)])?this.player.emitError(V[r(229)],e):this[r(239)].emitError(V[r(299)],e)}}else this[r(239)][r(222)](this[r(386)],"decodeVideo has not init , isIframe is "+s+r(382)+t[1]+r(335))}decodeAudio(t,e){const s=Ng;if(!this[s(220)])if(this[s(239)][s(357)]())this[s(239)][s(222)](this.TAG_NAME,"decodeAudio() player is destroyed");else if(this[s(208)]){if(this.isAAC&&be(t))return void this.player[s(354)](this[s(386)],s(373));if(this[s(341)]&&Si(1===t[1]))return void this[s(239)][s(354)](this[s(386)],s(248)+t[1]+s(335));if(this[s(284)](),this[s(333)]){if(this[s(313)]())return void this.player[s(222)](this.TAG_NAME,s(309));const i=this[s(375)]||this.isOpus?t[s(300)](2):t[s(300)](1),r=i.length/this[s(239)][s(290)][s(297)][s(288)]*1e3,n=new EncodedAudioChunk({type:s(233),data:i,timestamp:e,duration:parseInt(r,10)});try{this.decoderAudio[s(278)](n)}catch(t){const e=t[s(263)]();this[s(239)][s(242)](this.TAG_NAME,"AudioDecoder",t,e),this[s(239)].emit(V[s(301)])}}}else{const e=t[0]>>4&15,i=t[0]>>1&1,r=e===Y[s(376)],n=e===Y[s(315)],o=e===Y.ALAW,a=e===Y[s(246)],h=e===Y[s(332)];let l="";l=n||h?i?16:8:0===i?8:16;const d={codec:"",numberOfChannels:"",sampleRate:""};let u=null;if(n||r){let e=null;if(be(t)){const i=t[s(300)](2);e=_e(i),e&&(d[s(378)]=e.originalCodec,d.numberOfChannels=e[s(360)],d[s(288)]=e[s(288)]),u=i,this[s(375)]=n}else if(r){e=Fm(t.slice(1)),e&&(d.codec=zt[s(323)],d[s(336)]=e[s(360)],d[s(288)]=e.sampleRate,this.isMp3=!0)}else if(h&&0===t[1]){e=function(t){const e=Og;if(!t[e(398)])return;const s=new DataView(t[e(400)],t[e(397)],t.byteLength);let i="";for(let e=0;e<8;e++)i+=String.fromCodePoint(t[e]);if(i!==e(393))throw new Error("Invalid Opus MagicSignature");const r=t[9],n=s[e(404)](12,!0),o=s[e(392)](16,!0);if(!n)return{};const a=e(406);return{outputGain:o,sampleRate:n,channelCount:r,config:new Uint8Array(t[e(400)],t[e(397)]+8,t[e(405)]-8),codec:a,originCodec:"opus"}}(t[s(300)](2)),e&&(d[s(378)]=zt[s(261)],d[s(336)]=e[s(360)],d[s(288)]=e[s(288)]),this[s(341)]=!0}}else(a||o)&&(d[s(378)]=o?zt.alaw:zt[s(343)],d[s(336)]=1,d[s(288)]=8e3,this[s(316)]=!0);if(d[s(378)]&&d[s(336)]&&d[s(288)]){!this.isAudioInitInfo&&(this[s(239)][s(290)][s(353)]({encTypeCode:e,channels:d.numberOfChannels,sampleRate:d[s(288)],depth:l}),this[s(295)]=!0),this[s(239)].recorder&&this[s(239)][s(241)][s(303)]===c[s(312)]&&u&&this.player[s(383)][s(215)](u),this[s(239)][s(354)](this[s(386)],"decoderAudio.configure() and codec is "+d.codec);try{this[s(304)][s(325)](d),this[s(273)](),this[s(208)]=!0,null===this.audioSourceNoDataCheckTimeout&&(this[s(362)]=setTimeout((()=>{const t=s;this[t(284)](),this[t(220)]||this[t(239)][t(361)](V[t(308)])}),1e3))}catch(t){this[s(239)][s(242)](this[s(386)],s(319),t.code,t),t[s(263)]()}}}}[Ng(381)](t){}[Ng(273)](){const t=Ng;this[t(372)]&&(clearTimeout(this[t(372)]),this.audioSourceBufferCheckTimeout=null)}[Ng(284)](){const t=Ng;this[t(362)]&&(clearTimeout(this.audioSourceNoDataCheckTimeout),this[t(362)]=null)}[Ng(377)](){return this.decodeDiffTimestamp}updatePrevHandleDecodeTimestamp(){const t=Ng,e=Je();null===this[t(306)]&&(this[t(306)]=e);const s=e-this[t(306)];s>85&&this[t(239)].debugLog(this[t(386)],"handleDecode diff time is "+s+" more than 85"+t(213)),this[t(306)]=e}[Ng(240)](){const t=Ng;return this.decoder&&this[t(314)][t(209)]===t(326)}[Ng(307)](){const t=Ng;return this[t(314)]&&this[t(314)].state===t(374)}isDecodeStateUnConfigured(){const t=Ng;return this[t(314)]&&"unconfigured"===this.decoder[t(209)]}[Ng(313)](){const t=Ng;return this.decoder&&"closed"===this[t(304)][t(209)]}[Ng(243)](){const t=Ng;return this[t(314)]&&this.decoderAudio.state===t(374)}[Ng(235)](){const t=Ng;return this[t(314)]&&this[t(304)][t(209)]===t(380)}getDecodeDelay(){const t=Ng;let e=0;return this[t(274)]&&this[t(363)]&&(e=this[t(274)]-this[t(363)]),e}}function Gg(t,e){const s=zg();return(Gg=function(t,e){return s[t-=162]})(t,e)}function zg(){const t=["7tLectI","forEach","1668486rniOQH","414017rqpQXS",'<span class="icon-title-tips"><span class="icon-title">',"keys","4524584AVHTBQ","1335900tJldnO","10270776rNmPOM","505407JWyGkL","</span></span>",'"></i>\n        ',"1621592KLOiwz",'\n        <i class="jb-pro-icon jb-pro-icon-',"length"];return(zg=function(){return t})()}function Hg(t,e){const s=Kg();return(Hg=function(t,e){return s[t-=432]})(t,e)}function Kg(){const t=["1545860mkpfEV","11216385EWQXjc","showControl","jb-pro-controls-show","fullscreenExit","faceActive","_opt","add",'\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-wiper-open jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"hasControl",'</div>\n                <div class="jb-pro-controls-item jb-pro-playback-expand">',"</div>\n        </div>\n        ","occlusionActive",'\n        <div class="jb-pro-loading">\n            ',"audio",'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-wiper-close jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">','\n                        <div class="jb-pro-playback-control-time"></div>\n                        <div class="jb-pro-controls-item-html">',"319BIUrXr","logSave","face",'\n        <div class="jb-pro-zoom-controls">\n            <div class="jb-pro-zoom-narrow">',"showPrecisionBtn","452780GcLihM",' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-zoom">','</div><div class="jb-pro-controls-item jb-pro-pause">',"mute",'</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-focus-near jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-focus-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">',"ptzCruiseShow",'\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-quality-menu">\n                                    <div class="jb-pro-quality-icon-text"></div>\n                                    <div class="jb-pro-quality-menu-list"></div>\n                                </div>\n                             </div>\n                         ','</div><div class="jb-pro-controls-item jb-pro-face-active">',"\n        ","simple","</span>\n                            </span>\n                        </div>\n                    </div>\n                    ","$container",'\n        <div class="jb-pro-control-progress-simple">\n            <div class="jb-pro-control-progress-inner">\n                <div class="jb-pro-progress-hover"></div>\n                <div class="jb-pro-progress-cache"></div>\n                <div class="jb-pro-progress-played"></div>\n                <div class="jb-pro-progress-indicator"></div>\n                <div class="jb-pro-progress-tip">00:00</div>\n            </div>\n        </div>\n    ','\n        <div class="jb-pro-controls-center">\n            <div class="jb-pro-controls-playback-time">\n                <div class="jb-pro-controls-playback-time-inner">\n                    <div class="jb-pro-controls-playback-time-scroll">\n                        <div class="jb-pro-controls-playback-time-list">\n                            <div class="jb-pro-playback-time-day">\n                                <div class="jb-pro-playback-time-one-wrap"></div>\n                                <div class="jb-pro-playback-time-second-wrap"></div>\n                            </div>\n                        </div>\n                        <div class="jb-pro-controls-playback-current-time">\n                            <div class="jb-pro-controls-playback-current-time-text">00:00:00</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            ',"expandMinus",'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-cruise-pause jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"object",'</div><div class="jb-pro-controls-item jb-pro-object-active">',"pause","ptzZoomShow",'\n                                     <div class="jb-pro-volume-panel-wrap">\n                                          <div class="jb-pro-volume-panel">\n                                                 <div class="jb-pro-volume-panel-handle"></div>\n                                          </div>\n                                          <div class="jb-pro-volume-panel-text"></div>\n                                     </div>\n                                 </div>\n                            </div>\n                         ',"play",'</div>\n            <div class="jb-pro-zoom-expand">',"\n                         ",'</div><div class="jb-pro-controls-item jb-pro-record-stop">',"aiFace","11567AyeVnb","\n                                     ",'\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left-up" data-arrow="left-up"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right-up" data-arrow="right-up"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left-down" data-arrow="left-down"></div>\n                <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right-down" data-arrow="right-down"></div>\n                ',"ptzMoreArrowShow","ptzWiperShow",'\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-fog-open jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">','</div>\n            <div class="jb-pro-zoom-tips">',"3407460GXHreP","zoomStop","performanceLive",'</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-narrow jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-narrow-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">',"performanceActive","controlAutoHide",'<div class="jb-pro-play-big"></div>',"apertureFar","236iqhhgl","scale","classList","narrow",'\n                <div class="jb-pro-controls-playback-btns">\n                <div class="jb-pro-controls-item jb-pro-playback-narrow">','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-close">',' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-record">','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-screenshot">',"ptz","normal",'</div><div class="jb-pro-controls-item jb-pro-occlusion-active">','\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-speed-menu">\n                                    <div class="jb-pro-speed-icon-text"></div>\n                                    <div class="jb-pro-speed-menu-list"></div>\n                                </div>\n                             </div>\n                         ',"\n            </div>\n        </div>\n        ",'">\n            <div class="jb-pro-ptz-bg-active"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-up" data-arrow="up"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-right" data-arrow="right"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-down" data-arrow="down"></div>\n            <div class="jb-pro-ptz-arrow jb-pro-ptz-arrow-left" data-arrow="left"></div>\n            ',"screenshot","zoom",'</div>\n                    <div class="jb-pro-performance-panel-tab-btn jb-pro-performance-panel-tab-btn2">','</div>\n            <div class="jb-pro-zoom-stop2">',"close","\n       ",'</span>\n                            </span>\n                        </div>\n                        <div class="jb-pro-ptz-fog-close jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">','</div><div class="jb-pro-controls-item jb-pro-ptz-active">',"playVod","ptzFogShow","showRateBtn","cruisePlay",'\n            <div class="jb-pro-ptz-control"></div>\n            <div class="jb-pro-ptz-btns">\n                ','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-performance">',"loading","playbackTF",'\n                             <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-scale-menu">\n                                    <div class="jb-pro-scale-icon-text"></div>\n                                    <div class="jb-pro-scale-menu-list"></div>\n                                 </div>\n                             </div>\n                         ','\n            <div class="jb-pro-controls">\n                <div class="jb-pro-controls-bottom">\n                    <div class="jb-pro-controls-left">\n                        ','\n                    <div class="jb-pro-ptz-btn">\n                        <div class="jb-pro-ptz-cruise-play jb-pro-ptz-icon">\n                            <i class="jb-pro-ptz-focus-icon"></i>\n                            <span class="icon-title-tips">\n                                <span class="icon-title">',"objectActive","expand","playbackConfig","\n                    ","operateBtns",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-object">','<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-occlusion">',"aiOcclusion","recordStop","2397392gxjHeu",'</div><div class="jb-pro-controls-item jb-pro-zoom-stop">',"getI18n","record","playType",' <div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-ptz">',"</div></div>","performanceInfo","controlType","ptzShowType",'</div>\n        </div>\n        <div class="jb-pro-recording">\n            <div class="jb-pro-recording-red-point"></div>\n            <div class="jb-pro-recording-time">00:00:00</div>\n            <div class="jb-pro-recording-stop">',"fullscreen","751877hZENdt","controlHtml","10gPKJEa","\n        </div>\n    ","showBandwidth","zoomTips","</span>\n                                </span>\n                            </div>\n                        </div>\n                        ","fogClose","playVodConfig","jb-pro-controls-show-auto-hide","apertureNear","i18n","6rSDwKj",'</span>\n                                </span>\n                            </div>\n                            <div class="jb-pro-ptz-aperture-near jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-aperture-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">',"ptzActive",'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-logSave">',"focusNear",'</div><div class="jb-pro-controls-item jb-pro-performance-active">',"wiperClose","quality",'</div><div class="jb-pro-controls-item jb-pro-fullscreen-exit">',"background",'\n            <div class="jb-pro-loading-text">','\n        <div class="jb-pro-loading-bg">\n            <img class="jb-pro-loading-bg-image" src="" alt="">\n        </div>\n        ',"hasVideo","\n                ","beforeend",')"></div>',"performance",'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-expand jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-expand-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">'];return(Kg=function(){return t})()}!function(t,e){const s=Gg,i=t();for(;;)try{if(695320===parseInt(s(165))/1+parseInt(s(174))/2+parseInt(s(171))/3+parseInt(s(168))/4+-parseInt(s(169))/5+-parseInt(s(164))/6+-parseInt(s(162))/7*(parseInt(s(170))/8))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zg),function(t,e){const s=Hg,i=t();for(;;)try{if(742956===-parseInt(s(433))/1*(-parseInt(s(448))/2)+-parseInt(s(440))/3+parseInt(s(532))/4*(parseInt(s(504))/5)+-parseInt(s(514))/6*(-parseInt(s(502))/7)+-parseInt(s(490))/8+parseInt(s(533))/9+parseInt(s(554))/10*(-parseInt(s(549))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Kg);var qg=(t,e)=>{const s=Hg,i=function(){const t=Gg;let e=arguments[t(176)]>0&&void 0!==arguments[0]?arguments[0]:{};const s={};return Object[t(167)](Qt)[t(163)]((i=>{const r=t,n=e[i]||Qt[i];s[i]=r(175)+i+r(173)+(n?r(166)+n+r(172):"")+"\n        "})),s}(t._opt[s(513)]||{}),r=t[s(492)]();t[s(538)][s(541)]&&t._opt[s(445)]?t[s(565)][s(450)][s(539)](s(511)):t[s(565)].classList[s(539)](s(535));const n=t[s(538)],o=n[s(485)],a=s(567)+(n[s(483)][s(553)]?s(452)+i[s(451)]+s(542)+i[s(482)]+"</div>\n            </div>\n            ":"")+s(505),h=s(566);kn(s(562)+(n[s(523)]?'<div class="jb-pro-poster" style="background-image: url('+n[s(523)]+s(529):"")+s(525)+(n.loadingIcon?s(545)+i[s(476)]+s(524)+n.loadingText+s(543):"")+"\n        "+(n[s(541)]&&o[s(575)]?s(446):"")+"\n        "+(n[s(541)]&&o[s(456)]?'\n        <div class="jb-pro-ptz-controls show-'+n[s(499)]+s(461)+(n[s(436)]?s(435):"")+s(474)+(n[s(573)]?s(531)+r.expandPlus+s(443)+r[s(568)]+s(508):"")+s(527)+(n.ptzApertureShow?'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-aperture-far jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-aperture-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">'+r[s(447)]+s(515)+r[s(512)]+s(508):"")+s(527)+(n.ptzFocusShow?'\n                        <div class="jb-pro-ptz-btn">\n                            <div class="jb-pro-ptz-focus-far jb-pro-ptz-icon">\n                                <i class="jb-pro-ptz-focus-icon"></i>\n                                <span class="icon-title-tips">\n                                    <span class="icon-title">'+r.focusFar+s(558)+r[s(518)]+"</span>\n                                </span>\n                            </div>\n                        </div>\n                        ":"")+s(527)+(n[s(559)]?s(480)+r[s(473)]+s(569)+r.cruisePause+s(564):"")+s(527)+(n[s(471)]?s(438)+r.fogOpen+s(468)+r[s(509)]+s(564):"")+s(527)+(n[s(437)]?s(540)+r.wiperOpen+s(547)+r[s(520)]+"</span>\n                            </span>\n                        </div>\n                    </div>\n                    ":"")+s(460):"")+s(467)+(n[s(526)]?s(552)+i[s(451)]+s(439)+r[s(507)]+s(576)+i[s(482)]+s(465)+i[s(441)]+s(500)+i[s(489)]+"</div>\n        </div>\n       ":"")+s(562)+(n.hasControl?s(479)+(n[s(506)]?'<div class="jb-pro-controls-item jb-pro-speed" title="网速"></div>':"")+s(548)+n[s(503)]+"</div>\n                    </div>\n                    "+(n[s(494)]===l[s(477)]&&n[s(483)][s(534)]&&n.playbackConfig[s(498)]===y[s(457)]?a:"")+s(484)+(n[s(494)]===l[s(477)]&&n.playbackConfig[s(534)]&&n[s(483)][s(498)]===y[s(563)]?h:"")+s(484)+(n[s(494)]===l.playVod?h:"")+'\n                    <div class="jb-pro-controls-right">\n                        '+(n[s(494)]===l[s(477)]&&n[s(483)][s(472)]||n[s(494)]===l[s(470)]&&n[s(510)][s(472)]?s(459):"")+s(577)+(o[s(466)]?s(453)+i.close+"</div></div>":"")+s(577)+(o[s(550)]?s(517)+i.logSave+s(496):"")+s(577)+(o[s(530)]?s(475)+i[s(530)]+s(519)+i[s(444)]+s(496):"")+"\n                         "+(o[s(432)]?'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-face">'+i[s(551)]+s(561)+i[s(537)]+s(496):"")+"\n                         "+(o.aiObject?s(486)+i[s(570)]+s(571)+i[s(481)]+s(496):"")+"\n                         "+(o[s(488)]?s(487)+i.occlusion+s(458)+i[s(544)]+s(496):"")+s(577)+(o[s(521)]?s(560):"")+s(577)+(o[s(449)]?s(478):"")+s(577)+(o[s(546)]?'\n                            <div class="jb-pro-controls-item-wrap">\n                                <div class="jb-pro-controls-item jb-pro-volume">\n                                     '+i.audio+s(434)+i[s(557)]+s(574):"")+s(577)+(o[s(575)]?'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-play">'+i.play+s(556)+i[s(572)]+"</div></div>":"")+s(577)+(o.screenshot?s(455)+i[s(462)]+s(496):"")+s(577)+(o[s(493)]?s(454)+i.record+s(578)+i[s(489)]+s(496):"")+s(577)+(o[s(456)]?s(495)+i[s(456)]+s(469)+i[s(516)]+s(496):"")+s(577)+(o[s(463)]?s(555)+i[s(463)]+s(491)+i[s(441)]+s(496):"")+s(577)+(o.fullscreen?'<div class="jb-pro-controls-item-wrap"><div class="jb-pro-controls-item jb-pro-fullscreen">'+i[s(501)]+s(522)+i[s(536)]+s(496):"")+"\n                    </div>\n                </div>\n            </div>\n        ":"")+'\n         <div class="jb-pro-performance-panel">\n               <div class="jb-pro-performance-panel-tab">\n                    <div class="jb-pro-performance-panel-tab-btn jb-pro-performance-panel-tab-btn1 active">'+r[s(442)]+s(464)+r[s(497)]+'</div>\n               </div>\n               <div class="jb-pro-performance-panel-info jb-pro-performance-panel-info-1"></div>\n               <div class="jb-pro-performance-panel-info jb-pro-performance-panel-info-2"></div>\n        </div>\n         <div class="jb-pro-contextmenus"></div>\n         <div class="jb-pro-tips-message">\n            <div class="jb-pro-tips-message-close">\n                <div class="jb-pro-tips-message-close-icon"></div>\n            </div>\n            <div class="jb-pro-tips-message-content"></div>\n        </div>\n    ',s(528),t[s(565)])};function Yg(t,e){let s=!1;return t.forEach((t=>{const i=$g;!s&&t[i(175)]<=e&&t[i(211)]>e&&(s=!0)})),s}function Qg(){const t=['">\n                        <span class="jb-pro-playback-time-title-tips ','" data-type="',"$playbackTimeListOne",'\n                  <div class="jb-pro-playback-time-hour" data-hour="',"max","ceil"," start","endTimestamp",'" data-has-record="',"requestAnimationFrame","920954PQjiUW","min","rafId",'" data-min="',"startTimestamp","isStart","length","868730mHNtDw","second","1353709ePuhyB","insertAdjacentHTML","</span></div>\n                ","2646834HEazgj","</span></span>\n                    </div>\n                ","title",'"><span class="jb-pro-playback-time-hour-text">','"\n                     data-time="',"jb-pro-playback-time-title-tips-left"," active",'"><span class="jb-pro-playback-time-title">',":00","hasRecord",":05","172884OtIpKa","142695xwbWCg","timestamp","dataType",'\n                     <div class="jb-pro-playback-time-minute-one',"30bonpEo","16687080hZtnFV","replace","push","beforeend"];return(Qg=function(){return t})()}function Jg(){const t=$g;let e=arguments[t(177)]>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[t(177)]>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[t(177)]>2?arguments[2]:void 0;const r=e[t(177)],n=s[t(177)],o=Math[t(208)](r,n),a=2e3,h=Math[t(209)](o/a);let l=0,c=0;function d(){const n=t;let o="",u="";for(let t=0;t<a;t++){const t=e[c];t&&(o+=n(198)+(t[n(192)]?n(189):"")+(t[n(176)]?n(210):"")+n(169)+t[n(192)]+n(187)+t[n(196)]+n(205)+t[n(197)]+n(204)+(c>r-60?n(188):"")+n(190)+t.title+n(184));const i=s[c];i&&(u+=n(207)+i.hour+n(174)+i[n(172)]+'" data-second="'+i[n(179)]+n(186)+i[n(185)]+n(182)),c+=1}o&&i[n(206)][n(181)](n(203),o),u&&i.$playbackTimeListSecond[n(181)]("beforeend",u),l+=1,l<h&&(i[n(173)]=window[n(170)](d))}d()}function Xg(t,e){const s=function(){const t=$g;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{}).startTimestamp;for(let r=0;r<1440;r++){const n=r%60==0;let o=!1;i&&(o=Yg(e,Ws(i,r))),s[t(202)]({title:js(r),timestamp:r,dataType:t(172),hasRecord:o,isStart:n})}return s}(t);Jg(s,function(){const t=$g;let e=[];for(let s=0;s<24;s++){let i=s+t(191);s<10&&(i="0"+i),e.push({title:i,hour:s,min:0,second:0})}return e}(),e)}function $g(t,e){const s=Qg();return($g=function(t,e){return s[t-=169]})(t,e)}function Zg(t,e){const s=function(){const t=$g;let e=arguments[t(177)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(175)];for(let r=0;r<1440;r++){let n=60*r,o=n%1800==0,a=!1;i&&(a=Yg(e,Gs(i,n))),s[t(202)]({title:Vs(n),timestamp:n,dataType:t(179),hasRecord:a,isStart:o});let h=60*r+30;o=h%1800==0,i&&(a=Yg(e,Gs(i,h))),s[t(202)]({title:Vs(h),timestamp:h,dataType:t(179),hasRecord:a,isStart:o})}return s}(t);Jg(s,function(){const t=$g;let e=[];for(let s=0;s<24;s++){let i=s+t(191),r=s+":30";s<10&&(i="0"+i,r="0"+r),e.push({title:i,hour:s,min:0,second:0}),e[t(202)]({title:r,hour:s,min:30,second:0})}return e}(),e)}function ty(t,e){const s=function(){const t=$g;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(175)];for(let r=0;r<144;r++)for(let n=0;n<60;n++){let o=10*n+600*r,a=o%600==0,h=!1;i&&(h=Yg(e,Gs(i,o))),s[t(202)]({title:Vs(o),timestamp:o,dataType:t(179),isStart:a,hasRecord:h})}return s}(t);Jg(s,function(){const t=$g;let e=[];for(let s=0;s<24;s++){let i=s+t(191);s<10&&(i="0"+i),e[t(202)]({title:i,hour:s,min:0,second:0});for(let r=1;r<6;r++){let n=r+"0";e[t(202)]({title:i[t(201)](t(191),":"+n),hour:s,min:10*r,second:0})}}return e}(),e)}function ey(t,e){const s=function(){const t=$g;let e=arguments[t(177)]>0&&void 0!==arguments[0]?arguments[0]:[],s=[];const i=(e[0]||{})[t(175)];for(let r=0;r<288;r++)for(let n=0;n<60;n++){let o=5*n+300*r,a=o%300==0,h=!1;i&&(h=Yg(e,Gs(i,o))),s.push({title:Vs(o),timestamp:o,dataType:t(179),isStart:a,hasRecord:h})}return s}(t);Jg(s,function(){const t=$g;let e=[];for(let s=0;s<24;s++){let i=s+":00";s<10&&(i="0"+i),e[t(202)]({title:i,hour:s,min:0,second:0}),e[t(202)]({title:i[t(201)](":00",t(193)),hour:s,min:5,second:0});for(let r=1;r<6;r++){let n=r+"0",o=r+"5";e.push({title:i.replace(t(191),":"+n),hour:s,min:10*r,second:0}),e[t(202)]({title:i.replace(t(191),":"+o),hour:s,min:10*r+5,second:0})}}return e}(),e)}function sy(){const t=["1510LwfMqH","getBoundingClientRect","length","22XZGQGR","59814AnIbnl","clientWidth","clientX","remove","pageX","49074kmrgOM","4124172xdJISQ","touches","259612FIbHfA","1zgzQWA","602cfTMLq","35697EKPCsK","5480565EclKUP","floor","map","8pQIMTT","pageY","firstElementChild","$playbackProgress","6525272ncdPNa","left","join","bottom"];return(sy=function(){return t})()}function iy(t,e){const s=sy();return(iy=function(t,e){return s[t-=115]})(t,e)}function ry(t){const e=iy,s=Math[e(136)](t/3600),i=Math[e(136)]((t-3600*s)/60),r=Math[e(136)](t-3600*s-60*i);return(s>0?[s,i,r]:[i,r])[e(137)]((t=>t<10?"0"+t:String(t)))[e(117)](":")}function ny(t,e,s){const i=iy;let r=arguments[i(121)]>3&&void 0!==arguments[3]&&arguments[3];const n=t[i(141)],o=n[i(120)]();let a,h,l=n[i(124)];r?(a=as()&&s.touches?s.touches[0].clientY:s[i(139)],h=Xe(o[i(118)]-a,0,n.clientWidth)):(a=as()&&s[i(130)]?s.touches[0][i(125)]:s[i(127)],h=Xe(a-o[i(116)],0,n[i(124)]));const c=parseInt(h/l*e,10),d=ry(c),u=Xe(h/l,0,1);return{second:c,time:d,width:h,percentage:u}}function oy(t,e){return Xe(t/e,0,1)}function ay(t,e){const s=ly();return(ay=function(t,e){return s[t-=280]})(t,e)}!function(t,e){const s=$g,i=t();for(;;)try{if(242231===-parseInt(s(195))/1+-parseInt(s(171))/2+parseInt(s(199))/3*(-parseInt(s(194))/4)+-parseInt(s(178))/5+-parseInt(s(183))/6+-parseInt(s(180))/7+parseInt(s(200))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Qg),function(t,e){const s=iy,i=t();for(;;)try{if(585520===-parseInt(s(132))/1*(parseInt(s(131))/2)+parseInt(s(134))/3*(-parseInt(s(138))/4)+-parseInt(s(135))/5+parseInt(s(128))/6*(parseInt(s(133))/7)+parseInt(s(115))/8+-parseInt(s(123))/9*(-parseInt(s(119))/10)+-parseInt(s(122))/11*(parseInt(s(129))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sy),function(t,e){const s=ay,i=t();for(;;)try{if(256279===parseInt(s(569))/1+-parseInt(s(434))/2+parseInt(s(599))/3*(-parseInt(s(542))/4)+parseInt(s(425))/5+parseInt(s(457))/6+-parseInt(s(285))/7+parseInt(s(414))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ly);var hy=(t,e)=>{const s=ay,{events:{proxy:i}}=t;let r=null,n=null,o=null,a=null;const h=e.eventListenList;if(t._opt[s(554)]){r=document[s(300)](s(608)),n=s(397)+mi(),r.setAttribute(s(306),s(436)),r[s(619)](s(428),-1),r.setAttribute("id",n),r[s(666)]="text/html",r.data="about:blank",$e(r,{display:s(646),position:s(582),top:"0",left:"0",height:"100%",width:s(402),overflow:"hidden",pointerEvents:"none",zIndex:"-1"}),o=t[s(479)],a=t[s(325)];const k=vs((()=>{const e=s;(t[e(479)]!==o||t.height!==a)&&(o=t.width,a=t.height,t[e(426)](O[e(586)]))}),500),_=i(r,"load",(function(){const t=s,e=i(r[t(443)][t(520)],t(586),(function(){k()}));h.push(e)}));h[s(350)](_),t[s(363)][s(465)](r)}t.on(O[s(583)],(()=>{const e=s;if(r)try{if(!Tn(r)){const s=t[e(363)][e(472)]("#"+n);s&&t[e(363)]&&t[e(363)].removeChild(s)}}catch(t){}m&&(clearInterval(m),m=null),g=null,A=null,v=0,r=null,n=null,o=null,a=null})),t.on(O[s(665)],(()=>{!function(t){const i=s;if(0===t)$e(e.$volumeOn,"display",i(452)),$e(e[i(380)],i(383),i(675)),$e(e[i(622)],i(387),"48px");else if(e[i(622)]&&e[i(605)]){const s=Ze(e[i(605)],i(325))||60,r=Ze(e[i(622)],"height"),n=s-(s-r)*t-r;$e(e[i(622)],i(387),n+"px"),$e(e[i(374)],i(383),"flex"),$e(e[i(380)],i(383),i(452))}e[i(356)]&&(e.$volumePanelText[i(377)]=parseInt(100*t))}(t[s(327)])})),t.on(O[s(522)],(i=>{const r=s;e[r(461)]=!1,$e(e[r(598)],r(383),r(i?675:452)),(Si(t._opt[r(641)])&&bi(i)||Si(i))&&$e(e[r(399)],r(383),r(452)),i&&($e(e[r(655)],r(383),r(452)),$e(e[r(502)],r(383),r(452)),e[r(463)][r(607)]((t=>{const e=r;t[e(531)]===Kt[e(522)]&&(t[e(662)]&&$e(t[e(662)],e(383),e(675)),t[e(526)]&&$e(t[e(526)],e(383),e(452)))}))),!i&&t._opt[r(450)][r(653)]&&e[r(625)]&&$e(e[r(625)],r(383),r(646)),!i&&t.getRenderType()===f[r(647)]&&Si(t._opt.useMSE)&&c()})),t.on(O[s(409)],(()=>{const i=s;t.playVodInitSeekRemoveBackgroundLock&&(t.isPlayVodUseMSE()||t[i(324)]())?t[i(546)](e[i(291)],i(525)):c()}));const c=()=>{const i=s;e[i(507)]&&e.$loadingBg&&e[i(507)].src&&(t[i(546)](e[i(291)],i(305)),e.$loadingBgImage.width=0,e[i(507)].height=0,e[i(507)][i(584)]="",$e(e.$loadingBg,"display",i(452)))},d=()=>{const e=s;if(t[e(628)],b(),as())if(t[e(541)].androidMobileFullscreenRotate)t[e(628)]?t[e(563)]()&&(t[e(363)][e(445)][e(637)](e(349)),t[e(289)](270)):(t[e(363)].classList.remove(e(349)),t.setRotate(0)),E((()=>{T()}));else{var i,r;if(null===(i=screen)||void 0===i||null===(r=i.orientation)||void 0===r||!r.lock)return;const s=screen[e(471)][e(666)];if(t[e(628)]){const i=t[e(479)],r=t[e(325)],{clientWidth:n,clientHeight:o}=document.documentElement;if(i>r&&n<o||i<r&&n>o){const i=s[e(640)](e(466))?e(626):e(466);screen[e(471)].lock(i)[e(307)]((()=>{const s=e;gn(t[s(363)],s(353))}))}}else An(t[e(363)],"jb-pro-auto-orientation-fullscreen")&&screen.orientation[e(412)](s)[e(307)]((()=>{const s=e;yn(t.$container,s(353))}))}},p=e=>{const i=s;$s(e)===t[i(363)]&&d()};let m=null,g=null,A=null,v=0;function b(i){const r=s;if(Si(t[r(366)]()))return;let n=Ls(i)?i:t.fullscreen;$e(e[r(509)],r(383),r(n?675:452)),$e(e[r(654)],r(383),n?"none":r(675))}function S(){const e=s;return t[e(541)][e(417)]===l.playbackTF&&t._opt.playbackConfig.showControl}function E(i){const r=s;e.$controls&&t[r(587)]()?setTimeout((()=>{const s=r;if(t[s(628)]){const i=t[s(660)](!1);let r=t[s(325)]/2-t[s(479)]+i/2,n=t.height/2-i/2;if(e.$controls[s(338)][s(312)]=s(492)+-r+"px) translateY(-"+n+"px) rotate(-90deg)",e[s(354)]){const i=156,r=30,n=t.width/2+i/2-r/2;e[s(354)].style[s(312)]=s(492)+-n+s(438)+t[s(325)]/2+"px) rotate(-90deg)"}if(e[s(482)]){const i=101,r=20,n=t.width/2+i/2-r/2;e.$recording.style[s(312)]=s(492)+-n+"px) translateY("+t[s(325)]/2+"px) rotate(-90deg)"}e[s(518)]&&(e[s(518)][s(338)][s(312)]=s(373))}else e[s(411)][s(338)][s(312)]=s(418),e.$zoomControls&&(e.$zoomControls[s(338)].transform=s(427)),e[s(482)]&&(e.$recording.style[s(312)]="translateX(-50%) translateY(0) rotate(0)"),e.$ptzControl&&(e[s(518)][s(338)].transform=s(315));i&&i()}),10):i&&i()}try{he.on(s(340),p),t.events[s(421)][s(350)]((()=>{const t=s;he.off(t(340),p)}))}catch(C){}function w(i){const r=s;i?($e(e[r(344)],r(383),r(452)),$e(e.$playBig,r(383),r(452)),t[r(345)]()&&($e(e.$playbackTime,"display",r(646)),$e(e[r(326)],"display",r(675)),$e(e[r(468)],"display","flex")),t[r(624)]()&&$e(e[r(468)],r(383),r(675))):(t[r(508)]&&Si(t[r(541)][r(560)])?($e(e[r(344)],"display","none"),$e(e.$playBig,r(383),"none")):($e(e.$play,r(383),r(675)),$e(e.$playBig,"display",r(646))),e[r(576)]&&(e[r(576)][r(377)]=function(t){const e=ze;if(null==t||""===t)return"0 KB/s";let s=parseFloat(t);return s=s[e(611)](2),s+e(618)}("")),$e(e[r(354)],r(383),r(452)),$e(e[r(482)],r(383),r(452)),e[r(518)]&&e[r(518)][r(445)][r(313)](r(606)),t[r(624)]()&&t[r(541)][r(322)]&&t[r(433)].isEnded()&&($e(e[r(344)],r(383),r(675)),$e(e.$playBig,r(383),"block"))),$e(e[r(382)],r(383),i?"flex":r(452)),$e(e[r(603)],"display",r(i?675:452)),$e(e[r(385)],r(383),i?r(675):"none"),$e(e[r(585)],r(383),i?r(675):"none"),$e(e.$volume,"display",i?r(675):"none"),$e(e.$ptz,r(383),r(i?675:452)),$e(e[r(517)],r(383),r(i?675:452)),$e(e[r(500)],"display",r(i?675:452)),$e(e[r(323)],r(383),r(i?675:452)),$e(e[r(470)],r(383),r(i?675:452)),$e(e[r(504)],"display",r(i?675:452)),$e(e.$controlHtml,r(383),i?"flex":r(452)),(t[r(345)]()||t.isPlayVod())&&$e(e.$speedMenu,r(383),r(i?675:452)),b(),e.extendBtnList[r(607)]((t=>{const e=r;t[e(531)]===Kt[e(352)]&&(t[e(662)]&&$e(t[e(662)],e(383),e(i?675:452)),t[e(526)]&&$e(t[e(526)],e(383),e(452)))})),t[r(541)][r(456)]?$e(e[r(568)],"display",r(i?675:452)):($e(e.$performance,r(383),i?"flex":r(452)),$e(e[r(568)],r(383),"none")),$e(e[r(399)],r(383),r(452)),$e(e[r(294)],r(383),r(452)),$e(e[r(384)],r(383),"none"),$e(e[r(469)],r(383),r(452)),$e(e[r(669)],r(383),r(452)),$e(e[r(386)],"display",r(452)),T(),i&&I()}function T(){const i=s;if(S()&&t[i(541)][i(302)][i(627)]===y[i(592)]){let s=e[i(441)][i(479)]-e.controlsLeftRect.width-e[i(565)][i(479)]-e[i(413)].width;as()&&t[i(422)]&&(s=e[i(441)][i(325)]-e[i(381)].height-e[i(565)][i(325)]-e.controlsPlaybackBtnsRect[i(325)]),e[i(658)][i(338)][i(479)]=s+"px"}}function I(){const i=s;if(!function(){const e=s;return S()&&t[e(541)][e(302)][e(627)]===y.normal}())return;const r=e.$playbackCurrentTime[i(338)][i(527)];let n=parseInt(r,10);const o=e.controlsPlaybackTimeInner[i(479)];n=n-o/2>0?parseInt(n-o/2,10):0,e[i(658)][i(581)]=n}if(t.on(O[s(422)],(t=>{as()&&(b(t),E((()=>{T()})))})),t.on(O[s(337)],(()=>{d()})),t.on(O[s(635)],(()=>{const i=s;t[i(352)]&&($e(e.$record,i(383),t.recording?"none":i(675)),$e(e.$recordStop,i(383),t[i(635)]?"flex":"none"),(t._opt[i(633)]||t[i(541)][i(597)])&&($e(e.$recording,i(383),t[i(635)]?i(675):i(452)),Si(t[i(635)])&&e[i(501)]&&(e[i(501)][i(377)]=Os(0))))})),t.on(O[s(458)],(t=>{const i=s;e[i(501)]&&(e[i(501)].innerHTML=Os(t))})),t.on(O[s(346)],(()=>{const i=s;t.playing&&($e(e.$zoom,i(383),t[i(346)]?i(452):i(675)),$e(e[i(469)],"display",t[i(346)]?i(675):i(452)),(t[i(541)].hasControl||t[i(541)].isShowZoomingUI)&&$e(e[i(354)],i(383),t[i(346)]?i(675):i(452)))})),t.on(O[s(352)],(t=>{w(t)})),t[s(345)]()&&t.on(O.playbackPause,(t=>{w(!t)})),t.on(O[s(629)],(i=>{const r=s,n=function(t){const e=ze;if(null==t||""===t||0===parseFloat(t)||t===e(797))return e(497);const s=["B/s",e(618),"MB/s","GB/s",e(539),e(717),e(848),"ZB/s",e(679)];let i=0;const r=parseFloat(t/8);i=Math[e(524)](Math.log(r)/Math[e(769)](1024));let n=r/Math[e(779)](1024,i);return n=n[e(611)](2),n+(s[i]||s[0])}(1e3*i);e[r(290)]=n,t._opt[r(473)]&&e[r(576)]&&(e[r(576)][r(377)]=n),T()})),S()){function D(){const i=s;if(S()){let s=0;const r=t[i(432)]&&t[i(432)].playingTimestamp;if(r){const n=new Date(r),o=n.getHours(),a=n[i(439)](),h=n[i(567)]();t[i(432)][i(534)]?s=60*o+a:t[i(432)][i(362)]?s=2*(60*o+a)+parseInt(h/30,10):t[i(432)].is10Min?s=6*(60*o+a)+parseInt(h/10,10):t[i(432)][i(664)]?s=12*(60*o+a)+parseInt(h/5,10):t[i(432)][i(496)]&&(s=60*(60*o+a)+parseInt(h,10)),e.$playbackCurrentTime[i(338)][i(527)]=s+"px"}}}function R(t){const i=s;e[i(283)].classList[i(313)](i(310)),e[i(435)].classList[i(313)](i(310)),t===ot[i(446)]&&e[i(283)].classList[i(637)](i(310)),t===ot[i(510)]&&e[i(435)][i(445)].add(i(310))}t.on(O[s(559)],(i=>{const r=s;if(t[r(541)].playbackConfig[r(627)]===y.normal)e[r(394)]&&(e[r(394)][r(573)]=fs(i,r(332))),D();else if(t[r(541)][r(302)][r(627)]===y[r(368)]){const s=oy(i,t.playback[r(351)]);e[r(379)][r(338)].width=100*s+"%",e[r(659)][r(338)].left="calc("+100*s+r(358)+7+r(614),e[r(486)].innerText=ry(i)+" / "+ry(t[r(432)][r(351)])}})),t.on(O[s(440)],((i,r)=>{const n=s;S()&&t._opt.playbackConfig.controlType===y.normal&&(e[n(572)].classList.remove(at[n(446)],at[n(644)],at[n(510)],at.tenMin),e[n(572)].classList[n(637)](at[i]),e[n(596)]&&(window[n(415)](e.rafId),e[n(596)]=null),e.changePercisitionInterval&&(clearTimeout(e[n(308)]),e[n(308)]=null),e[n(588)][n(377)]="",e.$playbackTimeListSecond[n(377)]="",e[n(308)]=setTimeout((()=>{const s=n;switch(e[s(588)][s(377)]="",e.$playbackTimeListSecond[s(377)]="",i){case ot[s(446)]:Xg(r,e);break;case ot.halfHour:Zg(r,e);break;case ot[s(476)]:ty(r,e);break;case ot[s(510)]:ey(r,e)}D(),t._opt[s(302)][s(604)]&&R(i),I()}),16))})),t.on(O[s(586)],(()=>{E((()=>{T()}))})),t.on(O[s(361)],(()=>{I()})),T()}if(t[s(624)]()&&(t.on(O[s(494)],(t=>{w(!t)})),t.on(O.playVodTime,(i=>{const r=s,n=oy(i,t[r(433)][r(351)]);e[r(379)][r(338)].width=100*n+"%",e[r(659)][r(338)][r(527)]=r(618)+100*n+r(358)+7+"px)",e[r(486)][r(573)]=ry(i)+" / "+ry(t[r(433)].totalDuration)})),t.on(O[s(459)],(t=>{const i=s;e[i(620)][i(338)][i(479)]=100*t+"%"})),t.on(O[s(549)],(()=>{const t=s;$e(e[t(598)],"display",t(675))})),t.on(O[s(661)],(()=>{const t=s;$e(e[t(598)],t(383),t(452))})),t.on(O.playVodSeek,(()=>{const t=s;$e(e.$loading,"display",t(675))})),t.on(O.playVodSeekEnd,(()=>{const t=s;$e(e[t(598)],t(383),t(452))})),t.on(O[s(330)],(()=>{const i=s;e[i(379)].style[i(479)]=i(402),e.$playbackProgressIndicator[i(338)][i(527)]="calc(100"+i(358)+7+i(614),e[i(486)][i(573)]=ry(t.playVod[i(351)])+i(643)+ry(t.playVod[i(351)])}))),t[s(541)][s(437)][s(451)]&&t._opt[s(448)][s(359)]>0){function L(t){const i=s;e.$qualityText.innerText=t,e[i(311)][i(607)]((e=>{const s=i,r=e.dataset[s(451)];e.classList[s(313)](s(638)),r===t&&e[s(445)].add(s(638))}))}function P(){const i=s,r=t[i(541)].qualityConfig||[];let n="";r[i(607)]((t=>{const e=i;n+=e(609)+t+'">'+t+e(677)})),n&&kn(n,"beforeend",e[i(649)])}t.on(O.streamQualityChange,(t=>{L(t)})),P(),t[s(493)]&&L(t.streamQuality)}if(t._opt[s(437)][s(388)]&&t._opt.scaleConfig[s(359)]>0){function x(i){const r=s,n=t[r(541)].scaleConfig[i];e[r(593)][r(573)]=n,e.$scaleMenuItems[r(607)]((t=>{const e=r,s=t.dataset.scale;t[e(445)].remove("jb-pro-scale-menu-item-active"),ys(s)===ys(i)&&t[e(445)][e(637)](e(348))}))}function M(){const i=s,r=t[i(541)][i(449)]||[];let n="";r[i(607)](((t,e)=>{n+='\n                    <div class="jb-pro-scale-menu-item" data-scale="'+e+'">'+t+"</div>\n                "})),n&&kn(n,i(316),e.$scaleMenuList)}t.on(O.viewResizeChange,(t=>{x(t)})),M(),x(t[s(545)])}if(t[s(345)]()&&t[s(541)][s(302)].showRateBtn&&t[s(541)][s(302)][s(390)].length>0){function B(i){const r=s,n=t._opt[r(302)].rateConfig[r(533)]((t=>ys(t[r(478)])===ys(i)));n&&(e.$speedText.innerText=n[r(401)],e[r(564)][r(607)]((t=>{const e=r,s=t[e(490)][e(301)];t[e(445)][e(313)](e(481)),ys(s)===ys(i)&&t[e(445)][e(637)](e(481))})))}function F(){const i=s,r=t[i(541)][i(302)][i(390)];let n="";r[i(607)](((t,e)=>{const s=i;n+=s(293)+t[s(478)]+'">'+t.label+s(677)})),n&&kn(n,i(316),e[i(488)])}t.on(O[s(523)],(t=>{B(t)})),F();B(t[s(432)]&&t[s(432)][s(553)]||1)}if(t[s(624)]()&&t[s(541)][s(580)][s(331)]&&t[s(541)][s(580)][s(390)][s(359)]>0){function U(i){const r=s,n=t[r(541)][r(580)].rateConfig[r(533)]((t=>ys(t[r(478)])===ys(i)));n&&(e[r(668)][r(573)]=n.label,e[r(564)].forEach((t=>{const e=r,s=t[e(490)][e(301)];t[e(445)][e(313)](e(481)),ys(s)===ys(i)&&t[e(445)].add(e(481))})))}function N(){const i=s,r=t[i(541)][i(580)][i(390)];let n="";r[i(607)](((t,e)=>{const s=i;n+=s(293)+t[s(478)]+'">'+t[s(401)]+s(677)})),n&&kn(n,i(316),e[i(488)])}t.on(O[s(339)],(t=>{U(t)})),N();U(t.playVod?t[s(433)][s(553)]:1)}t.on(O[s(663)],(function(){const i=s;let r=arguments[i(359)]>0&&void 0!==arguments[0]?arguments[0]:{};if(t[i(541)].showPerformance){$e(e[i(297)],i(383),i(646)),e[i(521)][i(377)]="",e[i(538)][i(377)]="";const s=rs,n=Ti(),o=t[i(632)](),a=Ps(o)&&-1!==o?""+Ct[o]:"",h=t[i(562)]&&t[i(562)][i(672)]||{},l=t[i(371)]&&t[i(371)][i(601)]||{},c=t[i(474)]||{},d=t[i(544)](),p=t.isPlayer()?i(375):t[i(345)]()?i(613):"点播文件",m=t._opt.useMSE&&t[i(541)][i(674)],g=t._opt.useWCS&&t[i(541)][i(489)],y=t[i(570)]?t[i(570)].kbpsShow:i(506),A=t[i(393)](),v=t[i(547)]||"",b=t[i(541)][i(557)]&&t[i(673)]()&&Si(g)&&Si(m),S=t[i(407)]()&&Si(t.isWebrtcH264()||t[i(634)]()||t[i(539)]());let E=i(591)+(n?i(574)+Es(n.jsHeapSizeLimit)+i(667)+Es(n[i(464)])+i(317)+Es(n[i(623)])+i(679):"")+i(591)+(a?i(676)+a+i(503):"")+i(591)+(n&&n[i(623)]>n[i(464)]?'\n                    <div class="jb-pro-performance-item">\n                        <span>可能内存泄漏 是}</span>\n                    </div>\n                    ':"")+i(341)+p+i(575)+(t[i(345)]()?'\n                        <div class="jb-pro-performance-item">\n                            <span>播放倍率 '+t[i(432)][i(553)]+i(429):"")+i(591)+(t[i(624)]()?'\n                        <div class="jb-pro-performance-item">\n                            <span>播放倍率 '+t[i(433)][i(553)]+"倍</span>\n                        </div>\n                    ":"")+i(591)+(S?i(347)+(t[i(403)]||"-")+i(645):"")+"\n                "+(t[i(635)]?i(454)+Os(t[i(480)]())+i(423)+Es(t[i(284)]())+i(579):"")+i(287)+r[i(621)]+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频码率(bits) '+r[i(367)]+i(652)+r[i(602)]+i(575)+(S?i(543)+r[i(314)]+i(511)+r.p2dfps+i(282)+r[i(360)]+i(503):"")+i(591)+(t[i(631)]()?i(589)+r[i(485)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>音频待播放缓存时长(ms) '+r[i(453)]+i(503):"")+"\n                "+(t[i(594)]()&&S?'\n                        <div class="jb-pro-performance-item">\n                            <span>视频待解码帧 '+r[i(444)]+i(590)+r[i(648)]+i(398)+r.bufferDuration+i(556)+r[i(336)]+'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>最新待解码缓存时长(ms) '+r[i(552)]+i(579):"")+i(591)+(t[i(345)]()?i(483)+r[i(678)]+i(392)+r[i(487)]+i(499)+r[i(444)]+i(420)+r[i(648)]+i(503):"")+"\n                "+(S?i(514)+r[i(419)]+i(575):"")+i(591)+(t[i(541)][i(513)]&&!t[i(624)]()?i(612)+r[i(369)]+i(540)+r[i(321)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE缓存时长(s) '+r.mseStore+i(343)+r.mseTs+i(320)+(r[i(639)]>1?"加速":"正常")+i(679):"")+i(591)+(t.isOldHls()?'<div class="jb-pro-performance-item">\n                        <span>HLS缓存时长(ms) '+r.hlsDelay+i(376):"")+i(591)+(t[i(295)]()?i(551)+r[i(515)]+'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码帧 '+r[i(636)]+i(650)+r[i(600)]+'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码音频帧 '+r[i(529)]+i(376):"")+i(591)+(t.isPlayer()&&A?i(333)+A[i(447)]+i(309)+A[i(389)]+"</span>\n                     </div>\n                ":"")+i(591)+(S?'\n                    <div class="jb-pro-performance-item">\n                        <span>网络延迟(ms) '+r[i(406)]+i(503):"")+i(591)+(t[i(491)]()?'\n                    <div class="jb-pro-performance-item">\n                        <span>video显示时间(s) '+r[i(657)]+i(537)+r[i(355)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>videoBuffer缓存时间(ms) '+r[i(404)]+i(503):"")+i(400)+(r[i(610)]||r.ts)+"</span>\n                </div>\n                "+(b?i(303)+r[i(505)]+i(334)+(t._opt[i(319)]?i(484)+r.audioSyncVideo+i(342):"")+'\n                        <div class="jb-pro-performance-item">\n                            <span>音频播放模式 '+(t[i(372)]()?"加速":"正常")+i(334):"")+i(528)+r[i(370)]+i(575)+(S?i(615)+r[i(408)]+i(477)+r[i(616)]+i(642)+r[i(416)]+i(503):"")+i(591)+(t.isPlayer()&&r[i(335)]?'<div class="jb-pro-performance-item">\n                        <span>是否超过一倍率推流 是</span>\n                    </div>\n                   ':"")+i(591)+(S?'\n                    <div class="jb-pro-performance-item">\n                        <span>是否播放流畅 '+r[i(328)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>是否在丢帧 '+r.isDropping+"</span>\n                    </div>\n                    ":"")+i(591)+(t[i(624)]()?i(656)+t.getPlayVodBufferedTime()+i(503):"")+i(555)+y+i(630)+Os(r[i(532)])+i(424),w='\n                <div class="jb-pro-performance-item">\n                    <span>播放器版本 '+s+i(575)+(v?i(286)+v+i(679):"")+i(591)+(t._opt[i(571)]?i(558)+t[i(541)][i(296)]+i(679):"")+i(591)+(t[i(516)]()?i(475)+t._opt[i(329)]+i(679):"")+i(495)+(t[i(345)]()?'\n                    <div class="jb-pro-performance-item">\n                        <span>播放模式 '+(t[i(432)][i(395)]?i(281):i(566))+i(679)+(t[i(432)].isUseFpsRender?i(292)+t[i(562)][i(617)]()+i(334):"")+i(364):"")+'\n                <div class="jb-pro-performance-item">\n                    <span>解封装模式 '+u[t[i(548)]()]+'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>解码模式 '+t[i(512)]()+i(671)+d+i(575)+(d===f[i(647)]?i(611)+t[i(467)]()+i(679):"")+i(455)+t[i(577)]()+i(378)+(h[i(442)]||"-")+i(304)+(h[i(479)]||"-")+i(357)+(h[i(325)]||"-")+i(430)+screen.width+i(357)+screen[i(325)]+i(530)+(Q[l[i(442)]]||"-")+i(460)+(t.getAudioEngineType()||"-")+i(391)+(l.channels||"-")+i(550)+(l.sampleRate||"-")+i(575)+(S?'\n                    <div class="jb-pro-performance-item">\n                        <span>播放器初始化(ms) '+c[i(536)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>开始请求地址(ms) '+c[i(498)]+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>请求响应(ms) '+c.streamResponseTimestamp+i(535)+c[i(288)]+i(670)+c.decodeTimestamp+i(299)+c[i(410)]+i(431)+c[i(651)]+i(503):"")+i(591)+(t.isPlayVod()?i(497)+t[i(280)]()+'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>视频时长(s) '+t[i(524)]()+i(503):"")+i(298);kn(E,i(316),e.$performancePanelInfo1),kn(w,i(316),e.$performancePanelInfo2)}else e[i(521)][i(377)]="",e[i(538)][i(377)]="",$e(e[i(297)],i(383),"none")})),t.on(O[s(561)],(t=>{const i=s;$e(e[i(519)],"display",i(t?452:675)),$e(e.$performanceActive,i(383),i(t?675:452))})),t.on(O[s(318)],(t=>{const i=s;$e(e[i(323)],i(383),i(t?452:675)),$e(e.$faceDetectActive,"display",t?i(675):"none")})),t.on(O[s(365)],(t=>{const i=s;$e(e.$objectDetect,"display",t?i(452):"flex"),$e(e.$objectDetectActive,i(383),t?"flex":i(452))})),t.on(O[s(396)],(t=>{const i=s;$e(e[i(504)],i(383),i(t?452:675)),$e(e[i(595)],i(383),t?"flex":i(452))}))};function ly(){const t=["volumechange","type",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>可使用的内存 ',"$speedText","$faceDetectActive",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解码(ms) ','</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>渲染组件 ',"videoInfo","isAudioNotMute","mseDecodeAudio","flex",'\n                    <div class="jb-pro-performance-item">\n                        <span>CPU压力情况 ',"</div>\n                ","playbackCacheDataDuration","</span>\n                    </div>\n                    ","getPlayVodFps","固定FPS",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解码帧率(fps) ',"$playbackNarrow","getRecordingByteLength","650993xVPKKm",'\n                    <div class="jb-pro-performance-item">\n                        <span>服务器信息 ','\n                 <div class="jb-pro-performance-item">\n                    <span>音频码率(bits) ',"demuxTimestamp","setRotate","kbpsShow","TAG_NAME",'\n                         <div class="jb-pro-performance-item">\n                            <span>固定FPS ','\n                    <div class="jb-pro-speed-menu-item" data-speed="',"$ptzActive","isUseHls265","debugUuid","$performancePanel","\n            ",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>页面开始渲染(ms) ',"createElement","speed","playbackConfig",'\n                        <div class="jb-pro-performance-item">\n                            <span>音频显示时间(ms) ','</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频分辨率(宽x高) ',"remove loading bg image","aria-hidden","then","changePercisitionInterval",'</span>\n                    </div>\n                     <div class="jb-pro-performance-item">\n                        <span>Video已丢弃帧 ',"disabled","$qualityMenuItems","transform","remove","maxFps","rotate(0)","beforeend",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>已使用的内存 ',"faceDetectActive","hasVideo",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE播放模式 ',"msePendingBuffer","playVodEndedAndShowPlayBtn","$faceDetect","isPlayVodMp4UseVideoSrc","height","$controlsPlaybackBtns","volume","videoSmooth","multiIndex","playVodEnded","showRateBtn","{h}:{i}:{s}",'\n                    <div class="jb-pro-performance-item">\n                        <span>Video已渲染帧 ',"</span>\n                        </div>\n                        ","isStreamTsMoreThanLocal","buf","fullScreenByStart","style","playVodRateChange","change",'\n                <div class="jb-pro-performance-item">\n                    <span>播放模式 ',"</span>\n                            </div>\n                            ",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE解码时间(ms) ',"$play","isPlayback","zooming",'\n                    <div class="jb-pro-performance-item">\n                        <span>视频GOP(ms) ',"jb-pro-scale-menu-item-active","jb-pro-fullscreen-rotate","push","totalDuration","playing","jb-pro-auto-orientation-fullscreen","$zoomControls","videoCurrentTimeDiff","$volumePanelText"," x ","% - ","length","dfps","playbackTimeScroll","is30Min","$container","\n                        ","objectDetectActive","isPlaying","vbps","simple","mseDelay","dts","audio","isAudioPlaybackRateSpeed","rotate(-90deg)","$volumeOn","直播流","</span>\n                     </div>\n                     ","innerHTML",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频格式 ',"$playbackProgressPlayed","$volumeOff","controlsLeftRect","$pause","display","$recordStop","$record","$objectDetectActive","top","scale","droppedVideoFrames","rateConfig",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频通道 ','</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>视频待渲染帧 ',"getVideoPlaybackQuality","$playbackCurrentTimeText","isUseFpsRender","occlusionDetectActive","jb-pro-object-",'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>视频待解码缓存时长(ms) ',"$poster",'\n                <div class="jb-pro-performance-item">\n                    <span>视频显示时间(ms) ',"label","100%","videoIframeIntervalTs","mseVideoBufferDelayTime","abs","netBuf","isPlayer","decodeDelayTs","removeLoadingBgImage","videoTimestamp","$controls","lock","controlsPlaybackBtnsRect","1115984iDyHyG","cancelAnimationFrame","totalDelayTs","playType","translateX(0) translateY(0) rotate(0)","streamBuffer",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>音频待解码帧 ',"destroys","webFullscreen",'</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>视频录制大小 ','</span>\n                </div>\n                <div class="jb-pro-performance-item-block"></div>\n                    ',"1267105hgUkaw","emit","translateX(-50%) translateY(0) rotate(0)","tabindex","倍</span>\n                        </div>\n                    ",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>显示器分辨率(宽x高) ','</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>初始化到页面渲染(ms) ',"playback","playVod","802114maKcOQ","$playbackExpand","true","operateBtns","px) translateY(","getMinutes","playbackPrecision","controlsInnerRect","encType","contentDocument","demuxBuffer","classList","oneHour","renderedVideoFrames","qualityConfig","scaleConfig","extendDomConfig","quality","none","audioBufferDelayTs",'\n                        <div class="jb-pro-performance-item">\n                            <span>视频录制时间 ','\n                 <div class="jb-pro-performance-item">\n                    <span>网络请求组件 ',"showPerformance","367446xEqcJS","recordingTimestamp","playVodTimeCache",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频引擎 ',"isInitPlayer","rect","extendBtnList","totalJSHeapSize","appendChild","portrait","getCanvasRenderType","$playbackProgress","$zoomStop","$objectDetect","orientation","querySelector","showBandwidth","_times",'\n                    <div class="jb-pro-performance-item">\n                        <span>窗口下标 ',"tenMin",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解封装后-解码后延迟(ms) ',"value","width","getRecordingDuration","jb-pro-speed-menu-item-active","$recording",'\n                    <div class="jb-pro-performance-item">\n                        <span>视频缓存时长(ms) ','\n                            <div class="jb-pro-performance-item">\n                                <span>音视频同步时间戳(ms) ',"audioBuffer","$playbackProgressTime","playbackVideoBuffer","$speedMenuList","wcsDecodeAudio","dataset","isBindVideo","translateX(","streamQuality","playVodPause","\n\n                ","is1Min",'\n                    <div class="jb-pro-performance-item">\n                        <span>视频FPS ',"streamTimestamp",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>视频待解码帧 ',"$scaleMenu","$recordingTime","$tipsMessage","</span>\n                    </div>\n                ","$occlusionDetect","audioTs","0 KB/s","$loadingBgImage","isPlayFailedAndPaused","$fullscreenExit","fiveMin",'</span>\n                    </div>\n                     <div class="jb-pro-performance-item">\n                        <span>推送到解码器帧率(fps) ',"getDecodeType","useMSE",'\n                    <div class="jb-pro-performance-item">\n                    <span>待解封装数据(byte) ',"hlsDelay","isInMulti","$zoom","$ptzControl","$performance","defaultView","$performancePanelInfo1","loading","playbackRateChange","getPlayVodDuration","removeLoadingBgImage and play vod use mse (or use video src) and playVodInitSeekRemoveBackgroundLock is true and return","$activeIconWrap","left",'\n                <div class="jb-pro-performance-item">\n                    <span>最新解封装后时间(ms) ',"hlsDemuxAudioLength",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频格式 ',"createdMoment","pTs","find","is60Min",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>解封装(ms) ',"playTimestamp",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>video间隔时间(s) ',"$performancePanelInfo2","isOldHls",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>MSE待解码帧 ',"_opt","1732HLZYJj",'\n                    <div class="jb-pro-performance-item">\n                    <span>视频峰值帧率(fps) ',"getRenderType","scaleType","debugLog","_serverInfo","getDemuxType","playVodWaiting",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>音频采样率 ','<div class="jb-pro-performance-item">\n                        <span>HLS缓存时长(ms) ',"pushLatestDelay","rate","listenWindowResizeAuoResize",'\n                <div class="jb-pro-performance-item">\n                    <span>网速 ','</span>\n                        </div>\n                         <div class="jb-pro-performance-item">\n                            <span>待解码缓存时长(ms) ',"hasAudio",'\n                    <div class="jb-pro-performance-item">\n                        <span>UUid ',"playbackTime","playFailedAndPausedShowPlayBtn","togglePerformancePanel","video","isScreenNowRow","$speedMenuItems","controlsRightRect","动态FPS","getSeconds","$performanceActive","400528ZcTgck","control","isMulti","$playbackTimeScroll","innerText",'\n                    <div class="jb-pro-performance-item">\n                        <span>内存大小限制 ',"</span>\n                </div>\n                ","$speed","getStreamType","isFullscreen","</span>\n                        </div>\n                    ","playVodConfig","scrollLeft","absolute","destroy","src","$qualityMenu","resize","isMobileFullscreenChangeRotate","$playbackTimeListOne",'\n                    <div class="jb-pro-performance-item">\n                        <span>音频待播放缓存帧 ','</span>\n                        </div>\n                        <div class="jb-pro-performance-item">\n                            <span>音频待解码帧 ',"\n                ","normal","$scaleText","isPlayNotUseMSE","$occlusionDetectActive","rafId","isShowRecordingUI","$loading","723DTqhxF","hlsDemuxVideoLength","audioInfo","fps","$screenshot","showPrecisionBtn","$volumePanel","jb-pro-ptz-controls-show","forEach","object",'\n                    <div class="jb-pro-quality-menu-item" data-quality="',"currentPts",'\n                    <div class="jb-pro-performance-item">\n                        <span>Canvas渲染引擎 ','\n                    <div class="jb-pro-performance-item">\n                        <span>MSE缓存时长(ms) ',"录播流","px)",'\n                    <div class="jb-pro-performance-item">\n                        <span>解码延迟(ms) ',"delayTs","getStreamFps","calc(","setAttribute","$playbackProgressCache","abps","$volumeHandle","usedJSHeapSize","isPlayVod","$extendDom","landscape","controlType","fullscreen","kBps",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>播放时长(s) ',"isAudioUseAudioContext","getCpuLevel","hasControl","isAliyunRtc","recording","hlsDemuxLength","add","jb-pro-quality-menu-item-active","mseDecodePlaybackRate","startsWith","backgroundLoadingShow",'</span>\n                    </div>\n                    <div class="jb-pro-performance-item">\n                        <span>总延迟(网络+解码)(ms) '," / ","halfHour","</span>\n                    </div>\n                 ","block","canvas","audioDemuxBuffer","$qualityMenuList",'</span>\n                     </div>\n                     <div class="jb-pro-performance-item">\n                        <span>HLS待解码视频帧 ',"allTimestamp",'</span>\n                </div>\n                <div class="jb-pro-performance-item">\n                    <span>视频帧率(fps) ',"showAfterLoading","$fullscreen","$playBig",'\n                    <div class="jb-pro-performance-item">\n                        <span>缓冲的最新时间(s) ',"videoCurrentTime","$playbackTimeInner","$playbackProgressIndicator","getControlHeight","playVodCanplay","$iconWrap","stats","is5Min"];return(ly=function(){return t})()}function cy(t,e){const s=dy();return(cy=function(t,e){return s[t-=183]})(t,e)}function dy(){const t=["ptzWiperShow","apertureFar","playType","$volumeOn","composedPath","arrow","$fullscreen","ptzClickType","playbackTF","ptzNarrowTimeout","$ptzWiperClose","stopPropagation","clientWidth","zoomNarrow","play","debugLog","$close","offsetTop","focusFar","$playbackProgressIndicator","playForControl error","mouseover","video","pauseForControl error","4618107dBEJRu","click","ptzApertureFarTimeout","screenshot","playVodSeek error","fiStop","focusNear","$ptzFocusFar","preventDefault","recordFn","ptzFocusFarTimeout","_lastVolume","$ptzArrows","playVodPauseInner error","jb-pro-ptz-bg-active-","jb-pro-volume-panel-wrap-show","isMobileInFullscreen","jb-pro-scale-menu-shown","$ptzControl","$performancePanelBtn2","$logSave","jb-pro-ptz-controls-show","style","recording","currentTarget","uiUsePlaybackPause","div.jb-pro-speed-menu-item","second","controlAutoHideDelayTime","playVodForward error","$performance","streamQuality","offsetLeft","$controls","$volumePanel","$ptzCruisePlay","$pause","isVolumeDroging","TAG_NAME","Timeout","ptzApertureShow","isFocus","jb-pro-ptz-bg-active-show","tempPtzPosition","ptzFocusShow","occlusionDetect","isPtzControlDroging","4599ynGtuV","$ptzWiperOpen","$ptzNarrow","speed","mouseup","push","$zoomStop","playVodPauseInner","$scaleMenu","ptzCruiseShow","4562934LCQdRc","mouseDownAndUp","$objectDetectActive","fullscreenFn","performance","operateBtns","flex","logSave","ptz","824apOiUp","stop","fullscreen","setScaleMode","$volumePanelWrap","playback","hasControl","ptzStopEmitDelay","99bCUZVk","length","narrowPrecision","$fullscreenExit","left","indexOf","totalDuration","simple","$volumeOff","$speedMenu","contextmenu","$ptz","quality","jb-pro-quality-menu-shown","ptzArrow","seek","$performancePanelInfo1","showRateBtn","fullscreenExitFn","$playbackNarrow","wiperOpen","mouseout","mousemove","$ptzControlCircular","$occlusionDetect","wheel","emit","$tipsMessageContent","$volumeHandle","playVod","ptzSupportDraggable","$ptzCruisePause","$performancePanelBtn1","$play","target","jb-pro-ptz-control-","$zoomExpand","downloadMemoryLog","aiObject","innerHTML","pauseFn","zooming","playVodResumeInner error","delayHiddenTimeout","playbackPreRateChange","$zoom","lastVolume","aiFace","block","resumeAudioAfterPause","$ptzApertureFar","$recordStop","objectDetect","isInitPlayer","$speedMenuList","$screenshot","playVodForward","65650aqcBoi","expandPrecision","$ptzActive","playbackConfig","forEach","cursor","$performancePanelInfo2","fogClose","display","cruiseStart","$container","mousedown","$ptzExpand","$tipsMessage","ptzExpandTimeout","faceDetect","record","$ptzBgActive","detail","volume","$volume","5KTmWLM","then","21081760kfcHRV","$zoomStop2","$qualityMenu","playFn","jb-pro-speed-menu-shown","none","playbackPause","$playbackExpand","$playbackTimeList","$tipsMessageClose","add","playVodSeek","audio","div.jb-pro-playback-time-minute-one","down","wiperClose","633188QxhaWa","wheelDelta","doDestroy","$playbackProgressTip","top","$ptzApertureNear","move","active","$objectDetect","clickInitPlayer","classList","remove","_opt","grabbing","$ptzFocusNear","zoom","div.jb-pro-quality-menu-item","32520EzIhFe","dataset","$scaleMenuList","$playbackProgress","scale","percentage","screenshotFn","normal","$qualityMenuList","ptzFocusNearTimeout","getBoundingClientRect","apertureNear","ptzApertureNearTimeout","isPlayVod","$performanceActive","catch","matches","$ptzFogClose","recordStopFn","isDroging"];return(dy=function(){return t})()}function uy(t,e){var s=py();return(uy=function(t,e){return s[t-=496]})(t,e)}function py(){var t=["type","styleSheet","head","insertBefore","2562012yMcNCI","7njQPsY","insertAt","8KfbqAG","appendChild","createTextNode","createElement","556039htFozV","32OrXnAg","1727375qcoIqm","top","36XLrBGt","3288177RHcOTW","style","undefined","1178400USzeTh","16DwGafz","44278poYeta","cssText","6477162Aclphp"];return(py=function(){return t})()}function fy(t,e){var s=uy;void 0===e&&(e={});var i=e[s(512)];if(t&&typeof document!==s(500)){var r=document[s(508)]||document.getElementsByTagName("head")[0],n=document[s(516)](s(499));n[s(506)]="text/css",i===s(496)&&r.firstChild?r[s(509)](n,r.firstChild):r[s(514)](n),n[s(507)]?n[s(507)][s(504)]=t:n[s(514)](document[s(515)](t))}}!function(t,e){const s=cy,i=t();for(;;)try{if(454260===parseInt(s(189))/1+parseInt(s(245))/2*(-parseInt(s(363))/3)+parseInt(s(228))/4+-parseInt(s(210))/5*(parseInt(s(346))/6)+-parseInt(s(336))/7*(parseInt(s(355))/8)+-parseInt(s(289))/9+parseInt(s(212))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dy),function(t,e){for(var s=uy,i=t();;)try{if(712656===parseInt(s(503))/1*(parseInt(s(518))/2)+parseInt(s(510))/3+parseInt(s(513))/4*(parseInt(s(519))/5)+parseInt(s(505))/6*(-parseInt(s(511))/7)+-parseInt(s(502))/8*(parseInt(s(498))/9)+parseInt(s(501))/10+-parseInt(s(517))/11*(-parseInt(s(497))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(py);function my(){const t=["arrowDown","isPlayVod","esc","preventDefault","true","387424FgKkhQ","240lRkVnM","volume","forEach","arrowRight","1265MmBPhB","INPUT","contenteditable","tagName","arrowLeft","1377090DvwOod","keys","isFocus","32550vTZBTr","activeElement","_opt","462nlqQAM","TEXTAREA","fullscreen","111729oaLtHh","18XJYixc","5683650nDhfaf","playVodBackwordJumping","keydown","129568RTOeaS","playVodForwardJumping"];return(my=function(){return t})()}function gy(t,e){const s=my();return(gy=function(t,e){return s[t-=341]})(t,e)}fy('@-webkit-keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes rotation{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-webkit-keyframes magentaPulse{0%{background-color:#630030;-webkit-box-shadow:0 0 9px #333}50%{background-color:#a9014b;-webkit-box-shadow:0 0 18px #a9014b}to{background-color:#630030;-webkit-box-shadow:0 0 9px #333}}@keyframes magentaPulse{0%{background-color:#630030;-webkit-box-shadow:0 0 9px #333}50%{background-color:#a9014b;-webkit-box-shadow:0 0 18px #a9014b}to{background-color:#630030;-webkit-box-shadow:0 0 9px #333}}.jb-pro-container video::-webkit-media-controls{display:none!important}.jb-pro-container .jb-pro-icon{cursor:pointer;width:16px;height:16px;display:inline-block}.jb-pro-container .jb-pro-ptz-controls{position:absolute;width:156px;height:156px;visibility:hidden;opacity:0;border-radius:78px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4BAMAAAA9UfJZAAAAMFBMVEUAAABHcEy0tLRZWVmysrKoqKi1tbWvr6+2traBgYG1tbWWlpa1tbW1tbVUVFS1tbVGCHqkAAAAD3RSTlMzAO9U3LSWySp3aZcVRDUDw823AAAJYUlEQVR42u3d32sbVxYH8EPHxgg/lBsa7SBkukmpSbwLI2KbEPpgZ5MQtwmM0wRMmgdhP6RgEuwlSVnYlmGMYaEvMU1KKX4QNq0pocVmm7CYfRBaQguFpbgPKRSC/4V2LGliO+bulWKrkvVrftyZ+WbxeTRG+nDnnnNmRjP3EpMR6tMH18du/0Xj1tGz5+9cf/DUlPKx5PsTkr8s3eZ1cX7ym1zkuI/f1wTFunNt9fP+FIno7/98/tFY+Y8ffBUlLrmkl2Cr96guTv27BMxP5iLCqUvi68+tpqhJKPNXBH3SjACnfimm/7Wmsl3fI/FP75lh457oPH+1Da3M+1T8481QcT0T7UetevR618LDPdH4hTlyHLGH3LoZEk6d4PlvyVW8pfNeMwzcDwa/kCKXoTzk9tfB455o1mXyEIOa+0PrFvcFt+fIU8QM/k6guOQifzNFHkN5l/flgsOJVHibfMR9l2nhBqem+VXyFZ/xghkMTp3il8lnDPKiGQROhs2lzjEuKcVW1uWk4ybk2Eq63pxk3CK/RZLiJO+Ti/vZXw3ZX1E+kon7jv+JJMY/+Q15uIRWIKmRthZk4VTDTsnFKYZtSsItWiskObq1Pjm4f8gqIrUF5W8ycAl+nAKIT/iCf1zSKFAgkW4/7drifrLmgsHF2k87alvhblFAcbJttWuDU/VtCiyyedMXbjGfCg6n6H1+cHE+TQFGFx/3jksa2xRoZO2cZ9xsUJn6e8aOeMX1aGco4Biw1jzilm0KPNJb3nBxvhI8rrtVTlCLK5ptCiEyBS+474POhr2c+NA9Lqm/QaHEiXzONW42yN5Q2ydG3OLU4MvI7+XEdImbCWvgSkN3zB1O1YYptOhoNnRNcDM2hRjGMTc4VZsOE9fVZOioyYyjUKPJrKPGNW44XFxX41rXEPc4vFTdS9iLTnFJ4wyFHAO2U1zcSoWNU7RLDnFTb1DocaLoDJfgc+HjYo3uTjTArW9TBJHdcYJTtdEocJ0NCnE97nGBIon0RQc4YzgaXIfdHhdBHdmrJuNtceubFFFkdtrhVG0lKlx3XUrsxz22KbIwLrbBTQ1Hhxsotsb18FR0OIWvtcT9Z5sijOyfW+KM6ShxXXYrXMJKRYlTtIUWuLubFGlknrXAGaPR4jrt5riERRFH7XGtwc1sRo3LHGuKi/qo7j+uhJOr9flKMBW4QR2uxk1NR4/rKjbGRdpXG/bXKtxrAEdVHNfTDXHLf0TAvbLVCJfU5hBwMSvXABfPE0To4w1wP25i4DLPG+CmRjFwncV6nIpQSF4UE7MOd7hAIJG+VIe7u4GCG3pWh0uPouA6C/txMFOuetIR3JSrmnQEN+WqJh2BVbmaSreLS+JMudKky9Xg4jYBRXq8BndoEwmXOVKDWx5GwnVs1eD0OSRcLF+N67EIKrS1Klx8GwuXHa/C/biBhRt6XoVbnsbCdW1V4bDyoZIRZZwKlg8iI8wKLl5Aw73oEWXcoQ003NCRCm59GA3XsVPBTa2g4bqLFZyWQsMp1h6uJ09woa/t4tCaV6WBEWSy7qYrQSbrbroS2MVNzUUOAXbWSnel0sU+AUbpsl/gEjYizlgo4w5vI+Kyl8o4xEryopYI3N1hRFzHszJueRQR17lVxqXnEHGxQhmHd06yd15CgBcQlcsIYokCJi69IHDxbUycOGki9toGJm7otMC9/ism7tXfBA6zBperMIHW4HIVJsDrwsrVIYE2CNEibIHDbBDlFkFJ0AYhWkSOemxUnLFGqN2r1L8ItXuV+hfFN1FxmXH6wwYqbuivdAgXd4RQ+36p8xNq3y91flqfRsV17dD6KCquc4eWcXFbtLyCiusu0hQ0bg4VFytSGhdXICOFilNs0nFx+QOcZ5xGsGEd4DzjOC6OH+A847QD3P9jtuJ2CGjcQeP3gYM+2YQ+TYe+wMG+NETGQd+OgL6RA30LDPrm4eu/ouJe/Q37hjX0rX7oH0mgf16C/mEO+idN6B+DoX9Gx34AAfrRDeiHXqAfF0Lt/OUHrVAfUcucRn+4D/qxSOgHSqEfxcV+iBn68W/EV3AqD85Dv3IA/bIG9GsumC8IaSb+q1XYL6VBv84H/SIk9Cuk0C/fQr+2jP3CN/Sr8tCLDEAvzwC9sAX0kiDYi6lAL0MDvYAP9NJH0ItGYS+3Bb1QGVaP2LfEG/TieNDLCmIvyAi9lCX0IqDQy6diLzwLvWQv9GLH0MtER76rRqWxPgdemtwYf9kWdYdeDh97IwHoLRigN6/A3vYDesMU6K1msDfpgd7eiOmjSEf1ZdpSC3ozMuht3LA3wIPeOjDSTRdfKb7M21VCb/QJvUUq9uay0NvyYm9oHFFKdDvaChp6E23s7cehN25nh5G3vE8aZ8LGDdjMIY49zoc9dPpFx7ikHnIh7sjnHOPYTMj36oxjzDlO1UI9Xe9oUICb49iMDTBwzXCqFuKsG2gycM1wYtaFlrCK3mTgmuJU7UzkA9cUx2bDGjpFH2FucUk9pA57onGNa4lj31uhnJzEtA+ZexxLh3KpkykwL7g4D+GUuJuPe8Kx5RCuJtJbzBuuJ/hyMmCtecSx2aBzIqaNMK+4pBHwtU7WznnGiZwI9Oykq1U2tMWxxSD7hKL3MT84VQ/wwGbzpi8c+47fCsp2kt9g/nDsp6AyNqb1Mb+4pBFQKU7bpm8cS/DjQdg+aXT/wTWOzfLL8m2DfITJwLFFS/oZQHf7CecQpxq25GqnGO0nnEMcS2iSq13WWmCycKLaHZebDDeYPBz7mb8tz3aff8Rk4tiivJQd5H1MLo5NyNIN8t6cbJw6ZV2WYys6tTnHCZ2MsRM2k8nHSdG5srnBMTXNr/qzfcYLLmyucEyd8FdR7vNeNzZ3OJZc5G967mTKu7wvx4LDMfYFtz2efMYM/o7LL3OLY080byVlULNusqBx7AeDX3B9aJWH3P6aBY8rpUX+W3e2t3SXqeAZVzq0/JyLmRe7wt0fUs849t8Jzv/u8Ngq/+K8d42FhxODp/P8VQc85VPxjzc9folXHFO/1Lh1rc3BjT0S//SeycLGCd6Sxvm51abDp8xf4dyaNL1/gw+caBhLuvj6O6v36mWn5scEPe+H5hMn4uP3hUEAr63e6y+PYX//qflHY+U/fvCVzw/3ixPD98vSbV4X5ye/yfn+aP+4MvDpg+tjZ4+K8bKOnr1z/cFTU8rH/g92biFxn2S73AAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;transition:visibility .3s,opacity .3s;right:43px;bottom:135px}.jb-pro-container .jb-pro-ptz-controls.show-vertical{right:43px}.jb-pro-container .jb-pro-ptz-controls.show-vertical .jb-pro-ptz-btns{left:0;top:156px}.jb-pro-container .jb-pro-ptz-controls.show-level{right:163px}.jb-pro-container .jb-pro-ptz-controls.show-level .jb-pro-ptz-btns{min-height:156px;left:144px;top:0;display:flex;flex-direction:column;justify-content:center}.jb-pro-container .jb-pro-ptz-controls.jb-pro-ptz-controls-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-bg-active{visibility:hidden;opacity:0;width:156px;height:156px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAAE4CAMAAAD4oR9YAAAAM1BMVEX///////////////////////////9HcEz///////////////////////////////////85yRS0AAAAEXRSTlO5DCgVgZBxAK2fQDRkBR5XTPLKM/gAABnnSURBVHja7F0Jkqs6DGQPO9z/tD8Jq6WWbCCvIjKfzAGmulrW3ooedr6ui+M4TdP++SXPr1l/SdL3aRrHhv7ZyA5qb9xe0L3Am+DrkzeCL/BeX908MezTuPsfOArdgl3KsZuhq99fk/Tx3waum+ByAHua5QbYilkzY1aP728YhrH5InrfBa57OLAtVjpRbYaumex04dq4APeC7vnVSfo/45bXLe33jGscMx3f0A1vyg3t69e2dRL/NeA6wrgdcCvjyPM2U25mXDt9xVD3f/qN0yi3Mm6P20S54vlXtGPS/R3GPSbYOsC4ZAvmJtiaGiL3Zlzx/Ht+Y/KXTJXbqmaqe9za1VYn3N7YpX/OVGev2qduOLIiB7xqOzGuWCiXFVmWtU3368A5lkqeOJI21I5XXaORxVRnxmUTdNnY/4U3riNvHMJts9XRtdXVUttipdzrK/4x7UyY6sK4Gbo+nU21T1zKcd9AGJetlMvyLKvj3zXVfeqQElMljINx3MK4xVQ3xj2Ry7N/6CiMOIfYyVUXWxUyBx7HuZRbcHt9bf/Lb9zsHlzKzabauJaK47iVcC7jJujS33/joKkmxDnM4QiJ4xDjZuT+DXQW3jgxV012qcPuiePhCGfchlv1/P0D6Czmqmuq2gPGkbIS8Q4ZsNU3dGP3Y2+cW1RyKpkrbAnwqhi3iXHFHrU3bFVV5c3vBsCsOALjkXErAW85F3rjFvBm5Kos+TngCOXYG7fA1ojFER7GPUHbmer0tfGPANeROM6pjvDMQSkrsWQ1d564Fbr61964TvSqDa6O0ELmAtvGuc2rrpQrn/aa/qCpYq+6mSpOVhnjWBy38u2JXFl9yL8acg6CV3Ur5yxVZfW4AsRxG+XKssz6n3njVMYR4Eg8sj1yi3tgtroxrpyhG38gc+h8PYddPQ551dVQW5jju2/cG7kXdB946Uy9cbDnQOpxuCCHcq5dHDcht8D2/K67VxPNGtLJd7qDTcgb1zLGbXEcY9z0Fd39GReTzIH1B/2lcxrGTYxjXnXyqxNyef8zpipVlfDsyCCmDkuumhGvWq6W+vyisqxvDJwwOxJQO6fNmjaQcRt0ZdR2dwWOFZViuculNWtgBZjk+DNq1cq45y+Lf5NxE25B3oEyLueFJWqtT+Ciqr8r48jsCAyAG+2Na53MAdQxX16VhHEL4Z7Ilc2dGad28pskaULiEdDlyijjdqa6gBeNtwSu63AnP3V6NUnAG9cu1RHOuL2hVi5qr6+9Za4qV0dCGcfCEfDIufWRFbsZvKy7KeNgW7XHvRqxWfOGLhO6XCrjoiiPb/rGdZ75uGRfj9u3B1sWAEtdLuxVF/Cq9HaMe4A4TptkZYwLqI44rmGDbUe5E8hZcg54zquRbHXu5NN6HKuO7N84YqwbdGV/Q8YF5arUN7CJTNLkgplD5T5xG+OOI2ehAhxv00ocOlpWwhHwljns5uNg6bxCb9wbueSupip6VTnj2jGudSvnOeqrVo6h7vl2nHM2K8AkV1WyfDYDvHUcWF+1VBl3EDlLKdc2dQ6aNbhXw2eAt14Nf+MqFse5rDuS8tucHUmhqaJppYF6B8440h7E8cjhqMTiLtcaAL+ga9jWZb35hpbHceyNI9WRSmHcE7n4jqbqTp2D2nnzgm154mB1hJQy1cwBIpd3twCOrjnEoDsoTZ2jepybb2VKrhpx3zB92Z29Khpl1ZN8MHWzJV1CdYQHJEeqTMbqcfEMW+obLBwES83w7AgvY0YlMNT3N96GcXEHGQdxG2t3CQ5kDkoFeO8esHd4fc193jinAtxvXhUN3Ywz5VAFGM3cENfgVM4x5YICYRumqu5yIVMdJuhaLXMAFWBKOIhbWFBiO44Dg4Usxx/cCrDyxqESMIYuu4lX1fYcGnVaaVmtKXZxHOzW5Bvfqtk3iLAFuVaLew4HluDUzIH1VYMZF+AgLMZxcAYY1uNYBTgrwPDIaqxOQ1p540IchBFTJW9c2ofNAO99Q+sYaugbJ35Vd4sKsPbGqVM33KsWmdpXLeXqufsVNwhH8FyhOh8n74foKb5WVDr0zFky1Rgt+iaJZyJTWErKMynpqsqgVy4q0xv0VTvZq0pJPq5jzn41zzzVET0aCYjmTO05OLaaBEwWqhvSenUkKtVw5P0N96mOpNr2YCPuh4AJCGEAoioDver7628Sx8WAcU2i1eM259AWhZBzuQEJieN07JR6sCHgXoSLnepI7yo9NqgCLE5A6K4hjHGKsVqK49JYEGyBg4XIq2b7FREUx5Xu2LkXOtmz2pJBW5sOqdjJF3sOjHG5fz7OT7n8DtURwjjPtBKtx7VLOa6Q4zh5Wkn8xhvU4xbG9al/s2bAbxwYkJO7XCGME43VIuMc56Dnqi7hpPE4cVopBLnibozTp5X4DHAQ49iwfsCX3IhxYFoJB8C0y7Xr1iwBSZXDulIUjF11G6+qr5aPALlCmTrfyWfQzCEK49xoPMnnjFMaq3QlX9tzQPuq0QFbLeNbMU6cHRn3Sb60HwJ6NXAhKQi61nzpPAbtQaY8jUUgQnRHSodxZSjjoig161W7HePIRGZDJzJHQXiEzE4DpRtSjotCHzkUkhj2qqJi4V54T1S6cWwVp/nhjAP1JQuDhbs4TtFW0spKTgW4UHJVFv4GQpcZA64jkt1xDNS8lDEv9Y3z5KpRGY4biIINMC7e2lxKNFJDqUfQquGZA2yrHoINUM7G6ZX1iVM2RKDUI08dssVUfduDRyI5QDkbFWCnscrWVWV1/RZ2uaRc9UyKL1LO0r7q1qwBm761WsmEUjdge9ApAB9iHHWslq4kMalHTbHQieO0zXKljHmIc4XdOE695yCpsg7eOE7t5B/4Uqv1uDSGKhDYq0r6yQWYj5NnRw5BNxjOHJAKRJB+nJqr4jcuOki4qOzs5qrgulSDJzJHUcyrCNMdOc44ty5nel815KDZ4HTypeoILAEfZJxbCjYkSpVKgZx/IpOfXgnarDkKXWIrHAm7kiTqxw1er+oQzg2Bj32FTcYJ2kpCIx9PK2XMq1ZCz+EM46LYZK4qaCsdmo+TqiOV5FWPITdYLZ2jOqYa/6LN8kJSZT1dxkSTJEYKmZ2/OuI5aIYYh+UzKn3TN9A9mLjL1cl6LexKkqof575xVJWVx3HRefdgUbGQNGs2U2Ul4HYQ60o+HeBzjCtt9VXVqXMpc3DEzh2NzEJSnr7OuG35wUTpPGjqXN3lQgdE0AWRA2sOHls1eO2yh/uqWM1LbUgvQzeatOhR5NZM39QIBNyQbviBVajYItbOYa56knCbrRrUj0vxTn5QVQlOnUtdrjKKztuqpbMEJ27WtCG3BzX9uMPfYqsmlW7SPnRfFeSqwTrAp9641VZtXi1PlX1VN44THzlvPe4k45aZLys9h+7cvuqsAqEpBAm6I9HJN24pZ9oIRzp5XzVUsVCZOnd0Ry4zbu52GdMBDn7j+NVyYXaEneW6+sbNrQcjtwdJCTh4WmlrSLcF3axRZ4AvMC6zxjj9annty1X9M8BoefBMQGKudB5UjnMnMltQV1JuD5JK5jnGTUU52zeke+4cfMJ7ygxwSZuDJ6EbzDEuZF+VNLnczCETlPdkdf3Tj5yhAHhNVdV9VXgJGV9JyqWjjRdS1fWRs6vmRctK1KuiLD/b22q2KyvlWJT1HOPeo3IWqyNwlwtrxJNrlwW69ZNr0qKnoBsfNrWVcH+w9gzIFXxDeisr5cxSrzCusFVWkpVukH7coF/0zQRt0a2QGZ1HLrfAuIfDOL/uiLOTz9UMMiTmtXMOVXmxW/P+OqM6wPBKEmLcbuiGMw4lq9cmIPbewa5iIb3LdYxxKHMouYDcSeRqcxd9+dS5VFWCGZd3e9DtR5+21dbYRd/1EAaagUC6IzDLV7YHj4pSKbmDkZRLnmRNcHeQ3azZdvLJ9qCUOVyhXGVmQUSpx9GWAzNW6Y0DmYMzrbTeHjzxxTeI41zktugXtQezAsRxon7caUt9VZZMMQ7pAPMnjnTyB5lxJHPgU+enGTeajONUHWB46wfW41jmAE79nHerNiYyFeXpBu/keycyM8983CWv+sxWLe2rsgpwH7qRxPuqb7pl6IKe61RPYpcbvefQy3e58LSSbwY4B071CuNKk31VtswlTyuJ+6oZuss1h3HVCTEDluZb7Ks6prqrjijlOLTLxRlXUhng85RLo+77por7qp5c1fUN8I1Tbw9eqce9ArkvA6eqxOOr5UQGgrdVC1l5GszHnYSuNsC4OKgeF6au73S5Mt983IU3bvwqcN3jAe9y9VgkvvHPskp7DuI9h7PfYOGNw3EcH7rx91XRPbNPT2TOEbCNNw7uJOGhG+naD8+5PG/cJcI9gYu/CxuYVuqd+6reHbgBWqrvavlV5LLvAqfdc6AFYElcyW1IS0eScqg7ch65/MvABXW5ElWvZXDiOL2Tz3VHzn7Vt4F7iNuDobMjwp7DUh3hfKs+EQCbAs43O9KgG9KDrK6vMe5qIPdd4NS7XFLi4NxzADf0eEPa8aqX1lV35REjb5zac1geuYVwtfjGbTmXsJH0qf7g14Hz9xzE9iD0qigewTv5F71qaeKNwz0HXI+jb5zLODABQWaAP+MbXA2SbxdH9KlzMjw9jvAUMr72o6363hQ4VyQ+lU+vkH70ALVFM2cnP8f1uOojhLPgVZnWI7y9Enjtcr+TT/qDJdj0LW9tqlgFQtUdYQfNQupxnHE3dw5aripmDgOcOt90gHOpOvKRF85EOCJKPSrVEa/y9D9QLDQEXKco3UiqVPtdrjZIIxNuSEeX+qomc9U+3S/WUIUgvD2o7nJ9UnfECnAPWQUiSOu8HYKERz6oO2IDuE7THcHOATIO9xzQhnT1IcblVhjnagRp8QjZVw1gHOFb9ZnSuY1OvutVe3/86w4Be7XOc6GvetsuF47jAq5dElFWn9a5oJF5YUDOBHCdds9BzRw2xrWy1jl946qrC6tfb0i7uWoKZ0eaoJs1e8LR+6pQPy66GMiNhqaV4ljbc/DqjrTC1fL8n/RVa0ummiI1r0a/yyUPT2dcXBR08s9Cl9gVpdKvEvgO00LB7qta585g4eP7jIuDxEXdaSV87TID91WdiUx67uf011lkHBTea/R6HN1XhTdr0AmROw9Pd1h5euurJvxKEh2e9uyrfnYn38q4vnp7cLchXXuVbtxdLoFx1UVtpWnv0uLNGudquTCROXj2HHI6riRK791zJakjIxDKRGatMI5fu8z81y4vzU5bE2yJmYLyFsc1jaythPcc+CW4j2grGVi71GTQgnLV1tFrQduDUj3uWvwb27p2Sefjel/PAXXy+QywoFh4IZKrTF67lC6I1H6NTHEGOBeWB88LoVm6dimoGaxO1a+RiafOpX3V8r7yGayOuZfPgGsOQhy3V4Fgew7wSlJ5hXG1aY1Msj2IK8B0BAK8cYIIxBXG9bZuD6ZUlCqk5zC0x/Yczh9YtSVK9ZA3pAN6Dqq6vnAo9ANx3Ndl0LazXPK0kq/n4J06F+45XMkc7Ajv0Sy/VzZrpAsiLUnyhZ38fQX4vOqIOXX9o9cutRlgfZfrSuZgTVxU9KrKPQdQOgd3CZB7OO9VzcnZ4pYDHddnkoVSrprlAXe5ynN5gxF1/Vi7ocenp7XdcueJyxSt8wtjhRYku2EcB3Hb1LxqHMb9192VJTmuw7DxSsfxdv/Tvn7TSceiAEpylqYnH/lWsWBRXABMVLHQ8B4cjvWUfN1xTYU6wJEqqy7y1ynBEIGt8ycqBxe2BGh3JEt3hO3HtXjm0KFJ/kHIOTDCmEUM2RFMH9ygn8N+WoNmDpcLZEgfFuz2pQPMKof7eHBME0RsxAVX3OFS1Y/Zj77jtGQ34nLRWjVeHtFF/pOIc2EvRdf1m/2UKy11s+8qtXzmAKQMhiNNTDefqiWtFIlkQqEbNJFuO7g6oqr84p8PC710IxN0R0bK5VIFV2svTx9CnCPTxspm1iiGiBKeptmh26tAYOXpp+y3HSGuqUwnONzIZN7bRAdYp4bDZpee5qq5OsAKcdTQISjykUjmM/aq3lRZK3rH6a5SOMmPZw5BQ47yQ05rvm3NVVXhkLCs0YqF2EN60A4iw8Ev1dtcNXvmsGK+qukh/QIRtEHE06cK1fXtKRfLqoTLRadcw8Ev1ZkTXBXzVdkdt5k1PvtQo/24I604520lvq0EFAvxXLXlytPHpjUXcRU4tTuiJvkx4EbugxHojrRJTn4p5jY3gcspucLQKW0lVnNhFQhF5ir+VhsvgZsN/Tji9cOcVybD6wcOuQ5MuXpxirhyt0tTea9NTPKLEVf7CdzMaZdZbpd0Pw6LZ1wiN7PhWGpwk1Uz/BzQDsSEnOB6vXT+cLscntoB3sQZ4qiaV/qOixjSJYgrBNwwu0OcSYKzzbe1ExwYrF6InFdpVp3EG+IIJSlsnWv9uEQ/DrMH497IcOgt4hNxC9vXv2b5ElhU32fuuF78IQ4r3XyreV3NST5V86K16uG6YRF3iIt1gJscxRbgE9oG88E2oa5fdMu14h9x5pZX2I9DuaGn+nGXmOdw6PHrvh+X9OWagGdNbzCkI5uk7NhpwHliSDf2sIY4wQHl6ZysWvoaqcUz4hLyGUrsfF85QIZIvASsh1zZsYsA54qTDyuHSAViM7wH+x6NarDWeRHiFpHT3HE1g5zldsk6wEDOdiiwJejFJeKYvaqtWEhFqShfFSkWHikaPHZH0qJUxEOvnK9a4CE9ibvACVQsbMLKwWTWGP6qMeKOAW6o3AWOXHHZ/TiD55BGXHZW3UScfqqPVdbGMjSLa1VVcRG+KmRI53fOOxGnn2piedpgSK9GB5h0MssBVzsM3AwdfXPuuFh3ZGLaonBUk3/J9eIfcXDmcC1RLEwotgTvuDzIDY3LwM1z0kMam/1gjcyWjQePq7VscjrE2YuFxNHMLFWB1vlwKDO4rlX1tj7ROidZNc1XzZJPZh/q73O5BPBVo90R5PaTyKqYPVhcdK3iGXHxJB8RRLT14KZYl1FW7RJa5zkf6uw2cJJ8x5kbmcDsx+yO6NglQreInO+Oy9oBNry348qh2M5hFTkH4sysihA3WXNVvAIciQSVtH2d745kdZUYQ9pa1o8QNxzLqO4m+eFcNRk6BLmWiHZ3gK+a+FZH8Y444q9qbuuTmcMLlad7Ee+Iq9gOcNJ7cFqZDjCXOs98AV9m8Y84OFitI7fLK0VcwHPoqZ+Dks+wPtRhEf+IS4kZ1ElqOZrW3CBH+ar2O24U34GT8rmqntWsif24jjFrrCtuEjkD4qC2kpqrjrQ9cpDLZXlIt+I+cEl/VernsB7Zj9PTQZIYKjkX4iCz5go7mYpZY2qdI77qH+M9MtRyGsQZXC5rrzBWnt77OQCNzKB2YIi7ipwDcZXJ5YJS54p32UM/h84WAmZZdZMTBE435LLt3sm2foajbyqtTnKCwCkVCFMlHnKSpkhev4UdYHDHke5IK2cIXKACYbuWm7UqVp7uzDsOI66bzxE4ogKBZg5ZtWqCIR2+4wDiLtl2s84m+VW8ra+YNXZ3BHaA4VwVvn8vjcipEJezr8/UDOgOMDeYYv24ZGXvtzuS0Y9jO8AT3QHmnPzhz9G4OZs5QKIvFgJW40FYqraAWRP4OQSRK4qbM55Dxpeqd4B/uiNTmj1oVg5ZhZbvKZdi1mBHMyIuanPydXdk97GW4U28GZqFSjdL8h2nkgN+x7E7bo+40rj50AHOkTq3NYIQ4tpolRXKi36/Q0rj5m2uWkV81ZS6/hRvK/XRyIHRHIby95v/d1y9WEk1lmW1uVx4XekWua4SOSHiKuZnZu3HYXV9yh6EPIc74NojBuQe9uMqUz+ujp4jI+2dt6w7Qp3ghuw+krNaNctBrwYqaNB7MHgAdyk/h5K+pdfx4GzusoafKujHRR3gDu/HhfpxfxF3lTMGbrZtCdB+XIi4KDegmQPagbh1zsufIY4QV2ltJcVXDTn5EeKKuFyqcmgrOWng9g05pZG5RFvnd8SNtDuiPKRbw9H3/ztumkVOjrg5ra2kEIe7IxBx4e7IA3DjMwf3eMfhh9xovH/73dZ5n9cBHrpFzhs4hbhgB5iqeaH5IGDWtCazZuhnOXHg5jmdVX9mDte0u9TjAQz9HB6Iu4zPHt2v7kgNe+cb3FbqeVa9qBfw39C1jZw9cMBDmr7jwqHDylzL+5Sfw2V9wcn9Iy5qZFoTaZRV9b7+k1nB55Sr2gEOaysFiFO+tCSrhqsj2yzyjyAu3lYCHnojyap85gAdfV9wu3l+x2V0R36INSvWAUbvuMvzydRprWogTmfVO+AI4uB+XF/JvxK4UHekMZRucHdkQhsQvdqPuwGurV95cl+LhUR3hPfjTN5lkFa78bUH97StdEdcOJC277h0bvgO24ty6RkQV5OtG5Pn0GIy19S8/OCeKofojlu47gjVT+4/EjZvdu9grnq1uVxAB1il1beEzRtBJJQICv1VMeKU93a0OzItbzq5k90RgLhl+XGCqy3ERdYrO0fftXnb2T3VqjfE5aigMbf3YANirN54co93XMjJT20rhWteP5Hrr/NbT+7xjoPMctOzJkqq6/Luk3u84+7vuGUBSzeBweoE3yPTm8Hm444LiA5gyMXuuJU56G3NR07uAXHVwwo5fgBTf1Xo2rjVnzq7r6yK1LwSr5HHHTdt9fy5k5/R7XLcJdX7FbeOy2dP7trPweQ57FRZx7r6+Mndq3ldEzrAY938ysl9uiQ1cJNVa2SO16X6tZP/dj8uDqJW2VfM/O/ftf7FmPkK3OMZ3MAu8G3T6ytiTTU7OK8jxMlfuN1idg/X91/9VUZ81WOVo8P+Bw+0DogP6NDPAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-up{transform:rotate(-90deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left{transform:rotate(180deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-down{transform:rotate(90deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left-up{transform:rotate(-135deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-right-up{transform:rotate(-45deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-left-down{transform:rotate(135deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-right-down{transform:rotate(45deg)}.jb-pro-container .jb-pro-ptz-bg-active.jb-pro-ptz-bg-active-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-control{position:absolute;left:53px;top:53px;width:50px;height:50px;background:#fff;border-radius:50%;transition:left .3s,top .3s}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left{left:33px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-up{top:33px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right{left:73px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-down{top:73px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left-up{top:39px;left:39px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-left-down{left:39px;top:67px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right-up{top:39px;left:67px}.jb-pro-container .jb-pro-ptz-control.jb-pro-ptz-control-right-down{top:67px;left:67px}.jb-pro-container .jb-pro-ptz-icon{position:relative}.jb-pro-container .jb-pro-ptz-icon:hover .icon-title-tips{visibility:visible;opacity:1}.jb-pro-container .jb-pro-ptz-btns{display:block;position:absolute;left:0;top:156px;width:156px;box-sizing:border-box;padding:0 30px}.jb-pro-container .jb-pro-ptz-btns .jb-pro-ptz-btn{display:flex;justify-content:space-between}.jb-pro-container .jb-pro-ptz-expand .jb-pro-ptz-expand-icon{display:inline-block;width:28px;height:28px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAANlBMVEVfX19fX19fX19fX19fX19fX19fX19HcExfX19fX19fX1/////Pz8+oqKjCwsKhoaHn5+eWlpaOqTaDAAAAC3RSTlP/3CaKxwJiAELtp4ri/s4AAACuSURBVCjPfZPREoUgCERXBdPRyv7/Z6/Z1aQp9oWJMyYLiKUrOIpAJBdGCldgbzBkPM/QEoTI3jBEPBRDhwEvChe08Q1Ge0ImvIq4Qj8ljrLdH77CyQPWlCdHC0Q1e9rmmuC+oQN9Q4LwcQg40L6eyqm0uEpXSUqe3fKpkkqL+Y/o+07SrahNEO0T0LBsvOitf4xsLqiNTB32wtqaVKosGLO2mhUrS93+PZ4D99wPqzMJVcbEyA8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-expand:hover .jb-pro-ptz-expand-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////i4uLZ2dnIyMjExMS8vLy+iXNeAAAACnRSTlMAYomLxwEm9+NCLo6DKwAAALNJREFUKM99k9kWgyAMRIMmEMLm/39tKaVKFJkXl3sYJ4sAXeQ3ZOcYd0+gRYblFBuFLYoS2ot5lpvYn8zJQ65TO2GVNmdCmQq/qczw4gjpejD14BgmhziEIvCjVRlPioftHW6A7xBB1a8CCUMvsuSqEkPM7eZX6h8GrQ67bYpNIbRL6rb4/k2EfVXKsgmqfQrW9qnGq96a28jGQG1ky2HXpVysyYyeDIhWq7le6ua9P36HD6+2GRi8iBZBAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-narrow .jb-pro-ptz-narrow-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/9/f2/v7/y8vLUObqxAAAADXRSTlMA3IrE6SZi9wI+y0gNXAn3CgAAAI5JREFUKM+Fk1kOwyAMBQ04bJHT3P+0JVUMNMWv8zvSk1cipfjAKXHwhR7k6KTjYp7dVuWLug1XWB5wz96T/JD2O3Phmv0k5ypL6lVVFIPYpLOka5WKSSFvS0/BloHYlkza5HkMzrvVLo8ZlRr7mtFYWBBsBQ4BjC//GTxcGVw2PpOVHQ6fJj7qS4936OoN2K4e5yE6N1UAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-narrow:hover .jb-pro-ptz-narrow-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJ1BMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v7X19ckk9ihAAAACnRSTlMA9+NCAsuKJsRiPv/2GwAAAJlJREFUGNNjYAAC5gxFoTYDBijw1FoFBIumQHjsUavAYGkBmGu0CgqUwRqlYNyFIO2Fq+BAnIGBJQrBXerAwLkKCUxgYELmKjBYIXMXM2Qhc5cxdCFzVzBoIXMXMYAcsRsMdgEdgs4FKT4DBqdAitGMQrMIzRkojlRB9wKaB9G8z+CMGjgshjCuMCjoWNxRAxYt2KGRYgJiAQAnZcjElaB/xwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-aperture-far .jb-pro-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAASFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+kpKRzc3ODg4PFxcW1tbXW1tbk5OT29vaVlZVmZmZ8vCMFAAAADHRSTlMAxGJ5Mssm9+NCiYtiH91SAAABAklEQVQoz41T7Q6DIAyEJQooUL55/zddhVazzZjdHyqXXo8DhWCYTWqltNyN+MZLuxP69UGti/vAsl6c0e4L+tQ2yv1AEbvecMhO5cXdYhk+6aO3WGrNAMwentlMz/ZAKIlNoRsqY2wtFWu9t8wasc0iYVN0LkQfrG1zbxNyrIBcntOQrH1Ukkb60QcxYF1xMA2dh8zWj6ZDsLCsIrL4Ds5Hm9FMbCEROWUB0COaLXEIZJKV7CKybGO7UuxjxY2C/TkMbxboKBQCxgMN6MCJQ6Ch/QjOZg/B13LGx8FDTe3IFvl+Bc9XBi3UWoex68qeL/vxmdyxyvz3NJ8f9dDef36HN7koIK2LjxB0AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-aperture-far:hover .jb-pro-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn+/v6cnJzr6+u/v7+xsbGlpaXNzc3b29vqh7uRAAAAC3RSTlMAyRjKA59J/3PzPhe1wxwAAAD2SURBVCjPjZPrssMgCIR1mkYtisD7P+zBCyZpM5mzv5hs0M8VnZvaok9BlXzc3FXbO5z0vtifFC5Kn8OL4UfxwVvuHm61d5Z0b6ZGZZwZpQAUosWsjVZntVS1sH3ZFo1IRVYfGXgx+VGwNkkIVbhq9/jm3cAhaNv1Uk3IA8mNn7D3kbQeWK3TLH2jCthrDFcTMwUWaKiClc9mJtJWhS3SF5BpJqMQW1b3xwnkDahMoHYomkeJRgSENA/MFsKML7fgoCBVbGvM+Cx4JcKWbWHKK/h1ZYS1Jy/nK3u8bB3KhzG5deMxtfv3aO7/Heq+9ms8h9fxHP4AHzAWU9zlWNgAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-aperture-near .jb-pro-ptz-aperture-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////9fX1+FhYWbm5vz8/Nzc3OwsLDi4uLDw8PW1tZmZmYgm6a+AAAAC3RSTlMAYmOLx4kn9+NCIVJiPGAAAAD+SURBVCjPjVPttoMgDMOJAqOU8uH7v+qKFN2c597lF5LTJg1VqQG3aGuM1bNTV0wWDtjpg3pq+IB+npyzcIE9ejsDXzDCrjccs+tOariF3n2OLyw5xko0vh9MDjNb9Q0hp2GK3cixlIApe4/JD9appR8SFxWAUFLg6n63iB1irnY1Jv0mlrok7nUdcZRa1YeshxBA9iijChlxI6iZEaBgSEL2tkRcymPGGJpqlbZ6uDg0WR/F0DwuMpxDkYwiIXA8hO2uMJdGCCK6teB8RQoY8xGfevQjxYQt25qoRwDT25MRBjZ7GtP/P/afa3LHmrflXa+ruf661Hvv+et3eAF6Fh3v+sSUGgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-aperture-near:hover .jb-pro-ptz-aperture-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAM1BMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZn///+qqqq9vb3z8/PMzMzo6Oja2tpXGg+mAAAACnRSTlP/JomLxwJiAONCr+rW2wAAAOtJREFUKM99U9sWhCAInEpLBS///7WLEWy7p9O8qEzCMBIOQ15DAlLYsoegS9yFMKQ93skl4Adh+ZI54Q8pG5nxgKzkgkcsk4zhmQxRyN1OPHqtncjOu5AuppcJ6s1EHTA1YzC3Wgq3YmzGqpsmlwZAo7F8oLEVKoeE6+TbSxK0JJ/3FLOwFnUxzXuoltYDDMLoAlmYXLAWIrkqbdZKs+q4KBfkNV1uwGaBim9TdLWS3R7iGRvCNTPB7JvGlc5EXK8cKbrxooint73RzXh7Msl6Oj/uT/b62O9j8sj6gMXX0Xwf6jP3Zr9DtNAHTYMMXrXSK0YAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-focus-far .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAPFBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX1////92dnbs7OyFhYWjo6Pe3t7Ly8uxsbG8vLyG+Q0EAAAAC3RSTlMAiWJjx9wm/0Lti7mfpe0AAADaSURBVCjPfVMJDoQgDERFC/bg8P9/XUSO6CqTqA0TptNDpSrMpC2A1btRT8wrNKzzjdo03KC3zhkLD9imbeAFhd3sG2kvZQ2v0NknfGBJZKkhBM9MxOxDKBV1N4iHi0TRHYjN01Qi7/kK2PtyNDU7DAEJgDAAN0u1jsQEFEkcVVmrqjeXrkWRmC67eqbgG7bJyvkQSQkvUvec7szpek6t9ubWJSK/uJVSm+APzHKCh++DWWuH4plQKNYOpfappcjy2VvJn9744cjGwx6uyXjBxqs5Xuqsvf/9Dj8rLhRg+bQ5VAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-focus-far:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEWZmZmZmZmZmZmZmZmZmZmZmZmZmZlHcEyZmZmZmZmZmZn///+xsbGoqKjt7e309PTExMTQ0NDe3t774OlGAAAAC3RSTlP/itxixwImAELtp8B2gZgAAADmSURBVCjPjZMLjsUgCEVpq60G8Lf/xQ62gvNeOmZuUiWeKHC1cKnC5iJAdFuwJXgmf+xg2g//G54OPuTOCUOEL8WgMMCLwgPP+Abj2aF38CrnBR7whw6Bo4fWUk7MMrQ2OrpAq0GspTLLgKg1wTailNITZA0EaTkZGjIAY5NwlATah5CGRMJYj50tFtlWiapsLvAPRdtL/WOmET7QzZyl5ywzp7NWsjBJ1odsragJqeJ9HGFNZoLaJw71hMTm0O7NeDE1Z6YsU5rGL69sedmXXz0ToW8PzA/oV09T8OJR32fb7+B17Qe3WwtC9PVbHAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-focus-near .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAARVBMVEVHcExfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1/////t7e2dnZ3W1tbGxsa3t7eDg4Oqqqri4uKTk5NImu/5AAAADXRSTlMAYieJ3MvE/0Lti4oh87zNagAAAOtJREFUKM+NU1sOwyAMY30FtoWS8Lj/UZe2gWpVh2aJH1wcO0mNqbDj4gDc8rLmiscEDdPji3rP8IX5fXLWwQWuaVu4gbKDuyPdsJMz3GLefcIPbJ6PDCEAFDlUAJiORM3NigQFAXAFlqOeRhWJyFFIHxNGvRrN0mp470U++3axGM2RAmXcXqKnkDSN0a9WIk5Sa01MpDXBQAdVtrA8lBhFnnKpsmoo5VBrhszV0KuJ5N2tP92O50iQjpzcctravoihdoi0Q1NrfN56m0VWzFBoje+OrD/s7pr0F0yUr6s5/LvUu/bz+B2ep+IHdMIV2SUZfCsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-focus-near:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAQlBMVEVHcEyZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZn////c3Nz09PTp6enR0dHFxcW7u7uwsLAUKT0cAAAADXRSTlMA3IrE6WIm9wI+y0gNQZpqdwAAAOdJREFUKM99U9GShCAMQ8BF3Cmlpfz/r15dAe88l8zwQiQkoRrTEa3zIXhno7lhWxcYWNbtN/fa4Q/218VFDzf4of0O8A/h3TQfOGU/ytsOj9gPVyt8warkmYEQQAgABYDxTKROz88koS6AVIB1fRCNbSI1cVUy15Jq27LGjTtyzipPeWw40/IXQkrHyZSRmqw3LaQgctFNKYzYyGACfEXossLMojFEj7J0WfdwJ3dD9uY2X25tL0Hj45mTR87Y66u9IQFsDS1bL57o7JbUDNIofvpk08eej8kTe3Hz0ZwP9UFfv8OgfgBUByCEUZhYtAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-cruise-play .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgBtZe/b9pAFMefbSYWMjCjdOtmYEYqXVC3umMlBFRiT7qxkexITcdKSDUSYna2iqX+E/DG6LCQgcETUiR+5Pv8I3Kc+McF5ysZ3x2++9x79/zuLFEG9Xq9s/1+r8my/AnVJq4z/2LZfB0Oh1tFUQxd1+208aQ0GAa7kCTpMgRJk4kJXk+nU5NEoe12W8PM/wrAotIx2Z+w3MkE7XQ6Q3S4otNlY5zPUZdL7wiMBUsRIK/fDeWvhQ92XS0HrQia83cCsqoIyMug8gQ9Ho/DpF7FYpEajQa9VTBoyIZxWeEfv6IndSqVSjQYDKhcLtNqtaLtdkuigmGSZVn/XKiqqr9wqyZ1YEtbrRZVKhX3zvX1ei0Eh7Ufa7Xan8C9VRIUg9lyQZfzO19VOOugkBpAgaXRtnq97oLZ5ZvNJm0YQkBZ8m63E7YyKl5ntrrf77vlJCF/qzLlKLZ4NBqRpmmuF2LBlLOyBFYBchDKlIeWyyWNx+PUtS2Qtx+eJA6i2WzmQtMEA+8KnA+73a6N+jkJil1pGAbN5/PMfRBIZsGn3+LFvSABMYiBgpnJgZEeFHQD4EzQrOsWI4N/nrY2uPg/eeefV8WvAKfALOsWJ3jzA++rcqjhB25OXAd244nA62AjV4LGxWLhIBk/oPiF8pc9mUy+BZVnyQEzueEZUb5yjyvhBiX6BCw2YTGvdZNyAkYPZsprT/rgO/K2vDcdQQH7jes7gPcv/kvqyCcKbEVX6PxVAG76QWPGPZAIDcEZqGECTQyokpe9wp8VfNqzyA2L9M+KRzm19l1i6ZQBAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-cruise-play:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ5SURBVHgBtZe7buJAFIYPjsVFAok3wBUlYcUDLNvQISUSDVVCA0IUYZ8gmzcgBeIiJLwdFau8QToaQKygovI20CJBARKX/Y/jICPAF3B+yRpjZvzNOWfOzLGLLKrZbAaXy+WdKIq32+1WcrlcQe0vZb1e/8XvQT6ff7fyLpdZh0qlEr+5uXne7XZxMpciCIKMSfzGBBSyCwVMAqxpEXYEhzdeAJYtQ2u12h2aJq4gXadSLpf7aQptNBoPm81GJofEsc5ms9/0zwT9j3K5HHUSyEJ4ovV6vXkSyjHEyvxDXyCAHxGy4hEUq+4JjWQ02O/30xV65rTbQ9lKNEWjEYFAgFKpFMViMbpQnOfFPRSKWxnldrtVaDqdpnA4THalefMDinx8sDOYrY7H45RIJOy6PMibjch3F24AJEmSeo3HY+p2u7RYLEzHwNqogOUcpSvFrk4mk5Zcjry9FZCX1+46qj5dzvEOhUKGfQVyWAyPRCLqojsnEYtohpiSE5rP59TpdEhRFMN+Itw7Q3DpGq1WKxqNRurF90YC75+gnXszulBsVbvdpl6vZwpkwasDNWVw9r3BWlu5Op1OVdBkMrEzTD11RO1exmUJytb0+30aDodkV7DyjT2rBpNrG8zg3WwQW9ZqtS4CatASt/sVhAC/GA3glWk1bqcEo+TPwm0P5QeYySt9jRS9UQe54vF4fqEZkMNCdXivrw4PoJlMZoad5IeDYE7F+0KhcPC+syVotVotIQ5PdLm4CD8CGkJZfAIhzlw3SWRdM+T9q9frLbHnTnUwrfBZfPCiecQG8v3MBHj/HvAm4/P55HMwW1C9tG8a/RmsGH1CnNJ/17UakVMOx7kAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-cruise-pause .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHySURBVHgBxZc7bsJAEIbHdprQJAU1ckln3FM4J4jTIkSMRB9uQDhBlBPECIk2yQ1MSeeIxg0KZQoKKpSCR/4xtsXTNmA7v2ThHe/ut7M7O7sIFEOGYdzO5/OSJEn3KGp4ZDy33ucxP6vVqo86H71ez47qT4iCLZfLJ0EQmhuQKNlo89rtdk06FVqtVjV49kZrr86RicG2TdMcx4LWarUWGjzT5Rqjn7tdsJAi8Ch4C4op1TGl75S8GKwCPOWC6FsRNDKAL5SOZER30HcAhbFFEUFTLBapXC5v2fL5/J7tiOCXofHLlVfikRhRrSqVChUKBXIchyaTiWtrNBruYLjM9jB5jlmup4vFQqMYyuVydKE03vsuVBTFR8pIcFD317REGQlRXBJ5PSl+iktCskgZC57eZA5l/Q/Uy4lTykjYq1++p5EHb1LC9rRdKA7dT8pO64yERG/SmVM8m81OqW7yckr8Ztv2r6Io1whnLawF59fhcLiVY0ejkWsfDAYUJfRfB+snOE85J2KRvym9RGF2Op06vwRbhg9YHgmlIz7E235B2vwC1x1VVdl7jZLT3nVF2q0BsJUg+ODFTDpU0wP3PfC5a2wB+BD7CuqLgws/TQQYn7cyxYfxfdc6ViEUujMAHUlER4cKHfhbATvPjBUG8/UH1xXJDxHoYGQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-cruise-pause:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH/SURBVHgBxVY7bsJAEJ01CAkJKUhUULmiDSnpoKYINyBuQIgi3AA4QZQKIQq4QaChhhuQCxAXSERUSDSIb944axSS+CPA5kn27o7X+2Z2dz6CXKDT6URXq1UqGAw+Hg6HDB4V4qj8rAsh9N1uN9rv971KpTJ2Wk84kW2322csVv1BYr+gEGMo8Foul7uWc6w+NJvNjKIoHXRVOgMg74K8AXLdFWm73a7BujpdDh3rZH8TCw8JLYlPSFutVh7NG10feigUetA0bcEDxZTiDFU0L+QN1M1mc1z7SBoIBGrkcGkSiQQlk8kTWSQS+SP7D3CzJ76c3A/yi61kodOP6XSaYrEYzWYzWi6XhiybzVI8HjfGLLeDNGxoWpohF8C50CXgwMK+r0gNCuQTENnyitQgRT4BQSOlyFvrKsRdCapC/uPuFqR0G1IZExfkH94NSzkHkk+Ap4wNUiTqPvmH74gUDoe7dOYWr9dr13M5sfNxBnjQ7/dXuVwuDGHG7ieOr9Pp9CTGzudzQz6ZTMgJ2FFtMBh8HvMpx0Ro/UEeBQq2slgsatw/uoxMsBp5A64WG+bgxE9LpVIPpUWDrgv7csUE4nEdlWCNPCC0JJXEF5Wg8MchHs11CWpCVvZVkBfckksyrneHVnMEuQRXitiqPBS4lwpEJYmORkc7Qju0IzPxBZ2t+3mW/JtqAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-fog-open .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKgSURBVHgBtZe/jtpAEMYH28WJioIa+URDF8MTkAalO6cH4YIiFbk8QXS8QO6oUlCAkGjDtTRHJBoa4nQ0KBZdJApoEAV/Mp9jkAF7bXPcJ5ndtdf725nZWdYxiijDMBKr1SqhKIqKNpdms9mcRxkjFqZTsVjMy7J8x1WdL9WjC6D97Xb73G63m0HjxULAvnI1T+FlMfxBBPeEwoW73Q6we7pcViwWe8+utwKhDFQZ+IOrGr1eAH9ksOkLdSz8Rd5xu1RzBmfdFkvupwz8dmUgBENeYNAZtFQqGVwY9DZSnTVi6+Decrn8h0JYWSgUKJfLHdrL5ZKm0ykNBgOazWbCd9nNt3CzgoZjpUohlEqlKJPJHN3DJHRdp16vR51Ox/ddTiVkw70NlSTp7rRDMpmkWq1G4/HYvmANSpHghXg8To1Gw/M5W1oGVEZD07TvXNy4O8Btw+GQFouFbV06nabRaGRbhbaf8AzvTiYTr8c32Wz2p8KrSuMgJ7x6IEa4AIuivau9tNlsNGm9XqsBY9gxhOvCCi728wa7OCHhRzQAZl2pVGyXRZEoBAoFCDGs1+v2QooiUfpIHE+LBEL+VatVezVfDcp/whYJhAWBVHFvCEFCfz8op6cpORuxJRokajz98tSRae+97OJnUS/RanQLkwNQ4FrzsA2yyU0Gf/br2e12A90LlwYAkS5Pdrm/wRs+/rh1ChAshuV7wTqAQoTAarVat6gorll8YWvzXBXmbdTUcY3/sK/L+4ppmnPeF/9SCGsvAXIsH8+gDthkMFyepyuJgS0GHh3w5NNOzO0zeMHVD/R64BMDP53d93vBORW+0GVnpvmpS0NBXXDDSacwR9K5kxaPok+NUJ8VDlzlQucJvKNj63G2/U3/E78fZqx/rk0w4ggu8jUAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-fog-open:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBtVa9jtpAEB58/EqArqCBBqehorgTVDQxPVJOiD5QAEJUeYLjniBcgRACKeQJQsQDBBoqkIigookraC1BwT+ZcQBBsNd7Ovgk2LV3vd/M7PyZgBPlclnc7XZPFovFv91uRZPJdL9fktfr9W987udyuRbPWSajDUgm3d3dPSOhBMaQUaAXu93eSKVSCryVtFQqPaBWXznJNMlR8zo3aa1W+7zZbIo4vYd3QBCEQjqdfjEkrVarzyhlAa4EvOt6JpNJ6ZJWKpUnHH7A9VHMZrNfLkjJO9Ecv3Aqwg2A1osevFs4vCQP5SF0Op3g9XrPflar1egzut9vCNVHzPS3j8EkcCAcDkMgELh4PxqNoNvtwmw20/tUXC6XSRyLqqZ7LS80CgaDqiY8IEESiQSIoqi7B53qE40qqVYsolTgdrshEokAeh9IkgRGIDPTPhJYC8SD4eg3k52RQNQi7XQ66txms+kepEUcjUah2Wxqrq9Wq6h5Pp8/4CUzD1osFuqPFwfnIsE1IBKbyDqANIzFYhCPx+EtYPmCGQxAppJlGQaDAVwLaFlBgRtAx7T/SNGNZWCg1WqpoeP3+4EX0+kUJpOJNiEqKWA49HGusA6gwPd4PMCLXq+nu4bpsK+6LVV9YMDlcqnkPKD7JyF1oFD+PSSHV9ZB4/EYQqEQGGE4HEK73dZdR+Ua6nh4gWXtD3AkfCL3+XzHZ4pfyrekIQnHApr2A2oqn4YM1TvDWkr3xbozPVAxJ0KaH1MRFllSvQG3gYztz7FtOct/mLqorZDhulD2BVzWJKW2kTZckVjBnviM8IKUQBtQ40ck/w7vAIUhnvGYz+cvwpHZbGNHkcQMwtXGnICs9YrCF/Q2GHb4e3IJBxLgo44ACsY6afbT4XDUWd09N+kpqOhTDT55Jf9/Z0b4C/UJLQCcLGi1AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-fog-close .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIjSURBVHgBtZe9UsJAEMc3l1Q0WvAA2NEp1MyInVbGnoE8AVrSqW+gT2CY4QGwpTEFNcaOEqksKKiYcYYP/xsSJoRwx8f5n7nRu9u73+7lbu8waAc5jnM6m81sIcQlqhcoOZTTsHvAZT6fv5um2XZdd6Caz1DBMNm9YRgPMYhKHhx8brVaHu0LrVQqNjx/2wOWlAtnn9MiT4VWq9VHDHii4zXAPFdJsPGPwK1gIwHk7/dC+sXgAsBjroioFZsmpznCuHKLxeIxqqwirdVqvGmcbaOy2SyVSqW1tuFwGJTRaES7CEGd8TJbXOEo4YkjG8BQ27ZT+7rdLrXbbSUcx4+P3oOIVQ4Wr0Cj0aBMJiO1Q6Q1PvsirFzSkeKVqNfrKjM+8xeCybRMbUcrn88HRSasqs2R5kijisWitB+reiKm0+mhaS5VvMwqCdIs1WYKoJZljUmj+NwqobS8D7Wp1+tJ+5EPvkWYD33SIE4S/X5faoOHgCdC+jsdKc5GnJUUGiNIzwrpbjwh76tOpxMAJ5OJyjTwKp7wP/CnvM06LeFzdPwNd4AFihL+Chom/U86/HmiAr4CGOR4M2r0fX9cKBR+8e816deg2WzeRJW15ABPXvgxRXoVPFfiDWbSAhF7iJiXvUyagMmHmZlmGYK/aXn7HPSNAWui3AH4s9EnG8ibiy94DL6l3W8jL3zvetsMpNCEAw4cKGPCc9r8WeGj/YuBMlikP+yn3EGZYjlWAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-fog-close:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI5SURBVHgBxZZLjtpAEIbLjUFih8QFnBUrJCIOEHOCROIACStALBhOMMwJMlkgBCyYnCDMCUJWrJCQYB+zBwkJFiBe+QvZyEz86IEezSc1dj/w76pyV5dGEnS73cR6vf4SiUQ+HY9HE0MJu5GmaSNcFrvd7hn3vXK5bIU9TwsTw8Oqh8PhzhGRoIf1tSBxX9F2u12FVfVXiL3ksVgs1khWtNVqfcfljm7HgtW5l1Zrbyh4Fo7FYh8LhcLCGRDu2U6nc69YkDG22+0v98DZ0mazaQgh/tLbUUOMHy9E8eH8treDJ8lkkgzDuBibz+c0m81otVqRBAu4+QO7WecerDSDBB3RbDbrOTcej2kwGFAIvNc5dPVTTLHpv9INpNNpyufzBEsC1yF81dOVf8KslCHIEy4SjUYjIxDLDDoGKYAtDrNW13VT7Pf7azOOJ6lUKnAeySLB7jVIIezmMAS9A/igxIIUwns3VBQ+HpFCLMsKnGcjhX0CKLF2MpnQcrkMXIPzuX+KKax9phthtw6Hw7BlVqVSGel25wntqqy02WxOFnLj+xB6/HNTwmdXTqdTGTHmfKA7lhKSxAOCbPr9g90n82X6AcGfTgVxUTngtKlD+J4UAw/2S6VSzulfJAe8SZ3fiNRiQbTgHvgvI0H4Gxb9IAVwTexVmHmmQbiCD1suHy26En7xaDSa86p/A4ttrpuIT3ohpLcTxw/tAWJ9vzUaSWCLm3DXZzS+z7hELFzYjX/i8fiTu9T04x9LgQk+PbvDKQAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-wiper-open .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALxSURBVHgBtVYrrBpBFJ0FFAqBqCIrUXRBk5QaUleewBBIlwSDoW1CUlzz0CSlaJJHA8FgqMBg4CWIKkpRuEfQCDAYAvSeYYfsLgss6fYkk5ndmXvP/c1HYjaQTqdjbrf7PQ0VarLWgBW1Cdput3tutVrdW7qka5OZTEZ1uVwfaBhj9jDf7/ePzWazwe4hVFVVPhwOT3cQnRFLkvS20WjMzRMuCzKFyH7/AxkAg18oQp/ME24LsgENfcwBkJfvQqHQejqd/jr905HJGpnMHIYW3iHGp5AS2df/QabpfiKHfCdCVCN1qh1hv9/PIpEIi0ajLBgMskAgcDZfKBTMYjJVL8+nh7MeS/8ioFiQbDYbtlgseA/lXq+Xt9lsxrrdLkulUmw8Hp/poLB+JC+rkpa7FysiKEokEpyo3+/zBiIrr2EU1kKmWCxariMvsy46IRJWZFBSLpf5GApgvZUSYLlcstFoxMfwHnKQN4Mi+cYdDoe/IGpmslKpxJV0Oh223W7ZLcTjcb6uVqtxLxFayJtkfSga2Sycy+X4YnhlBzAQhGI9euTRqnhAaNjkKA5Unl0yALlD0SC0Au12m/fIvx5nRxsEYV2lUrHMgxmiYMwGwmiE1qzDrSiKSv0r8QMxF2Wdz+fZer3mhXAJCP9gMOCGAiBJJpM8h6jqXq9nWO+hLfGH9ohiVoTFIEbxwFqECMoQInwLy4V3mEMe0SB7YWtMJJzoVK7fLnkgKg65BVBM8Bj5gjHwDORoGNfrdUMu9SDnfl7d+HqAEArFCYNQYoxtAODfJSIBimTWpV2Swxt8PLwiRAgjGrwXuEVGmBNXw6MxP5KXMWYTCKs4U+2COH6g59tCu6uG7A7AYxteCcypVU+EmgVZbcJxkO4HcmplIEQuMcGOTz8nyT6T7on4Npw0mMBzgDnkqUZWNfyzWujQM/FB79lVQh2xeudbZ0VE36mvipzdRagjjtFtnSBlr9nxuS9uGCidk1HPdFp1xcvsGv4CcbeEIeSIw9MAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-wiper-open:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM0SURBVHgBtVa/SyNREJ7dBLVQELU4bdwrtFJOUCxsXEG0Ue4OK6tLKhEb/QsO/4LzChVtvGvE0sPOxtiYJuFyJBBICtOlSSAQCEnIj5tvyC676ybZYPLB4y373ptv5puZt6uQB1xeXup+v/9zs9lc4qHxK621VFAUJYbRaDSeDw4O7rvZUroQBXw+3zcm0ckbMkx8enh4+It6IWQijYlueiByI95g4oxzQXW+OD8/X1JV9e87yACNbbxeXV0dOxcUJxnn6okfx6l/OOHcnr0hhIzsFcg06jNa8obwbErKOfs+CDIhUdUbxrhJiGrknAW8HB4bGyNN02h+fp6mp6dpcnLStj46OkpbW1vOY1q5XJZ8iqTX19dPnYpkZmZGSObm5qharVI+n5cZ5ENDQzKy2SxFIhFaW1ujTCZDqVTKaabA+z4qrdy9uhHB0PLyskSTSCRkVCoV16gRLfYODw/T7e2tOOQE5zKocmRf3Mggzd7eHvEtQnd3dxSNRl3JgGKxaEaE6HEO553gOllXuQ3W3ch2d3fFyMvLS1siKxYXF0XWh4cHOYfzUMgKpE1t3Y026LouhxCVF8DBhYUFcz9m5HF7e9u5VUOV2pp8dnaWpqamPJMBKysrEh2kNRAOh2VG/q14c7XhILzb3993zYMT2IOCcTo4MTEhkqKgrPCx1gGePxgv6vW6EKJYNjc3qVQqSSG0A+RPJpPiKACS1dVVaQ9UdSwWs+33c6n+47ZYchqKx+NCvLOzI80NiWAMEkFyeM75lx5FdFhD4SCXIEJluxRbTLm4uDjmcv3RLgIYgrfILZBOpymXy0m+UImIDLLCATyHQiFbLq1gB/90bHwrcNPAILwGAaREcz8+Pso6CNsRGZDGx0eS8xXqRgh5DYkgIwZuFQPdyGACfwJ+PHGhnHKUOnkEetS4U72Co/uNWdoC3yovUVqBiD1EZW4fGRk5MwkBjjKIBRoAarXa12AwWLARIpdY4McC9RcnR0dHZjPabhosMOkG9S9S2/8MMLDfRKhljawjoYU4wNXby79OgavxJwrEyFlPhBZinasYH+pPPOMaNL4wMJphJZ553Bt/Zp3wHwTYnvHjbDCuAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-wiper-close .jb-pro-ptz-focus-icon{display:inline-block;width:28px;height:28px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANOSURBVHgBtVc9TCJBFB52r7jYyCXWnhcbO1aru8RErjGXWBxX2BijGG1svNhJo56VhQU2ViQsgdDQYEFDc5rQ0BDoaMgRGhoKaMhdCHDve+6QZVhgMfglm9mdn/e9v3kz6xEusL+/79c0bcvj8fjpc8V6gCY9VXqK3W73MZFIpN3I80wj03X9il79wh2q/X7fJAXvTdNszkQaDAZXaHF0BrIRcvLKERE/OQ3qYwh/06shXg8vRPl8PlEqlZ4nktoIV8QcgBxwItbfitBOvL6+XioWi2XZp8kXIryaN6FNdpSM8spvthRWUmPaJ25vb4vV1VVRqVSGBCwtLYm1tTUeW1hY4KfVak2hFe+J+B+5+QkfnL2Hh4fI1KAq/OLiQlxeXorl5WWxsbEhNjc3RbvdFrVajVvMkcTlclmk02nRaDTGETfJ1Z+wlTxWLP84zQoEAkwEodlslh+QqZDWY36hUGByp3m9Xu88Ho+HNaokfidCCAIh2kgkMlYQAOtyuZy4vb1lBW9ubnidCioa37klkw0nQrgWgpLJJMfXDUAOBbEO66GAAkOS+tSRk5MTXgjr4FIAMXULrIObz87O1CHv8fHxR03thXAkDhbahezt7TlpzkA8sc7uUngIQIhUgNRr70AWQsu7u7uBEPTBdaqboQTcCIUgXL4DUBzjTrHVDcP4BmVlR6fTYVLg9PSU9yC2CIghEG7HHIC2GluJOGYyGR6DYiDCGEKD/iErNS2sU238QnH9rGqDopDP5zm+EIJ3aL6zs8NEUAKCQSiVwxp4BFaHQqGRwkJoRqPRkEZ7tCjGAAJQHED28PDAVkirsX1kUcAc7FEXWc5c7+iQTltnpyMgHNYgUSSZBL5BhqTBHkVMAZnxKsijMbQ6Vf+/FFe/mFLs6/X6IJZ20t3dXXb34uIihwFuTqVSI3Mt0nPia3LtpVLot461V0FWLiiBZwzMWCx2xOSy5+DgIEya/BRvA1xfvlKxr+JjUBwola/Fy81u7iDCX5JwiJSPHNJm3sQWoTnUp06a57XFIrxW+0dug8guutM8EvEHpxPIJRDDH6qFA2UmrSSrg0SO5HJLjhDdUxue+bLtQG7QqR8ggVvC4beCFHumRMSxVJxEJvEfnFm91YrgD/sAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%;cursor:pointer}.jb-pro-container .jb-pro-ptz-wiper-close:hover .jb-pro-ptz-focus-icon{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANwSURBVHgBtZa/SyNBFMffboJaKAS10SZ7hXqFegGbCyjmUPTAH3eHlZWmULG6u/Kqi/9BLEQRIdoKigf2l1Q2ChGtBLmtFAQloPgL1HvfRyZuJhuzBvOFzezOj/eZee/NZAzyoMXFxYjf7+99enqK8GNxlZVtyhiGYXOZ5vo/MzMzW17sGaVgPp/vN2DkTbZpmqs8wfloNJqh10AZZjEs8QpYAfzx8TE6Ozub9AQFkGf7l55dWLbYTmxqamruRehbAl8CG5UEOvTNmWSmekHCVAgIJVgB9eHHD1bJSTPp7NXe3k68Hejg4CBvdF1dHTU0NFBVVRVdXl7S/f09nZ+fl2BS4Pb29geXMXyIe5eXlxM6FMaHh4dpY2ODGhsbybIsamlpyUFQog/geE5PT2l3d5eurq6KgTPc7x22kpGN5T+3Xl1dXdTa2ipGDw8P5bm7uyvoB3hTU5P0t22b9vb2ZFIu+smxjSOmEbfW2tpaAcJgMpkUQ25ACG4+Ojqi7e1tqq6uprGxMRmvi8P1BaXJLyE34MjIiBja2dmhzs5O8iLAMUGMw3h4yCkOobDYs+YHfXAkEpGBWJ1KJMTUqzAObh4cHNSbAisrK0FTrw0Gg5I4GKiEBAmHwwUzV2pubpZJOV0KD0EIkS6TlxxwViALMcvx8fGcEdQhKzs6OvIGYxLIcEwIxuFSvEP19fXSjpzQ5RsdHf3M5XtV8fDwIFDs0f7+frq+vpYtAjAMwu3oA/X09MgqEcf9/X1pQ/wBQhuyPZ1O56/SNOO+oaGhMAM+6rM5Ozuj4+NjiS+M4B2ZGQqFBHRyckLd3d2USqWor6+Pbm5uZAySqa2tjdbX1+VbU2Z6evoX3JumIoIBHA6ATUxMyCl1cXEhQOxD1ON9c3NT9qjufl2K5a+pqdliA4liHWEc7kOiwMXOvYpvwJA02KOILwS3FoGuoTTlWDKMJJUQ4qwfDmoyAwMDkkiYIBIOsS2iJH7k7MW1JPu3VpbUyYWVw91u4oWtcjyjOSi0tLQU54bvVBnh+vKJry82PnKHAydFDI1UATFwTgHzoIgtZvPW4Cxw1VlX0YtZFhjT6wvOXrgBK+ZnjcqXimHMrbHUZXuSV43kCpE3IUTzvPfjr75s61pYWAgx/Ctndy9/WlxaCsKPzZs+xc8Ww9IvwZT+A8hTw5fcMmXrAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-ptz-arrow{cursor:pointer;position:absolute;width:0;height:0}.jb-pro-container .jb-pro-ptz-arrow-up{left:71px;top:15px;border:7px solid transparent;border-bottom:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right{top:71px;right:15px;border:7px solid transparent;border-left:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left{left:15px;top:71px;border:7px solid transparent;border-right:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-down{left:71px;bottom:15px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left-up{transform:rotate(45deg);left:32px;top:33px;border:7px solid transparent;border-right:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right-up{transform:rotate(-45deg);right:32px;top:33px;border:7px solid transparent;border-left:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-left-down{transform:rotate(45deg);left:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-ptz-arrow-right-down{transform:rotate(-45deg);right:32px;bottom:33px;border:7px solid transparent;border-top:10px solid #fff}.jb-pro-container .jb-pro-loading-bg{display:none}.jb-pro-container .jb-pro-loading-bg,.jb-pro-container .jb-pro-poster{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;height:100%;width:100%;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jb-pro-container .jb-pro-play-big{position:absolute;display:none;height:100%;width:100%;z-index:11;background:rgba(0,0,0,.4)}.jb-pro-container .jb-pro-play-big:after{cursor:pointer;content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:48px;height:48px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC");background-repeat:no-repeat;background-position:50%}.jb-pro-container .jb-pro-play-big:hover:after{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==")}.jb-pro-container .jb-pro-recording{display:none;position:absolute;box-sizing:border-box;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:101px;height:20px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jb-pro-container .jb-pro-recording .jb-pro-recording-red-point{width:8px;height:8px;background:#ff1f1f;border-radius:50%;-webkit-animation:magentaPulse 1s linear infinite;animation:magentaPulse 1s linear infinite}.jb-pro-container .jb-pro-recording .jb-pro-recording-time{font-size:14px;font-weight:500;color:#ddd}.jb-pro-container .jb-pro-recording .jb-pro-recording-stop{height:100%}.jb-pro-container .jb-pro-recording .jb-pro-icon-recordStop{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-zoom-controls{display:none;position:absolute;box-sizing:border-box;left:50%;top:0;padding:0 3px;transform:translateX(-50%);justify-content:space-around;align-items:center;width:156px;height:30px;background:#000;opacity:1;border-radius:0 0 8px 8px;z-index:1}.jb-pro-container .jb-pro-zoom-controls .jb-pro-icon{vertical-align:top}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-narrow{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-tips{font-size:14px;font-weight:500;color:#ddd}.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-expand,.jb-pro-container .jb-pro-zoom-controls .jb-pro-zoom-stop2{width:16px;height:16px;cursor:pointer}.jb-pro-container .jb-pro-loading{display:none;flex-direction:column;justify-content:center;align-items:center;position:absolute;z-index:20;left:0;top:0;right:0;bottom:0;width:100%;height:100%;pointer-events:none}.jb-pro-container .jb-pro-loading-text{line-height:20px;font-size:13px;color:#fff;margin-top:10px}.jb-pro-container .jb-pro-controls{background-color:#161616;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;position:absolute;z-index:40;left:0;right:0;bottom:0;height:38px;width:100%;padding-left:13px;padding-right:13px;font-size:14px;color:#fff;opacity:0;visibility:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container .jb-pro-controls.jb-pro-controls-small{height:30px;padding-left:8px;padding-right:8px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-controls-item{padding:0 5px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-icon{width:14px;height:14px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-menu-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-quality-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-scale-icon-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-speed-icon-text{font-size:12px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-quality-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-scale-menu-item,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-speed-menu-item{font-size:12px;text-align:center;width:40px}.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel-text,.jb-pro-container .jb-pro-controls.jb-pro-controls-small .jb-pro-volume-panel-wrap{width:40px}.jb-pro-container .jb-pro-controls .jb-pro-controls-item{position:relative;display:flex;justify-content:center;padding:0 8px}.jb-pro-container .jb-pro-controls .jb-pro-controls-item:hover .icon-title-tips{visibility:visible;opacity:1}.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-face,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-face-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-fullscreen,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-fullscreen-exit,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-icon-audio,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-microphone-close,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-object,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-object-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-occlusion,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-occlusion-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-pause,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-performance,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-performance-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-play,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-ptz,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-ptz-active,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-quality-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-record,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-record-stop,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-scale-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-screenshot,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-speed-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-template-menu,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-volume,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-zoom,.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-zoom-stop{display:none}.jb-pro-container .jb-pro-controls .jb-pro-controls-item.jb-pro-speed{padding:0}.jb-pro-container .jb-pro-controls .jb-pro-controls-item-html{position:relative;display:none;justify-content:center}.jb-pro-container .jb-pro-controls .jb-pro-playback-control-time{position:relative;justify-content:center;padding:0 8px}.jb-pro-container .jb-pro-controls .jb-pro-icon-audio,.jb-pro-container .jb-pro-controls .jb-pro-icon-mute{z-index:1}.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom{display:flex;justify-content:space-between;height:100%}.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-left,.jb-pro-container .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-right{display:flex;align-items:center}.jb-pro-container.jb-pro-controls-show .jb-pro-controls{opacity:1;visibility:visible}.jb-pro-container.jb-pro-controls-show-auto-hide .jb-pro-controls{opacity:.8;visibility:visible;display:none}.jb-pro-container.jb-pro-hide-cursor *{cursor:none!important}.jb-pro-container .jb-pro-icon-loading{width:50px;height:50px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAIVBMVEVHcEx4eHh4eHh4eHh4eHh3d3d4eHh4eHh4eHh4eHh4eHiqaCaRAAAACnRSTlMAikwX3CxpwZ7zIGi5xgAAAZ9JREFUOMt9lb9Lw0AUx2Njqm4iGEqmEnBxslKUdhJctFMVcW5wKZ0CLpJJQRw6iVqQbg3FtPdX+l5+XHJ3796bQj557773fe8ujtOI+6jz5p84dHjTkYD4+RhT9CIRZWRPJr1bChnbY532GhT4oUpbI6HEuqvgIH9544dh9J4/rpr0Ms8oV3zMNT7X1MXSmaznzfHjM4n72moe5n8ryYrW9rKRvgf0S93JA7yKa9lbzUg3keJb8OVCtwkrFmoO4MnsAuj5rGqnZg+GZXUXkl9NjEui9n3YA9XgpMgakLXz6ujMTIgrCkPVv0Jil8KgKQN/wRN69hLcb1vrbR2nQkxwiZTGQ5Teb7TO8PUaS8Q03sE+zkjP8qbjzgJtEhRbV4gnlkOFeM7hDYNdxPbiYFvKSHN6L2NmY5WzMYPtplZdTxncRvn2sI+DHIoug22jWMaA12Y7BrXzrG8BX32XPMDKWVzw1bdMOnH1KNqNi8toqn7JGumZnStXLi0e4tcP6R3I635Nc/mzsMxl9aux9b78UVmn2pve8u6eR50j9c0/ywzyVl5+z84AAAAASUVORK5CYII=");background-position:50%;background-repeat:no-repeat;background-size:100% 100%;-webkit-animation-name:rotation;animation-name:rotation;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.jb-pro-container .jb-pro-icon-screenshot{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEzMzMzMzMzMzMzMzMzNzc3MzMzMzMzNzc3Nzc3MzMzMzMwv5ahDAAAAC3RSTlMAW+8S2UGVwyyZnOTRhEMAAAEfSURBVDjLzZKxbsJADIYdBQpsSCyVMlXAdEuQYGKpWFk6dWHJgsQ7sMDSpUv3PgITAQT0f7ly57ucQ45KXRAZot+/89k+X4ju9KzL4XOhlm3pR0enYrWViSRPXQIQSASkRSkIJEFRimYCuQAHSW89IOv6SH5TCsuAj68Ab1wDzqkAzqoC7AUAPtgsABgkBBgkCJiNHehGok//KRVsHqd+3Dj1/vukt3AH/Jj05s5/AmyZhFVWXDls44iVvfQWkCvgxU6g9ZdJfCLvjJbYaT3GvjOY4mQSG3SJGjhr/Y1Xohp+TGKqqzexZ/1GVGdNCitt6R8zVvb9d+JmKdl8o5sPWbtxT6zFuJcDQtk92MNmYiXHquYlZlVt1j4P6cd7fgHFW7Nhqu29TwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-screenshot:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEz////////////////////////////////////////////////////////NXt0CAAAADnRSTlMAWe+X2TINXUYZvctoYyuS2NgAAAEVSURBVDjLzZKhDsJADIZLCAsEg8WgEGCWGSwCgZxB4MgEAonB8wQEXoBH4BEWXgPJgEBG0mdgR3u77raRYAgnlq+9+/t3TQF+dKbZcJXSYSnzlViT457lRScKmBqILSFA3GoO8S4E+Ex5JiSJ4CbVdyOQdZNomX9D4dl+ko3NC8vFFmhPy8FIsi0ZlwLBW/LY5BxYYreUSgoFAEmhB5Rc9OCbUoXmTmDadQKTn4y6A/XTaoSKdb6KyGU6RJ7eHgpb3ABinAoil303xB6vQnRahNhXvMdre+fzOgxVrokX4jHAnBh8PALU8Eq8BqgTg/vePF8tpuPy9/NFaalSc273RizarYqfkswjifNMQ/TyTGMv4v87L+ks5gqDbc9OAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-play{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzMzMzMzMzNzc3MzMzPz8/Nzc3MzMzMzMzMzMzMzMzLVn6fAAAACnRSTlMA+duduRUwSGSD8toSsAAAAI9JREFUOMvV07ENgzAQhWG3lLSp6MwCViYIRSpG8AiM4FWMaPymDBKESMF/cQ0S136F353vnLuo3gp1kOYEoCXW4LFKIZAnqAXYICeASoAdzgG+cApwgF4EfwF+oDkCqIwA6gnyAKA8AaizQhsBAjzuqUHofInGIQbjRxXjMrTJuHDestR4Bng4eGrN0929PqNfzC6h06weAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-play:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJFBMVEVHcEz///////////////////////////////////////////8Uel1nAAAAC3RSTlMA+rbVFUecgC7rYhEEz+4AAACbSURBVDjL1dMhDsJAEIXhdeiGpKYWQVKDWc8ReojFc4ReAlPFFQazad7lIGkb0jK/WEPSsZ+YN5mZEP5UrZIP0vgE0Kv3oPlIJlAk8AJM4ASYwAkww2+ABfQg0ImgugPYsfNBVl99kA0AsjOArAPQpRTGHiBB8whxM0y+3skXNltsvMYriIWrpWPA80mFJ5qL3gAfB1/tcAt7rzdiV+HEgs1oBgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-pause{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEzMzMzHx8fMzMzMzMzOzs7MzMz4IlKVAAAABnRSTlMA6xIU1hVqIuOVAAAAMUlEQVQ4y2NgGFYgLS3RAEQziQFZoxKjEqMSaBJpEAkgIw1ZQlBQRAEs4QhkDeIMDgAWx1gMHyIL4wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-pause:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMA7OgSFBXMmAA4AAAAM0lEQVQ4y2NgGFYgLS3JAUQzi6WlJY5KjEqMSqBJpEEkgIw0ZAklJSUDsISikpLQIM7gAJjhWp6XcaOxAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-record{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAHlBMVEVHcEzGxsbMzMzMzMzLy8vMzMzMzMzNzc3MzMzMzMxEZ/aQAAAACXRSTlMADPKKKeBxlV6neZ4mAAAArUlEQVQ4y2NgGDZgJhpowCURAJeYpIQENJEkCgWRgCeShAGyjfgl2EqwS7BFToZJiLg4ICTEImdOh0pwRM6cDJcIjpw5E6aDFeh8B5gECBCUYAkKCoMbNXNSOlyCgUEQ4apJJmxIEkjOVWFgxi4RgEsikGQJnEYp4pLA6VxUDyJLIAUJcRLIwY7qXKSIQvOHWCQODzKIleBPPjgTHM4kijNR48oGkajiYUMykwMAAfmZhUjBISQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-record:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMA8gyMLeRw1x2DBpWGN2QDAAAAt0lEQVQ4y2NgGDbgDBpIwCVRAJc4KIgEZM4EwCU2KSEBHySJCcg29iBJGCBLgHUs24FdYlnNYZiESksDXKJALebMaagES8yZw3CJypgzZ2A6WIHOd4BJgABMgh2XBEtpaBjcqDMHs+ESDFyLEK46aMGGkEB2rgQDJ3aJAFwSUSRL4DQKp+VHcTkXxYMoEkhBQpwEcrCjSCBHFJo/1GIO408MOJMPzgSHM4niTNS4skENqnjYkMzkAEgzyFpeX6L3AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-recordStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAOVBMVEVHcEz///////////////////////////////////////////////////////////////////////99PJZNAAAAEnRSTlMAMPndsnZj1CSYPcmL6wsdoU80pOJLAAABu0lEQVRIx5VV26KEIAhMA++p9f8fezatFDPr8LSrjMxwiWlqzRuMYKW0ENH46c3WuGyVLXEduuO83UyK59fl1jX5EEUXD9DOaSh43XEP5zUIdZ4pAecTofVnWSt3ip4rx7N61vjnY1D30CpH4QQR8vsP+RA5Rs3KpjfMU/pMim/LgbvH7DF2F8sU0owqapKLqgnhuGWwImUagn2zhUX6WQQoYkXG9WxSAJd700/ygsCpAoliaDsPiG48GM1X5Ft/06sfp8DrDE+3DpekWjxM6366fgEcnklC+AIIWYQmPEeAaUmjFOnhCLDfxZRH+w1gU5b/DYjfNcyJ0p7dxX8B+FwxQVtvAGB5ig0d5gFA5KbzS91hI8CenvlHflfN/XvzJQnxbBEko1gbvVnPii+FadSVRUEaYylQfJtpLB+aRG4LY/80yKdUbCraM0lozGR4ewZ0Wtnj1iC7hjWKNnjYmR62W15cLlL3+2pyMR09jccyuyUrHKsvthc5xsY1iWJ0Xk3t+2XP7AnWwrAQmBH6asXubmL1Z5Lz6o992jWiu9lnMSiQsK27FS9NxhCumZgB2fTBPFsFolhZr5B/D3o9sJAI6skAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-recordStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEwimP0imPwimP8imPwimP0imPsimP0imfsimPwimP0imPwimf8imPwimPwimPxLmg1rAAAAD3RSTlMA15sisGUvdz3szYwMT8H+hDJEAAABx0lEQVQ4y3WUO08CQRCADxBQchBiMDE24KswFlw0Wtig/oHzUWglJBZWio3GDjUxlhhrEzT+ABMrO2iptLLVRluDggI+xtmdXW73LkxxNzvfzuzszNwZhhDzdOxqaPGgYrgkOgFczh90ezAJQmpL2v6OHYnqk2aWxOTtAnu/O/Y5XNZXmTZjo3ot7aESwLdFeqAM0MoJkMf9ltwVQJ9PcQN0UFIJogvdJgLQVFMsAlxyBaPmVBDCE8W7qd+2SDsx0q4OwhSrCG134W54jDfKLjDNxaL8/9AAMM/solptRnoALBbwEPWYrOEzLnrZsTGoMW+fBHG2SiLPUNI6KMOH8QS/XsCMBYQekIEv7NGZF/Rht2yqmA4i3UG9O0iTqgMfhirDhRdU8XJZqqEO8tDAqje8IIt1r+I5HmBjfD9AxQ1MgJQRpc6GJRALHOAS1WRlhMs4VaSFzwIWzCUF3op71kdNsNs/FDCuA58YqCQl7IhN3WbDnlLtfjnuON515WM17c7w41QPOuBIzDT5wqi0T4ESGV3gjtTjkuPATwHoX9+cPRlmmvJ57YAir2qKy459QL/UhrS/uAu3xf8KiX3DI+b22t6jc9F/qfaum9E1pJ4AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreen{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEzMzMzOzs7Pz8/MzMzMzMzNzc3MzMzMzMzMzMzMzMzMzMzNzc3MzMzMzMxdHBitAAAADnRSTlMA8AwGYt0aUcg+til5kgmZywUAAAGWSURBVDjL1VM9SwNBEB12IcGkMagxNktQSZFCYimIJAqKpZ3Vco3YBYs0NkKQgBg4ECtLFSFVCGgQrERBsLayPE0Ip7n5De73BdKLTrE3ezPvze6+GYDfsAQKy/Rz0i/OZJjY9XREuohTKulS+ZFGiADfyZXU5uHktI44VH5apDx554aXwJqloiIwiEsStAjCAsRNF1jCmGqa4Vc+BvS4JkjwzyPE6xiwzsxxeTbZxqjkANSWZFkoIj5bQBl4aBDfkPDNpeRRialB+SRAFz8UU1sAaEUjSCDoJ7iukZJ1V+c01bFczM1pWaa+a0Rp7MHn4V8Z1R9vLLCv9WjKdVFfk77JP+bZdz35YAfKXx6KhKp93abUYVbrj49g9aAYSuFCLbPUwzdCsYEWTloXgw1oGwQbENeuKwxzXhxwAADRMFd+zzRc6AAASY6RH8VjUHaXTrlOpDgCUP3gelc01e2d+f16cWbnQ46BGCRNVsWAWQJVw2xGfUXVv2k1OsLfazXqblzS99u1FwKFvBJioXBY2+r82U75Ab7O0ypVV0wKAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreen:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEz///////////////////////////////////////////////////////////////////+GUsxbAAAAEXRSTlMA3clDHfdfDQbsVG00u4Cqkr04dRsAAAGaSURBVEjH7VXLdsQgCPUBAROdjP//s1UTDUxsz3TRTc+wC94bHsLVmP9hkE8LIdvgupt2tFhcpy2CMZyVxNePEoqDp4hwEGz5PTqWoZNzLrmD9riltBEYzzpZQ8bweXy56Qy6Tivsp5JQYtawuMH3eJlSxIJtdSSa4xer4lMB89pK23mKrwjZVpsRzLq35vEE3+r26h6w5EKppcp3fP2lIpTPWJvoXoobeNI1sM3haHvx56tu2sdElJ54GbnPQ7RZ1sCpl8qPEMXBNQ8vN82jNbzLCPzGSDOZj/2Bqd19R1rELIEbDFrUJfKYdlALbDuDMko/hz7t8DqtCfr8h1Vt4rn7eh/6Ph37ch20aW8McsfGCOXzcr+GOlQG1rJ2HSHUDO/4Mu01qVAqTCpCJfgZ3phTS2pKm5aZOMUbs7Q6nk6L8UzRh6W78jH+gD/VRxHokPuNgUGTaPPR+zDR1mrlvcGgwkAVacSbeoN4Z0rb5/6XLrW/2GTLk2NhXHRKzrqAt9cD4rr4ddvae0NAYgOICdZyvPj4UYRf2BdfbB8iWvnTUwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreenExit{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAG1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxi4XDRAAAACHRSTlMAf3WqJmy+7azWNnMAAADNSURBVDjLxZQ9E4IwDIaLfMzCOTDSOz07OjLir5CR0dmJFVHIzzZtnMzbOzcyZHnuaXpJWmO2ji4GhpAzzZeQzw8FKCj1pMHss9OgpwsGOS0YGOcVUMPsfBVkmJoVCBJW0FFB6SFIaMKAlRGDnEiDkuM00lP3SmL6H5QSh+iIr9ZWVWntUV9Z4qWbHAWrhcUYNLC4Wwm3xb1r2mOQYoVn2EKFAVb81KHiQQq6L3vSUoMBUmSzgCKbVeiL3eTp3Odf8H1sxRAZZNZt/Vt8AHcPQbiQQVF+AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-fullscreenExit:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAe4Fzh7MZbKPtN8gpX19xAAAA3klEQVQ4y8XUIQ7CQBAF0CWhKQHDGtQKQFcURUgqEARBED0Aoqp3IKnoATAEW8MNOACmhQYKcyi6uyjmr+aLqXj56bSbVoh/J3HBxcw0ZfA2c3FiQLGeQcWh1lOVDDJTAeCbCgAR6QqCDj0xCEU5Bl2BIALKMwhdKjGILRUYfCIOEynlvABANk64M5jabJxHfJY2I76yzYu/ZCc0s1WbNYAQ3jxqwMoGHoqWGHpUQajEgcYYcKWFtjLE4FGJQewoxODRDQOqKPPcHl9sfzSXa/0L349tEDsOsp/8+2/xAY+BZBY9KhM5AAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-audio{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAIVBMVEVHcEzKysrMzMzMzMzMzMzMzMzMzMzMzMzMzMzNzc3MzMz8gU00AAAACnRSTlMAL0jMZKt96hGJsSKv1QAAAJ9JREFUOMvN078KQFAYBfCbJEw2q6SUyWxTnsJT2JTJ6D38Gb6n5PpT6BwbuaNfTnz3fEp9fZwAP7czD0MsGCzBYJcEYsGwBEHQQRB0EII1CMAWdAOzyJUvJ4jyDVyZVHKGpj9guEI2IuhaDFadYnCkIm9I+kPgn8t+kI7kOsT72HcwQnJR9Gofy8DrwwtHK8pLzdeALg5fNb6cdJ1fOjOGYrl5CLFcggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-audio:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAJ1BMVEVHcEz///////////////////////////////////////////////8NopmKAAAADHRSTlMAL0TQf2frEaZYt8E+idL4AAAAnUlEQVQ4y2NgoDdgUcAuzr4Hh4TaGQHsBp3BLsG+BoeE2hnsEkCDsEqADMIqATIImwTYICwSEIPQJFhnBjKInUGSUA2CSPCcOcIwB1ki5xRM4iiDDrKEzQlsEuUF2CVY0jbgkDhjMLQkEkj0IM4gQQ1EHMHOOXMiakRpTiQQtXgTA+7kgzvB4UyiuBM17myAM+Pgzmq4MyfO7EwjAAAEf+BAxqI/agAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-mute{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAMFBMVEVHcEzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMztXryaAAAAD3RSTlMAHd4P7ztyiy1OnKhdx7uY2gyAAAAB8ElEQVQ4y72Uu0vDQBzHE45C3SJFaSGjUEiRpJRCBifXokkpSv0DfOBrEKxUUSoFH9ClFAUfU7c4OARRCs5WjThIsJuDlLo4ldvPe8SYxGyCt1zgw+dev+8vHPcvYybvfCR2OgUv2CoLdI62bUn3gq5UJxOomZofXPUNrIChJRklfcDSiKK2bYQ6PiCaREk0EQoYPFYa3F73F+DGsBJLmAjBAMBKakG15KAxqIhd2KuK5reRccBDNbqGJhfSlnNc/kBh4OY+vaoR5QrRC0afKgxMrKdXNKI8yxRENpyd+i0VA6wMm5IOBmORCwfAFjGwolofevbuPrvpGhRgpVaqiJflrLuUQQFRToS9l894EMDe7q6yL7/G5wMATc5mQCiAvQo3HAbwLtyYHQZgTxhohgGUa/CP12EA16W2/Ou4ZEj1dNG9oPMkZGiwJWQ8j+huPoJy9Z/XHTfUFSbAURveCtE5px5vs7hQDKS25FSDn2KR5Up1/lRmIHne7BvKd82LMRJbSjr5M40lmaYZ5/PRpiCpizjJyk+CwOGOzACLpSdz02QxkiuRhd8dNOwkV7zl2YX1mcySKJrQiPkXY9klSt6rkJPRwIlmzrcWSGyzHuTb11V/N0y/S6SdwdCR4m/47OIN7XOQCfwJwHGp8IcfyRdBLEZK4Uxp6wAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-mute:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////9KjZoYAAAAFHRSTlMAbk2o8o0P5TsGnVojFi/XHcV9urLaq0oAAAIQSURBVEjH3ZZZkqswDEXxLM8T+1/rkw0BuwM0f131+IvDyZVk6SrL8p88QCHp8UAnWmoWoG8AwQRN4/vOiqwUuwWqiob646MMhEW+KnMLMIXffgiZoODBusb7kCzjByF7OOszkOyp4amJ7fWVPwCN6BpyWRypvANPCvi7u4aTXe13YI+KkYA5bMRTSMlLnSyGwisSH40B0FJOrKVB6iAw2U7sGgPgQ/DTPQjitCOZT4Q6gWCtGwGFbSM34ENUNSpAKTACmC31rnRgJwjDdkFAJpfkAsZcAJvCSVQB2FaWWKdB/ATMAHwIUYL21lRBZRDiC5AnsBHBUqxEyaraFMoz0AnvHNa6xDWS34FGgNf6PYAEZoCt+BroUWFVbeb5HbCqSvB2cToyca+Adjlycdawt0C/HeyScl1W/w3gsU3aAd7JF8AuAN6isr7NAogXAFeq59Ec7ifAm49hF8wCMWfVNXAeCAkjEGuBr6R5ZGJzBrl4gGniBME+w8aMMyCsNZtfaemnmYaAQ6I3Rz0fnDhHJxc93Vrr7sHWjP3XRtTba2L3EkdFVaPC6YmXxKI9DGF1YPLdiwfD2r37cL5nDVw+uKzU5K27hsXCXPtyC2uyyl0D0p2TY7VaIvFYWU0Dm8TdOXmrVp52HG4lU4K/N38PpS/Kw70dbmb/sC0WCcQwNNzzjrzUj7veUyIIyL/4m/EP8V829O8zh5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptz{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAM1BMVEVHcEzMzMzMzMzMzMzMzMzMzMzNzc3MzMzNzc3MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMxDm1AzAAAAEXRSTlMAHqw+E8It/gjxc03jhGDTlgAjE2kAAAI6SURBVEjHpVbZkoQgDBwg3Of/f+12gtfMbK1Yy4NampCju4Ov1y8ruNyyo9fyCibVlNW6vUu29GpWQwTVdPTernqwffHex0WP4Nro3k+PrMKCvew/PcZ95aoNsY9yua+cGxTZsnf2K7ch4CAdGnWwYx/5LgKZCgxGdrhH3BeqNmnwviFXPZbQJmcM25HJ5n7/Pczr2QqksMJfO7BJOHLKLWFdMiL1QXYRwFagMklb4GB1zS7s8Le3fqH7Q28tVLkKdIzeaOJB2OKtY8KfTQCUa4++dNsLbrqpTR7xguHGt8hfg8P+seuaEkNdBjahzOD7g1cHP21SL2LtMNBKMdTRJjffTX1wVgrsEb1ITJU6QknwYJAcQky2cE02NbzPp70KyKggtpu9xM7Ik+CBIqY+8FrYyRUkrs+MEm1TG6tG9LZxNDNFGDue63TYGgIHqUUcuNhvhyZtn5LnlDq3Juxa4noCuX0scErOpNMDCrVcHPCS5rFGuQR9KZpxnB6CQ0ZO+AIBcTPk3UdbTx1L7jLEEHsMW7ZYm8NlIFyxn8+xdL7MURYEhzd5k2N2TabxIAORwC2r00QQfNSgrnqTJfh7cDmDu9ggtV0EZFr7kGu4KAxtNDln406TLwF9iZCIwn9EfjPuncRHYm5x3NfK3cFAS5kWxljSnTFlPHBAUFg5HsCCVOd9cdwXq+027un2QJlMjqISJutCDceRtTTuT4+1Q3HWHR8cu0fh9sGvADTYH9iLah/9nPz5+/MDJnQfoIVoAnQAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptz:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAQlBMVEVHcEz////////////////////////////////////////////////////////////////////////////////////1bZCPAAAAFXRSTlMAeVoYDS1pBiPv4/g6lkzO2qSxvoixscijAAACi0lEQVRIx51W2ZLcIAwcLnPf+P9/NS2wp5xkq0ziF3ZRC3R0i/l8fvi04oxx89n+RBi1sqB38TKw7lw7lNzDa3U0e57bHhJ4d567HlqGC08eLAj9Gv8XD4/OwtsdhlfCW2s9LfWtuNrMhG1uLWP17Xh14LF4m8dx1OJ9jkm85YCYch5JzDVy81on3MFYkpTNYGmHHloYI+aqlNhlh5ZSvmH1AyBUwPcMX+u/clW3XYvA2YgRGXyZIZX6PXv0l3GlV9Jp9FKcK7mytJIg8xEeBdaBtV4P8tAixexnp73tY7ZBkrk9WEL8t7ZUDqtIA3jXa8sODSeUVqw5aztT+g4QeNAgM0PGTA0+EmfVeUvU0CEW4hX+lt/zseE7jJKDSmi0EUKBhr7EAMKPvNjOA9Fz4Yk/CFgcGRSdkYOHCLRxQfzKRN5SB/b5Ot8SzzQiKqcb6ipFdCfi1JI84OBdxzarhJ8RkpxHOQszl7bpn0GpmnXq6R4OfTkwwlyUWzeQg7rSLNhNUzEUEqJF3DMHeeXgqRIaYwHimLKipK8hMZOYVfJ5oKtIFSgXk5z4KcNx3GOIPGYfPigh9YGHBNQKVKbZhxMnqq+OHfWBHARZfWm1dnfSXfJuXInplse8wy39zkisdQ5kuLY+Bpc5hwGiH8Mx1rE24DFaLqXkfrNVkjk+8JPTPF0bUw+R9MCVuA8ks/xDyF/9orMqpBQeiob5RbIbmv7/TxvoX1Oqa914TsYg7QUWx8Y7R89JQY8mY6Dat1G5GARuMOgYHY9cbL1vNvc++fk67olLk4nrQSl7457OPqdeKn+vEwm4LPzW87DyXvqIyei9znHS+cZz9SxV+Qf8nNbjn37NkDx4+PmCXzHOLUMtjgmUAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptzActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcEwgmv8imPwimPwhmP8imP8imPwimPwmmf8imPwimPwhmP0imPwimPwimPwimPsimP0imPoLqfILAAAAEnRSTlMADprCJBnU/gXwh3LiUKxAXjJ/ELXKAAACbklEQVRIx5VW2bbjIAwLa1jM9v8/O7Iht+09MwPlpS2VwLZkJ9f1lxVG1joPdZ0u1ZIxurhv8DH6dMpQI5t439GAEc7xYPgTRnAtV7plReRhd5kDP8+fd+wzt70yPhIJzWT7/6DCJCAYLReZPMIuJC4pClSktHqbNpJO1aTmmAme3cvtWs9NSfq52CPhnJNjlbVHwgmWSWGHeQHcKFjj7fygwidf2fa4mbVOuladcnsoDn9/CKKAWf6HEtpANiJvUp9Fgr0SvocPP/sqjOCK9ktpyCAo4Kt/d4n4/6baseNKAt5XrauPN1A4ZLAd30RUI4kNfELVx+yd3lrXYIg1Bp/B/dGs5N8mPsJoVyiwkofQSlm+K9aiwmoQMDoI4wefoK/rhkESrSuV+BR2i6HZH9juLzxCtBmn6rFmB66gNJQwBOSxncT/N3FAlxAoLQfJDy2+6rMLI3aznl9fhOcGSdZzoNhex2K3TXJEVe3M4Zb6QhHuJc5BWakYIqqietcPw6FK+EHofUHRqtLEQ5X8dKVENXXgEpLOpcjwkFI30YFVHE8fyx2ShZJ/ydTKlZwZ4BCOv/af9uMi0DILe4kieynScgPbhai+DRDckTT6N6zJpI3HMghM3BMg+q9pHmwrbR0Q0D5wc0JHPy0E5Ur7Nf3Rk68LnR0NHfO28/T5P4cNr+uLFR7eEdiNxvMRbd5Onlqsis4iIVdme4di3akWOz+3T0aUnFWHa8QZrO51NO69MeLPafrNuBenxel/3d21j8k/jyxf+75OQabFxOtuT94G3Lpjzb0zBn2Dl0ep/waPidQ/p/XB60Dp7e8F/QO7WSJg4zEzdwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-ptzActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEVHcExru/9ru/9qu/9ru/9ru/9ru/9ru/9svP9ruv9ru/9ru/9ru/9ru/9ru/9ru/9ru/9ru/+3uxEqAAAAEnRSTlMA5q0cR/PC/ggSKtN5OIhaa5izIOiAAAACV0lEQVRIx5VW2ZLjMAiMToNu/f/PboNsJ5PaKWv8kKRkWkDTQF6v/zyUfO+JX9sP1dKKd/v2acQcm992kbo1R4il7iHIif0BRNtCUOozH4cikAdt2YfjRLTnzN15/8I85wFCI2xDzlnyMLO7R0aFoTzbFGB+jIkYLkyePvmW8d2fs2ZfZuv8It9s6zvV5uSr2LmKb9oVh37QvpjYOcf8fcO3Cb1jGqOU0SvTTd6X2KUBLgKdLzaiDtE2n+isTh8/+AX7E6/Vh/NNSyfVm10RXIe1nxXRapmsDQB7SMnkmE0IxgqvUn0jteEf1T2CHXgr0gjZllGk1HoJL7lD7fRpD20CgJcwQ6EdSh3lLK0zVfuqz2WvPlPJh7HqnCQ4MysxoAYQE0vHub/toRuqzRy5pEUvbg62MzlJQn1MHBe1x7WSAddpNDSN1c9wRMhKfi2jrICwAIsQvHkD7Al41bOrBNC1Y7QdmSg15LDokGETJB/imxYJKfmFMDqI3FjUkDS3NSEDjBaxknRYSb+4nj4kC43W2OKrkqGB8jV2Fq03YiWbhHQTpUV1mMHXWYf8HlNX7ZUQRC6iwBAIK0r0ILr1UxqKsPattAkhwSIiMl76bT/Ft/TbTy2jHQoM7Cz9isHVMb6GILl0H4DGivbw7xNc8rAtiJn3O/qvD6JT/wgs7Y370ZSdWmbZWEKiG1lXImldW7Q1jGMbZW9tUVKZmGjjGvf+EXAqzWiX5OfFSHVp/zjbfGPc3whdcbTF67V2N1e79qYMru2/AnzVYFsdWFt/+nOypv8vQvoHou4gOtSrG5EAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performance{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTM7OzszMzM3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzW8hQDoAAAAMdFJOUwC/gO8ra6tUQNmVEKtAA1gAAAE4SURBVDjLzZMhT8RAEIWnpS3tXcWdQ6wgOJIKfFdUICv6AyruB5w4EuSJCwRXgUBWkGArLsEi6JVuaZkfxawguSWz/p7azLdtdt97C3ASagp+PpeXPDjHVx7McMWDCBc8qPCZB4m44YFIeOBh+ckCf9z+sCCYqi8WvA/5Nwu26cfA+JRBs4h7WmX/tr9AXcQHAPdgzEPZh5idTQBOZ3zyiModISKQGxZ7dd85E0SKfMGjM7vXeI/5AE5LvrwpcK9IOrQYB5BlCsFIvjzgrkaSjsBZbmC9XsGsAxfn8gKXpL9sSlnQFBwFTTuaKWXgI5Ar+sfHTrW6DUDO+2jEEtCNQ9wL6gNujMvvdFS3eugxGT51fBXxTvF1wLLngbT0BGphKalAy0MQ3Z4Ha2V7UoMFJKkFVAWcvH4B0OJfd9YsTl0AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performance:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwD2qdfrViyAwW2XORBGtSCsD6SyAAABN0lEQVRIx+2VzQ7DIAyDYfxToH7/p10CbQ+T2s33Rb1MijM3/qDG/EurolD9zSNRggBU0hFelMABmenfADhGkJDhGUFGgiX6I1AAQlDgZK/td8ELtQORiTmIq42I2bYdCD8NjzPmYQxO+rbn2S5qzEUF6YjkgcJude56X3s0SoL7LRAeylyaVPiFq0Jyx230mpeXmXVOHssRbhackhCq25Sny++xcBW1n6Snqw6BTgrqRP6kzfDcgmRLGonDWSf2OecwB491dOrEVZpNsxiyiHzWJ0Z+BbBwzaoWVb49HrqVfSkxHen7WNznLhzl8xpQlT3E9oHUtYaufB+7NY9g9ctbjFfj/h1DwXUrzDltMn1Ql9M814EQWPLmEBg4R7JSzpFQxTmSBMkLvJKOhFHfKEEnv3L/+qw3DuMPzAFH9pIAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performanceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUdwTBGW2xKV2hKW3BKW2xGW3BKW2xGW3BGW2xKW2xKV3RGW2xGW2xGW3BKW2+P2IvgAAAAOdFJOUwC/gCvzq1RAleURc9VmrA9rXAAAAT9JREFUOMvNkzFLw1AUhU+SxtTahnZyC+IsIeAenDuE/oJQcS/FTYTi6hKcHYpDZ/EXBME95BeURpM0Me39Db4Mgk/u23umcL8kvHfOucBBKEr5eW95xoMjeuBBlyY86NOQBwt654HrPPHAca/YuUHrDQsG9eybBWa1+GLBqvS3LJiNX0vGJw/R0N6LJ+/f6x9I3uwG0D+luRU0FnmdCtBy6ZM7KvQdjgXwJYuNZVNrFfqF8IX+nFm/oBvyS2iZ8OWxgH4u1IZmU4kgfoa5E77c0jwhoTYCbTRFGE7QrXFCveCURkK/2cRBCp2gFYiyWk7Jw4AgXOmQZMAqa9uAeCP+JsViihtb9OKIPtBUuvy8jeqyHRpMhvc5X0W6Lvg60HrPg0DREySOoqQJKRbByRWbExaqlSoVwB0rwCLFwesHquttxhcsa64AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-performanceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTH3G63zE6n3G7H3F633G7H3F633G633F7H3F7HvG7H3G7H3F6xOzy+EAAAAMdFJOUwC/hKbvK0BT2XURZct0z00AAAE3SURBVDjLzZMhU8NAEIX3LiSUNqI1qBMMChFRgYxAd07E4CI6HQwzEUXgKjC4CH5ABAKJyA+oaHqBJO3+KPaYYSZh9nyfyuyXu7l77x3ASSgu+flYX/HgHOc8kC4wwikPMnzhQaTueKAiHvi43bFg0m4OLPBM9sWCjyb9ZsHm8NkwPiUQT8MjfSX/fn+F/C3syJf9YB7oLsDkjIaiHix5QCNbGBmAFPve+3lXi/0viLB3ZnmDz5g2ICry5daAvCbZhSE2oIsFeC35ssJljiQbgZitIY7nIGu4wLG+xBnpL5tClxQhCANR1Q5TSmCCQK7YjftOVbYNUOxot0EsHl0uwHdFfcD14PJLG9W9HfpMho81X0V8MnwdcHvkgS4cBcqVo6QKHQ9B1a6XY1zAcSiIFg6QlXDy+gEd714RcAqEowAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-face{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTL+/v76+vsDAwL+/v7+/v7+/v8DAwL+/v7+/v96T4QgAAAAJdFJOUwBAgSCbs9hZap+hQJoAAADvSURBVDjLY2AYRkAJCAygbEZBQUEBKJtpJhDAOJpA9kSYxESgKphuIaBuhASqyYzESjC2hDRilQBZ64BFgm2qMLPYNCwSkQpAwlMBWYIRzJsKYrKCxZSRncKSDFYzBSNY2MD2MqRhSFgqgClPAwwJBxwSbAk4jGKZDCKZp2JIsEOcOx0ztjQDYL5ENwsYJKrTsMSvGSgepzVg2pE5qSikPRPT8sopBuDod0ATZ54JsbZyBrJgAVAp1Ax2oPXMykjxYQaLA2CMoERUZQDMrgBUCc8CKIdzAvHJhyQJpLQLSu0TCaV2lPwBSu0KQy+LAwBuJj5UbruNggAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-face:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUdwTP///////////////////////////////////////////////w2imYoAAAAMdFJOUwBAgBvfrFmcw4wrbtGliFoAAAD2SURBVDjLY2AYRkAJCAygbEZBQUEBKJvpDBDAODpA9kGYxEGgKphuIaBuhASqyYzESjBu79yIVWIP0NoCLBIsR4WZJY5gkYiZACRqFJAlGMG8EyAmK1hMGdkp7M4gkus4RrCwBIApFwwJmwlgqsYAQ6IAIrEAwygHHEaxngJbfhRDgg0sxHoMM7Z0AmC+RAPsJ4S5NE5gid8VoHg8sgHTDh/PzM60HkzLc44bgKMf3RKuMwoQ+dNIgswJDAycUDPYjhgwMCsjxYcJLA6AMYISUTkBMLsaUCVqEqAcngPEJx+SJJDSLii1HySU2lHyByi1Kwy9LA4AqflRBKNSA88AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-faceActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTBCT2xKV2hGY2hKW2xGW2xGW2xGW2xKX3BGX3BKW23povfoAAAAKdFJOUwBAgRybs9hZLG6hrV9tAAAA80lEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTgmZiFViFtBaBywSbEuFmcWWYZGIUgASXgrIEoxg3lIQkxUspozsFJZkEMmxBCNY2MD2MqRhSFgpgCkvAwwJBxwSbAk4jGJZAbZ8KYYEO8S5yzFjSysA5kt0s5YKc6guwxK/baB4XDYB045Vi4pCyrMwLa9aYgCOfgc0cY5VEGurViIJMhcAlULNYF9mwMCsjBQfZrA4AMYISkRVBcDsCkCV8CqAcrgWEJ98SJJASrug1L6QUGpHyR+g1K4w9LI4ALk0RHtSETFcAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-faceActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTHzD63zE6n7H7H3F7H3F633G63zF7H3G7H3F7H3F68TinBIAAAAKdFJOUwBAgR+Z31ipwW4yAjb9AAAA+UlEQVQ4y2NgGEZACQgMoGxGQUFBASibaRUQwDhaQPZCmMRCoCqYbiGgboQEqsmMxEowTmmZiFViFtBaBywSrMuFmSWWYpGoUgASXgrIEowgHtsKEJMDLKaM7BSWYLCaJRjBwloAploxJKwUwJSXAYYE2KUMVRgSrAFgKhTDKPbFIJJ5OYYEG1iIfRlmbGkVwHyJBlhWCDNrrMASvxageFw6AdOOqKCklrQuTMuzlhiAo98BTZx5FcTarJXIgglApVBr2ZYaMDArI8WHKSwOgDGCElFZBTC7GlAlvBKgHK4FxCcfkiSQ0i4otS8klNpR8gcotSsMvSwOAIs+RIlIrewIAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-object{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA51JREFUaEPtmT1oFEEUx9/bnRALGxE70btkZjcR7QMiRisRbCzEQvxCLGyEhCDRBC/RoNaWFgYLFUSwUBAUDKKFFqIQ3OzNJpfCyspS8HaejNyG87J7t7N3l03gttydefP/vbcz8+YNwhZ/cIvrhx5A3hFMjEAQBDwMwzOmAi3LWhBCLDTr5/t+ycSubdtLnPOncX1iAfQAlmXdNBmkru2RVgBSSspg+5kQ4lRjv1iAIAgqRFTIMIju0i2AWNvrAKSUowDwLqP4tACm9rWmbABCiFxXKimlhu0BtPFHtdc19wj4vn/Wtu3XnPOfWVByA5BSngCAuwCwryb8Hud8EhGNltANB/B9/5BlWXcA4GCMx/8g4jjn/H7aaGwYgOd5BxhjcwCgPd/0QcRVAJhM2l3rO3cdQEq5GxFvEdH5VsLX7aKIH8MwLLmu+zapb9cAFhcXt/f3988AwJip8Jj2L2zbLg0MDHxr/NY1gCAIpohIJ2V2BwC0iUd9fX2lQqFQ6cQvtJbICSGOxHhlVOdKjuPMl8vlqzrxI6IdWUAQ8Um1Wp0ZGhryiYghYrUtgDQionxJT0al1IwGkVJeBAANvieNDQB4joglzvmilHIXAIwrpX67rmuUamfKcxoTvnoQ3/dP27Z9g4j2J4C81KBCiC9LS0suY2yMiC7rttoZuQBEQhsiopfT6wAwUvv+hjE2XSwWP0kpRxBxgohO1kPmDhAHEgTBUaVU1XGc98vLy8eVUhoqbpPLPwIx6/wqEV2ovX8AALzZ/Ng0EWgQGa1iLQ8xPYCUyx8YHjt7EWjm2I7sAy0it7ERqNWEDkeiklIJg8pFWwC1ZC6SM9NYc1oXgcaiVlxVYmVlZW8YhlMAcCnFvOkEQPqqRBqASLTneTsZY3pjapZSpwF4Y1nW7ODg4Ie202kTgGiwSqWyrVqtXgOA6Zj0OhGAiF4R0azrup87dqDJAlA/eLlcnkDESQCI0us4gOdEdNtxnK+tfkHjA027AJEgKeUVANBROVd7p3fixwAwJ4T43kp4nR2zylynAOoE/JuAiPiDcx6kFb5pAEwF5zKJ2xXZrH9uc6BTUD0AAGh639Xo6bjUI+G/NglS+p3Y87wCY+y/2ozJSGkuRDLekQFjbEexWPxVryfpjuxhllKhNtwtAESc55xHx9M1hsR0WlcOlFLHTLyv26Ypi5hesyql5oeHh3VBeN2T6TxgCtXN9j2Abno3je0tH4G/KbtRT7VUKs8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-object:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAwdJREFUaEPtmTuIFTEUhv8fLSxsFrET3UIQRHtBRNdKBBsLsRBfiIWNoIisD1xfqLWlhYuFCiJYKAgKLqKFFqIgoiBoYWVlKbjwy4HMJXs3M5Nk7tzZCzfdvZPk/F9OHicnxIgXjrh+jAG69mCpByStB3AgQ+AcybmqdpJmEvv9SvJhqE0QwBm4lGikqD4VAaCMvh+R3NffrgzgB4DJDCPWpC2AYN+LACTtAPAqU3wsQGr/pikPgGSnO5Ukgx0DNJhRzZp27gFJBwE8J/k7B6UzAEl7ANwEsNEJvwVgmmTSFjp0AEnbANwAsDUw4v8AnCZ5O9YbQwOQtBnAdQA28nXlp/NG8HT1G7cOIGkNgKsADtepDnx/C2CG5Muytq0BSFoJ4DKAUxnC+5s8cSCf+j+0CXDBjAJYNgAA6+Keg7AwpldyAXqBHMmpwKjYyThJclbSSQBWfyIT5IF5kuQ3SctJzjcCiBHhxUu2GM24gRx1IGtj+gDw2I34Z0mrbXcC8JdkUqidFecEAj4fZD+A8wA2lYA8NVCSHyRtcGvouKtrg9EJQKHVB7Ht9ByALe7jCwAXSb6TZP+dAbC3D7JzgBDITgDzJF9L2u2gQoectV0yAD7IEffjDgC7plaVJQdgYotdLOYSMwaI2gETr51jD1SN6qDOgSobw/WAywltLxRVhBIxi7LxInaxUCHHFvmCpFkorWInoR8LheqsA2DB3LGIRdPIAznBXC1AIVrSKncwVYXUMQB2Sl8h+SYQOCanVaIBPJAVAM5aqBAIr6sAnjnh78s82aoHQkYlWYwz7YXXIQCLRK+R/Fg3BYcO4HnlhPPKIfefTYX7dm8m+aVOuNdP+1OoSow79KzKL5LfY4UvGYBUwZ0s4qYiazzY7RRqCtfZIm4qfGBrAEDle1e/0FDoUTKvUxiT3gfsaWlBbibFUsyDiKSkBK9nf4LkH19P2RvZ3cxUIVoEmCVZXE97DFXPrJY52JUy+lY3Ji2S8cxq4i3jsahk3QdSodqsPwZoc3Rj+h55D/wH5CHfQHNA9EUAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-objectActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA9JJREFUaEPtmU+IE1ccx7+/N7O0BwUn24UeRKOd7LalvS+I6HoSwYsH8SCtLf1jEqWoyLJVMfEP6nlNIgi6eFChCB4UChaU0h7aQ1GQrnFSdw9e/JNs9LTFzPvJZI27m8xk5k02m13I3sK+33vfz/u9N+/7fo+wzP9ometHF6DTGfTMQF+mYNqwd6sKlFLcK++P3WsWF8nkUyr9stAeTcXN624xrgDVAUgcVxmk1lbaGPIFyFocou9fSonYzvo4d4BsYQLgaIhB0EYA174bAFaNWpuFhrthxDsxQQCMrKXUPwGbvfr2BSglYh39UjmwXYCwy2kh4jqegd5M/itdaL8+i5vPwwB1DMDIWNuJcBbA545wAs4V4+YIiJQ+oYsOYGTzGwniDIANLjP+hkCHiglzNGg2Fg3AGB3/Ugj9NBO2+4ujSSaMeJ2uc+PbDhC5aK1GhU6CeY+/8IZz9E+CnSomBn7zim0bQF/m4QqbPkgDOKgufH4EAzdZaKny3vUP6vtqG0BvtnCUwY4p01oFcOIZuCJ7elKvvo9OtLyESMN7IzeViA3VC3TshiY4Wkz2j0Uyj3+aMX5shAIhuia4kn6Z+DSPu6xjiCotAQQRMeuXaJJYpqsgOetbcBV8TZA+ANxgotRU3Hz48SWr7800DjHL6VJyQMlqh/I5jYZvFsTI5XcRa0cA/sLDv98iieMv98X++Sj7aEBCPwjwD9W2LNMdAqhJnQMyc5D9DGBwRhzukK4fK/647q9I1hoE6DDAO+ZBdh6gEaQ3V9hi27JS3tf/u3Hhv20kpQPldsgthQw0fOcnpc3fVK2EhosEmE33x9LJwKxM54Lj/Ap0SeoCBPz+qVw7uxnwmdQFOge8R1n0DDg1ISaxqSbJy0oE2pTvqhStbOK5FQy2ka6vOTVkoL6o5VaVWHX+yVoh7KMAvvPbNq1mQNmNBgGoiV55fry3R+jOweRpqQMBMO4wxImp5Cd/tGynVQBqg0UvT3z4eroyDMaxenvdHIBvE/GJYnzgb69MtjUDboMa2ceHCTQCoGqvPQBuSOZT5WT/fb8luOgANUFGxkoQYVja+Lq2iQm4ygKnS3tj//oJf9+PamUuzBJqJsY59Jz/9wh6+iJpFoIKXzIAqoI7solbFdksvmN7YKGgugAMNH3vqp9pN+vhtq5VMqT2PpAbjwrW59VmVAYL8iASCfdGBvm/bpQPrCvP1eP+RpYrXA5XKgTaBkA0Voqb1eupL4DToFo5YLlVZfadtkHKIqrPrFLIsXL8s0k3LaHuA6pQ7WzfBWjn7Abpe9ln4C11Qo9Pmb2aMgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-objectActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA8hJREFUaEPtmU1oU1kUx//nvthx4cJqX3RgGLsQBNG1tq8Z7axkwM0sxIX4hbhwIygibfPMeyapunY5iymzGAURZjEDAwoVm8SPhSiIKAjtQtAmiooLiyb3yEtNm76+5L37kjQp5C2Te879/+65H+eeS1jlH61y/egCtDuCNSOQyH3cWirNHVIXKO6kYvqdenbxqVlLxS8J8Txp6Ne9bDwBnA5IiIRKJ5W2LDHsB2BmC6zqmxk3UkP6AbedJ4CZfTsNcL9qJ077VgHU8r0MID5V2EsCk2HEBwbIFdT8M/aGBkgaelt3KtOB7QKEnU9NsGt7BMyp2cOa4P8tY3M+DE/bAC7cK+xnxmUwtjvCCXzFHtRHiEhpC11xADOTjwG4BCLDY8S/MvhsyoheDRqNFQMwc292QmppEPb7i6MZgEdqna7V9i0HSNx/95MscRLgo/7CXS0IWS6VrFRs8+1ati0DSEzm18kesgGcURa+3OAfSGklY5ueuP9qGYCZzceZySKC1gQAgPkvXtNjpXatn258CmlYSOSSg/qwW+B8usH9SSM6Ec/lTxM7iR/3hgEh4Jpk2Kkh/UVikiP2MBUbAggiYjFfchajtB0QM/fuOFg64D8H8QHQTQ3CsowNT8cffdLnPn8+KyXPpWKb1FLtYJ0tbbU84asCyRYOEmiMwTtq+P63JJAYH9AfxTOFbUTlNXRyPlmTdpsAKlIXQZyDDJJGGbx7/l++BSHM5EDfg7HMm91CRM6B+fdqyA4AWA5iZd/++hWymDaid+OZ/G8EGgXB65DrhAi4Jw3NsORj5VRC4A8AW+tN2Q6KwKJM54b2HcD3EtMFCLojqVw7uxHwGdVQ992OjkC5JqSJPRXw2qlEsMpFo1OonMx9/7gE211z8iirLC1qeVUlxrLvtwgU4wBO+K2bpgCoVSX8ASqiRx682hgp/jBaL6UOBsC3pMTFdCyaaUI6HRyg0llicnptqWfdeTBMd3pdH4D/kyQupgf7HtaKZIj7gDpAdefxzOw5IjECoJxeewEQ6CZBpmwj+thvCq44QEWQmZ09BYjzLHFk4SQm/C2KIm3/svGZn/AFP+qVucYi4BbmbLnOb5rGr+zB6MugwjsGQFVwWxZxoyLr2bdtDTQLqgsAQt33LvdIe6UenvNaJUQqJ3Hi3ut+KSNLajMqfQV5EAnzRuZoEF8ivfZw74dqPbXeyP4MVSoE0DoAmkgafeXrqS+A08CpHBDTPpXRd9oGKYuoPrNqETlhD/w446Ul1H1AFaqV7bsArRzdIL5XfQS+AaeCtE+rbksUAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusion{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACCVJREFUaEO9Wn2MXFUVP+e96X5oa9UoYpUszrzzZlqLKDYhgAFaaKU2+M2W9Q8TNUQSQEsiRUjFVaHGNmoBMTUmaPwD2iIhqKR8WEBFGkLFUjbtzDtvpjYrVhpCXAtm1867x5zxvnXm9c28mR13b7LpdO65557fveeez0GYp1Gr1d4VRdF7lL3rui/n8/lX5mMr/H8wDcPwIgC4QkQuAwAVWv9eA4BJy/8sAHg7ALysf4i4DwAe9Tzvj/3uP2cA5XL5CsdxNiLi5QBwUkQeQcRHrNB/JaKZZuGYeRAA3gsAZ4nIBkTcAABLROS3xpjdpVLp0bmA6RlApVI5FxE3OY4zGkXRdkTc6/v+c3PZPAiC80Vkveu6Nxlj9ojIjmKx+GIvvLoGcODAgTctXbp0CwBsEpGHEXEbEf25l83a0TLzh0RkMyJ+AgB2TE1N3b5q1ap/dcO7KwC6AQDsRMQhAPiu53m7umHeK00YhlcDwC0iMg0A13ZzQJkAlKmI3A8ADyDi9Z7nnehVsF7owzA8Q0R+BABXIeJY1mF1BMDM3wSAcRHZ5Pv+nb0I0i9tEARfRcQdxphvFYvF8Xb82gJg5gsA4FkiyrylfoQVEScIgttyudxLhULhwSQvZhYAuJCI9qftkyrckSNHzs7lckdFZJ3v+0/0I2CntRMTEwNDQ0P3i8inAeCUPmLP8/Y2rwmCYC0iPl6v19+3fPnyvyT5nQZAmQ4ODv5aRF70fX/zfAk/OTk5PD09rcbg4/EeiPgPEfkUET2dALENEc+dmZm5cuXKlf9unjsNADNvBYD1AHAJEf1zPgCUy+UljuPsQsSPpfD/m95Is29h5rcAwO8AYC8R3doWgDopx3H2I+IXs17/XIEdOnTobcPDw3ry6zrwCKMo+kypVDoU01hreK8x5oJmZ9dyA0EQ/AwAhnzfH5urgJ3WVSqVd7iuu8vGTB23SLM+QRCoOZ/2ff8Ls2oXf9DYJpfLPSgiH+nGgfQKcGJi4szBwUE9+Uuy1orIQREZKxaL5WZadaiI+Ey9XtfbacROszfAzL8wxtQ62dysjdvNM7MGcSq8Rq1ZY/+pU6fGVqxYcSyNsFKpjDuOkyeizycBHBeRjb7v/z5rh17ma7XaSBRFuwHg/C7WPYWIV3fy9kEQXIyIu4no3bMAqtXqZcaYnUREXWzSNQkzFwBAhf9wF4v2RlG0sVQqncyiZWZ2HOfaQqGwr6FCYRhuE5E3E9F1WYuT83qluVzu74VCYWfzXLlcLuqDBYAPZvEUkYeIaBQR61m0Os/M9yDiG57nbW4AYOZnAeDWpAPJYsbMNwLAD5TOdd2L8/n8Hyy/FfbkV2bxaKgB4s89z5u1LFlrmPlSANhKRBfGAPTBrCGiatbieN7GSpoaDut3IvLa4sWLi8uWLXvVbvBUFi+NchFR00/V6+16ollr7AGpaj5JRCMxAL06VaGWNLATM2ZW4dc00yDinZ7nbdLvrLXQaDZ1iMi9vu9/ySb/BwHgTAC4kYh2ZIGw6ekbRJRDy+AlIjoja2E8X6vVilEUtdhoOzdBROdY4fcYY0Ydx0kDcQ8RXd90m+qVH9P/qwPTf9WcK5+YJmnemfmE67rnIDOfBwA/JaJuLEWDHzNrAPZwGmCNGnO53HYAWA4Aoykgvk9EX0uuDcPwBhG5KwahAjOzqqHqewNYMwhm/hMAXDMnAEEQaP76vTY39v4oiiZd1/0VALyzGYSI3OH7vubVqYOZ9fE3NEENin1LDdqkgZkFMBcVqlarG4wxv0mR4nUiWqLfHz58eGTRokXfdl33tnw+n+pVu1XZNLpZFbIq0fKIm6yIOhX10K8g4t1E9IDSa84wMDBwHBG1WNU8NIObDReY+RYA0EqDhhJqbQ4SkRYI+hotj9gCaDGj1Wp1lTHm+ZRdvk5EDdVh5h9qiaWZBhHXe57XCLKYWVXoygSPk0SksX1fw3r4FjPa4shsVqanP5DcyRhzebFY3Hf06NG31ut1fWQNT4uIWzzPu0M/d3gjTxPR6r6k/+/htDqyMAy/Y4zRPOCmmLn1zprYJ8eriLja87yJSqXyScdxHtKSi4YCVvgxRLyvjZCpFqhXQEEQbHccZ9rzvG/EsdBFIqKmVK1AYzQJl8Z/NH4PzHxV/NkCuAsRb0hb1C4x7xUAMx9GxGu0ONycD0yKyGcTuegLAJD26K4joh+nbczMe7QolZwTkZt939/Wq7BJeq2nIuIviUgr3v9LaDSdFJFjKR7vtMcYOxXVRWPMpY7jCBE1PGiz84k3F5G7fd//Sr/CW80YR8SROK2cvYFOKSUzr0PED2hGZYw5ISLHrafUx9QI2uICmFY1RORsx3FmEPE5EXne8zz1mn2Pjiml1d+ekvrmqHO+K3hWvvZJvb2ensoqCwmgq7KK1eGttnuyNqsSvVAAtGINAE9oF6hjYUsB2EaG6vWx2La3U96FAmAt28jU1NTqZOMjtbhrGxovZJXVFwJAXGYHgPPS6lVtS+dxY6PT41wIAFpe79To6Fj7j9PCdmX2TvF6vzYzLqtrgyX2MWk8M5sXcaNDRLQjeft8Vaxj4bQSLSJbEFHjsraNjZg+E4AS2obHTzRb0kxsvirXVm1vBoAT9Xr9y2kNjeQtdAVAF9kQW5PseW+zzszMjCcbGe1UsmsAMYOURveTc62nap1TRNYsSKM7eQIaO7mu+zkAWAsArwPA45oXdPNTAxutaillsTqoKIruW7CfGqRdpRaHReSj2lvo8scezyDiY1qc7dda9axC3W64UD+3+Q/fZENVhTDr2gAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusion:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABphJREFUaEO9WmnIVVUUXSuiuahopOLLIqTBBgtCC01Ty8JmS/sRVESBNgiVJVZaaag0WBlGYNEPrSyiQdTKskEjpNKSCBqlzAqJSAsbYMV67vt13/3uffe+93pvw+Mb7rn77HXOPntY5xEdEkkHAjgk1G8k+VMnpuL/oVTSaQDOBnBmGG3DfwHwXeg/DMC+ADbGZwWAZSRXtTt/ywAk2eDLAIwAsAXAkvjY6O9J/pk2TtLOAA4FYDDnxmdPAG8AeJbkslbANA1A0gkAbgJwKYA5AJaS/KCVySWdCmA0gFsAPAfgIZLrmtFVGYCk3QBMDeNfAjCb5MfNTFY0VtJJAG4FcL5BALiX5B9VdFcCEBPMB7ALgPtIPlNFebNjJI0DcDuAbQCuq7JApQBC6SIAiwFMJPlzs4Y1M17SAQAeBTAWwPiyxWoIQNJdAKbZbUjObcaQdsdKujHcaTpJ25ArhQAkDQKwmmTpLrVjrKQdANwJ4FOSL2R1SRKAwSTfz5sn1zhJhwP4BsAokq+3Y2CjdyXtBMDueRGAv32ISS7NhN+RAF4D0I/kt1l9fQCE0lcArCPpyNARkbQrAAeD81IT/ArgQpIrMyBmA3D4HkPyr/SzPAAzIzYPJflbJ6yX5ARm48/J0f+DdySdWyTtBeDtyDlTCgFEkrKvXVV2+lsFJmmfMH5UAx1fAriY5CfJmIiGCwAMSie7uh2Q9KRjPcnxrRpY4vP7hfGumcqkT/SR5POyjeSVycu9AKK2cRQ4vUoCKZs9J5ocFMYPrfDu2sgBn2fOgjP2e7E7tdopDeBpAF83irkVJs4dIslFnH3eVWuZ2IWdwDbkDZTknHAEySuyADa5uiT5TtkMzTyX1ONqE4ALtzJ5C8C4Rtle0pCoXg/uBSDJPjmf5FFlMzTzXNKRYfzJFd5z/PcCujRvKJK+iFppRc2FJDnO7k5yQtnLOb7tLf2RpIu9XpHUP9zmxAo6X3R5TvKfCmNt7zwAvztPJQBWA5iSTSBlyiRNAvBAjBtC8t1YkGNi5Y8r0xHPn0pHlrJ3JJ0BYCbJwQkAH5jhJL8qezl5HrWSW0NnVItbyP4kN8cE9ucycVh0+2m/nlM184drvkmyJwHgrbML1bWBjWaXZOOHZ8bMJeluzdts13I1WyQLSF4dzb/DpsPsJJJuaBpKtKd2oR0ZClwJug6vJOHfdTE6XlxPckAY7xbRbWceiHkkJ6Z201l5efw93T8dzkNP7d/Z8C7JfckAAxgI4AmSVSJFTZkkF2BuK/OkX/TKRweALIj7Sd6cfVHS9QAeTkAEALuh/d1Sl5klfQjgmlYBuEqdVQDg2KBTXgawfwbEDJLuq3NFkg9/zRMcUOIsJTuQrVB7AZiAataFTIu8mmPFVpKuNL1LTmB3u1kpyqqV/LUY7HYXisnqDnEqijipOEObVXuEpPtiG+dGxP83WZUWd3C95YIkN+hmGlxKONqsJel6pi2pO8RhUF0YlXQKgDU5s9xGsuY6kh4MiiU9bHRCUEmyC43J6NhC0rV9W5IXRusSWaywV98rnZURJFdI2huAD1mSaaeSnBHgis7ISpLD2rJ+++L1SWT3RB9ghqwmkgzKjX1WNgMYRnK9pAsAuAxYTNLRxu+5l1hYYGRuBGoWkCQzgu4L7kjOgP3WodRRIAGQGJen33VLch7GJr8HAIdCh8Q8yW3MWwDwWS2EkqvS/YBJ2UsyvehHAPIO3QSSj+VNLMkJzKRUViaTdNHYlgSf+jxJk8R1DY3byQ05GS/vMNaSSvii/VEkaxlUUjr5JMY6gt3QluX/eYZLlJ6k+KvUUkpyqj8+OirH300pALWiLSHAJJnVMK/kusqs9RqSTjptS3C0+S1lrF5TTX266uw0gxf2FTf1McDkUWVapZsAKtEqAcIu4FJhZBkT3S0AwVib4lxCspjYCgC+yLBf+0DXYnuRdBGAI5trK+efuouPInLXodMhtCGt3g0AKZp9YB5f1Yhe923JokaHs0sATK8XXnSUXXAkbWEuzd6oXm83ZkpKaPVpSY7J01l6eZFcdESX5cu3jjDWiXHBRLvpcV1WeLGRjC8FEAfbienx6JZmdZC5tttOBuBkeW3ehUZ2FyoBCBAurWv3ZdEPd/Ka1W5Td5FR5JKVAaS2OHvRbX6mJT41eE5TM52/6M6uQNDxlzvhAdga91gusat81cDVquurPQA4QS3s2lcN8rYyyOGzfLdQ8cseLsiWu7NrN1o17UJVJ+zW123+BfogD+TkdLQFAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusionActive{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACItJREFUaEO9Wn+MVNUV/s59+wOqyM7bFaxAsDBvFqnWak0MYhBQUEqUVssi/aNJawg7bxaKScFqqKyt0gip4sK8XUKqjX/IL43RlqBSxLZWYqwWdWNh3oIlFClkebMUaXfZefc0983MMjv7Zt7MLrvvn93MPec753v33HPuPfcRhukZt+3YeCndCQpeCO3kmWVTTg+HKbocoKHWjpnEuBfMd4GgnJ7ADAcCJzx8iUlE0AGcBOMkiPYz4c1kNPzXodofNAE9fvheQCyBoLvBOA/wHunSHq7CiXM9+BdWGj39nGuxq8dWYyJdxCSh8UKAFoIwBpL/CMidTmzam4MhUzaBmpYjNwmNVoFEA9jdSEx7zzZFPhiM8dotiduYeAFIWw2Wu6TLm7pW1n9SDlbJBK7d+rev/c8du5aAVQC/Lok2dEWNv5djrJBsTat9s2BeA9AiBjaN1s499eXyW/9bCnZJBNIG0AbQKCb8OhkN7ygFvFyZUGvHQ8R4DOBuSWgs5QUFEkiD8nYAuyuJmk5Hw2fKdawc+fGtHeN6mbcAWMxES4NeVlECequ9DoxmMK9yYpHny3FkqLJ6PPFTEG0CyyedWH1zIbyCBPQ2ewYk3ndMI3CWhuTsOhb6uMQTEBWfOdGpr+Zj6ZbNELjdaTQO+tnxda6m9R/XCa74AoLnO42RfUNysJjyuvYqffyo7QA/AKCXQYuSZnhvrorelpgHSW9LSn2jK3r9P/PhBhLY1V6ld1b/HuBPHDOyZricn/jsidEXRnXvIOD+SzaoS7r8/a4Vxrv9SFiJDQDd5NT13IeGGy7mjg0gELLs9QQsQAp3OiuN/wwHgbrfHh4ju8UOEH3XB/9LkvxAbm3RW+yrUIE/MbA3aRqPFyTgFakKcZCJfhK0+gdLbKz1aUjDaJWG5xfCYKADcB9MmtM+zcpksuELMiVn5Ba7fjOgxxMvgjDKMSNLB+tgMb0xW4/UVUpth7dnCnp8so9uJbaD0e3EIj/OqvcR8PY2VPGqJL6jlAISZD9//Op4+zWSqncwcGewLh8il5eeXVF/OFc2XVDpPXDqwezeqY9AyLJfIpbHiuXcYMP+EnqLPREVUGEzMxCDcFC6vUu7mqYf95PV40eamcSUpGn8SI1fmgHLPiUFL+lqjPw50EgZAjVbjk0Wwt0J4LYgNQYOVBE9VKza17QlZglJOx3T+Hofgdq2o3dJKduSpmEEGSlnfOxWe6pwsZOA75Sgt1dUu0s6H552Pkg2ZNm2EKLxbOPU/d4M6FbHBma+IhkzYkHK+ePpKa34d9Kc2pY7VmcdrpfQVNh8OxCT+TVnutGAOZQKlAUQittxIrrgmOE1aQJx+30p8Xh+AQkC01vtR8B4VskxtFlJc8pfPLw2ezokVNjcEIThjRP9zomG+zJLkE7NZnu2EFjvxIzbMzNgH3c1zD233DgapJwd17fYM0DYD8Lo9G/s9GpX1p9ffm2nZ0DDgUAstcsVNAGMWQBtVG80UAeACk3NxTuOaUzOEkg5KVwx4BhYBE237P0A5vYTIXreiYZXpWf1SDNIrCsIwfyCE4s8rA7/qV73EIBrADzimMamQBItdrVegQuOaVSQAui96H6WjBnjAhUzAnXWsXoJt1+Ozgy1O6Zxo+e8JnbBlQ1+JBiIJ02jqW824/Z8EN5KT6R8Uv1R6dzDyTz56T0Ut89UVmk3Ut1W+xZXYlsyapSSKTy4Osu+XwKv+xFWu0aBio1gXA+BhgEkGL9xYsbP8nVrrY4VDG7JklAOhyz7AAGzc3/L6oVa7Y80gWWDIhCKJ9YQ0TO+MybwTVHpnnB7tDcIuDqXBDM/nYxF1haaabX4ZS+8SFAJRa2lrGx+gukjMJgQCllHFxLkH3wc+coxjTHq95otn08mUflLltoTXU1TfKtqqSHrJ9cXQt6Cs+x+izgni6iicgrg0wBtdkxjtwfmHUSqTgGkmlW5jzrB9W0Xai37MQYWAZioml0ADjmmcfNQHPd0cxdxhkC/NFrXdvRWKeWH+YYY+HnSNLzQ0S37OXgtlpyHaYETC3sNqlrLfoOB+/IwzjumcdVQCQxMo/mFzHvD1ertV+UbIynvPttUv7/muS9qRHVK5Xqv0hLT2rOx8NPq/0JrhIF3k6YxZ6gEfApZx68Aqc4Bq7PgqjqDMMPHWCcTzUlGw+211pHvMcRrquXimEZDxvmlRPSyr5MFMlC5hHQrsREQ3Y4Z/oVXyNLNWd7mmMb0LFiOc374Ddn1oFv24r61obCsRAuBVvgpFTqYl0/A/pyJlqnm8KXtdKt9glz+Qe5ZtNayP2ZgwKJjRiwZMyw/w7pl71JNqQHrh/nRZCyyoVxn8+W9fqpGrzhRY5IXupdCJvEiwMfzK57vYswc99KxKGdDCHaihldB+xWfDDiDNyfNyMqhOu8lD6860+TssbKkI6WuSj3oW0yYSZBnwHxKEc3dtGUbYF5Xg/k6CNHDTB9o4A87zfBHl8P5okfKNLvyDvV+BC6Ho4Uwih7qlVK5bZWRJFBSWyUTw+sJtLCSMC+oEz1SBNIda+xj8J6ijS1FQF1kdLtjVYE6ns3thaZ0pAhkMtvkUdq5OfkXHwWau96FxsdBbfWRIJBts0vCLX79qoKt8+zFRrH2+ogQsGwudtFR/IIjeyws0GYvtl8fajbKttVBaM7WGD/MwMuL7EUHwBuRoqeGq2PdV1C9TjSvBWh1sYuNrHwgAS+9pi88tgIYx0TPDFfnOhO2jwI4Iym13O9CI38WSiLgKe1qrwp1VjePxDVrsq6nOf8io1BIlk4gg5B/0S01emew/VSvz+ny3BG56M5/A6odz6T9kIB5DHwFxtsssbuUTw1IYDEI8wm4koF9xO7LI/apgd9UquYwS74HzHeU+LHHeyToLdWcHWq2KjuESjU4Up/b/B9u0kgtWdqPkwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-occlusionActive:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAACJpJREFUaEO9WntsW9UZ/33HaZJCX7S5TmhalQ1NaAzGYJUgvk7pe5QKusGa0v0xaZvQkKBbK60BWl/b8XWKaLWtUJg6IcG0P+hrCMHWlcdK2OLrFPFYGdU0ac+q9BHfFPoC2sQ+33SufVPXvfa1kyaWolg+3+t3zznfd87vu4Qx+nQfONc8yF+0KvP1NPHoxjsm9Y+FK7oSRo2+fh0I3AUpFwHUyoxWIv6EiI4o+8w8m5mmE+EowEchxH4g95rZ1myN1v+IAUR6M3eRwCqAFgM4C8ZeZuyFmHDk9OmpH2+7my4UB7fmj9wwderpWZBDs4mwHOoPmAzwn1hiV7I9+NpIwNQMwOjtvwWC1gLUwVJuIfA+s73lnZE4N3pP3M6gZSTEeoB3Q/JWs735w1psVQ0g/t6xq+T5uogkrCXQKyDebIaCf63FWTlZI525FUydDF4hGFtFYzYZnzvz82psVwVAOSCI7QA3MuMJU9d2VmO8VhnDsh8gwuMAnWfIh6p5QL4AlFEAO5ixp45yj8T1lkytgdUiH7dOBLMceIYIKwGs9ntYFQFELDtGQJyJ1yZDwadqCWS0spF05qfEtJWl7Eq2N8fL2SsLwLBOtgEybeqa7yyNJthYjEVucSYqRN1HCX3GS6W2DMtmQIRMfUaflx/P4GJ9x6+Tsu6/xGJpIjzjzdEEWEk3tvtQvZzVsgPM9zEwJJhXJMLBfcU60dTJJUzyDSGyX+pqu/Z/pfYuAxA7xPXytP17YvowEdY6xyr4dekjEydxo0oG9170QadY8neS7drbl4KwNzPxLWKqdk/XTTRYPHYZgGgqs0kSLQsExJ1dd8w4MxYAOlP25AaCCv5uD/vHIHP3FdeW2IGTU3I5+WfBvC8RDm4oC0AVKRbUR6Af+u3+kQJ7rPfwNXVi4k4CLS1vg/+Vy/H9m+Y1/82VUdmQwc+T5LbiYnfJDBhW5gWAGk1dWz3SACvpxd8705QbHNwJ5kV+9r2yj2HZOwA+b+rBH7j6wwDyZxt6CcThagqIXwCl47GeTIusJ7Vs7vTTZfDBHGVXPxGa+Y9i2ULFTrHk+92z00UAlv1bSPmfSjnXz3G58c6ej2c1TGjYCYLub4P6JAZXd+szD3vJRnr74xDiy0ld+74aHwZgpOzjknhVtx78i7+T6iU2Wp/OEZzdBcLtVWj1BJB7oFK132hl5gmmXWZYu3YYQDQ9sIiZt5u69pUqnFQtErH6rycWKvhv+ioR9l2QWLU5rJ31kzUs+59E9FAi1LTfmYFo2t7MzFebevBhP+XScTWlVCdOmG3a9uKxSMq+QRB2MvANX5vML4shraNrAWV9ZQEYVuZZIvosEdI6HQCGlUmzpA2lBcTPWLTPXscSv3DkmOeZ4WCv+ho7cPLGXC63i0A3+dnIj9NvTL1pOLP46UR67fkkeJOpB0MFAPZhxoSFSX3av/2U3XHD6m9j0H4CTSz89kmgoeGG+NwpA3kH6PGzxcAOAbQyMI8IW9QT9dNR4xHr1PWEobdMXZvjAIik7OzpM01Xl14DKxkzLHs/gIXFMgR6KqE3rXVsqqUlRKy8DX7e1IM/2nCgvzmQFQdBaAFjnRnWtvqBcK6nUwY+S4a1OlLswfnc5x+ZejDop+iOq/VNhEtytLOKwIeSevBmFXxgQt3u3FC2wwsEMT+bCAcfGbZn9S8liNcdG1J2qf8qnTsps/ApTe+Glck0Bq66mWJ99m3MeC4R0vwzRcFYpM++lyRe8QKsTo1STtgC4KsiQB2lIAj4eULXflaqG7UG1jD4aReECthI2z1gzC/+zdWLpu33ifDgiAAYVn8nIJ70BBAQX/siK480CLwKJq0YBIG7E3owUm6mnc0/JJ2VoBKK2ksXZ6DkhOoCGMkSilr2cgb+4BHIOVPXJqvfN1rH5giqT0gORLv1azyrarVL1ktueAl5beKiLKL4nuMg9BPxtkQouEfJOxeR1ubjAKaXbOJ0Qm8aPi5E0gOPE7ACzLMAtBJwMKFrt44mcKV7ySZWPxjWpWk0lrLnSsK7pY4Y9FhSb3KWjpG2fwmGk3HcD5NYlgzNcAgqI22/CsY9JTbOmro2ZbQALkujpYWs8IRVSa8vdUa53OLEvJb9sZ5Pp3F9tsettAyKJPWm7vwDKbNHCG+bIW3BqAFcVsj6BkzkuNEMa+td4woUQG0ezgYCCCyI69MPRdL93yYWLyvKJRnWOpy1n7ZXC8aLXkGWy0C1AjJS9hYE6LzZ1mTkK7EiZ6V4ztS1G11jbnCegRB3uPshms6sdL87+8nKPE2gNV565S7mNQOw7L9DyAcVOXzxOG3ZRyBz3y2+ixqW/QEAj01HD5t606+8HEdS9u4CKVUyLB819ebNtQZbKq/4VIjA70xdm63GigBkXmDJhy+reB6b0b3u5fO0nA8hOKlrTgUtLj7Dmxu8LakHfzLa4J0Zdo4oNMe9VlZ1pYyoUk/i62DSAc6wlMfzpf7ioc0lwAqsxnUEugDB7yCLd8127f0rEXzFK2U+e9R2qfcCcCUCLWej4qXeAVAjrTKeAKqiVRQItQQgaLng3BI/Jnq8ACjGWlLgTUjeW5HYUgCcRsZgfY9UG7qQ28tN6XgBUJlNCJoj6gcXlDY+PMndwmb5wI9WHw8ALs0O4tu8+KoK9Hq+sVGJXh8PAHl6vXyjo3KDo3AtLEezVzqvjzYbubQ6A3G3xpQ5nlR25TY6iLGF6kRyrBhrNwrFRHNWRpiwvlJjw5WvqvuSb3gEfs2gIAFPjhVznU+VeJTAGSFyP/ZqaJQ+7qoAKCXV+OBTdnw82qw0TYuXNjLKrZOqAbgGShvdLOitkfKpiuckyQvHpdFd+gQUHQ9B3yPGEhDOAfwGS9pT1asGgldCNTgYk5igCtSL4/aqgddUKnIY4G8xc7ialz2IKAXQ64qcHW22qnkJVetwvF63+T9nAHfjRfzL0gAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-logSave{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA1RJREFUaEPtmT1oFEEUx9/bFLFKJzG2WiknZObFxlO8RtFC8SuFWlrYGBtRRNCghV9YmFQWgoVaaAS1ULRRRKvbmYBBQezVYBOIGFMkT0ZuYXPufOxdspuDO7jibmfe/H/z3sy8eYvQ4R/scP3QBSjbg8EemJyc3La4uHgUETcx82YAWNum+N8A8IWZrxLR41ZtBQForUeY+Xarg/j6MfMVIrroa5f13AuglOJWDLfQ56aU8mzefk4ApdR9ADiW12ir7RFxXAgxkqe/FUBrvYeZXzQbY+bh3t7ed5VKZTrPQM2eNHYQ8VGGjTtSypOhtq0AcRyPIeKptCEppTfkbAM3AxhbcRwfyYJg5nEiCvKEVZBS6hUA7EoEIeJ+IcTz0JlpbpcFYNrYIBDxlhDijG88lwd+IGJ/YoCZ1xPRd5/BUA/Mzc31VavVWRcEM18jovOuMV0eWLL7tBM+RoBS6isAbEzERFFUHRwc/JD8dnjishDikg2iSIAJADiU8uhdIjqRFuZYEweI6Gmuc8AWs6EhVK/XR3t6eg4zMyKiEQ/MvOSwQsS3iHhhZmbmY61W++UIp/dSyu2FAmit3zDzTjMoItaFEFuVUt8AYCB0ElLtZqWUfYUCZHlQKXUQAJ60AAC2Nbhia8AWglprAoB7jYQwmGXVACSKzRqJomgLAJjvBh/JqgPwCQ7dRAoPIZ/w5HkXIHQGQlOHvCd56PjdEOpoD6TShT/MfD19OXeFQCPnOYeIaxYWFiaGhoZGQ9Pv5nZthVA6XWjkOsMJRGj+b/IhIURtVQCkIUJvYKUCONLf/+67tjuw+T+rLlTYLmSDCDmwbOIbF6CgC1Vba8B3m3JBuMQXDuC4iGQy+MSXAhAKESK+NAAfRKj4UgFsEHnElw5gBGit9wFAUqy9kbco1vY2Gsfxsha2QrbV1K42gIimAPDvw8zTRLQuy0ZhpcU8AMZ7zPws1ee1lHJ3LoDlLu7mAcioZFuLvYWV130AU1NT/fPz8zuyqtWIuFcI8TKXBxo7QaEvOCyQD6SUx20T4K33F/iKKVOj7yrqBWhsiSv6ki8zNBBPCyHGfKEXBGCMrMBr1mZtPxHxEzN/jqLoYbr07oIIBvDNRFnPuwBlzXwybsd74C95KWhPrxIhsgAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-logSave:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAthJREFUaEPtmTuMTUEYx3//TrWdeLRUJCrReISGUBCvLVAqNGiEiASh8IoClUKyBQqPBAWhsREqnYRE9NgoV0T3yci5m9mzc2bmnHvvOXuTO8ktbs7MN//ffPP45hsx4kUjrp8xQNcezPaAmW0EDgFrgLXA0j7F/wG+AlckPW5qKwvAzE4At5p2ktHusqTzGfUWVEkCmJk1MdygzQ1Jp+u2iwKY2X3gcF2jfdS/I8l5O7tUApjZTuBlwNIk8E7STHYvQMCTzs6jgI27ko7l2o4B3AaO+4YkJadcVcdlAGfLzA5WQGR7IgbwGtjuCdoj6UXuyJTrhQBcnQjETUmnUv3FAH4CyzwDKyX9SBnM9QAwIWk2AXFV0tlYnzGAebtPP9OnEPkNWO2J2STpQ+9/xBOXJF2ogmgT4Amw3xNyT9JRX1gEYq+kZyGIoQGY2UXgAPyPt5x4V8qH1TRwDvgk6XdkOr2XtLltgLfA1qLTj5I2mNl3YEWDdTQraaJtgAVryMz2AU8bAFC1Boc5hYKbgJmtB6aKgDCbZdEAeLuOWyPrit+qFMmiA0gJrjr4yu1an0Ip4Z6Hss6hMUBu6FD3JB9PodwRGGkPeOHCX+CafzmPDUAR85wBlrgwQ5LbUueV3AHsaxGbmR8uOAGTPYga8f+0pG2LBWAOosYNrFOAqith6L5bdQee81optG7nHIjE8DlnVlB8EVa3AxCJ4VMAleJbB2gAERXfCUANiKT4zgAyILLEdwoQgcgW3zlAIWA30EvWXq+bFBvESTzQxFZqSyqdAe7i7xIAvTIjaXnIRmupxZoAznvPvTZvJO2oCzDQ5G5NgPKbRGWyt7X0egrAzFwedktFtnqXpFe1PFAsxLYfOEIaH0g6UjUAyXx/i09MQY2pq2gSoPDEsB/5QuJPSnLrMFqyAAqIQT+zloX9Aj4DX4CHfuo9RpANkBqJrr6PAboa+V6/I++Bf0in3kCazcMZAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoom{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURUdwTMDAwL+/v7+/v7+/v76+vr+/v7+/v7+/v7+/v7+/v7+/vxtcv/AAAAALdFJOUwBVdZCpGdZE7C3B0wnY6AAAAV9JREFUOMt1lDtPwzAQx20ghGwVsHVJhQRDlsywWKqEULsw8FhRJ2iWiglGGJvFCw8xIVVCSEwkKU25L4ftpOHs2Cclsu7v370smxCLecRh+xOH8Ja5kGEs/6dtYf1XONcWZurbwwRCQjYZ9l7uHAPAOBHpI1QC/QSY9g84ldmnAn7Z3htwsfZnvSe54eJd5hlcC7gccxTwSETZEr5+714vLRdfkFraVNtetXLpR7ha+mkHCV1Y/q8ZOW8AgDkecsIaAEIcGbIGyLUq4KcBYl0o7QAB4FZACBMrQKpaJOCZQqyAIhgayYEpgD1DZghXCvBTNJFKmCvgzmhcCEsBwMjSRx6BslYftRX0JLYKrAsLqzDC54EFMwvy58QhMM8hFNq0UpwET+sLC9/4BmEBTytyRCIbDoAEiR1Qp1dbRxfoyv9g3ogaKVuXhVZZbtqX6Ez6H23PxG4CM259QDwt/h8ABfK8nDqSAAAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoom:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwCCyreU7KZVRCDaZnETLwj6WaYVAAABUUlEQVRIx5WV2Q6EIAxFoVBWxf7/184AOnGUsvTBqDmXrqRCzNou1kwGtyZIQNuiD0P6evWTURFUMtIoPO+iVoGIZPkMqkdKA0jZgoJ6suQc2EoiGBldOoQ9HSDk5+GTs1Fqo9IlcEpvNv3qv0MBhSalIFSv3+MCJCY8fUaCxasycrMu9dp5VTUhubXZ6CqsAvn66ZAsx+e8fON37oT3bZ4aiRU0kDlavGSrQI95HPBZACt8FuCL16IruBVkzBeBW+CLYHvyfiDQd96IpHpOMqP++fAq9VMQ7rwrM5+6gjwG/3y/D/m8ylPYpvpAeqO7DfvwMPO9D6jnBabG56YFZx77fEjD+9AyLdYEhp8nxoNh5wmJtfY8AS+wzIZZrJNcC4h3wV8IH1p87Iyfnc6XVaAd7ICHAsebw97zgDSxZ/yvViiPuYUfTe650knM2+7Ywz9yOCklzohLOwAAAABJRU5ErkJggg==") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoomStop{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAzUExURUdwTP///////////////////////////////////////////////////////////////8/RimEAAAAQdFJOUwDjmTC6Y0KBVakX8s8iC3JYR1wyAAABVUlEQVRIx62V2baFIAiGcwJRS97/aU/Zbtht0VzrcJOuvl/AAabpXy1RF0F/m2h2PX5mzucEuO9gMon1MY7KlG8w4LImC1XFQmxDGVkm1DYpXi0qS1gXTEGzKoqNS1ajAxPqJDikFLcFS+aukYJffRfXnAj9kYUXFVi86wzzPjuCFRXBwS3KaC/Pt02Ww7uf1jz3BVYtX/OsyDQFDn7yswPXb+Ovs39eJJWwxrOXV4thgC+//QBf/uMAXwAa4AuRBvgdWR58CB2B+eaRG5e8QO7Jn2sIAvzhbdsDnXzev8q0BengGXv8EciH3y1CY5++yI/BRNx82g/La7lc7b0Am/tUC6n3HoZ4SbDyy5BgzSNivV6wbPXeIPOpHlOU+CjkTQKvQOpXdRdJvn+5xttWQa4EZUOzluonT6+q72X6Zb0+T/lNhQd7hg9vm8LWUhW5gT4iN7c/0ZUo8Q3AttYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-zoomStop:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURUdwTBKV2hGW2xKW2xKW2xKW2xGV3BGW2xGW3BGX2xKW3BKW2xCX2xKW2yDN61kAAAANdFJOUwCAVKxm3T/DmhrxKw97YQBGAAABaklEQVQ4y2NgIA6wGqCLMCqAqV4HdIm9F0Ek22UMM9hiG4AkVzQDA+cmx+YyJJnDlw8wMNQaNpfevbu0QgxJgrN3JQPD3VvhjU57kESnOZqvvXuJgcEXxVFMEkDt1w11gZYwoVgue3d5SzaQSgCydZG1TMkBU8vBuq9guBcqNBNDgj0GQrMEb0CVYEmA2ViANRQZ795tQPZduADciXcVUNSthGu4hGrAJawagBIXsWoAClzGqgEocRWrBqDIrQNQDTPRXZ8A0cB41wBNQgGiQfbubTQJAagGDB0GIA0OsnevbkCTCADiu4J374ahW34JqAEIbiXMRJOAgkvMKJYgJBx6717AKiF4F4eOu+jxgQCXGHBIKPDgkBC8JYCURJDtQHYWN4oEcvpZiyR+C9lZtkgSKKG1CyGOGrxItleixjrcLFBWRAYcMIkG9NQMiY67N7AlcxAQwMwA6SBxM2xZQ3jtVRPsRQ83sg8ACMIUxzzE8wsAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-close{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTM3Nzc7Ozs7Ozs3Nzc3NzcrKys3Nzc3Nzc3NzePZJxkAAAAJdFJOUwCtKdPBGAmNTt3jdDcAAADfSURBVDjL1dOxDoIwEADQgwR07GTCZtI/IGHgAzBhM9EPkMTB0Y3V0ZXIcn/rtRR6pefgSKeSu3ellyvA9lZ/5F9p/3K7PZY8oPG5BD6MpPUSgIITzdIStifAshjRQV1PCFT8TxaicTzzwEwINOEdHVmDmcTAkRhMhMAp7iQRjcMtDhCp8SA1v0ARGIIK/gnkv0p1OBTS4QRUIpE7DiYYXTBrzcld3JIrAarXrps4AVNwRSZgExoJmIyAaAdsShUMn/JF2fh4YEkpAcgvnuwYCIb6EbbbP4PsDfLD2dD6Av1qTvAQlzUTAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-close:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTP///////////////////////////////////8kBMKEAAAAJdFJOUwCt0igUwJdJePGbgLgAAADcSURBVDjL1ZMxEoIwFESTCaOWFDapqeicnAALTiANnaWlnVewDTMW/7b+aCAb8jkAVIHN2/lsNkrt73lf8M08nnF1pAYFR/dFmAAx7SIoi4iDbRrWDMAuQFzmmxAGbjjJgjj6dCjMCAND/o8RWQMzUgIRKYE/wsC5TJIRR74rBUZaqqXwLZEXT0WTDGwLW1aavJWQir9qadw++NgykWoMNtcykh8Q5EECgr5C+jjpGjHjPGhPU5eVzyfPJitfnUyhPg6ywMKZ7BygcYcsPCj1Kc8uXYPqpeSLs6PnC4w8S+8OJ9MLAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-narrow{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABm1JREFUaEPVWWuIVVUUXmvfYRosHzUZUUqKjkSXSe5Z+5qJhfawLELCR5ohPhKjjB4EWgkpkopRSWEPS1Mqy7Gkd0iPGaKy6ey9Z3z0opwEQytSMiS5NZ4Ve7j3dubMOfecO96buf/cx17rW+vba52919oH4RQfeIr7DxUjoLW+BhHHAsAAZh5gPwGghpl/TKVSHZ7n7T9+/Ph+ANg/atQo+1mRcUIEtNYzAWAiM09ExLPK8KgNADYw8wYp5Z9l6PUQ7RWBvON3AMClJ2Kcmb9DxAKR33qDVRYBrfUNzLwQESf0xliUDjPvR8T1RLSsXNzEBIwxc5l5fYSBnxGxxfO8bQCwN5VKHc7lcofr6+tzR44cGcTMg4UQgxDRfp8IAJdH4KwlooXlkEhEQGv9EAAsDQF+GwDWEdE75Rg1xlwFADcx83QAOCOg29SvX79ZDQ0NuSSYsQS01h8BwBUBsF45HnTIGHMBM9uFmR2Ya0bEWxzHORBHoiQBY8xmZp4RAFlNRIvigMuZN8asYOb7Azq7hBCTMpnMvlJYkQSMMUuYeblf2fO8ZdlsNiyVyvE3VNZ13XFCiGb/JCK+6DjOrLIJ2N0GAN4KKG4hIpuzVRtKqf6I+HvAwAIiWhdlNDQCSqntga3yUyK6rGqe+4Db2tqu8zzv3cJfiPiLfQYdx/k6zH4PAvlD6iWf8B7P8yZls9mO/4KAtaG1fhgAHvCReN1xnClJCXweOGFLhrAapJqamlLDhg372H9eMPNMKeXmoL1uEVBKTUXEJp+QJiJZDSfjMIOZgIibHMcJbrfdq1Gt9WMAcI8P/D9f/YJtpVQfW7n6isSDRHReyQhorXcCwMV5oWN1dXWD0un04bjVqta81to+i7bi7RpCiAmZTOYDv71iCu3cuXNQZ2env07fRkSTq+VcEtyQ7XwNEfkz5N8Ucl13khDiDR/b+ZlM5vkkhqopo5Q65Euj74loRGgElFJ3IuIThUnP8xqz2eyeajqXBFtrvR0AiuU7EXXbeIo/tNaPAMB9BVBmrpVS/l3KiDFmBjNPKbMbK0A+6zjOq3EktNavAUAxlUsR2AIA0ywgM3dIKYfFgRtjmph5apxc2Dwz/ySlHBynq7V+wV+tliLwPgBcmwdsJaLRceDGmD3MnI6Ti5j/g4j6x+lqrZ8EgGKTE0nAGPM0M9+Wj8BhKWV9HLjrukuFEPMBoMf+HKdrm3oimhcnFyy1IwkopRYj4soCYF1dXf3JPAMKfiilNiFisaSOJOC67nQhxCu+h3i0lLI1boWqPW+M6WDmoXk7+4io8L3rr+IuZIwZycztPocWEdHqajtYCl8pdSEifuOT2UhEc/w63fZUrfWvADCwixlii+M4408mAa31AgB4xufDHCLaGElAKbUZEf09cAMR/XCySGit7TXO3IJ9IcTQYI8cLKfvQsQ1BYVq9sBxi9La2jqipqbmMwA4Oy8bWtoHCTiIaBua0/JKB5hZSikPxhms9LxSah0i2i26MHoUct0eYt+2tRIRF5/MKGit7YFqD9auYU9tRBwfls49emJjzEBm3gEAxVKCmadJKbdWepWj8LTWHwLAlb75hUS0Nkw+6lbidkTspoCI6aibgUoSU0otR8QlBUxE3Oo4TleNlpiAFQwWUfa/XC7XZ8yYMccq6bAfS2v9OADcHUidqUT0RdkE8iS+BIBsQHkkEe2qNAml1HOIeGsA914isqQiR5LL3aMAcHoAYTIR2av0Ex7t7e3ne563mplvDoIh4le2xC+VurEE8pGwh1m3/sBec3ie96iUcndvWLS3t4/o7OycK4SYw8znRKZIDIlEBPIk7IrfGDB01JIAgJZsNtuShIjruplUKmWdtidsMLK2lFmFiPP8fUapSCQmYJ2L6cDsNfh7iLiXme1VjG3GOwFguOd5DYg4HAAa7O/Q3QTRXiavchxnhzHmIgCw3V6xWYoiURYBa9h13atTqdTssJxNEoEImQeJaIV/LimJsgkUjCilLrGXToho33mFrmoMod2I+LLneW9KKb8Nk01CotcE/AaVUmOFENcz8zgAGAIA54Y4dAgADiCifejtjcQnSSIWRgIAniIi+5q3cm/q/c40NzfX9e3bd4gQ4kxEPFhbW3sgnU7/lcThJJHwV8kViUBvHStHz0aCme2qe7W1tasbGxu7rkFPGQKR50Q5q/B/lP0HjgOoT/ydvaYAAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-narrow:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABS1JREFUaEPVmgmoVVUUhr+fosKC5ogGSsqIpKQwMqjIBpsICdMGQ7ISo4wGApugJCoxLClssElpNEuaI5okKjOI5onKhEQrSiKiaKA/Vu3zOu+8c88593qvj7fgcO99e6/h33udtdda+4khThri9tM1ALaPAQ4Btso9GwNfAyuBb7JHUnzvCq0XANuTgePSs00bFr0L3BuPpF/b4BswtSMAyfDzgYPXRznweQ7ID53IaguA7ROBGcC4TpRV8IRL3SNpVrtyGwOwfVYoaaHgW2AZsBT4CliXnt+BXYBd02d8D5c7rIWc+ZJigRpTIwC2rwauKZH6NLBA0jONNQK2jwJOAU4FtijwPgpMkRTga6kWgO2XgSMKkjoyvGiN7d3SwpxZGHsVOEPSmjoElQBsPwScVhAyR9LMOsHtjNu+Hri8wPMBMF7SqipZLQHYvgq4tsA8S1KZK7Vjb+lc24cDsfJ5ul/SlLYBpGjzVIFxsaTw2Z6R7S2BnwoKpkta0Epp6Q7YfqEQKl+XdGjPLM8Jtn088GzuT9/FOyjpkzL9AwCkQ+qB3OSPki9GOrBByPZ1wBU5ZY9LOrkpgDcLJ2zlFvYCke2NgFcK58VkSRFU+lG/HbA9EYg4nNE7kkb3wsg6mSWesEhSMdz2z0Zt3wRcnBO+wVc/0217WMpesyRxraSd6nbgfWC/NOm3OP4lRVowKGQ73sXIeDMaJ+nFvDF9LmQ78pR8nr5U0oRBsTwpLQnn8yTlPeR/F7I9HngiZ/A0SXcPJoDQbftHIHOjLyTt1WoHLgBuyQ3uKylC6KBS8UyS1C/w5F3oRuDSnLWbSPqzynrbkSdFfG6nGstE3inpkbrVsf0Y0OfKVQAWA5OSwJWS9mggPEJuhN5OaLWkqBMqyfZ9QF/4rALwPHBskrZC0pgGwsPFRtbNazH+s6TIfeoA3JqqwH/nVQG4HTg3SVsnadsGwiMznQYMiM91vKmgP7tuXjHVrgJwGXBDTuC2g3kGZHbYXhQVWva7CkCkyg/nAIyRtKJuhXo9bjuSyOFJzypJ2ff/XCqHdBTwXs6gmZLm9NrAKvm29wY+zc1ZKGlqnqeYzH0PbJ8mLJM0dpABTAfuyNkwVdLCKgDFGniEpC8HC4TtaONEOyej4cUaubgDFwLzcgw9q4HrFsV2pAxvANuluaWpfRHAAUAUNJsmpmhrjJa0tk5ht8dtRx0cITqjAYlcv5c49zJHKI2QmtEG3wXbcaDGwZrRamBsmTuX1cTxEi8H8qnEJElLur3KreTZfgk4Mjc+Q9L8svmtuhLnAUWGka06A90EZjt6UdGTymiJpCxHG6CqqrHVL4lKnMMkRaXWE7J9M3BRwXUmSnqrlcK61uLbwIEF5lGSou3XVbJ9F3BOQeglkgJUS2rS3P0F2LwgYYKkaKWvN9neGYgT//QSYR9Hil/lurUAQqjtOMyK9UEkWXMlfdgJihTn45CK1GCHChmVIBoBSCBixU8qKIrdmRuXG5LigqOWbO+fjA7jizsbqcxsINLsfJ3REkRjAAlEVQUWbfDncjc0UYz/BewJjCh8lgGNZvJsSctt75MabLUg2gKQQBydSrwyn63dgRYTrpQUdwR91BRE2wAyDbYPSk2nuPOKVW6X4t15EHhS0mdlzE1AdAygsFpxwX0CEJcUuwM7lhgULhW5VRgeHYnXmiBuAeI2SXHN272b+gKgzRKQrYFIBNdI+qOJwQ13oi8/68oOdGpYO3xpJ2LV/45zI/t3hSEDoBXYIQ/gH99H3EBePlczAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-expand{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABvJJREFUaEPVWWmIXEUQrnqzZseYxGM9QBNF4hrJEDfzqieuAY/gFRXPyMYbzUHwQBQUzx+KeBAJKhrRqEhEQWMU75AYXREPlunu3bjxIDGraIwiuJpFkL26pMK84eXtm3lvZieGFAzsTtf1VVd3V9Ug7OOE+7j/0BAAnZ2d2UmTJl2cyWTaAOBA+TDzgYjYDAB/y4eZ5fNjc3Pze7NmzfqlUYEbFwBr7TUAcAEzXwAA2bROIeKnzrkNALBeKWXTysXx1QXAGHMVANwEACePxzgzjyLi057nrczn81vr0VUTAGOMRPtmRDy7HmOVZBDxL+fcyr6+vgc7OjqGatGdGoC19hZmfrKC8t9LafEWAGzLZDL9g4OD/S0tLYM7d+6cyszTPM+biojy97kAcGoFPV8ODw8vbG9v354WRCoAxpiXAUDyPUrvAcAqIno/rUHhs9aeCQALmflyAJgUlkXEf5xzp6U9G4kAjDHcKMejeqy1xzDz/QBwXYyNViL6ISkwVQEYY74AgLkRJcuJ6M4kxbWsW2sfZua7ozJNTU1HtLW1/VFNV0UAxpjlAHBHWNg590ChUJCINZyKxeLpnud1RhSvmzJlyiWtra2DFS+AuAW5bQDg3cja60QkObvHSGstj588fGVi5heVUktqAqC1Xh+5Kj8nolP2mOchxd3d3ec55z6I2JpPROvj7I9JodIj9UqIebNz7qJCodD3fwAQG8aYhwDgnpC99UQ0Py2ALyMv7DIiWvV/OS921qxZk5k+ffon4fcCEZf4vv9i1I/ddkBrfSUivhpiMkSkanXeWnsFAFwCADNHR0fX1nPwYzJhAxGdkwTgJUQM38l1Rd8Y8yYAXFoytoOIjqo1CFrriQDwCyIeEsh6nndsPp//KayrvANbt25tHhgY+AsA9i8x/JvNZqfmcrn+Wo1bazuZ+fRAjogSH8w4G8YYOYtSOAZ0GxE9EQvAGCMRk8gF9BYRLajVeeFvIIDdrnOpt3zfnxcLwFr7CDPfFdqupfl8/oW9CUBsa63/DKXRz0R0TCUAzzDzDcGic25WoVDYvLcBGGPk/i+X7wMDA/vNmzdvJPCrnJvW2leZ+cpggZknKKWGqwGw1l7IzOcg4swoX/gMyNbH6HnO9/3XkgJkjFkLAOVUzmQyM2bPnr1lDABjjJTE58sCM/cppaanUK4BgJL44taZebtSalqSrDHmpXC1ysynKKU+j9uBj5hZ6nShLiJqT1Jurd3MzLkkvgrrfxPRwUmyxpinAODmSqkdTqE3mPmy0g70K6VakpQXi8X7Pc9bCgBHJvHGrEsjtCxJLlpqDw8PTwt3bGEAzzNzuerLZrMt9bwB4lCjrtHSLbQaEa8NgGaz2cm5XO6fuDPwGADcHjrE7UqprqQIxa03EoC1to+Zjy3ZGZN25R3QWt+IiCtDDt1JRNLU1EyNAqC1PgERvws58DYRSY1VpjKA3t7eaUNDQz+Xtybm1UuLpFEAjDFyRp4N2a1cSsTlLgCkaqyjwBoIQMrnRYH+0dHR/Jw5c3pid6B0YO5GxIdDV1ZdPbC19nLn3GOIOAUA1hLR4rS7F/B1dXUd39TUJEOFQ+U7RNzo+/5ZUT3RfsBHRGloZCgrtIOZlVLqt1odGC+/1noVIsoVHdAiIpJHbTcaU+ZqrR9BxHJRtycnEZVAGmOkfVwXOo9bJk+efGLcdGIMAGvtYcz8FQCUSwlm7lBKvTHeqKaVN8ZsBIAz0qRybKMRc6VKDuZ83/82rRP18mmtH0TE+0LyHxNRUOKMUVuxU7LWlkuLQGpwcHDi3Llz/63XuSQ5Y8zjAHBrwMfM/cy8oFAoxFWzu9iSRou/xtQ5bUT0dZIzta5rrZ+XyUNYDhFv931/RTVdVQF0d3e3OufKtXdI0QIiklH6uKmnp+co59zycC8SOrzfAEBHtdRNbLaLxeIMz/O+H3N9Ia52zq1QSvXWg6Knp+f4kZGRRZ7nXc/Mh1fSgYhVQSQCEMW9vb1HDA0NyS0UHS/KLF+2+NNqeRp2rlgs5jOZjDgtL+wBEcdlEv0oIi4O9xnVQKQCIEZkTuN53uqgZ4iJmMxrPkTEbXL4AECaceldj3POtSLicVKayP9x0UZEGSY/6vv+V9ZaaVHXpAGRGkBgtFgsnpXJZK6Ly9l6Uqkkcy8RlUsY+S4tiJoBBE5qrU9CxKvlZ1YA2G3UkRJIr4wxnXPvKKXGnLG0IOoGEHZSnn5EvIiZTwKAowEgrh39U2orRJRDLxOJz9IAjdsJAHiGiORn3sb8Uh91ZNOmTQeMjIwcjYgHIeJvEyZM2JHL5Wr6+TSsMwoCEVf4vr+re2zIDqSJ5Hh5BAQzS9R/IiJpf3fRPgOg4jsx3sjsbfn/AH37LF5g3/BiAAAAAElFTkSuQmCC") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-icon-expand:hover{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABYZJREFUaEPVmXmoVVUUxn8f0WRzVkJlIWVGUmIJWWADTVaUldFclCnSQBQYNv1RSCWGVFRSlkRh0GBS2YBmJWGJUBHNNJiYWQSZfwTRxBfrce5jv/3Ovefc++4z3oKLD/fea61v7bXXdMQQJw1x/ekKANs7AOcA44Ddkt/2wJbk9z2wTNIP3TLcgADYvhw4q/gFiLq0ClgBLJf0Ud1DZfs6AmD7UuA64JiBCAf+BR4GHpH0TSe82gJgO6x9PXBqJ8JanPktQABzJP3VDu/aAGzfADzYhPnPQLjFUuA7YHPx+xPYHxhZ/Bt/nw4c14TP+8CFkjbWBVELgO2ngfD3nJYBCyW9Wldg7LN9cigKXATsnJ39HTi+7tuoBGDb3VI852P7QOBO4MoSGaMlfVtlmJYAbL8HHJsxmSdpdhXjdtZt3wPcWnJmhKRfWvFqCsD2PODm7PBdksJiXSfbJwDvZIzfAM6VFG+plEoBFNHmlezEc5LCZweNbEcSjMSX0iJJ09sFsDwLlaslTRo0zRPGts8AXstkTZYUOvWjfjdQJKnFyc7PgCmS1m0NACHD9t3AbYm8yNiT6wKIWJxm2JmSFm4t5QsA2wBvZ/liuqRFuR59bsD2JcAzyaYPJU1oV3nbF8fjAw4DlnTy8Es8YYWk06oAPJnF5I6sb/tF4LxC2CZJ+3VghGFAVK17JmdHSVqf8uq9AdtR+kZNsmOx4Y9I/5KiLGiLbEc4jLDYQ5IqE2aZANvxFqNwbNBNkh5oBiAsFpZr0FJJU9vSvNjcRQBRPKbhfJWkE5sBuBe4JVmcIemJ/xNAyLb9a+JGGyRF+dFLqQstAK5J1g6XFCG0berWDRQA8py0raR/et2z8YftiD4RhRq0naS/W2lv+2wgIkNEm5x630BRaufrj0l6tso6tpcAqSuPkfR1GYAoic8sFtZJOqgG8w+Ao6r2NVnfKCn6hJZkO4+MkyStLgPwJhB1etBaSRNrMA8XG1u1r8n6Fkl7VJ21/VDRBTa29nHt9A28AJxf7NosaXgN5lGZzgD2rdpbsh6N0MyqcyWl9si0Y0sBPA6kVd/wTnJAKNTlR/wUcEUCdBdJ0bX1UArgPmBWsnGipLVVFipb7zKAKCJHFXL6uV0K4NpiMtDQabakaGrapm4BsH0o8GWiwEuSosbqpRRARIQNyVq/rFcXSRcBxBt5NJHbvJQo812gVmOdA+sigCifpyX8x0v6uPQGCgDRWEeD3aCOemDb0XrGm9q1KKevrnt7jX22DwFiqLBX8X8rJZ2S88n7gSOBaGiiMg3aBEyQ9FO7Cgx0v+1ooiJEN2iapEhqfaispcyLuo5uYSAAbEf7GBOJBkXpcETZdKIMwN7AGiAtJS6QFIluq5DtlcBJdVy52VglD6nBa6ykLwYbge05wB2JnLckNUqcfuJbDbbS0qJxcJik6NQGhWzfD9yYMI9ucKqkGByXUtVo8ceSOmecpE+6jcB2XsqEiFmS5reSVQVgNNBbeyeMwioxSh8w2Y6GPzJ+2os0+H4OxPtr6rqVzbbtMcBXJZpGkTVf0qedoCjifCSpq4B9WvBoCaISQDC2PQKIN5GPF6MqjCuOsqOpn6bK2R5fKB3K75QpHpPouUAkvrTPaAqiFoACRMxpwuqNniE3WsxrXk++0EQzHr3rwVGSZP+WGTymD3MlrbEdLerzdUDUBtCQaDvSeXyQKPPZTrwpztwuKS1h4tZrgWgbQALkaOCy4hNrn1FHTRTxdmKQ8LKksjdWC0THADK/jtQ/BQhQBwBl7Wi4VNRWoXhMJN6tA7TJTSyQFJ95u/OlPlfEdjzOALI7EIVgzEfb+nyaGSh3p4h+Pd1jV26gjiUHuqe4ibD6eklRqvfQkAHQzABDHsB/7aMVT352GH8AAAAASUVORK5CYII=") no-repeat 50%;background-size:100% 100%}.jb-pro-container .jb-pro-menu-icon-text,.jb-pro-container .jb-pro-quality-icon-text,.jb-pro-container .jb-pro-scale-icon-text,.jb-pro-container .jb-pro-speed-icon-text{font-size:14px;min-width:30px;height:20px;line-height:20px;cursor:pointer;text-align:center}.jb-pro-container .jb-pro-speed{box-sizing:border-box;text-align:center;font-size:14px;color:#fff;width:90px}.jb-pro-container .jb-pro-menu-list,.jb-pro-container .jb-pro-quality-menu-list,.jb-pro-container .jb-pro-scale-menu-list,.jb-pro-container .jb-pro-speed-menu-list{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;overflow:hidden;width:-webkit-max-content;width:-moz-max-content;width:max-content}.jb-pro-container .jb-pro-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-quality-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-scale-menu-list.jb-pro-speed-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-quality-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-scale-menu-shown,.jb-pro-container .jb-pro-speed-menu-list.jb-pro-speed-menu-shown{visibility:visible;opacity:1}.jb-pro-container .icon-title-tips{pointer-events:none;position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:rgba(0,0,0,.5);border-radius:4px}.jb-pro-container .icon-title{display:inline-block;padding:5px 10px;font-size:12px;white-space:nowrap;color:#fff}.jb-pro-container .jb-pro-quality-menu{padding:8px 0}.jb-pro-container .jb-pro-menu-item,.jb-pro-container .jb-pro-quality-menu-item,.jb-pro-container .jb-pro-scale-menu-item,.jb-pro-container .jb-pro-speed-menu-item{display:block;height:25px;line-height:25px;margin:0;padding:0 10px;cursor:pointer;font-size:14px;text-align:center;width:50px;color:hsla(0,0%,100%,.5);transition:color .3s,background-color .3s}.jb-pro-container .jb-pro-menu-item:hover,.jb-pro-container .jb-pro-quality-menu-item:hover,.jb-pro-container .jb-pro-scale-menu-item:hover,.jb-pro-container .jb-pro-speed-menu-item:hover{background-color:hsla(0,0%,100%,.2)}.jb-pro-container .jb-pro-menu-item:focus,.jb-pro-container .jb-pro-quality-menu-item:focus,.jb-pro-container .jb-pro-scale-menu-item:focus,.jb-pro-container .jb-pro-speed-menu-item:focus{outline:none}.jb-pro-container .jb-pro-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-quality-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-scale-menu-item.jb-pro-speed-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-quality-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-scale-menu-item-active,.jb-pro-container .jb-pro-speed-menu-item.jb-pro-speed-menu-item-active{color:#2298fc}.jb-pro-container .jb-pro-volume-panel-wrap{position:absolute;left:50%;bottom:100%;visibility:hidden;opacity:0;transform:translateX(-50%) translateY(22%);transition:visibility .3s,opacity .3s;background-color:rgba(0,0,0,.5);border-radius:4px;height:120px;width:50px;overflow:hidden}.jb-pro-container .jb-pro-volume-panel-wrap.jb-pro-volume-panel-wrap-show{visibility:visible;opacity:1}.jb-pro-container .jb-pro-volume-panel{cursor:pointer;position:absolute;top:21px;height:60px;width:50px;overflow:hidden}.jb-pro-container .jb-pro-volume-panel-text{position:absolute;left:0;top:0;width:50px;height:20px;line-height:20px;text-align:center;color:#fff;font-size:12px}.jb-pro-container .jb-pro-volume-panel-handle{position:absolute;top:48px;left:50%;width:12px;height:12px;border-radius:12px;margin-left:-6px;background:#fff}.jb-pro-container .jb-pro-volume-panel-handle:before{bottom:-54px;background:#fff}.jb-pro-container .jb-pro-volume-panel-handle:after{bottom:6px;background:hsla(0,0%,100%,.2)}.jb-pro-container .jb-pro-volume-panel-handle:after,.jb-pro-container .jb-pro-volume-panel-handle:before{content:"";position:absolute;display:block;left:50%;width:3px;margin-left:-1px;height:60px}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-controls,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-controls{width:100vh}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-play-big:after,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-play-big:after{transform:translate(-50%,-50%) rotate(270deg)}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-loading,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-loading{flex-direction:row}.jb-pro-container.jb-pro-fullscreen-rotate .jb-pro-loading-text,.jb-pro-container.jb-pro-fullscreen-web .jb-pro-loading-text{transform:rotate(270deg)}.jb-pro-container .jb-pro-contextmenus{display:none;flex-direction:column;position:absolute;z-index:120;left:10px;top:10px;min-width:200px;padding:5px 0;background-color:rgba(0,0,0,.9);border-radius:3px}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu{cursor:pointer;font-size:12px;display:block;color:#fff;padding:10px 15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px rgba(0,0,0,.5);border-bottom:1px solid hsla(0,0%,100%,.1)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu a{color:#fff;text-decoration:none}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span{display:inline-block;padding:0 7px}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span.art-current,.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu span:hover{color:var(--theme)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu:hover{background-color:hsla(0,0%,100%,.1)}.jb-pro-container .jb-pro-contextmenus .jb-pro-contextmenu:last-child{border-bottom:none}.jb-pro-container.jb-pro-contextmenus-show .jb-pro-contextmenus{display:flex}.jb-pro-container .jb-pro-extend-dom{position:relative;width:100%;height:100%;display:none}.jb-pro-container-playback .jb-pro-controls{height:48px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center{flex:1;display:flex;box-sizing:border-box;justify-content:space-between;font-size:12px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time{box-sizing:border-box;flex:1;position:relative;height:100%;display:none}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner{width:300px;height:100%;overflow-y:hidden;overflow-x:auto}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar{-webkit-appearance:none;background-color:transparent}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar:vertical{width:2px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner::-webkit-scrollbar:horizontal{height:6px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-inner:hover::-webkit-scrollbar-thumb{border-radius:8px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);border:3px solid hsla(0,0%,100%,.4);background-color:rgba(0,0,0,.3)}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-current-time{position:absolute;left:0;top:0;height:15px;width:1px;background-color:red;text-align:center;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-current-time-text{position:absolute;box-sizing:border-box;padding:0 5px;width:60px;left:-25px;top:15px;border:1px solid red;height:15px;line-height:15px;cursor:move;background-color:#fff;color:#000;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll{position:relative;width:1440px;margin:0 auto}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.one-hour{width:1440px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.half-hour{width:2880px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.ten-min{width:8640px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.five-min{width:17280px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-scroll.one-min{width:86400px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-time-list{position:relative;background-color:#ccc;height:48px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-day{height:100%;overflow:hidden}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-one-wrap{height:8px;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-wrap{height:25px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-controls-playback-btns{display:none;align-items:center}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one{float:left;width:1px;height:8px;margin:0;cursor:default;position:relative;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one.active,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one.active{background-color:orange;cursor:pointer}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one.start,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one.start{background-color:#999}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-one:hover .jb-pro-playback-time-title-tips,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-second-one:hover .jb-pro-playback-time-title-tips{visibility:visible;opacity:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips{pointer-events:none;position:absolute;left:0;top:100%;visibility:hidden;opacity:0;transform:translateX(13%);transition:visibility .3s ease 0s,opacity .3s ease 0s;background-color:#000;border-radius:4px;z-index:1}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips.jb-pro-playback-time-title-tips-left{transform:translateX(-100%)}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-title-tips .jb-pro-playback-time-title{display:inline-block;padding:2px 5px;font-size:12px;white-space:nowrap;color:#fff}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute{float:left;position:relative;width:60px;box-sizing:border-box;border-top:1px solid #999;-webkit-user-select:none;-moz-user-select:none;user-select:none;text-align:left;height:25px;line-height:25px}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:first-child,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:first-child{border-left:0}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:first-child .jb-pro-playback-time-hour-text,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:first-child .jb-pro-playback-time-hour-text{left:0}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour:after,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute:after{content:"";position:absolute;left:0;top:-8px;width:1px;height:14px;background-color:#999}.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-hour-text,.jb-pro-container-playback .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-center .jb-pro-playback-time-minute-text{position:absolute;left:-13px}.jb-pro-container-playback .jb-pro-playback-expand.disabled .jb-pro-icon-expand,.jb-pro-container-playback .jb-pro-playback-narrow.disabled .jb-pro-icon-narrow{cursor:no-drop}.jb-pro-container-playback .jb-pro-control-progress-simple{position:absolute;box-sizing:border-box;left:0;top:-2px;width:100%;display:none;flex-direction:row;align-items:center;height:8px;cursor:pointer}.jb-pro-container-playback .jb-pro-control-progress-simple:hover{top:0;align-items:flex-start}.jb-pro-container-playback .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner{height:100%}.jb-pro-container-playback .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner .jb-pro-progress-indicator{transform:scale(1);visibility:visible}.jb-pro-container-playback .jb-pro-control-progress-inner{display:flex;align-items:center;position:relative;height:50%;width:100%;transition:all .2s ease;background:hsla(0,0%,100%,.5)}.jb-pro-container-playback .jb-pro-progress-hover{display:none;width:0}.jb-pro-container-playback .jb-pro-progress-played{position:absolute;left:0;top:0;right:0;bottom:0;height:100%;width:0;background-color:orange}.jb-pro-container-playback .jb-pro-progress-cache{position:absolute;height:100%;width:0;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5)}.jb-pro-container-playback .jb-pro-progress-indicator{visibility:hidden;align-items:center;justify-content:center;position:absolute;z-index:40;border-radius:50%;transform:scale(.1);transition:transform .1s ease-in-out}.jb-pro-container-playback .jb-pro-progress-indicator .jb-pro-icon{width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-playback .jb-pro-progress-indicator:hover{transform:scale(1.2)!important}.jb-pro-container-playback .jb-pro-progress-tip{display:none;position:absolute;z-index:50;top:-25px;left:0;height:20px;padding:0 5px;line-height:20px;color:#fff;font-size:12px;text-align:center;background:rgba(0,0,0,.7);border-radius:3px;font-weight:700;white-space:nowrap}.jb-pro-container-play-vod .jb-pro-control-progress-simple{position:absolute;box-sizing:border-box;left:0;top:-2px;width:100%;display:none;flex-direction:row;align-items:center;height:8px;cursor:pointer}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover{top:0;align-items:flex-start}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner{height:100%}.jb-pro-container-play-vod .jb-pro-control-progress-simple:hover .jb-pro-control-progress-inner .jb-pro-progress-indicator{transform:scale(1);visibility:visible}.jb-pro-container-play-vod .jb-pro-control-progress-inner{display:flex;align-items:center;position:relative;height:50%;width:100%;transition:all .2s ease;background:hsla(0,0%,100%,.5)}.jb-pro-container-play-vod .jb-pro-progress-hover{display:none;width:0}.jb-pro-container-play-vod .jb-pro-progress-played{position:absolute;left:0;top:0;right:0;bottom:0;height:100%;width:0;background-color:orange}.jb-pro-container-play-vod .jb-pro-progress-cache{position:absolute;height:100%;width:0;left:0;top:0;right:0;bottom:0;background-color:hsla(0,0%,100%,.5)}.jb-pro-container-play-vod .jb-pro-progress-indicator{visibility:hidden;align-items:center;justify-content:center;position:absolute;z-index:40;border-radius:50%;transform:scale(.1);transition:transform .1s ease-in-out}.jb-pro-container-play-vod .jb-pro-progress-indicator .jb-pro-icon{width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.jb-pro-container-play-vod .jb-pro-progress-indicator:hover{transform:scale(1.2)!important}.jb-pro-container-play-vod .jb-pro-progress-tip{display:none;position:absolute;z-index:50;top:-25px;left:0;height:20px;padding:0 5px;line-height:20px;color:#fff;font-size:12px;text-align:center;background:rgba(0,0,0,.7);border-radius:3px;font-weight:700;white-space:nowrap}.jb-pro-container-playback.jb-pro-fullscreen-web .jb-pro-controls .jb-pro-controls-bottom .jb-pro-controls-playback-time-inner{overflow-y:auto}.jb-pro-zoom-control{cursor:-webkit-grab;cursor:grab}.jb-pro-performance-panel{position:absolute;box-sizing:border-box;z-index:10000;left:0;top:0;font-size:10px;background:rgba(0,0,0,.2);color:#fff;max-height:100%;display:none;overflow-y:auto}.jb-pro-performance-panel .jb-pro-performance-panel-tab{height:20px;width:100%;display:flex;justify-content:space-around;align-items:center}.jb-pro-performance-panel .jb-pro-performance-panel-tab-btn{width:45%;text-align:center;min-width:30px;height:15px;line-height:15px;background:#5fb495;border:none;color:#fff;cursor:pointer;transition:all .3s ease}.jb-pro-performance-panel .jb-pro-performance-panel-tab-btn.active{background:linear-gradient(90deg,#7b2cbf 0,#7b2cbf 10%,#6e35b9 30%,#5fb495);box-shadow:inset 0 2px 4px rgba(0,0,0,.2);transform:scale(.98)}.jb-pro-performance-panel .jb-pro-performance-panel-info{box-sizing:border-box;display:none;padding:5px;height:calc(100% - 20px)}.jb-pro-performance-panel .jb-pro-performance-panel-info.jb-pro-performance-panel-info-1{display:block}.jb-pro-performance-panel .jb-pro-performance-item{display:flex;align-items:center;margin-top:3px;color:#fff}.jb-pro-performance-panel .jb-pro-performance-item-block{height:10px}.jb-pro-tips-message{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto;box-sizing:content-box;z-index:10;display:none}.jb-pro-tips-message:before{color:hsla(0,0%,100%,.3);content:"X";font-family:Arial,Helvetica,sans-serif;font-size:40px;left:0;line-height:1;margin-top:-20px;position:absolute;text-shadow:2em 2em 4em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.jb-pro-tips-message .jb-pro-tips-message-close{position:absolute;z-index:99999;right:0;top:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.jb-pro-tips-message .jb-pro-tips-message-close .jb-pro-tips-message-close-icon{width:20px;height:20px;border-radius:10px;cursor:pointer;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTM3Nzc7Ozs7Ozs3Nzc3NzcrKys3Nzc3Nzc3NzePZJxkAAAAJdFJOUwCtKdPBGAmNTt3jdDcAAADfSURBVDjL1dOxDoIwEADQgwR07GTCZtI/IGHgAzBhM9EPkMTB0Y3V0ZXIcn/rtRR6pefgSKeSu3ellyvA9lZ/5F9p/3K7PZY8oPG5BD6MpPUSgIITzdIStifAshjRQV1PCFT8TxaicTzzwEwINOEdHVmDmcTAkRhMhMAp7iQRjcMtDhCp8SA1v0ARGIIK/gnkv0p1OBTS4QRUIpE7DiYYXTBrzcld3JIrAarXrps4AVNwRSZgExoJmIyAaAdsShUMn/JF2fh4YEkpAcgvnuwYCIb6EbbbP4PsDfLD2dD6Av1qTvAQlzUTAAAAAElFTkSuQmCC") no-repeat 50%;background-color:#fff;background-size:100% 100%}.jb-pro-tips-message .jb-pro-tips-message-content{overflow:auto;padding:35px;box-sizing:border-box;width:100%;height:100%;z-index:99999}.jb-pro-tips-message .jb-pro-tips-message-content .jb-pro-tips-message-content-item{font-size:14px;color:#fff;text-align:center;line-height:1.5}'),function(t,e){const s=gy,i=t();for(;;)try{if(186573===parseInt(s(360))/1+parseInt(s(356))/2*(-parseInt(s(355))/3)+parseInt(s(367))/4+parseInt(s(341))/5*(parseInt(s(352))/6)+-parseInt(s(349))/7*(parseInt(s(368))/8)+-parseInt(s(346))/9+parseInt(s(357))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(my);const yy=vy;!function(t,e){const s=vy,i=t();for(;;)try{if(931978===-parseInt(s(522))/1+-parseInt(s(313))/2*(-parseInt(s(490))/3)+-parseInt(s(558))/4+parseInt(s(675))/5*(-parseInt(s(331))/6)+-parseInt(s(552))/7+-parseInt(s(548))/8*(-parseInt(s(343))/9)+parseInt(s(518))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(by);class Ay{constructor(t){const e=vy;this.player=t,this[e(605)]=e(460),this[e(600)]=[],this.eventListenList=[],this[e(502)]=null,this[e(325)]=null,this[e(408)]=null,this[e(536)]=null,this[e(586)]=null,this[e(431)]=null,this.ptzFocusNearTimeout=null,this[e(453)]={},qg(t),t[e(660)][e(385)][e(640)]>0&&t[e(660)][e(385)].forEach((t=>{this[e(394)](t)})),t._opt[e(592)]&&t[e(660)].extendDomConfig[e(621)]&&this.addExtendDom(t._opt[e(592)]),hy(t,this),function(t,e){const s=cy,{events:{proxy:i}}=t,r=e.eventListenList,n=t[s(240)],o=n[s(351)];function a(t){const i=s,{bottom:r,height:n}=e[i(323)][i(255)](),{height:o}=e.$volumeHandle[i(255)]();return Xe(r-t.y-o/2,0,n-o/2)/(n-o)}function h(i){const r=s;let n=arguments[r(364)]>1&&void 0!==arguments[1]&&arguments[1];i[r(269)]()[r(368)](t[r(199)])>-1?e.isFocus=!0:e[r(330)]=!1,n&&t[r(240)][r(361)]&&t._opt.controlAutoHide&&(e[r(330)]?($e(e[r(322)],r(197),"flex"),u()):(p(),$e(e[r(322)],r(197),"none")))}if(hs()){const A=i(document,[s(290),s(373)],(function(t){t[s(276)](),h(t)}));A&&A[s(364)]>0&&r[s(341)](...A)}else{const v=i(document,s(290),(function(t){t[s(276)](),h(t,!0)}));v&&r[s(341)](v)}const c=i(e.$controls,s(290),(function(t){t[s(276)]()}));if(c&&r.push(c),o[s(279)]){const b=i(e[s(325)],s(290),(function(i){const r=s;n[r(267)]===l.playbackTF&&n[r(192)][r(314)]?t[r(218)]=!0:n[r(267)]===l[r(392)]?t[r(343)]()[r(260)]((s=>{const i=r;t[i(280)](e.TAG_NAME,i(302),s)})):ti(o[r(403)])?o.pauseFn():t.pauseForControl()[r(260)]((s=>{const i=r;t[i(280)](e[i(327)],i(288),s)}))})),S=i(e[s(396)],s(290),(function(i){const r=s;n[r(267)]===l[r(273)]&&t[r(218)]?t[r(218)]=!1:n[r(267)]===l[r(392)]?t.playVodResumeInner()[r(260)]((s=>{const i=r;t[i(280)](e[i(327)],"playVodResumeInner error",s)})):ti(o[r(215)])?o.playFn():t.playForControl()[r(211)]((()=>{t.resumeAudioAfterPause()})).catch((s=>{const i=r;t[i(280)](e[i(327)],i(285),s)}))}));b&&r[s(341)](b),S&&r[s(341)](S)}const d=i(e.$playBig,"click",(function(i){const r=s;n.playType===l[r(273)]&&t.playbackPause?t[r(218)]=!1:n[r(267)]===l[r(392)]?t.playVodResumeInner().catch((s=>{const i=r;t.debugLog(e.TAG_NAME,i(405),s)})):e[r(185)]?t[r(389)](O[r(237)]):ti(o.playFn)?o[r(215)]():t.playForControl()[r(211)]((()=>{t[r(412)]()}))}));if(d&&r[s(341)](d),o[s(292)]){const E=i(e[s(187)],s(290),(function(e){const i=s;e[i(276)](),ti(o[i(251)])?o[i(251)]():t[i(287)][i(292)]()}));E&&r.push(E)}if(o[s(224)]){if(hs()){const I=i(e[s(209)],s(286),(function(t){const i=s;e[i(359)][i(238)].add("jb-pro-volume-panel-wrap-show")}));I&&r[s(341)](I);const k=i(e[s(209)],"mouseout",(function(t){const i=s;e[i(359)][i(238)][i(239)](i(304))}));k&&r[s(341)](k);const _=i(e.$volumePanel,s(290),(function(e){const i=s;e[i(276)](),t[i(208)]=a(e)}));_&&r[s(341)](_);const C=i(e[s(391)],s(200),(function(t){const i=s;t[i(276)](),e[i(326)]=!0}));C&&r[s(341)](C);const D=i(e[s(391)],s(385),(function(i){const r=s;e[r(326)]&&(t[r(208)]=a(i))}));D&&r[s(341)](D);const R=i(document,s(340),(function(t){e[s(326)]&&(e.isVolumeDroging=!1)}));R&&r[s(341)](R)}const w=i(e[s(268)],s(290),(function(i){const r=s;i[r(276)](),$e(e[r(268)],r(197),r(217)),$e(e[r(371)],r(197),r(411));const n=t[r(208)];t.volume=0,t[r(300)]=hs()?n:1}));w&&r[s(341)](w);const T=i(e[s(371)],s(290),(function(i){const r=s;i.stopPropagation(),$e(e[r(268)],r(197),r(411)),$e(e[r(371)],r(197),r(217)),t[r(208)]=hs()?t[r(409)]||.5:1}));T&&r[s(341)](T)}if(o[s(205)]){const L=i(e.$record,s(290),(function(e){const i=s;e.stopPropagation(),ti(o[i(298)])?o.recordFn():t[i(312)]=!0}));L&&r[s(341)](L),i(e[s(183)],s(290),(function(e){const i=s;e[i(276)](),ti(o[i(263)])?o.recordStopFn():t[i(312)]=!1}))}if(i(e.$recordingStop,s(290),(function(e){const i=s;e[i(276)](),ti(o[i(263)])?o[i(263)]():t[i(312)]=!1})),o[s(357)]&&(i(e[s(271)],"click",(function(e){const i=s;e.stopPropagation(),ti(o[i(349)])?o[i(349)]():t[i(357)]=!0})),i(e[s(366)],"click",(function(e){const i=s;e[i(276)](),ti(o.fullscreenExitFn)?o[i(381)]():t[i(357)]=!1}))),o[s(354)]){i(e[s(374)],s(290),(function(t){const i=s;t[i(276)](),$e(e.$ptzActive,i(197),"flex"),$e(e[i(374)],i(197),"none"),e[i(307)][i(238)][i(222)](i(310))})),i(e[s(191)],s(290),(function(t){const i=s;t.stopPropagation(),$e(e.$ptz,i(197),i(352)),$e(e[i(191)],i(197),i(217)),e.$ptzControl.classList.remove(i(310))}));const P=Ri();if(e[s(301)][s(193)]((r=>{const o=s;if(n[o(272)]===g.click)i(r,o(290),(function(s){const i=o;s[i(276)]();const r=s[i(313)][i(246)][i(270)];e[i(206)][i(238)][i(222)]("jb-pro-ptz-bg-active-show"),e.$ptzBgActive[i(238)][i(222)]("jb-pro-ptz-bg-active-"+r),e[i(386)].classList[i(222)](i(398)+r),t[i(389)](O[i(354)],Ei(r));const a=i(377)+r+i(328);e[a]=setTimeout((function(){const s=i;e[a]=null,e[s(206)][s(238)].remove(s(331)),lt[s(193)]((t=>{const i=s;e[i(206)].classList[i(239)](i(303)+t),e[i(386)][i(238)].remove(i(398)+t)})),t.emit(O.ptz,ct[s(356)])}),1e3*n[i(362)])}));else if(n[o(272)]===g.mouseDownAndUp){let a=!1;function h(){const s=o;a=!1,e[s(206)][s(238)].remove(s(331)),lt[s(193)]((t=>{const i=s;e[i(206)][i(238)][i(239)](i(303)+t),e[i(386)][i(238)][i(239)](i(398)+t)})),t[s(389)](O[s(354)],ct[s(356)])}i(r,P[o(226)],(function(s){const i=o;s[i(276)](),a=!0;const r=s[i(313)][i(246)][i(270)];e.$ptzBgActive[i(238)][i(222)]("jb-pro-ptz-bg-active-show"),e[i(206)][i(238)][i(222)](i(303)+r),e[i(386)][i(238)].add(i(398)+r),t.emit(O[i(354)],Ei(r))})),i(r,P.up,(function(t){t[o(276)](),a&&h()})),i(window,P.up,(function(t){t.stopPropagation(),a&&h()}))}})),n.ptzZoomShow)if(n[s(272)]===g[s(290)])i(e[s(201)],s(290),(function(i){const r=s;i[r(276)](),t[r(389)](O[r(354)],ct.zoomExpand),e[r(203)]=setTimeout((function(){const s=r;e[s(203)]=null,t[s(389)](O[s(354)],ct[s(356)])}),1e3*n[r(362)])})),i(e[s(338)],s(290),(function(i){const r=s;i[r(276)](),t[r(389)](O.ptz,ct.zoomNarrow),e[r(274)]=setTimeout((function(){const s=r;e[s(203)]=null,t[s(389)](O[s(354)],ct.stop)}),1e3*n[r(362)])}));else if(n.ptzClickType===g[s(347)]){let x=!1,M=!1;function B(){const e=s;x=!1,M=!1,t.emit(O[e(354)],ct[e(356)])}i(e[s(201)],P[s(226)],(function(e){const i=s;e[i(276)](),x=!0,t[i(389)](O[i(354)],ct.zoomExpand)})),i(e[s(338)],P[s(226)],(function(e){const i=s;e.stopPropagation(),M=!0,t.emit(O[i(354)],ct[i(278)])})),i(e.$ptzExpand,P.up,(function(t){t.stopPropagation(),x&&B()})),i(e[s(338)],P.up,(function(t){t[s(276)](),M&&B()})),i(window,P.up,(function(t){t[s(276)](),(x||M)&&B()}))}if(n[s(329)])if(n.ptzClickType===g[s(290)])i(e.$ptzApertureFar,s(290),(function(i){const r=s;i[r(276)](),t.emit(O[r(354)],ct[r(266)]),e[r(291)]=setTimeout((function(){const s=r;e[s(291)]=null,t[s(389)](O[s(354)],ct.fiStop)}),1e3*n[r(362)])})),i(e[s(233)],s(290),(function(i){const r=s;i.stopPropagation(),t[r(389)](O[r(354)],ct[r(256)]),e[r(257)]=setTimeout((function(){const s=r;e[s(257)]=null,t[s(389)](O[s(354)],ct[s(294)])}),1e3*n[r(362)])}));else if(n.ptzClickType===g[s(347)]){let F=!1,U=!1;function N(){const e=s;F=!1,U=!1,t[e(389)](O[e(354)],ct[e(294)])}i(e[s(413)],P[s(226)],(function(e){const i=s;e[i(276)](),F=!0,t.emit(O[i(354)],ct.apertureFar)})),i(e[s(233)],P.down,(function(e){const i=s;e[i(276)](),U=!0,t[i(389)](O[i(354)],ct.apertureNear)})),i(e[s(413)],P.up,(function(t){t[s(276)](),F&&N()})),i(e[s(233)],P.up,(function(t){t[s(276)](),U&&N()})),i(window,P.up,(function(t){t[s(276)](),(F||U)&&N()}))}if(n[s(333)])if(n.ptzClickType===g[s(290)])i(e[s(296)],s(290),(function(i){const r=s;i[r(276)](),t[r(389)](O[r(354)],ct[r(283)]),e[r(299)]=setTimeout((function(){const s=r;e[s(299)]=null,t[s(389)](O.ptz,ct.fiStop)}),1e3*n[r(362)])})),i(e[s(242)],s(290),(function(i){const r=s;i[r(276)](),t[r(389)](O[r(354)],ct[r(295)]),e[r(254)]=setTimeout((function(){const s=r;e.ptzFocusNearTimeout=null,t[s(389)](O.ptz,ct.fiStop)}),1e3*n[r(362)])}));else if(n[s(272)]===g.mouseDownAndUp){let j=!1,V=!1;function W(){const e=s;j=!1,V=!1,t[e(389)](O[e(354)],ct[e(294)])}i(e[s(296)],P[s(226)],(function(e){const i=s;e[i(276)](),j=!0,t.emit(O.ptz,ct[i(283)])})),i(e.$ptzFocusNear,P.down,(function(e){const i=s;e[i(276)](),V=!0,t.emit(O[i(354)],ct.focusNear)})),i(e[s(296)],P.up,(function(t){t[s(276)](),j&&W()})),i(e.$ptzFocusNear,P.up,(function(t){t.stopPropagation(),V&&W()})),i(window,P.up,(function(t){t.stopPropagation(),(j||V)&&W()}))}if(n[s(345)]&&(i(e[s(324)],s(290),(function(e){const i=s;e[i(276)](),t[i(389)](O.ptz,ct[i(198)])})),i(e[s(394)],s(290),(function(e){const i=s;e[i(276)](),t.emit(O[i(354)],ct.cruiseStop)}))),n.ptzFogShow&&(i(e.$ptzFogOpen,s(290),(function(e){const i=s;e.stopPropagation(),t[i(389)](O[i(354)],ct.fogOpen)})),i(e[s(262)],s(290),(function(e){const i=s;e[i(276)](),t[i(389)](O.ptz,ct[i(196)])}))),n[s(265)]&&(i(e[s(337)],s(290),(function(e){const i=s;e[i(276)](),t[i(389)](O[i(354)],ct[i(383)])})),i(e[s(275)],s(290),(function(e){const i=s;e[i(276)](),t[i(389)](O[i(354)],ct[i(227)])}))),n[s(393)]){function G(){const t=s;e.isPtzControlDroging&&(e.isPtzControlDroging=!1,e[t(307)][t(311)].cursor="grab",e[t(332)]={x:0,y:0})}e.isPtzControlDroging=!1,e[s(332)]={x:0,y:0},i(e.$ptzControl,P[s(226)],(function(t){const i=s;t[i(276)](),e[i(335)]=!0,e.$ptzControl[i(311)][i(194)]=i(241);const{posX:r,posY:n}=si(t);e[i(332)]={x:r,y:n}})),i(e[s(307)],P[s(234)],(function(t){const i=s;if(e[i(335)]){t[i(276)]();const{posX:s,posY:r}=si(t),n=e[i(332)].x-s,o=e.tempPtzPosition.y-r;e[i(307)][i(311)][i(367)]=e[i(307)][i(321)]-n+"px",e[i(307)][i(311)][i(232)]=e[i(307)][i(282)]-o+"px",e[i(332)]={x:s,y:r}}})),i(e[s(307)],P.up,(function(t){t.stopPropagation(),G()})),i(window,P.up,(function(t){t[s(276)](),G()}))}}function u(){const i=s;p(),e[i(406)]=setTimeout((function(){const t=i;$e(e[t(322)],t(197),t(217))}),1e3*t[i(240)][i(317)])}function p(){const t=s;e[t(406)]&&(clearTimeout(e[t(406)]),e.delayHiddenTimeout=null)}if(o[s(350)]&&(i(e[s(319)],s(290),(function(e){e[s(276)](),t.togglePerformancePanel(!0)})),i(e[s(259)],"click",(function(e){e[s(276)](),t.togglePerformancePanel(!1)}))),o[s(353)]&&i(e[s(309)],s(290),(function(e){const i=s;e[i(276)](),t[i(400)]()})),o[s(410)]&&(i(e.$faceDetect,s(290),(function(e){const i=s;e[i(276)](),t[i(204)](!0)})),i(e.$faceDetectActive,s(290),(function(e){const i=s;e[i(276)](),t[i(204)](!1)}))),o[s(401)]&&(i(e[s(236)],"click",(function(e){const i=s;e.stopPropagation(),t[i(184)](!0)})),i(e[s(348)],"click",(function(e){e[s(276)](),t.objectDetect(!1)}))),o.aiOcclusion&&(i(e[s(387)],s(290),(function(e){e[s(276)](),t.occlusionDetect(!0)})),i(e.$occlusionDetectActive,s(290),(function(e){const i=s;e[i(276)](),t[i(334)](!1)}))),e[s(406)]=null,t[s(240)][s(361)]&&t[s(240)].controlAutoHide&&hs()&&(i(t[s(199)],s(286),(function(){const i=s;!t[i(357)]&&($e(e[i(322)],i(197),i(411)),u())})),i(t[s(199)],"mousemove",(function(){const i=s;t[i(199)]&&e[i(322)]&&(t.fullscreen?e[i(322)][i(311)][i(197)]===i(217)&&($e(e.$controls,i(197),i(411)),u()):e.$controls[i(311)].display===i(217)&&($e(e[i(322)],i(197),i(411)),u()))})),i(t.$container,s(384),(function(){const t=s;p(),$e(e[t(322)],t(197),t(217))}))),t[s(240)].playType===l[s(273)]){let z=t[s(240)][s(192)].controlType;t._opt.playbackConfig[s(380)]&&(i(e.$speedMenu,s(286),(function(){const t=s;e[t(186)][t(238)][t(222)]("jb-pro-speed-menu-shown")})),i(e[s(372)],s(384),(function(){const t=s;e[t(186)].classList[t(239)]("jb-pro-speed-menu-shown")})),i(e[s(186)],s(290),(function(e){const i=s,r=$s(e);if(r[i(261)]("div.jb-pro-speed-menu-item")){const e=r[i(246)];t.emit(O[i(407)],e.speed)}}))),z===y[s(252)]?(i(e[s(382)],s(290),(function(e){const i=s;e[i(276)](),t.playback&&t[i(360)][i(365)]()})),i(e[s(219)],s(290),(function(e){const i=s;e.stopPropagation(),t[i(360)]&&t[i(360)].expandPrecision()})),i(e[s(220)],s(290),(function(e){const i=s,r=$s(e);r[i(261)](i(225))&&t.playback&&t.playback[i(378)](r[i(246)])})),t[s(240)][s(192)].supportWheel&&i(e.$playbackTimeInner,s(388),(function(e){const i=s;e[i(297)](),(e[i(229)]?e[i(229)]/120:-(e[i(207)]||0)/3)>0?t[i(360)]&&t.playback[i(190)]():t[i(360)]&&t[i(360)][i(365)]()}))):z===y[s(370)]&&(i(e[s(248)],s(290),(function(i){const r=s;if(i[r(397)]!==e.$playbackProgressIndicator){let s=0;const n=ny(e,t.playback[r(369)],i,t[r(305)]());n[r(250)],s=n[r(316)],t[r(360)]&&t.playback[r(378)]({time:s})}})),hs()&&(e[s(264)]=!1,i(e[s(248)],s(385),(function(i){const r=s;$e(e[r(231)],"display","block");const{width:n,time:o}=ny(e,t[r(360)][r(369)],i);e[r(231)][r(402)]=o;const a=e[r(231)][r(277)];n<=a/2?$e(e[r(231)],r(367),0):n>e[r(248)][r(277)]-a/2?$e(e.$playbackProgressTip,"left",e.$playbackProgress-a+"px"):$e(e[r(231)],r(367),n-a/2+"px")})),i(e[s(248)],s(384),(function(t){const i=s;$e(e[i(231)],i(197),i(217))})),i(e[s(284)],s(200),(t=>{e[s(264)]=!0})),i(e.$playbackProgress,s(385),(function(i){const r=s;if(e.isDroging){const{second:s,percentage:n}=ny(e,t[r(360)][r(369)],i);t[r(360)]&&t[r(360)][r(378)]({time:s})}})),i(e[s(248)],s(340),(function(t){const i=s;e.isDroging&&(e[i(264)]=!1)}))))}t[s(258)]()&&(t._opt.playVodConfig[s(380)]&&(i(e[s(372)],s(286),(function(t){const i=s;e[i(186)].classList[i(222)](i(216))})),i(e.$speedMenu,s(384),(function(t){const i=s;e[i(186)][i(238)].remove(i(216))})),i(e[s(186)],s(290),(function(i){const r=s,n=$s(i);if(n[r(261)](r(315))){const s=n.dataset;t[r(188)](s[r(339)]).catch((s=>{const i=r;t[i(280)](e[i(327)],i(318),s)}))}}))),i(e[s(248)],"click",(function(i){const r=s;if(i[r(397)]!==e[r(284)]){let s=0;const n=ny(e,t[r(392)][r(369)],i,t[r(305)]());n[r(250)],s=n[r(316)],t[r(223)](s)[r(260)]((s=>{const i=r;t[i(280)](e[i(327)],i(293),s)}))}})),hs()&&(e.isDroging=!1,i(e[s(248)],s(385),(function(i){const r=s;$e(e[r(231)],r(197),"block");const{width:n,time:o}=ny(e,t[r(392)][r(369)],i);e[r(231)][r(402)]=o;const a=e[r(231)][r(277)];n<=a/2?$e(e[r(231)],r(367),0):n>e[r(248)][r(277)]-a/2?$e(e[r(231)],r(367),e[r(248)]-a+"px"):$e(e[r(231)],"left",n-a/2+"px")})),i(e.$playbackProgress,s(384),(function(t){const i=s;$e(e[i(231)],i(197),i(217))})),i(e[s(284)],"mousedown",(t=>{e[s(264)]=!0})),i(e[s(248)],"mousemove",(function(i){const r=s;if(e.isDroging){const{second:s,percentage:n}=ny(e,t[r(392)][r(369)],i);t.playVodSeek(s)[r(260)]((s=>{const i=r;t[i(280)](e[i(327)],i(293),s)}))}})),i(e[s(248)],s(340),(function(t){const i=s;e.isDroging&&(e[i(264)]=!1)})))),o[s(375)]&&(i(e.$qualityMenu,s(286),(function(t){const i=s;e[i(253)][i(238)][i(222)](i(376))})),i(e[s(214)],"mouseout",(function(t){const i=s;e[i(253)][i(238)][i(239)](i(376))})),i(e[s(253)],s(290),(function(e){const i=s,r=$s(e);if(r[i(261)](i(244))){const e=r[i(246)];t[i(320)]=e[i(375)]}}))),o.scale&&(i(e[s(344)],s(286),(function(t){const i=s;e[i(247)][i(238)][i(222)]("jb-pro-scale-menu-shown")})),i(e[s(344)],"mouseout",(function(t){const i=s;e[i(247)][i(238)][i(239)](i(306))})),i(e[s(247)],s(290),(function(e){const i=s,r=$s(e);if(r.matches("div.jb-pro-scale-menu-item")){const e=r[i(246)];t[i(358)](e[i(249)])}}))),o[s(243)]&&(i(e[s(408)],s(290),(function(e){e.stopPropagation(),t.zooming=!0})),i(e[s(342)],s(290),(function(e){const i=s;e[i(276)](),t[i(404)]=!1}))),i(e[s(399)],s(290),(function(e){const i=s;e[i(276)](),t[i(243)]&&t.zoom.expandPrecision()})),i(e.$zoomNarrow,"click",(function(e){const i=s;e[i(276)](),t[i(243)]&&t[i(243)].narrowPrecision()})),i(e[s(213)],s(290),(function(e){const i=s;e.stopPropagation(),t[i(404)]=!1})),o.close&&i(e[s(281)],s(290),(function(e){const i=s;e[i(276)](),t[i(230)]()})),i(e[s(221)],"click",(function(t){const i=s;t[i(276)](),e[i(390)][i(402)]="",$e(e[i(202)],i(197),i(217))}));const f=i(e[s(395)],s(290),(function(t){const i=s;t[i(276)](),yn(e[i(308)],"active"),gn(e[i(395)],i(235)),$e(e.$performancePanelInfo1,i(197),i(411)),$e(e.$performancePanelInfo2,i(197),i(217))}));f&&r[s(341)](f);const m=i(e[s(308)],s(290),(function(t){const i=s;t[i(276)](),yn(e.$performancePanelBtn1,i(235)),gn(e[i(308)],i(235)),$e(e[i(379)],"display",i(217)),$e(e[i(195)],i(197),i(411))}));m&&r[s(341)](m)}(t,this),t[e(660)][e(318)]&&hs()&&((t,e)=>{const s=gy,{events:{proxy:i}}=t;let r={};function n(t,e){r[t]?r[t].push(e):r[t]=[e]}e[s(347)]=r,n(nt[s(364)],(()=>{const e=s;t[e(354)]&&(t[e(354)]=!1)})),n(nt.arrowUp,(()=>{const e=s;t[e(369)]+=t[e(351)].hotKeyVolumeStep})),n(nt[s(362)],(()=>{const e=s;t.volume-=t[e(351)].hotKeyVolumeStep})),t[s(363)]()&&(n(nt[s(345)],(()=>{const e=s;t[e(358)](t[e(351)].hotKeySeekStep)})),n(nt[s(371)],(()=>{const e=s;t[e(361)](t[e(351)].hotKeySeekStep)}))),i(window,s(359),(t=>{const i=s;if(e[i(348)]){const e=document[i(350)][i(344)].toUpperCase(),s=document.activeElement.getAttribute(i(343));if(e!==i(342)&&e!==i(353)&&""!==s&&s!==i(366)){const e=r[t.keyCode];e&&(t[i(365)](),e[i(370)]((t=>t())))}}}))})(t,this),this.btnIndex=0,this[e(648)](),Ks(t[e(660)][e(546)])&&this[e(324)](t[e(660)][e(546)]),Ks(t[e(660)][e(539)])&&this[e(680)](t[e(660)][e(539)]),t[e(660)][e(426)]&&(this[e(603)]=!0,this[e(446)]()),t._opt[e(319)]&&this[e(551)](),this.updateControlSize(),this[e(441)]=e(410),this[e(655)][e(665)](e(460),e(686))}destroy(){const t=vy;if(this[t(502)]&&(clearTimeout(this[t(502)]),this[t(502)]=null),["up","right",t(570),t(404),t(466),"right-up",t(355),"right-down"][t(561)]((e=>{const s=t;let i=this[s(556)+e+s(520)];i&&(clearTimeout(i),i=null)})),this[t(584)]&&(clearTimeout(this[t(584)]),this[t(584)]=null),this[t(325)]&&(clearTimeout(this[t(325)]),this[t(325)]=null),this[t(536)]&&(clearTimeout(this[t(536)]),this[t(536)]=null),this[t(586)]&&(clearTimeout(this[t(586)]),this[t(586)]=null),this.ptzFocusFarTimeout&&(clearTimeout(this[t(431)]),this[t(431)]=null),this[t(390)]&&(clearTimeout(this[t(390)]),this[t(390)]=null),this[t(601)][t(640)]>0&&(this.eventListenList.forEach((t=>t&&t())),this[t(601)]=[]),this.$performancePanel){this[t(542)][t(549)]="";if(!Tn(this[t(542)])){const e=this[t(655)][t(465)][t(332)](".jb-pro-performance-panel");e&&this[t(655)][t(465)]&&this[t(655)][t(465)].removeChild(e)}}if(this[t(517)]){if(!Tn(this[t(517)])){const e=this[t(655)].$container[t(332)](t(569));e&&this.player[t(465)]&&this[t(655)].$container.removeChild(e)}}if(this[t(361)]){this.$loading[t(549)]="";if(!Tn(this.$loading)){const e=this.player.$container[t(332)](t(599));e&&this.player[t(465)]&&this.player[t(465)][t(443)](e)}}if(this[t(610)]){this[t(610)][t(549)]="";if(!Tn(this[t(610)])){const e=this.player[t(465)][t(332)](".jb-pro-loading-bg");e&&this[t(655)].$container&&this[t(655)][t(465)][t(443)](e)}}if(this[t(501)]&&(this.$speed[t(549)]=""),this[t(333)]){this[t(333)][t(549)]="";if(!Tn(this[t(333)])){const e=this.player.$container.querySelector(t(663));e&&this[t(655)][t(465)]&&this[t(655)][t(465)][t(443)](e)}}if(this[t(593)]){if(!Tn(this[t(593)])){const e=this[t(655)][t(465)].querySelector(t(544));e&&this[t(655)][t(465)]&&this[t(655)][t(465)][t(443)](e)}}if(this[t(342)]){this[t(342)].innerHTML="";if(!Tn(this[t(342)])){const e=this[t(655)][t(465)][t(332)](t(498));e&&this.player[t(465)]&&this[t(655)][t(465)][t(443)](e)}}if(this[t(622)]){this.$ptzControl.innerHTML="";if(!Tn(this[t(622)])){const e=this[t(655)][t(465)].querySelector(t(507));e&&this[t(655)][t(465)]&&this[t(655)][t(465)][t(443)](e)}}if(this[t(524)]){this[t(524)][t(549)]="";if(!Tn(this[t(524)])){const e=this[t(655)].$container[t(332)](t(676));e&&this[t(655)][t(465)]&&this[t(655)][t(465)][t(443)](e)}}if(this[t(317)]){this[t(317)].innerHTML="";if(!Tn(this[t(317)])){const e=this[t(655)].$container[t(332)](t(645));e&&this[t(655)][t(465)]&&this[t(655)].$container[t(443)](e)}}if(this[t(415)]){this[t(415)][t(549)]="";if(!Tn(this[t(415)])){const e=this[t(655)][t(465)][t(332)](t(565));e&&this[t(655)][t(465)]&&this[t(655)].$container.removeChild(e)}}if(this[t(571)]){this[t(571)][t(549)]="";if(!Tn(this[t(571)])){const e=this[t(655)][t(465)][t(332)](t(323));e&&this[t(655)][t(465)]&&this.player[t(465)][t(443)](e)}}this[t(453)]=null,this[t(480)]=null,this[t(365)]=0,this.extendBtnList=null,this.kbpsShow="",this[t(655)][t(465)]&&(this.player.$container[t(510)][t(481)](t(414)),this.player[t(465)][t(510)][t(481)]("jb-pro-controls-show")),this[t(655)][t(665)](t(460),t(377))}get[yy(517)](){const t=yy;return!this[t(453)][t(517)]&&(this[t(453)][t(517)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-poster")),this[t(453)][t(517)]}get[yy(610)](){const t=yy;return!this[t(453)][t(610)]&&(this[t(453)][t(610)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(374))),this[t(453)][t(610)]}get[yy(674)](){const t=yy;return!this[t(453)][t(674)]&&(this.$domMap.$loadingBgImage=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](".jb-pro-loading-bg-image")),this[t(453)][t(674)]}get[yy(361)](){const t=yy;return!this[t(453)][t(361)]&&(this.$domMap[t(361)]=this[t(655)].$container&&this[t(655)][t(465)].querySelector(t(599))),this.$domMap[t(361)]}get $loadingText(){const t=yy;return!this.$domMap[t(581)]&&(this.$domMap[t(581)]=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(463))),this[t(453)][t(581)]}get $play(){const t=yy;return!this.$domMap[t(369)]&&(this[t(453)][t(369)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-play")),this[t(453)][t(369)]}get[yy(593)](){const t=yy;return!this[t(453)][t(593)]&&(this[t(453)][t(593)]=this.player.$container&&this[t(655)][t(465)].querySelector(t(544))),this[t(453)][t(593)]}get[yy(342)](){const t=yy;return!this[t(453)][t(342)]&&(this[t(453)][t(342)]=this[t(655)].$container&&this[t(655)][t(465)][t(332)](t(498))),this[t(453)][t(342)]}get[yy(530)](){const t=yy;return!this[t(453)].$recordingTime&&(this[t(453)][t(530)]=this.player.$container&&this[t(655)][t(465)][t(332)](".jb-pro-recording-time")),this[t(453)][t(530)]}get $recordingStop(){const t=yy;return!this[t(453)][t(499)]&&(this[t(453)].$recordingStop=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(589))),this[t(453)][t(499)]}get $pause(){const t=yy;return!this[t(453)].$pause&&(this[t(453)].$pause=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(311))),this.$domMap.$pause}get $controls(){const t=yy;return!this[t(453)][t(333)]&&(this[t(453)][t(333)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(663))),this[t(453)][t(333)]}get[yy(354)](){const t=yy;return!this[t(453)][t(354)]&&(this[t(453)][t(354)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(442))),this.$domMap[t(354)]}get $controlsLeft(){const t=yy;return!this.$domMap[t(452)]&&(this[t(453)].$controlsLeft=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(670))),this.$domMap[t(452)]}get $controlsRight(){const t=yy;return!this[t(453)][t(646)]&&(this[t(453)][t(646)]=this[t(655)][t(465)]&&this.player[t(465)].querySelector(".jb-pro-controls-right")),this[t(453)][t(646)]}get $volume(){const t=yy;return!this[t(453)][t(632)]&&(this[t(453)][t(632)]=this.player[t(465)]&&this[t(655)][t(465)].querySelector(t(339))),this[t(453)][t(632)]}get[yy(538)](){const t=yy;return!this[t(453)].$volumePanelWrap&&(this.$domMap[t(538)]=this.player.$container&&this[t(655)][t(465)][t(332)](t(348))),this[t(453)][t(538)]}get[yy(409)](){const t=yy;return!this[t(453)][t(409)]&&(this.$domMap[t(409)]=this[t(655)].$container&&this.player[t(465)][t(332)](t(682))),this.$domMap.$volumePanelText}get $volumePanel(){const t=yy;return!this[t(453)][t(379)]&&(this[t(453)][t(379)]=this.player.$container&&this[t(655)][t(465)].querySelector(t(402))),this.$domMap[t(379)]}get[yy(406)](){const t=yy;return!this[t(453)][t(406)]&&(this[t(453)][t(406)]=this[t(655)].$container&&this[t(655)].$container[t(332)](".jb-pro-volume-panel-handle")),this[t(453)][t(406)]}get[yy(671)](){const t=yy;return!this.$domMap[t(671)]&&(this.$domMap[t(671)]=this[t(655)].$container&&this[t(655)].$container[t(332)](t(472))),this[t(453)][t(671)]}get[yy(384)](){const t=yy;return!this[t(453)].$volumeOff&&(this[t(453)][t(384)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-icon-mute")),this[t(453)][t(384)]}get[yy(613)](){const t=yy;return!this[t(453)].$fullscreen&&(this[t(453)][t(613)]=this.player.$container&&this[t(655)][t(465)].querySelector(t(386))),this[t(453)][t(613)]}get[yy(447)](){const t=yy;return!this.$domMap[t(447)]&&(this.$domMap[t(447)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](".jb-pro-fullscreen-exit")),this[t(453)][t(447)]}get $record(){const t=yy;return!this[t(453)][t(620)]&&(this[t(453)][t(620)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(336))),this[t(453)].$record}get[yy(578)](){const t=yy;return!this[t(453)].$recordStop&&(this[t(453)][t(578)]=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(340))),this[t(453)][t(578)]}get[yy(427)](){const t=yy;return!this[t(453)][t(427)]&&(this.$domMap.$screenshot=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(419))),this.$domMap[t(427)]}get[yy(501)](){const t=yy;return!this[t(453)][t(501)]&&(this[t(453)][t(501)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](".jb-pro-speed")),this[t(453)][t(501)]}get[yy(616)](){const t=yy;return!this[t(453)][t(616)]&&(this[t(453)][t(616)]=this.player[t(465)]&&this[t(655)].$container[t(332)](".jb-pro-controls-item-html")),this[t(453)][t(616)]}get[yy(596)](){const t=yy;return!this.$domMap[t(596)]&&(this.$domMap[t(596)]=this.player[t(465)]&&this[t(655)].$container[t(332)](t(428))),this.$domMap[t(596)]}get[yy(629)](){const t=yy;return!this.$domMap[t(629)]&&(this[t(453)][t(629)]=this[t(655)].$container&&this[t(655)].$container[t(332)](t(423))),this[t(453)][t(629)]}get $playbackTimeScroll(){const t=yy;return!this[t(453)][t(405)]&&(this[t(453)][t(405)]=this[t(655)].$container&&this[t(655)].$container[t(332)](t(401))),this[t(453)][t(405)]}get[yy(321)](){const t=yy;return!this[t(453)][t(321)]&&(this[t(453)][t(321)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-controls-playback-time-list")),this[t(453)][t(321)]}get[yy(568)](){const t=yy;return!this[t(453)].$playbackTimeListOne&&(this.$domMap[t(568)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(615))),this[t(453)].$playbackTimeListOne}get $playbackTimeListSecond(){const t=yy;return!this[t(453)][t(370)]&&(this[t(453)][t(370)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(376))),this[t(453)][t(370)]}get[yy(525)](){const t=yy;return!this[t(453)][t(525)]&&(this.$domMap[t(525)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(403))),this[t(453)][t(525)]}get $playbackCurrentTimeText(){const t=yy;return!this.$domMap[t(335)]&&(this[t(453)].$playbackCurrentTimeText=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(650))),this[t(453)][t(335)]}get[yy(653)](){const t=yy;return!this[t(453)][t(653)]&&(this[t(453)][t(653)]=this.player[t(465)]&&this[t(655)][t(465)][t(332)](t(627))),this[t(453)][t(653)]}get $playbackNarrow(){const t=yy;return!this[t(453)].$playbackNarrow&&(this[t(453)].$playbackNarrow=this.player[t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-playback-narrow")),this.$domMap[t(564)]}get $playbackExpand(){const t=yy;return!this.$domMap[t(433)]&&(this[t(453)][t(433)]=this.player[t(465)]&&this.player[t(465)][t(332)](t(662))),this[t(453)][t(433)]}get[yy(594)](){const t=yy;return!this[t(453)][t(594)]&&(this[t(453)][t(594)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-ptz")),this[t(453)][t(594)]}get[yy(623)](){const t=yy;return!this[t(453)][t(623)]&&(this[t(453)][t(623)]=this[t(655)][t(465)]&&this[t(655)].$container.querySelector(t(511))),this[t(453)][t(623)]}get[yy(622)](){const t=yy;return!this[t(453)][t(622)]&&(this[t(453)][t(622)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(507))),this[t(453)][t(622)]}get $ptzBgActive(){const t=yy;return!this[t(453)][t(559)]&&(this.$domMap[t(559)]=this.player[t(465)]&&this[t(655)].$container[t(332)](t(412))),this[t(453)].$ptzBgActive}get[yy(678)](){const t=yy;return!this[t(453)][t(678)]&&(this[t(453)].$ptzControlCircular=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(350))),this[t(453)][t(678)]}get[yy(352)](){const t=yy;return!this.$domMap[t(352)]&&(this[t(453)].$ptzArrows=this.player[t(465)]&&this[t(655)].$container[t(642)](t(591))),this[t(453)][t(352)]}get[yy(683)](){const t=yy;return!this[t(453)].$ptzExpand&&(this.$domMap[t(683)]=this.player[t(465)]&&this[t(655)].$container.querySelector(".jb-pro-ptz-expand")),this[t(453)].$ptzExpand}get[yy(358)](){const t=yy;return!this.$domMap[t(358)]&&(this[t(453)].$ptzNarrow=this.player[t(465)]&&this[t(655)][t(465)].querySelector(".jb-pro-ptz-narrow")),this[t(453)][t(358)]}get[yy(583)](){const t=yy;return!this[t(453)][t(583)]&&(this[t(453)][t(583)]=this.player[t(465)]&&this.player.$container[t(332)](".jb-pro-ptz-aperture-far")),this[t(453)][t(583)]}get $ptzApertureNear(){const t=yy;return!this[t(453)][t(554)]&&(this[t(453)][t(554)]=this[t(655)][t(465)]&&this.player[t(465)].querySelector(t(341))),this[t(453)][t(554)]}get[yy(451)](){const t=yy;return!this.$domMap[t(451)]&&(this.$domMap[t(451)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(383))),this[t(453)][t(451)]}get $ptzFocusNear(){const t=yy;return!this[t(453)][t(516)]&&(this[t(453)][t(516)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(639))),this[t(453)][t(516)]}get[yy(438)](){const t=yy;return!this[t(453)].$ptzCruisePlay&&(this[t(453)][t(438)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(562))),this[t(453)][t(438)]}get $ptzCruisePause(){const t=yy;return!this[t(453)].$ptzCruisePause&&(this[t(453)][t(681)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(320))),this[t(453)][t(681)]}get[yy(590)](){const t=yy;return!this.$domMap[t(590)]&&(this.$domMap[t(590)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(388))),this.$domMap.$ptzFogOpen}get[yy(363)](){const t=yy;return!this[t(453)][t(363)]&&(this[t(453)][t(363)]=this[t(655)][t(465)]&&this[t(655)].$container.querySelector(".jb-pro-ptz-fog-close")),this[t(453)][t(363)]}get[yy(421)](){const t=yy;return!this.$domMap[t(421)]&&(this.$domMap.$ptzWiperOpen=this.player[t(465)]&&this.player.$container.querySelector(t(411))),this[t(453)][t(421)]}get[yy(347)](){const t=yy;return!this[t(453)][t(347)]&&(this[t(453)][t(347)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(515))),this[t(453)].$ptzWiperClose}get[yy(399)](){const t=yy;return!this[t(453)][t(399)]&&(this[t(453)][t(399)]=this.player.$container&&this[t(655)][t(465)][t(332)](".jb-pro-quality-icon-text")),this.$domMap.$qualityText}get[yy(523)](){const t=yy;return!this.$domMap[t(523)]&&(this.$domMap.$qualityMenu=this[t(655)].$container&&this.player[t(465)][t(332)](t(677))),this[t(453)][t(523)]}get[yy(439)](){const t=yy;return!this[t(453)].$qualityMenuList&&(this.$domMap[t(439)]=this[t(655)].$container&&this[t(655)][t(465)].querySelector(t(416))),this[t(453)].$qualityMenuList}get[yy(579)](){const t=yy;return!this[t(453)][t(579)]&&(this.$domMap[t(579)]=this.player[t(465)]&&this.player.$container[t(332)](".jb-pro-scale-icon-text")),this[t(453)][t(579)]}get[yy(609)](){const t=yy;return!this[t(453)][t(609)]&&(this[t(453)][t(609)]=this.player[t(465)]&&this.player[t(465)][t(332)](t(638))),this.$domMap.$scaleMenu}get[yy(457)](){const t=yy;return!this[t(453)].$scaleMenuList&&(this[t(453)][t(457)]=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(".jb-pro-scale-menu-list")),this[t(453)].$scaleMenuList}get[yy(519)](){const t=yy;return!this.$domMap[t(519)]&&(this.$domMap[t(519)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(658))),this[t(453)].$zoom}get $zoomStop(){const t=yy;return!this[t(453)][t(357)]&&(this[t(453)].$zoomStop=this.player.$container&&this[t(655)][t(465)][t(332)](t(608))),this[t(453)][t(357)]}get[yy(545)](){const t=yy;return!this[t(453)][t(545)]&&(this[t(453)].$zoomNarrow=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(475))),this[t(453)].$zoomNarrow}get $zoomExpand(){const t=yy;return!this[t(453)][t(636)]&&(this[t(453)].$zoomExpand=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(573))),this[t(453)][t(636)]}get[yy(684)](){const t=yy;return!this[t(453)][t(684)]&&(this[t(453)].$zoomStop2=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(469))),this[t(453)][t(684)]}get[yy(425)](){const t=yy;return!this.$domMap[t(425)]&&(this.$domMap.$close=this[t(655)].$container&&this[t(655)][t(465)][t(332)](".jb-pro-close")),this.$domMap[t(425)]}get[yy(524)](){const t=yy;return!this[t(453)][t(524)]&&(this[t(453)][t(524)]=this.player[t(465)]&&this[t(655)][t(465)].querySelector(t(676))),this.$domMap[t(524)]}get[yy(542)](){const t=yy;return!this.$domMap[t(542)]&&(this[t(453)][t(542)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(468))),this.$domMap[t(542)]}get[yy(476)](){const t=yy;return!this[t(453)].$performancePanelBtn1&&(this[t(453)][t(476)]=this[t(655)][t(465)]&&this.player[t(465)].querySelector(t(606))),this[t(453)][t(476)]}get[yy(450)](){const t=yy;return!this.$domMap[t(450)]&&(this[t(453)][t(450)]=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(t(529))),this[t(453)][t(450)]}get[yy(607)](){const t=yy;return!this[t(453)][t(607)]&&(this.$domMap.$performancePanelInfo1=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-performance-panel-info-1")),this[t(453)][t(607)]}get $performancePanelInfo2(){const t=yy;return!this[t(453)][t(661)]&&(this[t(453)][t(661)]=this[t(655)][t(465)]&&this.player.$container[t(332)](t(449))),this[t(453)][t(661)]}get[yy(514)](){const t=yy;return!this[t(453)].$performance&&(this[t(453)][t(514)]=this[t(655)][t(465)]&&this[t(655)].$container.querySelector(t(618))),this.$domMap[t(514)]}get[yy(326)](){const t=yy;return!this.$domMap[t(326)]&&(this[t(453)][t(326)]=this.player[t(465)]&&this[t(655)].$container[t(332)](t(649))),this.$domMap[t(326)]}get[yy(485)](){const t=yy;return!this[t(453)][t(485)]&&(this[t(453)][t(485)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(398))),this[t(453)][t(485)]}get[yy(430)](){const t=yy;return!this[t(453)].$faceDetectActive&&(this.$domMap[t(430)]=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](".jb-pro-face-active")),this.$domMap[t(430)]}get $objectDetect(){const t=yy;return!this[t(453)][t(614)]&&(this[t(453)].$objectDetect=this[t(655)][t(465)]&&this[t(655)].$container.querySelector(".jb-pro-object")),this[t(453)][t(614)]}get[yy(486)](){const t=yy;return!this[t(453)].$objectDetectActive&&(this[t(453)].$objectDetectActive=this[t(655)].$container&&this[t(655)][t(465)][t(332)](t(598))),this[t(453)][t(486)]}get[yy(574)](){const t=yy;return!this[t(453)][t(574)]&&(this[t(453)][t(574)]=this[t(655)][t(465)]&&this.player.$container[t(332)](t(417))),this[t(453)][t(574)]}get[yy(440)](){const t=yy;return!this[t(453)][t(440)]&&(this[t(453)][t(440)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](".jb-pro-occlusion-active")),this[t(453)][t(440)]}get[yy(317)](){const t=yy;return!this[t(453)].$contextmenus&&(this[t(453)].$contextmenus=this[t(655)].$container&&this[t(655)][t(465)].querySelector(t(645))),this[t(453)][t(317)]}get[yy(381)](){const t=yy;return!this[t(453)][t(381)]&&(this[t(453)][t(381)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](".jb-pro-speed-icon-text")),this[t(453)][t(381)]}get[yy(328)](){const t=yy;return!this.$domMap[t(328)]&&(this.$domMap.$speedMenu=this[t(655)][t(465)]&&this[t(655)].$container[t(332)](t(611))),this[t(453)][t(328)]}get[yy(634)](){const t=yy;return!this[t(453)][t(634)]&&(this[t(453)][t(634)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](".jb-pro-speed-menu-list")),this[t(453)][t(634)]}get[yy(482)](){const t=yy;return!this[t(453)][t(482)]&&(this[t(453)][t(482)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(659))),this[t(453)].$logSave}get[yy(541)](){const t=yy;return!this[t(453)].$playbackProgress&&(this[t(453)].$playbackProgress=this.player[t(465)]&&this[t(655)][t(465)].querySelector(".jb-pro-control-progress-simple")),this[t(453)][t(541)]}get[yy(338)](){const t=yy;return!this[t(453)][t(338)]&&(this[t(453)].$playbackProgressTip=this.player[t(465)]&&this[t(655)].$container.querySelector(t(327))),this[t(453)].$playbackProgressTip}get $playbackProgressHover(){const t=yy;return!this[t(453)][t(437)]&&(this[t(453)][t(437)]=this[t(655)].$container&&this[t(655)][t(465)].querySelector(t(356))),this.$domMap[t(437)]}get[yy(346)](){const t=yy;return!this.$domMap[t(346)]&&(this[t(453)][t(346)]=this[t(655)].$container&&this[t(655)].$container.querySelector(".jb-pro-progress-played")),this[t(453)][t(346)]}get[yy(349)](){const t=yy;return!this.$domMap[t(349)]&&(this.$domMap[t(349)]=this[t(655)].$container&&this[t(655)][t(465)].querySelector(t(496))),this[t(453)][t(349)]}get[yy(534)](){const t=yy;return!this[t(453)][t(534)]&&(this[t(453)][t(534)]=this[t(655)][t(465)]&&this[t(655)][t(465)].querySelector(".jb-pro-progress-indicator")),this[t(453)].$playbackProgressIndicator}get[yy(493)](){const t=yy;return!this[t(453)][t(493)]&&(this[t(453)][t(493)]=this[t(655)][t(465)]&&this.player[t(465)].querySelector(t(582))),this[t(453)][t(493)]}get[yy(415)](){const t=yy;return!this.$domMap.$tipsMessage&&(this[t(453)][t(415)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(332)](t(565))),this[t(453)][t(415)]}get[yy(445)](){const t=yy;return!this[t(453)][t(445)]&&(this.$domMap[t(445)]=this[t(655)][t(465)]&&this.player[t(465)][t(332)](t(470))),this[t(453)][t(445)]}get[yy(444)](){const t=yy;return!this[t(453)][t(444)]&&(this[t(453)].$tipsMessageContent=this[t(655)].$container&&this.player.$container.querySelector(t(504))),this[t(453)][t(444)]}get[yy(571)](){const t=yy;return!this[t(453)][t(571)]&&(this[t(453)][t(571)]=this.player[t(465)]&&this[t(655)][t(465)].querySelector(".jb-pro-extend-dom")),this[t(453)][t(571)]}get $qualityMenuItems(){const t=yy;return!this[t(453)].$qualityMenuItems&&(this[t(453)][t(494)]=this[t(655)][t(465)]&&this[t(655)][t(465)][t(642)](t(644))),this[t(453)][t(494)]}get[yy(432)](){const t=yy;return!this[t(453)][t(432)]&&(this[t(453)][t(432)]=this[t(655)][t(465)]&&this[t(655)].$container[t(642)](t(473))),this[t(453)][t(432)]}get[yy(312)](){const t=yy;return!this.$domMap[t(312)]&&(this[t(453)].$speedMenuItems=this[t(655)][t(465)]&&this.player[t(465)][t(642)](t(491))),this[t(453)][t(312)]}get[yy(503)](){const t=yy;return this[t(333)]&&this[t(333)][t(506)]()||{width:0,height:0}}get controlsInnerRect(){const t=yy;return this[t(354)]&&this[t(354)][t(506)]()||{width:0,height:0}}get controlsLeftRect(){const t=yy;return this[t(452)]&&this[t(452)][t(506)]()||{width:0,height:0}}get[yy(337)](){const t=yy;return this[t(646)]&&this[t(646)][t(506)]()||{width:0,height:0}}get[yy(557)](){const t=yy;return this[t(629)]&&this[t(629)][t(506)]()||{width:0,height:0}}get[yy(316)](){return this[yy(653)]&&this.$controlsPlaybackBtns.getBoundingClientRect()||{width:0,height:0}}getBtnIndex(){return this[yy(365)]++}[yy(672)](){const t=yy,e=this[t(655)];e.$container.style[t(329)]=t(459);const s=e[t(625)],i=e[t(330)],r=s/i,n=e[t(651)][t(479)][t(625)]/e[t(651)].$videoElement.height;if(r>n){const r=(s-i*n)/2;e[t(465)][t(528)][t(329)]="0 "+r+"px"}else{const r=(i-s/n)/2;e[t(465)].style.padding=r+t(434)}}initLoadingBackground(){const t=yy,e=this[t(655)];e[t(660)][t(360)]&&e[t(660)][t(315)]&&e[t(660)][t(429)]&&(e.debugLog(this[t(605)],t(464)),this[t(655)][t(660)][t(657)]===t(471)||as()?e[t(400)]()===f[t(641)]?this[t(436)]():e[t(400)]()===f[t(651)]&&this[t(553)]():this[t(505)](),bn(this[t(610)],t(422),t(566)),e[t(660)][t(360)]="")}[yy(458)](){const t=yy,e=this[t(674)];e&&e[t(371)]&&e[t(625)]>0&&e.height>0&&Ze(this[t(610)],t(422),!1)!==t(580)&&(this[t(655)][t(665)](this[t(605)],t(535)),this[t(655)][t(660)].aspectRatio===t(471)||as()?this[t(655)][t(400)]()===f[t(641)]?this[t(436)]():this[t(655)][t(400)]()===f.video&&this[t(553)]():this._initLoadingBackgroundForRatio())}initLoadingIconStyle(t){const e=yy,s=this[e(655)][e(465)].querySelector(e(531));s&&(t[e(625)]&&bn(s,"width",t[e(625)]+"px"),t[e(330)]&&bn(s,e(330),t[e(330)]+"px"),t.background&&bn(s,e(380),e(392)+t[e(637)]+'")'),!1===t[e(477)]&&(bn(s,e(488),"none"),bn(s,e(643),0),bn(s,e(314),e(456)),bn(s,e(667),1)))}[yy(505)](){const t=yy,e=this[t(655)][t(660)].aspectRatio[t(560)](":")[t(462)](Number),s=this[t(655)][t(685)](),i=this[t(655)][t(576)](),r=s.width,n=s[t(330)],o=this[t(674)],a={width:this[t(655)][t(660)].loadingBackgroundWidth,height:this[t(655)][t(660)][t(429)]},h=a[t(625)]/a[t(330)],l=e[0]/e[1];if(this[t(655)]._opt[t(360)]&&(o.src=this[t(655)][t(660)][t(360)]),h>l){const e=l*a.height/a[t(625)];o.style[t(625)]=100*e+"%",o[t(528)][t(330)]=t(563)+i+t(420),o[t(528)][t(329)]="0 "+(r-r*e)/2+"px"}else{const e=a[t(625)]/l/a[t(330)];o[t(528)][t(625)]=t(387),o[t(528)][t(330)]=t(521)+100*e+t(575)+i+t(420),o[t(528)][t(329)]=(n-n*e)/2+t(434)}}[yy(436)](){const t=yy,e=this[t(655)],s=e[t(660)],i=e[t(685)](),r=i[t(330)],n=i.width,o=this[t(674)],a={width:this[t(655)]._opt[t(315)],height:this[t(655)][t(660)][t(429)]};let h=a[t(625)],l=a[t(330)];const c=s[t(474)];let d=(n-h)/2,u=(r-l)/2;(270===c||90===c)&&(h=a.height,l=a[t(625)]);const p=n/h,f=r/l;let m=p>f?f:p;Si(s[t(547)])&&p!==f&&(m=p+","+f),s[t(372)]&&(m=p>f?p:f);let g=t(364)+m+")";s.mirrorRotate===t(580)&&c&&(g+=t(467)+c+"deg)"),s[t(635)]===t(509)?g+=" rotateY(180deg)":s[t(635)]===t(577)&&(g+=t(526)),o[t(625)]=a[t(625)],o[t(330)]=a.height,e[t(660)][t(360)]&&(o[t(371)]=e[t(660)].loadingBackground),o[t(528)].padding="0",o[t(528)][t(617)]=g,o[t(528)][t(404)]=d+"px",o[t(528)].top=u+"px"}_initLoadingBackgroundForVideo(){const t=yy,e=this[t(655)],s=e[t(660)],i=e[t(685)](),r=i[t(625)],n=i[t(330)];let o=i[t(625)],a=i[t(330)];const h=s.rotate,l=this[t(674)];(270===h||90===h)&&(o=n,a=r),l[t(625)]=o,l[t(330)]=a,e._opt[t(360)]&&(l.src=e._opt.loadingBackground);let c=(r-o)/2,d=(n-a)/2,u=t(418);!s[t(547)]&&(u="fill"),s.isFullResize&&(u="none");let p="";"none"===s[t(635)]&&h&&(p+=t(467)+h+"deg)"),s.mirrorRotate===t(509)?p+=t(654):s[t(635)]===t(577)&&(p+=" rotateX(180deg)"),this.player[t(660)][t(413)]&&(l[t(528)][t(631)]=u),l[t(528)].transform=p,l[t(528)][t(329)]="0",l[t(528)][t(404)]=c+"px",l[t(528)][t(630)]=d+"px"}[yy(588)](t){const e=yy;let s=!0;if(!t.name&&(this.player.debugWarn(e(460),e(435)),s=!1),s){-1!==this[e(600)][e(652)]((s=>s[e(567)]===t[e(567)]))&&(this[e(655)][e(673)](e(460),"extend button name: "+t.name+e(353)),s=!1)}return s&&!t[e(585)]&&(this[e(655)][e(673)]("Control","extend button icon is required"),s=!1),s}[yy(394)](){const t=yy;let e=arguments[t(640)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=gi(Et);if(e=Object[t(345)]({},s,e),!this[t(588)](e))return;const i=e[t(567)]||"",r=this.$controlsRight,n=e[t(664)]||Kt[t(484)],o=e[t(612)]&&e.activeClick,a=t(587)+i+t(679)+(e[t(585)]?t(508)+i+'">\n                                <i class="jb-pro-icon jb-pro-icon-extend-'+i+t(373)+(e.iconTitle?t(366)+e[t(656)]+t(344):"")+t(624):"")+t(604)+(e[t(612)]?t(508)+i+t(628)+i+t(550)+(e[t(533)]?t(366)+e[t(533)]+t(344):"")+"\n                            </div>":"")+t(532),h=Array[t(334)](r[t(455)])[e.index];h?h[t(368)]("beforebegin",a):vn(r,a);const l=r[t(332)](".jb-pro-controls-item-wrap-"+i),c=e[t(585)]?r[t(332)](t(461)+i):null,d=e[t(585)]?r[t(332)](t(393)+i):null,u=e.activeIcon?r[t(332)](t(461)+i+t(602)):null,p=e.activeIcon?r.querySelector(t(393)+i+t(602)):null,{events:{proxy:f}}=this[t(655)];e[t(585)]&&(bn(c,t(637),t(619)+e[t(585)]+t(647)),bn(c,t(489),"100% 100%"),n===Kt[t(362)]?bn(d,t(422),t(378)):bn(d,t(422),"none"),e[t(389)]&&(f(c,t(513),(()=>{const s=t;bn(c,s(637),s(619)+e[s(389)]+") no-repeat center"),bn(c,s(489),s(512))})),f(c,t(633),(()=>{const s=t;bn(c,s(637),s(619)+e.icon+") no-repeat center"),bn(c,"background-size",s(512))})))),e[t(612)]&&(bn(u,"background",t(619)+e.activeIcon+") no-repeat center"),bn(u,t(489),"100% 100%"),bn(p,t(422),t(580)),e[t(555)]&&(f(u,t(513),(()=>{const s=t;bn(u,s(637),s(619)+e[s(555)]+") no-repeat center"),bn(u,s(489),"100% 100%")})),f(u,t(633),(()=>{const s=t;bn(u,"background",s(619)+e[s(612)]+s(647)),bn(u,"background-size",s(512))})))),e[t(543)]&&c&&f(c,t(543),(s=>{const i=t;s[i(540)](),o&&(bn(d,i(422),i(580)),bn(p,i(422),"flex")),this[i(655)].isInMulti()?e.click.call(this[i(655)],s,this[i(655)][i(660)][i(527)]):e.click[i(424)](this[i(655)],s)})),e[t(668)]&&u&&f(u,t(543),(s=>{const i=t;s[i(540)](),bn(d,i(422),i(378)),bn(p,"display",i(580)),this[i(655)][i(375)]()?e.activeClick[i(424)](this[i(655)],s,this[i(655)][i(660)][i(527)]):e.activeClick[i(424)](this[i(655)],s)})),this[t(600)][t(454)]({name:i,createdMoment:n,$iconContainer:l,$iconWrap:d,$activeIconWrap:p})}[yy(669)](t,e){const s=yy,i=this[s(600)].find((e=>e.name===t));i&&i[s(483)]&&i.$iconWrap&&(!Ls(e)&&(e=Ze(i.$activeIconWrap,"display",!1)===s(580)),e?(bn(i[s(351)],"display",s(580)),bn(i[s(483)],"display","flex")):(bn(i[s(351)],s(422),s(378)),bn(i[s(483)],s(422),s(580))))}getExtendBtnActive(t){const e=yy,s=this.extendBtnList[e(397)]((s=>s[e(567)]===t));let i=!1;return s&&s[e(483)]&&(i=Ze(s[e(483)],"display",!1)!==e(580)),i}addExtendDom(t){const e=yy;if(t.html){const s=e(572)+t[e(621)]+"\n                </div>\n            ";this[e(655)][e(465)][e(368)]("beforeend",s),t[e(495)]&&bn(this[e(571)],e(422),"block")}}[yy(367)](t){const e=yy;this[e(571)]&&(!Ls(t)&&(t=Ze(this[e(571)],e(422),!1)===e(580)),t?bn(this[e(571)],e(422),"block"):bn(this.$extendDom,e(422),e(580)))}[yy(666)](t){const e=yy;this[e(571)]&&(this.$extendDom[e(549)]=t)}removeExtendDom(){const t=yy;this.$extendDom&&(this[t(571)][t(549)]="")}[yy(395)](t){const e=yy;this[e(581)]&&(this[e(581)].innerText=t)}[yy(322)](){return this[yy(600)]}[yy(597)](t,e){const s=yy,i=this[s(415)],r=this.$tipsMessageContent;if(!t&&(t=this[s(655)][s(660)][s(391)][e]||""),i){const n='\n            <div class="jb-pro-tips-message-content-item">'+t+s(407)+(e?'<div class="jb-pro-tips-message-content-item">Error Type:'+e+s(487):"")+s(492);r[s(549)]=n,bn(i,s(422),s(566))}}[yy(497)](){const t=yy,e=this.$tipsMessage,s=this[t(444)];e&&(s.innerHTML="",bn(e,t(422),"none"))}[yy(680)](t){const e=yy,s=this.$ptzControl;if(Ks(t)&&s){let i=e(448);t[e(404)]&&(i=Number(t[e(404)])===t.left?t[e(404)]+"px":t.left),bn(s,e(404),i);let r=e(448);t[e(630)]&&(r=Number(t[e(630)])===t[e(630)]?t[e(630)]+"px":t[e(630)]),bn(s,"top",r);let n=e(448);t[e(359)]&&(n=Number(t.bottom)===t.bottom?t[e(359)]+"px":t.bottom),bn(s,e(359),n);let o=e(448);t[e(478)]&&(o=Number(t[e(478)])===t.right?t[e(478)]+"px":t[e(478)]),bn(s,e(478),o)}}[yy(446)](){const t=yy;bn(this[t(593)],t(422),t(566))}[yy(551)](){const t=yy;bn(this[t(361)],t(422),t(378))}[yy(382)](t){const e=yy;this[e(333)]&&(!Ls(t)&&(t=Ze(this.$controls,"display",!1)===e(580)),t?bn(this[e(333)],e(422),e(378)):bn(this[e(333)],"display","none"))}[yy(537)](){const t=yy;let e=!1;return this[t(333)]&&(e=Ze(this.$controls,t(422),!1)!==t(580)),e}toggleControlHtml(t){const e=yy;this.$controlHtml&&(!Ls(t)&&(t="none"===Ze(this[e(616)],e(422),!1)),t?bn(this[e(616)],e(422),e(566)):bn(this.$controlHtml,e(422),e(580)))}[yy(500)](){const t=yy;let e=!1;return this[t(616)]&&(e=Ze(this.$controlHtml,t(422),!1)!==t(580)),e}getExtendDomIsShow(){const t=yy;let e=!1;return this[t(571)]&&(e="none"!==Ze(this.$extendDom,t(422),!1)),e}getExtendDom(){const t=yy;return this.$extendDom?this[t(571)]:null}[yy(396)](){const t=yy;return this[t(616)]?this[t(616)]:null}updateControlSize(){const t=yy;if(this[t(333)]){const e=this.player._opt.controlSize,s=t(626);e===A[t(595)]?Si(An(this[t(333)],s))&&gn(this.$controls,s):e===A[t(310)]&&An(this[t(333)],s)&&yn(this[t(333)],s)}}}function vy(t,e){const s=by();return(vy=function(t,e){return s[t-=310]})(t,e)}function by(){const t=[".jb-pro-record-stop",".jb-pro-ptz-aperture-near","$recording","403560CoFrzx","</span></span>\n                                            ","assign","$playbackProgressPlayed","$ptzWiperClose",".jb-pro-volume-panel-wrap","$playbackProgressCache",".jb-pro-ptz-control","$iconWrap","$ptzArrows"," is already exist","$controlsInner","left-down",".jb-pro-progress-hover","$zoomStop","$ptzNarrow","bottom","loadingBackground","$loading","created","$ptzFogClose","scale(","btnIndex",'\n                                            <span class="icon-title-tips"><span class="icon-title">',"toggleExtendDom","insertAdjacentHTML","$play","$playbackTimeListSecond","src","isFullResize",'"></i>\n                                ',".jb-pro-loading-bg","isInMulti",".jb-pro-playback-time-second-wrap","destroy","flex","$volumePanel","backgroundImage","$speedText","toggleBar",".jb-pro-ptz-focus-far","$volumeOff","extendOperateBtns",".jb-pro-fullscreen","100%",".jb-pro-ptz-fog-open","iconHover","ptzFocusNearTimeout","showMessageConfig",'url("',".jb-pro-control-extend-","addExtendBtn","updateLoadingText","getControlHtml","find",".jb-pro-face","$qualityText","getRenderType",".jb-pro-controls-playback-time-scroll",".jb-pro-volume-panel",".jb-pro-controls-playback-current-time","left","$playbackTimeScroll","$volumeHandle","</div>\n            ","ptzArrowTimeout","$volumePanelText","0 KB/s",".jb-pro-ptz-wiper-open",".jb-pro-ptz-bg-active","videoRenderSupportScale","jb-pro-controls-show-auto-hide","$tipsMessage",".jb-pro-quality-menu-list",".jb-pro-occlusion","contain",".jb-pro-screenshot","px)","$ptzWiperOpen","display",".jb-pro-controls-playback-time-inner","call","$close","initShowPlayBtn","$screenshot",".jb-pro-controls-playback-time","loadingBackgroundHeight","$faceDetectActive","ptzFocusFarTimeout","$scaleMenuItems","$playbackExpand","px 0","extend button name is required","_initLoadingBackgroundForCanvas","$playbackProgressHover","$ptzCruisePlay","$qualityMenuList","$occlusionDetectActive","kbpsShow",".jb-pro-controls-bottom","removeChild","$tipsMessageContent","$tipsMessageClose","showPlayBtn","$fullscreenExit","auto",".jb-pro-performance-panel-info-2","$performancePanelBtn2","$ptzFocusFar","$controlsLeft","$domMap","push","children","ease","$scaleMenuList","resizeLoadingBackground","0 0","Control",".jb-pro-icon-extend-","map",".jb-pro-loading-text","initLoadingBackground()","$container","left-up"," rotate(",".jb-pro-performance-panel",".jb-pro-zoom-stop2",".jb-pro-tips-message-close","default",".jb-pro-icon-audio",".jb-pro-scale-menu-item","rotate",".jb-pro-zoom-narrow","$performancePanelBtn1","hasAnimation","right","$videoElement","keys","remove","$logSave","$activeIconWrap","playing","$faceDetect","$objectDetectActive","</div>","animationName","background-size","927Egnure",".jb-pro-speed-menu-item","\n        ","$playbackProgressTime","$qualityMenuItems","showBeforePlay",".jb-pro-progress-cache","hideTipsMessage",".jb-pro-recording","$recordingStop","getControlHtmlIsShow","$speed","delayHiddenTimeout","controlsRect",".jb-pro-tips-message-content","_initLoadingBackgroundForRatio","getBoundingClientRect",".jb-pro-ptz-controls",'<div class="jb-pro-controls-item jb-pro-control-extend-',"level","classList",".jb-pro-ptz-active","100% 100%","mouseover","$performance",".jb-pro-ptz-wiper-close","$ptzFocusNear","$poster","26145350JahBIw","$zoom","Timeout","calc(","797056fdgSlZ","$qualityMenu","$zoomControls","$playbackCurrentTime"," rotateX(180deg)","multiIndex","style",".jb-pro-performance-panel-tab-btn2","$recordingTime",".jb-pro-icon-loading","\n               </div>\n            ","activeIconTitle","$playbackProgressIndicator","resizeLoadingBackground()","ptzApertureFarTimeout","getBarIsShow","$volumePanelWrap","ptzPositionConfig","preventDefault","$playbackProgress","$performancePanel","click",".jb-pro-play-big","$zoomNarrow","loadingIconStyle","isResize","104dQdCAR","innerHTML",'-active"></i>\n                                ',"showLoadingIcon","10195367ZfplYN","_initLoadingBackgroundForVideo","$ptzApertureNear","activeIconHover","ptzArrow","controlsPlaybackTimeInner","2151508CagaIB","$ptzBgActive","split","forEach",".jb-pro-ptz-cruise-play","calc(100% - ","$playbackNarrow",".jb-pro-tips-message","block","name","$playbackTimeListOne",".jb-pro-poster","down","$extendDom",'\n                <div class="jb-pro-extend-dom">\n                ',".jb-pro-zoom-expand","$occlusionDetect","% - ","getControlHeight","vertical","$recordStop","$scaleText","none","$loadingText",".jb-pro-playback-control-time","$ptzApertureFar","ptzExpandTimeout","icon","ptzApertureNearTimeout",'\n            <div class="jb-pro-controls-item-wrap jb-pro-controls-item-wrap-',"_validateExtendBtn",".jb-pro-recording-stop","$ptzFogOpen",".jb-pro-ptz-arrow","extendDomConfig","$playBig","$ptz","small","$playbackTime","showTipsMessage",".jb-pro-object-active",".jb-pro-loading","extendBtnList","eventListenList","-active","isInitPlayer","\n               ","TAG_NAME",".jb-pro-performance-panel-tab-btn1","$performancePanelInfo1",".jb-pro-zoom-stop","$scaleMenu","$loadingBg",".jb-pro-speed-menu","activeIcon","$fullscreen","$objectDetect",".jb-pro-playback-time-one-wrap","$controlHtml","transform",".jb-pro-performance","url(","$record","html","$ptzControl","$ptzActive","\n                                </div>","width","jb-pro-controls-small",".jb-pro-controls-playback-btns",'-active">\n                                <i class="jb-pro-icon jb-pro-icon-extend-',"$playbackTimeInner","top","objectFit","$volume","mouseout","$speedMenuList","mirrorRotate","$zoomExpand","background",".jb-pro-scale-menu",".jb-pro-ptz-focus-near","length","canvas","querySelectorAll","animationDuration",".jb-pro-quality-menu-item",".jb-pro-contextmenus","$controlsRight",") no-repeat center","initLoadingBackground",".jb-pro-performance-active",".jb-pro-controls-playback-current-time-text","video","findIndex","$controlsPlaybackBtns"," rotateY(180deg)","player","iconTitle","aspectRatio",".jb-pro-zoom",".jb-pro-logSave","_opt","$performancePanelInfo2",".jb-pro-playback-expand",".jb-pro-controls","createdMoment","debugLog","updateExtendDom","animationIterationCount","activeClick","toggleExtendBtn",".jb-pro-controls-left","$volumeOn","autoSize","debugWarn","$loadingBgImage","5QwwIPL",".jb-pro-zoom-controls",".jb-pro-quality-menu","$ptzControlCircular",'">\n               ',"updatePtzPosition","$ptzCruisePause",".jb-pro-volume-panel-text","$ptzExpand","$zoomStop2","getShowVideoRect","init","normal",".jb-pro-pause","$speedMenuItems","5366tbiQcL","animationTimingFunction","loadingBackgroundWidth","controlsPlaybackBtnsRect","$contextmenus","hotKey","initShowLoadingIconInner",".jb-pro-ptz-cruise-pause","$playbackTimeList","getExtendBtnList",".jb-pro-extend-dom","initLoadingIconStyle","ptzNarrowTimeout","$performanceActive",".jb-pro-progress-tip","$speedMenu","padding","height","1818660hkTWKG","querySelector","$controls","from","$playbackCurrentTimeText",".jb-pro-record","controlsRightRect","$playbackProgressTip",".jb-pro-volume"];return(by=function(){return t})()}function Sy(t,e){const s=Ey();return(Sy=function(t,e){return s[t-=249]})(t,e)}function Ey(){const t=["visible","isInput","800516ZYXRRt","disableContextmenu","change","391343mYvUpk","70075NYJver","pause","toLowerCase","tagName","$container","11753049mihoge","type","playing","canvas","isCheckInView","blur","INPUT","_isPlayingBeforePageHidden","orientationchange","play","4mfiJrj","resize","hiddenAutoPause is true ","_opt","nodeName","orientationChangeResize","contextmenu","click","debugLog","isInView","1656CEQjRD","visibilitychange","914361nqsLQm","emit","8278380PVHgzf","12WcpYhU","11512fFPCuB","preventDefault","isFocus","orientation","visibility","visibilityState","138hNQHHQ","fullscreen","hiddenAutoPause"];return(Ey=function(){return t})()}fy(".jb-pro-container{position:relative;width:100%;height:100%;overflow:hidden}.jb-pro-container.jb-pro-fullscreen-web{position:fixed;z-index:9999;left:0;top:0;right:0;bottom:0;width:100vw!important;height:100vh!important;background:#000}.jb-pro-container .jb-pro-loading-bg-for-ios{position:absolute;z-index:100;left:0;top:0;right:0;bottom:0;height:100%;width:100%;opacity:0;visibility:hidden;background-position:50%;background-repeat:no-repeat;background-size:contain;pointer-events:none}.jb-pro-container .jb-pro-loading-bg-for-ios.show{opacity:1;visibility:visible}"),function(t,e){const s=Sy,i=t();for(;;)try{if(679289===parseInt(s(256))/1*(parseInt(s(272))/2)+parseInt(s(287))/3*(-parseInt(s(253))/4)+parseInt(s(257))/5*(parseInt(s(294))/6)+-parseInt(s(284))/7+parseInt(s(288))/8*(parseInt(s(282))/9)+-parseInt(s(286))/10+parseInt(s(262))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Ey);const wy=Ty;function Ty(t,e){const s=Iy();return(Ty=function(t,e){return s[t-=496]})(t,e)}function Iy(){const t=["presentWidth","audioSampleRate","hdlr","isNonSync","minf","dependsOn","7701520FJvmGI","type","set","byteLength","slice","traf","config","9OfAlxm","isDependedOn","sequenceNumber","duration","avc","avc1","STSZ","concat","box","types","hasOwnProperty","mvhd","6EmxAQN","HDLR_VIDEO","STCO","avcC","moov","codecWidth","hvcC","audioType","tfdt","112mRfnqN","call","videoType","mdat","trun","tkhd","stsc","HDLR_AUDIO","VMHD","length","dinf","init","10092FnGqul","stbl","cts","STSD_PREFIX","hvc1","avcc","audio","SMHD","hasRedundancy","trak","mfhd","esds","codecHeight","4euuPMG","mp4a","FTYP","size","moof","mp3","DREF","generateInitSegment","1239367soWSdc","7721465PXMzyy","flags","stsd","trex","ftyp","1271084mxtVuJ","presentHeight","STSC","369136ONbxib","STTS","mvex","isLeading","stts","stsz","smhd","sdtp","2453KzDvfd","charCodeAt","constants","mdhd","8876700FPVEzg","mdia","timescale"];return(Iy=function(){return t})()}!function(t,e){const s=Ty,i=t();for(;;)try{if(807589===parseInt(s(574))/1+parseInt(s(580))/2*(parseInt(s(532))/3)+parseInt(s(566))/4*(-parseInt(s(575))/5)+-parseInt(s(504))/6+-parseInt(s(541))/7*(-parseInt(s(583))/8)+-parseInt(s(520))/9*(-parseInt(s(513))/10)+-parseInt(s(500))/11*(parseInt(s(553))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Iy);class ky{static[wy(552)](){const t=wy;ky[t(529)]={avc1:[],avcC:[],hvc1:[],hvcC:[],av01:[],av1C:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[],"ec-3":[],dec3:[]};for(let e in ky[t(529)])ky[t(529)][t(530)](e)&&(ky[t(529)][e]=[e.charCodeAt(0),e[t(501)](1),e[t(501)](2),e[t(501)](3)]);let e=ky[t(502)]={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e[t(556)]=new Uint8Array([0,0,0,0,0,0,0,1]),e[t(584)]=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(582)]=e[t(534)]=e[t(584)],e[t(526)]=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e[t(533)]=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e[t(548)]=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e[t(572)]=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e[t(560)]=new Uint8Array([0,0,0,0,0,0,0,0]),e[t(549)]=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(t){const e=wy;let s=8,i=null,r=Array.prototype[e(517)][e(542)](arguments,1),n=r[e(550)];for(let t=0;t<n;t++)s+=r[t][e(516)];i=new Uint8Array(s),i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i[e(515)](t,4);let o=8;for(let t=0;t<n;t++)i[e(515)](r[t],o),o+=r[t][e(516)];return i}static[wy(573)](t){const e=wy;let s=ky.box(ky[e(529)][e(579)],ky[e(502)][e(568)]),i=ky.moov(t),r=new Uint8Array(s[e(516)]+i[e(516)]);return r.set(s,0),r[e(515)](i,s[e(516)]),r}static moov(t){const e=wy;let s=ky.mvhd(t.timescale,t[e(523)]),i=ky.trak(t),r=ky[e(585)](t);return ky.box(ky.types[e(536)],s,i,r)}static[wy(531)](t,e){return ky[wy(528)](ky.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static[wy(562)](t){const e=wy;return ky[e(528)](ky[e(529)][e(562)],ky[e(546)](t),ky[e(505)](t))}static[wy(546)](t){const e=wy;let s=t.id,i=t[e(523)],r=t[e(507)],n=t[e(581)];return ky.box(ky[e(529)][e(546)],new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>>8&255,255&r,0,0,n>>>8&255,255&n,0,0]))}static[wy(505)](t){const e=wy;return ky[e(528)](ky.types[e(505)],ky[e(503)](t),ky[e(509)](t),ky.minf(t))}static mdhd(t){const e=wy;let s=t[e(506)],i=t[e(523)];return ky[e(528)](ky[e(529)].mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static[wy(509)](t){const e=wy;let s=null;return s=t[e(514)]===e(559)?ky[e(502)][e(548)]:ky.constants[e(533)],ky[e(528)](ky[e(529)][e(509)],s)}static[wy(511)](t){const e=wy;let s=null;return s=t[e(514)]===e(559)?ky[e(528)](ky.types[e(498)],ky.constants[e(560)]):ky[e(528)](ky[e(529)].vmhd,ky[e(502)].VMHD),ky[e(528)](ky[e(529)].minf,s,ky[e(551)](),ky.stbl(t))}static[wy(551)](){const t=wy;return ky[t(528)](ky.types[t(551)],ky[t(528)](ky.types.dref,ky[t(502)][t(572)]))}static[wy(554)](t){const e=wy;return ky[e(528)](ky[e(529)][e(554)],ky.stsd(t),ky.box(ky[e(529)][e(496)],ky[e(502)][e(584)]),ky.box(ky.types[e(547)],ky[e(502)][e(582)]),ky[e(528)](ky[e(529)][e(497)],ky.constants[e(526)]),ky[e(528)](ky.types.stco,ky[e(502)][e(534)]))}static[wy(577)](t){const e=wy;return t[e(514)]===e(559)?t[e(539)]===e(571)?ky[e(528)](ky[e(529)].stsd,ky[e(502)][e(556)],ky.mp3(t)):ky[e(528)](ky[e(529)][e(577)],ky.constants[e(556)],ky[e(567)](t)):t[e(543)]===e(524)?ky.box(ky[e(529)][e(577)],ky[e(502)][e(556)],ky[e(525)](t)):ky.box(ky[e(529)][e(577)],ky[e(502)][e(556)],ky[e(557)](t))}static[wy(571)](t){const e=wy;let s=t.channelCount,i=t.audioSampleRate,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return ky[e(528)](ky.types[".mp3"],r)}static[wy(567)](t){const e=wy;let s=t.channelCount,i=t[e(508)],r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,s,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return ky.box(ky[e(529)][e(567)],r,ky[e(564)](t))}static esds(t){const e=wy;let s=t[e(519)]||[],i=s[e(550)],r=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i])[e(527)](s).concat([6,1,2]));return ky[e(528)](ky.types[e(564)],r)}static avc1(t){const e=wy;let s=t.avcc;const i=t.codecWidth,r=t[e(565)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ky.box(ky[e(529)][e(525)],n,ky[e(528)](ky.types[e(535)],s))}static[wy(557)](t){const e=wy;let s=t[e(558)];const i=t[e(537)],r=t[e(565)];let n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,r>>>8&255,255&r,0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return ky[e(528)](ky[e(529)][e(557)],n,ky[e(528)](ky.types[e(538)],s))}static[wy(585)](t){const e=wy;return ky[e(528)](ky.types.mvex,ky[e(578)](t))}static[wy(578)](t){const e=wy;let s=t.id,i=new Uint8Array([0,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return ky[e(528)](ky[e(529)][e(578)],i)}static[wy(570)](t,e){const s=wy;return ky[s(528)](ky[s(529)].moof,ky.mfhd(t[s(522)]),ky[s(518)](t,e))}static[wy(563)](t){const e=wy;let s=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return ky[e(528)](ky.types.mfhd,s)}static[wy(518)](t,e){const s=wy;let i=t.id,r=ky.box(ky[s(529)].tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),n=ky[s(528)](ky.types[s(540)],new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])),o=ky[s(499)](t),a=ky[s(545)](t,o.byteLength+16+16+8+16+8+8);return ky[s(528)](ky.types[s(518)],r,n,a,o)}static sdtp(t){const e=wy;let s=new Uint8Array(5),i=t[e(576)];return s[4]=i[e(586)]<<6|i[e(512)]<<4|i[e(521)]<<2|i[e(561)],ky[e(528)](ky[e(529)][e(499)],s)}static[wy(545)](t,e){const s=wy;let i=new Uint8Array(28);e+=36,i[s(515)]([0,0,15,1,0,0,0,1,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0);let r=t[s(523)],n=t[s(569)],o=t[s(576)],a=t[s(555)];return i[s(515)]([r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,o.isLeading<<2|o[s(512)],o[s(521)]<<6|o.hasRedundancy<<4|o[s(510)],0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12),ky[s(528)](ky[s(529)][s(545)],i)}static[wy(544)](t){const e=wy;return ky[e(528)](ky[e(529)][e(544)],t)}}ky.init();const _y=Dy;function Cy(){const t=[" and current is ",",\n                    and prevPayloadBufferSize is ","_resetInIt","appendBuffer() player is destroyed","_hasPendingSegments","appendAudioBuffer() this.mediaSourceBufferError is true","updating","，\n                    and mseCorrectTimeDuration is ","\n                    decodeVideo dts is less than(or equal) prev dts ,\n                    dts is "," and prev time is ","_checkAudioTsIsMaxDiff","playbackRate","MediaSource","eventListenList"," and\n                $videoElement ts is ","emit","clearSourceBuffer","mediaSourceAddSourceBufferError","playbackPause is false and _opt.checkFirstIFrame is true so set isDecodeFirstIIframe = false","hev","_times"," and emit replay","TAG_NAME","stop","  set playbackRate is ","size"," and message is ","prevTimestamp","mseAutoCleanupMinBackwardDuration","end","removeBuffer() sourceBuffer error","abortSourceBuffer","endOfStream","mseSourceOpen","playbackPause","timeStamp","channelCount","codec","isPlayVod","prevAudioDts","code","endstreaming","isCurrentTimeInBufferEnd","createElement","decodeAudio is max diff, prevTs is ","render","mediaSourceAppendBufferFull"," ,currentTime is ","cancelVideoFrameCallback","video canplay","src","canplay","duration","video is paused and replay success","mseSourceBufferError"," and prev dts is ","mediaSource is not attached to video or mediaSource is closed","sourceOpen","prevDuration","decodeVideo dts is equal to prev dts and payload size is equal to prev payload size so drop this frame","\n        and current time is ","config"," < 0 and check video is paused : ","updateVideoCurrentTimeByBufferStart bufferRangeList is\n        ","start","mp4"," - current is ","decodeDiffTimestamp","abs","firstRenderTime","hasInit","appendBuffer() this.mediaSourceBufferError is true","cacheTrack duration is ","checkSourceBufferEndLessThanCurrentTime","decodeLastDataForVod cacheTrack duration is ","codecHeight","decodeVideo\n                     local dts is < 0 , ts is ","updateVideoInfo: ","appendBuffer","cacheAudioTrack = {} now dts is ","sampleRate","checkVideoPlayCurrentTime store is ","width","isPlaybackOnlyDecodeIFrame","getLastBufferDelayEndTime","data"," and delay is ","emitError","onMediaSourceSourceOpen() sourceBuffer is null and next init","mediaSourceBufferedIsZeroError","decodeAudio is max diff , ts is ","isUseLocalCalculateTime","_decodeAudioConfigurationRecord audio codec is not support , codecId is ","isPlayer","decodeStart","catch","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","video play error ","mseSourceended","decodeVideo first frame is not iFrame",", and cacheAudioTrack dts is ",", and ts is ","handleUpdatePlaybackRate and buffered is ","_handleUpdateBufferDelayTime","mediaSourceTsIsMaxDiff","startstreaming","firstRenderTime is ","codecWidth","updateVideoCurrentTimeByBufferStart current time is ","cts","mseUseCanvasRender","_clearAudioSourceBufferCheckTimeout","ended","audioSourceBuffer updateend and hasPendingEos is true, next endOfStream()","generateInitSegment","removeBuffer() start is ","removeBuffer() audioSourceBuffer error","onMediaSourceSourceOpen() audioSourceBuffer is null and next init","appendAudioBuffer() this.mediaSourceAppendBufferError is true","video waiting","videoStart","checkVideoPlayCurrentTime","_decodeVideo now time is ","decodeVideo and payload is video sequence header so drop this frame","loadedmetadata",", old height is ","updateVideoCurrentTimeByBufferStart bufferRangeList is empty and return","decodeVideo: video width or height is changed, and return","audio","flags","isInitInfo","audioSourceBuffer","isStateEnded","18441uDRlnS","URL","cacheAudioTrack duration is ","5PFsYKi","handlePlayToRenderTimes","_doRemoveRanges","hasAudioInit","getMimeType","mseSourceClose"," and end is ","removeBuffer","getMseBufferMaxDelayTime","requestVideoFrameCallback","getAudioSourceBufferUpdating","handleRender","h265","videoFrameCallback() player is destroyed","config is not empty object and codecWidth is ","isMSECurrentMoreThanBufferedPause","_getPlaybackRate","audioSequenceNumber","checkSourceBufferStore","prevAudioTs","pause","video loadedmetadata","updateAudioInfo"," < 0, and buffered is ","shift","mdat","appendAudioBuffer() player is destroyed","push","mediaSourceAudioG711NotSupport","prevDts","$videoElement"," and buffer end is ","_handleUpdatePlaybackRate","_initSourceBuffer","mediaSourceAppendBufferError","h264",'video/mp4; codecs="',"slice","fps","prevTs","abort","type","isPlayback","_stopCanvasRender","avc","isVideoPlaying","waiting","supportVideoFrameCallbackHandle","config is empty object","this.sourceBuffer.appendBuffer()","ManagedMediaSource startstreaming","initVideoEvents","_decodeAudio","recorder","isDecodeFirstIIframe"," , try to seek ","mediaSourceAudioInitTimeout","remove","sequenceNumber","dts","mediaSourceFull","sequenceHeader","visibilityChangeTimeout","width ","\n                        decodeVideo: video width or height is changed,\n                        old width is ","firstAudioTime","decodeVideo is max diff, prevTs is ","cacheTrack = {} now dts is "," and prevTs is ","timescale","updateend","checkSourceBufferDelay","_initAudioSourceBuffer","isAAC","mediaSourceUseCanvasRenderPlayFailed","MP3","AAC","pendingAudioRemoveRanges","message"," ms ,and dts is ","audioMimeType","srcObject","revokeObjectURL","videoBuffer","readyState","length","decodeAudio() player is destroyed","mseSourceStartStreaming","audioMeta","qualitychange","firstAudioTime is ","destroy","_hasPendingRemoveRanges"," and this.isAvc === null is ","appendAudioBuffer() this.mediaSourceAppendBufferFull is true","videoInfo","error","videoFrameCallback","getDecodeDiffTimes","getVideoBufferEndTime","pendingRemoveRanges","hasAudio","_decodeConfigurationRecord","isUseHls265"," ms ,and cacheAudioTrack dts is ","refSampleDuration"," and firstRenderTime is ","appendAudioBuffer() this.mediaSource.addSourceBuffer()","pendingAudioSegments"," ms, dts is "," cacheAudioTrack dts is ","playback"," cacheTrack dts is ","canvasRenderInterval","1927872qpGfLO","updateStats","mediaSourceObjectURL","ratechange","isDestroyedOrClosed"," ，\n                    and now ts is ","isAvc","mseWidthOrHeightChange","video is paused and next try to replay","_doCleanUpSourceBuffer","isStateOpen","50448KXHXBa","videoType","_clearVisibilityChangeTimeout","buffer","ManagedMediaSource","video play"," and new time is ","visibilityChange",",\n                     firstAudioTime is ","getVideoBufferLastTime","play","height","needInitAudio","getVideoBufferTimeRange","appendBuffer() this.mediaSourceAppendBufferFull is true","updateVideoInfo","appendAudioBuffer() this.mediaSourceAddSourceBufferError is true","isCurrentTimeInBufferEnd and currentTime is "," ant auto wasm decode","setLiveSeekableRange start is "," and return"," and set {}","_decodeVideo payload bytes is 0 and return","recordType","mediaSource is end","types","sourceended","258372AtXyxa","prevPayloadBufferSize","_decodeVideo","videoMimeType","_isDestroyed","OPUS","audioSampleRate","appendBuffer() this.mediaSource.addSourceBuffer()","debug","sourceBuffer","mediaSourceDecoderConfigurationError","mseSourceBufferError this.sourceBuffer"," and currentTime is ","code is ","getVideoCurrentTime","ratechange and video is paused"," and diff is ","_opt","getCorrectionConfiguration","mediaSourceBufferError"," and mseCorrectTimeDuration is ","audioSourceBufferCheckTimeout","2720ynZZuU","debugWarn","debugLog","removeSourceBuffer() audioSourceBuffer error","decodeVideo","isWidthOrHeightChanged","decodeLastDataForVod cacheAudioTrack duration is ","videoSourceBuffer updateend and hasPendingEos is true, next endOfStream()"," ms"," and payload size is ","cacheTrack","_decodeAudioConfigurationRecord","video is paused and replay error ","video","abortSourceBuffer() abort audioSourceBuffer","player","578960fbzrTj","_onMediaSourceSourceOpen","videoBufferDelay","isPlayback and cacheTrack duration is "," and ts is "," ms, and cacheTrack dts is ","events","removeSourceBuffer() sourceBuffer","paused","mseCorrectAudioTimeDuration","stringify","_initSourceBuffer and this.isStateOpen is ","isOpus","_stats","off","_initAudioSourceBuffer and this.isStateOpen is ","577038IliwPX","timeUpdate","isAudioInitInfo","mseUseCanvasRender is ","_clearAudioNoDataCheckTimeout","_doAppendSegments() sourceBuffer is null and wait init and return","this.audioSourceBuffer.appendBuffer()","appendBuffer() this.mediaSourceAppendBufferError is true","byteLength","676636xFxztt","getVideoBufferStartTime","getVideoBufferRangeList","forEach","_bindMediaSourceEvents"," and prev ts is ","mseCorrectTimeDuration","isKeyframe","_doAppendSegments",",\n                     firstRenderTime is ","getSourceBufferUpdating",", and cacheTrack dts is ",",\n                        new width is ","init","_checkTsIsMaxDiff","state","addSourceBuffer","audioSourceNoDataCheckTimeout","checkMSESourceBufferDelay and video is paused and sent isMSECurrentMoreThanBufferedPause true","buffered","hasPendingEos","_doRemoveRanges() audioSourceBuffer error","sourceClose",", mediaError: "," ，\n                    and diff is ","init and using ManagedMediaSource","moof","checkFirstIFrame"," and this.audioMimeType is ","max","mseAutoCleanupMaxBackwardDuration","initCanvasViewSize","currentTime","endOfStream() error","20ibqqKZ","getVideoBufferDelayTime","removeSourceBuffer","mediaSource","_needCleanupSourceBuffer","videoMeta","decodeVideo is max diff , ts is ","open","increaseLocalTimestamp","debugError","decodeAudio","bound"," to ","appendAudioBuffer","pendingSegments","mseAutoCleanupSourceBuffer","isPlaybackPauseClearCache","isStateClosed","mseAddSourceBufferError","cacheAudioTrack","_useManagedMediaSource"," and fps is ","setLiveSeekableRange","checkMSESourceBufferDelay ","_initAudioSourceBuffer() this.mediaSource.addSourceBuffer()","decodeLastDataForVod","set","_checkVideoPlayCurrentTime","removeAttribute","SourceBuffer Error - updating: ",", height ","isPlayStream","updateMediaSourceDuration"];return(Cy=function(){return t})()}function Dy(t,e){const s=Cy();return(Dy=function(t,e){return s[t-=400]})(t,e)}!function(t,e){const s=Dy,i=t();for(;;)try{if(178159===parseInt(s(620))/1+-parseInt(s(717))/2*(parseInt(s(593))/3)+parseInt(s(683))/4*(parseInt(s(468))/5)+parseInt(s(582))/6+parseInt(s(674))/7+parseInt(s(658))/8+-parseInt(s(465))/9*(parseInt(s(642))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Cy);class Ry extends zi{constructor(t){const e=Dy;super(),this.TAG_NAME="MediaSource",this[e(657)]=t,this._resetInIt(),this[e(530)]=null,this[e(737)]=e(597)in qt&&!(e(762)in qt),this.mediaSource=this._useManagedMediaSource?new(qt[e(597)]):new(qt[e(762)]),this.isDecodeFirstIIframe=!!Si(t[e(637)].checkFirstIFrame),this[e(584)]=null,!this[e(737)]&&(this[e(584)]=qt[e(466)].createObjectURL(this[e(720)])),this.isSupportVideoFrameCallback=ki(),this.canvasRenderInterval=null,this[e(728)]={videoFrameCallback:this[e(565)].bind(this)},t[e(637)][e(442)]?(this.$videoElement=document[e(793)](e(655)),this._useManagedMediaSource?(this.$videoElement.disableRemotePlayback=!0,this.$videoElement[e(549)]=this[e(720)]):this[e(498)].src=this[e(584)],this[e(519)]()):(this[e(737)]?(this.player[e(655)].$videoElement.disableRemotePlayback=!0,this[e(657)].video.$videoElement.srcObject=this.mediaSource):this[e(657)].video[e(498)].src=this[e(584)],this[e(498)]=this[e(657)][e(655)][e(498)]),this[e(687)](),this[e(641)]=null,this.audioSourceNoDataCheckTimeout=null,this[e(703)]=!1,this.player[e(510)]()?this[e(657)].on(O[e(784)],(s=>{const i=e;Si(s)?(t[i(637)][i(733)]&&(bi(t[i(637)][i(710)])&&(this[i(657)].debugLog(this.TAG_NAME,i(768)),this.isDecodeFirstIIframe=!1),this.clearUpAllSourceBuffer()),this[i(498)][i(603)]()):(this[i(498)][i(488)](),this[i(652)]={})})):this[e(657)][e(788)]()&&this[e(657)].on(O.playVodPause,(t=>{const s=e;Si(t)?this[s(498)][s(603)]():(this[s(498)].pause(),this.cacheTrack={})})),this[e(624)]=!1,this._useManagedMediaSource?this[e(657)][e(644)](this[e(772)],e(708)):this[e(657)][e(644)](this[e(772)],e(696))}[_y(559)](){const t=_y;this[t(624)]=!0,this[t(595)](),this[t(773)](),this[t(443)](),this[t(678)](),this[t(511)](),this[t(763)].length&&(this[t(763)][t(686)]((t=>t())),this[t(763)]=[]),this[t(515)]&&this[t(498)]&&(this.$videoElement[t(798)](this[t(515)]),this[t(515)]=null),this[t(498)]&&(this[t(657)]._opt.mseUseCanvasRender&&(this[t(498)][t(488)]&&(this.$videoElement[t(488)](),this[t(498)].muted=!0),this.$videoElement[t(715)]=0,this[t(498)].src&&(this[t(498)].src="",this[t(498)][t(745)](t(800)))),this[t(498)]=null),this.mediaSourceObjectURL&&(window[t(466)][t(550)](this[t(584)]),this[t(584)]=null),this[t(752)](),this.mediaSource=null,this[t(728)]=null,this[t(672)](),this[t(657)][t(644)](this.TAG_NAME,t(559))}[_y(605)](){const t=_y;return this[t(657)]._opt[t(569)]&&this[t(657)]._opt.mseDecodeAudio}[_y(752)](){const t=_y;this[t(588)]=null,this[t(541)]=null,this[t(670)]=null,this[t(722)]={},this[t(556)]={},this[t(629)]=null,this[t(463)]=null,this[t(402)]=!1,this[t(471)]=!1,this[t(462)]=!1,this[t(676)]=!1,this[t(548)]="",this[t(623)]="",this[t(652)]={},this[t(736)]={},this[t(526)]=0,this[t(485)]=0,this[t(401)]=null,this.firstAudioTime=null,this[t(498)]=null,this.mediaSourceAppendBufferFull=!1,this[t(502)]=!1,this.mediaSourceAddSourceBufferError=!1,this[t(639)]=!1,this.mediaSourceError=!1,this[t(777)]=null,this[t(817)]=null,this[t(497)]=null,this[t(789)]=null,this[t(621)]=0,this[t(647)]=!1,this[t(507)]=null,this[t(487)]=null,this[t(763)]=[],this[t(568)]=[],this.pendingSegments=[],this[t(545)]=[],this.pendingAudioSegments=[],this[t(515)]=null}get[_y(698)](){const t=_y;return this.mediaSource&&this[t(720)][t(552)]}get[_y(592)](){const t=_y;return this[t(698)]===rt[t(724)]}get[_y(734)](){return this[_y(698)]===rt.closed}get[_y(464)](){const t=_y;return this[t(698)]===rt[t(444)]}get[_y(802)](){const t=_y;return this[t(720)]&&this[t(720)].duration||-1}set[_y(802)](t){const e=_y;this[e(720)][e(802)]=t}[_y(687)](){const t=_y,{events:{proxy:e}}=this[t(657)],s=e(this.mediaSource,ut[t(807)],(()=>{const e=t;this[e(657)].debugLog(this[e(772)],e(807)),this[e(659)](),this[e(657)][e(765)](O[e(783)])})),i=e(this[t(720)],ut[t(705)],(()=>{const e=t;this.player[e(644)](this[e(772)],e(705)),this[e(657)][e(765)](O[e(473)])})),r=e(this.mediaSource,ut[t(619)],(()=>{const e=t;this[e(657)].debugLog(this.TAG_NAME,e(619)),this[e(657)].emit(O[e(430)])}));this[t(763)].push(s,i,r);const n=e(this.$videoElement,pt[t(675)],(e=>{const s=t;if(Si(this.isSupportVideoFrameCallback))if(this[s(657)].checkIsInRender())this[s(657)][s(479)]();else{const t=parseInt(e[s(785)],10);this[s(657)].debugLog(this[s(772)],s(677)+this[s(657)][s(637)][s(442)]+s(764)+t+", but not in render and vbps is "+this[s(657)]._stats.vbps+s(738)+this[s(657)][s(671)][s(506)])}}));if(this[t(763)][t(495)](n),this[t(737)]){const s=e(this[t(720)],ut[t(437)],(()=>{const e=t;this[e(657)][e(644)](this[e(772)],e(518)),this.player.emit(O[e(555)])})),i=e(this[t(720)],ut[t(791)],(()=>{const e=t;this[e(657)].debugLog(this.TAG_NAME,"ManagedMediaSource endstreaming"),this[e(657)][e(765)](O.mseSourceEndStreaming)})),r=e(this[t(720)],ut[t(557)],(()=>{const e=t;this[e(657)][e(644)](this[e(772)],"ManagedMediaSource qualitychange")}));this[t(763)][t(495)](s,i,r)}}[_y(659)](){const t=_y;!this[t(629)]&&(this[t(657)][t(644)](t(762),t(420)),this[t(501)]()),!this[t(463)]&&(this[t(657)][t(644)](t(762),t(449)),this[t(540)]()),this[t(754)]()&&this[t(691)]()}[_y(519)](){const t=_y,{proxy:e}=this[t(657)][t(664)];this.player.on(O[t(600)],(e=>{const s=t;e&&(this[s(595)](),this[s(530)]=setTimeout((()=>{const t=s;if(this.visibilityChangeTimeout=null,this.player.isPlaying()&&this[t(498)]){const e=this[t(602)]();if(e-this[t(498)][t(715)]>this[t(476)]()){const s=this[t(416)](1);this[t(657)].debugLog(this[t(772)],"visibilityChange is true and lastTime is "+e+t(632)+this[t(498)].currentTime+" so set currentTime to "+s),this[t(498)][t(715)]=s}}}),300))}));const s=e(this[t(498)],pt[t(801)],(()=>{const e=t;this[e(657)].debugLog(this.TAG_NAME,e(799)),this[e(498)].play().then((()=>{const t=e;this[t(657)][t(765)](O.removeLoadingBgImage),ki()?!this.supportVideoFrameCallbackHandle&&(this[t(657)].debugLog(this[t(772)],"video canplay and requestVideoFrameCallback and use videoFrameCallback"),this[t(515)]=this[t(498)][t(477)](this[t(728)].videoFrameCallback)):this[t(657)][t(571)]()&&(this.player.debugLog(this[t(772)],"video canplay and use canvas render and fps is 25"),this[t(511)](),this[t(581)]=setInterval((()=>{const e=t;this[e(657)].video[e(795)]({$video:this[e(498)],ts:parseInt(1e3*this[e(498)][e(715)],10)||0})}),40)),this.player[t(644)](this[t(772)],t(598))}))[e(427)]((t=>{const s=e;this[s(657)].debugError(this[s(772)],s(429),t),this[s(657)][s(419)](V[s(542)],"code is "+t[s(790)]+s(776)+t.message)}))})),i=e(this[t(498)],pt[t(514)],(()=>{const e=t;this.player.debugLog(this[e(772)],e(451))})),r=e(this[t(498)],pt[t(456)],(()=>{const e=t;this.player[e(644)](this[e(772)],e(489))})),n=e(this.$videoElement,pt[t(675)],(e=>{const s=t;this[s(498)][s(666)]&&(this[s(657)][s(643)](this[s(772)],s(590)),this[s(498)][s(603)]().then((()=>{const t=s;this[t(657)][t(644)](this[t(772)],t(803))}))[s(427)]((t=>{const e=s;this.player[e(643)](this.TAG_NAME,e(654),t)})))})),o=e(this.$videoElement,pt[t(585)],(()=>{const e=t;this[e(657)][e(644)](this[e(772)],"video playback Rate change",this.$videoElement&&this[e(498)].playbackRate),this[e(498)]&&this[e(498)][e(666)]&&this[e(657)][e(643)](this[e(772)],e(635))}));this[t(763)].push(s,i,n,o,r)}_clearVisibilityChangeTimeout(){const t=_y;this.visibilityChangeTimeout&&(clearTimeout(this[t(530)]),this.visibilityChangeTimeout=null)}[_y(565)](t){const e=_y;let s=arguments[e(553)]>1&&void 0!==arguments[1]?arguments[1]:{};if(this[e(624)])return;if(this.player[e(586)]())return void this[e(657)][e(644)](this.TAG_NAME,e(481));const i=parseInt(1e3*Math.max(s.mediaTime,this.$videoElement[e(715)]),10)||0;this.player[e(571)]()&&this[e(657)][e(583)]({fps:!0,ts:i}),this[e(657)].video[e(795)]({$video:this[e(498)],ts:i}),this[e(657)].handleRender(),this.supportVideoFrameCallbackHandle=this[e(498)][e(477)](this[e(728)][e(565)])}[_y(646)](t,e,s,i){const r=_y;if(!this[r(624)])if(this[r(657)],this.player[r(586)]())this[r(657)][r(643)](this[r(772)],"decodeVideo() player is destroyed");else if(this[r(402)])if(!this[r(522)]&&s&&(this[r(522)]=!0),this[r(522)]){if(s&&0===t[1]){const e=15&t[0];let s={};const i=this[r(657)][r(638)]();let n=t[r(505)](5);e===K[r(503)]?s=Hh(n,i):e===K[r(480)]&&(s=yl(n,i));const o=this.player[r(655)][r(563)];o&&o[r(414)]&&o[r(604)]&&s&&s.codecWidth&&s[r(407)]&&(s.codecWidth!==o[r(414)]||s[r(407)]!==o[r(604)])&&(this.player.debugWarn(this.TAG_NAME,r(532)+o.width+r(457)+o[r(604)]+r(695)+s[r(439)]+", new height is "+s.codecHeight+",\n                        and emit change event"),this[r(647)]=!0,this.player[r(419)](V[r(589)],r(531)+o.width+"->"+s.codecWidth+r(747)+o[r(604)]+"->"+s[r(407)]))}if(this[r(647)])return void this[r(657)][r(643)](this[r(772)],r(459));if(vi(t))return void this.player[r(644)](this.TAG_NAME,r(455));if(t.byteLength<12)return void this[r(657)].debugWarn(this[r(772)],"decodeVideo and payload is too small , payload length is "+t[r(682)]+r(613));let n=e;if(this[r(657)].isPlayer()){if(null===this.firstRenderTime&&(this.firstRenderTime=e,this[r(657)][r(644)](this[r(772)],r(438)+this.firstRenderTime)),n=e-this[r(401)],n<0&&(this[r(657)][r(643)](this.TAG_NAME,r(408)+e+r(536)+this.prevTs+r(692)+this.firstRenderTime+r(640)+this[r(657)]._opt[r(689)]),n=null===this[r(497)]?0:this[r(497)]+this[r(657)][r(637)].mseCorrectTimeDuration,this[r(697)](e)))return this[r(657)][r(643)](this[r(772)],r(723)+e+" and prevTs is "+this.prevTs+", diff is "+(this[r(507)]-e)+r(771)),void this[r(657)][r(419)](V[r(436)],r(534)+this[r(507)]+" and ts is "+e);if(null!==this[r(497)]&&n<=this[r(497)]){if(this[r(657)][r(643)](this.TAG_NAME,r(758)+n+r(805)+this[r(497)]+r(587)+e+" and prev ts is "+this[r(507)]+r(707)+(e-this[r(507)])+r(574)+this[r(401)]+" and isIframe is "+s+r(757)+this[r(657)][r(637)][r(689)]+r(751)+this[r(621)]+r(651)+t.byteLength),n===this.prevDts&&this[r(621)]===t.byteLength)return void this[r(657)][r(643)](this.TAG_NAME,r(809));if(n=this.prevDts+this[r(657)][r(637)].mseCorrectTimeDuration,this[r(697)](e))return this[r(657)][r(643)](this[r(772)],r(723)+e+r(536)+this[r(507)]+", diff is "+(this[r(507)]-e)+r(771)),void this[r(765)](V[r(436)],"decodeVideo is max diff, prevTs is "+this[r(507)]+r(662)+e)}}this[r(657)][r(425)]()?this._decodeVideo(t,n,s,i,e):this[r(657)][r(510)]()?Si(this[r(657)][r(784)])?(this.player[r(579)][r(423)]&&this.player[r(579)][r(725)](),this._decodeVideo(t,n,s,i,e)):this[r(657)][r(579)][r(428)]()&&this._decodeVideo(t,n,s,i,e):this[r(657)][r(788)]()&&this[r(622)](t,n,s,i,e),this[r(497)]=n,this[r(621)]=t[r(682)],this.prevTs=e}else this[r(657)].debugLog(this[r(772)],r(431));else if(s&&t[1]===At[r(529)]){const i=15&t[0];if(this[r(657)][r(655)].updateVideoInfo({encTypeCode:i}),i===K.h265&&Si(Ts()))return void this[r(657)][r(419)](V.mediaSourceH265NotSupport);!this[r(657)][r(770)][r(426)]&&(this[r(657)][r(770)][r(426)]=Je()),this.hasInit=this._decodeConfigurationRecord(t,e,s,i)}else this[r(657)].debugWarn(this[r(772)],"decodeVideo has not init , isIframe is "+s+" , payload is "+t[1]+" so drop this frame")}[_y(727)](t,e){const s=_y;if(!this._isDestroyed)if(this[s(657)],this[s(657)][s(586)]())this[s(657)][s(643)](this[s(772)],s(554));else if(Si(this[s(471)]))this.hasAudioInit=this._decodeAudioConfigurationRecord(t,e);else{let i=e;if(be(t))return void this.player[s(644)](this.TAG_NAME,"decodeAudio and has already initialized and payload is aac codec packet so drop this frame");if(this[s(678)](),this[s(522)]){if(this.player[s(425)]()){if(null===this[s(533)]&&(this[s(533)]=e,this.player[s(644)](this.TAG_NAME,s(558)+this[s(533)])),i=e-this[s(533)],i<0&&(this.player.debugWarn(this[s(772)],"decodeAudio\n                     local dts is < 0 , ts is "+e+" and prevTs is "+this[s(487)]+s(601)+this[s(533)]),i=null===this.prevAudioDts?0:this[s(789)]+this[s(657)]._opt[s(667)],this[s(760)](e)))return this.player[s(643)](this.TAG_NAME,s(422)+e+s(536)+this.prevAudioDts+", diff is "+(this[s(789)]-e)+s(771)),void this[s(657)][s(419)](V[s(436)],s(794)+this[s(789)]+s(662)+e);null!==this[s(487)]&&i<=this[s(789)]&&(this.player[s(643)](this[s(772)],"\n                    decodeAudio dts is less than(or equal) prev dts ,\n                    dts is "+i+s(805)+this.prevAudioDts+s(587)+e+s(688)+this[s(487)]+s(707)+(e-this[s(487)])),i=this[s(789)]+this.player[s(637)].mseCorrectAudioTimeDuration)}this[s(657)][s(425)]()?this._decodeAudio(t,i,e):this[s(657)][s(510)]()?(Si(this[s(657)][s(784)])||this[s(657)][s(579)][s(428)]())&&this[s(520)](t,i,e):this[s(657)][s(788)]()&&this[s(520)](t,i,e),this[s(487)]=e,this[s(789)]=i}else this[s(657)].debugLog(this[s(772)],"decodeAudio first frame is not iFrame")}}[_y(742)](){const t=_y;if(this[t(657)][t(644)](this[t(772)],"decodeLastDataForVod and cacheTrack is "+!(!this[t(652)]||!this[t(652)].prevDuration)+" and cacheAudioTrack is "+!(!this[t(736)]||!this[t(736)][t(808)])),this[t(652)]&&this[t(652)][t(808)]){const e=this.cacheTrack[t(527)];let s=8+this[t(652)][t(775)],i=new Uint8Array(s);i[0]=s>>>24&255,i[1]=s>>>16&255,i[2]=s>>>8&255,i[3]=255&s,i.set(ky[t(618)].mdat,4),i[t(743)](this.cacheTrack[t(417)],8),this[t(652)][t(802)]=this[t(652)][t(808)],this.cacheTrack.duration>1e3&&this[t(657)][t(643)](this[t(772)],t(406)+this.cacheTrack[t(802)]+t(663)+this[t(652)][t(527)]);let r=ky[t(709)](this.cacheTrack,this[t(652)].dts);this.cacheTrack={};let n=new Uint8Array(r.byteLength+i[t(682)]);n.set(r,0),n.set(i,r[t(682)]),this[t(410)](n[t(596)]),this[t(657)][t(583)]({dfps:!0,p2dfps:!0,mseTs:e})}if(this[t(736)]&&this.cacheAudioTrack[t(808)]){let e=8+this[t(736)][t(775)],s=new Uint8Array(e);s[0]=e>>>24&255,s[1]=e>>>16&255,s[2]=e>>>8&255,s[3]=255&e,s[t(743)](ky[t(618)][t(493)],4),s[t(743)](this.cacheAudioTrack[t(417)],8),this[t(736)][t(802)]=this[t(736)].prevDuration,this[t(736)][t(802)]>1e3&&this[t(657)][t(643)](this.TAG_NAME,t(648)+this.cacheAudioTrack[t(802)]+t(572)+this[t(736)][t(527)]);let i=ky.moof(this[t(736)],this.cacheAudioTrack.dts);this[t(736)]={};let r=new Uint8Array(i[t(682)]+s[t(682)]);r[t(743)](i,0),r[t(743)](s,i.byteLength),this[t(730)](r[t(596)])}}[_y(697)](t){const e=_y;return this[e(507)]>0&&t<this[e(507)]&&this[e(507)]-t>E}[_y(760)](t){const e=_y;return this[e(487)]>0&&t<this[e(487)]&&this[e(487)]-t>E}[_y(570)](t,e,s,i){const r=_y;let n=t[r(505)](5),o={};const a=this[r(657)][r(638)]();if(i===K[r(503)]?o=Hh(n,a):i===K[r(480)]&&(o=yl(n,a)),Hs(o)||0===o[r(439)]&&0===o[r(407)]){this[r(657)][r(643)](this[r(772)],r(570),o);let t="";return t=Hs(o)?r(516):r(482)+o.codecWidth+" and codecHeight is "+o[r(407)],this.player[r(419)](V[r(630)],t),!1}!this[r(462)]&&(this[r(657)][r(644)](this[r(772)],r(409)+o[r(439)]+","+o[r(407)]),this[r(657)][r(655)][r(608)]({width:o[r(439)],height:o.codecHeight}),this[r(657)][r(655)][r(714)](),this[r(462)]=!0),this[r(657)][r(521)]&&this[r(657)][r(637)][r(616)]===c[r(815)]&&this[r(657)][r(521)].initMetaData(t,i);const h={id:xt.video,type:r(655),timescale:1e3,duration:0,avcc:n,codecWidth:o[r(439)],codecHeight:o.codecHeight,videoType:o[r(594)]},l=ky[r(446)](h);this[r(588)]=i===K.h264;let d=o.codec;return this[r(623)]=d?r(504)+o.codec+'"':this[r(588)]?it[r(512)]:it[r(769)],this[r(501)](),this[r(410)](l[r(596)]),this[r(526)]=0,this.cacheTrack={},!0}[_y(653)](t,e){const s=_y,i=t[0]>>4&15,r=t[0]>>1&1,n=i===Y[s(543)],o=i===Y[s(544)],a=i===Y[s(625)];let h="";if(h=o?r?16:8:0===r?8:16,Si(o||n))return this[s(657)][s(643)](this[s(772)],s(424)+i+s(611)),this.player[s(765)](V[s(496)]),!1;const l={id:xt[s(460)],type:s(460),timescale:1e3};let c={};if(be(t)){if(c=_e(t[s(505)](2)),!c)return!1;l[s(626)]=c[s(412)],l[s(786)]=c[s(786)],l.config=c[s(811)],l.refSampleDuration=1024/l[s(626)]*l[s(537)]}else{if(!n)return!1;if(c=Fm(t.slice(1)),!c)return!1;l[s(626)]=c[s(412)],l.channelCount=c[s(786)],l[s(573)]=1152/l[s(626)]*l[s(537)]}l.codec=c.codec,l[s(802)]=0;let d=s(815),u=c[s(787)],p=null;n&&Si(cs())?(d="mpeg",u="",p=new Uint8Array):p=ky.generateInitSegment(l);let f=l[s(509)]+"/"+d;return u&&u.length>0&&(f+=";codecs="+u),Si(this.isAudioInitInfo)&&(this[s(657)][s(460)][s(490)]({encTypeCode:i,channels:l[s(786)],sampleRate:l[s(626)],depth:h}),this[s(676)]=!0),this.audioMimeType=f,this[s(541)]=o,this[s(670)]=a,this[s(540)](),this.appendAudioBuffer(p.buffer),!0}[_y(501)](){const t=_y,{events:{proxy:e}}=this[t(657)];if(null===this.sourceBuffer&&null!==this[t(720)]&&this[t(592)]&&this[t(623)]){try{this.sourceBuffer=this.mediaSource[t(699)](this[t(623)]),this[t(657)][t(644)](this[t(772)],"_initSourceBuffer() this.mediaSource.addSourceBuffer()",this.videoMimeType)}catch(e){return this[t(657)][t(726)](this[t(772)],t(627),e.code,e),this.player[t(419)](V[t(735)],t(633)+e[t(790)]+t(776)+e[t(546)]),void(this[t(767)]=!0)}if(this[t(629)]){const s=e(this[t(629)],t(564),(e=>{const s=t;this[s(639)]=!0;const i="SourceBuffer Error - updating: "+this[s(629)].updating+", readyState: "+this[s(720)].readyState+s(706)+JSON.stringify(this.$videoElement[s(564)]||{});this[s(657)][s(726)](this.TAG_NAME,s(631),i,e),this[s(657)][s(419)](V[s(804)],"mediaSource video sourceBuffer error")})),i=e(this[t(629)],t(538),(()=>{const e=t;this._hasPendingRemoveRanges()?this[e(470)]():this._hasPendingSegments()?this[e(691)]():this[e(703)]&&(this[e(657)][e(644)](this[e(772)],e(649)),this[e(782)]())}));this.eventListenList[t(495)](s,i)}}else this[t(657)].debugLog(this[t(772)],t(669)+this[t(592)]+t(561)+(null===this[t(588)]))}[_y(540)](){const t=_y,{events:{proxy:e}}=this.player;if(null===this[t(463)]&&null!==this[t(720)]&&this[t(592)]&&this[t(548)]){try{this.audioSourceBuffer=this[t(720)][t(699)](this[t(548)]),this[t(443)](),this.player[t(644)](this.TAG_NAME,t(741),this[t(548)])}catch(e){return this[t(657)][t(726)](this[t(772)],t(575),e[t(790)],e),this[t(657)].emitError(V[t(735)],t(633)+e.code+t(776)+e[t(546)]),void(this[t(767)]=!0)}if(this.audioSourceBuffer){const s=e(this[t(463)],t(564),(e=>{const s=t;this.mediaSourceBufferError=!0;const i=s(746)+this[s(463)][s(756)]+", readyState: "+this[s(720)][s(552)]+s(706)+JSON[s(668)](this.$videoElement[s(564)]||{});this.player[s(726)](this[s(772)],"mseSourceBufferError this.audioSourceBuffer",i,e),this.player[s(419)](V[s(804)],"mediaSource audio sourceBuffer error")})),i=e(this.audioSourceBuffer,t(538),(()=>{const e=t;this[e(560)]()?this[e(470)]():this[e(754)]()?this[e(691)]():this[e(703)]&&(this[e(657)][e(644)](this[e(772)],e(445)),this[e(782)]())}));this[t(763)][t(495)](s,i),null===this.audioSourceNoDataCheckTimeout&&(this[t(700)]=setTimeout((()=>{const e=t;this[e(678)](),this.player[e(765)](V.mediaSourceAudioNoDataTimeout)}),1e3))}}else this[t(657)][t(644)](this.TAG_NAME,t(673)+this[t(592)]+t(711)+this.audioMimeType)}[_y(622)](t,e,s,i,r){const n=_y,o=this[n(657)];let a=t[n(505)](5),h=a[n(682)];if(0===h)return void o[n(643)](this[n(772)],n(615));let l=Je(),c=!1;!this.prevTimestamp&&(this[n(777)]=l,c=!0);const d=l-this.prevTimestamp;this.decodeDiffTimestamp=d,d>1e3&&!c&&this.player.isPlayer()&&o.debugLog(this[n(772)],n(454)+l+n(759)+this[n(777)]+", diff time is "+d+n(650));const u=this[n(498)];let p=null;if(this[n(652)].id&&e>=this[n(652)][n(527)]){let t=8+this.cacheTrack[n(775)],s=new Uint8Array(t);s[0]=t>>>24&255,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[n(743)](ky.types[n(493)],4),s[n(743)](this.cacheTrack[n(417)],8),this[n(652)][n(802)]=e-this.cacheTrack[n(527)],p=this[n(652)].duration,(this[n(657)][n(425)]()||this[n(657)][n(788)]())&&this[n(652)][n(802)]>1e3?this[n(657)][n(643)](this[n(772)],n(404)+this.cacheTrack[n(802)]+n(577)+e+n(694)+this[n(652)][n(527)]):this[n(657)][n(510)]()&&this[n(657)][n(415)]()&&this[n(652)][n(802)]>1e3&&this[n(657)].debugWarn(this[n(772)],n(661)+this[n(652)][n(802)]+" ms, dts is "+e+n(694)+this[n(652)][n(527)]);let i=ky[n(709)](this[n(652)],this[n(652)][n(527)]);this[n(652)]={};let r=new Uint8Array(i.byteLength+s[n(682)]);r[n(743)](i,0),r[n(743)](s,i[n(682)]),this.appendBuffer(r[n(596)]),o[n(583)]({dfps:!0,p2dfps:!0,mseTs:e}),!o._times[n(452)]&&(o[n(770)][n(452)]=Je(),o[n(469)]())}else o[n(644)](this.TAG_NAME,n(535)+e+n(433)+r+n(580)+(this[n(652)]&&this[n(652)][n(527)])+n(614)),this[n(652)]={};!this[n(652)]&&(this.cacheTrack={}),this[n(652)].id=xt[n(655)],this.cacheTrack[n(526)]=++this[n(526)],this.cacheTrack[n(775)]=h,this[n(652)][n(527)]=e,this[n(652)][n(441)]=i,this[n(652)][n(690)]=s,this[n(652)][n(417)]=a,this.cacheTrack[n(461)]={isLeading:0,dependsOn:s?2:1,isDependedOn:s?1:0,hasRedundancy:0,isNonSync:s?0:1},null!==p&&(this[n(652)][n(808)]=p),o._opt[n(442)]&&Si(this.isSupportVideoFrameCallback)&&Si(o[n(571)]())&&o[n(655)][n(795)]({$video:u,ts:e}),this[n(777)]=Je()}[_y(511)](){const t=_y;this[t(581)]&&(clearInterval(this.canvasRenderInterval),this[t(581)]=null)}[_y(520)](t,e,s){const i=_y,r=this[i(657)];let n=this.isAAC?t[i(505)](2):t[i(505)](1),o=n[i(682)],a=null;if(this[i(736)].id&&e>=this[i(736)][i(527)]){let t=8+this[i(736)][i(775)],s=new Uint8Array(t);s[0]=t>>>24&255,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[i(743)](ky.types[i(493)],4),s.set(this.cacheAudioTrack[i(417)],8),this[i(736)][i(802)]=e-this.cacheAudioTrack[i(527)],a=this.cacheAudioTrack[i(802)],this[i(736)][i(802)]>1e3&&this[i(657)][i(643)](this[i(772)],i(467)+this[i(736)][i(802)]+i(547)+e+i(432)+this[i(736)].dts);let r=ky[i(709)](this[i(736)],this.cacheAudioTrack.dts);this.cacheAudioTrack={};let n=new Uint8Array(r[i(682)]+s[i(682)]);n[i(743)](r,0),n[i(743)](s,r.byteLength),this.appendAudioBuffer(n[i(596)])}else r[i(644)](this[i(772)],i(411)+e+i(578)+(this[i(736)]&&this[i(736)][i(527)])),this[i(736)]={};!this[i(736)]&&(this.cacheAudioTrack={}),this.cacheAudioTrack.id=xt[i(460)],this[i(736)][i(526)]=++this[i(485)],this[i(736)][i(775)]=o,this[i(736)][i(527)]=e,this[i(736)][i(441)]=0,this[i(736)][i(417)]=n,this.cacheAudioTrack[i(461)]={isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0},null!==a&&(this[i(736)][i(808)]=a)}[_y(410)](t){const e=_y;this._isDestroyed||(this.player[e(586)]()?this.player[e(643)](this[e(772)],e(753)):(this.player,this[e(767)]?this.player[e(643)](this.TAG_NAME,"appendBuffer() this.mediaSourceAddSourceBufferError is true"):this[e(796)]?this[e(657)][e(643)](this.TAG_NAME,e(607)):this.mediaSourceAppendBufferError?this[e(657)][e(643)](this[e(772)],e(681)):this.mediaSourceBufferError?this[e(657)].debugWarn(this[e(772)],e(403)):(this[e(731)][e(495)](t),this[e(629)]&&(this[e(657)][e(425)]()&&this._handleUpdatePlaybackRate(),this[e(657)][e(510)]()&&(this[e(435)](),this[e(744)]()),this[e(657)][e(788)]()&&this[e(435)](),bi(this[e(657)][e(748)]())&&this[e(657)][e(637)].mseAutoCleanupSourceBuffer&&this[e(721)]()&&this._doCleanUpSourceBuffer(),Si(this.getSourceBufferUpdating())&&this[e(592)]&&Si(this[e(560)]()))?this._doAppendSegments():this.isStateClosed?(this.mediaSourceBufferError=!0,this[e(657)].emitError(V.mseSourceBufferError,e(806))):this[e(464)]&&(this[e(639)]=!0,this[e(657)][e(419)](V[e(804)],e(617))))))}[_y(730)](t){const e=_y;this[e(624)]||(this[e(657)][e(586)]()?this.player.debugWarn(this[e(772)],e(494)):(this[e(657)],this[e(767)]?this[e(657)][e(643)](this.TAG_NAME,e(609)):this[e(796)]?this[e(657)].debugWarn(this[e(772)],e(562)):this[e(502)]?this[e(657)].debugWarn(this[e(772)],e(450)):this[e(639)]?this[e(657)].debugWarn(this[e(772)],e(755)):(this[e(576)][e(495)](t),this.audioSourceBuffer&&(this.player.isPlayer()&&this[e(500)](),this[e(657)][e(510)]()&&(this._handleUpdateBufferDelayTime(),this[e(744)]()),this.player[e(788)]()&&this[e(435)](),bi(this.player[e(748)]())&&this[e(657)][e(637)][e(732)]&&this[e(721)]()&&this[e(591)](),Si(this[e(478)]())&&this[e(592)]&&Si(this[e(560)]()))?this[e(691)]():this.isStateClosed?(this[e(639)]=!0,this[e(657)][e(419)](V[e(804)],e(806))):this[e(464)]&&(this.mediaSourceBufferError=!0,this[e(657)][e(419)](V.mseSourceBufferError,"mediaSource is end")))))}[_y(693)](){const t=_y;return this[t(629)]&&this[t(629)][t(756)]}[_y(478)](){const t=_y;return this.audioSourceBuffer&&this[t(463)][t(756)]}[_y(773)](){const t=_y;this[t(781)](),this[t(719)](),this[t(782)]()}[_y(539)](){const t=_y,e=this[t(498)];let s=0,i=0;return e[t(702)][t(553)]>0&&(i=e[t(702)][t(779)](e[t(702)].length-1),s=i-e.currentTime),s<0&&(this[t(657)][t(643)](this[t(772)],t(740)+s+t(491)+i+t(797)+e[t(715)]+t(523)+e[t(715)]+" to "+i),e[t(715)]=i,e[t(666)]&&(this.player[t(643)](this.TAG_NAME,t(701)),this[t(657)][t(483)]=!0),s=0),s}checkSourceBufferStore(){const t=_y,e=this[t(498)];let s=0;return e[t(702)][t(553)]>0&&(s=e[t(715)]-e.buffered.start(0)),s}[_y(405)](){const t=_y,e=this[t(498)];let s=0;return e[t(702)][t(553)]>0&&(s=e[t(702)][t(779)](e[t(702)][t(553)]-1)-e.currentTime),s}[_y(566)](){return this[_y(817)]}[_y(475)](t,e){const s=_y,i=Zs();if(this.player[s(644)](this[s(772)],s(447)+t+" and end is "+e+" and _isMacOsFirefox is "+i),this[s(592)]&&Si(i)){if(Si(this.getSourceBufferUpdating()))try{this[s(629)][s(525)](t,e)}catch(t){this[s(657)][s(643)](this.TAG_NAME,s(780),t)}if(Si(this.getAudioSourceBufferUpdating()))try{this[s(463)][s(525)](t,e)}catch(t){this.player.debugWarn(this[s(772)],s(448),t)}}}[_y(766)](t,e){const s=_y;this[s(657)][s(644)](this[s(772)],"clearSourceBuffer() start is "+t+" and end is "+e),this[s(629)]&&this[s(568)][s(495)]({start:t,end:e}),this[s(463)]&&this.pendingAudioRemoveRanges[s(495)]({start:t,end:e}),this[s(470)]()}clearUpAllSourceBuffer(){const t=_y;if(this[t(629)]){const e=this.sourceBuffer[t(702)];for(let s=0;s<e[t(553)];s++){let i=e.start(s),r=e[t(779)](s);this[t(568)][t(495)]({start:i,end:r})}Si(this.getSourceBufferUpdating())&&this._doRemoveRanges()}if(this[t(463)]){const e=this[t(463)][t(702)];for(let s=0;s<e[t(553)];s++){let i=e[t(814)](s),r=e[t(779)](s);this[t(545)][t(495)]({start:i,end:r})}Si(this[t(478)]())&&this._doRemoveRanges()}}[_y(782)](){const t=_y;if(this[t(592)]&&this[t(498)]&&this[t(498)][t(552)]>=1)if(this[t(693)]()||this[t(478)]())this[t(703)]=!0;else{this[t(703)]=!1;try{this[t(657)][t(644)](this[t(772)],"endOfStream()"),this[t(720)][t(782)]()}catch(e){this[t(657)][t(643)](this.TAG_NAME,t(716),e)}}}[_y(781)](){const t=_y;if(this[t(592)]){if(this[t(629)]){try{this[t(657)].debugLog(this[t(772)],"abortSourceBuffer() abort sourceBuffer"),this.sourceBuffer.abort()}catch(t){}Si(this[t(693)]())&&this[t(470)]()}if(this[t(463)]){try{this.player.debugLog(this.TAG_NAME,t(656)),this[t(463)][t(508)]()}catch(t){}Si(this[t(478)]())&&this[t(470)]()}}this[t(629)]=null,this[t(463)]=null}[_y(719)](){const t=_y;if(!this[t(734)]&&this[t(720)]){if(this[t(629)])try{this[t(657)].debugLog(this.TAG_NAME,t(665)),this[t(720)][t(719)](this.sourceBuffer)}catch(e){this.player[t(726)](this.TAG_NAME,"removeSourceBuffer() sourceBuffer error",e)}if(this[t(463)])try{this.player.debugLog(this[t(772)],"removeSourceBuffer() audioSourceBuffer"),this[t(720)].removeSourceBuffer(this[t(463)])}catch(e){this.player[t(726)](this[t(772)],t(645),e)}}}[_y(754)](){const t=_y;return this[t(731)][t(553)]>0||this.pendingAudioSegments[t(553)]>0}getPendingSegmentsLength(){const t=_y;return this[t(731)][t(553)]}[_y(500)](){const t=_y;if(!this[t(498)])return;const e=this[t(498)];this[t(657)][t(637)][t(551)],this.player[t(637)][t(660)];const s=e[t(702)];s.length&&s[t(814)](0);const i=s[t(553)]?s.end(s[t(553)]-1):0;let r=e[t(715)];const n=i-r,o=this[t(476)]();if(this.player.updateStats({mseVideoBufferDelayTime:n}),0===this.$videoElement[t(552)])return;if(n>o){const s=this.getLastBufferDelayEndTime(1);this[t(657)][t(644)](this.TAG_NAME,t(434)+i+t(750)+r+" , delay buffer is more than "+o+" is "+n+t(599)+s),e[t(715)]=s,r=e.currentTime}else if(n<0&&0===i)return this[t(657)][t(643)](this[t(772)],"handleUpdatePlaybackRate and delay buffer is "+i+t(816)+r+" = "+n+t(812)+e.paused+" "),void this[t(657)][t(765)](V[t(421)],"video.buffered is empty");const a=this._getPlaybackRate(i-r);e.playbackRate!==a&&(this.player[t(644)](this.TAG_NAME,t(434)+i+" and current time is "+r+t(418)+(i-r)+t(774)+a+" "),e[t(761)]=a)}[_y(435)](){const t=_y,e=this[t(718)]();this[t(657)][t(583)]({mseVideoBufferDelayTime:e})}[_y(744)](){const t=_y,e=this[t(486)]();if(e<0){const s=this[t(684)]();this[t(657)].debugWarn(this[t(772)],t(413)+e+" < 0 and set currentTime "+this[t(498)][t(715)]+t(729)+s),this.$videoElement[t(715)]=s}}updateVideoCurrentTimeByBufferStart(){const t=_y;if(!this[t(498)])return;const e=this.$videoElement.currentTime,s=this[t(685)]();if(0===s.length)return void this.player.debugWarn(this.TAG_NAME,t(458));if(1===s[t(553)]){const i=s[0].end,r=Math[t(400)](i-e);if(r<1)return void this[t(657)].debugLog(this[t(772)],"updateVideoCurrentTimeByBufferStart current time is "+e+t(499)+i+t(636)+r+t(613))}let i=null;for(let r=0;r<s.length;r++){const n=s[r];if(e<n[t(814)]){i=n.start;break}}null===i&&(this.player.debugWarn(this.TAG_NAME,t(440)+e+" and new time is null and use last buffer start time"),i=s[s[t(553)]-1][t(814)]),this[t(657)][t(644)](this[t(772)],t(813)+JSON.stringify(s)+t(810)+e+t(599)+i),this.$videoElement[t(715)]=i}[_y(691)](){const t=_y;if(this.isStateClosed||this.isStateEnded)this[t(657)][t(644)](this[t(772)],"_doAppendSegments() mediaSource is closed or ended and return");else if(null!==this[t(629)]){if(this[t(605)]()&&null===this[t(463)])return this.player[t(644)](this[t(772)],"_doAppendSegments() audioSourceBuffer is null and need init audio source buffer"),void(null===this[t(641)]&&(this[t(641)]=setTimeout((()=>{const e=t;this[e(443)](),this[e(657)].emit(V[e(524)])}),1e3)));if(Si(this.getSourceBufferUpdating())&&this.sourceBuffer&&this[t(731)][t(553)]>0){const e=this[t(731)][t(492)]();try{this[t(629)].appendBuffer(e)}catch(e){this[t(657)][t(726)](this.TAG_NAME,t(517),e[t(790)],e),22===e.code?(this.stop(),this[t(796)]=!0,this[t(657)].emitError(V[t(528)],t(633)+e[t(790)]+" and message is "+e[t(546)])):11===e[t(790)]?(this[t(773)](),this[t(502)]=!0,this[t(657)].emitError(V.mediaSourceAppendBufferError,"code is "+e[t(790)]+" and message is "+e[t(546)])):(this.stop(),this[t(639)]=!0,this[t(657)][t(419)](O.mseSourceBufferError,"code is "+e[t(790)]+t(776)+e[t(546)]))}}if(Si(this[t(478)]())&&this[t(463)]&&this[t(576)][t(553)]>0){const e=this[t(576)][t(492)]();try{this[t(463)].appendBuffer(e)}catch(e){this[t(657)][t(726)](this[t(772)],t(680),e[t(790)],e),22===e.code?(this.stop(),this[t(796)]=!0,this[t(657)][t(419)](V[t(528)],t(633)+e.code+" and message is "+e[t(546)])):11===e[t(790)]?(this[t(773)](),this[t(502)]=!0,this[t(657)][t(419)](V[t(502)],"code is "+e.code+" and message is "+e[t(546)])):(this[t(773)](),this[t(639)]=!0,this[t(657)][t(419)](O[t(804)],t(633)+e[t(790)]+t(776)+e[t(546)]))}}}else this[t(657)][t(644)](this[t(772)],t(679))}[_y(591)](){const t=_y;if(!this[t(498)])return;const e=this[t(498)][t(715)];if(this[t(629)]){const s=this[t(629)][t(702)];let i=!1;for(let r=0;r<s.length;r++){let n=s[t(814)](r),o=s[t(779)](r);if(n<=e&&e<o+3){if(e-n>=this[t(657)][t(637)].mseAutoCleanupMaxBackwardDuration){i=!0;let s=e-this[t(657)][t(637)].mseAutoCleanupMinBackwardDuration;this.pendingRemoveRanges[t(495)]({start:n,end:s})}}else o<e&&(i=!0,this[t(568)][t(495)]({start:n,end:o}))}i&&Si(this.getSourceBufferUpdating())&&this[t(470)]()}if(this[t(463)]){const s=this.audioSourceBuffer[t(702)];let i=!1;for(let r=0;r<s[t(553)];r++){let n=s.start(r),o=s[t(779)](r);if(n<=e&&e<o+3){if(e-n>=this[t(657)][t(637)][t(713)]){i=!0;let s=e-this[t(657)][t(637)][t(778)];this.pendingAudioRemoveRanges.push({start:n,end:s})}}else o<e&&(i=!0,this[t(545)][t(495)]({start:n,end:o}))}i&&Si(this[t(478)]())&&this[t(470)]()}}[_y(560)](){const t=_y;return this[t(568)][t(553)]>0||this[t(545)].length>0}[_y(470)](){const t=_y;if(this.sourceBuffer&&Si(this[t(693)]())){let e=this[t(568)];for(;e.length&&Si(this[t(693)]());){let s=e.shift();try{this[t(629)][t(525)](s[t(814)],s[t(779)])}catch(e){this[t(657)][t(643)](this[t(772)],"_doRemoveRanges() sourceBuffer error",e)}}}if(this.audioSourceBuffer&&Si(this[t(478)]())){let e=this[t(545)];for(;e[t(553)]&&Si(this[t(478)]());){let s=e.shift();try{this[t(463)].remove(s[t(814)],s[t(779)])}catch(e){this[t(657)][t(643)](this[t(772)],t(704),e)}}}}getDecodePlaybackRate(){const t=_y;let e=0;const s=this[t(498)];return s&&(e=s[t(761)]),e}[_y(484)](t){const e=_y,s=this[e(498)];let i=this[e(657)][e(637)][e(660)]+this[e(657)][e(637)][e(551)];const r=Math[e(712)](i,1e3),n=r/2;return t*=1e3,1===s[e(761)]?t>r?1.2:1:t<=n?1:s[e(761)]}_needCleanupSourceBuffer(){const t=_y;if(Si(this[t(657)][t(637)][t(732)])||!this.$videoElement)return!1;const e=this[t(498)],s=e[t(702)],i=e[t(715)];return s[t(553)]>=1&&i-s.start(0)>=this[t(657)]._opt.mseAutoCleanupMaxBackwardDuration}[_y(634)](){const t=_y;let e=0;return this[t(498)]&&(e=this.$videoElement[t(715)]),e}[_y(602)](){const t=_y,e=this[t(498)];let s=0;if(e){const i=e[t(702)];i[t(553)]&&i[t(814)](0);s=i.length?i[t(779)](i[t(553)]-1):0}return s}[_y(606)](){const t=_y,e=this[t(498)];let s=null;if(e){const i=e[t(702)],r=i.length?i[t(814)](0):0,n=i[t(553)]?i.end(i[t(553)]-1):0;s={start:r,end:n,diff:n-r}}return s}[_y(684)](){const t=_y,e=this[t(498)];let s=0;if(e){const i=e[t(702)];s=i[t(553)]?i[t(814)](0):0}return s}[_y(567)](){const t=_y,e=this.$videoElement;let s=0;if(e){const i=e.buffered;s=i[t(553)]?i[t(779)](i[t(553)]-1):0}return s}[_y(685)](){const t=_y,e=this.$videoElement;let s=[];if(e){const i=e[t(702)];for(let e=0;e<i[t(553)];e++){let r=i[t(814)](e),n=i[t(779)](e);s[t(495)]({start:r,end:n})}}return s}getVideoBufferDelayTime(){const t=_y,e=this[t(498)];const s=this.getVideoBufferLastTime()-e[t(715)];return s>0?s:0}[_y(443)](){this.audioSourceBufferCheckTimeout&&(clearTimeout(this.audioSourceBufferCheckTimeout),this.audioSourceBufferCheckTimeout=null)}[_y(678)](){const t=_y;this[t(700)]&&(clearTimeout(this[t(700)]),this[t(700)]=null)}[_y(472)](){const t=_y;return{video:this[t(623)],audio:this[t(548)]}}[_y(476)](){const t=_y;let e=(this.player._opt[t(551)]+this[t(657)][t(637)][t(660)])/1e3;return Math[t(712)](5,e+3)}[_y(513)](){const t=_y;return this[t(498)]&&Si(this.$videoElement.paused)&&Si(this[t(498)].ended)&&0!==this[t(498)][t(761)]&&0!==this[t(498)][t(552)]}[_y(792)](){const t=_y;let e=!1;if(this[t(498)]){const s=this[t(498)][t(715)],i=this.getVideoBufferEndTime(),r=Math[t(400)](i-s);e=r<1,e&&this[t(657)][t(644)](this[t(772)],t(610)+s+t(474)+i+t(636)+r)}return e}[_y(453)](){const t=_y,e=this[t(486)]();if(e<0){const s=this[t(684)]();this[t(657)][t(628)].warn(this[t(772)],t(413)+e+" < 0 and set currentTime "+this.$videoElement[t(715)]+t(729)+s),this[t(498)][t(715)]=s}}[_y(749)](t){const e=_y;this[e(720)]&&(this[e(720)][e(802)]=t)}[_y(739)](t,e){const s=_y;if(this[s(720)]){this[s(657)][s(644)](this[s(772)],s(612)+t+s(474)+e);const i=this.mediaSource;if(t<0||e<t||null==i||!i[s(739)]||"open"!==i[s(552)])return;i[s(739)](t,e)}}[_y(416)](){const t=_y;let e=arguments[t(553)]>0&&void 0!==arguments[0]?arguments[0]:1,s=this[t(498)][t(715)];const i=this[t(685)]();if(0===i[t(553)])return s;const r=i[i[t(553)]-1];return s=r[t(779)]-r[t(814)]<1?r[t(814)]:r[t(779)]-(e||1),s}}const Ly=Py;function Py(t,e){const s=Uy();return(Py=function(t,e){return s[t-=207]})(t,e)}!function(t,e){const s=Py,i=t();for(;;)try{if(559653===-parseInt(s(213))/1+-parseInt(s(274))/2*(parseInt(s(225))/3)+parseInt(s(244))/4*(parseInt(s(236))/5)+-parseInt(s(233))/6*(-parseInt(s(238))/7)+-parseInt(s(266))/8*(parseInt(s(229))/9)+parseInt(s(232))/10+parseInt(s(265))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Uy);const xy=Ly(246),My=Ly(224),By=()=>Ly(240)in navigator&&-1===window.navigator[Ly(264)][Ly(211)](Ly(216))&&Si(us());class Fy{constructor(t){const e=Ly;this[e(214)]=t,this.enabled=!1,By()?(this[e(214)][e(249)](e(234),e(239)),this[e(209)]=null,this.handleVisibilityChange=()=>{const t=e;null!==this[t(209)]&&"visible"===document.visibilityState&&this[t(269)]()},document.addEventListener(e(221),this.handleVisibilityChange),document.addEventListener(e(217),this[e(226)])):(this[e(214)][e(249)](e(234),e(219)),this[e(252)]=document[e(220)](e(253)),this[e(252)][e(242)](e(248),e(231)),this.noSleepVideo[e(242)](e(260),""),this._addSourceToVideo(this[e(252)],e(247),xy),this._addSourceToVideo(this[e(252)],e(245),My),Object.assign(this[e(252)].style,{position:"absolute",left:e(270),top:e(270)}),document[e(257)](e(276))[e(263)](this[e(252)]),this[e(228)]=()=>{const t=e;this[t(252)]&&this.noSleepVideo[t(208)]>4&&(this[t(252)][t(208)]=1)},this[e(252)][e(243)](e(218),this[e(228)]))}[Ly(251)](){const t=Ly;if(this[t(209)]&&(this[t(209)][t(215)](),this._wakeLock=null),this[t(252)]){this[t(228)]&&this[t(252)][t(210)](t(218),this[t(228)]);try{this[t(252)].parentNode&&this[t(252)][t(272)][t(235)](this[t(252)])}catch(e){this[t(214)][t(223)](t(234),"Failed to remove noSleepVideo element.")}this.noSleepVideo=null}this.handleVisibilityChange&&(document[t(210)](t(221),this[t(226)]),document[t(210)]("fullscreenchange",this[t(226)]))}[Ly(258)](t,e,s){const i=Ly;var r=document[i(220)](i(275));r.src=s,r[i(241)]=i(230)+e,t[i(250)](r)}get[Ly(267)](){return this[Ly(273)]}enable(){const t=Ly;if(By())return navigator[t(240)][t(271)](t(222))[t(255)]((e=>{const s=t;this[s(209)]=e,this[s(273)]=!0,this[s(214)].debugLog(s(240),s(259)),this._wakeLock[s(243)](s(215),(()=>{const t=s;this[t(214)][t(249)]("wakeLock",t(212))}))}))[t(227)]((e=>{const s=t;throw this[s(273)]=!1,this[s(214)][s(223)](s(240),e[s(207)]+", "+e[s(268)]),e}));return this.noSleepVideo[t(261)]().then((e=>{const s=t;return this.player[s(249)](s(240),s(254)),this.enabled=!0,e}))[t(227)]((e=>{const s=t;throw this[s(214)][s(223)](s(240),s(262)+e.name+", "+e[s(268)]),this[s(273)]=!1,e}))}[Ly(237)](){const t=Ly;By()?(this[t(209)]&&this[t(209)][t(215)](),this._wakeLock=null):this.noSleepVideo&&this[t(252)].pause(),this[t(273)]=!1,this[t(214)][t(249)]("wakeLock",t(256))}}function Uy(){const t=["28swglSK","Native Wake Lock API supported.","wakeLock","type","setAttribute","addEventListener","228LbRZwj","mp4","data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQRChYECGFOAZwEAAAAAABLfEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHYTbuMU6uEElTDZ1OsggGXTbuMU6uEHFO7a1OsghLJ7AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmsirXsYMPQkBNgI1MYXZmNTguNDUuMTAwV0GNTGF2ZjU4LjQ1LjEwMESJiECzmgAAAAAAFlSua0C5rgEAAAAAAABO14EBc8WI9UhIq9EDJPCcgQAitZyDdW5khoVWX1ZQOIOBASPjg4QF9eEA4AEAAAAAAAAbsIIBQLqB8FSwggElVLqB8FWwiFW3gQFVuIECrgEAAAAAAABZ14ECc8WIUEWPA9J/iJ6cgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4ZGfgQG1iEDncAAAAAAAYmSBIGOik09wdXNIZWFkAQE4AYC7AAAAAAASVMNnQcJzcwEAAAAAAACXY8CAZ8gBAAAAAAAAFUWji01BSk9SX0JSQU5ERIeEaXNvbWfIAQAAAAAAABZFo41NSU5PUl9WRVJTSU9ORIeDNTEyZ8gBAAAAAAAAJ0WjkUNPTVBBVElCTEVfQlJBTkRTRIeQaXNvbWlzbzJhdmMxbXA0MWfIAQAAAAAAABpFo4dFTkNPREVSRIeNTGF2ZjU4LjQ1LjEwMHNzAQAAAAAAAIZjwItjxYj1SEir0QMk8GfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xWaWRlb0hhbmRsZXJnyAEAAAAAAAAhRaOHRU5DT0RFUkSHlExhdmM1OC45MS4xMDAgbGlidnB4Z8iiRaOIRFVSQVRJT05Eh5QwMDowMDowNS4wMDcwMDAwMDAAAHNzAQAAAAAAAIdjwItjxYhQRY8D0n+InmfIAQAAAAAAAB5Fo4xIQU5ETEVSX05BTUVEh4xTb3VuZEhhbmRsZXJnyAEAAAAAAAAiRaOHRU5DT0RFUkSHlUxhdmM1OC45MS4xMDAgbGlib3B1c2fIokWjiERVUkFUSU9ORIeUMDA6MDA6MDUuMDE4MDAwMDAwAAAfQ7Z1T2TngQCjh4IAAID4//6jQKSBAAeAMBIAnQEqQAHwAABHCIWFiIWEiAICAAYWBPcGgWSfa9ubJzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh7Jzh69AD+/6tQgKOHggAVgPj//qOHggApgPj//qOHggA9gPj//qOHggBRgPj//qOHggBlgPj//qOegQBrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAHmA+P/+o4eCAI2A+P/+o4eCAKGA+P/+o4eCALWA+P/+o4eCAMmA+P/+o56BAM8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IA3YD4//6jh4IA8YD4//6jh4IBBYD4//6jh4IBGYD4//6jh4IBLYD4//6jnoEBMwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggFBgPj//qOHggFVgPj//qOHggFpgPj//qOHggF9gPj//qOHggGRgPj//qOegQGXANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCAaWA+P/+o4eCAbmA+P/+o4eCAc2A+P/+o4eCAeGA+P/+o4eCAfWA+P/+o56BAfsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ICCYD4//6jh4ICHYD4//6jh4ICMYD4//6jh4ICRYD4//6jh4ICWYD4//6jnoECXwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggJtgPj//qOHggKBgPj//qOHggKVgPj//qOHggKpgPj//qOHggK9gPj//qOegQLDANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCAtGA+P/+o4eCAuWA+P/+o4eCAvmA+P/+o4eCAw2A+P/+o4eCAyGA+P/+o56BAycA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IDNYD4//6jh4IDSYD4//6jh4IDXYD4//6jh4IDcYD4//6jh4IDhYD4//6jnoEDiwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggOZgPj//qOHggOtgPj//qOHggPBgPj//qOHggPVgPj//qOHggPpgPj//qOegQPvANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCA/2A+P/+o4eCBBGA+P/+o4eCBCWA+P/+o4eCBDmA+P/+o4eCBE2A+P/+o56BBFMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IEiID4//6jh4IEnID4//6jh4IEsID4//6jnoEEtwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggTEgPj//qOHggTYgPj//qOHggTsgPj//qOHggUAgPj//qOHggUUgPj//qOegQUbANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBSiA+P/+o4eCBTyA+P/+o4eCBVCA+P/+o4eCBWSA+P/+o4eCBXiA+P/+o56BBX8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IFjID4//6jh4IFoID4//6jh4IFtID4//6jh4IFyID4//6jh4IF3ID4//6jnoEF4wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggXwgPj//qOHggYEgPj//qOHggYYgPj//qOHggYsgPj//qOHggZAgPj//qOegQZHANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCBlSA+P/+o4eCBmiA+P/+o4eCBnyA+P/+o4eCBpCA+P/+o4eCBqSA+P/+o56BBqsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IGuID4//6jh4IGzID4//6jh4IG4ID4//6jh4IG9ID4//6jh4IHCID4//6jnoEHDwDRAgAFEBAUYABhYL/QACIAEM1+tck+ccwAAKOHggccgPj//qOHggcwgPj//qOHggdEgPj//qOHggdYgPj//qOHggdsgPj//qOegQdzANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCB4CA+P/+o4eCB5SA+P/+o4eCB6iA+P/+o4eCB7yA+P/+o4eCB9CA+P/+o56BB9cA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IH5ID4//6jh4IH+ID4//6jh4IIDID4//6jh4IIIID4//6jh4IINID4//6jnoEIOwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgghIgPj//qOHgghcgPj//qOHgghwgPj//qOHggiEgPj//qOegQifANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCMCA+P/+o4eCCNSA+P/+o4eCCOiA+P/+o4eCCPyA+P/+o56BCQMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IJEID4//6jh4IJJID4//6jh4IJOID4//6jh4IJTID4//6jh4IJYID4//6jnoEJZwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggl0gPj//qOHggmIgPj//qOHggmcgPj//qOHggmwgPj//qOHggnEgPj//qOegQnLANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCdiA+P/+o4eCCeyA+P/+o4eCCgCA+P/+o4eCChSA+P/+o4eCCiiA+P/+o56BCi8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IKPID4//6jh4IKUID4//6jh4IKZID4//6jh4IKeID4//6jh4IKjID4//6jnoEKkwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggqggPj//qOHggq0gPj//qOHggrIgPj//qOHggrcgPj//qOHggrwgPj//qOegQr3ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCCwSA+P/+o4eCCxiA+P/+o4eCCyyA+P/+o4eCC0CA+P/+o4eCC1SA+P/+o56BC1sA0QIABRAQFGAAYWC/0AAiABDNfrXJPnHMAACjh4ILaID4//6jh4ILfID4//6jh4ILkID4//6jh4ILpID4//6jh4ILuID4//6jnoELvwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHggvMgPj//qOHggvggPj//qOHggv0gPj//qOHggwIgPj//qOHggwcgPj//qOegQwjANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDDCA+P/+o4eCDESA+P/+o4eCDFiA+P/+o4eCDGyA+P/+o4eCDICA+P/+o56BDIcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IMlID4//6jh4IMqID4//6jh4IMvID4//6jh4IM0ID4//6jnoEM6wDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg0MgPj//qOHgg0ggPj//qOHgg00gPj//qOHgg1IgPj//qOegQ1PANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDVyA+P/+o4eCDXCA+P/+o4eCDYSA+P/+o4eCDZiA+P/+o4eCDayA+P/+o56BDbMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4INwID4//6jh4IN1ID4//6jh4IN6ID4//6jh4IN/ID4//6jh4IOEID4//6jnoEOFwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg4kgPj//qOHgg44gPj//qOHgg5MgPj//qOHgg5ggPj//qOHgg50gPj//qOegQ57ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCDoiA+P/+o4eCDpyA+P/+o4eCDrCA+P/+o4eCDsSA+P/+o4eCDtiA+P/+o56BDt8A0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IO7ID4//6jh4IPAID4//6jh4IPFID4//6jh4IPKID4//6jh4IPPID4//6jnoEPQwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHgg9QgPj//qOHgg9kgPj//qOHgg94gPj//qOHgg+MgPj//qOHgg+ggPj//qOegQ+nANECAAUQEBRgAGFgv9AAIgAQzX61yT5xzAAAo4eCD7SA+P/+o4eCD8iA+P/+o4eCD9yA+P/+o4eCD/CA+P/+o4eCEASA+P/+o56BEAsA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IQGID4//6jh4IQLID4//6jh4IQQID4//6jh4IQVID4//6jh4IQaID4//6jnoEQbwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghB8gPj//qOHghCQgPj//qOHghCkgPj//qOHghC4gPj//qOHghDMgPj//qOegRDTANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEOCA+P/+o4eCEPSA+P/+o4eCEQiA+P/+o56BETcA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4IRQ4D4//6jh4IRV4D4//6jh4IRa4D4//6jh4IRf4D4//6jh4IRk4D4//6jnoERmwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghGngPj//qOHghG7gPj//qOHghHPgPj//qOHghHjgPj//qOHghH3gPj//qOegRH/ANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEguA+P/+o4eCEh+A+P/+o4eCEjOA+P/+o4eCEkeA+P/+o4eCEluA+P/+o56BEmMA0QIABRCsABgAGFgv9AAIgAQzX61yT5xzAACjh4ISb4D4//6jh4ISg4D4//6jh4ISl4D4//6jh4ISq4D4//6jh4ISv4D4//6jnoESxwDRAgAFEKwAGAAYWC/0AAiABDNfrXJPnHMAAKOHghLTgPj//qOHghLngPj//qOHghL7gPj//qOHghMPgPj//qOHghMjgPj//qOegRMrANECAAUQrAAYABhYL/QACIAEM1+tck+ccwAAo4eCEzeA+P/+o4eCE0uA+P/+o4eCE1+A+P/+o4eCE3OA+P/+oAEAAAAAAAAPoYeCE4cA+P/+daKDB/KBHFO7a5G7j7OBB7eK94EB8YIDX/CBDA==","webm","title","debugLog","appendChild","destroy","noSleepVideo","video","noSleepVideo Wake Lock active.","then","Disabling wake lock.","querySelector","_addSourceToVideo","Wake Lock active.","playsinline","play","noSleepVideo ","append","userAgent","1930390CmVlQv","2609504tGykUU","isEnabled","message","enable","-100%","request","parentNode","enabled","35246lYWNYs","source","body","name","currentTime","_wakeLock","removeEventListener","indexOf","Wake Lock released.","123083hDxqgK","player","release","Samsung","fullscreenchange","timeupdate","Native Wake Lock API not supported. so use video element.","createElement","visibilitychange","screen","debugWarn","data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACORtZGF03gIATGF2YzU4LjM1LjEwMAACMEAOAAACcQYF//9t3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE2MSByMzAyNyA0MTIxMjc3IC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAyMCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTAgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTcgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MCBrZXlpbnQ9MjUwIGtleWludF9taW49MTAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIzLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAADvZYiED/JigADD7JycnJycnJycnJycnJycnJycnJ11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111114BGCAHARggBwEYIAcBGCAHARggBwAAAAdBmjgf4BLYARggBwEYIAcBGCAHARggBwAAAAdBmlQH+AS2ARggBwEYIAcBGCAHARggBwAAAAdBmmA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZrAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0Ga4D/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbAD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbID/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm0A/wCWwARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwEYIAcAAAAHQZuAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0Gb4D/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmiA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmkA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZpgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZqgP8AlsAEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmwA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtgP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbgD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GboD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GbwD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBm+A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmgA/wCWwARggBwEYIAcAAAAHQZogP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaQD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GaYD/AJbABGCAHARggBwEYIAcBGCAHAAAAB0GagD/AJbABGCAHARggBwEYIAcBGCAHARggBwAAAAdBmqA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmsA/wCWwARggBwEYIAcBGCAHARggBwAAAAdBmuA/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZsAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZsgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZtAP8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GbYD/AJbABGCAHARggBwAAAAdBm4A/wCWwARggBwEYIAcBGCAHARggBwAAAAdBm6A/wCWwARggBwEYIAcBGCAHARggBwEYIAcAAAAHQZvAP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZvgP8AlsAEYIAcBGCAHARggBwEYIAcAAAAHQZoAO8AlsAEYIAcBGCAHARggBwEYIAcBGCAHAAAAB0GaIDfAJbABGCAHARggBwEYIAcBGCAHAAAMxm1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAABOgAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAPLdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAABOIAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAElVVUA8AAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAATiAAAAAAAAQAAAAADQ21kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAKAAAAMgAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAu5taW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAKuc3RibAAAAKpzdHNkAAAAAAAAAAEAAACaYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAFAAPAASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADRhdmNDAULAC//hABxnQsAL2QFB+/8ACwAMEAAAAwAQAAADAUDxQqSAAQAFaMuDyyAAAAAQcGFzcAAAAAsAAAAMAAAAGHN0dHMAAAAAAAAAAQAAADIAAAQAAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAA3HN0c3oAAAAAAAAAAAAAADIAAANoAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAANhzdGNvAAAAAAAAADIAAABFAAADwQAAA9wAAAP3AAAEFgAABDEAAARMAAAEawAABIYAAAShAAAEwAAABNcAAATuAAAFDQAABSgAAAVDAAAFYgAABX0AAAWYAAAFtwAABdIAAAXtAAAGBAAABh8AAAY6AAAGWQAABnQAAAaPAAAGrgAABskAAAbkAAAHAwAABx4AAAcxAAAHUAAAB2sAAAeGAAAHpQAAB8AAAAfbAAAH+gAACBUAAAgwAAAITwAACGIAAAh9AAAInAAACLcAAAjSAAAI8QAACCV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAAE6AAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAABOIAAAEAAABAAAAAAedbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAACsRAADYVRVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAAHSG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAHDHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAACsRAAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAENiAAABVQFgICABRIIVuUABoCAgAECAAAAYHN0dHMAAAAAAAAACgAAAC8AAAQAAAAAAQAACtUAAAAsAAAEAAAAAAEAAArWAAAALAAABAAAAAABAAAK1QAAACwAAAQAAAAAAQAACtUAAAAaAAAEAAAAAAEAAAH/AAABzHN0c2MAAAAAAAAAJQAAAAEAAAABAAAAAQAAAAIAAAAFAAAAAQAAAAMAAAAEAAAAAQAAAAUAAAAFAAAAAQAAAAYAAAAEAAAAAQAAAAgAAAAFAAAAAQAAAAkAAAAEAAAAAQAAAAsAAAAFAAAAAQAAAAwAAAADAAAAAQAAAA4AAAAFAAAAAQAAAA8AAAAEAAAAAQAAABEAAAAFAAAAAQAAABIAAAAEAAAAAQAAABQAAAAFAAAAAQAAABUAAAAEAAAAAQAAABcAAAADAAAAAQAAABgAAAAEAAAAAQAAABoAAAAFAAAAAQAAABsAAAAEAAAAAQAAAB0AAAAFAAAAAQAAAB4AAAAEAAAAAQAAACAAAAAFAAAAAQAAACEAAAAEAAAAAQAAACIAAAACAAAAAQAAACMAAAAFAAAAAQAAACQAAAAEAAAAAQAAACYAAAAFAAAAAQAAACcAAAAEAAAAAQAAACkAAAAFAAAAAQAAACoAAAAEAAAAAQAAACwAAAAFAAAAAQAAAC0AAAACAAAAAQAAAC4AAAAEAAAAAQAAAC8AAAAFAAAAAQAAADAAAAAEAAAAAQAAADIAAAAFAAAAAQAAADMAAAAEAAAAAQAAA1xzdHN6AAAAAAAAAAAAAADSAAAAFQAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAA3HN0Y28AAAAAAAAAMwAAADAAAAOtAAADzAAAA+cAAAQCAAAEIQAABDwAAARXAAAEdgAABJEAAASsAAAEywAABOIAAAT5AAAFGAAABTMAAAVOAAAFbQAABYgAAAWjAAAFwgAABd0AAAX4AAAGDwAABioAAAZFAAAGZAAABn8AAAaaAAAGuQAABtQAAAbvAAAHDgAABykAAAc8AAAHWwAAB3YAAAeRAAAHsAAAB8sAAAfmAAAIBQAACCAAAAg7AAAIWgAACG0AAAiIAAAIpwAACMIAAAjdAAAI/AAAABpzZ3BkAQAAAHJvbGwAAAACAAAAAf//AAAAHHNiZ3AAAAAAcm9sbAAAAAEAAADSAAAAAQAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguMjAuMTAw","60NxHLDB","handleVisibilityChange","catch","handleNoSleepVideoTimeUpdate","18pDcIcG","video/","No Sleep","7540610NZRiRO","39126aNjFXn","NoSleep","removeChild","64205sIfdtw","disable"];return(Uy=function(){return t})()}const Oy=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Ny=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=jy},jy=Number.MAX_SAFE_INTEGER||9007199254740991;let Vy=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Wy=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),Gy=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({});var zy="manifest",Hy="level",Ky="audioTrack",qy="subtitleTrack",Yy="main",Qy="audio",Jy="subtitle";class Xy{constructor(t,e=0,s=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=s}sample(t,e){const s=Math.pow(this.alpha_,t);this.estimate_=e*(1-s)+s*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class $y{constructor(t,e,s,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=s,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Xy(t),this.fast_=new Xy(e),this.defaultTTFB_=i,this.ttfb_=new Xy(t)}update(t,e){const{slow_:s,fast_:i,ttfb_:r}=this;s.halfLife!==t&&(this.slow_=new Xy(t,s.getEstimate(),s.getTotalWeight())),i.halfLife!==e&&(this.fast_=new Xy(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==t&&(this.ttfb_=new Xy(t,r.getEstimate(),r.getTotalWeight()))}sample(t,e){const s=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/s;this.fast_.sample(s,i),this.slow_.sample(s,i)}sampleTTFB(t){const e=t/1e3,s=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(s,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function Zy(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)({}).hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},tA.apply(null,arguments)}function eA(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function sA(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?eA(Object(s),!0).forEach((function(e){Zy(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):eA(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class iA{constructor(t,e){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const s=`[${t}]:`;this.trace=rA,this.debug=e.debug.bind(null,s),this.log=e.log.bind(null,s),this.warn=e.warn.bind(null,s),this.info=e.info.bind(null,s),this.error=e.error.bind(null,s)}}const rA=function(){},nA={trace:rA,debug:rA,log:rA,warn:rA,info:rA,error:rA};function oA(){return tA({},nA)}function aA(t,e,s){return e[t]?e[t].bind(e):function(t,e){const s=self.console[t];return s?s.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):rA}(t,s)}const hA=oA();const lA=hA;function cA(t=!0){if("undefined"==typeof self)return;return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function dA(t,e){const s=Object.keys(t),i=Object.keys(e),r=s.length,n=i.length;return!r||!n||r===n&&!s.some((t=>-1===i.indexOf(t)))}function uA(t,e=!1){if("undefined"!=typeof TextDecoder){const s=new TextDecoder("utf-8").decode(t);if(e){const t=s.indexOf("\0");return-1!==t?s.substring(0,t):s}return s.replace(/\0/g,"")}const s=t.length;let i,r,n,o="",a=0;for(;a<s;){if(i=t[a++],0===i&&e)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:r=t[a++],o+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[a++],n=t[a++],o+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&n)<<0)}}return o}const pA=function(t){let e="";for(let s=0;s<t.length;s++){let i=t[s].toString(16);i.length<2&&(i="0"+i),e+=i}return e};function fA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mA,gA={exports:{}};var yA=(mA||(mA=1,function(t,e){var s,i,r,n,o;s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,s){if(s=s||{},t=t.trim(),!(e=e.trim())){if(!s.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var n=o.parseURL(e);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return s.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var h=i.exec(a.path);a.netLoc=h[1],a.path=h[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(l.netLoc=a.netLoc,"/"!==n.path[0]))if(n.path){var c=a.path,d=c.substring(0,c.lastIndexOf("/")+1)+n.path;l.path=o.normalizePath(d)}else l.path=a.path,n.params||(l.params=a.params,n.query||(l.query=a.query));return null===l.path&&(l.path=s.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(l)},parseURL:function(t){var e=s.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}(gA)),gA.exports);class AA{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var vA="audio",bA="video",SA="audiovideo";class EA{constructor(t){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,"string"==typeof t&&(t={url:t}),this.base=t,function(t,e){const s=kA(t,e);s&&(s.enumerable=!0,Object.defineProperty(t,e,s))}(this,"stats")}setByteRange(t,e){const s=t.split("@",2);let i;i=1===s.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(s[1]),this._byteRange=[i,parseInt(s[0])+i]}get baseurl(){return this.base.url}get byteRange(){return null===this._byteRange?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return null===this._streams&&(this._streams={[vA]:null,[bA]:null,[SA]:null}),this._streams}set elementaryStreams(t){this._streams=t}get hasStats(){return null!==this._stats}get hasStreams(){return null!==this._streams}get stats(){return null===this._stats&&(this._stats=new AA),this._stats}set stats(t){this._stats=t}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=yA.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[vA]=null,t[bA]=null,t[SA]=null}}function wA(t){return"initSegment"!==t.sn}class TA extends EA{constructor(t,e){super(e),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get byteLength(){if(this.hasStats){const t=this.stats.total;if(t)return t}if(this.byteRange){const t=this.byteRange[0],e=this.byteRange[1];if(Oy(t)&&Oy(e))return e-t}return null}get bitrate(){return this.byteLength?8*this.byteLength/this.duration:this._bitrate?this._bitrate:null}set bitrate(t){this._bitrate=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;const t=Oy(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}get programDateTime(){return null===this._programDateTime&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(t){Oy(t)?this._programDateTime=t:this._programDateTime=this.rawProgramDateTime=null}get ref(){return wA(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(t){this.setStart(this.start+t)}setStart(t){this.start=t,this._ref&&(this._ref.start=t)}setDuration(t){this.duration=t,this._ref&&(this._ref.duration=t)}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,s,i,r,n=!1){const{elementaryStreams:o}=this,a=o[t];a?(a.startPTS=Math.min(a.startPTS,e),a.endPTS=Math.max(a.endPTS,s),a.startDTS=Math.min(a.startDTS,i),a.endDTS=Math.max(a.endDTS,r)):o[t]={startPTS:e,endPTS:s,startDTS:i,endDTS:r,partial:n}}}class IA extends EA{constructor(t,e,s,i,r){super(s),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=i;const n=t.enumeratedString("BYTERANGE");n&&this.setByteRange(n,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}function kA(t,e){const s=Object.getPrototypeOf(t);if(s){const t=Object.getOwnPropertyDescriptor(s,e);return t||kA(s,e)}}const _A=Math.pow(2,32)-1,CA=[].push,DA={video:1,audio:2,id3:3,text:4};function RA(t){return String.fromCharCode.apply(null,t)}function LA(t,e){const s=t[e]<<8|t[e+1];return s<0?65536+s:s}function PA(t,e){const s=MA(t,e);return s<0?4294967296+s:s}function xA(t,e){let s=PA(t,e);return s*=Math.pow(2,32),s+=PA(t,e+4),s}function MA(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function BA(t,e,s){t[e]=s>>24,t[e+1]=s>>16&255,t[e+2]=s>>8&255,t[e+3]=255&s}function FA(t,e){const s=[];if(!e.length)return s;const i=t.byteLength;for(let r=0;r<i;){const n=PA(t,r),o=n>1?r+n:i;if(RA(t.subarray(r+4,r+8))===e[0])if(1===e.length)s.push(t.subarray(r+8,o));else{const i=FA(t.subarray(r+8,o),e.slice(1));i.length&&CA.apply(s,i)}r=o}return s}function UA(t){const e=[],s=t[0];let i=8;const r=PA(t,i);i+=4;let n=0,o=0;0===s?(n=PA(t,i),o=PA(t,i+4),i+=8):(n=xA(t,i),o=xA(t,i+8),i+=16),i+=2;let a=t.length+o;const h=LA(t,i);i+=2;for(let s=0;s<h;s++){let s=i;const n=PA(t,s);s+=4;const o=2147483647&n;if(1===(2147483648&n)>>>31)return lA.warn("SIDX has hierarchical references (not supported)"),null;const h=PA(t,s);s+=4,e.push({referenceSize:o,subsegmentDuration:h,info:{duration:h/r,start:a,end:a+o-1}}),a+=o,s+=4,i=s}return{earliestPresentationTime:n,timescale:r,version:s,referencesCount:h,references:e}}function OA(t){const e=[],s=FA(t,["moov","trak"]);for(let t=0;t<s.length;t++){const i=s[t],r=FA(i,["tkhd"])[0];if(r){let t=r[0];const s=PA(r,0===t?12:20),n=FA(i,["mdia","mdhd"])[0];if(n){t=n[0];const r=PA(n,0===t?12:20),o=FA(i,["mdia","hdlr"])[0];if(o){const t=RA(o.subarray(8,12)),n={soun:vA,vide:bA}[t],a=NA(FA(i,["mdia","minf","stbl","stsd"])[0]);n?(e[s]={timescale:r,type:n,stsd:a},e[n]=sA({timescale:r,id:s},a)):e[s]={timescale:r,type:t,stsd:a}}}}}return FA(t,["moov","mvex","trex"]).forEach((t=>{const s=PA(t,4),i=e[s];i&&(i.default={duration:PA(t,12),flags:PA(t,20)})})),e}function NA(t){const e=t.subarray(8),s=e.subarray(86),i=RA(e.subarray(4,8));let r,n=i;const o="enca"===i||"encv"===i;if(o){const t=FA(e,[i])[0];FA(t.subarray("enca"===i?28:78),["sinf"]).forEach((t=>{const e=FA(t,["schm"])[0];if(e){const s=RA(e.subarray(4,8));if("cbcs"===s||"cenc"===s){const e=FA(t,["frma"])[0];e&&(n=RA(e))}}}))}const a=n;switch(n){case"avc1":case"avc2":case"avc3":case"avc4":{const t=FA(s,["avcC"])[0];t&&t.length>3&&(n+="."+WA(t[1])+WA(t[2])+WA(t[3]),r=jA("avc1"===a?"dva1":"dvav",s));break}case"mp4a":{const t=FA(e,[i])[0],s=FA(t.subarray(28),["esds"])[0];if(s&&s.length>7){let t=4;if(3!==s[t++])break;t=VA(s,t),t+=2;const e=s[t++];if(128&e&&(t+=2),64&e&&(t+=s[t++]),4!==s[t++])break;t=VA(s,t);const i=s[t++];if(64!==i)break;if(n+="."+WA(i),t+=12,5!==s[t++])break;t=VA(s,t);const r=s[t++];let o=(248&r)>>3;31===o&&(o+=1+((7&r)<<3)+((224&s[t])>>5)),n+="."+o}break}case"hvc1":case"hev1":{const t=FA(s,["hvcC"])[0];if(t&&t.length>12){const e=t[1],s=["","A","B","C"][e>>6],i=31&e,r=PA(t,2),o=(32&e)>>5?"H":"L",a=t[12],h=t.subarray(6,12);n+="."+s+i,n+="."+function(t){let e=0;for(let s=0;s<32;s++)e|=(t>>s&1)<<31-s;return e>>>0}(r).toString(16).toUpperCase(),n+="."+o+a;let l="";for(let t=h.length;t--;){const e=h[t];if(e||l){l="."+e.toString(16).toUpperCase()+l}}n+=l}r=jA("hev1"==a?"dvhe":"dvh1",s);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":n=jA(n,s)||n;break;case"vp09":{const t=FA(s,["vpcC"])[0];if(t&&t.length>6){const e=t[4],s=t[5],i=t[6]>>4&15;n+="."+GA(e)+"."+GA(s)+"."+GA(i)}break}case"av01":{const t=FA(s,["av1C"])[0];if(t&&t.length>2){const e=t[1]>>>5,i=31&t[1],o=t[2]>>>7?"H":"M",a=(64&t[2])>>6,h=(32&t[2])>>5,l=2===e&&a?h?12:10:a?10:8,c=(16&t[2])>>4,d=(8&t[2])>>3,u=(4&t[2])>>2,p=3&t[2],f=1,m=1,g=1,y=0;n+="."+e+"."+GA(i)+o+"."+GA(l)+"."+c+"."+d+u+p+"."+GA(f)+"."+GA(m)+"."+GA(g)+"."+y,r=jA("dav1",s)}break}}return{codec:n,encrypted:o,supplemental:r}}function jA(t,e){const s=FA(e,["dvvC"]),i=s.length?s[0]:FA(e,["dvcC"])[0];if(i){const e=i[2]>>1&127,s=i[2]<<5&32|i[3]>>3&31;return t+"."+GA(e)+"."+GA(s)}}function VA(t,e){const s=e+5;for(;128&t[e++]&&e<s;);return e}function WA(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function GA(t){return(t<10?"0":"")+t}function zA(t){const e=FA(t,["schm"])[0];if(e){const s=RA(e.subarray(4,8));if("cbcs"===s||"cenc"===s)return FA(t,["schi","tenc"])[0]}return null}function HA(t,e){const s=new Uint8Array(t.length+e.length);return s.set(t),s.set(e,t.length),s}function KA(t,e){const s=[],i=e.samples,r=e.timescale,n=e.id;let o=!1;return FA(i,["moof"]).map((a=>{const h=a.byteOffset-8;FA(a,["traf"]).map((a=>{const l=FA(a,["tfdt"]).map((t=>{const e=t[0];let s=PA(t,4);return 1===e&&(s*=Math.pow(2,32),s+=PA(t,8)),s/r}))[0];return void 0!==l&&(t=l),FA(a,["tfhd"]).map((l=>{const c=PA(l,4),d=16777215&PA(l,0);let u=0;const p=0!=(16&d);let f=0;const m=0!=(32&d);let g=8;c===n&&(0!=(1&d)&&(g+=8),0!=(2&d)&&(g+=4),0!=(8&d)&&(u=PA(l,g),g+=4),p&&(f=PA(l,g),g+=4),m&&(g+=4),"video"===e.type&&(o=qA(e.codec)),FA(a,["trun"]).map((n=>{const a=n[0],l=16777215&PA(n,0),c=0!=(1&l);let d=0;const p=0!=(4&l),m=0!=(256&l);let g=0;const y=0!=(512&l);let A=0;const v=0!=(1024&l),b=0!=(2048&l);let S=0;const E=PA(n,4);let w=8;c&&(d=PA(n,w),w+=4),p&&(w+=4);let T=d+h;for(let h=0;h<E;h++){if(m?(g=PA(n,w),w+=4):g=u,y?(A=PA(n,w),w+=4):A=f,v&&(w+=4),b&&(S=0===a?PA(n,w):MA(n,w),w+=4),e.type===bA){let e=0;for(;e<A;){const n=PA(i,T);if(T+=4,YA(o,i[T])){QA(i.subarray(T,T+n),o?2:1,t+S/r,s)}T+=n,e+=n+4}}t+=g/r}})))}))}))})),s}function qA(t){if(!t)return!1;const e=t.substring(0,4);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}function YA(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6===(31&e)}function QA(t,e,s,i){const r=JA(t);let n=0;n+=e;let o=0,a=0,h=0;for(;n<r.length;){o=0;do{if(n>=r.length)break;h=r[n++],o+=h}while(255===h);a=0;do{if(n>=r.length)break;h=r[n++],a+=h}while(255===h);const e=r.length-n;let l=n;if(a<e)n+=a;else if(a>e){lA.error(`Malformed SEI payload. ${a} is too small, only ${e} bytes left to parse.`),i.push({pts:s,originData:new Uint8Array(t)});break}if(4===o){if(181===r[l++]){const e=LA(r,l);if(l+=2,49===e){const e=PA(r,l);if(l+=4,1195456820===e){const e=r[l++];if(3===e){const n=r[l++],a=31&n,h=64&n,c=h?2+3*a:0,d=new Uint8Array(c);if(h){d[0]=n;for(let t=1;t<c;t++)d[t]=r[l++]}i.push({type:e,payloadType:o,pts:s,bytes:d,originData:new Uint8Array(t)})}}}}}else if(5===o&&a>16){const e=[];for(let t=0;t<16;t++){const s=r[l++].toString(16);e.push(1==s.length?"0"+s:s),3!==t&&5!==t&&7!==t&&9!==t||e.push("-")}const n=a-16,h=new Uint8Array(n);for(let t=0;t<n;t++)h[t]=r[l++];i.push({payloadType:o,pts:s,uuid:e.join(""),userData:uA(h),userDataBytes:h,originData:new Uint8Array(t)})}}}function JA(t){const e=t.byteLength,s=[];let i=1;for(;i<e-2;)0===t[i]&&0===t[i+1]&&3===t[i+2]?(s.push(i+2),i+=2):i++;if(0===s.length)return t;const r=e-s.length,n=new Uint8Array(r);let o=0;for(i=0;i<r;o++,i++)o===s[0]&&(o++,s.shift()),n[i]=t[o];return n}function XA(t,e,s){if(16!==t.byteLength)throw new RangeError("Invalid system id");let i,r,n;i=0,r=new Uint8Array,n=new Uint8Array;const o=new Uint8Array(4);return s&&s.byteLength>0&&new DataView(o.buffer).setUint32(0,s.byteLength,!1),function(t,...e){const s=e.length;let i=8,r=s;for(;r--;)i+=e[r].byteLength;const n=new Uint8Array(i);for(n[0]=i>>24&255,n[1]=i>>16&255,n[2]=i>>8&255,n[3]=255&i,n.set(t,4),r=0,i=8;r<s;r++)n.set(e[r],i),i+=e[r].byteLength;return n}([112,115,115,104],new Uint8Array([0,0,0,0]),t,n,r,o,s||new Uint8Array)}function $A(t){const e=t.getUint32(0),s=t.byteOffset,i=t.byteLength;if(i<e)return{offset:s,size:i};if(1886614376!==t.getUint32(4))return{offset:s,size:e};const r=t.getUint32(8)>>>24;if(0!==r&&1!==r)return{offset:s,size:e};const n=t.buffer,o=pA(new Uint8Array(n,s+12,16)),a=t.getUint32(28);let h=null,l=null;if(0===r){if(e-32<a||a<22)return{offset:s,size:e};l=new Uint8Array(n,s+32,a)}else if(1===r){if(!a||i<s+32+16*a+16)return{offset:s,size:e};h=[];for(let t=0;t<a;t++)h.push(new Uint8Array(n,s+32+16*t,16))}return{version:r,systemId:o,kids:h,data:l,offset:s,size:e}}const ZA=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),tv={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function ev(t,e){const s=tv[e];return!!s&&!!s[t.slice(0,4)]}function sv(t,e,s=!0){return!t.split(",").some((t=>!iv(t,e,s)))}function iv(t,e,s=!0){var i;const r=cA(s);return null!=(i=null==r?void 0:r.isTypeSupported(rv(t,e)))&&i}function rv(t,e){return`${e}/mp4;codecs=${t}`}function nv(t){if(t){const e=t.substring(0,4);return tv.video[e]}return 2}function ov(t){const e=ZA();return t.split(",").reduce(((t,s)=>{const i=e&&qA(s)?9:tv.video[s];return i?(2*i+t)/(t?3:2):(tv.audio[s]+t)/(t?2:1)}),0)}const av={};const hv=/flac|opus|mp4a\.40\.34/i;function lv(t,e=!0){return t.replace(hv,(t=>function(t,e=!0){if(av[t])return av[t];const s={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let r=0;r<s.length;r++){var i;if(iv(s[r],"audio",e))return av[t]=s[r],s[r];if("mp3"===s[r]&&null!=(i=cA(e))&&i.isTypeSupported("audio/mpeg"))return""}return t}(t.toLowerCase(),e)))}function cv(t,e){if(t&&(t.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)))return t;if(e){const s=e.split(",");if(s.length>1){if(t)for(let e=s.length;e--;)if(s[e].substring(0,4)===t.substring(0,4))return s[e];return s[0]}}return e||t}function dv(t){if(t.startsWith("av01.")){const e=t.split("."),s=["0","111","01","01","01","0"];for(let t=e.length;t>4&&t<10;t++)e[t]=s[t-4];return e.join(".")}return t}function uv(t){const e=cA(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function pv(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const fv={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function mv(t,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}const gv={};function yv(t,e,s,i,r,n){const o=t.audioCodec?t.audioGroups:null,a=null==n?void 0:n.audioCodec,h=null==n?void 0:n.channels,l=h?parseInt(h):a?1/0:2;let c=null;if(null!=o&&o.length)try{c=1===o.length&&o[0]?e.groups[o[0]].channels:o.reduce(((t,s)=>{if(s){const i=e.groups[s];if(!i)throw new Error(`Audio track group ${s} not found`);Object.keys(i.channels).forEach((e=>{t[e]=(t[e]||0)+i.channels[e]}))}return t}),{2:0})}catch(t){return!0}return void 0!==t.videoCodec&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(i,30)||"SDR"!==t.videoRange&&t.videoRange!==s||t.bitrate>Math.max(r,8e6))||!!c&&Oy(l)&&Object.keys(c).some((t=>parseInt(t)>l))}function Av(t,e,s){const i=t.videoCodec,r=t.audioCodec;if(!i&&!r||!s)return Promise.resolve(fv);const n=[];if(i){const e={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},s=t.videoRange;"SDR"!==s&&(e.transferFunction=s.toLowerCase());const r=i.split(","),o=navigator.userAgent;if(r.some((t=>qA(t)))&&ZA())return Promise.resolve(mv(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${o})`),n));n.push.apply(n,r.map((t=>({type:"media-source",video:sA(sA({},e),{},{contentType:rv(dv(t),"video")})}))))}return r&&t.audioGroups&&t.audioGroups.forEach((t=>{var s;t&&(null==(s=e.groups[t])||s.tracks.forEach((e=>{if(e.groupId===t){const t=e.channels||"",s=parseFloat(t);Oy(s)&&s>2&&n.push.apply(n,r.split(",").map((t=>({type:"media-source",audio:{contentType:rv(t,"audio"),channels:""+s}}))))}})))})),Promise.all(n.map((t=>{const e=function(t){const{audio:e,video:s}=t,i=s||e;if(i){const t=pv(i.contentType);if(s)return`r${s.height}x${s.width}f${Math.ceil(s.framerate)}${s.transferFunction||"sd"}_${t}_${Math.ceil(s.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${t}`}return""}(t);return gv[e]||(gv[e]=s.decodingInfo(t))}))).then((t=>({supported:!t.some((t=>!t.supported)),configurations:n,decodingInfoResults:t}))).catch((t=>({supported:!1,configurations:n,decodingInfoResults:[],error:t})))}const vv=["NONE","TYPE-0","TYPE-1",null];const bv=["SDR","PQ","HLG"];var Sv="",Ev="YES",wv="v2";function Tv(t){const{canSkipUntil:e,canSkipDateRanges:s,age:i}=t;return e&&i<e/2?s?wv:Ev:Sv}class Iv{constructor(t,e,s){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=s}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class kv{constructor(t){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>!!t)).map((t=>t.substring(0,4))).join(","),"supplemental"in t){var e;this.supplemental=t.supplemental;const s=null==(e=t.supplemental)?void 0:e.videoCodec;s&&s!==t.videoCodec&&(this.codecSet+=`,${s.substring(0,4)}`)}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return _v(this._audioGroups,t)}hasSubtitleGroup(t){return _v(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function _v(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function Cv(t,e){let s=!1,i=[];if(t&&(s="SDR"!==t,i=[t]),e){i=e.allowedVideoRanges||bv.slice(0);const t="SDR"!==i.join("")&&!e.videoCodec;s=void 0!==e.preferHDR?e.preferHDR:t&&function(){if("function"==typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),s||(i=["SDR"])}return{preferHDR:s,allowedVideoRanges:i}}const Dv=(t,e)=>JSON.stringify(t,(t=>{const e=new WeakSet;return(s,i)=>{if(t&&(i=t(s,i)),"object"==typeof i&&null!==i){if(e.has(i))return;e.add(i)}return i}})(e));function Rv(t,e){lA.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Lv(t){return t.reduce(((t,e)=>{let s=t.groups[e.groupId];s||(s=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),s.tracks.push(e);const i=e.channels||"2";return s.channels[i]=(s.channels[i]||0)+1,s.hasDefault=s.hasDefault||e.default,s.hasAutoSelect=s.hasAutoSelect||e.autoselect,s.hasDefault&&(t.hasDefaultAudio=!0),s.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Pv(t){if(!t)return t;const{lang:e,assocLang:s,characteristics:i,channels:r,audioCodec:n}=t;return{lang:e,assocLang:s,characteristics:i,channels:r,audioCodec:n}}function xv(t,e,s){if("attrs"in t){const s=e.indexOf(t);if(-1!==s)return s}for(let i=0;i<e.length;i++){if(Mv(t,e[i],s))return i}return-1}function Mv(t,e,s){const{groupId:i,name:r,lang:n,assocLang:o,default:a}=t,h=t.forced;return(void 0===i||e.groupId===i)&&(void 0===r||e.name===r)&&(void 0===n||function(t,e="--"){if(t.length===e.length)return t===e;return t.startsWith(e)||e.startsWith(t)}(n,e.lang))&&(void 0===n||e.assocLang===o)&&(void 0===a||e.default===a)&&(void 0===h||e.forced===h)&&(!("characteristics"in t)||function(t,e=""){const s=t.split(","),i=e.split(",");return s.length===i.length&&!s.some((t=>-1===i.indexOf(t)))}(t.characteristics||"",e.characteristics))&&(void 0===s||s(t,e))}function Bv(t,e){const{audioCodec:s,channels:i}=t;return!(void 0!==s&&(e.audioCodec||"").substring(0,4)!==s.substring(0,4)||void 0!==i&&i!==(e.channels||"2"))}function Fv(t,e,s){for(let i=e;i>-1;i--)if(s(t[i]))return i;for(let i=e+1;i<t.length;i++)if(s(t[i]))return i;return-1}function Uv(t,e){var s;return!!t&&t!==(null==(s=e.loadLevelObj)?void 0:s.uri)}const Ov=function(t,e){let s=0,i=t.length-1,r=null,n=null;for(;s<=i;){r=(s+i)/2|0,n=t[r];const o=e(n);if(o>0)s=r+1;else{if(!(o<0))return n;i=r-1}}return null};function Nv(t,e,s=0,i=0,r=.005){let n=null;if(t){n=e[1+t.sn-e[0].sn]||null;const i=t.endDTS-s;i>0&&i<15e-7&&(s+=15e-7),n&&t.level!==n.level&&n.end<=t.end&&(n=e[2+t.sn-e[0].sn]||null)}else 0===s&&0===e[0].start&&(n=e[0]);if(n&&((!t||t.level===n.level)&&0===jv(s,i,n)||function(t,e,s){if(e&&0===e.start&&e.level<t.level&&(e.endPTS||0)>0){const i=e.tagList.reduce(((t,e)=>("INF"===e[0]&&(t+=parseFloat(e[1])),t)),s);return t.start<=i}return!1}(n,t,Math.min(r,i))))return n;const o=Ov(e,jv.bind(null,s,i));return!o||o===t&&n?n:o}function jv(t=0,e=0,s){if(s.start<=t&&s.start+s.duration>t)return 0;const i=Math.min(e,s.duration+(s.deltaPTS?s.deltaPTS:0));return s.start+s.duration-i<=t?1:s.start-i>t&&s.start?-1:0}function Vv(t,e,s){const i=1e3*Math.min(e,s.duration+(s.deltaPTS?s.deltaPTS:0));return(s.endProgramDateTime||0)-i>t}function Wv(t,e,s){if(t&&t.startCC<=e&&t.endCC>=e){let i=t.fragments;const{fragmentHint:r}=t;let n;return r&&(i=i.concat(r)),Ov(i,(t=>t.cc<e?1:t.cc>e?-1:(n=t,t.end<=s?1:t.start>s?-1:0))),n||null}return null}function Gv(t){switch(t.details){case Wy.FRAG_LOAD_TIMEOUT:case Wy.KEY_LOAD_TIMEOUT:case Wy.LEVEL_LOAD_TIMEOUT:case Wy.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function zv(t,e){const s=Gv(e);return t.default[(s?"timeout":"error")+"Retry"]}function Hv(t,e){const s="linear"===t.backoff?1:Math.pow(2,e);return Math.min(s*t.retryDelayMs,t.maxRetryDelayMs)}function Kv(t){return sA(sA({},t),{errorRetry:null,timeoutRetry:null})}function qv(t,e,s,i){if(!t)return!1;const r=null==i?void 0:i.code,n=e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(r)||!!s);return t.shouldRetry?t.shouldRetry(t,e,s,i,n):n}var Yv=0,Qv=2,Jv=3,Xv=5,$v=0,Zv=1,tb=2;function eb(t){const e={action:Yv,flags:$v};return t&&(e.resolved=!0),e}var sb="NOT_LOADED",ib="APPENDING",rb="PARTIAL",nb="OK";class ob{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.BUFFER_APPENDED,this.onBufferAppended,this),t.on(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Gy.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.BUFFER_APPENDED,this.onBufferAppended,this),t.off(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Gy.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const s=this.activePartLists[e];if(s)for(let e=s.length;e--;){const i=s[e];if(!i)break;const r=i.end;if(i.start<=t&&null!==r&&t<=r)return i}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){return this.getFragAtPos(t,e,!0)}getFragAtPos(t,e,s){const{fragments:i}=this,r=Object.keys(i);for(let n=r.length;n--;){const o=i[r[n]];if((null==o?void 0:o.body.type)===e&&(!s||o.buffered)){const e=o.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,s,i,r){this.timeRanges&&(this.timeRanges[t]=e);const n=(null==i?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach((i=>{const o=this.fragments[i];if(!o)return;if(n>=o.body.sn)return;if(!o.buffered&&(!o.loaded||r))return void(o.body.type===s&&this.removeFragment(o.body));const a=o.range[t];a&&(0!==a.time.length?a.time.some((t=>{const s=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return s&&this.removeFragment(o.body),s})):this.removeFragment(o.body))}))}detectPartialFragments(t){const e=this.timeRanges;if(!e||"initSegment"===t.frag.sn)return;const s=t.frag,i=hb(s),r=this.fragments[i];if(!r||r.buffered&&s.gap)return;const n=!s.relurl;if(Object.keys(e).forEach((i=>{const o=s.elementaryStreams[i];if(!o)return;const a=e[i],h=n||!0===o.partial;r.range[i]=this.getBufferedTimes(s,t.part,h,a)})),r.loaded=null,Object.keys(r.range).length){r.buffered=!0;(r.body.endList=s.endList||r.body.endList)&&(this.endListFragments[r.body.type]=r),ab(r)||this.removeParts(s.sn-1,s.type)}else this.removeFragment(r.body)}removeParts(t,e){const s=this.activePartLists[e];s&&(this.activePartLists[e]=lb(s,(e=>e.fragment.sn>=t)))}fragBuffered(t,e){const s=hb(t);let i=this.fragments[s];!i&&e&&(i=this.fragments[s]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(t,e,s,i){const r={time:[],partial:s},n=t.start,o=t.end,a=t.minEndPTS||o,h=t.maxStartPTS||n;for(let t=0;t<i.length;t++){const e=i.start(t)-this.bufferPadding,s=i.end(t)+this.bufferPadding;if(h>=e&&a<=s){r.time.push({startPTS:Math.max(n,i.start(t)),endPTS:Math.min(o,i.end(t))});break}if(n<s&&o>e){const e=Math.max(n,i.start(t)),s=Math.min(o,i.end(t));s>e&&(r.partial=!0,r.time.push({startPTS:e,endPTS:s}))}else if(o<=e)break}return r}getPartialFragment(t){let e,s,i,r=null,n=0;const{bufferPadding:o,fragments:a}=this;return Object.keys(a).forEach((h=>{const l=a[h];l&&ab(l)&&(s=l.body.start-o,i=l.body.end+o,t>=s&&t<=i&&(e=Math.min(t-s,i-t),n<=e&&(r=l.body,n=e)))})),r}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||ab(e))}getState(t){const e=hb(t),s=this.fragments[e];return s?s.buffered?ab(s)?rb:nb:ib:sb}isTimeBuffered(t,e,s){let i,r;for(let n=0;n<s.length;n++){if(i=s.start(n)-this.bufferPadding,r=s.end(n)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(t,e){if("initSegment"===e.frag.sn||e.frag.bitrateTest)return;const s=e.frag,i=e.part?null:e,r=hb(s);this.fragments[r]={body:s,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:s,part:i,timeRanges:r,type:n}=e;if("initSegment"===s.sn)return;const o=s.type;if(i){let t=this.activePartLists[o];t||(this.activePartLists[o]=t=[]),t.push(i)}this.timeRanges=r;const a=r[n];this.detectEvictedFragments(n,a,o,i)}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=hb(t);return!!this.fragments[e]}hasFragments(t){const{fragments:e}=this,s=Object.keys(e);if(!t)return s.length>0;for(let i=s.length;i--;){const r=e[s[i]];if((null==r?void 0:r.body.type)===t)return!0}return!1}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,s,i,r){i&&!this.hasGaps||Object.keys(this.fragments).forEach((n=>{const o=this.fragments[n];if(!o)return;const a=o.body;a.type!==s||i&&!a.gap||a.start<e&&a.end>t&&(o.buffered||r)&&this.removeFragment(a)}))}removeFragment(t){const e=hb(t);t.clearElementaryStreamInfo();const s=this.activePartLists[t.type];if(s){const e=t.sn;this.activePartLists[t.type]=lb(s,(t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){var t,e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const s=null==(t=this.hls)||null==(e=t.latestLevelDetails)?void 0:e.partList;s&&s.forEach((t=>t.clearElementaryStreamInfo()))}}function ab(t){var e,s,i;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(s=t.range.audio)?void 0:s.partial)||(null==(i=t.range.audiovideo)?void 0:i.partial))}function hb(t){return`${t.type}_${t.level}_${t.sn}`}function lb(t,e){return t.filter((t=>{const s=e(t);return s||t.clearElementaryStreamInfo(),s}))}var cb=0,db=1;class ub{constructor(t,e,s){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=e,this.aesMode=s}decrypt(t,e){switch(this.aesMode){case cb:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t);case db:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},e,t);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}class pb{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),s=new Uint32Array(4);for(let t=0;t<4;t++)s[t]=e.getUint32(4*t);return s}initTable(){const t=this.sBox,e=this.invSBox,s=this.subMix,i=s[0],r=s[1],n=s[2],o=s[3],a=this.invSubMix,h=a[0],l=a[1],c=a[2],d=a[3],u=new Uint32Array(256);let p=0,f=0,m=0;for(m=0;m<256;m++)u[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){let s=f^f<<1^f<<2^f<<3^f<<4;s=s>>>8^255&s^99,t[p]=s,e[s]=p;const a=u[p],m=u[a],g=u[m];let y=257*u[s]^16843008*s;i[p]=y<<24|y>>>8,r[p]=y<<16|y>>>16,n[p]=y<<8|y>>>24,o[p]=y,y=16843009*g^65537*m^257*a^16843008*p,h[s]=y<<24|y>>>8,l[s]=y<<16|y>>>16,c[s]=y<<8|y>>>24,d[s]=y,p?(p=a^u[u[u[g^a]]],f^=u[u[f]]):p=f=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let s=!0,i=0;for(;i<e.length&&s;)s=e[i]===this.key[i],i++;if(s)return;this.key=e;const r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);const n=this.ksRows=4*(r+6+1);let o,a;const h=this.keySchedule=new Uint32Array(n),l=this.invKeySchedule=new Uint32Array(n),c=this.sBox,d=this.rcon,u=this.invSubMix,p=u[0],f=u[1],m=u[2],g=u[3];let y,A;for(o=0;o<n;o++)o<r?y=h[o]=e[o]:(A=y,o%r==0?(A=A<<8|A>>>24,A=c[A>>>24]<<24|c[A>>>16&255]<<16|c[A>>>8&255]<<8|c[255&A],A^=d[o/r|0]<<24):r>6&&o%r==4&&(A=c[A>>>24]<<24|c[A>>>16&255]<<16|c[A>>>8&255]<<8|c[255&A]),h[o]=y=(h[o-r]^A)>>>0);for(a=0;a<n;a++)o=n-a,A=3&a?h[o]:h[o-4],l[a]=a<4||o<=4?A:p[c[A>>>24]]^f[c[A>>>16&255]]^m[c[A>>>8&255]]^g[c[255&A]],l[a]=l[a]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,s){const i=this.keySize+6,r=this.invKeySchedule,n=this.invSBox,o=this.invSubMix,a=o[0],h=o[1],l=o[2],c=o[3],d=this.uint8ArrayToUint32Array_(s);let u=d[0],p=d[1],f=d[2],m=d[3];const g=new Int32Array(t),y=new Int32Array(g.length);let A,v,b,S,E,w,T,I,k,_,C,D,R,L;const P=this.networkToHostOrderSwap;for(;e<g.length;){for(k=P(g[e]),_=P(g[e+1]),C=P(g[e+2]),D=P(g[e+3]),E=k^r[0],w=D^r[1],T=C^r[2],I=_^r[3],R=4,L=1;L<i;L++)A=a[E>>>24]^h[w>>16&255]^l[T>>8&255]^c[255&I]^r[R],v=a[w>>>24]^h[T>>16&255]^l[I>>8&255]^c[255&E]^r[R+1],b=a[T>>>24]^h[I>>16&255]^l[E>>8&255]^c[255&w]^r[R+2],S=a[I>>>24]^h[E>>16&255]^l[w>>8&255]^c[255&T]^r[R+3],E=A,w=v,T=b,I=S,R+=4;A=n[E>>>24]<<24^n[w>>16&255]<<16^n[T>>8&255]<<8^n[255&I]^r[R],v=n[w>>>24]<<24^n[T>>16&255]<<16^n[I>>8&255]<<8^n[255&E]^r[R+1],b=n[T>>>24]<<24^n[I>>16&255]<<16^n[E>>8&255]<<8^n[255&w]^r[R+2],S=n[I>>>24]<<24^n[E>>16&255]<<16^n[w>>8&255]<<8^n[255&T]^r[R+3],y[e]=P(A^u),y[e+1]=P(S^p),y[e+2]=P(b^f),y[e+3]=P(v^m),u=k,p=_,f=C,m=D,e+=4}return y.buffer}}class fb{constructor(t,e,s){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=e,this.aesMode=s}expandKey(){const t=function(t){switch(t){case cb:return"AES-CBC";case db:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])}}class mb{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(t){}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const s=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,s=e&&new DataView(t.buffer).getUint8(e-1);return s?t.slice(0,e-s):t}(s):s}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,s,i){return this.useSoftware?new Promise(((r,n)=>{const o=ArrayBuffer.isView(t)?t:new Uint8Array(t);this.softwareDecrypt(o,e,s,i);const a=this.flush();a?r(a.buffer):n(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,s,i)}softwareDecrypt(t,e,s,i){const{currentIV:r,currentResult:n,remainderData:o}=this;if(i!==cb||16!==e.byteLength)return lA.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),o&&(t=HA(o,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;r&&(s=r);let h=this.softwareDecrypter;h||(h=this.softwareDecrypter=new pb),h.expandKey(e);const l=n;return this.currentResult=h.decrypt(a.buffer,0,s),this.currentIV=a.slice(-16).buffer,l||null}webCryptoDecrypt(t,e,s,i){if(this.key!==e||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,e,s,i));this.key=e,this.fastAesKey=new fb(this.subtle,e,i)}return this.fastAesKey.expandKey().then((e=>{if(!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new ub(this.subtle,new Uint8Array(s),i).decrypt(t.buffer,e)})).catch((r=>(lA.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,s,i))))}onWebCryptoError(t,e,s,i){const r=this.enableSoftwareAES;if(r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,s,i);const r=this.flush();if(r)return r.buffer}throw new Error("WebCrypto"+(r?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(t){let e=t;const s=t.length-t.length%16;return s!==t.length&&(e=t.slice(0,s),this.remainderData=t.slice(s)),e}logOnce(t){this.logEnabled&&(lA.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const gb=Math.pow(2,17);class yb{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const s=t.url;if(!s)return Promise.reject(new bb({type:Vy.NETWORK_ERROR,details:Wy.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(s?"part list":"url")),networkDetails:null}));this.abort();const i=this.config,r=i.fLoader,n=i.loader;return new Promise(((o,a)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some((t=>"GAP"===t[0])))return void a(vb(t));t.gap=!1}const h=this.loader=r?new r(i):new n(i),l=Ab(t);t.loader=h;const c=Kv(i.fragLoadPolicy.default),d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:gb};t.stats=h.stats;const u={onSuccess:(e,s,i,r)=>{this.resetLoader(t,h);let n=e.data;i.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(n.slice(0,16)),n=n.slice(16)),o({frag:t,part:null,payload:n,networkDetails:r})},onError:(e,i,r,n)=>{this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:sA({url:s,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:r,stats:n}))},onAbort:(e,s,i)=>{this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:i,stats:e}))},onTimeout:(e,s,i)=>{this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:i,stats:e}))}};e&&(u.onProgress=(s,i,r,n)=>e({frag:t,part:null,payload:r,networkDetails:n})),h.load(l,d,u)}))}loadPart(t,e,s){this.abort();const i=this.config,r=i.fLoader,n=i.loader;return new Promise(((o,a)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void a(vb(t,e));const h=this.loader=r?new r(i):new n(i),l=Ab(t,e);t.loader=h;const c=Kv(i.fragLoadPolicy.default),d={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:gb};e.stats=h.stats,h.load(l,d,{onSuccess:(i,r,n,a)=>{this.resetLoader(t,h),this.updateStatsFromPart(t,e);const l={frag:t,part:e,payload:i.data,networkDetails:a};s(l),o(l)},onError:(s,i,r,n)=>{this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:sA({url:l.url,data:void 0},s),error:new Error(`HTTP Error ${s.code} ${s.text}`),networkDetails:r,stats:n}))},onAbort:(s,i,r)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:r,stats:s}))},onTimeout:(s,i,r)=>{this.resetLoader(t,h),a(new bb({type:Vy.NETWORK_ERROR,details:Wy.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:s}))}})}))}updateStatsFromPart(t,e){const s=t.stats,i=e.stats,r=i.total;if(s.loaded+=i.loaded,r){const i=Math.round(t.duration/e.duration),n=Math.min(Math.round(s.loaded/r),i),o=(i-n)*Math.round(s.loaded/n);s.total=s.loaded+o}else s.total=Math.max(s.loaded,s.total);const n=s.loading,o=i.loading;n.start?n.first+=o.first-o.start:(n.start=o.start,n.first=o.first),n.end=o.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Ab(t,e=null){const s=e||t,i={frag:t,part:e,responseType:"arraybuffer",url:s.url,headers:{},rangeStart:0,rangeEnd:0},r=s.byteRangeStartOffset,n=s.byteRangeEndOffset;if(Oy(r)&&Oy(n)){var o;let e=r,s=n;if("initSegment"===t.sn&&("AES-128"===(a=null==(o=t.decryptdata)?void 0:o.method)||"AES-256"===a)){const t=n-r;t%16&&(s=n+(16-t%16)),0!==r&&(i.resetIV=!0,e=r-16)}i.rangeStart=e,i.rangeEnd=s}var a;return i}function vb(t,e){const s=new Error(`GAP ${t.gap?"tag":"attribute"} found`),i={type:Vy.MEDIA_ERROR,details:Wy.FRAG_GAP,fatal:!1,frag:t,error:s,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new bb(i)}class bb extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class Sb extends iA{constructor(t,e){super(t,e),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Eb{constructor(t,e,s,i=0,r=-1,n=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=s,this.size=i,this.part=r,this.partial=n}}const wb={length:0,start:()=>0,end:()=>0};class Tb{static isBuffered(t,e){if(t){const s=Tb.getBuffered(t);for(let t=s.length;t--;)if(e>=s.start(t)&&e<=s.end(t))return!0}return!1}static bufferedRanges(t){if(t){const e=Tb.getBuffered(t);return Tb.timeRangesToArray(e)}return[]}static timeRangesToArray(t){const e=[];for(let s=0;s<t.length;s++)e.push({start:t.start(s),end:t.end(s)});return e}static bufferInfo(t,e,s){if(t){const i=Tb.bufferedRanges(t);if(i.length)return Tb.bufferedInfo(i,e,s)}return{len:0,start:e,end:e,bufferedIndex:-1}}static bufferedInfo(t,e,s){e=Math.max(0,e),t.length>1&&t.sort(((t,e)=>t.start-e.start||e.end-t.end));let i=-1,r=[];if(s)for(let n=0;n<t.length;n++){e>=t[n].start&&e<=t[n].end&&(i=n);const o=r.length;if(o){const e=r[o-1].end;t[n].start-e<s?t[n].end>e&&(r[o-1].end=t[n].end):r.push(t[n])}else r.push(t[n])}else r=t;let n,o=0,a=e,h=e;for(let t=0;t<r.length;t++){const l=r[t].start,c=r[t].end;if(-1===i&&e>=l&&e<=c&&(i=t),e+s>=l&&e<c)a=l,h=c,o=h-e;else if(e+s<l){n=l;break}}return{len:o,start:a||0,end:h||0,nextStart:n,buffered:t,bufferedIndex:i}}static getBuffered(t){try{return t.buffered||wb}catch(t){return lA.log("failed to get media.buffered",t),wb}}}const Ib=/\{\$([a-zA-Z0-9-_]+)\}/g;function kb(t){return Ib.test(t)}function _b(t,e){if(null!==t.variableList||t.hasVariableRefs){const s=t.variableList;return e.replace(Ib,(e=>{const i=e.substring(2,e.length-1),r=null==s?void 0:s[i];return void 0===r?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),e):r}))}return e}function Cb(t,e,s){let i,r,n=t.variableList;if(n||(t.variableList=n={}),"QUERYPARAM"in e){i=e.QUERYPARAM;try{const t=new self.URL(s).searchParams;if(!t.has(i))throw new Error(`"${i}" does not match any query parameter in URI: "${s}"`);r=t.get(i)}catch(e){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}}else i=e.NAME,r=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=r||""}function Db(t,e,s){const i=e.IMPORT;if(s&&i in s){let e=t.variableList;e||(t.variableList=e={}),e[i]=s[i]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const Rb=/^(\d+)x(\d+)$/,Lb=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Pb{constructor(t,e){"string"==typeof t&&(t=Pb.parseAttrList(t,e)),tA(this,t)}get clientAttrs(){return Object.keys(this).filter((t=>"X-"===t.substring(0,2)))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const s=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)s[t]=parseInt(e.slice(2*t,2*t+2),16);return s}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const s=this[t];return s?parseFloat(s):e}enumeratedString(t){return this[t]}enumeratedStringList(t,e){const s=this[t];return(s?s.split(/[ ,]+/):[]).reduce(((t,e)=>(t[e.toLowerCase()]=!0,t)),e)}bool(t){return"YES"===this[t]}decimalResolution(t){const e=Rb.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t,e){let s;const i={};for(Lb.lastIndex=0;null!==(s=Lb.exec(t));){const r=s[1].trim();let n=s[2];const o=0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1;let a=!1;if(o)n=n.slice(1,-1);else switch(r){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":a=!0}if(e&&(o||a))n=_b(e,n);else if(!a&&!o)switch(r){case"CLOSED-CAPTIONS":if("NONE"===n)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":lA.warn(`${t}: attribute ${r} is missing quotes`)}i[r]=n}return i}}function xb(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t||"SCTE35-CMD"===t}class Mb{constructor(t,e,s=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(null==e?void 0:e.tagAnchor)||null,this.tagOrder=null!=(i=null==e?void 0:e.tagOrder)?i:s,e){const s=e.attr;for(const e in s)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==s[e]){lA.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=tA(new Pb({}),s,t)}if(this.attr=t,e?(this._startDate=e._startDate,this._cue=e._cue,this._endDate=e._endDate,this._dateAtEnd=e._dateAtEnd):this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=(null==e?void 0:e.endDate)||new Date(this.attr["END-DATE"]);Oy(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const t=this._cue;return void 0===t?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}get startTime(){const{tagAnchor:t}=this;return null===t||null===t.programDateTime?(lA.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${t}`),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const t=this._endDate||this._dateAtEnd;if(t)return t;const e=this.duration;return null!==e?this._dateAtEnd=new Date(this._startDate.getTime()+1e3*e):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(Oy(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return"com.apple.hls.interstitial"===this.class}get isValid(){return!!this.id&&!this._badValueForSameId&&Oy(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}class Bb{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,s=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!s||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&s>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1}get hasProgramDateTime(){return!!this.fragments.length&&Oy(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;if(t>0){return 1e3*(this.driftEnd-this.driftStart)/t}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const t=this.partList;if(t){const e=this.lastPartIndex;if(-1!==e){for(let s=t.length;s--;)if(t[s].index>e)return t[s].index;return e}}return 0}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}function Fb(t){return"AES-128"===t||"AES-256"===t||"AES-256-CTR"===t}function Ub(t){switch(t){case"AES-128":case"AES-256":return cb;case"AES-256-CTR":return db;default:throw new Error(`invalid full segment method ${t}`)}}function Ob(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function Nb(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}function jb(t){const e=t.split(":");let s=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),i=t[t.length-1].split(",");if(2===i.length){const e="base64"===i[0],r=i[1];e?(t.splice(-1,1),s=Ob(r)):s=function(t){const e=Nb(t).subarray(0,16),s=new Uint8Array(16);return s.set(e,16-e.length),s}(r)}}return s}const Vb="undefined"!=typeof self?self:void 0;var Wb={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Gb="org.w3.clearkey",zb="com.apple.streamingkeydelivery",Hb="com.microsoft.playready",Kb="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function qb(t){switch(t){case zb:return Wb.FAIRPLAY;case Hb:return Wb.PLAYREADY;case Kb:return Wb.WIDEVINE;case Gb:return Wb.CLEARKEY}}var Yb="1077efecc0b24d02ace33c1e52e2fb4b",Qb="e2719d58a985b3c9781ab030af78d30e",Jb="9a04f07998404286ab92e65be0885f95",Xb="edef8ba979d64acea3c827dcd51d21ed";function $b(t){return t===Xb?Wb.WIDEVINE:t===Jb?Wb.PLAYREADY:t===Yb||t===Qb?Wb.CLEARKEY:void 0}function Zb(t){switch(t){case Wb.FAIRPLAY:return zb;case Wb.PLAYREADY:return Hb;case Wb.WIDEVINE:return Kb;case Wb.CLEARKEY:return Gb}}function tS(t){const{drmSystems:e,widevineLicenseUrl:s}=t,i=e?[Wb.FAIRPLAY,Wb.WIDEVINE,Wb.PLAYREADY,Wb.CLEARKEY].filter((t=>!!e[t])):[];return!i[Wb.WIDEVINE]&&s&&i.push(Wb.WIDEVINE),i}const eS=null!=Vb&&null!=(sS=Vb.navigator)&&sS.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var sS;function iS(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),s=String.fromCharCode.apply(null,Array.from(e)),i=s.substring(s.indexOf("<"),s.length),r=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(r){const t=r.childNodes[0]?r.childNodes[0].nodeValue:r.getAttribute("VALUE");if(t){const e=Ob(t).subarray(0,16);return function(t){const e=function(t,e,s){const i=t[e];t[e]=t[s],t[s]=i};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),e}}return null}let rS={};class nS{static clearKeyUriToKeyIdMap(){rS={}}constructor(t,e,s,i=[1],r=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=s,this.keyFormatVersions=i,this.iv=r,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&!Fb(t)}isSupported(){if(this.method){if(Fb(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case zb:case Kb:case Hb:case Gb:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if(Fb(this.method)&&this.uri&&!this.iv){"number"!=typeof t&&(lA.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let s=12;s<16;s++)e[s]=t>>8*(15-s)&255;return e}(t);return new nS(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=jb(this.uri);if(e)switch(this.keyFormat){case Kb:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Hb:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=XA(t,0,e),this.keyId=iS(e);break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=rS[this.uri];if(!t){const e=Object.keys(rS).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16);new DataView(t.buffer,12,4).setUint32(0,e),rS[this.uri]=t}this.keyId=t}return this}}const oS=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,aS=/#EXT-X-MEDIA:(.*)/g,hS=/^#EXT(?:INF|-X-TARGETDURATION):/m,lS=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),cS=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class dS{static findGroup(t,e){for(let s=0;s<t.length;s++){const i=t[s];if(i.id===e)return i}}static resolve(t,e){return yA.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return hS.test(t)}static parseMasterPlaylist(t,e){const s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:kb(t)},i=[];let r;for(oS.lastIndex=0;null!=(r=oS.exec(t));)if(r[1]){var n;const t=new Pb(r[1],s),o=_b(s,r[2]),a={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:dS.resolve(o,e)},h=t.decimalResolution("RESOLUTION");h&&(a.width=h.width,a.height=h.height),gS(t.CODECS,a);const l=t["SUPPLEMENTAL-CODECS"];l&&(a.supplemental={},gS(l,a.supplemental)),null!=(n=a.unknownCodecs)&&n.length||i.push(a),s.levels.push(a)}else if(r[3]){const t=r[3],i=r[4];switch(t){case"SESSION-DATA":{const t=new Pb(i,s),e=t["DATA-ID"];e&&(null===s.sessionData&&(s.sessionData={}),s.sessionData[e]=t);break}case"SESSION-KEY":{const t=fS(i,e,s);t.encrypted&&t.isSupported()?(null===s.sessionKeys&&(s.sessionKeys=[]),s.sessionKeys.push(t)):lA.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${i}"`);break}case"DEFINE":Cb(s,new Pb(i,s),e);break;case"CONTENT-STEERING":{const t=new Pb(i,s);s.contentSteering={uri:dS.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":s.startTimeOffset=mS(i)}}const o=i.length>0&&i.length<s.levels.length;return s.levels=o?i:s.levels,0===s.levels.length&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(t,e,s){let i;const r={},n=s.levels,o={AUDIO:n.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:n.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let a=0;for(aS.lastIndex=0;null!==(i=aS.exec(t));){const t=new Pb(i[1],s),n=t.TYPE;if(n){const s=o[n],i=r[n]||[];r[n]=i;const h=t.LANGUAGE,l=t["ASSOC-LANGUAGE"],c=t.CHANNELS,d=t.CHARACTERISTICS,u=t["INSTREAM-ID"],p={attrs:t,bitrate:0,id:a++,groupId:t["GROUP-ID"]||"",name:t.NAME||h||"",type:n,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:h,url:t.URI?dS.resolve(t.URI,e):""};if(l&&(p.assocLang=l),c&&(p.channels=c),d&&(p.characteristics=d),u&&(p.instreamId=u),null!=s&&s.length){const t=dS.findGroup(s,p.groupId)||s[0];yS(p,t,"audioCodec"),yS(p,t,"textCodec")}i.push(p)}}return r}static parseLevelPlaylist(t,e,s,i,r,n){var o;const a={url:e},h=new Bb(e),l=h.fragments,c=[];let d,u,p,f,m=null,g=0,y=0,A=0,v=0,b=0,S=null,E=new TA(i,a),w=-1,T=!1,I=null;if(lS.lastIndex=0,h.m3u8=t,h.hasVariableRefs=kb(t),"#EXTM3U"!==(null==(o=lS.exec(t))?void 0:o[0]))return h.playlistParsingError=new Error("Missing format identifier #EXTM3U"),h;for(;null!==(d=lS.exec(t));){T&&(T=!1,E=new TA(i,a),E.playlistOffset=A,E.start=A,E.sn=g,E.cc=v,b&&(E.bitrate=b),E.level=s,m&&(E.initSegment=m,m.rawProgramDateTime&&(E.rawProgramDateTime=m.rawProgramDateTime,m.rawProgramDateTime=null),I&&(E.setByteRange(I),I=null)));const t=d[1];if(t){E.duration=parseFloat(t);const e=(" "+d[2]).slice(1);E.title=e||null,E.tagList.push(e?["INF",t,e]:["INF",t])}else if(d[3]){if(Oy(E.duration)){E.playlistOffset=A,E.start=A,p&&bS(E,p,h),E.sn=g,E.level=s,E.cc=v,l.push(E);const t=(" "+d[3]).slice(1);E.relurl=_b(h,t),AS(E,S,c),S=E,A+=E.duration,g++,y=0,T=!0}}else{if(d=d[0].match(cS),!d){lA.warn("No matches on slow regex match for level playlist!");continue}for(u=1;u<d.length&&void 0===d[u];u++);const t=(" "+d[u]).slice(1),r=(" "+d[u+1]).slice(1),o=d[u+2]?(" "+d[u+2]).slice(1):null;switch(t){case"BYTERANGE":S?E.setByteRange(r,S):E.setByteRange(r);break;case"PROGRAM-DATE-TIME":E.rawProgramDateTime=r,E.tagList.push(["PROGRAM-DATE-TIME",r]),-1===w&&(w=l.length);break;case"PLAYLIST-TYPE":h.type&&SS(h,t,d),h.type=r.toUpperCase();break;case"MEDIA-SEQUENCE":0!==h.startSN?SS(h,t,d):l.length>0&&ES(h,t,d),g=h.startSN=parseInt(r);break;case"SKIP":{h.skippedSegments&&SS(h,t,d);const e=new Pb(r,h),s=e.decimalInteger("SKIPPED-SEGMENTS");if(Oy(s)){h.skippedSegments+=s;for(let t=s;t--;)l.push(null);g+=s}const i=e.enumeratedString("RECENTLY-REMOVED-DATERANGES");i&&(h.recentlyRemovedDateranges=(h.recentlyRemovedDateranges||[]).concat(i.split("\t")));break}case"TARGETDURATION":0!==h.targetduration&&SS(h,t,d),h.targetduration=Math.max(parseInt(r),1);break;case"VERSION":null!==h.version&&SS(h,t,d),h.version=parseInt(r);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":h.live||SS(h,t,d),h.live=!1;break;case"#":(r||o)&&E.tagList.push(o?[r,o]:[r]);break;case"DISCONTINUITY":v++,E.tagList.push(["DIS"]);break;case"GAP":E.gap=!0,E.tagList.push([t]);break;case"BITRATE":E.tagList.push([t,r]),b=1e3*parseInt(r),Oy(b)?E.bitrate=b:b=0;break;case"DATERANGE":{const t=new Pb(r,h),e=new Mb(t,h.dateRanges[t.ID],h.dateRangeTagCount);h.dateRangeTagCount++,e.isValid||h.skippedSegments?h.dateRanges[e.id]=e:lA.warn(`Ignoring invalid DATERANGE tag: "${r}"`),E.tagList.push(["EXT-X-DATERANGE",r]);break}case"DEFINE":{const t=new Pb(r,h);"IMPORT"in t?Db(h,t,n):Cb(h,t,e)}break;case"DISCONTINUITY-SEQUENCE":0!==h.startCC?SS(h,t,d):l.length>0&&ES(h,t,d),h.startCC=v=parseInt(r);break;case"KEY":{const t=fS(r,e,h);if(t.isSupported()){if("NONE"===t.method){p=void 0;break}p||(p={}),p[t.keyFormat]&&(p=tA({},p)),p[t.keyFormat]=t}else lA.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${r}"`);break}case"START":h.startTimeOffset=mS(r);break;case"MAP":{const t=new Pb(r,h);if(E.duration){const e=new TA(i,a);vS(e,t,s,p),m=e,E.initSegment=m,m.rawProgramDateTime&&!E.rawProgramDateTime&&(E.rawProgramDateTime=m.rawProgramDateTime)}else{const e=E.byteRangeEndOffset;if(e){const t=E.byteRangeStartOffset;I=`${e-t}@${t}`}else I=null;vS(E,t,s,p),m=E,T=!0}m.cc=v;break}case"SERVER-CONTROL":f&&SS(h,t,d),f=new Pb(r),h.canBlockReload=f.bool("CAN-BLOCK-RELOAD"),h.canSkipUntil=f.optionalFloat("CAN-SKIP-UNTIL",0),h.canSkipDateRanges=h.canSkipUntil>0&&f.bool("CAN-SKIP-DATERANGES"),h.partHoldBack=f.optionalFloat("PART-HOLD-BACK",0),h.holdBack=f.optionalFloat("HOLD-BACK",0);break;case"PART-INF":{h.partTarget&&SS(h,t,d);const e=new Pb(r);h.partTarget=e.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=h.partList;t||(t=h.partList=[]);const e=y>0?t[t.length-1]:void 0,s=y++,i=new Pb(r,h),n=new IA(i,E,a,s,e);t.push(n),E.duration+=n.duration;break}case"PRELOAD-HINT":{const t=new Pb(r,h);h.preloadHint=t;break}case"RENDITION-REPORT":{const t=new Pb(r,h);h.renditionReports=h.renditionReports||[],h.renditionReports.push(t);break}default:lA.warn(`line parsed but not handled: ${d}`)}}}S&&!S.relurl?(l.pop(),A-=S.duration,h.partList&&(h.fragmentHint=S)):h.partList&&(AS(E,S,c),E.cc=v,h.fragmentHint=E,p&&bS(E,p,h)),h.targetduration||(h.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const k=l.length,_=l[0],C=l[k-1];if(A+=h.skippedSegments*h.targetduration,A>0&&k&&C){h.averagetargetduration=A/k;const t=C.sn;h.endSN="initSegment"!==t?t:0,h.live||(C.endList=!0),_&&void 0===h.startCC&&(h.startCC=_.cc),w>0&&(!function(t,e){let s=t[e];for(let i=e;i--;){const e=t[i];if(!e)return;e.programDateTime=s.programDateTime-1e3*e.duration,s=e}}(l,w),_&&c.unshift(_))}else h.endSN=0,h.startCC=0;return h.fragmentHint&&(A+=h.fragmentHint.duration),h.totalduration=A,c.length&&h.dateRangeTagCount&&_&&uS(c,h),h.endCC=v,h}}function uS(t,e){const s=t.length;if(!s)return;const i=t[s-1],r=e.live?1/0:e.totalduration,n=Object.keys(e.dateRanges);for(let o=n.length;o--;){const a=e.dateRanges[n[o]],h=a.startDate.getTime();a.tagAnchor=i.ref;for(let i=s;i--;){const s=pS(e,h,t,i,r);if(-1!==s){a.tagAnchor=e.fragments[s].ref;break}}}}function pS(t,e,s,i,r){const n=s[i];if(n){const a=n.programDateTime;if(e>=a||0===i){var o;if(e<=a+1e3*(((null==(o=s[i+1])?void 0:o.start)||r)-n.start)){const r=s[i].sn-t.startSN,n=t.fragments;if(n.length>s.length){for(let o=(s[i+1]||n[n.length-1]).sn-t.startSN;o>r;o--){const t=n[o].programDateTime;if(e>=t&&e<t+1e3*n[o].duration)return o}}return r}}}return-1}function fS(t,e,s){var i,r;const n=new Pb(t,s),o=null!=(i=n.METHOD)?i:"",a=n.URI,h=n.hexadecimalInteger("IV"),l=n.KEYFORMATVERSIONS,c=null!=(r=n.KEYFORMAT)?r:"identity";a&&n.IV&&!h&&lA.error(`Invalid IV: ${n.IV}`);const d=a?dS.resolve(a,e):"",u=(l||"1").split("/").map(Number).filter(Number.isFinite);return new nS(o,d,c,u,h)}function mS(t){const e=new Pb(t).decimalFloatingPoint("TIME-OFFSET");return Oy(e)?e:null}function gS(t,e){let s=(t||"").split(/[ ,]+/).filter((t=>t));["video","audio","text"].forEach((t=>{const i=s.filter((e=>ev(e,t)));i.length&&(e[`${t}Codec`]=i.map((t=>t.split("/")[0])).join(","),s=s.filter((t=>-1===i.indexOf(t))))})),e.unknownCodecs=s}function yS(t,e,s){const i=e[s];i&&(t[s]=i)}function AS(t,e,s){t.rawProgramDateTime?s.push(t):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function vS(t,e,s,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=s,t.sn="initSegment",i&&(t.levelkeys=i),t.initSegment=null}function bS(t,e,s){t.levelkeys=e;const{encryptedFragments:i}=s;i.length&&i[i.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||i.push(t)}function SS(t,e,s){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${s[0]})`)}function ES(t,e,s){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${s[0]})`)}function wS(t,e){const s=e.startPTS;if(Oy(s)){let i,r=0;e.sn>t.sn?(r=s-t.start,i=t):(r=t.start-s,i=e),i.duration!==r&&i.setDuration(r)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration)}else e.setStart(Math.max(t.start-e.duration,0))}function TS(t,e,s,i,r,n){i-s<=0&&(lA.warn("Fragment should have a positive duration",e),i=s+e.duration,n=r+e.duration);let o=s,a=i;const h=e.startPTS,l=e.endPTS;if(Oy(h)){const t=Math.abs(h-s);Oy(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,o=Math.max(s,h),s=Math.min(s,h),r=Math.min(r,e.startDTS),a=Math.min(i,l),i=Math.max(i,l),n=Math.max(n,e.endDTS)}const c=s-e.start;0!==e.start&&e.setStart(s),e.setDuration(i-e.start),e.startPTS=s,e.maxStartPTS=o,e.startDTS=r,e.endPTS=i,e.minEndPTS=a,e.endDTS=n;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let u;const p=d-t.startSN,f=t.fragments;for(f[p]=e,u=p;u>0;u--)wS(f[u],f[u-1]);for(u=p;u<f.length-1;u++)wS(f[u],f[u+1]);return t.fragmentHint&&wS(f[f.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,c}function IS(t,e){if(t===e)return;let s=null;const i=t.fragments;for(let t=i.length-1;t>=0;t--){const e=i[t].initSegment;if(e){s=e;break}}let r;t.fragmentHint&&delete t.fragmentHint.endPTS,function(t,e,s){const i=e.skippedSegments,r=Math.max(t.startSN,e.startSN)-e.startSN,n=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,h=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=r;l<=n;l++){const r=h[o+l];let n=a[l];if(i&&!n&&r&&(n=e.fragments[l]=r),r&&n){if(s(r,n,l,a),r.url&&r.url!==n.url)return void(e.playlistParsingError=kS(`media sequence mismatch ${n.sn}:`,t,e,r,n));if(r.cc!==n.cc)return void(e.playlistParsingError=kS(`discontinuity sequence mismatch (${r.cc}!=${n.cc})`,t,e,r,n))}}}(t,e,((t,i,n,o)=>{if((!e.startCC||e.skippedSegments)&&i.cc!==t.cc){const s=t.cc-i.cc;for(let t=n;t<o.length;t++)o[t].cc+=s;e.endCC=o[o.length-1].cc}Oy(t.startPTS)&&Oy(t.endPTS)&&(i.setStart(i.startPTS=t.startPTS),i.startDTS=t.startDTS,i.maxStartPTS=t.maxStartPTS,i.endPTS=t.endPTS,i.endDTS=t.endDTS,i.minEndPTS=t.minEndPTS,i.setDuration(t.endPTS-t.startPTS),i.duration&&(r=i),e.PTSKnown=e.alignedSliding=!0),t.hasStreams&&(i.elementaryStreams=t.elementaryStreams),i.loader=t.loader,t.hasStats&&(i.stats=t.stats),t.initSegment&&(i.initSegment=t.initSegment,s=t.initSegment)}));const n=e.fragments,o=e.fragmentHint?n.concat(e.fragmentHint):n;if(s&&o.forEach((t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=s)?void 0:e.relurl)||(t.initSegment=s)})),e.skippedSegments){if(e.deltaUpdateFailed=n.some((t=>!t)),e.deltaUpdateFailed){lA.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)n.shift();e.startSN=n[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=function(t,e){const{dateRanges:s,recentlyRemovedDateranges:i}=e,r=tA({},t);i&&i.forEach((t=>{delete r[t]}));const n=Object.keys(r).length;n&&Object.keys(s).forEach((t=>{const e=r[t],i=new Mb(s[t].attr,e);i.isValid?(r[t]=i,e||(i.tagOrder+=n)):lA.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Dv(s[t].attr)}"`)}));return r}(t.dateRanges,e));const s=t.fragments.filter((t=>t.rawProgramDateTime));if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let t=1;t<o.length;t++)null===o[t].programDateTime&&AS(o[t],o[t-1],s);uS(s,e)}e.endCC=n[n.length-1].cc}if(!e.startCC){var a;const s=RS(t,e.startSN-1);e.startCC=null!=(a=null==s?void 0:s.cc)?a:n[0].cc}!function(t,e,s){if(t&&e){let i=0;for(let r=0,n=t.length;r<=n;r++){const n=t[r],o=e[r+i];n&&o&&n.index===o.index&&n.fragment.sn===o.fragment.sn?s(n,o):i--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),r?TS(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):_S(t,e),n.length&&(e.totalduration=e.edge-n[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const h=e.advancedDateTime;if(e.advanced&&h){const t=e.edge;e.driftStart||(e.driftStartTime=h,e.driftStart=t),e.driftEndTime=h,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;-1===e.requestScheduled&&(e.requestScheduled=t.requestScheduled)}function kS(t,e,s,i,r){return new Error(`${t} ${r.url}\nPlaylist starting @${e.startSN}\n${e.m3u8}\n\nPlaylist starting @${s.startSN}\n${s.m3u8}`)}function _S(t,e,s=!0){const i=e.startSN+e.skippedSegments-t.startSN,r=t.fragments,n=i>=0;let o=0;if(n&&i<r.length)o=r[i].start;else if(n&&e.startSN===t.endSN+1)o=t.fragmentEnd;else if(n&&s)o=t.fragmentStart+i*e.levelTargetDuration;else{if(e.skippedSegments||0!==e.fragmentStart)return;o=t.fragmentStart}CS(e,o)}function CS(t,e){if(e){const s=t.fragments;for(let i=t.skippedSegments;i<s.length;i++)s[i].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function DS(t,e=1/0){let s=1e3*t.targetduration;if(t.updated){const i=t.fragments,r=4;if(i.length&&s*r>e){const t=1e3*i[i.length-1].duration;t<s&&(s=t)}}else s/=2;return Math.round(s)}function RS(t,e,s){if(!t)return null;let i=t.fragments[e-t.startSN];return i||(i=t.fragmentHint,i&&i.sn===e?i:e<t.startSN&&s&&s.sn===e?s:null)}function LS(t,e,s){return t?PS(t.partList,e,s):null}function PS(t,e,s){if(t)for(let i=t.length;i--;){const r=t[i];if(r.index===s&&r.fragment.sn===e)return r}return null}function xS(t){t.forEach(((t,e)=>{var s;null==(s=t.details)||s.fragments.forEach((t=>{t.level=e,t.initSegment&&(t.initSegment.level=e)}))}))}function MS(t,e){for(let i=0,r=t.length;i<r;i++){var s;if((null==(s=t[i])?void 0:s.cc)===e)return t[i]}return null}function BS(t,e){if(t){const s=t.start+e;t.start=t.startPTS=s,t.endPTS=s+t.duration}}function FS(t,e){const s=e.fragments;for(let e=0,i=s.length;e<i;e++)BS(s[e],t);e.fragmentHint&&BS(e.fragmentHint,t),e.alignedSliding=!0}function US(t,e){if(!function(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}(e,t))return;const s=Math.min(e.endCC,t.endCC),i=MS(e.fragments,s),r=MS(t.fragments,s);if(!i||!r)return;lA.log(`Aligning playlist at start of dicontinuity sequence ${s}`);FS(i.start-r.start,t)}function OS(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const s=t.fragments,i=e.fragments;if(!s.length||!i.length)return;let r,n;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(r=MS(i,o),n=MS(s,o)),r&&n||(r=i[Math.floor(i.length/2)],n=MS(s,r.cc)||s[Math.floor(s.length/2)]);const a=r.programDateTime,h=n.programDateTime;if(!a||!h)return;FS((h-a)/1e3-(n.start-r.start),t)}const NS=function(t){let e="";const s=t.length;for(let i=0;i<s;i++)e+=`[${t.start(i).toFixed(3)}-${t.end(i).toFixed(3)}]`;return e},jS="STOPPED",VS="IDLE",WS="KEY_LOADING",GS="FRAG_LOADING",zS="FRAG_LOADING_WAITING_RETRY",HS="WAITING_TRACK",KS="PARSING",qS="PARSED",YS="ENDED",QS="ERROR",JS="WAITING_INIT_PTS",XS="WAITING_LEVEL";class $S extends Sb{constructor(t,e,s,i,r){super(i,t.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=jS,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:t,fragCurrent:e,media:s,mediaBuffer:i,state:r}=this,n=s?s.currentTime:0,o=Tb.bufferInfo(i||s,n,t.maxBufferHole);if(this.log(`media seeking to ${Oy(n)?n.toFixed(3):n}, state: ${r}`),this.state===YS)this.resetLoadingState();else if(e){const s=t.maxFragLookUpTolerance,i=e.start-s,r=e.start+e.duration+s;if(!o.len||r<o.start||i>o.end){const t=n>r;(n<i||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(s){this.fragmentTracker.removeFragmentsInRange(n,1/0,this.playlistType,!0);if(n>this.lastCurrentTime&&(this.lastCurrentTime=n),!this.loadingParts){const t=Math.max(o.end,n),e=this.shouldLoadParts(this.getLevelDetails(),t);e&&(this.log(`LL-Part loading ON after seeking to ${n.toFixed(2)} with buffer @${t.toFixed(2)}`),this.loadingParts=e)}}this.hls.hasEnoughToStart||o.len||(this.log(`setting startPosition to ${n} because of seek before start`),this.nextLoadPosition=this.startPosition=n),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=r,this.hls=t,this.fragmentLoader=new yb(t.config),this.keyLoader=s,this.fragmentTracker=e,this.config=t.config,this.decrypter=new mb(t.config)}registerListeners(){const{hls:t}=this;t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Gy.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){if(this.state===jS)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=jS}get startPositionValue(){const{nextLoadPosition:t,startPosition:e}=this;return-1===e&&t?t:e}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(t,e){if(e.live||!this.media)return!1;const s=t.end||0,i=this.config.timelineOffset||0;if(s<=i)return!1;const r=t.buffered;this.config.maxBufferHole&&r&&r.length>1&&(t=Tb.bufferedInfo(r,t.start,0));const n=t.nextStart;if(n&&n>i&&n<e.edge)return!1;if(this.media.currentTime<t.start)return!1;const o=e.partList;if(null!=o&&o.length){const t=o[o.length-1];return Tb.isBuffered(this.media,t.start+t.duration/2)}const a=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details}get timelineOffset(){const t=this.config.timelineOffset;var e;return t?(null==(e=this.getLevelDetails())?void 0:e.appliedTimelineOffset)||t:0}onMediaAttached(t,e){const s=this.media=this.mediaBuffer=e.media;s.removeEventListener("seeking",this.onMediaSeeking),s.removeEventListener("ended",this.onMediaEnded),s.addEventListener("seeking",this.onMediaSeeking),s.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===jS&&this.startLoad(i.startPosition)}onMediaDetaching(t,e){const s=!!e.transferMedia,i=this.media;if(null!==i){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!s&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,s)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(t,e){}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=jS,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,s){this.startFragRequested=!0,this._loadFragForPlayback(t,e,s)}_loadFragForPlayback(t,e,s){this._doFragLoad(t,e,s,(t=>{const e=t.frag;if(this.fragContextChanged(e))return this.warn(`${e.type} sn: ${e.sn}${t.part?" part: "+t.part.index:""} of ${this.fragInfo(e,!1,t.part)}) was dropped during download.`),void this.fragmentTracker.removeFragment(e);e.stats.chunkCount++,this._handleFragmentLoadProgress(t)})).then((t=>{if(!t)return;const e=this.state,s=t.frag;this.fragContextChanged(s)?(e===GS||!this.fragCurrent&&e===KS)&&(this.fragmentTracker.removeFragment(s),this.state=VS):("payload"in t&&(this.log(`Loaded ${s.type} sn: ${s.sn} of ${this.playlistLabel()} ${s.level}`),this.hls.trigger(Gy.FRAG_LOADED,t)),this._handleFragmentLoadComplete(t))})).catch((e=>{this.state!==jS&&this.state!==QS&&(this.warn(`Frag error: ${(null==e?void 0:e.message)||e}`),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:s}=this;if(s.getState(t)===ib){const e=t.type,i=this.getFwdBufferInfo(this.mediaBuffer,e),r=Math.max(t.duration,i?i.len:this.config.maxBufferLength),n=this.backtrackFragment;(1===(n?t.sn-n.sn:0)||this.reduceMaxBufferLength(r,t.duration))&&s.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?s.removeAllFragments():s.hasParts(t.type)&&(s.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),s.getState(t)===rb&&s.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}waitForLive(t){const e=t.details;return(null==e?void 0:e.live)&&"EVENT"!==e.type&&(this.levelLastLoaded!==t||e.expired)}flushMainBuffer(t,e,s=null){if(!(t-e))return;const i={startOffset:t,endOffset:e,type:s};this.hls.trigger(Gy.BUFFER_FLUSHING,i)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((t=>{const e=null==t?void 0:t.frag;if(!e||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return t})).then((t=>{const{hls:e}=this,{frag:s,payload:i}=t,r=s.decryptdata;if(i&&i.byteLength>0&&null!=r&&r.key&&r.iv&&Fb(r.method)){const n=self.performance.now();return this.decrypter.decrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer,Ub(r.method)).catch((t=>{throw e.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:s}),t})).then((i=>{const r=self.performance.now();return e.trigger(Gy.FRAG_DECRYPTED,{frag:s,payload:i,stats:{tstart:n,tdecrypt:r}}),t.payload=i,this.completeInitSegmentLoad(t)}))}return this.completeInitSegmentLoad(t)})).catch((e=>{this.state!==jS&&this.state!==QS&&(this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const s=t.frag.stats;this.state!==jS&&(this.state=VS),t.frag.data=new Uint8Array(t.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),this.tick()}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){const s=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)} > buffer:${s?NS(Tb.getBuffered(s)):"(detached)"})`),wA(t)){var i;if(t.type!==Jy){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return void(this.state=VS)}const e=null==(i=this.levels)?void 0:i[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=VS}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:s,part:i,partsLoaded:r}=t,n=!r||0===r.length||r.some((t=>!t)),o=new Eb(s.level,s.sn,s.stats.chunkCount+1,0,i?i.index:-1,!n);e.flush(o)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,s=null,i){var r;this.fragCurrent=t;const n=null==e?void 0:e.details;if(!this.levels||!n)throw new Error(`frag load aborted, missing level${n?"":" detail"}s`);let o=null;!t.encrypted||null!=(r=t.decryptdata)&&r.key?t.encrypted||(o=this.keyLoader.loadClear(t,n.encryptedFragments),o&&this.log("[eme] blocking frag load until media-keys acquired")):(this.log(`Loading key for ${t.sn} of [${n.startSN}-${n.endSN}], ${this.playlistLabel()} ${t.level}`),this.state=WS,this.fragCurrent=t,o=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(Gy.KEY_LOADED,t),this.state===WS&&(this.state=VS),t})),this.hls.trigger(Gy.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING"))));const a=this.fragPrevious;if(wA(t)&&(!a||t.sn!==a.sn)){const s=this.shouldLoadParts(e.details,t.end);s!==this.loadingParts&&(this.log(`LL-Part loading ${s?"ON":"OFF"} loading sn ${null==a?void 0:a.sn}->${t.sn}`),this.loadingParts=s)}if(s=Math.max(t.start,s||0),this.loadingParts&&wA(t)){const r=n.partList;if(r&&i){s>t.end&&n.fragmentHint&&(t=n.fragmentHint);const a=this.getNextPart(r,t,s);if(a>-1){const h=r[a];let l;return t=this.fragCurrent=h.fragment,this.log(`Loading ${t.type} sn: ${t.sn} part: ${h.index} (${a}/${r.length-1}) of ${this.fragInfo(t,!1,h)}) cc: ${t.cc} [${n.startSN}-${n.endSN}], target: ${parseFloat(s.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=GS,l=o?o.then((s=>!s||this.fragContextChanged(s.frag)?null:this.doFragPartsLoad(t,h,e,i))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,h,e,i).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(Gy.FRAG_LOADING,{frag:t,part:h,targetBufferTime:s}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):l}if(!t.url||this.loadedEndOfParts(r,s))return Promise.resolve(null)}}if(wA(t)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${s.toFixed(2)}`),this.loadingParts=!1;else if(!t.url)return Promise.resolve(null);this.log(`Loading ${t.type} sn: ${t.sn} of ${this.fragInfo(t,!1)}) cc: ${t.cc} ${n?"["+n.startSN+"-"+n.endSN+"]":""}, target: ${parseFloat(s.toFixed(3))}`),Oy(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=GS;const h=this.config.progressive;let l;return l=h&&o?o.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,i))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,h?i:void 0),o]).then((([t])=>(!h&&t&&i&&i(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(Gy.FRAG_LOADING,{frag:t,targetBufferTime:s}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(t,e,s,i){return new Promise(((r,n)=>{var o;const a=[],h=null==(o=s.details)?void 0:o.partList,l=e=>{this.fragmentLoader.loadPart(t,e,i).then((i=>{a[e.index]=i;const n=i.part;this.hls.trigger(Gy.FRAG_LOADED,i);const o=LS(s.details,t.sn,e.index+1)||PS(h,t.sn,e.index+1);if(!o)return r({frag:t,part:n,partsLoaded:a});l(o)})).catch(n)};l(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===Wy.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Gy.ERROR,e)}else this.hls.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==KS)return void(this.fragCurrent||this.state===jS||this.state===QS||(this.state=VS));const{frag:s,part:i,level:r}=e,n=self.performance.now();s.stats.parsing.end=n,i&&(i.stats.parsing.end=n);const o=this.getLevelDetails(),a=o&&s.sn>o.endSN||this.shouldLoadParts(o,s.end);a!==this.loadingParts&&(this.log(`LL-Part loading ${a?"ON":"OFF"} after parsing segment ending @${s.end.toFixed(2)}`),this.loadingParts=a),this.updateLevelTiming(s,i,r,t.partial)}shouldLoadParts(t,e){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(null!=t&&t.partList){var s;const r=t.partList[0];if(e>=r.end+((null==(s=t.fragmentHint)?void 0:s.duration)||0)){var i;if((this.hls.hasEnoughToStart?(null==(i=this.media)?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>r.start-r.fragment.duration)return!0}}}return!1}getCurrentContext(t){const{levels:e,fragCurrent:s}=this,{level:i,sn:r,part:n}=t;if(null==e||!e[i])return this.warn(`Levels object was unset while buffering fragment ${r} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const o=e[i],a=o.details,h=n>-1?LS(a,r,n):null,l=h?h.fragment:RS(a,r,s);return l?(s&&s!==l&&(l.stats=s.stats),{frag:l,part:h,level:o}):null}bufferFragmentData(t,e,s,i,r){var n;if(!t||this.state!==KS)return;const{data1:o,data2:a}=t;let h=o;if(o&&a&&(h=HA(o,a)),null==(n=h)||!n.length)return;const l={type:t.type,frag:e,part:s,chunkMeta:i,parent:e.type,data:h};if(this.hls.trigger(Gy.BUFFER_APPENDING,l),t.dropped&&t.independent&&!s){if(r)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!Tb.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const s=e.currentTime,i=Tb.bufferInfo(e,s,0),r=t.duration,n=Math.min(2*this.config.maxFragLookUpTolerance,.25*r),o=Math.max(Math.min(t.start-n,i.end-n),s+n);t.start-o>n&&this.flushMainBuffer(o,t.start)}getFwdBufferInfo(t,e){var s;const i=this.getLoadPosition();if(!Oy(i))return null;const r=this.lastCurrentTime>i||null!=(s=this.media)&&s.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,i,e,r)}getFwdBufferInfoAtPos(t,e,s,i){const r=Tb.bufferInfo(t,e,i);if(0===r.len&&void 0!==r.nextStart){const n=this.fragmentTracker.getBufferedFrag(e,s);if(n&&(r.nextStart<=n.end||n.gap)){const s=Math.max(Math.min(r.nextStart,n.end)-e,i);return Tb.bufferInfo(t,e,s)}}return r}getMaxBufferLength(t){const{config:e}=this;let s;return s=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(s,e.maxMaxBufferLength)}reduceMaxBufferLength(t,e){const s=this.config,i=Math.max(Math.min(t-e,s.maxBufferLength),e),r=Math.max(t-3*e,s.maxMaxBufferLength/2,i);return r>=i&&(s.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0)}getAppendedFrag(t,e=Yy){var s;const i=null==(s=this.fragmentTracker)?void 0:s.getAppendedFrag(t,e);return i&&"fragment"in i?i.fragment:i}getNextFragment(t,e){const s=e.fragments,i=s.length;if(!i)return null;const{config:r}=this,n=s[0].start,o=r.lowLatencyMode&&!!e.partList;let a=null;if(e.live){const s=r.initialLiveManifestSize;if(i<s)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${s})`),null;if(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<n){var h;o&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),a=this.getInitialLiveFragment(e);const s=this.hls.startPosition,i=this.hls.liveSyncPosition,r=a?(-1!==s&&s>=n?s:i)||a.start:t;this.log(`Setting startPosition to ${r} to match start frag at live edge. mainStart: ${s} liveSyncPosition: ${i} frag.start: ${null==(h=a)?void 0:h.start}`),this.startPosition=this.nextLoadPosition=r}}else t<=n&&(a=s[0]);if(!a){const s=this.loadingParts?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,s,e)}let l=this.filterReplacedPrimary(a,e);if(!l&&a){const t=a.sn-e.startSN;l=this.filterReplacedPrimary(s[t+1]||null,e)}return this.mapToInitFragWhenRequired(l)}isLoopLoading(t,e){const s=this.fragmentTracker.getState(t);return(s===nb||s===rb&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,s,i,r){let n=null;if(t.gap&&(n=this.getNextFragment(this.nextLoadPosition,e),n&&!n.gap&&s.nextStart)){const t=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,s.nextStart,i,0);if(null!==t&&s.len+t.len>=r){const t=n.sn;return this.loopSn!==t&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${t}`),this.loopSn=t),null}}return this.loopSn=void 0,n}get primaryPrefetch(){if(ZS(this.hls.config)){var t,e;if(null==(t=this.hls.interstitialsManager)||null==(e=t.playingItem)?void 0:e.event)return!0}return!1}filterReplacedPrimary(t,e){if(!t)return t;if(ZS(this.hls.config)&&t.type!==Jy){const s=this.hls.interstitialsManager,i=null==s?void 0:s.bufferingItem;if(i){const s=i.event;if(s){if(s.appendInPlace||Math.abs(t.start-i.start)>1||0===i.start)return null}else{if(t.end<=i.start&&!1===(null==e?void 0:e.live))return null;if(t.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||t.start-i.end>1))return null}}const r=null==s?void 0:s.playerQueue;if(r)for(let e=r.length;e--;){const s=r[e].interstitial;if(s.appendInPlace&&t.start>=s.startTime&&t.end<=s.resumeTime)return null}}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,s){let i=-1,r=!1,n=!0;for(let o=0,a=t.length;o<a;o++){const a=t[o];if(n=n&&!a.independent,i>-1&&s<a.start)break;const h=a.loaded;h?i=-1:(r||a.independent||n)&&a.fragment===e&&(i=o),r=h}return i}loadedEndOfParts(t,e){const s=t[t.length-1];return s&&e>s.start&&s.loaded}getInitialLiveFragment(t){const e=t.fragments,s=this.fragPrevious;let i=null;if(s){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${s.programDateTime}`),i=function(t,e,s){if(null===e||!Array.isArray(t)||!t.length||!Oy(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;for(let i=0;i<t.length;++i){const r=t[i];if(Vv(e,s,r))return r}return null}(e,s.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const r=s.sn+1;if(r>=t.startSN&&r<=t.endSN){const n=e[r-t.startSN];s.cc===n.cc&&(i=n,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=Wv(t,s.cc,s.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(i=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return i}getFragmentAtPosition(t,e,s){const{config:i}=this;let{fragPrevious:r}=this,{fragments:n,endSN:o}=s;const{fragmentHint:a}=s,{maxFragLookUpTolerance:h}=i,l=s.partList,c=!!(this.loadingParts&&null!=l&&l.length&&a);let d;if(c&&a&&!this.bitrateTest&&l[l.length-1].fragment.sn===a.sn&&(n=n.concat(a),o=a.sn),t<e){var u;d=Nv(r,n,t,t<this.lastCurrentTime||t>e-h||null!=(u=this.media)&&u.paused||!this.startFragRequested?0:h)}else d=n[n.length-1];if(d){const t=d.sn-s.startSN,e=this.fragmentTracker.getState(d);if((e===nb||e===rb&&d.gap)&&(r=d),r&&d.sn===r.sn&&(!c||l[0].fragment.sn>d.sn||!s.live&&!c)){if(r&&d.level===r.level){const e=n[t+1];d=d.sn<o&&this.fragmentTracker.getState(e)!==nb?e:null}}}return d}alignPlaylists(t,e,s){const i=t.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const r=t.fragmentStart,n=!e,o=t.alignedSliding&&Oy(r);if(n||!o&&!r){!function(t,e){t&&(US(e,t),!e.alignedSliding&&t&&OS(e,t),e.alignedSliding||!t||e.skippedSegments||_S(t,e,!1))}(s,t);const r=t.fragmentStart;return this.log(`Live playlist sliding: ${r.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} fragments: ${i}`),r}return r}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let s=this.startPosition;s<e&&(s=-1);const i=this.timelineOffset;if(-1===s){const r=null!==this.startTimeOffset,n=r?this.startTimeOffset:t.startTimeOffset;null!==n&&Oy(n)?(s=e+n,n<0&&(s+=t.edge),s=Math.min(Math.max(e,s),e+t.totalduration),this.log(`Setting startPosition to ${s} for start time offset ${n} found in ${r?"multivariant":"media"} playlist`),this.startPosition=s):t.live?(s=this.hls.liveSyncPosition||e,this.log(`Setting startPosition to -1 to start at live edge ${s}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=s=0),this.lastCurrentTime=s+i}this.nextLoadPosition=s+i}getLoadPosition(){var t;const{media:e}=this;let s=0;return null!=(t=this.hls)&&t.hasEnoughToStart&&e?s=e.currentTime:this.nextLoadPosition>=0&&(s=this.nextLoadPosition),s}handleFragLoadAborted(t,e){this.transmuxer&&t.type===this.playlistType&&wA(t)&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of ${this.playlistLabel()} ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===zS)||(this.state=VS)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const s=e.frag;if(!s||s.type!==t||!this.levels)return;var i;if(this.fragContextChanged(s))return void this.warn(`Frag load error must match current frag to retry ${s.url} > ${null==(i=this.fragCurrent)?void 0:i.url}`);const r=e.details===Wy.FRAG_GAP;r&&this.fragmentTracker.fragBuffered(s,!0);const n=e.errorAction,{action:o,flags:a,retryCount:h=0,retryConfig:l}=n||{},c=!!n&&!!l,d=c&&o===Xv,u=c&&!n.resolved&&a===Zv;if(!d&&u&&wA(s)&&!s.endList)this.resetFragmentErrors(t),this.treatAsGap(s),n.resolved=!0;else if((d||u)&&h<l.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const i=Hv(l,h);this.warn(`Fragment ${s.sn} of ${t} ${s.level} errored with ${e.details}, retrying loading ${h+1}/${l.maxNumRetry} in ${i}ms`),n.resolved=!0,this.retryDate=self.performance.now()+i,this.state=zS}else if(l&&n){if(this.resetFragmentErrors(t),!(h<l.maxNumRetry))return void this.warn(`${e.details} reached or exceeded max retry (${h})`);r||o===Jv||(n.resolved=!0)}else this.state=o===Qv?XS:QS;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===KS||this.state===qS){const e=t.frag,s=t.parent,i=this.getFwdBufferInfo(this.mediaBuffer,s),r=i&&i.len>.5;r&&this.reduceMaxBufferLength(i.len,(null==e?void 0:e.duration)||10);const n=!r;return n&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${s} buffer`),e&&(this.fragmentTracker.removeFragment(e),this.nextLoadPosition=e.start),this.resetLoadingState(),n}return!1}resetFragmentErrors(t){t===Qy&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==jS&&(this.state=VS)}afterBufferFlushed(t,e,s){if(!t)return;const i=Tb.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,i,s),this.state===YS&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==jS&&(this.state=VS)}resetStartWhenNotLoaded(t){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=t?t.details:null;null!=e&&e.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(e,e.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of ${this.playlistLabel()} ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,s,i){const r=s.details;if(!r)return void this.warn("level.details undefined");var n;if(!Object.keys(t.elementaryStreams).reduce(((e,n)=>{const o=t.elementaryStreams[n];if(o){const a=o.endPTS-o.startPTS;if(a<=0)return this.warn(`Could not parse fragment ${t.sn} ${n} duration reliably (${a})`),e||!1;const h=i?0:TS(r,t,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return this.hls.trigger(Gy.LEVEL_PTS_UPDATED,{details:r,level:s,drift:h,type:n,frag:t,start:o.startPTS,end:o.endPTS}),!0}return e}),!1)&&(0===s.fragmentError&&this.treatAsGap(t,s),null===(null==(n=this.transmuxer)?void 0:n.error))){const e=new Error(`Found no media in fragment ${t.sn} of ${this.playlistLabel()} ${t.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(e.message),this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of ${this.playlistLabel()} "${s.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=qS,this.log(`Parsed ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.fragInfo(t,!1,e)})`),this.hls.trigger(Gy.FRAG_PARSED,{frag:t,part:e})}playlistLabel(){return this.playlistType===Yy?"level":"track"}fragInfo(t,e=!0,s){var i,r;return`${this.playlistLabel()} ${t.level} (${s?"part":"frag"}:[${(null!=(i=e&&!s?t.startPTS:(s||t).start)?i:NaN).toFixed(3)}-${(null!=(r=e&&!s?t.endPTS:(s||t).end)?r:NaN).toFixed(3)}]${s&&"main"===t.type?"INDEPENDENT="+(s.independent?"YES":"NO"):""}`}treatAsGap(t,e){e&&e.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)}resetTransmuxer(){var t;null==(t=this.transmuxer)||t.reset()}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}function ZS(t){return!!t.interstitialsController&&!1!==t.enableInterstitialPlayback}class tE{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let s;return t.length?(s=1===t.length?t[0]:function(t,e){const s=new Uint8Array(e);let i=0;for(let e=0;e<t.length;e++){const r=t[e];s.set(r,i),i+=r.length}return s}(t,e),this.reset(),s):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}var eE,sE={exports:{}};var iE=(eE||(eE=1,function(t){var e=Object.prototype.hasOwnProperty,s="~";function i(){}function r(t,e,s){this.fn=t,this.context=e,this.once=s||!1}function n(t,e,i,n,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new r(i,n||t,o),h=s?s+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(s=!1)),a.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(s?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var e=s?s+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,n=i.length,o=new Array(n);r<n;r++)o[r]=i[r].fn;return o},a.prototype.listenerCount=function(t){var e=s?s+t:t,i=this._events[e];return i?i.fn?1:i.length:0},a.prototype.emit=function(t,e,i,r,n,o){var a=s?s+t:t;if(!this._events[a])return!1;var h,l,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,i),!0;case 4:return c.fn.call(c.context,e,i,r),!0;case 5:return c.fn.call(c.context,e,i,r,n),!0;case 6:return c.fn.call(c.context,e,i,r,n,o),!0}for(l=1,h=new Array(d-1);l<d;l++)h[l-1]=arguments[l];c.fn.apply(c.context,h)}else{var u,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,i);break;case 4:c[l].fn.call(c[l].context,e,i,r);break;default:if(!h)for(u=1,h=new Array(d-1);u<d;u++)h[u-1]=arguments[u];c[l].fn.apply(c[l].context,h)}}return!0},a.prototype.on=function(t,e,s){return n(this,t,e,s,!1)},a.prototype.once=function(t,e,s){return n(this,t,e,s,!0)},a.prototype.removeListener=function(t,e,i,r){var n=s?s+t:t;if(!this._events[n])return this;if(!e)return o(this,n),this;var a=this._events[n];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||o(this,n);else{for(var h=0,l=[],c=a.length;h<c;h++)(a[h].fn!==e||r&&!a[h].once||i&&a[h].context!==i)&&l.push(a[h]);l.length?this._events[n]=1===l.length?l[0]:l:o(this,n)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=s,a.EventEmitter=a,t.exports=a}(sE)),sE.exports),rE=fA(iE);const nE="1.6.5",oE={};function aE(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function hE(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function lE(t,e){let s=0;return s=(127&t[e])<<21,s|=(127&t[e+1])<<14,s|=(127&t[e+2])<<7,s|=127&t[e+3],s}function cE(t,e){const s=e;let i=0;for(;hE(t,e);){i+=10;i+=lE(t,e+6),aE(t,e+10)&&(i+=10),e+=i}if(i>0)return t.subarray(s,s+i)}function dE(t,e){return 255===t[e]&&240==(246&t[e+1])}function uE(t,e){return 1&t[e+1]?7:9}function pE(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function fE(t,e){return e+1<t.length&&dE(t,e)}function mE(t,e){if(fE(t,e)){const s=uE(t,e);if(e+s>=t.length)return!1;const i=pE(t,e);if(i<=s)return!1;const r=e+i;return r===t.length||fE(t,r)}return!1}function gE(t,e,s,i,r){if(!t.samplerate){const n=function(t,e,s,i){const r=e[s+2],n=r>>2&15;if(n>12){const e=new Error(`invalid ADTS sampling index:${n}`);return void t.emit(Gy.ERROR,Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}const o=1+(r>>6&3),a=e[s+3]>>6&3|(1&r)<<2,h="mp4a.40."+o,l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][n];let c=n;5!==o&&29!==o||(c-=3);const d=[o<<3|(14&c)>>1,(1&c)<<7|a<<3];return lA.log(`manifest codec:${i}, parsed codec:${h}, channels:${a}, rate:${l} (ADTS object type:${o} sampling index:${n})`),{config:d,samplerate:l,channelCount:a,codec:h,parsedCodec:h,manifestCodec:i}}(e,s,i,r);if(!n)return;tA(t,n)}}function yE(t){return 9216e4/t}function AE(t,e,s,i,r){const n=i+r*yE(t.samplerate),o=function(t,e){const s=uE(t,e);if(e+s<=t.length){const i=pE(t,e)-s;if(i>0)return{headerLength:s,frameLength:i}}}(e,s);let a;if(o){const{frameLength:i,headerLength:r}=o,h=r+i,l=Math.max(0,s+h-e.length);l?(a=new Uint8Array(h-r),a.set(e.subarray(s+r,e.length),0)):a=e.subarray(s+r,s+h);const c={unit:a,pts:n};return l||t.samples.push(c),{sample:c,length:h,missing:l}}const h=e.length-s;a=new Uint8Array(h),a.set(e.subarray(s,e.length),0);return{sample:{unit:a,pts:n},length:h,missing:-1}}function vE(t,e){return hE(t,e)&&lE(t,e+6)+10<=t.length-e}function bE(t,e=0,s=1/0){return function(t,e,s,i){const r=function(t){return t instanceof ArrayBuffer?t:t.buffer}(t);let n=1;"BYTES_PER_ELEMENT"in i&&(n=i.BYTES_PER_ELEMENT);const o=(d=t,d&&d.buffer instanceof ArrayBuffer&&void 0!==d.byteLength&&void 0!==d.byteOffset?t.byteOffset:0),a=(o+t.byteLength)/n,h=(o+e)/n,l=Math.floor(Math.max(0,Math.min(h,a))),c=Math.floor(Math.min(l+Math.max(s,0),a));var d;return new i(r,l,c-l)}(t,e,s,Uint8Array)}function SE(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null};if(t.size<2)return;if(3!==t.data[0])return void console.log("Ignore frame with unrecognized character encoding");const s=t.data.subarray(1).indexOf(0);if(-1===s)return;const i=uA(bE(t.data,1,s)),r=t.data[2+s],n=t.data.subarray(3+s).indexOf(0);if(-1===n)return;const o=uA(bE(t.data,3+s,n));let a;return a="--\x3e"===i?uA(bE(t.data,4+s+n)):function(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}(t.data.subarray(4+s+n)),e.mimeType=i,e.pictureType=r,e.description=o,e.data=a,e}function EE(t){return"PRIV"===t.type?function(t){if(t.size<2)return;const e=uA(t.data,!0),s=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:s.buffer}}(t):"W"===t.type[0]?function(t){if("WXXX"===t.type){if(t.size<2)return;let e=1;const s=uA(t.data.subarray(e),!0);e+=s.length+1;const i=uA(t.data.subarray(e));return{key:t.type,info:s,data:i}}const e=uA(t.data);return{key:t.type,info:"",data:e}}(t):"APIC"===t.type?SE(t):function(t){if(t.size<2)return;if("TXXX"===t.type){let e=1;const s=uA(t.data.subarray(e),!0);e+=s.length+1;const i=uA(t.data.subarray(e));return{key:t.type,info:s,data:i}}const e=uA(t.data.subarray(1));return{key:t.type,info:"",data:e}}(t)}function wE(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),s=lE(t,4);return{type:e,size:s,data:t.subarray(10,10+s)}}function TE(t){let e=0;const s=[];for(;hE(t,e);){const i=lE(t,e+6);t[e+5]>>6&1&&(e+=10),e+=10;const r=e+i;for(;e+10<r;){const i=wE(t.subarray(e)),r=EE(i);r&&s.push(r),e+=i.size+10}aE(t,e)&&(e+=10)}return s}function IE(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info}function kE(t){if(8===t.data.byteLength){const e=new Uint8Array(t.data),s=1&e[3];let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,s&&(i+=47721858.84),Math.round(i)}}function _E(t){const e=TE(t);for(let t=0;t<e.length;t++){const s=e[t];if(IE(s))return kE(s)}}let CE=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function DE(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class RE{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,s,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,s){}demux(t,e){this.cachedData&&(t=HA(this.cachedData,t),this.cachedData=null);let s,i=cE(t,0),r=i?i.length:0;const n=this._audioTrack,o=this._id3Track,a=i?_E(i):void 0,h=t.length;for((null===this.basePTS||0===this.frameIndex&&Oy(a))&&(this.basePTS=LE(a,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),i&&i.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:CE.audioId3,duration:Number.POSITIVE_INFINITY});r<h;){if(this.canParse(t,r)){const e=this.appendFrame(n,t,r);e?(this.frameIndex++,this.lastPTS=e.sample.pts,r+=e.length,s=r):r=h}else vE(t,r)?(i=cE(t,r),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:CE.audioId3,duration:Number.POSITIVE_INFINITY}),r+=i.length,s=r):r++;if(r===h&&s!==h){const e=t.slice(s);this.cachedData?this.cachedData=HA(this.cachedData,e):this.cachedData=e}}return{audioTrack:n,videoTrack:DE(),id3Track:o,textTrack:DE()}}demuxSampleAes(t,e,s){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:DE(),id3Track:this._id3Track,textTrack:DE()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const LE=(t,e,s)=>{if(Oy(t))return 90*t;return 9e4*e+(s?9e4*s.baseTime/s.timescale:0)};let PE=null;const xE=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ME=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],BE=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],FE=[0,1,1,4];function UE(t,e,s,i,r){if(s+24>e.length)return;const n=OE(e,s);if(n&&s+n.frameLength<=e.length){const o=i+r*(9e4*n.samplesPerFrame/n.sampleRate),a={unit:e.subarray(s,s+n.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=n.channelCount,t.samplerate=n.sampleRate,t.samples.push(a),{sample:a,length:n.frameLength,missing:0}}}function OE(t,e){const s=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,n=t[e+2]>>2&3;if(1!==s&&0!==r&&15!==r&&3!==n){const o=t[e+2]>>1&1,a=t[e+3]>>6,h=1e3*xE[14*(3===s?3-i:3===i?3:4)+r-1],l=ME[3*(3===s?0:2===s?1:2)+n],c=3===a?1:2,d=BE[s][i],u=FE[i],p=8*d*u,f=Math.floor(d*h/l+o)*u;if(null===PE){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);PE=t?parseInt(t[1]):0}return!!PE&&PE<=87&&2===i&&h>=224e3&&0===a&&(t[e+3]=128|t[e+3]),{sampleRate:l,channelCount:c,frameLength:f,samplesPerFrame:p}}}function NE(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function jE(t,e){return e+1<t.length&&NE(t,e)}function VE(t,e){if(e+1<t.length&&NE(t,e)){const s=4,i=OE(t,e);let r=s;null!=i&&i.frameLength&&(r=i.frameLength);const n=e+r;return n===t.length||jE(t,n)}return!1}const WE=(t,e)=>{let s=0,i=5;e+=i;const r=new Uint32Array(1),n=new Uint32Array(1),o=new Uint8Array(1);for(;i>0;){o[0]=t[e];const a=Math.min(i,8),h=8-a;n[0]=4278190080>>>24+h<<h,r[0]=(o[0]&n[0])>>h,s=s?s<<a|r[0]:r[0],e+=1,i-=a}return s};class GE extends RE{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,s){const i=zE(t,e,s,this.basePTS,this.frameIndex);if(-1!==i){return{sample:t.samples[t.samples.length-1],length:i,missing:0}}}static probe(t){if(!t)return!1;const e=cE(t,0);if(!e)return!1;const s=e.length;return 11===t[s]&&119===t[s+1]&&void 0!==_E(e)&&WE(t,s)<16}}function zE(t,e,s,i,r){if(s+8>e.length)return-1;if(11!==e[s]||119!==e[s+1])return-1;const n=e[s+4]>>6;if(n>=3)return-1;const o=[48e3,44100,32e3][n],a=63&e[s+4],h=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*a+n];if(s+h>e.length)return-1;const l=e[s+6]>>5;let c=0;2===l?c+=2:(1&l&&1!==l&&(c+=2),4&l&&(c+=2));const d=(e[s+6]<<8|e[s+7])>>12-c&1,u=[2,1,2,3,3,4,4,5][l]+d,p=e[s+5]>>3,f=7&e[s+5],m=new Uint8Array([n<<6|p<<1|f>>2,(3&f)<<6|l<<3|d<<2|a>>4,a<<4&224]),g=i+r*(1536/o*9e4),y=e.subarray(s,s+h);return t.config=m,t.channelCount=u,t.samplerate=o,t.samples.push({unit:y,pts:g}),h}const HE=/\/emsg[-/]ID3/i;function KE(t,e){return Oy(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class qE{constructor(t,e,s){this.keyData=void 0,this.decrypter=void 0,this.keyData=s,this.decrypter=new mb(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,cb)}decryptAacSample(t,e,s){const i=t[e].unit;if(i.length<=16)return;const r=i.subarray(16,i.length-i.length%16),n=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(n).then((r=>{const n=new Uint8Array(r);i.set(n,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,s)}))}decryptAacSamples(t,e,s){for(;;e++){if(e>=t.length)return void s();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,s),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,s=new Int8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)s.set(t.subarray(e,e+16),i);return s}getAvcDecryptedUnit(t,e){const s=new Uint8Array(e);let i=0;for(let e=32;e<t.length-16;e+=160,i+=16)t.set(s.subarray(i,i+16),e);return t}decryptAvcSample(t,e,s,i,r){const n=JA(r.data),o=this.getAvcEncryptedData(n);this.decryptBuffer(o.buffer).then((o=>{r.data=this.getAvcDecryptedUnit(n,o),this.decrypter.isSync()||this.decryptAvcSamples(t,e,s+1,i)}))}decryptAvcSamples(t,e,s,i){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,s=0){if(e>=t.length)return void i();const r=t[e].units;for(;!(s>=r.length);s++){const n=r[s];if(!(n.data.length<=48||1!==n.type&&5!==n.type||(this.decryptAvcSample(t,e,s,i,n),this.decrypter.isSync())))return}}}}class YE{constructor(){this.VideoSample=null}createVideoSample(t,e,s){return{key:t,frame:!1,pts:e,dts:s,units:[],length:0}}getLastNalUnit(t){var e;let s,i=this.VideoSample;if(i&&0!==i.units.length||(i=t[t.length-1]),null!=(e=i)&&e.units){const t=i.units;s=t[t.length-1]}return s}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const s=e.samples,i=s.length;if(!i)return void e.dropped++;{const e=s[i-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}}parseNALu(t,e,s){const i=e.byteLength;let r=t.naluState||0;const n=r,o=[];let a,h,l,c=0,d=-1,u=0;for(-1===r&&(d=0,u=this.getNALuType(e,0),r=0,c=1);c<i;)if(a=e[c++],r)if(1!==r)if(a)if(1===a){if(h=c-r-1,d>=0){const t={data:e.subarray(d,h),type:u};o.push(t)}else{const s=this.getLastNalUnit(t.samples);s&&(n&&c<=4-n&&s.state&&(s.data=s.data.subarray(0,s.data.byteLength-n)),h>0&&(s.data=HA(s.data,e.subarray(0,h)),s.state=0))}c<i?(l=this.getNALuType(e,c),d=c,u=l,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(d>=0&&r>=0){const t={data:e.subarray(d,i),type:u,state:r};o.push(t)}if(0===o.length){const s=this.getLastNalUnit(t.samples);s&&(s.data=HA(s.data,e))}return t.naluState=r,o}}class QE{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,s=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(s,s+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const s=this.word>>>32-e;if(t>32&&lA.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?s<<e|this.readBits(e):s}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class JE extends YE{parsePES(t,e,s,i){const r=this.parseNALu(t,s.data,i);let n,o=this.VideoSample,a=!1;s.data=null,o&&r.length&&!t.audFound&&(this.pushAccessUnit(o,t),o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),r.forEach((i=>{var r,h;switch(i.type){case 1:{let e=!1;n=!0;const r=i.data;if(a&&r.length>4){const t=this.readSliceType(r);2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var l;if(e)null!=(l=o)&&l.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.frame=!0,o.key=e;break}case 5:n=!0,null!=(r=o)&&r.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 6:n=!0,QA(i.data,1,s.pts,e.samples);break;case 7:{var c,d;n=!0,a=!0;const e=i.data,s=this.readSPS(e);if(!t.sps||t.width!==s.width||t.height!==s.height||(null==(c=t.pixelRatio)?void 0:c[0])!==s.pixelRatio[0]||(null==(d=t.pixelRatio)?void 0:d[1])!==s.pixelRatio[1]){t.width=s.width,t.height=s.height,t.pixelRatio=s.pixelRatio,t.sps=[e];const i=e.subarray(1,4);let r="avc1.";for(let t=0;t<3;t++){let e=i[t].toString(16);e.length<2&&(e="0"+e),r+=e}t.codec=r}break}case 8:n=!0,t.pps=[i.data];break;case 9:n=!0,t.audFound=!0,null!=(h=o)&&h.frame&&(this.pushAccessUnit(o,t),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;case 12:n=!0;break;default:n=!1}if(o&&n){o.units.push(i)}})),i&&o&&(this.pushAccessUnit(o,t),this.VideoSample=null)}getNALuType(t,e){return 31&t[e]}readSliceType(t){const e=new QE(t);return e.readUByte(),e.readUEG(),e.readUEG()}skipScalingList(t,e){let s,i=8,r=8;for(let n=0;n<t;n++)0!==r&&(s=e.readEG(),r=(i+s+256)%256),i=0===r?i:r}readSPS(t){const e=new QE(t);let s,i,r,n=0,o=0,a=0,h=0;const l=e.readUByte.bind(e),c=e.readBits.bind(e),d=e.readUEG.bind(e),u=e.readBoolean.bind(e),p=e.skipBits.bind(e),f=e.skipEG.bind(e),m=e.skipUEG.bind(e),g=this.skipScalingList.bind(this);l();const y=l();if(c(5),p(3),l(),m(),100===y||110===y||122===y||244===y||44===y||83===y||86===y||118===y||128===y){const t=d();if(3===t&&p(1),m(),m(),p(1),u())for(i=3!==t?8:12,r=0;r<i;r++)u()&&g(r<6?16:64,e)}m();const A=d();if(0===A)d();else if(1===A)for(p(1),f(),f(),s=d(),r=0;r<s;r++)f();m(),p(1);const v=d(),b=d(),S=c(1);0===S&&p(1),p(1),u()&&(n=d(),o=d(),a=d(),h=d());let E=[1,1];if(u()&&u()){switch(l()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[l()<<8|l(),l()<<8|l()]}}return{width:Math.ceil(16*(v+1)-2*n-2*o),height:(2-S)*(b+1)*16-(S?2:4)*(a+h),pixelRatio:E}}}class XE extends YE{constructor(...t){super(...t),this.initVPS=null}parsePES(t,e,s,i){const r=this.parseNALu(t,s.data,i);let n,o=this.VideoSample,a=!1;s.data=null,o&&r.length&&!t.audFound&&(this.pushAccessUnit(o,t),o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),r.forEach((i=>{var r,h;switch(i.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts)),o.frame=!0,n=!0;break;case 16:case 17:case 18:case 21:var l;if(n=!0,a)null!=(l=o)&&l.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null);o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 19:case 20:n=!0,null!=(r=o)&&r.frame&&!o.key&&(this.pushAccessUnit(o,t),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0,o.frame=!0;break;case 39:n=!0,QA(i.data,2,s.pts,e.samples);break;case 32:n=!0,t.vps||("object"!=typeof t.params&&(t.params={}),t.params=tA(t.params,this.readVPS(i.data)),this.initVPS=i.data),t.vps=[i.data];break;case 33:if(n=!0,a=!0,void 0===t.vps||t.vps[0]===this.initVPS||void 0===t.sps||this.matchSPS(t.sps[0],i.data)||(this.initVPS=t.vps[0],t.sps=t.pps=void 0),!t.sps){const e=this.readSPS(i.data);t.width=e.width,t.height=e.height,t.pixelRatio=e.pixelRatio,t.codec=e.codecString,t.sps=[],"object"!=typeof t.params&&(t.params={});for(const s in e.params)t.params[s]=e.params[s]}this.pushParameterSet(t.sps,i.data,t.vps),o||(o=this.VideoSample=this.createVideoSample(!0,s.pts,s.dts)),o.key=!0;break;case 34:if(n=!0,"object"==typeof t.params){if(!t.pps){t.pps=[];const e=this.readPPS(i.data);for(const s in e)t.params[s]=e[s]}this.pushParameterSet(t.pps,i.data,t.vps)}break;case 35:n=!0,t.audFound=!0,null!=(h=o)&&h.frame&&(this.pushAccessUnit(o,t),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,s.pts,s.dts));break;default:n=!1}if(o&&n){o.units.push(i)}})),i&&o&&(this.pushAccessUnit(o,t),this.VideoSample=null)}pushParameterSet(t,e,s){(s&&s[0]===this.initVPS||!s&&!t.length)&&t.push(e)}getNALuType(t,e){return(126&t[e])>>>1}ebsp2rbsp(t){const e=new Uint8Array(t.byteLength);let s=0;for(let i=0;i<t.byteLength;i++)i>=2&&3===t[i]&&0===t[i-1]&&0===t[i-2]||(e[s]=t[i],s++);return new Uint8Array(e.buffer,0,s)}pushAccessUnit(t,e){super.pushAccessUnit(t,e),this.initVPS&&(this.initVPS=null)}readVPS(t){const e=new QE(t);e.readUByte(),e.readUByte(),e.readBits(4),e.skipBits(2),e.readBits(6);return{numTemporalLayers:e.readBits(3)+1,temporalIdNested:e.readBoolean()}}readSPS(t){const e=new QE(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.readBits(4);const s=e.readBits(3);e.readBoolean();const i=e.readBits(2),r=e.readBoolean(),n=e.readBits(5),o=e.readUByte(),a=e.readUByte(),h=e.readUByte(),l=e.readUByte(),c=e.readUByte(),d=e.readUByte(),u=e.readUByte(),p=e.readUByte(),f=e.readUByte(),m=e.readUByte(),g=e.readUByte(),y=[],A=[];for(let t=0;t<s;t++)y.push(e.readBoolean()),A.push(e.readBoolean());if(s>0)for(let t=s;t<8;t++)e.readBits(2);for(let t=0;t<s;t++)y[t]&&(e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte(),e.readUByte()),A[t]&&e.readUByte();e.readUEG();const v=e.readUEG();3==v&&e.skipBits(1);const b=e.readUEG(),S=e.readUEG(),E=e.readBoolean();let w=0,T=0,I=0,k=0;E&&(w+=e.readUEG(),T+=e.readUEG(),I+=e.readUEG(),k+=e.readUEG());const _=e.readUEG(),C=e.readUEG(),D=e.readUEG();for(let t=e.readBoolean()?0:s;t<=s;t++)e.skipUEG(),e.skipUEG(),e.skipUEG();e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG(),e.skipUEG();if(e.readBoolean()){if(e.readBoolean())for(let t=0;t<4;t++)for(let s=0;s<(3===t?2:6);s++){if(e.readBoolean()){const s=Math.min(64,1<<4+(t<<1));t>1&&e.readEG();for(let t=0;t<s;t++)e.readEG()}else e.readUEG()}}e.readBoolean(),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.skipUEG(),e.skipUEG(),e.readBoolean());const R=e.readUEG();let L=0;for(let t=0;t<R;t++){let s=!1;if(0!==t&&(s=e.readBoolean()),s){t===R&&e.readUEG(),e.readBoolean(),e.readUEG();let s=0;for(let t=0;t<=L;t++){const t=e.readBoolean();let i=!1;t||(i=e.readBoolean()),(t||i)&&s++}L=s}else{const t=e.readUEG(),s=e.readUEG();L=t+s;for(let s=0;s<t;s++)e.readUEG(),e.readBoolean();for(let t=0;t<s;t++)e.readUEG(),e.readBoolean()}}if(e.readBoolean()){const t=e.readUEG();for(let s=0;s<t;s++){for(let t=0;t<D+4;t++)e.readBits(1);e.readBits(1)}}let P=0,x=1,M=1,B=!0,F=1,U=0;e.readBoolean(),e.readBoolean();let O=!1;if(e.readBoolean()){if(e.readBoolean()){const t=e.readUByte(),s=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];t>0&&t<16?(x=s[t-1],M=i[t-1]):255===t&&(x=e.readBits(16),M=e.readBits(16))}e.readBoolean()&&e.readBoolean();if(e.readBoolean()){e.readBits(3),e.readBoolean();e.readBoolean()&&(e.readUByte(),e.readUByte(),e.readUByte())}e.readBoolean()&&(e.readUEG(),e.readUEG()),e.readBoolean(),e.readBoolean(),e.readBoolean(),O=e.readBoolean(),O&&(w+=e.readUEG(),T+=e.readUEG(),I+=e.readUEG(),k+=e.readUEG());if(e.readBoolean()){F=e.readBits(32),U=e.readBits(32);e.readBoolean()&&e.readUEG();if(e.readBoolean()){const t=e.readBoolean(),i=e.readBoolean();let r=!1;(t||i)&&(r=e.readBoolean(),r&&(e.readUByte(),e.readBits(5),e.readBoolean(),e.readBits(5)),e.readBits(4),e.readBits(4),r&&e.readBits(4),e.readBits(5),e.readBits(5),e.readBits(5));for(let n=0;n<=s;n++){B=e.readBoolean();let s=!1;B||e.readBoolean()?e.readEG():s=e.readBoolean();const n=s?1:e.readUEG()+1;if(t)for(let t=0;t<n;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1);if(i)for(let t=0;t<n;t++)e.readUEG(),e.readUEG(),r&&(e.readUEG(),e.readUEG()),e.skipBits(1)}}}e.readBoolean()&&(e.readBoolean(),e.readBoolean(),e.readBoolean(),P=e.readUEG())}let N=b,j=S;if(E||O){let t=1,e=1;1===v?t=e=2:2==v&&(t=2),N=b-t*T-t*w,j=S-e*k-e*I}const V=i?["A","B","C"][i]:"",W=o<<24|a<<16|h<<8|l;let G=0;for(let t=0;t<32;t++)G=(G|(W>>t&1)<<31-t)>>>0;let z=G.toString(16);1===n&&"2"===z&&(z="6");return{codecString:`hvc1.${V}${n}.${z}.${r?"H":"L"}${g}.B0`,params:{general_tier_flag:r,general_profile_idc:n,general_profile_space:i,general_profile_compatibility_flags:[o,a,h,l],general_constraint_indicator_flags:[c,d,u,p,f,m],general_level_idc:g,bit_depth:_+8,bit_depth_luma_minus8:_,bit_depth_chroma_minus8:C,min_spatial_segmentation_idc:P,chroma_format_idc:v,frame_rate:{fixed:B,fps:U/F}},width:N,height:j,pixelRatio:[x,M]}}readPPS(t){const e=new QE(this.ebsp2rbsp(t));e.readUByte(),e.readUByte(),e.skipUEG(),e.skipUEG(),e.skipBits(2),e.skipBits(3),e.skipBits(2),e.skipUEG(),e.skipUEG(),e.skipEG(),e.skipBits(2);e.readBoolean()&&e.skipUEG(),e.skipEG(),e.skipEG(),e.skipBits(4);const s=e.readBoolean(),i=e.readBoolean();let r=1;return i&&s?r=0:i?r=3:s&&(r=2),{parallelismType:r}}matchSPS(t,e){return String.fromCharCode.apply(null,t).substr(3)===String.fromCharCode.apply(null,e).substr(3)}}const $E=188;class ZE{constructor(t,e,s,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=s,this.logger=i,this.videoParser=null}static probe(t,e){const s=ZE.syncOffset(t);return s>0&&e.warn(`MPEG2-TS detected but first sync word found @ offset ${s}`),-1!==s}static syncOffset(t){const e=t.length;let s=Math.min(940,e-$E)+1,i=0;for(;i<s;){let r=!1,n=-1,o=0;for(let a=i;a<e;a+=$E){if(71!==t[a]||e-a!==$E&&71!==t[a+$E]){if(o)return-1;break}if(o++,-1===n&&(n=a,0!==n&&(s=Math.min(n+18612,t.length-$E)+1)),r||(r=0===tw(t,a)),r&&o>1&&(0===n&&o>2||a+$E>s))return n}i++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:DA[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,s,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=ZE.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=ZE.createTrack("audio",i),this._id3Track=ZE.createTrack("id3"),this._txtTrack=ZE.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:s}=this;t&&(t.pesData=null),e&&(e.pesData=null),s&&(s.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,s=!1,i=!1){let r;s||(this.sampleAes=null);const n=this._videoTrack,o=this._audioTrack,a=this._id3Track,h=this._txtTrack;let l=n.pid,c=n.pesData,d=o.pid,u=a.pid,p=o.pesData,f=a.pesData,m=null,g=this.pmtParsed,y=this._pmtId,A=t.length;if(this.remainderData&&(A=(t=HA(this.remainderData,t)).length,this.remainderData=null),A<$E&&!i)return this.remainderData=t,{audioTrack:o,videoTrack:n,id3Track:a,textTrack:h};const v=Math.max(0,ZE.syncOffset(t));A-=(A-v)%$E,A<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,A,t.buffer.byteLength-A));let b=0;for(let e=v;e<A;e+=$E)if(71===t[e]){const i=!!(64&t[e+1]),A=tw(t,e);let b;if((48&t[e+3])>>4>1){if(b=e+5+t[e+4],b===e+$E)continue}else b=e+4;switch(A){case l:if(i){if(c&&(r=nw(c,this.logger))){if(null===this.videoParser)switch(n.segmentCodec){case"avc":this.videoParser=new JE;break;case"hevc":this.videoParser=new XE}null!==this.videoParser&&this.videoParser.parsePES(n,h,r,!1)}c={data:[],size:0}}c&&(c.data.push(t.subarray(b,e+$E)),c.size+=e+$E-b);break;case d:if(i){if(p&&(r=nw(p,this.logger)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,r);break;case"mp3":this.parseMPEGPES(o,r);break;case"ac3":this.parseAC3PES(o,r)}p={data:[],size:0}}p&&(p.data.push(t.subarray(b,e+$E)),p.size+=e+$E-b);break;case u:i&&(f&&(r=nw(f,this.logger))&&this.parseID3PES(a,r),f={data:[],size:0}),f&&(f.data.push(t.subarray(b,e+$E)),f.size+=e+$E-b);break;case 0:i&&(b+=t[b]+1),y=this._pmtId=ew(t,b);break;case y:{i&&(b+=t[b]+1);const r=sw(t,b,this.typeSupported,s,this.observer,this.logger);l=r.videoPid,l>0&&(n.pid=l,n.segmentCodec=r.segmentVideoCodec),d=r.audioPid,d>0&&(o.pid=d,o.segmentCodec=r.segmentAudioCodec),u=r.id3Pid,u>0&&(a.pid=u),null===m||g||(this.logger.warn(`MPEG-TS PMT found at ${e} after unknown PID '${m}'. Backtracking to sync byte @${v} to parse all TS packets.`),m=null,e=v-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:m=A}}else b++;b>0&&iw(this.observer,new Error(`Found ${b} TS packet/s that do not start with 0x47`),void 0,this.logger),n.pesData=c,o.pesData=p,a.pesData=f;const S={audioTrack:o,videoTrack:n,id3Track:a,textTrack:h};return i&&this.extractRemainingSamples(S),S}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:s,id3Track:i,textTrack:r}=t,n=s.pesData,o=e.pesData,a=i.pesData;let h;if(n&&(h=nw(n,this.logger))){if(null===this.videoParser)switch(s.segmentCodec){case"avc":this.videoParser=new JE;break;case"hevc":this.videoParser=new XE}null!==this.videoParser&&(this.videoParser.parsePES(s,r,h,!0),s.pesData=null)}else s.pesData=n;if(o&&(h=nw(o,this.logger))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,h);break;case"mp3":this.parseMPEGPES(e,h);break;case"ac3":this.parseAC3PES(e,h)}e.pesData=null}else null!=o&&o.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=o;a&&(h=nw(a,this.logger))?(this.parseID3PES(i,h),i.pesData=null):i.pesData=a}demuxSampleAes(t,e,s){const i=this.demux(t,s,!0,!this.config.progressive),r=this.sampleAes=new qE(this.observer,this.config,e);return this.decrypt(i,r)}decrypt(t,e){return new Promise((s=>{const{audioTrack:i,videoTrack:r}=t;i.samples&&"aac"===i.segmentCodec?e.decryptAacSamples(i.samples,0,(()=>{r.samples?e.decryptAvcSamples(r.samples,0,0,(()=>{s(t)})):s(t)})):r.samples&&e.decryptAvcSamples(r.samples,0,0,(()=>{s(t)}))}))}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(t,e){let s=0;const i=this.aacOverFlow;let r,n,o,a=e.data;if(i){this.aacOverFlow=null;const e=i.missing,r=i.sample.unit.byteLength;if(-1===e)a=HA(i.sample.unit,a);else{const n=r-e;i.sample.unit.set(a.subarray(0,e),n),t.samples.push(i.sample),s=i.missing}}for(r=s,n=a.length;r<n-1&&!fE(a,r);r++);if(r!==s){let t;const e=r<n-1;if(t=e?`AAC PES did not start with ADTS header,offset:${r}`:"No ADTS header found in AAC PES",iw(this.observer,new Error(t),e,this.logger),!e)return}if(gE(t,this.observer,a,r,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!i)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=yE(t.samplerate);o=i.sample.pts+e}}let h,l=0;for(;r<n;){if(h=AE(t,a,r,o,l),r+=h.length,h.missing){this.aacOverFlow=h;break}for(l++;r<n-1&&!fE(a,r);r++);}}parseMPEGPES(t,e){const s=e.data,i=s.length;let r=0,n=0;const o=e.pts;if(void 0!==o)for(;n<i;)if(jE(s,n)){const e=UE(t,s,n,o,r);if(!e)break;n+=e.length,r++}else n++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const s=e.data,i=e.pts;if(void 0===i)return void this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");const r=s.length;let n,o=0,a=0;for(;a<r&&(n=zE(t,s,a,i,o++))>0;)a+=n}}parseID3PES(t,e){if(void 0===e.pts)return void this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");const s=tA({},e,{type:this._videoTrack?CE.emsg:CE.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(s)}}function tw(t,e){return((31&t[e+1])<<8)+t[e+2]}function ew(t,e){return(31&t[e+10])<<8|t[e+11]}function sw(t,e,s,i,r,n){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<a;){const a=tw(t,e),h=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!i){rw("ADTS AAC",n);break}case 15:-1===o.audioPid&&(o.audioPid=a);break;case 21:-1===o.id3Pid&&(o.id3Pid=a);break;case 219:if(!i){rw("H.264",n);break}case 27:-1===o.videoPid&&(o.videoPid=a);break;case 3:case 4:s.mpeg||s.mp3?-1===o.audioPid&&(o.audioPid=a,o.segmentAudioCodec="mp3"):n.log("MPEG audio found, not supported in this browser");break;case 193:if(!i){rw("AC-3",n);break}case 129:s.ac3?-1===o.audioPid&&(o.audioPid=a,o.segmentAudioCodec="ac3"):n.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===o.audioPid&&h>0){let i=e+5,r=h;for(;r>2;){if(106===t[i])!0!==s.ac3?n.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=a,o.segmentAudioCodec="ac3");const e=t[i+1]+2;i+=e,r-=e}}break;case 194:case 135:return iw(r,new Error("Unsupported EC-3 in M2TS found"),void 0,n),o;case 36:-1===o.videoPid&&(o.videoPid=a,o.segmentVideoCodec="hevc",n.log("HEVC in M2TS found"))}e+=h+5}return o}function iw(t,e,s,i){i.warn(`parsing error: ${e.message}`),t.emit(Gy.ERROR,Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_PARSING_ERROR,fatal:!1,levelRetry:s,error:e,reason:e.message})}function rw(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function nw(t,e){let s,i,r,n,o,a=0;const h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;)h[0]=HA(h[0],h[1]),h.splice(1,1);s=h[0];if(1===(s[0]<<16)+(s[1]<<8)+s[2]){if(i=(s[4]<<8)+s[5],i&&i>t.size-6)return null;const l=s[7];192&l&&(n=536870912*(14&s[9])+4194304*(255&s[10])+16384*(254&s[11])+128*(255&s[12])+(254&s[13])/2,64&l?(o=536870912*(14&s[14])+4194304*(255&s[15])+16384*(254&s[16])+128*(255&s[17])+(254&s[18])/2,n-o>54e5&&(e.warn(`${Math.round((n-o)/9e4)}s delta between PTS and DTS, align them`),n=o)):o=n),r=s[8];let c=r+9;if(t.size<=c)return null;t.size-=c;const d=new Uint8Array(t.size);for(let t=0,e=h.length;t<e;t++){s=h[t];let e=s.byteLength;if(c){if(c>e){c-=e;continue}s=s.subarray(c),e-=c,c=0}d.set(s,a),a+=e}return i&&(i-=r+3),{data:d,pts:n,dts:o,len:i}}return null}class ow{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const aw=Math.pow(2,32)-1;class hw{static init(){let t;for(t in hw.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},hw.types)hw.types.hasOwnProperty(t)&&(hw.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);hw.HDLR_TYPES={video:e,audio:s};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);hw.STTS=hw.STSC=hw.STCO=r,hw.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),hw.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),hw.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),hw.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const n=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),a=new Uint8Array([0,0,0,1]);hw.FTYP=hw.box(hw.types.ftyp,n,a,n,o),hw.DINF=hw.box(hw.types.dinf,hw.box(hw.types.dref,i))}static box(t,...e){let s=8,i=e.length;const r=i;for(;i--;)s+=e[i].byteLength;const n=new Uint8Array(s);for(n[0]=s>>24&255,n[1]=s>>16&255,n[2]=s>>8&255,n[3]=255&s,n.set(t,4),i=0,s=8;i<r;i++)n.set(e[i],s),s+=e[i].byteLength;return n}static hdlr(t){return hw.box(hw.types.hdlr,hw.HDLR_TYPES[t])}static mdat(t){return hw.box(hw.types.mdat,t)}static mdhd(t,e){e*=t;const s=Math.floor(e/(aw+1)),i=Math.floor(e%(aw+1));return hw.box(hw.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,s>>24,s>>16&255,s>>8&255,255&s,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}static mdia(t){return hw.box(hw.types.mdia,hw.mdhd(t.timescale||0,t.duration||0),hw.hdlr(t.type),hw.minf(t))}static mfhd(t){return hw.box(hw.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?hw.box(hw.types.minf,hw.box(hw.types.smhd,hw.SMHD),hw.DINF,hw.stbl(t)):hw.box(hw.types.minf,hw.box(hw.types.vmhd,hw.VMHD),hw.DINF,hw.stbl(t))}static moof(t,e,s){return hw.box(hw.types.moof,hw.mfhd(t),hw.traf(s,e))}static moov(t){let e=t.length;const s=[];for(;e--;)s[e]=hw.trak(t[e]);return hw.box.apply(null,[hw.types.moov,hw.mvhd(t[0].timescale||0,t[0].duration||0)].concat(s).concat(hw.mvex(t)))}static mvex(t){let e=t.length;const s=[];for(;e--;)s[e]=hw.trex(t[e]);return hw.box.apply(null,[hw.types.mvex,...s])}static mvhd(t,e){e*=t;const s=Math.floor(e/(aw+1)),i=Math.floor(e%(aw+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,s>>24,s>>16&255,s>>8&255,255&s,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return hw.box(hw.types.mvhd,r)}static sdtp(t){const e=t.samples||[],s=new Uint8Array(4+e.length);let i,r;for(i=0;i<e.length;i++)r=e[i].flags,s[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return hw.box(hw.types.sdtp,s)}static stbl(t){return hw.box(hw.types.stbl,hw.stsd(t),hw.box(hw.types.stts,hw.STTS),hw.box(hw.types.stsc,hw.STSC),hw.box(hw.types.stsz,hw.STSZ),hw.box(hw.types.stco,hw.STCO))}static avc1(t){let e,s,i,r=[],n=[];for(e=0;e<t.sps.length;e++)s=t.sps[e],i=s.byteLength,r.push(i>>>8&255),r.push(255&i),r=r.concat(Array.prototype.slice.call(s));for(e=0;e<t.pps.length;e++)s=t.pps[e],i=s.byteLength,n.push(i>>>8&255),n.push(255&i),n=n.concat(Array.prototype.slice.call(s));const o=hw.box(hw.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|t.sps.length].concat(r).concat([t.pps.length]).concat(n))),a=t.width,h=t.height,l=t.pixelRatio[0],c=t.pixelRatio[1];return hw.box(hw.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>8&255,255&a,h>>8&255,255&h,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,hw.box(hw.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),hw.box(hw.types.pasp,new Uint8Array([l>>24,l>>16&255,l>>8&255,255&l,c>>24,c>>16&255,c>>8&255,255&c])))}static esds(t){const e=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...e,6,1,2])}static audioStsd(t){const e=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return hw.box(hw.types.mp4a,hw.audioStsd(t),hw.box(hw.types.esds,hw.esds(t)))}static mp3(t){return hw.box(hw.types[".mp3"],hw.audioStsd(t))}static ac3(t){return hw.box(hw.types["ac-3"],hw.audioStsd(t),hw.box(hw.types.dac3,t.config))}static stsd(t){const{segmentCodec:e}=t;if("audio"===t.type){if("aac"===e)return hw.box(hw.types.stsd,hw.STSD,hw.mp4a(t));if("ac3"===e&&t.config)return hw.box(hw.types.stsd,hw.STSD,hw.ac3(t));if("mp3"===e&&"mp3"===t.codec)return hw.box(hw.types.stsd,hw.STSD,hw.mp3(t))}else{if(!t.pps||!t.sps)throw new Error("video track missing pps or sps");if("avc"===e)return hw.box(hw.types.stsd,hw.STSD,hw.avc1(t));if("hevc"===e&&t.vps)return hw.box(hw.types.stsd,hw.STSD,hw.hvc1(t))}throw new Error(`unsupported ${t.type} segment codec (${e}/${t.codec})`)}static tkhd(t){const e=t.id,s=(t.duration||0)*(t.timescale||0),i=t.width||0,r=t.height||0,n=Math.floor(s/(aw+1)),o=Math.floor(s%(aw+1));return hw.box(hw.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,r>>8&255,255&r,0,0]))}static traf(t,e){const s=hw.sdtp(t),i=t.id,r=Math.floor(e/(aw+1)),n=Math.floor(e%(aw+1));return hw.box(hw.types.traf,hw.box(hw.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),hw.box(hw.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,n>>24,n>>16&255,n>>8&255,255&n])),hw.trun(t,s.length+16+20+8+16+8+8),s)}static trak(t){return t.duration=t.duration||4294967295,hw.box(hw.types.trak,hw.tkhd(t),hw.mdia(t))}static trex(t){const e=t.id;return hw.box(hw.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const s=t.samples||[],i=s.length,r=12+16*i,n=new Uint8Array(r);let o,a,h,l,c,d;for(e+=8+r,n.set(["video"===t.type?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,255&i,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),o=0;o<i;o++)a=s[o],h=a.duration,l=a.size,c=a.flags,d=a.cts,n.set([h>>>24&255,h>>>16&255,h>>>8&255,255&h,l>>>24&255,l>>>16&255,l>>>8&255,255&l,c.isLeading<<2|c.dependsOn,c.isDependedOn<<6|c.hasRedundancy<<4|c.paddingValue<<1|c.isNonSync,61440&c.degradPrio,15&c.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*o);return hw.box(hw.types.trun,n)}static initSegment(t){hw.types||hw.init();const e=hw.moov(t);return HA(hw.FTYP,e)}static hvc1(t){const e=t.params,s=[t.vps,t.sps,t.pps],i=new Uint8Array([1,e.general_profile_space<<6|(e.general_tier_flag?32:0)|e.general_profile_idc,e.general_profile_compatibility_flags[0],e.general_profile_compatibility_flags[1],e.general_profile_compatibility_flags[2],e.general_profile_compatibility_flags[3],e.general_constraint_indicator_flags[0],e.general_constraint_indicator_flags[1],e.general_constraint_indicator_flags[2],e.general_constraint_indicator_flags[3],e.general_constraint_indicator_flags[4],e.general_constraint_indicator_flags[5],e.general_level_idc,240|e.min_spatial_segmentation_idc>>8,255&e.min_spatial_segmentation_idc,252|e.parallelismType,252|e.chroma_format_idc,248|e.bit_depth_luma_minus8,248|e.bit_depth_chroma_minus8,0,parseInt(e.frame_rate.fps),3|e.temporal_id_nested<<2|e.num_temporal_layers<<3|(e.frame_rate.fixed?64:0),s.length]);let r=i.length;for(let t=0;t<s.length;t+=1){r+=3;for(let e=0;e<s[t].length;e+=1)r+=2+s[t][e].length}const n=new Uint8Array(r);n.set(i,0),r=i.length;const o=s.length-1;for(let t=0;t<s.length;t+=1){n.set(new Uint8Array([32+t|(t===o?128:0),0,s[t].length]),r),r+=3;for(let e=0;e<s[t].length;e+=1)n.set(new Uint8Array([s[t][e].length>>8,255&s[t][e].length]),r),r+=2,n.set(s[t][e],r),r+=s[t][e].length}const a=hw.box(hw.types.hvcC,n),h=t.width,l=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return hw.box(hw.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,255&h,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,hw.box(hw.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),hw.box(hw.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}}hw.types=void 0,hw.HDLR_TYPES=void 0,hw.STTS=void 0,hw.STSC=void 0,hw.STCO=void 0,hw.STSZ=void 0,hw.VMHD=void 0,hw.SMHD=void 0,hw.STSD=void 0,hw.FTYP=void 0,hw.DINF=void 0;function lw(t,e,s=1,i=!1){const r=t*e*s;return i?Math.round(r):r}function cw(t,e=!1){return lw(t,1e3,1/9e4,e)}let dw,uw=null,pw=null;function fw(t,e,s,i){return{duration:e,size:s,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class mw{constructor(t,e,s,i){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=s,this.logger=i,this.ISGenerated=!1,null===uw){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);uw=t?parseInt(t[1]):0}if(null===pw){const t=navigator.userAgent.match(/Safari\/(\d+)/i);pw=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const s=t[0].pts,i=t.reduce(((t,i)=>{let r=i.pts,n=r-t;return n<-4294967296&&(e=!0,r=gw(r,s),n=r-t),n>0?t:r}),s);return e&&this.logger.debug("PTS rollover detected"),i}remux(t,e,s,i,r,n,o,a){let h,l,c,d,u,p,f=r,m=r;const g=t.pid>-1,y=e.pid>-1,A=e.samples.length,v=t.samples.length>0,b=o&&A>0||A>1;if((!g||v)&&(!y||b)||this.ISGenerated||o){if(this.ISGenerated){var S,E,w,T;const t=this.videoTrackConfig;(t&&(e.width!==t.width||e.height!==t.height||(null==(S=e.pixelRatio)?void 0:S[0])!==(null==(E=t.pixelRatio)?void 0:E[0])||(null==(w=e.pixelRatio)?void 0:w[1])!==(null==(T=t.pixelRatio)?void 0:T[1]))||!t&&b||null===this.nextAudioPts&&v)&&this.resetInitSegment()}this.ISGenerated||(c=this.generateIS(t,e,r,n));const s=this.isVideoContiguous;let i,o=-1;if(b&&(o=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!s&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,o>0){this.logger.warn(`[mp4-remuxer]: Dropped ${o} out of ${A} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(o),e.dropped+=o,m+=(e.samples[0].pts-t)/e.inputTimeScale,i=m}else-1===o&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${A} video samples`),p=!1);if(this.ISGenerated){if(v&&b){const s=this.getVideoStartPts(e.samples),i=(gw(t.samples[0].pts,s)-s)/e.inputTimeScale;f+=Math.max(0,i),m+=Math.max(0,-i)}if(v){if(t.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(t,e,r,n)),l=this.remuxAudio(t,f,this.isAudioContiguous,n,y||b||a===Qy?m:void 0),b){const i=l?l.endPTS-l.startPTS:0;e.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(t,e,r,n)),h=this.remuxVideo(e,m,s,i)}}else b&&(h=this.remuxVideo(e,m,s,0));h&&(h.firstKeyFrame=o,h.independent=-1!==o,h.firstKeyFramePTS=i)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(s.samples.length&&(u=yw(s,r,this._initPTS,this._initDTS)),i.samples.length&&(d=Aw(i,r,this._initPTS))),{audio:l,video:h,initSegment:c,independent:p,text:d,id3:u}}generateIS(t,e,s,i){const r=t.samples,n=e.samples,o=this.typeSupported,a={},h=this._initPTS;let l,c,d,u,p=!h||i,f="audio/mp4";if(p&&(l=c=1/0),t.config&&r.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",t.codec=""):o.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}a.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&o.mpeg?new Uint8Array(0):hw.initSegment([t]),metadata:{channelCount:t.channelCount}},p&&(u=t.id,d=t.inputTimeScale,h&&d===h.timescale?p=!1:l=c=r[0].pts-Math.round(d*s))}if(e.sps&&e.pps&&n.length){if(e.timescale=e.inputTimeScale,a.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:hw.initSegment([e]),metadata:{width:e.width,height:e.height}},p)if(u=e.id,d=e.inputTimeScale,h&&d===h.timescale)p=!1;else{const t=this.getVideoStartPts(n),e=Math.round(d*s);c=Math.min(c,gw(n[0].dts,t)-e),l=Math.min(l,t-e)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(a).length)return this.ISGenerated=!0,p?(this._initPTS={baseTime:l,timescale:d},this._initDTS={baseTime:c,timescale:d}):l=d=void 0,{tracks:a,initPTS:l,timescale:d,trackId:u}}remuxVideo(t,e,s,i){const r=t.inputTimeScale,n=t.samples,o=[],a=n.length,h=this._initPTS;let l,c,d=this.nextAvcDts,u=8,p=this.videoSampleDuration,f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;if(!s||null===d){const t=e*r,i=n[0].pts-gw(n[0].dts,n[0].pts);uw&&null!==d&&Math.abs(t-i-d)<15e3?s=!0:d=t-i}const y=h.baseTime*r/h.timescale;for(let t=0;t<a;t++){const e=n[t];e.pts=gw(e.pts-y,d),e.dts=gw(e.dts-y,d),e.dts<n[t>0?t-1:t].dts&&(g=!0)}g&&n.sort((function(t,e){const s=t.dts-e.dts,i=t.pts-e.pts;return s||i})),l=n[0].dts,c=n[n.length-1].dts;const A=c-l,v=A?Math.round(A/(a-1)):p||t.inputTimeScale/30;if(s){const s=l-d,i=s>v,r=s<-1;if((i||r)&&(i?this.logger.warn(`${(t.segmentCodec||"").toUpperCase()}: ${cw(s,!0)} ms (${s}dts) hole between fragments detected at ${e.toFixed(3)}`):this.logger.warn(`${(t.segmentCodec||"").toUpperCase()}: ${cw(-s,!0)} ms (${s}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||d>=n[0].pts||uw)){l=d;const t=n[0].pts-s;if(i)n[0].dts=l,n[0].pts=t;else{let e=!0;for(let i=0;i<n.length&&!(n[i].dts>t&&e);i++){const t=n[i].pts;if(n[i].dts-=s,n[i].pts-=s,i<n.length-1){const s=n[i+1].pts;e=s<=n[i].pts==s<=t}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${cw(t,!0)}/${cw(l,!0)}, delta: ${cw(s,!0)} ms`)}}l=Math.max(0,l);let b=0,S=0,E=l;for(let t=0;t<a;t++){const e=n[t],s=e.units,i=s.length;let r=0;for(let t=0;t<i;t++)r+=s[t].data.length;S+=r,b+=i,e.length=r,e.dts<E?(e.dts=E,E+=v/4|0||1):E=e.dts,f=Math.min(e.pts,f),m=Math.max(e.pts,m)}c=n[a-1].dts;const w=S+4*b+8;let T;try{T=new Uint8Array(w)}catch(t){return void this.observer.emit(Gy.ERROR,Gy.ERROR,{type:Vy.MUX_ERROR,details:Wy.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:w,reason:`fail allocating video mdat ${w}`})}const I=new DataView(T.buffer);I.setUint32(0,w),T.set(hw.types.mdat,4);let k=!1,_=Number.POSITIVE_INFINITY,C=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY,R=Number.NEGATIVE_INFINITY;for(let t=0;t<a;t++){const e=n[t],s=e.units;let h,l=0;for(let t=0,e=s.length;t<e;t++){const e=s[t],i=e.data,r=e.data.byteLength;I.setUint32(u,r),u+=4,T.set(i,u),u+=r,l+=4+r}if(t<a-1)p=n[t+1].dts-e.dts,h=n[t+1].pts-e.pts;else{const s=this.config,o=t>0?e.dts-n[t-1].dts:v;if(h=t>0?e.pts-n[t-1].pts:v,s.stretchShortVideoTrack&&null!==this.nextAudioPts){const t=Math.floor(s.maxBufferHole*r),n=(i?f+i*r:this.nextAudioPts)-e.pts;n>t?(p=n-o,p<0?p=o:k=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${n/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=o}else p=o}const c=Math.round(e.pts-e.dts);_=Math.min(_,p),D=Math.max(D,p),C=Math.min(C,h),R=Math.max(R,h),o.push(fw(e.key,p,l,c))}if(o.length)if(uw){if(uw<70){const t=o[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(pw&&R-C<D-_&&v/D<.025&&0===o[0].cts){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=l;for(let e=0,s=o.length;e<s;e++){const i=t+o[e].duration,r=t+o[e].cts;if(e<s-1){const t=i+o[e+1].cts;o[e].duration=t-r}else o[e].duration=e?o[e-1].duration:v;o[e].cts=0,t=i}}p=k||!p?v:p,this.nextAvcDts=d=c+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;const L={data1:hw.moof(t.sequenceNumber++,l,tA(t,{samples:o})),data2:T,startPTS:f/r,endPTS:(m+p)/r,startDTS:l/r,endDTS:d/r,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:t.dropped};return t.samples=[],t.dropped=0,L}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,s,i,r){const n=t.inputTimeScale,o=n/(t.samplerate?t.samplerate:n),a=this.getSamplesPerFrame(t),h=a*o,l=this._initPTS,c="mp3"===t.segmentCodec&&this.typeSupported.mpeg,d=[],u=void 0!==r;let p=t.samples,f=c?0:8,m=this.nextAudioPts||-1;const g=e*n,y=l.baseTime*n/l.timescale;if(this.isAudioContiguous=s=s||p.length&&m>0&&(i&&Math.abs(g-m)<9e3||Math.abs(gw(p[0].pts-y,g)-m)<20*h),p.forEach((function(t){t.pts=gw(t.pts-y,g)})),!s||m<0){if(p=p.filter((t=>t.pts>=0)),!p.length)return;m=0===r?0:i&&!u?Math.max(0,g):p[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let s=0,i=m;s<p.length;s++){const r=p[s],o=r.pts,a=o-i,l=Math.abs(1e3*a/n);if(a<=-e*h&&u)0===s&&(this.logger.warn(`Audio frame @ ${(o/n).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*a/n)} ms.`),this.nextAudioPts=m=i=o);else if(a>=e*h&&l<1e4&&u){let e=Math.round(a/h);i=o-e*h,i<0&&(e--,i+=h),0===s&&(this.nextAudioPts=m=i),this.logger.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(i/n).toFixed(3)}s due to ${Math.round(1e3*a/n)} ms gap.`);for(let n=0;n<e;n++){const e=Math.max(i,0);let n=ow.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);n||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),n=r.unit.subarray()),p.splice(s,0,{unit:n,pts:e}),i+=h,s++}}r.pts=i,i+=h}}let A,v=null,b=null,S=0,E=p.length;for(;E--;)S+=p[E].unit.byteLength;for(let e=0,i=p.length;e<i;e++){const i=p[e],r=i.unit;let n=i.pts;if(null!==b){d[e-1].duration=Math.round((n-b)/o)}else{if(s&&"aac"===t.segmentCodec&&(n=m),v=n,!(S>0))return;S+=f;try{A=new Uint8Array(S)}catch(t){return void this.observer.emit(Gy.ERROR,Gy.ERROR,{type:Vy.MUX_ERROR,details:Wy.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:S,reason:`fail allocating audio mdat ${S}`})}if(!c){new DataView(A.buffer).setUint32(0,S),A.set(hw.types.mdat,4)}}A.set(r,f);const h=r.byteLength;f+=h,d.push(fw(!0,a,h,0)),b=n}const w=d.length;if(!w)return;const T=d[d.length-1];this.nextAudioPts=m=b+o*T.duration;const I=c?new Uint8Array(0):hw.moof(t.sequenceNumber++,v/o,tA({},t,{samples:d}));t.samples=[];const k=v/n,_=m/n,C={data1:I,data2:A,startPTS:k,endPTS:_,startDTS:k,endDTS:_,type:"audio",hasAudio:!0,hasVideo:!1,nb:w};return this.isAudioContiguous=!0,C}}function gw(t,e){let s;if(null===e)return t;for(s=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=s;return t}function yw(t,e,s,i){const r=t.samples.length;if(!r)return;const n=t.inputTimeScale;for(let o=0;o<r;o++){const r=t.samples[o];r.pts=gw(r.pts-s.baseTime*n/s.timescale,e*n)/n,r.dts=gw(r.dts-i.baseTime*n/i.timescale,e*n)/n}const o=t.samples;return t.samples=[],{samples:o}}function Aw(t,e,s){const i=t.samples.length;if(!i)return;const r=t.inputTimeScale;for(let n=0;n<i;n++){const i=t.samples[n];i.pts=gw(i.pts-s.baseTime*r/s.timescale,e*r)/r}t.samples.sort(((t,e)=>t.pts-e.pts));const n=t.samples;return t.samples=[],{samples:n}}function vw(t,e,s=!1){return void 0!==(null==t?void 0:t.start)?(t.start+(s?t.duration:0))/t.timescale:e}function bw(t,e,s){const i=null==t?void 0:t.codec;if(i&&i.length>4)return i;if(e===vA){if("ec-3"===i||"ac-3"===i||"alac"===i)return i;if("fLaC"===i||"Opus"===i){return lv(i,!1)}return s.warn(`Unhandled audio codec "${i}" in mp4 MAP`),i||"mp4a"}return s.warn(`Unhandled video codec "${i}" in mp4 MAP`),i||"avc1"}try{dw=self.performance.now.bind(self.performance)}catch(t){dw=Date.now}const Sw=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,s,i){const r=this.videoTrack=DE("video",1),n=this.audioTrack=DE("audio",1),o=this.txtTrack=DE("text",1);if(this.id3Track=DE("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const a=OA(t);if(a.video){const{id:t,timescale:e,codec:s,supplemental:i}=a.video;r.id=t,r.timescale=o.timescale=e,r.codec=s,r.supplemental=i}if(a.audio){const{id:t,timescale:e,codec:s}=a.audio;n.id=t,n.timescale=e,n.codec=s}o.id=DA.text,r.sampleDuration=0,r.duration=n.duration=i}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let s=0;s<e;){const i=PA(t,s);if(i>8&&109===t[s+4]&&111===t[s+5]&&111===t[s+6]&&102===t[s+7])return!0;s=i>1?s+i:e}return!1}(t)}demux(t,e){this.timeOffset=e;let s=t;const i=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(s=HA(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},s=FA(t,["moof"]);if(s.length<2)return e.remainder=t,e;const i=s[s.length-1];return e.valid=t.slice(0,i.byteOffset-8),e.remainder=t.slice(i.byteOffset-8),e}(s);this.remainderData=e.remainder,i.samples=e.valid||new Uint8Array}else i.samples=s;const n=this.extractID3Track(i,e);return r.samples=KA(e,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:n,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,s=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(e,this.timeOffset);return s.samples=KA(t,e),{videoTrack:e,audioTrack:DE(),id3Track:i,textTrack:DE()}}extractID3Track(t,e){const s=this.id3Track;if(t.samples.length){const i=FA(t.samples,["emsg"]);i&&i.forEach((t=>{const i=function(t){const e=t[0];let s="",i="",r=0,n=0,o=0,a=0,h=0,l=0;if(0===e){for(;"\0"!==RA(t.subarray(l,l+1));)s+=RA(t.subarray(l,l+1)),l+=1;for(s+=RA(t.subarray(l,l+1)),l+=1;"\0"!==RA(t.subarray(l,l+1));)i+=RA(t.subarray(l,l+1)),l+=1;i+=RA(t.subarray(l,l+1)),l+=1,r=PA(t,12),n=PA(t,16),a=PA(t,20),h=PA(t,24),l=28}else if(1===e){l+=4,r=PA(t,l),l+=4;const e=PA(t,l);l+=4;const n=PA(t,l);for(l+=4,o=2**32*e+n,Ny(o)||(o=Number.MAX_SAFE_INTEGER,lA.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=PA(t,l),l+=4,h=PA(t,l),l+=4;"\0"!==RA(t.subarray(l,l+1));)s+=RA(t.subarray(l,l+1)),l+=1;for(s+=RA(t.subarray(l,l+1)),l+=1;"\0"!==RA(t.subarray(l,l+1));)i+=RA(t.subarray(l,l+1)),l+=1;i+=RA(t.subarray(l,l+1)),l+=1}return{schemeIdUri:s,value:i,timeScale:r,presentationTime:o,presentationTimeDelta:n,eventDuration:a,id:h,payload:t.subarray(l,t.byteLength)}}(t);if(HE.test(i.schemeIdUri)){const t=KE(i,e);let r=4294967295===i.eventDuration?Number.POSITIVE_INFINITY:i.eventDuration/i.timeScale;r<=.001&&(r=Number.POSITIVE_INFINITY);const n=i.payload;s.samples.push({data:n,len:n.byteLength,dts:t,pts:t,type:CE.emsg,duration:r})}else if(this.config.enableEmsgKLVMetadata&&i.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const t=KE(i,e);s.samples.push({data:i.payload,len:i.payload.byteLength,dts:t,pts:t,type:CE.misbklv,duration:Number.POSITIVE_INFINITY})}}))}return s}demuxSampleAes(t,e,s){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}},remux:class{constructor(t,e,s,i){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1,this.logger=i}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(t,e,s,i){this.audioCodec=e,this.videoCodec=s,this.generateInitSegment(function(t,e){if(!t||!e)return t;const s=e.keyId;s&&e.isCommonEncryption&&FA(t,["moov","trak"]).forEach((t=>{const e=FA(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let i=FA(e,["enca"]);const r=i.length>0;r||(i=FA(e,["encv"])),i.forEach((t=>{FA(r?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=zA(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(lA.log(`[eme] Patching keyId in 'enc${r?"a":"v"}>sinf>>tenc' box: ${pA(t)} -> ${pA(s)}`),e.set(s,8))}}))}))}));return t}(t,i)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:s}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const i=this.initData=OA(t);i.audio&&(e=bw(i.audio,vA,this.logger)),i.video&&(s=bw(i.video,bA,this.logger));const r={};i.audio&&i.video?r.audiovideo={container:"video/mp4",codec:e+","+s,supplemental:i.video.supplemental,initSegment:t,id:"main"}:i.audio?r.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:i.video?r.video={container:"video/mp4",codec:s,supplemental:i.video.supplemental,initSegment:t,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}remux(t,e,s,i,r,n){var o,a;let{initPTS:h,lastEndTime:l}=this;const c={audio:void 0,video:void 0,text:i,id3:s,initSegment:void 0};Oy(l)||(l=this.lastEndTime=r||0);const d=e.samples;if(null==d||!d.length)return c;const u={initPTS:void 0,timescale:void 0,trackId:void 0};let p=this.initData;if(null!=(o=p)&&o.length||(this.generateInitSegment(d),p=this.initData),null==(a=p)||!a.length)return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),c;this.emitInitSegment&&(u.tracks=this.initTracks,this.emitInitSegment=!1);const f=function(t,e,s){const i={},r=FA(t,["moof","traf"]);for(let t=0;t<r.length;t++){const n=r[t],o=FA(n,["tfhd"])[0],a=PA(o,4),h=e[a];if(!h)continue;const l=i[a]||(i[a]={start:NaN,duration:0,sampleCount:0,timescale:h.timescale,type:h.type}),c=FA(n,["tfdt"])[0];if(c){const t=c[0];let e=PA(c,4);1===t&&(e===_A?s.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(e*=_A+1,e+=PA(c,8))),Oy(e)&&(!Oy(l.start)||e<l.start)&&(l.start=e)}const d=h.default,u=PA(o,0)|(null==d?void 0:d.flags);let p=(null==d?void 0:d.duration)||0;8&u&&(p=PA(o,2&u?12:8));const f=FA(n,["trun"]);let m=l.start||0,g=0,y=p;for(let t=0;t<f.length;t++){const e=f[t],s=PA(e,4),i=l.sampleCount;l.sampleCount+=s;const r=1&e[3],n=4&e[3],o=1&e[2],a=2&e[2],h=4&e[2],c=8&e[2];let d=8,u=s;for(r&&(d+=4),n&&s&&(1&e[d+1]||void 0!==l.keyFrameIndex||(l.keyFrameIndex=i),d+=4,o?(y=PA(e,d),d+=4):y=p,a&&(d+=4),c&&(d+=4),m+=y,g+=y,u--);u--;)o?(y=PA(e,d),d+=4):y=p,a&&(d+=4),h&&(1&e[d+1]||void 0===l.keyFrameIndex&&(l.keyFrameIndex=l.sampleCount-(u+1),l.keyFrameStart=m),d+=4),c&&(d+=4),m+=y,g+=y;!g&&p&&(g+=p*s)}l.duration+=g}if(!Object.keys(i).some((t=>i[t].duration))){let e=1/0,s=0;const r=FA(t,["sidx"]);for(let t=0;t<r.length;t++){const i=UA(r[t]);if(null!=i&&i.references){e=Math.min(e,i.earliestPresentationTime/i.timescale);const t=i.references.reduce(((t,e)=>t+e.info.duration||0),0);s=Math.max(s,t+i.earliestPresentationTime/i.timescale)}}s&&Oy(s)&&Object.keys(i).forEach((t=>{i[t].duration||(i[t].duration=s*i[t].timescale-i[t].start)}))}return i}(d,p,this.logger),m=p.audio?f[p.audio.id]:null,g=p.video?f[p.video.id]:null,y=vw(g,1/0),A=vw(m,1/0),v=vw(g,0,!0),b=vw(m,0,!0);let S,E=r,w=0;if(m&&(!g||!h&&A<y||h&&h.trackId===p.audio.id)?(u.trackId=p.audio.id,S=m,w=b-A):g&&(u.trackId=p.video.id,S=g,w=v-y),S){const t=S.timescale;E=S.start/t,u.timescale=t,h||(u.initPTS=S.start-r*t,this.initPTS=h={baseTime:u.initPTS,timescale:t,trackId:u.trackId})}!n&&h||!function(t,e,s,i){if(null===t)return!0;const r=Math.max(i,1),n=e-t.baseTime/t.timescale;return Math.abs(n-s)>r}(h,E,r,w)&&u.timescale===h.timescale||(u.initPTS=E-r,h&&1===h.timescale&&this.logger.warn(`Adjusting initPTS @${r} from ${h.baseTime/h.timescale} to ${u.initPTS}`),this.initPTS=h={baseTime:u.initPTS,timescale:1});const T=t?E-h.baseTime/h.timescale:l;!function(t,e,s){FA(e,["moof","traf"]).forEach((e=>{FA(e,["tfhd"]).forEach((i=>{const r=PA(i,4),n=t[r];if(!n)return;const o=n.timescale||9e4;FA(e,["tfdt"]).forEach((t=>{const e=t[0],i=s*o;if(i){let s=PA(t,4);if(0===e)s-=i,s=Math.max(s,0),BA(t,4,s);else{s*=Math.pow(2,32),s+=PA(t,8),s-=i,s=Math.max(s,0);const e=Math.floor(s/(_A+1)),r=Math.floor(s%(_A+1));BA(t,4,e),BA(t,8,r)}}}))}))}))}(p,d,h.baseTime/h.timescale);const I=T+w;w>0?this.lastEndTime=I:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const k=!!p.audio,_=!!p.video;let C="";k&&(C+="audio"),_&&(C+="video");const D={data1:d,startPTS:T,startDTS:T,endPTS:I,endDTS:I,type:C,hasAudio:k,hasVideo:_,nb:1,dropped:0};c.audio=k&&!_?D:void 0,c.video=_?D:void 0;const R=null==g?void 0:g.sampleCount;if(R){const t=g.keyFrameIndex,e=-1!==t;D.nb=R,D.dropped=0===t||this.isVideoContiguous?0:e?t:R,D.independent=e,D.firstKeyFrame=t,e&&g.keyFrameStart&&(D.firstKeyFramePTS=g.keyFrameStart-h.baseTime/h.timescale),this.isVideoContiguous||(c.independent=e),this.isVideoContiguous||(this.isVideoContiguous=e),D.dropped&&this.logger.warn(`fmp4 does not start with IDR: firstIDR ${t}/${R} dropped: ${D.dropped} pts: ${D.firstKeyFramePTS||"NA"}`)}return c.initSegment=u,c.id3=yw(s,r,h,h),i.samples.length&&(c.text=Aw(i,r,h)),c}}},{demux:ZE,remux:mw},{demux:class extends RE{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t,e){if(!t)return!1;const s=cE(t,0);let i=(null==s?void 0:s.length)||0;if(VE(t,i))return!1;for(let s=t.length;i<s;i++)if(mE(t,i))return e.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&dE(t,e)&&pE(t,e)<=t.length-e}(t,e)}appendFrame(t,e,s){gE(t,this.observer,e,s,t.manifestCodec);const i=AE(t,e,s,this.basePTS,this.frameIndex);if(i&&0===i.missing)return i}},remux:mw},{demux:class extends RE{resetInitSegment(t,e,s,i){super.resetInitSegment(t,e,s,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:i,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=cE(t,0);let s=(null==e?void 0:e.length)||0;if(e&&11===t[s]&&119===t[s+1]&&void 0!==_E(e)&&WE(t,s)<=16)return!1;for(let e=t.length;s<e;s++)if(VE(t,s))return lA.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return NE(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,s){if(null!==this.basePTS)return UE(t,e,s,this.basePTS,this.frameIndex)}},remux:mw}];Sw.splice(2,0,{demux:GE,remux:mw});class Ew{constructor(t,e,s,i,r,n){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=s,this.id=r,this.logger=n}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,s,i){const r=s.transmuxing;r.executeStart=dw();let n=new Uint8Array(t);const{currentTransmuxState:o,transmuxConfig:a}=this;i&&(this.currentTransmuxState=i);const{contiguous:h,discontinuity:l,trackSwitch:c,accurateTimeOffset:d,timeOffset:u,initSegmentChange:p}=i||o,{audioCodec:f,videoCodec:m,defaultInitPts:g,duration:y,initSegmentData:A}=a,v=function(t,e){let s=null;t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(s=e);return s}(n,e);if(v&&Fb(v.method)){const t=this.getDecrypter(),e=Ub(v.method);if(!t.isSync())return this.asyncResult=!0,this.decryptionPromise=t.webCryptoDecrypt(n,v.key.buffer,v.iv.buffer,e).then((t=>{const e=this.push(t,null,s);return this.decryptionPromise=null,e})),this.decryptionPromise;{let i=t.softwareDecrypt(n,v.key.buffer,v.iv.buffer,e);if(s.part>-1){const e=t.flush();i=e?e.buffer:e}if(!i)return r.executeEnd=dw(),ww(s);n=new Uint8Array(i)}}const b=this.needsProbing(l,c);if(b){const t=this.configureTransmuxer(n);if(t)return this.logger.warn(`[transmuxer] ${t.message}`),this.observer.emit(Gy.ERROR,Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),r.executeEnd=dw(),ww(s)}(l||c||p||b)&&this.resetInitSegment(A,f,m,y,e),(l||p||b)&&this.resetInitialTimestamp(g),h||this.resetContiguity();const S=this.transmux(n,v,u,d,s);this.asyncResult=Tw(S);const E=this.currentTransmuxState;return E.contiguous=!0,E.discontinuity=!1,E.trackSwitch=!1,r.executeEnd=dw(),S}flush(t){const e=t.transmuxing;e.executeStart=dw();const{decrypter:s,currentTransmuxState:i,decryptionPromise:r}=this;if(r)return this.asyncResult=!0,r.then((()=>this.flush(t)));const n=[],{timeOffset:o}=i;if(s){const e=s.flush();e&&n.push(this.push(e.buffer,null,t))}const{demuxer:a,remuxer:h}=this;if(!a||!h){e.executeEnd=dw();const s=[ww(t)];return this.asyncResult?Promise.resolve(s):s}const l=a.flush(o);return Tw(l)?(this.asyncResult=!0,l.then((e=>(this.flushRemux(n,e,t),n)))):(this.flushRemux(n,l,t),this.asyncResult?Promise.resolve(n):n)}flushRemux(t,e,s){const{audioTrack:i,videoTrack:r,id3Track:n,textTrack:o}=e,{accurateTimeOffset:a,timeOffset:h}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${s.sn}${s.part>-1?" part: "+s.part:""} of ${this.id===Yy?"level":"track"} ${s.level}`);const l=this.remuxer.remux(i,r,n,o,h,a,!0,this.id);t.push({remuxResult:l,chunkMeta:s}),s.transmuxing.executeEnd=dw()}resetInitialTimestamp(t){const{demuxer:e,remuxer:s}=this;e&&s&&(e.resetTimeStamp(t),s.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,s,i,r){const{demuxer:n,remuxer:o}=this;n&&o&&(n.resetInitSegment(t,e,s,i),o.resetInitSegment(t,e,s,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,s,i,r){let n;return n=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,s,i,r):this.transmuxUnencrypted(t,s,i,r),n}transmuxUnencrypted(t,e,s,i){const{audioTrack:r,videoTrack:n,id3Track:o,textTrack:a}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,n,o,a,e,s,!1,this.id),chunkMeta:i}}transmuxSampleAes(t,e,s,i,r){return this.demuxer.demuxSampleAes(t,e,s).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,s,i,!1,this.id),chunkMeta:r})))}configureTransmuxer(t){const{config:e,observer:s,typeSupported:i}=this;let r;for(let e=0,s=Sw.length;e<s;e++){var n;if(null!=(n=Sw[e].demux)&&n.probe(t,this.logger)){r=Sw[e];break}}if(!r)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,a=this.remuxer,h=r.remux,l=r.demux;a&&a instanceof h||(this.remuxer=new h(s,e,i,this.logger)),o&&o instanceof l||(this.demuxer=new l(s,e,i,this.logger),this.probe=l.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new mb(this.config)),t}}const ww=t=>({remuxResult:{},chunkMeta:t});function Tw(t){return"then"in t&&t.then instanceof Function}class Iw{constructor(t,e,s,i,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=s,this.duration=i,this.defaultInitPts=r||null}}class kw{constructor(t,e,s,i,r,n){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=s,this.trackSwitch=i,this.timeOffset=r,this.initSegmentChange=n}}let _w=0;class Cw{constructor(t,e,s,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=_w++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=t=>{const e=t.data,s=this.hls;if(s&&null!=e&&e.event&&e.instanceNo===this.instanceNo)switch(e.event){case"init":{var i;const t=null==(i=this.workerContext)?void 0:i.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":s.logger[e.data.logType]&&s.logger[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.part=this.part,e.data.id=this.id,s.trigger(e.event,e.data)}},this.onWorkerError=t=>{if(!this.hls)return;const e=new Error(`${t.message}  (${t.filename}:${t.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:e})};const r=t.config;this.hls=t,this.id=e,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=s,this.onFlush=i;const n=(t,e)=>{(e=e||{}).frag=this.frag||void 0,t===Gy.ERROR&&(e.parent=this.id,e.part=this.part,this.error=e.error),this.hls.trigger(t,e)};this.observer=new rE,this.observer.on(Gy.FRAG_DECRYPTED,n),this.observer.on(Gy.ERROR,n);const o=uv(r.preferManagedMediaSource);if(this.useWorker&&"undefined"!=typeof Worker){const s=this.hls.logger;if(r.workerPath||"function"==typeof __HLS_WORKER_BUNDLE__){try{r.workerPath?(s.log(`loading Web Worker ${r.workerPath} for "${e}"`),this.workerContext=function(t){const e=oE[t];if(e)return e.clientCount++,e;const s=new self.URL(t,self.location.href).href,i={worker:new self.Worker(s),scriptURL:s,clientCount:1};return oE[t]=i,i}(r.workerPath)):(s.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=oE[nE];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),s=self.URL.createObjectURL(e),i={worker:new self.Worker(s),objectURL:s,clientCount:1};return oE[nE]=i,i}());const{worker:t}=this.workerContext;t.addEventListener("message",this.onWorkerMessage),t.addEventListener("error",this.onWorkerError),t.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:o,id:e,config:Dv(r)})}catch(i){s.warn(`Error setting up "${e}" Web Worker, fallback to inline`,i),this.terminateWorker(),this.error=null,this.transmuxer=new Ew(this.observer,o,r,"",e,t.logger)}return}}this.transmuxer=new Ew(this.observer,o,r,"",e,t.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const t=this.instanceNo;this.instanceNo=_w++;const e=this.hls.config,s=uv(e.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:s,id:this.id,config:Dv(e)})}}terminateWorker(){if(this.workerContext){const{worker:t}=this.workerContext;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),function(t){const e=oE[t||nE];if(e&&1==e.clientCount--){const{worker:s,objectURL:i}=e;delete oE[t||nE],i&&self.URL.revokeObjectURL(i),s.terminate()}}(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(t,e,s,i,r,n,o,a,h,l){var c,d;h.transmuxing.start=self.performance.now();const{instanceNo:u,transmuxer:p}=this,f=n?n.start:r.start,m=r.decryptdata,g=this.frag,y=!(g&&r.cc===g.cc),A=!(g&&h.level===g.level),v=g?h.sn-g.sn:-1,b=this.part?h.part-this.part.index:-1,S=0===v&&h.id>1&&h.id===(null==g?void 0:g.stats.chunkCount),E=!A&&(1===v||0===v&&(1===b||S&&b<=0)),w=self.performance.now();(A||v||0===r.stats.parsing.start)&&(r.stats.parsing.start=w),!n||!b&&E||(n.stats.parsing.start=w);const T=!(g&&(null==(c=r.initSegment)?void 0:c.url)===(null==(d=g.initSegment)?void 0:d.url)),I=new kw(y,E,a,A,f,T);if(!E||y||T){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${r.type} sn: ${h.sn}${h.part>-1?" part: "+h.part:""} ${this.id===Yy?"level":"track"}: ${h.level} id: ${h.id}\n        discontinuity: ${y}\n        trackSwitch: ${A}\n        contiguous: ${E}\n        accurateTimeOffset: ${a}\n        timeOffset: ${f}\n        initSegmentChange: ${T}`);const t=new Iw(s,i,e,o,l);this.configureTransmuxer(t)}if(this.frag=r,this.part=n,this.workerContext)this.workerContext.worker.postMessage({instanceNo:u,cmd:"demux",data:t,decryptdata:m,chunkMeta:h,state:I},t instanceof ArrayBuffer?[t]:[]);else if(p){const e=p.push(t,m,h,I);Tw(e)?e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,h,"transmuxer-interface push error")})):this.handleTransmuxComplete(e)}}flush(t){t.transmuxing.start=self.performance.now();const{instanceNo:e,transmuxer:s}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:e,cmd:"flush",chunkMeta:t});else if(s){const e=s.flush(t);Tw(e)?e.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")})):this.handleFlushResult(e,t)}}transmuxerError(t,e,s){this.hls&&(this.error=t,this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_PARSING_ERROR,chunkMeta:e,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:s}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}configureTransmuxer(t){const{instanceNo:e,transmuxer:s}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:e,cmd:"configure",config:t}):s&&s.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}class Dw extends iA{constructor(t,e){super(e,t.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e,s){const i=null==e?void 0:e.renditionReports;if(i){let r=-1;for(let s=0;s<i.length;s++){const n=i[s];let o;try{o=new self.URL(n.URI,e.url).href}catch(t){this.warn(`Could not construct new URL for Rendition Report: ${t}`),o=n.URI||""}if(o===t){r=s;break}o===t.substring(0,o.length)&&(r=s)}if(-1!==r){const t=i[r],n=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let o=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);o>=0&&t>e.partTarget&&(o+=1)}const a=s&&Tv(s);return new Iv(n,o>=0?o:void 0,a)}}}loadPlaylist(t){this.clearTimer()}loadingPlaylist(t,e){this.clearTimer()}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}getUrlWithDirectives(t,e){if(e)try{return e.addDirectives(t)}catch(t){this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}return t}playlistLoaded(t,e,s){const{details:i,stats:r}=e,n=self.performance.now(),o=r.loading.first?Math.max(0,n-r.loading.first):0;i.advancedDateTime=Date.now()-o;const a=this.hls.config.timelineOffset;if(a!==i.appliedTimelineOffset){const t=Math.max(a||0,0);i.appliedTimelineOffset=t,i.fragments.forEach((e=>{e.start=e.playlistOffset+t}))}if(i.live||null!=s&&s.live){const a="levelInfo"in e?e.levelInfo:e.track;if(i.reloaded(s),s&&i.fragments.length>0){IS(s,i);const t=i.playlistParsingError;if(t){this.warn(t);const s=this.hls;if(!s.config.ignorePlaylistParsingErrors){var h;const{networkDetails:n}=e;return void s.trigger(Gy.ERROR,{type:Vy.NETWORK_ERROR,details:Wy.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:t,reason:t.message,level:e.level||void 0,parent:null==(h=i.fragments[0])?void 0:h.type,networkDetails:n,stats:r})}i.playlistParsingError=null}}-1===i.requestScheduled&&(i.requestScheduled=r.loading.start);const l=this.hls.mainForwardBufferInfo,c=l?l.end-l.len:0,d=DS(i,1e3*(i.edge-c));if(i.requestScheduled+d<n?i.requestScheduled=n:i.requestScheduled+=d,this.log(`live playlist ${t} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let u,p,f;if(i.canBlockReload&&i.endSN&&i.advanced){const t=this.hls.config.lowLatencyMode,r=i.lastPartSn,o=i.endSN,h=i.lastPartIndex,l=r===o;-1!==h?l?(p=o+1,f=t?0:h):(p=r,f=t?h+1:i.maxPartIndex):p=o+1;const c=i.age,d=c+i.ageHeader;let m=Math.min(d-i.partTarget,1.5*i.targetduration);if(m>0){if(d>3*i.targetduration)this.log(`Playlist last advanced ${c.toFixed(2)}s ago. Omitting segment and part directives.`),p=void 0,f=void 0;else if(null!=s&&s.tuneInGoal&&d-i.partTarget>s.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${s.tuneInGoal} to: ${m} with playlist age: ${i.age}`),m=0;else{const t=Math.floor(m/i.targetduration);if(p+=t,void 0!==f){f+=Math.round(m%i.targetduration/i.partTarget)}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${c.toFixed(2)}s goal: ${m} skip sn ${t} to part ${f}`)}i.tuneInGoal=m}if(u=this.getDeliveryDirectives(i,e.deliveryDirectives,p,f),t||!l)return i.requestScheduled=n,void this.loadingPlaylist(a,u)}else(i.canBlockReload||i.canSkipUntil)&&(u=this.getDeliveryDirectives(i,e.deliveryDirectives,p,f));u&&void 0!==p&&i.canBlockReload&&(i.requestScheduled=r.loading.first+Math.max(d-2*o,d/2)),this.scheduleLoading(a,u,i)}else this.clearTimer()}scheduleLoading(t,e,s){const i=s||t.details;if(!i)return void this.loadingPlaylist(t,e);const r=self.performance.now(),n=i.requestScheduled;if(r>=n)return void this.loadingPlaylist(t,e);const o=n-r;this.log(`reload live playlist ${t.name||t.bitrate+"bps"} in ${Math.round(o)} ms`),this.clearTimer(),this.timer=self.setTimeout((()=>this.loadingPlaylist(t,e)),o)}getDeliveryDirectives(t,e,s,i){let r=Tv(t);return null!=e&&e.skip&&t.deltaUpdateFailed&&(s=e.msn,i=e.part,r=Sv),new Iv(s,i,r)}checkRetry(t){const e=t.details,s=Gv(t),i=t.errorAction,{action:r,retryCount:n=0,retryConfig:o}=i||{},a=!!i&&!!o&&(r===Xv||!i.resolved&&r===Qv);if(a){var h;if(n>=o.maxNumRetry)return!1;if(s&&null!=(h=t.context)&&h.deliveryDirectives)this.warn(`Retrying playlist loading ${n+1}/${o.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=Hv(o,n);this.clearTimer(),this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${n+1}/${o.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,i.resolved=!0}return a}}function Rw(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(!Lw(t[s].attrs,e[s].attrs))return!1;return!0}function Lw(t,e,s){const i=t["STABLE-RENDITION-ID"];return i&&!s?i===e["STABLE-RENDITION-ID"]:!(s||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((s=>t[s]!==e[s]))}function Pw(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class xw{constructor(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}destroy(){this.tracks=this.queues=null}append(t,e,s){if(null===this.queues||null===this.tracks)return;const i=this.queues[e];i.push(t),1!==i.length||s||this.executeNext(e)}appendBlocker(t){return new Promise((e=>{const s={label:"async-blocker",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(s,t)}))}prependBlocker(t){return new Promise((e=>{if(this.queues){const s={label:"async-blocker-prepend",execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[t].unshift(s)}}))}removeBlockers(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach((t=>{var e;const s=null==(e=t[0])?void 0:e.label;"async-blocker"!==s&&"async-blocker-prepend"!==s||(t[0].execute(),t.splice(0,1))}))}unblockAudio(t){if(null===this.queues)return;this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")}executeNext(t){if(null===this.queues||null===this.tracks)return;const e=this.queues[t];if(e.length){const i=e[0];try{i.execute()}catch(e){var s;if(i.onError(e),null===this.queues||null===this.tracks)return;const r=null==(s=this.tracks[t])?void 0:s.buffer;null!=r&&r.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){null!==this.queues&&(this.queues[t].shift(),this.executeNext(t))}current(t){var e;return(null==(e=this.queues)?void 0:e[t][0])||null}toString(){const{queues:t,tracks:e}=this;return null===t||null===e?"<destroyed>":`\n${this.list("video")}\n${this.list("audio")}\n${this.list("audiovideo")}}`}list(t){var e,s;return null!=(e=this.queues)&&e[t]||null!=(s=this.tracks)&&s[t]?`${t}: (${this.listSbInfo(t)}) ${this.listOps(t)}`:""}listSbInfo(t){var e;const s=null==(e=this.tracks)?void 0:e[t],i=null==s?void 0:s.buffer;return i?`SourceBuffer${i.updating?" updating":""}${s.ended?" ended":""}${s.ending?" ending":""}`:"none"}listOps(t){var e;return(null==(e=this.queues)?void 0:e[t].map((t=>t.label)).join(", "))||""}}const Mw=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Bw="HlsJsTrackRemovedError";class Fw extends Error{constructor(t){super(t),this.name=Bw}}function Uw(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach((e=>{t.removeChild(e)}))}function Ow(t){return"audio"===t?1:0}class Nw{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(Gy.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Gy.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(Gy.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Gy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const s=this.hls.levels[e.droppedLevel];this.isLevelAllowed(s)&&this.restrictedLevels.push({bitrate:s.bitrate,height:s.height,width:s.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const s=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,s.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&Oy(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,s=this.getMaxLevel(t.length-1);s!==this.autoLevelCapping&&e.logger.log(`Setting autoLevelCapping to ${s}: ${t[s].height}p@${t[s].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=s,e.autoLevelEnabled&&e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const s=e.filter(((e,s)=>this.isLevelAllowed(e)&&s<=t));return this.clientRect=null,Nw.getMaxLevelByMediaSize(s,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const s=t.getBoundingClientRect();e.width=s.width,e.height=s.height,e.width||e.height||(e.width=s.right-s.left||t.width||0,e.height=s.bottom-s.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return Math.min(t,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,s){if(null==t||!t.length)return-1;let i=t.length-1;const r=Math.max(e,s);for(let e=0;e<t.length;e+=1){const s=t[e];if((s.width>=r||s.height>=r)&&(n=s,!(o=t[e+1])||n.width!==o.width||n.height!==o.height)){i=e;break}}var n,o;return i}}const jw={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Vw={HLS:"h"},Ww="CMCD-Request",Gw={["CMCD-Object"]:["br","d","ot","tb"],[Ww]:["bl","dl","mtp","nor","nrr","su"],["CMCD-Session"]:["cid","pr","sf","sid","st","v"],["CMCD-Status"]:["bs","rtp"]};class zw{constructor(t,e){Array.isArray(t)&&(t=t.map((t=>t instanceof zw?t:new zw(t)))),this.value=t,this.params=e}}function Hw(t,e,s,i){return new Error(`failed to ${t} "${r=e,Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":"object"==typeof r?JSON.stringify(r):String(r)}" as ${s}`,{cause:i});var r}function Kw(t,e,s){return Hw("serialize",t,e,s)}class qw{constructor(t){this.description=t}}const Yw="Bare Item";function Qw(t){if(!1===ArrayBuffer.isView(t))throw Kw(t,"Byte Sequence");return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}function Jw(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw Kw(t,"Integer");return t.toString()}function Xw(t,e){if(t<0)return-Xw(-t,e);const s=Math.pow(10,e);if(Math.abs(t*s%1-.5)<Number.EPSILON){const e=Math.floor(t*s);return(e%2==0?e:e+1)/s}return Math.round(t*s)/s}function $w(t){const e=Xw(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Kw(t,"Decimal");const s=e.toString();return s.includes(".")?s:`${s}.0`}const Zw=/[\x00-\x1f\x7f]+/;function tT(t){const e=(s=t).description||s.toString().slice(7,-1);var s;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw Kw(e,"Token");return e}function eT(t){switch(typeof t){case"number":if(!Oy(t))throw Kw(t,Yw);return Number.isInteger(t)?Jw(t):$w(t);case"string":return function(t){if(Zw.test(t))throw Kw(t,"String");return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return tT(t);case"boolean":return function(t){if("boolean"!=typeof t)throw Kw(t,"Boolean");return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return`@${Jw(t.getTime()/1e3)}`}(t);if(t instanceof Uint8Array)return Qw(t);if(t instanceof qw)return tT(t);default:throw Kw(t,Yw)}}function sT(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw Kw(t,"Key");return t}function iT(t){return null==t?"":Object.entries(t).map((([t,e])=>!0===e?`;${sT(t)}`:`;${sT(t)}=${eT(e)}`)).join("")}function rT(t){return t instanceof zw?`${eT(t.value)}${iT(t.params)}`:eT(t)}function nT(t,e={whitespace:!0}){if("object"!=typeof t)throw Kw(t,"Dict");const s=t instanceof Map?t.entries():Object.entries(t),i=(null==e?void 0:e.whitespace)?" ":"";return Array.from(s).map((([t,e])=>{e instanceof zw==!1&&(e=new zw(e));let s=sT(t);var i;return!0===e.value?s+=iT(e.params):(s+="=",Array.isArray(e.value)?s+=`(${(i=e).value.map(rT).join(" ")})${iT(i.params)}`:s+=rT(e)),s})).join(`,${i}`)}const oT=t=>Math.round(t),aT=t=>100*oT(t/100),hT={br:oT,d:oT,bl:aT,dl:aT,mtp:aT,nor:(t,e)=>((null==e?void 0:e.baseUrl)&&(t=function(t,e){const s=new URL(t),i=new URL(e);if(s.origin!==i.origin)return t;const r=s.pathname.split("/").slice(1),n=i.pathname.split("/").slice(1,-1);for(;r[0]===n[0];)r.shift(),n.shift();for(;n.length;)n.shift(),r.unshift("..");return r.join("/")}(t,e.baseUrl)),encodeURIComponent(t)),rtp:aT,tb:oT};function lT(t,e){const s={};if(null==t||"object"!=typeof t)return s;const i=Object.keys(t).sort(),r=tA({},hT,null==e?void 0:e.formatters),n=null==e?void 0:e.filter;return i.forEach((i=>{if(null==n?void 0:n(i))return;let o=t[i];const a=r[i];a&&(o=a(o,e)),"v"===i&&1===o||"pr"==i&&1===o||function(t){return"number"==typeof t?Oy(t):null!=t&&""!==t&&!1!==t}(o)&&(function(t){return"ot"===t||"sf"===t||"st"===t}(i)&&"string"==typeof o&&(o=new qw(o)),s[i]=o)})),s}function cT(t,e={}){return t?function(t,e){return nT(t,e)}(lT(t,e),tA({whitespace:!1},e)):""}function dT(t,e,s){return tA(t,function(t,e={}){const s={};if(!t)return s;const i=Object.entries(t),r=Object.entries(Gw).concat(Object.entries((null==e?void 0:e.customHeaderMap)||{})),n=i.reduce(((t,e)=>{var s,i;const[n,o]=e,a=(null===(s=r.find((t=>t[1].includes(n))))||void 0===s?void 0:s[0])||Ww;return null!==(i=t[a])&&void 0!==i||(t[a]={}),t[a][n]=o,t}),{});return Object.entries(n).reduce(((t,[s,i])=>(t[s]=cT(i,e),t)),s)}(e,s))}const uT=/CMCD=[^&#]+/;function pT(t,e,s){const i=function(t,e={}){if(!t)return"";const s=cT(t,e);return`CMCD=${encodeURIComponent(s)}`}(e,s);if(!i)return t;if(uT.test(t))return t.replace(uT,i);const r=t.includes("?")?"&":"?";return`${t}${r}${i}`}function fT(t,e,s,i){t&&Object.keys(e).forEach((r=>{const n=t.filter((t=>t.groupId===r)).map((t=>{const n=tA({},t);return n.details=void 0,n.attrs=new Pb(n.attrs),n.url=n.attrs.URI=mT(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",s),n.groupId=n.attrs["GROUP-ID"]=e[r],n.attrs["PATHWAY-ID"]=i,n}));t.push(...n)}))}function mT(t,e,s,i){const{HOST:r,PARAMS:n,[s]:o}=i;let a;e&&(a=null==o?void 0:o[e],a&&(t=a));const h=new self.URL(t);return r&&!a&&(h.host=r),n&&Object.keys(n).sort().forEach((t=>{t&&h.searchParams.set(t,n[t])})),h.href}function gT(t,e,s){yT(t,e,s),t.addEventListener(e,s)}function yT(t,e,s){t.removeEventListener(e,s)}class AT extends iA{constructor(t){super("eme",t.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=AT.CDMCleanupPromise?[AT.CDMCleanupPromise]:[],this.onMediaEncrypted=t=>{const{initDataType:e,initData:s}=t,i=`"${t.type}" event: init data type: "${e}"`;if(this.debug(i),null!==s){if(!this.keyFormatPromise){let t=Object.keys(this.keySystemAccessPromises);t.length||(t=tS(this.config));const e=t.map(Zb).filter((t=>!!t));this.keyFormatPromise=this.getKeyFormatPromise(e)}this.keyFormatPromise.then((r=>{const n=qb(r);let o,a;if("sinf"===e){if(n!==Wb.FAIRPLAY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${n}`);const r=RA(new Uint8Array(s));try{const t=zA(Ob(JSON.parse(r).sinf));if(!t)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");o=new Uint8Array(t.subarray(8,24)),a=Wb.FAIRPLAY}catch(t){return void this.warn(`${i} Failed to parse sinf: ${t}`)}}else{if(n!==Wb.WIDEVINE&&n!==Wb.PLAYREADY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${n}`);const r=function(t){const e=[];if(t instanceof ArrayBuffer){const s=t.byteLength;let i=0;for(;i+32<s;){const s=$A(new DataView(t,i));e.push(s),i+=s.size}}return e}(s),h=r.filter((t=>!!t.systemId&&$b(t.systemId)===n));h.length>1&&this.warn(`${i} Using first of ${h.length} pssh found for selected key-system ${n}`);const l=h[0];if(!l)return void(0===r.length||r.some((t=>!t.systemId))?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${r.map((t=>$b(t.systemId))).join(",")} pssh data in favor of playlist keys`));if(a=$b(l.systemId),0===l.version&&l.data)if(a===Wb.WIDEVINE){const t=l.data.length-22;o=new Uint8Array(l.data.subarray(t,t+16))}else a===Wb.PLAYREADY&&(o=iS(l.data))}if(!a||!o)return;const h=pA(o),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let d=l[h];for(let t=0;t<c.length;t++){const i=c[t],r=i.decryptdata;if(!r.keyId)continue;const n=pA(r.keyId);if(h===n||-1!==r.uri.replace(/-/g,"").indexOf(h)){if(d=l[n],r.pssh)break;delete l[n],r.pssh=new Uint8Array(s),r.keyId=o,d=l[h]=d.then((()=>this.generateRequestWithPreferredKeySession(i,e,s,"encrypted-event-key-match"))),d.catch((t=>this.handleError(t)));break}}if(!d){if(a!==n)return void this.log(`Ignoring "${t.type}" event with ${a} init data for selected key-system ${n}`);d=l[h]=this.getKeySystemSelectionPromise([a]).then((({keySystem:t,mediaKeys:i})=>{var r;this.throwIfDestroyed();const n=new nS("ISO-23001-7",h,null!=(r=Zb(t))?r:"");return n.pssh=new Uint8Array(s),n.keyId=o,this.attemptSetMediaKeys(t,i).then((()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:n,keySystem:t,mediaKeys:i});return this.generateRequestWithPreferredKeySession(r,e,s,"encrypted-event-no-match")}))})),d.catch((t=>this.handleError(t)))}}))}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Gy.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Gy.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Gy.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Gy.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:s}=this.config,i=e[t];return i?i.licenseUrl:t===Wb.WIDEVINE&&s?s:void 0}getLicenseServerUrlOrThrow(t){const e=this.getLicenseServerUrl(t);if(void 0===e)throw new Error(`no license server URL configured for key-system "${t}"`);return e}getServerCertificateUrl(t){const{drmSystems:e}=this.config,s=e[t];if(s)return s.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,s=(t,e,s)=>!!t&&s.indexOf(t)===e,i=e.map((t=>t.audioCodec)).filter(s),r=e.map((t=>t.videoCodec)).filter(s);return i.length+r.length===0&&r.push("avc1.42e01e"),new Promise(((e,s)=>{const n=t=>{const o=t.shift();this.getMediaKeysPromise(o,i,r).then((t=>e({keySystem:o,mediaKeys:t}))).catch((e=>{t.length?n(t):s(e instanceof vT?e:new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};n(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:s}=this.config;if("function"!=typeof s){let t=`Configured requestMediaKeySystemAccess is not a function ${s}`;return null===eS&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return s(t,e)}getMediaKeysPromise(t,e,s){const i=function(t,e,s,i){let r;switch(t){case Wb.FAIRPLAY:r=["cenc","sinf"];break;case Wb.WIDEVINE:case Wb.PLAYREADY:r=["cenc"];break;case Wb.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,s,i){return[{initDataTypes:t,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs=${t}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null}))),videoCapabilities:s.map((t=>({contentType:`video/mp4; codecs=${t}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null})))}]}(r,e,s,i)}(t,e,s,this.config.drmSystemOptions),r=this.keySystemAccessPromises[t];let n=null==r?void 0:r.keySystemAccess;if(!n){this.log(`Requesting encrypted media "${t}" key-system access with config: ${Dv(i)}`),n=this.requestMediaKeySystemAccess(t,i);const e=this.keySystemAccessPromises[t]={keySystemAccess:n};return n.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),n.then((s=>{this.log(`Access for key-system "${s.keySystem}" obtained`);const i=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=s.createMediaKeys().then((s=>(this.log(`Media-keys created for "${t}"`),e.hasMediaKeys=!0,i.then((e=>e?this.setMediaKeysServerCertificate(s,t,e):s))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return n.then((()=>r.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:s}){this.log(`Creating key-system session "${e}" keyId: ${pA(t.keyId||[])}`);const i=s.createSession(),r={decryptdata:t,keySystem:e,mediaKeys:s,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const s=this.createMediaKeySessionContext(t),i=this.getKeyIdString(e),r="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(s,r,e.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return pA(t.keyId)}updateKeySession(t,e){var s;const i=t.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${pA((null==(s=t.decryptdata)?void 0:s.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),i.update(e)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map((t=>({keySystem:t,hasMediaKeys:this.keySystemAccessPromises[t].hasMediaKeys}))).filter((({hasMediaKeys:t})=>!!t)).map((({keySystem:t})=>Zb(t))).filter((t=>!!t))}getKeySystemAccess(t){return this.getKeySystemSelectionPromise(t).then((({keySystem:t,mediaKeys:e})=>this.attemptSetMediaKeys(t,e)))}selectKeySystem(t){return new Promise(((e,s)=>this.getKeySystemSelectionPromise(t).then((({keySystem:t})=>{const i=Zb(t);i?e(i):s(new Error(`Unable to find format for key-system "${t}"`))})).catch(s)))}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){const e=tS(this.config),s=t.map(qb).filter((t=>!!t&&-1!==e.indexOf(t)));return this.selectKeySystem(s)}loadKey(t){const e=t.keyInfo.decryptdata,s=this.getKeyIdString(e),i=`(keyId: ${s} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${i}`);let r=this.keyIdToKeySessionPromise[s];if(!r){r=this.getKeySystemForKeyPromise(e).then((({keySystem:s,mediaKeys:r})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${i}`),this.attemptSetMediaKeys(s,r).then((()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:s,mediaKeys:r,decryptdata:e})))))));(this.keyIdToKeySessionPromise[s]=r.then((t=>{const s=e.pssh?e.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(t,"cenc",s,"playlist-key")}))).catch((t=>this.handleError(t)))}return r}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof vT?this.hls.trigger(Gy.ERROR,t.data):this.hls.trigger(Gy.ERROR,{type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),s=this.keyIdToKeySessionPromise[e];if(!s){const e=qb(t.keyFormat),s=e?[e]:tS(this.config);return this.attemptKeySystemAccess(s)}return s}getKeySystemSelectionPromise(t){if(t.length||(t=tS(this.config)),0===t.length)throw new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Dv({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t,e){if(this.mediaKeys===e)return Promise.resolve();const s=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const i=Promise.all(s).then((()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.mediaKeys=e,this.setMediaKeysQueue.push(i),i.then((()=>{this.log(`Media-keys set for "${t}"`),s.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===s.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,s,i){var r,n;const o=null==(r=this.config.drmSystems)||null==(n=r[t.keySystem])?void 0:n.generateRequest;if(o)try{const i=o.call(this.hls,e,s,t);if(!i)throw new Error("Invalid response from configured generateRequest filter");e=i.initDataType,s=i.initData?i.initData:null,t.decryptdata.pssh=s?new Uint8Array(s):null}catch(t){var a;if(this.warn(t.message),null!=(a=this.hls)&&a.config.debug)throw t}if(null===s)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(t);const h=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${i}": ${h} (init data type: ${e} length: ${s?s.byteLength:null})`);const l=new rE,c=t._onmessage=e=>{const s=t.mediaKeysSession;if(!s)return void l.emit("error",new Error("invalid state"));const{messageType:i,message:r}=e;this.log(`"${i}" message event for session "${s.sessionId}" message size: ${r.byteLength}`),"license-request"===i||"license-renewal"===i?this.renewLicense(t,r).catch((t=>{l.eventNames().length?l.emit("error",t):this.handleError(t)})):"license-release"===i?t.keySystem===Wb.FAIRPLAY&&(this.updateKeySession(t,Nb("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${i}"`)},d=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void l.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const s=t.keyStatus;l.emit("keyStatus",s),"expired"===s&&(this.warn(`${t.keySystem} expired for key ${h}`),this.renewKeySession(t))};gT(t.mediaKeysSession,"message",c),gT(t.mediaKeysSession,"keystatuseschange",d);const u=new Promise(((t,e)=>{l.on("error",e),l.on("keyStatus",(s=>{s.startsWith("usable")?t():"output-restricted"===s?e(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===s?e(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${s}"`)):"expired"===s?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${s}"`)}))}));return t.mediaKeysSession.generateRequest(e,s).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${h}`)})).catch((t=>{throw new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>u)).catch((e=>{throw l.removeAllListeners(),this.removeSession(t),e})).then((()=>(l.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,s)=>{if("string"==typeof s&&"object"==typeof e){const t=s;s=e,e=t}this.log(`key status change "${e}" for keyStatuses keyId: ${pA("buffer"in s?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s))} session keyId: ${pA(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e}))}fetchServerCertificate(t){const e=this.config,s=new(0,e.loader)(e),i=this.getServerCertificateUrl(t);return i?(this.log(`Fetching server certificate for "${t}"`),new Promise(((r,n)=>{const o={responseType:"arraybuffer",url:i},a=e.certLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,s,i)=>{r(t.data)},onError:(e,s,r,a)=>{n(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:sA({url:o.url,data:void 0},e)},`"${t}" certificate request failed (${i}). Status: ${e.code} (${e.text})`))},onTimeout:(e,s,r)=>{n(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:r,response:{url:o.url,data:void 0}},`"${t}" certificate request timed out (${i})`))},onAbort:(t,e,s)=>{n(new Error("aborted"))}};s.load(o,h,l)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,s){return new Promise(((i,r)=>{t.setServerCertificate(s).then((r=>{this.log(`setServerCertificate ${r?"success":"not supported by CDM"} (${null==s?void 0:s.byteLength}) on "${e}"`),i(t)})).catch((t=>{r(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}unpackPlayReadyKeyMessage(t,e){const s=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!s.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const i=(new DOMParser).parseFromString(s,"application/xml"),r=i.querySelectorAll("HttpHeader");if(r.length>0){let e;for(let s=0,i=r.length;s<i;s++){var n,o;e=r[s];const i=null==(n=e.querySelector("name"))?void 0:n.textContent,a=null==(o=e.querySelector("value"))?void 0:o.textContent;i&&a&&t.setRequestHeader(i,a)}}const a=i.querySelector("Challenge"),h=null==a?void 0:a.textContent;if(!h)throw new Error("Cannot find <Challenge> in key message");return Nb(atob(h))}setupLicenseXHR(t,e,s,i){const r=this.config.licenseXhrSetup;return r?Promise.resolve().then((()=>{if(!s.decryptdata)throw new Error("Key removed");return r.call(this.hls,t,e,s,i)})).catch((n=>{if(!s.decryptdata)throw n;return t.open("POST",e,!0),r.call(this.hls,t,e,s,i)})).then((s=>{t.readyState||t.open("POST",e,!0);return{xhr:t,licenseChallenge:s||i}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:i}))}requestLicense(t,e){const s=this.config.keyLoadPolicy.default;return new Promise(((i,r)=>{const n=this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${n}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return r(new Error("invalid state"));if(4===o.readyState)if(200===o.status){this._requestLicenseFailureCount=0;let e=o.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const s=this.config.licenseResponseCallback;if(s)try{e=s.call(this.hls,o,n,t)}catch(t){this.error(t)}i(e)}else{const a=s.errorRetry,h=a?a.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>h||o.status>=400&&o.status<500)r(new vT({type:Vy.KEY_SYSTEM_ERROR,details:Wy.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:n,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${n}). Status: ${o.status} (${o.statusText})`));else{const s=h-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${s} attempts left`),this.requestLicense(t,e).then(i,r)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=o,this.setupLicenseXHR(o,n,t,e).then((({xhr:e,licenseChallenge:s})=>{t.keySystem==Wb.PLAYREADY&&(s=this.unpackPlayReadyKeyMessage(e,s)),e.send(s)}))}))}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const s=e.media;this.media=s,gT(s,"encrypted",this.onMediaEncrypted),gT(s,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media;t&&(yT(t,"encrypted",this.onMediaEncrypted),yT(t,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var t;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const e=this.media,s=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,nS.clearKeyUriToKeyIdMap();const i=s.length;AT.CDMCleanupPromise=Promise.all(s.map((t=>this.removeSession(t))).concat(null==e||null==(t=e.setMediaKeys(null))?void 0:t.catch((t=>{var e;this.log(`Could not clear media keys: ${t}`),null==(e=this.hls)||e.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${t}`)})})))).catch((t=>{var e;this.log(`Could not close sessions and clear media keys: ${t}`),null==(e=this.hls)||e.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${t}`)})})).then((()=>{i&&this.log("finished closing key sessions and clearing media keys")}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:s}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),s&&s.readyState!==XMLHttpRequest.DONE&&s.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(t);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:r}=this.config,n=function(t){var e;return"persistent-license"===t.sessionType||!(null==(e=t.sessionTypes)||!e.some((t=>"persistent-license"===t)))}(r)?new Promise(((t,s)=>{self.setTimeout((()=>s(new Error("MediaKeySession.remove() timeout"))),8e3),e.remove().then(t)})):Promise.resolve();return n.catch((t=>{var e;this.log(`Could not remove session: ${t}`),null==(e=this.hls)||e.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${t}`)})})).then((()=>e.close())).catch((t=>{var e;this.log(`Could not close session: ${t}`),null==(e=this.hls)||e.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${t}`)})}))}}}AT.CDMCleanupPromise=void 0;class vT extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}function bT(t,e){let s;try{s=new Event("addtrack")}catch(t){s=document.createEvent("Event"),s.initEvent("addtrack",!1,!1)}s.track=t,e.dispatchEvent(s)}function ST(t,e){const s=t.mode;if("disabled"===s&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(s){lA.debug(`[texttrack-utils]: ${s}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,t.addCue(s)}catch(t){lA.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`)}}"disabled"===s&&(t.mode=s)}function ET(t,e){const s=t.mode;if("disabled"===s&&(t.mode="hidden"),t.cues)for(let s=t.cues.length;s--;)e&&t.cues[s].removeEventListener("enter",e),t.removeCue(t.cues[s]);"disabled"===s&&(t.mode=s)}function wT(t,e,s,i){const r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&t.cues.length>0){const r=function(t,e,s){const i=[],r=function(t,e){if(e<=t[0].startTime)return 0;const s=t.length-1;if(e>t[s].endTime)return-1;let i,r=0,n=s;for(;r<=n;)if(i=Math.floor((n+r)/2),e<t[i].startTime)n=i-1;else{if(!(e>t[i].startTime&&r<s))return i;r=i+1}return t[r].startTime-e<e-t[n].startTime?r:n}(t,e);if(r>-1)for(let n=r,o=t.length;n<o;n++){const r=t[n];if(r.startTime>=e&&r.endTime<=s)i.push(r);else if(r.startTime>s)return i}return i}(t.cues,e,s);for(let e=0;e<r.length;e++)i&&!i(r[e])||t.removeCue(r[e])}"disabled"===r&&(t.mode=r)}function TT(t){const e=[];for(let s=0;s<t.length;s++){const i=t[s];"subtitles"!==i.kind&&"captions"!==i.kind||!i.label||e.push(t[s])}return e}function IT(t){let e=5381,s=t.length;for(;s;)e=33*e^t.charCodeAt(--s);return(e>>>0).toString()}const kT=.025;let _T=function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t}({});function CT(t,e,s){return`${t.identifier}-${s+1}-${IT(e)}`}class DT{constructor(t,e){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=e,this.dateRange=t,this.setDateRange(t)}setDateRange(t){this.dateRange=t,this.resumeOffset=t.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=t.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=t.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=t.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var t;this.appendInPlaceStarted=!1,null==(t=this.assetListLoader)||t.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(t){var e;if(t>0&&t>=this.assetList.length)return!0;const s=this.playoutLimit;if(t<=0||isNaN(s))return!1;if(0===s)return!0;return((null==(e=this.assetList[t])?void 0:e.startOffset)||0)>s}findAssetIndex(t){return this.assetList.indexOf(t)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const t=this.dateRange.startTime;if(this.snapOptions.out){const e=this.dateRange.tagAnchor;if(e)return RT(t,e)}return t}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(0===this.startTime||this.snapOptions.out)return!0;const t=this.dateRange.tagAnchor;if(t){const e=this.dateRange.startTime;return e-RT(e,t)<.1}return!1}get resumptionOffset(){const t=this.resumeOffset,e=Oy(t)?t:this.duration;return this.cumulativeDuration+e}get resumeTime(){const t=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const e=this.resumeAnchor;if(e)return RT(t,e)}return t}get appendInPlace(){return!!this.appendInPlaceStarted||!this.appendInPlaceDisabled&&!(this.cue.once||this.cue.pre||!this.startIsAligned||!(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<kT))}set appendInPlace(t){this.appendInPlaceStarted?this.resetOnResume=!t:this.appendInPlaceDisabled=!t}get timelineStart(){return null!==this._timelineStart?this._timelineStart:this.startTime}set timelineStart(t){this._timelineStart=t}get duration(){const t=this.playoutLimit;let e;return e=null!==this._duration?this._duration:this.dateRange.duration?this.dateRange.duration:this.dateRange.plannedDuration||0,!isNaN(t)&&t<e&&(e=t),e}set duration(t){this._duration=t}get cue(){return this.dateRange.cue}get timelineOccupancy(){return"RANGE"===this.dateRange.attr["X-TIMELINE-OCCUPIES"]?_T.Range:_T.Point}get supplementsPrimary(){return"PRIMARY"===this.dateRange.attr["X-TIMELINE-STYLE"]}get contentMayVary(){return"NO"!==this.dateRange.attr["X-CONTENT-MAY-VARY"]}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||null!==this.assetListResponse}toString(){return`["${(t=this).identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`;var t}}function RT(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<kT)?e.start:e.start+e.duration}function LT(t,e,s){const i=new self.URL(t,s);return"data:"!==i.protocol&&i.searchParams.set("_HLS_primary_id",e),i}function PT(t,e){for(;null!=(s=t.assetList[++e])&&s.error;)var s;return e}function xT(t){const e=t.timelineStart,s=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+s).toFixed(2)}]`}class MT{constructor(t,e,s,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls.trigger(Gy.PLAYOUT_LIMIT_REACHED,{})};const r=this.hls=new t(e);this.interstitial=s,this.assetItem=i;let n=i.uri;try{n=LT(n,e.primarySessionId).href}catch(t){}r.loadSource(n);const o=()=>{this.hasDetails=!0};r.once(Gy.LEVEL_LOADED,o),r.once(Gy.AUDIO_TRACK_LOADED,o),r.once(Gy.SUBTITLE_TRACK_LOADED,o),r.on(Gy.MEDIA_ATTACHING,((t,{media:e})=>{this.removeMediaListeners(),this.mediaAttached=e;this.interstitial.playoutLimit&&(e.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&r.on(Gy.BUFFER_APPENDED,(()=>{const t=this.bufferedEnd;this.reachedPlayout(t)&&(this._bufferedEosTime=t,r.trigger(Gy.BUFFERED_TO_END,void 0))})))}))}get appendInPlace(){var t;return(null==(t=this.interstitial)?void 0:t.appendInPlace)||!1}bufferedInPlaceToEnd(t){var e;if(!this.appendInPlace)return!1;if(null!=(e=this.hls)&&e.bufferedToEnd)return!0;if(!t||!this._bufferedEosTime)return!1;const s=this.timelineOffset,i=Tb.bufferInfo(t,s,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}reachedPlayout(t){const e=this.interstitial.playoutLimit;return this.startOffset+t>=e}get destroyed(){var t;return!(null!=(t=this.hls)&&t.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var t;return(null==(t=this.hls)?void 0:t.media)||null}get bufferedEnd(){const t=this.media||this.mediaAttached;if(!t)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const e=Tb.bufferInfo(t,t.currentTime,.001);return this.getAssetTime(e.end)}get currentTime(){const t=this.media||this.mediaAttached;return t?this.getAssetTime(t.currentTime):this._currentTime||0}get duration(){const t=this.assetItem.duration;return t||0}get remaining(){const t=this.duration;return t?Math.max(0,t-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var t;return(null==(t=this.hls)?void 0:t.config.timelineOffset)||0}set timelineOffset(t){const e=this.timelineOffset;if(t!==e){const s=t-e;if(Math.abs(s)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=t}}}getAssetTime(t){const e=this.timelineOffset,s=this.duration;return Math.min(Math.max(0,t-e),s)}removeMediaListeners(){const t=this.mediaAttached;t&&(this._currentTime=t.currentTime,this.bufferSnapShot(),t.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){var t;this.mediaAttached&&(null!=(t=this.hls)&&t.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd))}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(t){this.hls.attachMedia(t)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}resetDetails(){const t=this.hls;if(this.hasDetails){t.stopLoad();const e=t=>delete t.details;t.levels.forEach(e),t.allAudioTracks.forEach(e),t.allSubtitleTracks.forEach(e),this.hasDetails=!1}}on(t,e,s){this.hls.on(t,e)}once(t,e,s){this.hls.once(t,e)}off(t,e,s){this.hls.off(t,e)}toString(){var t;return`HlsAssetPlayer: ${xT(this.assetItem)} ${null==(t=this.hls)?void 0:t.sessionId} ${this.appendInPlace?"append-in-place":""}`}}class BT extends iA{constructor(t,e){super("interstitials-sched",e),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=t}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach((t=>t.reset())),this.events=this.items=null}resetErrorsInRange(t,e){return this.events?this.events.reduce(((s,i)=>t<=i.startOffset&&e>i.startOffset?(delete i.error,s+1):s),0):0}get duration(){const t=this.items;return t?t[t.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(t){return t&&this.eventMap[t]||null}hasEvent(t){return t in this.eventMap}findItemIndex(t,e){if(t.event)return this.findEventIndex(t.event.identifier);let s=-1;t.nextEvent?s=this.findEventIndex(t.nextEvent.identifier)-1:t.previousEvent&&(s=this.findEventIndex(t.previousEvent.identifier)+1);const i=this.items;if(i)for(i[s]||(void 0===e&&(e=t.start),s=this.findItemIndexAtTime(e));s>=0&&null!=(r=i[s])&&r.event;){var r;s--}return s}findItemIndexAtTime(t,e){const s=this.items;if(s)for(let i=0;i<s.length;i++){let r=s[i];if(e&&"primary"!==e&&(r=r[e]),t===r.start||t>r.start&&t<r.end)return i}return-1}findJumpRestrictedIndex(t,e){const s=this.items;if(s)for(let i=t;i<=e&&s[i];i++){const t=s[i].event;if(null!=t&&t.restrictions.jump&&!t.appendInPlace)return i}return-1}findEventIndex(t){const e=this.items;if(e)for(let i=e.length;i--;){var s;if((null==(s=e[i].event)?void 0:s.identifier)===t)return i}return-1}findAssetIndex(t,e){const s=t.assetList,i=s.length;if(i>1)for(let t=0;t<i;t++){const i=s[t];if(!i.error){const s=i.timelineStart;if(e===s||e>s&&e<s+(i.duration||0))return t}}return 0}get assetIdAtEnd(){var t,e;const s=null==(t=this.items)||null==(e=t[this.length-1])?void 0:e.event;if(s){const t=s.assetList,e=t[t.length-1];if(e)return e.identifier}return null}parseInterstitialDateRanges(t,e){const s=t.main.details,{dateRanges:i}=s,r=this.events,n=this.parseDateRanges(i,{url:s.url},e),o=Object.keys(i),a=r?r.filter((t=>!o.includes(t.identifier))):[];n.length&&n.sort(((t,e)=>{const s=t.cue.pre,i=t.cue.post,r=e.cue.pre,n=e.cue.post;if(s&&!r)return-1;if(r&&!s)return 1;if(i&&!n)return 1;if(n&&!i)return-1;if(!(s||r||i||n)){const s=t.startTime,i=e.startTime;if(s!==i)return s-i}return t.dateRange.tagOrder-e.dateRange.tagOrder})),this.events=n,a.forEach((t=>{this.removeEvent(t)})),this.updateSchedule(t,a)}updateSchedule(t,e=[]){const s=this.events||[];if(s.length||e.length||this.length<2){const i=this.items,r=this.parseSchedule(s,t);(e.length||(null==i?void 0:i.length)!==r.length||r.some(((t,e)=>Math.abs(t.playout.start-i[e].playout.start)>.005||Math.abs(t.playout.end-i[e].playout.end)>.005)))&&(this.items=r,this.onScheduleUpdate(e,i))}}parseDateRanges(t,e,s){const i=[],r=Object.keys(t);for(let n=0;n<r.length;n++){const o=r[n],a=t[o];if(a.isInterstitial){let t=this.eventMap[o];t?t.setDateRange(a):(t=new DT(a,e),this.eventMap[o]=t,!1===s&&(t.appendInPlace=s)),i.push(t)}}return i}parseSchedule(t,e){const s=[],i=e.main.details,r=i.live?1/0:i.edge;let n=0;if((t=t.filter((t=>!(t.error||t.cue.once&&t.hasPlayed)))).length){this.resolveOffsets(t,e);let i=0,a=0;if(t.forEach(((e,o)=>{const h=e.cue.pre,l=e.cue.post,c=t[o-1]||null,d=e.appendInPlace,u=l?r:e.startOffset,p=e.duration,f=e.timelineOccupancy===_T.Range?p:0,m=e.resumptionOffset,g=(null==c?void 0:c.startTime)===u,y=u+e.cumulativeDuration;let A=d?y+p:u+m;if(h||!l&&u<=0){const t=a;a+=f,e.timelineStart=y;const i=n;n+=p,s.push({event:e,start:y,end:A,playout:{start:i,end:n},integrated:{start:t,end:a}})}else{if(!(u<=r))return;{if(!g){const r=u-i;if(r>.033){const h=i,l=a;a+=r;const c=n;n+=r;const d={previousEvent:t[o-1]||null,nextEvent:e,start:h,end:h+r,playout:{start:c,end:n},integrated:{start:l,end:a}};s.push(d)}else r>0&&c&&(c.cumulativeDuration+=r,s[s.length-1].end=u)}l&&(A=y),e.timelineStart=y;const r=a;a+=f;const h=n;n+=p,s.push({event:e,start:y,end:A,playout:{start:h,end:n},integrated:{start:r,end:a}})}}const v=e.resumeTime;i=l||v>r?r:v})),i<r){var o;const t=i,e=a,h=r-i;a+=h;const l=n;n+=h,s.push({previousEvent:(null==(o=s[s.length-1])?void 0:o.event)||null,nextEvent:null,start:i,end:t+h,playout:{start:l,end:n},integrated:{start:e,end:a}})}this.setDurations(r,n,a)}else{const t=0;s.push({previousEvent:null,nextEvent:null,start:t,end:r,playout:{start:t,end:r},integrated:{start:t,end:r}}),this.setDurations(r,r,r)}return s}setDurations(t,e,s){this.durations={primary:t,playout:e,integrated:s}}resolveOffsets(t,e){const s=e.main.details,i=s.live?1/0:s.edge;let r=0,n=-1;t.forEach(((o,a)=>{const h=o.cue.pre,l=o.cue.post,c=h?0:l?i:o.startTime;this.updateAssetDurations(o);if(n===c?o.cumulativeDuration=r:(r=0,n=c),!l&&o.snapOptions.in&&(o.resumeAnchor=Nv(null,s.fragments,o.startOffset+o.resumptionOffset,0,0)||void 0),o.appendInPlace&&!o.appendInPlaceStarted){this.primaryCanResumeInPlaceAt(o,e)||(o.appendInPlace=!1)}if(!o.appendInPlace&&a+1<t.length){t[a+1].startTime-t[a].resumeTime<.033&&(t[a+1].appendInPlace=!1,t[a+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${o}`))}const d=Oy(o.resumeOffset)?o.resumeOffset:o.duration;r+=d}))}primaryCanResumeInPlaceAt(t,e){const s=t.resumeTime,i=t.startTime+t.resumptionOffset;if(Math.abs(s-i)>kT)return this.log(`"${t.identifier}" resumption ${s} not aligned with estimated timeline end ${i}`),!1;if(!e)return this.log(`"${t.identifier}" resumption ${s} can not be aligned with media (none selected)`),!1;return!Object.keys(e).some((i=>{const r=e[i].details,n=r.edge;if(s>=n)return this.log(`"${t.identifier}" resumption ${s} past ${i} playlist end ${n}`),!1;const o=Nv(null,r.fragments,s);if(!o)return this.log(`"${t.identifier}" resumption ${s} does not align with any fragments in ${i} playlist (${r.fragStart}-${r.fragmentEnd})`),!0;const a="audio"===i?.175:0;return!(Math.abs(o.start-s)<kT+a||Math.abs(o.end-s)<kT+a)&&(this.log(`"${t.identifier}" resumption ${s} not aligned with ${i} fragment bounds (${o.start}-${o.end} sn: ${o.sn} cc: ${o.cc})`),!0)}))}updateAssetDurations(t){if(!t.assetListLoaded)return;const e=t.timelineStart;let s=0,i=!1,r=!1;t.assetList.forEach(((t,n)=>{const o=e+s;t.startOffset=s,t.timelineStart=o,i||(i=null===t.duration),r||(r=!!t.error);const a=t.error?0:t.duration||0;s+=a})),t.duration=i&&!r?Math.max(s,t.duration):s}removeEvent(t){t.reset(),delete this.eventMap[t.identifier]}}function FT(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class UT{constructor(t){this.hls=void 0,this.hls=t}destroy(){this.hls=null}loadAssetList(t,e){const s=t.assetListUrl;let i;try{i=LT(s,this.hls.sessionId,t.baseUrl)}catch(e){const i=this.assignAssetListError(t,Wy.ASSET_LIST_LOAD_ERROR,e,s);return void this.hls.trigger(Gy.ERROR,i)}e&&"data:"!==i.protocol&&i.searchParams.set("_HLS_start_offset",""+e);const r=this.hls.config,n=new(0,r.loader)(r),o={responseType:"json",url:i.href},a=r.interstitialAssetListLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(e,s,i,r)=>{const n=e.data,o=null==n?void 0:n.ASSETS;if(Array.isArray(o))t.assetListResponse=n,this.hls.trigger(Gy.ASSET_LIST_LOADED,{event:t,assetListResponse:n,networkDetails:r});else{const e=this.assignAssetListError(t,Wy.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),i.url,s,r);this.hls.trigger(Gy.ERROR,e)}},onError:(e,s,i,r)=>{const n=this.assignAssetListError(t,Wy.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${e.code} ${e.text} (${s.url})`),s.url,r,i);this.hls.trigger(Gy.ERROR,n)},onTimeout:(e,s,i)=>{const r=this.assignAssetListError(t,Wy.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${s.url})`),s.url,e,i);this.hls.trigger(Gy.ERROR,r)}};return n.load(o,h,l),this.hls.trigger(Gy.ASSET_LIST_LOADING,{event:t}),n}assignAssetListError(t,e,s,i,r,n){return t.error=s,{type:Vy.NETWORK_ERROR,details:e,fatal:!1,interstitial:t,url:i,error:s,networkDetails:n,stats:r}}}function OT(t){null==t||t.play().catch((()=>{}))}class NT{constructor(t){this.buffered=void 0;const e=(e,s,i)=>{if((s>>>=0)>i-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${i})`);return t[s][e]};this.buffered={get length(){return t.length},end:s=>e("end",s,t.length),start:s=>e("start",s,t.length)}}}const jT={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},VT=t=>String.fromCharCode(jT[t]||t),WT=15,GT=100,zT={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},HT={17:2,18:4,21:6,22:8,23:10,19:13,20:15},KT={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},qT={25:2,26:4,29:6,30:8,31:10,27:13,28:15},YT=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class QT{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const s="function"==typeof e?e():e;lA.log(`${this.time} [${t}] ${s}`)}}}const JT=function(t){const e=[];for(let s=0;s<t.length;s++)e.push(t[s].toString(16));return e};class XT{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let s=0;s<e.length;s++){const i=e[s];t.hasOwnProperty(i)&&(this[i]=t[i])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class $T{constructor(){this.uchar=" ",this.penState=new XT}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class ZT{constructor(t){this.chars=[],this.pos=0,this.currPenState=new XT,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<GT;t++)this.chars.push(new $T);this.logger=t}equals(t){for(let e=0;e<GT;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<GT;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<GT;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>GT&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=GT)}moveCursor(t){const e=this.pos+t;if(t>1)for(let t=this.pos+1;t<e+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=VT(t);this.pos>=GT?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<GT;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let s=0;s<GT;s++){const i=this.chars[s].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class tI{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<WT;e++)this.rows.push(new ZT(t));this.logger=t}reset(){for(let t=0;t<WT;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let s=0;s<WT;s++)if(!this.rows[s].equals(t.rows[s])){e=!1;break}return e}copy(t){for(let e=0;e<WT;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<WT;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t);this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+Dv(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let t=0;t<WT;t++)this.rows[t].clear();const t=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const i=s.rows[t].cueStartTime,r=this.logger.time;if(null!==i&&null!==r&&i<r)for(let i=0;i<this.nrRollUpRows;i++)this.rows[e-this.nrRollUpRows+i+1].copy(s.rows[t+i])}}this.currRow=e;const s=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,i=Math.max(e-1,0);s.setCursor(t.indent),t.color=s.chars[i].penState.foreground}const i={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+Dv(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let s="",i=-1;for(let s=0;s<WT;s++){const r=this.rows[s].getTextString();r&&(i=s+1,t?e.push("Row "+i+": '"+r+"'"):e.push(r.trim()))}return e.length>0&&(s=t?"["+e.join(" | ")+"]":e.join("\n")),s}getTextAndFormat(){return this.rows}}class eI{constructor(t,e,s){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new tI(s),this.nonDisplayedMemory=new tI(s),this.lastOutputScreen=new tI(s),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=s}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{const s=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[s]}this.logger.log(2,"MIDROW: "+Dv(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class sI{constructor(t,e,s){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const i=this.logger=new QT;this.channels=[null,new eI(t,e,i),new eI(t+1,s,i)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){this.logger.time=t;for(let t=0;t<e.length;t+=2){const s=127&e[t],i=127&e[t+1];let r=!1,n=null;if(0===s&&0===i)continue;this.logger.log(3,(()=>"["+JT([e[t],e[t+1]])+"] -> ("+JT([s,i])+")"));const o=this.cmdHistory;if(s>=16&&s<=31){if(rI(s,i,o)){iI(null,null,o),this.logger.log(3,(()=>"Repeated command ("+JT([s,i])+") is dropped"));continue}iI(s,i,this.cmdHistory),r=this.parseCmd(s,i),r||(r=this.parseMidrow(s,i)),r||(r=this.parsePAC(s,i)),r||(r=this.parseBackgroundAttributes(s,i))}else iI(null,null,o);if(!r&&(n=this.parseChars(s,i),n)){const t=this.currentChannel;if(t&&t>0){this.channels[t].insertChars(n)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||n||this.logger.log(2,(()=>"Couldn't parse cleaned data "+JT([s,i])+" orig: "+JT([e[t],e[t+1]])))}}parseCmd(t,e){if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;const s=20===t||21===t||23===t?1:2,i=this.channels[s];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),this.currentChannel=s,!0}parseMidrow(t,e){let s=0;if((17===t||25===t)&&e>=32&&e<=47){if(s=17===t?1:2,s!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[s];return!!i&&(i.ccMIDROW(e),this.logger.log(3,(()=>"MIDROW ("+JT([t,e])+")")),!0)}return!1}parsePAC(t,e){let s;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;const i=t<=23?1:2;s=e>=64&&e<=95?1===i?zT[t]:KT[t]:1===i?HT[t]:qT[t];const r=this.channels[i];return!!r&&(r.setPAC(this.interpretPAC(s,e)),this.currentChannel=i,!0)}interpretPAC(t,e){let s;const i={color:null,italics:!1,indent:null,underline:!1,row:t};return s=e>95?e-96:e-64,i.underline=1==(1&s),s<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(s/2)]:s<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((s-16)/2),i}parseChars(t,e){let s,i=null,r=null;if(t>=25?(s=2,r=t-8):(s=1,r=t),r>=17&&r<=19){let t;t=17===r?e+80:18===r?e+112:e+144,this.logger.log(2,(()=>"Special char '"+VT(t)+"' in channel "+s)),i=[t]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);return i&&this.logger.log(3,(()=>"Char codes =  "+JT(i).join(","))),i}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;let s;const i={};16===t||24===t?(s=Math.floor((e-32)/2),i.background=YT[s],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0));const r=t<=23?1:2;return this.channels[r].setBkgData(i),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}iI(null,null,this.cmdHistory)}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const s=this.channels[e];s&&s.cueSplitAtTime(t)}}}function iI(t,e,s){s.a=t,s.b=e}function rI(t,e,s){return s.a===t&&s.b===e}var nI=function(){if(null!=Vb&&Vb.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function s(t,e){if("string"!=typeof e)return!1;if(!Array.isArray(t))return!1;const s=e.toLowerCase();return!!~t.indexOf(s)&&s}function i(t){return s(e,t)}function r(t,...e){let s=1;for(;s<arguments.length;s++){const e=arguments[s];for(const s in e)t[s]=e[s]}return t}function n(e,n,o){const a=this,h={enumerable:!0};a.hasBeenReset=!1;let l="",c=!1,d=e,u=n,p=o,f=null,m="",g=!0,y="auto",A="start",v=50,b="middle",S=50,E="middle";Object.defineProperty(a,"id",r({},h,{get:function(){return l},set:function(t){l=""+t}})),Object.defineProperty(a,"pauseOnExit",r({},h,{get:function(){return c},set:function(t){c=!!t}})),Object.defineProperty(a,"startTime",r({},h,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",r({},h,{get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",r({},h,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",r({},h,{get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",r({},h,{get:function(){return m},set:function(e){const i=function(e){return s(t,e)}(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",r({},h,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",r({},h,{get:function(){return y},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",r({},h,{get:function(){return A},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",r({},h,{get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",r({},h,{get:function(){return b},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",r({},h,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",r({},h,{get:function(){return E},set:function(t){const e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");E=e,this.hasBeenReset=!0}})),a.displayState=void 0}return n.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},n}();class oI{decode(t,e){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function aI(t){function e(t,e,s,i){return 3600*(0|t)+60*(0|e)+(0|s)+parseFloat(i||0)}const s=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return s?parseFloat(s[2])>59?e(s[2],s[3],0,s[4]):e(s[1],s[2],s[3],s[4]):null}class hI{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,s){return s?this.has(t)?this.values[t]:e[s]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,s){for(let i=0;i<s.length;++i)if(e===s[i]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const s=parseFloat(e);if(s>=0&&s<=100)return this.set(t,s),!0}return!1}}function lI(t,e,s,i){const r=i?t.split(i):[t];for(const t in r){if("string"!=typeof r[t])continue;const i=r[t].split(s);if(2!==i.length)continue;e(i[0],i[1])}}const cI=new nI(0,0,""),dI="middle"===cI.align?"middle":"center";function uI(t,e,s){const i=t;function r(){const e=aI(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function n(){t=t.replace(/^\s+/,"")}if(n(),e.startTime=r(),n(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.slice(3),n(),e.endTime=r(),n(),function(t,e){const i=new hI;lI(t,(function(t,e){let r;switch(t){case"region":for(let r=s.length-1;r>=0;r--)if(s[r].id===e){i.set(t,s[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":r=e.split(","),i.integer(t,r[0]),i.percent(t,r[0])&&i.set("snapToLines",!1),i.alt(t,r[0],["auto"]),2===r.length&&i.alt("lineAlign",r[1],["start",dI,"end"]);break;case"position":r=e.split(","),i.percent(t,r[0]),2===r.length&&i.alt("positionAlign",r[1],["start",dI,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",dI,"end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");let r=i.get("line","auto");"auto"===r&&-1===cI.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",dI);let n=i.get("position","auto");"auto"===n&&50===cI.position&&(n="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=n}(t,e)}function pI(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class fI{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new oI,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function s(){let t=e.buffer,s=0;for(t=pI(t);s<t.length&&"\r"!==t[s]&&"\n"!==t[s];)++s;const i=t.slice(0,s);return"\r"===t[s]&&++s,"\n"===t[s]&&++s,e.buffer=t.slice(s),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=s();const i=t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let i=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:t=s(),e.state){case"HEADER":/:/.test(t)?lI(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new nI(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{uI(t,e.cue,e.regionList)}catch(t){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const s=-1!==t.indexOf("--\x3e");if(!t||s&&(i=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(t){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const mI=/\r\n|\n\r|\n|\r/g,gI=function(t,e,s=0){return t.slice(s,s+e.length)===e};function yI(t,e,s){return IT(t.toString())+IT(e.toString())+IT(s)}function AI(t,e,s,i,r,n,o){const a=new fI,h=uA(new Uint8Array(t)).trim().replace(mI,"\n").split("\n"),l=[],c=e?function(t,e=1){return lw(t,9e4,1/e)}(e.baseTime,e.timescale):0;let d,u="00:00.000",p=0,f=0,m=!0;a.oncue=function(t){const n=s[i];let o=s.ccOffset;const a=(p-c)/9e4;if(null!=n&&n.new&&(void 0!==f?o=s.ccOffset=n.start:function(t,e,s){let i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;null!=(n=r)&&n.new;){var n;t.ccOffset+=i.start-r.start,i.new=!1,i=r,r=t[i.prevCC]}t.presentationOffset=s}(s,i,a)),a){if(!e)return void(d=new Error("Missing initPTS for VTT MPEGTS"));o=a-s.presentationOffset}const h=t.endTime-t.startTime,u=gw(9e4*(t.startTime+o-f),9e4*r)/9e4;t.startTime=Math.max(u,0),t.endTime=Math.max(u+h,0);const m=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(m)),t.id||(t.id=yI(t.startTime,t.endTime,m)),t.endTime>0&&l.push(t)},a.onparsingerror=function(t){d=t},a.onflush=function(){d?o(d):n(l)},h.forEach((t=>{if(m){if(gI(t,"X-TIMESTAMP-MAP=")){m=!1,t.slice(16).split(",").forEach((t=>{gI(t,"LOCAL:")?u=t.slice(6):gI(t,"MPEGTS:")&&(p=parseInt(t.slice(7)))}));try{f=function(t){let e=parseInt(t.slice(-3));const s=parseInt(t.slice(-6,-4)),i=parseInt(t.slice(-9,-7)),r=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!(Oy(e)&&Oy(s)&&Oy(i)&&Oy(r)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*s,e+=6e4*i,e+=36e5*r,e}(u)/1e3}catch(t){d=t}return}""===t&&(m=!1)}a.parse(t+"\n")})),a.flush()}const vI="stpp.ttml.im1t",bI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,SI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,EI={left:"start",center:"center",right:"end",start:"start",end:"end"};function wI(t,e,s,i){const r=FA(new Uint8Array(t),["mdat"]);if(0===r.length)return void i(new Error("Could not parse IMSC1 mdat"));const n=r.map((t=>uA(t))),o=function(t,e,s=1,i=!1){return lw(t,e,1/s,i)}(e.baseTime,1,e.timescale);try{n.forEach((t=>s(function(t,e){const s=new DOMParser,i=s.parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},n=Object.keys(r).reduce(((t,e)=>(t[e]=i.getAttribute(`ttp:${e}`)||r[e],t)),{}),o="preserve"!==i.getAttribute("xml:space"),a=II(TI(i,"styling","style")),h=II(TI(i,"layout","region")),l=TI(i,"body","[begin]");return[].map.call(l,(t=>{const s=kI(t,o);if(!s||!t.hasAttribute("begin"))return null;const i=DI(t.getAttribute("begin"),n),r=DI(t.getAttribute("dur"),n);let l=DI(t.getAttribute("end"),n);if(null===i)throw CI(t);if(null===l){if(null===r)throw CI(t);l=i+r}const c=new nI(i-e,l-e,s);c.id=yI(c.startTime,c.endTime,c.text);const d=function(t,e,s){const i="http://www.w3.org/ns/ttml#styling";let r=null;const n=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;o&&s.hasOwnProperty(o)&&(r=s[o]);return n.reduce(((s,n)=>{const o=_I(e,i,n)||_I(t,i,n)||_I(r,i,n);return o&&(s[n]=o),s}),{})}(h[t.getAttribute("region")],a[t.getAttribute("style")],a),{textAlign:u}=d;if(u){const t=EI[u];t&&(c.lineAlign=t),c.align=u}return tA(c,d),c})).filter((t=>null!==t))}(t,o))))}catch(t){i(t)}}function TI(t,e,s){const i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(s)):[]}function II(t){return t.reduce(((t,e)=>{const s=e.getAttribute("xml:id");return s&&(t[s]=e),t}),{})}function kI(t,e){return[].slice.call(t.childNodes).reduce(((t,s,i)=>{var r;return"br"===s.nodeName&&i?t+"\n":null!=(r=s.childNodes)&&r.length?kI(s,e):e?t+s.textContent.trim().replace(/\s+/g," "):t+s.textContent}),"")}function _I(t,e,s){return t&&t.hasAttributeNS(e,s)?t.getAttributeNS(e,s):null}function CI(t){return new Error(`Could not parse ttml timestamp ${t}`)}function DI(t,e){if(!t)return null;let s=aI(t);return null===s&&(bI.test(t)?s=function(t,e){const s=bI.exec(t),i=(0|s[4])+(0|s[5])/e.subFrameRate;return 3600*(0|s[1])+60*(0|s[2])+(0|s[3])+i/e.frameRate}(t,e):SI.test(t)&&(s=function(t,e){const s=SI.exec(t),i=Number(s[1]);switch(s[2]){case"h":return 3600*i;case"m":return 60*i;case"ms":return 1e3*i;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}(t,e))),s}class RI{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,s){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=s,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}function LI(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function PI(t,e){return!!t&&t.kind===LI(e)&&Pw(e,t)}const xI=/\s/,MI={newCue(t,e,s,i){const r=[];let n,o,a,h,l;const c=self.VTTCue||self.TextTrackCue;for(let u=0;u<i.rows.length;u++)if(n=i.rows[u],a=!0,h=0,l="",!n.isEmpty()){var d;for(let t=0;t<n.chars.length;t++)xI.test(n.chars[t].uchar)&&a?h++:(l+=n.chars[t].uchar,a=!1);n.cueStartTime=e,e===s&&(s+=1e-4),h>=16?h--:h++;const i=pI(l.trim()),p=yI(e,s,i);null!=t&&null!=(d=t.cues)&&d.getCueById(p)||(o=new c(e,s,i),o.id=p,o.line=u+1,o.align="left",o.position=10+Math.min(80,10*Math.floor(8*h/32)),r.push(o))}return t&&r.length&&(r.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),r.forEach((e=>ST(t,e)))),r}};const BI=/(\d+)-(\d+)\/(\d+)/;class FI{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||UI,this.controller=new self.AbortController,this.stats=new AA}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,s){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const r=function(t,e){const s={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(tA({},t.headers))};t.rangeEnd&&s.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return s}(t,this.controller.signal),n="arraybuffer"===t.responseType,o=n?"byteLength":"length",{maxTimeToFirstByteMs:a,maxLoadTimeMs:h}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=s,this.request=this.fetchSetup(t,r),self.clearTimeout(this.requestTimeout),e.timeout=a&&Oy(a)?a:h,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,t,this.response))}),e.timeout);(Tw(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then((s=>{var r;this.response=this.loader=s;const o=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=h,this.requestTimeout=self.setTimeout((()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,t,this.response))}),h-(o-i.loading.start)),!s.ok){const{status:t,statusText:e}=s;throw new OI(e||"fetch, bad network response",t,s)}i.loading.first=o,i.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=BI.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(Oy(t))return t}const s=t.get("Content-Length");if(s)return parseInt(s)}(s.headers)||i.total;const a=null==(r=this.callbacks)?void 0:r.onProgress;return a&&Oy(e.highWaterMark)?this.loadProgressively(s,i,t,e.highWaterMark,a):n?s.arrayBuffer():"json"===t.responseType?s.json():s.text()})).then((s=>{var r,n;const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=s[o];h&&(i.loaded=i.total=h);const l={url:a.url,data:s,code:a.status},c=null==(r=this.callbacks)?void 0:r.onProgress;c&&!Oy(e.highWaterMark)&&c(i,t,s,a),null==(n=this.callbacks)||n.onSuccess(l,i,t,a)})).catch((e=>{var s;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const r=e&&e.code||0,n=e?e.message:null;null==(s=this.callbacks)||s.onError({code:r,text:n},t,e?e.details:null,i)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,s,i=0,r){const n=new tE,o=t.body.getReader(),a=()=>o.read().then((o=>{if(o.done)return n.dataLength&&r(e,s,n.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));const h=o.value,l=h.length;return e.loaded+=l,l<i||n.dataLength?(n.push(h),n.dataLength>=i&&r(e,s,n.flush().buffer,t)):r(e,s,h.buffer,t),a()})).catch((()=>Promise.reject()));return a()}}function UI(t,e){return new self.Request(t.url,e)}class OI extends Error{constructor(t,e,s){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=s}}const NI=/^age:\s*[\d.]+\s*$/im;class jI{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new AA,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,s){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=s,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const s=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const r=this.xhrSetup;r?Promise.resolve().then((()=>{if(this.loader===s&&!this.stats.aborted)return r(s,e.url)})).catch((t=>{if(this.loader===s&&!this.stats.aborted)return s.open("GET",e.url,!0),r(s,e.url)})).then((()=>{this.loader!==s||this.stats.aborted||this.openAndSendXhr(s,e,t)})).catch((t=>{var r;null==(r=this.callbacks)||r.onError({code:s.status,text:t.message},e,s,i)})):this.openAndSendXhr(s,e,t)}openAndSendXhr(t,e,s){t.readyState||t.open("GET",e.url,!0);const i=e.headers,{maxTimeToFirstByteMs:r,maxLoadTimeMs:n}=s.loadPolicy;if(i)for(const e in i)t.setRequestHeader(e,i[e]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),s.timeout=r&&Oy(r)?r:n,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:s}=this;if(!t||!e)return;const i=e.readyState,r=this.config;if(!s.aborted&&i>=2&&(0===s.loading.first&&(s.loading.first=Math.max(self.performance.now(),s.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(s.loading.first-s.loading.start)))),4===i)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const i=e.status,h="text"===e.responseType?e.responseText:null;if(i>=200&&i<300){const r=null!=h?h:e.response;if(null!=r){var n,o;s.loading.end=Math.max(self.performance.now(),s.loading.first);const a="arraybuffer"===e.responseType?r.byteLength:r.length;s.loaded=s.total=a,s.bwEstimate=8e3*s.total/(s.loading.end-s.loading.first);const h=null==(n=this.callbacks)?void 0:n.onProgress;h&&h(s,t,r,e);const l={url:e.responseURL,data:r,code:i};return void(null==(o=this.callbacks)||o.onSuccess(l,s,t,e))}}const l=r.loadPolicy.errorRetry;var a;if(qv(l,s.retry,!1,{url:t.url,data:void 0,code:i}))this.retry(l);else lA.error(`${i} while loading ${t.url}`),null==(a=this.callbacks)||a.onError({code:i,text:e.statusText},t,e,s)}}loadtimeout(){if(!this.config)return;const t=this.config.loadPolicy.timeoutRetry;if(qv(t,this.stats.retry,!0))this.retry(t);else{var e;lA.warn(`timeout while loading ${null==(e=this.context)?void 0:e.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:s}=this;this.retryDelay=Hv(t,s.retry),s.retry++,lA.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${s.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&NI.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const VI=sA(sA({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:jI,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class extends iA{constructor(t){super("abr",t.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var e;const{fragCurrent:s,partCurrent:i,hls:r}=this,{autoLevelEnabled:n,media:o}=r;if(!s||!o)return;const a=performance.now(),h=i?i.stats:s.stats,l=i?i.duration:s.duration,c=a-h.loading.start,d=r.minAutoLevel,u=s.level,p=this._nextAutoLevel;if(h.aborted||h.loaded&&h.loaded===h.total||u<=d)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!n)return;const f=p>-1&&p!==u,m=!!t||f;if(!m&&(o.paused||!o.playbackRate||!o.readyState))return;const g=r.mainForwardBufferInfo;if(!m&&null===g)return;const y=this.bwEstimator.getEstimateTTFB(),A=Math.abs(o.playbackRate);if(c<=Math.max(y,l/(2*A)*1e3))return;const v=g?g.len/A:0,b=h.loading.first?h.loading.first-h.loading.start:-1,S=h.loaded&&b>-1,E=this.getBwEstimate(),w=r.levels,T=w[u],I=Math.max(h.loaded,Math.round(l*(s.bitrate||T.averageBitrate)/8));let k=S?c-b:c;k<1&&S&&(k=Math.min(c,8*h.loaded/E));const _=S?1e3*h.loaded/k:0,C=y/1e3,D=_?(I-h.loaded)/_:8*I/E+C;if(D<=v)return;const R=_?8*_:E,L=!0===(null==(e=(null==t?void 0:t.details)||this.hls.latestLevelDetails)?void 0:e.live),P=this.hls.config.abrBandWidthUpFactor;let x,M=Number.POSITIVE_INFINITY;for(x=u-1;x>d;x--){const t=w[x].maxBitrate,e=!w[x].details||L;if(M=this.getTimeToLoadFrag(C,R,l*t,e),M<Math.min(v,l+C))break}if(M>=D)return;if(M>10*l)return;S?this.bwEstimator.sample(c-Math.min(y,b),h.loaded):this.bwEstimator.sampleTTFB(c);const B=w[x].maxBitrate;this.getBwEstimate()*P>B&&this.resetEstimator(B);const F=this.findBestLevel(B,d,x,0,v,1,1);F>-1&&(x=F),this.warn(`Fragment ${s.sn}${i?" part "+i.index:""} of level ${u} is loading too slowly;\n      Fragment duration: ${s.duration.toFixed(3)}\n      Time to underbuffer: ${v.toFixed(3)} s\n      Estimated load time for current fragment: ${D.toFixed(3)} s\n      Estimated load time for down switch fragment: ${M.toFixed(3)} s\n      TTFB estimate: ${0|b} ms\n      Current BW estimate: ${Oy(E)?0|E:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${x} @ ${0|B} bps`),r.nextLoadLevel=r.nextAutoLevel=x,this.clearTimer();const U=()=>{if(this.clearTimer(),this.fragCurrent===s&&this.hls.loadLevel===x&&x>0){const t=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${x>0?"and switching down":""}\n      Fragment duration: ${s.duration.toFixed(3)} s\n      Time to underbuffer: ${t.toFixed(3)} s`),s.abortRequests(),this.fragCurrent=this.partCurrent=null,x>d){let e=this.findBestLevel(this.hls.levels[d].bitrate,d,x,0,t,1,1);-1===e&&(e=d),this.hls.nextLoadLevel=this.hls.nextAutoLevel=e,this.resetEstimator(this.hls.levels[e].bitrate)}}};f||D>2*M?U():this.timer=self.setInterval(U,1e3*M),r.trigger(Gy.FRAG_LOAD_EMERGENCY_ABORTED,{frag:s,part:i,stats:h})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(this.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new $y(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.FRAG_LOADING,this.onFragLoading,this),t.on(Gy.FRAG_LOADED,this.onFragLoaded,this),t.on(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Gy.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.FRAG_LOADING,this.onFragLoading,this),t.off(Gy.FRAG_LOADED,this.onFragLoaded,this),t.off(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Gy.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(Gy.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const s=e.frag;if(!this.ignoreFragment(s)){var i;if(!s.bitrateTest)this.fragCurrent=s,this.partCurrent=null!=(i=e.part)?i:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case Wy.BUFFER_ADD_CODEC_ERROR:case Wy.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Wy.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:s,partCurrent:i}=this;if(t&&s&&t.sn===s.sn&&t.level===s.level){const e=performance.now(),s=i?i.stats:t.stats,r=e-s.loading.start,n=s.loading.first?s.loading.first-s.loading.start:-1;if(s.loaded&&n>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(r-Math.min(t,n),s.loaded)}else this.bwEstimator.sampleTTFB(r)}break}}}getTimeToLoadFrag(t,e,s,i){return t+s/e+(i?t+this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const s=this.hls.config,{loading:i}=e.stats,r=i.end-i.first;Oy(r)&&(this.lastLevelLoadSec=r/1e3),e.details.live?this.bwEstimator.update(s.abrEwmaSlowLive,s.abrEwmaFastLive):this.bwEstimator.update(s.abrEwmaSlowVoD,s.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(e.levelInfo)}onFragLoaded(t,{frag:e,part:s}){const i=s?s.stats:e.stats;if(e.type===Yy&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=s?s.duration:e.duration,r=this.hls.levels[e.level],n=(r.loaded?r.loaded.bytes:0)+i.loaded,o=(r.loaded?r.loaded.duration:0)+t;r.loaded={bytes:n,duration:o},r.realBitrate=Math.round(8*n/o)}if(e.bitrateTest){const t={stats:i,frag:e,part:s,id:e.type};this.onFragBuffered(Gy.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:s,part:i}=e,r=null!=i&&i.stats.loaded?i.stats:s.stats;if(r.aborted)return;if(this.ignoreFragment(s))return;const n=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(n,r.loaded),r.bwEstimate=this.getBwEstimate(),s.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==Yy||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,s=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,r=this.findBestLevel(s,e,t,0,i,1,1);if(r>-1)return r;const n=this.hls.firstLevel,o=Math.min(Math.max(n,e),t);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${n} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(!(-1===t||e&&s&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;const i=e&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,i)&&e[t].loadError<=e[i].loadError)return t}return this._nextAutoLevel=i,this.nextAutoLevelKey=this.getAutoLevelKey(),i}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:s}=this;if(s.levels.length<=1)return s.loadLevel;const{maxAutoLevel:i,config:r,minAutoLevel:n}=s,o=e?e.duration:t?t.duration:0,a=this.getBwEstimate(),h=this.getStarvationDelay();let l=r.abrBandWidthFactor,c=r.abrBandWidthUpFactor;if(h){const t=this.findBestLevel(a,n,i,h,0,l,c);if(t>=0)return this.rebufferNotice=-1,t}let d=o?Math.min(o,r.maxStarvationDelay):r.maxStarvationDelay;if(!h){const t=this.bitrateTestDelay;if(t){d=(o?Math.min(o,r.maxLoadingDelay):r.maxLoadingDelay)-t,this.info(`bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),l=c=1}}const u=this.findBestLevel(a,n,i,h,d,l,c);if(this.rebufferNotice!==u&&(this.rebufferNotice=u,this.info(`${h?"rebuffering expected":"buffer is empty"}, optimal quality level ${u}`)),u>-1)return u;const p=s.levels[n],f=s.loadLevelObj;return f&&(null==p?void 0:p.bitrate)<f.bitrate?n:s.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const s=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,i=t.mainForwardBufferInfo;return(i?i.len:0)/s}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,s,i,r,n,o){var a;const h=i+r,l=this.lastLoadedFragLevel,c=-1===l?this.hls.firstLevel:l,{fragCurrent:d,partCurrent:u}=this,{levels:p,allAudioTracks:f,loadLevel:m,config:g}=this.hls;if(1===p.length)return 0;const y=p[c],A=!(null==(a=this.hls.latestLevelDetails)||!a.live),v=-1===m||-1===l;let b,S="SDR",E=(null==y?void 0:y.frameRate)||0;const{audioPreference:w,videoPreference:T}=g,I=this.audioTracksByGroup||(this.audioTracksByGroup=Lv(f));let k=-1;if(v){if(-1!==this.firstSelection)return this.firstSelection;const i=this.codecTiers||(this.codecTiers=function(t,e,s,i){return t.slice(s,i+1).reduce(((t,s,i)=>{if(!s.codecSet)return t;const r=s.audioGroups;let n=t[s.codecSet];n||(t[s.codecSet]=n={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:i,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),n.minBitrate=Math.min(n.minBitrate,s.bitrate);const o=Math.min(s.height,s.width);return n.minHeight=Math.min(n.minHeight,o),n.minFramerate=Math.min(n.minFramerate,s.frameRate),n.minIndex=Math.min(n.minIndex,i),n.maxScore=Math.max(n.maxScore,s.score),n.fragmentError+=s.fragmentError,n.videoRanges[s.videoRange]=(n.videoRanges[s.videoRange]||0)+1,r&&r.forEach((t=>{if(!t)return;const s=e.groups[t];s&&(n.hasDefaultAudio=n.hasDefaultAudio||e.hasDefaultAudio?s.hasDefault:s.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(s.channels).forEach((t=>{n.channels[t]=(n.channels[t]||0)+s.channels[t]})))})),t}),{})}(p,I,e,s)),r=function(t,e,s,i,r){const n=Object.keys(t),o=null==i?void 0:i.channels,a=null==i?void 0:i.audioCodec,h=null==r?void 0:r.videoCodec,l=o&&2===parseInt(o);let c=!1,d=!1,u=1/0,p=1/0,f=1/0,m=1/0,g=0,y=[];const{preferHDR:A,allowedVideoRanges:v}=Cv(e,r);for(let e=n.length;e--;){const s=t[n[e]];c||(c=s.channels[2]>0),u=Math.min(u,s.minHeight),p=Math.min(p,s.minFramerate),f=Math.min(f,s.minBitrate);const i=v.filter((t=>s.videoRanges[t]>0));i.length>0&&(d=!0)}u=Oy(u)?u:0,p=Oy(p)?p:0;const b=Math.max(1080,u),S=Math.max(30,p);f=Oy(f)?f:s,s=Math.max(f,s),d||(e=void 0);const E=n.length>1,w=n.reduce(((e,i)=>{const r=t[i];if(i===e)return e;if(y=d?v.filter((t=>r.videoRanges[t]>0)):[],E){if(r.minBitrate>s)return Rv(i,`min bitrate of ${r.minBitrate} > current estimate of ${s}`),e;if(!r.hasDefaultAudio)return Rv(i,"no renditions with default or auto-select sound found"),e;if(a&&i.indexOf(a.substring(0,4))%5!=0)return Rv(i,`audio codec preference "${a}" not found`),e;if(o&&!l){if(!r.channels[o])return Rv(i,`no renditions with ${o} channel sound found (channels options: ${Object.keys(r.channels)})`),e}else if((!a||l)&&c&&0===r.channels[2])return Rv(i,"no renditions with stereo sound found"),e;if(r.minHeight>b)return Rv(i,`min resolution of ${r.minHeight} > maximum of ${b}`),e;if(r.minFramerate>S)return Rv(i,`min framerate of ${r.minFramerate} > maximum of ${S}`),e;if(!y.some((t=>r.videoRanges[t]>0)))return Rv(i,`no variants with VIDEO-RANGE of ${Dv(y)} found`),e;if(h&&i.indexOf(h.substring(0,4))%5!=0)return Rv(i,`video codec preference "${h}" not found`),e;if(r.maxScore<g)return Rv(i,`max score of ${r.maxScore} < selected max of ${g}`),e}return e&&(ov(i)>=ov(e)||r.fragmentError>t[e].fragmentError)?e:(m=r.minIndex,g=r.maxScore,i)}),void 0);return{codecSet:w,videoRanges:y,preferHDR:A,minFramerate:p,minBitrate:f,minIndex:m}}(i,S,t,w,T),{codecSet:n,videoRanges:o,minFramerate:a,minBitrate:h,minIndex:l,preferHDR:c}=r;k=l,b=n,S=c?o[o.length-1]:o[0],E=a,t=Math.max(t,h),this.log(`picked start tier ${Dv(r)}`)}else b=null==y?void 0:y.codecSet,S=null==y?void 0:y.videoRange;const _=u?u.duration:d?d.duration:0,C=this.bwEstimator.getEstimateTTFB()/1e3,D=[];for(let a=s;a>=e;a--){var R;const e=p[a],d=a>c;if(!e)continue;if(g.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const s=navigator.mediaCapabilities;"function"==typeof(null==s?void 0:s.decodingInfo)&&(yv(e,I,S,E,t,w)||qA(e.videoCodec))?(e.supportedPromise=Av(e,I,s),e.supportedPromise.then((t=>{if(!this.hls)return;e.supportedResult=t;const s=this.hls.levels,i=s.indexOf(e);t.error?this.warn(`MediaCapabilities decodingInfo error: "${t.error}" for level ${i} ${Dv(t)}`):t.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${i} ${Dv(t)}`),i>-1&&s.length>1&&(this.log(`Removing unsupported level ${i}`),this.hls.removeLevel(i),-1===this.hls.loadLevel&&(this.hls.nextLoadLevel=0)))}))):e.supportedResult=fv}if((b&&e.codecSet!==b||S&&e.videoRange!==S||d&&E>e.frameRate||!d&&E>0&&E<e.frameRate||e.supportedResult&&(null==(R=e.supportedResult.decodingInfoResults)||!R[0].smooth))&&(!v||a!==k)){D.push(a);continue}const f=e.details,y=(u?null==f?void 0:f.partTarget:null==f?void 0:f.averagetargetduration)||_;let T;T=d?o*t:n*t;const L=_&&i>=2*_&&0===r?e.averageBitrate:e.maxBitrate,P=this.getTimeToLoadFrag(C,T,L*y,void 0===f);if(T>=L&&(a===l||0===e.loadError&&0===e.fragmentError)&&(P<=C||!Oy(P)||A&&!this.bitrateTestDelay||P<h)){const t=this.forcedAutoLevel;return a===m||-1!==t&&t===m||(D.length&&this.trace(`Skipped level(s) ${D.join(",")} of ${s} max with CODECS and VIDEO-RANGE:"${p[D[0]].codecs}" ${p[D[0]].videoRange}; not compatible with "${b}" ${S}`),this.info(`switch candidate:${c}->${a} adjustedbw(${Math.round(T)})-bitrate=${Math.round(T-L)} ttfb:${C.toFixed(1)} avgDuration:${y.toFixed(1)} maxFetchDuration:${h.toFixed(1)} fetchDuration:${P.toFixed(1)} firstSelection:${v} codecSet:${e.codecSet} videoRange:${e.videoRange} hls.loadLevel:${m}`)),v&&(this.firstSelection=a),a}}return-1}set nextAutoLevel(t){const e=this.deriveNextAutoLevel(t);this._nextAutoLevel!==e&&(this.nextAutoLevelKey="",this._nextAutoLevel=e)}deriveNextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:s}=this.hls;return Math.min(Math.max(t,s),e)}},bufferController:class extends iA{constructor(t,e){var s;super("buffer-controller",t.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=t=>{var e;this.hls&&"open"===(null==(e=this.mediaSource)?void 0:e.readyState)&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=t=>{const{media:e,mediaSource:s}=this;t&&this.log("Media source opened"),e&&s&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Gy.MEDIA_ATTACHED,{media:e,mediaSource:s}),null!==this.mediaSource&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&this.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t,this.fragmentTracker=e,this.appendSource=(s=cA(t.config.preferManagedMediaSource),"undefined"!=typeof self&&s===self.ManagedMediaSource),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:t}=this;t.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.BUFFER_RESET,this.onBufferReset,this),t.on(Gy.BUFFER_APPENDING,this.onBufferAppending,this),t.on(Gy.BUFFER_CODECS,this.onBufferCodecs,this),t.on(Gy.BUFFER_EOS,this.onBufferEos,this),t.on(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Gy.FRAG_PARSED,this.onFragParsed,this),t.on(Gy.FRAG_CHANGED,this.onFragChanged,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.BUFFER_RESET,this.onBufferReset,this),t.off(Gy.BUFFER_APPENDING,this.onBufferAppending,this),t.off(Gy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Gy.BUFFER_EOS,this.onBufferEos,this),t.off(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Gy.FRAG_PARSED,this.onFragParsed,this),t.off(Gy.FRAG_CHANGED,this.onFragChanged,this),t.off(Gy.ERROR,this.onError,this)}transferMedia(){const{media:t,mediaSource:e}=this;if(!t)return null;const s={};if(this.operationQueue){const t=this.isUpdating();t||this.operationQueue.removeBlockers();const e=this.isQueued();(t||e)&&this.warn(`Transfering MediaSource with${e?" operations in queue":""}${t?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===e?tA(s,i.tracks):this.sourceBuffers.forEach((t=>{const[e]=t;e&&(s[e]=tA({},this.tracks[e]),this.removeBuffer(e)),t[0]=t[1]=null})),{media:t,mediaSource:e,tracks:s}}initTracks(){this.sourceBuffers=[[null,null],[null,null]],this.tracks={},this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){var s;let i=2;(e.audio&&!e.video||!e.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),null!=(s=this.transferData)&&s.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(t,e){const s=this.media=e.media,i=cA(this.appendSource);if(this.transferData=this.overrides=void 0,s&&i){const t=!!e.mediaSource;(t||e.overrides)&&(this.transferData=e,this.overrides=e.overrides);const r=this.mediaSource=e.mediaSource||new i;if(this.assignMediaSource(r),t)this._objectUrl=s.src,this.attachTransferred();else{const t=this._objectUrl=self.URL.createObjectURL(r);if(this.appendSource)try{s.removeAttribute("src");const e=self.ManagedMediaSource;s.disableRemotePlayback=s.disableRemotePlayback||e&&r instanceof e,Uw(s),function(t,e){const s=self.document.createElement("source");s.type="video/mp4",s.src=e,t.appendChild(s)}(s,t),s.load()}catch(e){s.src=t}else s.src=t}s.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(t){var e,s;this.log(`${(null==(e=this.transferData)?void 0:e.mediaSource)===t?"transferred":"created"} media source: ${null==(s=t.constructor)?void 0:s.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const t=this.media,e=this.transferData;if(!e||!t)return;const s=this.tracks,i=e.tracks,r=i?Object.keys(i):null,n=r?r.length:0,o=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&r&&n){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})\nrequired tracks: ${Dv(s,((t,e)=>"initSegment"===t?void 0:e))};\ntransfer tracks: ${Dv(i,((t,e)=>"initSegment"===t?void 0:e))}}`),!dA(i,s)){e.mediaSource=null,e.tracks=void 0;const r=t.currentTime,n=this.details,o=Math.max(r,(null==n?void 0:n.fragments[0].start)||0);return o-r>1?void this.log(`attachTransferred: waiting for playback to reach new tracks start time ${r} -> ${o}`):(this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(s)}") start time: ${o} currentTime: ${r}`),this.onMediaDetaching(Gy.MEDIA_DETACHING,{}),this.onMediaAttaching(Gy.MEDIA_ATTACHING,e),void(t.currentTime=o))}this.transferData=void 0,r.forEach((t=>{const e=t,s=i[e];if(s){const t=s.buffer;if(t){const i=this.fragmentTracker,r=s.id;if(i.hasFragments(r)||i.hasParts(r)){const s=Tb.getBuffered(t);i.detectEvictedFragments(e,s,r,null,!0)}const n=Ow(e),o=[e,t];this.sourceBuffers[n]=o,t.updating&&this.operationQueue&&this.operationQueue.prependBlocker(e),this.trackSourceBuffer(e,s)}}})),o(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),o()}get mediaSourceOpenOrEnded(){var t;const e=null==(t=this.mediaSource)?void 0:t.readyState;return"open"===e||"ended"===e}onMediaDetaching(t,e){const s=!!e.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:r,_objectUrl:n}=this;if(r){if(this.log("media source "+(s?"transferring":"detaching")),s)this.sourceBuffers.forEach((([t])=>{t&&this.removeBuffer(t)})),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const t="open"===r.readyState;try{const e=r.sourceBuffers;for(let s=e.length;s--;)t&&e[s].abort(),r.removeSourceBuffer(e[s]);t&&r.endOfStream()}catch(t){this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(r.removeEventListener("startstreaming",this._onStartStreaming),r.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),s||(n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(i.removeAttribute("src"),this.appendSource&&Uw(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Gy.MEDIA_DETACHED,e)}onBufferReset(){this.sourceBuffers.forEach((([t])=>{t&&this.resetBuffer(t)})),this.initTracks()}resetBuffer(t){var e;const s=null==(e=this.tracks[t])?void 0:e.buffer;if(this.removeBuffer(t),s)try{var i;null!=(i=this.mediaSource)&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(s)}catch(e){this.warn(`onBufferReset ${t}`,e)}delete this.tracks[t]}removeBuffer(t){this.removeBufferListeners(t),this.sourceBuffers[Ow(t)]=[null,null];const e=this.tracks[t];e&&(e.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new xw(this.tracks)}onBufferCodecs(t,e){const s=this.tracks,i=Object.keys(e);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const r="audiovideo"in e&&(s.audio||s.video)||s.audiovideo&&("audio"in e||"video"in e),n=!r&&this.sourceBufferCount&&this.media&&i.some((t=>!s[t]));r||n?this.warn(`Unsupported transition between "${Object.keys(s)}" and "${i}" SourceBuffers`):(i.forEach((t=>{var i,r,n;const o=e[t],{id:a,codec:h,levelCodec:l,container:c,metadata:d,supplemental:u}=o;let p=s[t];const f=null==(i=this.transferData)||null==(r=i.tracks)?void 0:r[t],m=null!=f&&f.buffer?f:p,g=(null==m?void 0:m.pendingCodec)||(null==m?void 0:m.codec),y=null==m?void 0:m.levelCodec;p||(p=s[t]={buffer:void 0,listeners:[],codec:h,supplemental:u,container:c,levelCodec:l,metadata:d,id:a});const A=cv(g,y),v=null==A?void 0:A.replace(Mw,"$1");let b=cv(h,l);const S=null==(n=b)?void 0:n.replace(Mw,"$1");b&&A&&v!==S&&("audio"===t.slice(0,5)&&(b=lv(b,this.appendSource)),this.log(`switching codec ${g} to ${b}`),b!==(p.pendingCodec||p.codec)&&(p.pendingCodec=b),p.container=c,this.appendChangeType(t,c,b))})),(this.tracksReady||this.sourceBufferCount)&&(e.tracks=this.sourceBufferTracks),this.sourceBufferCount||this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce(((t,e)=>{const s=this.tracks[e];return t[e]={id:s.id,container:s.container,codec:s.codec,levelCodec:s.levelCodec},t}),{})}appendChangeType(t,e,s){const i=`${e};codecs=${s}`,r={label:`change-type=${i}`,execute:()=>{const r=this.tracks[t];if(r){const n=r.buffer;null!=n&&n.changeType&&(this.log(`changing ${t} sourceBuffer type to ${i}`),n.changeType(i),r.codec=s,r.container=e)}this.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};this.append(r,t,this.isPending(this.tracks[t]))}blockAudio(t){var e;const s=t.start,i=s+.05*t.duration;if(!0===(null==(e=this.fragmentTracker.getAppendedFrag(s,Yy))?void 0:e.gap))return;const r={label:"block-audio",execute:()=>{var t;const e=this.tracks.video;(this.lastVideoAppendEnd>i||null!=e&&e.buffer&&Tb.isBuffered(e.buffer,i)||!0===(null==(t=this.fragmentTracker.getAppendedFrag(i,Yy))?void 0:t.gap))&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:t=>{this.warn("Error executing block-audio operation",t)}};this.blockedAudioAppend={op:r,frag:t},this.append(r,"audio",!0)}unblockAudio(){const{blockedAudioAppend:t,operationQueue:e}=this;t&&e&&(this.blockedAudioAppend=null,e.unblockAudio(t.op))}onBufferAppending(t,e){const{tracks:s}=this,{data:i,type:r,parent:n,frag:o,part:a,chunkMeta:h}=e,l=h.buffering[r],c=o.sn,d=self.performance.now();l.start=d;const u=o.stats.buffering,p=a?a.stats.buffering:null;0===u.start&&(u.start=d),p&&0===p.start&&(p.start=d);const f=s.audio;let m=!1;"audio"===r&&"audio/mpeg"===(null==f?void 0:f.container)&&(m=!this.lastMpegAudioChunk||1===h.id||this.lastMpegAudioChunk.sn!==h.sn,this.lastMpegAudioChunk=h);const g=this.tracks.video,y=null==g?void 0:g.buffer;if(y&&"initSegment"!==c){const t=a||o,e=this.blockedAudioAppend;if("audio"!==r||"main"===n||this.blockedAudioAppend){if("video"===r){const s=t.end;if(e){const t=e.frag.start;(s>t||s<this.lastVideoAppendEnd||Tb.isBuffered(y,t))&&this.unblockAudio()}this.lastVideoAppendEnd=s}}else{const e=t.start+.05*t.duration,s=y.buffered,i=this.currentOp("video");s.length||i?!i&&!Tb.isBuffered(y,e)&&this.lastVideoAppendEnd<e&&this.blockAudio(t):this.blockAudio(t)}}const A=(a||o).start,v={label:`append-${r}`,execute:()=>{if(l.executeStart=self.performance.now(),m){const t=this.tracks[r];if(t){const e=t.buffer;if(e){const t=A-e.timestampOffset;Math.abs(t)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${A} (delta: ${t}) sn: ${c})`),e.timestampOffset=A)}}}this.appendExecutor(i,r)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();l.executeEnd=l.end=t,0===u.first&&(u.first=t),p&&0===p.first&&(p.first=t);const e={};this.sourceBuffers.forEach((([t,s])=>{t&&(e[t]=Tb.getBuffered(s))})),this.appendErrors[r]=0,"audio"===r||"video"===r?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Gy.BUFFER_APPENDED,{type:r,frag:o,part:a,chunkMeta:h,parent:o.type,timeRanges:e})},onError:t=>{var e;const s={type:Vy.MEDIA_ERROR,parent:o.type,details:Wy.BUFFER_APPEND_ERROR,sourceBufferName:r,frag:o,part:a,chunkMeta:h,error:t,err:t,fatal:!1},i=null==(e=this.media)?void 0:e.error;if(t.code===DOMException.QUOTA_EXCEEDED_ERR)s.details=Wy.BUFFER_FULL_ERROR;else if(t.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!i)s.errorAction=eb(!0);else if(t.name===Bw&&0===this.sourceBufferCount)s.errorAction=eb(!0);else{const t=++this.appendErrors[r];this.warn(`Failed ${t}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${r}" sourceBuffer (${i||"no media error"})`),(t>=this.hls.config.appendErrorMaxRetry||i)&&(s.fatal=!0)}this.hls.trigger(Gy.ERROR,s)}};this.append(v,r,this.isPending(this.tracks[r]))}getFlushOp(t,e,s){return this.log(`queuing "${t}" remove ${e}-${s}`),{label:"remove",execute:()=>{this.removeExecutor(t,e,s)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Gy.BUFFER_FLUSHED,{type:t})},onError:i=>{this.warn(`Failed to remove ${e}-${s} from "${t}" SourceBuffer`,i)}}}onBufferFlushing(t,e){const{type:s,startOffset:i,endOffset:r}=e;s?this.append(this.getFlushOp(s,i,r),s):this.sourceBuffers.forEach((([t])=>{t&&this.append(this.getFlushOp(t,i,r),t)}))}onFragParsed(t,e){const{frag:s,part:i}=e,r=[],n=i?i.elementaryStreams:s.elementaryStreams;n[SA]?r.push("audiovideo"):(n[vA]&&r.push("audio"),n[bA]&&r.push("video"));0===r.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${s.type} level: ${s.level} sn: ${s.sn}`),this.blockBuffers((()=>{const t=self.performance.now();s.stats.buffering.end=t,i&&(i.stats.buffering.end=t);const e=i?i.stats:s.stats;this.hls.trigger(Gy.FRAG_BUFFERED,{frag:s,part:i,stats:e,id:s.type})}),r).catch((t=>{this.warn(`Fragment buffered callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}))}onFragChanged(t,e){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{var e,s;return t&&(!(null!=(e=this.tracks[t])&&e.ended)||(null==(s=this.tracks[t])?void 0:s.ending))}))}onBufferEos(t,e){var s;this.sourceBuffers.forEach((([t])=>{if(t){const s=this.tracks[t];e.type&&e.type!==t||(s.ending=!0,s.ended||(s.ended=!0,this.log(`${t} buffer reached EOS`)))}}));const i=!1!==(null==(s=this.overrides)?void 0:s.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some((([t])=>{var e;return t&&!(null!=(e=this.tracks[t])&&e.ended)}))&&(i?(this.log("Queueing EOS"),this.blockUntilOpen((()=>{this.tracksEnded();const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream(),this.hls.trigger(Gy.BUFFERED_TO_END,void 0)):t&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)}))):(this.tracksEnded(),this.hls.trigger(Gy.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach((([t])=>{if(null!==t){const e=this.tracks[t];e&&(e.ending=!1)}}))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.updateDuration())}updateDuration(){const t=this.getDurationAndRange();t&&this.blockUntilOpen((()=>this.updateMediaSource(t)))}onError(t,e){if(e.details===Wy.BUFFER_APPEND_ERROR&&e.frag){var s;const t=null==(s=e.errorAction)?void 0:s.nextAutoLevel;Oy(t)&&t!==e.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:t,details:e,media:s}=this;if(!s||null===e)return;if(!this.sourceBufferCount)return;const i=t.config,r=s.currentTime,n=e.levelTargetDuration,o=e.live&&null!==i.liveBackBufferLength?i.liveBackBufferLength:i.backBufferLength;if(Oy(o)&&o>=0){const t=Math.max(o,n),e=Math.floor(r/n)*n-t;this.flushBackBuffer(r,n,e)}if(Oy(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const t=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),e=Math.max(t,n),s=Math.floor(r/n)*n+e;this.flushFrontBuffer(r,n,s)}}flushBackBuffer(t,e,s){this.sourceBuffers.forEach((([t,e])=>{if(e){const r=Tb.getBuffered(e);if(r.length>0&&s>r.start(0)){var i;this.hls.trigger(Gy.BACK_BUFFER_REACHED,{bufferEnd:s});const e=this.tracks[t];if(null!=(i=this.details)&&i.live)this.hls.trigger(Gy.LIVE_BACK_BUFFER_REACHED,{bufferEnd:s});else if(null!=e&&e.ended)return void this.log(`Cannot flush ${t} back buffer while SourceBuffer is in ended state`);this.hls.trigger(Gy.BUFFER_FLUSHING,{startOffset:0,endOffset:s,type:t})}}}))}flushFrontBuffer(t,e,s){this.sourceBuffers.forEach((([e,i])=>{if(i){const r=Tb.getBuffered(i),n=r.length;if(n<2)return;const o=r.start(n-1),a=r.end(n-1);if(s>o||t>=o&&t<=a)return;this.hls.trigger(Gy.BUFFER_FLUSHING,{startOffset:o,endOffset:1/0,type:e})}}))}getDurationAndRange(){var t;const{details:e,mediaSource:s}=this;if(!e||!this.media||"open"!==(null==s?void 0:s.readyState))return null;const i=e.edge;if(e.live&&this.hls.config.liveDurationInfinity){if(e.fragments.length&&e.live&&s.setLiveSeekableRange){const t=Math.max(0,e.fragmentStart);return{duration:1/0,start:t,end:Math.max(t,i)}}return{duration:1/0}}const r=null==(t=this.overrides)?void 0:t.duration;if(r)return Oy(r)?{duration:r}:null;const n=this.media.duration;return i>(Oy(s.duration)?s.duration:0)&&i>n||!Oy(n)?{duration:i}:null}updateMediaSource({duration:t,start:e,end:s}){const i=this.mediaSource;this.media&&i&&"open"===i.readyState&&(i.duration!==t&&(Oy(t)&&this.log(`Updating MediaSource duration to ${t.toFixed(3)}`),i.duration=t),void 0!==e&&void 0!==s&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${e}-${s}.`),i.setLiveSeekableRange(e,s)))}get tracksReady(){const t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:t,pendingTrackCount:e,tracks:s}=this;if(this.log(`checkPendingTracks (pending: ${e} codec events expected: ${t}) ${Dv(s)}`),this.tracksReady){var i;const t=null==(i=this.transferData)?void 0:i.tracks;t&&Object.keys(t).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const t={};this.sourceBuffers.forEach((([e,s])=>{if(e){const i=this.tracks[e];t[e]={buffer:s,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}})),this.hls.trigger(Gy.BUFFER_CREATED,{tracks:t}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach((([t])=>{this.executeNext(t)}))}else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}createSourceBuffers(){const{tracks:t,sourceBuffers:e,mediaSource:s}=this;if(!s)throw new Error("createSourceBuffers called when mediaSource was null");for(const r in t){const n=r,o=t[n];if(this.isPending(o)){const t=this.getTrackCodec(o,n),r=`${o.container};codecs=${t}`;o.codec=t,this.log(`creating sourceBuffer(${r})${this.currentOp(n)?" Queued":""} ${Dv(o)}`);try{const t=s.addSourceBuffer(r),i=Ow(n),a=[n,t];e[i]=a,o.buffer=t}catch(t){var i;return this.error(`error while trying to add sourceBuffer: ${t.message}`),this.shiftAndExecuteNext(n),null==(i=this.operationQueue)||i.removeBlockers(),delete this.tracks[n],void this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:n,mimeType:r,parent:o.id})}this.trackSourceBuffer(n,o)}}this.bufferCreated()}getTrackCodec(t,e){const s=t.supplemental;let i=t.codec;s&&("video"===e||"audiovideo"===e)&&sv(s,"video")&&(i=function(t,e){const s=[];if(t){const e=t.split(",");for(let t=0;t<e.length;t++)ev(e[t],"video")||s.push(e[t])}return e&&s.push(e),s.join(",")}(i,s));const r=cv(i,t.levelCodec);return r?"audio"===e.slice(0,5)?lv(r,this.appendSource):r:""}trackSourceBuffer(t,e){const s=e.buffer;if(!s)return;const i=this.getTrackCodec(e,t);this.tracks[t]={buffer:s,codec:i,container:e.container,levelCodec:e.levelCodec,supplemental:e.supplemental,metadata:e.metadata,id:e.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",((t,e)=>{const s=e.removedRanges;null!=s&&s.length&&this.hls.trigger(Gy.BUFFER_FLUSHED,{type:t})}))}get mediaSrc(){var t,e;const s=(null==(t=this.media)||null==(e=t.querySelector)?void 0:e.call(t,"source"))||this.media;return null==s?void 0:s.src}onSBUpdateStart(t){const e=this.currentOp(t);e&&e.onStart()}onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const s=this.currentOp(t);s&&(s.onComplete(),this.shiftAndExecuteNext(t))}onSBUpdateError(t,e){var s;const i=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(s=this.mediaSource)?void 0:s.readyState}`);this.error(`${i}`,e),this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:i,fatal:!1});const r=this.currentOp(t);r&&r.onError(i)}removeExecutor(t,e,s){const{media:i,mediaSource:r}=this,n=this.tracks[t],o=null==n?void 0:n.buffer;if(!i||!r||!o)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void this.shiftAndExecuteNext(t);const a=Oy(i.duration)?i.duration:1/0,h=Oy(r.duration)?r.duration:1/0,l=Math.max(0,e),c=Math.min(s,a,h);c>l&&(!n.ending||n.ended)?(n.ended=!1,this.log(`Removing [${l},${c}] from the ${t} SourceBuffer`),o.remove(l,c)):this.shiftAndExecuteNext(t)}appendExecutor(t,e){const s=this.tracks[e],i=null==s?void 0:s.buffer;if(!i)throw new Fw(`Attempting to append to the ${e} SourceBuffer, but it does not exist`);s.ending=!1,s.ended=!1,i.appendBuffer(t)}blockUntilOpen(t){if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch((t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)}));else try{t()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some((([t,e])=>t&&e.updating))}isQueued(){return this.sourceBuffers.some((([t])=>t&&!!this.currentOp(t)))}isPending(t){return!!t&&!t.buffer}blockBuffers(t,e=this.sourceBufferTypes){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);const{operationQueue:s}=this,i=e.map((t=>this.appendBlocker(t)));return e.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then((e=>{s===this.operationQueue&&(t(),this.stepOperationQueue(this.sourceBufferTypes))}))}stepOperationQueue(t){t.forEach((t=>{var e;const s=null==(e=this.tracks[t])?void 0:e.buffer;s&&!s.updating&&this.shiftAndExecuteNext(t)}))}append(t,e,s){this.operationQueue&&this.operationQueue.append(t,e,s)}appendBlocker(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)}currentOp(t){return this.operationQueue?this.operationQueue.current(t):null}executeNext(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)}shiftAndExecuteNext(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)}get pendingTrackCount(){return Object.keys(this.tracks).reduce(((t,e)=>t+(this.isPending(this.tracks[e])?1:0)),0)}get sourceBufferCount(){return this.sourceBuffers.reduce(((t,[e])=>t+(e?1:0)),0)}get sourceBufferTypes(){return this.sourceBuffers.map((([t])=>t)).filter((t=>!!t))}addBufferListener(t,e,s){const i=this.tracks[t];if(!i)return;const r=i.buffer;if(!r)return;const n=s.bind(this,t);i.listeners.push({event:e,listener:n}),r.addEventListener(e,n)}removeBufferListeners(t){const e=this.tracks[t];if(!e)return;const s=e.buffer;s&&(e.listeners.forEach((t=>{s.removeEventListener(t.event,t.listener)})),e.listeners.length=0)}},capLevelController:Nw,errorController:class extends iA{constructor(t){super("error-controller",t.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(Gy.ERROR,this.onError,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Gy.ERROR,this.onError,this),t.off(Gy.ERROR,this.onErrorOut,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===Yy?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var s;if(e.fatal)return;const i=this.hls,r=e.context;switch(e.details){case Wy.FRAG_LOAD_ERROR:case Wy.FRAG_LOAD_TIMEOUT:case Wy.KEY_LOAD_ERROR:case Wy.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case Wy.FRAG_PARSING_ERROR:if(null!=(s=e.frag)&&s.gap)return void(e.errorAction=eb());case Wy.FRAG_GAP:case Wy.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=Qv);case Wy.LEVEL_EMPTY_ERROR:case Wy.LEVEL_PARSING_ERROR:{var n,o;const t=e.parent===Yy?e.level:i.loadLevel;e.details===Wy.LEVEL_EMPTY_ERROR&&null!=(n=e.context)&&null!=(o=n.levelDetails)&&o.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case Wy.LEVEL_LOAD_ERROR:case Wy.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==r?void 0:r.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,r.level)));case Wy.AUDIO_TRACK_LOAD_ERROR:case Wy.AUDIO_TRACK_LOAD_TIMEOUT:case Wy.SUBTITLE_LOAD_ERROR:case Wy.SUBTITLE_TRACK_LOAD_TIMEOUT:if(r){const t=i.loadLevelObj;if(t&&(r.type===Ky&&t.hasAudioGroup(r.groupId)||r.type===qy&&t.hasSubtitleGroup(r.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=Qv,void(e.errorAction.flags=Zv)}return;case Wy.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=i.loadLevelObj,s=null==t?void 0:t.attrs["HDCP-LEVEL"];s?e.errorAction={action:Qv,flags:tb,hdcpLevel:s}:this.keySystemError(e)}return;case Wy.BUFFER_ADD_CODEC_ERROR:case Wy.REMUX_ALLOC_ERROR:case Wy.BUFFER_APPEND_ERROR:var a;if(!e.errorAction)e.errorAction=this.getLevelSwitchAction(e,null!=(a=e.level)?a:i.loadLevel);return;case Wy.INTERNAL_EXCEPTION:case Wy.BUFFER_APPENDING_ERROR:case Wy.BUFFER_FULL_ERROR:case Wy.LEVEL_SWITCH_ERROR:case Wy.BUFFER_STALLED_ERROR:case Wy.BUFFER_SEEK_OVER_HOLE:case Wy.BUFFER_NUDGE_ON_STALL:return void(e.errorAction=eb())}e.type===Vy.KEY_SYSTEM_ERROR&&this.keySystemError(e)}keySystemError(t){const e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)}getPlaylistRetryOrSwitchAction(t,e){const s=zv(this.hls.config.playlistLoadPolicy,t),i=this.playlistError++;if(qv(s,i,Gv(t),t.response))return{action:Xv,flags:$v,retryConfig:s,retryCount:i};const r=this.getLevelSwitchAction(t,e);return s&&(r.retryConfig=s,r.retryCount=i),r}getFragRetryOrSwitchAction(t){const e=this.hls,s=this.getVariantLevelIndex(t.frag),i=e.levels[s],{fragLoadPolicy:r,keyLoadPolicy:n}=e.config,o=zv(t.details.startsWith("key")?n:r,t),a=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(i){t.details!==Wy.FRAG_GAP&&i.fragmentError++;if(qv(o,a,Gv(t),t.response))return{action:Xv,flags:$v,retryConfig:o,retryCount:a}}const h=this.getLevelSwitchAction(t,s);return o&&(h.retryConfig=o,h.retryCount=a),h}getLevelSwitchAction(t,e){const s=this.hls;null==e&&(e=s.loadLevel);const i=this.hls.levels[e];if(i){var r,n;const e=t.details;i.loadError++,e===Wy.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:l,loadLevel:c,minAutoLevel:d,maxAutoLevel:u}=s;s.autoLevelEnabled||s.config.preserveManualLevelOnError||(s.loadLevel=-1);const p=null==(r=t.frag)?void 0:r.type,f=(p===Qy&&e===Wy.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===Wy.BUFFER_ADD_CODEC_ERROR||e===Wy.BUFFER_APPEND_ERROR))&&l.some((({audioCodec:t})=>i.audioCodec!==t)),m="video"===t.sourceBufferName&&(e===Wy.BUFFER_ADD_CODEC_ERROR||e===Wy.BUFFER_APPEND_ERROR)&&l.some((({codecSet:t,audioCodec:e})=>i.codecSet!==t&&i.audioCodec===e)),{type:g,groupId:y}=null!=(n=t.context)?n:{};for(let s=l.length;s--;){const r=(s+c)%l.length;if(r!==c&&r>=d&&r<=u&&0===l[r].loadError){var o,a;const s=l[r];if(e===Wy.FRAG_GAP&&p===Yy&&t.frag){const e=l[r].details;if(e){const s=Nv(t.frag,e.fragments,t.frag.start);if(null!=s&&s.gap)continue}}else{if(g===Ky&&s.hasAudioGroup(y)||g===qy&&s.hasSubtitleGroup(y))continue;if(p===Qy&&null!=(o=i.audioGroups)&&o.some((t=>s.hasAudioGroup(t)))||p===Jy&&null!=(a=i.subtitleGroups)&&a.some((t=>s.hasSubtitleGroup(t)))||f&&i.audioCodec===s.audioCodec||!f&&i.audioCodec!==s.audioCodec||m&&i.codecSet===s.codecSet)continue}h=r;break}}if(h>-1&&s.loadLevel!==h)return t.levelRetry=!0,this.playlistError=0,{action:Qv,flags:$v,nextAutoLevel:h}}return{action:Qv,flags:Zv}}onErrorOut(t,e){var s;switch(null==(s=e.errorAction)?void 0:s.action){case Yv:break;case Qv:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===Wy.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,s=t.errorAction;if(!s)return;const{flags:i,hdcpLevel:r,nextAutoLevel:n}=s;switch(i){case $v:this.switchLevel(t,n);break;case tb:r&&(e.maxHdcpLevel=vv[vv.indexOf(r)-1],s.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}s.resolved||this.switchLevel(t,n)}switchLevel(t,e){if(void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===Wy.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&"audiovideo"!==t.sourceBufferName)){const e=pv(t.mimeType),s=this.hls.levels;for(let i=s.length;i--;)s[i][`${t.sourceBufferName}Codec`]===e&&this.hls.removeLevel(i)}}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const s=this.hls.config;if(s.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"==typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),s.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(t,e,s){const i=performance.now();if(e){if(this.lastTime){const t=i-this.lastTime,r=s-this.lastDroppedFrames,n=e-this.lastDecodedFrames,o=1e3*r/t,a=this.hls;if(a.trigger(Gy.FPS_DROP,{currentDropped:r,currentDecoded:n,totalDroppedFrames:s}),o>0&&r>a.config.fpsDroppedMonitoringThreshold*n){let t=a.currentLevel;a.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===a.autoLevelCapping||a.autoLevelCapping>=t)&&(t-=1,a.trigger(Gy.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:a.currentLevel}),a.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=s,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:eS,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:MI,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends $S{constructor(t,e,s){super(t,e,s,"subtitle-stream-controller",Jy),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Gy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Gy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(Gy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Gy.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Gy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Gy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(Gy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Gy.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(t,e){this.stopLoad(),this.state=VS,this.setInterval(500),this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(t,e){this.tracksBuffered=[],super.onMediaDetaching(t,e)}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:s,success:i}=e;if(wA(s)&&(this.fragPrevious=s),this.state=VS,!i)return;const r=this.tracksBuffered[this.currentTrackId];if(!r)return;let n;const o=s.start;for(let t=0;t<r.length;t++)if(o>=r[t].start&&o<=r[t].end){n=r[t];break}const a=s.start+s.duration;n?n.end=a:(n={start:o,end:a},r.push(n)),this.fragmentTracker.fragBuffered(s),this.fragBufferedComplete(s,null),this.media&&this.tick()}onBufferFlushing(t,e){const{startOffset:s,endOffset:i}=e;if(0===s&&i!==Number.POSITIVE_INFINITY){const t=i-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach((e=>{for(let s=0;s<e.length;)if(e[s].end<=t)e.shift();else{if(!(e[s].start<t))break;e[s].start=t,s++}})),this.fragmentTracker.removeFragmentsInRange(s,t,Jy)}}onError(t,e){const s=e.frag;(null==s?void 0:s.type)===Jy&&(e.details===Wy.FRAG_GAP&&this.fragmentTracker.fragBuffered(s,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==jS&&(this.state=VS))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&Rw(this.levels,e)?this.levels=e.map((t=>new kv(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new kv(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Jy),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var s;if(this.currentTrackId=e.id,null==(s=this.levels)||!s.length||-1===this.currentTrackId)return void this.clearInterval();const i=this.levels[this.currentTrackId];null!=i&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==jS&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var s;const{currentTrackId:i,levels:r}=this,{details:n,id:o}=e;if(!r)return void this.warn(`Subtitle tracks were reset while loading level ${o}`);const a=r[o];if(o>=r.length||!a)return;this.log(`Subtitle track ${o} loaded [${n.startSN},${n.endSN}]${n.lastPartSn?`[part-${n.lastPartSn}-${n.lastPartIndex}]`:""},duration:${n.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let h=0;if(n.live||null!=(s=a.details)&&s.live){const t=this.mainDetails;if(n.deltaUpdateFailed||!t)return;const e=t.fragments[0];var l;if(a.details)h=this.alignPlaylists(n,a.details,null==(l=this.levelLastLoaded)?void 0:l.details),0===h&&e&&(h=e.start,CS(n,h));else n.hasProgramDateTime&&t.hasProgramDateTime?(OS(n,t),h=n.fragmentStart):e&&(h=e.start,CS(n,h))}if(a.details=n,this.levelLastLoaded=a,o===i&&(this.hls.trigger(Gy.SUBTITLE_TRACK_UPDATED,{details:n,id:o,groupId:e.groupId}),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===VS)){Nv(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),a.details=void 0)}}_handleFragmentLoadComplete(t){const{frag:e,payload:s}=t,i=e.decryptdata,r=this.hls;if(!this.fragContextChanged(e)&&s&&s.byteLength>0&&null!=i&&i.key&&i.iv&&Fb(i.method)){const t=performance.now();this.decrypter.decrypt(new Uint8Array(s),i.key.buffer,i.iv.buffer,Ub(i.method)).catch((t=>{throw r.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((s=>{const i=performance.now();r.trigger(Gy.FRAG_DECRYPTED,{frag:e,payload:s,stats:{tstart:t,tdecrypt:i}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=VS}))}}doTick(){if(this.media){if(this.state===VS){const{currentTrackId:t,levels:e}=this,s=null==e?void 0:e[t];if(!s||!e.length||!s.details)return;if(this.waitForLive(s))return;const{config:i}=this,r=this.getLoadPosition(),n=Tb.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,i.maxBufferHole),{end:o,len:a}=n,h=s.details;if(a>this.hls.maxBufferLength+h.levelTargetDuration)return;const l=h.fragments,c=l.length,d=h.edge;let u=null;const p=this.fragPrevious;if(o<d){const t=i.maxFragLookUpTolerance,e=o>d-t?0:t;u=Nv(p,l,Math.max(l[0].start,o),e),!u&&p&&p.start<l[0].start&&(u=l[0])}else u=l[c-1];if(u=this.filterReplacedPrimary(u,s.details),!u)return;const f=l[u.sn-h.startSN-1];if(f&&f.cc===u.cc&&this.fragmentTracker.getState(f)===sb&&(u=f),this.fragmentTracker.getState(u)===sb){const t=this.mapToInitFragWhenRequired(u);t&&this.loadFragment(t,s,o)}}}else this.state=VS}loadFragment(t,e,s){wA(t)?super.loadFragment(t,e,s):this._loadInitSegment(t,e)}get mediaBufferTimeRanges(){return new NT(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends Dw{constructor(t){super(t,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=TT(this.media.textTracks);for(let s=0;s<e.length;s++)if("hidden"===e[s].mode)t=e[s];else if("showing"===e[s].mode){t=e[s];break}const s=this.findTrackForTextTrack(t);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Gy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Gy.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(Gy.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(t,e){const s=this.media;if(!s)return;const i=!!e.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||s.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;TT(s.textTracks).forEach((t=>{ET(t)}))}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:s,groupId:i,details:r}=e,n=this.tracksInGroup[s];if(!n||n.groupId!==i)return void this.warn(`Subtitle track with id:${s} and group:${i} not found in active group ${null==n?void 0:n.groupId}`);const o=n.details;n.details=e.details,this.log(`Subtitle track ${s} "${n.name}" lang:${n.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),s===this.trackId&&this.playlistLoaded(s,e,o)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const s=e.subtitleGroups||null,i=this.groupIds;let r=this.currentTrack;if(!s||(null==i?void 0:i.length)!==(null==s?void 0:s.length)||null!=s&&s.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!s||-1!==s.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!r&&e){this.selectDefaultTrack=!1;const s=xv(e,t);if(s>-1)r=t[s];else{const t=xv(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const n={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==s?void 0:s.join(",")}" group-id`),this.hls.trigger(Gy.SUBTITLE_TRACKS_UPDATED,n),-1!==i&&-1===this.trackId&&this.setSubtitleTrack(i)}}findTrackId(t){const e=this.tracksInGroup,s=this.selectDefaultTrack;for(let i=0;i<e.length;i++){const r=e[i];if((!s||r.default)&&(s||t)&&(!t||Mv(r,t)))return i}if(t){for(let s=0;s<e.length;s++){const i=e[s];if(Lw(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<e.length;s++){const i=e[s];if(Lw(t.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let s=0;s<e.length;s++){if(Pw(e[s],t))return s}}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==qy||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){if(-1===t.id)return this.setSubtitleTrack(-1),null;const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const s=this.currentTrack;if(s&&Mv(t,s))return s;const i=xv(t,this.tracksInGroup);if(i>-1){const t=this.tracksInGroup[i];return this.setSubtitleTrack(i),t}if(s)return null;{const s=xv(t,e);if(s>-1)return e[s]}}}return null}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),n=t.details,o=null==n?void 0:n.age;this.log(`Loading subtitle ${s} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${r}`),this.hls.trigger(Gy.SUBTITLE_TRACK_LOADING,{url:r,id:s,groupId:i,deliveryDirectives:e||null,track:t})}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=TT(t.textTracks),s=this.currentTrack;let i;if(s&&(i=e.filter((t=>Pw(s,t)))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${s.name}" and language "${s.lang}"`)),[].slice.call(e).forEach((t=>{"disabled"!==t.mode&&t!==i&&(t.mode="disabled")})),i){const t=this.subtitleDisplay?"showing":"hidden";i.mode!==t&&(i.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!Oy(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.selectDefaultTrack=!1;const s=this.currentTrack,i=e[t]||null;if(this.trackId=t,this.currentTrack=i,this.toggleTrackModes(),!i)return void this.hls.trigger(Gy.SUBTITLE_TRACK_SWITCH,{id:t});const r=!!i.details&&!i.details.live;if(t===this.trackId&&i===s&&r)return;this.log(`Switching to subtitle-track ${t}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:n,groupId:o="",name:a,type:h,url:l}=i;this.hls.trigger(Gy.SUBTITLE_TRACK_SWITCH,{id:n,groupId:o,name:a,type:h,url:l});const c=this.switchParams(i.url,null==s?void 0:s.details,i.details);this.loadPlaylist(c)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Gy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(Gy.FRAG_LOADING,this.onFragLoading,this),t.on(Gy.FRAG_LOADED,this.onFragLoaded,this),t.on(Gy.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(Gy.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(Gy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Gy.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Gy.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(Gy.FRAG_LOADING,this.onFragLoading,this),t.off(Gy.FRAG_LOADED,this.onFragLoaded,this),t.off(Gy.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(Gy.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(Gy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Gy.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const t=new RI(this,"textTrack1"),e=new RI(this,"textTrack2"),s=new RI(this,"textTrack3"),i=new RI(this,"textTrack4");this.cea608Parser1=new sI(1,t,e),this.cea608Parser2=new sI(3,s,i)}addCues(t,e,s,i,r){let n=!1;for(let t=r.length;t--;){const i=r[t],c=(o=i[0],a=i[1],h=e,l=s,Math.min(a,l)-Math.max(o,h));if(c>=0&&(i[0]=Math.min(i[0],e),i[1]=Math.max(i[1],s),n=!0,c/(s-e)>.5))return}var o,a,h,l;if(n||r.push([e,s]),this.config.renderTextTracksNatively){const r=this.captionsTracks[t];this.Cues.newCue(r,e,s,i)}else{const r=this.Cues.newCue(null,e,s,i);this.hls.trigger(Gy.CUES_PARSED,{type:"captions",cues:r,track:t})}}onInitPtsFound(t,{frag:e,id:s,initPTS:i,timescale:r}){const{unparsedVttFrags:n}=this;s===Yy&&(this.initPTS[e.cc]={baseTime:i,timescale:r}),n.length&&(this.unparsedVttFrags=[],n.forEach((t=>{this.onFragLoaded(Gy.FRAG_LOADED,t)})))}getExistingTrack(t,e){const{media:s}=this;if(s)for(let i=0;i<s.textTracks.length;i++){const r=s.textTracks[i];if(PI(r,{name:t,lang:e,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return r}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:s,media:i}=this,{label:r,languageCode:n}=e[t],o=this.getExistingTrack(r,n);if(o)s[t]=o,ET(s[t]),bT(s[t],i);else{const e=this.createTextTrack("captions",r,n);e&&(e[t]=!0,s[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const s={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=s,this.hls.trigger(Gy.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(t,e,s){const i=this.media;if(i)return i.addTextTrack(t,e,s)}onMediaAttaching(t,e){this.media=e.media,e.mediaSource||this._cleanTracks()}onMediaDetaching(t,e){const s=!!e.transferMedia;if(this.media=null,s)return;const{captionsTracks:i}=this;Object.keys(i).forEach((t=>{ET(i[t]),delete i[t]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let t=0;t<e.length;t++)ET(e[t])}onSubtitleTracksUpdated(t,e){const s=e.subtitleTracks||[],i=s.some((t=>t.textCodec===vI));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Rw(this.tracks,s))return void(this.tracks=s);if(this.textTracks=[],this.tracks=s,this.config.renderTextTracksNatively){const t=this.media,e=t?TT(t.textTracks):null;if(this.tracks.forEach(((t,s)=>{let i;if(e){let s=null;for(let i=0;i<e.length;i++)if(e[i]&&PI(e[i],t)){s=e[i],e[i]=null;break}s&&(i=s)}if(i)ET(i);else{const e=LI(t);i=this.createTextTrack(e,t.name,t.lang),i&&(i.mode="disabled")}i&&this.textTracks.push(i)})),null!=e&&e.length){const t=e.filter((t=>null!==t)).map((t=>t.label));t.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(Gy.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const s=`textTrack${e[1]}`,i=this.captionsProperties[s];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){if(this.enabled&&e.frag.type===Yy){var s,i;const{cea608Parser1:t,cea608Parser2:r,lastSn:n}=this,{cc:o,sn:a}=e.frag,h=null!=(s=null==(i=e.part)?void 0:i.index)?s:-1;t&&r&&(a!==n+1||a===n&&h!==this.lastPartIndex+1||o!==this.lastCc)&&(t.reset(),r.reset()),this.lastCc=o,this.lastSn=a,this.lastPartIndex=h}}onFragLoaded(t,e){const{frag:s,payload:i}=e;if(s.type===Jy)if(i.byteLength){const t=s.decryptdata,r="stats"in e;if(null==t||!t.encrypted||r){const t=this.tracks[s.level],r=this.vttCCs;r[s.cc]||(r[s.cc]={start:s.start,prevCC:this.prevCC,new:!0},this.prevCC=s.cc),t&&t.textCodec===vI?this._parseIMSC1(s,i):this._parseVTTs(e)}}else this.hls.trigger(Gy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const s=this.hls;wI(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),s.trigger(Gy.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{s.logger.log(`Failed to parse IMSC1: ${e}`),s.trigger(Gy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t){var e;const{frag:s,payload:i}=t,{initPTS:r,unparsedVttFrags:n}=this,o=r.length-1;if(!r[s.cc]&&-1===o)return void n.push(t);const a=this.hls;AI(null!=(e=s.initSegment)&&e.data?HA(s.initSegment.data,new Uint8Array(i)).buffer:i,this.initPTS[s.cc],this.vttCCs,s.cc,s.start,(t=>{this._appendCues(t,s.level),a.trigger(Gy.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:s})}),(e=>{const r="Missing initPTS for VTT MPEGTS"===e.message;r?n.push(t):this._fallbackToIMSC1(s,i),a.logger.log(`Failed to parse VTT cue: ${e}`),r&&o>s.cc||a.trigger(Gy.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:s,error:e})}))}_fallbackToIMSC1(t,e){const s=this.tracks[t.level];s.textCodec||wI(e,this.initPTS[t.cc],(()=>{s.textCodec=vI,this._parseIMSC1(t,e)}),(()=>{s.textCodec="wvtt"}))}_appendCues(t,e){const s=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[e];if(!s||"disabled"===s.mode)return;t.forEach((t=>ST(s,t)))}else{const i=this.tracks[e];if(!i)return;const r=i.default?"default":"subtitles"+e;s.trigger(Gy.CUES_PARSED,{type:"subtitles",cues:t,track:r})}}onFragDecrypted(t,e){const{frag:s}=e;s.type===Jy&&this.onFragLoaded(Gy.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:s,samples:i}=e;if(s.type!==Yy||"NONE"!==this.closedCaptionsForLevel(s))for(let t=0;t<i.length;t++){const e=i[t].bytes;if(e){this.cea608Parser1||this.initCea608Parsers();const s=this.extractCea608Data(e);this.cea608Parser1.addData(i[t].pts,s[0]),this.cea608Parser2.addData(i[t].pts,s[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:s,endOffsetSubtitles:i,type:r}){const{media:n}=this;if(n&&!(n.currentTime<s)){if(!r||"video"===r){const{captionsTracks:t}=this;Object.keys(t).forEach((i=>wT(t[i],e,s)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==i){const{textTracks:t}=this;Object.keys(t).forEach((s=>wT(t[s],e,i)))}}}extractCea608Data(t){const e=[[],[]],s=31&t[0];let i=2;for(let r=0;r<s;r++){const s=t[i++],r=127&t[i++],n=127&t[i++];if(0===r&&0===n)continue;if(0!=(4&s)){const t=3&s;0!==t&&1!==t||(e[t].push(r),e[t].push(n))}}return e}},audioStreamController:class extends $S{constructor(t,e,s){super(t,e,s,"audio-stream-controller",Qy),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Gy.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Gy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Gy.BUFFER_RESET,this.onBufferReset,this),t.on(Gy.BUFFER_CREATED,this.onBufferCreated,this),t.on(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Gy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(Gy.FRAG_LOADING,this.onFragLoading,this),t.on(Gy.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:t}=this;t&&(super.unregisterListeners(),t.off(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Gy.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Gy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Gy.BUFFER_RESET,this.onBufferReset,this),t.off(Gy.BUFFER_CREATED,this.onBufferCreated,this),t.off(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Gy.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(Gy.FRAG_LOADING,this.onFragLoading,this),t.off(Gy.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(t,{frag:e,id:s,initPTS:i,timescale:r}){if(s===Yy){const t=e.cc,s=this.fragCurrent;if(this.initPTS[t]={baseTime:i,timescale:r},this.log(`InitPTS for cc: ${t} found from main: ${i}/${r}`),this.mainAnchor=e,this.state===JS){const s=this.waitingData;(!s&&!this.loadingParts||s&&s.frag.cc!==t)&&this.syncWithAnchor(e,null==s?void 0:s.frag)}else!this.hls.hasEnoughToStart&&s&&s.cc!==t?(s.abortRequests(),this.syncWithAnchor(e,s)):this.state===VS&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(t,e){var s;const i=(null==(s=this.mainFragLoading)?void 0:s.frag)||null;if(e&&(null==i?void 0:i.cc)===e.cc)return;const r=(i||t).cc,n=Wv(this.getLevelDetails(),r,this.getLoadPosition());n&&(this.log(`Waiting fragment cc (${null==e?void 0:e.cc}) cancelled because video is at cc ${t.cc}`),this.startFragRequested=!1,this.nextLoadPosition=n.start,this.resetLoadingState(),this.state===VS&&this.doTickIdle())}startLoad(t,e){if(!this.levels)return this.startPosition=t,void(this.state=jS);const s=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),s>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),t=s,this.state=VS):this.state=HS,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}doTick(){switch(this.state){case VS:this.doTickIdle();break;case HS:{const{levels:t,trackId:e}=this,s=null==t?void 0:t[e],i=null==s?void 0:s.details;if(i&&!this.waitForLive(s)){if(this.waitForCdnTuneIn(i))break;this.state=JS}break}case zS:{var t;const e=performance.now(),s=this.retryDate;if(!s||e>=s||null!=(t=this.media)&&t.seeking){const{levels:t,trackId:e}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==t?void 0:t[e])||null),this.state=VS}break}case JS:{const t=this.waitingData;if(t){const{frag:e,part:s,cache:i,complete:r}=t,n=this.mainAnchor;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.state=GS;const t={frag:e,part:s,payload:i.flush().buffer,networkDetails:null};this._handleFragmentLoadProgress(t),r&&super._handleFragmentLoadComplete(t)}else n&&n.cc!==t.frag.cc&&this.syncWithAnchor(n,t.frag)}else this.state=VS}}this.onTickEnd()}resetLoadingState(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){var t;const{hls:e,levels:s,media:i,trackId:r}=this,n=e.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!n.startFragPrefetch)||null==s||!s[r])return;const o=s[r],a=o.details;if(!a||this.waitForLive(o)||this.waitForCdnTuneIn(a))return this.state=HS,void(this.startFragRequested=!1);const h=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&h&&(this.bufferFlushed=!1,this.afterBufferFlushed(h,vA,Qy));const l=this.getFwdBufferInfo(h,Qy);if(null===l)return;if(!this.switchingTrack&&this._streamEnded(l,a))return e.trigger(Gy.BUFFER_EOS,{type:"audio"}),void(this.state=YS);const c=l.len,d=e.maxBufferLength,u=a.fragments,p=u[0].start,f=this.getLoadPosition(),m=this.flushing?f:l.end;if(this.switchingTrack&&i){const t=f;a.PTSKnown&&t<p&&(l.end>p||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=p+.05)}if(c>=d&&!this.switchingTrack&&m<u[u.length-1].start)return;let g=this.getNextFragment(m,a);if(g&&this.isLoopLoading(g,m)&&(g=this.getNextFragmentLoopLoading(g,a,l,Yy,d)),!g)return void(this.bufferFlushed=!0);let y=(null==(t=this.mainFragLoading)?void 0:t.frag)||null;if(!this.audioOnly&&this.startFragRequested&&y&&wA(g)&&!g.endList&&(!a.live||!this.loadingParts&&m<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(y)===nb&&(this.mainFragLoading=y=null),y&&wA(y))){if(g.start>y.end){const t=this.fragmentTracker.getFragAtPos(m,Yy);t&&t.end>y.end&&(y=t,this.mainFragLoading={frag:t,targetBufferTime:null})}if(g.start>y.end)return}this.loadFragment(g,o,m)}onMediaDetaching(t,e){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(t,e)}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new kv(t)))}onAudioTrackSwitching(t,e){const s=!!e.url;this.trackId=e.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),s?(this.switchingTrack=e,this.flushAudioIfNeeded(e),this.state!==jS&&(this.setInterval(100),this.state=VS,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=e,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(t,e){this.mainDetails=e.details;const s=this.cachedTrackLoadedData;s&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Gy.AUDIO_TRACK_LOADED,s))}onAudioTrackLoaded(t,e){var s;const{levels:i}=this,{details:r,id:n,groupId:o,track:a}=e;if(!i)return void this.warn(`Audio tracks reset while loading track ${n} "${a.name}" of "${o}"`);const h=this.mainDetails;if(!h||r.endCC>h.endCC||h.expired)return this.cachedTrackLoadedData=e,void(this.state!==jS&&(this.state=HS));this.cachedTrackLoadedData=null,this.log(`Audio track ${n} "${a.name}" of "${o}" loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);const l=i[n];let c=0;if(r.live||null!=(s=l.details)&&s.live){if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;var d;if(l.details)c=this.alignPlaylists(r,l.details,null==(d=this.levelLastLoaded)?void 0:d.details);r.alignedSliding||(US(r,h),r.alignedSliding||OS(r,h),c=r.fragmentStart)}l.details=r,this.levelLastLoaded=l,this.startFragRequested||this.setStartPosition(h,c),this.hls.trigger(Gy.AUDIO_TRACK_UPDATED,{details:r,id:n,groupId:e.groupId}),this.state!==HS||this.waitForCdnTuneIn(r)||(this.state=VS),this.tick()}_handleFragmentLoadProgress(t){var e;const s=t.frag,{part:i,payload:r}=t,{config:n,trackId:o,levels:a}=this;if(!a)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);const h=a[o];if(!h)return void this.warn("Audio track is undefined on fragment load progress");const l=h.details;if(!l)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(s.start);const c=n.defaultAudioCodec||h.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new Cw(this.hls,Qy,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const u=this.initPTS[s.cc],p=null==(e=s.initSegment)?void 0:e.data;if(void 0!==u){const t=!1,e=i?i.index:-1,n=-1!==e,o=new Eb(s.level,s.sn,s.stats.chunkCount,r.byteLength,e,n);d.push(r,p,c,"",s,i,l.totalduration,t,o,u)}else{this.log(`Unknown video PTS for cc ${s.cc}, waiting for video PTS before demuxing audio frag ${s.sn} of [${l.startSN} ,${l.endSN}],track ${o}`);const{cache:t}=this.waitingData=this.waitingData||{frag:s,part:i,cache:new tE,complete:!1};t.push(new Uint8Array(r)),this.state!==jS&&(this.state=JS)}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(t,e){this.bufferFlushed=this.flushing=!1;const s=e.tracks.audio;s&&(this.mediaBuffer=s.buffer||null)}onFragLoading(t,e){!this.audioOnly&&e.frag.type===Yy&&wA(e.frag)&&(this.mainFragLoading=e,this.state===VS&&this.tick())}onFragBuffered(t,e){const{frag:s,part:i}=e;if(s.type===Qy)if(this.fragContextChanged(s))this.warn(`Fragment ${s.sn}${i?" p: "+i.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if(wA(s)){this.fragPrevious=s;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(Gy.AUDIO_TRACK_SWITCHED,sA({},t)))}this.fragBufferedComplete(s,i),this.media&&this.tick()}else this.audioOnly||s.type!==Yy||s.elementaryStreams.video||s.elementaryStreams.audiovideo||(this.audioOnly=!0,this.mainFragLoading=null)}onError(t,e){var s;if(e.fatal)this.state=QS;else switch(e.details){case Wy.FRAG_GAP:case Wy.FRAG_PARSING_ERROR:case Wy.FRAG_DECRYPT_ERROR:case Wy.FRAG_LOAD_ERROR:case Wy.FRAG_LOAD_TIMEOUT:case Wy.KEY_LOAD_ERROR:case Wy.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Qy,e);break;case Wy.AUDIO_TRACK_LOAD_ERROR:case Wy.AUDIO_TRACK_LOAD_TIMEOUT:case Wy.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==HS||(null==(s=e.context)?void 0:s.type)!==Ky||(this.state=VS);break;case Wy.BUFFER_ADD_CODEC_ERROR:case Wy.BUFFER_APPEND_ERROR:if("audio"!==e.parent)return;this.resetLoadingState();break;case Wy.BUFFER_FULL_ERROR:if("audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Wy.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==bA&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==bA){this.flushing=!1,this.bufferFlushed=!0,this.state===YS&&(this.state=VS);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,Qy),this.tick())}}_handleTransmuxComplete(t){var e;const s="audio",{hls:i}=this,{remuxResult:r,chunkMeta:n}=t,o=this.getCurrentContext(n);if(!o)return void this.resetWhenMissingContext(n);const{frag:a,part:h,level:l}=o,{details:c}=l,{audio:d,text:u,id3:p,initSegment:f}=r;if(!this.fragContextChanged(a)&&c){if(this.state=KS,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=f&&f.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,f.tracks,t,n),i.trigger(Gy.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:s,tracks:f.tracks})}if(d){const{startPTS:t,endPTS:e,startDTS:s,endDTS:i}=d;h&&(h.elementaryStreams[vA]={startPTS:t,endPTS:e,startDTS:s,endDTS:i}),a.setElementaryStreamInfo(vA,t,e,s,i),this.bufferFragmentData(d,a,h,n)}if(null!=p&&null!=(e=p.samples)&&e.length){const t=tA({id:s,frag:a,details:c},p);i.trigger(Gy.FRAG_PARSING_METADATA,t)}if(u){const t=tA({id:s,frag:a,details:c},u);i.trigger(Gy.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(a)}_bufferInitSegment(t,e,s,i){if(this.state!==KS)return;if(e.video&&delete e.video,e.audiovideo&&delete e.audiovideo,!e.audio)return;const r=e.audio;r.id=Qy;const n=t.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${n}/${r.codec}]`),n&&1===n.split(",").length&&(r.levelCodec=n),this.hls.trigger(Gy.BUFFER_CODECS,e);const o=r.initSegment;if(null!=o&&o.byteLength){const t={type:"audio",frag:s,part:null,chunkMeta:i,parent:s.type,data:o};this.hls.trigger(Gy.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,s){const i=this.fragmentTracker.getState(t);var r;if(this.switchingTrack||i===sb||i===rb)if(wA(t))if(null!=(r=e.details)&&r.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=JS;const s=this.mainDetails;s&&s.fragmentStart!==e.details.fragmentStart&&OS(e.details,s)}else super.loadFragment(t,e,s);else this._loadInitSegment(t,e);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){if(this.media&&this.bufferedTrack){const{name:e,lang:s,assocLang:i,characteristics:r,audioCodec:n,channels:o}=this.bufferedTrack;Mv({name:e,lang:s,assocLang:i,characteristics:r,audioCodec:n,channels:o},t,Bv)||(Uv(t.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=t)}}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(Gy.AUDIO_TRACK_SWITCHED,sA({},t))}},audioTrackController:class extends Dw{constructor(t){super(t,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(Gy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Gy.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(Gy.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(Gy.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:s,groupId:i,details:r}=e,n=this.tracksInGroup[s];if(!n||n.groupId!==i)return void this.warn(`Audio track with id:${s} and group:${i} not found in active group ${null==n?void 0:n.groupId}`);const o=n.details;n.details=e.details,this.log(`Audio track ${s} "${n.name}" lang:${n.lang} group:${i} loaded [${r.startSN}-${r.endSN}]`),s===this.trackId&&this.playlistLoaded(s,e,o)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const s=e.audioGroups||null,i=this.groupIds;let r=this.currentTrack;if(!s||(null==i?void 0:i.length)!==(null==s?void 0:s.length)||null!=s&&s.some((t=>-1===(null==i?void 0:i.indexOf(t))))){this.groupIds=s,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!s||-1!==s.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!r&&e){const s=xv(e,t,Bv);if(s>-1)r=t[s];else{const t=xv(e,this.tracks);r=this.tracks[t]}}let i=this.findTrackId(r);-1===i&&r&&(i=this.findTrackId(null));const o={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==s?void 0:s.join(",")}`),this.hls.trigger(Gy.AUDIO_TRACKS_UPDATED,o);const a=this.trackId;if(-1!==i&&-1===a)this.setAudioTrack(i);else if(t.length&&-1===a){var n;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(n=this.groupIds)?void 0:n.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}}onError(t,e){!e.fatal&&e.context&&(e.context.type!==Ky||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const s=this.allAudioTracks;if(this.selectDefaultTrack=!1,s.length){const i=this.currentTrack;if(i&&Mv(t,i,Bv))return i;const r=xv(t,this.tracksInGroup,Bv);if(r>-1){const t=this.tracksInGroup[r];return this.setAudioTrack(r),t}if(i){let i=e.loadLevel;-1===i&&(i=e.firstAutoLevel);const r=function(t,e,s,i,r){const n=e[i],o=e.reduce(((t,e,s)=>{const i=e.uri;return(t[i]||(t[i]=[])).push(s),t}),{})[n.uri];o.length>1&&(i=Math.max.apply(Math,o));const a=n.videoRange,h=n.frameRate,l=n.codecSet.substring(0,4),c=Fv(e,i,(e=>{if(e.videoRange!==a||e.frameRate!==h||e.codecSet.substring(0,4)!==l)return!1;const i=e.audioGroups,n=s.filter((t=>!i||-1!==i.indexOf(t.groupId)));return xv(t,n,r)>-1}));return c>-1?c:Fv(e,i,(e=>{const i=e.audioGroups,n=s.filter((t=>!i||-1!==i.indexOf(t.groupId)));return xv(t,n,r)>-1}))}(t,e.levels,s,i,Bv);if(-1===r)return null;e.nextLoadLevel=r}if(t.channels||t.audioCodec){const e=xv(t,s);if(e>-1)return s[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn(`Invalid audio track id: ${t}`);this.selectDefaultTrack=!1;const s=this.currentTrack,i=e[t],r=i.details&&!i.details.live;if(t===this.trackId&&i===s&&r)return;if(this.log(`Switching to audio-track ${t} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=t,this.currentTrack=i,this.hls.trigger(Gy.AUDIO_TRACK_SWITCHING,sA({},i)),r)return;const n=this.switchParams(i.url,null==s?void 0:s.details,i.details);this.loadPlaylist(n)}findTrackId(t){const e=this.tracksInGroup;for(let s=0;s<e.length;s++){const i=e[s];if((!this.selectDefaultTrack||i.default)&&(!t||Mv(t,i,Bv)))return s}if(t){const{name:s,lang:i,assocLang:r,characteristics:n,audioCodec:o,channels:a}=t;for(let t=0;t<e.length;t++){if(Mv({name:s,lang:i,assocLang:r,characteristics:n,audioCodec:o,channels:a},e[t],Bv))return t}for(let s=0;s<e.length;s++){const i=e[s];if(Lw(t.attrs,i.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<e.length;s++){const i=e[s];if(Lw(t.attrs,i.attrs,["LANGUAGE"]))return s}}return-1}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;this.shouldLoadPlaylist(e)&&Uv(e.url,this.hls)&&this.scheduleLoading(e,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=t.id,i=t.groupId,r=this.getUrlWithDirectives(t.url,e),n=t.details,o=null==n?void 0:n.age;this.log(`Loading audio-track ${s} "${t.name}" lang:${t.lang} group:${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${r}`),this.hls.trigger(Gy.AUDIO_TRACK_LOADING,{url:r,id:s,groupId:i,deliveryDirectives:e||null,track:t})}},emeController:AT,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:jw.MANIFEST,su:!this.initialized})}catch(t){this.hls.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=t=>{try{const{frag:e,part:s}=t,i=this.hls.levels[e.level],r=this.getObjectType(e),n={d:1e3*(s||e).duration,ot:r};r!==jw.VIDEO&&r!==jw.AUDIO&&r!=jw.MUXED||(n.br=i.bitrate/1e3,n.tb=this.getTopBandwidth(r)/1e3,n.bl=this.getBufferLength(r));const o=s?this.getNextPart(s):this.getNextFrag(e);null!=o&&o.url&&o.url!==e.url&&(n.nor=o.url),this.apply(t,n)}catch(t){this.hls.logger.warn("Could not generate segment CMCD data.",t)}},this.hls=t;const e=this.config=t.config,{cmcd:s}=e;null!=s&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=s.sessionId||t.sessionId,this.cid=s.contentId,this.useHeaders=!0===s.useHeaders,this.includeKeys=s.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHED,this.onMediaDetached,this),t.on(Gy.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHED,this.onMediaDetached,this),t.off(Gy.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var s,i;this.audioBuffer=null==(s=e.tracks.audio)?void 0:s.buffer,this.videoBuffer=null==(i=e.tracks.video)?void 0:i.buffer}createData(){var t;return{v:1,sf:Vw.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){tA(e,this.createData());const s=e.ot===jw.INIT||e.ot===jw.VIDEO||e.ot===jw.MUXED;this.starved&&s&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:i}=this;i&&(e=Object.keys(e).reduce(((t,s)=>(i.includes(s)&&(t[s]=e[s]),t)),{}));const r={baseUrl:t.url};this.useHeaders?(t.headers||(t.headers={}),dT(t.headers,e,r)):t.url=pT(t.url,e,r)}getNextFrag(t){var e;const s=null==(e=this.hls.levels[t.level])?void 0:e.details;if(s){const e=t.sn-s.startSN;return s.fragments[e+1]}}getNextPart(t){var e,s;const{index:i,fragment:r}=t,n=null==(e=this.hls.levels[r.level])||null==(s=e.details)?void 0:s.partList;if(n){const{sn:t}=r;for(let e=n.length-1;e>=0;e--){const s=n[e];if(s.index===i&&s.fragment.sn===t)return n[e+1]}}}getObjectType(t){const{type:e}=t;return"subtitle"===e?jw.TIMED_TEXT:"initSegment"===t.sn?jw.INIT:"audio"===e?jw.AUDIO:"main"===e?this.hls.audioTracks.length?jw.VIDEO:jw.MUXED:void 0}getTopBandwidth(t){let e,s=0;const i=this.hls;if(t===jw.AUDIO)e=i.audioTracks;else{const t=i.maxAutoLevel,s=t>-1?t+1:i.levels.length;e=i.levels.slice(0,s)}return e.forEach((t=>{t.bitrate>s&&(s=t.bitrate)})),s>0?s:NaN}getBufferLength(t){const e=this.media,s=t===jw.AUDIO?this.audioBuffer:this.videoBuffer;if(!s||!e)return NaN;return 1e3*Tb.bufferInfo(s,e.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,s=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new s(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,s,i){e(t),this.loader.load(t,s,i)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,s=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new s(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,s,i){e(t),this.loader.load(t,s,i)}}}},contentSteeringController:class extends iA{constructor(t){super("content-steering",t.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.registerListeners()}registerListeners(){const t=this.hls;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(t){this.updatePathwayPriority(t)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:s}=e;null!==s&&(this.pathwayId=s.pathwayId,this.uri=s.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:s}=e;if((null==s?void 0:s.action)===Qv&&s.flags===Zv){const t=this.levels;let i=this._pathwayPriority,r=this.pathwayId;if(e.context){const{groupId:s,pathwayId:i,type:n}=e.context;s&&t?r=this.getPathwayForGroupId(s,n,r):i&&(r=i)}r in this.penalizedPathways||(this.penalizedPathways[r]=performance.now()),!i&&t&&(i=this.pathways()),i&&i.length>1&&(this.updatePathwayPriority(i),s.resolved=this.pathwayId!==r),s.resolved||this.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${r} levels: ${t?t.length:t} priorities: ${Dv(i)} penalized: ${Dv(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const s=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${s}"`),e=this.getLevelsForPathway(s),this.pathwayId=s}return e.length!==t.length&&this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this._pathwayPriority=t;const s=this.penalizedPathways,i=performance.now();Object.keys(s).forEach((t=>{i-s[t]>3e5&&delete s[t]}));for(let i=0;i<t.length;i++){const r=t[i];if(r in s)continue;if(r===this.pathwayId)return;const n=this.hls.nextLoadLevel,o=this.hls.levels[n];if(e=this.getLevelsForPathway(r),e.length>0){this.log(`Setting Pathway to "${r}"`),this.pathwayId=r,xS(e),this.hls.trigger(Gy.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[n];o&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==o.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==o.bitrate&&this.log(`Unstable Pathways change from bitrate ${o.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=n);break}}}getPathwayForGroupId(t,e,s){const i=this.getLevelsForPathway(s).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(e===Ky&&i[s].hasAudioGroup(t)||e===qy&&i[s].hasSubtitleGroup(t))return i[s].pathwayId;return s}clonePathways(t){const e=this.levels;if(!e)return;const s={},i={};t.forEach((t=>{const{ID:r,"BASE-ID":n,"URI-REPLACEMENT":o}=t;if(e.some((t=>t.pathwayId===r)))return;const a=this.getLevelsForPathway(n).map((t=>{const e=new Pb(t.attrs);e["PATHWAY-ID"]=r;const n=e.AUDIO&&`${e.AUDIO}_clone_${r}`,a=e.SUBTITLES&&`${e.SUBTITLES}_clone_${r}`;n&&(s[e.AUDIO]=n,e.AUDIO=n),a&&(i[e.SUBTITLES]=a,e.SUBTITLES=a);const h=mT(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",o),l=new kv({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:h,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let e=1;e<t.audioGroups.length;e++)l.addGroupId("audio",`${t.audioGroups[e]}_clone_${r}`);if(t.subtitleGroups)for(let e=1;e<t.subtitleGroups.length;e++)l.addGroupId("text",`${t.subtitleGroups[e]}_clone_${r}`);return l}));e.push(...a),fT(this.audioTracks,s,o,r),fT(this.subtitleTracks,i,o,r)}))}loadSteeringManifest(t){const e=this.hls.config,s=e.loader;let i;this.loader&&this.loader.destroy(),this.loader=new s(e);try{i=new self.URL(t)}catch(e){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==i.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+t)}const r={responseType:"json",url:i.href},n=e.steeringManifestLoadPolicy.default,o=n.errorRetry||n.timeoutRetry||{},a={loadPolicy:n,timeout:n.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},h={onSuccess:(t,e,s,r)=>{this.log(`Loaded steering manifest: "${i}"`);const n=t.data;if(1!==(null==n?void 0:n.VERSION))return void this.log(`Steering VERSION ${n.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=n.TTL;const{"RELOAD-URI":o,"PATHWAY-CLONES":a,"PATHWAY-PRIORITY":h}=n;if(o)try{this.uri=new self.URL(o,i).href}catch(t){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${o}`)}this.scheduleRefresh(this.uri||s.url),a&&this.clonePathways(a);const l={steeringManifest:n,url:i.toString()};this.hls.trigger(Gy.STEERING_MANIFEST_LOADED,l),h&&this.updatePathwayPriority(h)},onError:(t,e,s,i)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let r=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,r);else{const t=this.loader;if("function"==typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(r=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,s)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(r,a,h)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var e;const s=null==(e=this.hls)?void 0:e.media;!s||s.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)}),e)}},interstitialsController:class extends iA{constructor(t,e){super("interstitials",t.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled)return;const e=t-this.timelinePos;if(Math.abs(e)<1/7056e5)return;const s=e<=-.01;this.timelinePos=t,this.bufferedPos=t;const i=this.playingItem;if(!i)return void this.checkBuffer();if(s){this.schedule.resetErrorsInRange(t,t-e)&&this.updateSchedule()}if(this.checkBuffer(),s&&t<i.start||t>=i.end){var r;const t=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(i)&&null!=(r=this.media)&&r.paused&&(this.shouldPlay=!1),!s){const e=this.findItemIndex(i);if(t>e){const s=this.schedule.findJumpRestrictedIndex(e+1,t);if(s>e)return void this.setSchedulePosition(s)}}return void this.setSchedulePosition(t)}const n=this.playingAsset;if(!n){if(this.playingLastItem&&this.isInterstitial(i)){const e=i.event.assetList[0];e&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(t,e))}return}const o=n.timelineStart,a=n.duration||0;(s&&t<o||t>=o+a)&&this.setScheduleToAssetAtTime(t,n)},this.onTimeupdate=()=>{const t=this.currentTime;if(void 0===t||this.playbackDisabled)return;if(!(t>this.timelinePos))return;this.timelinePos=t,t>this.bufferedPos&&this.checkBuffer();const e=this.playingItem;if(!e||this.playingLastItem)return;if(t>=e.end){this.timelinePos=e.end;const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}const s=this.playingAsset;if(!s)return;t>=s.timelineStart+(s.duration||0)&&this.setScheduleToAssetAtTime(t,s)},this.onScheduleUpdate=(t,e)=>{const s=this.schedule,i=this.playingItem,r=s.events||[],n=s.items||[],o=s.durations,a=t.map((t=>t.identifier)),h=!(!r.length&&!a.length);(h||e)&&this.log(`INTERSTITIALS_UPDATED (${r.length}): ${r}\nSchedule: ${n.map((t=>FT(t)))} pos: ${this.timelinePos}`),a.length&&this.log(`Removed events ${a}`),this.playerQueue.forEach((t=>{if(t.interstitial.appendInPlace){const e=t.assetItem.timelineStart,s=t.timelineOffset-e;if(s)try{t.timelineOffset=e}catch(i){Math.abs(s)>kT&&this.warn(`${i} ("${t.assetId}" ${t.timelineOffset}->${e})`)}}}));let l=null;if(i){const t=this.updateItem(i,this.timelinePos);this.itemsMatch(i,t)&&(this.playingItem=t,this.waitingItem=this.endedItem=null,l=()=>this.trimInPlace(t,i))}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const c=this.bufferingItem;if(c){const t=this.updateItem(c,this.bufferedPos);this.itemsMatch(c,t)?(this.bufferingItem=t,l||(l=()=>this.trimInPlace(t,c))):c.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(c.event,null))}if(t.forEach((t=>{t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,null)}))})),h||e){if(this.hls.trigger(Gy.INTERSTITIALS_UPDATED,{events:r.slice(0),schedule:n.slice(0),durations:o,removedIds:a}),this.isInterstitial(i)&&a.includes(i.event.identifier))return this.warn(`Interstitial "${i.event.identifier}" removed while playing`),void this.primaryFallback(i.event);l&&l(),this.checkBuffer()}},this.hls=t,this.HlsPlayerClass=e,this.assetListLoader=new UT(t),this.schedule=new BT(this.onScheduleUpdate,t.logger),this.registerListeners()}registerListeners(){const t=this.hls;t.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Gy.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.on(Gy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(Gy.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.on(Gy.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.on(Gy.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.on(Gy.BUFFER_APPENDED,this.onBufferAppended,this),t.on(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Gy.BUFFERED_TO_END,this.onBufferedToEnd,this),t.on(Gy.MEDIA_ENDED,this.onMediaEnded,this),t.on(Gy.ERROR,this.onError,this),t.on(Gy.DESTROYING,this.onDestroying,this)}unregisterListeners(){const t=this.hls;t&&(t.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Gy.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),t.off(Gy.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(Gy.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),t.off(Gy.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),t.off(Gy.ASSET_LIST_LOADED,this.onAssetListLoaded,this),t.off(Gy.BUFFER_CODECS,this.onBufferCodecs,this),t.off(Gy.BUFFER_APPENDED,this.onBufferAppended,this),t.off(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Gy.BUFFERED_TO_END,this.onBufferedToEnd,this),t.off(Gy.MEDIA_ENDED,this.onMediaEnded,this),t.off(Gy.ERROR,this.onError,this),t.off(Gy.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var t;null==(t=this.getBufferingPlayer())||t.resumeBuffering()}pauseBuffering(){var t;null==(t=this.getBufferingPlayer())||t.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const t=this.primaryMedia||this.media;t&&this.removeMediaListeners(t)}removeMediaListeners(t){yT(t,"play",this.onPlay),yT(t,"pause",this.onPause),yT(t,"seeking",this.onSeeking),yT(t,"timeupdate",this.onTimeupdate)}onMediaAttaching(t,e){const s=this.media=e.media;gT(s,"seeking",this.onSeeking),gT(s,"timeupdate",this.onTimeupdate),gT(s,"play",this.onPlay),gT(s,"pause",this.onPause)}onMediaAttached(t,e){const s=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,null===s)this.checkStart();else if(!i){this.clearScheduleState();const t=this.findItemIndex(s);this.setSchedulePosition(t)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(t,e){const s=!!e.transferMedia,i=this.media;if(this.media=null,!s&&(i&&this.removeMediaListeners(i),this.detachedData)){const t=this.getBufferingPlayer();t&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,t.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const t=this,e=()=>t.bufferingItem||t.waitingItem,s=e=>e?t.getAssetPlayer(e.identifier):e,i=(e,i,r,o,a)=>{if(e){let h=e[i].start;const l=e.event;if(l){if("playout"===i||l.timelineOccupancy!==_T.Point){const t=s(r);(null==t?void 0:t.interstitial)===l&&(h+=t.assetItem.startOffset+t[a])}}else{h+=("bufferedPos"===o?n():t[o])-e.start}return h}return 0},r=(e,s)=>{if(0!==e&&"primary"!==s&&t.schedule.length){var i;const r=t.schedule.findItemIndexAtTime(e),n=null==(i=t.schedule.items)?void 0:i[r];if(n){return e+(n[s].start-n.start)}}return e},n=()=>{const e=t.bufferedPos;return e===Number.MAX_VALUE?o("primary"):Math.max(e,0)},o=e=>{var s;return null!=(s=t.primaryDetails)&&s.live?t.primaryDetails.edge:t.schedule.durations[e]},a=(e,r)=>{var n,o;const a=t.effectivePlayingItem;if(null!=a&&null!=(n=a.event)&&n.restrictions.skip)return;t.log(`seek to ${e} "${r}"`);const h=t.effectivePlayingItem,l=t.schedule.findItemIndexAtTime(e,r),c=null==(o=t.schedule.items)?void 0:o[l],d=t.getBufferingPlayer(),u=null==d?void 0:d.interstitial,p=null==u?void 0:u.appendInPlace,f=h&&t.itemsMatch(h,c);if(h&&(p||f)){const n=s(t.playingAsset),o=(null==n?void 0:n.media)||t.primaryMedia;if(o){const s="primary"===r?o.currentTime:i(h,r,t.playingAsset,"timelinePos","currentTime"),a=e-s,l=(p?s:o.currentTime)+a;if(l>=0&&(!n||p||l<=n.duration))return void(o.currentTime=l)}}if(c){let s=e;if("primary"!==r){const t=e-c[r].start;s=c.start+t}const i=!t.isInterstitial(c);if(t.isInterstitial(h)&&!h.event.appendInPlace||!i&&!c.event.appendInPlace){if(h){const n=t.findItemIndex(h);if(l>n){const e=t.schedule.findJumpRestrictedIndex(n+1,l);if(e>n)return void t.setSchedulePosition(e)}let o=0;if(i)t.timelinePos=s,t.checkBuffer();else{var m;const t=null==c||null==(m=c.event)?void 0:m.assetList;if(t){const s=e-(c[r]||c).start;for(let e=t.length;e--;){const i=t[e];if(i.duration&&s>=i.startOffset&&s<i.startOffset+i.duration){o=e;break}}}}t.setSchedulePosition(l,o)}}else{const e=t.media||(p?null==d?void 0:d.media:null);e&&(e.currentTime=s)}}},h=()=>{const s=t.effectivePlayingItem;if(t.isInterstitial(s))return s;const i=e();return t.isInterstitial(i)?i:null},l={get currentTime(){const e=h(),s=t.effectivePlayingItem;return s&&s===e?i(s,"playout",t.effectivePlayingAsset,"timelinePos","currentTime")-s.playout.start:0},set currentTime(e){const s=h(),i=t.effectivePlayingItem;i&&i===s&&a(e+i.playout.start,"playout")},get duration(){const t=h();return t?t.playout.end-t.playout.start:0},get assetPlayers(){var e;const s=null==(e=h())?void 0:e.event.assetList;return s?s.map((e=>t.getAssetPlayer(e.identifier))):[]},get playingIndex(){var e;const s=null==(e=h())?void 0:e.event;return s&&t.effectivePlayingAsset?s.findAssetIndex(t.effectivePlayingAsset):-1},get scheduleItem(){return h()}};this.manager={get events(){var e,s;return(null==(e=t.schedule)||null==(s=e.events)?void 0:s.slice(0))||[]},get schedule(){var e,s;return(null==(e=t.schedule)||null==(s=e.items)?void 0:s.slice(0))||[]},get interstitialPlayer(){return h()?l:null},get playerQueue(){return t.playerQueue.slice(0)},get bufferingAsset(){return t.bufferingAsset},get bufferingItem(){return e()},get bufferingIndex(){const s=e();return t.findItemIndex(s)},get playingAsset(){return t.effectivePlayingAsset},get playingItem(){return t.effectivePlayingItem},get playingIndex(){const e=t.effectivePlayingItem;return t.findItemIndex(e)},primary:{get bufferedEnd(){return n()},get currentTime(){const e=t.timelinePos;return e>0?e:0},set currentTime(t){a(t,"primary")},get duration(){return o("primary")},get seekableStart(){var e;return(null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(e(),"integrated",t.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(t.effectivePlayingItem,"integrated",t.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(t){a(t,"integrated")},get duration(){return o("integrated")},get seekableStart(){var e;return r((null==(e=t.primaryDetails)?void 0:e.fragmentStart)||0,"integrated")}},skip:()=>{const e=t.effectivePlayingItem,s=null==e?void 0:e.event;if(s&&!s.restrictions.skip){const i=t.findItemIndex(e);if(s.appendInPlace){const t=e.playout.start+e.event.duration;a(t+.001,"playout")}else t.advanceAfterAssetEnded(s,i,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var t;const e=this.playingItem,s=null==(t=this.schedule)?void 0:t.items;return!!(this.playbackStarted&&e&&s)&&this.findItemIndex(e)===s.length-1}get playbackStarted(){return null!==this.effectivePlayingItem}get currentTime(){var t,e,s;if(null===this.mediaSelection)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let r=this.media;!r&&null!=(t=this.bufferingItem)&&null!=(e=t.event)&&e.appendInPlace&&(r=this.primaryMedia);const n=null==(s=r)?void 0:s.currentTime;return void 0!==n&&Oy(n)?n:void 0}get primaryMedia(){var t;return this.media||(null==(t=this.detachedData)?void 0:t.media)||null}isInterstitial(t){return!(null==t||!t.event)}retreiveMediaSource(t,e){const s=this.getAssetPlayer(t);s&&this.transferMediaFromPlayer(s,e)}transferMediaFromPlayer(t,e){const s=t.interstitial.appendInPlace,i=t.media;if(s&&i===this.primaryMedia){if(this.bufferingAsset=null,(!e||this.isInterstitial(e)&&!e.event.appendInPlace)&&e&&i)return void(this.detachedData={media:i});const s=t.transferMedia();this.log(`transfer MediaSource from ${t} ${Dv(s)}`),this.detachedData=s}else e&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(t,e){var s,i;if(t.media===e)return;let r=null;const n=this.hls,o=t!==n,a=o&&t.interstitial.appendInPlace,h=null==(s=this.detachedData)?void 0:s.mediaSource;let l;if(n.media)a&&(r=n.transferMedia(),this.detachedData=r),l="Primary";else if(h){const t=this.getBufferingPlayer();t?(r=t.transferMedia(),l=`${t}`):l="detached MediaSource"}else l="detached media";if(!r)if(h)r=this.detachedData,this.log(`using detachedData: MediaSource ${Dv(r)}`);else if(!this.detachedData||n.media===e){const t=this.playerQueue;t.length>1&&t.forEach((t=>{if(o&&t.interstitial.appendInPlace!==a){const e=t.interstitial;this.clearInterstitial(t.interstitial,null),e.appendInPlace=!1,e.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${e}`)}})),this.hls.detachMedia(),this.detachedData={media:e}}const c=r&&"mediaSource"in r&&"closed"!==(null==(i=r.mediaSource)?void 0:i.readyState),d=c&&r?r:e;if(this.log(`${c?"transfering MediaSource":"attaching media"} to ${o?t:"Primary"} from ${l}`),d===r){const e=o&&t.assetId===this.schedule.assetIdAtEnd;d.overrides={duration:this.schedule.duration,endOfStream:!o||e,cueRemoval:!o}}t.attachMedia(d)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const t=this.schedule,e=t.events;if(!e||this.playbackDisabled||!this.media)return;-1===this.bufferedPos&&(this.bufferedPos=0);const s=this.timelinePos,i=this.effectivePlayingItem;if(-1===s){const s=this.hls.startPosition;if(this.timelinePos=s,e.length&&e[0].cue.pre){const s=t.findEventIndex(e[0].identifier);this.setSchedulePosition(s)}else if(s>=0||!this.primaryLive){const e=this.timelinePos=s>0?s:0,i=t.findItemIndexAtTime(e);this.setSchedulePosition(i)}}else if(i&&!this.playingItem){const e=t.findItemIndex(i);this.setSchedulePosition(e)}}advanceAfterAssetEnded(t,e,s){const i=PT(t,s);if(t.isAssetPastPlayoutLimit(i)){const s=this.schedule.items;if(s){const i=e+1;if(i>=s.length)return void this.setSchedulePosition(-1);const r=t.resumeTime;this.timelinePos<r&&(this.timelinePos=r,this.checkBuffer()),this.setSchedulePosition(i)}}else this.setSchedulePosition(e,i)}setScheduleToAssetAtTime(t,e){const s=this.schedule,i=e.parentIdentifier,r=s.getEvent(i);if(r){const e=s.findEventIndex(i),n=s.findAssetIndex(r,t);this.advanceAfterAssetEnded(r,e,n-1)}}setSchedulePosition(t,e){const s=this.schedule.items;if(!s||this.playbackDisabled)return;this.log(`setSchedulePosition ${t}, ${e}`);const i=t>=0?s[t]:null,r=this.playingItem,n=this.playingLastItem;if(this.isInterstitial(r)){var o;const h=r.event,l=this.playingAsset,c=null==l?void 0:l.identifier,d=c?this.getAssetPlayer(c):null;if(d&&c&&(!this.eventItemsMatch(r,i)||void 0!==e&&c!==(null==(o=h.assetList)?void 0:o[e].identifier))){var a;const e=h.findAssetIndex(l);this.log(`INTERSTITIAL_ASSET_ENDED ${e+1}/${h.assetList.length} ${xT(l)}`),this.endedAsset=l,this.playingAsset=null,this.hls.trigger(Gy.INTERSTITIAL_ASSET_ENDED,{asset:l,assetListIndex:e,event:h,schedule:s.slice(0),scheduleIndex:t,player:d}),this.retreiveMediaSource(c,i),!d.media||null!=(a=this.detachedData)&&a.mediaSource||d.detachMedia()}if(!this.eventItemsMatch(r,i)&&(this.endedItem=r,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${h} ${FT(r)}`),h.hasPlayed=!0,this.hls.trigger(Gy.INTERSTITIAL_ENDED,{event:h,schedule:s.slice(0),scheduleIndex:t}),h.cue.once)){this.updateSchedule();const t=this.schedule.items;if(i&&t){const s=this.schedule.findItemIndex(i);this.advanceSchedule(s,t,e,r,n)}return}}this.advanceSchedule(t,s,e,r,n)}advanceSchedule(t,e,s,i,r){const n=t>=0?e[t]:null,o=this.primaryMedia,a=this.playerQueue;if(a.length&&a.forEach((e=>{const s=e.interstitial,i=this.schedule.findEventIndex(s.identifier);(i<t||i>t+1)&&this.clearInterstitial(s,n)})),this.isInterstitial(n)){this.timelinePos=Math.min(Math.max(this.timelinePos,n.start),n.end);const r=n.event;if(void 0===s){const e=PT(r,(s=this.schedule.findAssetIndex(r,this.timelinePos))-1);if(r.isAssetPastPlayoutLimit(e))return void this.advanceAfterAssetEnded(r,t,s);s=e}const a=this.waitingItem;this.assetsBuffered(n,o)||this.setBufferingItem(n);let h=this.preloadAssets(r,s);if(this.eventItemsMatch(n,a||i)||(this.waitingItem=n,this.log(`INTERSTITIAL_STARTED ${FT(n)} ${r.appendInPlace?"append in place":""}`),this.hls.trigger(Gy.INTERSTITIAL_STARTED,{event:r,schedule:e.slice(0),scheduleIndex:t})),!r.assetListLoaded)return void this.log(`Waiting for ASSET-LIST to complete loading ${r}`);if(r.assetListLoader&&(r.assetListLoader.destroy(),r.assetListLoader=void 0),!o)return void this.log(`Waiting for attachMedia to start Interstitial ${r}`);this.waitingItem=this.endedItem=null,this.playingItem=n;const l=r.assetList[s];if(!l){const i=e[t+1],n=this.media;return i&&n&&!this.isInterstitial(i)&&n.currentTime<i.start&&(n.currentTime=this.timelinePos=i.start),void this.advanceAfterAssetEnded(r,t,s||0)}if(h||(h=this.getAssetPlayer(l.identifier)),null===h||h.destroyed){const t=r.assetList.length;this.warn(`asset ${s+1}/${t} player destroyed ${r}`),h=this.createAssetPlayer(r,l,s)}if(!this.eventItemsMatch(n,this.bufferingItem)&&r.appendInPlace&&this.isAssetBuffered(l))return;this.startAssetPlayer(h,s,e,t,o),this.shouldPlay&&OT(h.media)}else null!==n?(this.resumePrimary(n,t,i),this.shouldPlay&&OT(this.hls.media)):r&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return!1===this.hls.config.enableInterstitialPlayback}get primaryDetails(){var t,e;return null==(t=this.mediaSelection)||null==(e=t.main)?void 0:e.details}get primaryLive(){var t;return!(null==(t=this.primaryDetails)||!t.live)}resumePrimary(t,e,s){var i;if(this.playingItem=t,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(t),this.log(`resuming ${FT(t)}`),null==(i=this.detachedData)||!i.mediaSource){let s=this.timelinePos;(s<t.start||s>=t.end)&&(s=this.getPrimaryResumption(t,e),this.timelinePos=s),this.attachPrimary(s,t)}if(!s)return;const r=this.schedule.items;r&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${FT(t)}`),this.hls.trigger(Gy.INTERSTITIALS_PRIMARY_RESUMED,{schedule:r.slice(0),scheduleIndex:e}),this.checkBuffer())}getPrimaryResumption(t,e){const s=t.start;if(this.primaryLive){const t=this.primaryDetails;if(0===e)return this.hls.startPosition;if(t&&(s<t.fragmentStart||s>t.edge))return this.hls.liveSyncPosition||-1}return s}isAssetBuffered(t){const e=this.getAssetPlayer(t.identifier);if(null!=e&&e.hls)return e.hls.bufferedToEnd;return Tb.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=t.timelineStart+(t.duration||0)}attachPrimary(t,e,s){e?this.setBufferingItem(e):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const r=this.hls;r.media?this.checkBuffer():(this.transferMediaTo(r,i),s&&this.startLoadingPrimaryAt(t,s)),s||(this.timelinePos=t,this.startLoadingPrimaryAt(t,s))}startLoadingPrimaryAt(t,e){var s;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs(((null==(s=i.mainForwardBufferInfo)?void 0:s.start)||i.media.currentTime)-t)>.5?i.startLoad(t,e):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Gy.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Gy.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(t,e){if(-1===e.level)return;const s=this.hls.levels[e.level],i=sA(sA({},this.mediaSelection||this.altSelection),{},{main:s});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(t,e){const s=this.hls.audioTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=sA(sA({},this.altSelection),{},{audio:s}));const r=sA(sA({},i),{},{audio:s});this.mediaSelection=r}onSubtitleTrackUpdated(t,e){const s=this.hls.subtitleTracks[e.id],i=this.mediaSelection;if(!i)return void(this.altSelection=sA(sA({},this.altSelection),{},{subtitles:s}));const r=sA(sA({},i),{},{subtitles:s});this.mediaSelection=r}onAudioTrackSwitching(t,e){const s=Pv(e);this.playerQueue.forEach((t=>t.hls.setAudioOption(e)||t.hls.setAudioOption(s)))}onSubtitleTrackSwitch(t,e){const s=Pv(e);this.playerQueue.forEach((t=>t.hls.setSubtitleOption(e)||-1!==e.id&&t.hls.setSubtitleOption(s)))}onBufferCodecs(t,e){const s=e.tracks;s&&(this.requiredTracks=s)}onBufferAppended(t,e){this.checkBuffer()}onBufferFlushed(t,e){const s=this.playingItem;if(s&&!this.itemsMatch(s,this.bufferingItem)&&!this.isInterstitial(s)){const t=this.timelinePos;this.bufferedPos=t,this.checkBuffer()}}onBufferedToEnd(t){const e=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&e){for(let t=0;t<e.length;t++){const i=e[t];if(i.cue.post){var s;const t=this.schedule.findEventIndex(i.identifier),e=null==(s=this.schedule.items)?void 0:s[t];this.isInterstitial(e)&&this.eventItemsMatch(e,this.bufferingItem)&&this.bufferedToItem(e,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(t){const e=this.playingItem;if(!this.playingLastItem&&e){const t=this.findItemIndex(e);this.setSchedulePosition(t+1)}else this.shouldPlay=!1}updateItem(t,e){const s=this.schedule.items;if(t&&s){return s[this.findItemIndex(t,e)]||null}return null}trimInPlace(t,e){if(this.isInterstitial(t)&&t.event.appendInPlace&&e.end-t.end>.25){t.event.assetList.forEach(((e,s)=>{t.event.isAssetPastPlayoutLimit(s)&&this.clearAssetPlayer(e.identifier,null)}));const e=t.end+.25,s=Tb.bufferInfo(this.primaryMedia,e,0);(s.end>e||(s.nextStart||0)>e)&&(this.attachPrimary(e,null),this.flushFrontBuffer(e))}}itemsMatch(t,e){return!!e&&(t===e||t.event&&e.event&&this.eventItemsMatch(t,e)||!t.event&&!e.event&&this.findItemIndex(t)===this.findItemIndex(e))}eventItemsMatch(t,e){var s;return!!e&&(t===e||t.event.identifier===(null==(s=e.event)?void 0:s.identifier))}findItemIndex(t,e){return t?this.schedule.findItemIndex(t,e):-1}updateSchedule(){const t=this.mediaSelection;t&&this.schedule.updateSchedule(t,[])}checkBuffer(t){const e=this.schedule.items;if(!e)return;const s=Tb.bufferInfo(this.primaryMedia,this.timelinePos,0);t&&(this.bufferedPos=this.timelinePos),t||(t=s.len<1),this.updateBufferedPos(s.end,e,t)}updateBufferedPos(t,e,s){const i=this.schedule,r=this.bufferingItem;if(this.bufferedPos>t)return;if(1===e.length&&this.itemsMatch(e[0],r))return void(this.bufferedPos=t);const n=this.playingItem,o=this.findItemIndex(n);let a=i.findItemIndexAtTime(t);if(this.bufferedPos<t){var h,l;const s=this.findItemIndex(r),i=Math.min(s+1,e.length-1),n=e[i];if((-1===a&&r&&t>=r.end||null!=(h=n.event)&&h.appendInPlace&&t+.01>=n.start)&&(a=i),i-o>1&&!1===(null==r||null==(l=r.event)?void 0:l.appendInPlace))return;if(this.bufferedPos=t,a>s&&a>o)this.bufferedToItem(n);else{const e=this.primaryDetails;this.primaryLive&&e&&t>e.edge-e.targetduration&&n.start<e.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(n)&&this.preloadAssets(n.event,0)}}else s&&n&&!this.itemsMatch(n,r)&&(a===o?this.bufferedToItem(n):a===o+1&&this.bufferedToItem(e[a]))}assetsBuffered(t,e){return 0!==t.event.assetList.length&&!t.event.assetList.some((t=>{const s=this.getAssetPlayer(t.identifier);return!(null!=s&&s.bufferedInPlaceToEnd(e))}))}setBufferingItem(t){const e=this.bufferingItem,s=this.schedule;if(this.itemsMatch(t,e))this.bufferingItem!==t&&(this.bufferingItem=t);else{const{items:i,events:r}=s;if(!i||!r)return e;const n=this.isInterstitial(t),o=this.getBufferingPlayer();this.bufferingItem=t,this.bufferedPos=Math.max(t.start,Math.min(t.end,this.timelinePos));const a=o?o.remaining:e?e.end-this.timelinePos:0;this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${FT(t)}`+(e?` (${a.toFixed(2)} remaining)`:"")),this.playbackDisabled||(n?t.event.assetList.forEach((t=>{const e=this.getAssetPlayer(t.identifier);e&&e.resumeBuffering()})):(this.hls.resumeBuffering(),this.playerQueue.forEach((t=>t.pauseBuffering())))),this.hls.trigger(Gy.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:r.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(t),playingIndex:this.findItemIndex(this.playingItem)})}return e}bufferedToItem(t,e=0){const s=this.setBufferingItem(t);if(!this.playbackDisabled)if(this.isInterstitial(t))this.bufferedToEvent(t,e);else if(null!==s){this.bufferingAsset=null;const e=this.detachedData;if(e)if(e.mediaSource){const e=!0;this.attachPrimary(t.start,t,e)}else this.preloadPrimary(t);else this.preloadPrimary(t)}}preloadPrimary(t){const e=this.findItemIndex(t),s=this.getPrimaryResumption(t,e);this.startLoadingPrimaryAt(s)}bufferedToEvent(t,e){const s=t.event,i=0===s.assetList.length&&!s.assetListLoader,r=s.cue.once;if(i||!r){const t=this.preloadAssets(s,e);if(null!=t&&t.interstitial.appendInPlace){const i=s.assetList[e],r=this.primaryMedia;i&&r&&this.bufferAssetPlayer(t,r)}}}preloadAssets(t,e){const s=t.assetUrl,i=t.assetList.length,r=0===i&&!t.assetListLoader,n=t.cue.once;if(r){const r=t.timelineStart;if(t.appendInPlace){var o;const e=this.playingItem;this.isInterstitial(e)||(null==e||null==(o=e.nextEvent)?void 0:o.identifier)!==t.identifier||this.flushFrontBuffer(r+.25)}let n,a=0;if(!this.playingItem&&this.primaryLive&&(a=this.hls.startPosition,-1===a&&(a=this.hls.liveSyncPosition||0)),a&&!t.cue.pre&&!t.cue.post){const t=a-r;t>0&&(n=Math.round(1e3*t)/1e3)}if(this.log(`Load interstitial asset ${e+1}/${s?1:i} ${t}${n?` live-start: ${a} start-offset: ${n}`:""}`),s)return this.createAsset(t,0,0,r,t.duration,s);const h=this.assetListLoader.loadAssetList(t,n);h&&(t.assetListLoader=h)}else if(!n&&i){for(let s=e;s<i;s++){const e=t.assetList[s],i=this.getAssetPlayerQueueIndex(e.identifier);-1!==i&&!this.playerQueue[i].destroyed||e.error||this.createAssetPlayer(t,e,s)}return this.getAssetPlayer(t.assetList[e].identifier)}return null}flushFrontBuffer(t){const e=this.requiredTracks;if(!e)return;this.log(`Removing front buffer starting at ${t}`);Object.keys(e).forEach((e=>{this.hls.trigger(Gy.BUFFER_FLUSHING,{startOffset:t,endOffset:1/0,type:e})}))}getAssetPlayerQueueIndex(t){const e=this.playerQueue;for(let s=0;s<e.length;s++)if(t===e[s].assetId)return s;return-1}getAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);return this.playerQueue[e]||null}getBufferingPlayer(){const{playerQueue:t,primaryMedia:e}=this;if(e)for(let s=0;s<t.length;s++)if(t[s].media===e)return t[s];return null}createAsset(t,e,s,i,r,n){const o={parentIdentifier:t.identifier,identifier:CT(t,n,e),duration:r,startOffset:s,timelineStart:i,uri:n};return this.createAssetPlayer(t,o,e)}createAssetPlayer(t,e,s){const i=this.hls,r=i.userConfig;let n=r.videoPreference;const o=i.loadLevelObj||i.levels[i.currentLevel];(n||o)&&(n=tA({},n),o.videoCodec&&(n.videoCodec=o.videoCodec),o.videoRange&&(n.allowedVideoRanges=[o.videoRange]));const a=i.audioTracks[i.audioTrack],h=i.subtitleTracks[i.subtitleTrack];let l=0;if(this.primaryLive||t.appendInPlace){const t=this.timelinePos-e.timelineStart;if(t>1){const s=e.duration;s&&t<s&&(l=t)}}const c=e.identifier,d=sA(sA({},r),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:c,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:l,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:n,audioPreference:a||r.audioPreference,subtitlePreference:h||r.subtitlePreference});t.appendInPlace&&(t.appendInPlaceStarted=!0,e.timelineStart&&(d.timelineOffset=e.timelineStart));const u=d.cmcd;null!=u&&u.sessionId&&u.contentId&&(d.cmcd=tA({},u,{contentId:IT(e.uri)})),this.getAssetPlayer(c)&&this.warn(`Duplicate date range identifier ${t} and asset ${c}`);const p=new MT(this.HlsPlayerClass,d,t,e);this.playerQueue.push(p),t.assetList[s]=e;const f=i=>{if(i.live){const e=new Error(`Interstitials MUST be VOD assets ${t}`),i={fatal:!0,type:Vy.OTHER_ERROR,details:Wy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e};return void this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,e.message)}const r=i.edge-i.fragmentStart,n=e.duration;(null===n||r>n)&&(this.log(`Interstitial asset "${c}" duration change ${n} > ${r}`),e.duration=r,this.updateSchedule())};p.on(Gy.LEVEL_UPDATED,((t,{details:e})=>f(e))),p.on(Gy.LEVEL_PTS_UPDATED,((t,{details:e})=>f(e)));const m=(t,e)=>{const s=this.getAssetPlayer(c);if(s&&e.tracks){s.off(Gy.BUFFER_CODECS,m),s.tracks=e.tracks;const t=this.primaryMedia;this.bufferingAsset===s.assetItem&&t&&!s.media&&this.bufferAssetPlayer(s,t)}};p.on(Gy.BUFFER_CODECS,m);const g=()=>{var s;const i=this.getAssetPlayer(c);if(this.log(`buffered to end of asset ${i}`),!i)return;const r=this.schedule.findEventIndex(t.identifier),n=null==(s=this.schedule.items)?void 0:s[r];if(this.isInterstitial(n)){const s=t.findAssetIndex(e),i=PT(t,s);if(t.isAssetPastPlayoutLimit(i)){var o;const t=null==(o=this.schedule.items)?void 0:o[r+1];t&&this.bufferedToItem(t)}else this.bufferedToItem(n,i)}};p.on(Gy.BUFFERED_TO_END,g);const y=e=>()=>{if(!this.getAssetPlayer(c))return;this.shouldPlay=!0;const s=this.schedule.findEventIndex(t.identifier);this.advanceAfterAssetEnded(t,s,e)};return p.once(Gy.MEDIA_ENDED,y(s)),p.once(Gy.PLAYOUT_LIMIT_REACHED,y(1/0)),p.on(Gy.ERROR,((e,i)=>{const r=this.getAssetPlayer(c);if(i.details!==Wy.BUFFER_STALLED_ERROR)this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,`Asset player error ${i.error} ${t}`);else if(null!=r&&r.media){const e=r.currentTime,s=r.duration-e;e&&t.appendInPlace&&s/r.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${c} ${t} at ${r.media.currentTime}`),g()):(this.warn(`Stalled at ${e} of ${e+s} in asset ${c} ${t}`),this.onTimeupdate(),this.checkBuffer(!0))}})),p.on(Gy.DESTROYING,(()=>{if(!this.getAssetPlayer(c))return;const e=new Error(`Asset player destroyed unexpectedly ${c}`),i={fatal:!0,type:Vy.OTHER_ERROR,details:Wy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e};this.handleAssetItemError(i,t,this.schedule.findEventIndex(t.identifier),s,e.message)})),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${xT(e)}`),this.hls.trigger(Gy.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:e,assetListIndex:s,event:t,player:p}),p}clearInterstitial(t,e){t.assetList.forEach((t=>{this.clearAssetPlayer(t.identifier,e)})),t.reset()}resetAssetPlayer(t){const e=this.getAssetPlayerQueueIndex(t);if(-1!==e){this.log(`reset asset player "${t}" after error`);const s=this.playerQueue[e];this.transferMediaFromPlayer(s,null),s.resetDetails()}}clearAssetPlayer(t,e){const s=this.getAssetPlayerQueueIndex(t);if(-1!==s){this.log(`clear asset player "${t}" toSegment: ${e?FT(e):e}`);const i=this.playerQueue[s];this.transferMediaFromPlayer(i,e),this.playerQueue.splice(s,1),i.destroy()}}emptyPlayerQueue(){let t;for(;t=this.playerQueue.pop();)t.destroy();this.playerQueue=[]}startAssetPlayer(t,e,s,i,r){const{interstitial:n,assetItem:o,assetId:a}=t,h=n.assetList.length,l=this.playingAsset;this.endedAsset=null,this.playingAsset=o,l&&l.identifier===a||(l&&(this.clearAssetPlayer(l.identifier,s[i]),delete l.error),this.log(`INTERSTITIAL_ASSET_STARTED ${e+1}/${h} ${xT(o)}`),this.hls.trigger(Gy.INTERSTITIAL_ASSET_STARTED,{asset:o,assetListIndex:e,event:n,schedule:s.slice(0),scheduleIndex:i,player:t})),this.bufferAssetPlayer(t,r)}bufferAssetPlayer(t,e){var s,i;const{interstitial:r,assetItem:n}=t,o=this.schedule.findEventIndex(r.identifier),a=null==(s=this.schedule.items)?void 0:s[o];if(!a)return;this.setBufferingItem(a),this.bufferingAsset=n;const h=this.getBufferingPlayer();if(h===t)return;const l=r.appendInPlace;if(l&&!1===(null==h?void 0:h.interstitial.appendInPlace))return;const c=(null==h?void 0:h.tracks)||(null==(i=this.detachedData)?void 0:i.tracks)||this.requiredTracks;if(l&&n!==this.playingAsset){if(!t.tracks)return;if(c&&!dA(c,t.tracks)){const e=new Error(`Asset ${xT(n)} SourceBuffer tracks ('${Object.keys(t.tracks)}') are not compatible with primary content tracks ('${Object.keys(c)}')`),s={fatal:!0,type:Vy.OTHER_ERROR,details:Wy.INTERSTITIAL_ASSET_ITEM_ERROR,error:e},i=r.findAssetIndex(n);return void this.handleAssetItemError(s,r,o,i,e.message)}}this.transferMediaTo(t,e)}handleAssetItemError(t,e,s,i,r){if(t.details===Wy.BUFFER_STALLED_ERROR)return;const n=e.assetList[i];this.warn(`INTERSTITIAL_ASSET_ERROR ${n?xT(n):n} ${t.error}`);const o=null==n?void 0:n.identifier,a=this.getAssetPlayerQueueIndex(o),h=this.playerQueue[a]||null,l=this.schedule.items,c=tA({},t,{fatal:!1,errorAction:eb(!0),asset:n,assetListIndex:i,event:e,schedule:l,scheduleIndex:s,player:h});if(this.hls.trigger(Gy.INTERSTITIAL_ASSET_ERROR,c),!t.fatal)return;const d=this.playingAsset,u=new Error(r);if(n&&(this.clearAssetPlayer(o,null),n.error=u),e.assetList.some((t=>!t.error))){if(e.appendInPlace){for(let t=i;t<e.assetList.length;t++)this.resetAssetPlayer(e.assetList[t].identifier);this.updateSchedule()}}else e.error=u;e.error?this.primaryFallback(e):d&&d.identifier===o&&this.advanceAfterAssetEnded(e,s,i)}primaryFallback(t){const e=t.timelineStart,s=this.effectivePlayingItem;if(this.updateSchedule(),s){this.log(`Fallback to primary from event "${t.identifier}" start: ${e} pos: ${this.timelinePos} playing: ${s?FT(s):"<none>"} error: ${t.error}`);let i=this.timelinePos;-1===i&&(i=this.hls.startPosition);const r=this.updateItem(s,i);this.itemsMatch(s,r)&&this.clearInterstitial(t,null),t.appendInPlace&&(this.attachPrimary(e,null),this.flushFrontBuffer(e));const n=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(n)}else this.checkStart()}onAssetListLoaded(t,e){var s;const i=e.event,r=i.identifier,n=e.assetListResponse.ASSETS;if(!this.schedule.hasEvent(r))return;const o=i.timelineStart,a=i.duration;let h=0;n.forEach(((t,e)=>{const s=parseFloat(t.DURATION);this.createAsset(i,e,h,o+h,s,t.URI),h+=s})),i.duration=h,this.log(`Loaded asset-list with duration: ${h} (was: ${a}) ${i}`);const l=this.waitingItem,c=(null==l?void 0:l.event.identifier)===r;this.updateSchedule();const d=null==(s=this.bufferingItem)?void 0:s.event;if(c){var u;const t=this.schedule.findEventIndex(r),e=null==(u=this.schedule.items)?void 0:u[t];if(e){if(!this.playingItem&&this.timelinePos>e.end){if(this.schedule.findItemIndexAtTime(this.timelinePos)!==t)return i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),void this.primaryFallback(i)}this.setBufferingItem(e)}this.setSchedulePosition(t)}else if((null==d?void 0:d.identifier)===r&&d.appendInPlace){const t=i.assetList[0],e=this.getAssetPlayer(t.identifier),s=this.primaryMedia;t&&e&&s&&this.bufferAssetPlayer(e,s)}}onError(t,e){switch(e.details){case Wy.ASSET_LIST_PARSING_ERROR:case Wy.ASSET_LIST_LOAD_ERROR:case Wy.ASSET_LIST_LOAD_TIMEOUT:{const t=e.interstitial;t&&this.primaryFallback(t);break}case Wy.BUFFER_STALLED_ERROR:this.onTimeupdate(),this.checkBuffer(!0)}}}});function WI(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(WI):Object.keys(t).reduce(((e,s)=>(e[s]=WI(t[s]),e)),{}):t}function GI(t,e){const s=t.loader;if(s!==FI&&s!==jI)e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1})()&&(t.loader=FI,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}}class zI extends Sb{constructor(t,e){super("gap-controller",t.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var t;null!=(t=this.media)&&t.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{var t;this.hls&&(this.ended=(null==(t=this.media)?void 0:t.currentTime)||1,this.hls.trigger(Gy.MEDIA_ENDED,{stalled:!1}))},this.hls=t,this.fragmentTracker=e,this.registerListeners()}registerListeners(){const{hls:t}=this;t&&(t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(t,e){this.setInterval(100),this.mediaSource=e.mediaSource;const s=this.media=e.media;gT(s,"playing",this.onMediaPlaying),gT(s,"waiting",this.onMediaWaiting),gT(s,"ended",this.onMediaEnded)}onMediaDetaching(t,e){this.clearInterval();const{media:s}=this;s&&(yT(s,"playing",this.onMediaPlaying),yT(s,"waiting",this.onMediaWaiting),yT(s,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(t,e){this.buffered=e.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var t;if(null==(t=this.media)||!t.readyState||!this.hasBuffered)return;const e=this.media.currentTime;this.poll(e,this.lastCurrentTime),this.lastCurrentTime=e}poll(t,e){var s,i;const r=null==(s=this.hls)?void 0:s.config;if(!r)return;const n=this.media;if(!n)return;const{seeking:o}=n,a=this.seeking&&!o,h=!this.seeking&&o,l=n.paused&&!o||n.ended||0===n.playbackRate;if(this.seeking=o,t!==e)return e&&(this.ended=0),this.moved=!0,o||(this.nudgeRetry=0,r.nudgeOnVideoHole&&!l&&t>e&&this.nudgeOnVideoHole(t,e)),void(0===this.waiting&&this.stallResolved(t));if(h||a)return void(a&&this.stallResolved(t));if(l)return this.nudgeRetry=0,this.stallResolved(t),void(!this.ended&&n.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(Gy.MEDIA_ENDED,{stalled:!1})));if(!Tb.getBuffered(n).length)return void(this.nudgeRetry=0);const c=Tb.bufferInfo(n,t,0),d=c.nextStart||0,u=this.fragmentTracker;if(o&&u&&this.hls){const e=HI(this.hls.inFlightFragments,t),s=c.len>2,i=!d||e||d-t>2&&!u.getPartialFragment(t);if(s||i)return;this.moved=!1}const p=null==(i=this.hls)?void 0:i.latestLevelDetails;if(!this.moved&&null!==this.stalled&&u){if(!(c.len>0)&&!d)return;const e=Math.max(d,c.start||0)-t,s=!(null==p||!p.live)?2*p.targetduration:2,i=u.getPartialFragment(t);if(e>0&&(e<=s||i))return void(n.paused||this._trySkipBufferHole(i))}const f=r.detectStallWithCurrentTimeMs,m=self.performance.now(),g=this.waiting;let y=this.stalled;if(null===y){if(!(g>0&&m-g<f))return void(this.stalled=m);y=this.stalled=g}const A=m-y;if(!o&&(A>=f||g)&&this.hls){var v;if("ended"===(null==(v=this.mediaSource)?void 0:v.readyState)&&(null==p||!p.live)&&Math.abs(t-((null==p?void 0:p.edge)||0))<1){if(this.ended)return;return this.ended=t||1,void this.hls.trigger(Gy.MEDIA_ENDED,{stalled:!0})}if(this._reportStall(c),!this.media||!this.hls)return}const b=Tb.bufferInfo(n,t,r.maxBufferHole);this._tryFixBufferStall(b,A,t)}stallResolved(t){const e=this.stalled;if(e&&this.hls&&(this.stalled=null,this.stallReported)){const s=self.performance.now()-e;this.log(`playback not stuck anymore @${t}, after ${Math.round(s)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Gy.STALL_RESOLVED,{})}}nudgeOnVideoHole(t,e){var s;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(s=this.buffered.audio)&&s.length&&i&&i.length>1&&t>i.end(0)){const s=Tb.bufferedInfo(Tb.timeRangesToArray(this.buffered.audio),t,0);if(s.len>1&&e>=s.start){const s=Tb.timeRangesToArray(i),r=Tb.bufferedInfo(s,e,0).bufferedIndex;if(r>-1&&r<s.length-1){const e=Tb.bufferedInfo(s,t,0).bufferedIndex,i=s[r].end,n=s[r+1].start;if((-1===e||e>r)&&n-i<1&&t-i<2){const s=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${t} hole: ${i} -> ${n} buffered index: ${e}`);this.warn(s.message),this.media.currentTime+=1e-6;const r=this.fragmentTracker.getPartialFragment(t)||void 0,o=Tb.bufferInfo(this.media,t,0);this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:s,reason:s.message,frag:r,buffer:o.len,bufferInfo:o})}}}}}_tryFixBufferStall(t,e,s){var i,r;const{fragmentTracker:n,media:o}=this,a=null==(i=this.hls)?void 0:i.config;if(!o||!n||!a)return;const h=null==(r=this.hls)?void 0:r.latestLevelDetails,l=n.getPartialFragment(s);if(l||null!=h&&h.live&&s<h.fragmentStart){if(this._trySkipBufferHole(l)||!this.media)return}const c=t.buffered,d=this.adjacentTraversal(t,s);(c&&c.length>1&&t.len>a.maxBufferHole||t.nextStart&&(t.nextStart-s<a.maxBufferHole||d))&&(e>1e3*a.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(t))}adjacentTraversal(t,e){const s=this.fragmentTracker,i=t.nextStart;if(s&&i){const t=s.getFragAtPos(e,Yy),r=s.getFragAtPos(i,Yy);if(t&&r)return r.sn-t.sn<2}return!1}_reportStall(t){const{hls:e,media:s,stallReported:i,stalled:r}=this;if(!i&&null!==r&&s&&e){this.stallReported=!0;const i=new Error(`Playback stalling at @${s.currentTime} due to low buffer (${Dv(t)})`);this.warn(i.message),e.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_STALLED_ERROR,fatal:!1,error:i,buffer:t.len,bufferInfo:t,stalled:{start:r}})}}_trySkipBufferHole(t){var e;const{fragmentTracker:s,media:i}=this,r=null==(e=this.hls)?void 0:e.config;if(!i||!s||!r)return 0;const n=i.currentTime,o=Tb.bufferInfo(i,n,0),a=n<o.start?o.start:o.nextStart;if(a&&this.hls){const e=o.len<=r.maxBufferHole,l=o.len>0&&o.len<1&&i.readyState<3,c=a-n;if(c>0&&(e||l)){if(c>r.maxBufferHole){let e=!1;if(0===n){const t=s.getAppendedFrag(0,Yy);t&&a<t.end&&(e=!0)}if(!e){const e=t||s.getAppendedFrag(n,Yy);if(e){var h;if(null==(h=this.hls.loadLevelObj)||!h.details)return 0;if(HI(this.hls.inFlightFragments,a))return 0;let t=!1,i=e.end;for(;i<a;){const e=s.getPartialFragment(i);if(!e){t=!0;break}i+=e.duration}if(t)return 0}}}const e=Math.max(a+.05,n+.1);if(this.warn(`skipping hole, adjusting currentTime from ${n} to ${e}`),this.moved=!0,i.currentTime=e,null==t||!t.gap){const s=new Error(`fragment loaded with buffer holes, seeking from ${n} to ${e}`);this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:s,reason:s.message,frag:t||void 0,buffer:o.len,bufferInfo:o})}return e}}return 0}_tryNudgeBuffer(t){const{hls:e,media:s,nudgeRetry:i}=this,r=null==e?void 0:e.config;if(!s||!r)return 0;const n=s.currentTime;if(this.nudgeRetry++,i<r.nudgeMaxRetry){const o=n+(i+1)*r.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${n} to ${o}`);this.warn(a.message),s.currentTime=o,e.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1,buffer:t.len,bufferInfo:t})}else{const s=new Error(`Playhead still not moving while enough data buffered @${n} after ${r.nudgeMaxRetry} nudges`);this.error(s.message),e.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.BUFFER_STALLED_ERROR,error:s,fatal:!0,buffer:t.len,bufferInfo:t})}}}function HI(t,e){const s=KI(t.main);if(s&&s.start<=e)return s;const i=KI(t.audio);return i&&i.start<=e?i:null}function KI(t){if(!t)return null;switch(t.state){case VS:case jS:case YS:case QS:return null}return t.frag}function qI(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function YI(t,e,s,i,r){let n=new t(e,s,"");try{n.value=i,r&&(n.type=r)}catch(o){n=new t(e,s,Dv(r?sA({type:r},i):i))}return n}const QI=(()=>{const t=qI();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function JI(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class XI{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Gy.EVENT_CUE_ENTER,{})},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:t}=this;t.on(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Gy.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(Gy.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(Gy.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Gy.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(t,e){var s;this.media=e.media,!1===(null==(s=e.overrides)?void 0:s.cueRemoval)&&(this.removeCues=!1)}onMediaAttached(){const t=this.hls.latestLevelDetails;t&&this.updateDateRangeCues(t)}onMediaDetaching(t,e){this.media=null;!!e.transferMedia||(this.id3Track&&(this.removeCues&&ET(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const s=t[e];if("metadata"===s.kind&&"id3"===s.label)return bT(s,this.media),s}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:s,enableID3MetadataCues:i}}}=this;if(!s&&!i)return;const{samples:r}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const n=qI();if(n)for(let t=0;t<r.length;t++){const e=r[t].type;if(e===CE.emsg&&!s||!i)continue;const o=TE(r[t].data);if(o){const s=r[t].pts;let i=s+r[t].duration;i>QI&&(i=QI);i-s<=0&&(i=s+.25);for(let t=0;t<o.length;t++){const r=o[t];if(!IE(r)){this.updateId3CueEnds(s,e);const t=YI(n,s,i,r,e);t&&this.id3Track.addCue(t)}}}}}updateId3CueEnds(t,e){var s;const i=null==(s=this.id3Track)?void 0:s.cues;if(i)for(let s=i.length;s--;){const r=i[s];r.type===e&&r.startTime<t&&r.endTime===QI&&(r.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:s,type:i}){const{id3Track:r,hls:n}=this;if(!n)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:a}}=n;if(r&&(o||a)){let t;t="audio"===i?t=>t.type===CE.audioId3&&a:"video"===i?t=>t.type===CE.emsg&&o:t=>t.type===CE.audioId3&&a||t.type===CE.emsg&&o,wT(r,e,s,t)}}onLevelUpdated(t,{details:e}){this.updateDateRangeCues(e,!0)}onLevelPtsUpdated(t,e){Math.abs(e.drift)>.01&&this.updateDateRangeCues(e.details)}updateDateRangeCues(t,e){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:s}=this,{dateRanges:i}=t,r=Object.keys(i);let n=this.dateRangeCuesAppended;var o;if(s&&e)if(null!=(o=s.cues)&&o.length){const t=Object.keys(n).filter((t=>!r.includes(t)));for(let e=t.length;e--;){const i=t[e],r=n[i].cues;delete n[i],Object.keys(r).forEach((t=>{try{const e=r[t];e.removeEventListener("enter",this.onEventCueEnter),s.removeCue(e)}catch(t){}}))}}else n=this.dateRangeCuesAppended={};const a=t.fragments[t.fragments.length-1];if(0===r.length||!Oy(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const h=qI();for(let t=0;t<r.length;t++){const e=r[t],s=i[e],o=s.startTime,a=n[e],c=(null==a?void 0:a.cues)||{};let d=(null==a?void 0:a.durationKnown)||!1,u=QI;const{duration:p,endDate:f}=s;if(f&&null!==p)u=o+p,d=!0;else if(s.endOnNext&&!d){const t=r.reduce(((t,e)=>{if(e!==s.id){const r=i[e];if(r.class===s.class&&r.startDate>s.startDate&&(!t||s.startDate<t.startDate))return r}return t}),null);t&&(u=t.startTime,d=!0)}const m=Object.keys(s.attr);for(let t=0;t<m.length;t++){const i=m[t];if("ID"===(l=i)||"CLASS"===l||"CUE"===l||"START-DATE"===l||"DURATION"===l||"END-DATE"===l||"END-ON-NEXT"===l)continue;const r=c[i];if(r)d&&!a.durationKnown?r.endTime=u:Math.abs(r.startTime-o)>.01&&(r.startTime=o,r.endTime=u);else if(h){let t=s.attr[i];xb(i)&&(t=JI(t));const r=YI(h,o,u,{key:i,data:t},CE.dateRange);r&&(r.id=e,this.id3Track.addCue(r),c[i]=r,this.hls.config.interstitialsController&&("X-ASSET-LIST"!==i&&"X-ASSET-URL"!==i||r.addEventListener("enter",this.onEventCueEnter)))}}n[e]={cues:c,dateRange:s,durationKnown:d}}var l}}class $I{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,e=this.levelDetails;if(!t||!e)return;this.currentTime=t.currentTime;const s=this.computeLatency();if(null===s)return;this._latency=s;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:r}=this.config;if(!i||1===r||!e.live)return;const n=this.targetLatency;if(null===n)return;const o=s-n;if(o<Math.min(this.maxLatency,n+e.targetduration)&&o>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,r)),s=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20,i=Math.min(e,Math.max(1,s));this.changeMediaPlaybackRate(t,i)}else 1!==t.playbackRate&&0!==t.playbackRate&&this.changeMediaPlaybackRate(t,1)},this.hls=t,this.config=t.config,this.registerListeners()}get levelDetails(){var t;return(null==(t=this.hls)?void 0:t.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:t}=this;if(void 0!==t.liveMaxLatencyDuration)return t.liveMaxLatencyDuration;const e=this.levelDetails;return e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const t=this.levelDetails;if(null===t||null===this.hls)return null;const{holdBack:e,partHoldBack:s,targetduration:i}=t,{liveSyncDuration:r,liveSyncDurationCount:n,lowLatencyMode:o}=this.config,a=this.hls.userConfig;let h=o&&s||e;(this._targetLatencyUpdated||a.liveSyncDuration||a.liveSyncDurationCount||0===h)&&(h=void 0!==r?r:n*i);const l=i;return h+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,l)}set targetLatency(t){this.stallCount=0,this.config.liveSyncDuration=t,this._targetLatencyUpdated=!0}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency;if(null===t||null===e)return null;const s=this.levelDetails;if(null===s)return null;const i=s.edge,r=t-e-this.edgeStalled,n=i-s.totalduration,o=i-(this.config.lowLatencyMode&&s.partTarget||s.targetduration);return Math.min(Math.max(n,r),o)}get drift(){const t=this.levelDetails;return null===t?1:t.drift}get edgeStalled(){const t=this.levelDetails;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t}=this,e=this.levelDetails;if(!t||!e)return 0;const s=t.buffered.length;return(s?t.buffered.end(s-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:t}=this;t&&(t.on(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(Gy.ERROR,this.onError,this))}unregisterListeners(){const{hls:t}=this;t&&(t.off(Gy.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(Gy.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(Gy.ERROR,this.onError,this))}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){e.advanced&&this.onTimeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(t,e){var s;e.details===Wy.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(s=this.levelDetails)&&s.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(t,e){var s,i;t.playbackRate!==e&&(null==(s=this.hls)||s.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${null==(i=this.targetLatency)?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${t.playbackRate} to ${e}`),t.playbackRate=e)}estimateLiveEdge(){const t=this.levelDetails;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}class ZI extends Dw{constructor(t,e){super(t,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.on(Gy.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Gy.FRAG_BUFFERED,this.onFragBuffered,this),t.off(Gy.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const s=this.hls.config.preferManagedMediaSource,i=[],r={},n={};let o=!1,a=!1,h=!1;e.levels.forEach((t=>{const e=t.attrs;let{audioCodec:l,videoCodec:c}=t;l&&(t.audioCodec=l=lv(l,s)||void 0),c&&(c=t.videoCodec=function(t){const e=t.split(",");for(let t=0;t<e.length;t++){const s=e[t].split(".");s.length>2&&"avc1"===s[0]&&(e[t]=`avc1.${parseInt(s[1]).toString(16)}${("000"+parseInt(s[2]).toString(16)).slice(-4)}`)}return e.join(",")}(c));const{width:d,height:u,unknownCodecs:p}=t;let f=p?p.length:0;if(p)for(let e=f;e--;){const s=p[e];this.isAudioSupported(s)?(t.audioCodec=l=l?`${l},${s}`:s,f--,tv.audio[l.substring(0,4)]=2):this.isVideoSupported(s)&&(t.videoCodec=c=c?`${c},${s}`:s,f--,tv.video[c.substring(0,4)]=2)}if(o||(o=!(!d||!u)),a||(a=!!c),h||(h=!!l),f||l&&!this.isAudioSupported(l)||c&&!this.isVideoSupported(c))return void this.log(`Some or all CODECS not supported "${e.CODECS}"`);const{CODECS:m,"FRAME-RATE":g,"HDCP-LEVEL":y,"PATHWAY-ID":A,RESOLUTION:v,"VIDEO-RANGE":b}=e,S=`${`${A||"."}-`}${t.bitrate}-${v}-${g}-${m}-${b}-${y}`;if(r[S])if(r[S].uri===t.url||t.attrs["PATHWAY-ID"])r[S].addGroupId("audio",e.AUDIO),r[S].addGroupId("text",e.SUBTITLES);else{const e=n[S]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const s=this.createLevel(t);r[S]=s,i.push(s)}else{const e=this.createLevel(t);r[S]=e,n[S]=1,i.push(e)}})),this.filterAndSortMediaOptions(i,e,o,a,h)}createLevel(t){const e=new kv(t),s=t.supplemental;if(null!=s&&s.videoCodec&&!this.isVideoSupported(s.videoCodec)){const t=new Error(`SUPPLEMENTAL-CODECS not supported "${s.videoCodec}"`);this.log(t.message),e.supportedResult=mv(t,[])}return e}isAudioSupported(t){return sv(t,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(t){return sv(t,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(t,e,s,i,r){let n=[],o=[],a=t;if((s||i)&&r&&(a=a.filter((({videoCodec:t,videoRange:e,width:s,height:i})=>{return(!!t||!(!s||!i))&&(!!(r=e)&&bv.indexOf(r)>-1);var r}))),0===a.length)return void Promise.resolve().then((()=>{if(this.hls){let t="no level with compatible codecs found in manifest",s=t;e.levels.length&&(s=`one or more CODECS in variant not supported: ${Dv(e.levels.map((t=>t.attrs.CODECS)).filter(((t,e,s)=>s.indexOf(t)===e)))}`,this.warn(s),t+=` (${s})`);const i=new Error(t);this.hls.trigger(Gy.ERROR,{type:Vy.MEDIA_ERROR,details:Wy.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:i,reason:s})}}));e.audioTracks&&(n=e.audioTracks.filter((t=>!t.audioCodec||this.isAudioSupported(t.audioCodec))),tk(n)),e.subtitles&&(o=e.subtitles,tk(o));const h=a.slice(0);a.sort(((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(s&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return bv.indexOf(t.videoRange)-bv.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const s=nv(t.videoCodec),i=nv(e.videoCodec);if(s!==i)return i-s}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const s=ov(t.codecSet),i=ov(e.codecSet);if(s!==i)return i-s}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0}));let l=h[0];if(this.steering&&(a=this.steering.filterParsedLevels(a),a.length!==h.length))for(let t=0;t<h.length;t++)if(h[t].pathwayId===a[0].pathwayId){l=h[t];break}this._levels=a;for(let t=0;t<a.length;t++)if(a[t]===l){var c;this._firstLevel=t;const e=l.bitrate,s=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${a.length} level(s) found, first bitrate: ${e}`),void 0===(null==(c=this.hls.userConfig)?void 0:c.abrEwmaDefaultEstimate)){const t=Math.min(e,this.hls.config.abrEwmaDefaultEstimateMax);t>s&&s===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=t)}break}const d=r&&!i,u=this.hls.config,p=!(!u.audioStreamController||!u.audioTrackController),f={levels:a,audioTracks:n,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:r,video:i,altAudio:p&&!d&&n.some((t=>!!t.url))};this.hls.trigger(Gy.MANIFEST_PARSED,f)}get levels(){return 0===this._levels.length?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const s=new Error("invalid level idx"),i=t<0;if(this.hls.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.LEVEL_SWITCH_ERROR,level:t,fatal:i,error:s,reason:s.message}),i)return;t=Math.min(t,e.length-1)}const s=this.currentLevelIndex,i=this.currentLevel,r=i?i.attrs["PATHWAY-ID"]:void 0,n=e[t],o=n.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=n,s===t&&i&&r===o)return;this.log(`Switching to level ${t} (${n.height?n.height+"p ":""}${n.videoRange?n.videoRange+" ":""}${n.codecSet?n.codecSet+" ":""}@${n.bitrate})${o?" with Pathway "+o:""} from level ${s}${r?" with Pathway "+r:""}`);const a={level:t,attrs:n.attrs,details:n.details,bitrate:n.bitrate,averageBitrate:n.averageBitrate,maxBitrate:n.maxBitrate,realBitrate:n.realBitrate,width:n.width,height:n.height,codecSet:n.codecSet,audioCodec:n.audioCodec,videoCodec:n.videoCodec,audioGroups:n.audioGroups,subtitleGroups:n.subtitleGroups,loaded:n.loaded,loadError:n.loadError,fragmentError:n.fragmentError,name:n.name,id:n.id,uri:n.uri,url:n.url,urlId:0,audioGroupIds:n.audioGroupIds,textGroupIds:n.textGroupIds};this.hls.trigger(Gy.LEVEL_SWITCHING,a);const h=n.details;if(!h||h.live){const t=this.switchParams(n.uri,null==i?void 0:i.details,h);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(t){if(this.steering){const e=this.steering.pathways(),s=t.filter((t=>-1!==e.indexOf(t)));if(t.length<1)return void this.warn(`pathwayPriority ${t} should contain at least one pathway from list: ${e}`);this.steering.pathwayPriority=s}}onError(t,e){!e.fatal&&e.context&&e.context.type===Hy&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===Yy){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return;const s=this._levels[e.level];null!=s&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(t,e){var s;const{level:i,details:r}=e,n=e.levelInfo;var o;if(!n)return this.warn(`Invalid level index ${i}`),void(null!=(o=e.deliveryDirectives)&&o.skip&&(r.deltaUpdateFailed=!0));if(n===this.currentLevel||e.withoutMultiVariant){0===n.fragmentError&&(n.loadError=0);let t=n.details;t===e.details&&t.advanced&&(t=void 0),this.playlistLoaded(i,e,t)}else null!=(s=e.deliveryDirectives)&&s.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,t)}loadingPlaylist(t,e){super.loadingPlaylist(t,e);const s=this.getUrlWithDirectives(t.uri,e),i=this.currentLevelIndex,r=t.attrs["PATHWAY-ID"],n=t.details,o=null==n?void 0:n.age;this.log(`Loading level index ${i}${void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:""}${r?" Pathway "+r:""}${o&&n.live?" age "+o.toFixed(1)+(n.type&&" "+n.type||""):""} ${s}`),this.hls.trigger(Gy.LEVEL_LOADING,{url:s,level:i,levelInfo:t,pathwayId:t.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;if(1===this._levels.length)return;const s=this._levels.filter(((e,s)=>s!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach((t=>t.level=-1))),!1)));xS(s),this._levels=s,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=s.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(Gy.LEVELS_UPDATED,{levels:s})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:s}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(Gy.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:s}))}}function tk(t){const e={};t.forEach((t=>{const s=t.groupId||"";t.id=e[s]=e[s]||0,e[s]++}))}function ek(){return self.SourceBuffer||self.WebKitSourceBuffer}function sk(){if(!cA())return!1;const t=ek();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}class ik extends $S{constructor(t,e,s){super(t,e,s,"stream-controller",Yy),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const t=this.media,e=t?t.currentTime:null;if(null===e||!Oy(e))return;if(this.log(`Media seeked to ${e.toFixed(3)}`),!this.getBufferedFrag(e))return;const s=this.getFwdBufferInfoAtPos(t,e,Yy,0);null!==s&&0!==s.len?this.tick():this.warn(`Main forward buffer length at ${e} on "seeked" event ${s?s.len:"empty"})`)},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:t}=this;t.on(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.on(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.on(Gy.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(Gy.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(Gy.BUFFER_CREATED,this.onBufferCreated,this),t.on(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(Gy.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:t}=this;t.off(Gy.MANIFEST_PARSED,this.onManifestParsed,this),t.off(Gy.LEVEL_LOADED,this.onLevelLoaded,this),t.off(Gy.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(Gy.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(Gy.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(Gy.BUFFER_CREATED,this.onBufferCreated,this),t.off(Gy.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(Gy.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(t,e){if(this.levels){const{lastCurrentTime:s,hls:i}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=i.startLevel;-1===t&&(i.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=i.firstAutoLevel),i.nextLoadLevel=t,this.level=i.loadLevel,this._hasEnoughToStart=!!e}s>0&&-1===t&&!e&&(this.log(`Override startPosition with lastCurrentTime @${s.toFixed(3)}`),t=s),this.state=VS,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=e?-1:t,this.tick()}else this._forceStartLoad=!0,this.state=jS}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case XS:{const{levels:t,level:e}=this,s=null==t?void 0:t[e],i=null==s?void 0:s.details;if(i&&(!i.live||this.levelLastLoaded===s&&!this.waitForLive(s))){if(this.waitForCdnTuneIn(i))break;this.state=VS;break}if(this.hls.nextLoadLevel!==this.level){this.state=VS;break}break}case zS:{var t;const e=self.performance.now(),s=this.retryDate;if(!s||e>=s||null!=(t=this.media)&&t.seeking){const{levels:t,level:e}=this,s=null==t?void 0:t[e];this.resetStartWhenNotLoaded(s||null),this.state=VS}}}this.state===VS&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var t;super.onTickEnd(),null!=(t=this.media)&&t.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:s,media:i}=this;if(null===e||!i&&!this.primaryPrefetch&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const r=this.buffering?t.nextLoadLevel:t.loadLevel;if(null==s||!s[r])return;const n=s[r],o=this.getMainFwdBufferInfo();if(null===o)return;const a=this.getLevelDetails();if(a&&this._streamEnded(o,a)){const t={};return 2===this.altAudio&&(t.type="video"),this.hls.trigger(Gy.BUFFER_EOS,t),void(this.state=YS)}if(!this.buffering)return;t.loadLevel!==r&&-1===t.manualLevel&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=t.nextLoadLevel=r;const h=n.details;if(!h||this.state===XS||this.waitForLive(n))return this.level=r,this.state=XS,void(this.startFragRequested=!1);const l=o.len,c=this.getMaxBufferLength(n.maxBitrate);if(l>=c)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:o.end;let u=this.getNextFragment(d,h);if(this.couldBacktrack&&!this.fragPrevious&&u&&wA(u)&&this.fragmentTracker.getState(u)!==nb){var p;const t=(null!=(p=this.backtrackFragment)?p:u).sn-h.startSN,e=h.fragments[t-1];e&&u.cc===e.cc&&(u=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(u&&this.isLoopLoading(u,d)){if(!u.gap){const t=this.audioOnly&&!this.altAudio?vA:bA,e=(t===bA?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,Yy)}u=this.getNextFragmentLoopLoading(u,h,o,Yy,c)}u&&(!u.initSegment||u.initSegment.data||this.bitrateTest||(u=u.initSegment),this.loadFragment(u,n,d))}loadFragment(t,e,s){const i=this.fragmentTracker.getState(t);i===sb||i===rb?wA(t)?this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):super.loadFragment(t,e,s):this._loadInitSegment(t,e):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,Yy)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let s;const i=this.getAppendedFrag(e.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const r=this.getLevelDetails();if(null!=r&&r.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*r.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],i=this.fragLastKbps;s=i&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*i)+1:0}else s=0;const n=this.getBufferedFrag(e.currentTime+s);if(n){const t=this.followingBufferedFrag(n);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,s=t.duration,i=Math.max(n.end,e+Math.min(Math.max(s-this.config.maxFragLookUpTolerance,s*(this.couldBacktrack?.5:.125)),s*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(i,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case WS:case GS:case zS:case KS:case qS:this.state=VS}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,2===this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const s=e.media;gT(s,"playing",this.onMediaPlaying),gT(s,"seeked",this.onMediaSeeked)}onMediaDetaching(t,e){const{media:s}=this;s&&(yT(s,"playing",this.onMediaPlaying),yT(s,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(t,e);!!e.transferMedia||(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Gy.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(t,e){let s=!1,i=!1;e.levels.forEach((t=>{const e=t.audioCodec;e&&(s=s||-1!==e.indexOf("mp4a.40.2"),i=i||-1!==e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=s&&i&&!function(){var t;const e=ek();return"function"==typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:s}=this;if(!s||this.state!==VS)return;const i=e.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=XS)}onLevelLoaded(t,e){var s;const{levels:i,startFragRequested:r}=this,n=e.level,o=e.details,a=o.totalduration;if(!i)return void this.warn(`Levels were reset while loading level ${n}`);this.log(`Level ${n} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const h=e.levelInfo,l=this.fragCurrent;!l||this.state!==GS&&this.state!==zS||l.level!==e.level&&l.loader&&this.abortCurrentFrag();let c=0;if(o.live||null!=(s=h.details)&&s.live){var d;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;c=this.alignPlaylists(o,h.details,null==(d=this.levelLastLoaded)?void 0:d.details)}if(h.details=o,this.levelLastLoaded=h,r||this.setStartPosition(o,c),this.hls.trigger(Gy.LEVEL_UPDATED,{details:o,level:n}),this.state===XS){if(this.waitForCdnTuneIn(o))return;this.state=VS}r&&o.live&&this.synchronizeToLiveEdge(o),this.tick()}synchronizeToLiveEdge(t){const{config:e,media:s}=this;if(!s)return;const i=this.hls.liveSyncPosition,r=this.getLoadPosition(),n=t.fragmentStart,o=t.edge,a=r>=n-e.maxFragLookUpTolerance&&r<=o;if(null!==i&&s.duration>i&&(r<i||!a)){const n=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;if((!a&&s.readyState<4||r<o-n)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),s.readyState))if(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),"buffered"===this.config.liveSyncMode){var h;const t=Tb.bufferInfo(s,i,0);if(null==t||null==(h=t.buffered)||!h.length)return void(s.currentTime=i);if(t.start<=r)return void(s.currentTime=i);const{nextStart:e}=Tb.bufferedInfo(t.buffered,r,0);e&&(s.currentTime=e)}else s.currentTime=i}}_handleFragmentLoadProgress(t){var e;const s=t.frag,{part:i,payload:r}=t,{levels:n}=this;if(!n)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${s.sn} of level ${s.level} will not be buffered`);const o=n[s.level];if(!o)return void this.warn(`Level ${s.level} not found on progress`);const a=o.details;if(!a)return this.warn(`Dropping fragment ${s.sn} of level ${s.level} after level details were reset`),void this.fragmentTracker.removeFragment(s);const h=o.videoCodec,l=a.PTSKnown||!a.live,c=null==(e=s.initSegment)?void 0:e.data,d=this._getAudioCodec(o),u=this.transmuxer=this.transmuxer||new Cw(this.hls,Yy,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,f=-1!==p,m=new Eb(s.level,s.sn,s.stats.chunkCount,r.byteLength,p,f),g=this.initPTS[s.cc];u.push(r,c,d,h,s,i,a.totalduration,l,m,g)}onAudioTrackSwitching(t,e){const s=this.hls,i=2===this.altAudio;if(Uv(e.url,s))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i)return this.fragmentTracker.removeAllFragments(),s.once(Gy.BUFFER_FLUSHED,(()=>{var t;null==(t=this.hls)||t.trigger(Gy.AUDIO_TRACK_SWITCHED,e)})),void s.trigger(Gy.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});s.trigger(Gy.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const s=Uv(e.url,this.hls);if(s){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=s?2:0,this.tick()}onBufferCreated(t,e){const s=e.tracks;let i,r,n=!1;for(const t in s){const e=s[t];if("main"===e.id){if(r=t,i=e,"video"===t){const e=s[t];e&&(this.videoBuffer=e.buffer)}}else n=!0}n&&i?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:s,part:i}=e,r=s.type===Yy;if(r){if(this.fragContextChanged(s))return this.warn(`Fragment ${s.sn}${i?" p: "+i.index:""} of level ${s.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===qS&&(this.state=VS));const t=i?i.stats:s.stats;this.fragLastKbps=Math.round(8*t.total/(t.buffering.end-t.loading.first)),wA(s)&&(this.fragPrevious=s),this.fragBufferedComplete(s,i)}const n=this.media;n&&(!this._hasEnoughToStart&&Tb.getBuffered(n).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),r&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(t,e){var s;if(e.fatal)this.state=QS;else switch(e.details){case Wy.FRAG_GAP:case Wy.FRAG_PARSING_ERROR:case Wy.FRAG_DECRYPT_ERROR:case Wy.FRAG_LOAD_ERROR:case Wy.FRAG_LOAD_TIMEOUT:case Wy.KEY_LOAD_ERROR:case Wy.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Yy,e);break;case Wy.LEVEL_LOAD_ERROR:case Wy.LEVEL_LOAD_TIMEOUT:case Wy.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==XS||(null==(s=e.context)?void 0:s.type)!==Hy||(this.state=VS);break;case Wy.BUFFER_ADD_CODEC_ERROR:case Wy.BUFFER_APPEND_ERROR:if("main"!==e.parent)return;this.resetLoadingState();break;case Wy.BUFFER_FULL_ERROR:if("main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Wy.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onFragLoadEmergencyAborted(){this.state=VS,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==vA||!this.altAudio){const t=(e===bA?this.videoBuffer:this.mediaBuffer)||this.media;t&&(this.afterBufferFlushed(t,e,Yy),this.tick())}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let s=this.startPosition;if(s>=0&&e<s){if(t.seeking)return void this.log(`could not seek to ${s}, already seeking at ${e}`);const i=this.timelineOffset;i&&s&&(s+=i);const r=this.getLevelDetails(),n=Tb.getBuffered(t),o=n.length?n.start(0):0,a=o-s,h=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||a>0&&(a<h||this.loadingParts&&a<2*((null==r?void 0:r.partTarget)||0)))&&(this.log(`adjusting start position by ${a} to match buffer start`),s+=a,this.startPosition=s),e<s&&(this.log(`seek to target start position ${s} from current time ${e} buffer start ${o}`),t.currentTime=s)}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((t=>{const{hls:s}=this,i=null==t?void 0:t.frag;if(!i||this.fragContextChanged(i))return;e.fragmentError=0,this.state=VS,this.startFragRequested=!1,this.bitrateTest=!1;const r=i.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),s.trigger(Gy.FRAG_LOADED,t),i.bitrateTest=!1}))}_handleTransmuxComplete(t){var e;const s=this.playlistType,{hls:i}=this,{remuxResult:r,chunkMeta:n}=t,o=this.getCurrentContext(n);if(!o)return void this.resetWhenMissingContext(n);const{frag:a,part:h,level:l}=o,{video:c,text:d,id3:u,initSegment:p}=r,{details:f}=l,m=this.altAudio?void 0:r.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=KS,p){if(null!=p&&p.tracks){const t=a.initSegment||a;this._bufferInitSegment(l,p.tracks,t,n),i.trigger(Gy.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:s,tracks:p.tracks})}const t=p.initPTS,e=p.timescale;Oy(t)&&(this.initPTS[a.cc]={baseTime:t,timescale:e},i.trigger(Gy.INIT_PTS_FOUND,{frag:a,id:s,initPTS:t,timescale:e}))}if(c&&f){m&&"audiovideo"===c.type&&this.logMuxedErr(a);const t=f.fragments[a.sn-1-f.startSN],e=a.sn===f.startSN,s=!t||a.cc>t.cc;if(!1!==r.independent){const{startPTS:t,endPTS:i,startDTS:r,endDTS:o}=c;if(h)h.elementaryStreams[c.type]={startPTS:t,endPTS:i,startDTS:r,endDTS:o};else if(c.firstKeyFrame&&c.independent&&1===n.id&&!s&&(this.couldBacktrack=!0),c.dropped&&c.independent){const r=this.getMainFwdBufferInfo(),n=(r?r.end:this.getLoadPosition())+this.config.maxBufferHole,h=c.firstKeyFramePTS?c.firstKeyFramePTS:t;if(!e&&n<h-this.config.maxBufferHole&&!s)return void this.backtrack(a);s&&(a.gap=!0),a.setElementaryStreamInfo(c.type,a.start,i,a.start,o,!0)}else e&&t-(f.appliedTimelineOffset||0)>2&&(a.gap=!0);a.setElementaryStreamInfo(c.type,t,i,r,o),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(c,a,h,n,e||s)}else{if(!e&&!s)return void this.backtrack(a);a.gap=!0}}if(m){const{startPTS:t,endPTS:e,startDTS:s,endDTS:i}=m;h&&(h.elementaryStreams[vA]={startPTS:t,endPTS:e,startDTS:s,endDTS:i}),a.setElementaryStreamInfo(vA,t,e,s,i),this.bufferFragmentData(m,a,h,n)}if(f&&null!=u&&null!=(e=u.samples)&&e.length){const t={id:s,frag:a,details:f,samples:u.samples};i.trigger(Gy.FRAG_PARSING_METADATA,t)}if(f&&d){const t={id:s,frag:a,details:f,samples:d.samples};i.trigger(Gy.FRAG_PARSING_USERDATA,t)}}}logMuxedErr(t){this.warn(`${wA(t)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${t.url}`)}_bufferInitSegment(t,e,s,i){if(this.state!==KS)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&(delete e.audio,e.audiovideo&&this.logMuxedErr(s));const{audio:r,video:n,audiovideo:o}=e;if(r){let s=cv(r.codec,t.audioCodec);"mp4a"===s&&(s="mp4a.40.5");const i=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){s&&(s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");const t=r.metadata;t&&"channelCount"in t&&1!==(t.channelCount||1)&&-1===i.indexOf("firefox")&&(s="mp4a.40.5")}s&&-1!==s.indexOf("mp4a.40.5")&&-1!==i.indexOf("android")&&"audio/mpeg"!==r.container&&(s="mp4a.40.2",this.log(`Android: force audio codec to ${s}`)),t.audioCodec&&t.audioCodec!==s&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${s}"`),r.levelCodec=s,r.id=Yy,this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${s||""}/${t.audioCodec||""}/${r.codec}]`),delete e.audiovideo}if(n){n.levelCodec=t.videoCodec,n.id=Yy;const s=n.codec;if(4===(null==s?void 0:s.length))switch(s){case"hvc1":case"hev1":n.codec="hvc1.1.6.L120.90";break;case"av01":n.codec="av01.0.04M.08";break;case"avc1":n.codec="avc1.42e01e"}this.log(`Init video buffer, container:${n.container}, codecs[level/parsed]=[${t.videoCodec||""}/${s}]${n.codec!==s?" parsed-corrected="+n.codec:""}${n.supplemental?" supplemental="+n.supplemental:""}`),delete e.audiovideo}o&&(this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${t.codecs}/${o.codec}]`),delete e.video,delete e.audio);const a=Object.keys(e);if(a.length){if(this.hls.trigger(Gy.BUFFER_CODECS,e),!this.hls)return;a.forEach((t=>{const r=e[t].initSegment;null!=r&&r.byteLength&&this.hls.trigger(Gy.BUFFER_APPENDING,{type:t,data:r,frag:s,part:null,chunkMeta:i,parent:s.type})}))}this.tickImmediate()}getMainFwdBufferInfo(){const t=this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,Yy)}get maxBufferLength(){const{levels:t,level:e}=this,s=null==t?void 0:t[e];return s?this.getMaxBufferLength(s.maxBitrate):this.config.maxBufferLength}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=VS}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const s=t.currentTime;if(Tb.isBuffered(t,s)?e=this.getAppendedFrag(s):Tb.isBuffered(t,s+.1)&&(e=this.getAppendedFrag(s+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,s=e.level;t&&e.sn===t.sn&&t.level===s||(this.fragPlaying=e,this.hls.trigger(Gy.FRAG_CHANGED,{frag:e}),t&&t.level===s||this.hls.trigger(Gy.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){var t;if(this.fragPlaying)return this.fragPlaying;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;return Oy(e)?this.getAppendedFrag(e):null}get currentProgramDateTime(){var t;const e=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;if(Oy(e)){const t=this.getLevelDetails(),s=this.currentFrag||(t?Nv(null,t.fragments,e):null);if(s){const t=s.programDateTime;if(null!==t){const i=t+1e3*(e-s.start);return new Date(i)}}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class rk{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const s in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[s].loader;if(i){var e;if(t&&t!==(null==(e=i.context)?void 0:e.frag.type))return;i.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=Wy.KEY_LOAD_ERROR,s,i,r){return new bb({type:Vy.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:r,error:s,networkDetails:i})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length)if(e.length){const{sn:s,cc:i}=t;for(let t=0;t<e.length;t++){const r=e[t];if(i<=r.cc&&("initSegment"===s||"initSegment"===r.sn||s<r.sn))return this.emeController.selectKeySystemFormat(r).then((t=>{if(r.setKeyFormat(t),this.emeController&&this.config.requireKeySystemAccessOnStart){const e=qb(t);if(e)return this.emeController.getKeySystemAccess([e])}}))}}else if(this.config.requireKeySystemAccessOnStart){const t=tS(this.config);if(t.length)return this.emeController.getKeySystemAccess(t)}return null}load(t){return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var s,i;e&&t.setKeyFormat(e);const r=t.decryptdata;if(!r){const s=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,Wy.KEY_LOAD_ERROR,s))}const n=r.uri;if(!n)return Promise.reject(this.createKeyLoadError(t,Wy.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${n}"`)));let o=this.keyUriToKeyInfo[n];if(null!=(s=o)&&s.decryptdata.key)return r.key=o.decryptdata.key,Promise.resolve({frag:t,keyInfo:o});var a;if(null!=(i=o)&&i.keyLoadPromise)switch(null==(a=o.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then((e=>(r.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:o})))}switch(o=this.keyUriToKeyInfo[n]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===r.keyFormat?this.loadKeyHTTP(o,t):this.loadKeyEME(o,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(o,t);default:return Promise.reject(this.createKeyLoadError(t,Wy.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(t,e){const s={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(s);if(e)return(t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,s)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(s)}loadKeyHTTP(t,e){const s=this.config,i=new(0,s.loader)(s);return e.keyLoader=t.loader=i,t.keyLoadPromise=new Promise(((r,n)=>{const o={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},a=s.keyLoadPolicy.default,h={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},l={onSuccess:(t,e,s,i)=>{const{frag:o,keyInfo:a,url:h}=s;if(!o.decryptdata||a!==this.keyUriToKeyInfo[h])return n(this.createKeyLoadError(o,Wy.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));a.decryptdata.key=o.decryptdata.key=new Uint8Array(t.data),o.keyLoader=null,a.loader=null,r({frag:o,keyInfo:a})},onError:(t,s,i,r)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Wy.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),i,sA({url:o.url,data:void 0},t)))},onTimeout:(t,s,i)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Wy.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:(t,s,i)=>{this.resetLoader(s),n(this.createKeyLoadError(e,Wy.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};i.load(o,h,l)}))}resetLoader(t){const{frag:e,keyInfo:s,url:i}=t,r=s.loader;e.keyLoader===r&&(e.keyLoader=null,s.loader=null),delete this.keyUriToKeyInfo[i],r&&r.destroy()}}function nk(t){const{type:e}=t;switch(e){case Ky:return Qy;case qy:return Jy;default:return Yy}}function ok(t,e){let s=t.url;return void 0!==s&&0!==s.indexOf("data:")||(s=e.url),s}class ak{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.on(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.on(Gy.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(Gy.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:t}=this;t.off(Gy.MANIFEST_LOADING,this.onManifestLoading,this),t.off(Gy.LEVEL_LOADING,this.onLevelLoading,this),t.off(Gy.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(Gy.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(Gy.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(t){const e=this.hls.config,s=e.pLoader,i=e.loader,r=new(s||i)(e);return this.loaders[t.type]=r,r}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:s}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:zy,url:s,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(t,e){const{id:s,level:i,pathwayId:r,url:n,deliveryDirectives:o,levelInfo:a}=e;this.load({id:s,level:i,pathwayId:r,responseType:"text",type:Hy,url:n,deliveryDirectives:o,levelOrTrack:a})}onAudioTrackLoading(t,e){const{id:s,groupId:i,url:r,deliveryDirectives:n,track:o}=e;this.load({id:s,groupId:i,level:null,responseType:"text",type:Ky,url:r,deliveryDirectives:n,levelOrTrack:o})}onSubtitleTrackLoading(t,e){const{id:s,groupId:i,url:r,deliveryDirectives:n,track:o}=e;this.load({id:s,groupId:i,level:null,responseType:"text",type:qy,url:r,deliveryDirectives:n,levelOrTrack:o})}onLevelsUpdated(t,e){const s=this.loaders[Hy];if(s){const t=s.context;t&&!e.levels.some((e=>e===t.levelOrTrack))&&(s.abort(),delete this.loaders[Hy])}}load(t){var e;const s=this.hls.config;let i,r=this.getInternalLoader(t);if(r){const e=this.hls.logger,s=r.context;if(s&&s.levelOrTrack===t.levelOrTrack&&(s.url===t.url||s.deliveryDirectives&&!t.deliveryDirectives))return void(s.url===t.url?e.log(`[playlist-loader]: ignore ${t.url} ongoing request`):e.log(`[playlist-loader]: ignore ${t.url} in favor of ${s.url}`));e.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),r.abort()}if(i=t.type===zy?s.manifestLoadPolicy.default:tA({},s.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),r=this.createInternalLoader(t),Oy(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===Hy&&null!==t.level?e=this.hls.levels[t.level].details:t.type===Ky&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===qy&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,s=e.targetduration;if(t&&s){const e=1e3*Math.max(3*t,.8*s);i=tA({},i,{maxTimeToFirstByteMs:Math.min(e,i.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,i.maxTimeToFirstByteMs)})}}}const n=i.errorRetry||i.timeoutRetry||{},o={loadPolicy:i,timeout:i.maxLoadTimeMs,maxRetry:n.maxNumRetry||0,retryDelay:n.retryDelayMs||0,maxRetryDelay:n.maxRetryDelayMs||0},a={onSuccess:(t,e,s,i)=>{const r=this.getInternalLoader(s);this.resetInternalLoader(s.type);const n=t.data;0===n.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),dS.isMediaPlaylist(n)||s.type!==zy?this.handleTrackOrLevelPlaylist(t,e,s,i||null,r):this.handleMasterPlaylist(t,e,s,i)):this.handleManifestParsingError(t,s,new Error("no EXTM3U delimiter"),i||null,e)},onError:(t,e,s,i)=>{this.handleNetworkError(e,s,!1,t,i)},onTimeout:(t,e,s)=>{this.handleNetworkError(e,s,!0,void 0,t)}};r.load(t,o,a)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:t,startPosition:e},forceStartLoad:s}=this.hls;(t||s)&&(this.hls.logger.log(`${t?"auto":"force"} startLoad with configured startPosition ${e}`),this.hls.startLoad(e))}handleMasterPlaylist(t,e,s,i){const r=this.hls,n=t.data,o=ok(t,s),a=dS.parseMasterPlaylist(n,o);if(a.playlistParsingError)return void this.handleManifestParsingError(t,s,a.playlistParsingError,i,e);const{contentSteering:h,levels:l,sessionData:c,sessionKeys:d,startTimeOffset:u,variableList:p}=a;this.variableList=p;const{AUDIO:f=[],SUBTITLES:m,"CLOSED-CAPTIONS":g}=dS.parseMasterPlaylistMedia(n,o,a);if(f.length){f.some((t=>!t.url))||!l[0].audioCodec||l[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Pb({}),bitrate:0,url:""}))}r.trigger(Gy.MANIFEST_LOADED,{levels:l,audioTracks:f,subtitles:m,captions:g,contentSteering:h,url:o,stats:e,networkDetails:i,sessionData:c,sessionKeys:d,startTimeOffset:u,variableList:p})}handleTrackOrLevelPlaylist(t,e,s,i,r){const n=this.hls,{id:o,level:a,type:h}=s,l=ok(t,s),c=Oy(a)?a:Oy(o)?o:0,d=nk(s),u=dS.parseLevelPlaylist(t.data,l,c,d,0,this.variableList);if(h===zy){const t={attrs:new Pb({}),bitrate:0,details:u,name:"",url:l};u.requestScheduled=e.loading.start+DS(u,0),n.trigger(Gy.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:l,stats:e,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),s.levelDetails=u,this.handlePlaylistLoaded(u,t,e,s,i,r)}handleManifestParsingError(t,e,s,i,r){this.hls.trigger(Gy.ERROR,{type:Vy.NETWORK_ERROR,details:Wy.MANIFEST_PARSING_ERROR,fatal:e.type===zy,url:t.url,err:s,error:s,reason:s.message,response:t,context:e,networkDetails:i,stats:r})}handleNetworkError(t,e,s=!1,i,r){let n=`A network ${s?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${t.type}`;t.type===Hy?n+=`: ${t.level} id: ${t.id}`:t.type!==Ky&&t.type!==qy||(n+=` id: ${t.id} group-id: "${t.groupId}"`);const o=new Error(n);this.hls.logger.warn(`[playlist-loader]: ${n}`);let a=Wy.UNKNOWN,h=!1;const l=this.getInternalLoader(t);switch(t.type){case zy:a=s?Wy.MANIFEST_LOAD_TIMEOUT:Wy.MANIFEST_LOAD_ERROR,h=!0;break;case Hy:a=s?Wy.LEVEL_LOAD_TIMEOUT:Wy.LEVEL_LOAD_ERROR,h=!1;break;case Ky:a=s?Wy.AUDIO_TRACK_LOAD_TIMEOUT:Wy.AUDIO_TRACK_LOAD_ERROR,h=!1;break;case qy:a=s?Wy.SUBTITLE_TRACK_LOAD_TIMEOUT:Wy.SUBTITLE_LOAD_ERROR,h=!1}l&&this.resetInternalLoader(t.type);const c={type:Vy.NETWORK_ERROR,details:a,fatal:h,url:t.url,loader:l,context:t,error:o,networkDetails:e,stats:r};if(i){const s=(null==e?void 0:e.url)||t.url;c.response=sA({url:s,data:void 0},i)}this.hls.trigger(Gy.ERROR,c)}handlePlaylistLoaded(t,e,s,i,r,n){const o=this.hls,{type:a,level:h,id:l,groupId:c,deliveryDirectives:d}=i,u=ok(e,i),p=nk(i),f="number"==typeof i.level&&p===Yy?h:void 0;if(!t.fragments.length){const n=t.playlistParsingError=new Error("No Segments found in Playlist");return void o.trigger(Gy.ERROR,{type:Vy.NETWORK_ERROR,details:Wy.LEVEL_EMPTY_ERROR,fatal:!1,url:u,error:n,reason:n.message,response:e,context:i,level:f,parent:p,networkDetails:r,stats:s})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const m=t.playlistParsingError;if(m){if(this.hls.logger.warn(m),!o.config.ignorePlaylistParsingErrors)return void o.trigger(Gy.ERROR,{type:Vy.NETWORK_ERROR,details:Wy.LEVEL_PARSING_ERROR,fatal:!1,url:u,error:m,reason:m.message,response:e,context:i,level:f,parent:p,networkDetails:r,stats:s});t.playlistParsingError=null}switch(t.live&&n&&(n.getCacheAge&&(t.ageHeader=n.getCacheAge()||0),n.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),a){case zy:case Hy:o.trigger(Gy.LEVEL_LOADED,{details:t,levelInfo:i.levelOrTrack||o.levels[0],level:f||0,id:l||0,stats:s,networkDetails:r,deliveryDirectives:d,withoutMultiVariant:a===zy});break;case Ky:o.trigger(Gy.AUDIO_TRACK_LOADED,{details:t,track:i.levelOrTrack,id:l||0,groupId:c||"",stats:s,networkDetails:r,deliveryDirectives:d});break;case qy:o.trigger(Gy.SUBTITLE_TRACK_LOADED,{details:t,track:i.levelOrTrack,id:l||0,groupId:c||"",stats:s,networkDetails:r,deliveryDirectives:d})}}}class hk{static get version(){return nE}static isMSESupported(){return sk()}static isSupported(){return function(){if(!sk())return!1;const t=cA();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((e=>t.isTypeSupported(rv(e,"video"))))||["mp4a.40.2","fLaC"].some((e=>t.isTypeSupported(rv(e,"audio")))))}()}static getMediaSource(){return cA()}static get Events(){return Gy}static get MetadataSchema(){return CE}static get ErrorTypes(){return Vy}static get ErrorDetails(){return Wy}static get DefaultConfig(){return hk.defaultConfig?hk.defaultConfig:VI}static set DefaultConfig(t){hk.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new rE,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const e=this.logger=function(t,e,s){const i=oA();if("object"==typeof console&&!0===t||"object"==typeof t){const r=["debug","log","info","warn","error"];r.forEach((e=>{i[e]=aA(e,t,s)}));try{i.log(`Debug logs enabled for "${e}" in hls.js version 1.6.5`)}catch(t){return oA()}r.forEach((e=>{hA[e]=aA(e,t)}))}else tA(hA,i);return i}(t.debug||!1,"Hls instance",t.assetPlayerId),s=this.config=function(t,e,s){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=WI(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const n=`${"level"===t?"playlist":t}LoadPolicy`,o=void 0===e[n],a=[];r.forEach((s=>{const r=`${t}Loading${s}`,h=e[r];if(void 0!==h&&o){a.push(r);const t=i[n].default;switch(e[n]={default:t},s){case"TimeOut":t.maxLoadTimeMs=h,t.maxTimeToFirstByteMs=h;break;case"MaxRetry":t.errorRetry.maxNumRetry=h,t.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":t.errorRetry.retryDelayMs=h,t.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=h,t.timeoutRetry.maxRetryDelayMs=h}}})),a.length&&s.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${n}": ${Dv(e[n])}`)})),sA(sA({},i),e)}(hk.DefaultConfig,t,e);this.userConfig=t,s.progressive&&GI(s,e);const{abrController:i,bufferController:r,capLevelController:n,errorController:o,fpsController:a}=s,h=new o(this),l=this.abrController=new i(this),c=new ob(this),d=s.interstitialsController,u=d?this.interstitialsController=new d(this,hk):null,p=this.bufferController=new r(this,c),f=this.capLevelController=new n(this),m=new a(this),g=new ak(this),y=s.contentSteeringController,A=y?new y(this):null,v=this.levelController=new ZI(this,A),b=new XI(this),S=new rk(this.config),E=this.streamController=new ik(this,c,S),w=this.gapController=new zI(this,c);f.setStreamController(E),m.setStreamController(E);const T=[g,v,E];u&&T.splice(1,0,u),A&&T.splice(1,0,A),this.networkControllers=T;const I=[l,p,w,f,m,b,c];this.audioTrackController=this.createController(s.audioTrackController,T);const k=s.audioStreamController;k&&T.push(this.audioStreamController=new k(this,c,S)),this.subtitleTrackController=this.createController(s.subtitleTrackController,T);const _=s.subtitleStreamController;_&&T.push(this.subtititleStreamController=new _(this,c,S)),this.createController(s.timelineController,I),S.emeController=this.emeController=this.createController(s.emeController,I),this.cmcdController=this.createController(s.cmcdController,I),this.latencyController=this.createController($I,I),this.coreComponents=I,T.push(h);const C=h.onErrorOut;"function"==typeof C&&this.on(Gy.ERROR,C,h),this.on(Gy.MANIFEST_LOADED,g.onManifestLoaded,g)}createController(t,e){if(t){const s=new t(this);return e&&e.push(s),s}return null}on(t,e,s=this){this._emitter.on(t,e,s)}once(t,e,s=this){this._emitter.once(t,e,s)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,s=this,i){this._emitter.off(t,e,s,i)}listeners(t){return this._emitter.listeners(t)}emit(t,e,s){return this._emitter.emit(t,e,s)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),!this.triggeringException){this.triggeringException=!0;const s=t===Gy.ERROR;this.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.INTERNAL_EXCEPTION,fatal:s,event:t,error:e}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){this.logger.log("destroy"),this.trigger(Gy.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){if(!t||"media"in t&&!t.media){const e=new Error(`attachMedia failed: invalid argument (${t})`);return void this.trigger(Gy.ERROR,{type:Vy.OTHER_ERROR,details:Wy.ATTACH_MEDIA_ERROR,fatal:!0,error:e})}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const e="media"in t,s=e?t.media:t,i=e?t:{media:s};this._media=s,this.trigger(Gy.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Gy.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const t=this.bufferController.transferMedia();return this.trigger(Gy.MEDIA_DETACHING,{transferMedia:t}),t}loadSource(t){this.stopLoad();const e=this.media,s=this._url,i=this._url=yA.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),e&&s&&(s!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(Gy.MANIFEST_LOADING,{url:t})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(t=-1,e){this.logger.log(`startLoad(${t+(e?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let s=0;s<this.networkControllers.length&&(this.networkControllers[s].startLoad(t,e),this.started&&this.networkControllers);s++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!this.started&&this.networkControllers);t++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach((t=>{t.resumeBuffering&&t.resumeBuffering()})))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach((t=>{t.pauseBuffering&&t.pauseBuffering()})))}get inFlightFragments(){const t={[Yy]:this.streamController.inFlightFrag};return this.audioStreamController&&(t[Qy]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(t[Jy]=this.subtititleStreamController.inFlightFrag),t}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const t=this._media,e=null==t?void 0:t.currentTime;this.detachMedia(),t&&(this.attachMedia(t),e&&this.startLoad(e))}removeLevel(t){this.levelController.removeLevel(t)}get sessionId(){let t=this._sessionId;return t||(t=this._sessionId=function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))}}}()),t}get levels(){const t=this.levelController.levels;return t||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){this.logger.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){this.logger.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){this.logger.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){this.logger.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){this.logger.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get abrEwmaDefaultEstimate(){const{bwEstimator:t}=this.abrController;return t?t.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(this.logger.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return vv.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const s=t.length;for(let i=0;i<s;i++)if(t[i].maxBitrate>=e)return i;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:s}=this;let i;if(i=-1===e&&null!=t&&t.length?t.length-1:e,s)for(let e=i;e--;){const i=t[e].attrs["HDCP-LEVEL"];if(i&&i<=s)return e}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(t){var e;return(null==(e=this.audioTrackController)?void 0:e.setAudioOption(t))||null}setSubtitleOption(t){var e;return(null==(e=this.subtitleTrackController)?void 0:e.setSubtitleOption(t))||null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(t){this.latencyController.targetLatency=t}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(t){this.levelController.pathwayPriority=t}get bufferedToEnd(){var t;return!(null==(t=this.bufferController)||!t.bufferedToEnd)}get interstitialsManager(){var t;return(null==(t=this.interstitialsController)?void 0:t.interstitialsManager)||null}getMediaDecodingInfo(t,e=this.allAudioTracks){return Av(t,Lv(e),navigator.mediaCapabilities)}}hk.defaultConfig=void 0;const lk=dk;function ck(){const t=["BUFFER_APPENDED","MEDIA_ATTACHED","isUseVideoPlay","_times","requestVideoFrameCallback","hls","isSupported","FPS_DROP_LEVEL_CAPPING","BUFFER_RESET","_initRenderSize","bound","getVideoPlaybackQuality","MANIFEST_PARSED","ErrorTypes","fatal network error encountered, try to recover","FRAG_PARSING_INIT_SEGMENT and video codec is ","timeStamp","isArray","MANIFEST_PARSED playlist m3u8解析完成","updateVideoInfo","FRAG_LOADED","_startFpsInterval","max","emitError","end","MEDIA_DETACHED","indexOf","codec","isInitInfo","demuxStart","debugLog","video playback Rate change","bandwidthEstimate","_initHls","_stopCanvasRender","removeAttribute","h265","hasVideo","loadSource and use hls decode and listen hlsMediaAttached","height","webkitDecodedFrameCount","userData","ratechange","currentTime","BUFFER_FLUSHING","catch","1509438rYuvpz","video","FRAG_PARSING_INIT_SEGMENT","mp3","9tLtfPw","MANIFEST_LOADING","initVideoEvents","videoFrameCallback() player is destroyed","src","toFixed","video is paused and next try to replay","updateAudioInfo","4yiRBck","prevBandwidthEstimate","FRAG_DECRYPTED","mediaSourceH265NotSupport","cancelVideoFrameCallback","then","hlsPrevFrams","mediaTime","video play error ","AAC","isHlsCanVideoPlay","length","fatal media error encountered, try to recover","init hls error ,not support ","loadSource","handleRender","includes","attachMedia","_opt","muted","FPS_DROP","videoStart","4975859ptsTkb","encTypeCode","getFps","hev","BUFFER_EOS"," and hasVideo is ","MANIFEST_LOADING 开始加载playlist m3u8资源","hasAudio","videoFrameCallback","_parseVideoCodec","eventsDestroy","player","FRAG_PARSING_INIT_SEGMENT and audio codec is ","initCanvasViewSize","video play","autoplay","originData","pts","audiovideo","isEmitSEI","useCanvasRender","channels","1xqfWYK","checkHlsBufferedDelay","_stopFpsInterval","samples","events","buffered","forEach","7164776MLfiHP","hlsFps","FRAG_LOADING","metadata","uuid","startLoad","render","updateStats","type","h264","canvasRenderInterval","HlsDecoder","paused","fpsInterval","pause","play","destroy","payloadType","bind","decodeStart","videoWidth","Events","createElement","10030608squMfo","hvc","NETWORK_ERROR","1781422SpyDKE","width","timeUpdate","videoHeight","_parseAudioCodec","_isDestroyed","FRAG_PARSING_INIT_SEGMENT and hasAudio is ","videoCodec is not support","FRAG_PARSING_USERDATA","emitVideoSei","supportVideoFrameCallbackHandle","BUFFER_APPENDING","push","style","getHasInit","MANIFEST_LOADED playlist m3u8文件加载完成","_bindEvents","audio","MEDIA_ATTACHING","$videoElement","waiting","733770teSHAo","_stopBandwidthEstimateInterval","TAG_NAME","_startCanvasRender","bandwidthEstimateInterval","debugWarn","round","MP3","channelCount","42740990yvYtrp","canVideoPlay","debugError","initVideoPlay","totalVideoFrames","tracks"];return(ck=function(){return t})()}function dk(t,e){const s=ck();return(dk=function(t,e){return s[t-=289]})(t,e)}!function(t,e){const s=dk,i=t();for(;;)try{if(876960===parseInt(s(456))/1*(-parseInt(s(318))/2)+-parseInt(s(400))/3*(parseInt(s(412))/4)+-parseInt(s(339))/5+-parseInt(s(315))/6+parseInt(s(434))/7+parseInt(s(292))/8*(-parseInt(s(404))/9)+parseInt(s(348))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ck);class uk extends zi{constructor(t){const e=dk;super(),this[e(445)]=t,this.TAG_NAME=e(303),t[e(430)],this[e(349)]=!1,this.$videoElement=null,this[e(302)]=null,this[e(343)]=null,this[e(305)]=null,this[e(293)]=0,this[e(418)]=0,this.isInitInfo=!1,this[e(444)]=[],this.supportVideoFrameCallbackHandle=null,this[e(413)]=null,this.hasVideo=!0,this[e(441)]=!0,this[e(364)]={videoFrameCallback:this.videoFrameCallback[e(310)](this)},this[e(445)][e(422)]()?(this[e(337)]=this[e(445)][e(401)][e(337)],this[e(349)]=!0):hk[e(360)]()?(this[e(337)]=this.player[e(401)][e(337)],this[e(359)]=new hk({}),this[e(387)](),this[e(334)]()):this[e(445)][e(350)](this[e(341)],e(425)),this[e(323)]=!1,this[e(445)][e(384)](this[e(341)],"init")}destroy(){return new Promise(((t,e)=>{const s=dk;if(this[s(323)]=!0,this.supportVideoFrameCallbackHandle&&this.$videoElement&&(this.$videoElement[s(416)](this[s(328)]),this[s(328)]=null),this[s(359)]&&(this.hls.destroy(),this[s(359)]=null),this.eventsDestroy.length&&(this[s(444)][s(291)]((t=>t())),this[s(444)]=[]),this.isInitInfo=!1,this[s(388)](),this[s(340)](),this[s(458)](),this[s(445)][s(430)][s(454)]&&this[s(337)]){this[s(337)].pause&&(this[s(337)][s(306)](),this[s(337)][s(431)]=!0),this[s(337)][s(397)]=0,this[s(337)][s(408)]&&(this[s(337)][s(408)]="",this[s(337)][s(389)](s(408)));try{this[s(337)].load()}catch(t){}}this[s(337)]=null,this[s(413)]=null,this[s(293)]=0,this[s(364)]=null,this[s(445)][s(384)](this[s(341)],s(308)),setTimeout((()=>{t()}),0)}))}[lk(457)](){const t=lk,e=this.$videoElement;let s=0;const i=e[t(290)];return s=(i[t(423)]?i[t(378)](i[t(423)]-1):0)-e[t(397)],s}[lk(436)](){return this[lk(293)]}[lk(342)](){const t=lk;ki()?this[t(328)]=this.$videoElement[t(358)](this[t(364)].videoFrameCallback):(this[t(388)](),this[t(302)]=setInterval((()=>{const e=t;this[e(445)][e(401)][e(298)]({$video:this[e(337)],ts:parseInt(1e3*this.$videoElement[e(397)],10)||0})}),40))}_stopCanvasRender(){const t=lk;this[t(302)]&&(clearInterval(this.canvasRenderInterval),this[t(302)]=null)}[lk(442)](t){const e=lk;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isDestroyed)return;if(this[e(445)].isDestroyedOrClosed())return void this.player[e(384)](this[e(341)],e(407));const i=parseInt(1e3*Math[e(376)](s[e(419)],this[e(337)][e(397)]),10)||0;this.player[e(299)]({dts:i}),this.player[e(401)][e(298)]({$video:this[e(337)],ts:i}),this[e(445)].handleRender(),this[e(328)]=this[e(337)][e(358)](this[e(364)][e(442)])}_startBandwidthEstimateInterval(){const t=lk;this[t(340)](),this.bandwidthEstimateInterval=setInterval((()=>{const e=t;let s=0;this[e(359)]&&this[e(359)][e(386)]&&this[e(413)]!==this[e(359)][e(386)]&&(s=this[e(359)].bandwidthEstimate),this[e(413)]=s,this[e(445)].emit(O.kBps,(s/1e3/8)[e(409)](2)),this[e(391)]&&Si(this[e(441)])&&this.player[e(299)]({vbps:parseInt(s,10)})}),1e3)}[lk(340)](){const t=lk;this[t(343)]&&(clearInterval(this[t(343)]),this[t(343)]=null)}_startFpsInterval(){const t=lk;this[t(388)](),this[t(305)]=setInterval((()=>{const e=t;if(this[e(337)])if(ti(this.$videoElement[e(365)])){const t=this[e(337)][e(365)]();this[e(293)]=t[e(352)]-this[e(418)],this[e(418)]=t[e(352)]}else{const t=this[e(337)][e(394)]||0;this[e(293)]=t-this.hlsPrevFrams,this[e(418)]=t}}),1e3)}[lk(458)](){const t=lk;this[t(305)]&&(clearInterval(this[t(305)]),this[t(305)]=null)}[lk(387)](){const t=lk;this[t(445)][t(430)][t(454)]&&(this.$videoElement=document[t(314)](t(401)),this.$videoElement[t(431)]=!0,ps()&&(this[t(337)][t(331)].position="absolute"),this[t(406)]()),this[t(359)][t(429)](this[t(337)])}[lk(334)](){const t=lk;var e=this;const s=this[t(445)],{proxy:i}=this[t(445)].events;this[t(359)];const r=this.$videoElement,n=ki(),o=i(r,pt[t(320)],(e=>{const i=t;if(this[i(359)]){const t=parseInt(e[i(370)],10);this[i(445)][i(430)].useCanvasRender&&Si(n)&&s.updateStats({ts:t,dts:t})}}));this[t(444)][t(330)](o),this[t(359)].on(hk[t(313)].ERROR,((e,s)=>{const i=t;if(s.fatal)switch(s[i(300)]){case hk[i(367)][i(317)]:this[i(445)][i(344)](this[i(341)],i(368)),this[i(359)][i(297)]();break;case hk[i(367)].MEDIA_ERROR:this.player[i(344)](this.TAG_NAME,i(424)),this.hls.recoverMediaError()}})),this.hls.on(hk[t(313)][t(336)],(()=>{})),this.hls.on(hk[t(313)][t(355)],(()=>{})),this.hls.on(hk.Events.MEDIA_DETACHING,(()=>{})),this[t(359)].on(hk.Events[t(379)],(()=>{})),this[t(359)].on(hk[t(313)][t(362)],(()=>{})),this[t(359)].on(hk[t(313)].BUFFER_CODECS,(t=>{})),this[t(359)].on(hk[t(313)].BUFFER_CREATED,(()=>{})),this.hls.on(hk[t(313)][t(329)],((t,e)=>{})),this[t(359)].on(hk[t(313)][t(354)],(()=>{})),this[t(359)].on(hk[t(313)][t(438)],(()=>{})),this.hls.on(hk[t(313)][t(398)],(()=>{})),this[t(359)].on(hk[t(313)].BUFFER_FLUSHED,(()=>{})),this.hls.on(hk[t(313)][t(405)],(()=>{const e=t;this.player[e(384)](this[e(341)],e(440))})),this[t(359)].on(hk[t(313)].MANIFEST_LOADED,((e,s)=>{const i=t;this[i(445)][i(384)](this.TAG_NAME,i(333),s.url)})),this.hls.on(hk[t(313)][t(366)],((e,i)=>{const r=t;this.player[r(384)](this[r(341)],r(372)),!s[r(357)][r(383)]&&(s[r(357)][r(383)]=Je())})),this.hls.on(hk.Events.LEVELS_UPDATED,(function(t,e){})),this[t(359)].on(hk.Events.LEVEL_LOADING,(()=>{})),this[t(359)].on(hk[t(313)].LEVEL_LOADED,((t,e)=>{})),this[t(359)].on(hk[t(313)][t(294)],(()=>{})),this[t(359)].on(hk[t(313)][t(374)],((e,i)=>{const r=t;!s._times[r(311)]&&(s[r(357)].decodeStart=Je())})),this.hls.on(hk[t(313)][t(354)],((e,i)=>{const r=t;!s[r(357)][r(433)]&&(s._times.videoStart=Je(),s.handlePlayToRenderTimes())})),this[t(359)].on(hk[t(313)][t(414)],(()=>{})),this[t(359)].on(hk[t(313)].KEY_LOADING,(()=>{})),this.hls.on(hk.Events.KEY_LOADING,(()=>{})),this[t(359)].on(hk[t(313)][t(432)],(t=>{})),this.hls.on(hk[t(313)][t(361)],(t=>{})),this[t(445)][t(430)][t(453)]&&this.hls.on(hk[t(313)][t(326)],(function(s){const i=t;let r=arguments[i(423)]>1&&void 0!==arguments[1]?arguments[1]:{};Array[i(371)](r[i(459)])&&r[i(459)][i(423)]>0&&r.samples[i(291)]((t=>{const s=i;e[s(445)][s(327)]({ts:Math[s(345)](1e3*t[s(451)]),originData:t.originData,data:t[s(395)]||t[s(450)],uuid:t[s(296)],type:t[s(309)]})}))})),this[t(359)].on(hk[t(313)][t(402)],((e,s)=>{const i=t,r=!!(s&&s[i(353)]&&s.tracks.audio),n=!!(s&&s[i(353)]&&s[i(353)][i(401)]),o=!!(s&&s[i(353)]&&s[i(353)][i(452)]);if(this.player[i(384)](this[i(341)],i(324)+r+i(439)+n+" and hasAudioVideo is "+o),this[i(441)]=r,this.hasVideo=n,r&&s[i(353)][i(335)]){let t=s.tracks[i(335)];const e=t[i(295)]&&t[i(295)][i(347)]?t.metadata[i(347)]:2,r=t[i(381)]||"";this[i(322)](r,{channels:e})}if(n&&s[i(353)][i(401)]){let t=s.tracks.video,e=t.codec;this[i(443)](e,{metadata:t[i(295)]})}if(o&&s[i(353)][i(452)]){const t=s[i(353)].audiovideo[i(381)].split(","),e=t[0],r=t[1];this[i(322)](e),this._parseVideoCodec(r)}}))}_parseAudioCodec(t){const e=lk;let s=arguments[e(423)]>1&&void 0!==arguments[1]?arguments[1]:{};this[e(445)].debugLog(this[e(341)],e(446)+t);let i="";t[e(428)](e(403))?i=Y[e(346)]:t[e(428)]("mp4a")&&(i=Y[e(421)]),i&&this.player[e(335)]&&this.player.audio[e(411)]({encTypeCode:i,channels:s[e(455)]||2,sampleRate:44100})}[lk(443)](t){const e=lk;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this[e(445)][e(384)](this[e(341)],e(369)+t);const i={encTypeCode:""};-1!==t[e(380)]("avc")?i[e(435)]=K[e(301)]:-1!==t.indexOf(e(437))||-1!==t.indexOf(e(316))?i[e(435)]=K[e(390)]:(this[e(445)][e(384)](this[e(341)],e(325),t),i[e(435)]=K[e(301)]),i[e(435)]===K[e(390)]&&Si(Ts())&&this[e(445)][e(377)](V[e(415)]),s[e(295)]&&(i[e(319)]=s[e(295)][e(319)],i[e(393)]=s.metadata[e(393)]),this[e(445)][e(401)]&&(this[e(445)][e(401)][e(373)](i),this[e(445)][e(401)][e(332)]()&&this.player[e(401)][e(447)]())}initVideoPlay(t){const e=lk;this.player[e(430)][e(454)]&&(this[e(337)]=document[e(314)](e(401)),this[e(406)]()),this[e(337)][e(449)]=!0,this.$videoElement[e(431)]=!0,this[e(337)][e(408)]=t}[lk(363)](){const t=lk;!this[t(382)]&&(this.player[t(401)][t(373)]({width:this[t(337)][t(312)],height:this.$videoElement[t(321)]}),this[t(445)].video.initCanvasViewSize(),this[t(382)]=!0)}[lk(406)](){const t=lk,{proxy:e}=this[t(445)][t(289)],s=e(this[t(337)],pt.canplay,(()=>{const e=t;this.player.debugLog(this.TAG_NAME,"video canplay"),this.$videoElement[e(307)]()[e(417)]((()=>{const t=e;this[t(445)][t(384)](this[t(341)],t(448)),this[t(342)](),this._initRenderSize()}))[e(399)]((t=>{const s=e;this[s(445)][s(344)](this[s(341)],s(420),t)}))})),i=e(this[t(337)],pt[t(338)],(()=>{const e=t;this.player[e(384)](this[e(341)],"video waiting")})),r=e(this.$videoElement,pt[t(320)],(e=>{const s=t,i=parseInt(e[s(370)],10);this[s(445)][s(299)]({ts:i}),this[s(445)][s(427)](),this[s(337)][s(304)]&&(this[s(445)].debugWarn(this[s(341)],s(410)),this[s(337)][s(307)]()[s(417)]((()=>{const t=s;this[t(445)][t(384)](this[t(341)],"video is paused and replay success")})).catch((t=>{const e=s;this[e(445)][e(344)](this[e(341)],"video is paused and replay error ",t)})))})),n=e(this[t(337)],pt[t(396)],(()=>{const e=t;this[e(445)].debugLog(this[e(341)],e(385),this[e(337)]&&this[e(337)].playbackRate)}));this[t(444)][t(330)](s,i,r,n)}loadSource(t){return new Promise(((e,s)=>{const i=dk;this[i(349)]?(this[i(445)][i(384)](this[i(341)],"loadSource and canVideoPlay and use video src to play",t),this[i(351)](t),this[i(375)](),e()):(this[i(445)].debugLog(this[i(341)],i(392)),this[i(359)].on(hk.Events[i(355)],(()=>{const s=i;this[s(445)][s(384)](this[s(341)],"loadSource and use hls decode and listen hlsMediaAttached success and next load source",t),this[s(359)][s(426)](t),this._startBandwidthEstimateInterval(),this._startFpsInterval(),e()})))}))}[lk(356)](){return this[lk(349)]}}function pk(t,e){var s=fk();return(pk=function(t,e){return s[t-=317]})(t,e)}function fk(){var t=["113288pfTKND","5630lFvtTD","153TJJkRi","1180975BBwEwL","9780960ixLcMQ","11646zSRbay","57092PkmBSI","279330lKRhnX","3828870qKwJMa","1RZTmoR"];return(fk=function(){return t})()}!function(t,e){for(var s=pk,i=t();;)try{if(777161===parseInt(s(320))/1*(-parseInt(s(318))/2)+-parseInt(s(323))/3*(parseInt(s(321))/4)+-parseInt(s(324))/5+parseInt(s(319))/6+parseInt(s(317))/7+parseInt(s(325))/8+-parseInt(s(326))/9*(-parseInt(s(322))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fk);const mk=wk;function gk(){const t=["onerror","debugLog","assign","get","concat","then","REAL_TIME_SPEED",", datalen,","XhrLoader","_queue","_onCancel","trim","_onLoad","_request","38648OyHhZb","_canceled","join","184rmzcrG","prototype","[xhr load done->], tast :","value","isSupported","shift","_method","328174yBNXeC","used","1586rcWqFL","fetch","onProgress of bad response.body.getReader","filter","onProgress","_startLoad","24NtFgZV","currentTarget","TEXT","isNaN","_responseType","onload","keys","【fetchLoader,onProgress call】,task,","done","ARRAY_BUFFER","getReader","promise","timeout","status","679HSgAnk","GET","abort","catch","_currentChunkSizeKB","_credentials","bad network response, status is ","options","range","_runing","content-length","_transformResponse","8201VTQxyS","JSON","arrayBuffer","vid","_timeout","_loaderType","_aborted","retryCount","Range","reject","_index","_range","164403jZezbe",", writeIdx,","url","round","running","isTimeout","toLowerCase","push","receiveLen","_running","forEach","_internalOpen","xhr.onerror.status:","set","【fetchLoader,onProgress enough】,done,","destroy","open","1705986ZMrdnM","[object Object]","90gxirWT","_timeoutTimer","load","target",",load sub range, ","real_time_speed","loaderType","startTime",",len,","emit","_loadChunk","_priOptions","_retryTimer","_vid","now","include","undefined","object","byteLength","_onProcessMinLen","_writeIdx","type","_startTime","【fetchLoader,onProgress extra end】,len,","_retryCheckFunc","finally","player","TAG_NAME","read","_config","21504NxAkOQ","[task request setTimeout],retry","indexOf","_onProgress",", start","【fetchLoader,onProgress cache】,len,","_onReadyStatechange","toISOString","withCredentials","isFetch","FETCH",", SubRange, ","_getHeaders","method","_retryCount","split","message","_headers","_withCredentials","_xhr","Task",",done,","slice","function","params","string","index","headers","credentials","_loadCompleteResolve","_url",",receivedLength","238712KGTRKW","XHR","_firstRtt","_alive","bytes=","toString","_processTask","xhr","alive","_cache","resolve","map","statusText","responseType","_abortController","response","end ","bind","loader","send","text","cancel","_onTimeout","replace","[xhr.send->] tast,","retryCheckFunc","getPrototypeOf","json","request","_receivedLength",",dataLen,","Content-Length","_currentTask","_logger","_response","_reader","length","readyState","[object Date]","ontimeout","body","_loader","exec","call","priOptions","endTime","setRequestHeader","[task request catch err]","onTimeout","_loadCompleteReject","【fetchLoader,onProgress extra start】,size,","15jRjBnG",", start,","all",", done,","age"];return(gk=function(){return t})()}!function(t,e){const s=wk,i=t();for(;;)try{if(434669===parseInt(s(327))/1*(parseInt(s(286))/2)+parseInt(s(301))/3*(parseInt(s(420))/4)+parseInt(s(264))/5*(-parseInt(s(356))/6)+parseInt(s(315))/7*(parseInt(s(283))/8)+-parseInt(s(339))/9*(parseInt(s(358))/10)+-parseInt(s(293))/11+-parseInt(s(388))/12*(parseInt(s(295))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gk);const yk=2097152,Ak={FETCH:"fetch",XHR:mk(220)},vk={ARRAY_BUFFER:"arraybuffer",TEXT:mk(233),JSON:mk(240)},bk={REAL_TIME_SPEED:mk(363)},Sk=Object.prototype[mk(218)];function Ek(t){const e=mk;if(Sk[e(256)](t)!==e(357))return!1;const s=Object[e(239)](t);return null===s||s===Object[e(287)]}function wk(t,e){const s=gk();return(wk=function(t,e){return s[t-=216]})(t,e)}function Tk(t){const e=mk;if(!t||null===t[0]||void 0===t[0]||0===t[0]&&(null===t[1]||void 0===t[1]))return;let s=e(217)+t[0]+"-";return t[1]&&(s+=t[1]),s}function Ik(t){const e=mk;return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$")[e(236)](/%2C/gi,",")[e(236)](/%20/g,"+").replace(/%5B/gi,"[")[e(236)](/%5D/gi,"]")}function kk(t,e){const s=mk;if(!t)return;if(!e)return t;let i;const r=Object[s(307)](e)[s(224)]((t=>{const r=s;if(i=e[t],null!=i)return Array.isArray(i)?t+="[]":i=[i],i[r(224)]((e=>{const s=r;var i;return!function(t){const e=mk;return Sk[e(256)](t)===e(251)}(e)?null!==(i=e)&&typeof i===mk(375)&&(e=JSON.stringify(e)):e=e[s(395)](),Ik(t)+"="+Ik(e)})).join("&")}))[s(298)](Boolean)[s(285)]("&");if(r){const e=t[s(390)]("#");-1!==e&&(t=t[s(410)](0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}function _k(t,e,s,i,r,n,o,a,h,l,c){const d=mk;r=null!=r?parseFloat(r):null,i=parseInt(i||"0",10),Number[d(304)](i)&&(i=0);return{data:t,done:e,options:{range:h,vid:l,index:a,contentLength:i,age:r,startTime:n,firstByteTime:o,endTime:Date[d(372)](),priOptions:c},response:s}}function Ck(t,e){return Math[mk(342)](8*t*1e3/e/1024)}class Dk extends Error{constructor(t,e,s,i){const r=mk;super(i),_m(this,r(334),0),_m(this,r(344),!1),_m(this,"loaderType",Ak.FETCH),_m(this,r(365),0),_m(this,r(258),0),_m(this,"options",{}),this[r(341)]=t,this[r(241)]=e,this[r(228)]=s}}class Rk extends zi{constructor(t){const e=mk;super(),_m(this,e(227),null),_m(this,"_timeoutTimer",null),_m(this,e(248),null),_m(this,e(247),null),_m(this,"_aborted",!1),_m(this,e(337),-1),_m(this,e(338),null),_m(this,e(242),0),_m(this,e(348),!1),_m(this,e(246),null),_m(this,e(371),""),_m(this,"_onProcessMinLen",0),_m(this,"_onCancel",null),_m(this,"_priOptions",null),_m(this,e(385),"FetchLoader"),this.player=t}[mk(360)](t){const e=mk;var s;let{url:i,vid:r,timeout:n,responseType:o,onProgress:a,index:h,onTimeout:l,onCancel:c,range:d,transformResponse:u,request:p,params:f,logger:m,method:g,headers:y,body:A,mode:v,credentials:b,cache:S,redirect:E,referrer:w,referrerPolicy:T,onProcessMinLen:I,priOptions:k}=t;this[e(333)]=!1,this[e(377)]=I,this[e(279)]=c,this[e(227)]=typeof AbortController!==e(374)&&new AbortController,this[e(348)]=!0,this[e(337)]=h,this._range=d||[0,0],this._vid=r||i,this._priOptions=k||{};const _={method:g,headers:y,body:A,mode:v,credentials:b,cache:S,redirect:E,referrer:w,referrerPolicy:T,signal:null===(s=this[e(227)])||void 0===s?void 0:s.signal};let C=!1;clearTimeout(this._timeoutTimer),i=kk(i,f);const D=Tk(d);D&&(y=p?p[e(415)]:_[e(415)]=_[e(415)]||(Headers?new Headers:{}),Headers&&y instanceof Headers?y.append(e(335),D):y[e(335)]=D),n&&(this._timeoutTimer=setTimeout((()=>{const t=e;if(C=!0,this[t(234)](),l){const e=new Dk(i,_,null,t(313));e[t(344)]=!0,l(e,{index:this[t(337)],range:this[t(338)],vid:this._vid,priOptions:this[t(369)]})}}),n));const R=Date.now();return new Promise(((t,s)=>{const r=e;fetch(p||i,p?void 0:_)[r(274)]((async e=>{const n=r;if(clearTimeout(this[n(359)]),this[n(247)]=e,this[n(333)]||!this[n(348)])return;if(u&&(e=u(e,i)||e),!e.ok)throw new Dk(i,_,e,n(321)+e[n(314)]);const l=Date.now();let c;if(o===vk[n(303)])c=await e[n(233)](),this[n(348)]=!1;else if(o===vk[n(328)])c=await e[n(240)](),this[n(348)]=!1;else{if(a)return this.resolve=t,this[n(336)]=s,void this[n(368)](e,a,R,l);{c=await e[n(329)](),c=new Uint8Array(c),this[n(348)]=!1;const t=Date[n(372)]()-R,s=Ck(c[n(376)],t);this.emit(bk[n(275)],{speed:s,len:c[n(376)],time:t,vid:this[n(371)],index:this[n(337)],range:this[n(338)],priOptions:this._priOptions})}}t(_k(c,!0,e,e[n(415)][n(272)]("Content-Length"),e[n(415)][n(272)](n(268)),R,l,h,d,this[n(371)],this[n(369)]))}))[r(318)]((t=>{const e=r;var n;clearTimeout(this[e(359)]),this[e(348)]=!1,this[e(333)]&&!C||((t=t instanceof Dk?t:new Dk(i,_,null,null===(n=t)||void 0===n?void 0:n[e(404)])).startTime=R,t[e(258)]=Date[e(372)](),t[e(344)]=C,t.options={index:this[e(337)],range:this._range,vid:this[e(371)],priOptions:this[e(369)]},s(t))}))}))}async[mk(234)](){const t=mk;if(!this[t(333)]){if(this[t(333)]=!0,this._running=!1,this._response){try{this[t(248)]&&await this[t(248)][t(234)]()}catch(t){}this[t(247)]=this[t(248)]=null}if(this[t(227)]){try{this[t(227)][t(317)]()}catch(t){}this._abortController=null}this[t(279)]&&this[t(279)]({index:this[t(337)],range:this._range,vid:this[t(371)],priOptions:this[t(369)]})}}[mk(368)](t,e,s,i){const r=mk;if(!t.body||!t.body[r(311)]){this._running=!1;const e=new Dk(t[r(341)],"",t,r(297));return e[r(322)]={index:this[r(337)],range:this[r(338)],vid:this[r(371)],priOptions:this._priOptions},void this[r(336)](e)}this[r(377)]>0&&(this[r(222)]=new Uint8Array(yk),this._writeIdx=0);const n=this[r(248)]=t[r(253)][r(311)]();let o,a,h;const l=async()=>{const c=r;var d;a=Date[c(372)]();try{o=await n[c(386)](),h=Date[c(372)]()}catch(t){return h=Date[c(372)](),void(!this[c(333)]&&(this[c(348)]=!1,t.options={index:this[c(337)],range:this._range,vid:this[c(371)],priOptions:this[c(369)]},this.reject(t)))}const u=(null===(d=this[c(338)])||void 0===d?void 0:d[c(249)])>0?this[c(338)][0]:0,p=u+this[c(242)];if(this._aborted)return this[c(348)]=!1,void e(void 0,!1,{range:[p,p],vid:this._vid,index:this._index,startTime:a,endTime:h,st:s,firstByteTime:i,priOptions:this._priOptions},t);const f=o[c(289)]?o[c(289)][c(376)]:0;let m;if(this._receivedLength+=f,this.player[c(270)](this[c(385)],c(308),this._range,c(265),p,", end,",u+this._receivedLength,c(267),o[c(309)]),this._onProcessMinLen>0){if(this[c(378)]+f>=this[c(377)]||o.done)m=new Uint8Array(this[c(378)]+f),m[c(352)](this[c(222)].slice(0,this._writeIdx),0),f>0&&m.set(o[c(289)],this[c(378)]),this._writeIdx=0,this[c(384)][c(270)](this[c(385)],c(353),o[c(309)],c(366),m.byteLength,c(340),this[c(378)]);else if(f>0&&this[c(378)]+f<yk)this[c(222)][c(352)](o[c(289)],this[c(378)]),this._writeIdx+=f,this[c(384)][c(270)](this[c(385)],c(393),f,c(340),this[c(378)]);else if(f>0){const t=new Uint8Array(this[c(378)]+f+2048);this[c(384)][c(270)](this[c(385)],c(263),this[c(378)]+f+2048,c(276),f,c(340),this[c(378)]),t[c(352)](this[c(222)][c(410)](0,this[c(378)]),0),f>0&&t[c(352)](o[c(289)],this[c(378)]),this[c(378)]+=f,delete this[c(222)],this[c(222)]=t,this[c(384)][c(270)](this[c(385)],c(381),f,c(340),this[c(378)])}}else m=o.value;if((m&&m[c(376)]>0||o[c(309)])&&e(m,o.done,{range:[this[c(338)][0]+this[c(242)]-(m?m.byteLength:0),this[c(338)][0]+this[c(242)]],vid:this[c(371)],index:this[c(337)],startTime:a,endTime:h,st:s,firstByteTime:i,priOptions:this[c(369)]},t),o[c(309)]){const e=Date[c(372)]()-s,r=Ck(this[c(242)],e);this[c(367)](bk[c(275)],{speed:r,len:this[c(242)],time:e,vid:this[c(371)],index:this[c(337)],range:this[c(338)],priOptions:this[c(369)]}),this._running=!1,this[c(384)][c(270)](this[c(385)],"[fetchLoader onProgress end],task,",this._range,c(409),o.done),this[c(223)](_k(o,!0,t,t.headers[c(272)](c(244)),t[c(415)][c(272)](c(268)),s,i,this[c(337)],this[c(338)],this._vid,this[c(369)]))}else l()};l()}get receiveLen(){return this._receivedLength}get[mk(343)](){return this[mk(348)]}set[mk(343)](t){this[mk(348)]=t}static[mk(290)](){return!("undefined"==typeof fetch)}}class Lk{constructor(t,e,s){const i=mk;_m(this,i(385),i(408)),this[i(312)]=function(){const t=mk;let e,s;const i=new Promise(((t,i)=>{e=t,s=i}));return i[t(294)]=!1,i[t(223)]=function(){return i[t(294)]=!0,e(...arguments)},i[t(336)]=function(){return i[t(294)]=!0,s(...arguments)},i}(),this[i(221)]=!!e[i(299)],this[i(332)]=t,this[i(384)]=s,this[i(254)]=t===Ak.FETCH&&window[i(296)]?new Rk(s):new Pk(s),this[i(387)]=e,this._retryCount=0,this._retryTimer=null,this[i(284)]=!1,this[i(382)]=e[i(238)]}[mk(255)](){const t=mk,{retry:e,retryDelay:s,onRetryError:i,transformError:r,...n}=this._config,o=async()=>{const t=wk;try{const e=await this[t(254)].load(n);this[t(312)][t(223)](e)}catch(a){if(this[t(254)][t(343)]=!1,this[t(384)][t(270)](this[t(385)],t(260),a),this[t(284)])return;a[t(364)]=this[t(332)],a[t(334)]=this[t(402)];let h=a;r&&(h=r(h)||h),i&&this[t(402)]>0&&i(h,this[t(402)],{index:n[t(414)],vid:n[t(330)],range:n[t(323)],priOptions:n[t(257)]}),this[t(402)]++;let l=!0;if(this._retryCheckFunc&&(l=this[t(382)](a)),l&&this[t(402)]<=e)return clearTimeout(this[t(370)]),this[t(384)].debugLog(this[t(385)],t(389),this[t(402)],",retry range,",n.range),void(this[t(370)]=setTimeout(o,s));this[t(312)].reject(h)}};return o(),this[t(312)]}async[mk(234)](){const t=mk;return clearTimeout(this[t(370)]),this[t(284)]=!0,this._loader[t(343)]=!1,this[t(254)][t(234)]()}get running(){const t=mk;return this[t(254)]&&this[t(254)][t(343)]}get[mk(231)](){return this._loader}}class Pk extends zi{constructor(t){const e=mk;super(),_m(this,e(407),null),_m(this,e(333),!1),_m(this,e(359),null),_m(this,e(338),null),_m(this,e(242),0),_m(this,"_url",null),_m(this,e(391),null),_m(this,e(337),-1),_m(this,e(405),null),_m(this,e(319),384),_m(this,e(331),null),_m(this,e(407),null),_m(this,e(406),null),_m(this,"_startTime",-1),_m(this,e(417),null),_m(this,"_loadCompleteReject",null),_m(this,"_runing",!1),_m(this,"_logger",!1),_m(this,e(371),""),_m(this,e(305),void 0),_m(this,e(320),void 0),_m(this,e(292),void 0),_m(this,"_transformResponse",void 0),_m(this,e(422),void 0),_m(this,"_onCancel",null),_m(this,"_priOptions",null),_m(this,e(385),e(277)),this.player=t}[mk(360)](t){const e=mk;clearTimeout(this._timeoutTimer),this[e(338)]=t.range,this[e(391)]=t[e(299)],this[e(337)]=t[e(414)],this[e(405)]=t[e(415)],this[e(406)]=t[e(416)]===e(373)||"same-origin"===t.credentials,this._body=t.body||null,t[e(401)]&&(this._method=t[e(401)]),this[e(331)]=t[e(313)]||null,this[e(324)]=!0,this[e(371)]=t[e(330)]||t[e(341)],this[e(305)]=t[e(226)],this[e(422)]=-1,this._onTimeout=t[e(261)],this[e(279)]=t.onCancel,this._request=t[e(241)],this[e(369)]=t[e(257)]||{},this[e(384)].debugLog(this[e(385)],"【xhrLoader task】, range",this[e(338)]),this._url=kk(t[e(341)],t[e(412)]);const s=Date.now();return new Promise(((t,s)=>{const i=e;this._loadCompleteResolve=t,this[i(262)]=s,this._startLoad()}))[e(318)]((t=>{const i=e;if(clearTimeout(this._timeoutTimer),this[i(324)]=!1,!this[i(333)])throw(t=t instanceof Dk?t:new Dk(this._url,this._request))[i(365)]=s,t[i(258)]=Date[i(372)](),t.options={index:this[i(337)],vid:this._vid,priOptions:this[i(369)]},t}))}_startLoad(){const t=mk;let e=null;if(this[t(305)]===vk[t(310)]&&this[t(338)]&&this[t(338)][t(249)]>1)if(this[t(391)]){this[t(422)]=-1;const s=1024*this._currentChunkSizeKB,i=this._range[0]+this._receivedLength;let r=this._range[1];s<this[t(338)][1]-i&&(r=i+s),e=[i,r],this[t(384)][t(270)](this[t(385)],"[xhr_loader->],tast :",this._range,t(399),e)}else e=this._range,this[t(384)][t(270)](this[t(385)],"[xhr_loader->],tast :",this._range,", allRange, ",e);this[t(350)](e)}[mk(350)](t){const e=mk;try{this[e(380)]=Date.now();const s=this[e(407)]=new XMLHttpRequest;s[e(355)](this[e(292)]||e(316),this[e(418)],!0),s[e(226)]=this._responseType,this[e(331)]&&(s.timeout=this._timeout),s[e(396)]=this[e(406)],s[e(306)]=this[e(281)].bind(this),s.onreadystatechange=this[e(394)][e(230)](this),s[e(269)]=t=>{const s=e;var i,r,n;this[s(348)]=!1;const o=new Dk(this[s(418)],this._request,null==t||null===(i=t[s(302)])||void 0===i?void 0:i[s(228)],s(351)+(null==t||null===(r=t[s(302)])||void 0===r?void 0:r[s(314)])+",statusText,"+(null==t||null===(n=t[s(302)])||void 0===n?void 0:n[s(225)]));o[s(322)]={index:this[s(337)],range:this[s(338)],vid:this[s(371)],priOptions:this[s(369)]},this[s(262)](o)},s[e(252)]=t=>{const s=e;this[s(234)]();const i=new Dk(this[s(418)],this[s(282)],{status:408},s(313));this[s(235)]&&(i[s(344)]=!0,this[s(235)](i,{index:this._index,range:this._range,vid:this._vid,priOptions:this[s(369)]})),i[s(322)]={index:this[s(337)],range:this[s(338)],vid:this._vid,priOptions:this[s(369)]},this[s(262)](i)};const i=this._headers||{},r=Tk(t);r&&(i.Range=r),i&&Object[e(307)](i)[e(349)]((t=>{s[e(259)](t,i[t])})),this[e(384)][e(270)](this[e(385)],e(237),this[e(338)],e(362),t),s[e(232)](this._body)}catch(s){s[e(322)]={index:this[e(337)],range:t,vid:this._vid,priOptions:this[e(369)]},this[e(262)](s)}}[mk(394)](t){const e=mk;2===t.target[e(250)]&&this[e(422)]<0&&(this[e(422)]=Date.now())}_onLoad(t){const e=mk;var s;const i=t.target[e(314)];if(i<200||i>299){const s=new Dk(this[e(418)],null,{...t[e(361)][e(228)],status:i},"bad response,status:"+i);return s[e(322)]={index:this[e(337)],range:this._range,vid:this[e(371)],priOptions:this[e(369)]},this[e(262)](s)}let r,n=null,o=!1;const a=(null===(s=this[e(338)])||void 0===s?void 0:s[e(249)])>0?this[e(338)][0]:0;if(this[e(305)]===vk[e(310)]){var h;const s=new Uint8Array(t[e(361)][e(228)]);if(r=a+this[e(242)],s&&s[e(376)]>0){this._receivedLength+=s.byteLength;const t=Date[e(372)]()-this._startTime,i=Ck(this[e(242)],t);this.emit(bk.REAL_TIME_SPEED,{speed:i,len:this[e(242)],time:t,vid:this[e(371)],index:this[e(337)],range:[r,a+this[e(242)]],priOptions:this[e(369)]})}n=s,o=!((null===(h=this[e(338)])||void 0===h?void 0:h[e(249)])>1&&this[e(338)][1]&&this._receivedLength<this[e(338)][1]-this[e(338)][0]),this[e(384)][e(270)](this[e(385)],e(288),this[e(338)],e(392),r,e(229),a+this[e(242)],e(243),s?s.byteLength:0,e(419),this._receivedLength,",index,",this[e(337)],e(267),o)}else o=!0,n=t[e(361)].response;let l={ok:i>=200&&i<300,status:i,statusText:this[e(407)].statusText,url:this._xhr.responseURL,headers:this[e(400)](this._xhr),body:this._xhr[e(228)]};this[e(326)]&&(l=this[e(326)](l,this[e(418)])||l),this[e(391)]&&this._onProgress(n,o,{index:this[e(337)],vid:this._vid,range:[r,a+this[e(242)]],startTime:this[e(380)],endTime:Date.now(),priOptions:this._priOptions},l),o?(this[e(324)]=!1,this[e(417)]&&this._loadCompleteResolve(_k(this[e(391)]?null:n,o,l,l.headers[e(325)],l[e(415)][e(268)],this[e(380)],this._firstRtt,this[e(337)],this[e(338)],this._vid,this[e(369)]))):this[e(300)]()}[mk(234)](){const t=mk;if(!this[t(333)])return this[t(333)]=!0,this._runing=!1,super.removeAllListeners(),this[t(279)]&&this[t(279)]({index:this._index,range:this[t(338)],vid:this._vid,priOptions:this[t(369)]}),this[t(407)]?this[t(407)][t(317)]():void 0}static isSupported(){return typeof XMLHttpRequest!==mk(374)}get[mk(347)](){return this[mk(242)]}get running(){return this[mk(348)]}set[mk(343)](t){this[mk(348)]=t}[mk(400)](t){const e=mk,s=t.getAllResponseHeaders()[e(280)]()[e(403)]("\r\n"),i={};for(const t of s){const s=t[e(403)](": ");i[s[0][e(345)]()]=s.slice(1)[e(285)](": ")}return i}}class xk extends zi{constructor(t,e){const s=mk;super(),_m(this,s(379),Ak[s(398)]),_m(this,s(278),[]),_m(this,s(216),[]),_m(this,s(245),null),_m(this,s(387),void 0),this.player=e,this[s(387)]=function(t){const e=mk;return{loaderType:Ak.FETCH,retry:0,retryDelay:0,timeout:0,request:null,onTimeout:void 0,onProgress:void 0,onRetryError:void 0,transformRequest:void 0,transformResponse:void 0,transformError:void 0,responseType:vk[e(303)],range:void 0,url:"",params:void 0,method:e(316),headers:{},body:void 0,mode:void 0,credentials:void 0,cache:void 0,redirect:void 0,referrer:void 0,referrerPolicy:void 0,integrity:void 0,onProcessMinLen:0,...t}}(t),(this[s(387)][s(364)]===Ak[s(421)]||!Rk[s(290)]())&&(this[s(379)]=Ak[s(421)])}[mk(354)](){const t=mk;this[t(278)]=[],this[t(216)]=[],this[t(245)]=null}[mk(397)](){const t=mk;return this[t(379)]===Ak[t(398)]}static isFetchSupport(){return Rk[mk(290)]()}load(t){const e=mk;let s=arguments[e(249)]>1&&void 0!==arguments[1]?arguments[1]:{};typeof t!==e(413)&&t?s=t:s.url=t||s.url||this[e(387)][e(341)],s=Object.assign({},this._config,s),s.params&&(s[e(412)]=Object[e(271)]({},s[e(412)])),s.headers&&Ek(s.headers)&&(s[e(415)]=Object[e(271)]({},s[e(415)])),s.body&&Ek(s[e(253)])&&(s[e(253)]=Object[e(271)]({},s[e(253)])),s.transformRequest&&(s=s.transformRequest(s)||s);const i=new Lk(this[e(379)],s,this.player);return i[e(231)].on(bk[e(275)],(t=>{const s=e;this.emit(bk[s(275)],t)})),this._queue[e(346)](i),1===this[e(278)][e(249)]&&(!this[e(245)]||!this._currentTask[e(343)])&&this[e(219)](),i[e(312)]}async[mk(234)](){const t=mk,e=this[t(278)].map((t=>t.cancel()))[t(273)](this._alive[t(224)]((e=>e[t(234)]())));this._currentTask&&e[t(346)](this[t(245)].cancel()),this._queue=[],this._alive=[],await Promise[t(266)](e),await function(){let t=arguments[ze(569)]>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((e=>setTimeout(e,t)))}()}[mk(219)](){const t=mk;if(this[t(245)]=this[t(278)][t(291)](),!this[t(245)])return;this._currentTask[t(221)]&&this[t(216)].push(this[t(245)]);const e=this[t(245)][t(255)]()[t(318)]((t=>{}));e&&typeof e[t(383)]===t(411)&&e[t(383)]((()=>{const e=t;var s,i;null!==(s=this[e(245)])&&void 0!==s&&s[e(221)]&&(null===(i=this[e(216)])||void 0===i?void 0:i[e(249)])>0&&(this[e(216)]=this._alive.filter((t=>t&&t!==this._currentTask))),this[e(219)]()}))}}function Mk(){const t=["message","originError","20116404CpUEjc","130Tjvngc","network","network_timeout","6115rJqhal","manifest","3460IQTcGu","2451806XbdcBG","372771GdxLNJ","NETWORK","8bEwXtW","errorType","errorMessage","16056CZZOnL","NETWORK_TIMEOUT","create","network_forbidden","4663ATknQF","1266IzohWI","status","hls","4877862XgSKMs","demux","20sehiuV","other","ext"];return(Mk=function(){return t})()}const Bk=Fk;function Fk(t,e){const s=Mk();return(Fk=function(t,e){return s[t-=213]})(t,e)}!function(t,e){const s=Fk,i=t();for(;;)try{if(317498===-parseInt(s(228))/1*(parseInt(s(240))/2)+-parseInt(s(219))/3*(parseInt(s(234))/4)+-parseInt(s(215))/5*(parseInt(s(229))/6)+-parseInt(s(218))/7*(parseInt(s(221))/8)+parseInt(s(224))/9*(parseInt(s(217))/10)+-parseInt(s(232))/11+parseInt(s(239))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(Mk);const Uk={NETWORK:Bk(213),NETWORK_TIMEOUT:Bk(214),NETWORK_FORBIDDEN:Bk(227),OTHER:Bk(235),MANIFEST:Bk(216),HLS:Bk(231),DEMUX:Bk(233)};class Ok extends Error{constructor(t,e,s,i,r){const n=Bk;super(r||(null==s?void 0:s.message)),this[n(222)]=t===Uk.NETWORK_TIMEOUT?Uk[n(220)]:t,this[n(238)]=s,this[n(236)]=i,this[n(223)]=this[n(237)]}static[Bk(226)](t,e,s,i,r){return t instanceof Ok?t:(t instanceof Error&&(s=t,t=""),t||(t=Uk.OTHER),new Ok(t,e,s,i,r))}static[Bk(213)](t){const e=Bk;var s;return new Ok(null!=t&&t.isTimeout?Uk[e(225)]:Uk[e(220)],null,t instanceof Error?t:null,{url:null==t?void 0:t.url,response:null==t?void 0:t.response,httpCode:null==t||null===(s=t.response)||void 0===s?void 0:s[e(230)]})}}const Nk=qk;!function(t,e){const s=qk,i=t();for(;;)try{if(903486===parseInt(s(220))/1*(-parseInt(s(196))/2)+-parseInt(s(221))/3+parseInt(s(224))/4+parseInt(s(242))/5*(-parseInt(s(190))/6)+-parseInt(s(216))/7*(-parseInt(s(147))/8)+parseInt(s(160))/9+parseInt(s(171))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zk);class jk{constructor(){_m(this,qk(198),0),_m(this,"streams",[]),_m(this,"isMaster",!0)}}const Vk={Audio:Nk(201),Video:Nk(223),SubTitle:Nk(152),ClosedCaptions:Nk(181)},Wk={CLEAR_KEY:Nk(237),FAIRPLAY:[Nk(239),Nk(178)],WIDEVINE:[Nk(236),Nk(192),"com.widevine"],PLAYREADY:[Nk(165),"com.microsoft.playready"]};function Gk(t){const e=Nk;let s=[];for(let i=0;i<t[e(225)];i++)Array[e(153)](t[i])?s=s[e(243)](Gk(t[i])):s[e(230)](t[i]);return s}function zk(){const t=["subtitleStreams","targetDuration","canSkipDateRanges","PLAYREADY","4014460AWDznd","bitrate","partTargetDuration","mediaType","_HLS_skip","CLEAR_KEY","default","com.apple.streamingkeydelivery","partHoldBack","ClosedCaptions","CLOSED-CAPTIONS","lowLatency","end","keyFormatVersions","partIndex","indexOf","width","endSN","endCC","12gFMpAp","hasAudio","com.widevine.alpha","SAMPLE-AES-CENC","segments","height","2onHTFR","independent","version","href","live","AUDIO","part","canBlockReload","dateRanges","set","totalDuration","dataTime","channels","SAMPLE-AES-CTR","_HLS_part","videoCodec","SAMPLE-AES","textCodec","skippedSegments","type","7YkaoHU","audioStreams","isSegmentEncrypted","msn","1355371AHTQkL","3313761jfHFdI","group","VIDEO","5248620qEzXBC","length","FAIRPLAY","duration","endPartIndex","searchParams","push","url","isValidKeySystem","setIVFromSN","keyFormat","startSN","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","org.w3.clearkey","lang","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2","skip","startCC","3638230TLoHXm","concat","AES-128","split","14309912QVTVnb","setTrackExist","audioGroup","addDirectives","title","SUBTITLE","isArray","WIDEVINE","start","Video","byteRange","isLast","URL","11847564cgBvSr","number","Audio","method","name","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","key"];return(zk=function(){return t})()}class Hk{constructor(){const t=Nk;_m(this,"id",0),_m(this,"url",""),_m(this,t(177),!1),_m(this,"autoSelect",!1),_m(this,"forced",!1),_m(this,t(222),""),_m(this,t(164),""),_m(this,t(238),""),_m(this,"segments",[]),_m(this,t(188),0)}}class Kk extends Hk{constructor(){const t=Nk;super(...arguments),_m(this,t(174),Vk[t(162)]),_m(this,t(208),0)}}function qk(t,e){const s=zk();return(qk=function(t,e){return s[t-=145]})(t,e)}class Yk extends Hk{constructor(){super(...arguments),_m(this,"mediaType",Vk.SubTitle)}}class Qk{constructor(){const t=Nk;_m(this,"id",0),_m(this,t(172),0),_m(this,t(187),0),_m(this,t(195),0),_m(this,"name",""),_m(this,"url",""),_m(this,"audioCodec",""),_m(this,t(211),""),_m(this,t(213),""),_m(this,t(149),""),_m(this,t(217),[]),_m(this,t(167),[]),_m(this,"closedCaptionsStream",[])}}class Jk{constructor(){const t=Nk;_m(this,t(198),0),_m(this,t(231),""),_m(this,t(215),""),_m(this,t(241),0),_m(this,t(189),0),_m(this,t(235),0),_m(this,t(188),0),_m(this,t(206),0),_m(this,t(168),0),_m(this,t(173),0),_m(this,"canSkipUntil",0),_m(this,t(169),!1),_m(this,t(214),0),_m(this,t(203),!1),_m(this,t(179),0),_m(this,t(200),!0),_m(this,t(182),!1),_m(this,t(228),0),_m(this,t(194),[]),_m(this,t(204),{}),_m(this,"skippedSegments",0)}}class Xk{constructor(t){const e=Nk;_m(this,"sn",0),_m(this,"cc",0),_m(this,e(231),""),_m(this,"parentUrl",""),_m(this,e(151),""),_m(this,"start",0),_m(this,e(227),0),_m(this,e(207),""),_m(this,e(166),null),_m(this,e(157),null),_m(this,"isInitSegment",!1),_m(this,"initSegment",null),_m(this,e(158),!1),_m(this,e(191),!1),_m(this,"hasVideo",!1),_m(this,e(197),!1),_m(this,e(185),0),this.parentUrl=t}get[Nk(183)](){const t=Nk;return this[t(155)]+this[t(227)]}[Nk(148)](t,e){const s=Nk;this.hasVideo=t,this[s(191)]=e}setByteRange(t,e){const s=Nk;this[s(157)]=[0];const i=t[s(146)]("@");1===i[s(225)]&&e&&e[s(157)]?(this.byteRange[0]=e.byteRange[1]||0,this[s(157)][0]&&(this.byteRange[0]+=1)):this[s(157)][0]=parseInt(i[1]),this.byteRange[1]=this[s(157)][0]+parseInt(i[0])-1}}class $k{constructor(t){const e=Nk;_m(this,"method",""),_m(this,e(231),""),_m(this,"iv",null),_m(this,e(234),""),_m(this,e(184),""),t instanceof $k&&(this[e(163)]=t[e(163)],this[e(231)]=t[e(231)],this[e(234)]=t[e(234)],this[e(184)]=t[e(184)],t.iv&&(this.iv=new Uint8Array(t.iv)))}clone(t){const e=Nk,s=new $k(this);return null!=t&&s[e(233)](t),s}setIVFromSN(t){const e=Nk;if(!this.iv&&"AES-128"===this[e(163)]&&typeof t===e(161)&&this[e(231)]){this.iv=new Uint8Array(16);for(let e=12;e<16;e++)this.iv[e]=t>>8*(15-e)&255}}[Nk(218)](){const t=Nk,{method:e}=this;return e===t(145)}[Nk(232)](){const t=Nk;if(!(Gk([Wk[t(176)],Wk[t(226)],Wk[t(154)],Wk[t(170)]])[t(186)](this[t(234)])>-1))return!1;return!!([t(212),t(193),t(209)][t(186)](this.method)>-1)}isSupported(){const t=Nk;return!!this[t(163)]&&(!!this[t(218)]()||!!this[t(232)]())}}class Zk{constructor(t,e,s){const i=Nk;this.msn=t,this[i(202)]=e,this[i(240)]=s}[Nk(150)](t){const e=Nk,s=new(self[e(159)])(t);return void 0!==this[e(219)]&&s[e(229)].set("_HLS_msn",this[e(219)].toString()),this[e(202)]&&s[e(229)][e(205)](e(210),this.part.toString()),this.skip&&s.searchParams[e(205)](e(175),this[e(240)]),s[e(199)]}}!function(t,e){const s=o_,i=t();for(;;)try{if(882233===-parseInt(s(218))/1+parseInt(s(203))/2*(parseInt(s(190))/3)+-parseInt(s(208))/4*(parseInt(s(200))/5)+-parseInt(s(209))/6*(-parseInt(s(205))/7)+-parseInt(s(195))/8+-parseInt(s(204))/9+parseInt(s(189))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(r_);const t_=/^#(EXT[^:]*)(?::(.*))?$/,e_=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g,s_=/^(?:[a-zA-Z0-9+\-.]+:)?\/\//,i_=/^((?:[a-zA-Z0-9+\-.]+:)?\/\/[^/?#]*)?([^?#]*\/)?/;function r_(){const t=["2539288LwCAbG","12LWuOXY","prototype","post","_endDate","toLowerCase","isFinite","getTime","CUE","test","1134558qKCAjK","split","pre","DURATION","match","YES","X-ASSET-URI","43141900PGtRME","15DJJiZc","_startDate","map","filter","trim","12066808cdySqy","EXT-X-","hasOwnProperty","length","exec","10CdZAks","CLASS","call","448390sEPlaA","10352619dfJsDx","1784692Fkjnha","com.apple.hls.interstitial","END_ON_NEXT"];return(r_=function(){return t})()}function n_(t){const e=o_,s=t[e(222)](t_);if(s&&s[1])return[s[1].replace(e(196),""),s[2]]}function o_(t,e){const s=r_();return(o_=function(t,e){return s[t-=189]})(t,e)}function a_(t){const e=o_,s={};let i=e_[e(199)](t);for(;i;)s[i[1]]=i[2]||i[3],i=e_[e(199)](t);return s}function h_(t,e){const s=o_;if(!e||!t||s_[s(217)](t))return t;const i=i_[s(199)](e);return i?"/"===t[0]?i[1]+t:i[1]+i[2]+t:t}const l_={audio:[/^mp4a/,/^vorbis$/,/^opus$/,/^flac$/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function c_(t,e){const s=o_,i=l_[t];if(i&&e&&e[s(198)])for(let t=0;t<i[s(198)];t++)for(let r=0;r<e[s(198)];r++)if(i[t][s(217)](e[r]))return e[r]}function d_(t,e){const s=o_;let i;if(e)for(const r in e)if(Object[s(210)][s(197)][s(202)](e,r)&&t[r]!==e[r]){i=r;break}let r=null;t.DURATION&&(r=parseFloat(t[s(221)]),Number[s(214)](r)?t[s(212)]&&(r=(t._endDate[s(215)]()-t[s(191)].getTime())/1e3):r=null);const n=(o=t.CUE||t["X-CUE"],a={pre:!1,post:!1,once:!1},(o?o.split(/[ ,]+/):[]).reduce(((t,e)=>(t[e[o_(213)]()]=!0,t)),a));var o,a;return!!t.ID&&!i&&Number.isFinite(t._startDate[s(215)]())&&(null===r||r>=0)&&(!(t[s(207)]===s(223))||!!t.CLASS)&&(!t[s(216)]||!n[s(220)]&&!n[s(211)]||n[s(220)]!==n.post)&&(!(t[s(201)]===s(206))||s(224)in t||"X-ASSET-LIST"in t)}function u_(t,e){const s=p_();return(u_=function(t,e){return s[t-=227]})(t,e)}function p_(){const t=["72428VbcatB","VERSION","audio","AUTOSELECT","10647pFruxq","isNaN","group","url","filter","split","RESOLUTION","CODECS","370iuDXgN","autoSelect","push","height","AVERAGE-BANDWIDTH","subtitleGroup","forEach","496284kOdRKy","textCodec","audioCodec","1163733ZqRLDe","LANGUAGE","subtitleStreams","audioStreams","DEFAULT","5875456BaaprB","text","length","SUBTITLES","AUDIO","version","GROUP-ID","14eHvwUe","URI","2sdkWXY","streams","156684vdhhdM","MEDIA","YES","channels","145865VwYJtZ","video","name","CHANNELS","44sMXfHd","TYPE","width","audioGroup","77MAnSDQ","NAME","bitrate"];return(p_=function(){return t})()}function f_(){const t=["DURATION","PART","length","DATERANGE","EXTINF","clone","totalDuration"," is not supported","TARGETDURATION","URI","url","isLast","SKIPPED-SEGMENTS","title","endPartIndex","skippedSegments","type","initSegment","_endDate","SERVER-CONTROL","MAX_SAFE_INTEGER","startSN","PART-TARGET","isSupported","partIndex","CAN-SKIP-UNTIL","PROGRAM-DATE-TIME","start","push","slice","version","53844njoJzG","lowLatency","toUpperCase","PRELOAD-HINT","TYPE","DISCONTINUITY-SEQUENCE","nextSN","METHOD","KEY","CAN-BLOCK-RELOAD","_startDate","KEYFORMAT","52724CqgKIQ","6312082wXBnLu","2088uwpxBJ","KEYFORMATVERSIONS","BYTERANGE","partHoldBack","preloadHint","identity","11lQQKLQ","26388sfxqzJ","canSkipUntil","NONE","key","MEDIA-SEQUENCE","dataTime",".ts","PART-INF","800RWSVDi","nextIndex","split","isFinite","1238226qQDBBI","canBlockReload","14851530rcXRFs","filter","segments","dateRanges","method","endCC","465ZLPIOj","SKIP","ENDLIST","endSN","keyFormat","encrypt ","canSkipDateRanges","duration","setByteRange","live","independent","201mniyJZ","YES","startCC","INDEPENDENT","END_DATE"];return(f_=function(){return t})()}function m_(t,e){const s=f_();return(m_=function(t,e){return s[t-=478]})(t,e)}function g_(t,e){const s=y_();return(g_=function(t,e){return s[t-=344]})(t,e)}function y_(){const t=["8WCSgAp","139735bpBuXZ","8767385lSkmcT","9007191MjCwsG","Invalid m3u8 file","isMediaPlaylist","76764plymMO","26394oEltvA","124xUbGwU","includes","#EXTINF:","8125509GXcWdR","983838EIyuuz","77IVfnrZ","length","30HqHveQ"];return(y_=function(){return t})()}!function(t,e){const s=u_,i=t();for(;;)try{if(447970===-parseInt(s(249))/1+parseInt(s(232))/2*(parseInt(s(271))/3)+parseInt(s(242))/4*(-parseInt(s(238))/5)+parseInt(s(234))/6*(parseInt(s(230))/7)+parseInt(s(276))/8+parseInt(s(253))/9*(-parseInt(s(261))/10)+parseInt(s(246))/11*(-parseInt(s(268))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(p_),function(t,e){const s=m_,i=t();for(;;)try{if(632535===parseInt(s(545))/1+-parseInt(s(524))/2+-parseInt(s(564))/3*(parseInt(s(526))/4)+-parseInt(s(553))/5*(parseInt(s(512))/6)+-parseInt(s(525))/7+parseInt(s(541))/8*(-parseInt(s(533))/9)+parseInt(s(547))/10*(parseInt(s(532))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(f_),function(t,e){const s=g_,i=t();for(;;)try{if(689331===parseInt(s(347))/1*(-parseInt(s(357))/2)+parseInt(s(346))/3+-parseInt(s(358))/4*(parseInt(s(351))/5)+parseInt(s(356))/6+-parseInt(s(345))/7+-parseInt(s(350))/8*(-parseInt(s(353))/9)+-parseInt(s(349))/10*(-parseInt(s(352))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(y_);class A_{static parse(){const t=g_;let e=arguments[t(348)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(348)]>1?arguments[1]:void 0,i=arguments[t(348)]>2?arguments[2]:void 0;if(!e[t(359)]("#EXTM3U"))throw new Error(t(354));const r=function(t){const e=o_;return t[e(219)](/[\r\n]/)[e(192)]((t=>t[e(194)]()))[e(193)](Boolean)}(e);return A_[t(355)](e)?function(t,e,s){const i=m_,r=new Jk;r.url=e;let n,o=new Xk(e),a=null,h=null,l=0,c=0,d=0,u=0,p=!1,f=0;for(;n=t[u++];){if("#"!==n[0]){if(r[i(513)]){c++;continue}o.sn=c,o.cc=d,o[i(491)]=h_(n,e),h&&(o[i(536)]=h[i(486)](c)),a&&(o[i(498)]=a),r[i(549)][i(509)](o),o=new Xk(e),c++;continue}const t=n_(n);if(!t)continue;const[u,m]=t;switch(u){case"VERSION":r[i(511)]=parseInt(m);break;case"PLAYLIST-TYPE":r[i(497)]=null==m?void 0:m[i(514)]();break;case i(489):r.targetDuration=parseFloat(m);break;case i(540):{s&&(r[i(513)]=!0);const t=a_(m);t[i(503)]&&(r.partTargetDuration=parseFloat(t["PART-TARGET"]))}break;case i(500):{const t=a_(m);r[i(546)]=t[i(521)]===i(565),r[i(529)]=parseFloat(t["PART-HOLD-BACK"]||0),r[i(534)]=parseFloat(t[i(506)]||0),r[i(559)]=r[i(534)]>0&&t["CAN-SKIP-DATERANGES"]===i(565)}break;case i(555):p=!0;break;case i(537):c=r[i(502)]=parseInt(m);break;case i(517):d=r[i(478)]=parseInt(m);break;case"DISCONTINUITY":d++;break;case i(528):o[i(561)](m,r[i(549)][r[i(549)][i(483)]-1]);break;case i(482):{if(!r[i(513)])break;const t=a_(m);o[i(560)]=parseFloat(t[i(481)]),o[i(563)]=t[i(479)]===i(565),o.sn=c,o.cc=d,o[i(505)]=f,o[i(508)]=l,o.duration=parseFloat(t[i(481)]),l+=o[i(560)],o[i(491)]=h_(t[i(490)],e),h&&(o.key=h[i(486)](c)),a&&(o[i(498)]=a),r[i(549)][i(509)](o),o=new Xk(e),f++}break;case i(515):{const t=a_(m);if(r[i(530)]=t,"PART"===t[i(516)]&&t[i(490)]){const e=t.URI[i(543)](i(539))[0][i(543)]("-");r[i(518)]=e[3],r[i(542)]=e[e[i(483)]-1]}}break;case i(507):o[i(538)]=m;break;case i(485):{if(r[i(513)]){f=0;break}const[t,e]=m[i(543)](",");o.start=l,o.duration=parseFloat(t),l+=o.duration,o[i(494)]=e}break;case i(520):{const t=a_(m);if(t[i(519)]===i(535)){h=null;break}if(h=new $k,h[i(551)]=t[i(519)],h.url=/^blob:/.test(t[i(490)])?t[i(490)]:h_(t[i(490)],e),h[i(557)]=t[i(523)]||i(531),h.keyFormatVersions=t[i(527)],!h[i(504)]())throw new Error(i(558)+t[i(519)]+"/"+t[i(523)]+i(488));if(t.IV){let e=t.IV[i(510)](2);e=(1&e.length?"0":"")+e,h.iv=new Uint8Array(e[i(483)]/2);for(let t=0,s=e[i(483)]/2;t<s;t++)h.iv[t]=parseInt(e[i(510)](2*t,2*t+2),16)}}break;case"MAP":{const t=a_(m);o[i(491)]=h_(t[i(490)],e),t[i(528)]&&o.setByteRange(t.BYTERANGE),o.isInitSegment=!0,o.sn=0,h&&(o[i(536)]=h.clone(0)),a=o,o=new Xk(e)}break;case i(554):{const t=a_(m),e=parseInt(t[i(493)],10);e<=Number[i(501)]&&(r[i(496)]+=e,c+=e)}break;case i(484):{const t=a_(m),e=r[i(550)][t.ID];t[i(522)]=e?e[i(522)]:new Date(t["START-DATE"]);const s=(null==e?void 0:e[i(499)])||new Date(t[i(480)]);Number[i(544)](s)&&(t[i(499)]=s),(d_(t,e)||r.skippedSegments)&&(r.dateRanges[t.ID]=t)}}}r.segments=r[i(549)][i(548)]((t=>0!==t[i(560)]));const m=r[i(549)][r[i(549)][i(483)]-1];return m&&(p&&(m[i(492)]=!0),r[i(556)]=m.sn,r[i(495)]=m[i(505)]),p&&(r[i(562)]=!1),r[i(487)]=l,r[i(552)]=d,r}(r,s,i):function(t,e){const s=u_,i=new jk;let r,n=0;const o=[],a=[];for(;r=t[n++];){const h=n_(r);if(!h)continue;const[l,c]=h;if(l===s(250))i[s(228)]=parseInt(c);else if(l===s(235)&&c){const t=a_(c);let i;switch(t[s(243)]){case s(227):i=new Kk;break;case"SUBTITLES":i=new Yk;break;default:i=new Hk}i[s(256)]=h_(t[s(231)],e),i.default=t[s(275)]===s(236),i[s(262)]=t[s(252)]===s(236),i[s(255)]=t[s(229)],i[s(240)]=t.NAME,i.lang=t[s(272)],t[s(241)]&&(i[s(237)]=Number(t[s(241)][s(258)]("/")[0]),Number[s(254)](i[s(237)])&&(i[s(237)]=0)),"AUDIO"===t[s(243)]&&t[s(231)]&&o[s(263)](i),t.TYPE===s(279)&&a.push(i)}else if("STREAM-INF"===l&&c){const r=new Qk,o=a_(c);if(r[s(248)]=parseInt(o[s(265)]||o.BANDWIDTH),r[s(240)]=o[s(247)],r[s(256)]=h_(t[n++],e),o[s(259)]){const[t,e]=o[s(259)].split("x");r[s(244)]=parseInt(t),r[s(264)]=parseInt(e)}if(o[s(260)]){const t=o[s(260)][s(258)](/[ ,]+/)[s(257)](Boolean);r.videoCodec=c_(s(239),t),r[s(270)]=c_(s(251),t),r[s(269)]=c_(s(277),t)}r[s(245)]=o.AUDIO,r[s(266)]=o[s(279)],i[s(233)][s(263)](r)}}return i[s(233)].forEach(((t,e)=>{t.id=e})),o.length&&(o[s(267)](((t,e)=>{t.id=e})),i[s(233)][s(267)]((t=>{const e=s;t[e(245)]&&(t[e(274)]=o[e(257)]((s=>s[e(255)]===t[e(245)])))}))),a[s(278)]&&(a[s(267)](((t,e)=>{t.id=e})),i[s(233)][s(267)]((t=>{const e=s;t[e(266)]&&(t[e(273)]=a.filter((s=>s[e(255)]===t[e(266)])))}))),i}(r,s)}static isMediaPlaylist(t){const e=g_;return t[e(359)](e(344))||t[e(359)]("#EXT-X-TARGETDURATION:")}}const v_=b_;function b_(t,e){const s=S_();return(b_=function(t,e){return s[t-=452]})(t,e)}function S_(){const t=["_useLowLatency","_subtitleLoader","push","1450752rATJOI","nextSN","pollRetryCount","empty segments list","156100TZBaLM","parseText","poll","27509ZoHhfr","config","canBlockReload","HLS_MANIFEST_LOADED","HLS","8KHLBuY","parse","addDirectives","TAG_NAME","all","network","_timer","deliveryDirectives","live","response","5169834QauakA","38MKSIqL","nextIndex","destroy","emit","stopPoll","length","load","3622794uUZZQg","240176RxBZsm","data","_onLoaderRetry","_emitOnLoaded","debugLog","_audioLoader","TTFB","9oMoTur","hls","LOAD_RETRY","player","segments","75zLTvKl","MANIFEST","text","url","118362sFuesW","_loader","22byxyPX","cancel","load()","useLowLatency","isMaster"];return(S_=function(){return t})()}!function(t,e){const s=b_,i=t();for(;;)try{if(360920===parseInt(s(504))/1*(parseInt(s(463))/2)+parseInt(s(478))/3*(-parseInt(s(471))/4)+parseInt(s(483))/5*(-parseInt(s(487))/6)+-parseInt(s(470))/7+parseInt(s(452))/8*(parseInt(s(462))/9)+parseInt(s(501))/10+-parseInt(s(489))/11*(-parseInt(s(497))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(S_);class E_{constructor(t){const e=b_;_m(this,e(474),((t,s)=>{const i=e,{response:r,options:n}=t,{firstByteTime:o,startTime:a,endTime:h,contentLength:l}=n||{};this[i(479)][i(466)](It[i(477)],{url:s,responseUrl:r[i(486)],elapsed:o-a})})),_m(this,e(473),((t,s)=>{const i=e;this[i(479)].emit(It[i(480)],{error:Ok[i(457)](t),retryTime:s})})),this[e(479)]=t,this[e(481)]=t[e(481)],this[e(455)]="HlsManifestLoader",this[e(494)]=t[e(505)][e(492)],this[e(458)]=null;const{retryCount:s,retryDelay:i,manifestLoadTimeout:r,fetchOptions:n}=this[e(479)].config;this[e(488)]=new xk({...n,responseType:"text",retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this[e(481)]),this[e(476)]=new xk({...n,responseType:e(485),retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this.player),this._subtitleLoader=new xk({...n,responseType:e(485),retry:s,retryDelay:i,timeout:r,onRetryError:this[e(473)]},this[e(481)])}async[v_(465)](){const t=v_;await this[t(467)](),this[t(476)]&&(this._audioLoader[t(465)](),this[t(476)]=null),this._subtitleLoader&&(this[t(495)][t(465)](),this[t(495)]=null),this[t(488)]&&(this[t(488)][t(465)](),this._loader=null),this[t(494)]=null,this[t(479)]=null}async[v_(469)](t,e,s){const i=v_;this[i(481)][i(475)](this[i(455)],i(491),t,e,s);const r=[this._loader.load(t)];let n,o,a,h,l,c;e&&r[i(496)](this[i(476)][i(469)](e)),s&&r[i(496)](this[i(495)][i(469)](s));try{const[f,m,g]=await Promise[i(456)](r);if(!f)return[];var d,u,p;if(this[i(474)](f,t),n=f.data,h=f[i(461)][i(486)]||t,e)o=null==m?void 0:m[i(472)],a=null==g?void 0:g[i(472)],l=(null==m||null===(d=m.response)||void 0===d?void 0:d.url)||e,c=(null==g||null===(u=g[i(461)])||void 0===u?void 0:u[i(486)])||s,o&&this[i(474)](m,e),a&&this[i(474)](g,s);else a=null==m?void 0:m.data,c=(null==m||null===(p=m[i(461)])||void 0===p?void 0:p[i(486)])||s,a&&this._emitOnLoaded(m,s)}catch(t){throw Ok.network(t)}const{onPreM3U8Parse:f}=this.hls[i(505)];let m,g,y;try{var A;if(f&&(n=f(n)||n,o&&(o=f(o,!0)||o),a&&(a=f(a,!0)||a)),m=A_[i(453)](n,h,this[i(494)]),!1===(null===(A=m)||void 0===A?void 0:A[i(460)])&&m[i(482)]&&!m[i(482)][i(468)])throw new Error(i(500));o&&(g=A_.parse(o,l,this[i(494)])),a&&(y=A_.parse(a,c,this._useLowLatency))}catch(t){throw new Ok(Uk[i(484)],Uk.HLS,t)}return m&&(m.isMaster?this[i(479)][i(466)](It[i(507)],{playlist:m}):(this[i(494)]&&(m[i(506)]?this[i(459)]=new Zk(m[i(498)],m[i(464)],""):this.deliveryDirectives=null),this[i(479)].emit(It.HLS_LEVEL_LOADED,{playlist:m}))),[m,g,y]}[v_(502)](t,e){const s=v_,{onPreM3U8Parse:i}=this[s(479)][s(505)];let r;try{var n;if(i&&(t=i(t)||t),r=A_.parse(t,e,this._useLowLatency),!1===(null===(n=r)||void 0===n?void 0:n[s(460)])&&r[s(482)]&&!r[s(482)][s(468)])throw new Error(s(500))}catch(t){throw new Ok(Uk[s(484)],Uk[s(508)],t)}return r&&r[s(493)],[r]}[v_(503)](t,e,s,i,r,n){const o=v_;clearTimeout(this[o(458)]),n=n||3e3;let a=this.hls.config[o(499)];const h=async()=>{const l=o;clearTimeout(this[l(458)]);let c=t;try{this[l(459)]&&(c=this[l(459)][l(454)](t));const r=await this.load(c,e,s);if(!r[0])return;a=this.hls[l(505)][l(499)],i(r[0],r[1],r[2])}catch(t){a--,a<=0&&r(t)}this[l(458)]=setTimeout(h,n)};this[o(458)]=setTimeout(h,n)}stopPoll(){const t=v_;return this[t(458)]&&(clearTimeout(this[t(458)]),this[t(458)]=null),this[t(490)]()}[v_(490)](){const t=v_;return Promise[t(456)]([this[t(488)][t(490)](),this[t(476)][t(490)]()])}}var w_=T_;function T_(t,e){var s=I_();return(T_=function(t,e){return s[t-=423]})(t,e)}function I_(){var t=["2070600YJLLSy","109194LwAQDJ","slice","length","301lWHQqV","_totalBits","2ZGzoar","addRecord","304697ObNAnC","10827477OEQvvZ","reset","getLatestSpeed","_speeds","reduce","_chunkSpeeds","972815njgHAC","2452480waoBZb","3192837tSTwEN","push"];return(I_=function(){return t})()}!function(t,e){for(var s=T_,i=t();;)try{if(596381===-parseInt(s(430))/1*(-parseInt(s(428))/2)+-parseInt(s(439))/3+-parseInt(s(441))/4+parseInt(s(437))/5+-parseInt(s(423))/6*(-parseInt(s(426))/7)+-parseInt(s(438))/8+parseInt(s(431))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(I_);class k_{constructor(){var t=T_;this[t(436)]=[],this[t(434)]=[],this._totalBits=0}destroy(){var t=T_;this[t(436)]=[],this[t(434)]=[],this[t(427)]=0}[w_(429)](t,e){var s=w_;t&&e&&(this._speeds[s(440)](8e3*t/e),this[s(434)]=this[s(434)].slice(-3),this[s(427)]+=8*t)}addChunkRecord(t,e){var s=w_;t&&e&&(this[s(436)][s(440)](8e3*t/e),this[s(436)]=this[s(436)][s(424)](-100),this[s(427)]+=8*t)}getAvgSpeed(){var t=w_;return this[t(436)][t(425)]||this[t(434)][t(425)]?this[t(434)].length?this._speeds.reduce(((t,e)=>t+e))/this._speeds[t(425)]:this[t(436)][t(435)](((t,e)=>t+e))/this._chunkSpeeds[t(425)]:0}[w_(433)](){var t=w_;return this[t(436)][t(425)]||this[t(434)][t(425)]?this._speeds[t(425)]?this[t(434)][this[t(434)].length-1]:this[t(436)][this[t(436)][t(425)]-1]:0}getTotalBits(){return this[w_(427)]}[w_(432)](){var t=w_;this._chunkSpeeds=[],this[t(434)]=[],this[t(427)]=0}}const __=D_;function C_(){const t=["1398362ztwBqA","isSegmentEncrypted","2361665bNzbNh","player","cancel","network","loadVideoSegment","resetBandwidth","_emitOnLoaded","7714035ATPfze","_keyLoader","length","_keyCache","then","51824sVYNlJ","all","_onLoaderRetry","key","6PWSOOn","_bandwidthService","LOAD_START","loadAudioSegment","LOAD_RETRY","676957aebINk","_segmentLoader","_mapCache","byteLength","176187nmsqyv","_loadSegment","error","emit","110wwZDyh","reset","1485KBXKBI","byteRange","3iGpPGc","_audioSegmentLoader","data","initSegment","getTotalBits","hls","arraybuffer","load","isArray","3861736RBZdFd","addRecord","keys","destroy","url"];return(C_=function(){return t})()}function D_(t,e){const s=C_();return(D_=function(t,e){return s[t-=478]})(t,e)}!function(t,e){const s=D_,i=t();for(;;)try{if(579145===-parseInt(s(498))/1+parseInt(s(524))/2+-parseInt(s(510))/3*(parseInt(s(519))/4)+-parseInt(s(526))/5*(parseInt(s(493))/6)+parseInt(s(484))/7+-parseInt(s(489))/8*(-parseInt(s(508))/9)+parseInt(s(506))/10*(-parseInt(s(502))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(C_);class R_{constructor(t){const e=D_;_m(this,e(483),((t,s)=>{const i=e,{data:r,response:n,options:o}=t,{firstByteTime:a,startTime:h,endTime:l,contentLength:c}=o||{},d=l-h;this[i(494)][i(520)](c||r[i(501)],d),this[i(515)][i(505)](It.TTFB,{url:s,responseUrl:n.url,elapsed:a-h})})),_m(this,e(491),((t,s)=>{const i=e;this[i(515)][i(505)](It[i(497)],{error:Ok[i(480)](t),retryTime:s})})),this[e(515)]=t,this.player=t.player,this.error=null,this[e(500)]={},this._keyCache={},this[e(494)]=new k_;const{retryCount:s,retryDelay:i,loadTimeout:r,fetchOptions:n}=this[e(515)].config;this[e(499)]=new xk({...n,responseType:e(516),retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this.player),this[e(511)]=new xk({...n,responseType:"arraybuffer",retry:s,retryDelay:i,timeout:r,onRetryError:this[e(491)]},this[e(478)]),this[e(485)]=new xk({...n,responseType:e(516),retry:s,retryDelay:i,timeout:r,onRetryError:this._onLoaderRetry},this[e(478)])}[__(522)](){const t=__;this.reset(),this._keyLoader&&(this[t(485)][t(522)](),this[t(485)]=null),this[t(511)]&&(this[t(511)][t(522)](),this[t(511)]=null),this[t(499)]&&(this._segmentLoader.destroy(),this[t(499)]=null),this[t(494)]&&(this[t(494)][t(522)](),this[t(494)]=null),this.hls=null}speedInfo(){const t=__;return{speed:this[t(494)].getLatestSpeed(),avgSpeed:this[t(494)].getAvgSpeed(),totalBits:this[t(494)][t(514)]()}}[__(482)](){this.reset()}load(t,e,s){const i=__;let r=arguments[i(486)]>3&&void 0!==arguments[3]?arguments[3]:s;const n=[];return t&&(n[0]=this.loadVideoSegment(t,s)),e&&(n[1]=this.loadAudioSegment(e,r)),Promise[i(490)](n)}[__(481)](t,e){const s=__;return this[s(503)](this[s(499)],t,e)}[__(496)](t,e){return this._loadSegment(this._audioSegmentLoader,t,e)}async _loadSegment(t,e,s){const i=__;var r;let n,o,a,h,l;const c=[];this.hls[i(505)](It[i(495)],{url:e.url});const d={};if(Array[i(518)](e[i(509)])&&2===e[i(509)][i(486)]&&(d.range=e.byteRange),c[0]=t[i(517)](e[i(523)],d),s&&e[i(513)]){var u;const s=e.initSegment[i(523)];n=this[i(500)][s],!n&&(this.hls[i(505)](It[i(495)],{url:s}),c[1]=t[i(517)](s)[i(488)]((t=>{const e=i;if(t){Object[e(521)](this[e(500)])>30&&(this._mapCache={}),n=this[e(500)][s]=t[e(512)],this[e(483)](t,s)}})));const r=null===(u=e[i(513)][i(492)])||void 0===u?void 0:u[i(523)];r&&(l=e[i(513)][i(492)].iv,h=this[i(487)][r],!h&&(this.hls[i(505)](It.LOAD_START,{url:r}),c[2]=this[i(485)][i(517)](r).then((t=>{const e=i;t&&(h=this._keyCache[r]=t[e(512)],this[e(483)](t,r))}))))}const p=null===(r=e[i(492)])||void 0===r?void 0:r.url;p&&e[i(492)][i(525)]()&&(a=e.key.iv,o=this._keyCache[p],!o&&(this[i(515)][i(505)](It[i(495)],{url:p}),c[3]=this[i(485)][i(517)](p).then((t=>{const e=i;t&&(o=this[e(487)][p]=t[e(512)],this[e(483)](t,p))}))));const[f]=await Promise.all(c);if(!f)return;const m=f.data;return this[i(483)](f,e[i(523)]),{data:m,map:n,key:o,mapKey:h,keyIv:a,mapKeyIv:l}}[__(507)](){const t=__;this[t(504)]=null,this._mapCache={},this[t(487)]={},this[t(494)][t(507)]()}async[__(479)](){const t=__;await Promise[t(490)]([this[t(485)][t(479)](),this[t(499)][t(479)](),this[t(511)][t(479)]()])}}function L_(t,e){const s=P_();return(L_=function(t,e){return s[t-=480]})(t,e)}function P_(){const t=["552806ssMStA","10GVEWlb","audioStreams","find","videoCodec","liveEdge","totalDuration","duration","isArray","url","end","HlsStream","length","9837773egjQAC","skippedSegments","closedCaptions","audioCodec","lang","name","lowLatency","height","7YKycml","slice","_setLLPlaybackPoint","updateSubtitle","update","map","endPartIndex","partTargetDuration","3226256JzaBWK","destroy","bitrate","concat","width","endSN","findIndex","partHoldBack","clearOldSegment","_clearSegments","partIndex","subtitleStreams","41652iWgubF","textCodec","2653206unTReO","segmentDuration","currentAudioStream","canSkipDateRanges","forEach","2300022bXTZgc","default","currentSubtitleStream","_updateSegments","snDiff","start","endTime","canSkipUntil","targetDuration","5miyEog","193020frrqZL","startCC","startSN","getAudioSegment","segments","3tagWrh","lastSegment","endCC","live","canBlockReload","currentSubtitleEndSn","TAG_NAME"];return(P_=function(){return t})()}const x_=L_;!function(t,e){const s=L_,i=t();for(;;)try{if(394698===parseInt(s(516))/1+-parseInt(s(545))/2+parseInt(s(538))/3*(-parseInt(s(533))/4)+parseInt(s(532))/5*(parseInt(s(518))/6)+parseInt(s(496))/7*(-parseInt(s(504))/8)+-parseInt(s(523))/9+-parseInt(s(546))/10*(-parseInt(s(488))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(P_);class M_{constructor(t,e,s){const i=L_;this[i(541)]=void 0,this.id=0,this[i(506)]=0,this[i(508)]=0,this[i(495)]=0,this[i(493)]="",this[i(484)]="",this[i(491)]="",this[i(549)]="",this[i(517)]="",this[i(534)]=0,this.endCC=0,this[i(535)]=0,this[i(509)]=-1,this[i(481)]=0,this.targetDuration=0,this[i(503)]=0,this.canSkipUntil=0,this.canSkipDateRanges=!1,this[i(489)]=0,this[i(542)]=!1,this[i(511)]=0,this[i(494)]=!1,this.endPartIndex=0,this[i(527)]=null,this.segments=[],this[i(547)]=[],this[i(515)]=[],this[i(490)]=[],this[i(520)]=null,this.currentSubtitleStream=null,this[i(544)]=i(486),this[i(500)](t,e,s)}[x_(505)](){const t=x_;this[t(537)]=[],this[t(547)]=[],this[t(515)]=[],this.currentAudioStream=null,this[t(525)]=null}get lastSegment(){const t=x_;return this.segments[t(487)]?this.segments[this[t(537)].length-1]:null}get[x_(519)](){const t=x_;var e;return this[t(531)]||(null===(e=this[t(537)][0])||void 0===e?void 0:e.duration)||0}get[x_(480)](){return this.endTime}set[x_(480)](t){this[x_(529)]=t}get[x_(529)](){var t;return(null===(t=this[x_(539)])||void 0===t?void 0:t.end)||0}set[x_(529)](t){const e=x_,s=this[e(539)];s&&(s[e(482)]=t-s[e(528)])}get[x_(543)](){const t=x_;var e;return(null===(e=this[t(525)])||void 0===e?void 0:e[t(509)])||0}[x_(512)](t,e){const s=x_;return this.currentAudioStream&&this[s(513)](t,e),this[s(513)](t,e)}[x_(536)](t){const e=x_;if(!t||!this[e(520)])return;const s=t.sn-this[e(527)];return this[e(520)][e(537)][e(548)]((t=>t.sn===s))}[x_(500)](t,e){const s=x_;this[s(484)]=t.url,Array[s(483)](t.segments)?((null===this.live||void 0===this.live)&&(this[s(541)]=t.live),this._updateSegments(t,this),this.startCC=t[s(534)],this[s(540)]=t.endCC,this[s(535)]=t.startSN,this[s(509)]=t[s(509)]||-1,this[s(481)]=t[s(481)],this[s(531)]=t[s(531)],this[s(541)]=t[s(541)],this[s(494)]=t[s(494)],this.canBlockReload=t[s(542)],this[s(521)]=t[s(521)],this[s(530)]=t[s(530)],this[s(511)]=t[s(511)],this[s(503)]=t.partTargetDuration,this[s(489)]=t[s(489)],this[s(502)]=t[s(502)],e&&this[s(520)]&&Array[s(483)](e[s(537)])&&(this[s(526)](e,this[s(520)]),(null===this[s(527)]||void 0===this.snDiff)&&t[s(537)][s(487)]&&e[s(537)][s(487)]&&(this[s(527)]=t[s(537)][0].sn-e[s(537)][0].sn))):(this.id=t.id,this[s(506)]=t[s(506)],this[s(508)]=t.width,this.height=t[s(495)],this[s(493)]=t[s(493)],this[s(491)]=t[s(491)],this[s(549)]=t[s(549)],this.textCodec=t.textCodec,this[s(547)]=t[s(547)],this[s(515)]=t[s(515)],!this[s(520)]&&this[s(547)].length&&(this[s(520)]=this[s(547)].find((t=>t[s(524)]))||this[s(547)][0]),!this[s(525)]&&this[s(515)].length&&(this[s(525)]=this.subtitleStreams[s(548)]((t=>t[s(524)]))||this[s(515)][0]))}[x_(499)](t){const e=x_;if(!(t&&this[e(525)]&&Array.isArray(t[e(537)])))return;const s=this[e(526)](t,this.currentSubtitleStream),i=this[e(525)][e(537)];return i.length>100&&(this.currentSubtitleStream[e(537)]=i.slice(100)),s?s[e(501)]((t=>{const s=e;return{sn:t.sn,url:t[s(484)],duration:t[s(482)],start:t[s(528)],end:t[s(485)],lang:this.currentSubtitleStream[s(492)]}})):void 0}switchSubtitle(t){const e=x_,s=this[e(515)][e(548)]((s=>s[e(492)]===t)),i=this[e(525)];s&&(this[e(525)]=s,i[e(537)]=[])}[x_(498)](t){const e=x_;if(!t.lowLatency||!t[e(537)][e(487)])return t;const s=t[e(481)]-t[e(511)],i=t[e(537)];let r=0;for(let t=0,n=i[e(487)];t<n;t++)i[t][e(528)]<=s&&i[t].independent&&(r=t);const n=i[e(497)](r);let o=0;return n[e(522)]((t=>{const s=e;t[s(528)]=o,o=t[s(485)]})),t[e(537)]=n,t.totalDuration=o,t.startSN=n[0].sn,t[e(534)]=n[0].cc,t}[x_(513)](t,e){const s=x_;let i=0;const r=this[s(537)];for(let e=0,n=r.length;e<n;e++)if(r[e][s(485)]>=t){i=e;break}return i>e&&(i=e),i&&(this[s(537)]=this[s(537)][s(497)](i),this[s(520)]&&(this[s(520)][s(537)]=this.currentAudioStream[s(537)][s(497)](i))),e-i}[x_(526)](t,e){const s=x_,i=e[s(537)];if(this.live){const r=t.lowLatency,n=i[i[s(487)]-1],o=(null==n?void 0:n.sn)??-1,a=(null==n?void 0:n[s(514)])||0;let h=o<t[s(509)]&&t[s(537)][s(487)];if(r&&(h=h||a<t.endPartIndex),h){const r=t[s(537)][s(510)]((t=>t.sn===o&&t[s(514)]===a)),h=r<0?t[s(537)]:t[s(537)][s(497)](r+1);if(i[s(487)]&&h[s(487)]){let t=n.end;h.forEach((e=>{const i=s;e.start=t,t=e[i(485)]}));const e=(null==n?void 0:n.cc)||-1;e>h[0].cc&&h[s(522)]((t=>t.cc+=e))}return e[s(509)]=t[s(509)],e[s(537)]=i[s(507)](h),h}}else e[s(537)]=t[s(537)]}}function B_(t,e){var s=F_();return(B_=function(t,e){return s[t-=370]})(t,e)}function F_(){var t=["lastSegment","clearOldSegment() update _segmentPointer: old -> new","496574mBDzLP","HlsPlaylist","player","moveSegmentPointer() and param pos is ","moveSegmentPointer","isArray","currentStream","SUBTITLE_SEGMENTS","clearOldSegment() stream.endTime:","currentSegments","upsertPlaylist","hasVideo","config","filter","getAudioSegment","nextSegment","destroy","_segmentPointer","148032rRTuGD","findIndex","870bVfXEX","maxPlaylistSize","currentSubtitleEndSn","segments","isEmpty","length","switchSubtitle","3882oCNqQA","setNextSegmentBySN","isLive","url","liveEdge","streams","debugLog","3032nkNtIH","reset"," and clamp result is ","1967FAtofs","checkSegmentTrackChange","214464yYkiap","  startTime <= 0","setNextSegmentByIndex","TAG_NAME","findSegmentIndexByTime",", this.dvrWindow:","currentSegment","543TFDTWg","seekRange","duration","upsertPlaylist() playlist is null","1741150GGLENe","currentSubtitleStream","hasAudio","totalDuration","debugWarn","update","start","end","updateSubtitle","dvrWindow","emit","feedbackLiveEdge","forEach","hls","abs","lowLatency","updateSegmentsRanges","clearOldSegment","getSegmentByIndex","982496FRRxaj","setNextSegmentByIndex()"];return(F_=function(){return t})()}var U_=B_;!function(t,e){for(var s=B_,i=t();;)try{if(306397===-parseInt(s(407))/1+parseInt(s(441))/2*(-parseInt(s(380))/3)+parseInt(s(373))/4+-parseInt(s(384))/5+-parseInt(s(434))/6*(parseInt(s(371))/7)+parseInt(s(403))/8+parseInt(s(425))/9*(parseInt(s(427))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(F_);class O_{constructor(t){var e=B_;this.hls=t,this.player=t.player,this.streams=[],this[e(413)]=null,this[e(393)]=0,this[e(424)]=-1,this[e(376)]=e(408)}destroy(){var t=B_;this[t(442)](),this[t(397)]=null}get[U_(399)](){var t,e=U_;return null===(t=this.currentStream)||void 0===t?void 0:t[e(399)]}get lastSegment(){var t,e=U_;return null===(t=this.currentStream)||void 0===t?void 0:t[e(405)]}get[U_(379)](){var t,e=U_;return null===(t=this.currentSegments)||void 0===t?void 0:t[this[e(424)]]}get[U_(422)](){var t,e=U_;return null===(t=this[e(416)])||void 0===t?void 0:t[this[e(424)]+1]}get[U_(416)](){var t,e=U_;return null===(t=this[e(413)])||void 0===t?void 0:t[e(430)]}get currentSubtitleEndSn(){var t,e=U_;return null===(t=this[e(413)])||void 0===t?void 0:t[e(429)]}get[U_(438)](){var t,e=U_;return null===(t=this[e(413)])||void 0===t?void 0:t[e(438)]}set[U_(438)](t){var e=U_;this[e(413)]&&(this.currentStream[e(438)]=t)}get totalDuration(){var t,e=U_;return(null===(t=this.currentStream)||void 0===t?void 0:t[e(387)])||0}get[U_(381)](){var t=U_;const e=this[t(416)];if(e&&e[t(432)])return[e[0][t(390)],e[e[t(432)]-1][t(391)]]}get nbSegments(){var t;return(null===(t=this.currentSegments)||void 0===t?void 0:t.length)||0}get[U_(431)](){var t,e=U_;return!(null!==(t=this[e(416)])&&void 0!==t&&t[e(432)])}get[U_(436)](){var t;return null===(t=this[U_(413)])||void 0===t?void 0:t.live}get hadSegmentLoaded(){return-1!==this[U_(424)]}get hasSubtitle(){var t,e=U_;return!(null===(t=this[e(413)])||void 0===t||!t[e(385)])}getAudioSegment(t){var e,s=U_;return null===(e=this[s(413)])||void 0===e?void 0:e[s(421)](t)}[U_(411)](t){var e,s=U_;null==t&&(t=this[s(424)]+1),this[s(424)]=Xe(t,-1,null===(e=this[s(416)])||void 0===e?void 0:e.length),this[s(409)][s(440)](this[s(376)],s(410)+t+s(370)+this[s(424)])}reset(){var t=U_;this[t(439)].length>0&&(this[t(439)][t(396)]((e=>{e[t(423)]()})),this[t(439)]=[]),this.currentStream=null,this[t(393)]=0,this[t(424)]=-1}[U_(402)](t){var e;return null===(e=this[U_(416)])||void 0===e?void 0:e[t]}[U_(375)](){var t=U_;let e=arguments[t(432)]>0&&void 0!==arguments[0]?arguments[0]:0;this[t(424)]=e-1,this.player[t(440)](this[t(376)],t(404),e,this[t(424)])}[U_(435)](){var t,e=U_;let s=arguments[e(432)]>0&&void 0!==arguments[0]?arguments[0]:0;const i=null===(t=this.currentSegments)||void 0===t?void 0:t[e(426)]((t=>t.sn===s));return-1!==i&&this[e(375)](i+1),i}findSegmentIndexByTime(t){var e=U_;const s=this[e(416)];if(s){for(let i,r=0,n=s.length;r<n;r++)if(i=s[r],t>=i[e(390)]&&t<i[e(391)])return r;const i=s[s[e(432)]-1];if(Math[e(398)](t-(null==i?void 0:i[e(391)]))<.2)return s.length-1}}[U_(417)](t,e,s){var i=U_;if(!t)return void this[i(409)][i(388)](this[i(376)],i(383));if(t.isMaster)this[i(439)][i(432)]=t[i(439)][i(432)],t[i(439)][i(420)]((t=>t[i(437)]))[i(396)](((t,e)=>{var s=i;this[s(439)][e]?this[s(439)][e][s(389)](t):this[s(439)][e]=new M_(t)})),this[i(413)]=this[i(439)][0];else if(Array[i(412)](t[i(430)])){const r=this.currentStream;if(r){r[i(389)](t,e,s);const n=r[i(392)](s);n&&this[i(397)][i(394)](It[i(414)],{list:n})}else this.reset(),this[i(413)]=this.streams[0]=new M_(t,e,s)}this[i(413)]&&this[i(397)][i(436)]&&!this[i(393)]&&(this[i(393)]=this[i(416)].reduce(((t,e)=>t+=e[i(382)]),0))}updateSegmentsRanges(t,e){var s,i=U_;(null===(s=this[i(416)])||void 0===s?void 0:s[i(420)]((e=>e.sn>=t))).forEach((t=>{t[i(390)]=e,e=t.end}))}[U_(433)](t){var e,s=U_;null===(e=this.currentStream)||void 0===e||e[s(433)](t)}[U_(401)](){var t=U_;let e=arguments[t(432)]>0&&void 0!==arguments[0]?arguments[0]:this.hls[t(419)][t(428)]||50;const s=this[t(413)];if(!this[t(393)]||!s)return;const i=s.endTime-this[t(393)];if(i<=0)return void this[t(409)][t(440)](this[t(376)],t(415)+s.endTime+t(378)+this[t(393)]+t(374));const r=s[t(430)];if(r[t(432)]<=e)return void this[t(409)][t(440)](this[t(376)],"clearOldSegment() segments.length:"+r.length+" <= maxPlaylistSize:"+e);const n=this._segmentPointer;this._segmentPointer=s.clearOldSegment(i,n),this[t(409)].debugLog(this.TAG_NAME,t(406),n,this._segmentPointer)}[U_(372)](t,e){var s=U_;const i=this[s(377)](t),r=this[s(402)](i);if(!r)return;if(!r[s(386)]&&!r[s(418)])return;if(2!==e&&r[s(386)]&&r.hasVideo)return r;if(r.end-t>.3)return;const n=this[s(402)](i+1);return n&&(n[s(386)]||n.hasVideo)&&(n[s(386)]!==r[s(386)]||n[s(418)]!==r[s(418)])?n:void 0}[U_(395)](t,e){var s,i=U_;if(!this[i(416)])return;(null===(s=this[i(405)])||void 0===s?void 0:s.sn)===t.sn?this[i(438)]=e:this[i(400)](t.sn+1,e)}}const N_=j_;function j_(t,e){const s=V_();return(j_=function(t,e){return s[t-=129]})(t,e)}function V_(){const t=["15932KPBigq","22WOzrpU","647700IqlZfk","382892vFBIfr","10LauDvK","decrypt","encrypt","map","mode","raw","externalDecryptor","webkitSubtle","destroy","344862lRKBSX","player","AES-CBC","704238WBrdwt","subtle","_decryptData","1890110EanHYs","data","CBC","msCrypto","2KPdbeF","40147IrMYAD","key","hls","all","AES","304BfYkib","keyIv"];return(V_=function(){return t})()}!function(t,e){const s=j_,i=t();for(;;)try{if(144439===-parseInt(s(136))/1+-parseInt(s(135))/2*(parseInt(s(159))/3)+-parseInt(s(146))/4*(parseInt(s(147))/5)+parseInt(s(145))/6+parseInt(s(143))/7*(parseInt(s(141))/8)+parseInt(s(156))/9+parseInt(s(131))/10*(parseInt(s(144))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(V_);N_(148);class W_{constructor(t,e){const s=N_;this[s(138)]=t,this[s(157)]=e;const i=window.crypto||window[s(134)];this[s(129)]=i&&(i[s(129)]||i[s(154)]),this[s(153)]=null}[N_(155)](){const t=N_;var e;null!==(e=this.externalDecryptor)&&void 0!==e&&e[t(155)]&&this[t(153)][t(155)](),this[t(129)]=null,this[t(138)]=null}decrypt(t,e){const s=N_;if(!t&&!e)return;const i=[];return t&&(i[0]=this._decryptSegment(t)),e&&(i[1]=this._decryptSegment(e)),Promise[s(139)](i)}async _decryptSegment(t){const e=N_;let s=t.data;return t[e(137)]&&(s=await this._decryptData(t[e(132)],t[e(137)],t[e(142)])),t[e(150)]?qm(t[e(150)],s):s}async[N_(130)](t,e,s){const i=N_;if(this[i(153)])return await this.externalDecryptor[i(148)](t,e,s);if(this[i(129)]){const r=await this[i(129)].importKey(i(152),e,{name:i(158)},!1,[i(149),"decrypt"]),n=await this[i(129)][i(148)]({name:i(158),iv:s},r,t);return new Uint8Array(n)}t=Vp(t),e=Vp(e),s=Vp(s);return function(t){const{words:e}=t,{sigBytes:s}=t,i=new Uint8Array(s);for(let t=0;t<s;t+=1)i[t]=e[t>>>2]>>>24-t%4*8&255;return i}(Op[i(140)].decrypt({ciphertext:t},e,{iv:s,mode:Op[i(151)][i(133)]}))}}function G_(){const t=1,e=2,s="hlsTs";class i{constructor(t){this.type=t.type,this.baseFps=0,this.playRate=1,this.fpsInterval=null,this.calcSampleInterval=null,this.preLoopTimestamp=null,this.seekingTime=null,this.seekingMaxDiff=t.seekingMaxDiff||1e4,this.allSampleList=[],this.isDebug=t.debug||!1,this.TAG_NAME=t.type+"LoopWorker",this.debugUuid=t.debugUuid||"xxxx",this.debugLevel=t.debugLevel||"warn",this._startCalcSampleInterval(),this.debugLog(this.TAG_NAME,"init")}destroy(){this._clearInterval(),this._clearCalcSampleInterval(),this.baseFps=0,this.playRate=1,this.allSampleList=[],this.preLoopTimestamp=null,this.seekingTime=null}updateBaseFps(t){this.debugLog(this.TAG_NAME,`updateBaseFps() baseFps is ${t}`),this.baseFps=t+1,this._clearInterval(),this._startInterval()}updatePlayRate(t){this.debugLog(this.TAG_NAME,`updatePlayRate() rate is ${t}`),this.playRate=t}seekSampleRange(t){this.debugLog(this.TAG_NAME,`seekSampleRange() time is ${t}`);const s=1e3*t;let i=0,r=-1;for(let t=0;t<this.allSampleList.length;t++){const n=this.allSampleList[t];if(n.type===e&&n.isIFrame){const e=Math.abs(s-n.dts);(-1===r||e<r)&&(r=e,i=t)}}this.allSampleList=this.allSampleList.slice(i)}cleanSampleList(){this.debugLog(this.TAG_NAME,"cleanSampleList()"),this.allSampleList=[]}setSeekingTime(t){this.seekingTime=1e3*t,this.debugLog(this.TAG_NAME,`setSeekingTime() time is ${this.seekingTime}`)}pause(){this.debugLog(this.TAG_NAME,"pause()"),this._clearInterval()}resume(){this.debugLog(this.TAG_NAME,"resume()"),this._clearInterval(),this._startInterval()}pushSample(t){if(delete t.cmd,null!==this.seekingTime){const s=Math.abs(t.dts-this.seekingTime);if(!(t.type===e&&t.isIFrame&&s<=this.seekingMaxDiff))return t.dts-this.seekingTime>this.seekingMaxDiff?(this.debugWarn(this.TAG_NAME,`pushSample() seekingTime is ${this.seekingTime}, sample dts is ${t.dts}, diff is ${s}ms more than seekingMaxDiff ${this.seekingMaxDiff}ms, and set this.seekingTime = null`),void(this.seekingTime=null)):void 0;this.debugLog(this.TAG_NAME,`pushSample() seekingTime is ${this.seekingTime}, sample dts is ${t.dts}, diff is ${s}ms and set this.seekingTime = null`),this.seekingTime=null}this.allSampleList.push(t)}_startInterval(){const t=Math.ceil(1e3/this.baseFps);this.debugLog(this.TAG_NAME,`_startInterval() fragDuration is ${t}ms and baseFps is ${this.baseFps}`);for(let t=0;t<this.playRate;t++)this._loop();this.fpsInterval=setInterval((()=>{let e=Date.now();for(let t=0;t<this.playRate;t++)this._loop();this.preLoopTimestamp||(this.preLoopTimestamp=e);const s=e-this.preLoopTimestamp,i=parseInt(s/t,10);i>1&&this.allSampleList.length>0&&this.debugWarn(this.TAG_NAME,`loop interval is ${s}ms, and fragDuration is ${t}ms, diffFps is ${i}, and allSampleList length is ${this.allSampleList.length}`),this.preLoopTimestamp=e}),t)}_clearInterval(){this.fpsInterval&&(clearInterval(this.fpsInterval),this.fpsInterval=null),this.preLoopTimestamp=null}_startCalcSampleInterval(){this.debugLog(this.TAG_NAME,"_startCalcSampleInterval()"),this._clearCalcSampleInterval(),this.calcSampleInterval=setInterval((()=>{this._calcSampleList()}),1e3)}_clearCalcSampleInterval(){this.calcSampleInterval&&(clearInterval(this.calcSampleInterval),this.calcSampleInterval=null)}_calcSampleList(){const i={buferredDuration:0,allListLength:this.allSampleList.length,start:this.allSampleList[0]?this.allSampleList[0].dts:0,end:this.allSampleList[this.allSampleList.length-1]?this.allSampleList[this.allSampleList.length-1].dts:0,audioListLength:0,videoListLength:0};this.allSampleList.forEach((r=>{r.type===e?(i.videoListLength++,r.duration&&(this.type===s?i.buferredDuration+=Math.round(r.duration/90):i.buferredDuration+=r.duration)):r.type===t&&i.audioListLength++})),postMessage({cmd:"sampleListInfo",...i})}_loop(){let s=null;if(this.allSampleList.length)if(s=this.allSampleList.shift(),s.type===e){postMessage({cmd:"decodeVideo",...s},[s.payload.buffer]);let e=this.allSampleList[0];for(;e&&e.type===t;)s=this.allSampleList.shift(),postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]),e=this.allSampleList[0]}else if(s.type===t){postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]);let i=this.allSampleList[0];for(;i;){if(s=this.allSampleList.shift(),s.type===e){postMessage({cmd:"decodeVideo",...s},[s.payload.buffer]),i=null;break}s.type===t&&(postMessage({cmd:"decodeAudio",...s},[s.payload.buffer]),i=this.allSampleList[0])}}}debugLog(t){if(this.isDebug&&"debug"==this.debugLevel){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][✅✅✅][${t}]`,...s)}}debugWarn(t){if(this.isDebug&&("debug"==this.debugLevel||"warn"==this.debugLevel)){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][❗❗❗][${t}]`,...s)}}debugError(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];console.log(`JbPro[${this.debugUuid}][❌❌❌][${t}]`,...s)}}let r=null;self.onmessage=t=>{const e=t.data;switch(e.cmd){case"init":r=new i(e.options);break;case"updateBaseFps":r.updateBaseFps(e.baseFps);break;case"updatePlayRate":r.updatePlayRate(e.rate);break;case"seekSampleRange":r.seekSampleRange(e.time);break;case"cleanSampleList":r.cleanSampleList();break;case"setSeekingTime":r.setSeekingTime(e.time);break;case"pause":r.pause();break;case"resume":r.resume();break;case"sample":r.pushSample(e);break;case"destroy":r.destroy(),r=null}}}!function(t,e){const s=Q_,i=t();for(;;)try{if(570248===-parseInt(s(434))/1+parseInt(s(423))/2+parseInt(s(428))/3*(parseInt(s(420))/4)+-parseInt(s(432))/5+parseInt(s(424))/6*(parseInt(s(430))/7)+-parseInt(s(429))/8*(-parseInt(s(422))/9)+-parseInt(s(433))/10*(parseInt(s(427))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(X_);const z_=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],H_=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],K_=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],q_=[0,1,1,4];let Y_=null;function Q_(t,e){const s=X_();return(Q_=function(t,e){return s[t-=420]})(t,e)}function J_(t,e){const s=Q_,i=t[e+1]>>3&3,r=t[e+1]>>1&3,n=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==i&&0!==n&&15!==n&&3!==o){const a=t[e+2]>>1&1,h=t[e+3]>>6,l=1e3*z_[14*(3===i?3-r:3===r?3:4)+n-1],c=H_[3*(3===i?0:2===i?1:2)+o],d=3===h?1:2,u=K_[i][r],p=q_[r],f=8*u*p,m=Math[s(431)](u*l/c+a)*p;if(null===Y_){const t=(navigator[s(425)]||"")[s(426)](/Chrome\/(\d+)/i);Y_=t?parseInt(t[1]):0}return!!Y_&&Y_<=87&&2===r&&l>=224e3&&0===h&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:d,frameLength:m,samplesPerFrame:f}}}function X_(){const t=["30kMmJLg","userAgent","match","979NVEjxH","12EIvBWF","6471384IwiJlt","880705dzhtcR","floor","2611155eyXMCL","114280QcljWn","820457AWhCfW","1079904xKLPHl","length","9qKGoIN","824252UEOEha"];return(X_=function(){return t})()}const $_=Z_;function Z_(t,e){const s=tC();return(Z_=function(t,e){return s[t-=469]})(t,e)}function tC(){const t=["subarray","loopWorker","demuxAndFix","_baseAudioDts","_prevPlayVodTimeCache","_postMessageToLoopWorker","G711A","type",",\n             next dts is ","workerUrl","_lastAudioExceptionLargeGapDot",",\n                audio pts: ","_isUseWorker",",\n                originPts is ","2Sksowp","aac seq header","large video gap between chunk,\n             next dts is ","_videoPesData","_remainingPacketData","_largeGapThreshold","setSeekingTime","revokeObjectURL",", pid: ","getPlayVodDuration","map","cmd","_createVideoSample","isFinite",",\n             first dts is ","debugWarn","metadataTrack","resume","_isSendAACSeqHeader","_doDecodeByHls","_baseDtsInited","start","tempSampleListInfo","_doFixAudioInternal","isEmitTsPrivateData"," < 0,\n                ref Sample DurationInt is ","fpsNum","playVod","floor","_lastAudioExceptionOverlapDot","pts","728750qxCWno","isPlayVodNotUseMSE","seiSamples","debugLevel","G711U","seqHeader","debugLog","getSampleRange","originalPts","_times","_parseAudioData() and parse pes error, code is startPrefixError and set audioPesData to []","_basefps","TAG_NAME","_needForceFixLargeGap","isUseMSE","getInputByteLength","end","buffer","concat",",\n                    nextPts is ",",\n                        sample duration is ","timescale","_baseDts","dts","samplesPerFrame","h264","sampleDuration","2825598GeaqOJ","pps","error","originData","3807085GKbrxe","_demux","length","_hasCalcFps","_audioNextPts","correctSamplePts","abs","decodeVideo","reset","samples","_pmtId","fpsDen","demuxStart","audioTrack","payload","splice","cts","_parsePES startPrefix should be 1 but with value ","469XIVRmT","_audioTimestampBreak","15032GqhQnR","video","getSampleListLength","_doDecodeAudio",",\n                detect is: ","workerClearTimeout","_fix","setFps","_parseVideoData","sort","_parseAudioData","audio gap detected,\n                pts is ","player","_audioCodecType"," || ","emit","_initLoopWorker()","aac seq header not send","channelCount","vps","samplingFrequencyIndex","seekSampleRange","min","isPlayVod","h265","hlsTs","pause","_videoTimestampBreak","listen playVodRateChange","_videoNextDts","735144FHQBtj","\n                        ref sample duration is ","_audioPid","setPlayVodBufferedTime","postMessage","originalDts","objectType","sps",",\n                base dts: ","data","_videoPid","2605416pCstJG","baseMediaDecodeTime","Cannot parse avc units","pid is 17 and ignore","startPrefixError","codec",", channel: ","playVodTimeCache","_lastAudioExceptionGapDot","code",",\n                    ref sample duration is ","_fixAudio"," > ","_gopId","HlsTsDemux","cryptoPayloadAudio","large audio gap detected,\n                        time is ","set","isEmitSEI","formatTimescale","Unknown pid: ","_calcDecodeFps",",\n                        originPts is ","initAudioTrack",",\n                nextPts is ","audio","sample",",\n             duration is ","loop worker is not init, can not post message",",\n                sample Duration is ","debug","isPlayer","calcIframeIntervalTimestamp","frameLength","_parsePES","cleanSampleListAndSetSeekTime","getSampleAudioListLength","updatePlayRate","max","_codecType","geVodLoadedTime","audio gap detected, silent frame is not support, count is ","_doDecodeVideo","getBuferredDuration","clear","init","_baseVideoDts","destroy","byteLength","isHevc","sampleRate","pid is 0x1fff and ignore","frames",",\n                        nextPts is ","_opt","updateStats",",\n                dts is ","\n                        pts is ","videoTrack",", not start with 0x47, so break","_calculateBaseDts","_demux() sync_byte = ","emitTsPrivateData",",\n                count is ","7857JnUQML","6190KOCRYw","MP3","hls264UseOldDemuxer","_audioPesData","isIFrame","videoListLength","forEach","debugUuid","push","initMetadataTrack","originPts","_fixVideo","audioListLength"];return(tC=function(){return t})()}!function(t,e){const s=Z_,i=t();for(;;)try{if(495412===parseInt(s(469))/1*(-parseInt(s(500))/2)+-parseInt(s(581))/3+parseInt(s(592))/4+parseInt(s(531))/5+parseInt(s(527))/6+parseInt(s(549))/7*(parseInt(s(551))/8)+parseInt(s(656))/9*(-parseInt(s(657))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tC);class eC extends Cf{constructor(t){const e=Z_;super(t),this[e(563)]=t,this.TAG_NAME=e(606),this.reset(),this[e(631)]=K[e(525)],this[e(564)]=Y.AAC,this._videoPesData=[],this[e(660)]=[],this[e(491)]={},this.videoTrack=eC.initVideoTrack(),this[e(544)]=eC[e(615)](),this[e(485)]=eC[e(666)](),this[e(474)]=45e4,this[e(556)]=null,this[e(679)]=null,this[e(671)]=null,this[e(682)]()&&this._initLoopWorker(),this[e(563)][e(574)]()&&this[e(682)]()&&this[e(563)].on(O.playVodRateChange,(t=>{const s=e;this[s(563)].debugLog(this[s(512)],s(579),t),this._postMessageToLoopWorker(s(629),{rate:t})})),this.player[e(506)](this[e(512)],e(637))}[$_(639)](){const t=$_;super.destroy(),this[t(679)]&&(URL[t(476)](this.workerUrl),this[t(679)]=null),this.workerClearTimeout&&(clearTimeout(this[t(556)]),this[t(556)]=null),this.loopWorker&&(this[t(671)].postMessage({cmd:"destroy"}),this[t(671)].terminate(),this[t(671)]=null),this.reset(),this[t(563)][t(506)](this[t(512)],"destroy")}[$_(539)](){const t=$_;this._pmtId=-1,this[t(591)]=-1,this[t(583)]=-1,this[t(473)]=null,this[t(631)]=null,this._audioCodecType=null,this[t(472)]=null,this[t(660)]=null,this[t(605)]=0,this[t(650)]=null,this[t(544)]=null,this.metadataTrack=null,this[t(491)]=null,this[t(522)]=-1,this[t(638)]=-1,this[t(673)]=-1,this[t(489)]=!1,this._basefps=25,this[t(534)]=!1,this._prevPlayVodTimeCache=0,this._audioNextPts=void 0,this._videoNextDts=void 0,this[t(550)]=!1,this._videoTimestampBreak=!1,this[t(600)]=0,this[t(498)]=0,this[t(680)]=0,this._needForceFixLargeGap=!0,this[t(487)]=!1,this.vps=null,this.sps=null,this[t(528)]=null}static initVideoTrack(){return{samples:[]}}static[$_(615)](){return{samples:[]}}static initMetadataTrack(){return{flvScriptSamples:[],seiSamples:[]}}static probe(t){return!!t[$_(533)]&&(71===t[0]&&71===t[188]&&71===t[376])}[$_(626)](t){const e=$_,s=t[8];if(null==s||t[e(533)]<s+9)return;const i=t[0]<<16|t[1]<<8|t[2];if(1!==i)return this[e(563)][e(484)](this[e(512)],e(548)+i),{error:!0,code:e(596)};const r=(t[4]<<8)+t[5];if(r&&r>t[e(533)]-6)return;let n,o;const a=t[7];return 192&a&&(n=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&a?(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,n-o>54e5&&(n=o)):o=n),{data:t[e(670)](9+s),pts:n,dts:o,originalPts:n,originalDts:o}}[$_(532)](t){const e=$_;let s=arguments[e(533)]>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments[e(533)]>2&&void 0!==arguments[2])||arguments[2];s&&(this._pmtId=-1,this[e(650)]=eC.initVideoTrack(),this[e(544)]=eC[e(615)](),this[e(485)]=eC.initMetadataTrack()),!i||s?(this[e(473)]=null,this[e(472)]=[],this[e(660)]=[],this.player.isPlayVod()&&this.player.playVod.isSeeking()&&(this[e(650)].samples=[],this[e(544)][e(540)]=[],this[e(485)].seiSamples=[])):(this[e(650)].samples=[],this[e(544)].samples=[],this.metadataTrack[e(502)]=[],this[e(473)]&&(t=qm(this._remainingPacketData,t),this[e(473)]=null));let r=t[e(533)];const n=r%188;n&&(this[e(473)]=t[e(670)](r-n),r-=n);for(let s=0;s<r;s+=188){if(71!==t[s]){this.player[e(484)](this[e(512)],e(653)+t[s]+e(651));break}const i=!!(64&t[s+1]),r=((31&t[s+1])<<8)+t[s+2];let n;if((48&t[s+3])>>4>1){const i=t[s+4];if(n=s+5+i,n===s+188)continue;if(i>0){const i=t[s+5],r=(16&i)>>>4;if(this[e(563)][e(646)][e(493)]){if(1===(2&i)>>>1){let n=s+6;r&&(n+=6);(8&i)>>>3&&(n+=6);(4&i)>>>2&&(n+=1);const o=t[n],a=t[e(670)](n+1,n+1+o);this.player[e(654)](a)}}}}else n=s+4;switch(r){case 0:i&&(n+=t[n]+1),this[e(541)]=(31&t[n+10])<<8|t[n+11];break;case this[e(541)]:{i&&(n+=t[n]+1);const s=n+3+((15&t[n+1])<<8|t[n+2])-4;for(n+=12+((15&t[n+10])<<8|t[n+11]);n<s;){const s=(31&t[n+1])<<8|t[n+2],i=t[n];switch(i){case 15:this._audioPid=s,this[e(564)]=Y.AAC;break;case 3:case 4:-1===this[e(583)]&&(this[e(583)]=s,this._audioCodecType=Y[e(658)]);break;case 144:this[e(583)]=s,this[e(564)]=Y[e(676)];break;case 145:this[e(583)]=s,this[e(564)]=Y[e(504)];break;case 27:if(-1!==this[e(591)])break;this[e(591)]=s,this[e(631)]=K[e(525)],this[e(563)][e(623)]()&&this[e(563)][e(646)][e(659)]&&this.player[e(566)](O[e(659)]);break;case 36:if(-1!==this[e(591)])break;this._videoPid=s,this[e(631)]=K[e(575)];break;default:this.player[e(484)](this.TAG_NAME,"Unsupported stream. type: "+i+e(477)+s)}n+=5+((15&t[n+3])<<8|t[n+4])}}break;case this._videoPid:i&&this._videoPesData[e(533)]&&this[e(559)](),this[e(472)][e(665)](t.subarray(n,s+188));break;case this[e(583)]:i&&this._audioPesData[e(533)]&&this[e(561)](),this[e(660)][e(665)](t.subarray(n,s+188));break;case 17:this[e(563)][e(506)](this.TAG_NAME,e(595));break;case 8191:this[e(563)][e(506)](this[e(512)],e(643));break;default:this[e(563)].debugLog(this[e(512)],e(612)+r)}}this[e(559)](),this[e(561)](),this.audioTrack[e(611)]=this[e(650)][e(611)]=this[e(650)].timescale=9e4,this[e(544)][e(521)]=this[e(544)][e(642)]||0}[$_(672)](t,e,s,i){const r=$_;!this[r(563)][r(509)][r(543)]&&(this[r(563)]._times.demuxStart=Je()),this._demux(t,e,s,i),this[r(557)](i,e,s)}[$_(559)](){const t=$_;if(!this._videoPesData[t(533)])return void this[t(563)][t(506)](this[t(512)],"_parseVideoData","no video pes data");const e=this[t(626)](qm(...this[t(472)]));if(!e||e.error)return void(e&&e[t(601)]===t(596)&&(this._videoPesData=[]));const s=Ue(e[t(590)]);s?this[t(481)](s,e[t(499)],e[t(523)]):this.player.debugWarn(this[t(512)],t(594),e),this[t(472)]=[]}_createVideoSample(t,e,s){const i=$_;if(!t[i(533)])return;const r=this[i(631)]===K[i(575)],n={isIFrame:!1,type:x.video,isHevc:r,vps:null,sps:null,pps:null,pts:e,dts:s,payload:null};t.forEach((t=>{const s=i,o=r?t[0]>>>1&63:31&t[0];switch(o){case 5:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:if(!r&&5!==o||r&&5===o)break;n[s(661)]=!0,this[s(605)]++;break;case 6:case 39:case 40:if(!r&&6!==o||r&&6===o)break;const i=We(Ve(t),r);return void this[s(485)][s(502)][s(665)]({data:i[s(545)],originData:t,type:i[s(677)],uuid:i.uuid,size:i.size,originPts:e});case 32:if(!r)break;!n[s(570)]&&(n[s(570)]=t,this.vps=t);break;case 7:case 33:if(!r&&7!==o||r&&7===o)break;!n[s(588)]&&(n[s(588)]=t,this[s(588)]=t);break;case 8:case 34:if(!r&&8!==o||r&&8===o)break;!n.pps&&(n[s(528)]=t,this[s(528)]=t)}if(r&&Sl(o)||!r&&Xh(o)){const e=Ge(t);if(n[s(545)]){const t=new Uint8Array(n.payload[s(640)]+e.byteLength);t[s(609)](n.payload,0),t[s(609)](e,n[s(545)].byteLength),n[s(545)]=t}else n[s(545)]=e}}));let o=null;r?n[i(588)]&&n[i(570)]&&n[i(528)]?(o=Al({vps:n[i(570)],sps:n[i(588)],pps:n[i(528)]}),this[i(570)]=null,this[i(588)]=null,this[i(528)]=null):this.vps&&this[i(588)]&&this[i(528)]&&(o=Al({vps:this[i(570)],sps:this[i(588)],pps:this[i(528)]}),this.vps=null,this[i(588)]=null,this[i(528)]=null):n[i(588)]&&n.pps?(o=Kh({sps:n[i(588)],pps:n[i(528)]}),this.sps=null,this[i(528)]=null):this[i(588)]&&this.pps&&(o=Kh({sps:this.sps,pps:this[i(528)]}),this[i(588)]=null,this.pps=null),o&&(this[i(563)][i(506)](this.TAG_NAME,"_createVideoSample",i(505)),this[i(488)](o,x.video,Math[i(497)](n.pts/90),!0,0)),n.isIFrame&&this[i(624)](Math[i(497)](n[i(523)]/90)),this[i(650)][i(540)]=this.videoTrack[i(540)][i(518)](n)}[$_(561)](){const t=$_;if(!this[t(660)][t(533)])return;if(!this.player[t(646)].hasAudio)return;const e=this[t(626)](qm(...this[t(660)]));if(e&&!e[t(529)]){if(this._audioCodecType===Y.AAC){const s=Te(e[t(590)],e[t(508)]);if(s){if(this[t(544)][t(597)]=s[t(597)],this.audioTrack[t(642)]=s.sampleRate,this[t(544)][t(569)]=s[t(569)],!this[t(487)]){const e=Ae({profile:s[t(587)],sampleRate:s[t(571)],channel:s[t(569)]});this._isSendAACSeqHeader=!0,this[t(563)][t(506)](this[t(512)],t(470),"profile: "+s[t(587)]+", sampleRate:"+s[t(642)]+",sampleRateIndex: "+s[t(571)]+t(598)+s.channelCount),this[t(488)](e,x[t(617)],0,!1,0)}if(this[t(487)]){const e=[];s[t(644)][t(663)]((s=>{const i=t,r=s[i(499)],n=new Uint8Array(s[i(590)][i(533)]+2);n[i(609)]([175,1],0),n[i(609)](s[i(590)],2);const o={type:x[i(617)],pts:r,dts:r,payload:n};e[i(665)](o)})),this[t(544)][t(540)]=this[t(544)][t(540)][t(518)](e)}else this.player.debugWarn(this.TAG_NAME,t(568))}else this[t(563)].debugWarn(this[t(512)],"aac parseADTS error")}else if(this[t(564)]===Y[t(658)]){const r=e[t(590)],n=r.length;let o=0,a=0;const h=e.pts;if(void 0===h)return void this[t(563)].debugWarn(this[t(512)],"_parseAudioData() MPEG PES unknown PTS");const l=[];for(;a<n;)if((i=a)+1<(s=r)[Q_(421)]&&255===s[i]&&224==(224&s[i+1])&&0!=(6&s[i+1])){if(a+24>r[t(533)])return;const e=J_(r,a);if(!(e&&a+e[t(625)]<=r[t(533)]))break;{const s=h+o*(9e4*e[t(524)]/e.sampleRate),i=r.subarray(a,a+e.frameLength);this[t(544)][t(569)]=e[t(569)],this.audioTrack[t(642)]=e[t(642)];const n=new Uint8Array(i+1);n[t(609)]([32],0),n[t(609)](i,1);const c={type:x[t(617)],pts:s,dts:s,payload:n};l[t(665)](c),a+=e.frameLength,o++}}else a++;this[t(544)][t(540)]=this.audioTrack[t(540)][t(518)](l)}else if(this[t(564)]===Y[t(676)]||this._audioCodecType===Y[t(504)]){this[t(544)].channelCount=1,this[t(544)][t(642)]=8e3;const s=e[t(499)];if(void 0===s)return void this[t(563)][t(484)](this[t(512)],"_parseAudioData() G711 PES unknown PTS");const i=this[t(564)]===Y[t(676)];let r=e[t(590)];const n=new Uint8Array(r[t(533)]+1),o=i?[114]:[130];n[t(609)](o,0),n[t(609)](r,1);const a={type:x[t(617)],pts:s,dts:s,payload:n};this[t(544)][t(540)].push(a)}var s,i;this[t(660)]=[]}else e&&"startPrefixError"===e[t(601)]&&(this.player[t(506)](this[t(512)],t(510)),this._audioPesData=[])}[$_(557)](){const t=$_;let e=arguments[t(533)]>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments[t(533)]>2&&void 0!==arguments[2])||arguments[2];e=Math[t(497)](9e4*e);const r=this[t(650)],n=this.audioTrack,o=r[t(540)],a=n[t(540)];if(!o.length&&!a[t(533)])return;const h=o[0],l=a[0];let c=0;if(o[t(533)]&&a[t(533)]&&(c=h[t(523)]-l[t(499)]),!this[t(489)]&&this[t(652)](),s&&(this[t(652)](),this[t(522)]-=e,this[t(673)]-=e,this._baseVideoDts-=e),!i){this[t(580)]=c>0?e+c:e,this._audioNextPts=c>0?e:e-c,this[t(513)]&&(this[t(580)]=0,this[t(535)]=0);const s=h?h.dts-this[t(522)]-this[t(580)]:0,i=l?l[t(499)]-this[t(522)]-this[t(535)]:0;Math[t(537)](s||i)>Nt&&(this[t(652)](this[t(544)],this[t(650)]),this[t(522)]-=e)}this._resetBaseDtsWhenStreamBreaked(),this._fixAudio(n),this[t(668)](r),this[t(485)][t(502)][t(533)]&&this[t(563)][t(646)][t(610)]&&this.metadataTrack[t(502)].forEach((e=>{const s=t;this[s(563)].emitVideoSei({ts:(e[s(667)]-this[s(522)])/90,data:e[s(590)],originData:e[s(530)],type:e[s(677)],uuid:e.uuid,size:e.size})})),r[t(540)][t(533)]&&(r.baseMediaDecodeTime=r[t(540)][0][t(523)]),n.samples[t(533)]&&(n[t(593)]=n[t(540)][0][t(499)]*n[t(521)]/9e4),this[t(536)](r,450),this[t(536)](n,450);let d=r[t(540)][t(518)](n[t(540)]);d=d[t(479)]((e=>{const s=t;return e[s(523)]=Math.floor(e[s(523)]/90),e[s(499)]=Math.floor(e[s(499)]/90),e[s(547)]=e[s(499)]-e[s(523)],e}))[t(560)](((e,s)=>{const i=t;return e.dts-s[i(523)]})),d[t(663)]((e=>{const s=t,i=new Uint8Array(e[s(545)]);delete e[s(545)],this[s(682)]()?this[s(671)][s(585)]({...e,payload:i,cmd:s(618)},[i[s(517)]]):e[s(677)]===x[s(552)]?this._doDecodeVideo({...e,payload:i}):e[s(677)]===x.audio&&this[s(554)]({...e,payload:i})})),Si(this[t(534)])&&this[t(682)]()&&(this[t(534)]=this[t(613)](d),this[t(534)]&&this[t(563)][t(574)]()&&this[t(563)][t(496)][t(558)](this[t(511)]))}[$_(652)](){const t=$_,e=this.audioTrack,s=this[t(650)],i=e[t(540)],r=s[t(540)];if(!i.length&&!r[t(533)])return!1;let n=1/0,o=1/0;i[t(533)]&&(e.baseDts=n=i[0].pts),r[t(533)]&&(s.baseDts=o=r[0][t(523)]),this[t(522)]=Math[t(573)](n,o);const a=o-n;let h=!1;return Number[t(482)](a)&&Math.abs(a)>45e3&&this[t(563)].debugWarn(this.TAG_NAME,"large av first frame gap,\n                video pts: "+o+t(681)+n+t(589)+this[t(522)]+t(555)+a),Number.isFinite(a)&&Math.abs(a)>this[t(474)]*Ut&&(h=!0),!this[t(489)]&&(h&&this[t(513)]?this._needForceFixLargeGap=!0:this._needForceFixLargeGap=!1),this[t(489)]=!0,!0}_resetBaseDtsWhenStreamBreaked(){const t=$_;if(this[t(489)]&&this[t(578)]&&this[t(550)]){if(!this[t(652)](this.audioTrack,this[t(650)]))return;this[t(522)]-=Math[t(573)](this[t(535)],this[t(580)]),this._audioLastSample=null,this._videoLastSample=null,this[t(578)]=!1,this._audioTimestampBreak=!1}}[$_(603)](t){const e=$_,s=t[e(540)];s.length&&(s[e(663)]((t=>{const s=e;t.pts-=this._needForceFixLargeGap?this[s(673)]:this[s(522)],t[s(523)]=t.pts})),Si(this[e(564)]===Y[e(504)]||this[e(564)]===Y.G711A)&&this[e(492)](t,s,9e4))}[$_(668)](t){const e=$_,s=t[e(540)];if(!s[e(533)])return;if(s[e(663)]((t=>{const s=e;t[s(523)]-=this[s(513)]?this[s(638)]:this[s(522)],t[s(499)]-=this[s(513)]?this._baseVideoDts:this._baseDts})),void 0===this._videoNextDts){const t=s[0];this[e(580)]=t.dts}const i=s.length;let r=0;const n=s[0],o=s[1],a=this[e(580)]-n[e(523)];if(Math[e(537)](a)>45e3)if(n.dts+=a,n.pts+=a,this[e(563)][e(484)](this[e(512)],e(471)+this[e(580)]/90+e(483)+n.dts/90+e(678)+(o&&o[e(523)]||0)/90+e(619)+a/90+e(604)+45e3),n.dts+=a,n[e(499)]+=a,o&&Math.abs(o[e(523)]-n[e(523)])>Nt)this[e(578)]=!0,s.forEach(((t,s)=>{const i=e;0!==s&&(t[i(523)]+=a,t[i(499)]+=a)}));else for(let t=1;t<i-1;t++){var h;const i=null===(h=s[t])||void 0===h?void 0:h.dts,r=s[t-1][e(523)];i&&i-r<0&&(s[t].dts+=a,s[t][e(499)]+=a)}let l;if(t.fpsNum&&t[e(542)]&&(l=t[e(521)]*(t[e(542)]/t[e(495)])),l<900&&(l=0),!l){const s=t[e(540)][0],r=t[e(540)][1];l=1===i?9e3:Math[e(497)](r[e(523)]-s[e(523)])}for(let n=0;n<i;n++){const o=s[n][e(523)],a=s[n+1];if(r=n<i-1?a[e(523)]-o:s[n-1]?Math[e(573)](o-s[n-1].dts,l):l,r>Nt||r<0){this[e(578)]=!0,r=this._audioTimestampBreak?l:Math[e(630)](r,2700);const i=this[e(535)]||0;a&&a[e(523)]>i&&(r=l),this[e(563)][e(484)](this[e(512)],"large video gap between frames,\n                time is "+o/t.timescale+e(648)+o+",\n                origin dts is "+s[n][e(586)]+",\n                next dts is "+this[e(580)]+e(621)+r+e(604)+Nt+e(565)+r+e(494)+l)}s[n].duration=r,this._videoNextDts+=r}}_doFixAudioInternal(t,e,s){const i=$_;!t[i(526)]&&(t.sampleDuration=we(t[i(521)],s));const r=t[i(526)];if(void 0===this[i(535)]){const t=e[0];this._audioNextPts=t[i(499)]}for(let s=0;s<e[i(533)];s++){const n=this[i(535)],o=e[s],a=o[i(499)]-n;if(!this[i(550)]&&a>=3*r&&a<=Ut&&!ps()){Ee(t[i(597)],t[i(569)])||e[0][i(590)][i(670)]();const h=Math[i(497)](a/r);Math.abs(o[i(499)]-this[i(600)])>Ot&&(this[i(600)]=o[i(499)]),this[i(563)][i(484)](this[i(512)],i(562)+e[i(499)]/90+i(683)+e.originalPts+i(655)+h+i(616)+n/90+",\n                ref sample duration is "+r);for(let t=0;t<h;t++)this.player[i(484)](this[i(512)],i(633)+h),this[i(535)]+=r,s++;s--}else a<=-3*r&&a>=-9e4?(Math[i(537)](o[i(499)]-this._lastAudioExceptionOverlapDot)>Ot&&(this._lastAudioExceptionOverlapDot=o[i(499)],this.player[i(484)](this[i(512)],"audio overlap detected,\n                    pts is "+o.pts/90+",\n                    originPts is "+o.originalPts+i(519)+n/90+i(602)+r)),e[i(546)](s,1),s--):(Math.abs(a)>=Ut&&(this[i(550)]=!0,Math.abs(o[i(499)]-this._lastAudioExceptionLargeGapDot)>Ot&&(this[i(680)]=o[i(499)],this[i(563)][i(484)](this[i(512)],i(608)+o[i(499)]/1e3+i(649)+o.pts/90+i(614)+o[i(508)]+i(645)+n/90+i(520)+a+i(582)+r))),o.dts=o[i(499)]=n,this[i(535)]+=r)}}[$_(682)](){const t=$_;return!this.player[t(514)]()}_initLoopWorker(){const t=$_;this[t(563)].debugLog(this[t(512)],t(567));const e=ai(G_);let s=new Worker(e);this[t(679)]=e,this[t(556)]=setTimeout((()=>{const e=t;window.URL[e(476)](this[e(679)]),this.workerUrl=null,this[e(556)]=null}),I),s[t(585)]({cmd:t(637),options:{type:t(576),seekingMaxDiff:1e4,debug:this.player[t(646)][t(622)],debugUuid:this[t(563)]._opt[t(664)],debugLevel:this[t(563)][t(646)][t(503)]}}),s.onmessage=e=>{const s=t;if(this._isDestroyed)return;const i=e.data;switch(i[s(480)]){case s(538):this[s(634)](i);break;case"decodeAudio":this[s(554)](i);break;case"sampleListInfo":if(this[s(491)]=i,this[s(563)][s(501)]()){const t=this[s(632)](),e=this[s(563)][s(478)]();if(t&&e){let i=t/(1e3*e);i!==this[s(674)]&&(this[s(563)][s(584)](t),this.player[s(566)](O[s(599)],i)),this[s(674)]=i}}}},this[t(671)]=s}[$_(675)](t,e){const s=$_;this[s(682)]()&&(this[s(671)]?this.loopWorker[s(585)]({cmd:t,...e}):this.player[s(484)](this[s(512)],s(620)))}[$_(554)](t){const e=$_,s=new Uint8Array(t[e(545)]);this.player[e(647)]({abps:s[e(640)]});let i=this[e(607)](s);this[e(488)](i,x.audio,t[e(523)],!1,0)}[$_(634)](t){const e=$_,s=new Uint8Array(t[e(545)]);let i=null;i=t[e(641)]?vl(s,t[e(661)]):qh(s,t[e(661)]),this[e(563)][e(647)]({dts:t[e(523)],vbps:8*i.byteLength});const r=t[e(499)]-t[e(523)];let n=this.cryptoPayload(i,t[e(661)]);this._doDecodeByHls(n,x[e(552)],t[e(523)],t.isIFrame,r)}[$_(635)](){return this[$_(491)].buferredDuration||0}[$_(553)](){return this[$_(491)].allListLength||0}[$_(628)](){const t=$_;return this[t(491)][t(669)]||0}getSampleVideoListLength(){const t=$_;return this[t(491)][t(662)]||0}[$_(515)](){const t=$_;return this[t(473)]&&this._remainingPacketData[t(640)]||0}[$_(507)](){const t=$_;return{start:this.tempSampleListInfo[t(490)]||0,end:this.tempSampleListInfo[t(516)]||0}}[$_(572)](t){this[$_(675)]("seekSampleRange",{time:t})}[$_(627)](t){const e=$_;this[e(563)][e(617)]&&this[e(563)][e(617)][e(636)](),Si(this[e(563)][e(514)]())&&(this.clearBuffer(!0),this[e(675)]("cleanSampleList"),this[e(675)](e(475),{time:t}))}[$_(577)](){const t=$_;this[t(675)](t(577))}[$_(486)](){this[$_(675)]("resume")}[$_(632)](){const t=$_;let e=0;return e=this[t(507)]()[t(516)],e}}const sC=cC;function iC(t){const e=cC;let s=arguments[e(611)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[s]<<8)+(t[s+1]||0)}function rC(){const t=["present","hvc1","channelCount","find","ftyp","enca","avgFrameRate","hSpacing","sampleDuration","mdia","depth","co64","configurationVersion","hdlr","map","start","starts_with_SAP","entryCount","moov","height","tenc","from","width","substring","timescale","fromCharCode","mp3"," size !== data.length","AVC","trak","defaultSampleDuration","default_KID","esds","sampleCount","profileCompatibility","type","config","generalProfileCompatibility","stsd","firstSampleFlags","samplesPerChunk","mp4a.","trackId","sampleRateIndex","vmhd","getFrameDuration","hvcC","hev1.1.6.L93.B0","reference_type","stco","numOfArrays","buffer","defaultSampleSize","defaultSampleFlags","objectType","avc1.","flags","BytesOfClearData","subarray","keyframe","vide","dataOffset","join","frma","mp4a","alaw","1063208MGlfBu","subsamples","stsc","samplesize","horizresolution","warn","avcC","length","22362ehAtxt","ppsLength","box ","language","hev1","schi","BytesOfProtectedData","sps","avc4","handlerType","data","headerSize","tkhdDuration","4710265IxrwTN","default_IV_size","sinf","vertresolution","evaluateDefaultDuration","MP3","generalProfileSpace","tkhd","size","isAudioEncryption","g7110m","entries","soun","tfdt","mvhd","stts","moovToTrack","AAC","trun","reference_ID","sequenceNumber","sampleSize","254143hLcDfj","parseSampleFlags","minf","2776484eseRHt","kidValue","referenced_size","lengthSizeMinusOne","AVCLevelIndication","mvhdDurtion","data_format","baseMediaDecodeTime","stsz","traf","cts","useEME","ext","SAP_type","avc1","sidx","sarRatio","vps","dataReferenceIndex","codec","earliest_presentation_time","ctts","encv","moovToSamples","45nKxxRX","entrySizes","senc","vSpacing","isVideoEncryption","hevc","system_id","mfhd","moof","subsegment_duration","AVCProfileIndication","mvhdTimecale","smhd","dts","probe","generalLevelIdc","avc2","pps","sampleRate","185678JXlMkP","pssh","baseDataOffset","pasp","stbl","ceil","moofToSamples","G711PCMU","kid","samples","885zuEoQt","toString","FREQ","codecType","mdhd","firstChunk","forEach","1501908jeVXJt","generalConstraintIndicatorFlags","push","graphicsmode","apply","balance","ulaw","default_IsEncrypted","getRateIndexByRate","version","first_offset","filter","gopId","videoSenc","InitializationVector","HEVC","avc","stss","duration","SAP_delta_time","mp4a.40.2","unknown video stsd entry","tfhd","findBox"];return(rC=function(){return t})()}function nC(t){const e=cC;let s=arguments[e(611)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[s]<<24>>>0)+(t[s+1]<<16)+(t[s+2]<<8)+(t[s+3]||0)}function oC(t){const e=cC;let s=arguments[e(611)]>1&&void 0!==arguments[1]?arguments[1]:0;const i=Math.pow(2,32);return nC(t,s)*i+nC(t,s+4)}!function(t,e){const s=cC,i=t();for(;;)try{if(365384===-parseInt(s(451))/1+parseInt(s(497))/2+parseInt(s(514))/3+parseInt(s(454))/4+-parseInt(s(507))/5*(parseInt(s(612))/6)+-parseInt(s(429))/7+parseInt(s(604))/8*(parseInt(s(478))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rC);const aC={AAC:"aac",G711PCMA:"g7110a",G711PCMU:sC(439),MP3:sC(564)},hC={AVC:sC(530),HEVC:sC(483)};class lC{static getFrameDuration(t){return 1024*(arguments[sC(611)]>1&&void 0!==arguments[1]?arguments[1]:9e4)/t}static[sC(522)](t){return lC[sC(509)].indexOf(t)}}function cC(t,e){const s=rC();return(cC=function(t,e){return s[t-=420]})(t,e)}function dC(t,e,s,i,r,n){const o=sC,a=[],h=null==r?void 0:r.entries,l=e[o(440)],c=i.entries,d=s.entrySizes,u=null==n?void 0:n[o(440)];let p,f;u&&(p={},u[o(513)]((t=>{p[t-1]=!0}))),h&&(f=[],h.forEach((t=>{let{count:e,offset:s}=t;for(let t=0;t<e;t++)f.push(s)})));let m,g=-1,y=0,A=0,v=0,b=0,S=0,E=l[0][o(578)],w=l[1]?l[1][o(512)]-1:1/0;return t[o(440)].forEach((t=>{const e=o;let{count:i,delta:r}=t;for(let t=0;t<i;t++)m={dts:y,duration:r,size:d[A]||s[e(450)],offset:c[v]+S,index:A},u&&(m[e(597)]=p[A],m[e(597)]&&g++,m[e(526)]=g),f&&A<f[e(611)]&&(m.pts=m[e(491)]+f[A]),a[e(516)](m),y+=r,A++,A<E?S+=m.size:(v++,S=0,v>=w&&(b++,w=l[b+1]?l[b+1][e(512)]-1:1/0),E+=l[b][e(578)])})),a}function uC(t,e){const s=sC;return t[s(472)]=iC(e,6),t.width=iC(e,24),t[s(557)]=iC(e,26),t.horizresolution=nC(e,28),t[s(432)]=nC(e,32),t.frameCount=iC(e,40),t[s(548)]=iC(e,74),78}function pC(t,e){const s=sC;return t[s(472)]=iC(e,6),t[s(540)]=iC(e,16),t[s(450)]=iC(e,18),t.sampleRate=nC(e,24)/65536,28}function fC(t,e,s){const i=sC;if(!t)return;if(t[i(437)]!==t[i(426)].length)throw new Error(i(614)+t[i(573)]+i(565));const r={start:t[i(553)],size:t.size,headerSize:t[i(427)],type:t[i(573)]};return e&&(r.version=t[i(426)][t[i(427)]],r[i(594)]=function(t){let e=arguments[cC(611)]>1&&void 0!==arguments[1]?arguments[1]:0;return(t[e]<<16)+(t[e+1]<<8)+(t[e+2]||0)}(t[i(426)],t.headerSize+1),r[i(427)]+=4),s(r,t.data[i(596)](r[i(427)]),r[i(553)]+r.headerSize),r}_m(lC,sC(509),[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]);const mC=function(t,e,s){const i=sC,r=String(s),n=e>>0;let o=Math[i(502)](n/r[i(611)]);const a=[],h=String(t);for(;o--;)a[i(516)](r);return a[i(600)]("").substring(0,n-h[i(611)])+h},gC=function(){const t=sC,e=[];for(var s=arguments[t(611)],i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return i.forEach((s=>{const i=t;e[i(516)](mC(Number(s)[i(508)](16),2,0))})),e[0]};class yC{static probe(t){const e=sC;return!!yC[e(537)](t,[e(542)])}static[sC(537)](t,e){const s=sC;let i=arguments[s(611)]>2&&void 0!==arguments[2]?arguments[2]:0;const r=[];if(!t)return r;let n=0,o="",a=0;for(;t[s(611)]>7;){if(n=nC(t),o=String[s(563)].apply(null,t[s(596)](4,8)),a=8,1===n?(n=oC(t,8),a+=8):!n&&(n=t[s(611)]),!e[0]||o===e[0]){const h=t[s(596)](0,n);if(!(e[s(611)]<2))return yC[s(537)](h[s(596)](a),e.slice(1),i+a);r.push({start:i,size:n,headerSize:a,type:o,data:h})}i+=n,t=t.subarray(n)}return r}static[sC(536)](t){return fC(t,!0,((t,e)=>{const s=cC;t[s(580)]=nC(e);let i=4;const r=1&t[s(594)],n=2&t[s(594)],o=8&t.flags,a=16&t[s(594)],h=32&t[s(594)];r&&(i+=4,t[s(499)]=nC(e,i),i+=4),n&&(t.sampleDescriptionIndex=nC(e,i),i+=4),o&&(t[s(568)]=nC(e,i),i+=4),a&&(t[s(590)]=nC(e,i),i+=4),h&&(t[s(591)]=nC(e,i))}))}static[sC(469)](t){return fC(t,!0,((t,e)=>{const s=cC;let i=0;t[s(448)]=nC(e,i),i+=4,t.timescale=nC(e,i),i+=4,0===t[s(523)]?(t.earliest_presentation_time=nC(e,i),i+=4,t[s(524)]=nC(e,i),i+=4):(t[s(474)]=oC(e,i),i+=8,t[s(524)]=oC(e,i),i+=8),i+=2,t.references=[];const r=iC(e,i);i+=2;for(let n=0;n<r;n++){const r={};t.references[s(516)](r);let n=nC(e,i);i+=4,r[s(586)]=n>>31&1,r[s(456)]=2147483647&n,r[s(487)]=nC(e,i),i+=4,n=nC(e,i),i+=4,r[s(554)]=n>>31&1,r[s(467)]=n>>28&7,r[s(533)]=268435455&n}}))}static[sC(556)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t[i(443)]=yC[i(443)](yC[i(537)](e,[i(443)],s)[0]),t[i(567)]=yC[i(537)](e,["trak"],s).map((t=>yC.trak(t))),t[i(498)]=yC[i(498)](yC[i(537)](e,["pssh"],s)[0])}))}static[sC(443)](t){return fC(t,!0,((t,e)=>{const s=cC;let i=0;1===t[s(523)]?(t.timescale=nC(e,16),t[s(532)]=oC(e,20),i+=28):(t[s(562)]=nC(e,8),t.duration=nC(e,12),i+=16),t.nextTrackId=nC(e,i+76)}))}static[sC(567)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t.tkhd=yC.tkhd(yC[i(537)](e,[i(436)],s)[0]),t[i(547)]=yC[i(547)](yC[i(537)](e,[i(547)],s)[0])}))}static[sC(436)](t){return fC(t,!0,((t,e)=>{const s=cC;let i=0;1===t.version?(t[s(580)]=nC(e,16),t[s(532)]=oC(e,24),i+=32):(t[s(580)]=nC(e,8),t[s(532)]=nC(e,16),i+=20),t[s(560)]=nC(e,i+52),t[s(557)]=nC(e,i+56)}))}static[sC(547)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t[i(511)]=yC.mdhd(yC[i(537)](e,[i(511)],s)[0]),t[i(551)]=yC[i(551)](yC[i(537)](e,[i(551)],s)[0]),t[i(453)]=yC[i(453)](yC[i(537)](e,[i(453)],s)[0])}))}static[sC(511)](t){return fC(t,!0,((t,e)=>{const s=cC;let i=0;1===t[s(523)]?(t[s(562)]=nC(e,16),t.duration=oC(e,20),i+=28):(t[s(562)]=nC(e,8),t[s(532)]=nC(e,12),i+=16);const r=iC(e,i);t[s(615)]=String[s(563)](96+(r>>10&31),96+(r>>5&31),96+(31&r))}))}static hdlr(t){return fC(t,!0,((t,e)=>{const s=cC;0===t[s(523)]&&(t[s(425)]=String[s(563)][s(518)](null,e[s(596)](4,8)))}))}static minf(t){return fC(t,!1,((t,e,s)=>{const i=cC;t[i(582)]=yC[i(582)](yC.findBox(e,[i(582)],s)[0]),t[i(490)]=yC[i(490)](yC[i(537)](e,["smhd"],s)[0]),t[i(501)]=yC[i(501)](yC[i(537)](e,["stbl"],s)[0])}))}static vmhd(t){return fC(t,!0,((t,e)=>{t[cC(517)]=iC(e),t.opcolor=[iC(e,2),iC(e,4),iC(e,6)]}))}static[sC(490)](t){return fC(t,!0,((t,e)=>{t[cC(519)]=iC(e)}))}static[sC(501)](t){return fC(t,!1,((t,e,s)=>{const i=cC;var r,n,o;t[i(576)]=yC.stsd(yC[i(537)](e,["stsd"],s)[0]),t.stts=yC[i(444)](yC[i(537)](e,["stts"],s)[0]),t[i(475)]=yC.ctts(yC[i(537)](e,[i(475)],s)[0]),t[i(606)]=yC[i(606)](yC.findBox(e,[i(606)],s)[0]),t[i(462)]=yC.stsz(yC.findBox(e,[i(462)],s)[0]),t[i(587)]=yC[i(587)](yC[i(537)](e,[i(587)],s)[0]),!t[i(587)]&&(t.co64=yC[i(549)](yC[i(537)](e,[i(549)],s)[0]),t[i(587)]=t[i(549)]);const a=null===(r=t[i(576)][i(440)][0])||void 0===r||null===(n=r[i(431)])||void 0===n||null===(o=n[i(421)])||void 0===o?void 0:o[i(558)][i(430)];t[i(531)]=yC[i(531)](yC[i(537)](e,["stss"],s)[0]),t.senc=yC[i(480)](yC[i(537)](e,[i(480)],s)[0],a)}))}static[sC(480)](t){const e=sC;let s=arguments[e(611)]>1&&void 0!==arguments[1]?arguments[1]:8;return fC(t,!0,((t,i)=>{const r=e;let n=0;const o=nC(i,n);n+=4,t[r(506)]=[];for(let e=0;e<o;e++){const e={InitializationVector:[]};for(let t=0;t<s;t++)e[r(528)][t]=i[n+t];if(n+=s,2&t[r(594)]){e[r(605)]=[];const t=iC(i,n);n+=2;for(let s=0;s<t;s++){const t={};t[r(595)]=iC(i,n),n+=2,t[r(422)]=nC(i,n),n+=4,e.subsamples[r(516)](t)}}t[r(506)].push(e)}}))}static[sC(498)](t){return fC(t,!0,((t,e)=>{const s=cC,i=[],r=[];let n=0;for(let t=0;t<16;t++)r.push(gC(e[n+t]));if(n+=16,t[s(523)]>0){const t=nC(e,n);n+=4;for(let r=0;r<(""+t)[s(611)];r++)for(let t=0;t<16;t++){const t=e[n];n+=1,i.push(gC(t))}}const o=nC(e,n);t.data_size=o,n+=4,t.kid=i,t[s(484)]=r,t[s(589)]=e}))}static[sC(576)](t){return fC(t,!0,((t,e,s)=>{const i=cC;t.entryCount=nC(e),t[i(440)]=yC.findBox(e[i(596)](4),[],s+4).map((t=>{const e=i;switch(t[e(573)]){case e(468):case e(494):case"avc3":case e(424):return yC.avc1(t);case e(539):case e(420):return yC[e(539)](t);case e(602):return yC[e(602)](t);case e(603):case e(520):return yC[e(603)](t);case e(543):return fC(t,!1,((t,s,i)=>{const r=e;t[r(540)]=iC(s,16),t[r(607)]=iC(s,18),t[r(496)]=nC(s,24)/65536,s=s.subarray(28),t.sinf=yC.sinf(yC[r(537)](s,["sinf"],i)[0]),t[r(570)]=yC.esds(yC[r(537)](s,["esds"],i)[0])}));case e(476):return fC(t,!1,((t,s,i)=>{const r=e;t.width=iC(s,24),t[r(557)]=iC(s,26),t[r(608)]=nC(s,28),t[r(432)]=nC(s,32),s=s.subarray(78),t.sinf=yC.sinf(yC.findBox(s,[r(431)],i)[0]),t.avcC=yC[r(610)](yC.findBox(s,[r(610)],i)[0]),t[r(584)]=yC[r(584)](yC[r(537)](s,[r(584)],i)[0]),t[r(500)]=yC[r(500)](yC[r(537)](s,[r(500)],i)[0])}))}}))[i(525)](Boolean)}))}static[sC(558)](t){return fC(t,!1,((t,e)=>{const s=cC;let i=6;t[s(521)]=e[i],i+=1,t[s(430)]=e[i],i+=1,t[s(569)]=[];for(let r=0;r<16;r++)t[s(569)][s(516)](gC(e[i])),i+=1}))}static[sC(421)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t.tenc=yC[i(558)](yC[i(537)](e,[i(558)],s)[0])}))}static[sC(431)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t.schi=yC[i(421)](yC.findBox(e,[i(421)],s)[0]),t[i(601)]=yC[i(601)](yC[i(537)](e,[i(601)],s)[0])}))}static frma(t){return fC(t,!1,((t,e)=>{const s=cC;t.data_format="";for(let i=0;i<4;i++)t[s(460)]+=String[s(563)](e[i])}))}static[sC(468)](t){return fC(t,!1,((t,e,s)=>{const i=cC,r=uC(t,e),n=e.subarray(r);s+=r,t.avcC=yC.avcC(yC[i(537)](n,[i(610)],s)[0]),t[i(500)]=yC.pasp(yC[i(537)](n,[i(500)],s)[0])}))}static avcC(t){return fC(t,!1,((t,e)=>{const s=cC;t[s(550)]=e[0],t[s(488)]=e[1],t[s(572)]=e[2],t[s(458)]=e[3],t[s(473)]=function(t){const e=sC;let s,i=e(593);for(let r=0;r<3;r++)s=t[r].toString(16),s[e(611)]<2&&(s="0"+s),i+=s;return i}([e[1],e[2],e[3]]),t[s(457)]=3&e[4],t.spsLength=31&e[5],t.sps=[];let i=6;for(let r=0;r<t.spsLength;r++){const r=iC(e,i);i+=2,t[s(423)][s(516)](e[s(596)](i,i+r)),i+=r}t[s(613)]=e[i],i+=1,t[s(495)]=[];for(let r=0;r<t.ppsLength;r++){const r=iC(e,i);i+=2,t[s(495)][s(516)](e.subarray(i,i+=r)),i+=r}}))}static[sC(539)](t){return fC(t,!1,((t,e,s)=>{const i=cC,r=uC(t,e),n=e[i(596)](r);s+=r,t[i(584)]=yC[i(584)](yC.findBox(n,["hvcC"],s)[0]),t[i(500)]=yC.pasp(yC[i(537)](n,[i(500)],s)[0])}))}static[sC(584)](t){return fC(t,!1,((e,s)=>{const i=cC;e[i(426)]=t[i(426)],e.codec=i(585),e[i(550)]=s[0];const r=s[1];e[i(435)]=r>>6,e.generalTierFlag=(32&r)>>5,e.generalProfileIdc=31&r,e[i(575)]=nC(s,2),e[i(515)]=s[i(596)](6,12),e[i(493)]=s[12],e[i(544)]=iC(s,19),e[i(588)]=s[22],e.vps=[],e[i(423)]=[],e[i(495)]=[];let n=23,o=0,a=0,h=0;for(let t=0;t<e[i(588)];t++){o=63&s[n],a=iC(s,n+1),n+=3;const t=[];for(let e=0;e<a;e++)h=iC(s,n),n+=2,t[i(516)](s.subarray(n,n+h)),n+=h;32===o?e[i(471)][i(516)](...t):33===o?e.sps.push(...t):34===o&&e[i(495)][i(516)](...t)}}))}static[sC(500)](t){return fC(t,!1,((t,e)=>{const s=cC;t[s(545)]=nC(e),t[s(481)]=nC(e,4)}))}static[sC(602)](t){return fC(t,!1,((t,e,s)=>{const i=cC,r=pC(t,e);t[i(570)]=yC[i(570)](yC.findBox(e[i(596)](r),[i(570)],s+r)[0])}))}static[sC(570)](t){return fC(t,!0,((t,e)=>{const s=cC;t.codec=s(579);let i=0,r=0,n=0,o=0;for(;e[s(611)];){for(i=0,o=e[i],r=e[i+1],i+=2;128&r;)n=(127&r)<<7,r=e[i],i+=1;if(n+=127&r,3===o)e=e[s(596)](i+3);else{if(4!==o){if(5===o){const r=t[s(574)]=e.subarray(i,i+n);let o=(248&r[0])>>3;return 31===o&&r.length>=2&&(o=32+((7&r[0])<<3)+((224&r[1])>>5)),t.objectType=o,t[s(473)]+=o[s(508)](16),void("."===t[s(473)][t.codec[s(611)]-1]&&(t.codec=t[s(473)].substring(0,t[s(473)][s(611)]-1)))}return void("."===t[s(473)][t[s(473)][s(611)]-1]&&(t[s(473)]=t[s(473)][s(561)](0,t.codec[s(611)]-1)))}t[s(473)]+=(e[i][s(508)](16)+".").padStart(3,"0"),e=e[s(596)](i+13)}}}))}static alaw(t){return fC(t,!1,((t,e)=>{pC(t,e)}))}static[sC(444)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;for(let t=0;t<i;t++)r.push({count:nC(e,n),delta:nC(e,n+4)}),n+=8;t.entryCount=i,t[s(440)]=r}))}static[sC(475)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;if(1===t[s(523)])for(let t=0;t<i;t++)r[s(516)]({count:nC(e,n),offset:nC(e,n+4)}),n+=8;else for(let t=0;t<i;t++)r[s(516)]({count:nC(e,n),offset:-(1+~nC(e,n+4))}),n+=8;t[s(555)]=i,t.entries=r}))}static stsc(t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;for(let t=0;t<i;t++)r[s(516)]({firstChunk:nC(e,n),samplesPerChunk:nC(e,n+4),sampleDescriptionIndex:nC(e,n+8)}),n+=12;t[s(555)]=i,t[s(440)]=r}))}static[sC(462)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=nC(e,4),n=[];if(!i){let t=8;for(let i=0;i<r;i++)n[s(516)](nC(e,t)),t+=4}t.sampleSize=i,t.sampleCount=r,t[s(479)]=n}))}static[sC(587)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;for(let t=0;t<i;t++)r[s(516)](nC(e,n)),n+=4;t[s(555)]=i,t[s(440)]=r}))}static[sC(549)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;for(let t=0;t<i;t++)r[s(516)](oC(e,n)),n+=8;t.entryCount=i,t[s(440)]=r}))}static[sC(531)](t){return fC(t,!0,((t,e)=>{const s=cC,i=nC(e),r=[];let n=4;for(let t=0;t<i;t++)r.push(nC(e,n)),n+=4;t[s(555)]=i,t[s(440)]=r}))}static[sC(486)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t[i(485)]=yC[i(485)](yC[i(537)](e,[i(485)],s)[0]),t[i(463)]=yC[i(537)](e,["traf"],s)[i(552)]((t=>yC[i(463)](t)))}))}static[sC(485)](t){return fC(t,!0,((t,e)=>{t[cC(449)]=nC(e)}))}static[sC(463)](t){return fC(t,!1,((t,e,s)=>{const i=cC;t[i(536)]=yC[i(536)](yC[i(537)](e,[i(536)],s)[0]),t[i(442)]=yC.tfdt(yC[i(537)](e,[i(442)],s)[0]),t[i(447)]=yC[i(447)](yC.findBox(e,[i(447)],s)[0])}))}static[sC(447)](t){return fC(t,!0,((t,e)=>{const s=cC,{version:i,flags:r}=t,n=e[s(611)],o=t.sampleCount=nC(e);let a=4;if(n>a&&1&r&&(t[s(599)]=-(1+~nC(e,a)),a+=4),n>a&&4&r&&(t[s(577)]=nC(e,a),a+=4),t[s(506)]=[],n>a){let n;for(let h=0;h<o;h++)n={},256&r&&(n[s(532)]=nC(e,a),a+=4),512&r&&(n.size=nC(e,a),a+=4),1024&r&&(n[s(594)]=nC(e,a),a+=4),2048&r&&(n[s(464)]=i?-(1+~nC(e,a+4)):nC(e,a),a+=4),t[s(506)][s(516)](n)}}))}static[sC(442)](t){return fC(t,!0,((t,e)=>{const s=cC;1===t.version?t[s(461)]=oC(e):t.baseMediaDecodeTime=nC(e)}))}static[sC(492)](t){const e=sC;return!!yC[e(537)](t,[e(542)])}static[sC(452)](t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}}static[sC(445)](t,e,s){const i=sC,r=t[i(567)];if(!r||!r[i(611)])return;const n=r[i(541)]((t=>{const e=i;var s,r;return"vide"===(null===(s=t[e(547)])||void 0===s||null===(r=s[e(551)])||void 0===r?void 0:r.handlerType)})),o=r[i(541)]((t=>{const e=i;var s,r;return(null===(s=t[e(547)])||void 0===s||null===(r=s.hdlr)||void 0===r?void 0:r.handlerType)===e(441)}));if(n&&e){var a,h,l,c,d,u,p;const s=e,r=null===(a=n[i(436)])||void 0===a?void 0:a.trackId;null!=r&&(s.id=n[i(436)][i(580)]),s[i(428)]=n[i(436)][i(532)],s[i(459)]=t[i(443)][i(532)],s[i(489)]=t[i(443)][i(562)],s[i(562)]=s.formatTimescale=n[i(547)][i(511)].timescale,s[i(532)]=n[i(547)][i(511)][i(532)]||s[i(459)]/s[i(489)]*s[i(562)];const o=n[i(547)][i(453)][i(501)].stsd.entries[0];if(!o)throw new Error(i(535));if(o[i(500)]&&(s[i(470)]=[o[i(500)][i(545)],o[i(500)][i(481)]]),o[i(584)])s[i(510)]=hC[i(529)],s[i(473)]=o[i(584)].codec,s[i(471)]=o[i(584)][i(471)],s.sps=o.hvcC.sps,s.pps=o.hvcC[i(495)],s[i(584)]=o[i(584)][i(426)];else{if(!o[i(610)])throw new Error("unknown video stsd entry");s[i(510)]=hC[i(566)],s[i(473)]=o[i(610)][i(473)],s[i(423)]=o[i(610)].sps,s[i(495)]=o[i(610)][i(495)]}var f,m,g,y,A,v,b,S;if(s[i(538)]=!0,s.ext={},s[i(466)][i(531)]=null===(h=n[i(547)])||void 0===h||null===(l=h[i(453)])||void 0===l||null===(c=l[i(501)])||void 0===c?void 0:c[i(531)],s[i(466)][i(475)]=null===(d=n[i(547)])||void 0===d||null===(u=d.minf)||void 0===u||null===(p=u.stbl)||void 0===p?void 0:p[i(475)],o&&o[i(573)]===i(476))s.isVideoEncryption=!0,o[i(569)]=null===(f=o.sinf)||void 0===f||null===(m=f[i(421)])||void 0===m?void 0:m[i(558)][i(569)],o[i(521)]=null===(g=o[i(431)])||void 0===g||null===(y=g[i(421)])||void 0===y?void 0:y[i(558)][i(521)],o.default_IV_size=null===(A=o.sinf)||void 0===A||null===(v=A[i(421)])||void 0===v?void 0:v[i(558)][i(430)],s[i(527)]=n.mdia[i(453)][i(501)][i(480)]&&n[i(547)][i(453)].stbl[i(480)][i(506)],o[i(460)]=null===(b=o[i(431)])||void 0===b||null===(S=b.frma)||void 0===S?void 0:S.data_format,s[i(465)]=t[i(465)],s[i(455)]=t[i(455)],s[i(498)]=t[i(498)],s[i(476)]=o}if(o&&s){var E,w,T,I,k,_,C,D,R;const e=s,r=null===(E=o[i(436)])||void 0===E?void 0:E.trackId;null!=r&&(e.id=o.tkhd[i(580)]),e[i(428)]=o[i(436)][i(532)],e.mvhdDurtion=t[i(443)][i(532)],e[i(489)]=t[i(443)][i(562)],e.timescale=e.formatTimescale=o[i(547)][i(511)][i(562)],e.duration=o[i(547)][i(511)][i(532)]||e[i(459)]/e.mvhdTimecale*e[i(562)];const n=o[i(547)][i(453)].stbl[i(576)][i(440)][0];switch(e.sampleSize=n[i(450)],e[i(496)]=n.sampleRate,e[i(540)]=n[i(540)],e[i(538)]=!0,n[i(573)]){case i(603):e.codecType=e[i(473)]=aC.G711PCMA,e[i(496)]=8e3;break;case i(520):e[i(510)]=e.codec=aC[i(504)],e.sampleRate=8e3;break;default:var L,P;if(n.type.includes(i(564)))e[i(510)]=e[i(473)]=aC[i(434)];else e[i(510)]=aC[i(446)],e.sampleDuration=lC[i(583)](e[i(496)],e[i(562)]),e.sampleRateIndex=lC[i(522)](e[i(496)]),e.objectType=(null===(L=n[i(570)])||void 0===L?void 0:L[i(592)])||2,n[i(570)]&&(e[i(574)]=Array[i(559)](n.esds[i(574)])),e[i(473)]=(null===(P=n[i(570)])||void 0===P?void 0:P[i(473)])||i(534)}var x,M,B,F,U,O,N,j;if(e[i(546)]=lC.getFrameDuration(e[i(496)],e[i(562)]),e[i(592)]=(null===(w=n[i(570)])||void 0===w?void 0:w[i(592)])||2,n[i(570)]&&(n[i(570)][i(574)]?e[i(574)]=Array[i(559)](n[i(570)][i(574)]):console[i(609)]("esds config is null")),e[i(473)]=(null===(T=n[i(570)])||void 0===T?void 0:T.codec)||"mp4a.40.2",e[i(581)]=lC[i(522)](e[i(496)]),e[i(466)]={},e.ext[i(531)]=null===(I=o[i(547)])||void 0===I||null===(k=I[i(453)])||void 0===k||null===(_=k[i(501)])||void 0===_?void 0:_.stss,e[i(466)].ctts=null===(C=o[i(547)])||void 0===C||null===(D=C[i(453)])||void 0===D||null===(R=D[i(501)])||void 0===R?void 0:R[i(475)],e.present=!0,n&&"enca"===n[i(573)])e[i(438)]=!0,n.data_format=null===(x=n[i(431)])||void 0===x||null===(M=x[i(601)])||void 0===M?void 0:M.data_format,n[i(569)]=null===(B=n.sinf)||void 0===B||null===(F=B[i(421)])||void 0===F?void 0:F[i(558)][i(569)],n[i(521)]=null===(U=n[i(431)])||void 0===U||null===(O=U[i(421)])||void 0===O?void 0:O[i(558)][i(521)],n[i(430)]=null===(N=n[i(431)])||void 0===N||null===(j=N.schi)||void 0===j?void 0:j[i(558)][i(430)],e.audioSenc=o.mdia.minf.stbl[i(480)]&&o[i(547)][i(453)][i(501)][i(480)][i(506)],e[i(465)]=t[i(465)],e[i(455)]=t.kidValue,e[i(543)]=n}if(s&&(s[i(482)]=!!e&&e[i(482)]),e&&(e.isAudioEncryption=!!s&&s[i(438)]),null!=e&&e.encv||null!=s&&s.enca){var V,W;const t=null==e||null===(V=e.encv)||void 0===V?void 0:V[i(569)],r=null==s||null===(W=s.enca)||void 0===W?void 0:W[i(569)],n=t||r?(t||r)[i(600)](""):null;e&&(e[i(505)]=n),s&&(s.kid=n)}return e&&(e[i(594)]=3841),s&&(s[i(594)]=1793),{videoTrack:e,audioTrack:s}}static[sC(433)](t,e,s){const i=sC;var r;const n=null==e||null===(r=e[i(506)])||void 0===r?void 0:r.length;if(!n)return 1024;return 1024*n/e[i(562)]*t[i(562)]/s}static[sC(503)](t,e,s){const i=sC,r={};return t[i(485)]&&(e&&(e[i(449)]=t[i(485)][i(449)]),s&&(s[i(449)]=t[i(485)][i(449)])),t.traf[i(513)]((t=>{const n=i;let{tfhd:o,tfdt:a,trun:h}=t;if(!o||!h)return;a&&(e&&e.id===o.trackId&&(e[n(461)]=a[n(461)]),s&&s.id===o.trackId&&(s[n(461)]=a[n(461)]));const l=o[n(590)]||0,c=o[n(568)]||yC[n(433)](e,s,h[n(506)][n(611)]||h[n(571)]);let d=h[n(599)]||0,u=0,p=-1;if(!h[n(506)][n(611)]&&h[n(571)]){r[o[n(580)]]=[];for(let t=0;t<h[n(571)];t++)r[o[n(580)]][n(516)]({offset:d,dts:u,duration:c,size:l}),u+=c,d+=l}else r[o[n(580)]]=h[n(506)][n(552)](((t,e)=>{const s=n;return(t={offset:d,dts:u,pts:u+(t[s(464)]||0),duration:t[s(532)]||c,size:t[s(437)]||l,gopId:p,keyframe:0===e||null!==t[s(594)]&&void 0!==t[s(594)]&&(65536&t[s(594)])>>>0!=65536})[s(597)]&&(p++,t[s(526)]=p),u+=t[s(532)],d+=t.size,t}))})),r}static[sC(477)](t){const e=sC,s=t.trak;if(!s||!s.length)return;const i=s[e(541)]((t=>{const s=e;var i,r;return(null===(i=t.mdia)||void 0===i||null===(r=i[s(551)])||void 0===r?void 0:r[s(425)])===s(598)})),r=s[e(541)]((t=>{const s=e;var i,r;return(null===(i=t[s(547)])||void 0===i||null===(r=i[s(551)])||void 0===r?void 0:r[s(425)])===s(441)}));if(!i&&!r)return;let n,o;if(i){var a,h;const t=null===(a=i.mdia)||void 0===a||null===(h=a[e(453)])||void 0===h?void 0:h.stbl;if(!t)return;const{stts:s,stsc:r,stsz:o,stco:l,stss:c,ctts:d}=t;if(!(s&&r&&o&&l&&c))return;n=dC(s,r,o,l,d,c)}if(r){var l,c,d;const t=null===(l=r[e(547)])||void 0===l||null===(c=l.minf)||void 0===c?void 0:c[e(501)];if(!t)return;const s=null===(d=r[e(547)][e(511)])||void 0===d?void 0:d[e(562)],{stts:i,stsc:n,stsz:a,stco:h}=t;if(!(s&&i&&n&&a&&h))return;o=dC(i,n,a,h)}return{videoSamples:n,audioSamples:o}}}function AC(t,e){const s=vC();return(AC=function(t,e){return s[t-=409]})(t,e)}function vC(){const t=["990HbptXI","39930924EepUmP","19356PkOpqy","38288WORNPq","max","395widCsc","8898570Voermy","1596004aCEgVk","1638kUkMuB","min","length","1uXHpLY","1697367sjitPO","46840TVaxHS"];return(vC=function(){return t})()}!function(t,e){const s=AC,i=t();for(;;)try{if(509414===-parseInt(s(409))/1*(parseInt(s(419))/2)+-parseInt(s(410))/3+parseInt(s(415))/4*(-parseInt(s(417))/5)+parseInt(s(414))/6*(-parseInt(s(420))/7)+parseInt(s(411))/8*(parseInt(s(412))/9)+-parseInt(s(418))/10+parseInt(s(413))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(vC);const bC=SC;function SC(t,e){const s=EC();return(SC=function(t,e){return s[t-=326]})(t,e)}function EC(){const t=["vps","seekSampleRange","destroy","TAG_NAME","isPlayVod","demux","codec","debugWarn","hlsFmp4","playVod","clearBuffer","_calcDecodeFps","843ofTiMS","debugError","reset","pts","cmd","seqHeader","byteLength","audioTrack","floor","30870AeIbcI","sampleRate","player","moov","objectType","debugLevel","type","findBox","keyframe","setFps","isPlayer","audioData audio init success and type is","dts","getBuferredDuration","revokeObjectURL","emit","terminate","_postMessageToLoopWorker","start","debugUuid","checkInitAudio","7100350wuvJRs","_sendAccADTSHeader","resume","getSampleVideoListLength","_isUseWorker","debugLog","codecType","buferredDuration","data","end","isAudioG711u","getSampleAudioListLength","cleanSampleListAndSetSeekTime","isIFrame","gopId","postMessage","cleanSampleList","cannot found moov box","playVodRateChange","66549OdRiKf","isAudioG711a","sps","updatePlayRate","pause","setPlayVodBufferedTime","length","sampleListInfo","_basefps","_doDecodeVideo","523836zsKudj","hls264UseOldDemuxer","27KjxTKb","sort","moof","set","buffer","videoData audio init success and type is","audioListLength","duration","isUseMSE","push","init","_hasCalcFps","videoTrack","loopWorker","120VsCJYK","baseMediaDecodeTime","correctSamplePts","pps","isHevc","AAC","size","5108OLCQlD","_opt","decodeAudio","_doDecodeByHls","onmessage","tempSampleListInfo","payload","channelCount","checkInitVideo","clear","cryptoPayloadAudio","moofToSamples","video","decodeVideo","getPlayVodDuration","2315550dPkXEQ","workerClearTimeout","isInitVideo","videoListLength","isInitAudio","_doDecodeAudio","addAudioTagHeader","moovToTrack","isAudioAac","19802bZLPVc","setSeekingTime","loop worker is not init, can not post message","sampleRateIndex","_isDestroyed","getSampleRange","samples","map","_initLoopWorker","updateStats","debug","forEach","allListLength","timescale","playVodTimeCache","subarray","_prevPlayVodTimeCache","offset","audio","workerUrl"];return(EC=function(){return t})()}!function(t,e){const s=SC,i=t();for(;;)try{if(275161===-parseInt(s(326))/1*(parseInt(s(371))/2)+-parseInt(s(403))/3*(parseInt(s(347))/4)+parseInt(s(412))/5+parseInt(s(362))/6+-parseInt(s(452))/7*(parseInt(s(340))/8)+-parseInt(s(462))/9+parseInt(s(433))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(EC);class wC extends Cf{constructor(t){const e=SC;super(t),this[e(414)]=t,this[e(394)]="HlsFmp4Demux",this[e(405)](),this[e(352)]={},this.videoTrack={id:1,samples:[],sps:[],pps:[],vps:[],codec:""},this[e(410)]={id:2,samples:[],sampleRate:0,channelCount:0,codec:"",codecType:""},this.workerClearTimeout=null,this.workerUrl=null,this[e(339)]=null,this[e(437)]()&&this[e(379)](),this[e(414)][e(395)]()&&this._isUseWorker()&&this[e(414)].on(O[e(451)],(t=>{const s=e;this[s(414)][s(438)](this[s(394)],"listen playVodRateChange",t),this[s(429)](s(455),{rate:t})})),t[e(438)](this.TAG_NAME,e(336))}destroy(){const t=SC;super[t(393)](),this[t(390)]&&(URL.revokeObjectURL(this[t(390)]),this.workerUrl=null),this[t(363)]&&(clearTimeout(this[t(363)]),this.workerClearTimeout=null),this[t(339)]&&(this.loopWorker[t(448)]({cmd:t(393)}),this.loopWorker[t(428)](),this[t(339)]=null),this[t(405)](),this[t(414)].debugLog(this[t(394)],t(393))}[bC(405)](){const t=bC;this._hasCalcFps=!1,this.videoTrack=null,this[t(410)]=null,this.isInitVideo=!1,this[t(366)]=!1,this[t(460)]=25,this[t(387)]=0,this[t(352)]=null}[bC(396)](t,e){const s=bC;let i=this.audioTrack,r=this[s(338)];if(this[s(432)](),this[s(355)](),i[s(377)]=[],r[s(377)]=[],e){if(this[s(414)][s(380)]({abps:e.byteLength}),Si(this.isInitAudio)){const t=yC[s(419)](e,[s(415)])[0];if(!t)return void this[s(414)][s(404)](this.TAG_NAME,s(450));yC[s(369)](yC.moov(t),null,i),this[s(432)]()&&(this.player[s(438)](this[s(394)],s(423),i[s(439)]),this.isAudioAac()&&this[s(434)](i))}const t=yC.findBox(e,["moof"])[0];if(t){const r=yC[s(358)](yC[s(328)](t),null,i)[i.id],n=i[s(341)];if(r){const o=t[s(430)];r[s(378)]((t=>{const r=s;t[r(388)]+=o;const a=e[r(386)](t[r(388)],t.offset+t[r(346)]),h=t[r(424)]+n,l=this[r(368)](a);i[r(377)][r(335)]({type:x.audio,pts:h,dts:h,payload:l,duration:t[r(333)],size:l[r(409)]})}))}}}if(t){if(this[s(414)].updateStats({vbps:8*t[s(409)]}),Si(this[s(364)])&&Si(this.isInitAudio)){const e=yC[s(419)](t,[s(415)])[0];if(!e)throw new Error(s(450));if(yC[s(369)](yC[s(415)](e),r,i),this[s(432)]()&&(this.player.debugLog(this[s(394)],s(331),i[s(439)]),this[s(370)]()&&this[s(434)](i)),this[s(355)]()){this.player[s(438)](this[s(394)],"video init success");const t=r[s(439)]===ft.h265;if(Si(t)&&this[s(414)][s(422)]()&&this[s(414)][s(348)][s(463)])return void this.player[s(427)](O.hls264UseOldDemuxer);let e=null;t?r.sps[s(458)]&&r[s(391)][s(458)]&&r[s(343)].length&&(e=Al({sps:r[s(454)][0],pps:r[s(343)][0],vps:r[s(391)][0]})):r[s(454)].length&&r.pps.length&&(e=Kh({sps:r.sps[0],pps:r.pps[0]})),e&&(this[s(414)][s(438)](this[s(394)],s(408)),this[s(350)](e,x[s(359)],0,!0,0))}}const e=yC[s(419)](t,["moof"])[0];if(e){const n=yC[s(358)](yC.moof(e),r,i),o=r[s(341)],a=i[s(341)],h=e[s(430)];Object.keys(n)[s(382)]((e=>{const l=s;r.id==e?n[e][l(378)]((e=>{const s=l;e[s(388)]+=h;const i={type:x[s(359)],pts:(e[s(406)]||e.dts)+o,dts:e[s(424)]+o,units:[],payload:null,isIFrame:!1};i[s(333)]=e.duration,i[s(447)]=e[s(447)],e[s(420)]&&(i.isIFrame=!0);const n=t[s(386)](e[s(388)],e[s(388)]+e[s(346)]);i.payload=n,r[s(377)].push(i)})):i.id==e&&n[e][l(378)]((e=>{const s=l;e.offset+=h;const r=t[s(386)](e[s(388)],e.offset+e[s(346)]),n=e[s(424)]+a,o=this[s(368)](r);i[s(377)][s(335)]({type:x[s(389)],pts:n,dts:n,payload:o,duration:e[s(333)],size:o[s(409)]})}))}))}}const n=9e4===r[s(384)]?450:5;this[s(342)](r,n),this[s(342)](i,n);const o=r[s(377)].concat(i[s(377)]);o[s(327)](((t,e)=>{const i=s;return t[i(424)]-e[i(424)]})),9e4===r[s(384)]&&o[s(382)]((t=>{const e=s;t[e(424)]=Math[e(411)](t[e(424)]/90),t[e(406)]=Math.floor(t[e(406)]/90),t.cts=t.pts-t[e(424)],t[e(333)]&&(t[e(333)]=Math[e(411)](t[e(333)]/90))})),o[s(382)]((t=>{const e=s,i=new Uint8Array(t[e(353)]);delete t[e(353)],this[e(437)]()?this[e(339)][e(448)]({...t,payload:i,cmd:"sample"},[i[e(330)]]):t[e(418)]===x[e(359)]?this[e(461)]({...t,payload:i}):t[e(418)]===x[e(389)]&&this[e(367)]({...t,payload:i})})),Si(this._hasCalcFps)&&this._isUseWorker()&&(this._hasCalcFps=this[s(402)](o),this[s(337)]&&this[s(414)][s(395)]()&&this[s(414)][s(400)][s(421)](this[s(460)]))}[bC(432)](){const t=bC;return this[t(366)]=!!(this[t(410)][t(413)]&&this[t(410)][t(354)]&&this[t(410)][t(397)]),this[t(366)]}[bC(370)](){const t=bC;return this[t(410)][t(439)]===aC[t(345)]}[bC(453)](){const t=bC;return this[t(410)][t(439)]===aC.G711PCMA}[bC(443)](){const t=bC;return this[t(410)][t(439)]===aC.G711PCMU}[bC(355)](){const t=bC;return this[t(364)]=!!(this[t(338)].pps[t(458)]&&this[t(338)][t(454)].length&&this[t(338)][t(397)]),this.isInitVideo}[bC(434)](t){const e=bC,s=Ae({profile:t[e(416)],sampleRate:t[e(374)],channel:t[e(354)]});this[e(350)](s,x[e(389)],0,!0,0)}[bC(379)](){const t=bC;this[t(414)][t(438)](this[t(394)],"_initLoopWorker()");const e=ai(G_);let s=new Worker(e);this.workerUrl=e,this.workerClearTimeout=setTimeout((()=>{const e=t;window.URL[e(426)](this[e(390)]),this[e(390)]=null,this.workerClearTimeout=null}),I),s[t(448)]({cmd:t(336),options:{type:t(399),seekingMaxDiff:1e4,debug:this.player[t(348)][t(381)],debugUuid:this[t(414)][t(348)][t(431)],debugLevel:this[t(414)][t(348)][t(417)]}}),s[t(351)]=e=>{const s=t,i=e[s(441)];if(!this[s(375)])switch(i[s(407)]){case s(360):this[s(461)](i);break;case s(349):this[s(367)](i);break;case s(459):if(this[s(352)]=i,this[s(414)].isPlayVodNotUseMSE()){const t=this.geVodLoadedTime(),e=this.player[s(361)]();if(t&&e){let i=t/(1e3*e);i!==this._prevPlayVodTimeCache&&(this[s(414)][s(457)](t),this[s(414)][s(427)](O[s(385)],i)),this[s(387)]=i}}}},this.loopWorker=s}[bC(429)](t,e){const s=bC;this[s(437)]()&&(this[s(339)]?this[s(339)][s(448)]({cmd:t,...e}):this[s(414)][s(398)](this[s(394)],s(373)))}[bC(367)](t){const e=bC,s=new Uint8Array(t[e(353)]);this[e(414)][e(380)]({abps:s[e(409)]});let i=this[e(357)](s);this[e(350)](i,x.audio,t[e(424)],!1,0)}[bC(461)](t){const e=bC,s=new Uint8Array(t[e(353)]);let i=null;i=t[e(344)]?vl(s,t[e(446)]):qh(s,t[e(446)]),this[e(414)][e(380)]({dts:t[e(424)],vbps:8*i[e(409)]});const r=t[e(406)]-t.dts;let n=this.cryptoPayload(i,t[e(446)]);this[e(350)](n,x[e(359)],t[e(424)],t[e(446)],r)}[bC(425)](){const t=bC;return this[t(352)][t(440)]||0}getSampleListLength(){const t=bC;return this[t(352)][t(383)]||0}[bC(444)](){const t=bC;return this[t(352)][t(332)]||0}[bC(436)](){const t=bC;return this[t(352)][t(365)]||0}[bC(376)](){const t=bC;return{start:this[t(352)].start||0,end:this.tempSampleListInfo[t(442)]||0}}[bC(392)](t){const e=bC;this[e(429)](e(392),{time:t})}[bC(445)](t){const e=bC;this[e(414)][e(389)]&&this[e(414)][e(389)][e(356)](),Si(this.player[e(334)]())&&(this[e(401)](!0),this[e(429)](e(449)),this[e(429)](e(372),{time:t}))}[bC(456)](){const t=bC;this._postMessageToLoopWorker(t(456))}[bC(435)](){const t=bC;this[t(429)](t(435))}geVodLoadedTime(){const t=bC;let e=0;return e=this[t(376)]()[t(442)],e}[bC(368)](t){const e=bC;let s=[];this.isAudioAac()?s=[175,1]:this.isAudioG711a()?s=[114]:this[e(443)]()&&(s=[130]);const i=new Uint8Array(t[e(458)]+s[e(458)]);return i[e(329)](s,0),i.set(t,s[e(458)]),i}}const TC=IC;function IC(t,e){const s=_C();return(IC=function(t,e){return s[t-=160]})(t,e)}!function(t,e){const s=IC,i=t();for(;;)try{if(253163===-parseInt(s(160))/1+parseInt(s(185))/2*(parseInt(s(180))/3)+parseInt(s(173))/4*(parseInt(s(171))/5)+parseInt(s(168))/6*(-parseInt(s(166))/7)+-parseInt(s(174))/8*(-parseInt(s(164))/9)+-parseInt(s(190))/10+parseInt(s(192))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_C);class kC{constructor(t,e){const s=IC;this.hls=t,this.player=this[s(189)][s(177)],this.isMP4=e,this[s(179)]=s(187),this[s(172)]=e?new wC(this[s(189)][s(177)]):new eC(this[s(189)][s(177)]),this[s(177)][s(167)](this.TAG_NAME,s(175)+(e?s(176):"ts")+s(161))}[TC(163)](){const t=TC;this[t(172)]&&(this[t(172)].destroy(),this[t(172)]=null),this[t(189)]=null,this[t(177)][t(167)](this[t(179)],t(163))}[TC(183)](t,e,s,i,r,n){const o=TC;this[o(177)].debugLog(this.TAG_NAME,o(169)+(t&&t[o(162)])+", audioChunk:"+(e&&e[o(162)])+o(178)+s+o(170)+i+o(182)+r+o(181)+n);const a=this[o(172)];try{this[o(191)]?a[o(188)](t,e):a[o(184)](qm(t,e),s,i,r)}catch(t){throw new Ok(Uk[o(186)],Uk[o(165)],t)}}}function _C(){const t=["2811585QDuaog","debugLog","6AEyNtR","transmux videoChunk:",", contiguous:","674555YXfIRB","_demuxer","4ZGGpqT","139136wYLUgr","init and  is ","mp4","player",", discontinuity:","TAG_NAME","12chdUrZ",", needInit:",", startTime:","transmux","demuxAndFix","239838NHgvFp","DEMUX","HlsTransmuxer","demux","hls","2453240CROZsi","isMP4","4719902QdVCWE","300055deQOJT"," demuxer","byteLength","destroy","81MwibEm","HLS"];return(_C=function(){return t})()}function CC(t){const e=PC;return t&&t.length?1===t.length&&t[e(332)](0)-t[e(329)](0)<1e-6||1===t[e(327)]&&t[e(329)](0)<0?0:t[e(329)](0):0}function DC(){const t=["2168456chSLiP","length","11ZpXPeD","start","buffered","359526djUnYD","end","push","4305553VDfAmP","5bYKylJ","3079904UJKcuN","6691510CFMZry","2353866dKchlD","143196nDbGpr","125mjDHFm","27PlkTfk"];return(DC=function(){return t})()}function RC(t){const e=PC;if(t)try{return t[e(330)]}catch(t){}}function LC(t,e){const s=PC;if(!t||!t[s(327)])return[];const i=[];for(let r=0,n=t.length;r<n;r++){const n=i[s(327)];if(n&&e){const o=i[n-1],a=o[1],h=t[s(329)](r);h-a<=e?o[1]=t[s(332)](r):i[s(333)]([h,t[s(332)](r)])}else i.push([t[s(329)](r),t.end(r)])}return i}function PC(t,e){const s=DC();return(PC=function(t,e){return s[t-=322]})(t,e)}function xC(t){return t&&t.length?t.reduce(((t,e)=>t+(e[1]-e[0])),0):0}!function(t,e){const s=PC,i=t();for(;;)try{if(942720===-parseInt(s(335))/1*(-parseInt(s(323))/2)+-parseInt(s(322))/3+parseInt(s(336))/4+parseInt(s(324))/5*(-parseInt(s(331))/6)+parseInt(s(334))/7+-parseInt(s(326))/8*(-parseInt(s(325))/9)+-parseInt(s(337))/10*(-parseInt(s(328))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(DC);var MC=FC;!function(t,e){for(var s=FC,i=t();;)try{if(714967===parseInt(s(447))/1*(-parseInt(s(467))/2)+-parseInt(s(475))/3+parseInt(s(433))/4*(-parseInt(s(479))/5)+parseInt(s(448))/6*(-parseInt(s(483))/7)+-parseInt(s(478))/8*(-parseInt(s(457))/9)+-parseInt(s(437))/10+parseInt(s(424))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(UC);class BC{constructor(t){var e=FC;this.hls=t,this[e(425)]=t.player,this[e(456)]=new W_(this[e(431)],this[e(425)]),this[e(469)]=null,this[e(473)]=null,this[e(426)]=!1,this[e(452)]=!0,this[e(454)]=!1,this[e(425)][e(435)]()&&(this[e(473)]=this[e(425)].mseDecoder),this[e(481)]=e(453)}async[MC(482)](){var t=MC;await this[t(487)](),this._transmuxer&&(this[t(469)][t(482)](),this._transmuxer=null),this[t(456)]&&(this._decryptor[t(482)](),this._decryptor=null),this[t(473)]=null,this._sourceCreated=!1,this[t(452)]=!0,this[t(454)]=!1,this.hls=null}[MC(460)](){var t=MC;this.player.isPlayVodUseMSE()&&!this[t(473)]&&(this[t(473)]=this[t(425)][t(449)])}get[MC(463)](){var t,e;return null===(t=this[MC(469)])||void 0===t||null===(e=t._demuxer)||void 0===e?void 0:e._baseDts}get[MC(439)](){return 0}get[MC(480)](){return!0}get[MC(461)](){return!1}get[MC(458)](){return!0}async updateDuration(t){var e=MC;this.player.isPlayVod()&&(this[e(425)][e(472)](this[e(481)],"updateDuration()",t),this[e(425)][e(459)].updateDuration(t),this[e(425)][e(435)]()&&this.player[e(449)]&&this[e(425)][e(449)][e(468)]&&this[e(425)].mseDecoder[e(462)](t))}[MC(484)](t,e,s,i){var r=MC;if(this[r(426)])return;const n=t||e;n&&(eC.probe(n)?!this[r(469)]&&(this[r(469)]=new kC(this.hls,!1)):yC[r(429)](n)?!this[r(469)]&&(this._transmuxer=new kC(this[r(431)],!0)):this[r(425)].debugError(this[r(481)],r(442)))}async[MC(451)](t,e,s,i,r,n,o){var a=MC;if(!(null!=s&&s[a(440)]||null!=i&&i[a(440)]))return;const h=this[a(452)]||r;return this._transmuxer[a(443)](s,i,h,n,o,h),this[a(452)]=!1,!0}async[MC(445)](){var t=MC;let e=arguments[t(440)]>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[t(440)]>1&&void 0!==arguments[1]?arguments[1]:1/0;const i=this[t(431)][t(485)];!this[t(473)]||!i||e<0||s<e||e>=this[t(473)][t(474)]||this[t(473)][t(470)](e,s)}async[MC(438)](t){var e=MC;const s=this[e(431)][e(485)];if(!this[e(473)]||!s||!t||t<0)return;const i=s.currentTime-t;if(i<=0)return;return CC(RC(s))+1>=i?void 0:this[e(445)](0,i)}async[MC(430)](){var t=MC;this[t(425)].debugLog(this[t(481)],t(430)),this[t(473)]&&this[t(473)][t(432)]()}[MC(471)](t,e){var s=MC;return this[s(456)][s(434)](t,e)}async reset(){var t=MC;this._transmuxer=null,this._needInitSegment=!0,this[t(454)]=!1}async endOfStream(){var t=MC;this[t(473)]&&this[t(426)]&&await this[t(473)][t(423)]()}async setLiveSeekableRange(t,e){var s=MC;this[s(473)]&&this._mse[s(466)](t,e)}async[MC(487)](){}seamlessSwitch(){this._needInitSegment=!0}getTsSampleRange(){var t,e,s=MC;return null===(t=this._transmuxer)||void 0===t||null===(e=t[s(444)])||void 0===e?void 0:e[s(446)]()}[MC(477)](t){var e,s,i=MC;return null===(e=this[i(469)])||void 0===e||null===(s=e[i(444)])||void 0===s?void 0:s[i(477)](t)}cleanSampleListAndSetSeekTime(t){var e,s,i=MC;null===(e=this[i(469)])||void 0===e||null===(s=e[i(444)])||void 0===s||s[i(422)](t)}[MC(476)](){var t,e,s=MC;null===(t=this[s(469)])||void 0===t||null===(e=t._demuxer)||void 0===e||e[s(450)]()}[MC(436)](){var t,e,s=MC;null===(t=this[s(469)])||void 0===t||null===(e=t._demuxer)||void 0===e||e[s(455)]()}[MC(441)](){return!1}getBuferredDuration(){var t,e,s=MC;return null===(t=this[s(469)])||void 0===t||null===(e=t[s(444)])||void 0===e?void 0:e.getBuferredDuration()}[MC(464)](){var t,e,s=MC;return null===(t=this[s(469)])||void 0===t||null===(e=t[s(444)])||void 0===e?void 0:e[s(465)]()}[MC(427)](){var t,e,s=MC;return null===(t=this[s(469)])||void 0===t||null===(e=t[s(444)])||void 0===e?void 0:e.getSampleAudioListLength()}[MC(486)](){var t,e,s=MC;return null===(t=this[s(469)])||void 0===t||null===(e=t[s(444)])||void 0===e?void 0:e[s(428)]()}}function FC(t,e){var s=UC();return(FC=function(t,e){return s[t-=422]})(t,e)}function UC(){var t=["hls","clearUpAllSourceBuffer","676ReZWYm","decrypt","isPlayVodUseMSE","demuxerResume","11577180dOrYlA","evictBuffer","nbSb","length","isFull","createSource error: chunk is not ts","transmux","_demuxer","removeBuffer","getSampleRange","10779PFxCal","16860rhZXXx","mseDecoder","pause","appendBuffer","_needInitSegment","HlsBufferService","_directAppend","resume","_decryptor","9MZFgSI","msStreaming","playVod","updateMSE","msHasOpTasks","updateMediaSourceDuration","baseDts","getBufferedSegments","getSampleListLength","setLiveSeekableRange","166KTBzcl","isStateOpen","_transmuxer","clearSourceBuffer","decryptBuffer","debugLog","_mse","duration","3893208RKUusO","demuxerPause","seekSampleRange","9844512IZtdmj","40445yCmgDl","msIsOpened","TAG_NAME","destroy","2562MURzzp","createSource","media","getBufferedVideoSegments","detachMedia","cleanSampleListAndSetSeekTime","endOfStream","57530165dEhBMD","player","_sourceCreated","getBufferedAudioSegments","getSampleVideoListLength","probe","clearAllBuffer"];return(UC=function(){return t})()}function OC(){const t=["_seiSet","1161PurATM","17605350ghzdXr","SEI","3137770DadXmM","12572YXLsTb","emitter","2599912cClWyQ","reset","12iGLWEf","SEI_IN_TIME","2758810BNOlbe","803937NxlcIM","throw","forEach","destroy","size","add","time","1662647LoIkKL","push"];return(OC=function(){return t})()}const NC=jC;function jC(t,e){const s=OC();return(jC=function(t,e){return s[t-=252]})(t,e)}!function(t,e){const s=jC,i=t();for(;;)try{if(828469===parseInt(s(267))/1+parseInt(s(266))/2+parseInt(s(256))/3*(-parseInt(s(260))/4)+parseInt(s(259))/5*(parseInt(s(264))/6)+parseInt(s(253))/7+parseInt(s(262))/8+-parseInt(s(257))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(OC);class VC{constructor(t){const e=jC;this.emitter=t,this[e(255)]=new Set,t.on(It[e(258)],(t=>{const s=e;t&&this[s(255)][s(272)](t)}))}[NC(270)](){const t=NC;this[t(263)](),this[t(255)]=null}[NC(268)](t){const e=NC;if(null==t||!this[e(255)][e(271)])return;const s=t-.2,i=t+.2,r=[];this[e(255)][e(269)]((t=>{const n=e;t[n(252)]>=s&&t[n(252)]<=i&&r[n(254)](t)})),r[e(269)]((t=>{const s=e;this[s(255)].delete(t),this[s(261)].emit(It[s(265)],t)}))}reset(){this[NC(255)].clear()}}const WC=KC;function GC(){const t=["6006777FcyxKN","avgSpeed","reduce","_core","reset","4609116FahYYy","310242yTXRry","totalSize","fpsNum","onMetaData","video","METADATA_PARSED","split","88nrJRDy","call","audioCodec","_bitsAccumulateSize","gopId","domain","channelCount","setAudioMeta","setEncodeType","getStats","47076wicAKy","samples","fps","videoCodec","type","608196KerOYX","height","encodeType","bitrate","width","setDomain","20NcSoKT","units","FLV_SCRIPT_DATA","destroy","_samples","speedInfo","18IXZsKU","30JUoMvv","_bindEvents","7074368UcRzDk","gop","setVideoMeta","length","setFpsFromScriptData","sampleRate","bufferInfo","track","_bitsAccumulateDuration","duration","responseUrl","_stats","samplerate","forEach","656330tzjciG","_timescale","totalCost","remaining"];return(GC=function(){return t})()}!function(t,e){const s=KC,i=t();for(;;)try{if(896871===parseInt(s(423))/1*(parseInt(s(434))/2)+-parseInt(s(406))/3+parseInt(s(428))/4*(parseInt(s(441))/5)+-parseInt(s(405))/6+-parseInt(s(400))/7+parseInt(s(443))/8*(parseInt(s(440))/9)+parseInt(s(457))/10*(-parseInt(s(413))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(GC);class zC{constructor(t){this[KC(404)](),this._timescale=t}[WC(437)](){this.reset()}reset(){const t=WC;this._timescale=null,this.encodeType="",this[t(415)]="",this[t(426)]="",this[t(418)]="",this.fps=0,this[t(431)]=0,this.width=0,this[t(429)]=0,this[t(455)]=0,this[t(419)]=0,this[t(444)]=0,this._bitsAccumulateSize=0,this._bitsAccumulateDuration=0}[WC(422)](){const t=WC;return{encodeType:this[t(430)],audioCodec:this.audioCodec,videoCodec:this.videoCodec,domain:this[t(418)],fps:this[t(425)],bitrate:this[t(431)],width:this[t(432)],height:this[t(429)],samplerate:this.samplerate,channelCount:this[t(419)],gop:this[t(444)]}}[WC(421)](t){this[WC(430)]=t}[WC(447)](t){const e=WC;var s;let{data:i}=t;const r=null==i||null===(s=i[e(409)])||void 0===s?void 0:s.framerate;r&&r>0&&r<100&&(this[e(425)]=r)}setVideoMeta(t){const e=WC;if(this[e(432)]=t[e(432)],this[e(429)]=t.height,this[e(426)]=t.codec,this[e(430)]=t.codecType,t[e(408)]&&t.fpsDen){const s=t.fpsNum/t.fpsDen;s>0&&s<100&&(this[e(425)]=s)}}[WC(420)](t){const e=WC;this.audioCodec=t.codec,this.samplerate=t[e(448)],this[e(419)]=t[e(419)]}setDomain(t){const e=WC;this.domain=t[e(412)]("/").slice(2,3)[0]}updateBitrate(t){const e=WC;if((!this.fps||this[e(425)]>=100)&&t[e(446)]){const s=t[e(402)](((t,s)=>t+s[e(452)]),0)/t[e(446)];this[e(425)]=Math.round(this[e(397)]/s)}t[e(456)]((t=>{const s=e;1===t[s(417)]&&this[s(444)]++,this._bitsAccumulateDuration+=t[s(452)]/(this._timescale/1e3),this[s(416)]+=t[s(435)][s(402)](((t,e)=>t+e.length),0),this[s(451)]>=1e3&&(this[s(431)]=8*this._bitsAccumulateSize,this[s(451)]=0,this[s(416)]=0)}))}}class HC{constructor(t){const e=WC;let s=arguments[e(446)]>1&&void 0!==arguments[1]?arguments[1]:1e3;this._core=t,this[e(438)]=[],this[e(397)]=s,this[e(454)]=new zC(s),this[e(442)]()}[WC(437)](){const t=WC;this._core=null,this._samples=[],this[t(454)]&&(this[t(454)][t(437)](),this[t(454)]=null),this[t(397)]=null}[WC(422)](){const t=WC;var e,s,i,r,n,o,a,h,l,c,d;const{currentTime:u=0,decodeFps:p=0}=(null===(e=this[t(403)])||void 0===e?void 0:e.media)||{};return{...this[t(454)][t(422)](),downloadSpeed:(null===(s=this[t(403)])||void 0===s||null===(i=s[t(439)])||void 0===i?void 0:i[t(414)](s).speed)||0,avgSpeed:(null===(r=this._core)||void 0===r||null===(n=r.speedInfo)||void 0===n?void 0:n[t(414)](r)[t(401)])||0,totalReceivedByte:(null===(o=this[t(403)])||void 0===o||null===(a=o[t(439)])||void 0===a?void 0:a[t(414)](o)[t(407)])||0,totalReceivedCost:(null===(h=this[t(403)])||void 0===h||null===(l=h[t(439)])||void 0===l?void 0:l[t(414)](h)[t(398)])||0,currentTime:u,bufferEnd:(null===(c=this._core)||void 0===c||null===(d=c[t(449)]())||void 0===d?void 0:d[t(399)])||0,decodeFps:p}}_bindEvents(){const t=WC;this[t(403)].on(It.DEMUXED_TRACK,(e=>this[t(454)].updateBitrate(e[t(424)]))),this[t(403)].on(It[t(436)],(e=>{const s=t;this[s(454)][s(447)](e)})),this._core.on(It[t(411)],(e=>{const s=t;e[s(427)]===s(410)?this[s(454)][s(445)](e[s(450)]):this._stats[s(420)](e.track)})),this[t(403)].on(It.TTFB,(e=>{const s=t;this[s(454)][s(433)](e[s(453)])}))}[WC(404)](){const t=WC;this[t(438)]=[],this[t(454)]=new zC(this[t(397)])}}function KC(t,e){const s=GC();return(KC=function(t,e){return s[t-=397]})(t,e)}function qC(t,e){const s=YC();return(qC=function(t,e){return s[t-=167]})(t,e)}function YC(){const t=["84FPBVGa","3707bbTtTA","totalLength","get","344616mXCdlq","isBuffered","153ltziDg","end","9288abTmKM","buffered","info","push","start","159756KIWnTS","852QtfwYT","25470RMSlSd","length","7828429OGPnIP","buffers","2205KTDdOV","5225441LkrJlX","6SrRDVs","1925rHSFAp"];return(YC=function(){return t})()}const QC=qC;!function(t,e){const s=qC,i=t();for(;;)try{if(561350===parseInt(s(187))/1*(-parseInt(s(182))/2)+parseInt(s(181))/3+-parseInt(s(176))/4*(parseInt(s(167))/5)+-parseInt(s(189))/6*(-parseInt(s(185))/7)+parseInt(s(172))/8*(-parseInt(s(174))/9)+parseInt(s(183))/10*(-parseInt(s(169))/11)+-parseInt(s(168))/12*(-parseInt(s(188))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(YC);class JC{static[QC(180)](t){const e=QC;return t&&t[e(184)]?1===t[e(184)]&&t[e(175)](0)-t.start(0)<1e-6||1===t.length&&t[e(180)](0)<0?0:t.start(0):0}static[QC(175)](t){const e=QC;return t&&t[e(184)]?1===t[e(184)]&&t[e(175)](0)-t[e(180)](0)<1e-6?0:t[e(175)](t[e(184)]-1):0}static get(t){const e=QC;if(t)try{return t[e(177)]}catch(t){}}static[QC(186)](t,e){const s=QC;if(!t||!t[s(184)])return[];const i=[];for(let r=0,n=t[s(184)];r<n;r++){const n=i[s(184)];if(n&&e){const o=i[n-1],a=o[1];if(t[s(180)](r)-a<=e){const e=t.end(r);e>a&&(o[1]=e)}else i[s(179)]([t.start(r),t[s(175)](r)])}else i[s(179)]([t.start(r),t[s(175)](r)])}return i}static totalLength(t){return t&&t[QC(184)]?t.reduce(((t,e)=>t+(e[1]-e[0])),0):0}static[QC(178)](t){const e=QC;let s=arguments[e(184)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[e(184)]>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t.length)return{start:0,end:0,buffers:[]};let r=0,n=0,o=0,a=0,h=0,l=0,c=0;const d=JC[e(186)](t,i);for(let t=0,u=d[e(184)];t<u;t++){const e=d[t];if(s+i>=e[0]&&s<e[1])r=e[0],n=e[1],o=t;else{if(s+i<e[0]){a=e[0],h=e[1];break}s+i>e[1]&&(l=e[0],c=e[1])}}return{start:r,end:n,index:o,buffers:d,nextStart:a,nextEnd:h,prevStart:l,prevEnd:c,currentTime:s,behind:s-r,remaining:n?n-s:0,length:JC.totalLength&&JC[e(170)](d)}}static[QC(173)](t,e){const s=QC;if(t){const i=JC[s(171)](t);if(null!=i&&i.length)for(let t=0;t<i[s(184)];t++)if(e>=i[s(180)](t)&&e<=i.end(t))return!0}return!1}}function XC(t,e){const s=tD();return(XC=function(t,e){return s[t-=153]})(t,e)}const $C=XC;!function(t,e){const s=XC,i=t();for(;;)try{if(142213===-parseInt(s(166))/1+-parseInt(s(163))/2*(parseInt(s(168))/3)+-parseInt(s(156))/4+-parseInt(s(165))/5+-parseInt(s(161))/6+parseInt(s(158))/7+parseInt(s(160))/8)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(tD);class ZC{constructor(t){const e=XC;this.hls=t,this[e(159)]=0}[$C(162)](){const t=$C;this._prevCurrentTime=0,this[t(154)]=null}do(t){const e=$C;let s=arguments[e(155)]>1&&void 0!==arguments[1]?arguments[1]:3,i=arguments[e(155)]>2?arguments[2]:void 0,r=arguments[e(155)]>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return;const n=t[e(164)];let o=0;if(this._prevCurrentTime===n){const a=JC.info(JC[e(167)](t),n);if(!a[e(170)][e(155)])return;i&&a[e(169)]||a[e(169)]&&a[e(169)]-n<s?o=a[e(169)]+.1:a[e(153)]&&a[e(153)]-n>r&&!t[e(157)]&&(o=n+.1)}this[e(159)]=n,o&&n!==o&&(t.currentTime=o)}}function tD(){const t=["seeking","1652406YmBQtg","_prevCurrentTime","8009680HhmsGT","1366278XGPMTx","destroy","1940JdCLta","currentTime","596575vzNLLM","216270KXIzWd","get","867pkLQpB","nextStart","buffers","end","hls","length","1005708ScgdQc"];return(tD=function(){return t})()}const eD=sD;function sD(t,e){const s=rD();return(sD=function(t,e){return s[t-=258]})(t,e)}!function(t,e){const s=sD,i=t();for(;;)try{if(692275===parseInt(s(354))/1+-parseInt(s(326))/2*(-parseInt(s(467))/3)+-parseInt(s(315))/4+parseInt(s(264))/5+parseInt(s(319))/6*(parseInt(s(377))/7)+parseInt(s(397))/8+-parseInt(s(336))/9*(parseInt(s(482))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(rD);class iD extends zi{constructor(t){const e=sD;let s=arguments[e(302)]>1&&void 0!==arguments[1]?arguments[1]:{};var i;super(),_m(this,e(366),(async()=>{const t=e;if(this._segmentProcessing)return void this.player[t(447)](this.TAG_NAME,t(283));if(!this[t(396)])return void this.player[t(447)](this[t(435)],"_loadSegment() this._playlist is null and return");const s=this[t(396)][t(306)],i=this[t(396)][t(432)],r=this._playlist[t(430)];this[t(334)].debugLog(this[t(435)],t(434),t(365),s&&s[t(389)],"nextSeg",i&&i[t(389)],"lastSeg",r&&r.url);const n=Math.min(Math[t(385)]((null==r?void 0:r[t(330)])-.008||0,.016),.1);if(i){if(!this[t(327)]){const e=this[t(443)];if(this.media){let s=this[t(442)]();this[t(441)][t(269)]&&!this[t(441)][t(297)]&&(s=this.bufferInfo(s[t(376)]||.5));const r=Math[t(298)](s.end-this[t(441)][t(330)])<n;let o=1;this[t(334)].isPlayVod()&&(o=this[t(334)][t(304)].rate,this[t(334)][t(471)]()&&(o=Math[t(455)](o,8)));const a=e[t(328)]*o;if(s[t(339)]>=a||r)return this[t(334)][t(447)](this.TAG_NAME,t(268)+s[t(339)]+t(404)+a+"  or bufferThroughout is "+r+" and return"),void this[t(375)]();if(e[t(381)]&&!this[t(373)][t(461)])return;!this._urlSwitching&&this[t(360)]!==i.sn-1&&s.end&&Math[t(298)](i.start-s[t(463)])>1&&this[t(396)][t(358)](this._playlist[t(462)](s.end+.1))}else if(this[t(334)][t(444)]()){let s=this.player[t(299)]();s/=1e3;let r=this.player[t(304)][t(387)](),n=this[t(334)].playVod.rate;this[t(334)][t(471)]()&&(n=Math[t(455)](n,8));const o=e[t(328)]*n+s;if(this._prevSegmentEndTime&&Si(r)&&this[t(332)]>o)return void this[t(334)][t(447)](this[t(435)],t(403)+this[t(332)]+t(350)+s+t(262)+o+t(423));this[t(332)]=i[t(463)]}}return this._loadSegmentDirect()}this.player.debugLog(this[t(435)],t(370))})),this[e(334)]=t,this.TAG_NAME="Hls256",this[e(443)]=null,this[e(414)]=null,this[e(431)]=null,this[e(396)]=null,this[e(373)]=null,this[e(267)]=null,this[e(459)]=null,this._prevSegSn=null,this[e(335)]=null,this._tickTimer=null,this._tickInterval=500,this._segmentProcessing=!1,this._reloadOnPlay=!1,this[e(390)]=null,this[e(468)]=!1,this[e(405)]=null,this._prevSegmentEndTime=0,this.eventListenList=[],this[e(443)]=(i=s,s={isLive:!1,maxPlaylistSize:50,retryCount:3,retryDelay:1e3,pollRetryCount:2,loadTimeout:1e4,manifestLoadTimeout:1e4,preloadTime:30,softDecode:!1,bufferBehind:10,maxJumpDistance:3,startTime:0,useLowLatency:!0,targetLatency:10,maxLatency:20,allowedStreamTrackChange:!0,seiInTime:!1,manifestList:[],minSegmentsStartPlay:3,preferMMS:!1,preferMMSStreaming:!1,mseLowLatency:!0,fixerConfig:{forceFixLargeGap:!1,largeGapThreshold:5},...i}),this[e(441)]=null,this._manifestLoader=new E_(this),this[e(431)]=new R_(this),this._playlist=new O_(this),this[e(373)]=new BC(this),this[e(267)]=new VC(this),this[e(289)]=new ZC(this),this[e(459)]=new HC(this,9e4),this[e(334)],this.bound={handlePlayVodPause:this[e(421)].bind(this),onVideoSeeking:this.onVideoSeeking[e(311)](this),onSeeking:this.onSeeking[e(311)](this)},this[e(334)][e(413)]()&&(this.config[e(327)]=!0),this[e(334)][e(444)]()&&(this[e(334)].on(O[e(438)],this[e(364)][e(421)]),this[e(334)][e(471)]()?(this[e(441)]=this[e(334)].video[e(400)],this.player.on(O.playVodVideoSeekingByMse,this[e(364)].onVideoSeeking)):this[e(334)].on(O.playVodSeek,this.bound[e(261)])),this[e(398)]=!1,this[e(334)][e(447)](this[e(435)],e(393))}async[eD(286)](){const t=eD;this[t(398)]=!0,this[t(334)][t(447)](this[t(435)],t(286)),this[t(396)].reset(),this[t(431)][t(316)](),this[t(267)].reset(),this[t(394)][t(302)]&&(this.eventListenList[t(281)]((t=>t())),this[t(394)]=[]),await Promise[t(265)]([this[t(464)](),this._bufferService[t(286)]()]),this[t(414)]&&(await this[t(414)][t(286)](),this[t(414)]=null),this[t(431)]&&(this._segmentLoader.destroy(),this[t(431)]=null),this[t(396)]&&(this[t(396)][t(286)](),this[t(396)]=null),this[t(373)]&&(await this[t(373)][t(286)](),this[t(373)]=null),this[t(267)]&&(this[t(267)][t(286)](),this[t(267)]=null),this._gapService&&(this[t(289)][t(286)](),this[t(289)]=null),this._stats&&(this[t(459)][t(286)](),this[t(459)]=null),this.config=null,this[t(441)]=null,this._prevSegSn=null,this._prevSegCc=null,this.bound=null,this.off(),this[t(334)][t(447)](this[t(435)],t(274))}async[eD(316)](){}get[eD(327)](){const t=eD;return this[t(396)][t(327)]}get[eD(275)](){const t=eD;return this[t(396)][t(275)]}get currentStream(){const t=eD;return this[t(396)][t(285)]}get[eD(270)](){const t=eD;return this[t(396)][t(270)]}get[eD(323)](){const t=eD;return this[t(396)][t(323)]}get[eD(412)](){const t=eD;var e;return null===(e=this[t(373)])||void 0===e?void 0:e[t(412)]}[eD(272)](){const t=eD;this._stopTick(),this[t(329)]=setTimeout((()=>{this[t(348)]()}),this[t(411)])}[eD(290)](){const t=eD;this[t(329)]&&(clearTimeout(this._tickTimer),this[t(329)]=null)}_tick(){const t=eD;if(!this[t(398)])if(this[t(334)][t(426)]())this[t(334)].debugLog(this[t(435)],t(378));else if(!this[t(334)][t(438)]){if(this[t(272)](),this[t(441)]){const e=this[t(441)],s=this._segmentLoader[t(288)];if(this[t(303)](),this[t(468)]&&!this[t(373)].isFull()&&(this._isProcessQuotaExceeded=!1,this._segmentProcessing=!1),s){const i=.5;return void((!e.readyState||this.bufferInfo(i)[t(339)]<1)&&(s[t(470)]=!0,this[t(341)](Ok[t(342)](s))))}e[t(282)]&&(Li(e)?(this[t(366)](),this[t(289)]&&this[t(289)].do(e,this[t(443)][t(395)],this[t(327)])):e[t(282)]<2&&this[t(289)]&&this[t(289)].do(e,this.config[t(395)],!e[t(297)]||this[t(327)]))}else this[t(366)]();!this[t(327)]&&this[t(375)]()}}[eD(263)](){return this[eD(431)].speedInfo()}[eD(442)](){const t=eD;var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;return this[t(441)]?JC[t(422)](JC[t(424)](this.media),null===(e=this.media)||void 0===e?void 0:e[t(297)],s):{}}[eD(362)](){const t=eD;return this[t(459)][t(362)]()}resetBandwidth(){this[eD(431)].resetBandwidth()}async[eD(480)](t){const e=eD;return t&&(this[e(443)][e(389)]=t),t=this[e(443)][e(389)],this[e(373)][e(307)](),await this[e(287)](),await this[e(460)](t),this[e(272)](),!0}async[eD(460)](t){const e=eD;try{t&&(t=t[e(345)]())}catch(t){}if(!t)throw this[e(341)](new Ok(Uk[e(465)],Uk.OTHER,null,null,e(427)));const s=await this[e(351)](t),{currentStream:i}=this._playlist;if(this[e(280)])if(this.isLive){const t=this[e(396)][e(300)](this[e(360)]);this[e(334)][e(447)](this[e(435)],e(408)+this[e(360)]+e(374)+t+" in the new playlist"),-1===t&&(this[e(335)]=null,this._prevSegSn=null)}else{var r,n,o,a;if(0===i[e(369)]&&null!==(r=this[e(390)])&&void 0!==r&&r[e(369)])i.bitrate=null===(a=this[e(390)])||void 0===a?void 0:a[e(369)];const t=typeof(null===(n=this._switchUrlOpts)||void 0===n?void 0:n.startTime)===e(349)?null===(o=this[e(390)])||void 0===o?void 0:o[e(449)]:this[e(321)]();this[e(443)][e(449)]=t;const s=this[e(396)][e(462)](t),h=this._playlist[e(425)](s+1);if(h){const t=h[e(333)];this[e(334)][e(357)](this.TAG_NAME,e(325)+t),await this[e(373)].removeBuffer(t)}}if(s)if(this[e(327)]){if(this._bufferService[e(481)](0,4294967295),this.player.debugLog(this[e(435)],e(352),this._playlist[e(323)],e(273),this[e(396)][e(340)]),this[e(443)].targetLatency<this[e(396)][e(323)]&&(this[e(443)][e(420)]=this[e(396)][e(323)],this[e(443)][e(338)]=1.5*this.config.targetLatency),!s.isMaster&&this[e(313)](t),this[e(396)][e(340)]<this[e(443)][e(406)])return;await this._loadSegment()}else await this[e(373)][e(451)](i[e(323)]),this.player[e(444)]()&&this[e(396)][e(358)](0),await this[e(366)]()}async[eD(478)](t){const e=eD;let s=arguments[e(302)]>1&&void 0!==arguments[1]?arguments[1]:{};switch(typeof s){case e(349):s={startTime:s};break;case e(363):s={seamless:s};break;case e(356):for(const t in s)(void 0===s[t]||null===s[t])&&delete s[t];break;default:throw e(433)+s}s=Object.assign({},{seamless:!1,startTime:0,bitrate:0},s);const{seamless:i,startTime:r}=s;if(this.config.url=t,this.config[e(449)]=r,this[e(390)]=s,!i){let s;try{s=this[e(443)][e(439)]?this[e(480)](t):await this[e(480)](t)}catch(t){throw this[e(371)](It[e(475)],t),t}return this[e(473)]=!1,s&&this[e(371)](It[e(294)],{url:t}),this.media.play(!0)}this[e(280)]=!0,!this[e(327)]&&(this[e(360)]=null,this._prevSegCc=null),this[e(396)][e(316)](),this[e(373)].seamlessSwitch(),await this[e(464)](),await this[e(460)](t),this._startTick(),this[e(390)]=null}async[eD(351)](t){const e=eD;let s;try{var i,r;const n=null===(i=this[e(443)][e(347)])||void 0===i||null===(r=i.filter((s=>s[e(389)]===t))[0])||void 0===r?void 0:r[e(450)];[s]=n?this[e(414)][e(259)](n,t):await this[e(414)][e(392)](t)}catch(t){throw this[e(341)](Ok[e(368)](t))}if(s){var n,o;if(this._playlist[e(399)](s),s[e(346)])null!==(n=this[e(396)])&&void 0!==n&&null!==(o=n[e(285)][e(419)])&&void 0!==o&&o[e(302)]&&this.emit(It.SUBTITLE_PLAYLIST,{list:this[e(396)][e(285)].subtitleStreams}),await this._refreshM3U8();else this[e(334)][e(447)](this[e(435)],e(474));return this[e(371)](It[e(479)]),s}this[e(334)][e(357)](this.TAG_NAME,e(448))}[eD(337)](){const t=eD;var e,s;this[t(334)][t(447)](this.TAG_NAME,t(355));const i=this[t(396)][t(285)];if(!i||!i[t(389)])throw this[t(341)](Ok[t(368)](null,null,new Error("m3u8 url is not defined")));const r=i[t(389)],n=null===(e=i[t(401)])||void 0===e?void 0:e[t(389)],o=null===(s=i.currentSubtitleStream)||void 0===s?void 0:s[t(389)];return this[t(414)][t(392)](r,n,o)[t(379)]((e=>{const s=t;let[i,a,h]=e;i?(this[s(396)][s(399)](i,a,h),this[s(327)]&&this._pollM3U8(r,n,o)):this.player[s(357)](this[s(435)],s(446))}))[t(418)]((e=>{const s=t;throw this._emitError(Ok[s(368)](e))}))}[eD(313)](t,e,s){const i=eD;let r,n=this[i(396)][i(284)];var o;this[i(396)].lowLatency?r=1e3*(this[i(396)][i(285)][i(353)]||0):r=1e3*((null===(o=this._playlist.lastSegment)||void 0===o?void 0:o[i(330)])||0);this[i(414)][i(409)](t,e,s,((t,e,s)=>{const r=i;this._playlist[r(399)](t,e,s),this[r(396)][r(258)]();(t&&n&&!this[r(396)][r(284)]||!this[r(396)][r(436)]&&this[r(396)][r(340)]>=this[r(443)][r(406)])&&this[r(366)](),n&&(n=this[r(396)][r(284)])}),(t=>{const e=i;this[e(341)](Ok[e(368)](t))}),r)}async[eD(456)](t){const e=eD,s=this[e(396)].nextSegment;if(!s)return void this[e(334)][e(447)](this[e(435)],"_loadSegmentDirect() !seg");let i=!1,r=null;try{this._segmentProcessing=!0,i=await this[e(410)](s,this[e(396)][e(361)](s))}catch(t){r=t}finally{this[e(452)]=!1}if(r)return this[e(373)][e(301)]()?(this[e(452)]=!0,this[e(468)]=!0,!1):this._emitError(Ok[e(368)](r));if(i){var n;const i=this[e(442)]()[e(463)];this.isLive&&this[e(441)]&&!this.media[e(277)]&&i&&Math[e(298)](s[e(463)]-i)>1&&(this[e(334)][e(357)](this[e(435)],"segment: "+s.sn+e(317)+s.end+e(391)+i),this._playlist[e(344)](s,i));const r=(null===(n=this[e(396)][e(285)])||void 0===n?void 0:n[e(389)])===s.parentUrl;this._urlSwitching&&!r&&this._bufferService.seamlessSwitch(),this[e(327)]&&this[e(280)]&&r&&(this[e(280)]=!1,this[e(371)](It[e(294)],{url:this[e(443)][e(389)]})),this[e(396)][e(271)](),this[e(334)][e(447)](this[e(435)],e(384),e(477),s[e(429)]),s.isLast?(this[e(334)][e(447)](this[e(435)],"_loadSegmentDirect()",e(477)),this._end()):!t&&(this[e(334)][e(447)](this[e(435)],e(384),e(386)),this[e(366)]())}else this[e(334)].debugLog(this[e(435)],e(469));return i}async _reqAndBufferSegment(t,e){const s=eD;this.player[s(447)](this.TAG_NAME,s(320),t&&t[s(389)],t&&t[s(454)],"audio seg",e&&e[s(389)],e&&e[s(454)]);const i=t?t.cc:e.cc,r=this._prevSegCc!==i;let n=[];try{n=await this[s(431)].load(t,e,r)}catch(t){throw t[s(470)]=!1,this[s(431)].error=t,t}if(!n[0])return;const o=await this[s(373)][s(388)](...n);if(!o)return void this[s(334)][s(447)](this[s(435)],s(416));const a=t?t.sn:e.sn;let h=t?t.start:e[s(333)];const l=this[s(396)].currentStream;this[s(373)][s(276)](o[0],o[1],null==l?void 0:l[s(415)],null==l?void 0:l[s(293)]);const c=this[s(360)]===a-1;if(this[s(327)]&&this[s(280)]){const t=this[s(442)]()[s(463)];this[s(396)][s(428)](a,t),h=t}return await this[s(373)][s(402)](t,e,o[0],o[1],r,c,h),await this[s(373)][s(308)](this[s(443)][s(458)]),this._prevSegCc=i,this[s(360)]=a,!0}async _clear(){const t=eD;this[t(334)][t(447)](this[t(435)],t(466)),this._disconnectTimer&&(clearTimeout(this[t(405)]),this[t(405)]=null),this[t(290)](),await Promise.all([this[t(431)][t(324)](),this[t(414)].stopPoll()]),this[t(452)]=!1}async[eD(287)](){const t=eD;let e=arguments[t(302)]>0&&void 0!==arguments[0]&&arguments[0];return this[t(334)][t(447)](this[t(435)],t(453)),this[t(473)]=!1,this._prevSegSn=null,this[t(335)]=null,this[t(390)]=null,this[t(332)]=0,this[t(396)][t(316)](),this[t(431)][t(316)](),this[t(267)].reset(),this[t(459)][t(316)](),await this._clear(),this[t(373)].reset(e)}[eD(322)](){const t=eD;this[t(334)].debugLog(this[t(435)],t(367)),this[t(464)](),this[t(373)][t(318)](),this.media&&(this[t(441)].readyState<=2||this[t(441)][t(292)][t(302)]>1)&&this._startTick()}[eD(341)](t){const e=eD;var s;let i=arguments[e(302)]>1&&void 0!==arguments[1]&&arguments[1];var r;!1===(null===(s=t.originError)||void 0===s?void 0:s[e(470)])?console.warn(t):(console.table(t),console.error(t),console[e(288)](null===(r=this.media)||void 0===r?void 0:r.error),this[e(290)](),this[e(280)]&&(this[e(280)]=!1,this[e(371)](It[e(475)],t)),i&&this._end(),this._seiService[e(316)](),this[e(371)](It.ERROR,t));return t}[eD(321)](){const t=eD,{media:e}=this;let s=e[t(297)];if(!e[t(269)]){var i;const r=this._playlist[t(462)](e[t(297)]),n=this._playlist[t(425)](r),o=null===(i=this._stats)||void 0===i?void 0:i[t(362)]().downloadSpeed;if(o&&n){s+=n[t(330)]*this[t(396)][t(285)][t(369)]/o+1}else s+=5}return s}[eD(375)](){const t=eD;var e,s;const{media:i}=this;if(!i)return;const{nextSegment:r,lastSegment:n}=this[t(396)];if(!((!r||n&&JC[t(417)](i,n[t(333)]+n[t(330)]/2))&&i[t(282)]&&i[t(330)]>0&&(null===(e=this[t(373)])||void 0===e?void 0:e.msIsOpened)&&!(null!==(s=this[t(373)])&&void 0!==s&&s[t(445)])))return;let o=this[t(442)]();i[t(269)]&&!i[t(297)]&&(o=this[t(442)](o[t(376)]||.5));(Math[t(298)](o.end-i.duration)<.1||!this[t(327)]&&n&&o.end>=n.start+n.duration)&&this[t(373)][t(318)]()}async[eD(303)](){const t=eD;if(!this.media)return;const e=this.media[t(297)],s=this[t(441)][t(292)];let i=!1;for(let r=0;r<s[t(302)];r++)if(s.start(0)>=e&&e<s.end(r)){i=!0;break}if(this._bufferService[t(301)]()){const e=i?this[t(443)].bufferBehind:5,s=this[t(441)].currentTime;s-e>0&&await this._bufferService.removeBuffer(0,s-e)}}async[eD(437)](){const t=eD;this.player[t(447)](this[t(435)],t(296)),this[t(373)][t(440)](),await this[t(366)](),this[t(272)]()}[eD(343)](){const t=eD;this[t(334)].debugLog(this.TAG_NAME,"onPause()"),this[t(373)].demuxerPause(),this[t(290)](),this._segmentLoader[t(316)]()}async handlePlayVodPause(t){t?this[eD(343)]():await this.onPlay()}async[eD(261)](t){const e=eD;let s=arguments[e(302)]>1&&void 0!==arguments[1]&&arguments[1];this[e(334)].debugLog(this[e(435)],e(331),t);const i=this[e(373)][e(309)]();if(this[e(334)][e(447)](this[e(435)],e(295),i),i&&i[e(333)]<=t&&t<=i.end)return this[e(334)][e(447)](this[e(435)],e(295),i,"in range"),void this._bufferService[e(476)](t);const r=this[e(396)][e(462)](t),n=this[e(396)][e(425)](r);null==r||!n||this._segmentProcessing&&n===this._playlist[e(432)]?this[e(334)][e(447)](this[e(435)],"onSeeking() segIndex is "+r+e(312)+this._segmentProcessing+" and seg is",n,e(457)):(this[e(334)][e(447)](this[e(435)],e(407)+t+e(383)+r+e(279),n),this._bufferService.cleanSampleListAndSetSeekTime(t),this[e(396)][e(358)](r),this[e(290)](),this._prevSegmentEndTime=0,await this[e(431)][e(324)](),this._segmentProcessing=!1,(!s||this[e(327)])&&await this._loadSegmentDirect(!0),this[e(272)]())}async onVideoSeeking(t){const e=eD;this[e(334)][e(447)](this[e(435)],"listen playVodVideoSeekingByMse",t),this._onCheckQuotaExceeded();const s=this._playlist[e(372)];if(this[e(334)].debugLog(this[e(435)],e(266),s,e(260),t),s){const i=Xe(t,s[0]+.1,s[1]-.1);if(i>=0&&Math.abs(t-i)>=.1)return this[e(334)][e(447)](this[e(435)],e(472),i),void(this.media[e(297)]=i)}const i=this._playlist[e(306)],r=JC[e(422)](JC.get(this[e(441)]),t,.1);if(i){if(r[e(463)]&&Math.abs(r[e(463)]-i[e(463)])<.2)return;if(this.isLive&&r[e(463)])return}await this[e(261)](t,r.end)}_onVideoTimeUpdate(){this.config}[eD(314)](t){const e=eD,s=this[e(396)][e(305)](t,this[e(373)][e(291)]);s&&this[e(478)](this.config[e(389)],s[e(333)]+.2)}getDemuxBuferredDuration(){const t=eD;return this[t(373)][t(310)]()||0}[eD(359)](){const t=eD;return this[t(373)][t(382)]()||0}[eD(380)](){const t=eD;return this[t(373)][t(278)]()||0}getDemuxVideoBufferedListLength(){return this._bufferService.getBufferedVideoSegments()||0}}function rD(){const t=["54485zfNqLn","all","onVideoSeeking() and seekRange is","_seiService","buffer remaining ","paused","hasSubtitle","moveSegmentPointer","_startTick",", nb segments got:","destroy end","streams","createSource","seeking","getBufferedAudioSegments"," and seg is","_urlSwitching","forEach","readyState","_loadSegment()_segmentProcessing is ture and return","isEmpty","currentStream","destroy","_reset","error","_gapService","_stopTick","nbSb","buffered","audioCodec","SWITCH_URL_SUCCESS","onSeeking() seek to tsSampleRange","onPlay()","currentTime","abs","getRenderCurrentPts","setNextSegmentBySN","isFull","length","_onCheckQuotaExceeded","playVod","checkSegmentTrackChange","currentSegment","updateMSE","evictBuffer","getTsSampleRange","getBuferredDuration","bind"," and _segmentProcessing is ","_pollM3U8","_checkStreamTrackChange","4523252MBxNuv","reset"," expected end=","endOfStream","6729882ZHNyML","video seg","_getSeamlessSwitchPoint","_end","totalDuration","cancel","clear buffer from ","2FDrvyu","isLive","preloadTime","_tickTimer","duration","listen playVodSeek","_prevSegmentEndTime","start","player","_prevSegCc","9rLEzED","_refreshM3U8","maxLatency","remaining","nbSegments","_emitError","network","onPause","feedbackLiveEdge","trim","isMaster","manifestList","_tick","number"," and current time is ","_loadM3U8","is live and totalDuration first time got: ","partTargetDuration","246521dpZQAO","_refreshM3U8()","object","debugWarn","setNextSegmentByIndex","getDemuxBufferedListLength","_prevSegSn","getAudioSegment","getStats","boolean","bound","curSeg","_loadSegment","_end()","create","bitrate","nextSeg is null and return","emit","seekRange","_bufferService"," index of ","_tryEos","nextStart","7eEAJfF","_tick() player is destroyed","then","getDemuxAudioBufferedListLength","preferMMSStreaming","getBufferedSegments"," and segIndex is ","_loadSegmentDirect()","max","and next _loadSegment()","isSeeking","decryptBuffer","url","_switchUrlOpts",", real end=","load","init","eventListenList","maxJumpDistance","_playlist","9025936BxSXLC","_isDestroyed","upsertPlaylist","$videoElement","currentAudioStream","appendBuffer","_loadSegment() and _prevSegmentEndTime is ","  > ","_disconnectTimer","minSegmentsStartPlay","onSeeking() seek to ","segment nb=","poll","_reqAndBufferSegment","_tickInterval","baseDts","isPlayer","_manifestLoader","videoCodec","decryptBuffer return null","isBuffered","catch","subtitleStreams","targetLatency","handlePlayVodPause","info"," and return","get","getSegmentByIndex","isDestroyedOrClosed","m3u8 url is missing","updateSegmentsRanges","isLast","lastSegment","_segmentLoader","nextSegment","unsupported switchURL args: ","_loadSegment()","TAG_NAME","hadSegmentLoaded","onPlay","playVodPause","softDecode","demuxerResume","media","bufferInfo","config","isPlayVod","msHasOpTasks","_refreshM3U8() mediaPlaylist is empty","debugLog","_loadM3U8() playlist is empty","startTime","manifest","updateDuration","_segmentProcessing","_reset()","byteRange","min","_loadSegmentDirect","and return","bufferBehind","_stats","_loadData","msStreaming","findSegmentIndexByTime","end","_clear","OTHER","_clear()","1959909bgauQU","_isProcessQuotaExceeded","_loadSegmentDirect() not appended","fatal","isPlayVodUseMSE","onVideoSeeking() update current time","_reloadOnPlay","_loadM3U8() is not master playlist","SWITCH_URL_FAILED","seekSampleRange","seg.isLast","switchURL","STREAM_PARSED","loadSource","setLiveSeekableRange","13375220uuwsQc","clearOldSegment","parseText","and seekTime is","onSeeking"," more than ","speedInfo"];return(rD=function(){return t})()}const nD=aD;function oD(){const t=["totalBits","550600sBfJpx","bandwidthLastTime","player","$videoElement","debugLog","1692005DBuAGZ","_stopBandwidthEstimateInterval","bandwidthEstimateInterval","getDemuxAudioBufferedListLength","840PgDSfn","checkHlsBufferedDelay","resetBandwidth","_startBandwidthEstimateInterval","22oEaaaG","2058YyvqKc","Hls256Decoder","getDemuxVideoBufferedListLength","destroy","1328IXBCkn","4435569mjnHyu","toFixed","159760ulyuAt","_isDestroyed","getDemuxBuferredDuration","length","79339fMmgmQ","emit","loadSource","forEach","17170YEdTrE","6hSHWPY","_bindEvents","kBps","ERROR","eventsDestroy","TAG_NAME","hls","hlsError","speedInfo","init"];return(oD=function(){return t})()}function aD(t,e){const s=oD();return(aD=function(t,e){return s[t-=227]})(t,e)}!function(t,e){const s=aD,i=t();for(;;)try{if(320146===-parseInt(s(251))/1*(parseInt(s(256))/2)+parseInt(s(240))/3*(parseInt(s(244))/4)+-parseInt(s(255))/5*(-parseInt(s(235))/6)+parseInt(s(231))/7+parseInt(s(267))/8+-parseInt(s(245))/9+parseInt(s(247))/10*(parseInt(s(239))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(oD);class hD extends zi{constructor(t){const e=aD;super(),this[e(228)]=t,this[e(261)]=e(241),this[e(229)]=this[e(228)].video.$videoElement,this[e(262)]=null,this[e(260)]=[],this[e(233)]=null,this.bandwidthLastTime=0,this[e(262)]=new iD(t),this[e(257)](),this[e(248)]=!1,this[e(228)].debugLog(this[e(261)],e(265))}async[nD(243)](){const t=nD;return this[t(248)]=!0,this[t(232)](),this[t(262)]&&(await this.hls[t(243)](),this[t(262)]=null),this[t(260)][t(250)]&&(this[t(260)][t(254)]((t=>t())),this[t(260)]=[]),this.$videoElement=null,this[t(228)][t(230)](this[t(261)],"destroy"),!0}[nD(257)](){const t=nD;this[t(262)].on(It[t(259)],(e=>{const s=t;this[s(228)].emitError(V[s(263)],e)}))}[nD(238)](){const t=nD;this[t(232)](),this[t(227)]=ts(),this[t(233)]=setInterval((()=>{const e=t;if(!this[e(262)])return;const s=this[e(262)][e(264)]()[e(266)],i=ts(),r=s/(i-this[e(227)])*1e3;this[e(228)][e(252)](O[e(258)],(r/1e3)[e(246)](2)),this[e(262)][e(237)](),this[e(227)]=i}),1e3)}[nD(232)](){const t=nD;this[t(228)].debugLog(this[t(261)],t(232)),this[t(233)]&&(clearInterval(this[t(233)]),this[t(233)]=null),this[t(227)]=0}async[nD(253)](t){const e=nD;return this.url=t,await this.hls.loadSource(t),this[e(238)](),!0}[nD(236)](){const t=nD;let e=0;return this[t(262)]&&(e=this[t(262)][t(249)]()),e}getDemuxBufferedListLength(){const t=nD;let e=0;return this.hls&&(e=this[t(262)].getDemuxBufferedListLength()),e}getDemuxAudioBufferedListLength(){const t=nD;let e=0;return this.hls&&(e=this[t(262)][t(234)]()),e}[nD(242)](){const t=nD;let e=0;return this[t(262)]&&(e=this[t(262)][t(242)]()),e}}function lD(t,e){const s=gD();return(lD=function(t,e){return s[t-=479]})(t,e)}function cD(t,e){const s=lD,i=t[s(502)];if(!i||!i[s(527)])return;const r=i[s(544)]((t=>{const e=s;var i,r;return(null===(i=t[e(494)])||void 0===i||null===(r=i[e(526)])||void 0===r?void 0:r.handlerType)===e(537)})),n=i[s(544)]((t=>{const e=s;var i,r;return(null===(i=t[e(494)])||void 0===i||null===(r=i[e(526)])||void 0===r?void 0:r.handlerType)===e(513)}));if(!r&&!n)return;let o=[],a=[];if(e){const t=[];let i=0,r=e[s(557)]+e.size;e[s(532)][s(503)](((n,o)=>{const a=s;t.push({index:o,startTime:i,endTime:i+n.subsegment_duration/e[a(504)],duration:n.subsegment_duration/e[a(504)],range:[r,r+n[a(524)]],frames:[]}),i+=n[a(520)]/e[a(504)],r+=n[a(524)]})),o=t,a=t}else{var h,l;const e=e=>{const i=s;return e?[{index:0,startTime:0,endTime:e[i(489)]/e[i(504)],duration:e[i(489)]/e.timescale,range:[t[i(557)]+t[i(506)],""],frames:[]}]:[]};a=e(t.mvhd[s(489)]?t[s(533)]:null===(h=r[s(494)])||void 0===h?void 0:h[s(482)]),o=e(t[s(533)][s(489)]?t[s(533)]:null===(l=n[s(494)])||void 0===l?void 0:l[s(482)])}return{videoSegments:a,audioSegments:o}}function dD(t,e){const s=lD,i=t.trak;if(!i||!i.length)return{error:!0,msg:s(564)};const r=i[s(544)]((t=>{const e=s;var i,r;return(null===(i=t[e(494)])||void 0===i||null===(r=i[e(526)])||void 0===r?void 0:r[e(492)])===e(537)})),n=i.find((t=>{const e=s;var i,r;return(null===(i=t[e(494)])||void 0===i||null===(r=i.hdlr)||void 0===r?void 0:r.handlerType)===e(513)}));if(!r&&!n)return{error:!0,msg:s(514)};let o,a=[],h=[];if(r){var l,c,d;const t=null===(l=r[s(494)])||void 0===l||null===(c=l[s(563)])||void 0===c?void 0:c[s(483)];if(!t)return{error:!0,msg:"video stbl not found"};const i=null===(d=r.mdia.mdhd)||void 0===d?void 0:d[s(504)],{stts:n,stsc:h,stsz:u,stco:p,stss:f,ctts:m}=t;if(!(i&&n&&h&&u&&p&&f))return{error:!0,msg:s(510)+!!i+" or stts "+!!n+s(518)+!!h+s(490)+!!u+s(505)+!!p+s(480)+!!f+s(547)};a=uD(e,i,n,h,u,p,f,m),o=a[s(491)]((t=>t[s(489)]))}if(n){var u,p,f;const t=null===(u=n.mdia)||void 0===u||null===(p=u[s(563)])||void 0===p?void 0:p[s(483)];if(!t)return{error:!0,msg:s(517)};const i=null===(f=n[s(494)][s(482)])||void 0===f?void 0:f[s(504)],{stts:r,stsc:a,stsz:l,stco:c}=t;if(!(i&&r&&a&&l&&c))return{error:!0,msg:s(529)};h=uD(e,i,r,a,l,c,null,null,o)}return{videoSegments:a,audioSegments:h}}function uD(t,e,s,i,r,n,o,a,h){const l=lD;var c;const d=[],u=[],p=[],f=i[l(512)],m=n[l(512)],g=r[l(493)],y=null==o?void 0:o[l(512)],A=null==a?void 0:a.entries;let v,b;A&&(v=[],A[l(503)]((t=>{const e=l;let{count:s,offset:i}=t;for(let t=0;t<s;t++)v[e(488)](i)}))),y&&(b={},y[l(503)]((t=>{b[t-1]=!0})));let S,E,w=0,T=0,I=0,k=0,_=0,C=null===(c=f[0])||void 0===c?void 0:c.samplesPerChunk,D=f[1]?f[1][l(555)]-1:1/0,R=0,L=-1;s[l(512)][l(503)]((t=>{const e=l;let{count:s,delta:i}=t;E=i;for(let t=0;t<s;t++){if(S={dts:R,startTime:w,duration:E,size:g[T]||r[e(523)],offset:m[I]+_,index:T},y){if(S[e(487)]=b[T],S[e(487)])L++,u.push([S]),p.push(S[e(489)]);else{if(0===u[e(527)]){T++;continue}u[u[e(527)]-1][e(488)](S),p[u.length-1]+=S[e(489)]}S[e(546)]=L}v&&T<v.length&&(S[e(540)]=R+v[T]),0===T&&(S.pts=0),d.push(S),w+=E,R+=i,T++,T<C?_+=S[e(506)]:(I++,_=0,I>=D&&(k++,D=f[k+1]?f[k+1][e(555)]-1:1/0),C+=f[k][e(530)])}}));const P=d[l(527)];if(!P||o&&!d[0][l(487)])return[];const x=[];let M,B=[],F=0,U=0;const O=t=>{const s=l;var i;M=B[B[s(527)]-1],x[s(488)]({index:x[s(527)],startTime:(null===(i=x[x.length-1])||void 0===i?void 0:i[s(567)])||B[0].startTime/e,endTime:(M[s(560)]+M[s(489)])/e,duration:t,range:[B[0].offset,M[s(515)]+M.size],frames:B}),F=0,B=[]};if(o){const s=t*e;for(let t=0,i=u[l(527)];t<i;t++)F+=p[t],B.push(...u[t]),t+1<i?(0===t||F>s)&&O(F/e):O(F/e)}else{let s=(h=h||[])[0]||t;for(let i=0;i<P;i++){B[l(488)](d[i]),F+=d[i].duration;const r=F/e;(i+1>=P||r+U>=s)&&(U+=r-s,O(r),s=h[x[l(527)]]||t)}}return x}function pD(t,e){const s=lD;let i="",r="",n=0,o=0,a=0,h=0,l=0,c=0,d=0;t[s(533)]&&(l=t.mvhd.duration/t.mvhd.timescale);const u=t[s(502)];if(u){const D=u[s(544)]((t=>{const e=s;var i,r;return(null===(i=t[e(494)])||void 0===i||null===(r=i[e(526)])||void 0===r?void 0:r.handlerType)===e(537)})),R=u[s(544)]((t=>{var e,s;return"soun"===(null===(e=t.mdia)||void 0===e||null===(s=e.hdlr)||void 0===s?void 0:s.handlerType)}));let L,P=null;var p,f,m,g,y,A,v,b,S,E,w,T,I,k,_,C;if(D)if(P=null===(p=D[s(494)])||void 0===p||null===(f=p[s(563)])||void 0===f||null===(m=f[s(483)])||void 0===m?void 0:m[s(552)][s(512)][0],P)if(n=P.width,o=P[s(568)],c=null===(g=D[s(494)])||void 0===g||null===(y=g.mdhd)||void 0===y?void 0:y[s(504)],i=null===(A=P.avcC||P.hvcC||P[s(484)])||void 0===A?void 0:A[s(558)],P[s(551)]===s(554))L=null===(v=P[s(569)])||void 0===v||null===(b=v.schi)||void 0===b?void 0:b.tenc[s(485)];if(R)if(P=null===(S=R[s(494)])||void 0===S||null===(E=S[s(563)])||void 0===E||null===(w=E[s(483)])||void 0===w?void 0:w.stsd[s(512)][0],P)if(a=P[s(541)],h=P[s(499)],r=null===(T=P[s(565)])||void 0===T?void 0:T[s(558)],d=null===(I=R[s(494)])||void 0===I||null===(k=I[s(482)])||void 0===k?void 0:k.timescale,P[s(551)]===s(562))L=L||(null===(_=P[s(569)])||void 0===_||null===(C=_[s(535)])||void 0===C?void 0:C[s(571)][s(485)]);return{kid:L?L[s(550)](""):null,videoCodec:i,audioCodec:r,width:n,height:o,videoTimescale:c,audioChannelCount:a,audioSampleRate:h,duration:l,audioTimescale:d,moov:t,isFragmentMP4:e}}}function fD(t){return"number"==typeof t&&!Number[lD(539)](t)}function mD(){const t=lD;for(var e=arguments[t(527)],s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];if((s=s[t(553)](Boolean))[t(527)]<2)return s[0];const r=new Uint8Array(s[t(479)](((e,s)=>e+s[t(559)]),0));let n=0;return s[t(503)]((e=>{const s=t;r[s(566)](e,n),n+=e[s(559)]})),r}function gD(){const t=["schi","8XCsIgY","vide","IS_NON_SYNC","isNaN","pts","channelCount","1129674lGHZVr","dts","find","FIRST_FLAG","gopId"," not found","concat","12946340mZVeVs","join","type","stsd","filter","encv","firstChunk","BASE_DATA_OFFSET","start","codec","byteLength","startTime","firstSampleFlag","enca","minf","trak not found","esds","set","endTime","height","sinf","268alNFPR","tenc","CTS_OFFSET","reduce"," or stss ","4RJXNcE","mdhd","stbl","av1C","default_KID","defaultSampleFlags","keyframe","push","duration"," or stsz ","map","handlerType","entrySizes","mdia","716124HyrVLC","1239FRFlXR","1304280RXUKHS","DEFAULT_BASE_IS_MOOF","sampleRate","FLAG","baseMediaDecodeTime","trak","forEach","timescale"," or stco ","size","10PYxfpg","DEPENDS_YES","DURATION","video timescale ","index","entries","soun","video or audio track not found","offset","SAMPLE_SIZE","audio stbl not found"," or stsc ","cts","subsegment_duration","defaultSampleDuration","defaultSampleSize","sampleSize","referenced_size","SAMPLE_DUR","hdlr","length","872466wASdTk","audio timescale or stts or stsc or stsz or stco not found","samplesPerChunk","2995866CHbPOR","references","mvhd","baseDataOffset"];return(gD=function(){return t})()}!function(t,e){const s=lD,i=t();for(;;)try{if(192292===parseInt(s(496))/1*(parseInt(s(570))/2)+parseInt(s(542))/3*(parseInt(s(481))/4)+parseInt(s(507))/5*(parseInt(s(495))/6)+parseInt(s(528))/7*(parseInt(s(536))/8)+parseInt(s(531))/9+parseInt(s(497))/10+-parseInt(s(549))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(gD);var yD=AD;function AD(t,e){var s=bD();return(AD=function(t,e){return s[t-=452]})(t,e)}!function(t,e){for(var s=AD,i=t();;)try{if(997201===parseInt(s(465))/1+-parseInt(s(454))/2+-parseInt(s(463))/3+parseInt(s(464))/4+-parseInt(s(453))/5*(-parseInt(s(456))/6)+-parseInt(s(455))/7*(parseInt(s(466))/8)+parseInt(s(459))/9*(parseInt(s(452))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(bD);class vD{constructor(){_m(this,"_data",Object[AD(462)](null))}[yD(461)](t,e){this._data[t]=e}[yD(457)](t){return this._data[t]}[yD(460)](){this[yD(458)]=Object.create(null)}}function bD(){var t=["8835zzjNuy","1702850pBRwOX","7139111RSKtOs","2094yRsSGL","get","_data","10737panAPD","clear","set","create","4218654EkYZJL","5456664RBowty","437560vkWepI","8xEVUIZ","15560zRWNWE"];return(bD=function(){return t})()}const SD=ED;function ED(t,e){const s=ID();return(ED=function(t,e){return s[t-=479]})(t,e)}!function(t,e){const s=ED,i=t();for(;;)try{if(325929===-parseInt(s(535))/1*(-parseInt(s(585))/2)+parseInt(s(492))/3*(parseInt(s(541))/4)+-parseInt(s(566))/5+-parseInt(s(539))/6*(-parseInt(s(515))/7)+parseInt(s(529))/8*(-parseInt(s(548))/9)+-parseInt(s(581))/10+-parseInt(s(561))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ID);class wD{constructor(t,e){const s=ED;this[s(497)]=s(544),this[s(537)]=t,this.data=e}}class TD extends zi{constructor(t,e){const s=ED;let i=arguments[s(558)]>2&&void 0!==arguments[2]?arguments[2]:{};var r;super(),_m(this,"_transformError",(t=>t)),this[s(555)]="MP4Loader",this[s(580)]=(r=i,{vid:"",moovEnd:8e4,segmentDuration:2,maxDownloadInfoSize:30,responseType:ED(519),cache:null,...r});const{vid:n,cache:o,...a}=this[s(580)];this[s(485)]=t,this[s(582)]=e,this[s(479)]=n||a[s(538)],this[s(538)]=a[s(538)],a[s(482)]=this._transformError,this[s(509)]={},this[s(577)]=[],this[s(533)]=[],this[s(532)]=[],this[s(573)]=new vD,this[s(546)]=-1,this._currentLoadingSegmentIndex=-1,this[s(487)]=null,this[s(521)]=null,this[s(481)]=new xk(a,e),this[s(481)].on("real_time_speed",(t=>{})),this[s(582)][s(501)](this[s(555)],s(552))}async[SD(493)](){const t=SD;await this.reset(),this[t(573)][t(579)](),this[t(481)]&&(this._loader[t(493)](),this[t(481)]=null),this.player[t(501)](this[t(555)],"destroy")}get[SD(559)](){const t=SD;return this[t(533)][t(558)]||this[t(532)][t(558)]}[SD(542)](t){fD(t)&&(this._currentSegmentIndex=t)}[SD(556)](t){const e=SD;if(fD(t)){var s,i;return t>=((null===(s=this[e(533)][this[e(533)].length-1])||void 0===s?void 0:s[e(572)])||(null===(i=this.audioSegments[this[e(532)][e(558)]-1])||void 0===i?void 0:i.index)||0)}return!1}[SD(483)](t){return t===this._currentLoadingSegmentIndex}async[SD(486)](t){const e=SD;let s=arguments[e(558)]>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2?arguments[2]:void 0,r=arguments[e(558)]>3?arguments[3]:void 0;await this[e(506)](r),t&&(this[e(538)]=t),s&&(this.vid=s),i&&(this[e(580)].moovEnd=i)}async[SD(484)](t){const e=SD;return!this.isMetaLoaded&&await this[e(569)](t),this.meta}async[SD(500)](t,e,s,i){const r=SD;let[n,o]=e;this[r(521)]=!1,this[r(582)].debugLog(this[r(555)],"[loadMetaProcess start], range,",[n,o]);await this[r(518)]([n,o||this[r(580)][r(576)]],t,{onProgress:async(e,a,h)=>{const l=r;if(this[l(509)]&&null!=h&&h[l(568)]&&h[l(568)].length>0&&h[l(568)][1]>=o&&(a=!0,this[l(582)][l(501)](this[l(555)],l(563),n,o,"]")),a&&null!=h&&h.range&&h[l(568)][l(558)]>0&&h[l(568)][1]<o&&(a=!1,this[l(582)][l(501)](this[l(555)],l(560),n,o,"]")),this[l(582)][l(501)](this.TAG_NAME,"[loadMetaProcess],task,[",n,o,l(511),h[l(568)],",dataLen,",e?e[l(564)]:void 0,l(503),a,l(517),this._error),!this._error&&e&&e[l(564)]>0&&s(e,a,h),!this.meta.moov&&!this[l(521)]&&e&&e.byteLength>0){this.buffer=mD(this[l(487)],e);let r=yC.findBox(this[l(487)],[l(490)])[0];if(!r){const e=yC.findBox(this[l(487)],["mdat"])[0];if(a){if(!e)return this[l(521)]=!0,void s(null,a,h,{err:l(547)});{const s=e[l(488)]+e[l(498)],n=await this[l(518)]([s,""],t,i);n&&(r=yC[l(549)](n.data,[l(490)])[0])}}}if(r&&a&&r[l(498)]>r[l(489)].length&&(this[l(582)][l(501)](this[l(555)],l(530),h[l(568)][1],l(516),this[l(487)][l(564)],l(503),a),await this.loadMetaProcess(t,[h.range[1],r.start+r[l(498)]-1],s)),r&&r[l(498)]<=r.data.length&&!this[l(509)][l(490)]){const e=yC[l(490)](r);if(!e)return this[l(521)]=!0,void s(null,a,h,{err:l(496)});let n=dD(e,this._config[l(557)]);const o=async e=>{const s=l,r=yC[s(549)](this[s(487)],[e])[0];if(r){if(!(r[s(498)]>r[s(489)].length))return r;{const n=await this[s(518)]([r[s(488)],r[s(488)]+r.size-1],t,i);if(n)return yC.findBox(n[s(489)],[e])[0]}}};let c=!1;if(!(n&&n.videoSegments.length&&n[l(532)].length)){const t=await o(l(543));if(t){const s=yC.sidx(t);s&&(n=cD(e,s),c=!0)}}if(!n||n&&n[l(534)])return this._error=!0,void s(null,a,h,{err:l(565)+c+l(586)+(n&&n[l(583)])});this[l(509)]=pD(e,c);const{videoSegments:d,audioSegments:u}=n;this[l(533)]=d,this.audioSegments=u,this[l(582)][l(501)](this[l(555)],"[loadMetaProcess] moov ok"),s(void 0,a,{meta:{meta:this[l(509)],videoSegments:d,audioSegments:u}})}}},...i})}async loadMeta(t,e,s){const i=SD,r=[];this[i(582)][i(501)](this[i(555)],i(480));let n=await this[i(518)]([0,e||this[i(580)][i(576)]],t,s);if(!n)return;r.push(n);let o=yC[i(549)](n[i(489)],["moov"])[0];if(!o){this.player[i(501)](this.TAG_NAME,i(491));const e=yC[i(549)](n[i(489)],[i(575)])[0];if(!e)throw this.player[i(499)](this.TAG_NAME,"loadMeta()->MP4Parser.findBox() and return mdat is null throw cannot find moov or mdat box"),new wD("cannot find moov or mdat box",n.data);const a=e.start+e[i(498)];if(n=await this.loadData([a],t,s),!n)return;if(r[i(520)](n),o=yC[i(549)](n[i(489)],[i(490)],a)[0],!o)throw this[i(582)][i(499)](this[i(555)],i(540)),new wD(i(570),n[i(489)])}if(o[i(498)]>o[i(489)][i(558)]){if(n=await this.loadData([n[i(489)].length,o.start+o.size-1],t,s),!n)return;r[i(520)](n),o[i(489)]=mD(o.data,n.data)}const a=yC[i(490)](o);if(!a)throw this[i(582)][i(499)](this[i(555)],i(494)),new wD(i(496),o[i(489)]);let h,l=dD(a,this[i(580)][i(557)]);if(!l||l&&l[i(534)])throw this[i(582)][i(499)](this[i(555)],i(584)+(l&&l.msg)+i(567)),new wD("cannot parse segments",o.data);if(!l.videoSegments[i(558)]||!l[i(532)][i(558)]){const t=yC[i(549)](this[i(487)],[i(522)])[0],e=yC[i(549)](this[i(487)],[i(543)])[0];if(t&&t[i(498)]<=t[i(489)][i(558)]&&e){const s=yC[i(522)](t);h=yC[i(543)](e),s&&h&&(l=cD(a,h))}}this.meta=pD(a,h);const{videoSegments:c,audioSegments:d}=l;this[i(533)]=c,this[i(532)]=d;const u=this[i(533)][i(554)](0,100)[i(525)]((t=>{const e=i;return{s:t[e(574)],e:t.endTime,d:t[e(524)]}})),p=this[i(532)][i(554)](0,100)[i(525)]((t=>{const e=i;return{s:t[e(574)],e:t[e(578)],d:t[e(524)]}}));return this[i(582)][i(501)](this[i(555)],i(512)+this.videoSegments.length+i(531)+JSON[i(514)](u)+",\n        and audioInfo length is "+this[i(532)].length+i(531)+JSON[i(514)](p)+",\n        and next update duration "+this[i(509)][i(524)]),this[i(509)]&&this[i(485)][i(571)][i(526)](this[i(509)][i(524)]),{meta:this.meta,videoSegments:c,audioSegments:d,responses:r}}async[SD(507)](t,e){const s=SD;let i=0;for(;;){const r=await this.loadData([i,i+8-1],t,e);if(!r||!r[s(489)].length)break;const n=new DataView(r[s(489)][s(487)])[s(513)](0,!1);if(String.fromCharCode(r[s(489)][4],r.data[5],r[s(489)][6],r[s(489)][7])===s(490)){const r=await this.loadData([i,i+n-1],t,e);return r?{start:i,size:n,data:r.data,type:s(490)}:null}i+=n>0?n:8}return null}[SD(545)](t,e){const s=SD,{moov:i}=t,r=dD(i,this[s(580)][s(557)]),{videoSegments:n,audioSegments:o}=r;this[s(533)]=n,this.audioSegments=o,this._currentSegmentIndex=e,this[s(509)]=t}[SD(562)](t){const e=SD;let s,i;return this[e(533)].length?(s=this[e(533)].find((e=>e.startTime<=t&&e.endTime>t)),s&&(i=this[e(532)][s[e(572)]])):i=this[e(532)][e(502)]((s=>s[e(574)]<=t&&s[e(578)]>t)),{video:s,audio:i}}async[SD(528)](t,e){const s=SD;let i=!(arguments[s(558)]>2&&void 0!==arguments[2])||arguments[2],r=arguments[s(558)]>3&&void 0!==arguments[3]?arguments[3]:{};!this[s(559)]&&await this[s(569)](e);const{video:n,audio:o}=this[s(562)](t);return this[s(505)](n,o,e,i,r)}async[SD(553)](t){const e=SD;let s=!(arguments[e(558)]>1&&void 0!==arguments[1])||arguments[1],i=arguments[e(558)]>2&&void 0!==arguments[2]?arguments[2]:{};!this[e(559)]&&await this[e(569)]();const r=this[e(533)][this[e(546)]+1],n=this[e(532)][this[e(546)]+1];return this[e(505)](r,n,t,s,i)}async[SD(508)](t){const e=SD;if(!this.isMetaLoaded&&await this[e(569)](!0),!t||t<0)return;const{video:s,audio:i}=this.getSegmentByTime(t),r=Math[e(550)]((null==s?void 0:s[e(572)])||0,(null==i?void 0:i[e(572)])||0);if(!r)return;const n=this[e(533)][e(554)](0,r),o=this[e(532)][e(554)](0,r),a=async t=>{t>r||(await this._loadSegment(n[t],o[t],!0,!1),await a(t+1))};await a(0)}[SD(495)](){const t=SD;return this._loader[t(495)]()}async[SD(506)](){const t=SD;!(arguments[t(558)]>0&&void 0!==arguments[0]&&arguments[0])&&(this[t(582)][t(501)](this.TAG_NAME,t(504)),await this[t(481)][t(495)]()),this.vid=this.url="",this[t(509)]={},this[t(577)]=[],this[t(533)]=[],this[t(532)]=[],this[t(546)]=-1,this._currentLoadingSegmentIndex=-1}async[SD(493)](){const t=SD;await this[t(506)](),this[t(573)][t(579)]()}async[SD(505)](t,e,s,i,r){const n=SD;if(!t&&!e)return;const o=(null==t?void 0:t[n(572)])||(null==e?void 0:e[n(572)])||0;let a;this[n(527)]=o;try{a=await this.loadData([Math.min((null==t?void 0:t[n(568)][0])||1/0,(null==e?void 0:e.range[0])||1/0),Math[n(550)]((null==t?void 0:t.range[1])||0,(null==e?void 0:e[n(568)][1])||0)],s,r)}finally{this[n(527)]=-1}return a?(i&&(this[n(546)]=o),a[n(510)]=t,a[n(551)]=e,a):void 0}async[SD(518)](t,e,s){const i=SD,r=this[i(523)](t),n=await this[i(573)][i(536)](r);let o;if(n)o={data:n,state:!0,options:{fromCache:!0,range:t,vid:this[i(479)]}};else{const e=s&&s[i(538)]?s[i(538)]:this[i(538)];o=await this[i(481)].load(e,{range:t,vid:this.vid,...s})}if(o)return!n&&(o.data&&this.downloadInfo[i(520)]({startTime:o[i(574)],endTime:o.endTime,size:o[i(489)][i(564)],range:t}),this[i(577)]&&this.downloadInfo[i(558)]>this[i(580)].maxDownloadInfoSize&&(this.downloadInfo=this.downloadInfo.slice(-this[i(580)].maxDownloadInfoSize))),o}[SD(523)](t){const e=SD;return(this[e(479)]||this[e(538)])+":"+t}}function ID(){const t=[", state,","MP4loader reset func call loader.cancel","_loadSegment","reset","scanForMoov","preload","meta","video","], range,","load moov end success,\n        and videoInfo length is ","getUint32","stringify","894901aNcLng",",dataLen,",",err,","loadData","arraybuffer","push","_error","moof","_getCacheKey","duration","map","updateDuration","_currentLoadingSegmentIndex","loadSegmentByTime","3063496WaIYlK","[loadMetaProcess],moov not all, range,"," and list is ","audioSegments","videoSegments","error","16554fsStwb","get","message","url","30wbogLe","loadMeta()->MP4Parser.findBox() and return moov is null throw cannot find moov box","35276TLnaKr","setCurrentSegment","sidx","file","loadCacheMeta","_currentSegmentIndex","cannot find moov or mdat box","9VgWtVp","findBox","max","audio","init","loadNextSegment","slice","TAG_NAME","isLastSegment","segmentDuration","length","isMetaLoaded","[loadMetaProcess],data not done,setstate false,[","2417646hwgppV","getSegmentByTime","[loadMetaProcess],data done,setstate true,[","byteLength","cannot parse segments and is fmp4 ","405125OGfAuN"," and throw cannot parse segments","range","loadMeta","cannot find moov box","_bufferService","index","cache","startTime","mdat","moovEnd","downloadInfo","endTime","clear","_config","3037690FbvvRZ","player","msg","loadMeta()->moovToSegments() and error is ","74zlDUgM"," and error is ","vid","loadMeta start","_loader","transformError","isSegmentLoading","getOrLoadMeta","mp4","changeUrl","buffer","start","data","moov","loadMeta()->MP4Parser.findBox() and return moov is null and try to find mdat","21VPYrzA","destroy","loadMeta()->MP4Parser.moov() and return parsedMoov is null throw cannot parse moov box","cancel","cannot parse moov box","type","size","debugWarn","loadMetaProcess","debugLog","find"];return(ID=function(){return t})()}const kD=CD;function _D(){const t=["metadataTrack","addAudioTagHeader","postMessage","clearBuffer","initVideoTrack","audio","isInitVideo","_sendAccADTSHeader","debugLog","_isUseWorker","startPts","offset","checkInitAudio","4nyZxfz","audioListLength","_doDecodeVideo","loopWorker","codecType","length","TAG_NAME","AAC","cryptoPayloadAudio","_isDestroyed","isAudioG711u","_postMessageToLoopWorker","sampleListInfo","videoTrack","setPlayVodBufferedTime","onmessage","setFps","debugLevel","MP4VodDemux","byteLength","demuxPart","cmd","parseSamples","decodeAudio","player","_doDecodeByMp4","vps","payload","listen playVodRateChange","_opt","demux","video","errorMessage","revokeObjectURL","useEME","_videoSamples","samples","64099GxTVtt","forEach","videoSamples","cryptoPayload","mp4","correctSamplePts","updateStats","pause","_initLoopWorker","getBuferredDuration","clear","h265","isAudioMP3","start","_hasCalcFps","sampleRate","resume","data","terminate","slice","1978024tFqtey","subarray","size","2619315QxLgCw","URL","buferredDuration","485388JtalJA","pts","videoListLength","_lastRemainBufferStartPos","pps","baseMediaDecodeTime","_prevPlayVodTimeCache","isIFrame","1063668MCEkEI","warn","_calcDecodeFps","G711PCMA","isInitAudio","video seqHeader","index","destroy","sampleRateIndex","sample","push","17807193qvgetY","decoderData","duration","getSampleRange","set","timescale","init","videoSenc","debugUuid","getSampleListLength","cleanSampleList","updatePlayRate","audioSenc","moovToSamples","checkInitVideo","workerUrl","396tsgJRW","_audioSamples","loop worker is not init, can not post message","isUseMSE","isAudioAac","seekSampleRange","tempSampleListInfo","type","kidValue","isAudioG711a","geVodLoadedTime","getSampleAudioListLength","end","new Uint8Array error:,","gopId","setSeekingTime","playVodRateChange","_lastRemainBuffer","initAudioTrack","isHevc","audioSamples","max","sampleOffset","keyframe","cleanSampleListAndSetSeekTime","channelCount","cannot found video frame #","codec","playVodTimeCache","objectType","_basefps","moov is required","audioTrack","dts","reset","MP3","841173CkqrXn","sps","_doDecodeAudio","workerClearTimeout","cannot parse samples from moov box","initMetadataTrack","sort"];return(_D=function(){return t})()}function CD(t,e){const s=_D();return(CD=function(t,e){return s[t-=493]})(t,e)}!function(t,e){const s=CD,i=t();for(;;)try{if(369154===-parseInt(s(575))/1+parseInt(s(583))/2+-parseInt(s(646))/3*(parseInt(s(512))/4)+-parseInt(s(572))/5+-parseInt(s(610))/6*(parseInt(s(549))/7)+-parseInt(s(569))/8+parseInt(s(594))/9)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_D);class DD extends Cf{constructor(t){const e=CD;super(t),this[e(536)]=t,this.TAG_NAME=e(530),this.reset(),this[e(616)]={},this[e(547)]=[],this[e(611)]=[],this._lastRemainBuffer=[],this[e(525)]=DD[e(503)](),this[e(642)]=DD[e(628)](),this[e(499)]=DD[e(497)](),this._isUseWorker()&&this[e(557)](),this.player.isPlayVod()&&this[e(508)]()&&this[e(536)].on(O[e(626)],(t=>{const s=e;this[s(536)][s(507)](this[s(518)],s(540),t),this._postMessageToLoopWorker(s(605),{rate:t})})),this[e(536)].debugLog(this[e(518)],e(600))}destroy(){const t=CD;super[t(590)](),this[t(609)]&&(URL[t(545)](this[t(609)]),this[t(609)]=null),this.workerClearTimeout&&(clearTimeout(this[t(495)]),this[t(495)]=null),this[t(515)]&&(this[t(515)][t(501)]({cmd:t(590)}),this[t(515)][t(567)](),this[t(515)]=null),this[t(644)](),this[t(536)].debugLog(this.TAG_NAME,t(590))}[kD(644)](){const t=kD;this[t(547)]=null,this[t(611)]=null,this[t(627)]=null,this[t(578)]=0,this[t(581)]=0,this[t(525)]=null,this.audioTrack=null,this[t(499)]=null,this.tempSampleListInfo=null,this[t(629)]=!1,this[t(563)]=!1,this[t(640)]=25,this[t(505)]=!1,this[t(587)]=!1}static[kD(503)](){return{id:1,samples:[],sps:[],pps:[],vps:[],codec:""}}static[kD(628)](){return{id:2,samples:[],sampleRate:0,channelCount:0,codec:"",codecType:""}}static[kD(497)](){return{flvScriptSamples:[],seiSamples:[]}}[kD(534)](t){const e=kD;if(!t)throw new Error(e(641));if(!this.videoTrack[e(637)]&&!this[e(642)][e(637)]&&(yC.moovToTrack(t,this[e(525)],this.audioTrack),this[e(601)]=this[e(525)][e(601)],this[e(606)]=this[e(642)][e(606)],this[e(511)]()&&this[e(614)]()&&this._sendAccADTSHeader(this[e(642)]),this[e(608)]())){let t=null;this[e(525)][e(516)]===ft[e(560)]?this[e(525)][e(493)][e(517)]&&this[e(525)][e(538)].length&&this[e(525)][e(579)][e(517)]&&(t=Al({sps:this.videoTrack.sps[0],pps:this.videoTrack[e(579)][0],vps:this[e(525)][e(538)][0]})):this[e(525)].sps[e(517)]&&this.videoTrack[e(579)].length&&(t=Kh({sps:this[e(525)].sps[0],pps:this.videoTrack[e(579)][0]})),t&&(this[e(536)][e(507)](this[e(518)],e(588)),this[e(537)](t,x[e(543)],0,!0,0))}if(!this[e(611)][e(517)]&&!this[e(547)][e(517)]){const s=yC[e(607)](t);if(!s)throw new Error(e(496));this[e(547)]=s[e(551)]||[],this[e(611)]=s[e(630)]||[]}}[kD(542)](t,e,s,i,r){const n=kD;this[n(511)](),this[n(608)](),this[n(534)](r);const o=this.videoTrack,a=this[n(642)];let h,l,c;if(o[n(548)]=[],a.samples=[],s){let i;for(let r=s[0],a=s[1];r<=a;r++){if(h=this[n(547)][r],!h)throw new Error("cannot found video frame #"+r);c=h.offset-e,l=t.subarray(c,c+h[n(571)]),i={type:x[n(543)],dts:1e3*h[n(643)]/o.timescale,pts:1e3*(h.pts||h.dts)/o[n(599)],units:[],payload:null,isIFrame:!1},i[n(596)]=h[n(596)],i[n(624)]=h.gopId,h[n(633)]&&(i[n(582)]=!0),i[n(539)]=l,this[n(536)][n(555)]({vbps:l[n(531)]}),o.samples[n(593)](i)}o[n(580)]=o.samples[0][n(643)]}if(i){for(let s=i[0],r=i[1];s<=r;s++){if(h=this[n(611)][s],!h)throw new Error(n(636)+s);c=h.offset-e,l=t[n(570)](c,c+h[n(571)]);const i=1e3*h[n(643)]/a[n(599)],r=this[n(500)](l);this[n(536)][n(555)]({abps:l[n(531)]}),a[n(548)][n(593)]({type:x.audio,dts:i,pts:i,payload:r,duration:h.duration,size:r[n(531)]})}a[n(580)]=a[n(548)][0][n(643)]}this[n(554)](o),this[n(554)](a);const d=o[n(548)].concat(a[n(548)]);d[n(498)](((t,e)=>{const s=n;return t[s(643)]-e[s(643)]})),d[n(550)]((t=>{const e=n,s=new Uint8Array(t[e(539)]);delete t.payload,this._isUseWorker()?this[e(515)].postMessage({...t,payload:s,cmd:e(592)},[s.buffer]):t[e(617)]===x[e(543)]?this._doDecodeVideo({...t,payload:s}):t[e(617)]===x[e(504)]&&this[e(494)]({...t,payload:s})})),Si(this[n(563)])&&this[n(508)]()&&(this[n(563)]=this[n(585)](d),this._hasCalcFps&&this[n(536)].playVod[n(528)](this._basefps))}[kD(532)](t,e,s,i,r,n,o,a){const h=kD;if(this[h(511)](),this[h(608)](),this[h(534)](r),this[h(525)][h(546)]=n,this.audioTrack[h(546)]=n,this[h(627)]&&this._lastRemainBuffer[h(531)]>0&&e>this[h(578)]&&e<=this[h(578)]+this[h(627)][h(531)]){let s=0;for(;s<20;)try{const s=this[h(627)][h(570)](0,e-this[h(578)]),i=new Uint8Array(t[h(531)]+s[h(531)]);i[h(598)](s,0),i[h(598)](new Uint8Array(t),s[h(531)]),t=i,e-=s[h(531)],this[h(627)]=null,this[h(578)]=0;break}catch(t){if(!(s<20))throw new Error(h(623)+t[h(544)]);s++}}const l=this[h(525)],c=this.audioTrack;l[h(548)]=[],c.samples=[],l[h(601)]=null,c[h(606)]=null;let d,u,p,f=0,m=0;if(this[h(547)].length>0&&s[h(517)]>0){let i;const r=t.byteLength+e;for(let n=s[0];n<=s[1];n++){if(d=this[h(547)][n],!d)throw new Error(h(636)+n);d[h(510)]>=e&&d[h(510)]+d[h(571)]<=r&&(p=d.offset-e,f=p+d[h(571)],u=t.subarray(p,f),i={type:x[h(543)],dts:d[h(643)],pts:d.pts||d[h(643)],units:[],payload:null,isIFrame:!1},i[h(596)]=d.duration,i[h(624)]=d[h(624)],i.sampleOffset=d.index,d.keyframe&&(i[h(582)]=!0),i[h(539)]=u,i.size=d[h(571)],l[h(548)][h(593)](i))}l.samples.length>0&&(l.gopId=l.samples[0][h(624)],l[h(580)]=l[h(548)][0][h(643)],l[h(509)]=l.samples[0].pts/l.timescale,l.endPts=l.samples[l[h(548)][h(517)]-1][h(576)]/l.timescale,this[h(601)]&&(l[h(601)]=this[h(601)][h(568)](l[h(548)][0][h(632)],l[h(548)][0][h(632)]+l[h(548)][h(517)]),l.kidValue=o))}if(this[h(611)][h(517)]>0&&i[h(517)]>0){for(let s=i[0];s<=i[1];s++){if(d=this[h(611)][s],!d)throw new Error("cannot found video frame #"+s);if(d[h(510)]>=e&&d[h(510)]+d[h(571)]<=t[h(531)]+e){p=d[h(510)]-e,m=p+d.size,u=t[h(570)](p,m);const s=this[h(500)](u);c[h(548)].push({type:x[h(504)],dts:d.dts,pts:d[h(643)],payload:s,duration:d[h(596)],sampleOffset:d[h(589)],size:s[h(531)]})}}c[h(548)][h(517)]>0&&(c[h(624)]=c[h(548)][0][h(624)]||l.gopId,c[h(580)]=c[h(548)][0][h(643)],c.startPts=c[h(548)][0][h(576)]/c[h(599)],c.endPts=c.samples[c[h(548)][h(517)]-1].pts/c.timescale,this[h(606)]&&(c.audioSenc=this.audioSenc[h(568)](c.samples[0][h(632)],c[h(548)][0][h(632)]+c[h(548)].length),c[h(618)]=o))}this[h(595)](l,c,a),this[h(627)]=t.subarray(Math[h(631)](f,m)),this[h(627)].byteLength>0?this._lastRemainBufferStartPos=e+t[h(531)]-this[h(627)].byteLength:this[h(578)]=0}reset(){const t=kD;this._videoSamples=[],this[t(611)]=[],this._lastRemainBuffer=null,this[t(578)]=0,this[t(525)]=DD[t(503)](),this[t(642)]=DD.initAudioTrack(),this.metadataTrack=DD[t(497)]()}[kD(595)](t,e,s){}[kD(511)](){const t=kD;return this[t(587)]=!!(this[t(642)][t(564)]&&this[t(642)][t(635)]&&this[t(642)][t(637)]),this[t(587)]}[kD(614)](){const t=kD;return this[t(642)].codecType===aC[t(519)]}isAudioG711a(){const t=kD;return this.audioTrack[t(516)]===aC[t(586)]}[kD(522)](){return this[kD(642)].codecType===aC.G711PCMU}[kD(561)](){const t=kD;return this[t(642)][t(516)]===aC[t(645)]}checkInitVideo(){const t=kD;return this.isInitVideo=!!(this[t(525)][t(579)].length&&this.videoTrack.sps.length&&this.videoTrack[t(637)]),this.isInitVideo}[kD(506)](t){const e=kD,s=Ae({profile:t[e(639)],sampleRate:t[e(591)],channel:t.channelCount});this[e(536)][e(507)](this[e(518)],"audio accADTSHeader"),this[e(537)](s,x.audio,0,!0,0)}[kD(557)](){const t=kD,e=ai(G_);let s=new Worker(e);this[t(609)]=e,this[t(495)]=setTimeout((()=>{const e=t;window[e(573)][e(545)](this[e(609)]),this[e(609)]=null,this[e(495)]=null}),I),s.postMessage({cmd:t(600),options:{type:t(553),seekingMaxDiff:1e4,debug:this[t(536)]._opt.debug,debugUuid:this[t(536)][t(541)][t(602)],debugLevel:this[t(536)][t(541)][t(529)]}}),s[t(527)]=e=>{const s=t;if(this[s(521)])return;const i=e[s(566)];switch(i[s(533)]){case"decodeVideo":this[s(514)](i);break;case s(535):this[s(494)](i);break;case s(524):if(this[s(616)]=i,this[s(536)].isPlayVodNotUseMSE()){const t=this.geVodLoadedTime(),e=this[s(536)].getPlayVodDuration();if(t&&e){let i=t/(1e3*e);i!==this[s(581)]&&(this.player[s(526)](t),this.player.emit(O[s(638)],i)),this[s(581)]=i}}}},this[t(515)]=s}[kD(523)](t,e){const s=kD;this[s(536)].isUseMSE()||(this[s(515)]?this.loopWorker[s(501)]({cmd:t,...e}):this.player.debug[s(584)](this[s(518)],s(612)))}_doDecodeAudio(t){const e=kD,s=new Uint8Array(t.payload),i=this[e(520)](s);this[e(537)](i,x.audio,t[e(643)],!1,0)}[kD(514)](t){const e=kD,s=new Uint8Array(t[e(539)]);let i=null;i=t.isHevc?vl(s,t[e(582)]):qh(s,t[e(582)]),this[e(536)][e(555)]({dts:t[e(643)]});const r=t.pts-t[e(643)];i=this[e(552)](i,t[e(582)]),this[e(537)](i,x.video,t[e(643)],t[e(582)],r)}[kD(558)](){const t=kD;return this[t(616)][t(574)]||0}[kD(603)](){return this[kD(616)].allListLength||0}[kD(621)](){const t=kD;return this[t(616)][t(513)]||0}getSampleVideoListLength(){const t=kD;return this[t(616)][t(577)]||0}[kD(597)](){const t=kD;return{start:this[t(616)][t(562)]||0,end:this[t(616)][t(622)]||0}}[kD(615)](t){const e=kD;this[e(523)](e(615),{time:t})}[kD(634)](t){const e=kD;this[e(536)][e(504)]&&this.player[e(504)][e(559)](),Si(this.player[e(613)]())&&(this[e(502)](!0),this._postMessageToLoopWorker(e(604)),this._postMessageToLoopWorker(e(625),{time:t}))}[kD(556)](){const t=kD;this[t(523)](t(556))}[kD(565)](){const t=kD;this._postMessageToLoopWorker(t(565))}[kD(620)](){const t=kD;let e=0;return e=this[t(597)]()[t(622)],e}addAudioTagHeader(t){const e=kD;let s=[];this[e(614)]()?s=[175,1]:this[e(619)]()?s=[114]:this[e(522)]()?s=[130]:this[e(561)]()&&(s=[32]);const i=new Uint8Array(t[e(517)]+s[e(517)]);return i[e(598)](s,0),i[e(598)](t,s[e(517)]),i}}var RD=LD;function LD(t,e){var s=xD();return(LD=function(t,e){return s[t-=442]})(t,e)}!function(t,e){for(var s=LD,i=t();;)try{if(305615===parseInt(s(488))/1+parseInt(s(465))/2*(parseInt(s(453))/3)+-parseInt(s(490))/4*(parseInt(s(450))/5)+parseInt(s(467))/6*(parseInt(s(464))/7)+-parseInt(s(478))/8+-parseInt(s(474))/9+parseInt(s(485))/10*(parseInt(s(457))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(xD);class PD{constructor(t,e){var s=LD;this[s(469)]=s(480),this[s(448)]=t,this[s(475)]=e,this[s(486)]=new DD(e),this[s(491)]=null,this[s(475)][s(493)]()&&(this[s(491)]=this[s(475)].mseDecoder),this[s(463)]=!0,this._sourceCreated=!1}async[RD(479)](){var t=RD;this[t(491)]=null,this[t(486)]&&(this[t(486)].destroy(),this[t(486)]=null),this[t(448)]=null}[RD(461)](){var t=RD;this[t(475)][t(493)]()&&!this._mse&&(this[t(491)]=this[t(475)].mseDecoder)}async[RD(460)](t,e,s,i,r){var n=RD;if(!t||!t.length)return;if(!this[n(486)])return;let o,a;s&&(o=[s[0][n(471)],s[s[n(483)]-1][n(471)]]),i&&(a=[i[0][n(471)],i[i[n(483)]-1][n(471)]]),(o||a)&&this._demuxer[n(492)](t,e,o,a,r)}async[RD(445)](t){var e=RD;const s=this[e(448)].media;if(!this[e(491)]||!this[e(486)]||!s||!t||t<0)return;const i=s[e(455)]-t;if(i<=0)return void this[e(475)][e(443)](this[e(469)],e(451)+i+e(476));const r=CC(RC(s));if(r+1>=i)return void this[e(475)][e(443)](this[e(469)],e(470)+r+e(495)+i+" return");const n=this[e(486)];return(n[e(481)]||n[e(442)])&&(this.player[e(443)](this[e(469)],e(466)+r+", "+i+")"),this._mse[e(472)](0,i)),!0}async[RD(477)](){var t=RD;this[t(491)]&&(this._mseOpened=!1),this._sourceCreated=!1,this[t(463)]=!0}async[RD(454)](){this[RD(491)]}async[RD(482)](t){var e=RD;this.player[e(443)](this[e(469)],e(444),t),this.player.isPlayVod()&&(this[e(475)][e(484)][e(482)](t),this[e(475)][e(493)]()&&this[e(475)][e(456)]&&this[e(475)][e(456)][e(458)]&&this.player[e(456)][e(494)](t))}[RD(496)](t){var e=RD;this[e(486)][e(496)](t)}[RD(452)](t){var e=RD;this[e(486)][e(452)](t)}demuxerPause(){var t;null===(t=this[RD(486)])||void 0===t||t.pause()}[RD(462)](){var t,e=RD;null===(t=this._demuxer)||void 0===t||t[e(473)]()}[RD(468)](){var t=RD;return this[t(486)][t(468)]()}[RD(446)](){var t,e=RD;return null===(t=this._demuxer)||void 0===t?void 0:t[e(446)]()}[RD(459)](){var t,e=RD;return null===(t=this._demuxer)||void 0===t?void 0:t[e(487)]()}[RD(447)](){var t,e=RD;return null===(t=this[e(486)])||void 0===t?void 0:t[e(489)]()}[RD(497)](){var t,e=RD;return null===(t=this._demuxer)||void 0===t?void 0:t[e(449)]()}}function xD(){var t=["updateMediaSourceDuration"," + 1 >= removeEnd ","seekSampleRange","getBufferedVideoSegments","isInitVideo","debugLog","updateDuration()","evictBuffer","getBuferredDuration","getBufferedAudioSegments","mp4","getSampleVideoListLength","25XbazyI","evictBuffer() removeEnd ","cleanSampleListAndSetSeekTime","216921grknvK","endOfStream","currentTime","mseDecoder","832744GgMPXN","isStateOpen","getBufferedSegments","appendBuffer","updateMSE","demuxerResume","_needInitSegment","7lYitko","12UapRSV","evictBuffer() clearBuffer(","953382WPRfmk","getSampleRange","TAG_NAME","evictBuffer() start ","index","clearSourceBuffer","resume","2039553VEdyah","player"," <= 0 return","reset","2536176cjzlIT","destroy","MP4BufferService","isInitAudio","updateDuration","length","playVod","70YfDuEO","_demuxer","getSampleListLength","116572tTXhZq","getSampleAudioListLength","311988XQyspS","_mse","demux","isPlayVodUseMSE"];return(xD=function(){return t})()}const MD=BD;function BD(t,e){const s=FD();return(BD=function(t,e){return s[t-=225]})(t,e)}function FD(){const t=["debugLog","media"," and error is","_loadSegment() and error is","reset","error","bind","_config","595SkouJS","duration","cleanSampleListAndSetSeekTime","isSegmentLoading","_stopTick","36BhjhTZ","speedInfo","onPause","changeUrl","_loadSegment() and time is ","getBufferedVideoSegments"," and end is ","Mp4","onPause()","url","evictBuffer","_startTick","video","range","loadSource() ","index","_loadSegment() and _prevSegmentEndTime is ","resetBandwidth","loadNextSegment","audio","_loader _end()","_tick","emit","_loadSegment","byteLength","getVideoCurrentTime","frames","playVod","getAvgSpeed","isPlayVodUseMSE","meta","tickInterval","playVodPause","_emitOnLoaded","getLatestSpeed","_setPrevSegmentEndTime","$videoElement"," and segment is null so return","_end","onSeeking"," is loading so return","end","3699540sXGFjk","isPlayVod","retry","_loading"," and segment ","endOfStream","message","TAG_NAME","length","2642832cVdjdM","moov","42278CftmJQ","4JKfbjn","readyState","onSeeking() ","_reset","onPlay","player","listen playVodVideoSeekingByMse","destroy","updateMSE","addRecord","data","_bufferService","_tickTimer","min","demuxerResume","isSeeking","getDemuxAudioBufferedListLength","endTime","_bandwidthService","getTotalBits","getRenderCurrentPts","rate","isLastSegment","295155HbuUbF","preloadTime","bound","playVodVideoSeekingByMse","getDemuxVideoBufferedListLength","loadSegmentByTime"," more than ","onVideoSeeking","5365510lOYHpK","1108173GiEgxw","playVodSeek","debugError"," and return","_prevSegmentEndTime","_loader","9160libUmZ","demuxerPause","appendBuffer","getSegmentByTime"];return(FD=function(){return t})()}!function(t,e){const s=BD,i=t();for(;;)try{if(608944===-parseInt(s(273))/1*(-parseInt(s(329))/2)+parseInt(s(306))/3*(-parseInt(s(274))/4)+-parseInt(s(297))/5+parseInt(s(262))/6+parseInt(s(324))/7*(-parseInt(s(312))/8)+parseInt(s(271))/9+-parseInt(s(305))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(FD);class UD extends zi{constructor(t){const e=BD;let s=arguments[e(270)]>1&&void 0!==arguments[1]?arguments[1]:{};var i;super(),_m(this,e(304),(async t=>{const s=e;this[s(279)].debugLog(this.TAG_NAME,s(280),t),await this.onSeeking(t)})),_m(this,e(259),(async t=>{const s=e;this[s(279)].debugLog(this[s(269)],"listen playVodSeek onSeeking() "+t);const i=this[s(311)],{video:r,audio:n}=i[s(315)](t),o=r||n;if(o)if(i[s(327)](o[s(235)]))this[s(279)][s(316)](this.TAG_NAME,"onSeeking() "+t+" and segment "+o[s(235)]+s(260));else{if(this[s(317)]){const e=this[s(317)],i=function(t){const e=PC;let s=arguments[e(327)]>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t||!t[e(327)])return{start:0,end:0,buffers:[]};let r=0,n=0,o=0,a=0,h=0,l=0,c=0;const d=LC(t,i);for(let t=0,u=d[e(327)];t<u;t++){const e=d[t];if(s+i>=e[0]&&s<e[1])r=e[0],n=e[1],o=t;else{if(s+i<e[0]){a=e[0],h=e[1];break}s+i>e[1]&&(l=e[0],c=e[1])}}return{start:r,end:n,index:o,buffers:d,nextStart:a,nextEnd:h,prevStart:l,prevEnd:c,currentTime:s,behind:s-r,remaining:n?n-s:0,length:xC(d)}}(RC(e),t,.1);if(i.end&&(i[s(261)]>=o.endTime||i[s(261)]>=e[s(325)]))return void this[s(279)][s(316)](this[s(269)],s(276)+t+s(226)+i[s(261)]+s(266)+o[s(235)]+s(260))}this[s(285)][s(326)](t),await i.cancel(),this[s(265)]=!1,this._setPrevSegmentEndTime(0),await this._loadSegment(t),this[s(231)]()}else this.player.debugLog(this.TAG_NAME,"onSeeking() "+t+s(257))})),_m(this,e(241),(async()=>{const t=e;if(this[t(328)](),this[t(231)](this._config.tickInterval),this[t(317)]){const e=this[t(317)];if(function(t){const e=PC;return t&&t[e(327)]?1===t[e(327)]&&t.end(0)-t[e(329)](0)<1e-6?0:t[e(332)](t[e(327)]-1):0}(RC(e))<.1||!e[t(275)])return;Li(e)&&this._loadSegment()}else this[t(243)]()})),this.TAG_NAME=e(227),this[e(279)]=t,this[e(310)]=0,this[e(286)]=null,this[e(265)]=!1,this._config=(i=s,Object.assign({tickInterval:500,preloadTime:10,bufferBehind:10,segmentDuration:void 0,url:"",retry:3,retryDelay:100},i)),this[e(285)]=new PD(this,t),this[e(292)]=new k_,this[e(311)]=new TD(this,this.player,{url:s[e(229)],retry:s[e(264)],retryDelay:s.retryDelay}),this[e(317)]=null,this[e(299)]={onVideoSeeking:this[e(304)].bind(this),onSeeking:this[e(259)][e(322)](this)},this[e(279)][e(263)]()&&(this[e(279)].on(O[e(252)],(t=>{const s=e;t?this[s(331)]():this[s(278)]()})),this[e(279)][e(249)]()?(this[e(317)]=this[e(279)][e(232)][e(256)],this[e(279)].on(O[e(300)],this[e(299)][e(304)])):this[e(279)].on(O[e(307)],this[e(299)][e(259)])),this[e(279)][e(316)](this.TAG_NAME,"init")}async[MD(281)](){const t=MD;await this[t(277)](),await this[t(285)][t(281)](),await this._loader.destroy(),this[t(292)][t(281)](),this[t(285)]=null,this._loader=null,this._bandwidthService=null,this[t(299)]=null,this[t(279)][t(316)](this[t(269)],t(281))}async[MD(277)](){const t=MD;this[t(328)](),await this._loader[t(320)](),await this[t(285)][t(320)](),this._prevSegmentEndTime=0,this[t(265)]=!1,this[t(292)][t(320)]()}async loadSource(t){const e=MD;this[e(279)][e(316)](this[e(269)],e(234)+t),this[e(285)][e(282)](),t&&await this._loader[e(332)](t),this[e(231)](this[e(323)][e(251)]),await this._loadSegment(0)}async[MD(243)](t){const e=MD;var s,i,r,n;if(this[e(265)])return;let o=this[e(279)][e(294)]();o/=1e3;let a=this[e(279)][e(247)][e(295)];this.player[e(247)][e(289)](),this[e(279)][e(249)]()&&(o=this[e(279)][e(245)](),a=Math.min(a,8));const h=this._config[e(298)]*a+o;if(this._prevSegmentEndTime&&this[e(310)]>h)return void this[e(279)][e(316)](this[e(269)],e(236)+this._prevSegmentEndTime+" and current time is "+o+e(303)+h+e(309));let l;this[e(265)]=!0;try{l=null!=t?await this[e(311)][e(302)](t):await this._loader[e(238)]()}catch(s){this.player[e(308)](this[e(269)],e(333)+t+e(318),s[e(268)]),this[e(242)](Yt[e(321)],s[e(268)])}if(!l)return void(this[e(265)]=!1);this[e(253)](l);const c=Math[e(287)]((null===(s=l[e(232)])||void 0===s?void 0:s[e(291)])||1/0,(null===(i=l[e(239)])||void 0===i?void 0:i[e(291)])||1/0);this[e(255)](c);try{var d,u;await this._bufferService[e(314)](l[e(284)],l.options[e(233)][0],null===(d=l[e(232)])||void 0===d?void 0:d[e(246)],null===(u=l.audio)||void 0===u?void 0:u[e(246)],this[e(311)][e(250)][e(272)]),await this[e(285)][e(230)](this._config.bufferBehind)}catch(t){this.player[e(308)](this[e(269)],e(319),t.message),this[e(242)](Yt[e(321)],t.message)}finally{this[e(265)]=!1}this[e(311)][e(296)]((null===(r=l.video)||void 0===r?void 0:r[e(235)])||(null===(n=l[e(239)])||void 0===n?void 0:n[e(235)])||0)?this[e(258)]():this._loadSegment()}[MD(258)](){const t=MD;this.player[t(316)](this.TAG_NAME,t(240)),this[t(285)][t(267)](),this[t(328)]()}_emitOnLoaded(t){const e=MD,{data:s,response:i,options:r}=t,{firstByteTime:n,startTime:o,endTime:a,contentLength:h}=r||{},l=a-o;this[e(292)][e(283)](h||s[e(244)],l)}[MD(237)](){const t=MD;this[t(292)][t(320)]()}[MD(255)](t){this[MD(310)]=t}[MD(231)](){const t=MD;let e=arguments[t(270)]>0&&void 0!==arguments[0]?arguments[0]:0;this[t(328)](),this._tickTimer=setTimeout(this[t(241)],e)}[MD(328)](){const t=MD;this[t(286)]&&(clearTimeout(this[t(286)]),this[t(286)]=null)}[MD(331)](){const t=MD;this[t(279)].debugLog(this[t(269)],t(228)),this[t(285)][t(313)](),this[t(328)]()}async[MD(278)](){const t=MD;this.player.debugLog(this[t(269)],"onPlay()"),this[t(285)][t(288)](),await this._loadSegment(),this._startTick()}[MD(330)](){const t=MD;return{speed:this[t(292)][t(254)](),avgSpeed:this[t(292)][t(248)](),totalBits:this._bandwidthService[t(293)]()}}getDemuxBuferredDuration(){return this[MD(285)].getBuferredDuration()||0}getDemuxBufferedListLength(){return this[MD(285)].getBufferedSegments()||0}[MD(290)](){return this[MD(285)].getBufferedAudioSegments()||0}[MD(301)](){const t=MD;return this[t(285)][t(225)]()||0}}const OD=jD;function ND(){const t=["videoCodec","mdia","hev","getDemuxAudioBufferedListLength","error","mp4a","15504ceedml","codec","forEach","start","55180YCJsPW","handlerType","initVideoPlay","h265","1944972zQMVDp","eventsDestroy","player","indexOf","audioTrack","_loader","play","load","3789fnCOaY","totalBits","Mp4Decoder","$videoElement","url","soun","data","playVodPause","audioCodec","destroy","ulaw","_stopBandwidthEstimateInterval","112bKnXmT","autoplay","findBox","size","G711U","isUseVideoPlay","stbl","h264","924qaxyKk","sampleRate","channelCount","src","172CGEqES","entries","canVideoPlay","minf","TAG_NAME","playVodMp4UseSrcError","video","loadSource() ","AAC","bandwidthEstimateInterval"," and not support","emitError","_checkVideoCanPlay","hdlr","playVodMp4Error","debugLog","trak","emit","getDemuxBufferedListLength","G711A","loadSource","find","mdat"," _checkVideoCanPlay and isHevc is ","hvc","alaw","videoTrack","2012750fIWpcK","bandwidthLastTime","328437GaSQYB","54ppmjZS","457520OVdvkh","length","_startBandwidthEstimateInterval","resetBandwidth","mp4","moov"];return(ND=function(){return t})()}function jD(t,e){const s=ND();return(jD=function(t,e){return s[t-=389]})(t,e)}!function(t,e){const s=jD,i=t();for(;;)try{if(357876===parseInt(s(421))/1*(-parseInt(s(445))/2)+-parseInt(s(392))/3*(-parseInt(s(405))/4)+parseInt(s(389))/5+parseInt(s(413))/6+-parseInt(s(393))/7+parseInt(s(433))/8*(-parseInt(s(391))/9)+parseInt(s(409))/10*(parseInt(s(441))/11))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ND);class VD extends zi{constructor(t){const e=jD;super(),this[e(415)]=t,this[e(449)]=e(423),this[e(447)]=!1,this[e(424)]=this[e(415)][e(451)][e(424)],this[e(397)]=null,this[e(414)]=[],this.bandwidthEstimateInterval=null,this.bandwidthLastTime=0,this[e(399)]="",this.audioCodec="",this[e(417)]={sampleRate:0,channelCount:0,codec:"",codecType:""},this.videoTrack={codec:""},this._loader=null,this[e(415)]._opt.playVodMp4UseSrc?this[e(447)]=!0:(this.mp4=new UD(t),this._bindEvents()),this[e(415)][e(460)](this.TAG_NAME,"init")}async[OD(430)](){const t=OD;return this[t(432)](),this[t(418)]&&(this[t(418)][t(430)](),this[t(418)]=null),this[t(397)]&&(await this.mp4[t(430)](),this[t(397)]=null),this[t(414)].length&&(this[t(414)][t(407)]((t=>t())),this[t(414)]=[]),this.audioCodec=null,this.videoCodec=null,this[t(471)]=null,this[t(417)]=null,this.$videoElement=null,this[t(415)][t(460)](this.TAG_NAME,t(430)),!0}async[OD(411)](t){const e=OD;return await this[e(457)](t)?(this.$videoElement[e(434)]=!0,this[e(424)][e(444)]=t,this.player.on(O[e(428)],(t=>{const s=e;t?this.$videoElement.pause():this[s(424)][s(419)]()}))):this[e(415)][e(456)](V[e(450)]),!0}async[OD(457)](t){const e=OD,s=Ts()||Is();us(),!this[e(418)]&&(this[e(418)]=new xk({responseType:"arraybuffer"},this.player));let i=await this[e(418)].load(t,{range:[0,8e4]});if(!i)return!1;let r=yC[e(435)](i[e(427)],[e(398)])[0];if(!r){const s=yC[e(435)](i[e(427)],[e(467)])[0];if(!s)return!1;const n=s[e(408)]+s.size;if(i=await this._loader[e(420)](t,{range:[n]}),!i)return!1;if(r=yC[e(435)](i.data,[e(398)],n)[0],!r)return!1}if(r[e(436)]>r[e(427)][e(394)]){if(i=await this[e(418)][e(420)](t,{range:[i[e(427)][e(394)],r[e(408)]+r[e(436)]-1]}),!i)return!1;r[e(427)]=xi(r[e(427)],i[e(427)])}const n=yC[e(398)](r);if(!n)return!1;const o=pD(n),a=o[e(429)],h=o[e(399)];this[e(415)][e(460)](this[e(449)],"_checkVideoCanPlay and videoCodec is "+h+", audioCodec is "+a);let l=!1;this[e(399)]=K[e(440)],h&&(-1!==h.indexOf(e(401))||-1!==h[e(416)](e(469)))&&(l=!0,this[e(399)]=K[e(412)]);let c=!1;if(a){const t=n[e(461)][e(466)]((t=>{const s=e;var i,r;return(null===(i=t[s(400)])||void 0===i||null===(r=i[s(458)])||void 0===r?void 0:r[s(410)])===s(426)}));if(-1!==a[e(416)]("mp3")){if(this[e(429)]=Y.MP3,this[e(417)].codec=Y.MP3,t){const s=t[e(400)][e(448)][e(439)].stsd[e(446)][0];this.audioTrack[e(442)]=s[e(442)],this[e(417)][e(443)]=s[e(443)]}}else if(-1!==a.indexOf(e(404))){if(this.audioCodec=Y[e(453)],this[e(417)][e(406)]=Y[e(453)],t){const s=t.mdia[e(448)].stbl.stsd[e(446)][0];this.audioTrack.sampleRate=s[e(442)],this[e(417)].channelCount=s[e(443)]}}else-1!==a[e(416)](e(431))?(c=!0,this[e(429)]=Y[e(437)],this[e(417)][e(406)]=Y[e(437)],this.audioTrack[e(442)]=8e3,this[e(417)][e(443)]=1):-1!==a.indexOf(e(470))&&(c=!0,this[e(429)]=Y.G711A,this[e(417)][e(406)]=Y[e(464)],this[e(417)][e(442)]=8e3,this[e(417)].channelCount=1)}return!(l&&Si(s)||c)||(this[e(415)][e(460)](this[e(449)],e(468)+l+" and isSupportHevc is "+s+", isG711 is "+c+e(455)),!1)}_bindEvents(){const t=OD;this[t(397)].on(Yt[t(403)],(e=>{const s=t;this.player[s(456)](V[s(459)],e)}))}[OD(395)](){const t=OD;this[t(432)](),this[t(390)]=ts(),this[t(454)]=setInterval((()=>{const e=t;if(!this.mp4)return;const s=this[e(397)].speedInfo()[e(422)],i=ts(),r=s/(i-this[e(390)])*1e3;this[e(415)][e(462)](O.kBps,(r/1e3).toFixed(2)),this[e(397)][e(396)](),this.bandwidthLastTime=i}),1e3)}[OD(432)](){const t=OD;this.bandwidthEstimateInterval&&(clearInterval(this[t(454)]),this[t(454)]=null),this.bandwidthLastTime=0}async[OD(465)](t){const e=OD;return this[e(425)]=t,this[e(447)]?(this[e(415)][e(460)](this[e(449)],"loadSource and canVideoPlay and use video src to play",t),await this[e(411)](t)):(this[e(415)][e(460)](this[e(449)],e(452)+t),await this[e(397)][e(465)](t),this[e(395)]()),!0}[OD(463)](){const t=OD;let e=0;return this[t(397)]&&(e=this[t(397)][t(463)]()),e}[OD(402)](){const t=OD;let e=0;return this.mp4&&(e=this.mp4[t(402)]()),e}getDemuxVideoBufferedListLength(){let t=0;return this[OD(397)]&&(t=this.mp4.getDemuxVideoBufferedListLength()),t}[OD(463)](){const t=OD;let e=0;return this[t(397)]&&(e=this[t(397)][t(463)]()),e}[OD(438)](){return this.canVideoPlay}}const WD=GD;function GD(t,e){const s=zD();return(GD=function(t,e){return s[t-=104]})(t,e)}function zD(){const t=["isPlaybackStreamEnd","isUseLocalCalculateTime","audio","emitPlaybackPrecisionForNormal","_localCalculateTimeInterval"," and\n        video encode code is ","playbackRateChange","pause","check stats and is playback use mse and check is ended","clearStatsInterval","_opt"," * ","add","useWCS","endTimestamp","is1Min","playbackPause","fiveMin","classList","decoderWorker","startCheckStatsInterval","playbackSeek","hour","4115482CrvbBB","_currentLocalTimestamp","rate","2793480lVpFSZ","2980542CHKHiY"," and\n        isFFmpegSIMD is ","startTime","Playback","startTimestamp","debugLog","forEach","updateVideoCurrentTimeByBufferStart","_playbackTs","increaseLocalTimestamp","remove","_checkStatsInterval","_reset","_videoTimestamp","initPlaybackList","streamBuffer"," and\n        useSIMD is ","isCacheBeforeDecodeForFpsRender"," and check is ended","is30Min","updateLocalOneFrameTimestamp","length","timestamp","_rate","isFFmpegSIMD","bound","13096MCdrTo","_isEndedInner","_startfpsTime","_isUseLocalCalculateTime","32eiqIvK","setShowPrecision","playbackShowPrecisionChange","_playStartTime","is10Min","playbackPrecision","is60Min"," and\n        calcForwardMaxRateDecodeIFrame is ","end","isEnded"," , playbackStreamBufferByteLength is ","controlType","_renderFps","isPlaying","totalDuration","_startFpsTimestamp","$container","updateForwardMaxRateDecodeIFrame","currentTimeScroll","_startLocalCalculateTime","_localOneFrameTimestamp","setShowPrecision()","isPlaybackH24","365335egohep","resume","calcPlaybackForwardMaxRateDecodeIFrame","duration","stopLocalCalculateTime"," and\n        useMThreading is ","_startTime","controlType is not in [normal,simple]","normal","isUseFpsRender","showControl"," and\n        useWasm is ","uiUsePlaybackPause","constructor()","showPrecision","_totalDuration","destroy","timestamp ","_calcFps","start","isControlTypeSimple","setStartTime","jb-pro-container-playback","playbackTime","more","_showPrecision","useSIMD","_prevPlayingTimestamp","isPlaybackPauseClearCache","stats","emit","playbackForwardMaxRateDecodeIFrame","isPlaybackPauseNotClearCacheAndCacheBeforeDecode","seek","setPlayingTimestamp","endTime","videoCurrentTimeDiff","min","calcPlaybackForwardMaxRateDecodeIFrame() and\n        useWCS is ","true","_playbackListStartTimestamp","playingTimestamp","halfHour","useWasm","_playingTimestamp","second","_isUseFpsRender","check stats and is playback use (wasm or wcs) and playbackCacheDataDuration is ","TAG_NAME","playbackTimestamp","simple","bufferSize","oneHour","_fps","tenMin","_findMoreInfoByTimestamp"," > this.totalDuration ","_isCacheBeforeDecodeForFpsRender","init","2096382kMcwyJ","playbackList","height","indexOf","type is not in PLAYBACK_CONTROL_TIME_PRECISION_ARRAY","playbackEndInner","player","isPlaybackSimple","isRateMoreThanMaxRateDecodeIFrame","_listen","playList","_isPlaybackPauseClearCache","is5Min","video","videoCurrentTime","narrowPrecision","_startLocalCalculateTime()","bind","fps","encType","510100rwsKjr","calcPlaybackForwardMaxRateDecodeIFrame is true and next calc","playbackTimeScroll","debugWarn","useMThreading","_isTimeInPlaybackList","isCurrentTimeInBufferEnd","isPlaybackUseMSE","14463oNwYyN","updateStats and videoCurrentTimeDiff is 0 and\n            videoCurrentTime is ","updateStats","localOneFrameTimestamp","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","stringify","_stopLocalCalculateTime","calcForwardMaxRateDecodeIFrame","videoInfo","once","mseDecoder","hasRecord","time","seek()"];return(zD=function(){return t})()}!function(t,e){const s=GD,i=t();for(;;)try{if(537194===-parseInt(s(189))/1+parseInt(s(169))/2+-parseInt(s(238))/3+parseInt(s(268))/4*(-parseInt(s(110))/5)+-parseInt(s(237))/6+-parseInt(s(234))/7+parseInt(s(264))/8*(parseInt(s(197))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(zD);class HD extends zi{constructor(t,e){const s=GD;if(super(),this[s(175)]=t,this[s(158)]=s(241),this[s(175)].$container[s(229)][s(223)]("jb-pro-container-playback"),this._reset(),this[s(163)]=parseInt(e[s(187)],10)||t[s(221)].playbackFps,this[s(156)]=!!bi(e.isUseFpsRender),this.controlType=e[s(279)]||y[s(118)],e.controlType&&-1===[y[s(118)],y.simple][s(172)](e[s(279)])&&(this[s(175)][s(192)](this[s(158)],s(123),s(117),e[s(279)]),this[s(279)]=y[s(118)]),this[s(107)]=e[s(200)]||40,this[s(215)]=null,this[s(267)]=!!bi(e[s(212)]),this[s(180)]=!Si(e[s(138)]),this[s(167)]=!!bi(e[s(255)]),this[s(249)]=null,this[s(265)]=!1,this[s(263)]={updateStats:this[s(199)][s(186)](this),calcPlaybackForwardMaxRateDecodeIFrame:this[s(112)][s(186)](this)},this._isUseLocalCalculateTime?this[s(106)]():this[s(178)](),this._totalDuration=0,this[s(279)]===y.normal)this[s(252)](e[s(179)],e.showPrecision,e[s(240)]);else if(this.controlType===y.simple){e[s(113)]&&(this[s(125)]=1e3*e[s(113)]);let t=e[s(240)]||0;t>this[s(282)]&&(t=this.totalDuration),this.setStartTime(t)}this[s(175)].on(O[s(227)],(t=>{const e=s;t?this[e(218)]():this[e(111)]()}));const i={fps:this[s(163)],isUseFpsRender:this[s(156)],localOneFrameTimestamp:this[s(107)],isUseLocalCalculateTime:this._isUseLocalCalculateTime,uiUsePlaybackPause:e[s(122)],showControl:e[s(120)]};this[s(204)]=this[s(175)][s(221)].playbackForwardMaxRateDecodeIFrame,this[s(175)][s(221)][s(112)]&&(this.player[s(243)](this[s(158)],s(168),s(190)),this[s(175)][s(206)](O[s(205)],this[s(263)][s(112)]));try{t[s(243)](this.TAG_NAME,"init",JSON[s(202)](i))}catch(e){t[s(243)](this[s(158)],s(168),i)}}[WD(126)](){const t=WD;this[t(203)](),this.clearStatsInterval(),this[t(250)](),this.player[t(284)]&&this[t(175)][t(284)][t(229)][t(248)](t(132)),this.off(),this._isEndedInner=!1,this.bound=null,this[t(175)][t(243)](this[t(158)],"destroy")}[WD(250)](){const t=WD;this[t(116)]=null,this._showPrecision=null,this[t(271)]=null,this[t(154)]=null,this._prevPlayingTimestamp=null,this[t(125)]=0,this._audioTimestamp=0,this[t(251)]=0,this[t(163)]=null,this[t(128)]=null,this[t(156)]=!1,this[t(261)]=1,this[t(170)]=[],this[t(150)]=null,this.calcForwardMaxRateDecodeIFrame=null,this[t(235)]=0,this._startfpsTime=null,this[t(283)]=null,this[t(280)]=0,this._playbackTs=0,this[t(125)]=0}[WD(178)](){const t=WD;this[t(175)].on(O.currentPts,(e=>{const s=t,i=e;null===this[s(271)]&&(this[s(175)].debugLog(this[s(158)],"init _playStartTime ts is "+i),this[s(271)]=i);let r=i-this[s(271)];this[s(144)](r)})),this[t(175)].on(O[t(139)],(e=>{const s=t;if(!this[s(175)][s(227)]&&(this[s(175)][s(196)]()&&this[s(175)][s(281)]()&&0===e.videoCurrentTimeDiff&&(this.player[s(192)](this[s(158)],s(198)+e[s(183)]+"\n            and next update video currentTime"),this[s(175)][s(207)][s(245)]()),this[s(175)][s(211)]()&&this[s(175)][s(281)]()))if(this.player[s(196)]()){const t=0===e[s(146)];this[s(175)].mseDecoder[s(195)]()&&t&&(this[s(175)][s(243)](this[s(158)],s(219)),this[s(265)]=!0,this.player[s(140)](O[s(174)]))}else{const t=e.playbackCacheDataDuration,i=e[s(253)];0===t&&i<500&&(this[s(175)][s(243)](this[s(158)],s(157)+t+s(278)+i+s(256)),this[s(265)]=!0,this[s(175)].emit(O.playbackEndInner))}}))}[WD(218)](){this[WD(220)]()}[WD(111)](){this.startCheckStatsInterval()}[WD(199)](){const t=WD;let e=arguments[t(259)]>0&&void 0!==arguments[0]?arguments[0]:{};!this[t(283)]&&(this[t(283)]=Je()),Ps(e.ts)&&(this[t(175)].updateStats({fps:!0,ts:e.ts}),this._playbackTs=e.ts,!this[t(266)]&&(this[t(266)]=e.ts),this[t(280)]+=1);const s=Je(),i=s-this[t(283)];if(i<1e3)return;let r=null;this[t(266)]&&(r=this[t(246)]-this[t(266)]),this.player[t(140)](O.playbackStats,{fps:this[t(280)],rate:this[t(236)],start:this[t(266)],end:this[t(246)],timestamp:i,dataTimestamp:r,audioBufferSize:this[t(175)][t(213)]?this[t(175)][t(213)][t(161)]:0,videoBufferSize:this.player[t(182)]?this.player[t(182)][t(161)]:0,ts:this._playbackTs}),this[t(280)]=0,this[t(266)]=this[t(246)],this[t(283)]=s}[WD(258)](t){this[WD(107)]=t}[WD(106)](){const t=WD;this[t(175)][t(243)](this.TAG_NAME,t(185)),this._stopLocalCalculateTime(),this[t(215)]=setInterval((()=>{const e=t,s=this._currentLocalTimestamp;null===this[e(271)]&&(this[e(271)]=s);let i=s-this[e(271)];this[e(144)](i)}),1e3)}[WD(231)](){this[WD(220)](),this._checkStatsInterval=setInterval(this.bound.updateStats,1e3)}[WD(114)](){this._stopLocalCalculateTime()}_stopLocalCalculateTime(){const t=WD;this[t(215)]&&(clearInterval(this[t(215)]),this._localCalculateTimeInterval=null)}[WD(220)](){const t=WD;this[t(249)]&&(clearInterval(this[t(249)]),this[t(249)]=null)}[WD(247)](){const t=WD;this[t(267)]&&(this[t(235)]+=this._localOneFrameTimestamp)}[WD(252)](t,e,s){const i=WD;this[i(170)]=t||[];let r=0;if(this[i(170)][i(244)](((t,e)=>{const s=i;10===zs(t[s(129)])?(t[s(242)]=1e3*t[s(129)],t[s(240)]=fs(t[s(242)])):(t[s(242)]=t.start,t[s(240)]=fs(t[s(242)])),10===zs(t.end)?(t.endTimestamp=1e3*t[s(276)],t[s(145)]=fs(t[s(225)])):(t[s(225)]=t[s(276)],t[s(145)]=fs(t.endTimestamp)),t.duration=t.end-t[s(129)],r+=t[s(113)]})),this._totalDuration=r,this[i(175)].debugLog(this[i(158)],this[i(170)]),this.playbackList[i(259)]>0){const t=this[i(170)][0][i(242)];this[i(150)]=t;let e=t;s&&(10===zs(s)&&(s*=1e3),this._isTimeInPlaybackList(s)&&(e=s)),this[i(131)](e)}const n=e||ot.oneHour;this[i(269)](n)}get[WD(282)](){return(this[WD(125)]||0)/1e3}get startTime(){return this._startTime||0}[WD(131)](t){const e=WD;this.player[e(243)](this.TAG_NAME,"setStartTime()",t),this[e(116)]=t,this._playingTimestamp=t,this[e(137)]=null,this[e(271)]=null}setRate(t){const e=WD;this._rate=t,this.player.emit(O[e(217)],t)}get[WD(187)](){return this._calcFps||this._fps}get[WD(236)](){return this[WD(261)]}get[WD(119)](){return this._isUseFpsRender}get[WD(212)](){return this[WD(267)]}get[WD(124)](){return this[WD(135)]}get[WD(274)](){const t=WD;return this.showPrecision===ot[t(162)]}get[WD(257)](){const t=WD;return this.showPrecision===ot[t(152)]}get[WD(272)](){const t=WD;return this[t(124)]===ot[t(164)]}get[WD(181)](){const t=WD;return this.showPrecision===ot[t(228)]}get[WD(226)](){const t=WD;return this.showPrecision===ot[t(228)]}get[WD(138)](){return this[WD(180)]}get[WD(255)](){return this[WD(167)]}setShowPrecision(t){const e=WD;!ht.includes(t)&&(this[e(175)][e(192)](this[e(158)],e(108),e(173),t),t=ot[e(162)]),this[e(135)]&&this[e(135)]===t||(this._showPrecision=t,this.emitPlaybackPrecisionForNormal())}[WD(214)](){const t=WD;this[t(109)]()&&(this[t(175)][t(140)](O[t(273)],this[t(135)],this.playbackList),this.player[t(140)](O[t(270)],this._showPrecision))}[WD(144)](t){const e=WD;let s;if(this[e(279)]===y[e(118)]){if(s=this[e(240)]+t,this._playingTimestamp=s,null!==this._prevPlayingTimestamp&&this[e(154)]-this[e(137)]<1e3)return;if(null===this._prevPlayingTimestamp||null!==this[e(137)]&&this[e(154)]>this[e(137)]){this[e(175)].emit(O.playbackTime,s);const t=function(t){const e=ze;return 0===arguments[e(569)]?null:(typeof t===e(698)?s=t:(10===(""+t)[e(569)]&&(t=1e3*parseInt(t)),t=+t,s=new Date(t)),{year:s[e(843)](),month:s[e(643)]()+1,data:s.getDate(),hour:s[e(741)](),min:s[e(790)](),second:s[e(735)](),ms:s.getMilliseconds(),day:s[e(677)]()});var s}(s);this.player.emit(O[e(159)],{ts:s,hour:t[e(233)],min:t[e(147)],second:t.second}),this._prevPlayingTimestamp=this[e(154)]}}else this.controlType===y.simple&&(s=this.startTime+Math.round(t/1e3),s>this[e(282)]&&this[e(282)]>0&&(this.player[e(243)](this.TAG_NAME,"setPlayingTimestamp()",e(127)+s+e(166)+this.totalDuration),s=this[e(282)]),this._playingTimestamp=s,(null===this[e(137)]||null!==this[e(137)]&&this[e(154)]>this[e(137)])&&(this.player.emit(O[e(133)],s),this.player[e(140)](O[e(159)],{ts:s}),this[e(137)]=this[e(154)]))}get[WD(151)](){return this._playingTimestamp}[WD(184)](){const t=WD,e=ht[t(172)](this[t(124)])-1;if(e>=0){const s=ht[e];this[t(269)](s)}}expandPrecision(){const t=WD,e=ht[t(172)](this[t(124)])+1;if(e<=ht[t(259)]-1){const s=ht[e];this[t(269)](s)}}[WD(143)](t){const e=WD;if(this[e(175)].debugLog(this.TAG_NAME,e(210),t),this[e(279)]===y.normal){if(t[e(208)]===e(149)){let s=t[e(209)];t.type===e(147)&&(s=60*t[e(209)]);let i=function(t){let e={};t>-1&&(e={hour:Math[ze(524)](t/60/60)%60,min:Math.floor(t/60)%60,second:t%60});return e}(s);if(this._playbackListStartTimestamp){const t=new Date(this[e(150)]).setHours(i.hour,i[e(147)],i[e(155)],0);i[e(260)]=t;const s=this[e(165)](t);i&&s.more&&(i[e(134)]=s[e(134)])}this[e(175)][e(140)](O[e(232)],i)}}else if(this.controlType===y[e(160)]){let s=t[e(209)];this[e(175)].emit(O[e(232)],{ts:s})}}[WD(105)](){const t=WD;this[t(175)][t(140)](O[t(191)])}[WD(165)](t){const e=WD;let s=null;return this[e(170)][e(244)](((i,r)=>{i[e(242)]<=t&&i.endTimestamp>=t&&(s=i)})),s}[WD(194)](t){const e=WD;let s=!1;return this[e(170)][e(244)](((i,r)=>{const n=e;i[n(242)]<=t&&i[n(225)]>=t&&(s=!0)})),s}calcPlaybackForwardMaxRateDecodeIFrame(t){const e=WD,s=this.player._opt;let i=Pi(t,{useWCS:s.useWCS,useWasm:s[e(153)],useSIMD:s[e(136)],isFFmpegSIMD:s[e(262)],useMThreading:s.useMThreading});this.player[e(243)](this[e(158)],e(148)+this[e(175)][e(221)][e(224)]+e(121)+this[e(175)][e(221)][e(153)]+e(254)+this[e(175)][e(221)].useSIMD+e(239)+this[e(175)][e(221)].isFFmpegSIMD+e(115)+this[e(175)][e(221)][e(193)]+" and\n        video info is "+t.width+e(222)+t[e(171)]+e(216)+t[e(188)]+e(275)+i),this[e(204)]=i,this.player.decoderWorker&&this.player[e(230)][e(104)](i)}getControlType(){return this[WD(279)]}[WD(277)](){return bi(this._isEndedInner)}isControlTypeNormal(){const t=WD;return this[t(279)]===y[t(118)]}[WD(130)](){const t=WD;return this.controlType===y[t(160)]}isPlaybackPauseNotClearCacheAndCacheBeforeDecode(){const t=WD;return Si(this[t(138)])&&this[t(255)]}[WD(201)](){return this[WD(142)]()&&this.isUseFpsRender}[WD(177)](){const t=WD;return this[t(175)][t(221)].calcPlaybackForwardMaxRateDecodeIFrame?this[t(236)]>this[t(204)]:this.rate>=this.player._opt[t(141)]}[WD(109)](){return this[WD(279)]===y.normal}[WD(176)](){const t=WD;return this.controlType===y[t(160)]}}const KD=qD;function qD(t,e){const s=YD();return(qD=function(t,e){return s[t-=189]})(t,e)}function YD(){const t=["scale(","handleMouseDown","deltaY","gesturestart","jb-pro-zoom-control","$videoElement","top","down","updateVideoElementScaleByResize","offsetTop","scale","videoPosition","transform","updateVideoPosition","zoom","cursor","wheel","117nRIicV","init","zooming","pageX","23956NuuRaP","zoomSupportGestureInMobileSpeed","1624336WCeszW","offsetHeight","handleMouseMove","vertical","updatePrevVideoElementStyleScale","classList","getScale","_resetVideoPosition","isDragging","isGesturing","atan2","grab","prevVideoElementStyleScale","TAG_NAME","stopPropagation","auto","bound","preventDefault","offsetLeft","video","455856bcescM","isMobileFullscreenChangeRotate","_unbindEvents","_isZooming","6MNGiIW","left","expandPrecision","handleMouseUp","497452tZuHSK","canvas","30ictqDz","maxTop","initVideoPosition","prevGestureScale","handleGestureChangeForAndroid","isZooming","_bindEvents","getMinAndMaxRange","zoomSupportWheelInPcSpeed"," scale(","5532615oRqKkV","tempPosition","length","18HzVpMl","debugLog","zoomSupportWheelInPc","player","handleGestureChange","minTop","handleWheelChange","fullscreen","16957920femTCT","handleGestureStartForAndroid","boundHandleGestureChangeThrottle","updateInitVideoPosition","gestureend","resize","bindEvents","$container","checkPosition","handleWheelChangeThrottle","handleGestureEndForAndroid","minLeft","currentZoom","860sDVvwf","matches","pageY","destroy","handleGestureChangeThrottle","off","touchend","horizontal","handleMouseUp is dragging false","move","maxLeft","handleGestureEnd","gesturechange","_handleZooming","prevVideoElementStyleTransform","bind","touches","remove","_opt","indexOf","updateVideoElementScale","handleGestureStart","4712091CzgnsJ","style","narrowPrecision","prevGestureTouches","zoomMaxScale","push","boundHandleWheelChangeThrottle"];return(YD=function(){return t})()}!function(t,e){const s=qD,i=t();for(;;)try{if(811410===-parseInt(s(284))/1*(-parseInt(s(288))/2)+-parseInt(s(230))/3+-parseInt(s(258))/4*(-parseInt(s(208))/5)+-parseInt(s(303))/6*(-parseInt(s(260))/7)+-parseInt(s(280))/8*(parseInt(s(254))/9)+parseInt(s(290))/10*(-parseInt(s(300))/11)+parseInt(s(195))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(YD);class QD extends zi{constructor(t){const e=qD;super(),this.player=t,this[e(273)]="zoom",this[e(201)]=[],this.isDragging=!1,this.isGesturing=!1,this[e(207)]=1,this[e(222)]=null,this[e(272)]=null,this[e(293)]=null,this[e(233)]=[],this[e(283)]=!1,this.initVideoPosition={left:0,top:0},this[e(301)]={x:0,y:0},this[e(248)]={left:0,top:0},this[e(276)]={_handleZooming:this[e(221)][e(223)](this),handleMouseMove:this[e(262)][e(223)](this),handleMouseDown:this[e(238)][e(223)](this),handleMouseUp:this.handleMouseUp[e(223)](this),handleWheelChange:this[e(193)].bind(this),handleGestureChangeForAndroid:this.handleGestureChangeForAndroid[e(223)](this),handleGestureStartForAndroid:this[e(196)][e(223)](this),handleGestureEndForAndroid:this[e(205)].bind(this),handleGestureStart:this[e(229)][e(223)](this),handleGestureChange:this[e(191)][e(223)](this),handleGestureEnd:this[e(219)][e(223)](this)},this[e(190)].on(O.zooming,this[e(276)][e(221)]),t[e(304)](e(251),e(255))}[KD(211)](){const t=KD;this[t(295)]()&&this[t(190)][t(202)][t(265)][t(225)]("jb-pro-zoom-control"),this._unbindEvents(),this.prevVideoElementStyleTransform=null,this[t(272)]=null,this[t(267)](),this[t(212)]=null,this.handleWheelChangeThrottle=null,this.boundHandleGestureChangeThrottle=null,this[t(236)]=null,this[t(276)]=null,this[t(283)]=!1,this[t(213)](),this[t(190)][t(304)](t(251),t(211))}[KD(221)](t){const e=KD;if(t){this[e(190)][e(202)].classList.add(e(241)),this[e(296)]();const t=this._getVideoPostion();t.left&&(this.videoPosition[e(285)]=t[e(285)]),t[e(243)]&&(this.videoPosition[e(243)]=t[e(243)]),this[e(198)](),this[e(264)](),this._isZooming=!0}else this[e(190)][e(202)][e(265)].remove(e(241)),this[e(282)](),this[e(267)](),this.player.$container[e(231)].cursor=e(275),this[e(222)]=null,this[e(272)]=null,this[e(283)]=!1,this[e(190)][e(200)]()}_bindEvents(){const t=KD,{events:{proxy:e}}=this[t(190)],s=Ri(),i=e(this[t(190)][t(202)],s[t(217)],this[t(276)][t(262)]),r=e(this[t(190)].$container,s[t(244)],this.bound.handleMouseDown),n=e(window,s.up,this[t(276)][t(287)]);if(this[t(201)][t(235)](i,r,n),this[t(190)][t(226)][t(189)]&&hs()){this[t(204)]=vs(this[t(276)].handleWheelChange,100),this[t(236)]=this.handleWheelChangeThrottle[t(223)](this);const i=e(this[t(190)][t(202)],s[t(253)],this[t(236)]);this.bindEvents[t(235)](i)}if(as()&&this[t(190)][t(226)].zoomSupportGestureInMobile)if(ls()){this.handleGestureChangeThrottle=vs(this.bound[t(294)],100),this[t(197)]=this[t(212)][t(223)](this);const s=e(this[t(190)].$container,"touchstart",this[t(276)].handleGestureStartForAndroid),i=e(this[t(190)][t(202)],"touchmove",this[t(197)]),r=e(this[t(190)][t(202)],t(214),this[t(276)][t(205)]);this[t(201)][t(235)](s,i,r)}else{this[t(212)]=vs(this[t(276)][t(191)],100),this[t(197)]=this[t(212)][t(223)](this);const s=e(this[t(190)][t(202)],t(240),this[t(276)][t(229)]),i=e(this[t(190)][t(202)],t(220),this[t(197)]),r=e(this[t(190)][t(202)],t(199),this[t(276)][t(219)]);this[t(201)][t(235)](s,i,r)}}[KD(282)](){const t=KD;this.bindEvents[t(302)]>0&&(this.bindEvents.forEach((t=>{t&&t()})),this.bindEvents=[])}handleMouseMove(t){const e=KD;if(t[e(274)](),this[e(268)]&&this[e(190)].zooming){t.preventDefault();const{posX:s,posY:i}=si(t),r=this.tempPosition.x-s,n=this[e(301)].y-i;this.videoPosition[e(285)]=this.videoPosition[e(285)]-r,this.videoPosition[e(243)]=this.videoPosition[e(243)]-n,this.tempPosition.x=s,this.tempPosition.y=i,this[e(250)]()}}handleMouseDown(t){const e=KD;t[e(274)]();const s=$s(t);if(this.player.zooming&&(s.matches(e(279))||s[e(209)](e(289)))){t[e(277)]();const{posX:s,posY:i}=si(t);this[e(190)][e(202)][e(231)][e(252)]="grabbing",this.tempPosition.x=s,this[e(301)].y=i,this[e(268)]=!0,this.player[e(304)](e(251),"handleMouseDown is dragging true")}}[KD(287)](t){const e=KD;t[e(274)](),this[e(268)]&&this[e(190)][e(256)]&&(t[e(277)](),this[e(301)]={x:0,y:0},this[e(268)]=!1,this.player[e(202)][e(231)][e(252)]=e(271),this[e(190)][e(304)](e(251),e(216)))}[KD(193)](t){const e=KD;if(t[e(274)](),!this[e(190)][e(256)])return;t[e(277)]();let s=this[e(190)][e(226)][e(298)];t[e(239)]<0?this.expandPrecision(s):t[e(239)]>0&&this.narrowPrecision(s)}[KD(229)](t){const e=KD;t[e(274)](),this.player.zooming&&(null===this[e(293)]&&(this.prevGestureScale=t[e(247)]),this[e(269)]=!0)}handleGestureStartForAndroid(t){const e=KD;t.stopPropagation(),this[e(190)].zooming&&t[e(224)][e(302)]>=2&&(this[e(269)]=!0,this[e(233)]=t[e(224)])}[KD(294)](t){const e=KD;if(t[e(274)](),t[e(277)](),this[e(190)][e(256)]&&this[e(269)]&&t[e(224)][e(302)]>=2){const r=t[e(224)],n=s(r[0],r[1])/s(this[e(233)][0],this[e(233)][1]);i(r[0],r[1]),i(this[e(233)][0],this[e(233)][1]),null===this[e(293)]&&(this[e(293)]=n);const o=n-this[e(293)],a=this[e(190)][e(226)][e(259)];o>0?this[e(286)](a):o<0&&this.narrowPrecision(a)}function s(t,s){const i=e;var r=s[i(257)]-t[i(257)],n=s[i(210)]-t.pageY;return Math.sqrt(r*r+n*n)}function i(t,s){const i=e;var r=t[i(257)]-s[i(257)],n=t[i(210)]-s[i(210)];return 180*Math[i(270)](n,r)/Math.PI}}handleGestureEndForAndroid(t){const e=KD;t[e(274)](),this.player[e(256)]&&(this[e(293)]=null,this[e(269)]=!1,this[e(233)]=[])}[KD(191)](t){const e=KD;if(t[e(274)](),this[e(190)][e(256)]&&this.isGesturing&&null!==this[e(293)]){const s=t[e(247)],i=s-this[e(293)],r=this.player[e(226)][e(259)];i>0?this.expandPrecision(r):i<0&&this[e(232)](r),this[e(293)]=s}}[KD(219)](t){const e=KD;t.stopPropagation(),this[e(190)].zooming&&(this.prevGestureScale=null,this.isGesturing=!1)}[KD(250)](){const t=KD;let e=arguments[t(302)]>0&&void 0!==arguments[0]&&arguments[0];this[t(203)](e);const s=this.player[t(279)][t(242)];s[t(231)][t(285)]=this.videoPosition[t(285)]+"px",s[t(231)][t(243)]=this[t(248)][t(243)]+"px"}[KD(267)](){const t=KD;this[t(301)]={x:0,y:0},this[t(248)]={left:0,top:0},this.initVideoPosition={left:0,top:0},this.currentZoom=1,this[t(268)]=!1}[KD(232)](t){const e=KD;this.currentZoom<=1||(this[e(207)]-=1,this[e(228)](t))}[KD(286)](t){const e=KD;this.currentZoom>=this[e(190)]._opt.zoomMaxScale||(this.currentZoom+=1,this.updateVideoElementScale(t))}updateCurrentZoom(t,e){const s=KD;t<1||t>this.player[s(226)][s(234)]||(this[s(207)]=t,this[s(228)](e))}[KD(264)](){const t=KD;this[t(272)]=In(this[t(190)][t(279)][t(242)])}_getVideoPostion(){const t=KD;let e=this[t(190)][t(279)].$videoElement[t(278)],s=this[t(190)][t(279)][t(242)][t(246)];return e=parseFloat(e),s=parseFloat(s),{left:e,top:s}}updateInitVideoPosition(){const t=KD,e=this._getVideoPostion();this[t(292)].left=0,this[t(292)][t(243)]=0,e.left&&(this[t(292)][t(285)]=e[t(285)]),e[t(243)]&&(this[t(292)][t(243)]=e.top)}[KD(228)](){const t=KD;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;const s=this[t(190)][t(279)].$videoElement;let i=s[t(231)][t(249)],r=1,n=1;if(this[t(272)]){const e=this[t(272)][0];void 0!==e&&(r=e,n=e);const s=this.prevVideoElementStyleScale[1];void 0!==s&&(n=s)}n=ys(n),r=ys(r);const o=e*r*(this[t(207)]-1)+r,a=e*n*(this[t(207)]-1)+n;let h;h=-1===i[t(227)](t(237))?i+(t(299)+o+",")+a+")":i.replace(/scale\([0-9., ]*\)/,t(237)+o+","+a+")"),s[t(231)][t(249)]=h,this[t(190)]._opt.zoomCheckBorderRange&&this[t(250)]()}[KD(245)](){const t=KD;this[t(228)](),this[t(250)](!0)}[KD(295)](){return this._isZooming}checkPosition(){const t=KD;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(bi(this[t(190)][t(226)].zoomCheckBorderRange)||bi(e)){const e=this[t(297)]();this.videoPosition[t(285)]<e[t(206)]?this.videoPosition.left=e[t(206)]:this[t(248)][t(285)]>e[t(218)]&&(this[t(248)].left=e[t(218)]),this.videoPosition[t(243)]<e[t(192)]?this.videoPosition[t(243)]=e[t(192)]:this.videoPosition[t(243)]>e[t(291)]&&(this[t(248)][t(243)]=e[t(291)])}}[KD(266)](){const t=KD;let e={horizontal:0,vertical:0};const s=In(this[t(190)][t(279)][t(242)]);let i=1,r=1,n=1,o=1;return s&&(i=s[0],r=s[1]||s[0]),this.prevVideoElementStyleScale&&(n=this[t(272)][0],o=this.prevVideoElementStyleScale[1]||this[t(272)][0]),e[t(215)]=i-n,e[t(263)]=r-o,e}[KD(297)](){const t=KD,e=this[t(266)](),s=parseInt(this.player.video[t(242)].offsetWidth),i=parseInt(this[t(190)][t(279)][t(242)][t(261)]);let r,n,o,a;return this.player[t(194)]&&this[t(190)][t(281)]()?(r=this.initVideoPosition[t(285)]-i*e[t(215)]/2,n=this[t(292)][t(285)]+i*e[t(215)]/2,o=this[t(292)].top-s*e[t(263)]/2,a=this.initVideoPosition[t(243)]+s*e.vertical/2):(r=this[t(292)][t(285)]-s*e.horizontal/2,n=this[t(292)][t(285)]+s*e[t(215)]/2,o=this[t(292)].top-i*e[t(263)]/2,a=this.initVideoPosition.top+i*e[t(263)]/2),{minLeft:r,maxLeft:n,minTop:o,maxTop:a}}}const JD=XD;function XD(t,e){const s=$D();return(XD=function(t,e){return s[t-=371]})(t,e)}function $D(){const t=["aiObjectDetectorInfo","debugUuid","JessibucaProFaceDetector","updateFaceDetectorConfig","aiFaceDetectEmitBase64","init","faceDetector","width","then","JessibucaProOcclusionDetector","297948ZDlElH","fontSize","initImageDetector","updateConfig","JessibucaProObjectDetector","destroy","off","length","objectDetector","emit","TAG_NAME","video","useObjectDetector","2226981PgCmrk","lineWidth","aiObjectDetectTarget","initOcclusionDetector","type","text","initObjectDetector","rect","color","9bfoDvz","init face detector success","player","7982065pfFyQX","initFaceDetector","2974596KFEAsf","base64","list","load","occlusionDetector","_opt","JessibucaProImageDetector","useImageDetector","jessibuca-pro-object-detector-info","#000","debugLog","map","imageDetector","_isDestroyed","filter","isArray","aiObjectDetectShowRect","updateObjectDetectorConfig","addAiContentToCanvas","useFaceDetector","84xPVinl","aiFaceDetectShowRect","updateImageDetectorConfig","947133qcaUMB","debug","AiLoader","borderWidth","debugLevel","27686552oUmwBI","updateOcclusionDetectorConfig","push","borderColor","aiFaceDetectWidth","screenshotByRect","init occlusion detector success","init object detector success","4998508wBCxOr"];return($D=function(){return t})()}!function(t,e){const s=XD,i=t();for(;;)try{if(826033===-parseInt(s(387))/1+-parseInt(s(438))/2+parseInt(s(424))/3+parseInt(s(400))/4+-parseInt(s(436))/5+-parseInt(s(411))/6*(parseInt(s(384))/7)+-parseInt(s(392))/8*(-parseInt(s(433))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}($D);class ZD extends zi{constructor(t){const e=XD;super(),this[e(435)]=t,this[e(421)]=e(389),this.faceDetector=null,this.objectDetector=null,this[e(376)]=null,this[e(442)]=null,this[e(437)](),this[e(430)](),this.initImageDetector(),this[e(427)](),this[e(377)]=!1,this[e(435)].debugLog(this[e(421)],e(406))}[JD(416)](){const t=JD;this._isDestroyed=!0,this[t(417)](),this.faceDetector&&(this[t(407)][t(416)](),this.faceDetector=null),this[t(419)]&&(this[t(419)][t(416)](),this[t(419)]=null),this[t(376)]&&(this.imageDetector.destroy(),this.imageDetector=null),this[t(442)]&&(this[t(442)][t(416)](),this[t(442)]=null),this[t(435)][t(374)](this[t(421)],t(416))}[JD(437)](){const t=JD;if(this[t(435)][t(443)][t(383)]&&window[t(403)]){const e=new JessibucaProFaceDetector({detectWidth:this[t(435)][t(443)][t(396)],showRect:!1,debug:this.player[t(443)][t(388)],debugLevel:this[t(435)][t(443)][t(391)],debugUuid:this[t(435)][t(443)][t(402)],name:b,buildTime:S});e[t(441)]()[t(409)]((()=>{const s=t;this[s(435)].debugLog(this[s(421)],s(434)),this[s(407)]=e,this[s(407)].on("jessibuca-pro-face-detector-info",(t=>{const e=s;if(this[e(435)][e(443)][e(405)]&&(t[e(440)]=t[e(440)][e(375)]((t=>{const s=e;return this.player.video&&(t[s(439)]=this[s(435)][s(422)][s(397)](t)),t}))),this[e(435)][e(420)](O.aiFaceDetectorInfo,t),this[e(435)]._opt[e(385)]){const s=this[e(435)][e(443)].aiFaceDetectRectConfig||{},i=(t[e(440)]||[])[e(375)]((t=>{const i=e;return t[i(428)]=i(431),t[i(432)]=s[i(395)]||"#0000FF",t[i(425)]=s[i(390)]||2,t}));this[e(435)].video&&this[e(435)][e(422)].addAiContentToCanvas(i)}}))}))}}initObjectDetector(){const t=JD;if(this[t(435)][t(443)][t(423)]&&window[t(415)]){const e=new JessibucaProObjectDetector({detectWidth:this.player[t(443)].aiObjectDetectWidth,showRect:!1,debug:this[t(435)]._opt[t(388)],debugLevel:this[t(435)][t(443)][t(391)],debugUuid:this[t(435)][t(443)][t(402)],name:b,buildTime:S});e.load()[t(409)]((()=>{const s=t;this.player.debugLog(this[s(421)],s(399)),this[s(419)]=e,this[s(419)].on(s(372),(t=>{const e=s,i=t.ts;let r=t[e(440)]||[];if(this[e(435)][e(443)][e(426)]){let t=[];t=Array[e(379)](this[e(435)]._opt[e(426)])?this[e(435)][e(443)][e(426)]:[this[e(435)][e(443)][e(426)]],r=r[e(378)]((e=>t.includes(e.en)))}if(this[e(435)][e(420)](O[e(401)],{ts:i,list:r}),this[e(435)]._opt[e(380)]){const t=[],s=this[e(435)][e(443)].aiObjectDetectRectConfig||{};r.forEach((i=>{const r=e,n={type:"rect",color:s[r(395)]||"#0000FF",lineWidth:s[r(390)]||2,x:i.rect.x,y:i[r(431)].y,width:i[r(431)][r(408)],height:i[r(431)].height},o={type:r(429),color:s[r(432)]||r(373),fontSize:s[r(412)]||14,text:i.zh,x:i.rect.x,y:i[r(431)].y-25};t[r(394)](n,o)})),this[e(435)][e(422)]&&this.player.video[e(382)](t)}}))}))}}[JD(413)](){const t=JD;if(this[t(435)][t(443)][t(371)]&&window[t(444)]){const e=new JessibucaProImageDetector({debug:this[t(435)][t(443)][t(388)],debugLevel:this[t(435)][t(443)].debugLevel,debugUuid:this.player[t(443)][t(402)],name:b,buildTime:S});e.load().then((()=>{const s=t;this[s(435)][s(374)](this.TAG_NAME,"init image detector success"),this[s(376)]=e}))}}[JD(427)](){const t=JD;if(this[t(435)]._opt.useOcclusionDetector&&window[t(410)]){const e=new JessibucaProOcclusionDetector({debug:this[t(435)][t(443)][t(388)],debugLevel:this.player._opt.debugLevel,debugUuid:this[t(435)][t(443)].debugUuid,name:b,buildTime:S});e.load().then((()=>{const s=t;this[s(435)][s(374)](this[s(421)],s(398)),this[s(442)]=e}))}}[JD(404)](){const t=JD;let e=arguments[t(418)]>0&&void 0!==arguments[0]?arguments[0]:{};this.faceDetector&&this[t(407)][t(414)](e)}[JD(381)](){const t=JD;let e=arguments[t(418)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(419)]&&this[t(419)][t(414)](e)}[JD(386)](){const t=JD;let e=arguments[t(418)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(376)]&&this.imageDetector[t(414)](e)}[JD(393)](){const t=JD;let e=arguments[t(418)]>0&&void 0!==arguments[0]?arguments[0]:{};this[t(442)]&&this[t(442)].updateConfig(e)}}const tR=eR;function eR(t,e){const s=sR();return(eR=function(t,e){return s[t-=159]})(t,e)}function sR(){const t=["querySelector","from","10071522bXMFYf","216oWTiVU","contextmenuBtns","push","only support pc","preventDefault","player",'">\n                ',"beforebegin","1110981WrHgCr","5UXMtMO","debugWarn","content is required","content","show",".jb-pro-contextmenu-","_validateMenuItem","length","forEach","clientX","5403629jehKVf","_opt","blur","jb-pro-contextmenus-show","assign","LOG_NAME","addMenuItem","7271984hXoRPn","init","Contextmenu","menuList","control","index","hide","\n            </div>\n        ","click","debugLog","$container","destroy","1025001uGEQLF","$contextmenus","getBoundingClientRect","1242537vvIpuq","2382520ylJrfr"];return(sR=function(){return t})()}!function(t,e){const s=eR,i=t();for(;;)try{if(991121===-parseInt(s(203))/1+-parseInt(s(191))/2+-parseInt(s(190))/3+-parseInt(s(175))/4+-parseInt(s(204))/5*(-parseInt(s(194))/6)+parseInt(s(168))/7+-parseInt(s(195))/8*(-parseInt(s(187))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sR);class iR extends zi{constructor(t){const e=eR;super(),this[e(200)]=t,this[e(173)]=e(177),this[e(178)]=[],this.$contextmenus=null,hs()&&t.control?(this[e(188)]=t[e(179)][e(188)],this[e(176)]()):this.player.debugWarn(this[e(173)],e(198)),t[e(184)](this[e(173)],"init")}[tR(186)](){const t=tR;this.menuList=[],this[t(188)]=null,this[t(200)][t(184)](this[t(173)],t(186))}get isShow(){const t=tR;return An(this.player[t(185)],"jb-pro-contextmenus-show")}[tR(162)](){const t=tR;this[t(188)]&&gn(this.player[t(185)],t(171))}[tR(181)](){const t=tR;this.$contextmenus&&yn(this[t(200)][t(185)],t(171))}[tR(176)](){const t=tR,{events:{proxy:e}}=this[t(200)];this.$contextmenus&&(this.player[t(169)][t(196)][t(165)]>0&&this.player._opt[t(196)][t(166)]((e=>{this[t(174)](e)})),e(this.player.$container,"contextmenu",(e=>{const s=t;e[s(199)](),this[s(162)]();const i=e[s(167)],r=e.clientY,{height:n,width:o,left:a,top:h}=this[s(200)][s(185)].getBoundingClientRect(),{height:l,width:c}=this[s(188)][s(189)]();let d=i-a,u=r-h;i+c>a+o&&(d=o-c),r+l>h+n&&(u=n-l),$e(this.$contextmenus,{left:d+"px",top:u+"px"})})),e(this[t(200)].$container,t(183),(e=>{const s=t;!wn(e,this[s(188)])&&this[s(181)]()})),this.player.on(O[t(170)],(()=>{this[t(181)]()})))}[tR(164)](t){const e=tR;let s=!0;return!t[e(161)]&&(this[e(200)][e(159)](this.LOG_NAME,e(160)),s=!1),s}[tR(174)](){const t=tR;let e=arguments[t(165)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=gi(wt);if(e=Object[t(172)]({},s,e),!this[t(164)](e))return;const{events:{proxy:i},debug:r}=this[t(200)],n=As(),o='\n            <div class="jb-pro-contextmenu jb-pro-contextmenu-'+n+t(201)+e[t(161)]+t(182),a=Array[t(193)](this[t(188)].children)[e[t(180)]];a?kn(o,t(202),a):vn(this[t(188)],o);const h=this.$contextmenus[t(192)](t(163)+n);e[t(183)]&&i(h,t(183),(s=>{const i=t;s[i(199)](),e[i(183)].call(this[i(200)],this,s),this[i(181)]()})),this[t(178)][t(197)]({uuid:n,$menuItem:h})}}const rR=nR;function nR(t,e){const s=oR();return(nR=function(t,e){return s[t-=298]})(t,e)}function oR(){const t=["isInitInfo","key","bandwidthEstimateInterval"," and isH264 is ","prevWebrtcVideoStats","emit","startsWith","CommonWebrtc"," and supportH265 is ","video loadedmetadata","srcObject","getVideoBufferRangeList","playbackRate","videoFrameCallback() player is destroyed","_initVideoEvents","muted","abort","failed","waiting","src","addTransceiver","webrtcClosed","_opt","disconnected","streams","encodedInsertableStreams","ondatachannel","split","oniceconnectionstatechange:ice connection state is","currentWebrtcStats","756sCeyeX","position","currentTime","supportVideoFrameCallbackHandle","connectionState","debugLog","ended","debugWarn","handleRender","onnegotiationneeded:type is","video playback Rate change","connectionState is ","canplay","471186iCnSWn","start","audio","isVideoPlaying","video canplay","frameHeight","readable","ontrack video","onicecandidate: candidate is ",", frameHeight is ","forEach","getVideoCurrentTime","timestamp","isDestroyedOrClosed","play","updateVideoInfo","catch","localCandidate","527737qTXsVO","onicecandidate","onsignalingstatechange:type is","track","CandidatePair","video isHevc is ","then","render","_isDestroyed","h265","videoHeight","timeStamp","updateStats","transform","video waiting","kBps","Error in _createEncodedStreams:","buffered","closed","video play error ","InboundRtp","230631pwrWhy","new","timeUpdate","frameWidth is ","rtt","completed","WebRTC support: createEncodedStreams=","delta","_createEncodedStreams","TAG_NAME","videoFrameCallback","isVideoCodecSupported","video is paused and replay success","connected","1446oxtANw","end","Track","isDisconnected","writable","rtcPeerTrackAudioReceiver","_checkWebRTCSupport","payloadType","isH264","kind","toFixed","data","iceConnectionState","mediaTime","_startBandwidthEstimateInterval","onnegotiationneeded","pause","bound","bind","push","responseSdpInfo","h264","video is paused and replay error ","onsignalingstatechange","fetchPromise","undefined","video","paused","_initRtcPeerConnection","$videoElement","requestVideoFrameCallback",", transform=","isWebrtcH264","length","size","prevWebrtcAudioStats","autoplay","videoStream","currentRoundTripTime","find","abps","bytesReceived","_stopCanvasRender","onicegatheringstatechange:","succeeded","type","Error checking WebRTC support:","emitVideoSei","max","Codec","2252468EhGjhB","getVideoCodec","onicecandidateerror","type is ","iceGatheringState","readyState","abortController","isEmitSEI","10bkFOeo","style","state","pipeThrough","toString","stringify","ontrack","candidate","rtcPeerConnection","678438CGXnOF","createEncodedStreams","enqueue","absolute","vbps","oniceconnectionstatechange","onicegatheringstatechange","abortController.abort() success","suffixSei","eventsDestroy","recvonly","lastTimeStamp"," and webrtcSupportH265 is ","and iceGatheringState is ","removeAttribute","floor","kSliceSEI","destroy","pipeTo","createElement","canvasRenderInterval","videoCodec","bytesSent","getStats","events","player","video play","Using createEncodedStreams","parseSdp","getReceivers","stop","_initRenderSize","initCanvasViewSize","videoWidth","prototype","_stopBandwidthEstimateInterval","rtcPeerTrackVideoReceiver","_requestAbort","slice","_startCanvasRender","2889176CFdBcJ","TransformStream","getVideoBufferTimeRange","onconnectionstatechange","videoCodecType","uuid","RTCRtpReceiver is not supported","5nhrYmo","webrtcFailed","hasAudio"];return(oR=function(){return t})()}!function(t,e){const s=nR,i=t();for(;;)try{if(283099===parseInt(s(451))/1+-parseInt(s(399))/2*(-parseInt(s(465))/3)+parseInt(s(302))/4*(-parseInt(s(366))/5)+-parseInt(s(412))/6+parseInt(s(430))/7+parseInt(s(359))/8+-parseInt(s(319))/9*(-parseInt(s(310))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(oR);class aR extends zi{constructor(t){const e=nR;super(),this[e(344)]=t,this.TAG_NAME=e(376),this[e(318)]=null,this[e(502)]=null,this[e(468)]=!1,this[e(473)]=this.player[e(497)](),this[e(485)]=null,this[e(328)]=[],this[e(402)]=null,this[e(369)]=!1,this.$videoElement=this[e(344)][e(491)][e(494)],this.bandwidthEstimateInterval=null,this[e(355)]=null,this[e(470)]=null,this.prevWebrtcVideoStats={},this.prevWebrtcAudioStats={},this[e(398)]={},this._requestAbort=!1,this.abortController=null,this[e(489)]=null,this.bound={videoFrameCallback:this[e(461)][e(483)](this)},this[e(344)][e(391)].webrtcUseCanvasRender&&this[e(473)]&&(this[e(494)]=document[e(338)](e(491)),ps()&&(this[e(494)][e(311)][e(400)]=e(322)),this[e(383)]()),this[e(494)][e(384)]=!0,this[e(493)](),this[e(438)]=!1}[rR(336)](){const t=rR;if(this[t(438)]=!0,this.abort(),this[t(485)]=null,this[t(468)]=!1,this.isInitInfo=!1,this[t(373)]={},this[t(398)]={},this.rtcPeerTrackVideoReceiver=null,this[t(470)]=null,this[t(354)](),this.supportVideoFrameCallbackHandle&&this[t(494)]&&(this[t(494)].cancelVideoFrameCallback(this.supportVideoFrameCallbackHandle),this[t(402)]=null),this[t(328)][t(498)]&&(this[t(328)][t(422)]((t=>t())),this[t(328)]=[]),this.isH264&&(this[t(502)]&&(this[t(502)].getTracks()[t(422)]((e=>e[t(349)]())),this[t(502)]=null),this[t(494)]))if(this[t(344)][t(391)].webrtcUseCanvasRender){this[t(494)][t(481)]&&(this[t(494)][t(481)](),this.$videoElement.muted=!0),this[t(494)][t(401)]=0,this[t(494)][t(388)]&&(this.$videoElement[t(388)]="",this.$videoElement.removeAttribute(t(388)));try{this[t(494)].load()}catch(t){}}else this[t(494)][t(379)]&&(this[t(494)][t(379)]=null,this.$videoElement[t(333)](t(379)));this[t(494)]=null,this[t(318)]&&(this[t(318)][t(431)]=null,this[t(318)].ontrack=null,this[t(318)][t(362)]=null,this[t(318)][t(395)]=null,this[t(318)].close(),this[t(318)]=null),this[t(482)]=null}[rR(385)](){const t=rR;if(this[t(356)]=!0,this.abortController)try{this[t(308)].abort(),this.abortController=null,this[t(344)][t(404)](this.TAG_NAME,t(326))}catch(e){this[t(308)]=null,this[t(344)][t(404)](this[t(460)],"abortController.abort() error",e)}this[t(489)]&&this[t(489)][t(385)]&&(this[t(489)].abort(),this[t(489)]=null)}[rR(383)](){const t=rR;this[t(344)][t(404)](this[t(460)],"_initVideoEvents()");const{proxy:e}=this.player[t(343)],s=e(this[t(494)],pt[t(411)],(()=>{const e=t;this[e(344)][e(404)](this[e(460)],e(416)),this[e(494)][e(426)]()[e(436)]((()=>{const t=e;this[t(344)][t(404)](this[t(460)],t(345)),this[t(358)](),this[t(350)]()})).catch((t=>{const s=e;this[s(344)][s(406)](this.TAG_NAME,s(449),t)}))})),i=e(this[t(494)],pt[t(387)],(()=>{const e=t;this.player[e(404)](this.TAG_NAME,e(444))})),r=e(this[t(494)],pt.loadedmetadata,(()=>{const e=t;this[e(344)][e(404)](this[e(460)],e(378))})),n=e(this.$videoElement,pt[t(453)],(e=>{const s=t;parseInt(e[s(441)],10),this[s(494)][s(492)]&&(this.player[s(406)](this[s(460)],"video is paused and next try to replay"),this[s(494)][s(426)]()[s(436)]((()=>{const t=s;this.player[t(404)](this[t(460)],t(463))}))[s(428)]((t=>{const e=s;this[e(344)][e(406)](this[e(460)],e(487),t)})))})),o=e(this[t(494)],pt.ratechange,(()=>{const e=t;this[e(344)].debugLog(this[e(460)],e(409),this[e(494)]&&this.$videoElement.playbackRate)}));this[t(328)][t(484)](s,i,n,o,r)}[rR(471)](){const t=rR;try{if(!(typeof RTCRtpReceiver!==t(490)))return this[t(344)][t(406)](this[t(460)],t(365)),!1;const e=t(320)in RTCRtpReceiver[t(353)],s="transform"in RTCRtpReceiver[t(353)];return this[t(344)].debugLog(this.TAG_NAME,t(457)+e+t(496)+s),{createEncodedStreams:e,transform:s}}catch(e){return this[t(344)].debugWarn(this[t(460)],t(298),e[t(314)](),e),!1}}[rR(493)](){const t=rR,e={},s=this[t(471)](),i=s&&s.createEncodedStreams;this.player[t(391)][t(309)]&&i&&(e[t(394)]=!0);const r=new RTCPeerConnection(e),n=this[t(344)],o=r[t(389)]("video",{direction:t(329)});this[t(344)][t(391)][t(368)]&&r.addTransceiver(t(414),{direction:t(329)}),this[t(344)][t(391)].isEmitSEI&&s&&this[t(459)](o.receiver,s),r[t(488)]=e=>{const s=t;this[s(344)][s(404)](this.TAG_NAME,s(432),e.type)},r[t(325)]=e=>{const s=t;this.player[s(404)](this[s(460)],s(508),s(305)+e[s(510)],s(332)+r[s(306)])},r[t(480)]=e=>{const s=t;this.player[s(404)](this[s(460)],s(408),e[s(510)])},r[t(324)]=e=>{const s=t;this[s(344)][s(404)](this.TAG_NAME,s(397),r[s(477)]);const i=r[s(477)];switch(this[s(344)][s(374)](O.webrtcOnIceConnectionStateChange,i),this[s(468)]="disconnected"===i,r[s(477)]){case s(452):case"checking":case s(448):break;case"failed":n[s(374)](O[s(367)]);break;case s(392):n.emit(O.webrtcDisconnect);break;case s(464):case s(456):break;case s(448):n[s(374)](O[s(390)])}},r[t(431)]=e=>{const s=t;e[s(317)]&&this.player[s(404)](this.TAG_NAME,s(420),e[s(317)],JSON[s(315)](e[s(317)].toJSON()))},r[t(316)]=e=>{const s=t;if(this.player[s(404)](this[s(460)],s(316)),e.track[s(474)]===s(491)){this[s(344)][s(404)](this.TAG_NAME,s(419)),this[s(355)]=r.getReceivers().find((function(t){return t[s(433)]===e.track})),this[s(355)]&&this[s(479)]();let t=e[s(393)][0];this[s(494)][s(501)]=!0,this[s(494)][s(379)]=t,this.videoStream=t}else e[s(433)][s(474)]===s(414)&&(this[s(344)][s(404)](this[s(460)],"ontrack audio"),this[s(470)]=r[s(348)]()[s(504)]((function(t){const i=s;return t[i(433)]===e[i(433)]})),this[s(470)]&&this[s(479)]())},r[t(304)]=e=>{const s=t;this[s(344)][s(404)](this[s(460)],"onicecandidateerror:",e),this.player.emitError(V.webrtcIceCandidateError,e)},r.onconnectionstatechange=e=>{const s=t;switch(this[s(344)].debugLog(this[s(460)],"onconnectionstatechange:",s(410)+r[s(403)]),this[s(344)][s(374)](O.webrtcOnConnectionStateChange,r[s(403)]),r.connectionState){case s(452):case"connecting":case s(464):case s(392):break;case s(386):this[s(468)]&&n.emit(O.webrtcFailed);case s(448):}},this[t(318)]=r}_startBandwidthEstimateInterval(){const t=rR;this[t(344)][t(404)](this[t(460)],"_startBandwidthEstimateInterval"),this[t(354)](),this[t(371)]=setInterval((()=>{const e=t;this.rtcPeerTrackVideoReceiver&&this[e(355)][e(342)]().then((t=>{const s=e;let i={},r=0;t.forEach((t=>{const e=nR;if(t)switch(t[e(510)]){case Ft[e(434)]:(t[e(312)]===e(509)||t[e(506)])&&(this[e(398)][e(424)]=t[e(424)],this[e(398)][e(455)]=t[e(503)]||-1,this[e(398)][e(506)]=t[e(506)]||0,this.currentWebrtcStats[e(341)]=t[e(341)]||0);break;case Ft.RemoteCandidate:this.currentWebrtcStats.remoteCandidate=t||{};break;case Ft.LocalCandidate:this[e(398)][e(429)]=t||{};break;case Ft[e(450)]:this[e(398)][e(330)]=t[e(424)];const s=((t.timestamp||0)-(this[e(373)].timestamp||0))/1e3,n=Number(t.bytesReceived||0)-Number(this[e(373)][e(506)]||0),o=8*Math[e(334)](n/s);r+=o,i[e(323)]=o,this[e(373)]=t;break;case Ft[e(467)]:t.frameWidth&&t[e(417)]&&(this[e(398)].frameWidth=t.frameWidth||0,this.currentWebrtcStats[e(417)]=t.frameHeight||0,this[e(344)][e(404)](this[e(460)],e(454)+this[e(398)].frameWidth+e(421)+this[e(398)][e(417)]));case Ft[e(301)]:}})),this[s(470)]?this.rtcPeerTrackAudioReceiver.getStats().then((t=>{const e=s;t[e(422)]((t=>{const s=e;if(t&&t[s(510)]===Ft.InboundRtp){this[s(398)][s(330)]=t[s(424)];const e=((t[s(424)]||0)-(this[s(500)][s(424)]||0))/1e3,n=Number(t[s(506)]||0)-Number(this[s(500)][s(506)]||0),o=8*Math[s(334)](n/e);r+=o,i[s(505)]=o,this[s(500)]=t}})),this[e(344)][e(442)](i),this.player[e(374)](O.kBps,(r/1e3)[e(475)](2))})):(this[s(344)][s(442)](i),this[s(344)].emit(O[s(445)],(r/1e3)[s(475)](2)))}))}),1e3)}[rR(354)](){const t=rR;this.player[t(404)](this.TAG_NAME,"_stopBandwidthEstimateInterval"),this[t(371)]&&(clearInterval(this[t(371)]),this[t(371)]=null)}_createEncodedStreams(t,e){const s=rR;if(this[s(344)][s(404)](this[s(460)],s(459)),e)try{const i=new(window[s(360)])({transform:(t,e)=>{const i=s;if(t[i(510)]===i(370)||t[i(510)]===i(458)){const e=Ue(new Uint8Array(t[i(476)])),s=this[i(303)]()===K[i(439)];e[i(422)]((t=>{const e=i,r=s?t[0]>>>1&63:31&t[0],n=s&&(r===$[e(327)]||r===$.prefixSei),o=Si(s)&&r===X[e(335)];if(n||o){const i=We(Ve(t),s),r=parseInt(1e3*this[e(423)](),10);this.player[e(299)]({ts:r,type:i[e(510)],data:i.payload,originData:t,uuid:i[e(364)],size:i[e(499)]})}}))}e[i(321)](t)}});if(e[s(320)]){this[s(344)][s(404)](this[s(460)],s(346));const e=t[s(320)]();e[s(418)][s(313)](i)[s(337)](e[s(469)])[s(428)]((t=>{const e=s;this[e(344)][e(404)](this[e(460)],"Error in createEncodedStreams:",t[e(314)](),t)}))}else e[s(443)]&&(this.player[s(404)](this[s(460)],"Using transform"),t.transform=i)}catch(t){this[s(344)].debugLog(this[s(460)],s(446),t[s(314)](),t)}}_startCanvasRender(){const t=rR;ki()?this[t(402)]=this[t(494)][t(495)](this.bound[t(461)]):(this[t(507)](),this[t(339)]=setInterval((()=>{const e=t;this[e(344)][e(491)][e(437)]({$video:this[e(494)],ts:0})}),40))}[rR(507)](){const t=rR;this.canvasRenderInterval&&(clearInterval(this[t(339)]),this[t(339)]=null)}videoFrameCallback(t){const e=rR;let s=arguments[e(498)]>1&&void 0!==arguments[1]?arguments[1]:{};if(this[e(344)][e(425)]())return void this[e(344)][e(404)](this[e(460)],e(382));const i=parseInt(1e3*Math[e(300)](s[e(478)],this[e(494)][e(401)]),10)||0;this.player[e(442)]({dts:i}),this[e(344)][e(407)](),this.player[e(491)][e(437)]({$video:this[e(494)],ts:i}),this[e(402)]=this[e(494)][e(495)](this[e(482)][e(461)])}[rR(350)](){const t=rR;!this.isInitInfo&&(this[t(344)][t(491)][t(427)]({width:this[t(494)][t(352)],height:this.$videoElement[t(440)]}),this[t(344)][t(491)][t(351)](),this[t(369)]=!0)}getVideoCurrentTime(){const t=rR;let e=0;return this[t(494)]&&(e=this.$videoElement[t(401)]),e}[rR(415)](){const t=rR;return this[t(494)]&&Si(this[t(494)][t(492)])&&Si(this[t(494)][t(405)])&&0!==this[t(494)][t(381)]&&0!==this[t(494)][t(307)]}[rR(361)](){const t=rR,e=this[t(494)];let s=null;if(e){const i=e.buffered,r=i.length?i.start(0):0,n=i.length?i[t(466)](i[t(498)]-1):0;s={start:r,end:n,diff:n-r}}return s}[rR(380)](){const t=rR,e=this[t(494)];let s=[];if(e){const i=e[t(447)];for(let e=0;e<i[t(498)];e++){let r=i[t(413)](e),n=i.end(e);s[t(484)]({start:r,end:n})}}return s}[rR(347)](t){const e=rR,s=t[e(396)]("\r\n");let i={};s[e(422)]((t=>{const s=e;if(t[s(375)]("m=video")){const e=t[s(396)](" "),r=e[1],n=e[2],o=e[s(357)](3),a=ys(o[0]);ys(o[1]),i.port=r,i.protocol=n,i[s(472)]=a,49===a||51===a?i[s(340)]=K[s(439)]:(103===a||107===a||109===a||115===a||117===a||39===a||41===a||43===a||119===a||121===a)&&(i[s(340)]=K[s(486)]),i[s(363)]=H[i.videoCodec]}})),this[e(485)]=i,this[e(344)][e(404)](this.TAG_NAME,e(347),JSON[e(315)](i))}[rR(303)](){const t=rR;return this[t(485)]&&this[t(485)][t(340)]?this[t(485)][t(340)]:K[t(486)]}[rR(462)](){const t=rR,e=this[t(303)]()===K[t(439)],s=this[t(303)]()===K.h264,i=Ts(),r=function(){const t=ze,e=ds();return e[t(847)][t(601)]()===t(538)&&e[t(778)]>=136}();return this[t(344)].debugLog(this[t(460)],t(435)+e+t(372)+s+t(377)+i+t(331)+r),{result:e&&i&&r||s,error:t(435)+e+t(372)+s+t(377)+i+t(331)+r}}}function hR(t,e){var s=cR();return(hR=function(t,e){return s[t-=220]})(t,e)}var lR=hR;function cR(){var t=["21884616cfaZlU","toString","https://","indexOf","lastIndexOf","server","?vhost=","createElement","search","test","hostname","now","href","https","location","http","slice","140gVHiLs","substring","webrtc://","pathname","rtmp","1347498VKxymt","https:","length","schema","play","rtc://","port","webrtc","/rtc/v1/play/","3817NanTKR","3880AcWHYv","vhost","vhost=","domain","user_query","api","replace","9108153RyHOjI","138452mFJNBJ","7vlahCp","url","54139muJVGK","split",":80","http://","36XmSTic","1064319gYUmtx","8MmtDIP","protocol","host"];return(cR=function(){return t})()}!function(t,e){for(var s=hR,i=t();;)try{if(541537===-parseInt(s(258))/1*(parseInt(s(262))/2)+-parseInt(s(263))/3+parseInt(s(255))/4*(parseInt(s(232))/5)+parseInt(s(237))/6*(parseInt(s(256))/7)+parseInt(s(264))/8*(-parseInt(s(254))/9)+-parseInt(s(247))/10*(parseInt(s(246))/11)+parseInt(s(267))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(cR);const dR={defaultPath:lR(245),prepareUrl:function(t){var e=lR,s=dR.parse(t),i=s.user_query[e(240)];i=i?i+":":window[e(229)][e(265)];var r=s.port||1985;i===e(238)&&(r=s[e(243)]||443);var n=s[e(251)][e(241)]||dR.defaultPath;n[e(271)]("/")!==n[e(239)]-1&&(n+="/");var o=i+"//"+s[e(220)]+":"+r+n;for(var a in s[e(251)])a!==e(252)&&a!==e(241)&&(o+="&"+a+"="+s[e(251)][a]);return{apiUrl:o=o[e(253)](n+"&",n+"?"),streamUrl:s[e(257)],schema:i,urlObject:s,port:r,tid:Number(parseInt(Date[e(226)]()*Math.random()*100))[e(268)](16)[e(231)](0,7)}},parse:function(t){var e=lR,s=document[e(222)]("a");s[e(227)]=t[e(253)]("rtmp://",e(261))[e(253)]("webrtc://",e(261))[e(253)](e(242),e(261));var i=s[e(225)],r=s.pathname[e(233)](1,s.pathname.lastIndexOf("/")),n=s[e(235)][e(231)](s.pathname[e(271)]("/")+1);if((r=r[e(253)]("...vhost...",e(221)))[e(270)]("?")>=0){var o=r[e(231)](r[e(270)]("?"));r=r[e(231)](0,r[e(270)]("?")),o[e(270)]("vhost=")>0&&((i=o[e(231)](o[e(270)](e(249))+e(249)[e(239)])).indexOf("&")>0&&(i=i[e(231)](0,i[e(270)]("&"))))}if(s[e(225)]===i){/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/[e(224)](s[e(225)])&&(i="__defaultVhost__")}var a=e(236);t[e(270)]("://")>0&&(a=t.slice(0,t[e(270)]("://")));var h=s.port;h||(a===e(244)&&0===t[e(270)](e(234)+s[e(266)]+":")&&(h=0===t.indexOf(e(234)+s.host+e(260))?80:443),a===e(230)?h=80:"https"===a?h=443:a===e(236)&&(h=1935));var l={url:t,schema:a,server:s[e(225)],port:h,vhost:i,app:r,stream:n};return dR.fill_query(s[e(223)],l),l.port||a!==e(244)&&"rtc"!==a||(l[e(251)][e(240)]===e(228)?l[e(243)]=443:0===window[e(229)][e(227)][e(270)](e(269))?l.port=443:l.port=1985),l},fill_query:function(t,e){var s=lR;if(e.user_query={},0!==t[s(239)]){t[s(270)]("?")>=0&&(t=t[s(259)]("?")[1]);for(var i=t[s(259)]("&"),r=0;r<i[s(239)];r++){var n=i[r][s(259)]("=");e[n[0]]=n[1],e[s(251)][n[0]]=n[1]}e[s(250)]&&(e[s(248)]=e.domain)}}};function uR(t,e){const s=fR();return(uR=function(t,e){return s[t-=471]})(t,e)}function pR(t,e,s){const i=uR;return fetch(t,{method:i(472),mode:i(499),cache:i(484),credentials:i(503),redirect:i(510),referrerPolicy:i(497),headers:{"Content-Type":i(476)},body:e,signal:s?s[i(479)]:null})}function fR(){const t=["abort","Failed to get sdp from ","signal","Authorization","4dTKqqb","3945376slovbs","tid","no-cache"," and http status is ","length","responseText","streamUrl","9EAUtco","toString","code","6136lSrvtn","1615980OpYKwI","19257NWUwxg","parse","apiUrl","no-referrer","onerror","cors","Content-type","text/plain;charset=utf-8","application/json","include","send","password","onload","readyState"," and error is ","3133284eonXlt","follow","open"," and response code is ","DONE","status","username","setRequestHeader","json","POST","1799346zvTDnH","15721480oeFMip","stringify","application/sdp"];return(fR=function(){return t})()}function mR(t,e){let s=null;const i=new Promise(((i,r)=>{const n=uR,o=dR.prepareUrl(t);var a={api:o[n(496)],tid:o[n(483)],streamurl:o[n(488)],clientip:null,sdp:e};s=new XMLHttpRequest,s.onload=function(){const t=n;if(s.readyState===s[t(513)]){if(200!==s[t(514)]&&201!==s[t(514)])return s=null,r(new Error("Failed to get sdp from "+o.apiUrl+t(485)+s[t(514)]));try{const e=JSON[t(495)](s[t(487)]);return s=null,e[t(491)]?r(new Error(t(478)+o[t(496)]+t(512)+e[t(491)])):i(e)}catch(e){r(e[t(490)]())}}},s[n(498)]=function(t){const e=n;s=null,r(new Error(e(478)+o[e(496)]+e(508)+t))},s.open(n(472),o[n(496)],!0),s[n(516)](n(500),n(502)),s[n(504)](JSON[n(475)](a))}));return i.abort=function(){s&&(s[uR(477)](),s=null)},i}function gR(t,e){const s=uR;let i=null;const r=new Promise(((s,r)=>{const n=uR;i=new XMLHttpRequest,i[n(506)]=function(){const e=n;if(i[e(507)]!==i.DONE)return;if(200!==i[e(514)]&&201!==i[e(514)])return i=null,r(new Error(e(478)+t+e(485)+i.status));const o=i.responseText;return i=null,o[e(491)]?r(new Error(e(478)+t+e(512)+o[e(491)])):s(o)},i[n(498)]=function(e){const s=n;i=null,r(new Error(s(478)+t+s(508)+e))},i[n(511)]("POST",t,!0),i[n(516)]("Content-type","application/sdp"),i.send(e)}));return r[s(477)]=function(){i&&(i[s(477)](),i=null)},r}!function(t,e){const s=uR,i=t();for(;;)try{if(535843===parseInt(s(492))/1*(-parseInt(s(481))/2)+-parseInt(s(494))/3+-parseInt(s(482))/4+parseInt(s(493))/5+-parseInt(s(473))/6+-parseInt(s(509))/7+parseInt(s(474))/8*(parseInt(s(489))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(fR);const yR=vR;function AR(){const t=["body","cancel","player","loadSource getWebRtcRemoteSdp response error","_opt","debugLog","4055472zyKPEd","catch","1643357JbnZJW","getWebRtcRemoteSdp loadSource","loadSource","29770gzJHYt","replace","12764920zfFTEl","2hBwPXJ","fetchPromise","name","toString","getWebRtcRemoteSdp response and code is ","WebrtcForSRSDecoder","createOffer","_requestAbort","code","destroy","abortController","sdp","2725638bXbIyu","rtcPeerConnection","webrtc:","debugError","protocol","5AnattT","then","7578508CgOnag","response json code ","TAG_NAME","setLocalDescription","location","parseSdp","setRemoteDescription","5289711vxpERC","response sdp is null","3825oPKliS","webrtcForSRSBySDK","msg","loadSource rtcPeerConnection.createOffer() error","answer"];return(AR=function(){return t})()}function vR(t,e){const s=AR();return(vR=function(t,e){return s[t-=380]})(t,e)}!function(t,e){const s=vR,i=t();for(;;)try{if(931251===parseInt(s(418))/1*(parseInt(s(424))/2)+parseInt(s(403))/3+parseInt(s(416))/4+parseInt(s(394))/5*(parseInt(s(389))/6)+-parseInt(s(396))/7+-parseInt(s(423))/8+-parseInt(s(405))/9*(parseInt(s(421))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(AR);class bR extends aR{constructor(t){const e=vR;super(t),this[e(398)]=e(382),this[e(387)]=null,this.player[e(415)](this[e(398)],"init")}[yR(386)](){const t=yR;super[t(386)](),this[t(412)][t(415)](this[t(398)],t(386))}[yR(420)](t){return new Promise(((e,s)=>{const i=vR,r=this[i(390)];r[i(383)]()[i(395)]((n=>{const o=i;r[o(399)](n),this[o(412)][o(415)](this[o(398)],o(419),t);let a=null,h=t;this[o(412)]._opt[o(406)]?(a=mR,h=t[o(422)](window[o(400)][o(393)],o(391))):this[o(412)][o(414)].webrtcForSRSByWhipWhep?a=gR:(this[o(387)]=new AbortController,a=pR);let l=a(h,n[o(388)],this[o(387)]);this[o(425)]=l,l[o(395)]((t=>{const i=o;if(this[i(384)])return void(t[i(410)]&&t.body[i(411)]&&t[i(410)][i(411)]()[i(417)]((()=>{})));this[i(425)]=null,this[i(387)]=null,this[i(412)][i(415)](this.TAG_NAME,i(381)+t[i(385)]);const n=t;if(n&&Ps(n.code)&&0!==n[i(385)])return this[i(412)][i(392)](this.TAG_NAME,i(397)+n[i(385)]),s(n[i(407)]);if(n){const t=n[i(388)]||n;this[i(401)](t);const o=this.isVideoCodecSupported();if(Si(o.result))return s(o.error);r[i(402)](new RTCSessionDescription({type:i(409),sdp:t})).then((()=>{e()}))[i(417)]((t=>{const e=i;this[e(412)]&&this[e(412)][e(392)](this[e(398)],"loadSource setRemoteDescription error",t[e(380)](),t),s(t)}))}else this[i(412)][i(392)](this.TAG_NAME,i(404)),s("response sdp is null")}))[o(417)]((t=>{const e=o;"AbortError"!==t[e(426)]&&null!==this[e(425)]&&(this[e(425)]=null,this[e(387)]=null,this.player[e(392)](this.TAG_NAME,e(413),t[e(380)](),t),s(t))}))}))[i(417)]((t=>{const e=i;this[e(412)].debugError(this.TAG_NAME,e(408),t[e(380)](),t),s(t)}))}))}}const SR=wR;function ER(){const t=["3311541sSjxvc","parse","2qovDuH","loadSource setRemoteDescription error","40OnFcKE","abortController","signal","25752JHgIpe","this is json sdp response","response sdp json code: ","loadSource","sdp","WebrtcForOthersDecoder","catch","debugError","3332024sRYxrM","createOffer","1399704cGMmga","then","response json code ","player","348aNrfXU","21OelIOc","307813XLzvGx","25UapSdx","loadSource rtcPeerConnection.createOffer() error","TAG_NAME","getWebRtcRemoteSdp response","toString","init","getWebRtcRemoteSdp response and code is ","setRemoteDescription","debugLog","destroy","loadSource getWebRtcRemoteSdp response error","248298cinuRN","_requestAbort","name","sdp is null","loadSource response.text() error","text","54465744ybEHrm","loadSource sdp is null","code"];return(ER=function(){return t})()}function wR(t,e){const s=ER();return(wR=function(t,e){return s[t-=259]})(t,e)}!function(t,e){const s=wR,i=t();for(;;)try{if(869825===-parseInt(s(288))/1*(parseInt(s(259))/2)+parseInt(s(293))/3*(-parseInt(s(263))/4)+parseInt(s(266))/5*(parseInt(s(277))/6)+parseInt(s(264))/7*(-parseInt(s(301))/8)+-parseInt(s(286))/9+parseInt(s(290))/10*(-parseInt(s(265))/11)+parseInt(s(283))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ER);class TR extends aR{constructor(t){const e=wR;super(t),this[e(268)]=e(298),this[e(262)].debugLog(this[e(268)],e(271))}[SR(275)](){const t=SR;super.destroy(),this[t(262)][t(274)](this[t(268)],t(275))}[SR(296)](t){return new Promise(((e,s)=>{const i=wR,r=this.rtcPeerConnection;r[i(302)]()[i(260)]((n=>{const o=i;r.setLocalDescription(n),this[o(262)][o(274)](this.TAG_NAME,"getWebRtcRemoteSdp loadSource",t),this[o(291)]=new AbortController,function(t,e,s){const i=uR;return fetch(t,{method:i(472),mode:i(499),cache:i(484),credentials:i(503),redirect:i(510),referrerPolicy:i(497),headers:{"Content-Type":i(476)},body:e,signal:s?s[i(479)]:null})}(t,n[o(297)],this[o(291)])[o(260)]((t=>{const i=o;this[i(278)]?t.body.cancel()[i(299)]((()=>{})):(this.abortController=null,this.player.debugLog(this[i(268)],i(272)+t[i(285)]),t[i(282)]()[i(260)]((t=>{const n=i;this.player[n(274)](this.TAG_NAME,n(269));try{let e=JSON[n(287)](t);this[n(262)][n(274)](this.TAG_NAME,n(294)),Ps(e.code)&&0!=e.code&&(this[n(262)][n(300)](this[n(268)],n(261)+e[n(285)]),s(new Error(n(295)+e[n(285)]))),t=e[n(297)]}catch(t){this.player[n(274)](this.TAG_NAME,"this is raw sdp response")}t?r[n(273)](new RTCSessionDescription({type:"answer",sdp:t}))[n(260)]((()=>{e()}))[n(299)]((t=>{const e=n;this[e(262)][e(300)](this[e(268)],e(289),t[e(270)](),t),s(t)})):(this[n(262)][n(300)](this[n(268)],n(284)),s(n(280)))}))[i(299)]((t=>{const e=i;this.player[e(300)](this.TAG_NAME,e(281),t.toString(),t),s(t)})))}))[o(299)]((t=>{const e=o;this[e(291)]&&this[e(291)][e(292)]&&this.abortController[e(292)].aborted||"AbortError"!==t[e(279)]&&(this[e(291)]=null,this[e(262)][e(300)](this[e(268)],e(276),t[e(270)](),t),s(t))}))}))[i(299)]((t=>{const e=i;this[e(262)][e(300)](this.TAG_NAME,e(267),t[e(270)](),t),s(t)}))}))}}function IR(t,e){const s=_R();return(IR=function(t,e){return s[t-=211]})(t,e)}const kR=IR;function _R(){const t=["rtcPeerConnection","debugError","data","toFixed","createOffer","parseSdp","byteLength","kind","ontrack video","oniceconnectionstatechange","candidate","channel","then","answer","AbortError","loadSource sdp is null","rtcPeerConnectionDataChannel","onclose","find","onsignalingstatechange","audio","addTransceiver","getWebRtcRemoteSdp response","emitError","webrtcIceCandidateError","checking","rtcPeerTrackAudioReceiver","getReceivers","rtcPeerTrackVideoReceiver","parse","name","completed","_startBandwidthEstimateInterval","6165052jCbGiz","dispatch","srcObject","track","88rXPYQz","sdp","aborted","onsignalingstatechange[本地端的信号状态]","isWebrtcH265","toString","onconnectionstatechange[所有ICE 状态总览]","new","setRemoteDescription","type","streams","disconnected","videoStream","connecting","isDestroyedOrClosed","kBps","onicegatheringstatechange[ICE收集状态]","hasAudio","_requestAbort","12GtnITV","body","autoplay","failed","length","init","result","onicecandidate","Remote ICE candidate: ","debugLog","video","_createEncodedStreams","createDataChannel","signal","onnegotiationneeded[通信环境发生变化]","onicecandidateerror","ondatachannel is H265 but decode is h264 so emit webrtcStreamH265 ","webrtcFailed","streamRateInterval","emit","_isDestroyed","loadSource rtcPeerConnection.createOffer() error","loadSource","6590122EJfTCB","3ExLKZB","onmessage","player","ondatachannel and player is destroyed and return","onicecandidateerror[candidate错误]","error","41645490iiskRF","webrtcOnIceConnectionStateChange","TAG_NAME","abortController","isDisconnected","webrtcDisconnect","1315897qRwfPp","iceConnectionState","connected","webrtcClosed","3778154HoVXoC","demux","_opt","ondatachannel and onopen","webrtcOnConnectionStateChange","WebrtcForM7SDecoder","recvonly","_initRtcPeerConnection","onicegatheringstatechange","2793305xKBqEU","closed","streamRate","catch","debugWarn","721287ADYTRD","isWebrtcH264","close","iceGatheringState","onopen","destroy","ontrack","isVideoCodecSupported","getWebRtcRemoteSdp loadSource"];return(_R=function(){return t})()}!function(t,e){const s=IR,i=t();for(;;)try{if(992657===parseInt(s(266))/1+-parseInt(s(270))/2+-parseInt(s(254))/3*(parseInt(s(326))/4)+parseInt(s(279))/5*(-parseInt(s(230))/6)+parseInt(s(253))/7+parseInt(s(211))/8*(-parseInt(s(284))/9)+parseInt(s(260))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(_R);class CR extends aR{constructor(t){const e=IR;super(t),this[e(309)]=null,this.player[e(215)]()&&(this.streamRate=es((s=>{const i=e;t[i(249)](O[i(226)],(s/1e3)[i(296)](2))}))),this.TAG_NAME=e(275),this.player.debugLog(this[e(262)],e(235))}[kR(289)](){const t=kR;super[t(289)](),this.stopStreamRateInterval(),this[t(309)]&&(this[t(309)][t(288)]=null,this[t(309)].onclose=null,this[t(309)].onmessage=null,this[t(309)][t(286)](),this[t(309)]=null),this[t(256)][t(239)](this.TAG_NAME,"destroy")}[kR(277)](){const t=kR,e=new RTCPeerConnection,s=this[t(256)],i=e[t(314)](t(240),{direction:t(276)});this[t(256)][t(272)][t(228)]&&e[t(314)](t(313),{direction:"recvonly"}),s[t(285)]()&&this.player[t(272)].isEmitSEI&&this[t(241)](i.receiver),e[t(312)]=e=>{const s=t;this.player[s(239)](this[s(262)],s(214),e)},e[t(278)]=s=>{const i=t;this[i(256)][i(239)](this[i(262)],i(227),s,e[i(287)])},e.onnegotiationneeded=e=>{const s=t;this[s(256)].debugLog(this[s(262)],s(244),e)},e[t(302)]=i=>{const r=t;this[r(256)].debugLog(this[r(262)],r(302),e[r(267)]);const n=e[r(267)];switch(this.player[r(249)](O[r(261)],n),this.isDisconnected=n===r(222),e.iceConnectionState){case r(218):case r(318):case"closed":break;case"failed":s[r(249)](O.webrtcFailed);break;case r(222):s.emit(O[r(265)]);break;case r(268):case r(324):break;case r(280):s[r(249)](O[r(269)])}},e[t(237)]=e=>{const s=t;this[s(256)][s(239)](this[s(262)],s(237),e),e[s(303)]&&this.player[s(239)](this[s(262)],s(238),e[s(303)][s(303)])},e[t(290)]=i=>{const r=t;this.player[r(239)](this.TAG_NAME,"ontrack",i);const n=s.getWebrtcVideo();if(s.isWebrtcH264())if(i[r(329)][r(300)]===r(240)){this.player[r(239)](this[r(262)],r(301)),this.rtcPeerTrackVideoReceiver=e[r(320)]().find((function(t){const e=r;return t[e(329)]===i[e(329)]})),this[r(321)]&&this[r(325)]();let t=i[r(221)][0];n[r(232)]=!0,n[r(328)]=t,this[r(223)]=t}else i[r(329)][r(300)]===r(313)&&(this[r(256)].debugLog(this[r(262)],"ontrack audio"),this[r(319)]=e[r(320)]()[r(311)]((function(t){const e=r;return t[e(329)]===i[e(329)]})),this[r(319)]&&this[r(325)]())},e[t(245)]=e=>{const s=t;this[s(256)].debugLog(this[s(262)],s(258),e),this[s(256)][s(316)](V[s(317)],e)},e.onconnectionstatechange=i=>{const r=t;switch(this[r(256)][r(239)](this[r(262)],r(217),i),this.player[r(249)](O[r(274)],e.connectionState),e.connectionState){case r(218):case r(224):case r(268):case"disconnected":break;case r(233):this[r(264)]&&s[r(249)](O[r(247)]);case r(280):}},e.ondatachannel=e=>{const s=t,i=e[s(304)];this[s(256)][s(239)](this[s(262)],"ondatachannel"),i.onopen=()=>{const t=s;this[t(256)][t(239)](this[t(262)],t(273))},i[s(255)]=t=>{const e=s,i=t[e(295)];if(!this[e(250)]){if(!this[e(256)][e(225)]())return this[e(256)][e(285)]()?(this.player[e(283)](this[e(262)],e(246)),void this[e(256)][e(249)](O.webrtcStreamH265)):(this[e(281)]&&this[e(281)](i[e(299)]),void(this.player[e(271)]&&this[e(256)][e(271)][e(327)](i)));this[e(256)][e(283)](this[e(262)],e(257))}},i[s(310)]=()=>{const t=s;this[t(256)][t(283)](this[t(262)],"ondatachannel and onclose")},this.rtcPeerConnectionDataChannel=i};e[t(242)](t(243))[t(255)]=e=>{const s=t;this.player[s(239)](this[s(262)],"signalChannel,onmessage",e);switch(JSON[s(322)](e[s(295)])[s(220)]){case"offer":case"answer":case s(303):}},this[t(293)]=e}startStreamRateInterval(){const t=kR;this.stopStreamRateInterval(),this[t(248)]=setInterval((()=>{const e=t;this.streamRate&&this[e(281)](0)}),1e3)}stopStreamRateInterval(){const t=kR;this[t(248)]&&(clearInterval(this[t(248)]),this[t(248)]=null)}[kR(252)](t){const e=kR;let s=arguments[e(234)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e,o=this.rtcPeerConnection;o[n(297)]()[n(305)]((e=>{const a=n;o.setLocalDescription(e),this.player[a(239)](this[a(262)],a(292),t),this.abortController=new AbortController,function(t,e){const s=uR;let i=arguments[s(486)]>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[s(486)]>3?arguments[3]:void 0,n={"Content-Type":s(476)};return i[s(515)]&&i[s(505)]&&(n[s(480)]="Basic "+btoa(i[s(515)]+":"+i.password)),fetch(t,{method:"POST",mode:s(499),cache:s(484),credentials:s(503),redirect:s(510),referrerPolicy:s(497),headers:n,body:e,signal:r?r.signal:null})}(t,e[a(212)],s,this[a(263)]).then((t=>{const e=a;this[e(229)]?t[e(231)].cancel()[e(282)]((()=>{})):(this[e(263)]=null,t.text().then((t=>{const s=e;if(this[s(256)][s(239)](this.TAG_NAME,s(315)),t){this[s(298)](t);const e=this[s(291)]();if(Si(e[s(236)]))return r(e[s(259)]);o[s(219)](new RTCSessionDescription({type:s(306),sdp:t}))[s(305)]((()=>{const t=s;this[t(256)][t(215)]()&&this.startStreamRateInterval(),i()}))[s(282)]((t=>{const e=s;this[e(256)][e(294)](this[e(262)],"loadSource setRemoteDescription error",t[e(216)](),t),r(t)}))}else this[s(256)].debugError(this[s(262)],s(308)),r("sdp is null")}))[e(282)]((t=>{const s=e;this[s(256)][s(294)](this[s(262)],"loadSource response.text() error",t[s(216)](),t),r(t)})))})).catch((t=>{const e=a;this[e(263)]&&this[e(263)].signal&&this[e(263)].signal[e(213)]||t[e(323)]!==e(307)&&(this[e(263)]=null,this.player[e(294)](this[e(262)],"loadSource getWebRtcRemoteSdp response error",t[e(216)](),t),r(t))}))}))[n(282)]((t=>{const e=n;this.player.debugError(this[e(262)],e(251),t[e(216)](),t),r(t)}))}))}}const DR=LR;function RR(){const t=["player","4759608ynKkft","toString","loadSource getWebRtcRemoteSdp response error","getWebRtcRemoteSdp loadSource","51ynFPws","setRemoteDescription","71102IyfeDR","loadSource setRemoteDescription error","2061EaFswN","1813304fpLIRt","TAG_NAME","createOffer","result","msg","6359345HToLUz","parseSdp","loadSource","debugLog","sdp is null","fetchPromise","code","destroy","debugError","catch","response sdp is null","975378dItuer","setLocalDescription","error","then","getWebRtcRemoteSdp response and code is ","1174700mpkwMS","sdp","73000aDIcZC"];return(RR=function(){return t})()}function LR(t,e){const s=RR();return(LR=function(t,e){return s[t-=266]})(t,e)}!function(t,e){const s=LR,i=t();for(;;)try{if(723284===parseInt(s(267))/1+-parseInt(s(277))/2*(parseInt(s(275))/3)+parseInt(s(280))/4+parseInt(s(285))/5+-parseInt(s(296))/6+parseInt(s(271))/7+-parseInt(s(269))/8*(parseInt(s(279))/9))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(RR);class PR extends aR{constructor(t){const e=LR;super(t),this[e(281)]="WebrtcForZLMDecoder",this[e(290)]=null,this[e(270)][e(288)](this[e(281)],"init")}destroy(){const t=LR;super.destroy(),this[t(270)][t(288)](this[t(281)],t(292))}[DR(287)](t){return new Promise(((e,s)=>{const i=LR,r=this.rtcPeerConnection;r[i(282)]()[i(299)]((n=>{const o=i;r[o(297)](n),this[o(270)][o(288)](this[o(281)],o(274),t);let a=function(t,e,s){const i=uR;return Hc({url:t,type:i(472),data:e,contentType:i(501),processData:!1,dataType:i(471)})}(t,n[o(268)]);this[o(290)]=a,a[o(299)]((t=>{const i=o;this[i(290)]=null,this[i(270)][i(288)](this[i(281)],i(266)+t[i(291)]);const n=t;if(n&&Ps(n.code)&&0!==n[i(291)])return this.player[i(293)](this[i(281)],"response json code "+n.code),s(n[i(284)]);if(n&&n[i(268)]){this[i(286)](n[i(268)]);const t=this.isVideoCodecSupported();if(Si(t[i(283)]))return s(t[i(298)]);r[i(276)](new RTCSessionDescription({type:"answer",sdp:n[i(268)]}))[i(299)]((()=>{e()}))[i(294)]((t=>{const e=i;this[e(270)][e(293)](this.TAG_NAME,e(278),t[e(272)](),t),s(t)}))}else this[i(270)].debugError(this[i(281)],i(295)),s(i(289))}))[o(294)]((t=>{const e=o;null!==this[e(290)]&&(this[e(290)]=null,this[e(270)].debugError(this[e(281)],e(273),t.toString(),t),s(t))}))})).catch((t=>{const e=i;this.player[e(293)](this[e(281)],"loadSource rtcPeerConnection.createOffer() error",t[e(272)](),t),s(t)}))}))}}const xR=BR;function MR(){const t=["4SjVBwO","createClient","push","9StVFDh","aliyunRtcRemoteStream","errorCode","loadSource and subscribe is not success: ","getVideoCurrentTime","onPlayEvent and waiting -> playing","2662392nSiYkf","689607mHIvEo","194300RiFFWR","play","onError and code is ","TAG_NAME","getVideoBufferRangeList","bytesReceivedPerSecond","then","updateStats","kBps","audio","destroy","onPlayEvent and playing - > waiting","aliyunRtcError","canplay","floor","paused","toFixed","isVideoPlaying","onPlayEvent and canplay","debugError","start","player","debugLog","playbackRate","emit","event","end","1768nfMECh","$videoElement","catch","AliRTS","24452uTGbOW","off","isSupport","MEDIA","vbps","aliyunRtc","89028wwugqr","CANPLAY","onError","readyState","buffered","listenEvents","data","PLAYING","message","_isDestroyed","31kbtCac","unsubscribe","currentTime","reconnect","emitError","video","init","AliyunRtc is not defined","6776ygmelk","length","1270660BuAoax","getVideoCodec","abps"," and message: ","getVideoBufferTimeRange","waiting","220mgytyn","onPlayEvent"];return(MR=function(){return t})()}function BR(t,e){const s=MR();return(BR=function(t,e){return s[t-=147]})(t,e)}!function(t,e){const s=BR,i=t();for(;;)try{if(285371===-parseInt(s(209))/1*(parseInt(s(193))/2)+-parseInt(s(161))/3*(parseInt(s(151))/4)+-parseInt(s(162))/5+parseInt(s(160))/6+-parseInt(s(217))/7*(-parseInt(s(189))/8)+-parseInt(s(154))/9*(-parseInt(s(219))/10)+parseInt(s(149))/11*(parseInt(s(199))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(MR);class FR extends zi{constructor(t){const e=BR;if(super(),this[e(165)]="AliyunRtc",this.player=t,!window[e(192)])throw new Error(e(216));this[e(198)]=window[e(192)][e(152)](),this[e(155)]=null,this[e(190)]=this[e(183)].video[e(190)],this.listenEvents(),this[e(208)]=!1,this[e(183)][e(184)](this[e(165)],e(215))}[xR(172)](){const t=xR;this._isDestroyed=!0,this[t(198)]&&(this[t(155)]&&(this.aliyunRtcRemoteStream=null),this[t(198)][t(210)](),this.aliyunRtc=null),this.$videoElement=null,this[t(194)](),this[t(183)][t(184)](this[t(165)],t(172))}[xR(204)](){const t=xR;this[t(198)].on(t(201),(e=>{const s=t;this[s(183)].debugLog(this[s(165)],s(164)+e[s(156)]+s(222)+e.message),10400!==e.errorCode&&(this[s(183)][s(181)](this[s(165)],s(164)+e[s(156)]+" and message: "+e[s(207)]),this[s(183)][s(213)](V[s(174)],e))})),this[t(198)].on(t(212),(e=>{const s=t;this[s(183)][s(184)](this[s(165)],s(212),e)}));const e={CANPLAY:t(175),WAITING:t(148),PLAYING:"playing",MEDIA:"media"};this[t(198)].on(t(150),(s=>{const i=t;if(s[i(187)]===e[i(200)])this[i(183)][i(184)](this[i(165)],i(180));else if(s[i(187)]===e.WAITING)this[i(183)][i(184)](this.TAG_NAME,i(173));else if(s[i(187)]===e[i(206)])this[i(183)].debugLog(this[i(165)],i(159));else if(s[i(187)]===e[i(196)]){const t=s[i(205)];let e={},r=0;if(t[i(171)]){const s=Math[i(176)](t.audio[i(167)]);r+=s,e[i(221)]=s}if(t[i(214)]){const s=Math[i(176)](t[i(214)][i(167)]);r+=s,e[i(197)]=s}this[i(183)][i(169)](e),this[i(183)][i(186)](O[i(170)],(r/1e3)[i(178)](2))}}))}loadSource(t){return new Promise(((e,s)=>{const i=BR;this[i(198)][i(195)]({isReceiveVideo:!0})[i(168)]((()=>{const r=i;this[r(198)].subscribe(t,{})[r(168)]((t=>{const s=r;this[s(155)]=t,t[s(163)](this[s(190)]),e()}))[r(191)]((t=>{const e=r;this.player[e(181)](this[e(165)],e(157),t[e(207)]),s(t[e(207)])}))}))[i(191)]((t=>{const e=i;this.player[e(181)](this[e(165)],"loadSource and is not support: ",t[e(207)]),s(t[e(207)])}))}))}[xR(158)](){const t=xR;let e=0;return this[t(190)]&&(e=this[t(190)][t(211)]),e}[xR(179)](){const t=xR;return this[t(190)]&&Si(this.$videoElement[t(177)])&&Si(this.$videoElement.ended)&&0!==this.$videoElement[t(185)]&&0!==this[t(190)][t(202)]}[xR(147)](){const t=xR,e=this.$videoElement;let s=null;if(e){const i=e.buffered,r=i[t(218)]?i[t(182)](0):0,n=i[t(218)]?i[t(188)](i.length-1):0;s={start:r,end:n,diff:n-r}}return s}[xR(166)](){const t=xR,e=this[t(190)];let s=[];if(e){const i=e[t(203)];for(let e=0;e<i[t(218)];e++){let r=i[t(182)](e),n=i[t(188)](e);s[t(153)]({start:r,end:n})}}return s}[xR(220)](){return K.h264}}function UR(t,e){const s=OR();return(UR=function(t,e){return s[t-=314]})(t,e)}function OR(){const t=["10450336LXwVUY","find","observe cpu success","emit","latestCpuInfo","cpu","player","getCurrentCpuState","54300oivEBx","disconnect","observe cpu fail","currentLevel","1719uFkIwg","13wkjbID","35172xNKPGH","debugLog","observe","previousLevel","PressureObserverCpu","172630asEsQr","nominal","4723110xGVSTl","1358EvudNL","state","not support PressureObserver","destroy","TAG_NAME","observeCpuSuccess","init","observer","critical","254352LRKGkf","1389969BZniVE","pressureObserverCpu","_init"];return(OR=function(){return t})()}const NR=UR;!function(t,e){const s=UR,i=t();for(;;)try{if(918474===-parseInt(s(321))/1*(parseInt(s(316))/2)+-parseInt(s(340))/3+-parseInt(s(339))/4+parseInt(s(329))/5+parseInt(s(322))/6*(-parseInt(s(330))/7)+-parseInt(s(343))/8+-parseInt(s(320))/9*(-parseInt(s(327))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(OR);class jR{constructor(t){const e=UR;this[e(314)]=t,this[e(334)]=e(326),this[e(337)]=null,this[e(347)]=null,this[e(319)]=-1,this[e(325)]=-1,this[e(335)]=!1,this[e(342)](),this.player[e(323)](this.TAG_NAME,e(336))}[NR(333)](){const t=NR;this.observer&&(this[t(335)]&&this[t(337)][t(317)](),this[t(337)]=null),this[t(335)]=!1,this.latestCpuInfo=null,this[t(319)]=-1,this[t(325)]=-1,this[t(314)][t(323)](this[t(334)],"destroy")}[NR(315)](){return this[NR(319)]}[NR(342)](){const t=NR;Si(_i())?this[t(314)][t(323)](this[t(334)],t(332)):(this[t(337)]=new PressureObserver((e=>{const s=t,i=(e||[])[s(344)]((t=>{const e=s;return t.source===e(348)}));if(i){switch(this[s(347)]=i,i[s(331)]){case s(328):this[s(319)]=0;break;case"fair":this[s(319)]=1;break;case"serious":this[s(319)]=2;break;case s(338):this[s(319)]=3;break;default:this.currentLevel=-1}this[s(319)]!==this[s(325)]&&this[s(314)][s(346)](O[s(341)],this[s(319)]),this[s(325)]=this[s(319)]}})),this[t(337)]&&this.observer[t(324)]("cpu",{sampleInterval:1e3}).then((()=>{const e=t;this.observeCpuSuccess=!0,this.player[e(323)](this[e(334)],e(345))})).catch((()=>{const e=t;this[e(335)]=!1,this.player[e(323)](this[e(334)],e(318))})))}}const VR=WR;function WR(t,e){const s=GR();return(WR=function(t,e){return s[t-=127]})(t,e)}function GR(){const t=["shadowRootInnerDom","48eeRJyP","resumeAnimation","5492620IdSHqm","rafID","DynamicWatermark","22235WENarq","once","36HrEyFQ","resize","min","content","bound","%20%E4%BD%93%E9%AA%8C","contains","start","2487438CNMYic","isStopAnimation","_addDom","opacity","waterMarkWillRemove","shadowRootDynamicDom","black","player","startAndResize","344bQfmrs","random","style","options","height","startAnimation","stopAnimation","removeDomTimeout","destroy","waterMarkWillAdd","addDomTimeout","89579JMDgrI","2685617lrIksL","ghostConfig","width","18854xTcAqc","32472FEyyGh","330GjTcuy","speed","top","TAG_NAME","left","fontSize","_removeDom","60ztOZGf","isPauseAnimation","isGhost","off"];return(GR=function(){return t})()}!function(t,e){const s=WR,i=t();for(;;)try{if(508079===parseInt(s(136))/1*(parseInt(s(150))/2)+-parseInt(s(157))/3*(parseInt(s(137))/4)+parseInt(s(155))/5*(-parseInt(s(138))/6)+-parseInt(s(132))/7*(parseInt(s(174))/8)+parseInt(s(165))/9+-parseInt(s(152))/10+parseInt(s(133))/11*(parseInt(s(145))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(GR);class zR extends Rn{constructor(t){const e=WR;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this[e(141)]=e(154),this[e(146)]=!1,this[e(166)]=!1,this.rafID=null,this[e(177)]=s,this[e(139)]=s.speed||.2,this.isDynamic=!0,this[e(170)]=null,this[e(147)]=!0===s.isGhost,this[e(147)]&&(this[e(141)]="GhostWatermark"),this[e(134)]={on:s.on||5,off:s[e(148)]||5},this[e(169)]=!1,this[e(130)]=!1,this.removeDomTimeout=null,this[e(131)]=null,this[e(161)]={start:this.start.bind(this)},this[e(172)][e(156)](O[e(164)],this[e(161)].start)}[VR(129)](){const t=VR;this[t(128)]&&(clearTimeout(this.removeDomTimeout),this.removeDomTimeout=null),this.addDomTimeout&&(clearTimeout(this[t(131)]),this[t(131)]=null),this[t(170)]=null,this.stopAnimation(),this[t(153)]&&(cancelAnimationFrame(this[t(153)]),this.rafID=null),this[t(177)]=null,this[t(134)]=null,this.bound=null,super[t(129)]()}start(){const t=VR;let e;Bi()?e=decodeURIComponent(b+t(162)):Mi()&&(e=this[t(177)][t(160)]);let s=this.player.getVideoInfo();!s&&(s={width:200,height:200}),e&&(this.update({text:{content:e,fontSize:this[t(177)][t(143)]||18,color:this[t(177)].color||t(171)},left:s[t(135)]*Math[t(175)](),top:s[t(178)]*Math.random(),opacity:this[t(177)][t(168)]||.15}),this.startAnimation())}[VR(173)](){const t=VR;this.start(),this[t(158)]()}[VR(179)](){const t=VR;if(!this[t(153)]){let e=1,s=1,i=Math[t(175)](),r={width:0,height:0};const n=()=>{const o=t;try{if(Si(this[o(146)])&&this.shadowRootDynamicDom&&this[o(149)]){const t=this[o(149)],a=this[o(170)],h=t.getBoundingClientRect(),l=a.getBoundingClientRect();if(l[o(135)]&&l[o(178)]&&(r[o(135)]=l[o(135)],r[o(178)]=l[o(178)]),!this[o(149)][o(163)](this[o(170)]))return this[o(147)]?Si(this[o(130)])&&(this[o(130)]=!0,this[o(131)]=setTimeout((()=>{const t=o;this[t(167)](h,r),this[t(130)]=!1,this[t(131)]=null}),1e3*this[o(134)][o(148)])):this._addDom(h,r),void(0!==this[o(139)]&&requestAnimationFrame(n));const c=Math[o(159)](1,0===this[o(139)]?0:this[o(139)]?this[o(139)]:.2);let d=l[o(142)]-h[o(142)],u=l[o(140)]-h.top;d+=c*s*i,u+=c*e*(1-i),d+r[o(135)]>h[o(135)]?(s=-1,i=Math[o(175)]()):d<0&&(s=1,i=Math.random()),u+r[o(178)]>h[o(178)]?(e=-1,i=Math.random()):u<0&&(e=1,i=Math.random()),d=Math[o(159)](h[o(135)]-r.width,d),u=Math[o(159)](h[o(178)]-r[o(178)],u);const p=d/h.width*100,f=u/h.height*100;this[o(170)][o(176)].left=p+"%",this[o(170)][o(176)].top=f+"%",Si(this[o(169)])&&this[o(147)]&&(this[o(169)]=!0,this[o(128)]=setTimeout((()=>{const t=o;this[t(144)](),this[t(169)]=!1,this[t(128)]=null}),1e3*this[o(134)].on))}}catch(t){}if(this[o(166)])return this[o(166)]=!1,cancelAnimationFrame(this.rafID),void(this[o(153)]=null);0!==this[o(139)]&&requestAnimationFrame(n)};this[t(153)]=requestAnimationFrame(n)}}_addDom(t,e){const s=VR;if(this[s(149)]&&this[s(170)]){this[s(149)].appendChild(this[s(170)]);let i=t[s(135)]*Math[s(175)](),r=t[s(178)]*Math[s(175)]();i=Math[s(159)](t[s(135)]-2*e.width,i),r=Math[s(159)](t[s(178)]-2*e.height,r),this.shadowRootDynamicDom.style[s(142)]=i+"px",this[s(170)][s(176)][s(140)]=r+"px"}}[VR(151)](){this[VR(146)]=!1}pauseAnimation(){this.isPauseAnimation=!0}[VR(127)](){this.isStopAnimation=!0}}function HR(t,e){const s=YR();return(HR=function(t,e){return s[t-=438]})(t,e)}const KR=HR;!function(t,e){const s=HR,i=t();for(;;)try{if(792496===-parseInt(s(474))/1*(-parseInt(s(438))/2)+-parseInt(s(510))/3+-parseInt(s(464))/4*(parseInt(s(509))/5)+-parseInt(s(496))/6*(-parseInt(s(520))/7)+parseInt(s(484))/8*(parseInt(s(447))/9)+parseInt(s(507))/10*(-parseInt(s(489))/11)+parseInt(s(519))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(YR);class qR extends zi{constructor(t){const e=HR;super(),this[e(452)]=t,this[e(482)]="DrawRectangle",this[e(466)](),this[e(530)](),this[e(450)]=[],this.$rectBox=null,this[e(515)]=null,this.bound={_handleDrawingRect:this._handleDrawingRect.bind(this),handleMouseMove:this.handleMouseMove.bind(this),handleMouseDown:this[e(483)][e(518)](this),handleMouseUp:this[e(476)][e(518)](this)},this[e(452)].on(O[e(472)],this[e(531)][e(513)]),this[e(452)].debugLog(this.TAG_NAME,e(528))}[KR(478)](){const t=KR;this._unbindEvents(),this[t(466)](),this[t(490)](),this.off(),this[t(531)]=null,this[t(452)][t(485)](this[t(482)],t(478))}[KR(466)](){const t=KR;this[t(504)]=!1,this[t(495)]=!1,this.startPoint=null,this[t(465)]=null,this[t(444)]=null}[KR(530)](){const t=KR;this.startPagePoint={x:0,y:0},this[t(503)]={x:0,y:0},this[t(465)]={x:0,y:0}}[KR(513)](t){const e=KR;this.drawingRectangle=t,t?this[e(456)]():(this._unbindEvents(),this[e(490)]())}_bindEvents(){const t=KR,{events:{proxy:e}}=this.player,s=e(this[t(452)][t(479)],t(532),this[t(531)][t(498)]),i=e(this.player[t(479)],t(493),this[t(531)][t(483)]),r=e(window,"mouseup",this[t(531)][t(476)]);this[t(506)](),this.bindEvents.push(s,i,r)}[KR(494)](){const t=KR;this[t(525)](),this[t(450)].length>0&&(this[t(450)][t(457)]((t=>{t&&t()})),this[t(450)]=[])}[KR(506)](){const t=KR;this.player[t(492)]()===f[t(516)]&&(this[t(515)]=document[t(442)]("div"),this[t(515)][t(501)][t(460)]=t(497),this[t(515)][t(451)][t(502)](t(439)),this[t(515)].style.width="100%",this[t(515)][t(501)][t(458)]=t(481),this[t(515)].style[t(446)]=1,this[t(452)][t(479)].appendChild(this[t(515)]))}[KR(525)](){const t=KR;if(this[t(515)]){if(!Tn(this[t(515)])){const e=this[t(452)][t(479)][t(526)](t(461));e&&this[t(452)][t(479)]&&this[t(452)][t(479)][t(522)](e)}this[t(515)]=null}}_removeRectBox(){const t=KR;if(this[t(512)]){if(!Tn(this[t(512)])){const e=this.player.$container[t(526)](t(471));e&&this[t(452)][t(479)]&&this[t(452)][t(479)][t(522)](e)}this[t(512)]=null}}handleMouseDown(t){const e=KR;if(t.stopPropagation(),!this[e(504)])return;this[e(490)]();const s=t[e(463)],i=t[e(467)];this[e(503)].x=s,this[e(503)].y=i,this.startPagePoint.x=t[e(499)]-this[e(452)][e(479)].offsetLeft,this[e(444)].y=t[e(527)]-this.player[e(479)][e(453)],this.$rectBox=document.createElement(e(529)),this.$rectBox[e(451)][e(502)]("jb-pro-drawing-rect-box"),this.$rectBox[e(501)].border=this[e(452)][e(443)][e(462)]+e(470)+this.player[e(443)][e(441)],this[e(512)][e(501)][e(460)]="absolute",this[e(512)][e(501)][e(488)]=this.startPoint.x+"px",this.$rectBox[e(501)].top=this[e(503)].y+"px",this[e(452)][e(479)][e(440)](this[e(512)]),this[e(495)]=!0}handleMouseMove(t){const e=KR;if(t[e(454)](),!this.isDragging)return;if(!this.drawingRectangle)return;if(!this[e(512)])return;const s=this.player[e(479)],i=this[e(452)][e(511)](),r=t[e(499)]-s[e(455)],n=t.pageY-s[e(453)];if(r<this[e(444)].x||n<this[e(444)].y)return;this[e(465)].x=r,this.endPoint.y=n;let o=Math[e(523)](this.endPoint.x-this[e(444)].x),a=Math[e(523)](this[e(465)].y-this[e(444)].y),h=this[e(452)].width-this.startPoint.x-1-2*this[e(452)][e(443)][e(462)],l=this.player.height-this[e(503)].y-i-1-2*this[e(452)][e(443)].drawingRectLineWidth;o>h&&(o=h,this[e(465)].x=this.startPoint.x+o),a>l&&(a=l,this[e(465)].y=this[e(503)].y+a),this[e(512)][e(501)][e(469)]=o+"px",this[e(512)][e(501)][e(458)]=a+"px"}handleMouseUp(t){const e=KR;if(t.stopPropagation(),this[e(504)]&&this[e(495)]){t[e(477)](),this[e(495)]=!1;const s=this[e(465)].x-this[e(503)].x>0,i=this[e(465)].y-this[e(503)].y>0,r=!s||!i;if((this[e(452)]._opt.drawingRectEndRemoveDom||r)&&this._removeRectBox(),r)return;const n={startPoint:this[e(503)],endPoint:this.endPoint,width:Math[e(523)](this[e(465)].x-this[e(503)].x),height:Math[e(523)](this.endPoint.y-this[e(503)].y)},o={},a=this.player[e(500)]();if(a[e(469)]&&a[e(458)])if(this[e(452)][e(443)][e(524)]===e(480)){const t=this.player[e(449)]();let s=t.width,i=t[e(458)],r=a.width,h=a[e(458)],l=s/r,c=i/h;const d=this[e(452)][e(443)][e(508)],u=this.player[e(443)][e(468)];let p=0,f=0;if(d&&(l>c?(l=c,p=Math[e(486)]((s-r*l)/2)):(c=l,f=Math[e(486)]((i-h*c)/2))),u){let t=l>c?l:c;l=t,c=t}const m=h,g=r;o.startPoint={x:Math.max(0,Math[e(459)](Math[e(486)]((n[e(503)].x-p)/l),g)),y:Math[e(505)](0,Math.min(Math[e(486)]((n[e(503)].y-f)/c),m))},o[e(465)]={x:Math[e(505)](0,Math[e(459)](Math[e(486)]((n[e(465)].x-p)/l),g)),y:Math.max(0,Math[e(459)](Math[e(486)]((n[e(465)].y-f)/c),m))},o[e(469)]=o[e(465)].x-o[e(503)].x,o.height=o[e(465)].y-o[e(503)].y}else{const t=this[e(452)][e(443)][e(524)].split(":")[e(514)](Number),s=this[e(452)].getShowVideoRect();let i=s.width,r=s[e(458)];const h=a[e(469)]/a[e(458)],l=t[0]/t[1];let c=0,d=0,u=0,p=0,f=a[e(469)],m=a[e(458)];if(h>l){c=i*(l*a[e(458)]/a[e(469)]),d=r,u=(i-c)/2}else{const t=a[e(469)]/l/a[e(458)];c=i,d=r*t,p=(r-d)/2}o[e(503)]={x:Math.max(0,Math.min(Math[e(486)]((n[e(503)].x-u)/(c/a[e(469)])),f)),y:Math[e(505)](0,Math[e(459)](Math[e(486)]((n.startPoint.y-p)/(d/a[e(458)])),m))},o[e(465)]={x:Math[e(505)](0,Math.min(Math[e(486)]((n[e(465)].x-u)/(c/a.width)),f)),y:Math[e(505)](0,Math[e(459)](Math.floor((n[e(465)].y-p)/(d/a.height)),m))},o[e(469)]=o[e(465)].x-o[e(503)].x,o.height=o[e(465)].y-o.startPoint.y}this[e(452)][e(491)](O[e(448)],{container:n,video:o}),this[e(530)]()}}[KR(473)](){const t=KR,e=this[t(452)].getShowVideoRect(),s=this[t(452)][t(500)]();let i=e[t(469)],r=e[t(458)],n={minX:0,minY:0,maxX:i,maxY:r};if(this[t(452)]._opt[t(524)]===t(480)){const e=this[t(452)]._opt.isResize;let o=s[t(469)],a=s[t(458)],h=i/o,l=r/a;e&&(h>l?(n[t(445)]=Math[t(486)]((i-o*h)/2),n.maxX=Math[t(486)](n[t(445)]+o*h)):(n[t(487)]=Math[t(486)]((r-a*l)/2),n[t(517)]=Math[t(486)](n[t(487)]+a*l)))}else{const e=this.player[t(443)][t(524)][t(521)](":")[t(514)](Number),o=s.width/s[t(458)],a=e[0]/e[1];let h=0,l=0;if(o>a){h=i*(a*s.height/s[t(469)]),n[t(445)]=Math[t(486)]((i-h)/2),n[t(475)]=Math[t(486)](n[t(445)]+h)}else{l=r*(s[t(469)]/a/s[t(458)]),n[t(487)]=(r-l)/2,n[t(487)]=Math[t(486)](n[t(445)]+l)}}return n}}function YR(){const t=["startPoint","drawingRectangle","max","_addRectCanvasContainer","150cZPyBW","isResize","165355cOeusQ","2204634zTQXqu","getControlHeight","$rectBox","_handleDrawingRect","map","$element","canvas","maxY","bind","16763736WDwvrB","1761025RSoYJA","split","removeChild","abs","aspectRatio","_removeRectCanvasContainer","querySelector","pageY","init","div","_resetPoint","bound","mousemove","2942822JLVLGg","jb-pro-drawing-rect-box-canvas-container","appendChild","drawingRectColor","createElement","_opt","startPagePoint","minX","zIndex","81ijqGBd","drawingRectInfo","getShowVideoRect","bindEvents","classList","player","offsetTop","stopPropagation","offsetLeft","_bindEvents","forEach","height","min","position",".jb-pro-drawing-rect-box-canvas-container","drawingRectLineWidth","offsetX","172RVmjAf","endPoint","reset","offsetY","isFullResize","width","px solid ",".jb-pro-drawing-rect-box","drawingRect","getDrawingMinLeftTop","1sxikcv","maxX","handleMouseUp","preventDefault","destroy","$container","default","100%","TAG_NAME","handleMouseDown","309496qejRVI","debugLog","floor","minY","left","1118348qqHdUa","_removeRectBox","emit","getRenderType","mousedown","_unbindEvents","isDragging","30XXuMno","absolute","handleMouseMove","pageX","getVideoInfo","style","add"];return(YR=function(){return t})()}function QR(t,e){const s=XR();return(QR=function(t,e){return s[t-=225]})(t,e)}const JR=QR;function XR(){const t=["videoCurrentTime","setPlayingTimestamp()"," and totalDuration is ","useWasm"," and\n        video info is ","$container","_playbackTs","isRateMoreThanMaxRate","startCheckStatsInterval","getCurrentTime","playVodForwardMaxRateDecodeIFrame","_playingTimestamp","isSeeking","useWCS","debugLog","_prevTs","playVodStats","playVodPause","player","emit","calcRateMoreThanMaxRate","setRate","isFFmpegSIMD","calcRateMoreThanMaxRate() and\n        useWCS is ","audio","useSIMD"," < "," and diff is ","_prevTime","video","isEnded()","_bufferedTimestamp","updateStats","isPlayVodNotUseMseAndNotVideoSrc","lessThanCurrentTimeTimeout"," and return true","isPlayVodUseWASM","38620cShxPU","debugWarn"," duration is ","init","clearLessThanCurrentTimeTimeout","seek","destroy","updateStats and calcFps is "," and bufferedTime is ","_listen","playingTimestamp","isPlayVodUseMSE","playVodCalcFpsError","_totalDuration","_seekingTimestamp","_removeSeekingTimestamp","height","playVodBufferedTime","fps"," < 1000 so return and emit error","_calcFps","_startfpsTime","playVodTime","2577088QOtSIb"," and set _isEndedOnce to true","width","isEnded","time","calcPlayVodForwardMaxRateDecodeIFrame","jb-pro-container-play-vod"," > this._totalDuration ","seekingTimestamp","isPlayVodMp4UseVideoSrc and diff is ","checkIsEnded","debug","setFps","playVodRateChange","once","_startFpsTimestamp","_allStatsData","2030942KArpnf","7869267hejMvr","setStartTime","_isLessThanCurrentTime","currentPts","resume","_isEnded"," <= ","start","_isEndedOnce is true and diff playingTimestamp is ","clearUpAllSourceBuffer","setPlayingTimestamp"," and\n        video encode code is ","isPlayVodMp4UseVideoSrc","playVodEnded","round"," and listen start event to seek","can not calc fps, video fps must more than 10","isPlayVodMp4UseVideoSrc and video is ended","3zAdPbI","getVideoCurrentTime","stats","classList","startTime","2156730atwsXc","isEnded() check isRateMoreThanMaxRate and isBufferEnd and ts is ","mseDecoder","bufferSize","playVodFps","1062uCnaEr","_reset","TAG_NAME","obj.time is ","628UIBxtY","showControl"," and\n        calcForwardMaxRateDecodeIFrame is ","clearStatsInterval","length","setBufferedTime","rate","updateDuration() success and startTime is ","_rate"," and\n        useWasm is ","decodeLastDataForVod","useMThreading","videoCurrentTimeDiff","playVodSeeking"," and\n        useSIMD is "," and\n        isFFmpegSIMD is ","setCurrentTime","isSeekingLessThanCurrentTime","playVodEndedAndReplay","off","860TstBqg"," < maxDiff ","_renderFps","_fps","seek()","getBufferedTime","\n                    and next update video currentTime"," < playVodMaxGopDuration ","add"," * ","489769LnSOFD","_opt","bound","_startTime"," and ts is ","uiUsePlaybackPause","setFps()","updateStats and videoCurrentTimeDiff is 0 and\n                    videoCurrentTime is ","jessibuca-container-play-vod","_isEndedOnce","totalDuration","playVodMaxGopDuration","removeSeekingTimestamp","_checkStatsInterval"];return(XR=function(){return t})()}!function(t,e){const s=QR,i=t();for(;;)try{if(879076===-parseInt(s(334))/1+-parseInt(s(271))/2*(parseInt(s(290))/3)+parseInt(s(304))/4*(parseInt(s(231))/5)+parseInt(s(295))/6+parseInt(s(272))/7+-parseInt(s(254))/8+-parseInt(s(300))/9*(-parseInt(s(324))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(XR);class $R extends zi{constructor(t,e){const s=QR;super(),this[s(366)]=t,this[s(302)]="PlayVod",this[s(366)][s(353)][s(293)][s(332)](s(260)),this[s(301)](),this[s(327)]=parseInt(e[s(249)],10)||t._opt[s(299)],this._checkStatsInterval=null,this[s(228)]=null,this.bound={updateStats:this[s(226)].bind(this),calcRateMoreThanMaxRate:this[s(368)].bind(this)},this[s(240)]();let i=e.startTime||0;this[s(273)](i),this[s(366)].on(O.playVodPause,(t=>{t?this.pause():this.resume()}));const r={fps:this[s(327)],uiUsePlaybackPause:e[s(339)],showControl:e[s(305)]};this[s(259)]=this[s(366)]._opt[s(358)],this[s(366)][s(268)](O.videoInfo,this[s(336)][s(368)]),t[s(265)].log(this[s(302)],s(234),JSON.stringify(r))}[JR(237)](){const t=JR;this.clearLessThanCurrentTimeTimeout(),this[t(307)](),this[t(301)](),this[t(366)][t(353)]&&this.player[t(353)][t(293)].remove(t(342)),this[t(323)](),this.bound=null,this[t(366)].debugLog(this[t(302)],t(237))}[JR(301)](){const t=JR;this[t(337)]=null,this[t(359)]=null,this._bufferedTimestamp=null,this._totalDuration=0,this[t(245)]=null,this[t(274)]=!1,this._fps=null,this[t(251)]=null,this._rate=1,this[t(252)]=null,this[t(269)]=null,this[t(326)]=0,this[t(354)]=0,this[t(363)]=0,this[t(376)]=null,this[t(343)]=!1,this[t(277)]=!1}[JR(240)](){const t=JR;this[t(366)].on(O[t(275)],(e=>{const s=t;let i=e;(this[s(366)][s(242)]()||this[s(366)][s(284)]())&&(i=1e3*(this[s(366)][s(291)]()||0)),this[s(282)](i)})),this.player.on(O[t(292)],(e=>{const s=t;if(this[s(366)][s(365)])return;let i=e.ts;this[s(366)].isPlayVodUseMSE()?(this.player.isPlaying()&&0===e.videoCurrentTimeDiff&&this[s(366)][s(232)](this[s(302)],s(341)+e[s(348)]+s(330)),i=1e3*e[s(348)]):this.player[s(284)]()&&(i=1e3*e[s(348)]);const r=this._prevTs;this[s(363)]=i,this[s(264)](r)}))}[JR(264)](t){const e=JR;this.isEnded(t)&&(this._removeSeekingTimestamp(),this[e(366)].emit(O[e(285)]))}[JR(257)](t){const e=JR;let s=!1;const i=700;if(this[e(277)])return!0;if(this[e(366)][e(284)]()){if(this[e(366)][e(377)]&&this.player[e(377)][e(257)]())return this[e(366)][e(362)](this.TAG_NAME,"isEnded()",e(289)),this[e(277)]=!0,!0;const t=this[e(366)][e(270)][e(348)],r=this[e(366)][e(270)][e(316)],n=Math.abs(t-this[e(244)]);return n<i&&0===r?(this[e(366)][e(362)](this[e(302)],e(378),e(263)+n+e(325)+i+" and videoCurrentTimeDiff is 0"),this[e(277)]=!0,!0):s}if(this.player[e(242)]()&&this[e(366)][e(377)]&&this[e(366)][e(377)][e(257)]())return this[e(366)][e(362)](this[e(302)],e(378),"use mse and video is ended"),this._isEnded=!0,!0;const r=Math.abs(this.playingTimestamp-this[e(244)]);if(r<i){if(this[e(343)])return this[e(366)][e(362)](this.TAG_NAME,"isEnded()",e(280)+this[e(241)]+e(350)+this._totalDuration+" "+r+e(374)+i),this._isEnded=!0,!0;!this[e(343)]&&(this[e(366)].debugLog(this.TAG_NAME,"isEnded() diff "+r+e(325)+i+e(255)),this.player[e(242)]()&&this[e(366)][e(297)]&&this[e(366)][e(297)][e(314)](),this._isEndedOnce=!0)}if(Si(s)&&t&&t===this[e(363)]){const s=this[e(329)]()>=this.totalDuration,i=this[e(355)](),n=1e3*this[e(366)][e(335)][e(345)];if(s&&i&&r<=n){if(this[e(343)])return this[e(366)][e(362)](this[e(302)],e(296)+t+e(233)+this[e(244)]+" and diff is "+r+e(278)+1e3*this.player[e(335)].playVodMaxGopDuration+e(229)),this[e(277)]=!0,!0;!this[e(343)]&&(this[e(366)][e(362)](this.TAG_NAME,"isEnded() diff "+r+e(331)+n+e(255)),this[e(366)][e(242)]()&&this[e(366)].mseDecoder&&this[e(366)].mseDecoder[e(314)](),this._isEndedOnce=!0)}}return s}updateDuration(t){const e=JR;this[e(244)]=1e3*t,this[e(294)]&&(this[e(366)][e(362)](this.TAG_NAME,e(311)+this.startTime+e(287)),this[e(366)].playVodInitSeekRemoveBackgroundLock=!0,this[e(366)][e(268)](O[e(279)],(()=>{const t=e;this[t(236)]({time:this[t(294)]})}))),this.startCheckStatsInterval()}pause(){this[JR(307)]()}[JR(276)](){this[JR(356)]()}[JR(226)](){const t=JR;let e=arguments[t(308)]>0&&void 0!==arguments[0]?arguments[0]:{};!this[t(269)]&&(this[t(269)]=Je()),Ps(e.ts)&&(this[t(366)][t(226)]({fps:!0,ts:e.ts}),this[t(354)]=e.ts,!this[t(252)]&&(this[t(252)]=e.ts),this._renderFps+=1);const s=Je(),i=s-this[t(269)];if(i<1e3)return;let r=null;if(this[t(252)]&&(r=this[t(354)]-this[t(252)]),this[t(366)][t(227)]()&&null===this[t(251)]&&this[t(244)]>0&&this._bufferedTimestamp>0){const e=this[t(244)],s=this[t(225)],i=Math.abs(e-s);if(i<1e3)return this[t(366)][t(232)](this.TAG_NAME,t(238)+this._calcFps+t(239)+s+t(350)+e+t(375)+i+t(250)),void this[t(366)].emitError(V[t(243)],t(288))}this[t(366)].emit(O[t(364)],{fps:this[t(326)],rate:this[t(310)],start:this[t(252)],end:this[t(354)],timestamp:i,dataTimestamp:r,audioBufferSize:this.player.audio?this[t(366)][t(372)].bufferSize:0,videoBufferSize:this[t(366)][t(377)]?this.player[t(377)][t(298)]:0,bufferedTime:this[t(329)](),ts:this[t(354)]}),this[t(326)]=0,this[t(252)]=this[t(354)],this[t(269)]=s}[JR(356)](){const t=JR;this[t(307)](),this[t(347)]=setInterval(this[t(336)].updateStats,1e3)}clearStatsInterval(){const t=JR;this[t(347)]&&(clearInterval(this[t(347)]),this._checkStatsInterval=null)}get totalDuration(){const t=JR;return Math[t(286)](this[t(244)]/1e3)}get startTime(){return this[JR(337)]||0}[JR(273)](t){const e=JR;this[e(337)]=t,this[e(359)]=t}[JR(369)](t){const e=JR;this[e(312)]=t,this[e(366)].emit(O[e(267)],t)}[JR(266)](t){const e=JR;this[e(366)][e(362)](this.TAG_NAME,e(340),t),this[e(251)]=t,this.player[e(230)]()&&this.player.decoderWorker&&this[e(366)].decoderWorker.updatePlayVodFps(t)}get[JR(249)](){const t=JR;return this[t(251)]||this[t(327)]}get[JR(310)](){return this[JR(312)]}[JR(282)](t){const e=JR;let s=t;s>this._totalDuration&&(this[e(366)][e(362)](this[e(302)],e(349),"timestamp "+s+e(261)+this._totalDuration),s=this._totalDuration),this[e(359)]=s;const i=this.getCurrentTime();(null===this._prevTime||null!==this[e(376)]&&this[e(376)]<i)&&(this[e(366)][e(367)](O[e(253)],i),this[e(376)]=i)}get[JR(241)](){return this[JR(359)]||0}[JR(357)](){const t=JR;return Math[t(286)](this[t(241)]/1e3)}[JR(309)](t){const e=JR;this[e(225)]=t,this[e(366)][e(367)](O[e(248)],this.getBufferedTime())}[JR(329)](){const t=JR;let e=0;return this[t(225)]&&(e=parseInt(this[t(225)]/1e3,10)),e}get[JR(262)](){const t=JR;return null===this[t(245)]?null:1e3*this[t(245)]}[JR(360)](){return null!==this._seekingTimestamp}[JR(321)](){const t=JR;return this[t(360)]()&&this[t(274)]}[JR(246)](){const t=JR;this._seekingTimestamp=null,this[t(274)]=!1}[JR(346)](){const t=JR,e=this[t(245)];this[t(246)](),this[t(376)]=null,this[t(366)][t(367)](O.playVodSeekEnd,e)}[JR(236)](t){const e=JR;let s=t[e(258)];if(this[e(360)]())this[e(366)][e(362)](this.TAG_NAME,e(328),"isSeeking and return");else if(s>this[e(344)]&&(s=parseInt(this[e(344)],10)),s<0&&(s=0),this[e(366)][e(362)](this[e(302)],e(328),e(303)+t[e(258)]+e(338)+s),this[e(257)]())this[e(366)][e(367)](O[e(322)],s);else if(this[e(245)]=s,this[e(366)].emit(O.playVodSeek,s),this[e(366)][e(367)](O[e(317)],s),this.player[e(284)]())this.player.video[e(320)](s);else if(this[e(366)][e(242)]()){const t=this.player[e(377)][e(357)]();this._isLessThanCurrentTime=s<t,this._isLessThanCurrentTime?(this[e(366)][e(297)][e(281)](),this[e(235)](),this[e(228)]=setTimeout((()=>{const t=e;this[t(366)].video[t(320)](s)}),100)):this[e(366)][e(377)].setCurrentTime(s)}}[JR(368)](t){const e=JR,s=this[e(366)]._opt;let i=Pi(t,{useWCS:s[e(361)],useWasm:s.useWasm,useSIMD:s[e(373)],isFFmpegSIMD:s[e(370)],useMThreading:s[e(315)]});this.player[e(362)](this[e(302)],e(371)+this[e(366)][e(335)].useWCS+e(313)+this[e(366)][e(335)][e(351)]+e(318)+this.player._opt.useSIMD+e(319)+this[e(366)][e(335)][e(370)]+" and\n        useMThreading is "+this[e(366)][e(335)][e(315)]+e(352)+t[e(256)]+e(333)+t[e(247)]+e(283)+t.encType+e(306)+i),this[e(259)]=i}[JR(355)](){const t=JR;return this[t(310)]>this[t(259)]}clearLessThanCurrentTimeTimeout(){const t=JR;this[t(228)]&&(clearTimeout(this[t(228)]),this[t(228)]=null)}}var ZR=tL;function tL(t,e){var s=sL();return(tL=function(t,e){return s[t-=421]})(t,e)}!function(t,e){for(var s=tL,i=t();;)try{if(499108===parseInt(s(429))/1*(-parseInt(s(425))/2)+parseInt(s(426))/3*(parseInt(s(428))/4)+parseInt(s(423))/5+-parseInt(s(433))/6*(parseInt(s(421))/7)+parseInt(s(437))/8*(-parseInt(s(431))/9)+parseInt(s(434))/10*(parseInt(s(427))/11)+parseInt(s(436))/12)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(sL);var eL={expandPlus:"放大",expandMinus:"缩小",apertureFar:ZR(430),apertureNear:"光圈-",focusFar:"聚焦+",focusNear:ZR(422),cruisePlay:ZR(432),cruisePause:ZR(439),fogOpen:ZR(424),fogClose:"透雾关",wiperOpen:ZR(435),wiperClose:"雨刷关",zoomTips:"电子放大",performanceInfo:ZR(438),performanceLive:"动态信息",...Qt};function sL(){var t=["8130xesDMZ","1262870wxMvvM","雨刷开","1394160GaSbfI","167432ExSoKj","基本信息","巡航关","343FLSaIx","聚焦-","904575Estqlk","透雾开","6070JZFxLj","135021oToziM","11AjQvyE","68rPIXKL","157XYwKXx","光圈+","63DBkDAD","巡航开"];return(sL=function(){return t})()}const iL=rL;function rL(t,e){const s=nL();return(rL=function(t,e){return s[t-=496]})(t,e)}function nL(){const t=["getDecodeDelay","$extendDom","pause","_historyVideoDiffList","_faceDetectActive","useWebCanvas is true, but not support so set useWebCanvas false","multiIndex","playVodInitSeekRemoveBackgroundLock","webcodecsAudioInitTimeoutReplay","getPlayingTimestamp","hiddenControl","mediaSourceTsIsMaxDiffReplay","checkVideoSmooth","isLoading","isDemuxInWorker","resize","disableContextmenu is true, but contextmenuBtns is not empty, so Contextmenu can not be created，please check","isPlaybackStreamEnd","useFaceDetector","useMSE is true and forceNoOffscreen is false then forceNoOffscreen set false->true","getBarIsShow","$iconContainer","latestAudioTimestamp","JessibucaProOcclusionDetector","_canPlayAppleMpegurl","wcsUseVideoRender","playbackPauseOrResume","playbackConfig","use worker MSE","getVideoBufferListLength","pts","occlusionDetect"," < min fix is ","pushTempStream","isStreamWebTransport","webrtc","streamEndReplay","emit","_tempStreamList","updatePtzPosition","isMSEAudioDecoderError","isMSEDecodeAudio","_tempG711DataList","useWASM","isPlaybackPauseNotClearCacheAndCacheBeforeDecodeAndUseFpsRender","result","useMThreading is true, but not support so set useMThreading false","Player options","timeout","playbackTF","isDebug","getPlaybackRate","isMSEVideoDecoderInitializationFailedNotSupportHevc","use webrtc for M7S","updateCurrentPts","fetchError","m7s","this.stream is null","clearExtendHtml","isHls is true and demuxUseWorker is true then demuxUseWorker set true->false","_historyFpsList","playing","contextmenu","resetStats","decoder-pro-simd-mt.js","toggleControlHtml","useWasm","screenshot","mediaSourceUseCanvasRenderPlayFailedReplay","debugWarn","flvDemuxBufferSizeTooLarge","toggleExtendDom","getControlHtmlIsShow","removeControl","useVideoRender","_startTimestamp","getControlHtml","faceDetectActive","playbackRate","use offscreen","playVodBackwordJumping","JessibucaProFaceDetector","contextmenuBtns","isEmitSEI","playbackPause set true and is recording, so stop recording","useCanvasRender","isPlayVod is true and demuxUseWorker is true then demuxUseWorker set true->false","\n                     so set useWCS false","wcsDecodeErrorReplay","beforeDestroy","_playbackPause","workerStats","isResize","jsHeapSizeLimit","replace","decoder-pro.js","isPlayback","isPlaybackUseMSE","MetaDataCreator","aiObject","isBindVideo"," or window.JessibucaProOcclusionDetector is null","getExtendBtnList","setRotate","pressureObserverCpu","videoCurrentTimeDiff","stats","clearVisibilityHiddenTimeout","simdH264DecodeVideoWidthIsTooLargeReplay","contains","_allStatsData","visibilityHiddenTimeout","demuxUseWorker","_isInZoom","updateGhostWatermark","heartTimeout","isDestroyed","enable","getPlayVodFps","mseDecoderUseWorker is true but not support so set _opt.mseDecoderUseWorker = false","init and version is","playVodPause false and isEnded, emit playVodEndedAndReplay","getRecordingType","isUseWorkerDemuxAndDecode","updateMetaData","oneBufferDuration","isAliyunRtc","init() failed and player is destroyed","playVodForward","websocket","pauseForControl() and loadingBackground is null","debugLog",", currentRate is ","playForControl() is playback and is ended emit replay","checkSourceBufferDelay","seek","_checkVisibleHiddenTimeout","clearCheckLoadingTimeout","isMobileInFullscreen","isMpeg4Demux","use face detector, useWasm is ","pauseForControl","getExtendHtml","loaded","href","audio","showBandwidth","isPlayVodMp4","widthOrHeightChangeReplay","isStreamTypeNotWorker","getRenderCurrentPts","getPlayToRenderTimes","getCanvasRenderType","playVodPause","doDestroy","isWebrtc is true and demuxUseWorker is true then demuxUseWorker set true->false","3622uJayOy","getCanvasType","mediaSourceAudioG711NotSupportReplay","\n                    useWCS is true,\n                    and supportWCS is ","setRate","isPlaybackOnlyDecodeIFrame","getCurrentVideoAndAudio","$controlHtml","removeDynamicWatermark","getAllStatsData","demuxBufferDelay"," and isEnded, emit playVodEndedAndReplay","_occlusionDetectActive","streamTimestamp","latestDelay","loadingBackground","decoderAudio","use hls 265","hasCacheOnGopBuffer","checkLoadingTimeout but loading is "," and useWCS is ","updateWatermark","playVodPauseInner","push","getAudioEngineType","_opt","togglePerformancePanel","playVodSeek ts is ","updateStats","isUseMSE","_closed","calcForwardMaxRateDecodeIFrame","wcsUseVideoRender is true, but not support so set wcsUseVideoRender false","videoIframeIntervalTs","demuxType","visibility","isRecordTypeFlv","13125320QGDlWw","faceDetect","imageDetectActive","isHlsCanVideoPlay","player","videoSEISyncPtsDiff","decoder-pro-simd.js","isPlayVodMp4UseVideoSrc is true, so set useWasm false, useWCS false, useMSE false and recordType = webm","updateControlSize","androidMobileFullscreenRotate","decoder","setVolume","isUseVideoPlay","bufferList","clientHeight","control","getCurrentTime","audioTimestamp","pTs","allTimestamp","use mpeg4","isFFmpegSIMD","max","decoder-pro-old.js","use fmp4","use hls","playTimestamp","_flvMetaDataFps","getRecordingDuration","videoTimestamp","resumeAudioAfterPause","checkWebrtcLowFpsDuration","isWebrtcForZLM","_imageDetectActive","isWebrtcForSRS","14vlTQTD","isUseWASM","clientWidth","use occlusion detector, useWasm is ","join","updateHistoryFpsList","assign","checkLoadingTimeout","dynamicWatermark","createElement","getI18n","isDroppingIsTrue","zooming","supportHls265","_close","revokeObjectURL","useOcclusionDetector","jb-pro-fullscreen-web","streamResponse","isWebrtcForOthers","isOldHlsUseVideoSrc","framerate","innerHTML","reason","getBufferedTime","top","demuxBuffer","useWCS","pushTempG711Data","webrtcUseCanvasRender","aliyunRtc","hideTipsMessage","isRecordTypeMp4","audioDemuxBufferDelay","useWebFullScreen","isOldHls","fullscreen","URL","getPendingSegmentsLength","recorder is null","mute","isMSEPlaybackRateChangePause",", supportHevcWCS is ","checkHeartTimeout$2 but fps is ","isMpeg4","_tempWorkerStats","resetStartBpsTime","_destroyed","decoderOld","controlSize","_opt.playFailedAndReplay is false and set others replay params false"," and androidMobileFullscreenRotate is true and set androidMobileFullscreenRotate false","getPlayVodRate","webrtc check low fps is ","showTipsMessage","isUseFileProtocol","dts","videoRenderType is ","getCpuLevel","play","then","wasmPlayAudioUseVideoRender","use webrtc for Others","_i18n","JessibucaProObjectDetector","_checkLoadingTimeout","isHistoryFpsListAllZero","fps","pageVisibilityHiddenTimeout","getVideoCurrentTime","clearBuffer"," and playing is ","volumechange","isWeiChatInAndroid ","isWebrtcByBrowser","videoBufferDuration","decodeStart","decoder-pro-audio.js","videoSmooth","right","_stats","autoWasm","setScaleMode","operateBtns","emitVideSeiSyncPts","webTransport","getMaxDelayTs","fullScreenByStart"," and avgFps is ","mseWaitVideoCanplayAutoWasm","isH265","_tempInnerPlayBgobj","_visibility","debugError","isAudioNotMute","pushLatestDelay","getPlayVodDuration","keepScreenOn","isPlaying","disable","demuxTimestamp","mediaSourceAudioInitTimeoutReplay","mseWaitVideoCanplayTimeout","use play vod","download","watermarkConfig","getRenderType","indexOf","clearControlHtml","substring","webcodecsDecoder","-simd","useSIMD","simdDecodeErrorReplay","enableWakeLock","getHistoryVideoDiffList","mseUseCanvasRender","streamStart","playVodEndedAndReplay","isWebrtcForM7S","wasm","isPlayVod","isPlayStream","isMute","play() url is ","forceNoOffscreen","catch","mpeg4","events","streamSuccess","decoder-pro-f-simd-mt.js","getRecordingByteLength","isScreenNowRow"," is greater than loadingTimeout ","isPaused","drawRectangle","setPtzPosition","record","isMseVideoStateInited","toggleControlExtendBtn","recordType","mp4Decoder","wcsDecodeAudio","toggleExtendBtn","downloadMemoryLog","isPlayback and wcsDecodeAudio is true, so set wcsDecodeAudio false","playStart","\n                        and current ts list is ","stopRecordAndSave","occlusionDetectActive","ptz","checkIsFullscreenByInit and isFullScreen is ","downloadFmp4File","isFirefox is true, so set _opt.mseDecodeAudio false","useWebCanvas","\n                     so set useMSE false","destroy","useOffscreen","bind","24VozrEy","addAiContentToCanvas","buf","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS4AAABgCAYAAACjZZ/rAAAK4mlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU1kagO976SEhkIQISAm9SW8BpIQeivQqKiEJJJQQE4KCDZXBERwVRESwDOCoiIKjIyBjQSxYUWzYB2RQUNbBgg2VfcASZmbP7p7937nvfufPf/9yz705/wOAHMKVSDJhFQCyxDnSyABvZnxCIhP3DOAAA9CBA7Dm8mQSdnh4CEBkev6rvL8LoIn5luWEr3///b8KlS+Q8QCAkhBO4ct4WQi3I2OEJ5HmAIA6jOgNluRIJvg2wnQpkiDCgxOcNsVfJjhlktEqkzbRkT4IGwKAJ3G50jQASDaInpnLS0P8kMIRthHzRWKECxD24Am5fISRuGBOVlb2BA8jbIrYSwAg0xFmpfzJZ9pf/Kco/HO5aQqeqmtS8L4imSSTm/d/bs3/lqxM+XQMY2SQhNLASGRWR/bvXkZ2sILFKfPCplnEn7SfZKE8MGaaeTKfxGnmc32DFWsz54VMc6rIn6Pwk8OJnmaBzC9qmqXZkYpYqVIf9jRzpTNx5RkxCr1QwFH4zxdGx01zrih23jTLMqKCZ2x8FHqpPFKRv0Ac4D0T119Re5bsT/WKOIq1OcLoQEXt3Jn8BWL2jE9ZvCI3vsDXb8YmRmEvyfFWxJJkhivsBZkBCr0sN0qxNgc5nDNrwxV7mM4NCp9m4Av8QAjyMEEMsAPOwBawQAQIzREszZkoxidbkicVpQlzmGzkxgmYHDHPag7TzsbODoCJ+zt1JN5GTt5LiHFqRpe9BznK75E7UzqjSykHoKUICf1gRme4CwBKIQDNHTy5NHdKh554YQARUJB/Bg2gAwyAKbBE8nMCbsALyTgIhIFokAAWAh4QgiwgBUvAcrAaFIESsBlsBVVgN6gD+8EhcAS0gBPgDLgAroAb4A54CHrBAHgJRsB7MAZBEA4iQzRIA9KFjCALyA5iQR6QHxQCRUIJUDKUBokhObQcWguVQGVQFVQD1UM/Q8ehM9AlqBu6D/VBQ9Ab6DOMgkkwHdaGjWFrmAWz4WA4Gl4Ap8GL4Xy4EN4IV8K18EG4GT4DX4HvwL3wS3gUBVBKKAZKD2WJYqF8UGGoRFQqSopaiSpGVaBqUY2oNlQn6haqFzWM+oTGomloJtoS7YYORMegeejF6JXoDegq9H50M/oc+ha6Dz2C/oYhY7QwFhhXDAcTj0nDLMEUYSowezHHMOcxdzADmPdYLJaBNcE6YwOxCdh07DLsBuxObBO2HduN7ceO4nA4DZwFzh0XhuPicnBFuO24g7jTuJu4AdxHvBJeF2+H98cn4sX4NfgK/AH8KfxN/HP8GEGFYERwJYQR+IQ8wibCHkIb4TphgDBGVCWaEN2J0cR04mpiJbGReJ74iPhWSUlJX8lFKUJJpFSgVKl0WOmiUp/SJxKVZE7yISWR5KSNpH2kdtJ90lsymWxM9iInknPIG8n15LPkJ+SPyjRlK2WOMl95lXK1crPyTeVXFALFiMKmLKTkUyooRynXKcMqBBVjFR8VrspKlWqV4yo9KqOqNFVb1TDVLNUNqgdUL6kOUnFUY6oflU8tpNZRz1L7aSiaAc2HxqOtpe2hnacN0LF0EzqHnk4voR+id9FH1KhqDmqxakvVqtVOqvUyUAxjBoeRydjEOMK4y/g8S3sWe5Zg1vpZjbNuzvqgPlvdS12gXqzepH5H/bMGU8NPI0OjVKNF47EmWtNcM0JzieYuzfOaw7Pps91m82YXzz4y+4EWrGWuFam1TKtO66rWqLaOdoC2RHu79lntYR2GjpdOuk65zimdIV2aroeuSLdc97TuC6Yak83MZFYyzzFH9LT0AvXkejV6XXpj+ib6Mfpr9Jv0HxsQDVgGqQblBh0GI4a6hqGGyw0bDB8YEYxYRkKjbUadRh+MTYzjjNcZtxgPmqibcEzyTRpMHpmSTT1NF5vWmt42w5qxzDLMdprdMIfNHc2F5tXm1y1gCycLkcVOi+45mDkuc8Rzauf0WJIs2Za5lg2WfVYMqxCrNVYtVq+sDa0TrUutO62/2TjaZNrssXloS7UNsl1j22b7xs7cjmdXbXfbnmzvb7/KvtX+tYOFg8Bhl8M9R5pjqOM6xw7Hr07OTlKnRqchZ0PnZOcdzj0sOiuctYF10QXj4u2yyuWEyydXJ9cc1yOuf7hZumW4HXAbnGsyVzB3z9x+d313rnuNe68H0yPZ40ePXk89T65nredTLwMvvtder+dsM3Y6+yD7lbeNt9T7mPcHH1efFT7tvijfAN9i3y4/ql+MX5XfE399/zT/Bv+RAMeAZQHtgZjA4MDSwB6ONofHqeeMBDkHrQg6F0wKjgquCn4aYh4iDWkLhUODQreEPppnNE88ryUMhHHCtoQ9DjcJXxz+awQ2IjyiOuJZpG3k8sjOKFrUoqgDUe+jvaM3RT+MMY2Rx3TEUmKTYutjP8T5xpXF9cZbx6+Iv5KgmSBKaE3EJcYm7k0cne83f+v8gSTHpKKkuwtMFixdcGmh5sLMhScXURZxFx1NxiTHJR9I/sIN49ZyR1M4KTtSRng+vG28l3wvfjl/SOAuKBM8T3VPLUsdTHNP25I2JPQUVgiHRT6iKtHr9MD03ekfMsIy9mWMZ8ZlNmXhs5Kzjoup4gzxuWyd7KXZ3RILSZGkd7Hr4q2LR6TB0r0ySLZA1ppDRxqlq3JT+XfyvlyP3Orcj0tilxxdqrpUvPRqnnne+rzn+f75Py1DL+Mt61iut3z18r4V7BU1K6GVKSs7VhmsKlw1UBBQsH81cXXG6mtrbNaUrXm3Nm5tW6F2YUFh/3cB3zUUKRdJi3rWua3b/T36e9H3Xevt129f/62YX3y5xKakouTLBt6Gyz/Y/lD5w/jG1I1dm5w27dqM3SzefLfUs3R/mWpZfln/ltAtzeXM8uLyd1sXbb1U4VCxextxm3xbb2VIZet2w+2bt3+pElbdqfaubtqhtWP9jg87+Ttv7vLa1bhbe3fJ7s8/in68VxNQ01xrXFtRh63LrXu2J3ZP50+sn+r3au4t2ft1n3hf7/7I/efqnevrD2gd2NQAN8gbhg4mHbxxyPdQa6NlY00To6nkMDgsP/zi5+Sf7x4JPtJxlHW08RejX3Ycox0rboaa85pHWoQtva0Jrd3Hg453tLm1HfvV6td9J/ROVJ9UO7npFPFU4anx0/mnR9sl7cNn0s70dyzqeHg2/uztcxHnus4Hn794wf/C2U525+mL7hdPXHK9dPwy63LLFacrzVcdrx675njtWJdTV/N15+utN1xutHXP7T510/PmmVu+ty7c5ty+cmfene67MXfv9ST19N7j3xu8n3n/9YPcB2MPCx5hHhU/Vnlc8UTrSe1vZr819Tr1nuzz7bv6NOrpw35e/8vfZb9/GSh8Rn5W8Vz3ef2g3eCJIf+hGy/mvxh4KXk5Nlz0D9V/7Hhl+uqXP7z+uDoSPzLwWvp6/M2Gtxpv971zeNcxGj765H3W+7EPxR81Pu7/xPrU+Tnu8/OxJV9wXyq/mn1t+xb87dF41vi4hCvlTrYCKGTAqakAvNmH9McJANBuAECcP9VfTwo09U0wSeA/8VQPPilOANT1ABC9DICQawBsr0JaWsQ/BfkuCKcgejcA29srxr9ElmpvN+WL5Im0Jo/Hx9+aAoArBeBr6fj4WN34+Nc6JNmHALTnTfX1E6JyEIAacxtH+5D7VPMC8DeZ6vn/VOPfZzCRgQP4+/xPeFgcU9phDh8AAABsZVhJZk1NACoAAAAIAAQBGgAFAAAAAQAAAD4BGwAFAAAAAQAAAEYBKAADAAAAAQACAACHaQAEAAAAAQAAAE4AAAAAAAAAkAAAAAEAAACQAAAAAQACoAIABAAAAAEAAAEuoAMABAAAAAEAAABgAAAAADApncsAAAAJcEhZcwAAFiUAABYlAUlSJPAAAB1BSURBVHgB7V0HeBTVFj6b3fRCAgSQ3qSKIuoDRESx8OzloaIIiqhYUIEHiIJIU6QpVkRRwMaTp4INBBsoRZQiIFhACL1DQtpusuWdf8IsM7Ozu0nYDQzvnO/bzMyd2+a/N/+ce+65d2w+FhIRBAQBQcBCCMRYqK5SVUFAEBAEFASEuKQjCAKCgOUQEOKyXJNJhQUBQUCIS/qAICAIWA4BIS7LNZlUWBAQBIS4pA8IAoKA5RAQ4rJck0mFBQFBQIhL+oAgIAhYDgEhLss1mVRYEBAEhLikDwgCgoDlEBDislyTSYUFAUFAiEv6gCAgCFgOASEuyzWZVFgQEASEuKQPCAKCgOUQEOKyXJNJhQUBQUCIS/qAICAIWA4BIS7LNZlUWBAQBIS4pA8IAoKA5RAQ4rJck0mFBQFBQIhL+oAgIAhYDgEhLss1mVRYEBAEhLikDwgCgoDlEBDislyTSYUFAUFAiEv6gCAgCFgOASEuyzWZVFgQEASEuKQPCAKCgOUQEOKyXJNJhQUBQcBxqkDgK8gmT+5+Ik8RuTYvJtefC6l430YiO9fQxj+mWHvluhTX4GJKaNKFYhLSKSaRf8nV+L7w76nSjlIPQaAiELD5WCqioGBlFGetJOfGb8nNJFW07RciX3EJUamEpR7BTfgdIzGcO6o1pbja7Siu1gUU37BLsCIkXBAQBE4zBE4qcR2adDV5cnYxVxWUkJKWnFTCUo/ae+r5saMtLoHsabUordMzFFvjvNOsieRxBAFBwIhAhROXz5VPBd+/SfmLppHP42LC8lGMzcOjPS/5mIhsdi+H8bmdL2LwYyUsxkY+W2yJtqXRuBQNjO9rNbHElt0piX+O9DONzyrX/0cIbNuxm5yuImrcoA7Z7Xj7iZxOCFQocRVvX0f5C14h18bvFdtVrLeQSctNNlsx2RwgK4bWwSNXPvrY+uaz8zkfvUxiIC6fL5a8nqQSolIJSz1qCM2eXo/SLhxJcTU7nE5tJc9SCgQKCp3Ub9hztHzlWiV2g7q16OWxQ6le7TN0qQ8dyaZNW7bpwtIrpVGzxg10YXJxaiJQYcTlWruQjr4/mLxF+WRnO1a8O5e1K59CVipBBSMukBgnUjQyctjI40xnEovTE5iGuFRNLLXdcEpqdicnxk1ryr4Dh2jjn3/rKp+YGE/tzjtHFyYXJQhMmjKTZvxnrg6O885pSTNeGqMLm//tEho8apIu7KK2bWjK+Kd0YXJxaiIASoi6OFfNY9J6nMhdSHFuF8V62KYFzapc4iN78mHyulOYBJM5h+CklLvqObaf5VByy/uZ5JjoLCi/rPmNnnhmsq7mdWrWoHmzpujC5KIEgdXreCbaIGs3/MEvOh9r9sH7iiGJXJ7iCGCgFVVxrf2ajr43hMhVQPGF+RTHx0iILSGPbMk5nFUIAmTXivyNb5Nrz5JIFCl5WACB2mdUD6hlzerVhLQCULF2QFSJy5t7iPK/eZt8RYUU73KSw10UHi28FRPSKCa1JtmrNKH4s3tRUscxFN+sO9krNWK/rZqsrSUq+djinGRLyg2Zp68ol7IX9yFPwb6Q8eTm6YHAQ/fcThlsq1IlNtZBg/r2Ui/leJogENWhYt6ciVS8eSVrWYUUW+xSDO6hcLMlVaa49veQo3FnctRtx1FNVHufh1xbPqaiXQvIuX022RLz2XDP1nwnho3B5ch3d1LGJdPInlIveCS5Y3kEYISfM/NFgg3LxbOKl3S4gBrVr2P555IH0CMQNeJy78uiwmUfM2k5FW1L8YDXl627sjfqRAk3jCM7O5WGFCap+Ea3Uly9aym+8W2Us+QORevyFUELC65AevK2k2vvckpqLMQVEt/T4GaVjHS6s+u1p8GTyCMEQyD4f3qwFKUI97F2dWRsV7J5veQoYk/4MGKvfS4l3zc3PGlp8rE5ktjd4UpKa/8G2eIqkS0t21RB8yfxeSl39Qj2HSv0B8mJICAIWBOBqGhczhWfk4+N8Ha3mxzF7pBDxNhzb6aEnm+WG734OjdTWoydcpb3YNsX29A8IWYPeZiZt34SpbYeVu7yrJgwNy+fdu7ZR3v2HqD8wkKqnlmFzqieSbVqVGMf3/K/u5xOF/35dxYdPpJD2UdzKSU5iapkVKKGPDRLT0stF1TRyLNcFTmWyOv10a69+2jrtl38fIlUu2Z1yqxS+ZQ29hcVF9PuPftp74GDtO/AYUpMiKeqVTKobq0zqGrl9HLDgZnZv7N2cL6H6Eh2DhtybFSZ27ta1crKcLwiZ20jTlw+1mzcO34nn7uY7EXukCDFZDaiuC7sJmFmywqZUn8zvtYNlNZ2KuUsGsTEpb9nvCrY9M7/BXGhky395Vea9cmXtGTFasI/oFHQ4bped6Xyy+SOXVpZ+vMaev/jL+nn1evIZaJRx/BKh3NaNqV/XXMFXdflUiZHE1ulobBI5Tn70wU04bXputxv/GdnGtqfXWLKIAcPZ9Pz7BO2cPEyxVamTVqtahXqeet1Cm7JSSUTRdr76vnAERNp8fKV6qVyHDnoIbr68ot1YcaLT7/6nsa8MFUXfPnF7Wjs0H66MOPF739toY++WEhffv0D5RcEjixALGiXa6/sRF2vvaLUKwqwCmHa+5/QDz+tVF5SxnJxDUK8pMM/6L4eXakmvxSjLREnLu/BXeRa841S74RCNsiHWG1hb345xVSPzNIcR/q55Khcm9x7DoXBzEcuNuzH1zp9F2VDw8I/zTImrlCy/+Bhem36f2j6rLk0dthjdFlHTIgEF/wzPDFmMn2/9OfgkfgOSHLN+j+U3wdz5tGLY4ZQjWpVTdNEOk+3x03Q2rQCDaQsMu+bH2j081MpL9/cdWf/wUM08bUZCnm/OWkE1avDM90mgnKNdXF7wrxZOR83j1SM6YpMXhBqkR7OE/V576Mv1CDTI15mv/72h/L7+POv6ZknH6UzGwa3+SL+5Knv0szZnxHKCCUg+o8+X0hffL2YBjxwF91+01Whop/wvfKPE4IU7XPmk+fwbnavCnzDG5PEXTvUGFTua0dqM3LUaFmq9M6d80oVz4qRdu87QN0ffDwsaWmfrdDppP5PjVcITBuuPcc/0oODR4UlLW0anMPrv9djwwgd2yjRyNNYRlmvUd+nnnslKGlp89vDWPfo+wRt3rpdG1yh52i7ewc8HZa0jJX6fdMWuvvRYbRl207jLf/10GdfordnzQlLWv4EfII2fXbyGzRn3rfa4IifR5y4irPWK5W0u0MztK1SDbIlpET0gRJq3liq/HxerhsPaU83gaYzZPTztHX7roBHgy0Lw4TrrrzEVJVX3q5vvENmnufIDENDaFFGObdVM+rT8xYa9XhfuvWGLooNyBhn5+59/OZ+xxgclTwDCilDAJZXDXh6Amk1NIfDTkmJCUFzOZJ9lIaPe0XxzA8aKYo3oGmt/HWDaQkYsrVt04qan9nQ9BmO5ubRg4NGBWh3yOyr75bQ5wsXmeabkZ5Gl/KwsGO786iWicMvEo1hjRW2z2hJxIeKzqVzlLrGeEITQ8Jdr0f8meKqdipVnl7nAfK6DvFmhNEfi5eqQhGK9P7HX5iSC1T3rtddQakpx33dtu3cw8O+F2j975v8pYP4ho19mT6ZPpkS2KCrlZkffqq9VM773d+Dene/2R9+09WXKeewVz02dKzO/oV/gn59euqMw9HI01+ZcpxoF11f0am9Yq9p2qi+MoFx4NAR+viLr9nW83GAzQsYQsO4+ZrLy1Fq+ZMAZ9j0jAIj/MjBD9P5rY+PQGCLfO+/n9Or02dRMU+YqQINfdac+dTrdv1Lf8qMD9Uo/iPyGzHwId3QGC+8+Uxyw8a+pMsX5D/7swX0wF23+tNH8iTiGlfR5jVK/Xj1dsh62ng300iLLfa4x3SovD1528hbwMPZ00jcrOFOfWd2wBPdc/tNSqfUkhYiwVHzpWefVGYXtYl27N5L3/64QhtEsIUdyTmqC8Nb9+5uN+jC1IsO/ziXut10tXqpHEGK6zb86Q+LRp7+zE/wpHPHtvT8qMGKpqLOumLyAv+ETw14wDR3aKQVLW+xwdwo8XGxSt21pIU4CMdL5ul/P2hMEjDMhA3POITETPSkEYN0pIWMYPC/+rKOdH+PWwLyXbP+94CwSAVEXOMiNo7C2dQTbg8kdmE4WQJty+M6gh1zThv5iWf4co7m6Z4HuyL069NDF6a9wEzQ+OEDqMfDT2iDlWHCNVccn/mCsd8oCfHxIWelHul9R4ATaFrqcdNANPI01rE81yD0Z554NGjSG/55KWu1vyvalzbSX+wWsnf/waCTENq4kTiHzXDVug0BWQ3u25uaNq4fEK4G3HBVZ8KEiXbHERDVLnaXUYd9aSkpitatpsERbg/4BRO8rF59e5bu9q69+3XXkbyI2v+u1xFGmeMF0CKRQ2DBd0sDMmt//jlh/Y3ObsHrQfltrHVrWPrLGmU4FB9f4hPXoG5tZZipJRsYpqfOnE19ggwFkDbYTCIqGo08AwAoR0D/B3oq/mihkg55pDfNnf9dgNH6x59W0S3XV8xs9XesFUOL1QrWaMLOGE7688sMu45oRTt8hJkg1GyjNp16Dtcao+Tlmc/KGuOV5zpqxOUL49joO/A3UbVG5amzpDFBQGufUW9XYY0KQ7JwUomdRbXx0In38VsYthII/LBghP9h+SpdVq/wG/YLdh3AUAFvXBiBsai5NBKNPEtTbrg4zZuE75P4x67PLhBwxtQK7IYVJVk7Aidg4PhbGsFebpHaz83Lq2NymaCgsVWklK6XlaFGtvgEdj51Kim8TF687Z9p6sKZD1PK+OOGYdNIUQq0J9XkLwRVj1LuJydbGI+NMnLCa8agUl8f5PxU4kKi3nfczG/pDYTpd61k8QwmfMHwi4uNpeZNGlLrs5oRtL3zW5+laHPa+NrzaOSpzb+s5/D8L63zZOMGdQOICzOMFSUHDwe2d+NSEldZ64jZ1kXLfqE/N2cpBIVrkFVePm/DzjvOngyJOHHFt76MnCtLDJXO5ARKLAi0jygPmn+IvHk8s5dSpcKf255Sl0Bep4tgyICtiCMpRr+rNme3oNcnPMW+XKODdlbMJK1lAzx+mDGEVzlm2u7t/i9T+0g08jwRDJqEcMY05ouh1ILv9cPzwxFuA2OZ2muzF1Wkd8GAFj/+len006q12qJPifMwhqiy1zGxY1d/IuwVD60rmLhm3hfsVlTDbXEZvCFqcENjVAuPSua8rXWE/dLMPLxBNLOmTqDu/7pGt+dVsEeCV/y7PAUP4z+m3c0kGnmalVOaMFuIvmpMb7YuT29xMqaI7HWMybdEuRdErBD4cXXtPeCUJC08ZMQ1rpi0qn7wPA4HudlIG1tsrk569/5F3m0rKabe+f40FXFi1ukqotxolYEp+8rplQK808fxjKF2U72ylB/MONuwXm0a8ui9NPChXgRjNNbiQcPasm1HgLFYLW/7rj10V98n6d1Xx5oa7KORp1p2WY5mdsJg6Tdv3RZwC21QUWK2WNpocytvXTb8uVnZLhz2K63AGfcCHv5Ds8N6zdTUZEpj30C42hTw4v1+w8Zpo0f1POLEZUvJ4E0AW/BC641KxV1syAxGXL4c/oTU7AGUNHARO4QE18zCIVC46UNKPPO2cNFO+n34WsFhTyvhjNlGmxLSqrN92nyqVs4IIC6QFmxN0RB04ksv+ofyQ/5Y17du419swF9J8775McDvC64CXy9eTj1uuS5odaKRZ9DCTG7AkxyuAfinDCebtmwPiBLKXUCNXGhYR6mGa4+wL4YT7PZglL+zdhqDynX9xrsf8XpJvW0as88TRwwM8PtTC4DdqyKl/GwRpJb2jOq8zXJ7/13MLuamp8NTzR+mPfHs/o2ODqrC2zuXferUx9vU5K8ZzYurW2mzLMW5eV1KkfCEolx9x4PU5vJbdD/1M1rBMsZyGaOY7eRQnz/DZRSsR6sogWH7wgtaK9rYlx+8xt8zDHQwXrW25GVW2jpFI89wZf+xKStcFMV1xGxWTzuZgUxiecRhFLiRhJOsneGdo/HZNaNsMcxyGu+r1/DhwioA7U9br+W/BNq04O+HrZCCSUWv14w4ceHB4pq3I1usZn0Xk1ZBcjJvsRy8uIIpXaj41w+D4RIQ7snfRQVrx1LeL7wdcxmX7sSwjetkSKvmZwYUiy1nQskqk6/WmPnMYImKUcw6oDEOrjGVjc6MIcJvf2xWlgFp/XqghYBAtT/tej5jnhg6GJeQIM4fm7f6o0YjT3/mJ3DyAq+pNNNytVlOfHV6gEaC+x3btdFGU/Ym0wXwBfANJfCVW/JT6D6B9J0vaqssRdLmhdUNHzEhhRI822P83ckRPOOs/akjAcyMGp8fLxDVOTVY3kZXmWDxIhUe+EqIQM5xZ3WimPRM8hw67uficcRSoT2VkgpzTEvw7PmNCub2I8eqt3nf+YcotsX1HC9QM/J53VS4bhK5smZT0W72UcL3Fcso3uLcMqaITHQscl64aJkus8947yWs8TPTUDC0gv3IKDBoG+ViXvCamJCg63SYDXp52vv0yL3djdH91/A9uvXeAbqZQnTSeR9M8ceZ8OoMxZveH8AnqDMWVgcTh4m2gWUjqkQjTzXvEzlCcxgx/jWCfdBM5n37I/1n7vyAW/BWN2okZkPOFavWKS8Gs5cYMkV7YVPGcIJh6QW8dnDF6vW6qM+9NI1acz8z60+I+PqM2YqHvzYRXEBq8qaSELMF5TADYCiobT9tetgG5zMuFSnBVaATqQVrWFXGLOQPWRxf4oHsvLwMKD8lnWca7ea5sxHfvX0FFXx0F2U/m0HZL9Sm/C96UQFvEJg793o6PK0m/ypTwc/jqWgH2wE85eRd/iDtyZDzeQmOUdBJ7+3/NH224HtF84FrA4zZr7NXuvGDpUgLL/crL7nQmI2yKNpsn3XYK/CBVLO9pRYvW0n38ZYoRl+cbjf+U3E6VQvBDgNGwaJi7FtlJujkM3iPL6PATqJKNPJU8z7RI8gJ37KEsVvVRNBO2OIFpGYmd9x8TUBw+wvM7YsPsUsJXmCq1oo2x44ejzzxrLLgOSCjIAH3sG+dUfCBkP7Dx+sWzyMO9tPC0PCd/35mTEK333x8XSnsp2YE9eQzL5rODGPPt5488WJcyxpQSIQDovol6/yveDO2TyeWfMMCFIkflCibj2J9Lr4sIrutmDcbZIM1c1C4L1l7KY47Ujx/DDaR8+KMjuWZefcy/mxZyfh73zQejqllqeWBJ1HusfCEuldTpbYvckDFC9RzdKBgYmdyD7VpG1wRMKtnJhjedesziLBuziiYeWzBzqFnt2hKBw4dpr/4LYmdLY2CGb73p4zTLXvBP8P1PfqadlzEx0zTua2a01Ee5sDOgs3kjEQJb/P5s1737w4RjTzxLB/wjq9jX5ymeyz4kmG3BK2YfckadsI8fgatDxv+kRP4Z1wHqs0L2hMwM5utvur2B5Qhtja+eo42qVkjkw4dztFpylgvafTCx8tq0shBalL/ceTEKcoGfv4AzQnapk6tGtwWhUyMO023mYGW+Pl7r+ochaH14YVnJphRbNvmbEUDw6aEqv8gNDXjCxAfLVk0d7pZNiccVk6VpXTlJl12FxX9vZKKNi7SJ2CNrNjONjBbPE8m8pepyUUOG4zz+hk3JPL52Pe+OJGN9/yDjQxGfhCQRpxbF1DSWXcqITZHPG+15dLcPbVOBz3ci31j1gVdIhGKtJo0qk/9eYuaYIIZShhR+wwcqXQsbTxMbcO+EsrGgjft1IlP60gLeeCfd9SQR+jhIWMCtnTBLgL4ffjpV9ridOf4B8WWxdop/GjkqSu0HBf4mOw9d9ykaMCqKwAIFr9ggplbDJnNSAtphva7X3HaNUuPMoyTLxfx0qnL2F5Z2lUP6E94Waw22YlBbRuzshEGW+Rr44bpSAvhPW69XlnepbVJIhwCLdTodoF8Xhj9OOM2vCRSBfw1UEBkS4SBPr33CxRbu3mQjG1MVTHkjkkkZ0wV/lUlJ2WS05tJLk8mq9LVeI+fTNawUpjAVLUpMKvcJaPBcMqNytfPCYxgCPHk7yRvYeBsnSFaVC7hTY6tjEOt4DcrGPaxV58bGtDJjHHxRvzwzYnUhjWgsgjWrr31wihTPyvkg6Hd1AnDlQ8jlCVf2GKeHzXIdJ/1aORZlrqZxYX2CI02nJsK0oLoZ77ybFB7EuJc1LYN9eWdMoIRG+KoglnJ0bwzBQYHpRVoOm9NHl2qxdXaPNFP0N5mtjB86GTGy89Q2/PO1iYxPUf5aF+s3axIsY9giWaBNkccxbfqTO79W8hzMKtkyIaWCfcDpSKOegwZn7W2lBoUm9mS1yBWJnf2ZvLk8OyNmsaQh6/oIMVV73DSPg4LzQMfqUjntzXUbdXWwU8bIDCcwpaBoY52W5iAiJoAdKbru1xC0NDgm7SLv/hiJvCbAiGOYW3qwV63cX1SzaL5w2DA7XbjVcpSHgynDmebT7QgAYYp3XjfcWiAzRo38OdhPIl0ntjUzzhTi/WT2LFTKzDCY/JDK3V5iHbtFZ0IQ7+reOH4Tt6bDPuTGVzveLYwnfef6kpjmGTM7EHaPHEO22bLpo2V/Mz8nbDGEx+ZGDf834pDJz56gbWBWgHRdLm0gzbIfw6NtlP78xV3FGhxWWwCCKa544V592030Ghu8+rVjk+W+DM7doI6XdW5IzlZ29zOEzhOl34Ug76DPjyZX8JNGtZXPs7xDu9NrxX0w7u73agNith5VG1c2lrCT+vIy3dS8Q6eBQGRqGSinmuPIBxVwVKP6n3cU881x7ha7Sjj2rf5XizPNi6hnMX9yFvM/1javNT4HJbSaiAlN+2jreJJOcce3TDMlqj1O9gB8oiyrg++Wi2aNqJzecFyad7WoSoPOwSGJHACzWYjM8gQH3jA58lgUyuvYEcJzChl5+QqBJnMn++C9zhIS52lKmve0cizrHXQxsd2P7APwR4It4DaNWsouOEftzyCfLbyzg77+bNhldJSFKzQFiCKSAlsTdvYFwztDTwT4uKUz5PVq13TdGvtcOWCBGETRZ29vLSsfp1aVIdxKC8G4corzf0KIy61MtnT+1LRX0vJV5x3XKNSCUU9asmmlMQFgko6525KbT9UKSp/w9uU9+vzPJXJb4ogeWRes5xi4o8vUVLrKEdBQBA4tRGocOLyuYuoOGsN5cz6N3mPsp1JJSvtsZzEFZOUQZk9f/Yj7tr5PeWtnUzunI16kkT+XF5c9Qspo8NMf3w5EQQEAWsgUOHEpYXFufozyp03lrzObDauu4+TWFmIi4c6MUmVKK5+Z6rUaTQTVOBEac6ygeTau5iLYMc+G6/BOkZccKlIOrMXpbYYzGHlU/21zyPngoAgUDEInFTiUh6RPxVWsGIWf4sxi4p3r6finatLiEUd3qlHVSM7Rjr2Kg0pvkEnsqeeQYln3c58pVliZIKdj73lC7d+wiS5l5z8QVhP4Q6FKG3xaZTS7BFKanC3SSoJEgQEgVMRgZNPXCoqbPTz5rPxL++gEuIpOMhLhrbwcHKXsqNqTEZtcmQ24ZnAkp1LbfGpZE/DFCyYrGwCdwifO4/c/LWfgi1v8Ycz9lHm5YvLlonEFgQEgZOGwKlDXCcNAilYEBAErIYABmAigoAgIAhYCgEhLks1l1RWEBAEgIAQl/QDQUAQsBwCQlyWazKpsCAgCAhxSR8QBAQByyEgxGW5JpMKCwKCgBCX9AFBQBCwHAJCXJZrMqmwICAICHFJHxAEBAHLISDEZbkmkwoLAoKAEJf0AUFAELAcAkJclmsyqbAgIAgIcUkfEAQEAcshIMRluSaTCgsCgoAQl/QBQUAQsBwCQlyWazKpsCAgCAhxSR8QBAQByyEgxGW5JpMKCwKCgBCX9AFBQBCwHAJCXJZrMqmwICAICHFJHxAEBAHLISDEZbkmkwoLAoKAEJf0AUFAELAcAkJclmsyqbAgIAgIcUkfEAQEAcshIMRluSaTCgsCgsD/AFt/MVAlcetCAAAAAElFTkSuQmCC","rect","png","_zooming","getInputByteLength","isMSENotSupportAudioFormat","_pauseInner()","_destroyLock","playVod","warn"," , _opt.isH265 is ","isWebrtcNotH265","showTipsMessageByCode","isAudioMute","_times","getIsStreamTsMoreThanLocal","video","clearStatsInterval","location","click","handleRender","loading","clearWorkBuffer","isWasmPlayAudioUseVideoRender","getType","hasAudio","startAndResize","useMSE","getStreamBufferByteLength","fetchStream","releaseWakeLock","calcPlaybackForwardMaxRateDecodeIFrame","off","48484JOLvit","startVisibilityHiddenTimeout","addContentToCanvas","decoderCheckFirstIFrame","correctionConfigurationProfileIndication",", and decoderCheckFirstIFrame","_close()","isDemuxDecodeFirstIIframeInit","getEngineType","hls","checkVideoSmooth  false because ","_playing","_isStreamEnd",", so set mseWaitVideoCanplayTimeout = loadingTimeout -1","playbackPause","ghostWatermarkConfig","isFlvDemux","stream"," ,isIphone is ","_seiList","checkVideoSmooth false because videoCurrentTimeDiff is ","setExtendHtml","getCorrectionConfiguration",", supportHevcMSE is ","decoderWorker"," and newLoadingTimeout is ","p2dfps","getPlaybackQuality","isWebrtc","init","aliyunRtcDecoder","_videoIframeIntervalTs","checkLoadingTimeout but player is destroyed","streamQuality","isWebrtcH264","decoder-pro-f-simd.js","fullscreenInner","use aliyun rtc","getAudioInfo","addExtendDom","openSyncAudioAndVideo","dynamicWatermarkConfig","_objectDetectActive","getBufferListLength","visibilityChange","992CUwARr","isNakedFlow is true, so set _opt.mseDecodeAudio false","quality","isInMulti","maxFps","streamQualityChange","startInner"," and\n                history FpsList is ","getVideoBufferTimeRangeList"," or window.JessibucaProFaceDetector is null","isFmp4","resetInit","playVodSeek","_lastVolume","abps","402ynuBGy","getPushLatestDelay","set volume error, audio is null","showMessageConfig","showTipsMessageByContent","toggleBar","toggleExtendHtml","updateOption","isPlayVodMp4UseVideoSrc","keys","getOption","checkVideoSmooth and videoCurrentTimeDiff is 0 so check\n                        videoCurrentTime is ","isDropping","_playingStartTimestamp","getVideoBufferRangeList","playVod is null","setBufferedTime","playVodPause set true and is recording, so stop recording","isWasmUseMThreading","hasVideo","drawingRect","isOldHls or isWebrtcH264 or isAliyunRtc is true, so set some params false and set _opt.recordType = webm","browser","isIOS or isSafari and canPlayAppleMpegurl","playVodMp4UseSrc","streamResponseTimestamp","videoCurrentTime","hlsUseCanvasRender","webrtcLowFps","decoder-pro-hard-not-wasm.js","_startBpsTime","is stream use webTransport is true and demuxUseWorker is true then demuxUseWorker set true->false","initLoadingBackground","playForControl","muted","hardDecodingNotSupportAutoWasm","_mseWorkerData","isM7SDemux","getVideoCodec","height","_checkHeartTimeout","correctionConfigurationVersion","getVideoPlaybackQuality","getToTalByteLength","checkStatsInterval","isPlayVodSeeking","mseDecoder","use wasm mt","wasmUseVideoRender","fmp4","_tempTsList","checkVideoSmooth false\n                        because fps is "," and\n                current fps is ","default","play() init and next fetch stream","removeWatermark","isMpeg4 is true, so set _opt.useWasm true and others params false","forEach"," or isDingDingInAndroid ","use object detector, useWasm is ","_checkStatsInterval","playForControl() and pauseAndNextPlayUseLastFrameShow is ","isPlayVodUseWASM","vbps"," and height is ","isPlayVodUseMSE","playback","controlHtml","hasControl","JessibucaProImageDetector","getDemuxBufferLength","playVodSeek and is recording, stop recording","use wcs video render, but not support so set wcsUseVideoRender false","player is closed, so can not play","content","getStreamType","use wasm","emitFirstStatsEvent","getDecodePlaybackRate","getVideoBufferTimeRange","\n                        bufferRangeList is ","startCheckStatsInterval","objectDetect","loadingTimeout","isPlaybackH24","mseDecoderUseWorker","use webrtc for SRS","isEnabled","isLastVideoDiffIsZero","start","3284392UFKwKM","emitVideoSei","stringify","_audioTimestamp","downloadFlvFile","removeExtendDom","calcPlayVodForwardMaxRateDecodeIFrame","addMemoryLog","length","393ueDLkZ","isPlayer","_drawingRect","isPlaybackCacheBeforeDecodeForFpsRender","vbpsIsZero","isRecording","getWebrtcVideo","addContentToContainer","getExtendHtmlIsShow","log","removeGhostWatermark","recorder","isControlBarShow","useCanvasRender is true and useVideoPlayAudio() return true, so set wcsDecodeAudio false","getExtendDomIsShow","cancelRecord","downloadMpeg4File","webcodecsAudioNoDataTimeoutReplay","isEnded","getReadyStateInited","videoRenderType","webm","flv"," and\n                current visibility is ","pauseAndNextPlayUseLastFrameShow","streamBufferByteLength","playVodPauseOrResume","getCanvasVideoBufferLength","isHls","auto","tsPrivateData","getVideoBufferDuration","_playVodPause","showPlayBtn","destroy end","isMobileFullscreenChangeRotate","classList","name","mseDecodeErrorReplay","isPlayVodNotUseMseAndNotVideoSrc","playType","downloadNakedFlowFile","flvMetaData","_serverInfo","dfps","now","videoBuffer","mainThreadFetchUseWorker","left","updateWorkConfig","disableContextmenu","$container",", isRateMoreThanMaxRate and less than calcPlaybackForwardMaxRateDecodeIFrame ","getDecodeType","aiFace","extendOperateBtns","container height is 0, please check the container height","isCacheBeforeDecodeForFpsRender","playbackCheckStreamEnd","useWebGPU","_videoTimestamp","checkHeartTimeout$2 playbackPause is ","videoElementPlayingFailedReplay","lastVolume","isUseFpsRender","） so set useSIMD false","useSIMD is true, but not support（isSupportSimd is ","isDemuxSetCodecInit","decoderHard","use MSE","autoUseSystemFullScreen","$activeIconWrap","_streamQuality","decoderHardNotWasm","getRenderElement","isUseWCS","preferredHardDecode","useWebGPU is true, but not support so set useWebGPU false","emitError","close","isPlayFailedAndPaused","117030dwfJvo","handlePlayToRenderTimes but player is closed or destroyed","bound","random"," and","getWindowScreenInfo","decoderErrorAutoWasm","videoSEISyncPts","streamBuffer","mp4","getWebrtcVideoCodec","stopLocalCalculateTime","$iconWrap","isAudioPlaybackRateSpeed","playVod is seeking","container width is 0, please check the container width","mediaSourceAudioNoDataTimeoutReplay","isNotMute","isNakedFlow","js heap size limit is ","getVideoBufferDelayTime","isClosed","checkWebrtcLowFps","isUseHls265UseMse","_hasControl"," or window.JessibucaProImageDetector is null","playInitStart","playVodRate","_hasLoaded","getDemuxBufferedListLength","startRecord","toFixed","play is destroying","downloadG711File","objectDetectActive","getVideoInfo","useImageDetector","demuxStart","clearBufferDelay","isPlayNotUseMSE","checkLoadingTimeout and pause and emit loadingTimeout event","background","isVideoPlaying","getPlayVodCurrentTime","isTsDemux","isDestroyedOrClosed","webglAlignmentErrorReplay","playbackEndedAndReplay","url","decoder-pro-hard.js",", playing is ","rate","recording","slice","use wasm video render play audio, but not support so set wasmPlayAudioUseVideoRender false","isPlaybackUseWASM","getMimeType","hlsDecoder","createObjectURL","hasInit","mseDecodeAudio","delayTimeout","isStreamTsMoreThanLocal","checkIsFullscreenByInit","screenfull.isEnabled is false and _opt.useWebFullScreen is false , set _opt.useWebFullScreen true","performance","full","TAG_NAME","hlsError","floor","_destroy","_lastestVisibilityChangeTimestamp","_opt.qualityConfig is empty, so set operateBtns.quality false","9585202kOlWCz","decoderWorkerInit","loadingTimeoutReplay","simd","_opt.hiddenControl is true and set others show btn to false","videoStart","showControl","server","singleWatermark","mseTs","zoom","getAudioBufferListLength","$videoElement","checkHeartTimeout$2","qualityConfig","videoCurrentTimeDiffIsNotNormal","isPlaybackSimple","and update _opt.hasVideo","checkLoadingTimeout and is playVod so return","handlePlayToRenderTimes","isMSECurrentMoreThanBufferedPause","isWebrtcH265","setFileName","use wasm video render, but not support so set wasmUseVideoRender false","getBufferLength","poster","isFmp4Demux","ghostWatermark","getStreamByProtocol","videoRenderSupportScale","worker","web transport","getPlayType","isMseDecoderUseWorker","playToRenderTimes","isWCSPlayAudioUseVideoRender","useMThreading","shift","once","webFullscreen","getCurrentCpuState","isDecodeFirstIIframe","checkLoadingTimeout loadingTimeout is ","updateStats but player is closed or destroyed","volume","clearView","isPlayVod and wcsDecodeAudio is true, so set wcsDecodeAudio false","_latestAudioTimestamp","pauseForControl() and videoInfo is null","isAudioUseAudioContext","isMseDecoderUseMain","demux","decoder-pro-mt.js","_isMute","isPlayVodNotUseMSE","updateStreamEndInner","16148052WdwifV","width","netBuf","screen","isPlaybackUseWCS","use image detector, useWasm is ","getDemuxType","wcs","isPlayVodEnded","isFullResize","_flvMetaData","videoBufferDelay","error","offscreen","mseVideoBufferDelayTime","supportLockScreenPlayAudio","bottom",", isRateMoreThanMaxRate and less than calcPlayVodForwardMaxRateDecodeIFrame ","webrtcError","_loading","isUseHls265","canvas","aiImageDetectActive","fullAuto","isStreamByProtocol","isIphone and set _opt.videoRenderSupportScale false","debug","getFps","setControlHtml","viewResizeChange","getMseMineType","currentPts"];return(nL=function(){return t})()}!function(t,e){const s=rL,i=t();for(;;)try{if(924139===parseInt(s(760))/1*(parseInt(s(1272))/2)+parseInt(s(874))/3*(parseInt(s(715))/4)+-parseInt(s(955))/5*(-parseInt(s(775))/6)+parseInt(s(520))/7*(parseInt(s(865))/8)+-parseInt(s(1084))/9+-parseInt(s(1309))/10+parseInt(s(1028))/11*(-parseInt(s(679))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(nL);class oL extends zi{constructor(t){const e=rL;let s=arguments[e(873)]>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[e(1297)]={},this[e(1022)]="Player",this[e(925)]=t;const i=Ai();this[e(1297)]=Object[e(526)]({},i,s),this[e(1297)][e(778)]=Object[e(526)]({},D,this._opt[e(778)]),this[e(1110)]=new ee(this),this.debugLog(this[e(1022)],e(1236),rs+":"+is),this[e(1297)][e(645)]=!0,this[e(1140)]=!1,this[e(1297)][e(575)]&&(this[e(1297)][e(1228)]=!1,this._opt[e(921)]=!1,this._opt.useMSE=!0,this._opt.useWCS=!1,this[e(1297)][e(632)]=!1,this[e(1297)][e(1159)]=!1,this[e(1297)][e(961)]=!1),(ps()||us())&&(this[e(1140)]=ii(),this[e(1247)](this[e(1022)],e(798),this[e(1140)]));const r=Js()&&Si((()=>{const t=ze,e=window.navigator[t(652)];return/wxwork/i.test(e)})()),n=Xs();if((r||n)&&this[e(1297)][e(1318)]&&(this.debugLog(this[e(1022)],e(593)+r+e(833)+n+e(571)),this[e(1297)][e(1318)]=!1),this[e(1297)][e(944)]&&(bi(he[e(862)])&&bi(this[e(1297)].useWebFullScreen)&&(this[e(1247)](this[e(1022)],"screenfull.isEnabled is true and _opt.useWebFullScreen is true , set _opt.useWebFullScreen false"),this[e(1297)].useWebFullScreen=!1),Si(he[e(862)])&&Si(this[e(1297)][e(554)])&&(this[e(1247)](this[e(1022)],e(1019)),this[e(1297)][e(554)]=!0)),wi()&&(this[e(1247)](this[e(1022)],e(1109)),this[e(1297)][e(1057)]=!1),Si(this._opt.playFailedAndReplay)&&(this[e(1247)](this[e(1022)],e(570)),this[e(1297)][e(1001)]=!1,this[e(1297)].webglContextLostErrorReplay=!1,this[e(1297)][e(601)]=!1,this[e(1297)][e(912)]=!1,this[e(1297)][e(1127)]=!1,this[e(1297)][e(1204)]=!1,this[e(1297)].wasmDecodeErrorReplay=!1,this[e(1297)][e(633)]=!1,this[e(1297)][e(936)]=!1,this[e(1297)].networkDelayTimeoutReplay=!1,this[e(1297)][e(1264)]=!1,this[e(1297)][e(1224)]=!1,this[e(1297)][e(1184)]=!1,this._opt.heartTimeoutReplay=!1,this[e(1297)][e(1030)]=!1,this[e(1297)].websocket1006ErrorReplay=!1,this[e(1297)].streamErrorReplay=!1,this[e(1297)][e(1152)]=!1,this[e(1297)][e(609)]=!1,this[e(1297)][e(1274)]=!1,this._opt[e(810)]=!1,this._opt[e(621)]=!1,this[e(1297)][e(971)]=!1,this[e(1297)][e(891)]=!1,this._opt[e(1124)]=!1,this._opt.flvDemuxBufferSizeTooLargeReplay=!1,this[e(1297)].networkDisconnectReplay=!1),this[e(1297)][e(1126)]&&(this[e(1247)](this.TAG_NAME,e(1032)),Object[e(784)](this[e(1297)].operateBtns)[e(832)]((t=>{const s=e;this[s(1297)].operateBtns[t]&&-1===(""+t)[s(627)]("Fn")&&(this[s(1297)][s(603)][t]=!1)})),this[e(1297)][e(1262)]=!1,this[e(1297)][e(929)]=[],this._opt[e(842)]="",this.isPlayback()&&(this[e(1297)][e(1143)][e(1034)]=!1)),this[e(1297)][e(950)]&&(this[e(1297)][e(709)]=!0,this[e(1297)][e(547)]=!0,this[e(1297)].decoderErrorAutoWasm=!1,this._opt[e(1015)]=!0,this[e(1297)][e(662)]=!0,this[e(1297)][e(860)]=!0),Bi()&&(this[e(1297)][e(625)]={image:{src:e(682),width:75,height:24},opacity:.5,right:10,top:10}),!this._opt[e(645)]&&(typeof OffscreenCanvas===Qe(660)?(this[e(1297)][e(645)]=!0,this[e(1297)][e(677)]=!1):this[e(1297)][e(677)]=!0),this[e(1297)].isMpeg4&&(this[e(1247)](this[e(1022)],e(831)),this._opt[e(547)]=!1,this[e(1297)].useMSE=!1,this[e(1297)][e(973)]=!1,this[e(1297)].useSIMD=!1,this[e(1297)][e(770)]=!1,this[e(1297)][e(1182)]=!0),this[e(1212)]()&&(bi(this[e(1297)].useMSE)&&bi(this._opt[e(860)])&&this.debugLog(this[e(1022)],"isPlayback and mseDecoderUseWorker is true, so set mseDecoderUseWorker false"),this[e(1297)].mseDecoderUseWorker=!1,bi(this[e(1297)].useWCS)&&bi(this._opt[e(662)])&&this.debugLog(this[e(1022)],e(665)),this[e(1297)][e(662)]=!1),this[e(641)]()&&(this[e(1297)][e(860)]=!1,bi(this[e(1297)][e(547)])&&bi(this[e(1297)][e(662)])&&this[e(1247)](this[e(1022)],e(1074)),this[e(1297)].wcsDecodeAudio=!1,this[e(1297)][e(533)]=!0,this[e(783)]()&&(this.debugLog(this[e(1022)],e(1316)),this[e(1297)][e(1182)]=!1,this[e(1297)].useMSE=!1,this[e(1297)][e(547)]=!1,this[e(1297)][e(632)]=!1,this[e(1297)][e(660)]=c[e(895)])),this[e(1297)][e(1053)]&&(this[e(1297)][e(996)]=this[e(1297)][e(1053)]),Si(this._opt[e(809)])&&(this[e(1297)][e(972)]=!0),this[e(1297)].mseDecoderUseWorker&&(this[e(1297)][e(860)]=function(){const t=ze;return!!(qt[t(709)]&&qt[t(687)]&&"canConstructInDedicatedWorker"in qt[t(687)]&&!0===qt[t(687)][t(669)])}(),Si(this[e(1297)].mseDecoderUseWorker)&&this[e(1247)](this.TAG_NAME,e(1235))),(this[e(555)]()||this.isWebrtcH264()||this.isAliyunRtc())&&(this[e(1247)](this.TAG_NAME,e(796)),this[e(1297)][e(547)]=!1,this._opt[e(709)]=!1,this[e(1297)][e(973)]=!1,this[e(1297)][e(632)]=!1,this._opt[e(770)]=!1,this[e(1297)].useWasm=!1,this[e(1297)].recordType=c[e(895)]),this[e(1297)].isNakedFlow&&(this.debugLog(this.TAG_NAME,e(761)),this[e(1297)][e(1015)]=!1),cs()&&(this[e(1247)](this[e(1022)],e(673)),this._opt.mseDecodeAudio=!1),!this[e(555)]()&&!this[e(749)]()){if(this[e(1297)][e(547)]){const t=function(){const t=ze;let e=!1;return t(738)in qt&&typeof qt.VideoDecoder===t(628)&&(e=!0),e}(),s=ks();this._opt[e(547)]=t,this[e(1297)][e(547)]&&this[e(1297)][e(610)]&&(this[e(1297)][e(547)]=s),!this[e(1297)][e(547)]&&this.debugWarn(this[e(1022)],e(1275)+t+e(562)+s+e(692)+this[e(1297)][e(610)]+e(1203)),this._opt[e(547)]&&(this[e(1297)][e(662)]&&(this[e(1297)].wcsDecodeAudio=function(){const t=ze;let e=!1;return t(774)in qt&&typeof qt[t(774)]===t(628)&&(e=!0),e}(),!this._opt[e(662)]&&this[e(1185)](this[e(1022)],"wcsDecodeAudio is true, but not support so set wcsDecodeAudio false")),this[e(1297)][e(677)]?this[e(1297)][e(1141)]=!1:this[e(1297)][e(1141)]&&(this[e(1297)][e(1141)]=_s()&&Cs(),!this[e(1297)][e(1141)]&&this[e(1185)](this.TAG_NAME,e(1304))))}if(this[e(1297)][e(709)]){const t=function(){const t=ze;let e=!1;return t(687)in qt&&typeof qt[t(687)]===t(628)&&typeof qt[t(687)].isTypeSupported===t(628)&&(e=!0),e}()||function(){const t=ze;let e=!1;return!("MediaSource"in qt)&&"ManagedMediaSource"in qt&&typeof qt[t(716)]===t(628)&&typeof qt[t(716)][t(814)]===t(628)&&(e=!0),e}(),s=Ts()||Is();this[e(1297)].useMSE=t,this._opt[e(709)]&&this[e(1297)][e(610)]&&(this[e(1297)][e(709)]=s),!this[e(1297)][e(709)]&&this[e(1185)](this[e(1022)],"\n                    useMSE is true,\n                    and supportMSE is "+t+e(738)+s+" , _opt.isH265 is "+this._opt[e(610)]+e(675))}}if(Si(this[e(1297)][e(709)])&&(this[e(1297)][e(1015)]=!1),Si(this[e(1297)][e(547)])&&(this._opt[e(662)]=!1),this[e(1297)][e(709)]?(this[e(1297)][e(547)]&&this.debugWarn(this[e(1022)],"useMSE is true and useWCS is true then useWCS set true->false"),!this[e(1297)].forceNoOffscreen&&this[e(1185)](this[e(1022)],e(1135)),this[e(1297)][e(547)]=!1,this[e(1297)][e(645)]=!0):this[e(1297)][e(547)],this[e(1297)][e(743)]&&this[e(1297)][e(1228)]&&(this[e(1185)](this[e(1022)],e(1271)),this._opt.demuxUseWorker=!1),this[e(1297)][e(902)]&&this._opt.demuxUseWorker&&(this[e(1185)](this[e(1022)],e(1175)),this[e(1297)][e(1228)]=!1),this[e(641)]()&&this[e(1297)].demuxUseWorker&&(this[e(1185)](this[e(1022)],e(1202)),this[e(1297)][e(1228)]=!1),this[e(1297)][e(1242)]&&this[e(1297)][e(1228)]&&(this.debugWarn(this[e(1022)],"isAliyunRtc is true and demuxUseWorker is true then demuxUseWorker set true->false"),this[e(1297)][e(1228)]=!1),this[e(1150)]()&&this._opt[e(1228)]&&(this[e(1185)](this[e(1022)],e(806)),this[e(1297)][e(1228)]=!1),Si(this[e(1297)][e(1228)])&&(this[e(1297)][e(860)]=!1),(this[e(1212)]()||this[e(641)]())&&(this[e(1297)][e(860)]=!1),this[e(1297)][e(1064)]&&(this[e(1297)][e(1064)]=typeof SharedArrayBuffer!==ze(660),!this._opt.useMThreading&&this[e(1185)](this[e(1022)],e(1162))),this._opt[e(632)]||-1!==this[e(1297)].decoder[e(627)](e(631))){const t=WebAssembly[ze(612)](new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),s=wi();this[e(1297)][e(632)]=t&&Si(s),!this._opt.useSIMD&&this[e(1185)](this.TAG_NAME,e(940)+t+e(733)+s+e(939))}if(this._opt.useSIMD?-1===this[e(1297)][e(1319)].indexOf(e(631))?this._opt[e(1064)]?this[e(1297)][e(506)]?this._opt[e(1319)]=this._opt[e(1319)][e(1210)](e(1211),e(650)):this._opt.decoder=this[e(1297)][e(1319)][e(1210)](e(1211),e(1180)):this[e(1297)][e(506)]?this[e(1297)].decoder=this._opt[e(1319)][e(1210)](e(1211),"decoder-pro-f-simd.js"):this._opt[e(1319)]=this._opt[e(1319)].replace("decoder-pro.js","decoder-pro-simd.js"):this[e(1297)].useMThreading?this[e(1297)][e(506)]?this[e(1297)][e(1319)]=this[e(1297)][e(1319)].replace(e(1315),e(650)):this[e(1297)][e(1319)]=this[e(1297)][e(1319)][e(1210)](e(1315),e(1180)):this[e(1297)].isFFmpegSIMD&&(this[e(1297)][e(1319)]=this[e(1297)][e(1319)][e(1210)](e(1211),e(750))):-1!==this[e(1297)][e(1319)].indexOf(e(631))?this[e(1297)][e(1064)]?this[e(1297)][e(1319)]=this[e(1297)].decoder[e(1210)](e(1315),e(1080)):this[e(1297)][e(1319)]=this._opt[e(1319)][e(1210)](e(1315),e(1211)):this[e(1297)][e(1064)]&&(this[e(1297)][e(1319)]=this[e(1297)][e(1319)][e(1210)](e(1211),e(1080))),-1!==this[e(1297)][e(1319)][e(627)](e(631))?this._opt[e(1064)]?this[e(1297)].isFFmpegSIMD?(this[e(1297)][e(1288)]=this[e(1297)].decoder[e(1210)](e(650),"decoder-pro-audio.js"),this[e(1297)][e(942)]=this[e(1297)][e(1319)][e(1210)](e(650),"decoder-pro-hard.js"),this[e(1297)][e(947)]=this[e(1297)][e(1319)].replace("decoder-pro-f-simd-mt.js",e(804)),this[e(1297)].decoderOld=this[e(1297)].decoder[e(1210)](e(650),e(508))):(this[e(1297)][e(1288)]=this[e(1297)][e(1319)][e(1210)](e(1180),e(597)),this[e(1297)][e(942)]=this[e(1297)].decoder[e(1210)](e(1180),e(1004)),this[e(1297)][e(947)]=this._opt.decoder[e(1210)](e(1180),"decoder-pro-hard-not-wasm.js"),this[e(1297)].decoderOld=this[e(1297)].decoder[e(1210)](e(1180),e(508))):this[e(1297)][e(506)]?(this[e(1297)].decoderAudio=this[e(1297)].decoder[e(1210)]("decoder-pro-f-simd.js","decoder-pro-audio.js"),this[e(1297)][e(942)]=this[e(1297)][e(1319)].replace(e(750),"decoder-pro-hard.js"),this._opt[e(947)]=this[e(1297)][e(1319)][e(1210)]("decoder-pro-f-simd.js",e(804)),this[e(1297)][e(568)]=this[e(1297)][e(1319)][e(1210)](e(750),e(508))):(this[e(1297)].decoderAudio=this[e(1297)][e(1319)][e(1210)]("decoder-pro-simd.js",e(597)),this[e(1297)][e(942)]=this[e(1297)][e(1319)][e(1210)](e(1315),"decoder-pro-hard.js"),this[e(1297)].decoderHardNotWasm=this[e(1297)][e(1319)].replace(e(1315),"decoder-pro-hard-not-wasm.js"),this[e(1297)][e(568)]=this._opt.decoder.replace(e(1315),e(508))):this._opt.useMThreading?(this[e(1297)][e(1288)]=this._opt[e(1319)][e(1210)](e(1080),"decoder-pro-audio.js"),this._opt[e(942)]=this[e(1297)][e(1319)].replace(e(1080),e(1004)),this._opt.decoderHardNotWasm=this[e(1297)][e(1319)].replace(e(1080),e(804)),this._opt[e(568)]=this[e(1297)].decoder.replace(e(1080),e(508))):(this[e(1297)].decoderAudio=this[e(1297)].decoder.replace(e(1211),e(597)),this._opt.decoderHard=this[e(1297)][e(1319)][e(1210)](e(1211),e(1004)),this[e(1297)].decoderHardNotWasm=this[e(1297)][e(1319)][e(1210)](e(1211),e(804)),this._opt.decoderOld=this[e(1297)][e(1319)].replace(e(1211),"decoder-pro-old.js")),Si(this._opt.hasAudio)&&(this[e(1297)][e(603)][e(1261)]=!1),Si(this[e(1297)][e(794)])&&(this[e(1297)][e(603)][e(556)]=!1,this[e(1297)][e(603)].screenshot=!1,this[e(1297)].operateBtns[e(657)]=!1,this[e(1297)][e(603)][e(670)]=!1,this._opt.operateBtns.quality=!1,this[e(1297)][e(603)][e(1038)]=!1),this[e(1297)].qualityConfig&&0===this[e(1297)][e(1042)][e(873)]&&this[e(1297)].operateBtns[e(762)]&&(this._opt[e(603)][e(762)]=!1,this[e(1185)](this.TAG_NAME,e(1027))),bi(this._opt[e(933)])&&(this[e(1297)].useWebGPU=function(){let t=!1;return ze(501)in navigator&&(t=!0),t}(),Si(this[e(1297)][e(933)])&&this.debugWarn(this.TAG_NAME,e(951))),bi(this._opt[e(674)])&&(this[e(1297)][e(674)]=gs(),Si(this[e(1297)][e(674)])&&this[e(1185)](this[e(1022)],e(1121))),this._opt[e(709)]&&this[e(1297)][e(622)]>this[e(1297)][e(858)]&&(this[e(1185)](this[e(1022)],"mseWaitVideoCanplayTimeout "+this[e(1297)][e(622)]+e(653)+this[e(1297)][e(858)]+e(728)),this[e(1297)][e(622)]=Math[e(507)](this._opt[e(858)]-1,1)),this[e(1297)].hasControl=this[e(979)](),this[e(1103)]=!1,this[e(726)]=!1,this._playbackPause=!1,this[e(906)]=!1,this._hasLoaded=!1,this[e(685)]=!1,this[e(876)]=!1,this._destroyed=!1,this._destroyLock=!1,this[e(1302)]=!1,this[e(815)]=null,this[e(585)]=null,this._checkStatsInterval=null,this[e(1252)]=null,this[e(805)]=null,this._isPlayingBeforePageHidden=!1,this[e(600)]={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,p2dfps:0,abps:0,vbps:0,ts:0,mseTs:0,currentPts:0,pTs:0,dts:0,mseVideoBufferDelayTime:0,isDropping:!1},this[e(957)]={updateStats:this[e(1300)][e(678)](this)},this[e(825)]=[],this[e(1226)]={},this[e(1120)]=!1,this[e(757)]=!1,this[e(1284)]=!1,this[e(518)]=!1,this[e(696)]={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this._videoTimestamp=0,this._audioTimestamp=0,this[e(1075)]=0,this[e(746)]=0,this[e(946)]=this[e(1297)].defaultStreamQuality||"",!this[e(946)]&&this[e(1297)][e(1042)][e(873)]>0&&(this[e(946)]=this._opt[e(1042)][0]||""),this[e(612)]=!0,this[e(1026)]=null,this[e(565)]=null,this[e(1176)]=[],this._historyVideoDiffList=[],this[e(1154)]=[],this[e(611)]=null,this[e(1094)]=null,this._flvMetaDataFps=null,this[e(917)]=null,this[e(811)]={},this._isStreamEnd=!1,this[e(1191)]=null,this[e(1158)]=[],Si(this[e(1297)][e(709)])&&Si(this[e(1297)].useWCS)&&!this[e(749)]()&&!this[e(555)]()&&!this[e(1242)]()&&!this[e(783)]()&&(this[e(1297)].useWasm=!0),(this[e(555)]()||this.isWebrtcH264()||this[e(1242)]()||this[e(783)]())&&(this._opt[e(794)]=!0,this[e(1297)][e(707)]=!0),!this[e(1297)][e(794)]&&(this[e(1297)].useMSE=!1,this[e(1297)][e(547)]=!1),this[e(1297)][e(1182)]&&(this[e(1297)].useOffscreen?this[e(1297)][e(823)]=!1:this._opt[e(823)]&&(this[e(1297)][e(823)]=ms()&&_s()&&Cs(),!this[e(1297)][e(823)]&&this[e(1185)](this.TAG_NAME,e(1051)),this[e(1297)][e(823)]&&this._opt[e(581)]&&(this[e(1297)][e(581)]=function(){const t=ze;let e=!1;return"AudioData"in qt&&typeof qt.AudioData===t(628)&&(e=!0),e}(),!this[e(1297)].wasmPlayAudioUseVideoRender&&this[e(1185)](this[e(1022)],e(1009)))),this[e(1297)][e(632)]?this[e(1297)][e(1064)]?this[e(1247)](this.TAG_NAME,"use simd wasm mt"):this.debugLog(this[e(1022)],"use simd wasm"):this[e(1297)][e(1064)]?this.debugLog(this.TAG_NAME,e(822)):this[e(1247)](this.TAG_NAME,e(851))),(this._opt[e(1182)]||this[e(1297)][e(547)])&&(this[e(1297)][e(1134)]&&window[e(1197)]||this._opt.useObjectDetector&&window[e(584)]||this[e(1297)][e(536)]&&window[e(1139)]||this._opt[e(991)]&&window[e(844)])?(this.ai=new ZD(this),!(this[e(1297)][e(1134)]&&window[e(1197)])&&(this[e(1297)][e(603)][e(928)]=!1),!(this[e(1297)].useObjectDetector&&window[e(584)])&&(this[e(1297)][e(603)][e(1215)]=!1),!(this._opt[e(536)]&&window.JessibucaProOcclusionDetector)&&(this[e(1297)].operateBtns.aiOcclusion=!1),this._opt[e(991)]&&this[e(1297)][e(1106)]&&window[e(844)]&&(this[e(1311)]=!0)):(this[e(1297)][e(603)].aiObject=!1,this[e(1297)][e(603)][e(928)]=!1,this[e(1297)][e(603)].aiOcclusion=!1),this._opt[e(1134)]&&(!this[e(1297)][e(1182)]&&!this[e(1297)][e(547)]||!window[e(1197)])&&this.debugWarn(this.TAG_NAME,e(1256)+this[e(1297)][e(1182)]+" and useWCS is "+this._opt[e(547)]+e(769)),this[e(1297)].useObjectDetector&&(!this._opt[e(1182)]&&!this[e(1297)][e(547)]||!window[e(584)])&&this[e(1185)](this.TAG_NAME,e(834)+this[e(1297)][e(1182)]+e(1292)+this[e(1297)][e(547)]+" or window.JessibucaProObjectDetector is null"),this[e(1297)][e(536)]&&(!this[e(1297)][e(1182)]&&!this._opt[e(547)]||!window[e(1139)])&&this.debugWarn(this[e(1022)],e(523)+this[e(1297)][e(1182)]+e(1292)+this[e(1297)][e(547)]+e(1217)),this._opt[e(991)]&&(!this[e(1297)][e(1182)]&&!this[e(1297)][e(547)]||!window[e(844)])&&this[e(1185)](this[e(1022)],e(1089)+this[e(1297)].useWasm+" and useWCS is "+this[e(1297)][e(547)]+e(980)),this._opt.videoRenderType&&(this[e(1247)](this[e(1022)],e(577)+this[e(1297)][e(894)]),this[e(1297)][e(894)]===f[e(698)]?(this[e(1297)][e(1190)]=!0,this[e(1297)].useCanvasRender=!1):this[e(1297)][e(894)]===f[e(1105)]&&(this[e(1297)][e(1190)]=!1,this[e(1297)][e(1201)]=!0)),this[e(1297)][e(1190)]&&(this[e(1297)][e(1182)]&&!this[e(1297)].useOffscreen?(this[e(1297)][e(823)]=ms()&&_s()&&Cs(),!this._opt[e(823)]&&this[e(1185)](this[e(1022)],e(1051))):this[e(1297)][e(547)]&&!this[e(1297)][e(677)]&&(this._opt[e(1141)]=_s()&&Cs(),!this._opt[e(1141)]&&this[e(1185)](this[e(1022)],e(847)))),this[e(1297)][e(1201)]&&(this[e(1297)][e(709)]&&Si(this[e(1297)][e(860)])&&(this[e(1297)].mseUseCanvasRender=!0),this[e(1297)][e(1182)]&&(this[e(1297)][e(823)]=!1),this._opt.useWCS&&(this[e(1297)][e(1141)]=!1),this[e(555)]()&&!ps()&&(this[e(1297)][e(802)]=!0),this.isWebrtcH264()&&(this[e(1297)][e(549)]=!0)),this[e(1297)].useVideoRender=!1,this[e(1297)][e(1201)]=!1,this[e(1297)].useWasm?this[e(1297)].wasmUseVideoRender?this[e(1297)][e(1190)]=!0:this[e(1297)][e(1201)]=!0:this._opt.useWCS?this[e(1297)].wcsUseVideoRender?this[e(1297)][e(1190)]=!0:this[e(1297)][e(1201)]=!0:this._opt[e(709)]?this._opt[e(636)]?this[e(1297)][e(1201)]=!0:this._opt[e(1190)]=!0:this[e(555)]()?this[e(1297)].hlsUseCanvasRender?this[e(1297)][e(1201)]=!0:this._opt[e(1190)]=!0:this[e(749)]()&&(this[e(1297)][e(549)]?this[e(1297)].useCanvasRender=!0:this[e(1297)][e(1190)]=!0),Si(this._opt[e(1182)])&&(this[e(1297)][e(1064)]=!1),this[e(1297)][e(1201)]&&this.useVideoPlayAudio()&&(this.debugLog(this.TAG_NAME,e(887)),this[e(1297)].wcsDecodeAudio=!1,this[e(1297)].wasmPlayAudioUseVideoRender=!1),this[e(648)]=new ji(this),this[e(1212)]()&&(this.playback=new HD(this,this[e(1297)][e(1143)])),this[e(641)]()&&(this[e(690)]=new $R(this,this[e(1297)].playVodConfig)),this._opt[e(794)]&&(this[e(698)]=new _o(this),this[e(885)]=new cc(this)),this.isOldHls()?(this[e(1012)]=new uk(this),this[e(1259)]=!0):this[e(749)]()?(this[e(1297)][e(517)]?this.webrtc=new PR(this):this[e(1297)][e(519)]?this[e(1151)]=new bR(this):this._opt[e(539)]?this[e(1151)]=new TR(this):this[e(1151)]=new CR(this),this.loaded=!0):this[e(1242)]()?(this[e(745)]=new FR(this),this.loaded=!0):this[e(783)]()?(this[e(661)]=new VD(this),this[e(1259)]=!0):(this[e(1104)]()&&(this[e(1012)]=new hD(this)),this.isWebrtcH265()&&(this[e(1151)]=new CR(this)),this.isPlayVodMp4()&&(this[e(661)]=new VD(this)),Si(ri(this[e(1297)]))?this[e(793)]()?this[e(739)]=new Lc(this):this.decoderWorker=new _c(this):this[e(1259)]=!0),this.stream=null,this[e(1079)]=null,this[e(773)]=null,this[e(1081)]=null,this[e(1229)]=!1,this[e(788)]=null,this[e(1168)]=!1,this[e(1156)]=!1,this[e(687)]=!1,this[e(561)]=!1,this[e(1048)]=!1,this[e(954)]=!1,this[e(1123)]=!1,this[e(734)]=[],this[e(583)]=null,this[e(1297)].useWCS&&!this[e(1297)][e(707)]&&Si(this._opt[e(1228)])&&(this[e(1259)]=!0),this[e(1297)][e(709)]&&Si(this._opt[e(860)])&&!this[e(1297)][e(707)]&&Si(this._opt[e(1228)])&&(this.loaded=!0),Si(this[e(1297)][e(1189)])&&(this.control=new Ay(this)),this._opt[e(1198)][e(873)]>0&&Si(this[e(1297)].disableContextmenu)&&hs()?this[e(1178)]=new iR(this):bi(this[e(1297)][e(924)])&&this[e(1297)][e(1198)][e(873)]>0&&hs()&&this[e(1185)](this.TAG_NAME,e(1132)),this[e(1297)][e(603)][e(1038)]&&(this[e(1038)]=new QD(this)),function(){const t=ze;return/(iphone|ipad|ipod|ios|android)/i[t(516)](window.navigator.userAgent[t(601)]())}()&&Si(this._opt[e(1099)]&&us())&&(this[e(617)]=new Fy(this)),(t=>{const e=Wi;try{const s=e=>{const s=Wi;$s(e)===t[s(326)]&&(t[s(361)]?t[s(353)][s(347)]&&t[s(314)]():t[s(314)](),t.emit(O[s(361)],t[s(361)]))};he.on(e(337),s),t[e(305)][e(304)].push((()=>{const t=e;he[t(338)](t(337),s)}))}catch(t){}if(t.on(O[e(342)],(()=>{const s=e;t[s(350)](s(324),s(320)),t[s(351)]=!0})),t.on(O.play,(()=>{t.loading=!1})),t.on(O[e(333)],(s=>{const i=e;if(s)try{he[i(336)](t[i(326)])[i(346)]((()=>{const e=i;t[e(350)]("player",e(352))}))[i(354)]((e=>{const s=i;t[s(329)](s(324),s(335),e,e[s(308)]()),t[s(313)](V[s(328)],e[s(308)]()),as()&&t[s(353)][s(345)]&&(t[s(327)]=!0)}))}catch(e){as()&&t[i(353)][i(345)]&&(t[i(327)]=!0)}else try{he[i(358)]()[i(346)]((()=>{const e=i;t[e(350)](e(324),e(339)),t[e(327)]&&(t[e(327)]=!1)}))[i(354)]((e=>{const s=i;t[s(329)](s(324),"fullscreen exit error",e,e[s(308)]()),t.emitError(V[s(328)],e[s(308)]()),t.webFullscreen&&(t[s(327)]=!1)}))}catch(e){t.webFullscreen&&(t[i(327)]=!1)}})),as()&&t.on(O[e(327)],(s=>{const i=e;s?t[i(326)].classList[i(322)](i(341)):t[i(326)].classList[i(311)](i(341)),t[i(334)](O.fullscreen,t[i(361)])})),t.on(O[e(314)],(()=>{t[e(314)]()})),t[e(353)][e(325)]){const s=[O.timeUpdate,O.currentPts,O[e(306)],O[e(315)],O.performance,O[e(310)]],i=[O.stats,O.playbackStats,O[e(357)],O[e(359)],O[e(340)],O[e(319)],O[e(323)],O[e(307)]];Object[e(360)](O)[e(318)]((e=>{t.on(O[e],(function(r){const n=Wi;if(!s[n(344)](e)){i.includes(e)&&(r=JSON[n(355)](r));for(var o=arguments.length,a=new Array(o>1?o-1:0),h=1;h<o;h++)a[h-1]=arguments[h];t[n(350)]("player events",O[e],r,...a)}}))})),Object[e(360)](V)[e(318)]((e=>{t.on(V[e],(function(){const s=Wi;for(var i=arguments[s(348)],r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];t[s(316)]("player event error",V[e],...r)}))}))}})(this),(t=>{const e=Sy,{_opt:s,events:{proxy:i}}=t;if(s.supportDblclickFullscreen&&i(t[e(261)],"dblclick",(s=>{const i=e,r=$s(s)[i(276)][i(259)]();(r===i(265)||"video"===r)&&(t[i(249)]=!t[i(249)])})),i(document,"visibilitychange",(()=>{const i=e;t[i(292)]=i(251)===document.visibilityState,t[i(280)](i(283),document[i(293)]),s[i(250)]&&(t.debugLog(i(283),i(274),document[i(293)],t._isPlayingBeforePageHidden),i(251)===document[i(293)]?t[i(269)]&&t[i(271)]():(t[i(269)]=t[i(264)],t[i(264)]&&t[i(258)]()))})),hs()&&i(document,[e(279),e(278)],(s=>{const i=e;wn(s,t.$container)?(bi(t[i(275)][i(254)])&&s[i(263)]===i(278)&&s[i(289)](),t.isInput=s.target[i(260)]===i(268),t[i(290)]=!0,t.emit(O.focus)):(t[i(252)]=!1,t[i(290)]=!1,t[i(285)](O[i(267)]))})),s[e(266)]){t.isInView=En(t[e(261)]);const s=vs((()=>{const s=e,i=En(t.$container);i!==t[s(281)]&&(t[s(281)]=i,t[s(285)](O.inView,i))}),200);i(window,"scroll",(()=>s()))}if(s[e(277)]){const s=vs((()=>{const s=e;t[s(285)](O[s(273)])}),500);i(window,e(270),(()=>{s()})),screen&&screen[e(291)]&&screen[e(291)].onchange&&i(screen[e(291)],e(255),(()=>{s()}))}})(this),Mi()&&this[e(1297)].ghostWatermarkConfig[e(849)]){const t=Object.assign({},this._opt[e(730)],{isGhost:!0});this[e(1055)]=new zR(this,t)}if(Bi()){const t=Object.assign({},this[e(1297)][e(730)],{isGhost:!0});this[e(1055)]=new zR(this,t)}Mi()&&this[e(1297)][e(756)][e(849)]&&(this[e(528)]=new zR(this,this[e(1297)][e(756)])),Bi()&&(this.dynamicWatermark=new zR(this,this[e(1297)][e(756)])),Ks(this._opt[e(625)])&&this.updateWatermark(this._opt[e(625)]),this[e(1297)].useWCS&&this[e(1247)](this[e(1022)],"use WCS"),this._opt.useMSE&&(this[e(1297)].mseDecoderUseWorker?this[e(1247)](this.TAG_NAME,e(1144)):this[e(1247)](this[e(1022)],e(943))),this[e(1297)].useOffscreen&&this[e(1247)](this[e(1022)],e(1195)),this[e(1297)][e(902)]&&(this[e(1297)].supportHls265?this[e(1247)](this[e(1022)],e(1289)):this[e(1247)](this.TAG_NAME,e(510))),this._opt[e(743)]&&(this[e(1297)][e(1049)]?this[e(1247)](this.TAG_NAME,"use webrtc h265"):this[e(1297)].isWebrtcForZLM?this.debugLog(this[e(1022)],"use webrtc for ZLM"):this[e(1297)][e(519)]?this[e(1247)](this.TAG_NAME,e(861)):this[e(1297)][e(539)]?this[e(1247)](this[e(1022)],e(582)):this[e(1247)](this[e(1022)],e(1169))),this.isAliyunRtc()&&this.debugLog(this[e(1022)],e(752)),this[e(1297)][e(770)]&&this.debugLog(this[e(1022)],e(509)),this[e(1297)][e(564)]&&this[e(1247)](this.TAG_NAME,e(505)),this[e(1212)]()&&this[e(1247)](this[e(1022)],"use playback"),this[e(641)]()&&this.debugLog(this[e(1022)],e(623));const o=Ti();if(o){const t=Es(o[e(1209)]);this[e(1247)](this[e(1022)],e(974)+t)}this[e(1297)].hasVideo&&(0===this[e(1085)]&&this[e(1185)](this[e(1022)],e(970)),0===this.height&&this[e(1185)](this.TAG_NAME,e(930)));try{this[e(1247)](e(1163),JSON[e(867)](this._opt))}catch(t){this[e(1247)](e(1163),this[e(1297)])}}async destroy(){const t=rL;if(this[t(1247)](this[t(1022)],t(676)),this._destroyLock)return new Error(t(987));this[t(689)]=!0,this._destroyed=!0,this.emit(O.destroy),this[t(714)](),this.events&&(this[t(648)][t(676)](),this.events=null),this.clearCheckLoadingTimeout(),this[t(699)](),this[t(1223)](),this[t(739)]&&(await this.decoderWorker.destroy(),this[t(739)]=null),await this[t(1025)](),this[t(689)]=!1}async _destroy(){const t=rL;this[t(1103)]=!1,this._playing=!1,this[t(1206)]=!1,this[t(983)]=!1,this[t(773)]=null,this._isMute=null,this[t(685)]=!1,this[t(876)]=!1,this._faceDetectActive=!1,this[t(757)]=!1,this[t(1284)]=!1,this._imageDetectActive=!1,this._times={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this[t(1036)]&&(this[t(1036)].destroy(),this[t(1036)]=null),this.ghostWatermark&&(this[t(1055)][t(676)](),this[t(1055)]=null),this[t(528)]&&(this[t(528)].destroy(),this[t(528)]=null),this[t(1220)]&&(this[t(1220)].destroy(),this[t(1220)]=null),this[t(732)]&&(await this.stream[t(676)](),this[t(732)]=null),this[t(1012)]&&(await this.hlsDecoder[t(676)](),this.hlsDecoder=null),this[t(821)]&&(this[t(821)].destroy(),this[t(821)]=null),this[t(1151)]&&(this.webrtc[t(676)](),this.webrtc=null),this[t(745)]&&(this[t(745)].destroy(),this[t(745)]=null),this[t(698)]&&(await this[t(698)].destroy(),this[t(698)]=null),this[t(1261)]&&(await this.audio[t(676)](),this[t(1261)]=null),this[t(885)]&&(this[t(885)].destroy(),this[t(885)]=null),this.control&&(this.control[t(676)](),this[t(500)]=null),this[t(630)]&&(await this[t(630)][t(676)](),this[t(630)]=null),this[t(661)]&&(await this[t(661)][t(676)](),this[t(661)]=null),this[t(1079)]&&(this[t(1079)][t(676)](),this.demux=null),this[t(841)]&&(this.playback.destroy(),this[t(841)]=null),this.playVod&&(this[t(690)][t(676)](),this[t(690)]=null),this[t(1038)]&&(this.zoom[t(676)](),this[t(1038)]=null),this.drawRectangle&&(this[t(655)][t(676)](),this.drawRectangle=null),this.ai&&(this.ai[t(676)](),this.ai=null),this[t(617)]&&(this[t(712)](),this[t(617)][t(676)](),this[t(617)]=null),this[t(1179)](),this._audioTimestamp=0,this[t(1075)]=0,this[t(934)]=0,this._streamQuality="",this._visibility=!0,this[t(1229)]=!1,this[t(788)]=null,this._lastestVisibilityChangeTimestamp=null,this._videoIframeIntervalTs=null,this[t(565)]=null,this[t(1154)]=[],this._tempG711DataList=[],this[t(734)]=[],this[t(611)]={},this[t(1094)]=null,this[t(512)]=null,this[t(917)]=null,this[t(811)]={},this[t(727)]=!1,this[t(1191)]=null,this[t(1168)]=!1,this[t(1156)]=!1,this[t(687)]=!1,this[t(561)]=!1,this.isMSECurrentMoreThanBufferedPause=!1,this[t(954)]=!1,this[t(1123)]=!1,this[t(583)]=null,delete this.fullscreen,delete this[t(1067)],this[t(1247)](t(579),t(908)),this[t(600)]=null,this[t(957)]=null,this[t(1297)]={},this._times=null,this[t(925)][t(542)]="",this.$container=null,this[t(1110)]=null}set fullscreen(t){const e=rL;as()&&this[e(1297)].useWebFullScreen?this[e(1067)]=t:this[e(1153)](O[e(751)],t)}get[iL(556)](){const t=iL;return bs()||this[t(1067)]}set[iL(1067)](t){this.emit(O.webFullscreen,t),setTimeout((()=>{const e=rL;this.updateOption({rotate:t?270:0}),this[e(1131)]()}),10)}get[iL(1067)](){const t=iL;return this[t(925)]&&this[t(925)][t(910)][t(1225)](t(537))}set[iL(1259)](t){this[iL(983)]=t}get[iL(1259)](){const t=iL;return this[t(983)]||this[t(555)]()||this[t(749)]()||this[t(1242)]()||this[t(783)]()||this[t(1297)][t(709)]&&Si(this._opt[t(707)])&&Si(this._opt[t(1228)])||this[t(1297)].useWCS&&!this[t(1297)][t(707)]&&Si(this[t(1297)].demuxUseWorker)}set[iL(1177)](t){const e=iL;this[e(976)]()&&t?this[e(1247)](this.TAG_NAME,e(848)):(t&&bi(this.loading)&&(this[e(703)]=!1),this[e(1177)]!==t&&(this[e(726)]=t,this[e(1153)](O[e(1177)],t),t?(this[e(1153)](O[e(592)],this.volume),this[e(1153)](O.play)):this[e(1153)](O[e(1118)])))}get[iL(1177)](){return this[iL(726)]}get[iL(1072)](){const t=iL;return this[t(1261)]&&this[t(1261)][t(1072)]||0}set volume(t){const e=iL;t!==this[e(1072)]&&(this.audio?(this[e(1261)][e(496)](t),this[e(773)]=this[e(1072)],this[e(1081)]=0===this[e(1072)]):this[e(1185)](this.TAG_NAME,e(777)))}get[iL(937)](){return this[iL(773)]}set loading(t){const e=iL;this[e(703)]!==t&&(this[e(1103)]=t,this[e(1153)](O.loading,this[e(1103)]))}get[iL(703)](){return this._loading}set[iL(532)](t){const e=iL;this[e(1e3)]()||this[e(532)]!==t&&(!this.zoom&&(this[e(1038)]=new QD(this)),this[e(685)]=t,this.emit(O[e(532)],this.zooming))}get[iL(532)](){return this[iL(685)]}set[iL(795)](t){const e=iL;this.isDestroyedOrClosed()||this[e(795)]!==t&&(!this[e(655)]&&(this.drawRectangle=new qR(this)),this[e(876)]=t,this.emit(O[e(795)],this[e(795)]))}get drawingRect(){return this[iL(876)]}set[iL(1007)](t){const e=iL;t?this[e(1177)]&&!this.recording&&(this[e(885)]&&this[e(885)][e(985)](),this[e(1130)]()&&this[e(739)]&&this[e(739)][e(923)]({key:e(879),value:!0})):this[e(1007)]&&(this.isDemuxInWorker()&&this[e(739)]&&this.decoderWorker[e(923)]({key:e(879),value:!1}),this.recorder&&this[e(885)][e(668)]()[e(580)]((()=>{}))[e(646)]((t=>{})))}get[iL(1007)](){const t=iL;return!!this.recorder&&this[t(885)][t(879)]}set[iL(502)](t){null!==t&&(this[iL(868)]=t)}get[iL(502)](){return this._audioTimestamp}set latestAudioTimestamp(t){null!==t&&(this[iL(1075)]=t)}get latestAudioTimestamp(){return this[iL(1075)]}get[iL(514)](){const t=iL;return this[t(600)][t(1115)]||this._stats.ts}set[iL(748)](t){const e=iL;this.streamQuality!==t&&(this[e(946)]=t,this.emit(O[e(765)],t))}get streamQuality(){return this._streamQuality}get[iL(1166)](){const t=iL;return bi(this[t(1297)][t(1110)])}get scaleType(){const t=iL,e=this._opt,s=e.isResize,i=e[t(1093)];let r=Z[t(1021)];return Si(i)&&Si(s)?r=Z.full:Si(i)&&bi(s)?r=Z[t(903)]:bi(i)&&bi(s)&&(r=Z[t(1107)]),r}set visibility(t){const e=iL;this[e(612)]!==t&&(this[e(612)]=t,this[e(1153)](O[e(759)],t),this._lastestVisibilityChangeTimestamp=Je(),t?this[e(1223)]():this[e(716)]())}get visibility(){return this[iL(612)]}set[iL(729)](t){const e=iL;this[e(1206)]!==t&&(this[e(1206)]=t,this[e(1153)](O[e(729)],t),this.emit(O[e(1142)],t),bi(t)&&this[e(1007)]&&(this[e(1247)](this[e(1022)],e(1200)),this.recording=!1))}get[iL(729)](){const t=iL;return this.isPlayback()&&this[t(1206)]}set[iL(1269)](t){const e=iL;if(this[e(690)])return this[e(690)][e(892)]()&&Si(t)?(this[e(1247)](this[e(1022)],e(1237)),void this.emit(O[e(638)])):void(this._playVodPause!==t&&(this._playVodPause=t,this[e(1153)](O[e(1269)],t),this[e(1153)](O[e(900)],t),bi(t)&&this[e(1007)]&&(this[e(1247)](this.TAG_NAME,e(792)),this[e(1007)]=!1)))}get playVodPause(){return this.isPlayVod()&&this._playVodPause}set[iL(1305)](t){this[iL(746)]=t}get[iL(1305)](){return this[iL(746)]}set faceDetectActive(t){const e=iL;this[e(1120)]!==t&&(this[e(1120)]=t,this.emit(O[e(1193)],t))}get[iL(1193)](){return this[iL(1120)]}set objectDetectActive(t){const e=iL;this._objectDetectActive!==t&&(this._objectDetectActive=t,this[e(1153)](O[e(989)],t))}get[iL(989)](){return this[iL(757)]}set[iL(669)](t){const e=iL;this[e(1284)]!==t&&(this[e(1284)]=t,this[e(1153)](O.occlusionDetectActive,t))}get[iL(669)](){return this[iL(1284)]}set imageDetectActive(t){const e=iL;this[e(518)]!==t&&(this[e(518)]=t)}get[iL(1311)](){return this[iL(518)]}get[iL(1239)](){const t=iL;return this[t(732)]&&-1!==this[t(732)][t(850)]()[t(627)](h[t(1058)])}get[iL(683)](){const t=iL;let e={width:0,height:0,bottom:0,left:0,right:0,top:0};return this[t(925)]&&(e=this[t(925)].getBoundingClientRect(),e[t(1085)]=Math.max(e[t(1085)],this[t(925)][t(522)]),e[t(814)]=Math[t(507)](e[t(814)],this[t(925)][t(499)])),e}get[iL(1085)](){const t=iL;return this.rect[t(1085)]||0}get[iL(814)](){const t=iL;return this[t(683)][t(814)]||0}get[iL(1100)](){const t=iL;return this[t(683)][t(1100)]||0}get[iL(922)](){return this.rect.left||0}get[iL(599)](){const t=iL;return this.rect[t(599)]||0}get[iL(545)](){const t=iL;return this.rect[t(545)]||0}[iL(1232)](){return this[iL(567)]}isDestroying(){const t=iL;return this[t(567)]&&this[t(689)]}[iL(976)](){return this._closed}[iL(654)](){return Si(this[iL(1232)]())&&this.isClosed()}isDestroyedOrClosed(){return this[iL(1232)]()||this.isClosed()}[iL(1129)](){return this.loading}[iL(618)](){const t=iL;let e=!1;return this.isPlayer()?e=this.playing:this[t(1212)]()?e=Si(this[t(729)])&&this[t(1177)]:this[t(641)]()&&(e=Si(this[t(1269)])&&this[t(1177)]),e}[iL(782)](t){const e=iL;let s=arguments[e(873)]>1&&void 0!==arguments[1]&&arguments[1];this[e(1297)]=Object[e(526)]({},this._opt,t),bi(s)&&this.updateWorkerOption(t)}updateWorkerOption(t){const e=iL;this[e(739)]&&Object[e(784)](t)[e(832)]((s=>{const i=e;this[i(739)][i(923)]({key:s,value:t[s]})}))}[iL(744)](){return new Promise(((t,e)=>{const s=rL;_i()&&!this.pressureObserverCpu&&(this[s(1220)]=new jR(this)),!this[s(698)]&&this[s(1297)].hasVideo&&(this[s(698)]=new _o(this)),!this.audio&&this._opt[s(707)]&&(this[s(1261)]=new Ia(this)),!this[s(732)]&&(this[s(732)]=new Ih(this)),this[s(555)]()?(!this[s(1012)]&&(this[s(1012)]=new uk(this),this[s(1259)]=!0),t()):this.isWebrtcH264()?(this[s(1151)]||(this[s(1297)].isWebrtcForZLM?this.webrtc=new PR(this):this[s(1297)].isWebrtcForSRS?this[s(1151)]=new bR(this):this[s(1297)][s(539)]?this.webrtc=new TR(this):this[s(1151)]=new CR(this),this[s(1259)]=!0),t()):this[s(1242)]()?(!this.aliyunRtcDecoder&&(this[s(745)]=new FR(this),this[s(1259)]=!0),t()):this.isPlayVodMp4UseVideoSrc()?(!this[s(661)]&&(this[s(661)]=new VD(this),this[s(1259)]=!0),t()):(!this[s(1079)]&&this._opt[s(794)]&&!this[s(1239)]&&(this[s(1079)]=new Fg(this)),this[s(1297)].useWCS&&!this[s(630)]&&(this.webcodecsDecoder=new Wg(this),!this[s(1297)][s(707)]&&Si(this[s(1297)][s(1228)])&&(this[s(1259)]=!0)),this[s(1297)][s(709)]&&Si(this[s(1297)].mseDecoderUseWorker)&&!this.mseDecoder&&(this.mseDecoder=new Ry(this),!this[s(1297)][s(707)]&&Si(this[s(1297)][s(1228)])&&(this.loaded=!0)),this[s(1104)]()&&!this.hlsDecoder&&(this[s(1012)]=new hD(this)),this[s(1049)]()&&!this.webrtc&&(this.webrtc=new CR(this)),this[s(1263)]()&&!this[s(661)]&&(this[s(661)]=new VD(this)),this[s(739)]?this[s(1259)]?t():this[s(1066)](O[s(1029)],(()=>{const i=s;this[i(1e3)]()?(this[i(613)](this[i(1022)],i(1243)),e(i(1243))):(this[i(1259)]=!0,t())})):Si(ri(this._opt))?(this.isWasmUseMThreading()?this[s(739)]=new Lc(this):this.decoderWorker=new _c(this),this.once(O[s(1029)],(()=>{const i=s;this[i(1e3)]()?(this[i(613)](this[i(1022)],"init() failed and player is destroyed"),e(i(1243))):(this[i(1259)]=!0,t())}))):t())}))}[iL(579)](t){const e=iL;let s=arguments[e(873)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e;if(!t&&!this[n(1297)][n(1003)])return r("url is empty");this[n(1302)]=!1,this[n(703)]=!0,this[n(1177)]=!1,this[n(696)][n(981)]=Je(),!t&&(t=this._opt.url),this[n(1297)][n(1003)]=t,this[n(1247)](this[n(1022)],n(644)+t),this[n(500)]&&this[n(1297)][n(1287)]&&this.control[n(807)](),this[n(744)]()[n(580)]((()=>{const e=n;if(this[e(1247)](this.TAG_NAME,e(829)),this._times[e(666)]=Je(),this[e(1297)][e(972)]&&this[e(560)](!1),this[e(634)](),this[e(527)](),this[e(732)]){if(this[e(732)][e(1066)](V.fetchError,(t=>{const s=e;this.emitError(V[s(1171)],t),r(t)})),this[e(732)][e(1066)](V[e(1023)],(t=>{const s=e;this[s(952)](V[s(1023)],t),r(t)})),this[e(732)].once(V[e(1102)],(t=>{this[e(952)](V.webrtcError,t),r(t)})),this.stream.once(O[e(649)],(()=>{const t=e;if(i(),!this[t(1e3)]()&&(this[t(696)].streamResponse=Je(),this[t(698)]&&this[t(698)].play(),this[t(819)](),this.isPlayback()&&this[t(841)]?(this.playback[t(856)](),this[t(841)].emitPlaybackPrecisionForNormal()):this[t(641)]()&&this[t(690)]&&this[t(690)].startCheckStatsInterval(),Bi())){const e=Number("1")||1;setTimeout((()=>{const e=t;this.destroy(),console.error(decodeURIComponent($t)),alert(decodeURIComponent(Xt)),window[e(700)].reload()}),60*e*60*1e3)}})),Fi())return r(decodeURIComponent(Xt));this[e(732)][e(711)](t,s)}else this[e(1185)](this[e(1022)],"play() this.stream is null and is isDestroyedOrClosed is "+this[e(1e3)]()),r(e(1173))}))[n(646)]((t=>{r(t)}))}))}[iL(808)](){return new Promise(((t,e)=>{const s=rL;if(this.isPlayback()&&this.playback.isEnded())return this[s(1247)](this[s(1022)],s(1249)),void this[s(1153)](O[s(1002)]);this[s(1247)](this[s(1022)],s(836)+this._opt[s(898)]),this._opt[s(898)]&&this[s(611)]&&this[s(611)][s(1287)]&&this[s(782)]({loadingBackground:this._tempInnerPlayBgobj[s(1287)],loadingBackgroundWidth:this[s(611)].loadingBackgroundWidth,loadingBackgroundHeight:this[s(611)].loadingBackgroundHeight}),this[s(579)]()[s(580)]((e=>{t(e)}))[s(646)]((t=>{e(t)}))}))}[iL(953)](){return new Promise(((t,e)=>{const s=rL;this._close()[s(580)]((()=>{const e=s;this[e(698)]&&this.video[e(1073)](),t()})).catch((t=>{e(t)}))}))}[iL(515)](){const t=iL;this[t(937)]&&Si(this[t(1081)])&&(this[t(1072)]=this[t(937)])}async[iL(534)](){const t=iL;this[t(1247)](this[t(1022)],t(721)),this[t(1302)]=!0,this[t(698)]&&(this[t(698)][t(771)](),this.video[t(1118)](!0)),this[t(703)]=!1,this.recording=!1,this[t(532)]=!1,this[t(1253)](),this.clearStatsInterval(),this[t(1212)]()&&this[t(841)]&&(this[t(841)][t(699)](),this[t(841)][t(966)]()),this[t(641)]()&&this[t(690)]&&this[t(690)][t(699)](),this[t(712)](),this.resetStats(),this[t(868)]=0,this._videoTimestamp=0,this[t(696)]={playInitStart:"",playStart:"",streamStart:"",streamResponse:"",demuxStart:"",decodeStart:"",videoStart:"",playTimestamp:"",streamTimestamp:"",streamResponseTimestamp:"",demuxTimestamp:"",decodeTimestamp:"",videoTimestamp:"",allTimestamp:""},this[t(739)]&&(await this[t(739)].destroy(),this[t(739)]=null),this[t(732)]&&(await this.stream[t(676)](),this[t(732)]=null),this[t(1079)]&&(this.demux[t(676)](),this[t(1079)]=null),this[t(630)]&&(await this[t(630)][t(676)](),this[t(630)]=null),this[t(821)]&&(this[t(821)][t(676)](),this.mseDecoder=null),this[t(1012)]&&(await this[t(1012)][t(676)](),this.hlsDecoder=null),this[t(1151)]&&(this[t(1151)][t(676)](),this[t(1151)]=null),this[t(745)]&&(this[t(745)][t(676)](),this.aliyunRtcDecoder=null),this[t(1261)]&&(await this[t(1261)][t(676)](),this[t(1261)]=null),this[t(661)]&&(await this[t(661)][t(676)](),this[t(661)]=null),this[t(1220)]&&(this[t(1220)][t(676)](),this[t(1220)]=null),this[t(1177)]=!1}[iL(1118)](){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((e,s)=>{const i=rL;t?this[i(953)]().then((()=>{e()}))[i(646)]((t=>{s(t)})):this._close()[i(580)]((()=>{e()}))[i(646)]((t=>{s(t)}))}))}[iL(1257)](){return new Promise(((t,e)=>{const s=rL;if(this[s(1247)](this[s(1022)],s(688)),this[s(1297)][s(898)]&&this[s(698)]){const t=this[s(698)][s(1183)]("",s(684),.92,"base64");if(t){const e=this[s(990)]();e?(this.debugLog(this[s(1022)],"pauseForControl() and loadingBackground width is "+e[s(1085)]+s(839)+e[s(814)]),this._tempInnerPlayBgobj={loadingBackground:t,loadingBackgroundWidth:e[s(1085)],loadingBackgroundHeight:e[s(814)]}):this.debugWarn(this[s(1022)],s(1076))}else this.debugWarn(this[s(1022)],s(1246))}this[s(1118)]()[s(580)]((e=>{t(e)}))[s(646)]((t=>{e(t)}))}))}[iL(695)](){const t=iL;let e=!0;return this.audio&&(e=this[t(1261)][t(643)]),e}[iL(614)](){return!this[iL(695)]()}[iL(560)](t){const e=iL;this[e(1261)]&&this[e(1261)][e(560)](t)}resize(){const t=iL;this[t(698)]&&this[t(698)][t(1131)]()}[iL(985)](t,e){const s=iL;this[s(1007)]||(this.recorder[s(1050)](t,e),this.recording=!0)}[iL(889)](){return new Promise(((t,e)=>{const s=rL;!this[s(885)]&&e(s(559)),this.recording&&(this[s(1297)][s(1182)]&&this[s(739)]&&this.decoderWorker[s(923)]({key:"isRecording",value:!1}),this[s(885)][s(889)]().then((()=>{t()}))[s(646)]((t=>{e(t)})))}))}[iL(668)](t,e){return new Promise(((s,i)=>{const r=rL;!this[r(885)]&&i(r(559)),this.recording?(this.isDemuxInWorker()&&this[r(739)]&&this.decoderWorker[r(923)]({key:"isRecording",value:!1}),this[r(885)].stopRecordAndSave(t,e)[r(580)]((t=>{s(t)}))[r(646)]((t=>{i(t)}))):i("recorder is not recording")}))}_hasControl(){const t=iL;let e=!1,s=!1;return Object[t(784)](this._opt.operateBtns).forEach((e=>{const i=t;this._opt[i(603)][e]&&-1===(""+e)[i(627)]("Fn")&&(s=!0)})),(this[t(1297)][t(1262)]||s)&&(e=!0),this[t(1297)][t(929)]&&this[t(1297)].extendOperateBtns[t(873)]>0&&(e=!0),this[t(1212)]()&&this[t(1297)][t(1143)][t(1034)]&&(e=!0),this[t(641)]()&&(e=!0),this[t(1297)][t(842)]&&(e=!0),e}useWasmDecode(){const t=iL;return Si(this[t(1297)].useMSE)&&Si(this[t(1297)][t(547)])}canVideoTrackWritter(){const t=iL,e=this._opt;return!this[t(555)]()&&!this[t(749)]()&&Si(e[t(709)])&&!this[t(1242)]()&&!this[t(783)]()&&(e[t(547)]&&Si(e.useOffscreen)&&e[t(1141)]||this.useWasmDecode())}[iL(1041)](){const t=iL;if(Si(this.playbackPause)&&Si(this.playVodPause)&&this[t(1177)]){if(this[t(1e3)]())return void this.debugWarn(this[t(1022)],"checkHeartTimeout$2 but player is destroyed");if(Si(this[t(586)]()))return void this[t(1185)](this[t(1022)],"checkHeartTimeout$2 but fps is not all zero");if(0!==this._stats.fps)return void this[t(1185)](this.TAG_NAME,t(563)+this[t(600)][t(587)]);const e=this._historyFpsList[t(524)](",");this[t(1185)](this[t(1022)],"checkHeartTimeout$2 and\n                pause and emit delayTimeout event and\n                current vbps is "+this[t(600)].vbps+t(827)+this[t(600)].fps+t(767)+e+t(897)+this[t(1307)]+t(959)),this[t(1153)](O[t(1164)],O[t(1016)]),this.emit(O[t(1016)])}else this.debugLog(this[t(1022)],t(935)+this[t(729)]+t(1005)+this[t(1177)])}[iL(819)](){const t=iL;this[t(835)]=setInterval(this[t(957)][t(1300)],1e3)}[iL(527)](){const t=iL;if(this[t(641)]())return void this[t(1247)](this[t(1022)],t(1046));const e=parseFloat((Math[t(1024)](11*Math[t(958)]())-5)/10),s=this._opt.loadingTimeout+e;this[t(1247)](this.TAG_NAME,t(1070)+this[t(1297)][t(858)]+t(740)+s),this[t(585)]=setTimeout((()=>{const e=t;this[e(1177)]?this[e(1185)](this[e(1022)],e(1291)+this[e(703)]+e(591)+this[e(1177)]):this[e(1e3)]()?this[e(1185)](this.TAG_NAME,e(747)):(this[e(1185)](this[e(1022)],e(995)),this[e(1153)](O.timeout,O[e(858)]),this[e(1153)](O.loadingTimeout))}),1e3*s)}[iL(1253)](){const t=iL;this[t(585)]&&(this[t(1247)](this.TAG_NAME,t(1253)),clearTimeout(this[t(585)]),this[t(585)]=null)}[iL(699)](){const t=iL;this[t(835)]&&(this.debugLog(this[t(1022)],t(699)),clearInterval(this[t(835)]),this._checkStatsInterval=null)}[iL(702)](){const t=iL;this[t(1e3)]()?this[t(1247)](this.TAG_NAME,"handleRender but player is destroyed or closed"):(this.loading&&(this.clearCheckLoadingTimeout(),this[t(703)]=!1,this[t(1153)](O[t(864)]),this.emit(O[t(766)]),this.emitFirstStatsEvent(),this[t(1018)]()),!this[t(1177)]&&(this[t(1177)]=!0))}[iL(1018)](){const t=iL,e=Ss(this[t(925)]);(e||this.webFullscreen)&&(this[t(1247)](this[t(1022)],t(671)+e+" and webFullscreen is "+this[t(1067)]),this.fullscreen=!0,this[t(1153)](O[t(607)]))}[iL(852)](){const t=iL,e=this[t(600)],s=Object[t(526)]({},e,{audioBuffer:0,audioBufferDelayTs:0,audioTs:this[t(502)],latestAudioTs:this.latestAudioTimestamp,playbackVideoBuffer:0,playbackVideoWaitingBuffer:0,playbackAudioWaitingBuffer:0,playbackCacheDataDuration:0,demuxBuffer:0,pushLatestDelay:0,audioDemuxBuffer:0,streamBuffer:0,mseDelay:0,mseStore:0,mseDecodePlaybackRate:0,msePendingBuffer:0,wcsDecodeDiffTimes:0,wasmDecodeDelay:0,hlsDelay:0,hlsDemuxLength:0,hlsDemuxAudioLength:0,hlsDemuxVideoLength:0,delayTs:0,totalDelayTs:0,isStreamTsMoreThanLocal:!1,videoCurrentTime:0,videoCurrentTimeDiff:-1,audioSyncVideo:0});this[t(1153)](O[t(1222)],s)}[iL(1300)](){const t=iL;let e=arguments[t(873)]>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isDestroyedOrClosed())return void this[t(1247)](this[t(1022)],t(1071),e);if(!this[t(805)]&&(this[t(805)]=Je(),this._startTimestamp=this._startBpsTime),Ps(e.ts)){const s=parseInt(e.ts,10);this[t(600)].ts=s,this[t(825)][t(1295)](s),null===this[t(788)]&&s>0&&(this[t(788)]=s)}Ps(e[t(576)])&&(this[t(600)][t(576)]=parseInt(e[t(576)],10)),Ps(e[t(1037)])&&(this[t(600)][t(1037)]=e[t(1037)]),Ps(e.buf)&&(this[t(600)][t(681)]=e.buf),Ps(e[t(1086)])&&(this[t(600)].netBuf=e[t(1086)]),Ps(e[t(1115)])&&(this._stats[t(1115)]=e[t(1115)]),e[t(587)]&&(this[t(600)][t(587)]+=1),e[t(918)]&&(this[t(600)][t(918)]+=1),e[t(741)]&&(this._stats[t(741)]+=1),e.abps&&(this[t(600)][t(774)]+=e[t(774)]),e.vbps&&(this[t(600)][t(838)]+=e[t(838)]),e[t(1207)]&&(this[t(565)]=e[t(1207)]),e.isDropping&&(this[t(600)][t(787)]=e[t(787)]),e[t(1098)]&&(this._stats[t(1098)]=parseInt(1e3*e.mseVideoBufferDelayTime,10));const s=Je();if(s-this[t(805)]<1e3)return;null!==this._playingStartTimestamp&&this[t(600)][t(587)]>0&&(this[t(600)][t(503)]+=1);let i=0,r=0,n=0,o=0;this[t(642)]()&&this._opt[t(709)]&&(this.mseDecoder?(i=this[t(821)][t(1250)](),i=parseInt(1e3*i,10),r=this[t(821)].checkSourceBufferStore(),r=r[t(986)](2),n=this[t(821)][t(853)](),o=this.mseDecoder[t(558)]()):this[t(1061)]()&&(i=this[t(698)][t(1250)](),i=parseInt(1e3*i,10),r=this[t(698)].checkSourceBufferStore(),r=r.toFixed(2),n=this[t(698)][t(853)]())),this.isOldHls()&&this[t(1012)]&&(i=this.hlsDecoder.checkHlsBufferedDelay(),i=parseInt(1e3*i,10));let a=0,h=0,l=0;this[t(1104)]()&&this.hlsDecoder&&(i=this[t(1012)].checkHlsBufferedDelay(),i=i[t(986)](2),a=this[t(1012)][t(984)](),l=this[t(1012)].getDemuxVideoBufferedListLength(),h=this[t(1012)].getDemuxAudioBufferedListLength());let c,u=0,p=0,f=0,m=!1,g=0,y=0,A=0;if(this[t(1130)]()){if(this[t(565)]&&(p=this[t(565)].demuxBufferDelay||0,f=this[t(565)][t(553)]||0,u=this[t(565)][t(899)]||0,Ps(this[t(565)][t(1086)])&&(this[t(600)][t(1086)]=this[t(565)][t(1086)]),g=this[t(565)][t(615)]||0,m=this._tempWorkerStats[t(1017)]||0,Ps(this[t(565)][t(1286)])&&(this._stats.buf=this._tempWorkerStats[t(1286)]),Ps(this[t(565)][t(595)])&&(A=this[t(565)][t(595)]),y=this[t(565)].wasmDecodeDelay||0,Ps(this[t(565)][t(741)])&&Si(this[t(949)]())&&(this[t(600)][t(741)]=this[t(565)][t(741)])),this.isPlayVod()&&this.demux){const e=this[t(1079)][t(1052)]();u=this[t(1079)].getInputByteLength()+this[t(732)][t(710)](),g=this[t(1079)][t(776)](),m=this.demux[t(697)](),p=e[t(698)],f=e[t(1261)],A=this[t(1079)][t(905)]()}}else this[t(1079)]&&(u=this[t(1079)][t(686)]()+this[t(732)][t(710)](),g=this[t(1079)][t(776)](),m=this[t(1079)][t(697)](),p=this[t(1079)][t(1145)](),f=this[t(1079)][t(1039)](),A=this[t(1079)][t(905)]());this.isUseWCS()&&this[t(630)]&&(c=this[t(630)][t(1116)]());let v=0,b=0;this[t(1261)]&&this[t(1261)][t(498)]&&(v=this[t(1261)][t(498)][t(873)],b=parseInt(v*this[t(1261)][t(1241)],10));let S=0,E=0;if(this[t(1212)]()){if(this[t(698)]){this[t(1297)][t(1143)][t(938)]&&(S=this[t(698)][t(498)]&&this[t(698)].bufferList[t(873)]||0);let e=this[t(698)].getStreamFps();const s=e>0?1e3/e:0;E=parseInt(s*S+s*p,10)}}else this[t(641)]()&&this.video&&(S=this[t(698)].bufferList&&this[t(698)].bufferList.length||0);let w=0;this.videoTimestamp>0&&(w=this[t(600)][t(576)]-this[t(514)]);const T=w+this[t(600)][t(1086)];this[t(555)]()&&(this[t(600)][t(587)]=this[t(1012)][t(1111)]()),this[t(600)][t(587)]>this[t(600)][t(764)]&&(this[t(600)][t(764)]=this._stats.fps);let I=this[t(589)]();const k=this[t(600)][t(801)];let _=-1;k&&I&&(_=ys((I-k)[t(986)](2)),I=I[t(986)](2));let C=0;this[t(502)]>0&&(C=this[t(502)]-this[t(1266)]());let D={demuxBuffer:p,audioDemuxBuffer:f,bufferDuration:A,streamBuffer:u,audioSyncVideo:C};this.isPlayer()?(D=Object[t(526)](D,{delayTs:w,totalDelayTs:T}),Si(this[t(1301)]())&&(D=Object[t(526)](D,{pushLatestDelay:g,isStreamTsMoreThanLocal:m}))):this.isPlayback()?D=Object[t(526)](D,{playbackVideoBuffer:S,playbackVideoWaitingBuffer:0,playbackAudioWaitingBuffer:0,playbackCacheDataDuration:E}):this[t(641)](),this[t(1301)]()?Si(this.isPlayVod())&&(D=Object[t(526)](D,{mseDelay:i,decodeDelayTs:i,mseStore:r,msePendingBuffer:o,mseDecodePlaybackRate:n})):this.isUseWCS()?D=Object.assign(D,{decodeDelayTs:c}):this[t(521)]()&&(D=Object.assign(D,{decodeDelayTs:y})),this[t(555)]()?D=Object[t(526)](D,{hlsDelay:i}):this.isUseHls265()&&(D=Object[t(526)](D,{hlsDelay:i,hlsDemuxLength:a,hlsDemuxAudioLength:h,hlsDemuxVideoLength:l})),this[t(1216)]()&&(D=Object[t(526)](D,{videoCurrentTime:I,videoCurrentTimeDiff:_})),this[t(1077)]()&&(D=Object[t(526)](D,{audioBuffer:v,audioBufferDelayTs:b,audioTs:this[t(502)],latestAudioTs:this[t(1138)]})),this[t(1226)]=Object[t(526)](this[t(600)],D);let R=null,L=null,P="";if(this[t(875)]()&&this[t(1297)][t(794)]&&this[t(1177)]){R=function(t,e){let s=3;const i=e||25;return t<=i*(1/4)?s=0:t<=.5*i?s=1:t<=i*(3/4)&&(s=2),s}(this[t(600)][t(587)],this[t(512)]),this[t(1226)][t(1020)]=R;const e=this[t(1128)](this[t(1226)]);P=e[t(543)],L=e[t(1161)],this[t(1226)].videoSmooth=L}if(this.emit(O[t(1222)],this[t(1226)]),this._allStatsData[t(963)]>this._opt.flvDemuxBufferSizeMaxLarge&&this[t(1090)]()===d[t(896)]&&Si(this.isPlaybackCacheBeforeDecodeForFpsRender())&&this[t(1153)](V[t(1186)],this[t(1226)][t(963)]),this[t(1297)][t(794)]?(this.updateHistoryFpsList(this._stats[t(587)],this._allStatsData[t(1221)]),Ps(R)&&this.emit(O[t(1020)],R),Ps(L)&&this.emit(O[t(598)],L,P)):this[t(1297)][t(707)]&&this[t(525)](this[t(600)][t(774)],0),this[t(594)]()&&this[t(1297)][t(977)]&&this[t(1176)][t(873)]>=this[t(1297)][t(516)]){const e=Ci(this._historyFpsList[t(1008)](-this[t(1297)][t(516)])),s=e.reduce(((t,e)=>t+e),0)/e[t(873)];s<this[t(1297)][t(803)]&&(this[t(1247)](this[t(1022)],"webrtc check low fps is "+s+" and webrtcLowFps is "+this[t(1297)][t(803)]+", and history fps is "+this[t(1176)][t(524)](",")),this.emit(O.webrtcLowFps,t(573)+s))}if(this[t(600)][t(587)]=0,this[t(600)][t(918)]=0,this[t(600)][t(774)]=0,this[t(600)][t(838)]=0,this[t(600)][t(741)]=0,this[t(825)]=[],this[t(600)].isDropping=!1,this[t(805)]=s,Bi()){const e=s-this[t(1191)];e>60*(Number("1")||1)*60*1e3&&Bi()&&this[t(676)]()}}[iL(566)](){this[iL(805)]=null}[iL(1179)](){const t=iL;this[t(805)]=null,this[t(788)]=null,this[t(1176)]=[],this[t(1119)]=[],this[t(600)]={buf:0,netBuf:0,fps:0,maxFps:0,dfps:0,p2dfps:0,abps:0,vbps:0,ts:0,mseTs:0,currentPts:0,pTs:0,dts:0,mseVideoBufferDelayTime:0,isDropping:!1},this._allStatsData={},this[t(825)]=[]}[iL(1128)](t){const e=iL;let s=!0,i="";if(this[e(1297)][e(920)],this[e(1297)][e(1095)],this[e(594)]()||this.isOldHls())return{result:s,reason:i};if(0===t[e(838)]&&Si(this[e(1297)][e(902)])&&(i=e(878),this.debugLog(this[e(1022)],e(725)+i),s=!1),s&&t[e(787)]&&(i=e(531),this.debugLog(this[e(1022)],"checkVideoSmooth false because "+i),s=!1),s&&this[e(1307)]&&this[e(1176)].length>=this._opt[e(1231)]){const r=Ci(this._historyFpsList),n=r.reduce(((t,e)=>t+e),0)/r[e(873)],o=.83*n;t[e(587)]<o&&(i="fpsIsLow",this[e(1247)](this[e(1022)],e(826)+t[e(587)]+e(1148)+o+e(608)+n+e(667)+this._tempTsList[e(524)](",")),s=!1)}if(s&&this[e(1307)]&&this[e(1297)][e(709)]&&(t.videoCurrentTimeDiff>=1.5||t.videoCurrentTimeDiff<=.5)&&-1!==t[e(1221)]){if(i=e(1043),this.debugLog(this[e(1022)],e(735)+t[e(1221)]),0===Number(t[e(1221)])){const t=this[e(997)](),s=this[e(589)](),i=this[e(768)](),r=JSON[e(867)](i);this[e(1247)](this[e(1022)],e(786)+s+" and isPlaying is "+t+e(855)+r)}s=!1}return{result:s,reason:i}}[iL(634)](){const t=iL;this[t(1297)].keepScreenOn&&this[t(617)]&&this[t(617)][t(1233)]()}releaseWakeLock(){const t=iL;this[t(1297)][t(617)]&&this[t(617)]&&this[t(617)][t(619)]()}[iL(993)](){const t=iL;this[t(1297)].useWasm?(this.decoderWorker&&this[t(739)][t(704)](!0),this[t(793)]()&&this[t(1079)]&&this[t(1079)][t(590)](!0)):this[t(1079)]&&this.demux.clearBuffer(!0)}[iL(1270)](){const t=iL;this.emit(O[t(1205)])}[iL(1047)](){const t=iL;if(this[t(1e3)]())return void this[t(1247)](this[t(1022)],t(956));const e=this[t(1267)]();this[t(1153)](O[t(1062)],e)}[iL(1267)](){const t=iL,e=this[t(696)];return e[t(511)]=e.playStart-e.playInitStart,e[t(1285)]=e[t(637)]-e[t(666)],e[t(800)]=e[t(538)]-e[t(637)]>0?e[t(538)]-e.streamStart:0,e[t(620)]=e[t(992)]-e[t(538)]>0?e[t(992)]-e[t(538)]:0,e.decodeTimestamp=e[t(596)]-e[t(992)]>0?e.decodeStart-e.demuxStart:0,e[t(514)]=e[t(1033)]-e[t(596)],e[t(504)]=e.videoStart-e[t(981)],e}[iL(785)](){return this[iL(1297)]}[iL(1060)](){const t=iL;return this[t(1297)][t(914)]}[iL(875)](){const t=iL;return this[t(1297)].playType===l[t(1313)]}[iL(1212)](){const t=iL;return this._opt[t(914)]===l[t(1165)]}isPlayVod(){const t=iL;return this._opt[t(914)]===l[t(690)]}[iL(820)](){const t=iL;let e=!1;return this[t(641)]()&&this[t(690)]&&(e=this.playVod.isSeeking()),e}[iL(1092)](){const t=iL;let e=!1;return this[t(641)]()&&this.playVod&&(e=this[t(690)].isEnded()),e}[iL(793)](){const t=iL;return this._opt[t(1182)]&&this[t(1297)].useMThreading}[iL(642)](){const t=iL;return this.isPlayer()||this[t(1212)]()}[iL(941)](){const t=iL;let e=!0,s=this._opt;return s[t(547)]&&!s[t(677)]?e=!!this[t(630)]&&this[t(630)].hasInit:s[t(709)]&&(e=!!this[t(821)]&&this[t(821)][t(1014)]),e}[iL(722)](){const t=iL;let e=!0,s=this[t(1297)];return s.useWCS&&!s[t(677)]?e=!!this[t(630)]&&this.webcodecsDecoder.isDecodeFirstIIframe:s[t(709)]&&(e=!!this[t(821)]&&this[t(821)][t(1069)]),e}[iL(968)](){const t=iL;let e=!1;return this.audio&&(e=this[t(1261)].isPlaybackRateSpeed()),e}[iL(1125)](){const t=iL;return this[t(600)][t(503)]}[iL(1238)](){const t=iL;let e=null;return this[t(885)]&&(e=this.recorder[t(706)]()),e}[iL(651)](){const t=iL;let e=0;return this[t(1007)]&&(e=this[t(885)][t(818)]()),e}[iL(513)](){let t=0;return this[iL(1007)]&&(t=this.recorder.getTotalDuration()),t}[iL(927)](){const t=iL;let e="";const s=this[t(785)]();return this.isWebrtcH264()?p[t(1151)]:this[t(1242)]()?p[t(550)]:this[t(555)]()?p[t(724)]:this.isPlayVodMp4UseVideoSrc()?p[t(797)]:(s[t(709)]&&(e+=p.mse+" ",s[t(860)]&&(e+=t(1058))),s.useWCS&&(e+=p[t(1091)]+" "),s[t(1182)]&&(e+=p[t(640)]+" ",s[t(632)]&&(e+=p[t(1031)]+" ",s.isFFmpegSIMD&&(e+="v2 ")),s.useMThreading&&(e+=p.mt+" ")),s[t(677)]&&(e+=p[t(1097)]+" "),e)}[iL(1090)](){const t=iL;return this[t(1297)][t(1306)]}[iL(626)](){const t=iL;let e="";return this[t(698)]&&(e=this[t(698)][t(706)]()),e}[iL(1268)](){const t=iL;let e="";return this[t(698)]&&(e=this[t(698)][t(1273)]()),e}[iL(1296)](){const t=iL;let e="";return this.audio&&(e=this[t(1261)].getEngineType()),e}[iL(850)](){const t=iL;let e="";return this[t(732)]&&(e=this.stream[t(850)]()),e}[iL(1265)](){const t=iL;return-1===this.getStreamType()[t(627)](h[t(1058)])}[iL(1281)](){return this[iL(1226)]}[iL(731)](){const t=iL;return this[t(1297)][t(1306)]===d.flv}[iL(812)](){const t=iL;return this[t(1297)][t(1306)]===d[t(1172)]}isNakedFlowDemux(){return this._opt.demuxType===d.nakedFlow}[iL(1255)](){const t=iL;return this[t(1297)][t(1306)]===d[t(647)]}[iL(999)](){const t=iL;return this[t(1297)][t(1306)]===d.ts}[iL(1054)](){const t=iL;return this._opt[t(1306)]===d[t(824)]}[iL(1298)](t){const e=iL;this.updateOption({showPerformance:t}),this.emit(O[e(1298)],t)}[iL(602)](t){const e=iL;t=Number(t);let s={isFullResize:!1,isResize:!1,aspectRatio:e(828)};switch(t){case Z[e(1021)]:s[e(1093)]=!1,s[e(1208)]=!1;break;case Z[e(903)]:s[e(1093)]=!1,s[e(1208)]=!0;break;case Z[e(1107)]:s[e(1093)]=!0,s[e(1208)]=!0}this[e(782)](s),this[e(1131)](),this.emit(O[e(1113)],t)}[iL(716)](){const t=iL;this.clearVisibilityHiddenTimeout(),this[t(1297)][t(588)]>0&&(this[t(1227)]=setTimeout((()=>{this[t(1153)](O.visibilityHiddenTimeout)}),1e3*this[t(1297)][t(588)]))}[iL(1223)](){const t=iL;this[t(1252)]&&(clearTimeout(this[t(1252)]),this[t(1252)]=null)}[iL(1310)](t){const e=iL;this[e(1193)]=t,Si(t)&&this.video&&this.video[e(680)]([])}[iL(857)](t){const e=iL;this[e(989)]=t,Si(t)&&this[e(698)]&&this[e(698)][e(680)]([])}[iL(1147)](t){this[iL(669)]=t}[iL(915)](){const t=iL;this.demux&&this[t(1079)][t(915)]&&this.demux[t(915)]()}[iL(672)](){const t=iL;this.demux&&this[t(1079)][t(672)]&&this[t(1079)].downloadFmp4File()}[iL(890)](){const t=iL,e=new Blob([this._tempStreamList]);try{const s=document[t(529)]("a");s[t(1260)]=window.URL[t(1013)](e),s.download=Date.now()+".mpeg4",s[t(701)](),window[t(557)][t(535)](s[t(1260)])}catch(e){console[t(1096)](t(890),e)}}[iL(869)](){this[iL(1079)]&&this.demux.downloadFlvFile&&this.demux.downloadFlvFile()}downloadG711File(){const t=iL,e=new Blob([this[t(1158)]]);try{const s=document[t(529)]("a");s.href=window[t(557)][t(1013)](e),s[t(624)]=Date[t(919)]()+".data",s[t(701)](),window[t(557)][t(535)](s[t(1260)])}catch(e){console[t(1096)](t(988),e)}}[iL(1290)](){const t=iL,e=this[t(1305)],s=this[t(1226)][t(546)],i=this[t(1226)][t(764)];let r=!1;if(e&&s&&i){r=1e3/i*s>e}return r}[iL(717)](){const t=iL;let e=arguments[t(873)]>0&&void 0!==arguments[0]?arguments[0]:[];this[t(698)]&&this[t(698)][t(717)](e)}[iL(881)](){}sendWebsocketMessage(t){const e=iL,s=this[e(850)]();s===h[e(1245)]||s===h[e(1058)]+" "+h.websocket?this[e(732)].sendMessage(t):this[e(1185)](this.TAG_NAME,"sendWebsocketMessage: stream type is not websocket, current stream type is "+this[e(850)]())}checkIsInRender(){const t=iL,e=this._stats;return e[t(838)]>0&&e.fps>0}[iL(1112)](t){const e=iL;this[e(500)]&&this.control[e(1279)]&&(this[e(500)].$controlHtml[e(542)]=t)}[iL(628)](){const t=iL;this[t(500)]&&this[t(500)][t(1279)]&&(this.control[t(1279)][t(542)]="")}toggleControlHtml(t){const e=iL;this[e(500)]&&this[e(500)][e(1181)](t)}getControlHtmlIsShow(){const t=iL;return!!this[t(500)]&&this[t(500)][t(1188)]()}[iL(1192)](){const t=iL;return this.control?this[t(500)].getControlHtml():null}[iL(736)](t){const e=iL;this[e(500)]&&(this[e(500)][e(1117)]?this[e(500)].updateExtendDom(t):this.control[e(754)]({html:t,showBeforePlay:!0}))}[iL(1174)](){const t=iL;this[t(500)]&&this[t(500)][t(870)]()}[iL(781)](t){const e=iL;this[e(500)]&&this.control[e(1187)](t)}[iL(882)](){const t=iL;return!!this[t(500)]&&this.control[t(888)]()}[iL(1258)](){const t=iL;return this[t(500)]?this[t(500)].getExtendDom():null}[iL(1293)](t){const e=iL;!this[e(1036)]&&(this.singleWatermark=new Rn(this)),this[e(1036)]&&this.singleWatermark.update(t)}[iL(830)](){this.singleWatermark&&this.singleWatermark.remove()}[iL(990)](){const t=iL;let e=null;return this[t(698)]&&(e=this[t(698)][t(990)]()),e}[iL(753)](){const t=iL;let e=null;return this[t(1261)]&&(e=this[t(1261)][t(753)]()),e}[iL(817)](){const t=iL;let e=null;return this[t(698)]&&(e=this[t(698)][t(742)]()),e}emitError(t){const e=iL;let s=arguments[e(873)]>1&&void 0!==arguments[1]?arguments[1]:"";this[e(1153)](O[e(1096)],t,s),this[e(1153)](t,s)}updateHistoryFpsList(t,e){const s=iL;this[s(729)]||this[s(641)]()||Si(this.visibility)||(this[s(1176)].length>this._opt[s(1231)]&&(this[s(1176)].shift(),this[s(1119)][s(1065)]()),this[s(1176)][s(1295)](t),this[s(1119)][s(1295)](e),this.isHistoryFpsListAllZero()&&this.checkHeartTimeout$2())}[iL(586)](){const t=iL;let e=!0;if(this[t(1176)][t(873)]<this[t(1297)].heartTimeout&&(e=!1),e)for(let s=0;s<this._historyFpsList[t(873)];s++)if(this._historyFpsList[s]>0){e=!1;break}if(e)for(let s=0;s<this[t(1119)][t(873)];s++)if(this[t(1119)][s]>0){e=!1;break}return e}isUseHls265(){const t=iL;return bi(this[t(1297)][t(902)])&&bi(this[t(1297)].supportHls265)}[iL(902)](){const t=iL;return bi(this[t(1297)][t(902)])}[iL(555)](){const t=iL;return bi(this[t(1297)][t(902)])&&Si(this[t(1297)][t(533)])}[iL(540)](){const t=iL;return this[t(555)]()&&this[t(1012)]&&this[t(1012)][t(497)](),!0}[iL(743)](){const t=iL;return bi(this[t(1297)][t(743)])}[iL(693)](){const t=iL;return this[t(743)]()&&Si(this[t(1297)][t(1049)])}[iL(749)](){const t=iL;return this[t(743)]()&&Si(this[t(1297)][t(1049)])}[iL(1049)](){const t=iL;return this.isWebrtc()&&bi(this[t(1297)][t(1049)])}[iL(594)](){return this.isWebrtcH264()||this.isAliyunRtc()}[iL(1242)](){return bi(this[iL(1297)].isAliyunRtc)}[iL(978)](){const t=iL;return this[t(1104)]()&&this[t(1301)]()}[iL(1150)](){const t=iL;return this[t(850)]()===h[t(605)]}[iL(877)](){const t=iL;return this[t(1212)]()&&bi(this._opt[t(1143)][t(931)])}[iL(1160)](){const t=iL;return this.isPlayback()&&Si(this[t(1297)].playbackConfig.isPlaybackPauseClearCache)&&bi(this[t(1297)][t(1143)].isCacheBeforeDecodeForFpsRender)}[iL(1088)](){const t=iL;return this[t(1212)]()&&bi(this[t(1297)].useWCS)}[iL(1213)](){const t=iL;return this[t(1212)]()&&bi(this._opt[t(709)])}[iL(1010)](){const t=iL;return this.isPlayback()&&bi(this[t(1297)][t(1182)])}isPlayUseMSE(){const t=iL;return this[t(875)]()&&bi(this[t(1297)][t(709)])}[iL(994)](){const t=iL;return this[t(875)]()&&Si(this[t(1297)][t(709)])}[iL(1157)](){const t=iL;return this[t(1297)][t(709)]&&this[t(1297)][t(1015)]}isWCSDecodeAudio(){const t=iL;this._opt[t(547)]&&this._opt[t(662)]}[iL(840)](){const t=iL;return this[t(641)]()&&bi(this[t(1297)][t(709)])}[iL(783)](){const t=iL;return this[t(1263)]()&&bi(this[t(1297)][t(799)])}isPlayVodUseWCS(){const t=iL;return this[t(641)]()&&bi(this[t(1297)][t(547)])}[iL(837)](){const t=iL;return this[t(641)]()&&bi(this[t(1297)].useWasm)}[iL(913)](){const t=iL;return this[t(641)]()&&Si(this[t(1297)][t(709)])&&Si(this._opt[t(799)])}[iL(1082)](){const t=iL;return this[t(641)]()&&Si(this[t(1297)][t(709)])}[iL(1263)](){const t=iL;return this[t(641)]()&&bi(this[t(1297)][t(770)])}[iL(1108)](){const t=iL;return this[t(641)]()||this[t(902)]()||this[t(743)]()||this.isAliyunRtc()||this[t(1150)]()}[iL(1056)](){const t=iL;return this[t(641)]()?t(690):this[t(902)]()?"hls":this[t(743)]()?t(1151):this[t(1242)]()?"aliyun rtc":this[t(1150)]()?t(1059):void 0}isInWebFullscreen(){const t=iL;return this[t(1297)][t(554)]&&as()&&this[t(556)]}[iL(1254)](){return this[iL(556)]&&this.isMobileFullscreenChangeRotate()}[iL(1167)](){const t=iL;let e=1;return bi(this.isPlayback())&&this.playback&&(e=this[t(841)].rate),e}[iL(572)](){const t=iL;let e=1;return this[t(641)]()&&this.playVod&&(e=this[t(690)][t(1006)]),e}[iL(1277)](){const t=iL;return bi(this[t(1212)]())&&this[t(841)].isRateMoreThanMaxRateDecodeIFrame()&&Si(this[t(1157)]())}[iL(1149)](t){const e=iL,s=new Uint8Array(t);this[e(1154)][e(1295)](s)}[iL(548)](t){const e=iL,s=new Uint8Array(t);this[e(1158)][e(1295)](s)}updateLoadingText(t){const e=iL;this[e(703)]&&this[e(500)]&&this[e(500)].updateLoadingText(t)}[iL(589)](){const t=iL;let e=0;return this.video&&(this[t(1297)][t(709)]?this.mseDecoder?e=this.mseDecoder[t(589)]():this[t(1061)]()&&(e=this[t(698)].getVideoCurrentTime()):this[t(749)]()&&this[t(1151)]?e=this.webrtc[t(589)]():this.isAliyunRtc()&&this[t(745)]?e=this[t(745)][t(589)]():this.isPlayVodMp4UseVideoSrc()&&(e=this[t(698)][t(589)]())),e}[iL(854)](){const t=iL;let e=null;return this[t(698)]&&(this._opt.useMSE?this[t(821)]?e=this.mseDecoder[t(854)]():this[t(1061)]()&&(e=this.video[t(854)]()):this.isWebrtcH264()&&this[t(1151)]?e=this[t(1151)][t(854)]():this[t(1242)]()&&this[t(745)]&&(e=this[t(745)][t(854)]())),e}[iL(768)](){const t=iL;let e=[];return this[t(698)]&&(this[t(1297)][t(709)]?this.mseDecoder?e=this[t(821)][t(789)]():this.isMseDecoderUseWorker()&&(e=this[t(698)].getVideoBufferRangeList()):this.isWebrtcH264()&&this[t(1151)]?e=this[t(1151)][t(789)]():this[t(1242)]()&&this.aliyunRtcDecoder&&(e=this[t(745)].getVideoBufferRangeList())),e}[iL(997)](){const t=iL;let e=!0;return this[t(698)]&&(this[t(1297)][t(709)]?this.mseDecoder?e=this[t(821)][t(997)]():this[t(1061)]()&&(e=this[t(698)][t(997)]()):this[t(749)]()&&this[t(1151)]?e=this[t(1151)][t(997)]():this[t(1242)]()&&this.aliyunRtcDecoder&&(e=this.aliyunRtcDecoder[t(997)]())),e}[iL(872)](t){const e=iL;for(var s=arguments[e(873)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1153)](O.memoryLog," ["+t+"] ",...i)}[iL(664)](){const t=iL;this[t(1153)](O[t(664)])}[iL(763)](){const t=iL;return-1!==this[t(1297)][t(1122)]}[iL(639)](){const t=iL;return Si(this[t(1297)][t(517)])&&Si(this[t(1297)][t(519)])&&Si(this[t(1297)].isWebrtcForOthers)}updateMetaData(t){const e=iL;try{this[e(1247)](this[e(1022)],e(1240),JSON[e(867)](t))}catch(s){this[e(1247)](this[e(1022)],e(1240),t)}if(this[e(1094)]=t,this[e(1094)]){const t=this[e(1094)];if(ws(t[e(541)])){const s=Math.floor(1e3*t.framerate);if(s>0){const t=s/1e3;this._flvMetaDataFps=t,this[e(1247)](this[e(1022)],e(1240),"fps: ",t)}}Ls(t[e(707)])&&Si(t[e(707)])&&(this.debugLog(this[e(1022)],"updateMetaData","hasAudio: ",t.hasAudio,"and update _opt.hasAudio"),this._opt[e(707)]=t[e(707)]),Ls(t.hasVideo)&&Si(t[e(794)])&&(this[e(1247)](this[e(1022)],e(1240),"hasVideo: ",t[e(794)],e(1045)),this[e(1297)][e(794)]=t[e(794)]),t[e(1035)]&&(this[e(917)]=(t[e(1035)]+"")[e(629)](0,13)),t[e(1214)]&&(this[e(917)]=t[e(1214)])}this[e(1153)](O[e(916)],t)}getMetaData(){return this._flvMetaData}[iL(1218)](){const t=iL;if(!this.control)return[];return this[t(500)][t(1218)]().map((e=>{const s=t;return{name:e[s(911)],$container:e[s(1137)],$btn:e[s(967)],$activeBtn:e[s(945)]}}))}[iL(578)](){const t=iL;let e=null;return this[t(1220)]&&(e=this[t(1220)][t(1068)]()),e}[iL(1308)](){const t=iL;return this.recorder&&this[t(1297)].recordType===c[t(896)]}[iL(552)](){const t=iL;return this[t(885)]&&this._opt[t(660)]===c[t(964)]}isRecordTypeWebm(){const t=iL;return this[t(885)]&&this[t(1297)][t(660)]===c.webm}[iL(1130)](){const t=iL;return this[t(1297)][t(1182)]||this[t(1297)][t(1228)]}[iL(1301)](){return bi(this._opt.useMSE)}[iL(949)](){const t=iL;return bi(this[t(1297)][t(547)])}[iL(521)](){const t=iL;return bi(this[t(1297)][t(1182)])}[iL(1078)](){const t=iL;return this[t(1301)]()&&Si(this[t(1297)].mseDecoderUseWorker)}[iL(1061)](){const t=iL;return this[t(1301)]()&&bi(this[t(1297)][t(860)])}[iL(1216)](){const t=iL;return this.isUseMSE()||this[t(749)]()||this[t(1242)]()||this[t(783)]()}isAudioUseAudioContext(){const t=iL;let e=!0;return this[t(1261)]&&this[t(1261)][t(723)]()===t(1261)&&(e=!1),e}getAudioSyncVideoDiff(){const t=iL;return this.audioTimestamp-this[t(1266)]()}[iL(1278)](){const t=iL;return{video:this[t(1266)](),audio:this[t(502)]}}getMseVideoBufferDelayTime(){const t=iL;let e=0;return this[t(1297)].useMSE&&this[t(821)]&&(this[t(821)]?e=this[t(821)][t(975)]():this[t(1061)]()&&(e=this[t(698)][t(975)]()),e=parseInt(1e3*e,10)),e}[iL(1170)](t){const e=iL;this[e(1300)]({currentPts:t}),this[e(1153)](O[e(1115)],t),this[e(604)](t)}[iL(866)](t){const e=iL;this.emit(O.videoSEI,t),this[e(734)][e(1295)](t)}emitVideSeiSyncPts(t){const e=iL;if(0===this[e(734)][e(873)]||Si(this[e(1297)][e(1199)]))return;const s=1e3*this[e(1297)][e(1314)],i=t-s,r=t+s,n=[];this[e(734)][e(832)]((s=>{const o=e;s.ts>=i&&s.ts<=r&&(s[o(1146)]=t,n[o(1295)](s))})),n[e(832)]((t=>{const s=e;this[s(1153)](O[s(962)],t)})),this[e(734)]=this[e(734)].filter((t=>t.ts>r))}emitTsPrivateData(t){const e=iL;this[e(1153)](O[e(904)],t)}getRenderCurrentPts(){const t=iL;let e=0;return this[t(1301)]()&&Si(this[t(1297)][t(636)])?this[t(600)][t(1115)]:(e=this[t(600)].currentPts?this[t(600)][t(1115)]:this[t(514)]-this.getMseVideoBufferDelayTime(),e)}[iL(755)](){const t=iL;return this[t(1297)].syncAudioAndVideo&&this[t(1297)][t(794)]}[iL(694)](t){const e=iL;if(this.control){const s=this[e(1297)].showMessageConfig[t]||"";this.control[e(574)](s,t)}}[iL(779)](t){const e=iL;this[e(500)]&&t&&this[e(500)].showTipsMessage(t)}[iL(574)](){const t=iL;let e=arguments[t(873)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(873)]>1?arguments[1]:void 0;this.control&&this[t(500)][t(574)](e,s)}[iL(551)](){const t=iL;this[t(500)]&&this[t(500)][t(551)]()}[iL(718)](){const t=iL;bi(this[t(1297)].checkFirstIFrame)&&(this.mseDecoder?this[t(821)][t(1069)]=!1:this[t(630)]?this.webcodecsDecoder[t(1069)]=!1:this[t(521)]()&&this.decoderWorker&&this.decoderWorker.decoderCheckFirstIFrame())}[iL(1312)](){const t=iL;return this._canPlayAppleMpegurl&&this[t(555)]()}[iL(656)](t){const e=iL;this[e(500)]&&this[e(500)][e(1155)](t)}[iL(1219)](t){const e=iL;this[e(782)]({rotate:t}),this[e(1131)]()}setPlayFailedAndPaused(){this[iL(954)]=!0}[iL(1114)](){const t=iL;let e={};return this.mseDecoder&&(e=this[t(821)][t(1011)]()),e}[iL(606)](){const t=iL;return this[t(1297)][t(920)]+this[t(1297)].videoBufferDelay}[iL(658)](){const t=iL;return!this[t(698)]||this[t(698)][t(893)]()}[iL(907)](){const t=iL;this[t(500)]&&this[t(500)][t(907)]()}[iL(659)](t,e){const s=iL;this[s(500)]&&this[s(500)][s(663)](t,e)}getControlExtendBtnActive(t){const e=iL;let s=!1;return this[e(500)]&&(s=this[e(500)].getExtendBtnActive(t)),s}useVideoPlayAudio(){const t=iL;return this[t(1297)][t(707)]&&(this[t(1063)]()||this[t(705)]())}[iL(1063)](){const t=iL;return this[t(1297)][t(547)]&&this[t(1297)][t(662)]}isWasmPlayAudioUseVideoRender(){const t=iL;return this[t(1297)][t(1182)]&&this[t(1297)][t(581)]}[iL(886)](){const t=iL,e=this[t(1297)][t(843)],s=this[t(1297)].controlAutoHide;let i=e&&!s;return i&&this[t(500)]&&(i=this[t(500)][t(1136)]()),i}getControlBarShow(){const t=iL;let e=!1;return this[t(500)]&&(e=this[t(500)].getBarIsShow()),e}toggleControlBar(t){const e=iL;this[e(500)]&&(this.control[e(780)](t),this[e(1131)]())}[iL(1247)](t){const e=iL;if(this[e(1297)][e(1110)]&&this.debug){for(var s=arguments[e(873)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1110)][e(883)](t,...i)}}debugWarn(t){const e=iL;if(this[e(1297)][e(1110)]&&this[e(1110)]){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this.debug[e(691)](t,...i)}}[iL(613)](t){if(this[iL(1110)]){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];this.debug.error(t,...s)}}[iL(948)](){const t=iL;let e=null;return this.video&&(e=this[t(698)][t(1040)]),e}getControlHeight(){const t=iL;let e=!(arguments[t(873)]>0&&void 0!==arguments[0])||arguments[0],s=0;return(this.isControlBarShow()||Si(e))&&(this[t(875)]()?s=this[t(1297)][t(569)]===A.small?30:38:this[t(1212)]()?this[t(841)][t(859)]()?s=48:this.playback[t(1044)]()&&(s=38):this[t(641)]()&&(s=38)),s}[iL(635)](){return this._historyVideoDiffList}[iL(863)](){const t=iL,e=this.getHistoryVideoDiffList();return e.length>1&&0===e[e[t(873)]-1]&&0===e[e.length-2]}getShowVideoRect(){const t=iL;let e=this[t(1085)],s=this[t(814)];const i=this.getControlHeight();return this.isMobileFullscreenChangeRotate()&&this[t(556)]?e-=i:s-=i,{width:e,height:s}}[iL(909)](){const t=iL;return as()&&(this[t(1297)][t(554)]||this[t(1297)][t(1318)])}[iL(1317)](t){const e=iL;this[e(782)]({controlSize:t}),this[e(500)]&&this[e(500)][e(1317)](),this[e(1131)]()}[iL(1133)](){const t=iL;let e=!1;return this[t(1212)]()&&(e=this[t(727)]),e}isCheckStreamEnd(){const t=iL;let e=!0;return this.isPlayback()&&Si(this[t(1297)][t(932)])&&(e=!1),e}[iL(845)](){const t=iL;let e=0;return this.isDemuxInWorker()?this[t(565)]&&(e=this[t(565)][t(1282)]):this[t(1079)]&&(e=this.demux.getBufferListLength()),e}[iL(901)](){const t=iL;let e=0;return this[t(698)]&&(e=this.video[t(758)]()),e}[iL(1083)](){const t=iL;this.debugLog(this[t(1022)],t(1083)),this._isStreamEnd=!0}[iL(880)](){const t=iL;let e=null;return this[t(1151)]&&(e=this[t(1151)].$videoElement),e}[iL(965)](){const t=iL;let e=K.h264;return this[t(1151)]&&this[t(1151)][t(813)]&&(e=this[t(1151)][t(813)]()),e}updateDynamicWatermark(t){const e=iL;this[e(528)]&&this[e(1280)](),this[e(528)]=new zR(this,t),this[e(528)][e(708)]()}[iL(1230)](t){const e=iL;this[e(1055)]&&this[e(884)]();const s=Object.assign({},t,{isGhost:!0});this.ghostWatermark=new zR(this,s),this[e(1055)][e(708)]()}removeDynamicWatermark(){const t=iL;this.dynamicWatermark&&(this[t(528)][t(676)](),this[t(528)]=null)}[iL(884)](){const t=iL;this[t(1055)]&&(this.ghostWatermark[t(676)](),this.ghostWatermark=null)}playbackForward(t){return new Promise(((e,s)=>{const i=rL;t=Xe(Number(t),1,16);const r=this[i(1167)]();if(t===r)return e();Si(this[i(1301)]())&&this[i(841)].isRateMoreThanMaxRateDecodeIFrame()&&t<=this[i(841)][i(1303)]&&(this[i(1247)](this[i(1022)],"playbackForward and rate is "+t+i(1248)+r+i(926)+this.playback[i(713)]+i(720)),this.decoderCheckFirstIFrame()),this[i(739)]&&this.decoderWorker.updateWorkConfig({key:i(1194),value:t}),this.playback[i(1276)](t),this[i(698)]&&this[i(698)][i(1276)](t),this[i(1261)]&&this[i(1261)].setRate(t),e()}))}[iL(1294)](){return new Promise(((t,e)=>{const s=rL;return this[s(690)]?this.isPlayVodSeeking()?e(s(969)):(this.playVodPause=!0,void t()):e(s(790))}))}playVodResumeInner(){return new Promise(((t,e)=>{const s=rL;return this[s(690)]?this[s(820)]()?e(s(969)):(this[s(1269)]=!1,void t()):e(s(790))}))}[iL(1244)](t){return new Promise(((e,s)=>{const i=rL;if(!this.playVod)return s(i(790));if(this[i(820)]())return s(i(969));t=Xe(Number(t),1,16);const r=this[i(572)]();if(t===r)return e();Si(this[i(1301)]())&&this[i(690)].isRateMoreThanMaxRate()&&t<=this.playVod[i(871)]&&(this[i(1247)](this.TAG_NAME,"playVodForward and rate is "+t+i(1248)+r+i(1101)+this[i(690)][i(871)]+i(720)),this[i(718)]()),this[i(739)]&&this.decoderWorker[i(923)]({key:i(982),value:t}),this[i(690)].setRate(t),this[i(698)]&&this.video[i(1276)](t),this[i(1261)]&&this[i(1261)][i(1276)](t),e()}))}[iL(772)](t){return new Promise(((e,s)=>{const i=rL;return this[i(690)]?this.isPlayVodSeeking()?s(i(969)):this.playVod[i(892)]()?(this.debugLog(this.TAG_NAME,i(1299)+t+i(1283)),void this[i(1153)](O[i(638)],t)):(this[i(1269)]=!1,this[i(690)][i(1251)]({time:t}),this[i(1007)]&&(this[i(1247)](this[i(1022)],i(846)),this.recording=!1),void e()):s(i(790))}))}playVodForwardJumping(t){return new Promise(((e,s)=>{const i=rL;if(!this[i(690)])return s(i(790));if(this[i(820)]())return s(i(969));let r=this.getRenderCurrentPts()/1e3;(this[i(840)]()||this[i(783)]())&&(r=this[i(589)]()),this[i(772)](r+t)[i(580)]((()=>{e()})).catch((t=>{s(t)}))}))}[iL(1196)](t){return new Promise(((e,s)=>{const i=rL;if(!this[i(690)])return s(i(790));if(this.isPlayVodSeeking())return s("playVod is seeking");let r=this.getRenderCurrentPts()/1e3;(this.isPlayVodUseMSE()||this[i(783)]())&&(r=this[i(589)]()),this.playVodSeek(r-t)[i(580)]((()=>{e()}))[i(646)]((t=>{s(t)}))}))}[iL(616)](){const t=iL;return this[t(690)]?this[t(690)].totalDuration:0}[iL(998)](){const t=iL;return this[t(690)]?this[t(690)][t(501)]():0}getPlayVodBufferedTime(){const t=iL;return this.playVod?this[t(690)][t(544)]():0}setPlayVodBufferedTime(t){const e=iL;this.playVod&&this[e(690)][e(791)](t)}[iL(1234)](){return this[iL(690)]?this.playVod.fps:0}[iL(530)](){const t=iL;return!this[t(583)]&&(this[t(583)]=Object.assign({},eL,this._opt.i18n||{})),this[t(583)]}[iL(960)](){const t=iL;let e={width:0,height:0};return window[t(1087)]?(e[t(1085)]=window[t(1087)][t(1085)],e[t(814)]=window[t(1087)][t(814)],e):e}isScreenNowColumn(){const t=iL,e=this.getWindowScreenInfo();return e.width>e[t(814)]}[iL(652)](){const t=iL,e=this[t(960)]();return e[t(1085)]<e[t(814)]}[iL(737)](){const t=iL;return{correctionConfigurationProfileIndication:this._opt[t(719)],correctionConfigurationVersion:this[t(1297)][t(816)]}}}function aL(t,e){var s=lL();return(aL=function(t,e){return s[t-=413]})(t,e)}var hL=aL;function lL(){var t=["JbPro 测试水印","40UuFWIa","scrollWidth","globalSetting","OTransform","insertBefore","none","watermark_x_space","watermark_id","load","width","watermark_angle","835511DXpwsx","3578378TyaTVy","watermark_height","_loadMark","2494793qFaQjJ","zIndex","webkitTransform","destroy","createTextNode","left","white","black","watermark_color","parentNode","watermark_rows","Watermark","1916CypFHB","JbPro_mask_","center","fontFamily","offsetWidth","225684YKmNRR","1205wwwbzC","children","height","overflow","clientWidth","div","%20%E4%BD%93%E9%AA%8C","getElementById","textAlign","watermark_y_space","resize","fontSize","微软雅黑","open","defaultSettings","attachShadow","watermark_y","shadowRoot","color","createElement","function","appendChild","pointer-events: none !important; display: block !important","_removeMark","top","transform","visibility","watermark_prefix","watermark_txt","deg)","66054bcILpF","debugLog","JbPro_","watermark_cols","random","max","20OrfpRw","rotate(","display","querySelector","font-family: ","opacity","string","-ms-user-select","watermark_parent_width","3ItCsBi","38404410KMqLpL","watermark_parent_height","style","watermark_x","watermark_parent_node","span","MozTransform","int","block","watermark_fontsize","; font-size: ","watermark_font","player","px; visibility: hidden; display: inline-block","removeChild","length","setAttribute","getBoundingClientRect","_calcTextSize"];return(lL=function(){return t})()}!function(t,e){for(var s=aL,i=t();;)try{if(910219===parseInt(s(436))/1+-parseInt(s(437))/2*(parseInt(s(503))/3)+-parseInt(s(452))/4*(-parseInt(s(458))/5)+-parseInt(s(488))/6+-parseInt(s(440))/7*(parseInt(s(425))/8)+-parseInt(s(457))/9*(-parseInt(s(494))/10)+parseInt(s(504))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(lL);class cL{constructor(t){var e=aL;this[e(417)]=t,this[e(427)]=null;const s=As();this[e(472)]={watermark_id:e(490)+s,watermark_prefix:e(453)+s,watermark_txt:e(424),watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:100,watermark_y_space:100,watermark_font:e(470),watermark_color:e(447),watermark_fontsize:"18",watermark_alpha:.15,watermark_angle:-15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},Bi()&&this[e(433)]({text:decodeURIComponent(b+e(464)),color:e(446)}),this.player[e(489)](e(451),e(511))}[hL(443)](){var t=hL;this._removeMark(),this[t(427)]=null,this[t(472)]=null,this[t(417)][t(489)](t(451),t(443))}remove(){var t=hL;Mi()&&(this[t(427)]=null,this[t(481)]())}[hL(433)](t){var e=hL;this[e(427)]=t,this[e(439)](t)}[hL(468)](){var t=hL;this[t(417)][t(489)](t(451),"resize()"),this[t(427)]&&this[t(439)](this[t(427)])}_loadMark(){var t=hL;let e=this[t(472)];if(1===arguments.length&&"object"==typeof arguments[0]){var s=arguments[0]||{};for(let t in s)s[t]&&e[t]&&s[t]===e[t]||(s[t]||0===s[t])&&(e[t]=s[t])}var i=document[t(465)](e.watermark_id);i&&i[t(449)]&&i[t(449)][t(419)](i);var r=typeof e[t(508)]===t(500)?document.getElementById(e[t(508)]):e[t(508)],n=r||document.body;const o=n[t(422)]();var a=Math.max(n[t(426)],n[t(462)],o[t(434)]),h=Math[t(493)](n.scrollHeight,n.clientHeight,o[t(460)]),l=arguments[0]||{},c=n;(l[t(502)]||l[t(505)])&&c&&(e.watermark_x=e[t(507)]+0,e[t(474)]=e.watermark_y+0);var d=document[t(465)](e[t(432)]),u=null;if(d)d[t(475)]&&(u=d[t(475)]);else{(d=document[t(477)](t(463))).id=e[t(432)],d[t(421)]("style",t(480)),u=typeof d[t(473)]===t(478)?d.attachShadow({mode:t(471)}):d;var p=n[t(459)],f=Math.floor(Math[t(492)]()*(p[t(420)]-1))+1;p[f]?n[t(429)](d,p[f]):n[t(479)](d)}const m=this[t(423)](),g=m[t(434)],y=m[t(460)];e.watermark_cols=parseInt((a-e.watermark_x)/(g+e[t(431)]))||1;var A,v=parseInt((a-e[t(507)]-g*e[t(491)])/e[t(491)]);e[t(431)]=v?e[t(431)]:v,e.watermark_rows=parseInt((h-e.watermark_y)/(y+e[t(467)]))||1;var b,S,E,w=parseInt((h-e[t(474)]-y*e[t(450)])/e[t(450)]);e[t(467)]=w?e[t(467)]:w,r?(A=e.watermark_x+g*e[t(491)]+e.watermark_x_space*(e[t(491)]-1),b=e.watermark_y+y*e.watermark_rows+e.watermark_y_space*(e[t(450)]-1)):(A=0+e.watermark_x+g*e[t(491)]+e[t(431)]*(e.watermark_cols-1),b=0+e[t(474)]+y*e[t(450)]+e[t(467)]*(e[t(450)]-1));for(var T=0;T<e.watermark_rows;T++){E=r?0+e.watermark_y+(h-b)/2+(e[t(467)]+e[t(438)])*T:e[t(474)]+(h-b)/2+(e[t(467)]+e[t(438)])*T;for(var I=0;I<e.watermark_cols;I++){S=r?0+e[t(507)]+(a-A)/2+(g+e[t(431)])*I:e.watermark_x+(a-A)/2+(g+e.watermark_x_space)*I;var k=document[t(477)](t(463)),_=document[t(444)](e.watermark_txt);k[t(479)](_),k.id=e[t(485)]+T+I,k[t(506)][t(442)]="rotate("+e[t(435)]+t(487),k[t(506)][t(510)]="rotate("+e.watermark_angle+"deg)",k[t(506)].msTransform="rotate("+e[t(435)]+t(487),k.style[t(428)]=t(495)+e[t(435)]+t(487),k[t(506)][t(483)]="rotate("+e[t(435)]+t(487),k.style[t(484)]="",k[t(506)].position="absolute",k[t(506)][t(445)]=S+"px",k[t(506)][t(482)]=E+"px",k.style[t(461)]="hidden",k[t(506)][t(441)]="9999999",k[t(506)][t(499)]=e.watermark_alpha,k[t(506)][t(469)]=e[t(414)]+"px",k[t(506)][t(455)]=e[t(416)],k[t(506)][t(476)]=e[t(448)],k.style[t(466)]=t(454),k[t(506)][t(434)]=g+e[t(431)]+"px",k[t(506)].height=y+e[t(467)]+"px",k.style[t(496)]=t(413),k.style[t(501)]=t(430),u[t(479)](k)}}}[hL(481)](){var t=hL;const e=this[t(472)];var s=document.getElementById(e.watermark_id);if(s){var i=s[t(449)];i&&i[t(419)](s)}}[hL(423)](){var t=hL;let e=this[t(427)][t(486)]||this.defaultSettings[t(486)],s=this.globalSetting[t(416)]||this.defaultSettings.watermark_font,i=this[t(427)][t(414)]||this[t(472)].watermark_fontsize;const r=document[t(477)](t(509));r.innerHTML=e,r[t(421)](t(506),t(498)+s+t(415)+i+t(418)),document[t(497)]("body").appendChild(r);const n={width:r[t(456)],height:r.offsetHeight};return r.remove(),n}}function dL(){var t=['" y="',"defaultSettings","overflow","846520PScUWA","debugLog","createElement","position","watermark_id","setAttribute","scrollWidth","span","getBoundingClientRect","display","688429Sabwhf","watermark_txt","style","watermark_color","zIndex","white","attachShadow",'" width="',"JbPro 测试水印","watermark_angle","0px","watermark_y","object","int","watermark_fontsize",'" style="font-family:',"offsetHeight","removeChild","open","107336ZgdlbL","watermark_parent_width","appendChild","; font-size: ","backgroundImage","-ms-user-select","floor",')">\n                                    <text x="0" y="',"22xYSEEh","px; visibility: hidden; display: inline-block",'" height="',"2rmWPLE","font-family: ","globalSetting","JbPro_mask_","577495neeubI","black","pointer-events: none !important; display: block !important","; font-size:","block","resize","watermark_parent_node","parentNode","watermark_parent_height","_loadMark","player","string","156pyUPlg","btoa","height","微软雅黑","watermark_alpha","url(data:image/svg+xml;base64,","div","9999999","body","; fill:","6kIRPrR","watermark_font","innerHTML","length",'</text>\n                                </pattern>\n                                <pattern id="pattern2" x="',"remove",'</text>\n                                </pattern>\n                            </defs>\n                            <rect x="0" y="0" width="100%" height="100%" style="fill:url(#pattern1); fill-opacity:1;" />\n                            <rect x="0" y="0" width="100%" height="100%" style="fill:url(#pattern2); fill-opacity:1;" />\n                            </svg>',"_calcTextSize","querySelector","function","; fill-opacity:","hidden","249518FfRRPZ","getElementById","load","random","2127609JNtqhe","top","resize()",'" patternUnits="userSpaceOnUse" patternTransform="rotate(',"_removeMark","shadowRoot","scrollHeight","watermark_x","360FXXVli","225823IEWfrW","%20%E4%BD%93%E9%AA%8C","destroy","children","clientWidth","12DFNsSk",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none">\n                            <defs>\n                                <pattern id="pattern1" x="0" y="0" width="',"absolute","max"];return(dL=function(){return t})()}function uL(t,e){var s=dL();return(uL=function(t,e){return s[t-=162]})(t,e)}var pL=uL;!function(t,e){for(var s=uL,i=t();;)try{if(613672===parseInt(s(179))/1*(parseInt(s(244))/2)+parseInt(s(183))/3+parseInt(s(197))/4*(parseInt(s(248))/5)+parseInt(s(167))/6*(-parseInt(s(214))/7)+parseInt(s(233))/8*(-parseInt(s(191))/9)+parseInt(s(204))/10*(parseInt(s(241))/11)+parseInt(s(260))/12*(-parseInt(s(192))/13))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(dL);class fL{constructor(t){var e=uL;this[e(258)]=t,this[e(246)]=null;const s=As();this[e(202)]={watermark_id:"JbPro_"+s,watermark_prefix:e(247)+s,watermark_txt:e(222),watermark_x:0,watermark_y:0,watermark_rows:0,watermark_cols:0,watermark_x_space:100,watermark_y_space:100,watermark_font:e(263),watermark_color:e(249),watermark_fontsize:18,watermark_alpha:.15,watermark_angle:-15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null},Bi()&&this[e(181)]({text:decodeURIComponent(b+e(193)),color:e(219)}),this.player[e(205)]("Watermark",e(227))}[pL(194)](){var t=pL;this[t(187)](),this[t(246)]=null,this[t(202)]=null,this[t(258)].debugLog("Watermark",t(194))}[pL(172)](){var t=pL;Mi()&&(this[t(246)]=null,this[t(187)]())}load(t){var e=pL;this[e(246)]=t,this[e(257)](t)}[pL(253)](){var t=pL;this.player[t(205)]("Watermark",t(185)),this[t(246)]&&this[t(257)](this[t(246)])}_loadMark(){var t=pL;let e=this[t(202)];if(1===arguments[t(170)]&&typeof arguments[0]===t(226)){var s=arguments[0]||{};for(let t in s)s[t]&&e[t]&&s[t]===e[t]||(s[t]||0===s[t])&&(e[t]=s[t])}var i=document[t(180)](e[t(208)]);i&&i[t(255)]&&i[t(255)][t(231)](i);var r=typeof e[t(254)]===t(259)?document[t(180)](e[t(254)]):e[t(254)],n=r||document[t(165)];const o=n[t(212)]();var a=Math[t(200)](n[t(210)],n[t(196)],o.width),h=Math.max(n[t(189)],n.clientHeight,o[t(262)]),l=arguments[0]||{},c=n;(l[t(234)]||l[t(256)])&&c&&(e[t(190)]=e[t(190)]+0,e.watermark_y=e[t(225)]+0);var d=document[t(180)](e.watermark_id),u=null;if(d)d.shadowRoot&&(u=d[t(188)]);else{(d=document[t(206)](t(163))).id=e[t(208)],d[t(209)](t(216),t(250)),u=typeof d[t(220)]===t(176)?d[t(220)]({mode:t(232)}):d;var p=n[t(195)],f=Math[t(239)](Math[t(182)]()*(p[t(170)]-1))+1;p[f]?n.insertBefore(d,p[f]):n[t(235)](d)}const m=this[t(174)](),g=this[t(202)],y=g.watermark_x_space+m.width,A=g.watermark_y_space+m[t(262)],v=2*A,b=y/2,S=t(198)+y+t(243)+v+t(186)+g[t(223)]+')">\n                                    <text x="0" y="'+g[t(228)]+t(229)+g.watermark_font+t(251)+g[t(228)]+"; fill:"+g[t(217)]+t(177)+g[t(264)]+'">'+g[t(215)]+t(171)+b+t(201)+A+t(221)+y+t(243)+v+'" patternUnits="userSpaceOnUse" patternTransform="rotate('+g[t(223)]+t(240)+g[t(228)]+t(229)+g[t(168)]+"; font-size:"+g.watermark_fontsize+t(166)+g[t(217)]+t(177)+g[t(264)]+'">'+g[t(215)]+t(173),E=window[t(261)](unescape(encodeURIComponent(S)));var w=document.createElement(t(163));w[t(216)][t(207)]=t(199),w.style.left=t(224),w[t(216)][t(184)]=t(224),w[t(216)][t(203)]=t(178),w.style[t(218)]=t(164),w[t(216)].width=a+"px",w.style.height=h+"px",w[t(216)][t(213)]=t(252),w.style[t(238)]="none",w[t(216)][t(237)]=t(162)+E+")",u[t(235)](w)}[pL(187)](){var t=pL;const e=this.defaultSettings;var s=document.getElementById(e[t(208)]);if(s){var i=s[t(255)];i&&i[t(231)](s)}}[pL(174)](){var t=pL;let e=this.globalSetting[t(215)]||this[t(202)].watermark_txt,s=this[t(246)][t(168)]||this[t(202)].watermark_font,i=this.globalSetting[t(228)]||this[t(202)][t(228)];const r=document[t(206)](t(211));r[t(169)]=e,r[t(209)]("style",t(245)+s+t(236)+i+t(242)),document[t(175)](t(165)).appendChild(r);const n={width:r.offsetWidth,height:r[t(230)]};return r[t(172)](),n}}const mL=EL;!function(t,e){const s=EL,i=t();for(;;)try{if(341886===parseInt(s(316))/1+-parseInt(s(321))/2*(parseInt(s(331))/3)+-parseInt(s(322))/4+-parseInt(s(339))/5*(-parseInt(s(307))/6)+-parseInt(s(312))/7*(-parseInt(s(306))/8)+parseInt(s(337))/9*(parseInt(s(319))/10)+-parseInt(s(317))/11)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(TL);const gL={stop:mL(320),fiStop:mL(313),right:mL(333),left:mL(326),up:"up",down:mL(323),leftUp:mL(335),leftDown:mL(336),rightUp:mL(329),rightDown:mL(324),zoomExpand:"zoomExpand",zoomNarrow:mL(308),apertureFar:"apertureFar",apertureNear:mL(311),focusFar:mL(309),focusNear:"focusNear",setPos:mL(314),calPos:mL(340),delPos:mL(315),wiperOpen:mL(327),wiperClose:mL(338),cruiseStart:"cruiseStart",cruiseStop:mL(310)},yL={stop:0,fiStop:0,right:1,left:2,up:8,down:4,leftUp:10,leftDown:6,rightUp:9,rightDown:5,zoomExpand:16,zoomNarrow:32,apertureFar:72,apertureNear:68,focusFar:66,focusNear:65,setPos:129,calPos:130,delPos:131,wiperOpen:140,wiperClose:141,setCruise:132,decCruise:133,cruiseStart:136,cruiseStop:0},AL=[25,50,75,100,125,150,175,200,225,250],vL=[1,2,3,4,5,6,7,8,9,16],bL=[16,48,80,112,144,160,176,192,208,224];function SL(t){const e=mL,{type:s,speed:i=5,index:r=0}=t,n=AL[(i||5)-1]||AL[4];let o,a,h,l;if(o=yL[s],!o)return"";switch(s){case gL.up:case gL[e(323)]:case gL[e(325)]:case gL.apertureNear:h=n;break;case gL[e(333)]:case gL.left:case gL[e(309)]:case gL.focusNear:a=n;break;case gL.leftUp:case gL[e(336)]:case gL[e(329)]:case gL[e(324)]:a=n,h=n;break;case gL[e(334)]:case gL[e(308)]:l=bL[(i||5)-1]||bL[4];break;case gL[e(340)]:case gL[e(315)]:case gL[e(314)]:h=wL(r);break;case gL[e(338)]:case gL[e(327)]:a=1;break;case gL[e(332)]:a=wL(r)}return function(t,e,s,i){let r=[];return r[0]=165,r[1]=15,r[2]=1,r[3]=0,r[4]=0,r[5]=0,r[6]=0,t&&(r[3]=t),e&&(r[4]=e),s&&(r[5]=s),i&&(r[6]=i),r[7]=(r[0]+r[1]+r[2]+r[3]+r[4]+r[5]+r[6])%256,function(t){const e=mL;let s="";for(let i=0;i<t.length;i++){let r=t[i][e(330)](16);1===r[e(328)]&&(r="0"+r),s+=r[e(318)]()}return s}(r)}(o,a,h,l)}function EL(t,e){const s=TL();return(EL=function(t,e){return s[t-=306]})(t,e)}function wL(t){return vL[t-1]}function TL(){const t=["8OOsiEY","228UdxnqW","zoomNarrow","focusFar","cruiseStop","apertureNear","3234609WgdNql","fiStop","setPos","delPos","291153XPVkeG","8003281wWtQNT","toUpperCase","30yefJGp","stop","142akxXSa","1174064rBrgAD","down","rightDown","apertureFar","left","wiperOpen","length","rightUp","toString","23253ZcIGjw","cruiseStart","right","zoomExpand","leftUp","leftDown","1942416GsvUPu","wiperClose","67445kesZFn","calPos"];return(TL=function(){return t})()}const IL=kL;function kL(t,e){const s=LL();return(kL=function(t,e){return s[t-=435]})(t,e)}!function(t,e){const s=kL,i=t();for(;;)try{if(359172===parseInt(s(457))/1*(parseInt(s(440))/2)+parseInt(s(441))/3+-parseInt(s(466))/4+parseInt(s(437))/5*(parseInt(s(455))/6)+parseInt(s(470))/7+parseInt(s(474))/8+parseInt(s(476))/9*(-parseInt(s(461))/10))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(LL);const _L=["Boolean",IL(467),IL(458),IL(478),"Null",IL(436),"Object"];function CL(t){const e=IL;if("object"!=typeof t)return t;const s=Object[e(438)][e(469)][e(449)](t)[e(472)](8,-1);switch(s){case e(443):case e(435):case e(464):return s+"["+t[e(444)]+"]";case e(445):return"{}";default:return s}}function DL(t,e,s){const i=IL;s||(s=1),e||(e=2);const r={};if(!t||"object"!=typeof t)return t;const n=Object[i(438)][i(469)][i(449)](t).slice(8,-1);if(!_L[i(453)](n))return n;if(!(s>e)){for(const n in t)Object[i(438)].hasOwnProperty.call(t,n)&&(s===e?r[n]=CL(t[n]):typeof t[n]===i(468)?r[n]=DL(t[n],e,s+1):r[n]=t[n]);return r}}function RL(){const t=IL;return(new Date)[t(446)]()}function LL(){const t=["Uint8Array","Date","15bupKMW","prototype",".log","35054qqabpK","1025511FcoBxF","push","Array","length","Object","toLocaleString","getLog","clear","call","text/plain","TAG_NAME","logSize","includes","init","886218rqRHMm","getLogBlob","32GNyvUA","String","logTextArray","player","274530nZzthx","logMaxSize","debugLog","ArrayBuffer","map","1230856FfYydO","Number","object","toString","4727128oArxek","MemoryLogger","slice","stringify","5418352qjBCVF","download","666INDBWA","JbPro-","Undefined","shift"];return(LL=function(){return t})()}class PL{constructor(t){const e=IL;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.player=t,this[e(451)]=e(471),this[e(462)]=(null==s?void 0:s.logMaxSize)||204800,this[e(452)]=0,this.logTextArray=[],this[e(460)][e(463)](this[e(451)],e(454))}destroy(){const t=IL;this[t(448)](),this[t(460)][t(463)](this.TAG_NAME,"destroy")}[IL(448)](){this[IL(452)]=0,this.logTextArray=[]}logCache(){const t=IL;let e="";try{for(var s=arguments[t(444)],i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];const n=i[t(465)]((t=>DL(t)));e="[JbPro] "+RL()+JSON[t(473)](n)}catch(t){return}if(this[t(452)]+=e[t(444)],this[t(459)][t(442)](e),this[t(452)]>this[t(462)]){const e=this[t(459)][t(479)]();this.logSize-=e.length}}[IL(447)](){return this[IL(459)].join("\n")}[IL(456)](){const t=IL,e=this[t(447)]();return new Blob([e],{type:t(450)})}[IL(475)](){const t=IL,e=this[t(447)]();this[t(448)]();const s=new Blob([e],{type:t(450)});Gn(s,t(477)+RL()+t(439))}}const xL=BL;function ML(){const t=["prevOnline","_boundUpdateOnlineStatus","destroy","_updateOfflineStatus","isOnline","isOffline","init","TAG_NAME","5849196wFqJBJ","prevOnline: ","offline","addEventListener","debugLog","187448TqpAlI","49EJrquQ","106410DpyuSg","off","262605RuQEQz","onLine","_initListener","16jVqHJk","online","216KltzbS","bind","11tnuDKh","1472928zoWwPa","_updateOnlineStatus","_boundUpdateOfflineStatus","removeEventListener","player","logStatus","interval","4685DaMjFr","412ddzjNn","_stopCheck","Network","emit","3132kqlBsi"];return(ML=function(){return t})()}function BL(t,e){const s=ML();return(BL=function(t,e){return s[t-=498]})(t,e)}!function(t,e){const s=BL,i=t();for(;;)try{if(173308===parseInt(s(531))/1+-parseInt(s(534))/2*(parseInt(s(513))/3)+parseInt(s(509))/4*(parseInt(s(508))/5)+-parseInt(s(501))/6+-parseInt(s(528))/7*(parseInt(s(527))/8)+-parseInt(s(498))/9*(parseInt(s(529))/10)+-parseInt(s(500))/11*(-parseInt(s(522))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(ML);class FL extends zi{constructor(t){const e=BL;super(),this[e(505)]=t,this.TAG_NAME=e(511),this[e(535)]=this[e(518)](),this[e(514)]=this[e(535)],this[e(507)]=null,this[e(515)]=this[e(502)][e(499)](this),this[e(503)]=this._updateOfflineStatus[e(499)](this),this[e(533)](),this[e(505)][e(526)](this[e(521)],e(520))}destroy(){const t=BL;this[t(530)](),this[t(510)](),window[t(504)](t(535),this[t(515)]),window.removeEventListener("offline",this[t(503)]),this[t(503)]=null,this[t(515)]=null,this[t(505)][t(526)](this[t(521)],t(516))}[xL(533)](){const t=xL;window[t(525)](t(535),this[t(515)]),window[t(525)](t(524),this[t(503)])}[xL(510)](){const t=xL;this[t(507)]&&(clearInterval(this[t(507)]),this[t(507)]=null)}_startCheck(){const t=xL;this[t(507)]=setInterval((()=>{const e=t;this.isOnline()!==this[e(514)]&&(this.isOnline()?this[e(502)]():this[e(517)]())}),1e3)}[xL(502)](){const t=xL;this[t(514)]=this[t(535)],this[t(535)]=!0,this[t(506)](),this[t(512)](t(535))}[xL(517)](){const t=xL;this[t(514)]=this.online,this[t(535)]=!1,this[t(506)](),this.emit("offline")}logStatus(){const t=xL,e=this[t(514)]?"online":t(524),s=this[t(535)]?"online":t(524);this.player.debugLog(this[t(521)],t(523)+this.prevOnline+", online: "+this[t(535)]+", status: "+e+" -> "+s)}[xL(518)](){const t=xL;return void 0===navigator.onLine||navigator[t(532)]}[xL(519)](){return!this[xL(518)]()}}function UL(t,e){const s=OL();return(UL=function(t,e){return s[t-=195]})(t,e)}function OL(){const t=["966291fRlnmd","2665878VSbQzk","735678pJWbTS","port","pathname","search","2WIdjVO","5LzciYg","filename","length","3901800uXXLyA","1649736chTMzu","263968ZcRHJc","7flxRYh","apply","The URL did not match the expected pattern, url=","SyntaxError","test","origin","hostname","href","location","substr","protocol","host","match","filetype","hash","78321JxykZm"];return(OL=function(){return t})()}!function(t,e){const s=UL,i=t();for(;;)try{if(271537===parseInt(s(196))/1+parseInt(s(203))/2*(-parseInt(s(197))/3)+-parseInt(s(208))/4*(-parseInt(s(204))/5)+-parseInt(s(198))/6*(-parseInt(s(210))/7)+-parseInt(s(209))/8+parseInt(s(199))/9+-parseInt(s(207))/10)break;i.push(i.shift())}catch(t){i.push(i.shift())}}(OL);const NL=VL;function jL(){const t=["webcodecsAudioInitTimeoutReplay","off","mediaSourceAudioNoDataTimeout and reset player and play error","mseWidthOrHeightChange and reset player and play","wt://","removeDynamicWatermark","setBufferDelayTime() ","mediaSourceTsIsMaxDiff and pause error","isControlTypeNormal","bound","drawingRect","websocketError error and _resetPlayer() but player is destroyed and return","VIDEO","artc://","decoderWorkerWasmError","isPlayer","playVodMseDecodeVideoError","px)","playbackPauseTimeout"," and\n                isHlsCanVideoPlay is ","stopRecordAndSave","mediaSourceAudioInitTimeoutOnLock is true","isRecording","webcodecsAudioNoDataTimeout","_handlePlayerResize",'JbPro option "',"videoElementPlayingFailed and _resetPlayer error","fmp4","JbPro videoBuffer ","_tempPlayBgObj","getPTZCmd","mediaSourceUseCanvasRenderPlayFailedReplay","_playBefore _play error","decoderWorkerInitError and pause player","updateLoadingText","setWebFullscreen() ","clearExtendHtml()","xorCryptoKey","decoderWorkerUncaughtError","isOffline","mediaSourceAudioInitTimeout and reset player and play success","mseWorkerAddSourceBufferError but player is destroyed","webTransport","streamEnd pause player success","toggleExtendHtml() player is not init","videoElementPlayingFailedForWebrtc","playbackEnd but player is destroyed","playVodResume","mediaSourceAudioG711NotSupportReplay","destroy() rejected - already destroying","playbackEndOnLock","webcodecsDecodeError","setRotate() player is null","mediaSourceAudioInitTimeout and reset player and play error","loading timeout and\n                             replay time is "," and old is ","playVodMp4UseSrcError but player is destroyed","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play error","mediaSourceAudioInitTimeoutOnLock","websocketErrorOnLock is true","webrtcStreamH265 but player is destroyed","_handleMediaSourceAppendBufferError","videoElementPlayingFailed but player is destroyed","wcs","removeDynamicWatermark() player is not init","_handleVideoInfoError","m7s","mediaSourceBufferedIsZeroErrorOnLock","_handleNetworkDelayTimeout","$loadingBgImage","$videoElement","screenshotByRect","wasmUseVideoRenderError but player is destroyed","isWebrtcForOthers","setBufferTime() player is null","downloadTempFmp4File","webcodecsAudioNoDataTimeoutOnLock is true","networkDelayTimeout but player is destroyed","979wzTqpW","simdDecodeError","webcodecsAudioInitTimeout","_handleMseSourceBufferError","streamEnd and network is offline and wait network online to play , so return","setScaleMode","log","delayTimeoutRetryEnd and\n                            opt.heartTimeout is ","_handleAliyunRtcError"," is not in qualityList"," and\n                            opt.heartTimeoutReplayTimes is ",'playVodForward() params "rate": ',"webcodecsDecodeConfigureError and pause error","mediaSourceAudioNoDataTimeout","cryptoKeyUrl: getM7SCryptoStreamKey ","ws1006","getDecodeType","loadingBackgroundWidth"," second, is too large, video will show blank screen until cache ","getPlayVodCurrentTime","supportHls265","_checkInitDecoderWorkerTimeout","loadingTimeoutRetryEnd"," and streamErrorReplayDelayTime is ","fetchErrorOnLock","setKeepScreenOn() player is not ready","getControlExtendBtnActive() ","controlsList","hlsError and _resetPlayer error","close() and inner destroy()","this._opt.url === url and ","isUseFpsRender","\n                            and isReplay is ","playVodMp4UseSrcError and reset player and play error","_tempPlayerIsMute","level","onload","objectDetectClose","$container","updateControlSize","setBufferDelayTime() buffer time delay is ","and is not meaningful retry","webrtcStreamH265"," res is null","websocketError error and reset player and play success","downloadG711File","decoderWorkerWasmError and pause","mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play success","20YbDdNB","/isMSENotSupportAudioFormat is ","paused","?stream=","JbPro Version is ",", and start is ","height","_hasLoaded","videoInfoError","JbPro container type can not be ","_handleHlsError","appendChild","playFailedUseLastFrameShow","playVodMseDecodeVideoError reset player and play success","JbPro decoder ","webcodecsAudioInitTimeoutOnLock","mseWaitVideoCanplayTimeoutOnLock","playbackClearCacheBuffer()","% - ","100%","webcodecsUnsupportedConfigurationErrorOnLock is true","networkDelay","streamEnd and 1006 error and _resetPlayer() but player is destroyed and return","webrtcStreamH265 and reset player and play success","mediaSourceH265NotSupport auto wasm [mse-> wasm] _resetPlayer error","playbackClearCacheBuffer","mediaSourceH265NotSupport and pause error","base64","_handleSimdDecodeError","_getVideoLastIframeInfo","playbackEndedAndReplay and reset player and play error","dynamicWatermarkConfig","emit","_hasLoaded() and play error","playbackEndOnLock is true","_isNeedNetworkDisconnectReplay","10JTAmKr","pause() ","webrtcLowFps and reset player and play error","mediaSourceAudioG711NotSupportOnLock","webrtcErrorOnLock","1036428adIvHE","src","getControlBarShow()","play url ","pauseAndNextPlayUseLastFrameShow","push","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play success","_handleMediaSourceBufferedIsZeroError","setXorCryptoKey()","expandZoom() failed, zoom is not open or not init","not playing"," second, is too small","updateDebugLevel() level is not valid, level: ","_handleWebrtcLowFps","mediaSourceTsIsMaxDiffReplay","_handleWcsWidthOrHeightChange","playVodMp4UseSrcError","isAliyunRtc","mediaSourceFullOnLock is true","mediaSourceAudioInitTimeout but player is destroyed","debugWarn","startRecord() ","mediaSourceUseCanvasRenderPlayFailed and reset player and play error","JbPro container is invalid, must be a DOM Element","this.player.play 5","getExtendHtml","loading timeout replay error","setStartTime","getAllStatsData","isNotMute","playbackEnd","_handlePlayVodMp4UseSrcVideoError","mediaSourceBufferedIsZeroError _resetPlayer and play error","%20%E4%BD%93%E9%AA%8C","this.player.play 4","audio","setCryptoKeyUrl()","webcodecsAudioDecodeErrorReplay","mute()","_handleMediaSourceFull"," rotateY(180deg)","decoderWorkerUncaughtErrorOnLock","decoderWorkerInit","getCrashLog","setMirrorRotate() ","updateLoadingText()","_resetPlayer() player has not loaded and waiting load","webglAlignmentError","setFullscreen"," [到期会暂停解码]","m7sCryptoKey","toggleControlExtendBtn() ","closeDrawRectangle() failed, this.player is not init","_handleWebcodecsDecodeError","_handleWebcodecsDecodeConfigureError","getExtendBtnList()","streamEnd and network is disconnect and reset player and play","watermark_txt","playbackEndInner","webrtc://","playType","toggleControlExtendBtn","mediaSourceAppendBufferError","cancelRecord() player is not ready","mediaSourceAppendBufferError and pause error","decoderWorkerWasmError and pause player success","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] _resetPlayer and play error","setDebug() ","warn","streamEnd and 1006 error and reset player and play success","hideErrorMessageTips()","pause","getExtendBtnList","destroy() player has loaded and calling _nextDestroy()","wasmWidthOrHeightChange and reset player and play error","isPlaying","190DLJgOg","_initWatermark","memoryLogger","hlsError error and network is offline and wait network online to play , so _resetPlayer and wait play","isInView","fetch error and network is disconnect and reset player and play","streamErrorReplayDelayTime","initDecoderWorkerTimeout","endsWith","simdDecodeError error simdDecodeErrorReplayType is ","_resetPlayerBeforeUpdateOptions() and is not mute and set isNotMute is true","_handleVideoElementPlayingFailed","_handleMediaSourceUseCanvasRenderPlayFailed","_handleWasmUseVideoRenderError","mediaSourceDecoderConfigurationError","webcodecs decode error _resetPlayer error","_handleWebcodecsAudioNoDataTimeout","_handleDelayTimeout","setPlaybackStartTime","flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeReplay = true and reset player and play","downloadTempMpeg4File","openDrawRectangle() failed, this.player is destroyed or paused","isZoomOpen","isM7sCrypto","updateAiObjectDetectInterval() player is null","networkDelayTimeout","streamErrorReplay","mediaSourceTsIsMaxDiff replay success","mediaSourceAudioNoDataTimeout error and pause error","_play","getRenderType","websocket1006ErrorReplayDelayTime","mseWidthOrHeightChangeOnLock","quality: ","_handleTsPacketSizeError","updateDebugLevel()","mseAddSourceBufferErrorOnLock","downloadTempFlvFile"," and\n                isAliyunRtc is ","1576875pqScHL","simdDecodeError error and pause error","addContentToContainer","startRecord() player is not playing","loadingTimeoutReplay","getContainerRect","simdDecodeDelayTimeout and _resetPlayer error","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play","wcsWidthOrHeightChange and reset player and play","playFailedAndPaused","mediaSourceAppendBufferError and reset player and play error","simdDecodeError and _resetPlayer error","mseWidthOrHeightChangeOnLock is true","aliyunRtcError and pause player success","isMpeg4","updateFullscreenWatermark()","setTimeout() ","streamEndOnLock is true","objectFit","aliyunRtcError and pause player","top","screenshot","isPaused","$loadingBg","recording","playVodForward() ","cancelRecord","mseWaitVideoCanplayTimeout and autoWasm is false ,pause success","decoder-pro.js","mediaSourceTsIsMaxDiff reset player and play","length","fullscreenWatermarkConfig","_handleWebrtcStreamH265","webFullscreen","webcodecsAudioDecodeError error and pause error","mseAddSourceBufferError and autoWasm is false ,pause success","objectDetectOpen()","mediaSourceBufferedIsZeroError and autoWasm is false ,pause success","muted","setRotate","_resetReplayTimes","_initNetwork","decoderWorkerInitErrorOnLock","playVodMseDecodeVideoErrorOnLock","screenshotCopyrightWatermark","_handlePlaybackEndedAndReplay","setBufferTime() ","_playBefore","mediaSourceAudioG711NotSupport and mediaSourceAudioG711NotSupportReplay is false,pause success","decoderWorkerInitError","_bindEvents","setTimeout","downloadFmp4File","sendWebsocketMessage()","_watermarkResize","catch","videoElementPlayingFailedForWebrtcOnLock is true","webcodecs decode error and pause error","isFFmpegSIMD","addContentToCanvas()","isPs","isFmp4","mediaSourceAudioG711NotSupport error and pause error","getPlayVodBufferedTime","sm4CryptoKey","hlsError and pause player","webcodecsAudioNoDataTimeoutReplay","forward","_handleStreamEnd","wasmWidthOrHeightChangeOnLock is true","wcsWidthOrHeightChangeOnLock","decoderWorkerUncaughtError and pause","delayTimeoutRetryEnd","simdH264DecodeVideoWidthIsTooLarge and reset player and play error","getControlExtendBtnActive() player is null","simdH264DecodeVideoWidthIsTooLarge and reset player and play","faceDetectClose() player is not init","wasm","clearExtendHtml","setAspectRatio() player is null","wasmUseVideoRenderErrorOnLock","websocketError and pause","tsPacketSizeErrorOnLock","Hls264UseOldDemuxer and reset player and play success","flvDemuxBufferSizeTooLargeReplay","isTenda","\n                isMp4UseUseVideoSrc is ","setPlaybackStartTime() player is null","play vod ended and pause error","img","isMSEAudioDecoderError","narrowZoom()","setControlHtml","tsPacketSizeError but player is destroyed"," and\n                            opt.loadingTimeoutReplay is ","timeout","getPTZCmd() ptz is null","togglePerformancePanel() ","mediaSourceAudioG711NotSupport and reset player and play success","simdDecodeErrorOnLock is true","fetch","_resetPlayer() player has not loaded and load success,next destroy and init player","width","mediaSourceDecoderConfigurationError and autoWasm is false ,pause success","webcodecsAudioNoDataTimeout but player is destroyed","resize","updateDebugLevel() player is null","getPlayType","playVodResume()","setNetworkDelayTime() player is null","tsPacketSizeError","mseWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed","playback","webglContextLostError and play success","error","indexOf","playVodMp4Error","webrtcLowFps","_initLoadingBg","mediaSourceUseCanvasRenderPlayFailed but player is destroyed","network online","delay timeout replay error","webglContextLostErrorReplay"," and\n                            local._loadingTimeoutReplayTimes time is ","streamEndReplayDelayTimeout","_isNetworkOfflinePaused","webcodecsAudioNoDataTimeout and reset player and play error","mseWidthOrHeightChange but player is destroyed","getStatus","mediaSourceAudioG711NotSupport and reset player and play error","showRateBtn","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play success","pause ->  play and destroy play","webcodecsAudioDecodeErrorOnLock is true","tsPacketSizeErrorOnLock is true","setPlaybackStartTime() ","show"," and this._opt.rotate is ","startTime","narrowZoom failed, zoom is not open or not init","WebPlayerPro","_pause() player has not loaded and load success,next pause","websocketError","wasmWidthOrHeightChange and reset player and play success","setPtzPosition()"," rotate(","getRenderElement","normal","webglContextLostError","webcodecsH265NotSupport and pause error","videoElementPlayingFailedReplay","_removeLoadingBackgroundForIOS","mse","updateAiFaceDetectLevel()"," and\n                needResetPlayer(url change) is ","playVodEndedAndReplay and _resetPlayer error","simdDecodeErrorOnLock","mediaSourceFull and pause error"," !== 32 or iv length ","srcObject","calcPlaybackForwardMaxRateDecodeIFrame","faceDetect","wcsWidthOrHeightChange and reset player and play error","wasmWidthOrHeightChange error and pause error","getOption","playVodBackwordJumping() ","decoderErrorAutoWasm","_pause() error","objectDetect","demuxUseWorker"," and end is ","url is not support","mediaSourceTsIsMaxDiff replay error","addContentToCanvas","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play error","fullscreen","unknown","max","getPlayVodDuration"," [mse-> ","flvDemuxBufferSizeTooLargeOnLock is true","clientHeight","isPlayVodPaused","s must be less than heartTimeout ","tsPacketSizeError and pause","webrtcError and pause player","playbackResumeTimeout","videoElementPlayingFailed and reset player and play error","fetch error and streamErrorReplay is true and _streamErrorReplayTimes is ","_mseDecodeErrorRetryLog","webglAlignmentErrorReplay","webcodecsAudioNoDataTimeout and webcodecsAudioNoDataTimeoutReplay is false, pause success","hls264UseOldDemuxer and _resetPlayer error","setFullscreen() player is not ready","updateAiObjectDetectLevel() player is null",'playVodBackwordJumping() params "time": ',"debugLog","getVideoInfo","simdH264DecodeVideoWidthIsTooLarge and _resetPlayer error","remove","webcodecsUnsupportedConfigurationError but player is destroyed","removeGhostWatermark","setXorCryptoKey","destroy() start","default","resize()","webrtcStreamH265 and reset player and play","loading","webrtcErrorOnLock is true","forEach","updateAiObjectDetectInterval()","hlsError but player is destroyed",", not support this method","mseSourceBufferErrorOnLock","mediaSourceUseCanvasRenderPlayFailedReplayType","loadingBackground","isFullResize","offline","decoderWorkerWasmError and pause player","mseSourceBufferError _resetPlayer and play error","4:3","_resetPlayerBeforeUpdateOptions() and is playVod playingTime is ","webrtcError","mirrorRotate","streamEnd and 1006 error and reset player and play error","_initPlayer","updateDebugLevel() level is same, level: ","useMSE","wasmUseVideoRenderError and reset player and play","webglAlignmentError and _resetPlayer error","playbackStream","simdH264DecodeVideoWidthIsTooLargeOnLock is true","setFullscreen() ","mseWaitVideoCanplayTimeout but player is destroyed","currentTimeScroll","playbackPause","playVodMseDecodeVideoError reset player and play error","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play success","updateCurrentZoom","_handlePlayerStart","mseWorkerAddSourceBufferError error and pause error","startRecord","simdDecodeError and simdDecodeErrorReplay is false , pause success","_handlePlayerFullscreen","InitDecoderWorkerTimeout and pause player","_doInitLoadingBackgroundForCanvas","padding","mediaSourceBufferedIsZeroError","operateBtns","proxy","_pause() player has loaded","toFixed","playbackConfig.fps is null and playbackConfig.autoCalcFps is false, set playbackConfig.autoCalcFps is true","closeDrawRectangle","mediaSourceUseCanvasRenderPlayFailed and pause","widthOrHeightChangeReplayDelayTimeout","webcodecsAudioDecodeError","showTipsMessage","toggleExtendHtml() ","] reset player and play","playVodMp4UseSrcVideoErrorOnLock","setPlayFailedAndPaused","updatePlaybackForwardMaxRateDecodeIFrame","isControlTypeSimple","scale(","_handleWebcodecsH265NotSupport","mseSourceBufferError and isMSEVideoDecoderInitializationFailedNotSupportHevc is true so auto wasm","streamEnd pause player ","playVodMp4UseSrcVideoError and reset player and play error","reject","updateDynamicWatermark",".jb-pro-loading-bg-for-ios","setNakedFlowFps() player is null","JbPro need container option and now container is","_handlePlayVodEndedAndReplay and reset player and start time is","fps","deg)","playVodMp4ErrorOnLock","simdDecodeError and reset player and play success","setMirrorRotate() mirrorRotate is ","decoderWorkerWasmErrorOnLock is true","wasm decode error and _resetPlayer error","flv Demux Buffer Size Too Large and _resetPlayer error","getUrl","totalDuration","playbackEndedAndReplay","screenshotCopyrightWatermark() player is not ready","webcodecsH265NotSupport and autoWasm is false , pause success","playVod() ","fullscreenWatermarkConfig text is empty","replayShowLoadingIcon","webcodecsAudioInitTimeoutOnLock is true","updateWatermark() player is not init","mediaSourceAudioNoDataTimeout and reset player and play","setRotate() rotate is ","isWebFullscreen","events","calc(100% - ","websocket1006Error","isResize","hardDecodingNotSupportAutoWasm","_getOriginalOpt","isCrypto","bind"," === now: ","playVodPauseInner","updateFullscreenWatermark","notSupportNewWasm auto wasm [wasm-> old wasm] _resetPlayer and play error","playVodMp4UseSrc set false and reset player and play","aiObjectDetectLevel","player","replayUseLastFrameShow","openZoom() failed, this.player is destroyed or paused","mediaSourceDecoderConfigurationError but player is destroyed","stopRecordAndSave() ","playVodDecodeErrorAndStepTime","getBoundingClientRect","webcodecsDecodeErrorOnLock","control type is not normal , not support!","failedToAsynchronouslyPrepareWasm is true","retry type is ","_doInitLoadingBackgroundForRatio","webrtcStreamH265 and reset player and play error","vertical","_clearInitDecoderWorkerTimeout","none","isDestroyed"," and this._opt.mirrorRotate is ","videoInfo","_handlePlayVodEndedAndReplay","wcsDecodeError","cancelMute","updateWatermark","flv Demux Buffer Size Too Large and reset player and play error","stringify"," must be number type","simdDecodeDelayTimeoutOnLock is true","wcsWidthOrHeightChange","wasmWidthOrHeightChange and reset player and play","playVodPause","screenshot() player is not ready","openDrawRectangle()","isPlayVodUseMSE","webrtcLowFps error and _resetPlayer error","ghostWatermarkConfig"," protocol is "," and reset player and play","webcodecsH265NotSupport auto wasm [wcs-> wasm] _resetPlayer and play error","style","websocketError error and streamErrorReplay is true and _streamErrorReplayTimes is ",'playVodSeek() params "time": ',"removeAttribute","currentZoom"," type","cancelRecord()","http://","\n                            this._url.url is ","_handleMediaSourceTsIsMaxDiff","startInner","wasmUseVideoRenderError and reset player and play error","isPlayVodEnded","getI18nConfig","isAudioMute","_checkIsMeaningfulRetry","simdDecodeDelayTimeout and reset player and play error","playbackForwardMaxRateDecodeIFrame","_handleWebglAlignmentError","toggleControlBar() player is null",".ps","webrtcStreamH265 and _resetPlayer error","playVodMp4UseSrcErrorOnLock","video","clearContentToCanvas() player is not init","clearBufferDelay()","_handlePlayVodMp4UseSrcError","hlsError and pause","wasmUseVideoRenderError and reset player and play success","trim","JbPro","'updateAiFaceDetectLevel() level ","webcodecsDecodeConfigureErrorOnLock is true","jb-pro-container","screenshot() ","wasmUseVideoRenderError and _resetPlayer error","controls","updateAiObjectDetectLevel()","wasm decode error and reset player and play error"," and\n                isHlsButDemuxUseWorker is ","_websocket1006ErrorReplayTimes","streamEnd and websocket1006ErrorReplay is true and error is 1006 and _websocket1006ErrorReplayTimes is ","autoWasm","mediaSourceAudioNoDataTimeout and _resetPlayer error","multiIndex","downloadFlvFile","destroy","mseWidthOrHeightChange and reset player and play error","videoBufferDelay","webcodecsAudioInitTimeout and webcodecsAudioInitTimeoutReplay is false , pause success","decoder","playback() ","mediaSourceUseCanvasRenderPlayFailed and mediaSourceUseCanvasRenderPlayFailedReplay is false,  pause success","screenshotByRect() player is not ready","webcodecsDecodeConfigureError","player is destroyed","networkDelayTimeoutReplay",'" can not be undefined',"wasmUseVideoRenderErrorOnLock is true"," and this._opt.aspectRatio is ","mediaSourceAudioNoDataTimeout but player is destroyed","_handleFetchError","mediaSourceAudioInitTimeout and _resetPlayer error","getFlvMetaData() player is null","setNakedFlowFps()","webcodecs decode error and autoWasm is false , pause success","clearView()","originalOptions","_handleHls264UseOldDemuxer","checkIsMeaningfulRetryTimes","decoderWorkerInitError and pause player success","videoElementPlayingFailedForWebrtcOnLock","_handleMediaSourceAudioInitTimeout","updateLoadingText() player is null","playVodSeek"," and this.player.fullscreen is ","webcodecsDecodeConfigureError but player is destroyed","webcodecsUnsupportedConfigurationError and autoWasm is false , pause success","wcsWidthOrHeightChangeOnLock is true","videoElementPlayingFailedForWebrtc and pause player","startsWith","querySelector","mseWorkerAddSourceBufferError and hardDecodingNotSupportAutoWasm is false, pause success","wasmWidthOrHeightChange but player is destroyed","playVodMp4UseSrcVideoErrorOnLock is true","_removeLoadingBackgroundForIOS()","isNakedFlow","_websocket1006ErrorRetryLog","wasmWidthOrHeightChange","removeChild","resetPlayer","cancelMute() and is mute is ","s reset player and play","_handleMseAddSourceBufferError","map","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play error","updateAiFaceDetectInterval()","canvas","downloadMpeg4File","'updateAiObjectDetectLevel() level ","videoInfoErrorOnLock is true","zoomMaxScale","mseSourceBufferError auto wasm [mse worker -> mse] reset player and play","simdH264DecodeVideoWidthIsTooLargeReplay","aiObjectDetectInterval","_handleSimdH264DecodeVideoWidthIsTooLarge","TAG_NAME","simdDecodeError and reset player and play error","getControlBarShow","mediaSourceBufferedIsZeroErrorOnLock is true","_pause() end","setExtendHtml() player is not init","showTipsMessageByContent","playVodMp4UseSrcError and reset player and play success","keys","reset player error","png","_doInitLoadingBackgroundForVideo","setBufferTime","qualityConfig","showPlayBtn","render type is video, not support clearView, please use canvas render type","aiObjectDetectWidth","widthOrHeightChangeReplay","mseWaitVideoCanplayTimeout","streamEnd pause","resetPlayer() error","setTimeout error: ","webcodecsDecodeError but player is destroyed","getPlayVodCurrentRate","getVolume","clearBufferDelay() player is not init","hls264UseOldDemuxer","mediaSourceAppendBufferErrorOnLock","webcodecsAudioDecodeErrorOnLock","position","_handleWebcodecsAudioInitTimeout","hideErrorMessageTips","mediaSourceAudioNoDataTimeout and mediaSourceAudioNoDataTimeoutReplay isfalse pause success",".h264","getCurrentTime","isSm4Crypto","syncAudioAndVideo","_opt","updateGhostWatermark()","setAspectRatio","webcodecsAudioDecodeError and reset player and play","playbackTF","playbackNormal","playVodMp4Error and pause","_loadingTimeoutReplayTimes",".m3u8","setSm4CryptoKey","_resetPlayerBeforeUpdateOptions","notSupportNewWasm but player is destroyed","_isPlayerPlayStarted","aspectRatio",' must be "http:" or "https:" or "webrtc:" or "ws:" or "wss：" or "wt:" or "artc:" protocol',"keepScreenOn","loading timeout and reset player and play success","webrtcError and pause","mediaSourceAudioG711NotSupport but player is destroyed","transform","videoElementPlayingFailedOnLock"," second buffer data",", demuxType is ","webglContextLostError and webglContextLostErrorReplay is false, pause success","updateAiFaceDetectLevel","mediaSourceDecoderConfigurationError and pause error","_playNext and waiting decoderWorkerInit callback","_initPlayerOptionsForPlayVodOrPlayback","playType is "," and network online and play error","_resetPlayer()"," is not valid","objectDetectOpen() player is not init","playVodMp4UseSrcVideoError and reset player and play success","clearControlHtml","div","type","updateZoomMaxScale","tsPacketSizeError, tsPacketSize is ","playVodBackwordJumping","streamEnd","Hls264UseOldDemuxerOnLock is true","simdH264DecodeVideoWidthIsTooLargeOnLock","networkState","mseSourceBufferError","mseAddSourceBufferErrorOnLock is true","webcodecsAudioNoDataTimeout and reset player and play success","showErrorMessageTips()","setNetworkDelayTime() ","streamEndReplayDelayTime","updateWatermark()","setKeepScreenOn()","webrtcLowFpsOnLock","_tempVideoLastIframeInfo","isMute","updateAiFaceDetectInterval() player is null","destroy() no player, calling _destroy() directly","setPtzPosition() player is null","setSm4CryptoKey() player is null","simdDecodeDelayTimeout and reset player and play success","mediaSourceFull and autoWasm is false ,pause success","webcodecsH265NotSupportOnLock","flv","sendWebsocketMessage() player is not init","simdDecodeDelayTimeout error simdDecodeErrorReplayType is ","_destroyed","disablePictureInPicture","container"," and delay time is ","decoderWorkerInit and play error and next pause error","websocket1006ErrorReplay","mediaSourceAudioNoDataTimeoutOnLock","complete","_handlePlayVodEndedAndReplay but player is destroyed","_handleDecoderWorkerUncaughtError","zooming","crashLog","controlSize","getCurrentZoomIndex","isLoading","simdDecodeDelayTimeout error and pause error","mute","JbPro need container option","_handlePlayVodEnded","webcodecsAudioDecodeError and reset player and play error","startRecord() player is not ready","playVodCalcFpsError is true","mediaSourceH265NotSupportOnLock","websocketError error and network is disconnect and _resetPlayer() but player is destroyed and return","isPlayVodSeeking","mediaSourceDecoderConfigurationErrorOnLock is true","jb-pro-loading-bg-for-ios","contain","aliyunRtcError and pause","play() ","_cryptoPlay() cryptoKeyUrl: ","rotate","mseWidthOrHeightChange and _resetPlayer error","origin","loadingTimeout","playVodEndedAndReplay and reset player and play error","_updateMultiIndex","updateLocalOneFrameTimestamp","resetPlayer()","updateGhostWatermark() player is not init","updateFullscreenWatermark() config is not valid, config: ","mseWorkerAddSourceBufferError and reset player and play",".h265","load","wasmUseVideoRenderError","mediaSourceDecoderConfigurationErrorOnLock","webcodecsAudioInitTimeout but player is destroyed","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play success","loading timeout and pause error","this.player.play 3","setFullscreen() fullscreen is ","clearContentToContainer()","webcodecsAudioDecodeError and webcodecsAudioDecodeErrorReplay is false, pause success","_pause","updatePlaybackLocalOneFrameTimestamp() ","playing","isFullscreen","finally","decoderWorkerUncaughtError and pause player success","https:","setShowPrecision","mediaSourceH265NotSupport and autoWasm is false ,pause success","clearContentToCanvas","flvDemuxBufferSizeTooLarge but player is destroyed","playbackForward","this.player.play 1","setNakedFlowFps() fps is empty","isPlaybackPause","_resetPlayerBeforeUpdateOptions() and replayUseLastFrameShow is true and is player started and set loadingIcon by replayShowLoadingIcon ","webglAlignmentError and pause error","mediaSourceTsIsMaxDiff _resetPlayer error","loaded","ERROR","mediaSourceH265NotSupport","mseAddSourceBufferError and pause error","wasmWidthOrHeightChangeOnLock","updateObjectDetectorConfig","simdDecodeDelayTimeout but player is destroyed","clearBufferDelay","isPause","toggleDrawRectangle() ","_hasLoaded() and play error and next pause error","getPlayingTimestamp","playbackEnd and pause success","getFlvMetaData()","faceDetectOpen() player is not init","setNetworkDelayTime() network delay is ",",and\n                            local._heartTimeoutReplayTimes is ","downloadMemoryLog","faceDetectClose()","initShowLoadingIconInner",".ts","webrtc:","webrtcLowFps but player is destroyed","mediaSourceTsIsMaxDiffOnLock is true","32OVHnvO","_handleMediaSourceDecoderConfigurationError","_resetPlayer","mseWidthOrHeightChange","init success and version is ","streamEnd and _resetPlayer() but player is destroyed and return","getExtendHtmlIsShow","https://",", and retryLog is ","flvDemuxBufferSizeTooLargeOnLock","_handleMseWidthOrHeightChange","mseDecodeAudio","playVodCalcFpsError but player is destroyed"," is invalid, play vod must be hls or mp4","wcsWidthOrHeightChange and widthOrHeightChangeReplay is false , pause success","_tempContentToCanvasData","white","screenshotByRect()","wcsWidthOrHeightChange error and pause error","playError"," and network online and play success","decoderWorkerUncaughtErrorOnLock is true","webglContextLostErrorOnLock","toString"," [会在一个小时后暂停解码,刷新页面可继续测试]","_wcsDecodeErrorRetryLog","destroy() cleaning up video element","aliyunRtcError","_playFailedAndPausedLastFrameInfo","setCryptoKeyUrl","_parsePlaybackOptions","_handleFlvDemuxBufferSizeTooLarge","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] reset player and play","togglePerformancePanel","toggleControlHtml() player is not init","webcodecsDecodeConfigureError and autoWasm is false , pause success","_playNext and decoderWorkerInit callback and next play","toggleControlBar","mediaSourceUseCanvasRenderPlayFailedOnLock","updateGhostWatermark","streamErrorReplayDelayTimeout","_resetDemuxType","split","getAudioEngineType","mseWorkerAddSourceBufferError and _resetPlayer error","player is not ready","wcsWidthOrHeightChange and _resetPlayer error","getAudioInfo","_replaySuccessAndNext","playVodEndedAndReplay","createElement","_handlePlayVodMseDecodeVideoError","mediaSourceAppendBufferError and _resetPlayer error","delayTimeout","loadingTimeoutRetryEndShowPlayBtn","24300pJHIoy","JbPro is destroyed","webcodecsAudioNoDataTimeout and _resetPlayer error","aiFaceDetectInterval","webcodecs decode error autoWasm ","mediaSourceTsIsMaxDiff and replay is false ,pause success","_handleInitDecoderWorkerTimeout","toggleZoom","662xHOkGL"," and next playingTimestamp is ","liveStream","forward() ","simdDecodeDelayTimeout and simdDecodeErrorReplay is false , pause success","nodownload"," and network online and _streamErrorReplayTimes is ","playVodConfig","playbackEndedAndReplay and _resetPlayer error","webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play success","setSm4CryptoKey() key is invalid and key length is ","screenshotCopyrightWatermark()","webcodecsAudioInitTimeout and reset player and play error","play","websocketErrorOnLock","mseWidthOrHeightChange and reset player and play success","playbackEnd and pause","streamEnd and reset player and play success"," is invalid, protocol is ","webglAlignmentErrorOnLock is true","fetch error and _resetPlayer but player is destroyed and return","_resetPlayer error","webglContextLostError and _resetPlayer error","currentTime","simdDecodeDelayTimeout","useWCS","_pause() player has not loaded and waiting load","nakedFlowFps","decoderWorkerInit and play error","setMirrorRotate() player is null","mediaSourceTsIsMaxDiff","screenshotWatermark() player is not ready","webcodecsUnsupportedConfigurationErrorOnLock","network offline","isCacheBeforeDecodeForFpsRender","isInitDecodeError","JessibucaPro","_handleMediaSourceAudioG711NotSupport","mediaSourceBufferedIsZeroError auto wasm ","getCopyrightWatermarkHash","player._opt.operateBtns.quality is false","webcodecsUnsupportedConfigurationError","useSIMD","JbPro container has been created and can not be created again","_bindPlayerEvents","fetch error and pause player","1006","mediaSourceAudioG711NotSupport and _resetPlayer error","isOldHls","screenshotWatermark()","webrtc","updateAiObjectDetectInterval","need reset player and\n                isOldHls is ","nodeName","autoCalcFps","jb-pro-fullscreen-web","delayTimeout and reset player and play success","isMSENotSupportAudioFormat","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play success","videoBuffer","videoInfoError but player is destroyed"," is invalid'","mseAddSourceBufferError but player is destroyed","mseWorkerAddSourceBufferError","networkDelayTimeoutOnLock","openZoom() failed, this.player is not init","decoderWorkerInitError and pause","cryptoKeyUrl","network delay time out and reset player and play","player is not init","playbackConfig","_handleVideoElementPlayingFailedForWebrtc","_heartTimeoutReplayTimes","togglePerformancePanel() failed, showPerformance is prev: ","webglAlignmentError and play success","replay","simdDecodeErrorReplayType","loading timeout but player is destroyed","_handleSimdDecodeDelayTimeout","videoInfoError and pause player success","InitDecoderWorkerTimeout but player is destroyed","mseSourceBufferError but player is destroyed","playbackResume()","mseSourceBufferErrorOnLock is true","mediaSourceH265NotSupport auto wasm [mse-> wasm] reset player and play","fetch error and pause","updateCurrentZoom()","_handlePlaybackEndedAndReplay but player is destroyed","showErrorMessageTips() player is null","isDrawRectangleOpen","wasmWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed","_handleWebglContextLostError","loadingTimeoutReplayTimes","mediaSourceFullOnLock","className","decoderWorkerWasmErrorOnLock","loadingBackgroundHeight","setControlHtml()","expandZoom","updateControlSize() failed, this.player is not init","left","loadingTimeoutRetryEnd and\n                            opt.loadingTimeout is ","url ","aliyunRtcErrorOnLock is true","cryptoIV","mseDecodeError","setScaleMode() player is null","mediaSourceFull","mediaSourceAppendBufferError and reset player and play success","_handleDecoderWorkerInitError","_handleMseWorkerAddSourceBufferError","mseWorkerAddSourceBufferErrorOnLock","online","openDrawRectangle() failed, this.player is not init","playVodMp4UseSrcVideoError","videoElementPlayingFailed","getMetaData","setBufferTime() buffer time is ","_handlePlayVodEnded but player is destroyed","network online and JbPro is destroyed","debugError","updateDynamicWatermark()","isCryptoAudio","simdH264DecodeVideoWidthIsTooLarge and reset player and play success","toggleExtendHtml","videoInfoError and pause player","_handleWasmWidthOrHeightChange","simdDecodeError but player is destroyed","updateOption","_playBefore this.player.play error","_handleDecoderWorkerWasmError","playFailedAndPausedShowPlayBtn"," and is not meaningful Retry","mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play","hideTipsMessage","updateDynamicWatermark() player is not init","mseAddSourceBufferError","tsPacketSizeError and pause success","mediaSourceAudioG711NotSupport and reset player and play","watermarkConfig","delay timeout _resetPlayer error","playVodEndedAndReplay and reset player and play success","getControlHtml","mediaSourceAppendBufferError and isMSEAudioDecoderError is ","webrtcError and _resetPlayer error","_handlePlayVodMp4Error","toggleControlBar() ","_cryptoPlay","isUseNewFullscreenWatermark","websocketError error and network is offline and wait network online to play , so return","_handleFailedToAsynchronouslyPrepareWasm","mseWidthOrHeightChange error and pause error","webglContextLostError and play error","isPlayVod","closeDrawRectangle() failed, this.player is destroyed or paused","watermark","mediaSourceAudioG711NotSupportOnLock is true","closeZoom","playVodMp4Error and pause success","heartTimeoutReplay","closeZoom() failed, this.player is not init","isPlayback","wasmWidthOrHeightChange and _resetPlayer error","getPlayVodBufferedDuration","mseWaitVideoCanplayAutoWasm","mediaSourceTsIsMaxDiff but player is destroyed","webrtcError and pause player success","mpeg4","simdDecodeDelayTimeoutOnLock","websocketError and pause player success","playOptions","openZoom","classList","getFlvMetaData","webcodecsDecodeConfigureErrorOnLock","flvDemuxBufferSizeTooLarge"," must be decoder-pro.js or decoder-pro-simd.js","_removeTimeout","_resetPlayerBeforeUpdateOptions() and is playback playingTimestamp is ","heartTimeout","_handlePlayerPlayFailedAndPaused","webcodecsH265NotSupportOnLock is true","notSupportNewWasm","wss:"," and is Trial Version[试用版本]"," !== 32","updateControlSize() ","streamEnd pause player","playVodMp4UseSrcError and _resetPlayer error","mediaSourceFull but player is destroyed","setMirrorRotate","setSm4CryptoKey() key is invalid and length is ",".fmp4","isHls","toggleControlExtendBtn() player is null","mseAddSourceBufferError auto wasm [mse-> wasm] _resetPlayer and play error","objectDetectOpen","playVodMseDecodeVideoError _resetPlayer and play error","webcodecs decode error reset player and play success","mediaSourceAppendBufferErrorOnLock is true","_resetPlayer() end"," rotateX(180deg)","assign","aiFaceDetectWidth","_initOnLock","_handleMseWaitVideoCanplayTimeout","setPlaybackStartTime() control type is normal and  timestamp: ","webglAlignmentError but player is destroyed","absolute","webglContextLostErrorOnLock is true","getPlaybackRate","updateDrawRectangleConfig","setExtendHtml()","clearView","mseSourceBufferError auto wasm ","playVodMp4UseSrcVideoError but player is destroyed","debugUuid","failedToAsynchronouslyPrepareWasmLock","toggleControlHtml() ","mediaSourceBufferedIsZeroError reset player and play error","streamEnd and _resetPlayer error","play vod ended and pause player","webrtcStreamH265OnLock","closeZoom()","flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeEmitFailed = true and pause player","flv Demux Buffer Size Too Large and reset player and play success","webglAlignmentError and webglAlignmentErrorReplay is false, so pause","wcsWidthOrHeightChange and reset player and play success","init start","isFlv","failedToAsynchronouslyPrepareWasm，pause success","network","playVodNormal()","mediaSourceFull and auto wasm ","simdH264DecodeVideoWidthIsTooLarge","sendWebsocketMessage","webcodecsAudioInitTimeout error and pause error","widthOrHeightChangeReplayDelayTime","hasLoaded","16:9","cryptoKey","playbackConfig.rateConfig.length is 0, showRateBtn can not be ture, showRateBtn is set to false","hls264UseOldDemuxerOnLock","_handlePlayVodCalcFpsError","mseSourceBufferError reset player and play error","_handleWebrtcError","playFailedError","getDemuxType","closeDrawRectangle()","videoElementPlayingFailed and reset player and play success","destroy() player has not loaded and waiting load","/index/api/webrtc","url","mediaSourceTsIsMaxDiffOnLock","streamEnd and network is disconnect and _resetPlayer() but player is destroyed and return","debug"," and opt.cryptoKeyUrl: ","isWebrtcH265","playVodMp4UseSrcVideoError and _resetPlayer error","playVodForward","hlsErrorOnLock","updateZoomMaxScale() ","streamEnd and 1006 error network is offline and wait network online to play , so return","audioInfo","videoElementPlayingFailedForWebrtc and pause player success","updateIsEmitSEI() player is null","expandZoom()","_handleNotSupportNewWasm","422744LOvfjV","playFailedAndPausedShowMessage","m7sCryptoAudio","_handleWebcodecsAudioDecodeError","videoInfoError and pause","128175QUIOMS","wt:","setExtendHtml",", next replay","websocketError error and reset player and play error","InitDecoderWorkerTimeout and pause player success","mseDecodeErrorReplay","addContentToCanvas() player is not init","zoom","delay timeout replay but player is destroyed","_handlePlaybackEndedAndReplay and reset player","mediaSourceAppendBufferError but player is destroyed","flvDemuxBufferSizeTooLargeEmitFailed","playVodMp4UseSrc","webcodecsAudioInitTimeout and _resetPlayer error","_handleLoadingTimeout","_destroy","mediaSourceAudioInitTimeout","playVodCalcFpsError","webcodecsH265NotSupport","removeWatermark","volume","setAspectRatio() aspectRatio is ","then","destroy() _nextDestroy called","player is null","wcsDecodeAudio","webrtcError but player is destroyed","webglAlignmentErrorOnLock","setXorCryptoKey() player is null","showErrorMessageTips","removeWatermark() player is not init","once","_getContainerRect","encType","clearControlHtml()","failedToAsynchronouslyPrepareWasm","mediaSourceAudioInitTimeoutReplay","playbackPause() isPause:","webcodecsAudioNoDataTimeoutOnLock","_isNetworkOfflinePausedAndNextPlayConfig","_streamErrorReplayTimes","isFocus","narrowPrecision","webcodecsAudioDecodeError and reset player and play success","mediaSourceAudioG711NotSupport","debugLevel","tenda","_checkIsMeaningfulRetry() type is ","mseDecodeErrorReplayDelayTimeout","fetchErrorOnLock is true","websocket","this.player.play 6","_parsePlayVodOptions","_checkHasCreated","playType is not playback","playVodCalcFpsError and pause","decoderWorkerUncaughtError but player is destroyed","wss://","getControlHtmlIsShow"," , delay ","_handleWebcodecsUnsupportedConfigurationError","setAttribute","_handleMediaSourceH265NotSupport","_destroyLock","setPlaybackShowPrecision","clear","setStreamQuality","failedToAsynchronouslyPrepareWasm and _pause error","fetchError","setDebug","mediaSourceUseCanvasRenderPlayFailed","ws:","audioResume","mediaSourceAudioInitTimeout and reset player and play","streamEndOnLock","_handleWebsocketError","streamEnd and reset player and play error","s is too long, will black screen for ","mseWorkerAddSourceBufferError and reset player and play success","isWebrtcForSRS","getIsDebug","_handlePlaybackEnd","videoInfoErrorOnLock","mediaSourceH265NotSupportOnLock is true","aiFaceDetectLevel","getControlHeight"," and\n                isMpeg4 is ","websocketError error and _resetPlayer error","setKeepScreenOn","fetchError but player is destroyed","webcodecsUnsupportedConfigurationError auto wasm [wcs-> wasm] _resetPlayer and play error","artc:","isTs","isDestroyedOrClosed","mediaSourceAudioNoDataTimeout and reset player and play success","streamEndReplay","toggleZoom() ","screenshotWatermark","_streamEndReplayTimes","useLastFrameShow","783927WHFbBP","downloadNakedFlowFile","hlsError","updateDebugLevel","fetch error and reset player and play error","updateAiObjectDetectLevel","notSupportNewWasmOnLock","heartTimeoutReplayTimes","s , it is recommended to set it to less than 10s","channels","mediaSourceAudioInitTimeout and mediaSourceAudioInitTimeoutReplay is false,pause success","removeFullscreenWatermark()","hls","mseWaitVideoCanplayTimeoutOnLock is true","playVodMp4ErrorOnLock is true","loadingIcon","webcodecsH265NotSupport but player is destroyed","getControlExtendBtnActive","setPlaybackStartTime() control type is simple and timestamp: ","playVodCalcFpsErrorOnLock","_handleMediaSourceAudioNoDataTimeout","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play error"," is not a number",", options: ","videoElementPlayingFailedForWebrtc and pause","updatePlaybackLocalOneFrameTimestamp","close","play vod ended and pause success","simdDecodeErrorReplay","px 0","toggleControlHtml","aliyunRtcErrorOnLock","playVod"];return(jL=function(){return t})()}function VL(t,e){const s=jL();return(VL=function(t,e){return s[t-=289]})(t,e)}!function(t,e){const s=VL,i=t();for(;;)try{if(171518===-parseInt(s(965))/1*(parseInt(s(1615))/2)+parseInt(s(1238))/3*(parseInt(s(1498))/4)+-parseInt(s(1654))/5+-parseInt(s(1539))/6+parseInt(s(1233))/7*(parseInt(s(902))/8)+-parseInt(s(1339))/9*(-parseInt(s(1534))/10)+-parseInt(s(1450))/11*(-parseInt(s(957))/12))break;i.push(i.shift())}catch(t){i.push(i.shift())}}(jL);class WL extends zi{constructor(){const t=VL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._opt={},this[t(705)]=t(629),this[t(1488)]=null,Object[t(713)](e)[t(460)]((s=>{const i=t;if(void 0===e[s])throw new Error(i(1397)+s+i(656))})),this[t(666)]=e;const s=yi();let i=Object[t(1167)]({},s,e);i[t(1217)]="",Ps(i[t(346)])&&(Rs(e[t(841)])&&(i[t(841)]=i[t(346)]),Rs(e.heartTimeout)&&(i[t(1144)]=i.timeout)),i.isMulti&&(i[t(1181)]=mi()),this[t(1220)]=new ee(this);let r=e.container;if("string"==typeof e.container&&(r=document[t(680)](e[t(809)])),!r)throw this[t(1085)](t(629),t(524),e[t(809)]),new Error(t(824));if(Si(i.isLive)){const e=document[t(952)](t(622));return e[t(289)]=!0,e[t(1300)](t(1477),t(970)),e[t(808)]=t(808),e[t(599)][t(734)]=t(1173),e[t(599)][t(1674)]=0,e[t(599)][t(1065)]=0,e[t(599)][t(1504)]=t(1517),e[t(599)][t(353)]="100%",r[t(1509)](e),this[t(1442)]=e,this[t(1488)]=r,void(this[t(742)]=i)}if(i[t(649)]&&Si(-1!==i[t(649)][t(366)](t(1682))||-1!==i[t(649)][t(366)]("decoder-pro-simd.js")))throw this[t(1085)](t(629),t(1512)+i[t(649)]+t(1141)),new Error(t(1512)+i[t(649)]+t(1141));if("CANVAS"===r[t(1018)]||r.nodeName===t(1384))throw this[t(1085)](t(629),t(1507)+r.nodeName+t(604)),new Error(t(1507)+r.nodeName+" type");if(i[t(1024)]>=i[t(1144)])throw this[t(1085)](t(629),t(1400)+i[t(1024)]+t(434)+i[t(1144)]+"s"),new Error(t(1400)+i[t(1024)]+t(434)+i.heartTimeout+"s");if(!r[t(1137)])throw this[t(1085)](this[t(705)],t(1562),r),new Error(t(1562),r);if(this._checkHasCreated(r))throw this.debugError(t(629),t(1008),r),new Error(t(1008),r);if(r.classList.add(t(632)),function(t,e,s){const i=ze;t&&(t.dataset?t.dataset[e]=s:t[i(664)](i(525)+e,s))}(r,T,As()),delete i[t(809)],Ps(i.videoBuffer)&&(i.videoBuffer=1e3*Number(i.videoBuffer)),Ps(i[t(647)])&&(i[t(647)]=1e3*Number(i.videoBufferDelay)),Ps(i.networkDelay)&&(i[t(1519)]=1e3*Number(i[t(1519)])),Ps(i.aiFaceDetectInterval)&&(i[t(960)]=1e3*Number(i[t(960)])),Ps(i[t(703)])&&(i[t(703)]=1e3*Number(i.aiObjectDetectInterval)),Ps(i[t(641)])&&(Rs(i[t(417)])&&(i[t(417)]=i[t(641)]),Rs(i.hardDecodingNotSupportAutoWasm)&&(i[t(551)]=i[t(641)]),Rs(i[t(1129)])&&(i[t(1129)]=i[t(641)])),Ps(i[t(1323)])&&Rs(i[t(1168)])){const t=kt[i.aiFaceDetectLevel];t&&(i.aiFaceDetectWidth=t)}if(Ps(i[t(560)])&&Rs(i[t(721)])){const e=_t[i[t(560)]];e&&(i.aiObjectDetectWidth=e)}bi(i[t(553)])&&(i[t(1638)]=!0),bi(i[t(1235)])&&(i[t(1087)]=!0),this._opt=i,this.debugLog(t(629),t(1193)),i[t(1024)]>1e4&&this.debugWarn(this[t(705)],"videoBuffer "+i[t(1024)]/1e3+t(1316)+i[t(1024)]/1e3+t(1347)),this[t(807)]=!1,this[t(1302)]=!1,this[t(1488)]=r,this[t(1401)]={},this[t(795)]={},this._tempPlayerIsMute=!0,this._loadingTimeoutReplayTimes=0,this[t(1037)]=0,this[t(1279)]=0,this[t(1337)]=0,this[t(639)]=0,this.bound={_handlePlayerPlayFailedAndPaused:this[t(1145)][t(554)](this),_handlePlayerBeforeDestroy:this._handlePlayerBeforeDestroy[t(554)](this),_handlePlayerResize:this[t(1396)][t(554)](this),_handlePlayerFullscreen:this[t(494)][t(554)](this),_handlePlayerStart:this[t(490)].bind(this),_handleWebglAlignmentError:this[t(617)][t(554)](this),_handleWebglContextLostError:this[t(1056)].bind(this),_handleMediaSourceH265NotSupport:this[t(1301)][t(554)](this),_handleMseWaitVideoCanplayTimeout:this[t(1170)][t(554)](this),_handleMediaSourceFull:this[t(1578)][t(554)](this),_handleMediaSourceAppendBufferError:this[t(1433)][t(554)](this),_handleMseSourceBufferError:this[t(1453)].bind(this),_handleMediaSourceBufferedIsZeroError:this._handleMediaSourceBufferedIsZeroError[t(554)](this),_handleMseAddSourceBufferError:this[t(692)].bind(this),_handleMediaSourceDecoderConfigurationError:this[t(903)][t(554)](this),_handleMediaSourceTsIsMaxDiff:this[t(608)][t(554)](this),_handleMseWidthOrHeightChange:this[t(912)][t(554)](this),_handleMediaSourceAudioG711NotSupport:this[t(1002)].bind(this),_handleMediaSourceAudioInitTimeout:this[t(671)].bind(this),_handleMediaSourceAudioNoDataTimeout:this._handleMediaSourceAudioNoDataTimeout[t(554)](this),_handleMseWorkerAddSourceBufferError:this[t(1075)][t(554)](this),_handlePlayVodMseDecodeVideoError:this[t(953)][t(554)](this),_handleMediaSourceUseCanvasRenderPlayFailed:this._handleMediaSourceUseCanvasRenderPlayFailed.bind(this),_handleWebcodecsH265NotSupport:this[t(516)][t(554)](this),_handleWebcodecsUnsupportedConfigurationError:this[t(1299)].bind(this),_handleWebcodecsDecodeConfigureError:this[t(1593)][t(554)](this),_handleWebcodecsDecodeError:this[t(1592)][t(554)](this),_handleWcsWidthOrHeightChange:this[t(1554)][t(554)](this),_handleWebcodecsAudioNoDataTimeout:this[t(1631)].bind(this),_handleWebcodecsAudioInitTimeout:this._handleWebcodecsAudioInitTimeout[t(554)](this),_handleWebcodecsAudioDecodeError:this[t(1236)][t(554)](this),_handleSimdDecodeError:this._handleSimdDecodeError[t(554)](this),_handleSimdDecodeDelayTimeout:this[t(1043)][t(554)](this),_handleWasmWidthOrHeightChange:this[t(1091)].bind(this),_handleWasmUseVideoRenderError:this[t(1628)][t(554)](this),_handleNotSupportNewWasm:this[t(1232)][t(554)](this),_handleFailedToAsynchronouslyPrepareWasm:this._handleFailedToAsynchronouslyPrepareWasm[t(554)](this),_handleVideoElementPlayingFailed:this[t(1626)].bind(this),_handleSimdH264DecodeVideoWidthIsTooLarge:this._handleSimdH264DecodeVideoWidthIsTooLarge[t(554)](this),_handleNetworkDelayTimeout:this[t(1440)].bind(this),_handleFlvDemuxBufferSizeTooLarge:this._handleFlvDemuxBufferSizeTooLarge[t(554)](this),_handleFetchError:this[t(660)][t(554)](this),_handleStreamEnd:this[t(319)].bind(this),_handleWebsocketError:this._handleWebsocketError[t(554)](this),_handleHlsError:this[t(1508)].bind(this),_handleHls264UseOldDemuxer:this._handleHls264UseOldDemuxer[t(554)](this),_handleDecoderWorkerInitError:this[t(1074)].bind(this),_handleDecoderWorkerUncaughtError:this[t(816)][t(554)](this),_handleDecoderWorkerWasmError:this[t(1095)][t(554)](this),_handleVideoElementPlayingFailedForWebrtc:this._handleVideoElementPlayingFailedForWebrtc[t(554)](this),_handleVideoInfoError:this[t(1437)][t(554)](this),_handleTsPacketSizeError:this[t(1649)][t(554)](this),_handleDelayTimeout:this[t(1632)].bind(this),_handleLoadingTimeout:this[t(1253)][t(554)](this),_handleAliyunRtcError:this[t(1458)][t(554)](this),_handleWebrtcError:this[t(1210)][t(554)](this),_handleWebrtcStreamH265:this[t(1686)].bind(this),_handleWebrtcLowFps:this[t(1552)].bind(this),_handlePlayVodEnded:this[t(825)][t(554)](this),_handlePlayVodEndedAndReplay:this[t(580)].bind(this),_handlePlayVodMp4Error:this[t(1110)][t(554)](this),_handlePlayVodMp4UseSrcError:this._handlePlayVodMp4UseSrcError[t(554)](this),_handlePlayVodMp4UseSrcVideoError:this[t(1570)][t(554)](this),_handlePlayVodCalcFpsError:this[t(1208)].bind(this),_handlePlaybackEnd:this._handlePlaybackEnd.bind(this),_handlePlaybackEndedAndReplay:this[t(296)][t(554)](this)},this[t(547)]=new ji(this),this[t(742)][t(1113)]?this[t(1120)]=new fL(this):this[t(1120)]=new cL(this),this[t(1617)]=new PL(this),this[t(1196)]=new FL(this),this[t(686)]=[],this[t(440)]=[],this[t(927)]=[],this[t(917)]=[],this[t(376)]=!1,this[t(1278)]={},this.widthOrHeightChangeReplayDelayTimeout=null,this[t(942)]=null,this[t(375)]=null,this[t(1287)]=null,this[t(1390)]=null,this[t(437)]=null,this[t(1622)]=null,this[t(1441)]=null,this[t(1677)]=null,this._isPlayerPlayStarted=!1,this[t(930)]=null,this[t(1169)](),this._bindEvents(),this[t(476)](r,i,!0),this[t(1616)](),this[t(292)](),this[t(447)](t(629),t(906)+rs+":"+is);let n=t(1502)+rs+":"+is+t(1149);Mi()?n+=t(810)+'"2025-8-1"'+t(1588):n+=t(926),console.log(n)}destroy(){return new Promise(((t,e)=>{const s=VL;if(this[s(447)](s(629),s(454)),this[s(1302)])return this[s(447)]("JbPro",s(1421)),e("JbPro is destroying");this._destroyLock=!0,this[s(807)]=!0,this[s(1373)](),this[s(1142)](),this[s(575)](),this._initOnLock(),this[s(1442)]&&(this[s(447)](s(629),s(928)),this[s(1442)].pause(),this[s(1442)][s(988)]=0,this.$videoElement[s(410)]&&(this[s(1442)][s(410)]=null,this[s(1442)].removeAttribute(s(410))),this.$videoElement[s(1540)]&&(this[s(1442)][s(1540)]="",this.$videoElement[s(602)](s(1540))),this[s(1488)]&&this.$container[s(688)](this[s(1442)]),this[s(1442)]=null),this[s(402)]();const i=()=>{const i=s;this[i(447)](i(629),i(1262)),this[i(561)][i(645)]()[i(1261)]((()=>{const e=i;this[e(447)](e(629),"destroy()#_nextDestroy() player destroyed successfully and calling _destroy()"),this[e(561)]=null,this._destroy(),this[e(1302)]=!1,t()})).catch((t=>{const s=i;this[s(1085)](s(629),"destroy()#_nextDestroy() player destroy failed",t),this._destroyLock=!1,e(t)}))};this[s(561)]?this[s(1505)]()?(this[s(447)](this[s(705)],s(1612)),i()):(this[s(447)](this.TAG_NAME,s(1215)),this.player.on(O[s(850)],(()=>{const t=s;this[t(447)](this[t(705)],"destroy() player has not loaded and load success and calling _nextDestroy()"),i()}))):(this.debugLog(s(629),s(798)),this[s(1254)](),this[s(1302)]=!1,t())}))}_removeTimeout(){const t=VL;this[t(506)]&&(clearTimeout(this.widthOrHeightChangeReplayDelayTimeout),this.widthOrHeightChangeReplayDelayTimeout=null),this.streamErrorReplayDelayTimeout&&(clearTimeout(this[t(942)]),this[t(942)]=null),this[t(375)]&&(clearTimeout(this.streamEndReplayDelayTimeout),this.streamEndReplayDelayTimeout=null),this[t(1390)]&&(clearTimeout(this[t(1390)]),this[t(1390)]=null),this[t(437)]&&(clearTimeout(this.playbackResumeTimeout),this.playbackResumeTimeout=null)}[NL(1254)](){const t=NL;this[t(547)]&&(this.events.destroy(),this[t(547)]=null),this[t(1120)]&&(this[t(1120)][t(645)](),this[t(1120)]=null),this[t(1196)]&&(this[t(1196)][t(645)](),this.network=null),this[t(1617)]&&(this[t(1617)][t(645)](),this[t(1617)]=null),this[t(1488)]&&(this[t(1488)][t(1137)][t(450)](t(632)),this[t(1488)][t(1137)][t(450)](t(1020)),function(t,e){const s=ze;t&&(t[s(503)]?delete t.dataset[e]:t[s(592)]("data-"+e))}(this[t(1488)],T),this[t(1488)]=null),this._tempPlayBgObj=null,this[t(795)]=null,this._isNetworkOfflinePaused=!1,this._tempContentToCanvasData=[],this._playerOnLock=!1,this._isNetworkOfflinePausedAndNextPlayConfig={},this[t(1484)]=!0,this[t(930)]=null,this._resetReplayTimes(),this.debugLog("JbPro","_destroy() end and calling resolve()"),this._opt={},this[t(666)]={},this[t(1381)]=null,this[t(1220)]=null}[NL(301)](){const t=NL;(this._opt.playFailedAndPausedShowMessage||this[t(742)][t(1096)])&&this.on(O[t(1663)],this[t(1381)][t(1145)])}[NL(291)](){const t=NL;this[t(749)]=0,this[t(1037)]=0,this._streamErrorReplayTimes=0,this._streamEndReplayTimes=0,this[t(639)]=0,this[t(686)]=[],this[t(440)]=[],this[t(927)]=[],this[t(754)]=!1}[NL(552)](){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=yi();let i=Object[t(1167)]({},s,this[t(666)],{playType:this._opt.playType});return Ks(e)&&(i[t(1599)]===l.playbackTF?i.playbackConfig=Object[t(1167)]({},s[t(1035)],e):i[t(1599)]===l[t(1371)]&&(i[t(972)]=Object[t(1167)]({},s[t(972)],e)),i=this[t(769)](i)),i}_initPlayer(t,e,s){const i=NL;s&&(e=this._initPlayerOptionsForPlayVodOrPlayback(e)),this[i(561)]=new oL(t,e),this[i(1009)]()}_initPlayerOptionsForPlayVodOrPlayback(t){const e=NL;if(t[e(1599)]===l[e(746)]){t.openWebglAlignment=!0,t.videoBuffer=0;const s=this[e(932)](t.playbackConfig);t[e(616)]=s[e(616)]||t.playbackForwardMaxRateDecodeIFrame,t.calcPlaybackForwardMaxRateDecodeIFrame=s.calcPlaybackForwardMaxRateDecodeIFrame||t[e(411)],t[e(1035)]=s,t.useWCS=s[e(990)],t[e(478)]=s[e(478)],t[e(1007)]=s[e(1007)],Ls(s[e(309)])&&(t[e(309)]=s[e(309)])}else if(t.playType===l.playVod){t.openWebglAlignment=!0,t[e(1024)]=0,t.supportHls265=!0;const s=this._parsePlayVodOptions(t.playVodConfig);t[e(972)]=s,t[e(990)]=s[e(990)],t[e(478)]=s[e(478)],t[e(1007)]=s[e(1007)],s[e(478)]&&(t[e(913)]=!0),Ls(s.isFFmpegSIMD)&&(t[e(309)]=s[e(309)])}return t}_resetPlayer(){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((s,i)=>{const r=t;try{this[r(447)](this[r(705)],r(772),JSON[r(585)](e))}catch(t){this[r(447)](this[r(705)],r(772),e)}const n=()=>{const t=r;this[t(742)][t(1217)]="",this[t(742)][t(1135)]={},this[t(742)]=Object[t(1167)](this[t(742)],e),this._initPlayer(this[t(1488)],this._opt,!1)},o=()=>{const t=r;this[t(561)][t(645)]()[t(1261)]((()=>{const e=t;this[e(561)]=null,n(),this[e(447)](this[e(705)],e(1165)),s()}))[t(306)]((e=>{const s=t;this[s(1085)](this[s(705)],"_resetPlayer() error",e),i(e)}))};this[r(561)]?this[r(1505)]()?(this[r(447)](this[r(705)],"_resetPlayer() player has loaded"),o()):(this[r(447)](this.TAG_NAME,r(1585)),this[r(561)].on(O.load,(()=>{const t=r;this[t(447)](this[t(705)],t(352)),o()}))):(n(),this[r(447)](this.TAG_NAME,"_resetPlayer() end"),s())}))}[NL(1009)](){const t=NL;var e=this;Object[t(713)](N)[t(460)]((s=>{this[t(561)].on(N[s],(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.emit(s,...i)}))})),this[t(561)][t(1270)](O.beforeDestroy,this[t(1381)]._handlePlayerBeforeDestroy),this[t(561)].on(O[t(356)],this[t(1381)]._handlePlayerResize),this.player.on(O[t(426)],this.bound[t(494)]),this[t(561)][t(1270)](O[t(609)],this[t(1381)][t(490)])}[NL(1616)](){const t=NL;if(Bi()&&(this[t(742)][t(1685)]={text:decodeURIComponent(b+t(1572)),color:t(918)}),Ks(this._opt[t(1685)])){const e=Ms(this[t(1488)],this[t(742)].fullscreenWatermarkConfig);if(!e[t(1596)])return void this[t(1559)](t(629),t(540));this[t(1120)].load(e)}}[NL(292)](){const t=NL;this[t(1196)].on(O[t(1077)],(()=>{const e=t;if(this[e(1530)](O[e(785)],O[e(1077)]),this[e(577)]())this[e(447)](this.TAG_NAME,e(1084));else if(this.debugLog(this[e(705)],e(371)),this[e(376)]&&this[e(1278)]&&this[e(1278)][e(1217)]){const t=this._isNetworkOfflinePausedAndNextPlayConfig.url,s=this._isNetworkOfflinePausedAndNextPlayConfig[e(1135)];this[e(1279)]++;const i=this[e(1278)][e(778)]||e(427);this._isNetworkOfflinePaused=!1,this[e(1278)]={},this[e(447)](this[e(705)],i+e(971)+this[e(1279)]+e(597)),this[e(978)](t,s)[e(1261)]((()=>{const t=e;this.debugLog(this[t(705)],i+t(922))})).catch((t=>{const s=e;this[s(1530)](O.playFailedAndPaused,V.fetchError,{},t[s(925)]()),this[s(1085)](this[s(705)],i+s(771),t.toString(),t)}))}})),this[t(1196)].on(O[t(468)],(()=>{const e=t;this[e(1530)](O.networkState,O[e(468)]),this[e(447)](this[e(705)],e(998))}))}[NL(1292)](t){if(!t)return!1;return!!function(t,e){const s=ze;return t?t[s(503)]?t.dataset[e]:t[s(803)](s(525)+e):""}(t,T)}_initOnLock(){const t=NL;this[t(1266)]=!1,this[t(924)]=!1,this[t(829)]=!1,this[t(1058)]=!1,this.mediaSourceAppendBufferErrorOnLock=!1,this[t(464)]=!1,this.mediaSourceBufferedIsZeroErrorOnLock=!1,this.mseAddSourceBufferErrorOnLock=!1,this[t(852)]=!1,this[t(1218)]=!1,this[t(1647)]=!1,this[t(1537)]=!1,this[t(1430)]=!1,this[t(813)]=!1,this[t(1076)]=!1,this[t(940)]=!1,this.webcodecsH265NotSupportOnLock=!1,this.webcodecsUnsupportedConfigurationErrorOnLock=!1,this.webcodecsDecodeConfigureErrorOnLock=!1,this[t(568)]=!1,this[t(321)]=!1,this[t(1277)]=!1,this[t(1513)]=!1,this.webcodecsAudioDecodeErrorOnLock=!1,this[t(407)]=!1,this[t(1133)]=!1,this[t(882)]=!1,this[t(331)]=!1,this[t(1345)]=!1,this[t(1182)]=!1,this[t(762)]=!1,this[t(784)]=!1,this[t(1029)]=!1,this[t(911)]=!1,this[t(1474)]=!1,this.streamEndOnLock=!1,this[t(979)]=!1,this[t(1538)]=!1,this[t(1225)]=!1,this.aliyunRtcErrorOnLock=!1,this[t(293)]=!1,this[t(1060)]=!1,this[t(1580)]=!1,this.videoElementPlayingFailedForWebrtcOnLock=!1,this[t(1321)]=!1,this[t(1422)]=!1,this[t(1187)]=!1,this[t(1514)]=!1,this.playVodMseDecodeVideoErrorOnLock=!1,this.tsPacketSizeErrorOnLock=!1,this[t(528)]=!1,this[t(794)]=!1,this.hls264UseOldDemuxerOnLock=!1,this[t(621)]=!1,this.playVodMp4UseSrcVideoErrorOnLock=!1,this[t(1358)]=!1}[NL(577)](){return this._destroyed}[NL(415)](){const t=NL;return this.player?this[t(561)][t(415)]():{}}[NL(1308)](t){const e=NL;this[e(447)](e(629),e(1606)+t),this[e(742)][e(1220)]=!!t,this[e(561)]?this[e(561)][e(1093)]({debug:!!t},!0):this[e(1559)]("JbPro",e(1034))}[NL(1319)](){const t=NL;let e=!1;return this[t(561)]&&(e=this.player[t(742)].debug),e}[NL(823)](){const t=NL;this[t(447)]("JbPro",t(1577)),this[t(561)]&&this[t(561)][t(823)](!0)}cancelMute(){const t=NL;this[t(447)](t(629),t(690),this[t(796)]()),this.player&&this[t(561)][t(613)]()&&this[t(561)].mute(!1)}setVolume(t){const e=NL;this[e(447)](e(629),"setVolume() "+t),this[e(561)]&&(this[e(561)].volume=t)}[NL(729)](){const t=NL;let e=null;return this[t(561)]&&(e=this[t(561)][t(1259)],e=parseFloat(e)[t(502)](2)),e}[NL(1311)](){const t=NL;this[t(447)](t(629),"audioResume() and call cancelMute()"),this[t(582)]()}[NL(302)](t){const e=NL;this.debugLog("JbPro",e(1670)+t),t=Number(t),isNaN(t)?this[e(1559)]("JbPro",e(726)+t+e(1361)):(this._opt[e(346)]=t,this[e(742)][e(841)]=t,this[e(742)][e(1144)]=t,this[e(561)]&&this[e(561)][e(1093)]({timeout:t,loadingTimeout:t,heartTimeout:t}))}[NL(1455)](t){const e=NL;this[e(447)](e(629),"setScaleMode() "+t),this[e(561)]?this[e(561)].setScaleMode(t):this[e(1559)](e(629),e(1071))}[NL(1610)](){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((e,s)=>{const i=VL;this[i(447)](i(629),i(1535)+t),this[i(577)]()&&s(i(958)),(this._opt[i(1543)]||this[i(742)][i(562)])&&(this[i(1401)]=this._getVideoLastIframeInfo()),this._tempPlayerIsMute=this[i(796)](),this._pause(t)[i(1261)]((t=>{e(t)}))[i(306)]((t=>{s(t)}))}))}[NL(860)](){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(((e,s)=>{const i=VL;if(this.debugLog(i(629),"_pause() "+t),this[i(577)]())return s("JbPro is destroyed");this[i(291)](),this.player?this._hasLoaded()?(this[i(447)](this[i(705)],i(501)),this[i(561)][i(1610)](t)[i(1261)]((t=>{e(t)})).catch((t=>{s(t)}))):(this[i(447)](this[i(705)],i(991)),this[i(561)].on(O[i(850)],(()=>{const r=i;this[r(447)](this.TAG_NAME,r(392)),this.player[r(1610)](t)[r(1261)]((t=>{const s=r;this[s(447)](this[s(705)],s(709)),e(t)}))[r(306)]((t=>{const e=r;this.debugError(this[e(705)],e(418),t),s(t)}))}))):s("player is null")}))}[NL(1365)](){return new Promise(((t,e)=>{const s=VL;if(this[s(577)]())return e(s(958));this.debugLog(s(629),s(1479)),this[s(645)]()[s(1261)]((()=>{t()})).catch((t=>{e(t)}))}))}[NL(1178)](){const t=NL;this[t(447)](t(629),t(665)),this.player&&this[t(561)][t(622)]?this[t(1645)]()===f[t(696)]?this[t(561)][t(622)].clearView():this[t(1559)]("JbPro","clearView",t(720)):this[t(1559)]("JbPro","clearView",t(1263))}[NL(978)](){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments[t(1684)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=t;if(this[n(577)]())return r(n(958));if(Fi()){const t=decodeURIComponent(Xt);return this[n(1085)](this[n(705)],t),void r(t)}try{this[n(447)](n(629),n(836)+e,JSON[n(585)](s))}catch(t){this[n(447)](n(629),n(836)+e,s)}if(!e&&!this[n(742)][n(1217)])return this.emit(O[n(365)],V[n(921)]),void r("url is null and this._opt.url is null");if(e&&(e=(""+e)[n(628)](),-1===e.indexOf("http:")&&-1===e[n(366)](n(866))&&-1===e.indexOf(n(899))&&-1===e[n(366)](n(1310))&&-1===e.indexOf(n(1148))&&-1===e[n(366)](n(1239))&&-1===e[n(366)](n(1330))))return r(n(1067)+e+n(756));if(Si(this[n(742)].isLive))return this[n(1442)].controls=n(635),this.$videoElement[n(289)]=!1,this[n(1442)].src=e,this[n(1442)].play(),void i(this[n(1442)]);if(this[n(742)].isM7sCrypto){let t=s.cryptoKey||this[n(742)][n(1135)][n(1205)],o=s.cryptoIV||this[n(742)][n(1135)][n(1069)];if(this._opt[n(1589)]&&(!t||!o)){const e=this[n(742)][n(1589)][n(944)](".");t=pi(e[0]),o=pi(e[1])}if(!t||!o){const t=e||this[n(742)][n(1217)];return void this[n(1112)](t)[n(1261)]((t=>{const o=n;let{cryptoIV:a,cryptoKey:h}=t;this._opt[o(1135)][o(1205)]=h,this[o(742)][o(1135)][o(1069)]=a,s.cryptoIV=a,s[o(1205)]=h,this[o(298)](e,s).then((()=>{i()}))[o(306)]((t=>{r(t)}))})).catch((t=>{r(t)}))}this[n(742)][n(1135)][n(1205)]=t,this[n(742)][n(1135)][n(1069)]=o,s[n(1069)]=o,s[n(1205)]=t}else if(this[n(742)].isXorCrypto){let t=s[n(1205)]||this[n(742)].playOptions.cryptoKey,e=s[n(1069)]||this[n(742)][n(1135)][n(1069)];if(this[n(742)][n(1409)]&&(!t||!e)){const s=this[n(742)][n(1409)][n(944)](".");t=pi(s[0]),e=pi(s[1])}t&&e&&(this[n(742)][n(1135)][n(1205)]=t,this[n(742)][n(1135)][n(1069)]=e,s[n(1069)]=e,s.cryptoKey=t)}else if(this[n(742)][n(740)]){let t=s.cryptoKey||this[n(742)][n(1135)][n(1205)],e=s[n(1069)]||this._opt[n(1135)].cryptoIV;if(this[n(742)].sm4CryptoKey&&(!t||!e)){const s=this[n(742)][n(315)].split(".");2===s[n(1684)]&&(t=Hl(s[0]),e=Hl(s[1]))}t&&e&&(this._opt[n(1135)].cryptoKey=t,this[n(742)].playOptions[n(1069)]=e,s[n(1069)]=e,s.cryptoKey=t)}this._playBefore(e,s)[n(1261)]((()=>{i()}))[n(306)]((t=>{r(t)}))}))}[NL(298)](t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const r=VL;if(this.player)if(t)if(this[r(742)][r(1217)]){const n=bi(e[r(1040)]);if(t===this[r(742)][r(1217)]&&Si(n))if(this[r(561)][r(862)])this[r(447)](r(629),r(298),"playing and resolve()"),s();else{this[r(447)]("JbPro",r(298),r(1480)+r(383));let t=this[r(552)](e);if(this[r(742)][r(1543)]||this[r(742)][r(562)])this[r(1401)]&&this._tempPlayBgObj[r(466)]&&(t=Object[r(1167)](t,this._tempPlayBgObj));else if(e[r(1338)]){const e=this[r(930)]||this[r(1527)]();t=Object.assign(t,e)}Si(this[r(1484)])&&(t[r(1568)]=!0,this[r(1484)]=!0),Ps(e[r(1354)])&&(t[r(1354)]=e[r(1354)]);const n=this._opt[r(1217)],o=Object.assign({},this[r(742)][r(1135)],e);this._resetPlayer(t)[r(1261)]((()=>{const t=r;this[t(1644)](n,o)[t(1261)]((()=>{s()}))[t(306)]((e=>{const s=t;this[s(1085)](s(629),s(1094),e),this.emit(O[s(818)],this.getCrashLog(s(872),e)),this[s(1530)](O.playFailedAndPaused,V[s(1211)],{},e),i(e)}))}))[r(306)]((t=>{const e=r;this[e(1085)](e(629),"_resetPlayer error",t),i(t)}))}else{this.debugLog(r(629),r(298),r(607)+this._opt[r(1217)]+"\n                            and new url is "+t+r(1482)+n+"\n                            and destroy and play new url");let o=this[r(552)](e);if(e.useLastFrameShow){const t=this[r(930)]||this[r(1527)]();o=Object.assign(o,t),this[r(930)]=null}Ps(e[r(1354)])&&(o[r(1354)]=e[r(1354)]),this[r(904)](o).then((()=>{const n=r;this[n(1644)](t,e)[n(1261)]((()=>{s()}))[n(306)]((t=>{const e=n;this[e(1085)](e(629),e(1404),t),this[e(1530)](O[e(818)],this[e(1582)]("this.player.play 2",t)),this.emit(O[e(1663)],V.playFailedError,{},t),i(t)}))}))[r(306)]((t=>{const e=r;this.debugError(e(629),"_resetPlayer error",t)}))}}else this[r(1644)](t,e).then((()=>{s()}))[r(306)]((t=>{const e=r;this[e(1085)](e(629),e(1404),t),this.emit(O[e(818)],this[e(1582)](e(856),t)),this[e(1530)](O[e(1663)],V[e(1211)],{},t),i(t)}));else{let t=this[r(552)](e);if(this[r(742)][r(1543)]||this[r(742)][r(562)])this[r(1401)]&&this._tempPlayBgObj[r(466)]&&(t=Object.assign(t,this._tempPlayBgObj));else if(e[r(1338)]){const e=this[r(930)]||this[r(1527)]();t=Object[r(1167)](t,e),this[r(930)]=null}Si(this[r(1484)])&&(t[r(1568)]=!0,this[r(1484)]=!0),Ps(e[r(1354)])&&(t.loadingIcon=e[r(1354)]);const n=this[r(742)][r(1217)];this[r(904)](t)[r(1261)]((()=>{const t=r;this[t(1644)](n,this[t(742)][t(1135)]).then((()=>{s()}))[t(306)]((e=>{const s=t;this[s(1085)](s(629),s(1404),e),this[s(1530)](O.crashLog,this.getCrashLog(s(1573),e)),this.emit(O.playFailedAndPaused,V[s(1211)],{},e),i(e)}))}))[r(306)]((t=>{const e=r;this[e(1085)](e(629),e(986),t)}))}else t?this[r(1644)](t,e).then((()=>{s()}))[r(306)]((t=>{const e=r;this[e(1085)](e(629),e(1404),t),this[e(1530)](O.crashLog,this[e(1582)](e(1563),t)),this[e(1530)](O[e(1663)],V.playFailedError,{},t),i(t)})):this._play(this[r(742)][r(1217)],this[r(742)][r(1135)])[r(1261)]((()=>{s()}))[r(306)]((t=>{const e=r;this[e(1085)](e(629),"_playBefore _play error",t),this[e(1530)](O.crashLog,this[e(1582)](e(1290),t)),this[e(1530)](O[e(1663)],V.playFailedError,{},t),i(t)}))}))}[NL(1112)](t){return new Promise(((e,s)=>{const i=VL,r=function(t){const e=ze,s=(t||document[e(508)][e(808)]())[e(802)]("//"),i=s[1][e(775)]("/");let r=s[1][e(718)](i);return-1!=r[e(775)]("?")&&(r=r.split("?")[0]),r}(t);let n=this._opt[i(1032)],o="";const a=fi(t);if(n){if(o=n,this[i(742)].isM7sCrypto&&-1===o[i(366)](w+i(1501))){const t=fi(n);o=t[i(840)]+w+(i(1501)+r)}}else n=a.origin+w,o=n+(i(1501)+r);var h;this[i(561)].debugLog(i(629),i(837)+o+i(1221)+this[i(742)].cryptoKeyUrl),(h=o,new Promise(((t,e)=>{const s=Np;Hc[s(370)](h).then((e=>{t(e)}))[s(376)]((t=>{e(t)}))})))[i(1261)]((t=>{const r=i;if(t){const i=t.split("."),r=pi(i[0]),n=pi(i[1]);n&&r?e({cryptoIV:n,cryptoKey:r}):s("get cryptoIV or cryptoKey error")}else s(r(1464)+o+r(1493))})).catch((t=>{s(t)}))}))}playback(t){const e=NL;let s=arguments[e(1684)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e;if(this[n(577)]())return r(n(958));try{this[n(447)]("JbPro",n(650)+t+n(1362),JSON[n(585)](s))}catch(e){this.debugLog(n(629),"playback() "+t+", options: ",s)}if(this[n(742)].playType===l.playbackTF&&!this[n(742)][n(1217)]&&Hs(s))this[n(978)](t,s)[n(1261)]((()=>{i()}))[n(306)]((t=>{r(t)}));else{const e=this[n(932)](s);let o=e.playbackForwardMaxRateDecodeIFrame||this[n(742)][n(616)],a=e.calcPlaybackForwardMaxRateDecodeIFrame||this._opt[n(411)];const h={videoBuffer:0,playbackConfig:e,playType:l[n(746)],openWebglAlignment:!0,useMSE:e[n(478)],useWCS:e[n(990)],useSIMD:e[n(1007)],playbackForwardMaxRateDecodeIFrame:o,calcPlaybackForwardMaxRateDecodeIFrame:a};Ls(e[n(309)])&&(h[n(309)]=e[n(309)]),this[n(904)](h).then((()=>{const e=n;this[e(978)](t,s)[e(1261)]((()=>{i()}))[e(306)]((t=>{r(t)}))}))[n(306)]((t=>{r(t)}))}}))}[NL(932)](){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=Ai(),i=Object.assign({},s[t(1035)],this[t(742)][t(1035)],e);return Si(i[t(1481)])&&i[t(999)]&&(i[t(999)]=!1,this[t(1559)](t(629),"playbackConfig.isUseFpsRender is false, isCacheBeforeDecodeForFpsRender can not be ture, isCacheBeforeDecodeForFpsRender is set to false")),0===i.rateConfig[t(1684)]&&i.showRateBtn&&(i[t(381)]=!1,this[t(1559)](t(629),t(1206))),bi(i[t(1481)])&&!i[t(526)]&&Si(i.autoCalcFps)&&(i[t(1019)]=!0,this[t(1559)](this[t(705)],t(503))),i.controlType,y.simple,i}playbackPause(){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]&&arguments[0];return this[t(447)](t(629),t(1276)+e),this[t(577)]()?Promise[t(520)](t(958)):this[t(561)]?Si(this[t(561)][t(1126)]())?Promise.reject(t(770)+this[t(561)][t(358)]()+", not support this method"):new Promise(((s,i)=>{const r=t;bi(e)?this._pause()[r(1261)]((()=>{s()})).catch((t=>{i(t)})):(this.player[r(486)]=!0,this[r(561)][r(1678)]=!1,this[r(561)][r(817)]=!1,this[r(1390)]=setTimeout((()=>{this[r(1390)]=null,s()}),100))})):Promise.reject(t(1263))}playbackResume(){const t=NL;return this.debugLog(t(629),t(1047)),this.isDestroyed()?Promise[t(520)](t(958)):this[t(561)]?Si(this.player[t(1126)]())?Promise.reject(t(770)+this[t(561)][t(358)]()+t(463)):new Promise(((e,s)=>{const i=t;this[i(561)].playbackPause=!1,this[i(437)]=setTimeout((()=>{this[i(437)]=null,e()}),100)})):Promise.reject(t(1263))}[NL(318)](t){const e=NL;return this.debugLog("JbPro",e(968)+t),this.isDestroyed()?Promise[e(520)](e(958)):this[e(561)]?Si(this.player[e(1126)]())?Promise.reject(e(770)+this[e(561)][e(358)]()+", not support this method"):ws(Number(t))?new Promise(((s,i)=>{const r=e;this.player[r(871)](t)[r(1261)]((()=>{s()}))[r(306)]((t=>{i(t)}))})):Promise[e(520)]('forward() params "rate": '+t+e(586)):Promise[e(520)]("player is null")}[NL(871)](t){return new Promise(((e,s)=>{const i=VL;this.forward(t)[i(1261)]((()=>{e()}))[i(306)]((t=>{s(t)}))}))}normal(){return new Promise(((t,e)=>{const s=VL;this.forward(1)[s(1261)]((()=>{t()}))[s(306)]((t=>{e(t)}))}))}[NL(747)](){return new Promise(((t,e)=>{const s=VL;this[s(398)]()[s(1261)]((()=>{t()})).catch((t=>{e(t)}))}))}[NL(513)](t){const e=NL;this[e(577)]()?this[e(447)](this[e(705)],e(958)):this[e(561)]?(this[e(447)](e(629),"updatePlaybackForwardMaxRateDecodeIFrame() "+t),t=Number(t),t=Xe(t=parseInt(t,10),1,8),this[e(742)][e(616)]=t,this[e(561)][e(1093)]({playbackForwardMaxRateDecodeIFrame:t},!0)):this.debugLog(this.TAG_NAME,"updatePlaybackForwardMaxRateDecodeIFrame() player is null")}[NL(1633)](t){const e=NL;if(this.isDestroyed())return void this[e(447)](this[e(705)],e(958));if(!this[e(561)])return void this.debugLog(e(629),e(338));if(Si(this[e(561)][e(1126)]()))return void this[e(1559)](e(629),"setPlaybackStartTime() playType is not playback");this.debugLog(e(629),e(386)+t);const s=zs(t);s<10&&0!==t&&this[e(561)][e(363)][e(1380)]()?this[e(1559)](e(629),e(1171)+t+e(773)):this[e(561)][e(363)][e(514)]()&&t>this.player[e(363)][e(535)]?this[e(1559)]("JbPro",e(1357)+t+" is more than "+this[e(561)][e(363)][e(535)]):(this[e(561)][e(363)][e(1380)]()&&10===s&&(t*=1e3),this[e(561)][e(363)][e(1566)](t),this[e(561)][e(862)]?this.playbackClearCacheBuffer():this[e(447)](this[e(705)],"setPlaybackStartTime() player is not playing"))}[NL(1303)](t){const e=NL;this[e(447)]("JbPro","setPlaybackShowPrecision() "+t),this.isDestroyed()?this[e(447)](this[e(705)],"JbPro is destroyed"):this[e(561)]?this.player[e(1126)]()?this[e(561)][e(363)][e(1380)]()?this[e(561)].playback[e(867)](t):this.debugWarn(e(629),e(569)):this[e(1559)](e(629),e(1293)):this[e(1559)](e(629),e(1263))}playbackCurrentTimeScroll(){const t=NL;this.debugLog(t(629),"playbackCurrentTimeScroll()"),this[t(577)]()?this[t(447)](this.TAG_NAME,"JbPro is destroyed"):this[t(561)]?this.player[t(1126)]()?this.player[t(363)][t(1380)]()?this[t(561)][t(363)][t(485)]():this.debugWarn("JbPro","control type is not normal , not support!"):this[t(1559)](t(629),t(1293)):this.debugWarn(t(629),t(1263))}[NL(1523)](){const t=NL;this[t(447)](t(629),t(1515)),this[t(577)]()?this[t(447)](this[t(705)],t(958)):this[t(561)]?this.player[t(1126)]()?(this[t(885)](),this[t(561)].video&&this[t(561)][t(622)][t(1304)](),this.player[t(1574)]&&this.player[t(1574)][t(1304)](),this[t(561)].resetStartBpsTime()):this[t(1559)](t(629),t(1293)):this[t(1559)](t(629),"player is null")}getPlaybackCurrentRate(){const t=NL;return this[t(561)]?this[t(561)][t(1126)]()?this[t(561)][t(1175)]():(this.debugWarn(t(629),"playType is not playback"),1):(this[t(1559)](t(629),t(1263)),1)}[NL(1364)](t){const e=NL;this[e(447)](e(629),e(861)+t),this.isDestroyed()?this.debugLog(this[e(705)],"JbPro is destroyed"):this[e(561)]?this.player[e(1126)]()?this[e(561)][e(363)][e(844)](t):this[e(1559)](e(629),"playType is not playback"):this[e(1559)](e(629),e(1263))}[NL(874)](){const t=NL;let e=!1;return this._opt.playType===l[t(746)]&&this[t(561)]&&(e=this[t(561)][t(486)]),e}isPlaybackPaused(){return this[NL(874)]()}[NL(1320)](){const t=NL;this[t(577)]()?this[t(1220)]&&this[t(447)](t(629),t(1418)):this[t(1422)]?this[t(447)]("JbPro",t(1532)):(this[t(1422)]=!0,this._pause()[t(1261)]((()=>{const e=t;this[e(1530)](O[e(1569)]),this.debugLog(e(629),e(890))})).catch((e=>{const s=t;this[s(1530)](O.playbackEnd),this[s(1085)]("JbPro",s(981),e)}))[t(864)]((()=>{this[t(1422)]=!1})))}[NL(296)](){const t=NL;if(this[t(577)]())return void this[t(447)](t(629),t(1052));const e=this[t(742)][t(1217)],s=this[t(742)][t(1135)];this.debugLog("JbPro",t(1248)),this[t(904)]()[t(1261)]((()=>{const i=t;this.play(e,s)[i(1261)]((()=>{const t=i;this[t(742)][t(972)][t(389)]=null,this[t(1220)][t(1456)](this[t(705)],"playbackEndedAndReplay and reset player and play success"),this[t(950)]()}))[i(306)]((t=>{const e=i;this.emit(O[e(1663)],O[e(536)],{},t[e(925)]()),this[e(1220)][e(365)](this.TAG_NAME,e(1528),t)}))}))[t(306)]((e=>{const s=t;this[s(1530)](O[s(1663)],O[s(536)],{},""),this[s(1085)](this[s(705)],s(973),e)}))}[NL(1305)](t){const e=NL;if(this.isDestroyed())return;if(this[e(447)](e(629),"setStreamQuality() "+t),!this.player)return void this[e(1559)]("JbPro","player is null");if(!this[e(561)][e(742)][e(499)].quality)return void this[e(1559)](e(629),e(1005));(this[e(561)][e(742)][e(718)]||[]).includes(t)?(this._opt.defaultStreamQuality=t,this[e(561)].streamQuality=t):this[e(1559)](e(629),e(1648)+t+e(1459))}_play(){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=t;if(!this[n(561)])return r(n(1263));let h=!1;this[n(742)][n(1217)]&&this[n(742)].url!==e&&(h=!0),this._opt[n(1217)]=e,this._opt[n(1135)]=s;const l=e[n(944)]("?")[0],c=l[n(679)](n(606))||l[n(679)](n(909)),u=l[n(679)](n(1598)),p=l[n(679)](n(1385)),f=l.startsWith(n(1376)),m=l[n(679)]("ws://")||l[n(679)](n(1296)),g=c||m,y=c&&l[n(1623)](n(750)),A=g&&l[n(1623)](".flv"),v=g&&(l.endsWith(n(1157))||l[n(1623)](".mp4")),b=g&&l.endsWith(".mpeg4"),S=g&&(l.endsWith(n(738))||l[n(1623)](n(849))),E=g&&l.endsWith(n(898)),w=g&&l[n(1623)](n(619));let T=this._opt.isWebrtcForZLM||!1,I=this._opt[n(1318)]||!1,k=this[n(742)][n(1445)]||!1;u&&(-1!==e[n(366)](n(1216))?(T=!0,I=!1,k=!1):-1!==e[n(366)]("/rtc/v1/play/")&&(I=!0,T=!1,k=!1));let _=null,C=null;if(A&&Si(this[n(742)][n(1194)])&&this[n(943)](n(1194)),v&&Si(this[n(742)][n(312)])&&this[n(943)](n(312)),b&&Si(this[n(742)][n(1668)])&&this[n(943)](n(1668)),S&&Si(this[n(742)][n(685)])&&this._resetDemuxType(n(685)),E&&Si(this[n(742)].isTs)&&this[n(943)](n(1331)),w&&Si(this._opt[n(311)])&&this[n(943)](n(311)),y&&Si(this[n(742)][n(1158)])&&this[n(943)](n(1158)),this[n(561)][n(1118)]()&&Si(this[n(742)][n(1158)]||this._opt[n(312)]))return this[n(742)][n(1234)]&&this[n(1268)](n(422)),void r("play url "+e+n(915));if(c?_=this[n(742)].isHls?o[n(1351)]:o[n(351)]:f?_=o[n(1414)]:u?_=o[n(1015)]:p?_=o.aliyunRtc:m&&(_=o[n(1289)]),this[n(742)][n(685)]?C=d.nakedFlow:this[n(742)][n(312)]?C=d[n(1399)]:this._opt.isMpeg4?C=d[n(1132)]:this[n(742)][n(1194)]?C=d[n(804)]:this[n(742)].isTs?C=d.ts:this[n(742)][n(311)]?C=d.ps:this[n(742)][n(1158)]?C=d[n(1351)]:u?C=d[n(1015)]:p?C=d.aliyunRtc:f?C=d[n(1414)]:m&&(C=d[n(1438)]),this[n(742)][n(336)]&&(C=n(1285)),!_||!C)return this[n(742)][n(1234)]&&this.showErrorMessageTips(n(422)),r(n(1542)+e+n(983)+a[_]+", demuxType is "+C);this[n(447)](n(629),"play url "+e+n(596)+a[_]+n(764)+C);const D=()=>{const t=n;this[t(561)].on(V[t(1586)],this.bound[t(617)]),this.player.on(V[t(399)],this[t(1381)]._handleWebglContextLostError),this[t(561)].on(V.mediaSourceH265NotSupport,this[t(1381)][t(1301)]),this[t(561)].on(V[t(723)],this.bound[t(1170)]),this[t(561)].on(V[t(1072)],this.bound[t(1578)]),this[t(561)].on(V[t(1601)],this[t(1381)][t(1433)]),this[t(561)].on(V.mseSourceBufferError,this.bound[t(1453)]),this[t(561)].on(V[t(498)],this.bound._handleMediaSourceBufferedIsZeroError),this.player.on(V.mseAddSourceBufferError,this.bound[t(692)]),this[t(561)].on(V[t(1629)],this[t(1381)][t(903)]),this[t(561)].on(V.mediaSourceTsIsMaxDiff,this[t(1381)][t(608)]),this[t(561)].on(V.mseWidthOrHeightChange,this[t(1381)][t(912)]),this.player.on(V[t(1283)],this[t(1381)][t(1002)]),this.player.on(V[t(1255)],this[t(1381)][t(671)]),this[t(561)][t(1270)](V[t(1463)],this[t(1381)][t(1359)]),this[t(561)].on(V[t(1028)],this.bound._handleMseWorkerAddSourceBufferError),this[t(561)].on(V.playVodMseDecodeVideoError,this.bound[t(953)]),this[t(561)].on(V[t(1309)],this[t(1381)][t(1627)]),this.player.on(V[t(1257)],this.bound[t(516)]),this[t(561)].on(V[t(1006)],this[t(1381)][t(1299)]),this[t(561)].on(V[t(653)],this[t(1381)][t(1593)]),this[t(561)].on(V[t(1423)],this[t(1381)][t(1592)]),this[t(561)].on(V[t(588)],this[t(1381)][t(1554)]),this.player.on(V.webcodecsAudioNoDataTimeout,this[t(1381)][t(1631)]),this.player.on(V.webcodecsAudioInitTimeout,this[t(1381)][t(735)]),this[t(561)].on(V[t(507)],this.bound._handleWebcodecsAudioDecodeError),this.player.on(V[t(1451)],this.bound[t(1526)]),this.player.on(V[t(989)],this[t(1381)][t(1043)]),this[t(561)].on(V[t(687)],this.bound[t(1091)]),this[t(561)].on(V[t(851)],this[t(1381)][t(1628)]),this.player.on(V[t(1147)],this.bound[t(1232)]),this[t(561)].on(V[t(1274)],this[t(1381)][t(1115)]),this[t(561)].on(V.videoElementPlayingFailed,this.bound[t(1626)]),this[t(561)].on(V[t(1199)],this[t(1381)][t(704)]),this[t(561)].on(O[t(1640)],this[t(1381)][t(1440)]),this[t(561)].on(O[t(1140)],this[t(1381)][t(933)]),this.player.on(V.fetchError,this.bound[t(660)]),this[t(561)].on(O[t(782)],this[t(1381)][t(319)]),this.player.on(V[t(393)],this[t(1381)]._handleWebsocketError),this[t(561)].on(V[t(473)],this[t(1381)][t(1210)]),this[t(561)].on(V[t(1341)],this[t(1381)]._handleHlsError),this[t(561)].on(O[t(731)],this[t(1381)][t(667)]),this[t(561)].on(V[t(929)],this[t(1381)][t(1458)]),this.player.on(V[t(300)],this[t(1381)][t(1074)]),this[t(561)].on(V[t(1410)],this.bound[t(816)]),this[t(561)].on(V[t(1386)],this[t(1381)][t(1095)]),this.player.on(V.videoElementPlayingFailedForWebrtc,this.bound[t(1036)]),this.player.on(V.videoInfoError,this.bound[t(1437)]),this.player.on(O[t(1492)],this[t(1381)][t(1686)]),this[t(561)].on(O[t(368)],this[t(1381)][t(1552)]),this[t(561)].on(V.tsPacketSizeError,this.bound[t(1649)]),this[t(561)].on(O[t(955)],this[t(1381)][t(1632)]),this.player.on(O[t(841)],this[t(1381)][t(1253)]),this.player[t(1126)]()&&(this[t(561)].on(O[t(1597)],this[t(1381)]._handlePlaybackEnd),this[t(561)].on(O.playbackEndedAndReplay,this[t(1381)][t(296)])),this[t(561)][t(1118)]()&&(this.player.on(V.playVodMp4Error,this[t(1381)]._handlePlayVodMp4Error),this[t(561)].on(V[t(1555)],this[t(1381)][t(625)]),this[t(561)].on(O.playVodEnded,this[t(1381)][t(825)]),this[t(561)].on(O[t(951)],this[t(1381)][t(580)]),this[t(561)].on(V.playVodMp4UseSrcVideoError,this.bound._handlePlayVodMp4UseSrcVideoError),this[t(561)].on(V.playVodCalcFpsError,this.bound[t(1208)])),this._hasLoaded()?(this[t(447)](this.TAG_NAME,"_playNext and _hasLoaded() is true"),this[t(561)][t(978)](e,s)[t(1261)]((()=>{i()})).catch((e=>{const s=t;this[s(1085)]("JbPro",s(1531),e),this[s(561)]&&this[s(561)][s(1610)]()[s(1261)]((()=>{r(e)}))[s(306)]((t=>{const e=s;r(t),this[e(1085)]("JbPro",e(888),t)}))}))):(this[t(447)](this[t(705)],t(768)),this[t(1471)](),this[t(561)].once(O[t(1581)],(()=>{const n=t;this[n(575)](),this[n(577)]()?this.debugLog(n(629),"decoderWorkerInit but player is destroyed"):(this.debugLog(this.TAG_NAME,n(938)),this[n(561)][n(978)](e,s)[n(1261)]((()=>{i()}))[n(306)]((t=>{const e=n;this[e(1085)](e(629),e(993),t),this[e(1530)](O[e(818)],this[e(1582)]("decoderWorkerInit and play error",t)),this.player&&this[e(561)][e(1610)]()[e(1261)]((()=>{r(t)}))[e(306)]((t=>{const s=e;r(t),this[s(1085)]("JbPro",s(811),t)}))})))})))},R=this[n(561)][n(415)](),L=this[n(742)][n(1158)]&&Si(this._opt[n(1470)]),P=u&&Si(this[n(742)][n(1222)]),x=this._opt[n(1158)]&&!!ii(),M=this[n(742)][n(1158)]&&R[n(420)],B=this[n(742)][n(312)]&&this._opt[n(1251)];if(L||P||p||h||b||x||M||B)this[n(447)](n(629),n(1017)+L+" and isOldWebrtc is "+P+n(1653)+p+n(405)+h+n(1325)+b+n(1391)+x+n(638)+M+n(337)+B),this[n(904)]({protocol:_,demuxType:C,isHls:this[n(742)][n(1158)],isFmp4:this._opt[n(312)],isWebrtc:u,isWebrtcForZLM:T,isWebrtcForSRS:I,isWebrtcForOthers:k,isAliyunRtc:p,cryptoKey:s[n(1205)]||"",cryptoIV:s[n(1069)]||"",url:e,playOptions:s})[n(1261)]((()=>{D()}))[n(306)]((t=>{const e=n;this[e(1085)](this[e(705)],e(714),t),r(e(714))}));else{const t={protocol:_,demuxType:C,isHls:this[n(742)][n(1158)],isWebrtc:u,isAliyunRtc:p,isFlv:this[n(742)][n(1194)],isFmp4:this[n(742)][n(312)],isMpeg4:this._opt[n(1668)],isNakedFlow:this[n(742)][n(685)],isTs:this._opt.isTs,isPs:this[n(742)].isPs,cryptoKey:s[n(1205)]||"",cryptoIV:s.cryptoIV||""};this[n(742)][n(685)]&&(t[n(913)]=!1,t[n(1264)]=!1),this[n(561)].updateOption(t),D()}}))}[NL(943)](t){const e=NL;this[e(742)].isFlv=!1,this._opt.isFmp4=!1,this[e(742)][e(1668)]=!1,this[e(742)][e(685)]=!1,this[e(742)][e(1158)]=!1,this[e(742)].isWebrtc=!1,this[e(742)].isWebrtcForZLM=!1,this._opt[e(1318)]=!1,this[e(742)].isWebrtcForOthers=!1,this[e(742)][e(1556)]=!1,this[e(742)].isTs=!1,t&&(this[e(742)][t]=!0)}[NL(356)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(456)),this[t(561)]&&this[t(561)][t(356)]())}[NL(717)](t){const e=NL;if(this.isDestroyed())return;this.debugLog(e(629),e(297)+t),(t=Number(t))>10&&this.debugWarn(e(629),e(1082)+t+e(1468)+t+e(763));const s=1e3*t;this[e(742)][e(1024)]=s,this[e(561)]?this[e(561)].updateOption({videoBuffer:s},!0):this[e(1559)](e(629),e(1446))}setBufferDelayTime(t){const e=NL;if(this[e(577)]())return;this.debugLog(e(629),e(1378)+t),(t=Number(t))<.2&&this[e(1559)](e(629),e(1490)+t+e(1550));const s=1e3*(t=Xe(t,.2,100));this[e(742)][e(647)]=s,this[e(561)]?this[e(561)][e(1093)]({videoBufferDelay:s},!0):this[e(1559)](e(629),"setBufferDelayTime() player is null")}setRotate(t){const e=NL;if(this[e(577)]())return;this.debugLog("JbPro","setRotate() "+t),t=parseInt(t,10);this._opt[e(838)]!==t&&-1!==[0,90,180,270][e(366)](t)?(this._opt.rotate=t,this[e(561)]?this[e(561)][e(290)](t):this[e(1559)](e(629),e(1424))):this.debugWarn("JbPro",e(545)+t+e(388)+this[e(742)][e(838)])}[NL(1155)](t){const e=NL;if(this[e(577)]())return;this[e(447)](e(629),e(1583)+t);const s=[e(576),e(1485),"vertical"];!t&&(t=e(576)),this._opt[e(474)]!==t&&-1!==s[e(366)](t)?(this[e(742)].mirrorRotate=t,this[e(561)]?(this[e(561)][e(1093)]({mirrorRotate:t}),this[e(356)]()):this[e(1559)]("JbPro",e(994))):this[e(1559)](e(629),e(530)+t+e(578)+this[e(742)][e(474)])}[NL(744)](t){const e=NL;if(this.isDestroyed())return;this.debugLog(e(629),"setAspectRatio() "+t);const s=["default",e(471),e(1204)];!t&&(t=e(455)),this[e(742)].aspectRatio!==t&&-1!==s.indexOf(t)?(this._opt.aspectRatio=t,this[e(561)]?(this[e(561)][e(1093)]({aspectRatio:t}),this[e(356)]()):this[e(1559)](e(629),e(330))):this.debugWarn("JbPro",e(1260)+t+e(658)+this[e(742)][e(474)])}[NL(1203)](){return!0}[NL(1505)](){const t=NL;return this[t(561)]&&this.player[t(878)]||!1}[NL(1327)](){const t=NL;this.isDestroyed()||(this.debugLog(t(629),t(793)),this[t(742)][t(757)]=!0,this[t(561)]?this[t(561)].updateOption({keepScreenOn:!0}):this.debugWarn("JbPro",t(1475)))}[NL(1587)](t){const e=NL;if(this[e(577)]())return;this[e(447)](e(629),e(483)+t);const s=!!t;this[e(561)]?this[e(561)].fullscreen!==s?this[e(561)][e(426)]=s:this[e(1559)](e(629),e(857)+s+e(674)+this[e(561)].fullscreen):this[e(1559)](e(629),e(444))}setWebFullscreen(t){const e=NL;if(this[e(577)]())return;this[e(447)](e(629),e(1407)+t);const s=!!t;this[e(561)]?this[e(561)][e(1687)]=s:this.debugWarn(e(629),"setWebFullscreen() player is not ready")}[NL(1675)](t,e,s,i){const r=NL;if(!this[r(577)]())return this[r(447)]("JbPro",r(633)+t+" "+e+" "+s+" "+i),this.player&&this[r(561)][r(622)]?this[r(561)][r(622)].screenshot(t,e,s,i):(this[r(1559)](r(629),r(591)),null)}[NL(1336)](t){return new Promise(((e,s)=>{const i=VL;if(this.isDestroyed())return s(i(654));this[i(447)]("JbPro",i(1014),t),this[i(561)]&&this[i(561)][i(622)]?this[i(561)][i(622)][i(1336)](t)[i(1261)]((t=>{e(t)}))[i(306)]((t=>{s(t)})):(this[i(1559)](i(629),i(996)),s(i(947)))}))}screenshotCopyrightWatermark(t){return new Promise(((e,s)=>{const i=VL;if(this[i(577)]())return s(i(654));this[i(447)](i(629),i(976),t),this[i(561)]&&this[i(561)].video?this[i(561)][i(622)][i(295)](t)[i(1261)]((t=>{e(t)})).catch((t=>{s(t)})):(this[i(1559)]("JbPro",i(537)),s(i(947)))}))}[NL(1443)](t){return new Promise(((e,s)=>{const i=VL;if(this[i(577)]())return s(i(654));if(this[i(447)]("JbPro",i(919),t),this.player&&this[i(561)][i(622)]){e(this[i(561)][i(622)].screenshotByRect(t))}else this[i(1559)]("JbPro",i(652)),s(i(947))}))}[NL(492)](t,e){return new Promise(((s,i)=>{const r=VL;return this[r(577)]()?i(r(654)):(this[r(447)]("JbPro",r(1560)+t+" "+e),this.player?void(this[r(561)][r(862)]?(this[r(561)][r(492)](t,e),s()):(this[r(1559)]("JbPro",r(1657)),i(r(1549)))):(this[r(1559)](r(629),r(827)),i(r(947))))}))}[NL(1392)](t,e){return new Promise(((s,i)=>{const r=VL;if(this[r(577)]())return i(r(654));this[r(447)](r(629),r(565)+t+" "+e),this[r(561)]&&this[r(561)][r(1678)]?this[r(561)][r(1392)](t,e)[r(1261)]((t=>{s(t)})).catch((t=>{i(t)})):i("not recording")}))}cancelRecord(){return new Promise(((t,e)=>{const s=VL;return this.isDestroyed()?e(s(654)):(this[s(447)](s(629),s(605)),this[s(561)]?void this.player[s(1680)]().then((()=>{t()})).catch((t=>{e(t)})):(this[s(1559)](s(629),s(1602)),e(s(947))))}))}[NL(1614)](){const t=NL;let e=!1;return this[t(561)]&&(e=this[t(561)][t(1614)]()),e}isLoading(){const t=NL;return!!this.player&&this.player[t(458)]}[NL(886)](){const t=NL;let e=!1;return this[t(742)][t(1599)]===l[t(561)]?e=!this.isPlaying()&&!this[t(821)]():this[t(742)].playType===l.playbackTF&&this.player?e=this[t(561)][t(486)]:this._opt.playType===l[t(1371)]&&this.player&&(e=this.player.playVodPause),e}[NL(1676)](){return this[NL(886)]()}[NL(796)](){const t=NL;let e=!0;return this[t(561)]&&(e=this.player[t(613)]()),e}[NL(1394)](){const t=NL;let e=!1;return this[t(561)]&&(e=this[t(561)].recording),e}[NL(863)](){const t=NL;let e=!1;return this.player&&(e=this[t(561)][t(426)]),e}[NL(546)](){const t=NL;let e=!1;return this[t(561)]&&(e=this[t(561)][t(1687)]),e}[NL(885)](){const t=NL;this[t(447)]("JbPro",t(624)),this.isDestroyed()?this.debugLog(this.TAG_NAME,t(654)):this[t(561)]?this[t(561)].clearBufferDelay():this[t(447)](t(629),t(730))}setNetworkDelayTime(t){const e=NL;if(this[e(577)]())return;this.debugLog(e(629),e(790)+t),(t=Number(t))<1&&this.debugWarn("JbPro",e(893)+t+e(1550));const s=1e3*(t=Xe(t,1,100));this[e(742)][e(1519)]=s,this[e(561)]?this[e(561)][e(1093)]({networkDelay:s},!0):this.debugWarn(e(629),e(360))}getDecodeType(){const t=NL;let e="";return this[t(561)]&&(e=this.player[t(1466)]()),e}[NL(1645)](){let t="";return this[NL(561)]&&(t=this.player.getRenderType()),t}[NL(945)](){const t=NL;let e="";return this[t(561)]&&(e=this[t(561)][t(945)]()),e}[NL(889)](){const t=NL;let e=0;return this[t(561)]&&(e=this.player[t(889)]()),e}[NL(379)](){const t=NL;let e=yt[t(645)];return this[t(561)]&&(e=this[t(561)][t(458)]?yt[t(458)]:this[t(561)][t(862)]?yt.playing:yt[t(1500)]),e}[NL(358)](){const t=NL;return this[t(561)]?this[t(561)][t(742)][t(1599)]:l.player}[NL(935)](t){const e=NL;if(this[e(577)]())return;this.debugLog(e(629),e(348)+t);const s=this[e(561)][e(742)].showPerformance;let i=!s;Ls(t)&&(i=t),i!==s?this[e(561)]?this[e(561)][e(935)](i):this[e(1559)](e(629),"togglePerformancePanel() failed, this.player is not init"):this[e(1559)](e(629),e(1038)+s+e(555)+i)}openZoom(){const t=NL;if(!this.isDestroyed())if(this.debugLog(t(629),"openZoom()"),this.player){if(this[t(561)][t(1332)]())return void this[t(1559)](t(629),"openZoom() failed, this.player is destroyed or paused");this[t(561)][t(817)]=!0}else this.debugWarn(t(629),t(1030))}[NL(1122)](){const t=NL;if(!this[t(577)]())if(this[t(447)](t(629),t(1188)),this[t(561)]){if(this[t(561)].isDestroyedOrClosed())return void this[t(1559)](t(629),t(563));this[t(561)].zooming=!1}else this[t(1559)](t(629),t(1125))}[NL(1637)](){const t=NL;let e=!1;return this[t(561)]&&(e=this[t(561)].zooming),e}[NL(964)](t){const e=NL;this[e(577)]()||(this[e(447)](e(629),e(1335)+t),!Ls(t)&&(t=!this[e(1637)]()),bi(t)?this[e(1136)]():Si(!1)&&this[e(1122)]())}[NL(1063)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(1231)),this.player&&this[t(561)][t(1246)]&&this[t(561)][t(817)]?this[t(561)][t(1246)].expandPrecision():this[t(1559)]("JbPro",t(1548)))}narrowZoom(){const t=NL;this.isDestroyed()||(this.debugLog(t(629),t(342)),this[t(561)]&&this.player[t(1246)]&&this[t(561)].zooming?this[t(561)][t(1246)][t(1281)]():this[t(1559)](t(629),t(390)))}[NL(489)](t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(1051),t),this[e(561)]&&this.player[e(1246)]&&this[e(561)][e(817)]?this[e(561)][e(1246)][e(489)](t):this[e(1559)]("JbPro",e(390)))}[NL(820)](){const t=NL;if(this[t(577)]())return;let e=1;return this[t(561)]&&this[t(561)][t(1246)]&&(e=this[t(561)][t(1246)][t(603)]),e}setNakedFlowFps(t){return new Promise(((e,s)=>{const i=VL;if(this.isDestroyed())return s("player is destroyed");if(this[i(447)](i(629),i(663),t),Rs(t))return s(i(873));let r=Number(t);r=Xe(r,1,100),this[i(742)][i(992)]=r,this.player?this.player[i(1093)]({nakedFlowFps:r}):this.debugWarn(i(629),i(523)),e()}))}[NL(1582)](t){const e=NL;let s=arguments[e(1684)]>1&&void 0!==arguments[1]?arguments[1]:"";if(!this[e(561)])return;const i=this[e(561)][e(1567)](),r=this[e(561)];let n=r[e(1387)]()?e(967):r[e(1126)]()?e(481):"playVod",o={url:this[e(742)][e(1217)],playType:n,demuxType:r[e(1212)](),decoderType:r.getDecodeType(),renderType:r[e(1645)](),videoInfo:{encType:"",width:"",height:""},audioInfo:{encType:"",sampleRate:"",channels:""},audioEngine:r[e(945)](),allTimes:i.pTs,timestamp:Je(),type:t,error:di(s)||t};if(r[e(622)]){const t=r[e(622)][e(579)]||{};o.videoInfo={encType:t[e(1272)]||"",width:t[e(353)]||"",height:t.height||""}}if(r[e(1574)]){const t=r.audio[e(1228)]||{};o.audioInfo={encType:t.encType||"",sampleRate:t.sampleRate||"",channels:t[e(1348)]||""}}return o}[NL(1342)](t){const e=NL;this[e(577)]()||(this.debugLog(e(629),e(1650),t),t===m[e(1220)]||t===m[e(1607)]?t!==this[e(561)][e(742)][e(1284)]?(this[e(742)].debugLevel=t,this[e(561)]?this[e(561)][e(1093)]({debugLevel:t},!0):this[e(1559)](e(629),e(357))):this[e(1559)](e(629),e(477)+t):this[e(1559)](e(629),e(1551)+t))}updateWatermark(t){const e=NL;this[e(577)]()||(this[e(447)](e(629),e(792),t),this[e(561)]?(this[e(561)][e(583)](t),this._opt[e(1104)]=t):this[e(1559)](e(629),e(543)))}[NL(1258)](){const t=NL;this[t(577)]()||(this.debugLog(t(629),"removeWatermark()"),this.player?(this[t(561)][t(1258)](),this[t(742)].watermarkConfig={}):this.debugWarn(t(629),t(1269)))}[NL(557)](t){const e=NL;if(!this[e(577)]())if(this.debugLog(e(629),e(1669),t),Ks(t)){this._opt[e(1685)]=t;const s=Ms(this.$container,t);if(!s[e(1596)])return void this[e(1559)](e(629),e(540));this[e(1120)][e(850)](s)}else this[e(1559)](e(629),e(847)+t)}removeFullscreenWatermark(){const t=NL;this.isDestroyed()||(this[t(447)](t(629),t(1350)),this[t(1120)]?this[t(1120)][t(450)]():this[t(1559)](t(629),"removeFullscreenWatermark() watermark is not init"))}faceDetectOpen(){const t=NL;this[t(577)]()||(this[t(447)](t(629),"faceDetectOpen()"),this.player?this[t(561)][t(412)](!0):this[t(1559)](t(629),t(892)))}faceDetectClose(){const t=NL;this[t(577)]()||(this.debugLog(t(629),t(896)),this.player?this[t(561)][t(412)](!1):this[t(1559)](t(629),t(327)))}[NL(1161)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(1690)),this[t(561)]?this[t(561)].objectDetect(!0):this[t(1559)](t(629),t(774)))}[NL(1487)](){const t=NL;this[t(577)]()||(this[t(447)]("JbPro","objectDetectClose()"),this.player?this[t(561)][t(419)](!1):this[t(1559)]("JbPro","objectDetectClose() player is not init"))}[NL(1200)](t){const e=NL;this.isDestroyed()||(this[e(447)](e(629),e(304),t),this.player?this[e(561)][e(1200)](t):this.debugWarn(e(629),e(805)))}[NL(424)](t){const e=NL;this.isDestroyed()||(this[e(447)](e(629),e(310)),this[e(561)]?(this[e(561)][e(424)](t),this[e(917)]=t):this[e(1559)](e(629),e(1245)))}[NL(869)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),"clearContentToCanvas()"),this[t(561)]?(this[t(561)][t(424)]([]),this._tempContentToCanvasData=[]):this[t(1559)]("JbPro",t(623)))}[NL(1656)](t){const e=NL;this[e(577)]()||(this.debugLog(e(629),"addContentToContainer()"),this[e(561)]?this[e(561)][e(1656)](t):this.debugWarn("JbPro","addContentToContainer() player is not init"))}clearContentToContainer(){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(858)),this[t(561)]?this[t(561)].addContentToContainer([]):this[t(1559)](t(629),"clearContentToContainer() player is not init"))}[NL(343)](t){const e=NL;this.isDestroyed()||(this[e(447)](e(629),e(1062),t),this[e(561)]?this[e(561)].setControlHtml(t):this[e(1559)](e(629),"setControlHtml() player is not init"))}[NL(776)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(1273)),this.player?this[t(561)][t(776)]():this[t(1559)]("JbPro","clearControlHtml() player is not init"))}[NL(1369)](t){const e=NL;this[e(577)]()||(this[e(447)](e(629),e(1183)+t),this[e(561)]?this[e(561)][e(1369)](t):this[e(1559)](e(629),e(936)))}[NL(1297)](){const t=NL;return!!this[t(561)]&&this[t(561)].getControlHtmlIsShow()}[NL(1107)](){const t=NL;return this[t(561)]?this[t(561)][t(1107)]():null}[NL(1240)](t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(1177),t),this[e(561)]?this[e(561)][e(1240)](t):this[e(1559)](e(629),e(710)))}[NL(329)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(1408)),this[t(561)]?this[t(561)][t(329)]():this[t(1559)]("JbPro","clearExtendHtml() player is not init"))}[NL(1089)](t){const e=NL;this[e(577)]()||(this.debugLog("JbPro",e(509)+t),this[e(561)]?this[e(561)].toggleExtendHtml(t):this[e(1559)](e(629),e(1416)))}[NL(908)](){const t=NL;return!!this[t(561)]&&this[t(561)].getExtendHtmlIsShow()}[NL(1564)](){const t=NL;return this[t(561)]?this.player[t(1564)]():null}[NL(448)](){const t=NL;let e=null;return this[t(561)]&&(e=this[t(561)][t(448)]()),e}[NL(949)](){const t=NL;let e=null;return this[t(561)]&&(e=this[t(561)][t(949)]()),e}[NL(751)](t){const e=NL;if(this[e(577)]())return;this[e(447)]("JbPro","setSm4CryptoKey()",t);const s=(t=""+t)[e(944)](".");if(32!==t[e(1684)]&&2!==s[e(1684)])return void this[e(1559)](e(629),e(1156)+t[e(1684)]+e(1150));if(2===s[e(1684)]&&(32!==s[0][e(1684)]||32!==s[1][e(1684)]))return void this[e(1559)](e(629),e(975)+s[0][e(1684)]+e(409)+s[1][e(1684)]+e(1150));this[e(742)][e(315)]=t;let i=2===s.length;if(i&&(this[e(742)][e(1135)][e(1205)]=Hl(s[0]),this._opt.playOptions[e(1069)]=Hl(s[1])),this[e(561)]){const s={sm4CryptoKey:t};i&&(s[e(1205)]=this[e(742)][e(1135)][e(1205)],s[e(1069)]=this[e(742)][e(1135)][e(1069)]),this[e(561)].updateOption(s,!0)}else this[e(1559)](e(629),e(800))}setM7sCryptoKey(t){const e=NL;this[e(577)]()||(this.debugLog(e(629),"setM7sCryptoKey()",t),t=""+t,this._opt.m7sCryptoKey=t,this[e(561)]?this[e(561)][e(1093)]({m7sCryptoKey:t},!0):this.debugWarn(e(629),"setM7sCryptoKey() player is null"))}[NL(453)](t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(1547),t),t=""+t,this[e(742)][e(1409)]=t,this[e(561)]?this[e(561)][e(1093)]({xorCryptoKey:t},!0):this[e(1559)]("JbPro",e(1267)))}[NL(1406)](t){const e=NL;this.isDestroyed()||(this.debugLog(e(629),e(1584),t),this[e(561)]?this[e(561)][e(1406)](t):this[e(1559)](e(629),e(672)))}updateIsEmitSEI(t){const e=NL;this[e(577)]()||(this[e(447)](e(629),"updateIsEmitSEI()",t),this[e(742)].isEmitSEI=t,this[e(561)]?this[e(561)].updateOption({isEmitSEI:t},!0):this[e(1559)](e(629),e(1230)))}[NL(1402)](t,e){const s=NL;return this[s(447)](s(629),"getPTZCmd()",t),t?this[s(561)]?SL({type:t,index:0,speed:e}):(this[s(1559)](s(629),"getPTZCmd() player is null"),null):(this[s(1559)](s(629),s(347)),null)}downloadTempNakedFlowFile(){return new Promise(((t,e)=>{const s=VL;this[s(561)]?(this.player[s(1340)](),t()):e(s(1034))}))}[NL(1447)](){return new Promise(((t,e)=>{const s=VL;if(this.isDestroyed())return e(s(654));this[s(561)]?(this[s(561)][s(303)](),t()):e(s(1034))}))}[NL(1635)](){return new Promise(((t,e)=>{const s=VL;if(this[s(577)]())return e(s(654));this[s(561)]?(this[s(561)][s(697)](),t()):e(s(1034))}))}[NL(1652)](){return new Promise(((t,e)=>{const s=VL;if(this[s(577)]())return e(s(654));this[s(561)]?(this[s(561)][s(644)](),t()):e(s(1034))}))}downloadTempG711File(){return new Promise(((t,e)=>{const s=VL;if(this[s(577)]())return e(s(654));this.player?(this[s(561)][s(1495)](),t()):e("player is not init")}))}[NL(895)](){const t=NL;this.isDestroyed()||this[t(1617)]&&this[t(1617)].download()}[NL(1527)](){const t=NL;if(Si(this[t(742)].isPlayFailedAndPausedSaveLastIframeInfo))return{};const e=this[t(448)]()||{},s={loadingBackground:this[t(1675)]("",t(715),.5,t(1525)),loadingBackgroundWidth:e.width||0,loadingBackgroundHeight:e[t(1504)]||0};return s[t(466)]&&s[t(1467)]&&s[t(1061)]&&(this._tempVideoLastIframeInfo=s),this[t(795)]||{}}getExtendBtnList(){const t=NL;this[t(447)](t(629),t(1594));let e=[];return this[t(561)]?e=this.player[t(1611)]():this[t(1559)](t(629),"getExtendBtnList() player is null"),e}[NL(1138)](){const t=NL;this[t(447)](t(629),t(891));let e=null;return this[t(561)]?e=this[t(561)][t(1081)]():this.debugWarn("JbPro",t(662)),e}updateAiFaceDetectInterval(t){const e=NL;if(this.isDestroyed())return;this[e(447)](e(629),e(695),t);const s=1e3*(t=Number(t));this[e(742)][e(960)]=s,this[e(561)]?this.player[e(1093)]({aiFaceDetectInterval:s}):this[e(1559)](e(629),e(797))}[NL(766)](t){const e=NL;if(this[e(577)]())return;if(this[e(447)](e(629),e(404),t),!kt[t])return void this[e(1559)]("JbPro",e(630)+t+e(1026));const s=kt[t];this[e(742)][e(1168)]=s,this[e(561)]?(this[e(561)][e(1093)]({aiFaceDetectWidth:s}),this[e(561)].ai&&this[e(561)].ai.updateFaceDetectorConfig({detectWidth:s})):this[e(1559)]("JbPro","updateAiFaceDetectLevel() player is null")}[NL(1016)](t){const e=NL;if(this.isDestroyed())return;this[e(447)](e(629),e(461),t);const s=1e3*(t=Number(t));this[e(742)][e(703)]=s,this[e(561)]?this.player[e(1093)]({aiObjectDetectInterval:s}):this[e(1559)](e(629),e(1639))}[NL(1344)](t){const e=NL;if(this.isDestroyed())return;if(this.debugLog(e(629),e(636),t),!_t[t])return void this[e(1559)](e(629),e(698)+t+e(1026));const s=_t[t];this[e(742)][e(721)]=s,this[e(561)]?(this[e(561)][e(1093)]({aiObjectDetectWidth:s}),this[e(561)].ai&&this[e(561)].ai[e(883)]({detectWidth:s})):this[e(1559)](e(629),e(445))}[NL(931)](t){const e=NL;this[e(577)]()||(this[e(447)](e(629),e(1575),t),t&&(this[e(742)][e(1032)]=t))}[NL(1268)](t){const e=NL;this.isDestroyed()||(this[e(447)](e(629),e(789),t),t&&(this.player?this.player[e(711)](t):this[e(1559)](e(629),e(1053))))}setPtzPosition(t){const e=NL;this[e(447)](e(629),e(395),t),t&&!Hs(t)&&(this[e(561)]?this.player.setPtzPosition(t):this[e(1559)]("JbPro",e(799)))}[NL(736)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),t(1609)),this[t(561)]?this[t(561)][t(1099)]():this[t(1559)](t(629),"hideErrorMessageTips() player is null"))}[NL(1659)](){return this[NL(1271)]()}[NL(500)](t,e,s,i){return this[NL(547)].proxy(t,e,s,i)}[NL(534)](){const t=NL;return this[t(742)][t(1217)]}toggleControlExtendBtn(t,e){const s=NL;this[s(577)]()||(this[s(447)](this.TAG_NAME,s(1590)+t+" "+e),this.player?this.player[s(1600)](t,e):this[s(1559)](this[s(705)],s(1159)))}getControlExtendBtnActive(t){const e=NL;if(this[e(577)]())return;this[e(447)](this[e(705)],e(1476)+t);let s=!1;return this[e(561)]?s=this[e(561)][e(1356)](t):this[e(1559)](this.TAG_NAME,e(325)),s}[NL(939)](t){const e=NL;this[e(577)]()||(this[e(447)](this[e(705)],e(1111)+t),this[e(561)]?this[e(561)][e(939)](t):this[e(1559)](this[e(705)],e(618)))}[NL(707)](){const t=NL;if(this[t(577)]())return!1;this.debugLog(this[t(705)],t(1541));let e=!1;return this.player?e=this.player.getControlBarShow():this[t(1559)](this.TAG_NAME,"getControlBarShow() player is null"),e}static[NL(1004)](t){return Fs(t)}static extractScreenshotCopyrightWatermark(t){return function(t){for(var e=t,s=0,i=0,r=0;r<32;r++)i|=(1&e[s])<<r,s+=4;return i}(t)}[NL(614)](t){const e=NL;let s=!0,i=[];if(t===jt[e(1465)]?i=this[e(686)]:t===jt[e(1070)]?i=this[e(440)]:t===jt[e(581)]&&(i=this[e(927)]),this[e(447)](this[e(705)],e(1286)+t+e(910)+i.join(",")),i[e(1684)]>=this._opt[e(668)]){const r=i[0],n=i[i[e(1684)]-1],o=n-r;o<=1e4&&(this.debugWarn(this[e(705)],e(571)+t+", and retry length is "+i[e(1684)]+e(1503)+r+e(421)+n+" and diff is "+o),s=!1)}return s}_initLoadingBackgroundForIOS(t){const e=NL;(us()||ps())&&t[e(466)]&&t[e(1467)]&&t.loadingBackgroundHeight&&(this[e(369)](),this.player[e(742)][e(755)]===e(455)||as()?this[e(561)][e(1645)]()===f[e(696)]?this[e(496)](t):this[e(561)][e(1645)]()===f[e(622)]&&this[e(716)](t):this[e(572)](t))}_doInitLoadingBackgroundForVideo(t){const e=NL;this[e(447)](this.TAG_NAME,e(716));const s=this._getContainerRect();let i=s[e(353)],r=s.height;const n=this[e(561)][e(742)];r-=this[e(561)][e(1324)]();let o=i,a=r;const h=n[e(838)];(270===h||90===h)&&(o=r,a=i),this[e(1441)].width=o,this.$loadingBgImage.height=a,this[e(1441)].src=t.loadingBackground;let l=(i-o)/2,c=(r-a)/2,d=e(834);!n[e(550)]&&(d="fill"),n[e(467)]&&(d=e(576));let u="";n[e(474)]===e(576)&&h&&(u+=e(396)+h+"deg)"),"level"===n[e(474)]?u+=e(1579):n.mirrorRotate===e(574)&&(u+=e(1166)),this[e(742)].videoRenderSupportScale&&(this[e(1441)][e(599)][e(1672)]=d),this[e(1441)][e(599)].transform=u,this[e(1441)][e(599)][e(497)]="0",this[e(1441)].style[e(1065)]=l+"px",this[e(1441)].style[e(1674)]=c+"px",this[e(1441)].complete?gn(this[e(1677)],e(387)):this[e(1441)].onload=()=>{const t=e;gn(this.$loadingBg,t(387)),this.$loadingBgImage[t(1486)]=null}}[NL(496)](t){const e=NL;this[e(447)](this[e(705)],"_doInitLoadingBackgroundForCanvas");const s=this[e(1271)]();let i=s[e(353)],r=s[e(1504)];const n=this[e(561)]._opt;r-=this[e(561)].getControlHeight();let o=i,a=r;const h=n.rotate;let l=(i-o)/2,c=(r-a)/2;(270===h||90===h)&&(o=r,a=i),this[e(1441)].width=o,this[e(1441)][e(1504)]=a,this[e(1441)][e(1540)]=t[e(466)];const d=i/o,u=r/a;let p=d>u?u:d;Si(n.isResize)&&d!==u&&(p=d+","+u),n[e(467)]&&(p=d>u?d:u);let f=e(515)+p+")";n.mirrorRotate===e(576)&&h&&(f+=e(396)+h+e(527)),n[e(474)]===e(1485)?f+=" rotateY(180deg)":n[e(474)]===e(574)&&(f+=e(1166)),this[e(1441)].style[e(497)]="0",this.$loadingBgImage[e(599)][e(761)]=f,this[e(1441)][e(599)][e(1065)]=l+"px",this[e(1441)][e(599)].top=c+"px",this.$loadingBgImage[e(814)]?gn(this[e(1677)],"show"):this[e(1441)][e(1486)]=()=>{const t=e;gn(this[t(1677)],t(387)),this[t(1441)].onload=null}}[NL(572)](t){const e=NL;this[e(447)](this[e(705)],e(572));const s=this.player[e(742)].aspectRatio[e(944)](":")[e(693)](Number),i=this._getContainerRect();let r=i[e(353)],n=i[e(1504)],o=this[e(561)][e(1324)]();n-=o;const a={width:t[e(1467)],height:t[e(1061)]},h=a[e(353)]/a[e(1504)],l=s[0]/s[1];if(this[e(1441)][e(1540)]=t[e(466)],h>l){const t=l*a.height/a[e(353)];this[e(1441)][e(599)][e(353)]=100*t+"%",this[e(1441)][e(599)].height=e(548)+o+e(1389),this[e(1441)][e(599)].padding="0 "+(r-r*t)/2+"px"}else{const t=a[e(353)]/l/a[e(1504)];this.$loadingBgImage.style[e(353)]=e(1517),this.$loadingBgImage[e(599)].height="calc("+100*t+e(1516)+o+"px)",this.$loadingBgImage[e(599)][e(497)]=(n-n*t)/2+e(1368)}this[e(1441)][e(814)]?gn(this[e(1677)],"show"):this[e(1441)][e(1486)]=()=>{const t=e;gn(this[t(1677)],t(387)),this.$loadingBgImage.onload=null}}[NL(369)](){const t=NL;if(!this[t(1677)]){const e=document.createElement(t(777)),s=document[t(952)](t(340));e[t(1059)]=t(833),this[t(1677)]=e,this[t(1441)]=s,e.appendChild(s),this[t(1488)][t(1509)](e)}}[NL(402)](){const t=NL;if(this.$loadingBg){this[t(447)](this.TAG_NAME,t(684));if(!Tn(this[t(1677)])){const e=this.$container[t(680)](t(522));e&&this[t(1488)]&&this[t(1488)].removeChild(e)}this.$loadingBg=null,this.$loadingBgImage=null}}[NL(1271)](){const t=NL;let e={};return this[t(1488)]&&(e=this[t(1488)][t(567)](),e.width=Math.max(e[t(353)],this[t(1488)].clientWidth),e[t(1504)]=Math[t(428)](e[t(1504)],this[t(1488)][t(432)])),e}[NL(1533)](){const t=NL;return this[t(742)].networkDisconnectReplay&&this[t(1196)][t(1411)]()}_handleWebglAlignmentError(t){const e=NL;if(this[e(577)]())this[e(447)](e(629),e(1172));else if(this.webglAlignmentErrorOnLock)this[e(447)](e(629),e(984));else if(this[e(1530)](O[e(818)],this.getCrashLog(V[e(1586)],t)),this[e(1266)]=!0,this[e(561)]&&this[e(561)][e(742)][e(441)]){this[e(447)](e(629),"webglAlignmentError");const s=this[e(742)][e(1217)],i=this[e(742)].playOptions;this[e(904)]({openWebglAlignment:!0}).then((()=>{const r=e;this.play(s,i)[r(1261)]((()=>{const t=r;this.debugLog(t(629),t(1039)),this[t(950)]()}))[r(306)]((e=>{const s=r;this[s(1530)](O[s(1663)],V.webglAlignmentError,{},t),this[s(1085)](s(629),"webglAlignmentError and play error",e)}))[r(864)]((()=>{this[r(1266)]=!1}))}))[e(306)]((t=>{const s=e;this[s(1266)]=!1,this[s(1085)]("JbPro",s(480),t)}))}else{const s=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1586)],{},t),this.debugLog(s(629),s(1191))}))[e(306)]((s=>{const i=e;this.emit(O[i(1663)],V[i(1586)],{},t),this[i(1085)](i(629),"webglAlignmentError and pause error",s)})).finally((()=>{this[e(1266)]=!1}))}}[NL(1056)](t){const e=NL;if(this[e(577)]())return void this[e(447)]("JbPro","webglContextLostError but player is destroyed");if(this[e(924)])return void this.debugLog(e(629),e(1174));this[e(1530)](O[e(818)],this[e(1582)](V[e(399)],t));const s=this._getVideoLastIframeInfo();if(this.webglContextLostErrorOnLock=!0,this[e(561)]&&this.player._opt[e(373)]){this[e(447)]("JbPro",e(399));const i=this[e(742)][e(1217)],r=this._opt[e(1135)];let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r).then((()=>{const t=n;this.debugLog("JbPro",t(364)),this[t(950)]()}))[n(306)]((e=>{const i=n;this.emit(O.playFailedAndPaused,V[i(399)],s,t),this[i(1085)]("JbPro",i(1117),e[i(925)]())}))[n(864)]((()=>{this.webglContextLostErrorOnLock=!1}))}))[e(306)]((i=>{const r=e;this[r(924)]=!1,this[r(1530)](O[r(1663)],V[r(399)],s,t),this.debugError(r(629),r(987),i)}))}else{const i=!1===this._opt[e(1510)];this.player[e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V.webglContextLostError,s,t),this[i(447)](i(629),i(765))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(399)],s,t),this[r(1085)](r(629),r(876),i)}))[e(864)]((()=>{this[e(924)]=!1}))}}[NL(1301)](t){const e=NL;if(this[e(577)]())this[e(447)](e(629),"mediaSourceH265NotSupport but player is destroyed");else if(this[e(829)])this[e(447)](e(629),e(1322));else if(this[e(1530)](O[e(818)],this[e(1582)](V.mediaSourceH265NotSupport,t)),this[e(829)]=!0,this[e(561)]&&this[e(561)][e(742)][e(551)]){this[e(447)](e(629),e(1049));const s=this[e(742)][e(1217)],i=this[e(742)].playOptions,r={useMSE:!1,useWCS:!1};this.player[e(1013)]()&&(r[e(1470)]=!0),this[e(904)](r)[e(1261)]((()=>{const r=e;this.play(s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),t(382)),this[t(950)]()})).catch((e=>{const s=r;this[s(1530)](O[s(1663)],V[s(880)],{},t),this[s(1085)](s(629),s(694),e)}))[r(864)]((()=>{this.mediaSourceH265NotSupportOnLock=!1}))})).catch((s=>{const i=e;this[i(829)]=!1,this[i(1530)](O[i(1663)],V[i(880)],{},t),this[i(1085)](i(629),i(1522),s)}))}else{const s=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this._pause(s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(880)],{},t),this[s(447)](s(629),s(868))})).catch((s=>{const i=e;this.emit(O[i(1663)],V.mediaSourceH265NotSupport,{},t),this[i(1085)](i(629),i(1524),s)})).finally((()=>{this[e(829)]=!1}))}}[NL(1170)](t){const e=NL;if(this.isDestroyed())this[e(1220)]&&this[e(447)]("JbPro",e(484));else if(this[e(1514)])this[e(447)](e(629),e(1352));else if(this[e(1530)](O[e(818)],this[e(1582)](V[e(723)],t)),this[e(1514)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1129)]){this.debugLog("JbPro",e(1098));const s=this[e(742)][e(1217)],i=this[e(742)][e(1135)];this._resetPlayer({useMSE:!1,useWCS:!1})[e(1261)]((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),t(1497)),this._replaySuccessAndNext()})).catch((e=>{const s=r;this[s(1530)](O[s(1663)],V[s(723)],t),this[s(1085)]("JbPro","mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] reset player and play error",e)}))[r(864)]((()=>{this.mseWaitVideoCanplayTimeoutOnLock=!1}))}))[e(306)]((s=>{const i=e;this[i(1514)]=!1,this[i(1530)](O[i(1663)],V[i(723)],{},t),this[i(1085)](i(629),"mseWaitVideoCanplayTimeout auto wasm [mse-> wasm] _resetPlayer error",s)}))}else{const s=!1===this._opt[e(1510)];this.player[e(512)](),this._pause(s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(723)],{},t),this.debugLog(s(629),s(1681))}))[e(306)]((s=>{const i=e;this.emit(O[i(1663)],V[i(880)],{},t),this.debugError(i(629),i(1524),s)}))[e(864)]((()=>{this[e(1514)]=!1}))}}[NL(1578)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(1154)));if(this[e(1058)])return void this.debugLog(e(629),e(1557));this.emit(O.crashLog,this[e(1582)](V[e(1072)],t));const s=this[e(1527)]();if(this[e(1058)]=!0,this.player&&this[e(561)][e(742)][e(1244)]){const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n={},o=this[e(561)][e(742)].decoderErrorAutoWasm,a=!0;o?n={useMSE:!1,useWCS:!1}:this._checkIsMeaningfulRetry(jt[e(1070)])?this[e(440)][e(1544)](Je()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this[e(447)](e(629),e(1198)+(Si(a)?e(1097):"")+e(430)+e(o?328:403)+"] reset player and play"),n=this[e(752)](s,n),this[e(904)](n).then((()=>{const n=e;this.play(i,r).then((()=>{const t=VL;this[t(447)]("JbPro","mediaSourceFull and reset player and play success"),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V.mediaSourceFull,s,t),this[i(1085)](i(629),"mediaSourceFull and reset player and play error",e)})).finally((()=>{this[n(1058)]=!1}))}))[e(306)]((i=>{const r=e;this.mediaSourceFullOnLock=!1,this.emit(O[r(1663)],V.mediaSourceFull,s,t),this[r(1085)](r(629),"mediaSourceFull and _resetPlayer error",i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this.emit(O[i(1663)],V[i(1072)],s,t),this[i(447)]("JbPro",i(802))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1072)],s,t),this[r(1085)](r(629),r(408),i)}))[e(864)]((()=>{this[e(1058)]=!1}))}}[NL(1433)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),e(1249)));if(this.mediaSourceAppendBufferErrorOnLock)return void this[e(447)](e(629),e(1164));this.emit(O[e(818)],this[e(1582)](V[e(1601)],t));const s=this[e(1527)]();if(this.mediaSourceAppendBufferErrorOnLock=!0,this[e(561)]&&this[e(561)][e(742)][e(1244)]){const i=this._opt[e(1217)],r=this[e(742)][e(1135)];let n={},o=this.player._opt[e(417)],a=!0;o?n={useMSE:!1,useWCS:!1}:this._checkIsMeaningfulRetry(jt[e(1070)])?this._mseDecodeErrorRetryLog[e(1544)](Je()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),(this[e(561)][e(341)]||this[e(561)][e(1022)])&&(this[e(561)].debugLog("JbPro",e(1108)+this.player[e(341)]+e(1499)+this[e(561)].isMSENotSupportAudioFormat+" so set mseDecodeAudio = false"),n[e(913)]=!1,n[e(741)]=!0),this.debugLog(e(629),"mediaSourceAppendBufferError and "+(Si(a)?e(1097):"")+" [mse-> "+(o?e(328):"mse")+e(510)),n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)]("JbPro",t(1073)),this._replaySuccessAndNext()})).catch((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(1601)],s,t),this[i(1085)]("JbPro",i(1664),e)})).finally((()=>{this[n(732)]=!1}))}))[e(306)]((i=>{const r=e;this[r(732)]=!1,this[r(1530)](O.playFailedAndPaused,V.mediaSourceAppendBufferError,s,t),this.debugError(r(629),r(954),i)}))}else{const i=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this.emit(O[i(1663)],V.mediaSourceAppendBufferError,s,t),this[i(447)](i(629),"mediaSourceAppendBufferError and autoWasm is false ,pause success")})).catch((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1601)],s,t),this.debugError("JbPro",r(1603),i)})).finally((()=>{this[e(732)]=!1}))}}[NL(1453)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)]("JbPro",e(1046)));if(this[e(464)])return void this[e(447)](e(629),e(1048));this[e(1530)](O[e(818)],this[e(1582)](V.mseSourceBufferError,t));const s=this[e(1527)]();if(this[e(464)]=!0,this.player&&this[e(561)][e(742)].mseDecodeErrorReplay){const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={};if(this[e(561)][e(742)].mseDecoderUseWorker)n={mseDecoderUseWorker:!1},this[e(447)](e(629),e(701));else{let t=this[e(561)][e(742)][e(417)],s=!0;t?n={useMSE:!1,useWCS:!1}:this[e(614)](jt.mseDecodeError)?this[e(440)][e(1544)](Je()):(t=!0,s=!1,n={useMSE:!1,useWCS:!1}),this[e(561)].isMSEVideoDecoderInitializationFailedNotSupportHevc&&(this[e(447)]("JbPro",e(517)),n={useMSE:!1,useWCS:!1}),this[e(447)](e(629),e(1179)+(Si(s)?e(1097):"")+e(430)+e(t?328:403)+e(510))}n=this[e(752)](s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),"mseSourceBufferError reset player and play success"),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(786)],s,t),this[i(1085)](i(629),i(1209),e)}))[n(864)]((()=>{this.mseSourceBufferErrorOnLock=!1}))})).catch((i=>{const r=e;this[r(464)]=!1,this[r(1530)](O[r(1663)],V[r(786)],s,t),this.debugError(r(629),r(470),i)}))}else{const i=!1===this[e(742)][e(1510)];this.player[e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(786)],s,t),this[i(447)](i(629),"mseSourceBufferError and autoWasm is false ,pause success")})).catch((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V[r(786)],s,t),this[r(1085)]("JbPro","mseSourceBufferError and pause error:",i)}))[e(864)]((()=>{this[e(464)]=!1}))}}[NL(1546)](t){const e=NL;if(this.isDestroyed())return void(this.debug&&this.debugLog(e(629),"mediaSourceBufferedIsZeroError but player is destroyed"));if(this[e(1439)])return void this[e(447)](e(629),e(708));this[e(1530)](O.crashLog,this.getCrashLog(V[e(498)],t));const s=this[e(1527)]();if(this.mediaSourceBufferedIsZeroErrorOnLock=!0,this.player&&this[e(561)][e(742)][e(1244)]){const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={},o=this[e(561)]._opt[e(417)],a=!0;o?n={useMSE:!1,useWCS:!1}:this[e(614)](jt[e(1070)])?this._mseDecodeErrorRetryLog[e(1544)](Je()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this[e(447)](e(629),e(1003)+(Si(a)?e(1097):"")+e(430)+(o?e(328):"mse")+e(510)),n=this[e(752)](s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r).then((()=>{const t=VL;this.debugLog(t(629),"mediaSourceBufferedIsZeroError reset player and play success"),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(498)],s,t),this.debugError(i(629),i(1184),e)})).finally((()=>{this[n(1439)]=!1}))}))[e(306)]((i=>{const r=e;this[r(1439)]=!1,this.emit(O[r(1663)],V[r(498)],s,t),this[r(1085)]("JbPro",r(1571),i)}))}else{const i=!1===this[e(742)].playFailedUseLastFrameShow;this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O[i(1663)],V.mediaSourceBufferedIsZeroError,s,t),this.debugLog("JbPro",i(1691))}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V[r(498)],s,t),this[r(1085)]("JbPro","mediaSourceBufferedIsZeroError and pause error:",i)}))[e(864)]((()=>{this[e(1439)]=!1}))}}_handleMseAddSourceBufferError(t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)]("JbPro",e(1027)));if(this[e(1651)])return void this[e(447)]("JbPro",e(787));this.emit(O[e(818)],this[e(1582)](V[e(1101)],t));const s=this._getVideoLastIframeInfo();if(this.mseAddSourceBufferErrorOnLock=!0,this.player&&this[e(561)]._opt.hardDecodingNotSupportAutoWasm){this[e(447)](e(629),"mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play");const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={useMSE:!1,useWCS:!1};n=this[e(752)](s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r).then((()=>{const t=n;this[t(447)]("JbPro","mseAddSourceBufferError auto wasm [mse-> wasm] reset player and play success"),this[t(950)]()})).catch((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(1101)],s,t),this[i(1085)]("JbPro",i(1360),e)}))[n(864)]((()=>{this[n(1651)]=!1}))})).catch((i=>{const r=e;this.mseAddSourceBufferErrorOnLock=!1,this[r(1530)](O.playFailedAndPaused,V[r(1101)],s,t),this[r(1085)](r(629),r(1160),i)}))}else{const i=!1===this._opt[e(1510)];this.player[e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1101)],s,t),this[i(447)](i(629),i(1689))}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(1101)],s,t),this.debugError(r(629),r(881),i)}))[e(864)]((()=>{this[e(1651)]=!1}))}}[NL(903)](t){const e=NL;if(this[e(577)]())this.debug&&this[e(447)]("JbPro",e(564));else if(this[e(852)])this.debugLog(e(629),e(832));else if(this[e(1530)](O.crashLog,this[e(1582)](V[e(1629)],t)),this.mediaSourceDecoderConfigurationErrorOnLock=!0,this[e(561)]&&this[e(561)][e(742)].hardDecodingNotSupportAutoWasm){this[e(447)]("JbPro","mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play");const s=this[e(742)][e(1217)],i=this[e(742)].playOptions;let r={useMSE:!1,useWCS:!1};this[e(904)](r)[e(1261)]((()=>{const r=e;this[r(978)](s,i).then((()=>{const t=r;this[t(447)](t(629),t(1023)),this._replaySuccessAndNext()})).catch((e=>{const s=r;this[s(1530)](O[s(1663)],V.mediaSourceDecoderConfigurationError,{},t),this[s(1085)](s(629),"mediaSourceDecoderConfigurationError auto wasm [mse-> wasm] reset player and play error",e)}))[r(864)]((()=>{this[r(852)]=!1}))}))[e(306)]((s=>{const i=e;this[i(852)]=!1,this.emit(O.playFailedAndPaused,V.mediaSourceDecoderConfigurationError,{},t),this[i(1085)](i(629),i(1605),s)}))}else{const s=!1===this[e(742)][e(1510)];this.player.setPlayFailedAndPaused(),this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O.playFailedAndPaused,V[s(1629)],{},t),this[s(447)](s(629),s(354))}))[e(306)]((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1629)],{},t),this.debugError(i(629),i(767),s)}))[e(864)]((()=>{this[e(852)]=!1}))}}[NL(608)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),e(1130)));if(this[e(1218)])return void this[e(447)](e(629),e(901));this.emit(O[e(818)],this.getCrashLog(V.mediaSourceTsIsMaxDiff,t));const s=this[e(1527)]();if(this[e(1218)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1553)]){this.debugLog(e(629),e(1683));const i=this._opt.url,r=this[e(742)][e(1135)];let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r).then((()=>{const t=VL;this[t(447)]("JbPro",t(1642)),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(995)],s,t),this[i(1085)](i(629),i(423),e)}))[n(864)]((()=>{this[n(1218)]=!1}))}))[e(306)]((i=>{const r=e;this[r(1218)]=!1,this.emit(O.playFailedAndPaused,V.mediaSourceTsIsMaxDiff,s,t),this.debugError(r(629),r(877),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this.emit(O[i(1663)],V.mediaSourceTsIsMaxDiff,s,t),this[i(447)]("JbPro",i(962))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V.mediaSourceTsIsMaxDiff,s,t),this[r(1085)](r(629),r(1379),i)}))[e(864)]((()=>{this.mediaSourceTsIsMaxDiffOnLock=!1}))}}[NL(912)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this.debugLog(e(629),e(378)));if(this[e(1647)])return void this[e(447)]("JbPro",e(1666));this[e(1530)](O.crashLog,this[e(1582)](V[e(905)],t));const s=this[e(1527)]();if(this[e(1647)]=!0,this[e(561)]&&this.player[e(742)][e(722)]){this.debugLog("JbPro",e(1375));const i=this[e(742)][e(1217)],r=this._opt.playOptions;let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(561)][n(742)][n(1202)]>0?this[n(506)]=setTimeout((()=>{const e=n;this[e(506)]=null,this.isDestroyed()?this[e(1220)]&&this[e(447)](e(629),e(362)):this.play(i,r)[e(1261)]((()=>{const t=e;this.debugLog("JbPro",t(980)),this._replaySuccessAndNext()}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V.mseWidthOrHeightChange,s,t),this[r(1085)](r(629),r(646),i)})).finally((()=>{this[e(1647)]=!1}))}),1e3*this.player[n(742)].widthOrHeightChangeReplayDelayTime):this[n(978)](i,r).then((()=>{const t=n;this[t(447)](t(629),t(980))}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(905)],s,t),this.debugError(i(629),i(646),e)})).finally((()=>{this[n(1647)]=!1}))}))[e(306)]((i=>{const r=e;this.mseWidthOrHeightChangeOnLock=!1,this[r(1530)](O[r(1663)],V[r(905)],s,t),this[r(1085)](r(629),r(839),i)}))}else{const i=!1===this[e(742)].playFailedUseLastFrameShow;this.player.setPlayFailedAndPaused(),this._playFailedAndPausedLastFrameInfo=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this.emit(O[i(1663)],V.mseWidthOrHeightChange,s,t),this[i(1085)](i(629),"mseWidthOrHeightChange and widthOrHeightChangeReplay is false,pause success")}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(905)],s,t),this[r(1085)](r(629),r(1116),i)}))[e(864)]((()=>{this[e(1647)]=!1}))}}_handleMediaSourceAudioG711NotSupport(t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(760)));if(this.mediaSourceAudioG711NotSupportOnLock)return void this[e(447)]("JbPro",e(1121));const s=this[e(1527)]();if(this[e(1537)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1420)]){this[e(447)](e(629),e(1103));const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n={mseDecodeAudio:!1,syncAudioAndVideo:!0};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(349)),this[t(950)]()}))[n(306)]((e=>{const i=n;this.emit(O[i(1663)],V[i(1283)],s,t),this[i(1085)](i(629),i(380),e)}))[n(864)]((()=>{this[n(1537)]=!1}))})).catch((i=>{const r=e;this[r(1537)]=!1,this[r(1530)](O[r(1663)],V[r(1283)],s,t),this.debugError(r(629),r(1012),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this._playFailedAndPausedLastFrameInfo=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1283)],s,t),this.debugError("JbPro",i(299))}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(1283)],s,t),this[r(1085)](r(629),r(313),i)}))[e(864)]((()=>{this[e(1537)]=!1}))}}[NL(671)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this.debugLog(e(629),e(1558)));if(this[e(1430)])return void this[e(447)](e(629),e(1393));const s=this[e(1527)]();if(this[e(1430)]=!0,this[e(561)]&&this.player[e(742)][e(1275)]){this[e(447)](e(629),e(1312));const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={mseDecodeAudio:!1,syncAudioAndVideo:!0};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(1412)),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V.mediaSourceAudioInitTimeout,s,t),this[i(1085)](i(629),i(1425),e)}))[n(864)]((()=>{this[n(1430)]=!1}))})).catch((i=>{const r=e;this[r(1430)]=!1,this[r(1530)](O.playFailedAndPaused,V[r(1255)],s,t),this[r(1085)](r(629),r(661),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1255)],s,t),this[i(1085)](i(629),i(1349))}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(1255)],s,t),this[r(1085)](r(629),"mediaSourceAudioInitTimeout error and pause error",i)}))[e(864)]((()=>{this[e(1430)]=!1}))}}_handleMediaSourceAudioNoDataTimeout(t){const e=NL;if(this[e(577)]())return void(this.debug&&this.debugLog(e(629),e(659)));if(this.mediaSourceAudioNoDataTimeoutOnLock)return void this[e(447)](e(629),"mediaSourceAudioNoDataTimeoutOnLock is true");const s=this[e(1527)]();if(this[e(813)]=!0,this[e(561)]&&this[e(561)][e(742)].mediaSourceAudioNoDataTimeoutReplay){this[e(447)](e(629),e(544));const i=this._opt[e(1217)],r=this[e(742)].playOptions;let n={mseDecodeAudio:!1};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(1333)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V.mediaSourceAudioNoDataTimeout,s,t),this.debugError(i(629),i(1374),e)}))[n(864)]((()=>{this[n(813)]=!1}))}))[e(306)]((i=>{const r=e;this[r(813)]=!1,this[r(1530)](O[r(1663)],V[r(1463)],s,t),this.debugError(r(629),r(642),i)}))}else{const i=!1===this._opt[e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1463)],s,t),this[i(1085)](i(629),i(737))}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(1463)],s,t),this[r(1085)]("JbPro",r(1643),i)}))[e(864)]((()=>{this[e(813)]=!1}))}}[NL(1075)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this[e(447)](e(629),e(1413)));if(this.mseWorkerAddSourceBufferErrorOnLock)return void this[e(447)](e(629),"mseWorkerAddSourceBufferErrorOnLock is true");const s=this[e(1527)]();if(this.mseWorkerAddSourceBufferErrorOnLock=!0,this[e(561)]&&this[e(561)]._opt[e(551)]){this.debugLog("JbPro",e(848));const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={mseDecoderUseWorker:!1};n=this[e(752)](s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(1317)),this[t(950)]()})).catch((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(1028)],s,t),this[i(1085)]("JbPro","mseWorkerAddSourceBufferError and reset player and play error",e)})).finally((()=>{this[n(1076)]=!1}))}))[e(306)]((i=>{const r=e;this[r(1076)]=!1,this[r(1530)](O[r(1663)],V[r(1028)],s,t),this[r(1085)]("JbPro",r(946),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V.mseWorkerAddSourceBufferError,s,t),this.debugError(i(629),i(681))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1028)],s,t),this[r(1085)]("JbPro",r(491),i)}))[e(864)]((()=>{this[e(1076)]=!1}))}}[NL(953)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),"playVodMseDecodeVideoError but player is destroyed"));if(this[e(294)])return void this[e(447)](e(629),"playVodMseDecodeVideoErrorOnLock is true");this.emit(O[e(818)],this[e(1582)](V[e(1388)],t));const s=this[e(1527)]();this[e(294)]=!0;const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={};n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r).then((()=>{const t=VL;this[t(447)](t(629),t(1511)),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(1388)],s,t),this[i(1085)](i(629),i(487),e)})).finally((()=>{this.playVodMseDecodeVideoErrorOnLock=!1}))}))[e(306)]((i=>{const r=e;this.playVodMseDecodeVideoErrorOnLock=!1,this[r(1530)](O.playFailedAndPaused,V[r(1388)],s,t),this[r(1085)](r(629),r(1162),i)}))}_handleMediaSourceUseCanvasRenderPlayFailed(t){const e=NL;if(this.isDestroyed())this.debug&&this[e(447)](e(629),e(370));else if(this[e(940)])this.debugLog(e(629),"mediaSourceUseCanvasRenderPlayFailedOnLock is true");else if(this[e(1530)](O[e(818)],this[e(1582)](V.mediaSourceUseCanvasRenderPlayFailed,t)),this[e(940)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1403)]&&this[e(561)]._opt[e(465)]){this[e(447)]("JbPro","mediaSourceUseCanvasRenderPlayFailed relayType is "+this[e(561)]._opt[e(465)]+" and reset player and play");const s=this[e(742)][e(1217)],i=this[e(742)][e(1135)];let r={};const n=this[e(561)][e(742)][e(465)];n===f[e(696)]?r={useMSE:!1,useWCS:!1}:n===f[e(622)]&&(r={videoRenderType:f[e(622)]}),this[e(904)](r).then((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),"mediaSourceUseCanvasRenderPlayFailed and reset player and play success"),this[t(950)]()})).catch((e=>{const s=r;this.emit(O.playFailedAndPaused,V[s(1309)],{},t),this[s(1085)](s(629),s(1561),e)}))[r(864)]((()=>{this[r(940)]=!1}))})).catch((s=>{const i=e;this.mediaSourceUseCanvasRenderPlayFailedOnLock=!1,this.emit(O[i(1663)],V[i(1309)],{},t),this.debugError(i(629),"mediaSourceUseCanvasRenderPlayFailed auto and _resetPlayer and play error",s)}))}else{const s=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(860)](s)[e(1261)]((()=>{const t=e;this.debugLog(t(629),t(651))}))[e(306)]((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1309)],{},t),this[i(1085)]("JbPro",i(505),s)}))[e(864)]((()=>{this[e(940)]=!1}))}}[NL(516)](t){const e=NL;if(this.isDestroyed())this[e(1220)]&&this.debugLog("JbPro",e(1355));else if(this.webcodecsH265NotSupportOnLock)this[e(447)](e(629),e(1146));else if(this[e(1530)](O[e(818)],this.getCrashLog(V.webcodecsH265NotSupport,t)),this[e(803)]=!0,this[e(561)]&&this.player[e(742)][e(551)]){this[e(447)]("JbPro","webcodecsH265NotSupport auto wasm [wcs-> wasm] reset player and play");const s=this[e(742)].url,i=this[e(742)][e(1135)];this._resetPlayer({useMSE:!1,useWCS:!1})[e(1261)]((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this.debugLog(t(629),t(854)),this[t(950)]()})).catch((e=>{const s=r;this.emit(O[s(1663)],V[s(1257)],{},t),this[s(1085)]("JbPro",s(425),e)}))[r(864)]((()=>{this[r(803)]=!1}))}))[e(306)]((t=>{const s=e;this[s(803)]=!1,this[s(1085)](s(629),s(598),t)}))}else{const s=!1===this[e(742)][e(1510)];this.player[e(512)](),this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1257)],{},t),this.debugLog(s(629),s(538))}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(1257)],{},t),this[i(1085)](i(629),i(400),s)}))[e(864)]((()=>{this.webcodecsH265NotSupportOnLock=!1}))}}[NL(1299)](t){const e=NL;if(this.isDestroyed())this[e(1220)]&&this[e(447)](e(629),e(451));else if(this[e(997)])this.debugLog("JbPro",e(1518));else if(this[e(1530)](O.crashLog,this.getCrashLog(V[e(1006)],t)),this[e(997)]=!0,this[e(561)]&&this[e(561)][e(742)].hardDecodingNotSupportAutoWasm){this[e(447)](e(629),e(934));const s=this[e(742)].url,i=this[e(742)][e(1135)];this[e(904)]({useMSE:!1,useWCS:!1})[e(1261)]((()=>{const r=e;this.play(s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),t(488)),this[t(950)]()})).catch((e=>{const s=r;this[s(1530)](O.playFailedAndPaused,V.webcodecsUnsupportedConfigurationError,{},t),this[s(1085)](s(629),s(1429),e)})).finally((()=>{this[r(997)]=!1}))}))[e(306)]((s=>{const i=e;this[i(997)]=!1,this[i(1530)](O[i(1663)],V[i(1006)],{},t),this[i(1085)](i(629),i(1329),s)}))}else{const s=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1006)],{},t),this[s(447)](s(629),s(676))}))[e(306)]((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1006)],{},t),this[i(1085)](i(629),"webcodecsUnsupportedConfigurationError and pause error",s)}))[e(864)]((()=>{this[e(997)]=!1}))}}[NL(1593)](t){const e=NL;if(this[e(577)]())this[e(1220)]&&this[e(447)](e(629),e(675));else if(this[e(1139)])this[e(447)]("JbPro",e(631));else if(this[e(1530)](O.crashLog,this[e(1582)](V[e(653)],t)),this.player&&this[e(561)][e(742)][e(551)]){this[e(447)](e(629),"webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play");const s=this[e(742)].url,i=this[e(742)][e(1135)];this[e(904)]({useMSE:!1,useWCS:!1})[e(1261)]((()=>{const r=e;this.play(s,i).then((()=>{const t=VL;this[t(447)](t(629),t(974)),this[t(950)]()}))[r(306)]((e=>{const s=r;this[s(1530)](O[s(1663)],V[s(653)],{},t),this[s(1085)]("JbPro","webcodecsDecodeConfigureError auto wasm [wcs-> wasm] reset player and play error",e)})).finally((()=>{this.webcodecsDecodeConfigureErrorOnLock=!1}))})).catch((s=>{const i=e;this[i(1139)]=!1,this[i(1530)](O[i(1663)],V.webcodecsDecodeConfigureError,{},t),this[i(1085)](i(629),"webcodecsDecodeConfigureError auto wasm [wcs-> wasm] _resetPlayer and play error",s)}))}else{const s=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(860)](s)[e(1261)]((()=>{const s=e;this.emit(O[s(1663)],V.webcodecsDecodeConfigureError,{},t),this[s(447)]("JbPro",s(937))}))[e(306)]((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(653)],{},t),this.debugError("JbPro",i(1462),s)}))[e(864)]((()=>{this[e(1139)]=!1}))}}[NL(1592)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(727)));if(this[e(568)])return void this[e(447)](e(629),"webcodecsDecodeErrorOnLock is true");this[e(1530)](O[e(818)],this[e(1582)](V[e(1423)],t));const s=this[e(1527)]();if(this[e(568)]=!0,this[e(561)]&&this[e(561)]._opt.wcsDecodeErrorReplay){const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={},o=this[e(561)][e(742)][e(417)],a=!0,h=this[e(561)][e(1118)]()&&-1!==t[e(366)](mt.keyframeIsRequiredError),l=o||h;l?n={useMSE:!1,useWCS:!1}:this._checkIsMeaningfulRetry(jt[e(581)])?this[e(927)].push(Je()):(o=!0,a=!1,n={useMSE:!1,useWCS:!1}),this[e(447)]("JbPro",e(961)+(Si(a)?e(1097):"")+" [wcs-> "+e(l?328:1435)+e(510));let c={};h&&(c[e(1e3)]=!0),n=this._resetPlayerBeforeUpdateOptions(s,n,c),this[e(904)](n).then((()=>{const n=e;this.play(i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(1163)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this.emit(O[i(1663)],V.webcodecsDecodeError,s,t),this[i(1085)](i(629),"webcodecs decode error reset player and play error",e)}))[n(864)]((()=>{this[n(568)]=!1}))}))[e(306)]((()=>{const i=e;this.webcodecsDecodeErrorOnLock=!1,this[i(1530)](O[i(1663)],V.webcodecsDecodeError,s,t),this[i(1085)](i(629),i(1630))}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this.emit(O[i(1663)],V[i(1423)],s,t),this[i(447)]("JbPro",i(664))}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V[r(1423)],s,t),this[r(1085)]("JbPro",r(308),i)}))[e(864)]((()=>{this[e(568)]=!1}))}}[NL(1554)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),"wcsWidthOrHeightChange but player is destroyed"));if(this[e(321)])return void this.debugLog("JbPro",e(677));this[e(1530)](O[e(818)],this[e(1582)](V[e(588)],t));const s=this[e(1527)]();if(this.wcsWidthOrHeightChangeOnLock=!0,this[e(561)]&&this[e(561)][e(742)][e(722)]){this.debugLog("JbPro",e(1662));const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n=this[e(752)](s);this[e(904)](n).then((()=>{const n=e;this[n(742)][n(1202)]>0?this[n(506)]=setTimeout((()=>{const e=n;this[e(506)]=null,this[e(577)]()?this[e(1220)]&&this.debugLog(e(629),"wcsWidthOrHeightChange and widthOrHeightChangeReplayDelayTime but player is destroyed"):this[e(978)](i,r)[e(1261)]((()=>{const t=e;this[t(447)](t(629),t(1192)),this[t(950)]()}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(588)],s,t),this[r(1085)]("JbPro",r(413),i)})).finally((()=>{this[e(321)]=!1}))}),1e3*this[n(742)][n(1202)]):this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(1192))}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(588)],s,t),this[i(1085)](i(629),i(413),e)}))[n(864)]((()=>{this[n(321)]=!1}))})).catch((i=>{const r=e;this[r(321)]=!1,this.emit(O.playFailedAndPaused,V.wcsWidthOrHeightChange,s,t),this[r(1085)](r(629),r(948),i)}))}else{const i=!1===this._opt.playFailedUseLastFrameShow;this.player[e(512)](),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this.emit(O.playFailedAndPaused,V[i(588)],s,t),this.debugError(i(629),i(916))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(588)],s,t),this[r(1085)](r(629),r(920),i)}))[e(864)]((()=>{this.wcsWidthOrHeightChangeOnLock=!1}))}}[NL(1631)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(355)));if(this[e(1277)])return void this[e(447)](e(629),e(1448));const s=this._getVideoLastIframeInfo();if(this.webcodecsAudioNoDataTimeoutOnLock=!0,this[e(561)]&&this[e(561)]._opt[e(317)]){this.debugLog(e(629),"webcodecsAudioNoDataTimeout and reset player and play");const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={wcsDecodeAudio:!1};n=this[e(752)](s,n,{isInitDecodeError:!0}),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this.debugLog(t(629),t(788)),this[t(950)]()})).catch((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(1395)],s,t),this[i(1085)](i(629),i(377),e)}))[n(864)]((()=>{this[n(1277)]=!1}))}))[e(306)]((i=>{const r=e;this[r(1277)]=!1,this.emit(O[r(1663)],V[r(1395)],s,t),this.debugError(r(629),r(959),i)}))}else{const i=!1===this._opt.playFailedUseLastFrameShow;this.player[e(512)](),this[e(930)]=s,this._pause(i)[e(1261)]((()=>{const i=e;this.emit(O[i(1663)],V[i(1395)],s,t),this[i(1085)](i(629),i(442))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1395)],s,t),this[r(1085)](r(629),"webcodecsAudioNoDataTimeout error and pause error",i)}))[e(864)]((()=>{this[e(1277)]=!1}))}}_handleWebcodecsAudioInitTimeout(t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)]("JbPro",e(853)));if(this[e(1513)])return void this.debugLog("JbPro",e(542));const s=this[e(1527)]();if(this[e(1513)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1372)]){this[e(447)](e(629),"webcodecsAudioInitTimeout and reset player and play");const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={wcsDecodeAudio:!1};n=this._resetPlayerBeforeUpdateOptions(s,n,{isInitDecodeError:!0}),this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{this[n(447)]("JbPro","webcodecsAudioInitTimeout and reset player and play success"),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(1452)],s,t),this[i(1085)]("JbPro",i(977),e)})).finally((()=>{this[n(1513)]=!1}))}))[e(306)]((i=>{const r=e;this[r(1513)]=!1,this.emit(O[r(1663)],V.webcodecsAudioInitTimeout,s,t),this[r(1085)](r(629),r(1252),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this._pause(i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1452)],s,t),this[i(1085)](i(629),i(648))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1452)],s,t),this[r(1085)]("JbPro",r(1201),i)}))[e(864)]((()=>{this.webcodecsAudioInitTimeoutOnLock=!1}))}}[NL(1236)](){const t=NL;if(this[t(577)]())return void(this[t(1220)]&&this[t(447)](t(629),"webcodecsAudioDecodeError but player is destroyed"));if(this[t(733)])return void this[t(447)](t(629),t(384));const e=this[t(1527)]();if(this[t(733)]=!0,this[t(561)]&&this[t(561)][t(742)][t(1576)]){this[t(447)](t(629),t(745));const s=this[t(742)].url,i=this[t(742)][t(1135)];let r={wcsDecodeAudio:!1};r=this[t(752)](e,r),this._resetPlayer(r).then((()=>{const r=t;this[r(978)](s,i).then((()=>{const t=r;this[t(447)](t(629),t(1282)),this[t(950)]()}))[r(306)]((t=>{const s=r;this[s(1530)](O.playFailedAndPaused,V[s(507)],e,error),this.debugError(s(629),s(826),t)}))[r(864)]((()=>{this[r(733)]=!1}))}))[t(306)]((s=>{const i=t;this[i(733)]=!1,this.emit(O.playFailedAndPaused,V.webcodecsAudioDecodeError,e,error),this[i(1085)](i(629),"webcodecsAudioDecodeError and _resetPlayer error",s)}))}else{const s=!1===this[t(742)][t(1510)];this[t(561)].setPlayFailedAndPaused(),this[t(930)]=e,this[t(860)](s)[t(1261)]((()=>{const s=t;this.emit(O[s(1663)],V[s(507)],e,error),this[s(1085)]("JbPro",s(859))}))[t(306)]((s=>{const i=t;this[i(1530)](O[i(1663)],V[i(507)],e,error),this[i(1085)](i(629),i(1688),s)}))[t(864)]((()=>{this[t(733)]=!1}))}}[NL(1526)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this.debugLog(e(629),e(1092)));if(this[e(407)])return void this[e(447)](e(629),e(350));this.emit(O[e(818)],this[e(1582)](V.simdDecodeError,t));const s=this[e(1527)]();if(this[e(407)]=!0,this.player&&this[e(561)]._opt[e(1367)]){this.debugLog(e(629),e(1624)+this[e(561)][e(742)].simdDecodeErrorReplayType+e(597));const i=this._opt.url,r=this[e(742)].playOptions;let n={};this.player[e(742)][e(1041)]===p[e(328)]&&(n={useSIMD:!1}),n=this[e(752)](s,n),this._resetPlayer(n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(529)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O.playFailedAndPaused,V[i(1451)],s,t),this[i(1085)]("JbPro",i(706),e)}))[n(864)]((()=>{this[n(407)]=!1}))}))[e(306)]((i=>{const r=e;this[r(407)]=!1,this[r(1530)](O[r(1663)],V.simdDecodeError,s,t),this[r(1085)]("JbPro",r(1665),i)}))}else{const i=!1===this._opt.playFailedUseLastFrameShow;this[e(561)].setPlayFailedAndPaused(),this._playFailedAndPausedLastFrameInfo=s,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1451)],s,t),this[i(1085)](i(629),i(493))}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V.simdDecodeError,s,t),this[r(1085)]("JbPro",r(1655),i)}))[e(864)]((()=>{this[e(407)]=!1}))}}[NL(1043)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)]("JbPro",e(884)));if(this[e(1133)])return void this[e(447)](e(629),e(587));this[e(1530)](O[e(818)],this[e(1582)](V[e(989)],t));const s=this[e(1527)]();if(this[e(1133)]=!0,this[e(561)]&&this[e(561)][e(742)][e(1367)]){this[e(447)](e(629),e(806)+this[e(561)][e(742)][e(1041)]+e(597));const i=this[e(742)][e(1217)],r=this[e(742)][e(1135)];let n={};this.player[e(742)].simdDecodeErrorReplayType===p[e(328)]?n={useSIMD:!1}:this[e(561)][e(742)][e(1041)]===p.simdFFmpeg&&(n={isFFmpegSIMD:!0}),n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(i,r)[n(1261)]((()=>{const t=n;this.debugLog(t(629),t(801)),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V.simdDecodeDelayTimeout,s,t),this[i(1085)](i(629),i(615),e)}))[n(864)]((()=>{this[n(1133)]=!1}))})).catch((i=>{const r=e;this[r(1133)]=!1,this[r(1530)](O[r(1663)],V[r(989)],s,t),this.debugError(r(629),r(1660),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O[i(1663)],V.simdDecodeDelayTimeout,s,t),this[i(1085)](i(629),i(969))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(989)],s,t),this[r(1085)]("JbPro",r(822),i)}))[e(864)]((()=>{this[e(1133)]=!1}))}}[NL(1091)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this.debugLog("JbPro",e(682)));if(this[e(882)])return void this[e(447)](e(629),e(320));this[e(1530)](O[e(818)],this[e(1582)](V.wasmWidthOrHeightChange,t));const s=this[e(1527)]();if(this[e(882)]=!0,this[e(561)]&&this[e(561)][e(742)][e(722)]){this.debugLog(e(629),e(589));const i=this._opt[e(1217)],r=this[e(742)][e(1135)];let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;this._opt[n(1202)]>0?this[n(506)]=setTimeout((()=>{const e=n;this[e(506)]=null,this[e(577)]()?this[e(1220)]&&this[e(447)](e(629),e(1055)):this[e(978)](i,r)[e(1261)]((()=>{const t=e;this[t(447)](t(629),"wasmWidthOrHeightChange and reset player and play success"),this[t(950)]()}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V[r(687)],s,t),this.debugError(r(629),r(1613),i)}))[e(864)]((()=>{this[e(882)]=!1}))}),1e3*this[n(742)][n(1202)]):this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),t(394))}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V[i(687)],s,t),this[i(1085)](i(629),i(1613),e)}))[n(864)]((()=>{this[n(882)]=!1}))}))[e(306)]((i=>{const r=e;this[r(882)]=!1,this.emit(O[r(1663)],V[r(687)],s,t),this[r(1085)]("JbPro",r(1127),i)}))}else{const i=!1===this._opt[e(1510)];this.player[e(512)](),this._playFailedAndPausedLastFrameInfo=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(687)],s,t),this[i(1085)](i(629),"wasmWidthOrHeightChange and widthOrHeightChangeReplay is false, pause success")}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(687)],s,t),this[r(1085)](r(629),r(414),i)}))[e(864)]((()=>{this.wasmWidthOrHeightChangeOnLock=!1}))}}_handleWasmUseVideoRenderError(t){const e=NL;if(this[e(577)]())return void(this.debug&&this[e(447)](e(629),e(1444)));if(this[e(331)])return void this.debugLog(e(629),e(657));this[e(1530)](O[e(818)],this.getCrashLog(V[e(851)],t)),this[e(447)](e(629),e(479));const s=this[e(742)][e(1217)],i=this[e(742)][e(1135)];this.wasmUseVideoRenderErrorOnLock=!0,this._resetPlayer({videoRenderType:f[e(696)]}).then((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this[t(447)]("JbPro",t(627)),this[t(950)]()}))[r(306)]((e=>{const s=r;this[s(1530)](O.playFailedAndPaused,V[s(851)],{},t),this[s(1085)](s(629),s(610),e)}))[r(864)]((()=>{this[r(331)]=!1}))})).catch((s=>{const i=e;this.wasmUseVideoRenderErrorOnLock=!1,this[i(1530)](O[i(1663)],V[i(851)],{},t),this[i(1085)]("JbPro",i(634),s)}))}[NL(1232)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),e(753)));if(this.notSupportNewWasmOnLock)return void this[e(447)](e(629),"notSupportNewWasmOnLock is true");this[e(1530)](O[e(818)],this[e(1582)](V[e(1147)],t)),this[e(1345)]=!0,this[e(447)](e(629),e(1661));const s=this[e(742)][e(1217)],i=this[e(742)][e(1135)];this[e(904)]({useOldWasm:!0}).then((()=>{const r=e;this[r(978)](s,i).then((()=>{const t=r;this[t(447)](t(629),t(1545)),this._replaySuccessAndNext()}))[r(306)]((e=>{const s=r;this[s(1530)](O[s(1663)],V.webcodecsH265NotSupport,{},t),this.debugError("JbPro","notSupportNewWasm auto wasm [wasm-> old wasm] reset player and play error",e)}))[r(864)]((()=>{this.notSupportNewWasmOnLock=!1}))}))[e(306)]((t=>{const s=e;this[s(1345)]=!1,this.debugError(s(629),s(558),t)}))}[NL(1115)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),"failedToAsynchronouslyPrepareWasm but player is destroyed"));if(this[e(1182)])return void this.debugLog(e(629),e(570));this[e(1530)](O[e(818)],this[e(1582)](V[e(1274)],t)),this[e(1182)]=!0;const s=!1===this._opt[e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1274)],{},t),this[s(1085)](s(629),s(1195))}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(1274)],{},t),this.debugError(i(629),i(1306),s)}))[e(864)]((()=>{this[e(1182)]=!1}))}[NL(1626)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this.debugLog(e(629),e(1434)));if(this[e(762)])return void this[e(447)](e(629),"videoElementPlayingFailedOnLock is true");this[e(1530)](O[e(818)],this[e(1582)](V[e(1080)],t));const s=this._getVideoLastIframeInfo();if(this[e(762)]=!0,this[e(561)]&&this[e(561)]._opt[e(401)]){this[e(447)](e(629),"videoElementPlayingFailed and useMSE is "+this._opt[e(478)]+e(597));const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n={useMSE:!1,videoRenderType:f.canvas};n=this._resetPlayerBeforeUpdateOptions(s,n),this[e(904)](n).then((()=>{const n=e;this[n(978)](i,r).then((()=>{const t=n;this[t(447)]("JbPro",t(1214)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],V.videoElementPlayingFailed,s,t),this.debugError(i(629),i(438),e)}))[n(864)]((()=>{this.videoElementPlayingFailedOnLock=!1}))}))[e(306)]((i=>{const r=e;this[r(762)]=!1,this[r(1530)](O[r(1663)],V.videoElementPlayingFailed,s,t),this.debugError(r(629),r(1398),i)}))}else{const i=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this._pause(i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1080)],s,t),this[i(1085)](i(629),"videoElementPlayingFailed and videoElementPlayingFailedReplay is false，pause success")}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V[r(1080)],s,t),this.debugError(r(629),"videoElementPlayingFailed and _pause error",i)}))[e(864)]((()=>{this[e(762)]=!1}))}}_handleSimdH264DecodeVideoWidthIsTooLarge(t){const e=NL;if(this[e(577)]())this[e(1220)]&&this[e(447)](e(629),"simdH264DecodeVideoWidthIsTooLarge but player is destroyed");else if(this.simdH264DecodeVideoWidthIsTooLargeOnLock)this[e(447)](e(629),e(482));else if(this[e(1530)](O[e(818)],this[e(1582)](V[e(1199)],t)),this[e(784)]=!0,this[e(561)]&&this[e(561)][e(742)][e(702)]){this[e(447)](e(629),e(326));const s=this[e(742)][e(1217)],i=this[e(742)].playOptions;this._resetPlayer({useSIMD:!1})[e(1261)]((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),t(1088)),this[t(950)]()}))[r(306)]((e=>{const s=r;this[s(1530)](O.playFailedAndPaused,V[s(1199)],{},t),this.debugError(s(629),s(324),e)}))[r(864)]((()=>{this[r(784)]=!1}))}))[e(306)]((s=>{const i=e;this[i(784)]=!1,this[i(1530)](O[i(1663)],V[i(1199)],{},t),this[i(1085)](i(629),i(449),s)}))}else{const s=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(860)](s).then((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1199)],{},t),this[s(1085)](s(629),"simdH264DecodeVideoWidthIsTooLarge and simdDecodeErrorReplay is false, pause success")}))[e(306)]((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1199)],{},t),this[i(1085)](i(629),"simdH264DecodeVideoWidthIsTooLarge and pause error",s)}))[e(864)]((()=>{this.simdH264DecodeVideoWidthIsTooLargeOnLock=!1}))}}[NL(1440)](t){const e=NL;if(this.player[e(742)][e(655)]){if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(1449)));if(this[e(1029)])return void this[e(447)](e(629),"networkDelayTimeoutOnLock is true");this[e(1530)](O[e(818)],this[e(1582)](O[e(1640)],t));const s=this._getVideoLastIframeInfo();this[e(447)](e(629),e(1033));const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n=this[e(752)](s);this.networkDelayTimeoutOnLock=!0,this._resetPlayer(n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](t(629),"wasm decode error and reset player and play success"),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],O.networkDelayTimeout,s,t),this[i(1085)](i(629),i(637),e)}))[n(864)]((()=>{this.networkDelayTimeoutOnLock=!1}))})).catch((i=>{const r=e;this[r(1029)]=!1,this.emit(O[r(1663)],O[r(1640)],s,t),this[r(1085)](r(629),r(532),i)}))}}[NL(933)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),e(870)));if(Si(this[e(561)][e(742)][e(335)]||this._opt[e(1250)]))return;if(this[e(911)])return void this[e(447)]("JbPro",e(431));const s=this[e(1527)]();if(this.flvDemuxBufferSizeTooLargeOnLock=!0,this[e(1530)](O.crashLog,this.getCrashLog(O[e(1140)],t)),this[e(561)][e(742)][e(335)]){this[e(447)]("JbPro",e(1634));const i=this._opt[e(1217)],r=this._opt[e(1135)];let n=this[e(752)](s);this[e(904)](n).then((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(447)](this.TAG_NAME,t(1190)),this[t(950)]()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],O.flvDemuxBufferSizeTooLarge,s,t),this[i(1085)](this[i(705)],i(584),e)}))[n(864)]((()=>{this[n(911)]=!1}))}))[e(306)]((i=>{const r=e;this[r(911)]=!1,this[r(1530)](O.playFailedAndPaused,O.flvDemuxBufferSizeTooLarge,s,t),this.debugError(this.TAG_NAME,r(533),i)}))}else if(this._opt[e(1250)]){this[e(447)](this.TAG_NAME,e(1189));const i=!1===this[e(742)].playFailedUseLastFrameShow;this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1140)],s,t),this.debugLog(this.TAG_NAME,"flv Demux Buffer Size Too Large and flvDemuxBufferSizeTooLargeEmitFailed = true and pause player success")}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V.flvDemuxBufferSizeTooLarge,s,t),this[r(1085)](this.TAG_NAME,"flv Demux Buffer Size Too Large",i)}))[e(864)]((()=>{this[e(911)]=!1}))}}_handleFetchError(t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(1328)));if(this.fetchErrorOnLock)return void this.debugLog("JbPro",e(1288));this[e(1530)](O.crashLog,this[e(1582)](V[e(1307)],t));const s=this._getVideoLastIframeInfo(),i=this[e(1533)]();if(this[e(1474)]=!0,this[e(561)][e(742)][e(1641)]||i){i?this[e(447)]("JbPro",e(1620)):this[e(447)](e(629),e(439)+this[e(1279)]+", streamErrorReplayDelayTime is "+this[e(742)][e(1621)]+e(1241));let r=this[e(752)](s);const n=this[e(742)][e(1135)],o=this[e(742)][e(1217)],a=i?1:this[e(742)].streamErrorReplayDelayTime;this[e(904)](r).then((()=>{const s=e;this[s(942)]=setTimeout((()=>{const e=s;if(this.streamErrorReplayDelayTimeout=null,!this[e(577)]())return this[e(1533)]()?(this[e(447)](e(629),"fetch error and network is offline and wait network online to play , so return"),this[e(376)]=!0,void(this[e(1278)]={url:o,options:n,type:V[e(1307)]})):(this._streamErrorReplayTimes++,void this[e(978)](o,n)[e(1261)]((()=>{const t=e;this[t(447)](t(629),"fetch error and reset player and play success"),this[t(950)]()}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(1307)],{},t),this[i(1085)](i(629),i(1343),s)}))[e(864)]((()=>{this.fetchErrorOnLock=!1})));this[e(1220)]&&this[e(447)](e(629),e(985))}),1e3*a)}))[e(306)]((s=>{const i=e;this.fetchErrorOnLock=!1,this.emit(O[i(1663)],V[i(1307)],{},t),this.debugError(i(629),"fetch error and _resetPlayer error",s)}))}else{this[e(447)]("JbPro",e(1010));const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1307)],s,t),this[i(447)](i(629),"fetch error and pause player success")})).catch((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1307)],s,t),this.debugError(r(629),r(1050),i)}))[e(864)]((()=>{this[e(1474)]=!1}))}}[NL(319)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),"streamEnd but player is destroyed and return"));if(this.streamEndOnLock)return void this.debugLog("JbPro",e(1671));this[e(1530)](O[e(818)],this[e(1582)](O[e(782)],t));const s=this[e(1527)](),i=""+t===e(1011)&&this[e(561)]._opt[e(812)],r=!!i&&this._checkIsMeaningfulRetry(jt[e(1465)]),n=i&&r,o=this[e(561)][e(742)][e(1334)],a=this[e(1533)]();if(this.streamEndOnLock=!0,n||o||a){a?this[e(447)](e(629),e(1595)):n?this[e(447)]("JbPro",e(640)+this[e(639)]+e(1298)+this[e(742)][e(1646)]+e(691)):this[e(447)]("JbPro","streamEnd and isStreamEndReplay is true and and _streamEndReplayTimes is "+this[e(1337)]+e(1298)+this[e(742)].streamEndReplayDelayTime+e(691));const r=this[e(742)][e(1135)],o=this[e(742)][e(1217)];i&&this[e(686)][e(1544)](Je());let h=this[e(752)](s),l=n?this[e(742)].websocket1006ErrorReplayDelayTime:this._opt[e(791)];a&&(l=1),this._resetPlayer(h)[e(1261)]((()=>{const s=e;this[s(375)]=setTimeout((()=>{const e=s;if(this[e(375)]=null,this._removeLoadingBackgroundForIOS(),!this.isDestroyed())return this._isNeedNetworkDisconnectReplay()?(n?this.debugLog(e(629),e(1227)):this[e(447)](e(629),e(1454)),this._isNetworkOfflinePaused=!0,void(this[e(1278)]={url:o,options:r,type:n?V[e(549)]:V[e(782)]})):(n?this[e(639)]++:this[e(1337)]++,void this[e(978)](o,r).then((()=>{const t=e;n?this.debugLog(t(629),t(1608)):this[t(447)](t(629),t(982)),this[t(950)]()}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(782)],{},t),n?this[i(1085)](i(629),i(475),s):this[i(1085)](i(629),i(1315),s)})).finally((()=>{this.streamEndOnLock=!1})));a?this.debug&&this[e(447)](e(629),e(1219)):n?this.debug&&this[e(447)]("JbPro",e(1520)):this[e(1220)]&&this[e(447)](e(629),e(907))}),1e3*l)}))[e(306)]((s=>{const i=e;this[i(1313)]=!1,this[i(1530)](O.playFailedAndPaused,V[i(782)],{},t),n?this[i(1085)]("JbPro","streamEnd and 1006 and _resetPlayer error",s):this[i(1085)]("JbPro",i(1185),s)}))}else{i?this[e(447)](e(629),e(518)+(Si(r)?e(1491):"")):this.debugLog(e(629),e(1152));const n=!1===this[e(742)].playFailedUseLastFrameShow;this.player[e(512)](),this[e(930)]=s,this[e(860)](n)[e(1261)]((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,O[i(782)],s,t),this[i(447)]("JbPro",i(1415))}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,O[r(782)],s,t),this[r(1085)](r(629),r(724),i)})).finally((()=>{this[e(1313)]=!1}))}}[NL(1314)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),"websocketError but player is destroyed"));if(this[e(979)])return void this.debugLog(e(629),e(1431));this[e(1530)](O[e(818)],this[e(1582)](V[e(393)],t));const s=this._getVideoLastIframeInfo(),i=this[e(1533)]();if(this[e(979)]=!0,this.player._opt[e(1641)]||i){i?this.debugLog("JbPro","websocketError error and network is disconnect and reset player and play"):this[e(447)]("JbPro",e(600)+this[e(1279)]+e(1473)+this[e(742)][e(1621)]+", next replay");let r=this[e(752)](s);const n=this[e(742)][e(1135)],o=this[e(742)][e(1217)],a=i?1:this._opt.streamErrorReplayDelayTime;this[e(904)](r)[e(1261)]((()=>{const s=e;this[s(942)]=setTimeout((()=>{const e=s;if(this[e(942)]=null,!this[e(577)]())return this._isNeedNetworkDisconnectReplay()?(this[e(447)]("JbPro",e(1114)),this[e(376)]=!0,void(this[e(1278)]={url:o,options:n,type:V[e(393)]})):(this._streamErrorReplayTimes++,void this[e(978)](o,n)[e(1261)]((()=>{const t=e;this[t(447)](t(629),t(1494)),this._replaySuccessAndNext()}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V.fetchError,{},t),this.debugError(i(629),i(1242),s)}))[e(864)]((()=>{this[e(979)]=!1})));i?this[e(1220)]&&this[e(447)]("JbPro",e(830)):this.debug&&this[e(447)]("JbPro",e(1383))}),1e3*a)}))[e(306)]((s=>{const i=e;this.websocketErrorOnLock=!1,this[i(1530)](O[i(1663)],V[i(1307)],{},t),this[i(1085)]("JbPro",i(1326),s)}))}else{this[e(447)](e(629),"websocketError and pause player");const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(860)](i).then((()=>{const i=e;this.emit(O[i(1663)],V[i(393)],s,t),this[i(447)](i(629),i(1134))}))[e(306)]((i=>{const r=e;this[r(1530)](O.playFailedAndPaused,V.websocketError,s,t),this.debugError(r(629),r(332),i)}))[e(864)]((()=>{this[e(979)]=!1}))}}[NL(1210)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this.debugLog(e(629),e(1265)));if(this[e(1538)])return void this[e(447)](e(629),e(459));this[e(1530)](O.crashLog,this[e(1582)](V[e(473)],t));const s=this._getVideoLastIframeInfo();if(this[e(1533)]()){this.debugLog("JbPro","webrtcError error and network is offline and wait network online to play , so _resetPlayer and wait play");const i=this[e(742)][e(1135)],r=this._opt[e(1217)];let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const t=e;this._isNetworkOfflinePaused=!0,this._isNetworkOfflinePausedAndNextPlayConfig={url:r,options:i,type:V[t(473)]}}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V.webrtcError,s,t),this[r(1085)](r(629),r(1109),i)}))[e(864)]((()=>{this[e(1538)]=!1}))}else{this[e(447)](e(629),e(436));const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this[e(1538)]=!0,this[e(860)](i).then((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(473)],s,t),this[i(447)](i(629),i(1131))}))[e(306)]((i=>{const r=e;this.emit(O.playFailedAndPaused,V[r(473)],s,t),this[r(1085)]("JbPro",r(759),i)})).finally((()=>{this[e(1538)]=!1}))}}[NL(1508)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this.debugLog(e(629),e(462)));if(this[e(1225)])return void this[e(447)](e(629),"hlsErrorOnLock is true");this[e(1530)](O.crashLog,this[e(1582)](V[e(1341)],t));const s=this._getVideoLastIframeInfo();if(this[e(1533)]()){this.debugLog(e(629),e(1618));const i=this[e(742)].playOptions,r=this[e(742)][e(1217)];let n=this[e(752)](s);this[e(904)](n).then((()=>{const t=e;this[t(376)]=!0,this[t(1278)]={url:r,options:i,type:V[t(1341)]}}))[e(306)]((i=>{const r=e;this.emit(O[r(1663)],V[r(1341)],s,t),this[r(1085)](r(629),r(1478),i)}))[e(864)]((()=>{this[e(1225)]=!1}))}else{this[e(447)]("JbPro",e(316));const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this._playFailedAndPausedLastFrameInfo=s,this[e(1225)]=!0,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1341)],s,t),this.debugLog(i(629),"hlsError and pause player success")}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1341)],s,t),this[r(1085)](r(629),r(626),i)})).finally((()=>{this[e(1225)]=!1}))}}_handleHls264UseOldDemuxer(t){const e=NL;if(this.isDestroyed())return void this.debugLog(this[e(705)],"Hls264UseOldDemuxer but player is destroyed");if(this[e(1207)])return void this[e(447)](this.TAG_NAME,e(783));this[e(447)]("JbPro","Hls264UseOldDemuxer and reset player and play");const s=this[e(742)].url,i=this._opt[e(1135)];this.hls264UseOldDemuxerOnLock=!0,this[e(904)]({supportHls265:!1}).then((()=>{const r=e;this[r(978)](s,i)[r(1261)]((()=>{const t=r;this[t(447)](t(629),t(334)),this[t(950)]()})).catch((e=>{const s=r;this.emit(O[s(1663)],O[s(731)],{},t),this[s(1085)](s(629),"hls264UseOldDemuxer and reset player and play error",e)})).finally((()=>{this[r(1207)]=!1}))}))[e(306)]((s=>{const i=e;this[i(1207)]=!1,this[i(1530)](O.playFailedAndPaused,O[i(731)],{},t),this[i(1085)](i(629),i(443),s)}))}[NL(1458)](t){const e=NL;if(this[e(577)]())return void this[e(447)](e(629),"aliyunRtcError but player is destroyed");if(this.aliyunRtcErrorOnLock)return void this[e(447)]("JbPro",e(1068));this[e(1530)](O[e(818)],this[e(1582)](V[e(929)],t));const s=this._getVideoLastIframeInfo();this[e(447)](e(629),e(1673));const i=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(930)]=s,this[e(1370)]=!0,this[e(860)](i).then((()=>{const i=e;this.emit(O[i(1663)],V[i(929)],s,t),this[i(447)](i(629),i(1667))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(929)],s,t),this.debugError("JbPro",r(835),i)}))[e(864)]((()=>{this[e(1370)]=!1}))}[NL(1074)](t){const e=NL;if(this[e(577)]())return void this.debugLog(e(629),"decoderWorkerInitError but player is destroyed");if(this.decoderWorkerInitErrorOnLock)return void this[e(447)](e(629),"decoderWorkerInitErrorOnLock is true");this[e(1530)](O[e(818)],this[e(1582)](V.decoderWorkerInitError,t));const s=this._getVideoLastIframeInfo();this.debugLog(e(629),e(1405));const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this.decoderWorkerInitErrorOnLock=!0,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(300)],s,t),this[i(447)](i(629),i(669))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(300)],s,t),this[r(1085)](r(629),r(1031),i)})).finally((()=>{this[e(293)]=!1}))}[NL(816)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),e(1295)));if(this[e(1580)])return void this.debugLog(e(629),e(923));this[e(1530)](O[e(818)],this[e(1582)](V[e(1410)],t));const s=this[e(1527)]();this[e(447)](e(629),"decoderWorkerUncaughtError and pause player");const i=!1===this[e(742)].playFailedUseLastFrameShow;this.player[e(512)](),this[e(930)]=s,this.decoderWorkerUncaughtErrorOnLock=!0,this._pause(i)[e(1261)]((()=>{const i=e;this.emit(O[i(1663)],V[i(1410)],s,t),this[i(447)]("JbPro",i(865))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1410)],s,t),this[r(1085)](r(629),r(322),i)}))[e(864)]((()=>{this[e(1580)]=!1}))}_handleDecoderWorkerWasmError(t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),"decoderWorkerWasmError but player is destroyed"));if(this[e(1060)])return void this[e(447)](e(629),e(531));this[e(1530)](O[e(818)],this.getCrashLog(V.decoderWorkerWasmError,t)),this[e(447)](e(629),e(469));const s=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this[e(1060)]=!0,this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1386)],{},t),this.debugLog("JbPro",s(1604))})).catch((s=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(1386)],{},t),this[i(1085)](i(629),i(1496),s)})).finally((()=>{this.decoderWorkerWasmErrorOnLock=!1}))}[NL(1036)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(447)](e(629),"videoElementPlayingFailedForWebrtc but player is destroyed"));if(this.videoElementPlayingFailedForWebrtcOnLock)return void this[e(447)]("JbPro",e(307));this[e(1530)](O.crashLog,this[e(1582)](V.videoElementPlayingFailedForWebrtc,t)),this[e(447)](e(629),e(678));const s=!1===this[e(742)][e(1510)];this[e(561)].setPlayFailedAndPaused(),this[e(670)]=!0,this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O.playFailedAndPaused,V[s(1417)],{},t),this.debugLog(s(629),s(1229))}))[e(306)]((s=>{const i=e;this.emit(O[i(1663)],V.videoElementPlayingFailedForWebrtc,{},t),this[i(1085)](i(629),i(1363),s)}))[e(864)]((()=>{this[e(670)]=!1}))}[NL(1437)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this[e(447)](e(629),e(1025)));if(this[e(1321)])return void this.debugLog(e(629),e(699));this.emit(O[e(818)],this[e(1582)](V[e(1506)],t)),this[e(447)](e(629),e(1090));const s=!1===this[e(742)].playFailedUseLastFrameShow;this[e(561)].setPlayFailedAndPaused(),this[e(1321)]=!0,this[e(860)](s)[e(1261)]((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1506)],{},t),this[s(447)](s(629),s(1044))}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(1506)],{},t),this.debugError(i(629),i(1237),s)}))[e(864)]((()=>{this[e(1321)]=!1}))}[NL(1686)](t){const e=NL;if(this.isDestroyed())return void(this[e(1220)]&&this[e(447)](e(629),e(1432)));if(this.webrtcStreamH265OnLock)return void this[e(447)](e(629),"webrtcStreamH265OnLock is true");this[e(447)](e(629),e(457));const s=this._opt[e(1217)],i=this[e(742)].playOptions;this[e(1187)]=!0,this[e(904)]({isWebrtcH265:!0}).then((()=>{const r=e;this[r(978)](s,i).then((()=>{const t=r;this[t(447)](t(629),t(1521)),this._replaySuccessAndNext()}))[r(306)]((e=>{const s=r;this.emit(O[s(1663)],O[s(1492)],{},t),this[s(1085)](s(629),s(573),e)}))[r(864)]((()=>{this[r(1187)]=!1}))}))[e(306)]((s=>{const i=e;this[i(1187)]=!1,this[i(1530)](O[i(1663)],O[i(1492)],{},t),this.debugError(i(629),i(620),s)}))}[NL(1552)](t){const e=NL;if(this[e(577)]())return void this.debugLog(e(629),e(900));if(this.webrtcLowFpsOnLock)return void this[e(447)]("JbPro","webrtcLowFpsOnLock is true");this[e(794)]=!0,this[e(1530)](O[e(818)],this.getCrashLog(O[e(368)],t));const s=this[e(1527)](),i=this[e(742)][e(1135)],r=this._opt[e(1217)];let n=this._resetPlayerBeforeUpdateOptions(s);this[e(904)](n)[e(1261)]((()=>{const n=e;this.play(r,i).then((()=>{this.debugLog(this.TAG_NAME,"webrtcLowFps and reset player and play success"),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],O[i(368)],s,t),this.debugError(this[i(705)],i(1536),e)}))[n(864)]((()=>{this[n(794)]=!1}))}))[e(306)]((i=>{const r=e;this[r(794)]=!1,this[r(1530)](O.playFailedAndPaused,O[r(368)],s,t),this[r(1085)](this[r(705)],r(594),i)}))}_handleTsPacketSizeError(t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this.debugLog(e(629),e(344)));if(this[e(333)])return void this[e(447)](e(629),e(385));this[e(333)]=!0;const s=e(780)+t;this[e(860)]()[e(1261)]((()=>{const t=e;this[t(1530)](O[t(1663)],V[t(361)],{},s),this[t(447)](t(629),t(1102))})).catch((t=>{const i=e;this[i(1530)](O.playFailedAndPaused,V[i(361)],{},s),this[i(1085)](i(629),i(435),t)}))[e(864)]((()=>{this[e(333)]=!1}))}_handlePlayVodMp4Error(t){const e=NL;this[e(577)]()?this.debug&&this.debugLog(e(629),"playVodMp4Error but player is destroyed"):this.playVodMp4ErrorOnLock?this[e(447)](e(629),e(1353)):(this.playVodMp4ErrorOnLock=!0,this._pause().then((()=>{const s=e;this[s(1530)](O.playFailedAndPaused,V[s(367)],{},t),this[s(447)](s(629),s(1123))}))[e(306)]((s=>{const i=e;this[i(1530)](O[i(1663)],V.playVodMp4Error,{},t),this[i(1085)](i(629),i(748),s)}))[e(864)]((()=>{this[e(528)]=!1})))}[NL(625)](t){const e=NL;if(this[e(577)]())return void(this.debug&&this[e(447)](e(629),e(1428)));if(this[e(621)])return void this[e(447)]("JbPro","playVodMp4UseSrcErrorOnLock is true");this[e(447)](e(629),e(559));const s=this[e(742)][e(1217)],i=this[e(742)][e(1135)];this[e(621)]=!0,this[e(904)]({playVodMp4UseSrc:!1}).then((()=>{const t=e;this[t(978)](s,i)[t(1261)]((()=>{const e=t;this[e(447)]("JbPro",e(712)),this._replaySuccessAndNext()}))[t(306)]((e=>{const s=t;this[s(1530)](O[s(1663)],V[s(1555)],{},error),this[s(1085)](s(629),s(1483),e)}))[t(864)]((()=>{this.playVodMp4UseSrcErrorOnLock=!1}))}))[e(306)]((t=>{const s=e;this[s(621)]=!1,this.emit(O.playFailedAndPaused,V[s(1555)],{},error),this.debugError(s(629),s(1153),t)}))}[NL(1570)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this.debugWarn(e(629),e(1180)));if(this.playVodMp4UseSrcVideoErrorOnLock)return void this[e(447)](e(629),e(683));this.playVodMp4UseSrcVideoErrorOnLock=!0,this[e(1530)](O.crashLog,this[e(1582)](V[e(1079)],t));const s=this[e(1527)](),i=this[e(742)].url,r=this._opt.playOptions;let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;this[n(978)](i,r)[n(1261)]((()=>{const t=n;this[t(742)][t(972)][t(389)]=null,this[t(447)](t(629),t(775)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this.emit(O[i(1663)],V.playVodMp4UseSrcVideoError,s,t),this.debugError(i(629),i(519),e)}))[n(864)]((()=>{this[n(511)]=!1}))}))[e(306)]((i=>{const r=e;this.playVodMp4UseSrcVideoErrorOnLock=!1,this[r(1530)](O.playFailedAndPaused,V[r(1079)],s,t),this[r(1085)](r(629),r(1223),i)}))}[NL(1208)](t){const e=NL;this.isDestroyed()?this.debug&&this[e(447)]("JbPro",e(914)):this[e(1358)]?this[e(447)](e(629),e(828)):(this.playVodCalcFpsErrorOnLock=!0,this[e(860)]().then((()=>{const s=e;this[s(1530)](O[s(1663)],V[s(1256)],{},t),this[s(447)](s(629),"playVodCalcFpsError and pause success")})).catch((s=>{const i=e;this[i(1530)](O[i(1663)],V[i(1256)],{},t),this[i(1085)]("JbPro",i(1294),s)}))[e(864)]((()=>{this[e(1358)]=!1})))}[NL(1632)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this[e(1559)]("JbPro",e(1247)));this[e(1530)](O[e(818)],this.getCrashLog(O[e(955)],t));const s=this[e(1527)]();if(this[e(561)]&&this[e(561)][e(742)][e(1124)]&&(this[e(1037)]<this.player._opt[e(1346)]||-1===this[e(561)][e(742)].heartTimeoutReplayTimes)){this.debugLog(e(629),"delay timeout and\n             replay time is "+this[e(1037)]+" and\n             heartTimeoutReplayTimes is "+this[e(561)][e(742)][e(1346)]),this[e(1037)]+=1;const i=this._opt[e(1217)],r=this[e(742)][e(1135)];let n=this._resetPlayerBeforeUpdateOptions(s);this[e(904)](n)[e(1261)]((()=>{const n=e;if(this[n(1533)]())return this.debugLog(n(629),"delayTimeout and network is offline and wait network online to play , so return"),this._isNetworkOfflinePaused=!0,void(this._isNetworkOfflinePausedAndNextPlayConfig={url:i,options:r,type:O[n(955)]});this.play(i,r)[n(1261)]((()=>{const t=n;this[t(447)](this[t(705)],t(1021)),this[t(950)]()}))[n(306)]((e=>{const i=n;this.emit(O.playFailedAndPaused,O.delayTimeout,s,t),this[i(1085)](i(629),i(372),e)}))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],O[r(955)],s,t),this[r(1085)](r(629),r(1105),i)}))}else{const i=!1===this[e(742)][e(1510)];this[e(561)][e(512)](),this._playFailedAndPausedLastFrameInfo=s,this[e(860)](i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],O[i(955)],s,t),this.player&&(this.emit(O[i(323)]),this[i(1530)](O[i(1663)],O.delayTimeoutRetryEnd,s,t)),this[i(1559)]("JbPro",i(1457)+(this[i(561)]&&this[i(561)]._opt.heartTimeout)+" and\n                            opt.heartTimeoutReplay is "+(this[i(561)]&&this[i(561)]._opt[i(1124)])+i(1460)+(this[i(561)]&&this[i(561)][i(742)][i(1346)])+i(894)+this[i(1037)])}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],O[r(955)],s,t),this[r(1085)]("JbPro","delay timeout and pause error",i)}))}}[NL(1253)](t){const e=NL;if(this[e(577)]())return void(this[e(1220)]&&this.debugLog("JbPro",e(1042)));this[e(1530)](O[e(818)],this[e(1582)](O[e(841)],t));const s=this[e(1527)]();if(this[e(561)]&&this.player._opt.loadingTimeoutReplay&&(this[e(749)]<this.player._opt[e(1057)]||-1===this[e(561)][e(742)][e(1057)])){this[e(447)](e(629),e(1426)+this[e(749)]+" and\n                             loadingTimeoutReplayTimes is "+this[e(561)][e(742)][e(1057)]),this._loadingTimeoutReplayTimes+=1;const i=this[e(742)][e(1217)],r=this[e(742)].playOptions;let n=this[e(752)](s);this[e(904)](n)[e(1261)]((()=>{const n=e;if(this._isNeedNetworkDisconnectReplay())return this[n(447)](n(629),"loadingTimeout and network is offline and wait network online to play , so return"),this[n(376)]=!0,void(this[n(1278)]={url:i,options:r,type:O[n(841)]});this[n(978)](i,r)[n(1261)]((()=>{const t=n;this.debugLog(this[t(705)],t(758)),this._replaySuccessAndNext()}))[n(306)]((e=>{const i=n;this[i(1530)](O[i(1663)],O[i(841)],s,t),this[i(1085)](i(629),i(1565),e)}))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],O.loadingTimeout,s,t),this[r(1085)](r(629),"loading timeout _resetPlayer error",i)}))}else{const i=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this._pause(i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],O[i(841)],s,t),this[i(561)]&&(this[i(1530)](O[i(1472)]),this[i(1530)](O[i(1663)],O[i(1472)],s,t),this._opt[i(956)]&&this[i(561)].showPlayBtn()),this[i(447)](i(629),i(1066)+(this[i(561)]&&this[i(561)][i(742)].loadingTimeout)+i(345)+(this[i(561)]&&this[i(561)][i(742)][i(1658)])+i(374)+this._loadingTimeoutReplayTimes+" and\n                            opt.loadingTimeoutReplayTimes is "+(this.player&&this[i(561)][i(742)].loadingTimeoutReplayTimes))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],O[r(841)],s,t),this[r(1085)](r(629),r(855),i)}))}}[NL(963)](t){const e=NL;if(this[e(577)]())return void this[e(447)]("JbPro",e(1045));this[e(1530)](O[e(818)],this[e(1582)](V.initDecoderWorkerTimeout,t)),this[e(447)](e(629),e(495));const s=this[e(1527)](),i=!1===this._opt[e(1510)];this[e(561)][e(512)](),this[e(930)]=s,this._pause(i)[e(1261)]((()=>{const i=e;this[i(1530)](O[i(1663)],V[i(1622)],s,t),this[i(447)](i(629),i(1243))}))[e(306)]((i=>{const r=e;this[r(1530)](O[r(1663)],V[r(1622)],s,t),this[r(1085)](r(629),r(1237),i)}))}_checkInitDecoderWorkerTimeout(){const t=NL;this[t(575)](),this.initDecoderWorkerTimeout=setTimeout((()=>{const e=t;this._handleInitDecoderWorkerTimeout(V[e(1622)])}),1e3*this._opt[t(1622)])}[NL(575)](){const t=NL;this.initDecoderWorkerTimeout&&(clearTimeout(this.initDecoderWorkerTimeout),this[t(1622)]=null)}[NL(447)](t){const e=NL;if(this[e(742)][e(1220)]&&this.debug){for(var s=arguments[e(1684)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this.debug[e(1456)](t,...i)}}[NL(1559)](t){const e=NL;if(this[e(742)][e(1220)]&&this[e(1220)]){for(var s=arguments[e(1684)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1220)][e(1607)](t,...i)}}debugError(t){const e=NL;if(this[e(1220)]){for(var s=arguments[e(1684)],i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];this[e(1220)][e(365)](t,...i)}}[NL(397)](){const t=NL;let e=null;return this.player&&(e=this[t(561)][t(397)]()),e}[NL(843)](t){const e=NL;this[e(447)](e(629),"_updateMultiIndex "+t+e(1427)+this[e(742)].multiIndex),this[e(742)][e(643)]=t,this[e(561)]&&this[e(561)][e(1093)]({multiIndex:t})}openDrawRectangle(t){const e=NL;if(!this[e(577)]())if(this[e(447)](e(629),e(592)),this.player){if(this[e(561)][e(1332)]())return void this[e(1559)](e(629),e(1636));this[e(561)][e(1382)]=!0}else this[e(1559)]("JbPro",e(1078))}[NL(1176)](){}closeDrawRectangle(){const t=NL;if(!this.isDestroyed())if(this[t(447)](t(629),t(1213)),this[t(561)]){if(this[t(561)].isDestroyedOrClosed())return void this[t(1559)](t(629),t(1119));this[t(561)][t(1382)]=!1}else this[t(1559)](t(629),t(1591))}isDrawRectangleOpen(){const t=NL;let e=!1;return this.player&&(e=this[t(561)][t(1382)]),e}toggleDrawRectangle(t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(887)+t),!Ls(t)&&(t=!this[e(1054)]()),bi(t)?this.openDrawRectangle():Si(!1)&&this[e(504)]())}[NL(1489)](t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(1151)+t),this[e(742)][e(819)]=t,this[e(561)]?this[e(561)][e(1489)](t):this[e(1559)]("JbPro",e(1064)))}[NL(689)](){return new Promise(((t,e)=>{const s=VL;if(this[s(577)]())return e("player is destroyed");this[s(447)](s(629),s(845));const i=this._getOriginalOpt();this._resetPlayer(i)[s(1261)]((()=>{const e=s;this.debugLog(e(629),"resetPlayer() success"),t()})).catch((t=>{const i=s;this[i(1559)](i(629),i(725),t[i(925)](),t),e(t)}))}))}[NL(521)](t){const e=NL;this.isDestroyed()||(this[e(447)](e(629),e(1086),t),this[e(561)]?(this[e(561)][e(521)](t),this[e(742)].dynamicWatermarkConfig=t):this[e(1559)]("JbPro",e(1100)))}[NL(1377)](){const t=NL;this[t(577)]()||(this[t(447)](t(629),"removeDynamicWatermark()"),this.player?(this[t(561)][t(1377)](),this[t(742)][t(1529)]={}):this.debugWarn("JbPro",t(1436)))}[NL(941)](t){const e=NL;this[e(577)]()||(this[e(447)]("JbPro",e(743),t),this.player?(this[e(561)][e(941)](t),this[e(742)][e(595)]=t):this[e(1559)](e(629),e(846)))}[NL(452)](){const t=NL;this[t(577)]()||(this.debugLog(t(629),"removeGhostWatermark()"),this[t(561)]?(this[t(561)].removeGhostWatermark(),this[t(742)][t(595)]={}):this[t(1559)]("JbPro","removeGhostWatermark() player is not init"))}_resetPlayerBeforeUpdateOptions(){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[t(1684)]>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[t(1684)]>2&&void 0!==arguments[2]?arguments[2]:{},r=s;if(this[t(561)][t(742)].replayUseLastFrameShow&&this[t(754)]){const s=this.player._opt[t(541)];this[t(447)](this[t(705)],t(875)+s),r=Object[t(1167)]({},r,e,{loadingIcon:this[t(561)][t(742)].replayShowLoadingIcon,initShowLoadingIconInner:this.player._opt[t(541)]})}if(!this[t(754)]&&(this[t(447)](this.TAG_NAME,"_resetPlayerBeforeUpdateOptions() and is not player play started and loadingIcon is false and set loadingIcon is true"),r.loadingIcon=!0,r[t(897)]=!0),Si(this[t(796)]())&&(this[t(447)](this[t(705)],t(1625)),r[t(1568)]=!0),this[t(561)][t(1126)]()){const e=this[t(561)][t(363)].playingTimestamp;if(e){this[t(447)](this[t(705)],t(1143)+e);const s=this[t(561)][t(742)].playbackConfig;s[t(389)]=e,r[t(1035)]=s}}else if(this[t(561)][t(1118)]()){const e=this.player._opt[t(972)];if(i[t(1e3)])e[t(389)]=this.player[t(1371)][t(389)];else{const s=this[t(561)][t(1371)][t(739)]();e[t(389)]=s,(this.player[t(593)]()||this.player.isPlayVodUseWCS()||this[t(561)].isPlayVodMp4UseVideoSrc())&&(e[t(389)]+=this[t(742)][t(566)]),this[t(447)](this[t(705)],t(472)+s+t(966)+e[t(389)])}r.playVodConfig=e}return r}[NL(950)](){const t=NL;this._tempContentToCanvasData&&this[t(917)][t(1684)]&&this[t(561)][t(424)](this[t(917)])}[NL(612)](){const t=NL;let e={};return this[t(561)]&&(e=this[t(561)].getI18n(),delete e[t(1574)],delete e.loading,delete e[t(823)]),e}kbps2Speed(t){return Number((1e3*t/8/1024).toFixed(2))}[NL(779)](t){const e=NL;t=Xe(Number(t),1,100),this[e(447)](this[e(705)],e(1226)+t),this[e(742)][e(700)]=t,this[e(561)]&&this[e(561)][e(1093)]({zoomMaxScale:t})}isInView(){const t=NL;let e=!1;return this.player&&(e=!0===this[t(561)][t(1619)]),e}isFocus(){const t=NL;let e=!1;return this[t(561)]&&(e=!0===this[t(561)][t(1280)]),e}[NL(1145)](t,e,s){const i=NL;this[i(561)]&&(this[i(742)][i(1234)]&&this[i(561)][i(508)](s,t),this._opt[i(1096)]&&this[i(561)][i(719)]())}_handlePlayerBeforeDestroy(){const t=NL;this[t(1530)](O.close),this.destroy()[t(1261)]((()=>{}))[t(306)]((t=>{}))}_handlePlayerStart(){this[NL(754)]=!0}[NL(494)](){this[NL(305)]()}[NL(1396)](){this[NL(305)]()}[NL(305)](){const t=NL;this[t(1120)]&&this.watermark[t(356)]()}[NL(1371)](t){const e=NL;let s=arguments[e(1684)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,r)=>{const n=e;if(this.isDestroyed())return r(n(958));try{this.debugLog(n(629),n(539)+t+n(1362),JSON[n(585)](s))}catch(e){this[n(447)]("JbPro","playVod() "+t+n(1362),s)}if(this[n(742)][n(1599)]===l[n(1371)]&&!this[n(742)][n(1217)]&&Hs(s))this.play(t,s)[n(1261)]((()=>{i()}))[n(306)]((t=>{r(t)}));else{const e=this[n(1291)](s),o={videoBuffer:0,playType:l.playVod,playVodConfig:e,cryptoKey:s[n(1205)]||"",cryptoIV:s[n(1069)]||"",openWebglAlignment:!0,useMSE:e.useMSE,useWCS:e[n(990)],useSIMD:e.useSIMD,supportHls265:!0};e[n(478)]&&(o[n(913)]=!0),Ls(s[n(309)])&&(o[n(309)]=s[n(309)]),this[n(904)](o).then((()=>{const e=n;this[e(978)](t,s)[e(1261)]((()=>{i()}))[e(306)]((t=>{r(t)}))}))[n(306)]((t=>{r(t)}))}}))}[NL(1291)](){const t=NL;let e=arguments[t(1684)]>0&&void 0!==arguments[0]?arguments[0]:{};const s=Ai();return Object[t(1167)]({},s[t(972)],this._opt[t(972)],e)}[NL(590)](){const t=NL;return this[t(1220)][t(1456)](t(629),"playVodPause()"),this[t(577)]()?Promise[t(520)](t(958)):this[t(561)]?Si(this[t(561)][t(1118)]())?Promise[t(520)](t(770)+this[t(561)][t(358)]()+t(463)):new Promise(((e,s)=>{const i=t;this[i(561)][i(556)]().then((()=>{e()}))[i(306)]((t=>{s(t)}))})):Promise.reject(t(1263))}[NL(1419)](){const t=NL;return this[t(1220)][t(1456)]("JbPro",t(359)),this[t(577)]()?Promise[t(520)](t(958)):this[t(561)]?Si(this[t(561)][t(1118)]())?Promise[t(520)](t(770)+this[t(561)][t(358)]()+t(463)):new Promise(((e,s)=>{const i=t;this[i(561)].playVodResumeInner()[i(1261)]((()=>{e()}))[i(306)]((t=>{s(t)}))})):Promise.reject(t(1263))}playVodForward(t){const e=NL;return this.debugLog("JbPro",e(1679)+t),this.isDestroyed()?Promise[e(520)](e(958)):this[e(561)]?Si(this[e(561)][e(1118)]())?Promise[e(520)](e(770)+this[e(561)][e(358)]()+e(463)):ws(Number(t))?new Promise(((s,i)=>{const r=e;this[r(561)][r(1224)](t)[r(1261)]((()=>{s()}))[r(306)]((t=>{i(t)}))})):Promise[e(520)](e(1461)+t+e(586)):Promise[e(520)](e(1263))}playVodNormal(){const t=NL;return this[t(447)](t(629),t(1197)),new Promise(((e,s)=>{const i=t;this[i(1224)](1).then((()=>{e()}))[i(306)]((t=>{s(t)}))}))}[NL(673)](t){const e=NL;return this[e(447)]("JbPro","playVodSeek() "+t),this[e(577)]()?Promise[e(520)]("JbPro is destroyed"):this[e(561)]?Si(this[e(561)][e(1118)]())?Promise[e(520)](e(770)+this[e(561)][e(358)]()+", not support this method"):ws(Number(t))?new Promise(((s,i)=>{const r=e;this[r(561)][r(673)](t)[r(1261)]((()=>{s()}))[r(306)]((t=>{i(t)}))})):Promise[e(520)](e(601)+t+e(586)):Promise[e(520)](e(1263))}playVodForwardJumping(t){const e=NL;return this[e(447)](e(629),"playVodForwardJumping() "+t),this[e(577)]()?Promise[e(520)](e(958)):this.player?Si(this[e(561)][e(1118)]())?Promise[e(520)](e(770)+this[e(561)].getPlayType()+e(463)):ws(Number(t))?new Promise(((s,i)=>{const r=e;this[r(561)].playVodForwardJumping(t)[r(1261)]((()=>{s()}))[r(306)]((t=>{i(t)}))})):Promise[e(520)]('playVodForwardJumping() params "time": '+t+e(586)):Promise[e(520)]("player is null")}[NL(781)](t){const e=NL;return this[e(447)](e(629),e(416)+t),this[e(577)]()?Promise.reject(e(958)):this[e(561)]?Si(this[e(561)][e(1118)]())?Promise[e(520)](e(770)+this.player[e(358)]()+e(463)):ws(Number(t))?new Promise(((s,i)=>{const r=e;this.player[r(781)](t)[r(1261)]((()=>{s()}))[r(306)]((t=>{i(t)}))})):Promise[e(520)](e(446)+t+e(586)):Promise[e(520)](e(1263))}[NL(429)](){const t=NL;let e=0;return this[t(561)]&&this[t(561)].isPlayVod()&&(e=this[t(561)][t(429)]()),e}[NL(1469)](){const t=NL;let e=0;return this[t(561)]&&this[t(561)][t(1118)]()&&(e=this[t(561)][t(1469)]()),e}[NL(314)](){const t=NL;let e=0;return this[t(561)]&&this[t(561)][t(1118)]()&&(e=this[t(561)][t(314)]()),e}[NL(1128)](){return this.getPlayVodBufferedTime()-this.getPlayVodCurrentTime()}[NL(728)](){const t=NL;let e=1;return this[t(561)]&&this[t(561)][t(1118)]()&&(e=this.player[t(728)]()),e}[NL(433)](){const t=NL;let e=!1;return this._opt[t(1599)]===l[t(1371)]&&this[t(561)]&&(e=this[t(561)][t(590)]),e}isPlayVodSeeking(){const t=NL;let e=!1;return this[t(561)]&&(e=this[t(561)][t(831)]()),e}[NL(611)](){const t=NL;let e=!1;return this[t(561)]&&(e=this.player[t(611)]()),e}[NL(825)](){const t=NL;if(this[t(577)]())return void this[t(447)]("JbPro",t(1083));if(this[t(561)][t(742)].playVodEndedAndAutoReplay)return this[t(447)](this.TAG_NAME,"play vod ended and replay player"),void this[t(580)]();this[t(447)](this[t(705)],t(1186));const e=!1===this[t(742)][t(1510)];this._pause(e)[t(1261)]((()=>{const e=t;this[e(447)](e(629),e(1366))}))[t(306)]((e=>{const s=t;this[s(1085)]("JbPro",s(339),e)}))}[NL(580)](t){const e=NL;if(this[e(577)]())return void this[e(447)](e(629),e(815));const s=this[e(742)].url,i=this[e(742)].playOptions;t&&(this[e(742)].playVodConfig[e(389)]=t),this[e(447)](e(629),e(525),t),this._resetPlayer()[e(1261)]((()=>{const t=e;this.play(s,i)[t(1261)]((()=>{const e=t;this[e(742)][e(972)][e(389)]=null,this[e(1220)][e(1456)](this[e(705)],e(1106)),this[e(950)]()}))[t(306)]((e=>{const s=t;this[s(1530)](O[s(1663)],O[s(951)],{},e[s(925)]()),this.debug[s(365)](this[s(705)],s(842),e)}))}))[e(306)]((t=>{const s=e;this[s(1530)](O.playFailedAndPaused,O.playVodEndedAndReplay,{},""),this.debugError(this[s(705)],s(406),t)}))}}return WL[NL(879)]=V,WL.EVENTS=N,window[NL(1001)]=WL,window.JbPro=WL,window[NL(391)]=WL,WL}));
